var MC=Object.defineProperty;var EC=(d,D,Y)=>D in d?MC(d,D,{enumerable:!0,configurable:!0,writable:!0,value:Y}):d[D]=Y;var Lu=(d,D,Y)=>(EC(d,typeof D!="symbol"?D+"":D,Y),Y);function CC(d,D){for(var Y=0;Y<D.length;Y++){const te=D[Y];if(typeof te!="string"&&!Array.isArray(te)){for(const ge in te)if(ge!=="default"&&!(ge in d)){const Se=Object.getOwnPropertyDescriptor(te,ge);Se&&Object.defineProperty(d,ge,Se.get?Se:{enumerable:!0,get:()=>te[ge]})}}}return Object.freeze(Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}))}(function(){const D=document.createElement("link").relList;if(D&&D.supports&&D.supports("modulepreload"))return;for(const ge of document.querySelectorAll('link[rel="modulepreload"]'))te(ge);new MutationObserver(ge=>{for(const Se of ge)if(Se.type==="childList")for(const W of Se.addedNodes)W.tagName==="LINK"&&W.rel==="modulepreload"&&te(W)}).observe(document,{childList:!0,subtree:!0});function Y(ge){const Se={};return ge.integrity&&(Se.integrity=ge.integrity),ge.referrerPolicy&&(Se.referrerPolicy=ge.referrerPolicy),ge.crossOrigin==="use-credentials"?Se.credentials="include":ge.crossOrigin==="anonymous"?Se.credentials="omit":Se.credentials="same-origin",Se}function te(ge){if(ge.ep)return;ge.ep=!0;const Se=Y(ge);fetch(ge.href,Se)}})();function ag(d){return d&&d.__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d}function k4(d){if(d.__esModule)return d;var D=d.default;if(typeof D=="function"){var Y=function te(){return this instanceof te?Reflect.construct(D,arguments,this.constructor):D.apply(this,arguments)};Y.prototype=D.prototype}else Y={};return Object.defineProperty(Y,"__esModule",{value:!0}),Object.keys(d).forEach(function(te){var ge=Object.getOwnPropertyDescriptor(d,te);Object.defineProperty(Y,te,ge.get?ge:{enumerable:!0,get:function(){return d[te]}})}),Y}var _4={exports:{}},w1={},z4={exports:{}},yi={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ig=Symbol.for("react.element"),LC=Symbol.for("react.portal"),PC=Symbol.for("react.fragment"),RC=Symbol.for("react.strict_mode"),DC=Symbol.for("react.profiler"),IC=Symbol.for("react.provider"),kC=Symbol.for("react.context"),_C=Symbol.for("react.forward_ref"),zC=Symbol.for("react.suspense"),OC=Symbol.for("react.memo"),FC=Symbol.for("react.lazy"),o5=Symbol.iterator;function BC(d){return d===null||typeof d!="object"?null:(d=o5&&d[o5]||d["@@iterator"],typeof d=="function"?d:null)}var O4={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F4=Object.assign,B4={};function mp(d,D,Y){this.props=d,this.context=D,this.refs=B4,this.updater=Y||O4}mp.prototype.isReactComponent={};mp.prototype.setState=function(d,D){if(typeof d!="object"&&typeof d!="function"&&d!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,d,D,"setState")};mp.prototype.forceUpdate=function(d){this.updater.enqueueForceUpdate(this,d,"forceUpdate")};function N4(){}N4.prototype=mp.prototype;function o3(d,D,Y){this.props=d,this.context=D,this.refs=B4,this.updater=Y||O4}var s3=o3.prototype=new N4;s3.constructor=o3;F4(s3,mp.prototype);s3.isPureReactComponent=!0;var s5=Array.isArray,U4=Object.prototype.hasOwnProperty,l3={current:null},H4={key:!0,ref:!0,__self:!0,__source:!0};function V4(d,D,Y){var te,ge={},Se=null,W=null;if(D!=null)for(te in D.ref!==void 0&&(W=D.ref),D.key!==void 0&&(Se=""+D.key),D)U4.call(D,te)&&!H4.hasOwnProperty(te)&&(ge[te]=D[te]);var H=arguments.length-2;if(H===1)ge.children=Y;else if(1<H){for(var e=Array(H),g=0;g<H;g++)e[g]=arguments[g+2];ge.children=e}if(d&&d.defaultProps)for(te in H=d.defaultProps,H)ge[te]===void 0&&(ge[te]=H[te]);return{$$typeof:ig,type:d,key:Se,ref:W,props:ge,_owner:l3.current}}function NC(d,D){return{$$typeof:ig,type:d.type,key:D,ref:d.ref,props:d.props,_owner:d._owner}}function u3(d){return typeof d=="object"&&d!==null&&d.$$typeof===ig}function UC(d){var D={"=":"=0",":":"=2"};return"$"+d.replace(/[=:]/g,function(Y){return D[Y]})}var l5=/\/+/g;function ox(d,D){return typeof d=="object"&&d!==null&&d.key!=null?UC(""+d.key):D.toString(36)}function my(d,D,Y,te,ge){var Se=typeof d;(Se==="undefined"||Se==="boolean")&&(d=null);var W=!1;if(d===null)W=!0;else switch(Se){case"string":case"number":W=!0;break;case"object":switch(d.$$typeof){case ig:case LC:W=!0}}if(W)return W=d,ge=ge(W),d=te===""?"."+ox(W,0):te,s5(ge)?(Y="",d!=null&&(Y=d.replace(l5,"$&/")+"/"),my(ge,D,Y,"",function(g){return g})):ge!=null&&(u3(ge)&&(ge=NC(ge,Y+(!ge.key||W&&W.key===ge.key?"":(""+ge.key).replace(l5,"$&/")+"/")+d)),D.push(ge)),1;if(W=0,te=te===""?".":te+":",s5(d))for(var H=0;H<d.length;H++){Se=d[H];var e=te+ox(Se,H);W+=my(Se,D,Y,e,ge)}else if(e=BC(d),typeof e=="function")for(d=e.call(d),H=0;!(Se=d.next()).done;)Se=Se.value,e=te+ox(Se,H++),W+=my(Se,D,Y,e,ge);else if(Se==="object")throw D=String(d),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.");return W}function Gg(d,D,Y){if(d==null)return d;var te=[],ge=0;return my(d,te,"","",function(Se){return D.call(Y,Se,ge++)}),te}function HC(d){if(d._status===-1){var D=d._result;D=D(),D.then(function(Y){(d._status===0||d._status===-1)&&(d._status=1,d._result=Y)},function(Y){(d._status===0||d._status===-1)&&(d._status=2,d._result=Y)}),d._status===-1&&(d._status=0,d._result=D)}if(d._status===1)return d._result.default;throw d._result}var hl={current:null},xy={transition:null},VC={ReactCurrentDispatcher:hl,ReactCurrentBatchConfig:xy,ReactCurrentOwner:l3};yi.Children={map:Gg,forEach:function(d,D,Y){Gg(d,function(){D.apply(this,arguments)},Y)},count:function(d){var D=0;return Gg(d,function(){D++}),D},toArray:function(d){return Gg(d,function(D){return D})||[]},only:function(d){if(!u3(d))throw Error("React.Children.only expected to receive a single React element child.");return d}};yi.Component=mp;yi.Fragment=PC;yi.Profiler=DC;yi.PureComponent=o3;yi.StrictMode=RC;yi.Suspense=zC;yi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VC;yi.cloneElement=function(d,D,Y){if(d==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+d+".");var te=F4({},d.props),ge=d.key,Se=d.ref,W=d._owner;if(D!=null){if(D.ref!==void 0&&(Se=D.ref,W=l3.current),D.key!==void 0&&(ge=""+D.key),d.type&&d.type.defaultProps)var H=d.type.defaultProps;for(e in D)U4.call(D,e)&&!H4.hasOwnProperty(e)&&(te[e]=D[e]===void 0&&H!==void 0?H[e]:D[e])}var e=arguments.length-2;if(e===1)te.children=Y;else if(1<e){H=Array(e);for(var g=0;g<e;g++)H[g]=arguments[g+2];te.children=H}return{$$typeof:ig,type:d.type,key:ge,ref:Se,props:te,_owner:W}};yi.createContext=function(d){return d={$$typeof:kC,_currentValue:d,_currentValue2:d,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},d.Provider={$$typeof:IC,_context:d},d.Consumer=d};yi.createElement=V4;yi.createFactory=function(d){var D=V4.bind(null,d);return D.type=d,D};yi.createRef=function(){return{current:null}};yi.forwardRef=function(d){return{$$typeof:_C,render:d}};yi.isValidElement=u3;yi.lazy=function(d){return{$$typeof:FC,_payload:{_status:-1,_result:d},_init:HC}};yi.memo=function(d,D){return{$$typeof:OC,type:d,compare:D===void 0?null:D}};yi.startTransition=function(d){var D=xy.transition;xy.transition={};try{d()}finally{xy.transition=D}};yi.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};yi.useCallback=function(d,D){return hl.current.useCallback(d,D)};yi.useContext=function(d){return hl.current.useContext(d)};yi.useDebugValue=function(){};yi.useDeferredValue=function(d){return hl.current.useDeferredValue(d)};yi.useEffect=function(d,D){return hl.current.useEffect(d,D)};yi.useId=function(){return hl.current.useId()};yi.useImperativeHandle=function(d,D,Y){return hl.current.useImperativeHandle(d,D,Y)};yi.useInsertionEffect=function(d,D){return hl.current.useInsertionEffect(d,D)};yi.useLayoutEffect=function(d,D){return hl.current.useLayoutEffect(d,D)};yi.useMemo=function(d,D){return hl.current.useMemo(d,D)};yi.useReducer=function(d,D,Y){return hl.current.useReducer(d,D,Y)};yi.useRef=function(d){return hl.current.useRef(d)};yi.useState=function(d){return hl.current.useState(d)};yi.useSyncExternalStore=function(d,D,Y){return hl.current.useSyncExternalStore(d,D,Y)};yi.useTransition=function(){return hl.current.useTransition()};yi.version="18.2.0";z4.exports=yi;var Fr=z4.exports;const qf=ag(Fr),jx=CC({__proto__:null,default:qf},[Fr]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WC=Fr,GC=Symbol.for("react.element"),YC=Symbol.for("react.fragment"),jC=Object.prototype.hasOwnProperty,ZC=WC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,XC={key:!0,ref:!0,__self:!0,__source:!0};function W4(d,D,Y){var te,ge={},Se=null,W=null;Y!==void 0&&(Se=""+Y),D.key!==void 0&&(Se=""+D.key),D.ref!==void 0&&(W=D.ref);for(te in D)jC.call(D,te)&&!XC.hasOwnProperty(te)&&(ge[te]=D[te]);if(d&&d.defaultProps)for(te in D=d.defaultProps,D)ge[te]===void 0&&(ge[te]=D[te]);return{$$typeof:GC,type:d,key:Se,ref:W,props:ge,_owner:ZC.current}}w1.Fragment=YC;w1.jsx=W4;w1.jsxs=W4;_4.exports=w1;var Pn=_4.exports,Zx={},G4={exports:{}},su={},Y4={exports:{}},j4={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(d){function D(w,i){var L=w.length;w.push(i);e:for(;0<L;){var b=L-1>>>1,O=w[b];if(0<ge(O,i))w[b]=i,w[L]=O,L=b;else break e}}function Y(w){return w.length===0?null:w[0]}function te(w){if(w.length===0)return null;var i=w[0],L=w.pop();if(L!==i){w[0]=L;e:for(var b=0,O=w.length,_=O>>>1;b<_;){var N=2*(b+1)-1,z=w[N],B=N+1,U=w[B];if(0>ge(z,L))B<O&&0>ge(U,z)?(w[b]=U,w[B]=L,b=B):(w[b]=z,w[N]=L,b=N);else if(B<O&&0>ge(U,L))w[b]=U,w[B]=L,b=B;else break e}}return i}function ge(w,i){var L=w.sortIndex-i.sortIndex;return L!==0?L:w.id-i.id}if(typeof performance=="object"&&typeof performance.now=="function"){var Se=performance;d.unstable_now=function(){return Se.now()}}else{var W=Date,H=W.now();d.unstable_now=function(){return W.now()-H}}var e=[],g=[],R=1,a=null,C=3,T=!1,v=!1,y=!1,t=typeof setTimeout=="function"?setTimeout:null,r=typeof clearTimeout=="function"?clearTimeout:null,s=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function n(w){for(var i=Y(g);i!==null;){if(i.callback===null)te(g);else if(i.startTime<=w)te(g),i.sortIndex=i.expirationTime,D(e,i);else break;i=Y(g)}}function o(w){if(y=!1,n(w),!v)if(Y(e)!==null)v=!0,x(f);else{var i=Y(g);i!==null&&E(o,i.startTime-w)}}function f(w,i){v=!1,y&&(y=!1,r(c),c=-1),T=!0;var L=C;try{for(n(i),a=Y(e);a!==null&&(!(a.expirationTime>i)||w&&!l());){var b=a.callback;if(typeof b=="function"){a.callback=null,C=a.priorityLevel;var O=b(a.expirationTime<=i);i=d.unstable_now(),typeof O=="function"?a.callback=O:a===Y(e)&&te(e),n(i)}else te(e);a=Y(e)}if(a!==null)var _=!0;else{var N=Y(g);N!==null&&E(o,N.startTime-i),_=!1}return _}finally{a=null,C=L,T=!1}}var u=!1,m=null,c=-1,A=5,h=-1;function l(){return!(d.unstable_now()-h<A)}function p(){if(m!==null){var w=d.unstable_now();h=w;var i=!0;try{i=m(!0,w)}finally{i?M():(u=!1,m=null)}}else u=!1}var M;if(typeof s=="function")M=function(){s(p)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,P=S.port2;S.port1.onmessage=p,M=function(){P.postMessage(null)}}else M=function(){t(p,0)};function x(w){m=w,u||(u=!0,M())}function E(w,i){c=t(function(){w(d.unstable_now())},i)}d.unstable_IdlePriority=5,d.unstable_ImmediatePriority=1,d.unstable_LowPriority=4,d.unstable_NormalPriority=3,d.unstable_Profiling=null,d.unstable_UserBlockingPriority=2,d.unstable_cancelCallback=function(w){w.callback=null},d.unstable_continueExecution=function(){v||T||(v=!0,x(f))},d.unstable_forceFrameRate=function(w){0>w||125<w?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<w?Math.floor(1e3/w):5},d.unstable_getCurrentPriorityLevel=function(){return C},d.unstable_getFirstCallbackNode=function(){return Y(e)},d.unstable_next=function(w){switch(C){case 1:case 2:case 3:var i=3;break;default:i=C}var L=C;C=i;try{return w()}finally{C=L}},d.unstable_pauseExecution=function(){},d.unstable_requestPaint=function(){},d.unstable_runWithPriority=function(w,i){switch(w){case 1:case 2:case 3:case 4:case 5:break;default:w=3}var L=C;C=w;try{return i()}finally{C=L}},d.unstable_scheduleCallback=function(w,i,L){var b=d.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?b+L:b):L=b,w){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=L+O,w={id:R++,callback:i,priorityLevel:w,startTime:L,expirationTime:O,sortIndex:-1},L>b?(w.sortIndex=L,D(g,w),Y(e)===null&&w===Y(g)&&(y?(r(c),c=-1):y=!0,E(o,L-b))):(w.sortIndex=O,D(e,w),v||T||(v=!0,x(f))),w},d.unstable_shouldYield=l,d.unstable_wrapCallback=function(w){var i=C;return function(){var L=C;C=i;try{return w.apply(this,arguments)}finally{C=L}}}})(j4);Y4.exports=j4;var KC=Y4.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z4=Fr,iu=KC;function pa(d){for(var D="https://reactjs.org/docs/error-decoder.html?invariant="+d,Y=1;Y<arguments.length;Y++)D+="&args[]="+encodeURIComponent(arguments[Y]);return"Minified React error #"+d+"; visit "+D+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var X4=new Set,_0={};function Jv(d,D){ap(d,D),ap(d+"Capture",D)}function ap(d,D){for(_0[d]=D,d=0;d<D.length;d++)X4.add(D[d])}var Wc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xx=Object.prototype.hasOwnProperty,$C=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,u5={},f5={};function JC(d){return Xx.call(f5,d)?!0:Xx.call(u5,d)?!1:$C.test(d)?f5[d]=!0:(u5[d]=!0,!1)}function QC(d,D,Y,te){if(Y!==null&&Y.type===0)return!1;switch(typeof D){case"function":case"symbol":return!0;case"boolean":return te?!1:Y!==null?!Y.acceptsBooleans:(d=d.toLowerCase().slice(0,5),d!=="data-"&&d!=="aria-");default:return!1}}function qC(d,D,Y,te){if(D===null||typeof D>"u"||QC(d,D,Y,te))return!0;if(te)return!1;if(Y!==null)switch(Y.type){case 3:return!D;case 4:return D===!1;case 5:return isNaN(D);case 6:return isNaN(D)||1>D}return!1}function vl(d,D,Y,te,ge,Se,W){this.acceptsBooleans=D===2||D===3||D===4,this.attributeName=te,this.attributeNamespace=ge,this.mustUseProperty=Y,this.propertyName=d,this.type=D,this.sanitizeURL=Se,this.removeEmptyString=W}var Ps={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(d){Ps[d]=new vl(d,0,!1,d,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(d){var D=d[0];Ps[D]=new vl(D,1,!1,d[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(d){Ps[d]=new vl(d,2,!1,d.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(d){Ps[d]=new vl(d,2,!1,d,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(d){Ps[d]=new vl(d,3,!1,d.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(d){Ps[d]=new vl(d,3,!0,d,null,!1,!1)});["capture","download"].forEach(function(d){Ps[d]=new vl(d,4,!1,d,null,!1,!1)});["cols","rows","size","span"].forEach(function(d){Ps[d]=new vl(d,6,!1,d,null,!1,!1)});["rowSpan","start"].forEach(function(d){Ps[d]=new vl(d,5,!1,d.toLowerCase(),null,!1,!1)});var f3=/[\-:]([a-z])/g;function c3(d){return d[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(d){var D=d.replace(f3,c3);Ps[D]=new vl(D,1,!1,d,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(d){var D=d.replace(f3,c3);Ps[D]=new vl(D,1,!1,d,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(d){var D=d.replace(f3,c3);Ps[D]=new vl(D,1,!1,d,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(d){Ps[d]=new vl(d,1,!1,d.toLowerCase(),null,!1,!1)});Ps.xlinkHref=new vl("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(d){Ps[d]=new vl(d,1,!1,d.toLowerCase(),null,!0,!0)});function h3(d,D,Y,te){var ge=Ps.hasOwnProperty(D)?Ps[D]:null;(ge!==null?ge.type!==0:te||!(2<D.length)||D[0]!=="o"&&D[0]!=="O"||D[1]!=="n"&&D[1]!=="N")&&(qC(D,Y,ge,te)&&(Y=null),te||ge===null?JC(D)&&(Y===null?d.removeAttribute(D):d.setAttribute(D,""+Y)):ge.mustUseProperty?d[ge.propertyName]=Y===null?ge.type===3?!1:"":Y:(D=ge.attributeName,te=ge.attributeNamespace,Y===null?d.removeAttribute(D):(ge=ge.type,Y=ge===3||ge===4&&Y===!0?"":""+Y,te?d.setAttributeNS(te,D,Y):d.setAttribute(D,Y))))}var Xc=Z4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yg=Symbol.for("react.element"),Od=Symbol.for("react.portal"),Fd=Symbol.for("react.fragment"),v3=Symbol.for("react.strict_mode"),Kx=Symbol.for("react.profiler"),K4=Symbol.for("react.provider"),$4=Symbol.for("react.context"),d3=Symbol.for("react.forward_ref"),$x=Symbol.for("react.suspense"),Jx=Symbol.for("react.suspense_list"),p3=Symbol.for("react.memo"),Dh=Symbol.for("react.lazy"),J4=Symbol.for("react.offscreen"),c5=Symbol.iterator;function Kp(d){return d===null||typeof d!="object"?null:(d=c5&&d[c5]||d["@@iterator"],typeof d=="function"?d:null)}var To=Object.assign,sx;function v0(d){if(sx===void 0)try{throw Error()}catch(Y){var D=Y.stack.trim().match(/\n( *(at )?)/);sx=D&&D[1]||""}return`
`+sx+d}var lx=!1;function ux(d,D){if(!d||lx)return"";lx=!0;var Y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(D)if(D=function(){throw Error()},Object.defineProperty(D.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(D,[])}catch(g){var te=g}Reflect.construct(d,[],D)}else{try{D.call()}catch(g){te=g}d.call(D.prototype)}else{try{throw Error()}catch(g){te=g}d()}}catch(g){if(g&&te&&typeof g.stack=="string"){for(var ge=g.stack.split(`
`),Se=te.stack.split(`
`),W=ge.length-1,H=Se.length-1;1<=W&&0<=H&&ge[W]!==Se[H];)H--;for(;1<=W&&0<=H;W--,H--)if(ge[W]!==Se[H]){if(W!==1||H!==1)do if(W--,H--,0>H||ge[W]!==Se[H]){var e=`
`+ge[W].replace(" at new "," at ");return d.displayName&&e.includes("<anonymous>")&&(e=e.replace("<anonymous>",d.displayName)),e}while(1<=W&&0<=H);break}}}finally{lx=!1,Error.prepareStackTrace=Y}return(d=d?d.displayName||d.name:"")?v0(d):""}function e7(d){switch(d.tag){case 5:return v0(d.type);case 16:return v0("Lazy");case 13:return v0("Suspense");case 19:return v0("SuspenseList");case 0:case 2:case 15:return d=ux(d.type,!1),d;case 11:return d=ux(d.type.render,!1),d;case 1:return d=ux(d.type,!0),d;default:return""}}function Qx(d){if(d==null)return null;if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case Fd:return"Fragment";case Od:return"Portal";case Kx:return"Profiler";case v3:return"StrictMode";case $x:return"Suspense";case Jx:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case $4:return(d.displayName||"Context")+".Consumer";case K4:return(d._context.displayName||"Context")+".Provider";case d3:var D=d.render;return d=d.displayName,d||(d=D.displayName||D.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case p3:return D=d.displayName||null,D!==null?D:Qx(d.type)||"Memo";case Dh:D=d._payload,d=d._init;try{return Qx(d(D))}catch{}}return null}function t7(d){var D=d.type;switch(d.tag){case 24:return"Cache";case 9:return(D.displayName||"Context")+".Consumer";case 10:return(D._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return d=D.render,d=d.displayName||d.name||"",D.displayName||(d!==""?"ForwardRef("+d+")":"ForwardRef");case 7:return"Fragment";case 5:return D;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qx(D);case 8:return D===v3?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof D=="function")return D.displayName||D.name||null;if(typeof D=="string")return D}return null}function Zh(d){switch(typeof d){case"boolean":case"number":case"string":case"undefined":return d;case"object":return d;default:return""}}function Q4(d){var D=d.type;return(d=d.nodeName)&&d.toLowerCase()==="input"&&(D==="checkbox"||D==="radio")}function r7(d){var D=Q4(d)?"checked":"value",Y=Object.getOwnPropertyDescriptor(d.constructor.prototype,D),te=""+d[D];if(!d.hasOwnProperty(D)&&typeof Y<"u"&&typeof Y.get=="function"&&typeof Y.set=="function"){var ge=Y.get,Se=Y.set;return Object.defineProperty(d,D,{configurable:!0,get:function(){return ge.call(this)},set:function(W){te=""+W,Se.call(this,W)}}),Object.defineProperty(d,D,{enumerable:Y.enumerable}),{getValue:function(){return te},setValue:function(W){te=""+W},stopTracking:function(){d._valueTracker=null,delete d[D]}}}}function jg(d){d._valueTracker||(d._valueTracker=r7(d))}function q4(d){if(!d)return!1;var D=d._valueTracker;if(!D)return!0;var Y=D.getValue(),te="";return d&&(te=Q4(d)?d.checked?"true":"false":d.value),d=te,d!==Y?(D.setValue(d),!0):!1}function Fy(d){if(d=d||(typeof document<"u"?document:void 0),typeof d>"u")return null;try{return d.activeElement||d.body}catch{return d.body}}function qx(d,D){var Y=D.checked;return To({},D,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:Y??d._wrapperState.initialChecked})}function h5(d,D){var Y=D.defaultValue==null?"":D.defaultValue,te=D.checked!=null?D.checked:D.defaultChecked;Y=Zh(D.value!=null?D.value:Y),d._wrapperState={initialChecked:te,initialValue:Y,controlled:D.type==="checkbox"||D.type==="radio"?D.checked!=null:D.value!=null}}function eA(d,D){D=D.checked,D!=null&&h3(d,"checked",D,!1)}function eb(d,D){eA(d,D);var Y=Zh(D.value),te=D.type;if(Y!=null)te==="number"?(Y===0&&d.value===""||d.value!=Y)&&(d.value=""+Y):d.value!==""+Y&&(d.value=""+Y);else if(te==="submit"||te==="reset"){d.removeAttribute("value");return}D.hasOwnProperty("value")?tb(d,D.type,Y):D.hasOwnProperty("defaultValue")&&tb(d,D.type,Zh(D.defaultValue)),D.checked==null&&D.defaultChecked!=null&&(d.defaultChecked=!!D.defaultChecked)}function v5(d,D,Y){if(D.hasOwnProperty("value")||D.hasOwnProperty("defaultValue")){var te=D.type;if(!(te!=="submit"&&te!=="reset"||D.value!==void 0&&D.value!==null))return;D=""+d._wrapperState.initialValue,Y||D===d.value||(d.value=D),d.defaultValue=D}Y=d.name,Y!==""&&(d.name=""),d.defaultChecked=!!d._wrapperState.initialChecked,Y!==""&&(d.name=Y)}function tb(d,D,Y){(D!=="number"||Fy(d.ownerDocument)!==d)&&(Y==null?d.defaultValue=""+d._wrapperState.initialValue:d.defaultValue!==""+Y&&(d.defaultValue=""+Y))}var d0=Array.isArray;function Kd(d,D,Y,te){if(d=d.options,D){D={};for(var ge=0;ge<Y.length;ge++)D["$"+Y[ge]]=!0;for(Y=0;Y<d.length;Y++)ge=D.hasOwnProperty("$"+d[Y].value),d[Y].selected!==ge&&(d[Y].selected=ge),ge&&te&&(d[Y].defaultSelected=!0)}else{for(Y=""+Zh(Y),D=null,ge=0;ge<d.length;ge++){if(d[ge].value===Y){d[ge].selected=!0,te&&(d[ge].defaultSelected=!0);return}D!==null||d[ge].disabled||(D=d[ge])}D!==null&&(D.selected=!0)}}function rb(d,D){if(D.dangerouslySetInnerHTML!=null)throw Error(pa(91));return To({},D,{value:void 0,defaultValue:void 0,children:""+d._wrapperState.initialValue})}function d5(d,D){var Y=D.value;if(Y==null){if(Y=D.children,D=D.defaultValue,Y!=null){if(D!=null)throw Error(pa(92));if(d0(Y)){if(1<Y.length)throw Error(pa(93));Y=Y[0]}D=Y}D==null&&(D=""),Y=D}d._wrapperState={initialValue:Zh(Y)}}function tA(d,D){var Y=Zh(D.value),te=Zh(D.defaultValue);Y!=null&&(Y=""+Y,Y!==d.value&&(d.value=Y),D.defaultValue==null&&d.defaultValue!==Y&&(d.defaultValue=Y)),te!=null&&(d.defaultValue=""+te)}function p5(d){var D=d.textContent;D===d._wrapperState.initialValue&&D!==""&&D!==null&&(d.value=D)}function rA(d){switch(d){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function nb(d,D){return d==null||d==="http://www.w3.org/1999/xhtml"?rA(D):d==="http://www.w3.org/2000/svg"&&D==="foreignObject"?"http://www.w3.org/1999/xhtml":d}var Zg,nA=function(d){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(D,Y,te,ge){MSApp.execUnsafeLocalFunction(function(){return d(D,Y,te,ge)})}:d}(function(d,D){if(d.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in d)d.innerHTML=D;else{for(Zg=Zg||document.createElement("div"),Zg.innerHTML="<svg>"+D.valueOf().toString()+"</svg>",D=Zg.firstChild;d.firstChild;)d.removeChild(d.firstChild);for(;D.firstChild;)d.appendChild(D.firstChild)}});function z0(d,D){if(D){var Y=d.firstChild;if(Y&&Y===d.lastChild&&Y.nodeType===3){Y.nodeValue=D;return}}d.textContent=D}var x0={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},n7=["Webkit","ms","Moz","O"];Object.keys(x0).forEach(function(d){n7.forEach(function(D){D=D+d.charAt(0).toUpperCase()+d.substring(1),x0[D]=x0[d]})});function aA(d,D,Y){return D==null||typeof D=="boolean"||D===""?"":Y||typeof D!="number"||D===0||x0.hasOwnProperty(d)&&x0[d]?(""+D).trim():D+"px"}function iA(d,D){d=d.style;for(var Y in D)if(D.hasOwnProperty(Y)){var te=Y.indexOf("--")===0,ge=aA(Y,D[Y],te);Y==="float"&&(Y="cssFloat"),te?d.setProperty(Y,ge):d[Y]=ge}}var a7=To({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ab(d,D){if(D){if(a7[d]&&(D.children!=null||D.dangerouslySetInnerHTML!=null))throw Error(pa(137,d));if(D.dangerouslySetInnerHTML!=null){if(D.children!=null)throw Error(pa(60));if(typeof D.dangerouslySetInnerHTML!="object"||!("__html"in D.dangerouslySetInnerHTML))throw Error(pa(61))}if(D.style!=null&&typeof D.style!="object")throw Error(pa(62))}}function ib(d,D){if(d.indexOf("-")===-1)return typeof D.is=="string";switch(d){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ob=null;function g3(d){return d=d.target||d.srcElement||window,d.correspondingUseElement&&(d=d.correspondingUseElement),d.nodeType===3?d.parentNode:d}var sb=null,$d=null,Jd=null;function g5(d){if(d=lg(d)){if(typeof sb!="function")throw Error(pa(280));var D=d.stateNode;D&&(D=E1(D),sb(d.stateNode,d.type,D))}}function oA(d){$d?Jd?Jd.push(d):Jd=[d]:$d=d}function sA(){if($d){var d=$d,D=Jd;if(Jd=$d=null,g5(d),D)for(d=0;d<D.length;d++)g5(D[d])}}function lA(d,D){return d(D)}function uA(){}var fx=!1;function fA(d,D,Y){if(fx)return d(D,Y);fx=!0;try{return lA(d,D,Y)}finally{fx=!1,($d!==null||Jd!==null)&&(uA(),sA())}}function O0(d,D){var Y=d.stateNode;if(Y===null)return null;var te=E1(Y);if(te===null)return null;Y=te[D];e:switch(D){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(te=!te.disabled)||(d=d.type,te=!(d==="button"||d==="input"||d==="select"||d==="textarea")),d=!te;break e;default:d=!1}if(d)return null;if(Y&&typeof Y!="function")throw Error(pa(231,D,typeof Y));return Y}var lb=!1;if(Wc)try{var $p={};Object.defineProperty($p,"passive",{get:function(){lb=!0}}),window.addEventListener("test",$p,$p),window.removeEventListener("test",$p,$p)}catch{lb=!1}function i7(d,D,Y,te,ge,Se,W,H,e){var g=Array.prototype.slice.call(arguments,3);try{D.apply(Y,g)}catch(R){this.onError(R)}}var b0=!1,By=null,Ny=!1,ub=null,o7={onError:function(d){b0=!0,By=d}};function s7(d,D,Y,te,ge,Se,W,H,e){b0=!1,By=null,i7.apply(o7,arguments)}function l7(d,D,Y,te,ge,Se,W,H,e){if(s7.apply(this,arguments),b0){if(b0){var g=By;b0=!1,By=null}else throw Error(pa(198));Ny||(Ny=!0,ub=g)}}function Qv(d){var D=d,Y=d;if(d.alternate)for(;D.return;)D=D.return;else{d=D;do D=d,D.flags&4098&&(Y=D.return),d=D.return;while(d)}return D.tag===3?Y:null}function cA(d){if(d.tag===13){var D=d.memoizedState;if(D===null&&(d=d.alternate,d!==null&&(D=d.memoizedState)),D!==null)return D.dehydrated}return null}function y5(d){if(Qv(d)!==d)throw Error(pa(188))}function u7(d){var D=d.alternate;if(!D){if(D=Qv(d),D===null)throw Error(pa(188));return D!==d?null:d}for(var Y=d,te=D;;){var ge=Y.return;if(ge===null)break;var Se=ge.alternate;if(Se===null){if(te=ge.return,te!==null){Y=te;continue}break}if(ge.child===Se.child){for(Se=ge.child;Se;){if(Se===Y)return y5(ge),d;if(Se===te)return y5(ge),D;Se=Se.sibling}throw Error(pa(188))}if(Y.return!==te.return)Y=ge,te=Se;else{for(var W=!1,H=ge.child;H;){if(H===Y){W=!0,Y=ge,te=Se;break}if(H===te){W=!0,te=ge,Y=Se;break}H=H.sibling}if(!W){for(H=Se.child;H;){if(H===Y){W=!0,Y=Se,te=ge;break}if(H===te){W=!0,te=Se,Y=ge;break}H=H.sibling}if(!W)throw Error(pa(189))}}if(Y.alternate!==te)throw Error(pa(190))}if(Y.tag!==3)throw Error(pa(188));return Y.stateNode.current===Y?d:D}function hA(d){return d=u7(d),d!==null?vA(d):null}function vA(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){var D=vA(d);if(D!==null)return D;d=d.sibling}return null}var dA=iu.unstable_scheduleCallback,m5=iu.unstable_cancelCallback,f7=iu.unstable_shouldYield,c7=iu.unstable_requestPaint,Fo=iu.unstable_now,h7=iu.unstable_getCurrentPriorityLevel,y3=iu.unstable_ImmediatePriority,pA=iu.unstable_UserBlockingPriority,Uy=iu.unstable_NormalPriority,v7=iu.unstable_LowPriority,gA=iu.unstable_IdlePriority,T1=null,ec=null;function d7(d){if(ec&&typeof ec.onCommitFiberRoot=="function")try{ec.onCommitFiberRoot(T1,d,void 0,(d.current.flags&128)===128)}catch{}}var bf=Math.clz32?Math.clz32:y7,p7=Math.log,g7=Math.LN2;function y7(d){return d>>>=0,d===0?32:31-(p7(d)/g7|0)|0}var Xg=64,Kg=4194304;function p0(d){switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return d&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return d}}function Hy(d,D){var Y=d.pendingLanes;if(Y===0)return 0;var te=0,ge=d.suspendedLanes,Se=d.pingedLanes,W=Y&268435455;if(W!==0){var H=W&~ge;H!==0?te=p0(H):(Se&=W,Se!==0&&(te=p0(Se)))}else W=Y&~ge,W!==0?te=p0(W):Se!==0&&(te=p0(Se));if(te===0)return 0;if(D!==0&&D!==te&&!(D&ge)&&(ge=te&-te,Se=D&-D,ge>=Se||ge===16&&(Se&4194240)!==0))return D;if(te&4&&(te|=Y&16),D=d.entangledLanes,D!==0)for(d=d.entanglements,D&=te;0<D;)Y=31-bf(D),ge=1<<Y,te|=d[Y],D&=~ge;return te}function m7(d,D){switch(d){case 1:case 2:case 4:return D+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return D+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function x7(d,D){for(var Y=d.suspendedLanes,te=d.pingedLanes,ge=d.expirationTimes,Se=d.pendingLanes;0<Se;){var W=31-bf(Se),H=1<<W,e=ge[W];e===-1?(!(H&Y)||H&te)&&(ge[W]=m7(H,D)):e<=D&&(d.expiredLanes|=H),Se&=~H}}function fb(d){return d=d.pendingLanes&-1073741825,d!==0?d:d&1073741824?1073741824:0}function yA(){var d=Xg;return Xg<<=1,!(Xg&4194240)&&(Xg=64),d}function cx(d){for(var D=[],Y=0;31>Y;Y++)D.push(d);return D}function og(d,D,Y){d.pendingLanes|=D,D!==536870912&&(d.suspendedLanes=0,d.pingedLanes=0),d=d.eventTimes,D=31-bf(D),d[D]=Y}function b7(d,D){var Y=d.pendingLanes&~D;d.pendingLanes=D,d.suspendedLanes=0,d.pingedLanes=0,d.expiredLanes&=D,d.mutableReadLanes&=D,d.entangledLanes&=D,D=d.entanglements;var te=d.eventTimes;for(d=d.expirationTimes;0<Y;){var ge=31-bf(Y),Se=1<<ge;D[ge]=0,te[ge]=-1,d[ge]=-1,Y&=~Se}}function m3(d,D){var Y=d.entangledLanes|=D;for(d=d.entanglements;Y;){var te=31-bf(Y),ge=1<<te;ge&D|d[te]&D&&(d[te]|=D),Y&=~ge}}var Ni=0;function mA(d){return d&=-d,1<d?4<d?d&268435455?16:536870912:4:1}var xA,x3,bA,wA,TA,cb=!1,$g=[],Nh=null,Uh=null,Hh=null,F0=new Map,B0=new Map,kh=[],w7="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function x5(d,D){switch(d){case"focusin":case"focusout":Nh=null;break;case"dragenter":case"dragleave":Uh=null;break;case"mouseover":case"mouseout":Hh=null;break;case"pointerover":case"pointerout":F0.delete(D.pointerId);break;case"gotpointercapture":case"lostpointercapture":B0.delete(D.pointerId)}}function Jp(d,D,Y,te,ge,Se){return d===null||d.nativeEvent!==Se?(d={blockedOn:D,domEventName:Y,eventSystemFlags:te,nativeEvent:Se,targetContainers:[ge]},D!==null&&(D=lg(D),D!==null&&x3(D)),d):(d.eventSystemFlags|=te,D=d.targetContainers,ge!==null&&D.indexOf(ge)===-1&&D.push(ge),d)}function T7(d,D,Y,te,ge){switch(D){case"focusin":return Nh=Jp(Nh,d,D,Y,te,ge),!0;case"dragenter":return Uh=Jp(Uh,d,D,Y,te,ge),!0;case"mouseover":return Hh=Jp(Hh,d,D,Y,te,ge),!0;case"pointerover":var Se=ge.pointerId;return F0.set(Se,Jp(F0.get(Se)||null,d,D,Y,te,ge)),!0;case"gotpointercapture":return Se=ge.pointerId,B0.set(Se,Jp(B0.get(Se)||null,d,D,Y,te,ge)),!0}return!1}function AA(d){var D=Ov(d.target);if(D!==null){var Y=Qv(D);if(Y!==null){if(D=Y.tag,D===13){if(D=cA(Y),D!==null){d.blockedOn=D,TA(d.priority,function(){bA(Y)});return}}else if(D===3&&Y.stateNode.current.memoizedState.isDehydrated){d.blockedOn=Y.tag===3?Y.stateNode.containerInfo:null;return}}}d.blockedOn=null}function by(d){if(d.blockedOn!==null)return!1;for(var D=d.targetContainers;0<D.length;){var Y=hb(d.domEventName,d.eventSystemFlags,D[0],d.nativeEvent);if(Y===null){Y=d.nativeEvent;var te=new Y.constructor(Y.type,Y);ob=te,Y.target.dispatchEvent(te),ob=null}else return D=lg(Y),D!==null&&x3(D),d.blockedOn=Y,!1;D.shift()}return!0}function b5(d,D,Y){by(d)&&Y.delete(D)}function A7(){cb=!1,Nh!==null&&by(Nh)&&(Nh=null),Uh!==null&&by(Uh)&&(Uh=null),Hh!==null&&by(Hh)&&(Hh=null),F0.forEach(b5),B0.forEach(b5)}function Qp(d,D){d.blockedOn===D&&(d.blockedOn=null,cb||(cb=!0,iu.unstable_scheduleCallback(iu.unstable_NormalPriority,A7)))}function N0(d){function D(ge){return Qp(ge,d)}if(0<$g.length){Qp($g[0],d);for(var Y=1;Y<$g.length;Y++){var te=$g[Y];te.blockedOn===d&&(te.blockedOn=null)}}for(Nh!==null&&Qp(Nh,d),Uh!==null&&Qp(Uh,d),Hh!==null&&Qp(Hh,d),F0.forEach(D),B0.forEach(D),Y=0;Y<kh.length;Y++)te=kh[Y],te.blockedOn===d&&(te.blockedOn=null);for(;0<kh.length&&(Y=kh[0],Y.blockedOn===null);)AA(Y),Y.blockedOn===null&&kh.shift()}var Qd=Xc.ReactCurrentBatchConfig,Vy=!0;function S7(d,D,Y,te){var ge=Ni,Se=Qd.transition;Qd.transition=null;try{Ni=1,b3(d,D,Y,te)}finally{Ni=ge,Qd.transition=Se}}function M7(d,D,Y,te){var ge=Ni,Se=Qd.transition;Qd.transition=null;try{Ni=4,b3(d,D,Y,te)}finally{Ni=ge,Qd.transition=Se}}function b3(d,D,Y,te){if(Vy){var ge=hb(d,D,Y,te);if(ge===null)wx(d,D,te,Wy,Y),x5(d,te);else if(T7(ge,d,D,Y,te))te.stopPropagation();else if(x5(d,te),D&4&&-1<w7.indexOf(d)){for(;ge!==null;){var Se=lg(ge);if(Se!==null&&xA(Se),Se=hb(d,D,Y,te),Se===null&&wx(d,D,te,Wy,Y),Se===ge)break;ge=Se}ge!==null&&te.stopPropagation()}else wx(d,D,te,null,Y)}}var Wy=null;function hb(d,D,Y,te){if(Wy=null,d=g3(te),d=Ov(d),d!==null)if(D=Qv(d),D===null)d=null;else if(Y=D.tag,Y===13){if(d=cA(D),d!==null)return d;d=null}else if(Y===3){if(D.stateNode.current.memoizedState.isDehydrated)return D.tag===3?D.stateNode.containerInfo:null;d=null}else D!==d&&(d=null);return Wy=d,null}function SA(d){switch(d){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(h7()){case y3:return 1;case pA:return 4;case Uy:case v7:return 16;case gA:return 536870912;default:return 16}default:return 16}}var zh=null,w3=null,wy=null;function MA(){if(wy)return wy;var d,D=w3,Y=D.length,te,ge="value"in zh?zh.value:zh.textContent,Se=ge.length;for(d=0;d<Y&&D[d]===ge[d];d++);var W=Y-d;for(te=1;te<=W&&D[Y-te]===ge[Se-te];te++);return wy=ge.slice(d,1<te?1-te:void 0)}function Ty(d){var D=d.keyCode;return"charCode"in d?(d=d.charCode,d===0&&D===13&&(d=13)):d=D,d===10&&(d=13),32<=d||d===13?d:0}function Jg(){return!0}function w5(){return!1}function lu(d){function D(Y,te,ge,Se,W){this._reactName=Y,this._targetInst=ge,this.type=te,this.nativeEvent=Se,this.target=W,this.currentTarget=null;for(var H in d)d.hasOwnProperty(H)&&(Y=d[H],this[H]=Y?Y(Se):Se[H]);return this.isDefaultPrevented=(Se.defaultPrevented!=null?Se.defaultPrevented:Se.returnValue===!1)?Jg:w5,this.isPropagationStopped=w5,this}return To(D.prototype,{preventDefault:function(){this.defaultPrevented=!0;var Y=this.nativeEvent;Y&&(Y.preventDefault?Y.preventDefault():typeof Y.returnValue!="unknown"&&(Y.returnValue=!1),this.isDefaultPrevented=Jg)},stopPropagation:function(){var Y=this.nativeEvent;Y&&(Y.stopPropagation?Y.stopPropagation():typeof Y.cancelBubble!="unknown"&&(Y.cancelBubble=!0),this.isPropagationStopped=Jg)},persist:function(){},isPersistent:Jg}),D}var xp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(d){return d.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},T3=lu(xp),sg=To({},xp,{view:0,detail:0}),E7=lu(sg),hx,vx,qp,A1=To({},sg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:A3,button:0,buttons:0,relatedTarget:function(d){return d.relatedTarget===void 0?d.fromElement===d.srcElement?d.toElement:d.fromElement:d.relatedTarget},movementX:function(d){return"movementX"in d?d.movementX:(d!==qp&&(qp&&d.type==="mousemove"?(hx=d.screenX-qp.screenX,vx=d.screenY-qp.screenY):vx=hx=0,qp=d),hx)},movementY:function(d){return"movementY"in d?d.movementY:vx}}),T5=lu(A1),C7=To({},A1,{dataTransfer:0}),L7=lu(C7),P7=To({},sg,{relatedTarget:0}),dx=lu(P7),R7=To({},xp,{animationName:0,elapsedTime:0,pseudoElement:0}),D7=lu(R7),I7=To({},xp,{clipboardData:function(d){return"clipboardData"in d?d.clipboardData:window.clipboardData}}),k7=lu(I7),_7=To({},xp,{data:0}),A5=lu(_7),z7={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},O7={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},F7={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function B7(d){var D=this.nativeEvent;return D.getModifierState?D.getModifierState(d):(d=F7[d])?!!D[d]:!1}function A3(){return B7}var N7=To({},sg,{key:function(d){if(d.key){var D=z7[d.key]||d.key;if(D!=="Unidentified")return D}return d.type==="keypress"?(d=Ty(d),d===13?"Enter":String.fromCharCode(d)):d.type==="keydown"||d.type==="keyup"?O7[d.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:A3,charCode:function(d){return d.type==="keypress"?Ty(d):0},keyCode:function(d){return d.type==="keydown"||d.type==="keyup"?d.keyCode:0},which:function(d){return d.type==="keypress"?Ty(d):d.type==="keydown"||d.type==="keyup"?d.keyCode:0}}),U7=lu(N7),H7=To({},A1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),S5=lu(H7),V7=To({},sg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:A3}),W7=lu(V7),G7=To({},xp,{propertyName:0,elapsedTime:0,pseudoElement:0}),Y7=lu(G7),j7=To({},A1,{deltaX:function(d){return"deltaX"in d?d.deltaX:"wheelDeltaX"in d?-d.wheelDeltaX:0},deltaY:function(d){return"deltaY"in d?d.deltaY:"wheelDeltaY"in d?-d.wheelDeltaY:"wheelDelta"in d?-d.wheelDelta:0},deltaZ:0,deltaMode:0}),Z7=lu(j7),X7=[9,13,27,32],S3=Wc&&"CompositionEvent"in window,w0=null;Wc&&"documentMode"in document&&(w0=document.documentMode);var K7=Wc&&"TextEvent"in window&&!w0,EA=Wc&&(!S3||w0&&8<w0&&11>=w0),M5=" ",E5=!1;function CA(d,D){switch(d){case"keyup":return X7.indexOf(D.keyCode)!==-1;case"keydown":return D.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function LA(d){return d=d.detail,typeof d=="object"&&"data"in d?d.data:null}var Bd=!1;function $7(d,D){switch(d){case"compositionend":return LA(D);case"keypress":return D.which!==32?null:(E5=!0,M5);case"textInput":return d=D.data,d===M5&&E5?null:d;default:return null}}function J7(d,D){if(Bd)return d==="compositionend"||!S3&&CA(d,D)?(d=MA(),wy=w3=zh=null,Bd=!1,d):null;switch(d){case"paste":return null;case"keypress":if(!(D.ctrlKey||D.altKey||D.metaKey)||D.ctrlKey&&D.altKey){if(D.char&&1<D.char.length)return D.char;if(D.which)return String.fromCharCode(D.which)}return null;case"compositionend":return EA&&D.locale!=="ko"?null:D.data;default:return null}}var Q7={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function C5(d){var D=d&&d.nodeName&&d.nodeName.toLowerCase();return D==="input"?!!Q7[d.type]:D==="textarea"}function PA(d,D,Y,te){oA(te),D=Gy(D,"onChange"),0<D.length&&(Y=new T3("onChange","change",null,Y,te),d.push({event:Y,listeners:D}))}var T0=null,U0=null;function q7(d){UA(d,0)}function S1(d){var D=Hd(d);if(q4(D))return d}function e9(d,D){if(d==="change")return D}var RA=!1;if(Wc){var px;if(Wc){var gx="oninput"in document;if(!gx){var L5=document.createElement("div");L5.setAttribute("oninput","return;"),gx=typeof L5.oninput=="function"}px=gx}else px=!1;RA=px&&(!document.documentMode||9<document.documentMode)}function P5(){T0&&(T0.detachEvent("onpropertychange",DA),U0=T0=null)}function DA(d){if(d.propertyName==="value"&&S1(U0)){var D=[];PA(D,U0,d,g3(d)),fA(q7,D)}}function t9(d,D,Y){d==="focusin"?(P5(),T0=D,U0=Y,T0.attachEvent("onpropertychange",DA)):d==="focusout"&&P5()}function r9(d){if(d==="selectionchange"||d==="keyup"||d==="keydown")return S1(U0)}function n9(d,D){if(d==="click")return S1(D)}function a9(d,D){if(d==="input"||d==="change")return S1(D)}function i9(d,D){return d===D&&(d!==0||1/d===1/D)||d!==d&&D!==D}var Tf=typeof Object.is=="function"?Object.is:i9;function H0(d,D){if(Tf(d,D))return!0;if(typeof d!="object"||d===null||typeof D!="object"||D===null)return!1;var Y=Object.keys(d),te=Object.keys(D);if(Y.length!==te.length)return!1;for(te=0;te<Y.length;te++){var ge=Y[te];if(!Xx.call(D,ge)||!Tf(d[ge],D[ge]))return!1}return!0}function R5(d){for(;d&&d.firstChild;)d=d.firstChild;return d}function D5(d,D){var Y=R5(d);d=0;for(var te;Y;){if(Y.nodeType===3){if(te=d+Y.textContent.length,d<=D&&te>=D)return{node:Y,offset:D-d};d=te}e:{for(;Y;){if(Y.nextSibling){Y=Y.nextSibling;break e}Y=Y.parentNode}Y=void 0}Y=R5(Y)}}function IA(d,D){return d&&D?d===D?!0:d&&d.nodeType===3?!1:D&&D.nodeType===3?IA(d,D.parentNode):"contains"in d?d.contains(D):d.compareDocumentPosition?!!(d.compareDocumentPosition(D)&16):!1:!1}function kA(){for(var d=window,D=Fy();D instanceof d.HTMLIFrameElement;){try{var Y=typeof D.contentWindow.location.href=="string"}catch{Y=!1}if(Y)d=D.contentWindow;else break;D=Fy(d.document)}return D}function M3(d){var D=d&&d.nodeName&&d.nodeName.toLowerCase();return D&&(D==="input"&&(d.type==="text"||d.type==="search"||d.type==="tel"||d.type==="url"||d.type==="password")||D==="textarea"||d.contentEditable==="true")}function o9(d){var D=kA(),Y=d.focusedElem,te=d.selectionRange;if(D!==Y&&Y&&Y.ownerDocument&&IA(Y.ownerDocument.documentElement,Y)){if(te!==null&&M3(Y)){if(D=te.start,d=te.end,d===void 0&&(d=D),"selectionStart"in Y)Y.selectionStart=D,Y.selectionEnd=Math.min(d,Y.value.length);else if(d=(D=Y.ownerDocument||document)&&D.defaultView||window,d.getSelection){d=d.getSelection();var ge=Y.textContent.length,Se=Math.min(te.start,ge);te=te.end===void 0?Se:Math.min(te.end,ge),!d.extend&&Se>te&&(ge=te,te=Se,Se=ge),ge=D5(Y,Se);var W=D5(Y,te);ge&&W&&(d.rangeCount!==1||d.anchorNode!==ge.node||d.anchorOffset!==ge.offset||d.focusNode!==W.node||d.focusOffset!==W.offset)&&(D=D.createRange(),D.setStart(ge.node,ge.offset),d.removeAllRanges(),Se>te?(d.addRange(D),d.extend(W.node,W.offset)):(D.setEnd(W.node,W.offset),d.addRange(D)))}}for(D=[],d=Y;d=d.parentNode;)d.nodeType===1&&D.push({element:d,left:d.scrollLeft,top:d.scrollTop});for(typeof Y.focus=="function"&&Y.focus(),Y=0;Y<D.length;Y++)d=D[Y],d.element.scrollLeft=d.left,d.element.scrollTop=d.top}}var s9=Wc&&"documentMode"in document&&11>=document.documentMode,Nd=null,vb=null,A0=null,db=!1;function I5(d,D,Y){var te=Y.window===Y?Y.document:Y.nodeType===9?Y:Y.ownerDocument;db||Nd==null||Nd!==Fy(te)||(te=Nd,"selectionStart"in te&&M3(te)?te={start:te.selectionStart,end:te.selectionEnd}:(te=(te.ownerDocument&&te.ownerDocument.defaultView||window).getSelection(),te={anchorNode:te.anchorNode,anchorOffset:te.anchorOffset,focusNode:te.focusNode,focusOffset:te.focusOffset}),A0&&H0(A0,te)||(A0=te,te=Gy(vb,"onSelect"),0<te.length&&(D=new T3("onSelect","select",null,D,Y),d.push({event:D,listeners:te}),D.target=Nd)))}function Qg(d,D){var Y={};return Y[d.toLowerCase()]=D.toLowerCase(),Y["Webkit"+d]="webkit"+D,Y["Moz"+d]="moz"+D,Y}var Ud={animationend:Qg("Animation","AnimationEnd"),animationiteration:Qg("Animation","AnimationIteration"),animationstart:Qg("Animation","AnimationStart"),transitionend:Qg("Transition","TransitionEnd")},yx={},_A={};Wc&&(_A=document.createElement("div").style,"AnimationEvent"in window||(delete Ud.animationend.animation,delete Ud.animationiteration.animation,delete Ud.animationstart.animation),"TransitionEvent"in window||delete Ud.transitionend.transition);function M1(d){if(yx[d])return yx[d];if(!Ud[d])return d;var D=Ud[d],Y;for(Y in D)if(D.hasOwnProperty(Y)&&Y in _A)return yx[d]=D[Y];return d}var zA=M1("animationend"),OA=M1("animationiteration"),FA=M1("animationstart"),BA=M1("transitionend"),NA=new Map,k5="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jh(d,D){NA.set(d,D),Jv(D,[d])}for(var mx=0;mx<k5.length;mx++){var xx=k5[mx],l9=xx.toLowerCase(),u9=xx[0].toUpperCase()+xx.slice(1);Jh(l9,"on"+u9)}Jh(zA,"onAnimationEnd");Jh(OA,"onAnimationIteration");Jh(FA,"onAnimationStart");Jh("dblclick","onDoubleClick");Jh("focusin","onFocus");Jh("focusout","onBlur");Jh(BA,"onTransitionEnd");ap("onMouseEnter",["mouseout","mouseover"]);ap("onMouseLeave",["mouseout","mouseover"]);ap("onPointerEnter",["pointerout","pointerover"]);ap("onPointerLeave",["pointerout","pointerover"]);Jv("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Jv("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Jv("onBeforeInput",["compositionend","keypress","textInput","paste"]);Jv("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Jv("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Jv("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var g0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),f9=new Set("cancel close invalid load scroll toggle".split(" ").concat(g0));function _5(d,D,Y){var te=d.type||"unknown-event";d.currentTarget=Y,l7(te,D,void 0,d),d.currentTarget=null}function UA(d,D){D=(D&4)!==0;for(var Y=0;Y<d.length;Y++){var te=d[Y],ge=te.event;te=te.listeners;e:{var Se=void 0;if(D)for(var W=te.length-1;0<=W;W--){var H=te[W],e=H.instance,g=H.currentTarget;if(H=H.listener,e!==Se&&ge.isPropagationStopped())break e;_5(ge,H,g),Se=e}else for(W=0;W<te.length;W++){if(H=te[W],e=H.instance,g=H.currentTarget,H=H.listener,e!==Se&&ge.isPropagationStopped())break e;_5(ge,H,g),Se=e}}}if(Ny)throw d=ub,Ny=!1,ub=null,d}function no(d,D){var Y=D[xb];Y===void 0&&(Y=D[xb]=new Set);var te=d+"__bubble";Y.has(te)||(HA(D,d,2,!1),Y.add(te))}function bx(d,D,Y){var te=0;D&&(te|=4),HA(Y,d,te,D)}var qg="_reactListening"+Math.random().toString(36).slice(2);function V0(d){if(!d[qg]){d[qg]=!0,X4.forEach(function(Y){Y!=="selectionchange"&&(f9.has(Y)||bx(Y,!1,d),bx(Y,!0,d))});var D=d.nodeType===9?d:d.ownerDocument;D===null||D[qg]||(D[qg]=!0,bx("selectionchange",!1,D))}}function HA(d,D,Y,te){switch(SA(D)){case 1:var ge=S7;break;case 4:ge=M7;break;default:ge=b3}Y=ge.bind(null,D,Y,d),ge=void 0,!lb||D!=="touchstart"&&D!=="touchmove"&&D!=="wheel"||(ge=!0),te?ge!==void 0?d.addEventListener(D,Y,{capture:!0,passive:ge}):d.addEventListener(D,Y,!0):ge!==void 0?d.addEventListener(D,Y,{passive:ge}):d.addEventListener(D,Y,!1)}function wx(d,D,Y,te,ge){var Se=te;if(!(D&1)&&!(D&2)&&te!==null)e:for(;;){if(te===null)return;var W=te.tag;if(W===3||W===4){var H=te.stateNode.containerInfo;if(H===ge||H.nodeType===8&&H.parentNode===ge)break;if(W===4)for(W=te.return;W!==null;){var e=W.tag;if((e===3||e===4)&&(e=W.stateNode.containerInfo,e===ge||e.nodeType===8&&e.parentNode===ge))return;W=W.return}for(;H!==null;){if(W=Ov(H),W===null)return;if(e=W.tag,e===5||e===6){te=Se=W;continue e}H=H.parentNode}}te=te.return}fA(function(){var g=Se,R=g3(Y),a=[];e:{var C=NA.get(d);if(C!==void 0){var T=T3,v=d;switch(d){case"keypress":if(Ty(Y)===0)break e;case"keydown":case"keyup":T=U7;break;case"focusin":v="focus",T=dx;break;case"focusout":v="blur",T=dx;break;case"beforeblur":case"afterblur":T=dx;break;case"click":if(Y.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":T=T5;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":T=L7;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":T=W7;break;case zA:case OA:case FA:T=D7;break;case BA:T=Y7;break;case"scroll":T=E7;break;case"wheel":T=Z7;break;case"copy":case"cut":case"paste":T=k7;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":T=S5}var y=(D&4)!==0,t=!y&&d==="scroll",r=y?C!==null?C+"Capture":null:C;y=[];for(var s=g,n;s!==null;){n=s;var o=n.stateNode;if(n.tag===5&&o!==null&&(n=o,r!==null&&(o=O0(s,r),o!=null&&y.push(W0(s,o,n)))),t)break;s=s.return}0<y.length&&(C=new T(C,v,null,Y,R),a.push({event:C,listeners:y}))}}if(!(D&7)){e:{if(C=d==="mouseover"||d==="pointerover",T=d==="mouseout"||d==="pointerout",C&&Y!==ob&&(v=Y.relatedTarget||Y.fromElement)&&(Ov(v)||v[Gc]))break e;if((T||C)&&(C=R.window===R?R:(C=R.ownerDocument)?C.defaultView||C.parentWindow:window,T?(v=Y.relatedTarget||Y.toElement,T=g,v=v?Ov(v):null,v!==null&&(t=Qv(v),v!==t||v.tag!==5&&v.tag!==6)&&(v=null)):(T=null,v=g),T!==v)){if(y=T5,o="onMouseLeave",r="onMouseEnter",s="mouse",(d==="pointerout"||d==="pointerover")&&(y=S5,o="onPointerLeave",r="onPointerEnter",s="pointer"),t=T==null?C:Hd(T),n=v==null?C:Hd(v),C=new y(o,s+"leave",T,Y,R),C.target=t,C.relatedTarget=n,o=null,Ov(R)===g&&(y=new y(r,s+"enter",v,Y,R),y.target=n,y.relatedTarget=t,o=y),t=o,T&&v)t:{for(y=T,r=v,s=0,n=y;n;n=Cd(n))s++;for(n=0,o=r;o;o=Cd(o))n++;for(;0<s-n;)y=Cd(y),s--;for(;0<n-s;)r=Cd(r),n--;for(;s--;){if(y===r||r!==null&&y===r.alternate)break t;y=Cd(y),r=Cd(r)}y=null}else y=null;T!==null&&z5(a,C,T,y,!1),v!==null&&t!==null&&z5(a,t,v,y,!0)}}e:{if(C=g?Hd(g):window,T=C.nodeName&&C.nodeName.toLowerCase(),T==="select"||T==="input"&&C.type==="file")var f=e9;else if(C5(C))if(RA)f=a9;else{f=r9;var u=t9}else(T=C.nodeName)&&T.toLowerCase()==="input"&&(C.type==="checkbox"||C.type==="radio")&&(f=n9);if(f&&(f=f(d,g))){PA(a,f,Y,R);break e}u&&u(d,C,g),d==="focusout"&&(u=C._wrapperState)&&u.controlled&&C.type==="number"&&tb(C,"number",C.value)}switch(u=g?Hd(g):window,d){case"focusin":(C5(u)||u.contentEditable==="true")&&(Nd=u,vb=g,A0=null);break;case"focusout":A0=vb=Nd=null;break;case"mousedown":db=!0;break;case"contextmenu":case"mouseup":case"dragend":db=!1,I5(a,Y,R);break;case"selectionchange":if(s9)break;case"keydown":case"keyup":I5(a,Y,R)}var m;if(S3)e:{switch(d){case"compositionstart":var c="onCompositionStart";break e;case"compositionend":c="onCompositionEnd";break e;case"compositionupdate":c="onCompositionUpdate";break e}c=void 0}else Bd?CA(d,Y)&&(c="onCompositionEnd"):d==="keydown"&&Y.keyCode===229&&(c="onCompositionStart");c&&(EA&&Y.locale!=="ko"&&(Bd||c!=="onCompositionStart"?c==="onCompositionEnd"&&Bd&&(m=MA()):(zh=R,w3="value"in zh?zh.value:zh.textContent,Bd=!0)),u=Gy(g,c),0<u.length&&(c=new A5(c,d,null,Y,R),a.push({event:c,listeners:u}),m?c.data=m:(m=LA(Y),m!==null&&(c.data=m)))),(m=K7?$7(d,Y):J7(d,Y))&&(g=Gy(g,"onBeforeInput"),0<g.length&&(R=new A5("onBeforeInput","beforeinput",null,Y,R),a.push({event:R,listeners:g}),R.data=m))}UA(a,D)})}function W0(d,D,Y){return{instance:d,listener:D,currentTarget:Y}}function Gy(d,D){for(var Y=D+"Capture",te=[];d!==null;){var ge=d,Se=ge.stateNode;ge.tag===5&&Se!==null&&(ge=Se,Se=O0(d,Y),Se!=null&&te.unshift(W0(d,Se,ge)),Se=O0(d,D),Se!=null&&te.push(W0(d,Se,ge))),d=d.return}return te}function Cd(d){if(d===null)return null;do d=d.return;while(d&&d.tag!==5);return d||null}function z5(d,D,Y,te,ge){for(var Se=D._reactName,W=[];Y!==null&&Y!==te;){var H=Y,e=H.alternate,g=H.stateNode;if(e!==null&&e===te)break;H.tag===5&&g!==null&&(H=g,ge?(e=O0(Y,Se),e!=null&&W.unshift(W0(Y,e,H))):ge||(e=O0(Y,Se),e!=null&&W.push(W0(Y,e,H)))),Y=Y.return}W.length!==0&&d.push({event:D,listeners:W})}var c9=/\r\n?/g,h9=/\u0000|\uFFFD/g;function O5(d){return(typeof d=="string"?d:""+d).replace(c9,`
`).replace(h9,"")}function ey(d,D,Y){if(D=O5(D),O5(d)!==D&&Y)throw Error(pa(425))}function Yy(){}var pb=null,gb=null;function yb(d,D){return d==="textarea"||d==="noscript"||typeof D.children=="string"||typeof D.children=="number"||typeof D.dangerouslySetInnerHTML=="object"&&D.dangerouslySetInnerHTML!==null&&D.dangerouslySetInnerHTML.__html!=null}var mb=typeof setTimeout=="function"?setTimeout:void 0,v9=typeof clearTimeout=="function"?clearTimeout:void 0,F5=typeof Promise=="function"?Promise:void 0,d9=typeof queueMicrotask=="function"?queueMicrotask:typeof F5<"u"?function(d){return F5.resolve(null).then(d).catch(p9)}:mb;function p9(d){setTimeout(function(){throw d})}function Tx(d,D){var Y=D,te=0;do{var ge=Y.nextSibling;if(d.removeChild(Y),ge&&ge.nodeType===8)if(Y=ge.data,Y==="/$"){if(te===0){d.removeChild(ge),N0(D);return}te--}else Y!=="$"&&Y!=="$?"&&Y!=="$!"||te++;Y=ge}while(Y);N0(D)}function Vh(d){for(;d!=null;d=d.nextSibling){var D=d.nodeType;if(D===1||D===3)break;if(D===8){if(D=d.data,D==="$"||D==="$!"||D==="$?")break;if(D==="/$")return null}}return d}function B5(d){d=d.previousSibling;for(var D=0;d;){if(d.nodeType===8){var Y=d.data;if(Y==="$"||Y==="$!"||Y==="$?"){if(D===0)return d;D--}else Y==="/$"&&D++}d=d.previousSibling}return null}var bp=Math.random().toString(36).slice(2),Qf="__reactFiber$"+bp,G0="__reactProps$"+bp,Gc="__reactContainer$"+bp,xb="__reactEvents$"+bp,g9="__reactListeners$"+bp,y9="__reactHandles$"+bp;function Ov(d){var D=d[Qf];if(D)return D;for(var Y=d.parentNode;Y;){if(D=Y[Gc]||Y[Qf]){if(Y=D.alternate,D.child!==null||Y!==null&&Y.child!==null)for(d=B5(d);d!==null;){if(Y=d[Qf])return Y;d=B5(d)}return D}d=Y,Y=d.parentNode}return null}function lg(d){return d=d[Qf]||d[Gc],!d||d.tag!==5&&d.tag!==6&&d.tag!==13&&d.tag!==3?null:d}function Hd(d){if(d.tag===5||d.tag===6)return d.stateNode;throw Error(pa(33))}function E1(d){return d[G0]||null}var bb=[],Vd=-1;function Qh(d){return{current:d}}function ao(d){0>Vd||(d.current=bb[Vd],bb[Vd]=null,Vd--)}function Ji(d,D){Vd++,bb[Vd]=d.current,d.current=D}var Xh={},$s=Qh(Xh),Rl=Qh(!1),Wv=Xh;function ip(d,D){var Y=d.type.contextTypes;if(!Y)return Xh;var te=d.stateNode;if(te&&te.__reactInternalMemoizedUnmaskedChildContext===D)return te.__reactInternalMemoizedMaskedChildContext;var ge={},Se;for(Se in Y)ge[Se]=D[Se];return te&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=D,d.__reactInternalMemoizedMaskedChildContext=ge),ge}function Dl(d){return d=d.childContextTypes,d!=null}function jy(){ao(Rl),ao($s)}function N5(d,D,Y){if($s.current!==Xh)throw Error(pa(168));Ji($s,D),Ji(Rl,Y)}function VA(d,D,Y){var te=d.stateNode;if(D=D.childContextTypes,typeof te.getChildContext!="function")return Y;te=te.getChildContext();for(var ge in te)if(!(ge in D))throw Error(pa(108,t7(d)||"Unknown",ge));return To({},Y,te)}function Zy(d){return d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||Xh,Wv=$s.current,Ji($s,d),Ji(Rl,Rl.current),!0}function U5(d,D,Y){var te=d.stateNode;if(!te)throw Error(pa(169));Y?(d=VA(d,D,Wv),te.__reactInternalMemoizedMergedChildContext=d,ao(Rl),ao($s),Ji($s,d)):ao(Rl),Ji(Rl,Y)}var Bc=null,C1=!1,Ax=!1;function WA(d){Bc===null?Bc=[d]:Bc.push(d)}function m9(d){C1=!0,WA(d)}function qh(){if(!Ax&&Bc!==null){Ax=!0;var d=0,D=Ni;try{var Y=Bc;for(Ni=1;d<Y.length;d++){var te=Y[d];do te=te(!0);while(te!==null)}Bc=null,C1=!1}catch(ge){throw Bc!==null&&(Bc=Bc.slice(d+1)),dA(y3,qh),ge}finally{Ni=D,Ax=!1}}return null}var Wd=[],Gd=0,Xy=null,Ky=0,Du=[],Iu=0,Gv=null,Uc=1,Hc="";function Iv(d,D){Wd[Gd++]=Ky,Wd[Gd++]=Xy,Xy=d,Ky=D}function GA(d,D,Y){Du[Iu++]=Uc,Du[Iu++]=Hc,Du[Iu++]=Gv,Gv=d;var te=Uc;d=Hc;var ge=32-bf(te)-1;te&=~(1<<ge),Y+=1;var Se=32-bf(D)+ge;if(30<Se){var W=ge-ge%5;Se=(te&(1<<W)-1).toString(32),te>>=W,ge-=W,Uc=1<<32-bf(D)+ge|Y<<ge|te,Hc=Se+d}else Uc=1<<Se|Y<<ge|te,Hc=d}function E3(d){d.return!==null&&(Iv(d,1),GA(d,1,0))}function C3(d){for(;d===Xy;)Xy=Wd[--Gd],Wd[Gd]=null,Ky=Wd[--Gd],Wd[Gd]=null;for(;d===Gv;)Gv=Du[--Iu],Du[Iu]=null,Hc=Du[--Iu],Du[Iu]=null,Uc=Du[--Iu],Du[Iu]=null}var ru=null,tu=null,fo=!1,xf=null;function YA(d,D){var Y=_u(5,null,null,0);Y.elementType="DELETED",Y.stateNode=D,Y.return=d,D=d.deletions,D===null?(d.deletions=[Y],d.flags|=16):D.push(Y)}function H5(d,D){switch(d.tag){case 5:var Y=d.type;return D=D.nodeType!==1||Y.toLowerCase()!==D.nodeName.toLowerCase()?null:D,D!==null?(d.stateNode=D,ru=d,tu=Vh(D.firstChild),!0):!1;case 6:return D=d.pendingProps===""||D.nodeType!==3?null:D,D!==null?(d.stateNode=D,ru=d,tu=null,!0):!1;case 13:return D=D.nodeType!==8?null:D,D!==null?(Y=Gv!==null?{id:Uc,overflow:Hc}:null,d.memoizedState={dehydrated:D,treeContext:Y,retryLane:1073741824},Y=_u(18,null,null,0),Y.stateNode=D,Y.return=d,d.child=Y,ru=d,tu=null,!0):!1;default:return!1}}function wb(d){return(d.mode&1)!==0&&(d.flags&128)===0}function Tb(d){if(fo){var D=tu;if(D){var Y=D;if(!H5(d,D)){if(wb(d))throw Error(pa(418));D=Vh(Y.nextSibling);var te=ru;D&&H5(d,D)?YA(te,Y):(d.flags=d.flags&-4097|2,fo=!1,ru=d)}}else{if(wb(d))throw Error(pa(418));d.flags=d.flags&-4097|2,fo=!1,ru=d}}}function V5(d){for(d=d.return;d!==null&&d.tag!==5&&d.tag!==3&&d.tag!==13;)d=d.return;ru=d}function ty(d){if(d!==ru)return!1;if(!fo)return V5(d),fo=!0,!1;var D;if((D=d.tag!==3)&&!(D=d.tag!==5)&&(D=d.type,D=D!=="head"&&D!=="body"&&!yb(d.type,d.memoizedProps)),D&&(D=tu)){if(wb(d))throw jA(),Error(pa(418));for(;D;)YA(d,D),D=Vh(D.nextSibling)}if(V5(d),d.tag===13){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(pa(317));e:{for(d=d.nextSibling,D=0;d;){if(d.nodeType===8){var Y=d.data;if(Y==="/$"){if(D===0){tu=Vh(d.nextSibling);break e}D--}else Y!=="$"&&Y!=="$!"&&Y!=="$?"||D++}d=d.nextSibling}tu=null}}else tu=ru?Vh(d.stateNode.nextSibling):null;return!0}function jA(){for(var d=tu;d;)d=Vh(d.nextSibling)}function op(){tu=ru=null,fo=!1}function L3(d){xf===null?xf=[d]:xf.push(d)}var x9=Xc.ReactCurrentBatchConfig;function yf(d,D){if(d&&d.defaultProps){D=To({},D),d=d.defaultProps;for(var Y in d)D[Y]===void 0&&(D[Y]=d[Y]);return D}return D}var $y=Qh(null),Jy=null,Yd=null,P3=null;function R3(){P3=Yd=Jy=null}function D3(d){var D=$y.current;ao($y),d._currentValue=D}function Ab(d,D,Y){for(;d!==null;){var te=d.alternate;if((d.childLanes&D)!==D?(d.childLanes|=D,te!==null&&(te.childLanes|=D)):te!==null&&(te.childLanes&D)!==D&&(te.childLanes|=D),d===Y)break;d=d.return}}function qd(d,D){Jy=d,P3=Yd=null,d=d.dependencies,d!==null&&d.firstContext!==null&&(d.lanes&D&&(Pl=!0),d.firstContext=null)}function Fu(d){var D=d._currentValue;if(P3!==d)if(d={context:d,memoizedValue:D,next:null},Yd===null){if(Jy===null)throw Error(pa(308));Yd=d,Jy.dependencies={lanes:0,firstContext:d}}else Yd=Yd.next=d;return D}var Fv=null;function I3(d){Fv===null?Fv=[d]:Fv.push(d)}function ZA(d,D,Y,te){var ge=D.interleaved;return ge===null?(Y.next=Y,I3(D)):(Y.next=ge.next,ge.next=Y),D.interleaved=Y,Yc(d,te)}function Yc(d,D){d.lanes|=D;var Y=d.alternate;for(Y!==null&&(Y.lanes|=D),Y=d,d=d.return;d!==null;)d.childLanes|=D,Y=d.alternate,Y!==null&&(Y.childLanes|=D),Y=d,d=d.return;return Y.tag===3?Y.stateNode:null}var Ih=!1;function k3(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function XA(d,D){d=d.updateQueue,D.updateQueue===d&&(D.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects})}function Vc(d,D){return{eventTime:d,lane:D,tag:0,payload:null,callback:null,next:null}}function Wh(d,D,Y){var te=d.updateQueue;if(te===null)return null;if(te=te.shared,Ci&2){var ge=te.pending;return ge===null?D.next=D:(D.next=ge.next,ge.next=D),te.pending=D,Yc(d,Y)}return ge=te.interleaved,ge===null?(D.next=D,I3(te)):(D.next=ge.next,ge.next=D),te.interleaved=D,Yc(d,Y)}function Ay(d,D,Y){if(D=D.updateQueue,D!==null&&(D=D.shared,(Y&4194240)!==0)){var te=D.lanes;te&=d.pendingLanes,Y|=te,D.lanes=Y,m3(d,Y)}}function W5(d,D){var Y=d.updateQueue,te=d.alternate;if(te!==null&&(te=te.updateQueue,Y===te)){var ge=null,Se=null;if(Y=Y.firstBaseUpdate,Y!==null){do{var W={eventTime:Y.eventTime,lane:Y.lane,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null};Se===null?ge=Se=W:Se=Se.next=W,Y=Y.next}while(Y!==null);Se===null?ge=Se=D:Se=Se.next=D}else ge=Se=D;Y={baseState:te.baseState,firstBaseUpdate:ge,lastBaseUpdate:Se,shared:te.shared,effects:te.effects},d.updateQueue=Y;return}d=Y.lastBaseUpdate,d===null?Y.firstBaseUpdate=D:d.next=D,Y.lastBaseUpdate=D}function Qy(d,D,Y,te){var ge=d.updateQueue;Ih=!1;var Se=ge.firstBaseUpdate,W=ge.lastBaseUpdate,H=ge.shared.pending;if(H!==null){ge.shared.pending=null;var e=H,g=e.next;e.next=null,W===null?Se=g:W.next=g,W=e;var R=d.alternate;R!==null&&(R=R.updateQueue,H=R.lastBaseUpdate,H!==W&&(H===null?R.firstBaseUpdate=g:H.next=g,R.lastBaseUpdate=e))}if(Se!==null){var a=ge.baseState;W=0,R=g=e=null,H=Se;do{var C=H.lane,T=H.eventTime;if((te&C)===C){R!==null&&(R=R.next={eventTime:T,lane:0,tag:H.tag,payload:H.payload,callback:H.callback,next:null});e:{var v=d,y=H;switch(C=D,T=Y,y.tag){case 1:if(v=y.payload,typeof v=="function"){a=v.call(T,a,C);break e}a=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,C=typeof v=="function"?v.call(T,a,C):v,C==null)break e;a=To({},a,C);break e;case 2:Ih=!0}}H.callback!==null&&H.lane!==0&&(d.flags|=64,C=ge.effects,C===null?ge.effects=[H]:C.push(H))}else T={eventTime:T,lane:C,tag:H.tag,payload:H.payload,callback:H.callback,next:null},R===null?(g=R=T,e=a):R=R.next=T,W|=C;if(H=H.next,H===null){if(H=ge.shared.pending,H===null)break;C=H,H=C.next,C.next=null,ge.lastBaseUpdate=C,ge.shared.pending=null}}while(!0);if(R===null&&(e=a),ge.baseState=e,ge.firstBaseUpdate=g,ge.lastBaseUpdate=R,D=ge.shared.interleaved,D!==null){ge=D;do W|=ge.lane,ge=ge.next;while(ge!==D)}else Se===null&&(ge.shared.lanes=0);jv|=W,d.lanes=W,d.memoizedState=a}}function G5(d,D,Y){if(d=D.effects,D.effects=null,d!==null)for(D=0;D<d.length;D++){var te=d[D],ge=te.callback;if(ge!==null){if(te.callback=null,te=Y,typeof ge!="function")throw Error(pa(191,ge));ge.call(te)}}}var KA=new Z4.Component().refs;function Sb(d,D,Y,te){D=d.memoizedState,Y=Y(te,D),Y=Y==null?D:To({},D,Y),d.memoizedState=Y,d.lanes===0&&(d.updateQueue.baseState=Y)}var L1={isMounted:function(d){return(d=d._reactInternals)?Qv(d)===d:!1},enqueueSetState:function(d,D,Y){d=d._reactInternals;var te=cl(),ge=Yh(d),Se=Vc(te,ge);Se.payload=D,Y!=null&&(Se.callback=Y),D=Wh(d,Se,ge),D!==null&&(wf(D,d,ge,te),Ay(D,d,ge))},enqueueReplaceState:function(d,D,Y){d=d._reactInternals;var te=cl(),ge=Yh(d),Se=Vc(te,ge);Se.tag=1,Se.payload=D,Y!=null&&(Se.callback=Y),D=Wh(d,Se,ge),D!==null&&(wf(D,d,ge,te),Ay(D,d,ge))},enqueueForceUpdate:function(d,D){d=d._reactInternals;var Y=cl(),te=Yh(d),ge=Vc(Y,te);ge.tag=2,D!=null&&(ge.callback=D),D=Wh(d,ge,te),D!==null&&(wf(D,d,te,Y),Ay(D,d,te))}};function Y5(d,D,Y,te,ge,Se,W){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(te,Se,W):D.prototype&&D.prototype.isPureReactComponent?!H0(Y,te)||!H0(ge,Se):!0}function $A(d,D,Y){var te=!1,ge=Xh,Se=D.contextType;return typeof Se=="object"&&Se!==null?Se=Fu(Se):(ge=Dl(D)?Wv:$s.current,te=D.contextTypes,Se=(te=te!=null)?ip(d,ge):Xh),D=new D(Y,Se),d.memoizedState=D.state!==null&&D.state!==void 0?D.state:null,D.updater=L1,d.stateNode=D,D._reactInternals=d,te&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=ge,d.__reactInternalMemoizedMaskedChildContext=Se),D}function j5(d,D,Y,te){d=D.state,typeof D.componentWillReceiveProps=="function"&&D.componentWillReceiveProps(Y,te),typeof D.UNSAFE_componentWillReceiveProps=="function"&&D.UNSAFE_componentWillReceiveProps(Y,te),D.state!==d&&L1.enqueueReplaceState(D,D.state,null)}function Mb(d,D,Y,te){var ge=d.stateNode;ge.props=Y,ge.state=d.memoizedState,ge.refs=KA,k3(d);var Se=D.contextType;typeof Se=="object"&&Se!==null?ge.context=Fu(Se):(Se=Dl(D)?Wv:$s.current,ge.context=ip(d,Se)),ge.state=d.memoizedState,Se=D.getDerivedStateFromProps,typeof Se=="function"&&(Sb(d,D,Se,Y),ge.state=d.memoizedState),typeof D.getDerivedStateFromProps=="function"||typeof ge.getSnapshotBeforeUpdate=="function"||typeof ge.UNSAFE_componentWillMount!="function"&&typeof ge.componentWillMount!="function"||(D=ge.state,typeof ge.componentWillMount=="function"&&ge.componentWillMount(),typeof ge.UNSAFE_componentWillMount=="function"&&ge.UNSAFE_componentWillMount(),D!==ge.state&&L1.enqueueReplaceState(ge,ge.state,null),Qy(d,Y,ge,te),ge.state=d.memoizedState),typeof ge.componentDidMount=="function"&&(d.flags|=4194308)}function e0(d,D,Y){if(d=Y.ref,d!==null&&typeof d!="function"&&typeof d!="object"){if(Y._owner){if(Y=Y._owner,Y){if(Y.tag!==1)throw Error(pa(309));var te=Y.stateNode}if(!te)throw Error(pa(147,d));var ge=te,Se=""+d;return D!==null&&D.ref!==null&&typeof D.ref=="function"&&D.ref._stringRef===Se?D.ref:(D=function(W){var H=ge.refs;H===KA&&(H=ge.refs={}),W===null?delete H[Se]:H[Se]=W},D._stringRef=Se,D)}if(typeof d!="string")throw Error(pa(284));if(!Y._owner)throw Error(pa(290,d))}return d}function ry(d,D){throw d=Object.prototype.toString.call(D),Error(pa(31,d==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":d))}function Z5(d){var D=d._init;return D(d._payload)}function JA(d){function D(r,s){if(d){var n=r.deletions;n===null?(r.deletions=[s],r.flags|=16):n.push(s)}}function Y(r,s){if(!d)return null;for(;s!==null;)D(r,s),s=s.sibling;return null}function te(r,s){for(r=new Map;s!==null;)s.key!==null?r.set(s.key,s):r.set(s.index,s),s=s.sibling;return r}function ge(r,s){return r=jh(r,s),r.index=0,r.sibling=null,r}function Se(r,s,n){return r.index=n,d?(n=r.alternate,n!==null?(n=n.index,n<s?(r.flags|=2,s):n):(r.flags|=2,s)):(r.flags|=1048576,s)}function W(r){return d&&r.alternate===null&&(r.flags|=2),r}function H(r,s,n,o){return s===null||s.tag!==6?(s=Rx(n,r.mode,o),s.return=r,s):(s=ge(s,n),s.return=r,s)}function e(r,s,n,o){var f=n.type;return f===Fd?R(r,s,n.props.children,o,n.key):s!==null&&(s.elementType===f||typeof f=="object"&&f!==null&&f.$$typeof===Dh&&Z5(f)===s.type)?(o=ge(s,n.props),o.ref=e0(r,s,n),o.return=r,o):(o=Py(n.type,n.key,n.props,null,r.mode,o),o.ref=e0(r,s,n),o.return=r,o)}function g(r,s,n,o){return s===null||s.tag!==4||s.stateNode.containerInfo!==n.containerInfo||s.stateNode.implementation!==n.implementation?(s=Dx(n,r.mode,o),s.return=r,s):(s=ge(s,n.children||[]),s.return=r,s)}function R(r,s,n,o,f){return s===null||s.tag!==7?(s=Hv(n,r.mode,o,f),s.return=r,s):(s=ge(s,n),s.return=r,s)}function a(r,s,n){if(typeof s=="string"&&s!==""||typeof s=="number")return s=Rx(""+s,r.mode,n),s.return=r,s;if(typeof s=="object"&&s!==null){switch(s.$$typeof){case Yg:return n=Py(s.type,s.key,s.props,null,r.mode,n),n.ref=e0(r,null,s),n.return=r,n;case Od:return s=Dx(s,r.mode,n),s.return=r,s;case Dh:var o=s._init;return a(r,o(s._payload),n)}if(d0(s)||Kp(s))return s=Hv(s,r.mode,n,null),s.return=r,s;ry(r,s)}return null}function C(r,s,n,o){var f=s!==null?s.key:null;if(typeof n=="string"&&n!==""||typeof n=="number")return f!==null?null:H(r,s,""+n,o);if(typeof n=="object"&&n!==null){switch(n.$$typeof){case Yg:return n.key===f?e(r,s,n,o):null;case Od:return n.key===f?g(r,s,n,o):null;case Dh:return f=n._init,C(r,s,f(n._payload),o)}if(d0(n)||Kp(n))return f!==null?null:R(r,s,n,o,null);ry(r,n)}return null}function T(r,s,n,o,f){if(typeof o=="string"&&o!==""||typeof o=="number")return r=r.get(n)||null,H(s,r,""+o,f);if(typeof o=="object"&&o!==null){switch(o.$$typeof){case Yg:return r=r.get(o.key===null?n:o.key)||null,e(s,r,o,f);case Od:return r=r.get(o.key===null?n:o.key)||null,g(s,r,o,f);case Dh:var u=o._init;return T(r,s,n,u(o._payload),f)}if(d0(o)||Kp(o))return r=r.get(n)||null,R(s,r,o,f,null);ry(s,o)}return null}function v(r,s,n,o){for(var f=null,u=null,m=s,c=s=0,A=null;m!==null&&c<n.length;c++){m.index>c?(A=m,m=null):A=m.sibling;var h=C(r,m,n[c],o);if(h===null){m===null&&(m=A);break}d&&m&&h.alternate===null&&D(r,m),s=Se(h,s,c),u===null?f=h:u.sibling=h,u=h,m=A}if(c===n.length)return Y(r,m),fo&&Iv(r,c),f;if(m===null){for(;c<n.length;c++)m=a(r,n[c],o),m!==null&&(s=Se(m,s,c),u===null?f=m:u.sibling=m,u=m);return fo&&Iv(r,c),f}for(m=te(r,m);c<n.length;c++)A=T(m,r,c,n[c],o),A!==null&&(d&&A.alternate!==null&&m.delete(A.key===null?c:A.key),s=Se(A,s,c),u===null?f=A:u.sibling=A,u=A);return d&&m.forEach(function(l){return D(r,l)}),fo&&Iv(r,c),f}function y(r,s,n,o){var f=Kp(n);if(typeof f!="function")throw Error(pa(150));if(n=f.call(n),n==null)throw Error(pa(151));for(var u=f=null,m=s,c=s=0,A=null,h=n.next();m!==null&&!h.done;c++,h=n.next()){m.index>c?(A=m,m=null):A=m.sibling;var l=C(r,m,h.value,o);if(l===null){m===null&&(m=A);break}d&&m&&l.alternate===null&&D(r,m),s=Se(l,s,c),u===null?f=l:u.sibling=l,u=l,m=A}if(h.done)return Y(r,m),fo&&Iv(r,c),f;if(m===null){for(;!h.done;c++,h=n.next())h=a(r,h.value,o),h!==null&&(s=Se(h,s,c),u===null?f=h:u.sibling=h,u=h);return fo&&Iv(r,c),f}for(m=te(r,m);!h.done;c++,h=n.next())h=T(m,r,c,h.value,o),h!==null&&(d&&h.alternate!==null&&m.delete(h.key===null?c:h.key),s=Se(h,s,c),u===null?f=h:u.sibling=h,u=h);return d&&m.forEach(function(p){return D(r,p)}),fo&&Iv(r,c),f}function t(r,s,n,o){if(typeof n=="object"&&n!==null&&n.type===Fd&&n.key===null&&(n=n.props.children),typeof n=="object"&&n!==null){switch(n.$$typeof){case Yg:e:{for(var f=n.key,u=s;u!==null;){if(u.key===f){if(f=n.type,f===Fd){if(u.tag===7){Y(r,u.sibling),s=ge(u,n.props.children),s.return=r,r=s;break e}}else if(u.elementType===f||typeof f=="object"&&f!==null&&f.$$typeof===Dh&&Z5(f)===u.type){Y(r,u.sibling),s=ge(u,n.props),s.ref=e0(r,u,n),s.return=r,r=s;break e}Y(r,u);break}else D(r,u);u=u.sibling}n.type===Fd?(s=Hv(n.props.children,r.mode,o,n.key),s.return=r,r=s):(o=Py(n.type,n.key,n.props,null,r.mode,o),o.ref=e0(r,s,n),o.return=r,r=o)}return W(r);case Od:e:{for(u=n.key;s!==null;){if(s.key===u)if(s.tag===4&&s.stateNode.containerInfo===n.containerInfo&&s.stateNode.implementation===n.implementation){Y(r,s.sibling),s=ge(s,n.children||[]),s.return=r,r=s;break e}else{Y(r,s);break}else D(r,s);s=s.sibling}s=Dx(n,r.mode,o),s.return=r,r=s}return W(r);case Dh:return u=n._init,t(r,s,u(n._payload),o)}if(d0(n))return v(r,s,n,o);if(Kp(n))return y(r,s,n,o);ry(r,n)}return typeof n=="string"&&n!==""||typeof n=="number"?(n=""+n,s!==null&&s.tag===6?(Y(r,s.sibling),s=ge(s,n),s.return=r,r=s):(Y(r,s),s=Rx(n,r.mode,o),s.return=r,r=s),W(r)):Y(r,s)}return t}var sp=JA(!0),QA=JA(!1),ug={},tc=Qh(ug),Y0=Qh(ug),j0=Qh(ug);function Bv(d){if(d===ug)throw Error(pa(174));return d}function _3(d,D){switch(Ji(j0,D),Ji(Y0,d),Ji(tc,ug),d=D.nodeType,d){case 9:case 11:D=(D=D.documentElement)?D.namespaceURI:nb(null,"");break;default:d=d===8?D.parentNode:D,D=d.namespaceURI||null,d=d.tagName,D=nb(D,d)}ao(tc),Ji(tc,D)}function lp(){ao(tc),ao(Y0),ao(j0)}function qA(d){Bv(j0.current);var D=Bv(tc.current),Y=nb(D,d.type);D!==Y&&(Ji(Y0,d),Ji(tc,Y))}function z3(d){Y0.current===d&&(ao(tc),ao(Y0))}var bo=Qh(0);function qy(d){for(var D=d;D!==null;){if(D.tag===13){var Y=D.memoizedState;if(Y!==null&&(Y=Y.dehydrated,Y===null||Y.data==="$?"||Y.data==="$!"))return D}else if(D.tag===19&&D.memoizedProps.revealOrder!==void 0){if(D.flags&128)return D}else if(D.child!==null){D.child.return=D,D=D.child;continue}if(D===d)break;for(;D.sibling===null;){if(D.return===null||D.return===d)return null;D=D.return}D.sibling.return=D.return,D=D.sibling}return null}var Sx=[];function O3(){for(var d=0;d<Sx.length;d++)Sx[d]._workInProgressVersionPrimary=null;Sx.length=0}var Sy=Xc.ReactCurrentDispatcher,Mx=Xc.ReactCurrentBatchConfig,Yv=0,wo=null,ts=null,hs=null,e1=!1,S0=!1,Z0=0,b9=0;function Ws(){throw Error(pa(321))}function F3(d,D){if(D===null)return!1;for(var Y=0;Y<D.length&&Y<d.length;Y++)if(!Tf(d[Y],D[Y]))return!1;return!0}function B3(d,D,Y,te,ge,Se){if(Yv=Se,wo=D,D.memoizedState=null,D.updateQueue=null,D.lanes=0,Sy.current=d===null||d.memoizedState===null?S9:M9,d=Y(te,ge),S0){Se=0;do{if(S0=!1,Z0=0,25<=Se)throw Error(pa(301));Se+=1,hs=ts=null,D.updateQueue=null,Sy.current=E9,d=Y(te,ge)}while(S0)}if(Sy.current=t1,D=ts!==null&&ts.next!==null,Yv=0,hs=ts=wo=null,e1=!1,D)throw Error(pa(300));return d}function N3(){var d=Z0!==0;return Z0=0,d}function Xf(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hs===null?wo.memoizedState=hs=d:hs=hs.next=d,hs}function Bu(){if(ts===null){var d=wo.alternate;d=d!==null?d.memoizedState:null}else d=ts.next;var D=hs===null?wo.memoizedState:hs.next;if(D!==null)hs=D,ts=d;else{if(d===null)throw Error(pa(310));ts=d,d={memoizedState:ts.memoizedState,baseState:ts.baseState,baseQueue:ts.baseQueue,queue:ts.queue,next:null},hs===null?wo.memoizedState=hs=d:hs=hs.next=d}return hs}function X0(d,D){return typeof D=="function"?D(d):D}function Ex(d){var D=Bu(),Y=D.queue;if(Y===null)throw Error(pa(311));Y.lastRenderedReducer=d;var te=ts,ge=te.baseQueue,Se=Y.pending;if(Se!==null){if(ge!==null){var W=ge.next;ge.next=Se.next,Se.next=W}te.baseQueue=ge=Se,Y.pending=null}if(ge!==null){Se=ge.next,te=te.baseState;var H=W=null,e=null,g=Se;do{var R=g.lane;if((Yv&R)===R)e!==null&&(e=e.next={lane:0,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null}),te=g.hasEagerState?g.eagerState:d(te,g.action);else{var a={lane:R,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null};e===null?(H=e=a,W=te):e=e.next=a,wo.lanes|=R,jv|=R}g=g.next}while(g!==null&&g!==Se);e===null?W=te:e.next=H,Tf(te,D.memoizedState)||(Pl=!0),D.memoizedState=te,D.baseState=W,D.baseQueue=e,Y.lastRenderedState=te}if(d=Y.interleaved,d!==null){ge=d;do Se=ge.lane,wo.lanes|=Se,jv|=Se,ge=ge.next;while(ge!==d)}else ge===null&&(Y.lanes=0);return[D.memoizedState,Y.dispatch]}function Cx(d){var D=Bu(),Y=D.queue;if(Y===null)throw Error(pa(311));Y.lastRenderedReducer=d;var te=Y.dispatch,ge=Y.pending,Se=D.memoizedState;if(ge!==null){Y.pending=null;var W=ge=ge.next;do Se=d(Se,W.action),W=W.next;while(W!==ge);Tf(Se,D.memoizedState)||(Pl=!0),D.memoizedState=Se,D.baseQueue===null&&(D.baseState=Se),Y.lastRenderedState=Se}return[Se,te]}function e6(){}function t6(d,D){var Y=wo,te=Bu(),ge=D(),Se=!Tf(te.memoizedState,ge);if(Se&&(te.memoizedState=ge,Pl=!0),te=te.queue,U3(a6.bind(null,Y,te,d),[d]),te.getSnapshot!==D||Se||hs!==null&&hs.memoizedState.tag&1){if(Y.flags|=2048,K0(9,n6.bind(null,Y,te,ge,D),void 0,null),ps===null)throw Error(pa(349));Yv&30||r6(Y,D,ge)}return ge}function r6(d,D,Y){d.flags|=16384,d={getSnapshot:D,value:Y},D=wo.updateQueue,D===null?(D={lastEffect:null,stores:null},wo.updateQueue=D,D.stores=[d]):(Y=D.stores,Y===null?D.stores=[d]:Y.push(d))}function n6(d,D,Y,te){D.value=Y,D.getSnapshot=te,i6(D)&&o6(d)}function a6(d,D,Y){return Y(function(){i6(D)&&o6(d)})}function i6(d){var D=d.getSnapshot;d=d.value;try{var Y=D();return!Tf(d,Y)}catch{return!0}}function o6(d){var D=Yc(d,1);D!==null&&wf(D,d,1,-1)}function X5(d){var D=Xf();return typeof d=="function"&&(d=d()),D.memoizedState=D.baseState=d,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:X0,lastRenderedState:d},D.queue=d,d=d.dispatch=A9.bind(null,wo,d),[D.memoizedState,d]}function K0(d,D,Y,te){return d={tag:d,create:D,destroy:Y,deps:te,next:null},D=wo.updateQueue,D===null?(D={lastEffect:null,stores:null},wo.updateQueue=D,D.lastEffect=d.next=d):(Y=D.lastEffect,Y===null?D.lastEffect=d.next=d:(te=Y.next,Y.next=d,d.next=te,D.lastEffect=d)),d}function s6(){return Bu().memoizedState}function My(d,D,Y,te){var ge=Xf();wo.flags|=d,ge.memoizedState=K0(1|D,Y,void 0,te===void 0?null:te)}function P1(d,D,Y,te){var ge=Bu();te=te===void 0?null:te;var Se=void 0;if(ts!==null){var W=ts.memoizedState;if(Se=W.destroy,te!==null&&F3(te,W.deps)){ge.memoizedState=K0(D,Y,Se,te);return}}wo.flags|=d,ge.memoizedState=K0(1|D,Y,Se,te)}function K5(d,D){return My(8390656,8,d,D)}function U3(d,D){return P1(2048,8,d,D)}function l6(d,D){return P1(4,2,d,D)}function u6(d,D){return P1(4,4,d,D)}function f6(d,D){if(typeof D=="function")return d=d(),D(d),function(){D(null)};if(D!=null)return d=d(),D.current=d,function(){D.current=null}}function c6(d,D,Y){return Y=Y!=null?Y.concat([d]):null,P1(4,4,f6.bind(null,D,d),Y)}function H3(){}function h6(d,D){var Y=Bu();D=D===void 0?null:D;var te=Y.memoizedState;return te!==null&&D!==null&&F3(D,te[1])?te[0]:(Y.memoizedState=[d,D],d)}function v6(d,D){var Y=Bu();D=D===void 0?null:D;var te=Y.memoizedState;return te!==null&&D!==null&&F3(D,te[1])?te[0]:(d=d(),Y.memoizedState=[d,D],d)}function d6(d,D,Y){return Yv&21?(Tf(Y,D)||(Y=yA(),wo.lanes|=Y,jv|=Y,d.baseState=!0),D):(d.baseState&&(d.baseState=!1,Pl=!0),d.memoizedState=Y)}function w9(d,D){var Y=Ni;Ni=Y!==0&&4>Y?Y:4,d(!0);var te=Mx.transition;Mx.transition={};try{d(!1),D()}finally{Ni=Y,Mx.transition=te}}function p6(){return Bu().memoizedState}function T9(d,D,Y){var te=Yh(d);if(Y={lane:te,action:Y,hasEagerState:!1,eagerState:null,next:null},g6(d))y6(D,Y);else if(Y=ZA(d,D,Y,te),Y!==null){var ge=cl();wf(Y,d,te,ge),m6(Y,D,te)}}function A9(d,D,Y){var te=Yh(d),ge={lane:te,action:Y,hasEagerState:!1,eagerState:null,next:null};if(g6(d))y6(D,ge);else{var Se=d.alternate;if(d.lanes===0&&(Se===null||Se.lanes===0)&&(Se=D.lastRenderedReducer,Se!==null))try{var W=D.lastRenderedState,H=Se(W,Y);if(ge.hasEagerState=!0,ge.eagerState=H,Tf(H,W)){var e=D.interleaved;e===null?(ge.next=ge,I3(D)):(ge.next=e.next,e.next=ge),D.interleaved=ge;return}}catch{}finally{}Y=ZA(d,D,ge,te),Y!==null&&(ge=cl(),wf(Y,d,te,ge),m6(Y,D,te))}}function g6(d){var D=d.alternate;return d===wo||D!==null&&D===wo}function y6(d,D){S0=e1=!0;var Y=d.pending;Y===null?D.next=D:(D.next=Y.next,Y.next=D),d.pending=D}function m6(d,D,Y){if(Y&4194240){var te=D.lanes;te&=d.pendingLanes,Y|=te,D.lanes=Y,m3(d,Y)}}var t1={readContext:Fu,useCallback:Ws,useContext:Ws,useEffect:Ws,useImperativeHandle:Ws,useInsertionEffect:Ws,useLayoutEffect:Ws,useMemo:Ws,useReducer:Ws,useRef:Ws,useState:Ws,useDebugValue:Ws,useDeferredValue:Ws,useTransition:Ws,useMutableSource:Ws,useSyncExternalStore:Ws,useId:Ws,unstable_isNewReconciler:!1},S9={readContext:Fu,useCallback:function(d,D){return Xf().memoizedState=[d,D===void 0?null:D],d},useContext:Fu,useEffect:K5,useImperativeHandle:function(d,D,Y){return Y=Y!=null?Y.concat([d]):null,My(4194308,4,f6.bind(null,D,d),Y)},useLayoutEffect:function(d,D){return My(4194308,4,d,D)},useInsertionEffect:function(d,D){return My(4,2,d,D)},useMemo:function(d,D){var Y=Xf();return D=D===void 0?null:D,d=d(),Y.memoizedState=[d,D],d},useReducer:function(d,D,Y){var te=Xf();return D=Y!==void 0?Y(D):D,te.memoizedState=te.baseState=D,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:D},te.queue=d,d=d.dispatch=T9.bind(null,wo,d),[te.memoizedState,d]},useRef:function(d){var D=Xf();return d={current:d},D.memoizedState=d},useState:X5,useDebugValue:H3,useDeferredValue:function(d){return Xf().memoizedState=d},useTransition:function(){var d=X5(!1),D=d[0];return d=w9.bind(null,d[1]),Xf().memoizedState=d,[D,d]},useMutableSource:function(){},useSyncExternalStore:function(d,D,Y){var te=wo,ge=Xf();if(fo){if(Y===void 0)throw Error(pa(407));Y=Y()}else{if(Y=D(),ps===null)throw Error(pa(349));Yv&30||r6(te,D,Y)}ge.memoizedState=Y;var Se={value:Y,getSnapshot:D};return ge.queue=Se,K5(a6.bind(null,te,Se,d),[d]),te.flags|=2048,K0(9,n6.bind(null,te,Se,Y,D),void 0,null),Y},useId:function(){var d=Xf(),D=ps.identifierPrefix;if(fo){var Y=Hc,te=Uc;Y=(te&~(1<<32-bf(te)-1)).toString(32)+Y,D=":"+D+"R"+Y,Y=Z0++,0<Y&&(D+="H"+Y.toString(32)),D+=":"}else Y=b9++,D=":"+D+"r"+Y.toString(32)+":";return d.memoizedState=D},unstable_isNewReconciler:!1},M9={readContext:Fu,useCallback:h6,useContext:Fu,useEffect:U3,useImperativeHandle:c6,useInsertionEffect:l6,useLayoutEffect:u6,useMemo:v6,useReducer:Ex,useRef:s6,useState:function(){return Ex(X0)},useDebugValue:H3,useDeferredValue:function(d){var D=Bu();return d6(D,ts.memoizedState,d)},useTransition:function(){var d=Ex(X0)[0],D=Bu().memoizedState;return[d,D]},useMutableSource:e6,useSyncExternalStore:t6,useId:p6,unstable_isNewReconciler:!1},E9={readContext:Fu,useCallback:h6,useContext:Fu,useEffect:U3,useImperativeHandle:c6,useInsertionEffect:l6,useLayoutEffect:u6,useMemo:v6,useReducer:Cx,useRef:s6,useState:function(){return Cx(X0)},useDebugValue:H3,useDeferredValue:function(d){var D=Bu();return ts===null?D.memoizedState=d:d6(D,ts.memoizedState,d)},useTransition:function(){var d=Cx(X0)[0],D=Bu().memoizedState;return[d,D]},useMutableSource:e6,useSyncExternalStore:t6,useId:p6,unstable_isNewReconciler:!1};function up(d,D){try{var Y="",te=D;do Y+=e7(te),te=te.return;while(te);var ge=Y}catch(Se){ge=`
Error generating stack: `+Se.message+`
`+Se.stack}return{value:d,source:D,stack:ge,digest:null}}function Lx(d,D,Y){return{value:d,source:null,stack:Y??null,digest:D??null}}function Eb(d,D){try{console.error(D.value)}catch(Y){setTimeout(function(){throw Y})}}var C9=typeof WeakMap=="function"?WeakMap:Map;function x6(d,D,Y){Y=Vc(-1,Y),Y.tag=3,Y.payload={element:null};var te=D.value;return Y.callback=function(){n1||(n1=!0,Ob=te),Eb(d,D)},Y}function b6(d,D,Y){Y=Vc(-1,Y),Y.tag=3;var te=d.type.getDerivedStateFromError;if(typeof te=="function"){var ge=D.value;Y.payload=function(){return te(ge)},Y.callback=function(){Eb(d,D)}}var Se=d.stateNode;return Se!==null&&typeof Se.componentDidCatch=="function"&&(Y.callback=function(){Eb(d,D),typeof te!="function"&&(Gh===null?Gh=new Set([this]):Gh.add(this));var W=D.stack;this.componentDidCatch(D.value,{componentStack:W!==null?W:""})}),Y}function $5(d,D,Y){var te=d.pingCache;if(te===null){te=d.pingCache=new C9;var ge=new Set;te.set(D,ge)}else ge=te.get(D),ge===void 0&&(ge=new Set,te.set(D,ge));ge.has(Y)||(ge.add(Y),d=H9.bind(null,d,D,Y),D.then(d,d))}function J5(d){do{var D;if((D=d.tag===13)&&(D=d.memoizedState,D=D!==null?D.dehydrated!==null:!0),D)return d;d=d.return}while(d!==null);return null}function Q5(d,D,Y,te,ge){return d.mode&1?(d.flags|=65536,d.lanes=ge,d):(d===D?d.flags|=65536:(d.flags|=128,Y.flags|=131072,Y.flags&=-52805,Y.tag===1&&(Y.alternate===null?Y.tag=17:(D=Vc(-1,1),D.tag=2,Wh(Y,D,1))),Y.lanes|=1),d)}var L9=Xc.ReactCurrentOwner,Pl=!1;function fl(d,D,Y,te){D.child=d===null?QA(D,null,Y,te):sp(D,d.child,Y,te)}function q5(d,D,Y,te,ge){Y=Y.render;var Se=D.ref;return qd(D,ge),te=B3(d,D,Y,te,Se,ge),Y=N3(),d!==null&&!Pl?(D.updateQueue=d.updateQueue,D.flags&=-2053,d.lanes&=~ge,jc(d,D,ge)):(fo&&Y&&E3(D),D.flags|=1,fl(d,D,te,ge),D.child)}function eT(d,D,Y,te,ge){if(d===null){var Se=Y.type;return typeof Se=="function"&&!K3(Se)&&Se.defaultProps===void 0&&Y.compare===null&&Y.defaultProps===void 0?(D.tag=15,D.type=Se,w6(d,D,Se,te,ge)):(d=Py(Y.type,null,te,D,D.mode,ge),d.ref=D.ref,d.return=D,D.child=d)}if(Se=d.child,!(d.lanes&ge)){var W=Se.memoizedProps;if(Y=Y.compare,Y=Y!==null?Y:H0,Y(W,te)&&d.ref===D.ref)return jc(d,D,ge)}return D.flags|=1,d=jh(Se,te),d.ref=D.ref,d.return=D,D.child=d}function w6(d,D,Y,te,ge){if(d!==null){var Se=d.memoizedProps;if(H0(Se,te)&&d.ref===D.ref)if(Pl=!1,D.pendingProps=te=Se,(d.lanes&ge)!==0)d.flags&131072&&(Pl=!0);else return D.lanes=d.lanes,jc(d,D,ge)}return Cb(d,D,Y,te,ge)}function T6(d,D,Y){var te=D.pendingProps,ge=te.children,Se=d!==null?d.memoizedState:null;if(te.mode==="hidden")if(!(D.mode&1))D.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ji(Zd,ql),ql|=Y;else{if(!(Y&1073741824))return d=Se!==null?Se.baseLanes|Y:Y,D.lanes=D.childLanes=1073741824,D.memoizedState={baseLanes:d,cachePool:null,transitions:null},D.updateQueue=null,Ji(Zd,ql),ql|=d,null;D.memoizedState={baseLanes:0,cachePool:null,transitions:null},te=Se!==null?Se.baseLanes:Y,Ji(Zd,ql),ql|=te}else Se!==null?(te=Se.baseLanes|Y,D.memoizedState=null):te=Y,Ji(Zd,ql),ql|=te;return fl(d,D,ge,Y),D.child}function A6(d,D){var Y=D.ref;(d===null&&Y!==null||d!==null&&d.ref!==Y)&&(D.flags|=512,D.flags|=2097152)}function Cb(d,D,Y,te,ge){var Se=Dl(Y)?Wv:$s.current;return Se=ip(D,Se),qd(D,ge),Y=B3(d,D,Y,te,Se,ge),te=N3(),d!==null&&!Pl?(D.updateQueue=d.updateQueue,D.flags&=-2053,d.lanes&=~ge,jc(d,D,ge)):(fo&&te&&E3(D),D.flags|=1,fl(d,D,Y,ge),D.child)}function tT(d,D,Y,te,ge){if(Dl(Y)){var Se=!0;Zy(D)}else Se=!1;if(qd(D,ge),D.stateNode===null)Ey(d,D),$A(D,Y,te),Mb(D,Y,te,ge),te=!0;else if(d===null){var W=D.stateNode,H=D.memoizedProps;W.props=H;var e=W.context,g=Y.contextType;typeof g=="object"&&g!==null?g=Fu(g):(g=Dl(Y)?Wv:$s.current,g=ip(D,g));var R=Y.getDerivedStateFromProps,a=typeof R=="function"||typeof W.getSnapshotBeforeUpdate=="function";a||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(H!==te||e!==g)&&j5(D,W,te,g),Ih=!1;var C=D.memoizedState;W.state=C,Qy(D,te,W,ge),e=D.memoizedState,H!==te||C!==e||Rl.current||Ih?(typeof R=="function"&&(Sb(D,Y,R,te),e=D.memoizedState),(H=Ih||Y5(D,Y,H,te,C,e,g))?(a||typeof W.UNSAFE_componentWillMount!="function"&&typeof W.componentWillMount!="function"||(typeof W.componentWillMount=="function"&&W.componentWillMount(),typeof W.UNSAFE_componentWillMount=="function"&&W.UNSAFE_componentWillMount()),typeof W.componentDidMount=="function"&&(D.flags|=4194308)):(typeof W.componentDidMount=="function"&&(D.flags|=4194308),D.memoizedProps=te,D.memoizedState=e),W.props=te,W.state=e,W.context=g,te=H):(typeof W.componentDidMount=="function"&&(D.flags|=4194308),te=!1)}else{W=D.stateNode,XA(d,D),H=D.memoizedProps,g=D.type===D.elementType?H:yf(D.type,H),W.props=g,a=D.pendingProps,C=W.context,e=Y.contextType,typeof e=="object"&&e!==null?e=Fu(e):(e=Dl(Y)?Wv:$s.current,e=ip(D,e));var T=Y.getDerivedStateFromProps;(R=typeof T=="function"||typeof W.getSnapshotBeforeUpdate=="function")||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(H!==a||C!==e)&&j5(D,W,te,e),Ih=!1,C=D.memoizedState,W.state=C,Qy(D,te,W,ge);var v=D.memoizedState;H!==a||C!==v||Rl.current||Ih?(typeof T=="function"&&(Sb(D,Y,T,te),v=D.memoizedState),(g=Ih||Y5(D,Y,g,te,C,v,e)||!1)?(R||typeof W.UNSAFE_componentWillUpdate!="function"&&typeof W.componentWillUpdate!="function"||(typeof W.componentWillUpdate=="function"&&W.componentWillUpdate(te,v,e),typeof W.UNSAFE_componentWillUpdate=="function"&&W.UNSAFE_componentWillUpdate(te,v,e)),typeof W.componentDidUpdate=="function"&&(D.flags|=4),typeof W.getSnapshotBeforeUpdate=="function"&&(D.flags|=1024)):(typeof W.componentDidUpdate!="function"||H===d.memoizedProps&&C===d.memoizedState||(D.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||H===d.memoizedProps&&C===d.memoizedState||(D.flags|=1024),D.memoizedProps=te,D.memoizedState=v),W.props=te,W.state=v,W.context=e,te=g):(typeof W.componentDidUpdate!="function"||H===d.memoizedProps&&C===d.memoizedState||(D.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||H===d.memoizedProps&&C===d.memoizedState||(D.flags|=1024),te=!1)}return Lb(d,D,Y,te,Se,ge)}function Lb(d,D,Y,te,ge,Se){A6(d,D);var W=(D.flags&128)!==0;if(!te&&!W)return ge&&U5(D,Y,!1),jc(d,D,Se);te=D.stateNode,L9.current=D;var H=W&&typeof Y.getDerivedStateFromError!="function"?null:te.render();return D.flags|=1,d!==null&&W?(D.child=sp(D,d.child,null,Se),D.child=sp(D,null,H,Se)):fl(d,D,H,Se),D.memoizedState=te.state,ge&&U5(D,Y,!0),D.child}function S6(d){var D=d.stateNode;D.pendingContext?N5(d,D.pendingContext,D.pendingContext!==D.context):D.context&&N5(d,D.context,!1),_3(d,D.containerInfo)}function rT(d,D,Y,te,ge){return op(),L3(ge),D.flags|=256,fl(d,D,Y,te),D.child}var Pb={dehydrated:null,treeContext:null,retryLane:0};function Rb(d){return{baseLanes:d,cachePool:null,transitions:null}}function M6(d,D,Y){var te=D.pendingProps,ge=bo.current,Se=!1,W=(D.flags&128)!==0,H;if((H=W)||(H=d!==null&&d.memoizedState===null?!1:(ge&2)!==0),H?(Se=!0,D.flags&=-129):(d===null||d.memoizedState!==null)&&(ge|=1),Ji(bo,ge&1),d===null)return Tb(D),d=D.memoizedState,d!==null&&(d=d.dehydrated,d!==null)?(D.mode&1?d.data==="$!"?D.lanes=8:D.lanes=1073741824:D.lanes=1,null):(W=te.children,d=te.fallback,Se?(te=D.mode,Se=D.child,W={mode:"hidden",children:W},!(te&1)&&Se!==null?(Se.childLanes=0,Se.pendingProps=W):Se=I1(W,te,0,null),d=Hv(d,te,Y,null),Se.return=D,d.return=D,Se.sibling=d,D.child=Se,D.child.memoizedState=Rb(Y),D.memoizedState=Pb,d):V3(D,W));if(ge=d.memoizedState,ge!==null&&(H=ge.dehydrated,H!==null))return P9(d,D,W,te,H,ge,Y);if(Se){Se=te.fallback,W=D.mode,ge=d.child,H=ge.sibling;var e={mode:"hidden",children:te.children};return!(W&1)&&D.child!==ge?(te=D.child,te.childLanes=0,te.pendingProps=e,D.deletions=null):(te=jh(ge,e),te.subtreeFlags=ge.subtreeFlags&14680064),H!==null?Se=jh(H,Se):(Se=Hv(Se,W,Y,null),Se.flags|=2),Se.return=D,te.return=D,te.sibling=Se,D.child=te,te=Se,Se=D.child,W=d.child.memoizedState,W=W===null?Rb(Y):{baseLanes:W.baseLanes|Y,cachePool:null,transitions:W.transitions},Se.memoizedState=W,Se.childLanes=d.childLanes&~Y,D.memoizedState=Pb,te}return Se=d.child,d=Se.sibling,te=jh(Se,{mode:"visible",children:te.children}),!(D.mode&1)&&(te.lanes=Y),te.return=D,te.sibling=null,d!==null&&(Y=D.deletions,Y===null?(D.deletions=[d],D.flags|=16):Y.push(d)),D.child=te,D.memoizedState=null,te}function V3(d,D){return D=I1({mode:"visible",children:D},d.mode,0,null),D.return=d,d.child=D}function ny(d,D,Y,te){return te!==null&&L3(te),sp(D,d.child,null,Y),d=V3(D,D.pendingProps.children),d.flags|=2,D.memoizedState=null,d}function P9(d,D,Y,te,ge,Se,W){if(Y)return D.flags&256?(D.flags&=-257,te=Lx(Error(pa(422))),ny(d,D,W,te)):D.memoizedState!==null?(D.child=d.child,D.flags|=128,null):(Se=te.fallback,ge=D.mode,te=I1({mode:"visible",children:te.children},ge,0,null),Se=Hv(Se,ge,W,null),Se.flags|=2,te.return=D,Se.return=D,te.sibling=Se,D.child=te,D.mode&1&&sp(D,d.child,null,W),D.child.memoizedState=Rb(W),D.memoizedState=Pb,Se);if(!(D.mode&1))return ny(d,D,W,null);if(ge.data==="$!"){if(te=ge.nextSibling&&ge.nextSibling.dataset,te)var H=te.dgst;return te=H,Se=Error(pa(419)),te=Lx(Se,te,void 0),ny(d,D,W,te)}if(H=(W&d.childLanes)!==0,Pl||H){if(te=ps,te!==null){switch(W&-W){case 4:ge=2;break;case 16:ge=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:ge=32;break;case 536870912:ge=268435456;break;default:ge=0}ge=ge&(te.suspendedLanes|W)?0:ge,ge!==0&&ge!==Se.retryLane&&(Se.retryLane=ge,Yc(d,ge),wf(te,d,ge,-1))}return X3(),te=Lx(Error(pa(421))),ny(d,D,W,te)}return ge.data==="$?"?(D.flags|=128,D.child=d.child,D=V9.bind(null,d),ge._reactRetry=D,null):(d=Se.treeContext,tu=Vh(ge.nextSibling),ru=D,fo=!0,xf=null,d!==null&&(Du[Iu++]=Uc,Du[Iu++]=Hc,Du[Iu++]=Gv,Uc=d.id,Hc=d.overflow,Gv=D),D=V3(D,te.children),D.flags|=4096,D)}function nT(d,D,Y){d.lanes|=D;var te=d.alternate;te!==null&&(te.lanes|=D),Ab(d.return,D,Y)}function Px(d,D,Y,te,ge){var Se=d.memoizedState;Se===null?d.memoizedState={isBackwards:D,rendering:null,renderingStartTime:0,last:te,tail:Y,tailMode:ge}:(Se.isBackwards=D,Se.rendering=null,Se.renderingStartTime=0,Se.last=te,Se.tail=Y,Se.tailMode=ge)}function E6(d,D,Y){var te=D.pendingProps,ge=te.revealOrder,Se=te.tail;if(fl(d,D,te.children,Y),te=bo.current,te&2)te=te&1|2,D.flags|=128;else{if(d!==null&&d.flags&128)e:for(d=D.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&nT(d,Y,D);else if(d.tag===19)nT(d,Y,D);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===D)break e;for(;d.sibling===null;){if(d.return===null||d.return===D)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}te&=1}if(Ji(bo,te),!(D.mode&1))D.memoizedState=null;else switch(ge){case"forwards":for(Y=D.child,ge=null;Y!==null;)d=Y.alternate,d!==null&&qy(d)===null&&(ge=Y),Y=Y.sibling;Y=ge,Y===null?(ge=D.child,D.child=null):(ge=Y.sibling,Y.sibling=null),Px(D,!1,ge,Y,Se);break;case"backwards":for(Y=null,ge=D.child,D.child=null;ge!==null;){if(d=ge.alternate,d!==null&&qy(d)===null){D.child=ge;break}d=ge.sibling,ge.sibling=Y,Y=ge,ge=d}Px(D,!0,Y,null,Se);break;case"together":Px(D,!1,null,null,void 0);break;default:D.memoizedState=null}return D.child}function Ey(d,D){!(D.mode&1)&&d!==null&&(d.alternate=null,D.alternate=null,D.flags|=2)}function jc(d,D,Y){if(d!==null&&(D.dependencies=d.dependencies),jv|=D.lanes,!(Y&D.childLanes))return null;if(d!==null&&D.child!==d.child)throw Error(pa(153));if(D.child!==null){for(d=D.child,Y=jh(d,d.pendingProps),D.child=Y,Y.return=D;d.sibling!==null;)d=d.sibling,Y=Y.sibling=jh(d,d.pendingProps),Y.return=D;Y.sibling=null}return D.child}function R9(d,D,Y){switch(D.tag){case 3:S6(D),op();break;case 5:qA(D);break;case 1:Dl(D.type)&&Zy(D);break;case 4:_3(D,D.stateNode.containerInfo);break;case 10:var te=D.type._context,ge=D.memoizedProps.value;Ji($y,te._currentValue),te._currentValue=ge;break;case 13:if(te=D.memoizedState,te!==null)return te.dehydrated!==null?(Ji(bo,bo.current&1),D.flags|=128,null):Y&D.child.childLanes?M6(d,D,Y):(Ji(bo,bo.current&1),d=jc(d,D,Y),d!==null?d.sibling:null);Ji(bo,bo.current&1);break;case 19:if(te=(Y&D.childLanes)!==0,d.flags&128){if(te)return E6(d,D,Y);D.flags|=128}if(ge=D.memoizedState,ge!==null&&(ge.rendering=null,ge.tail=null,ge.lastEffect=null),Ji(bo,bo.current),te)break;return null;case 22:case 23:return D.lanes=0,T6(d,D,Y)}return jc(d,D,Y)}var C6,Db,L6,P6;C6=function(d,D){for(var Y=D.child;Y!==null;){if(Y.tag===5||Y.tag===6)d.appendChild(Y.stateNode);else if(Y.tag!==4&&Y.child!==null){Y.child.return=Y,Y=Y.child;continue}if(Y===D)break;for(;Y.sibling===null;){if(Y.return===null||Y.return===D)return;Y=Y.return}Y.sibling.return=Y.return,Y=Y.sibling}};Db=function(){};L6=function(d,D,Y,te){var ge=d.memoizedProps;if(ge!==te){d=D.stateNode,Bv(tc.current);var Se=null;switch(Y){case"input":ge=qx(d,ge),te=qx(d,te),Se=[];break;case"select":ge=To({},ge,{value:void 0}),te=To({},te,{value:void 0}),Se=[];break;case"textarea":ge=rb(d,ge),te=rb(d,te),Se=[];break;default:typeof ge.onClick!="function"&&typeof te.onClick=="function"&&(d.onclick=Yy)}ab(Y,te);var W;Y=null;for(g in ge)if(!te.hasOwnProperty(g)&&ge.hasOwnProperty(g)&&ge[g]!=null)if(g==="style"){var H=ge[g];for(W in H)H.hasOwnProperty(W)&&(Y||(Y={}),Y[W]="")}else g!=="dangerouslySetInnerHTML"&&g!=="children"&&g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(_0.hasOwnProperty(g)?Se||(Se=[]):(Se=Se||[]).push(g,null));for(g in te){var e=te[g];if(H=ge!=null?ge[g]:void 0,te.hasOwnProperty(g)&&e!==H&&(e!=null||H!=null))if(g==="style")if(H){for(W in H)!H.hasOwnProperty(W)||e&&e.hasOwnProperty(W)||(Y||(Y={}),Y[W]="");for(W in e)e.hasOwnProperty(W)&&H[W]!==e[W]&&(Y||(Y={}),Y[W]=e[W])}else Y||(Se||(Se=[]),Se.push(g,Y)),Y=e;else g==="dangerouslySetInnerHTML"?(e=e?e.__html:void 0,H=H?H.__html:void 0,e!=null&&H!==e&&(Se=Se||[]).push(g,e)):g==="children"?typeof e!="string"&&typeof e!="number"||(Se=Se||[]).push(g,""+e):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&(_0.hasOwnProperty(g)?(e!=null&&g==="onScroll"&&no("scroll",d),Se||H===e||(Se=[])):(Se=Se||[]).push(g,e))}Y&&(Se=Se||[]).push("style",Y);var g=Se;(D.updateQueue=g)&&(D.flags|=4)}};P6=function(d,D,Y,te){Y!==te&&(D.flags|=4)};function t0(d,D){if(!fo)switch(d.tailMode){case"hidden":D=d.tail;for(var Y=null;D!==null;)D.alternate!==null&&(Y=D),D=D.sibling;Y===null?d.tail=null:Y.sibling=null;break;case"collapsed":Y=d.tail;for(var te=null;Y!==null;)Y.alternate!==null&&(te=Y),Y=Y.sibling;te===null?D||d.tail===null?d.tail=null:d.tail.sibling=null:te.sibling=null}}function Gs(d){var D=d.alternate!==null&&d.alternate.child===d.child,Y=0,te=0;if(D)for(var ge=d.child;ge!==null;)Y|=ge.lanes|ge.childLanes,te|=ge.subtreeFlags&14680064,te|=ge.flags&14680064,ge.return=d,ge=ge.sibling;else for(ge=d.child;ge!==null;)Y|=ge.lanes|ge.childLanes,te|=ge.subtreeFlags,te|=ge.flags,ge.return=d,ge=ge.sibling;return d.subtreeFlags|=te,d.childLanes=Y,D}function D9(d,D,Y){var te=D.pendingProps;switch(C3(D),D.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gs(D),null;case 1:return Dl(D.type)&&jy(),Gs(D),null;case 3:return te=D.stateNode,lp(),ao(Rl),ao($s),O3(),te.pendingContext&&(te.context=te.pendingContext,te.pendingContext=null),(d===null||d.child===null)&&(ty(D)?D.flags|=4:d===null||d.memoizedState.isDehydrated&&!(D.flags&256)||(D.flags|=1024,xf!==null&&(Nb(xf),xf=null))),Db(d,D),Gs(D),null;case 5:z3(D);var ge=Bv(j0.current);if(Y=D.type,d!==null&&D.stateNode!=null)L6(d,D,Y,te,ge),d.ref!==D.ref&&(D.flags|=512,D.flags|=2097152);else{if(!te){if(D.stateNode===null)throw Error(pa(166));return Gs(D),null}if(d=Bv(tc.current),ty(D)){te=D.stateNode,Y=D.type;var Se=D.memoizedProps;switch(te[Qf]=D,te[G0]=Se,d=(D.mode&1)!==0,Y){case"dialog":no("cancel",te),no("close",te);break;case"iframe":case"object":case"embed":no("load",te);break;case"video":case"audio":for(ge=0;ge<g0.length;ge++)no(g0[ge],te);break;case"source":no("error",te);break;case"img":case"image":case"link":no("error",te),no("load",te);break;case"details":no("toggle",te);break;case"input":h5(te,Se),no("invalid",te);break;case"select":te._wrapperState={wasMultiple:!!Se.multiple},no("invalid",te);break;case"textarea":d5(te,Se),no("invalid",te)}ab(Y,Se),ge=null;for(var W in Se)if(Se.hasOwnProperty(W)){var H=Se[W];W==="children"?typeof H=="string"?te.textContent!==H&&(Se.suppressHydrationWarning!==!0&&ey(te.textContent,H,d),ge=["children",H]):typeof H=="number"&&te.textContent!==""+H&&(Se.suppressHydrationWarning!==!0&&ey(te.textContent,H,d),ge=["children",""+H]):_0.hasOwnProperty(W)&&H!=null&&W==="onScroll"&&no("scroll",te)}switch(Y){case"input":jg(te),v5(te,Se,!0);break;case"textarea":jg(te),p5(te);break;case"select":case"option":break;default:typeof Se.onClick=="function"&&(te.onclick=Yy)}te=ge,D.updateQueue=te,te!==null&&(D.flags|=4)}else{W=ge.nodeType===9?ge:ge.ownerDocument,d==="http://www.w3.org/1999/xhtml"&&(d=rA(Y)),d==="http://www.w3.org/1999/xhtml"?Y==="script"?(d=W.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild)):typeof te.is=="string"?d=W.createElement(Y,{is:te.is}):(d=W.createElement(Y),Y==="select"&&(W=d,te.multiple?W.multiple=!0:te.size&&(W.size=te.size))):d=W.createElementNS(d,Y),d[Qf]=D,d[G0]=te,C6(d,D,!1,!1),D.stateNode=d;e:{switch(W=ib(Y,te),Y){case"dialog":no("cancel",d),no("close",d),ge=te;break;case"iframe":case"object":case"embed":no("load",d),ge=te;break;case"video":case"audio":for(ge=0;ge<g0.length;ge++)no(g0[ge],d);ge=te;break;case"source":no("error",d),ge=te;break;case"img":case"image":case"link":no("error",d),no("load",d),ge=te;break;case"details":no("toggle",d),ge=te;break;case"input":h5(d,te),ge=qx(d,te),no("invalid",d);break;case"option":ge=te;break;case"select":d._wrapperState={wasMultiple:!!te.multiple},ge=To({},te,{value:void 0}),no("invalid",d);break;case"textarea":d5(d,te),ge=rb(d,te),no("invalid",d);break;default:ge=te}ab(Y,ge),H=ge;for(Se in H)if(H.hasOwnProperty(Se)){var e=H[Se];Se==="style"?iA(d,e):Se==="dangerouslySetInnerHTML"?(e=e?e.__html:void 0,e!=null&&nA(d,e)):Se==="children"?typeof e=="string"?(Y!=="textarea"||e!=="")&&z0(d,e):typeof e=="number"&&z0(d,""+e):Se!=="suppressContentEditableWarning"&&Se!=="suppressHydrationWarning"&&Se!=="autoFocus"&&(_0.hasOwnProperty(Se)?e!=null&&Se==="onScroll"&&no("scroll",d):e!=null&&h3(d,Se,e,W))}switch(Y){case"input":jg(d),v5(d,te,!1);break;case"textarea":jg(d),p5(d);break;case"option":te.value!=null&&d.setAttribute("value",""+Zh(te.value));break;case"select":d.multiple=!!te.multiple,Se=te.value,Se!=null?Kd(d,!!te.multiple,Se,!1):te.defaultValue!=null&&Kd(d,!!te.multiple,te.defaultValue,!0);break;default:typeof ge.onClick=="function"&&(d.onclick=Yy)}switch(Y){case"button":case"input":case"select":case"textarea":te=!!te.autoFocus;break e;case"img":te=!0;break e;default:te=!1}}te&&(D.flags|=4)}D.ref!==null&&(D.flags|=512,D.flags|=2097152)}return Gs(D),null;case 6:if(d&&D.stateNode!=null)P6(d,D,d.memoizedProps,te);else{if(typeof te!="string"&&D.stateNode===null)throw Error(pa(166));if(Y=Bv(j0.current),Bv(tc.current),ty(D)){if(te=D.stateNode,Y=D.memoizedProps,te[Qf]=D,(Se=te.nodeValue!==Y)&&(d=ru,d!==null))switch(d.tag){case 3:ey(te.nodeValue,Y,(d.mode&1)!==0);break;case 5:d.memoizedProps.suppressHydrationWarning!==!0&&ey(te.nodeValue,Y,(d.mode&1)!==0)}Se&&(D.flags|=4)}else te=(Y.nodeType===9?Y:Y.ownerDocument).createTextNode(te),te[Qf]=D,D.stateNode=te}return Gs(D),null;case 13:if(ao(bo),te=D.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(fo&&tu!==null&&D.mode&1&&!(D.flags&128))jA(),op(),D.flags|=98560,Se=!1;else if(Se=ty(D),te!==null&&te.dehydrated!==null){if(d===null){if(!Se)throw Error(pa(318));if(Se=D.memoizedState,Se=Se!==null?Se.dehydrated:null,!Se)throw Error(pa(317));Se[Qf]=D}else op(),!(D.flags&128)&&(D.memoizedState=null),D.flags|=4;Gs(D),Se=!1}else xf!==null&&(Nb(xf),xf=null),Se=!0;if(!Se)return D.flags&65536?D:null}return D.flags&128?(D.lanes=Y,D):(te=te!==null,te!==(d!==null&&d.memoizedState!==null)&&te&&(D.child.flags|=8192,D.mode&1&&(d===null||bo.current&1?rs===0&&(rs=3):X3())),D.updateQueue!==null&&(D.flags|=4),Gs(D),null);case 4:return lp(),Db(d,D),d===null&&V0(D.stateNode.containerInfo),Gs(D),null;case 10:return D3(D.type._context),Gs(D),null;case 17:return Dl(D.type)&&jy(),Gs(D),null;case 19:if(ao(bo),Se=D.memoizedState,Se===null)return Gs(D),null;if(te=(D.flags&128)!==0,W=Se.rendering,W===null)if(te)t0(Se,!1);else{if(rs!==0||d!==null&&d.flags&128)for(d=D.child;d!==null;){if(W=qy(d),W!==null){for(D.flags|=128,t0(Se,!1),te=W.updateQueue,te!==null&&(D.updateQueue=te,D.flags|=4),D.subtreeFlags=0,te=Y,Y=D.child;Y!==null;)Se=Y,d=te,Se.flags&=14680066,W=Se.alternate,W===null?(Se.childLanes=0,Se.lanes=d,Se.child=null,Se.subtreeFlags=0,Se.memoizedProps=null,Se.memoizedState=null,Se.updateQueue=null,Se.dependencies=null,Se.stateNode=null):(Se.childLanes=W.childLanes,Se.lanes=W.lanes,Se.child=W.child,Se.subtreeFlags=0,Se.deletions=null,Se.memoizedProps=W.memoizedProps,Se.memoizedState=W.memoizedState,Se.updateQueue=W.updateQueue,Se.type=W.type,d=W.dependencies,Se.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),Y=Y.sibling;return Ji(bo,bo.current&1|2),D.child}d=d.sibling}Se.tail!==null&&Fo()>fp&&(D.flags|=128,te=!0,t0(Se,!1),D.lanes=4194304)}else{if(!te)if(d=qy(W),d!==null){if(D.flags|=128,te=!0,Y=d.updateQueue,Y!==null&&(D.updateQueue=Y,D.flags|=4),t0(Se,!0),Se.tail===null&&Se.tailMode==="hidden"&&!W.alternate&&!fo)return Gs(D),null}else 2*Fo()-Se.renderingStartTime>fp&&Y!==1073741824&&(D.flags|=128,te=!0,t0(Se,!1),D.lanes=4194304);Se.isBackwards?(W.sibling=D.child,D.child=W):(Y=Se.last,Y!==null?Y.sibling=W:D.child=W,Se.last=W)}return Se.tail!==null?(D=Se.tail,Se.rendering=D,Se.tail=D.sibling,Se.renderingStartTime=Fo(),D.sibling=null,Y=bo.current,Ji(bo,te?Y&1|2:Y&1),D):(Gs(D),null);case 22:case 23:return Z3(),te=D.memoizedState!==null,d!==null&&d.memoizedState!==null!==te&&(D.flags|=8192),te&&D.mode&1?ql&1073741824&&(Gs(D),D.subtreeFlags&6&&(D.flags|=8192)):Gs(D),null;case 24:return null;case 25:return null}throw Error(pa(156,D.tag))}function I9(d,D){switch(C3(D),D.tag){case 1:return Dl(D.type)&&jy(),d=D.flags,d&65536?(D.flags=d&-65537|128,D):null;case 3:return lp(),ao(Rl),ao($s),O3(),d=D.flags,d&65536&&!(d&128)?(D.flags=d&-65537|128,D):null;case 5:return z3(D),null;case 13:if(ao(bo),d=D.memoizedState,d!==null&&d.dehydrated!==null){if(D.alternate===null)throw Error(pa(340));op()}return d=D.flags,d&65536?(D.flags=d&-65537|128,D):null;case 19:return ao(bo),null;case 4:return lp(),null;case 10:return D3(D.type._context),null;case 22:case 23:return Z3(),null;case 24:return null;default:return null}}var ay=!1,Xs=!1,k9=typeof WeakSet=="function"?WeakSet:Set,za=null;function jd(d,D){var Y=d.ref;if(Y!==null)if(typeof Y=="function")try{Y(null)}catch(te){Po(d,D,te)}else Y.current=null}function Ib(d,D,Y){try{Y()}catch(te){Po(d,D,te)}}var aT=!1;function _9(d,D){if(pb=Vy,d=kA(),M3(d)){if("selectionStart"in d)var Y={start:d.selectionStart,end:d.selectionEnd};else e:{Y=(Y=d.ownerDocument)&&Y.defaultView||window;var te=Y.getSelection&&Y.getSelection();if(te&&te.rangeCount!==0){Y=te.anchorNode;var ge=te.anchorOffset,Se=te.focusNode;te=te.focusOffset;try{Y.nodeType,Se.nodeType}catch{Y=null;break e}var W=0,H=-1,e=-1,g=0,R=0,a=d,C=null;t:for(;;){for(var T;a!==Y||ge!==0&&a.nodeType!==3||(H=W+ge),a!==Se||te!==0&&a.nodeType!==3||(e=W+te),a.nodeType===3&&(W+=a.nodeValue.length),(T=a.firstChild)!==null;)C=a,a=T;for(;;){if(a===d)break t;if(C===Y&&++g===ge&&(H=W),C===Se&&++R===te&&(e=W),(T=a.nextSibling)!==null)break;a=C,C=a.parentNode}a=T}Y=H===-1||e===-1?null:{start:H,end:e}}else Y=null}Y=Y||{start:0,end:0}}else Y=null;for(gb={focusedElem:d,selectionRange:Y},Vy=!1,za=D;za!==null;)if(D=za,d=D.child,(D.subtreeFlags&1028)!==0&&d!==null)d.return=D,za=d;else for(;za!==null;){D=za;try{var v=D.alternate;if(D.flags&1024)switch(D.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,t=v.memoizedState,r=D.stateNode,s=r.getSnapshotBeforeUpdate(D.elementType===D.type?y:yf(D.type,y),t);r.__reactInternalSnapshotBeforeUpdate=s}break;case 3:var n=D.stateNode.containerInfo;n.nodeType===1?n.textContent="":n.nodeType===9&&n.documentElement&&n.removeChild(n.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(pa(163))}}catch(o){Po(D,D.return,o)}if(d=D.sibling,d!==null){d.return=D.return,za=d;break}za=D.return}return v=aT,aT=!1,v}function M0(d,D,Y){var te=D.updateQueue;if(te=te!==null?te.lastEffect:null,te!==null){var ge=te=te.next;do{if((ge.tag&d)===d){var Se=ge.destroy;ge.destroy=void 0,Se!==void 0&&Ib(D,Y,Se)}ge=ge.next}while(ge!==te)}}function R1(d,D){if(D=D.updateQueue,D=D!==null?D.lastEffect:null,D!==null){var Y=D=D.next;do{if((Y.tag&d)===d){var te=Y.create;Y.destroy=te()}Y=Y.next}while(Y!==D)}}function kb(d){var D=d.ref;if(D!==null){var Y=d.stateNode;switch(d.tag){case 5:d=Y;break;default:d=Y}typeof D=="function"?D(d):D.current=d}}function R6(d){var D=d.alternate;D!==null&&(d.alternate=null,R6(D)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(D=d.stateNode,D!==null&&(delete D[Qf],delete D[G0],delete D[xb],delete D[g9],delete D[y9])),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function D6(d){return d.tag===5||d.tag===3||d.tag===4}function iT(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||D6(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function _b(d,D,Y){var te=d.tag;if(te===5||te===6)d=d.stateNode,D?Y.nodeType===8?Y.parentNode.insertBefore(d,D):Y.insertBefore(d,D):(Y.nodeType===8?(D=Y.parentNode,D.insertBefore(d,Y)):(D=Y,D.appendChild(d)),Y=Y._reactRootContainer,Y!=null||D.onclick!==null||(D.onclick=Yy));else if(te!==4&&(d=d.child,d!==null))for(_b(d,D,Y),d=d.sibling;d!==null;)_b(d,D,Y),d=d.sibling}function zb(d,D,Y){var te=d.tag;if(te===5||te===6)d=d.stateNode,D?Y.insertBefore(d,D):Y.appendChild(d);else if(te!==4&&(d=d.child,d!==null))for(zb(d,D,Y),d=d.sibling;d!==null;)zb(d,D,Y),d=d.sibling}var Es=null,mf=!1;function Ch(d,D,Y){for(Y=Y.child;Y!==null;)I6(d,D,Y),Y=Y.sibling}function I6(d,D,Y){if(ec&&typeof ec.onCommitFiberUnmount=="function")try{ec.onCommitFiberUnmount(T1,Y)}catch{}switch(Y.tag){case 5:Xs||jd(Y,D);case 6:var te=Es,ge=mf;Es=null,Ch(d,D,Y),Es=te,mf=ge,Es!==null&&(mf?(d=Es,Y=Y.stateNode,d.nodeType===8?d.parentNode.removeChild(Y):d.removeChild(Y)):Es.removeChild(Y.stateNode));break;case 18:Es!==null&&(mf?(d=Es,Y=Y.stateNode,d.nodeType===8?Tx(d.parentNode,Y):d.nodeType===1&&Tx(d,Y),N0(d)):Tx(Es,Y.stateNode));break;case 4:te=Es,ge=mf,Es=Y.stateNode.containerInfo,mf=!0,Ch(d,D,Y),Es=te,mf=ge;break;case 0:case 11:case 14:case 15:if(!Xs&&(te=Y.updateQueue,te!==null&&(te=te.lastEffect,te!==null))){ge=te=te.next;do{var Se=ge,W=Se.destroy;Se=Se.tag,W!==void 0&&(Se&2||Se&4)&&Ib(Y,D,W),ge=ge.next}while(ge!==te)}Ch(d,D,Y);break;case 1:if(!Xs&&(jd(Y,D),te=Y.stateNode,typeof te.componentWillUnmount=="function"))try{te.props=Y.memoizedProps,te.state=Y.memoizedState,te.componentWillUnmount()}catch(H){Po(Y,D,H)}Ch(d,D,Y);break;case 21:Ch(d,D,Y);break;case 22:Y.mode&1?(Xs=(te=Xs)||Y.memoizedState!==null,Ch(d,D,Y),Xs=te):Ch(d,D,Y);break;default:Ch(d,D,Y)}}function oT(d){var D=d.updateQueue;if(D!==null){d.updateQueue=null;var Y=d.stateNode;Y===null&&(Y=d.stateNode=new k9),D.forEach(function(te){var ge=W9.bind(null,d,te);Y.has(te)||(Y.add(te),te.then(ge,ge))})}}function pf(d,D){var Y=D.deletions;if(Y!==null)for(var te=0;te<Y.length;te++){var ge=Y[te];try{var Se=d,W=D,H=W;e:for(;H!==null;){switch(H.tag){case 5:Es=H.stateNode,mf=!1;break e;case 3:Es=H.stateNode.containerInfo,mf=!0;break e;case 4:Es=H.stateNode.containerInfo,mf=!0;break e}H=H.return}if(Es===null)throw Error(pa(160));I6(Se,W,ge),Es=null,mf=!1;var e=ge.alternate;e!==null&&(e.return=null),ge.return=null}catch(g){Po(ge,D,g)}}if(D.subtreeFlags&12854)for(D=D.child;D!==null;)k6(D,d),D=D.sibling}function k6(d,D){var Y=d.alternate,te=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:if(pf(D,d),Zf(d),te&4){try{M0(3,d,d.return),R1(3,d)}catch(y){Po(d,d.return,y)}try{M0(5,d,d.return)}catch(y){Po(d,d.return,y)}}break;case 1:pf(D,d),Zf(d),te&512&&Y!==null&&jd(Y,Y.return);break;case 5:if(pf(D,d),Zf(d),te&512&&Y!==null&&jd(Y,Y.return),d.flags&32){var ge=d.stateNode;try{z0(ge,"")}catch(y){Po(d,d.return,y)}}if(te&4&&(ge=d.stateNode,ge!=null)){var Se=d.memoizedProps,W=Y!==null?Y.memoizedProps:Se,H=d.type,e=d.updateQueue;if(d.updateQueue=null,e!==null)try{H==="input"&&Se.type==="radio"&&Se.name!=null&&eA(ge,Se),ib(H,W);var g=ib(H,Se);for(W=0;W<e.length;W+=2){var R=e[W],a=e[W+1];R==="style"?iA(ge,a):R==="dangerouslySetInnerHTML"?nA(ge,a):R==="children"?z0(ge,a):h3(ge,R,a,g)}switch(H){case"input":eb(ge,Se);break;case"textarea":tA(ge,Se);break;case"select":var C=ge._wrapperState.wasMultiple;ge._wrapperState.wasMultiple=!!Se.multiple;var T=Se.value;T!=null?Kd(ge,!!Se.multiple,T,!1):C!==!!Se.multiple&&(Se.defaultValue!=null?Kd(ge,!!Se.multiple,Se.defaultValue,!0):Kd(ge,!!Se.multiple,Se.multiple?[]:"",!1))}ge[G0]=Se}catch(y){Po(d,d.return,y)}}break;case 6:if(pf(D,d),Zf(d),te&4){if(d.stateNode===null)throw Error(pa(162));ge=d.stateNode,Se=d.memoizedProps;try{ge.nodeValue=Se}catch(y){Po(d,d.return,y)}}break;case 3:if(pf(D,d),Zf(d),te&4&&Y!==null&&Y.memoizedState.isDehydrated)try{N0(D.containerInfo)}catch(y){Po(d,d.return,y)}break;case 4:pf(D,d),Zf(d);break;case 13:pf(D,d),Zf(d),ge=d.child,ge.flags&8192&&(Se=ge.memoizedState!==null,ge.stateNode.isHidden=Se,!Se||ge.alternate!==null&&ge.alternate.memoizedState!==null||(Y3=Fo())),te&4&&oT(d);break;case 22:if(R=Y!==null&&Y.memoizedState!==null,d.mode&1?(Xs=(g=Xs)||R,pf(D,d),Xs=g):pf(D,d),Zf(d),te&8192){if(g=d.memoizedState!==null,(d.stateNode.isHidden=g)&&!R&&d.mode&1)for(za=d,R=d.child;R!==null;){for(a=za=R;za!==null;){switch(C=za,T=C.child,C.tag){case 0:case 11:case 14:case 15:M0(4,C,C.return);break;case 1:jd(C,C.return);var v=C.stateNode;if(typeof v.componentWillUnmount=="function"){te=C,Y=C.return;try{D=te,v.props=D.memoizedProps,v.state=D.memoizedState,v.componentWillUnmount()}catch(y){Po(te,Y,y)}}break;case 5:jd(C,C.return);break;case 22:if(C.memoizedState!==null){lT(a);continue}}T!==null?(T.return=C,za=T):lT(a)}R=R.sibling}e:for(R=null,a=d;;){if(a.tag===5){if(R===null){R=a;try{ge=a.stateNode,g?(Se=ge.style,typeof Se.setProperty=="function"?Se.setProperty("display","none","important"):Se.display="none"):(H=a.stateNode,e=a.memoizedProps.style,W=e!=null&&e.hasOwnProperty("display")?e.display:null,H.style.display=aA("display",W))}catch(y){Po(d,d.return,y)}}}else if(a.tag===6){if(R===null)try{a.stateNode.nodeValue=g?"":a.memoizedProps}catch(y){Po(d,d.return,y)}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===d)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===d)break e;for(;a.sibling===null;){if(a.return===null||a.return===d)break e;R===a&&(R=null),a=a.return}R===a&&(R=null),a.sibling.return=a.return,a=a.sibling}}break;case 19:pf(D,d),Zf(d),te&4&&oT(d);break;case 21:break;default:pf(D,d),Zf(d)}}function Zf(d){var D=d.flags;if(D&2){try{e:{for(var Y=d.return;Y!==null;){if(D6(Y)){var te=Y;break e}Y=Y.return}throw Error(pa(160))}switch(te.tag){case 5:var ge=te.stateNode;te.flags&32&&(z0(ge,""),te.flags&=-33);var Se=iT(d);zb(d,Se,ge);break;case 3:case 4:var W=te.stateNode.containerInfo,H=iT(d);_b(d,H,W);break;default:throw Error(pa(161))}}catch(e){Po(d,d.return,e)}d.flags&=-3}D&4096&&(d.flags&=-4097)}function z9(d,D,Y){za=d,_6(d)}function _6(d,D,Y){for(var te=(d.mode&1)!==0;za!==null;){var ge=za,Se=ge.child;if(ge.tag===22&&te){var W=ge.memoizedState!==null||ay;if(!W){var H=ge.alternate,e=H!==null&&H.memoizedState!==null||Xs;H=ay;var g=Xs;if(ay=W,(Xs=e)&&!g)for(za=ge;za!==null;)W=za,e=W.child,W.tag===22&&W.memoizedState!==null?uT(ge):e!==null?(e.return=W,za=e):uT(ge);for(;Se!==null;)za=Se,_6(Se),Se=Se.sibling;za=ge,ay=H,Xs=g}sT(d)}else ge.subtreeFlags&8772&&Se!==null?(Se.return=ge,za=Se):sT(d)}}function sT(d){for(;za!==null;){var D=za;if(D.flags&8772){var Y=D.alternate;try{if(D.flags&8772)switch(D.tag){case 0:case 11:case 15:Xs||R1(5,D);break;case 1:var te=D.stateNode;if(D.flags&4&&!Xs)if(Y===null)te.componentDidMount();else{var ge=D.elementType===D.type?Y.memoizedProps:yf(D.type,Y.memoizedProps);te.componentDidUpdate(ge,Y.memoizedState,te.__reactInternalSnapshotBeforeUpdate)}var Se=D.updateQueue;Se!==null&&G5(D,Se,te);break;case 3:var W=D.updateQueue;if(W!==null){if(Y=null,D.child!==null)switch(D.child.tag){case 5:Y=D.child.stateNode;break;case 1:Y=D.child.stateNode}G5(D,W,Y)}break;case 5:var H=D.stateNode;if(Y===null&&D.flags&4){Y=H;var e=D.memoizedProps;switch(D.type){case"button":case"input":case"select":case"textarea":e.autoFocus&&Y.focus();break;case"img":e.src&&(Y.src=e.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(D.memoizedState===null){var g=D.alternate;if(g!==null){var R=g.memoizedState;if(R!==null){var a=R.dehydrated;a!==null&&N0(a)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(pa(163))}Xs||D.flags&512&&kb(D)}catch(C){Po(D,D.return,C)}}if(D===d){za=null;break}if(Y=D.sibling,Y!==null){Y.return=D.return,za=Y;break}za=D.return}}function lT(d){for(;za!==null;){var D=za;if(D===d){za=null;break}var Y=D.sibling;if(Y!==null){Y.return=D.return,za=Y;break}za=D.return}}function uT(d){for(;za!==null;){var D=za;try{switch(D.tag){case 0:case 11:case 15:var Y=D.return;try{R1(4,D)}catch(e){Po(D,Y,e)}break;case 1:var te=D.stateNode;if(typeof te.componentDidMount=="function"){var ge=D.return;try{te.componentDidMount()}catch(e){Po(D,ge,e)}}var Se=D.return;try{kb(D)}catch(e){Po(D,Se,e)}break;case 5:var W=D.return;try{kb(D)}catch(e){Po(D,W,e)}}}catch(e){Po(D,D.return,e)}if(D===d){za=null;break}var H=D.sibling;if(H!==null){H.return=D.return,za=H;break}za=D.return}}var O9=Math.ceil,r1=Xc.ReactCurrentDispatcher,W3=Xc.ReactCurrentOwner,zu=Xc.ReactCurrentBatchConfig,Ci=0,ps=null,Zo=null,Ls=0,ql=0,Zd=Qh(0),rs=0,$0=null,jv=0,D1=0,G3=0,E0=null,Ll=null,Y3=0,fp=1/0,Fc=null,n1=!1,Ob=null,Gh=null,iy=!1,Oh=null,a1=0,C0=0,Fb=null,Cy=-1,Ly=0;function cl(){return Ci&6?Fo():Cy!==-1?Cy:Cy=Fo()}function Yh(d){return d.mode&1?Ci&2&&Ls!==0?Ls&-Ls:x9.transition!==null?(Ly===0&&(Ly=yA()),Ly):(d=Ni,d!==0||(d=window.event,d=d===void 0?16:SA(d.type)),d):1}function wf(d,D,Y,te){if(50<C0)throw C0=0,Fb=null,Error(pa(185));og(d,Y,te),(!(Ci&2)||d!==ps)&&(d===ps&&(!(Ci&2)&&(D1|=Y),rs===4&&_h(d,Ls)),Il(d,te),Y===1&&Ci===0&&!(D.mode&1)&&(fp=Fo()+500,C1&&qh()))}function Il(d,D){var Y=d.callbackNode;x7(d,D);var te=Hy(d,d===ps?Ls:0);if(te===0)Y!==null&&m5(Y),d.callbackNode=null,d.callbackPriority=0;else if(D=te&-te,d.callbackPriority!==D){if(Y!=null&&m5(Y),D===1)d.tag===0?m9(fT.bind(null,d)):WA(fT.bind(null,d)),d9(function(){!(Ci&6)&&qh()}),Y=null;else{switch(mA(te)){case 1:Y=y3;break;case 4:Y=pA;break;case 16:Y=Uy;break;case 536870912:Y=gA;break;default:Y=Uy}Y=V6(Y,z6.bind(null,d))}d.callbackPriority=D,d.callbackNode=Y}}function z6(d,D){if(Cy=-1,Ly=0,Ci&6)throw Error(pa(327));var Y=d.callbackNode;if(ep()&&d.callbackNode!==Y)return null;var te=Hy(d,d===ps?Ls:0);if(te===0)return null;if(te&30||te&d.expiredLanes||D)D=i1(d,te);else{D=te;var ge=Ci;Ci|=2;var Se=F6();(ps!==d||Ls!==D)&&(Fc=null,fp=Fo()+500,Uv(d,D));do try{N9();break}catch(H){O6(d,H)}while(!0);R3(),r1.current=Se,Ci=ge,Zo!==null?D=0:(ps=null,Ls=0,D=rs)}if(D!==0){if(D===2&&(ge=fb(d),ge!==0&&(te=ge,D=Bb(d,ge))),D===1)throw Y=$0,Uv(d,0),_h(d,te),Il(d,Fo()),Y;if(D===6)_h(d,te);else{if(ge=d.current.alternate,!(te&30)&&!F9(ge)&&(D=i1(d,te),D===2&&(Se=fb(d),Se!==0&&(te=Se,D=Bb(d,Se))),D===1))throw Y=$0,Uv(d,0),_h(d,te),Il(d,Fo()),Y;switch(d.finishedWork=ge,d.finishedLanes=te,D){case 0:case 1:throw Error(pa(345));case 2:kv(d,Ll,Fc);break;case 3:if(_h(d,te),(te&130023424)===te&&(D=Y3+500-Fo(),10<D)){if(Hy(d,0)!==0)break;if(ge=d.suspendedLanes,(ge&te)!==te){cl(),d.pingedLanes|=d.suspendedLanes&ge;break}d.timeoutHandle=mb(kv.bind(null,d,Ll,Fc),D);break}kv(d,Ll,Fc);break;case 4:if(_h(d,te),(te&4194240)===te)break;for(D=d.eventTimes,ge=-1;0<te;){var W=31-bf(te);Se=1<<W,W=D[W],W>ge&&(ge=W),te&=~Se}if(te=ge,te=Fo()-te,te=(120>te?120:480>te?480:1080>te?1080:1920>te?1920:3e3>te?3e3:4320>te?4320:1960*O9(te/1960))-te,10<te){d.timeoutHandle=mb(kv.bind(null,d,Ll,Fc),te);break}kv(d,Ll,Fc);break;case 5:kv(d,Ll,Fc);break;default:throw Error(pa(329))}}}return Il(d,Fo()),d.callbackNode===Y?z6.bind(null,d):null}function Bb(d,D){var Y=E0;return d.current.memoizedState.isDehydrated&&(Uv(d,D).flags|=256),d=i1(d,D),d!==2&&(D=Ll,Ll=Y,D!==null&&Nb(D)),d}function Nb(d){Ll===null?Ll=d:Ll.push.apply(Ll,d)}function F9(d){for(var D=d;;){if(D.flags&16384){var Y=D.updateQueue;if(Y!==null&&(Y=Y.stores,Y!==null))for(var te=0;te<Y.length;te++){var ge=Y[te],Se=ge.getSnapshot;ge=ge.value;try{if(!Tf(Se(),ge))return!1}catch{return!1}}}if(Y=D.child,D.subtreeFlags&16384&&Y!==null)Y.return=D,D=Y;else{if(D===d)break;for(;D.sibling===null;){if(D.return===null||D.return===d)return!0;D=D.return}D.sibling.return=D.return,D=D.sibling}}return!0}function _h(d,D){for(D&=~G3,D&=~D1,d.suspendedLanes|=D,d.pingedLanes&=~D,d=d.expirationTimes;0<D;){var Y=31-bf(D),te=1<<Y;d[Y]=-1,D&=~te}}function fT(d){if(Ci&6)throw Error(pa(327));ep();var D=Hy(d,0);if(!(D&1))return Il(d,Fo()),null;var Y=i1(d,D);if(d.tag!==0&&Y===2){var te=fb(d);te!==0&&(D=te,Y=Bb(d,te))}if(Y===1)throw Y=$0,Uv(d,0),_h(d,D),Il(d,Fo()),Y;if(Y===6)throw Error(pa(345));return d.finishedWork=d.current.alternate,d.finishedLanes=D,kv(d,Ll,Fc),Il(d,Fo()),null}function j3(d,D){var Y=Ci;Ci|=1;try{return d(D)}finally{Ci=Y,Ci===0&&(fp=Fo()+500,C1&&qh())}}function Zv(d){Oh!==null&&Oh.tag===0&&!(Ci&6)&&ep();var D=Ci;Ci|=1;var Y=zu.transition,te=Ni;try{if(zu.transition=null,Ni=1,d)return d()}finally{Ni=te,zu.transition=Y,Ci=D,!(Ci&6)&&qh()}}function Z3(){ql=Zd.current,ao(Zd)}function Uv(d,D){d.finishedWork=null,d.finishedLanes=0;var Y=d.timeoutHandle;if(Y!==-1&&(d.timeoutHandle=-1,v9(Y)),Zo!==null)for(Y=Zo.return;Y!==null;){var te=Y;switch(C3(te),te.tag){case 1:te=te.type.childContextTypes,te!=null&&jy();break;case 3:lp(),ao(Rl),ao($s),O3();break;case 5:z3(te);break;case 4:lp();break;case 13:ao(bo);break;case 19:ao(bo);break;case 10:D3(te.type._context);break;case 22:case 23:Z3()}Y=Y.return}if(ps=d,Zo=d=jh(d.current,null),Ls=ql=D,rs=0,$0=null,G3=D1=jv=0,Ll=E0=null,Fv!==null){for(D=0;D<Fv.length;D++)if(Y=Fv[D],te=Y.interleaved,te!==null){Y.interleaved=null;var ge=te.next,Se=Y.pending;if(Se!==null){var W=Se.next;Se.next=ge,te.next=W}Y.pending=te}Fv=null}return d}function O6(d,D){do{var Y=Zo;try{if(R3(),Sy.current=t1,e1){for(var te=wo.memoizedState;te!==null;){var ge=te.queue;ge!==null&&(ge.pending=null),te=te.next}e1=!1}if(Yv=0,hs=ts=wo=null,S0=!1,Z0=0,W3.current=null,Y===null||Y.return===null){rs=1,$0=D,Zo=null;break}e:{var Se=d,W=Y.return,H=Y,e=D;if(D=Ls,H.flags|=32768,e!==null&&typeof e=="object"&&typeof e.then=="function"){var g=e,R=H,a=R.tag;if(!(R.mode&1)&&(a===0||a===11||a===15)){var C=R.alternate;C?(R.updateQueue=C.updateQueue,R.memoizedState=C.memoizedState,R.lanes=C.lanes):(R.updateQueue=null,R.memoizedState=null)}var T=J5(W);if(T!==null){T.flags&=-257,Q5(T,W,H,Se,D),T.mode&1&&$5(Se,g,D),D=T,e=g;var v=D.updateQueue;if(v===null){var y=new Set;y.add(e),D.updateQueue=y}else v.add(e);break e}else{if(!(D&1)){$5(Se,g,D),X3();break e}e=Error(pa(426))}}else if(fo&&H.mode&1){var t=J5(W);if(t!==null){!(t.flags&65536)&&(t.flags|=256),Q5(t,W,H,Se,D),L3(up(e,H));break e}}Se=e=up(e,H),rs!==4&&(rs=2),E0===null?E0=[Se]:E0.push(Se),Se=W;do{switch(Se.tag){case 3:Se.flags|=65536,D&=-D,Se.lanes|=D;var r=x6(Se,e,D);W5(Se,r);break e;case 1:H=e;var s=Se.type,n=Se.stateNode;if(!(Se.flags&128)&&(typeof s.getDerivedStateFromError=="function"||n!==null&&typeof n.componentDidCatch=="function"&&(Gh===null||!Gh.has(n)))){Se.flags|=65536,D&=-D,Se.lanes|=D;var o=b6(Se,H,D);W5(Se,o);break e}}Se=Se.return}while(Se!==null)}N6(Y)}catch(f){D=f,Zo===Y&&Y!==null&&(Zo=Y=Y.return);continue}break}while(!0)}function F6(){var d=r1.current;return r1.current=t1,d===null?t1:d}function X3(){(rs===0||rs===3||rs===2)&&(rs=4),ps===null||!(jv&268435455)&&!(D1&268435455)||_h(ps,Ls)}function i1(d,D){var Y=Ci;Ci|=2;var te=F6();(ps!==d||Ls!==D)&&(Fc=null,Uv(d,D));do try{B9();break}catch(ge){O6(d,ge)}while(!0);if(R3(),Ci=Y,r1.current=te,Zo!==null)throw Error(pa(261));return ps=null,Ls=0,rs}function B9(){for(;Zo!==null;)B6(Zo)}function N9(){for(;Zo!==null&&!f7();)B6(Zo)}function B6(d){var D=H6(d.alternate,d,ql);d.memoizedProps=d.pendingProps,D===null?N6(d):Zo=D,W3.current=null}function N6(d){var D=d;do{var Y=D.alternate;if(d=D.return,D.flags&32768){if(Y=I9(Y,D),Y!==null){Y.flags&=32767,Zo=Y;return}if(d!==null)d.flags|=32768,d.subtreeFlags=0,d.deletions=null;else{rs=6,Zo=null;return}}else if(Y=D9(Y,D,ql),Y!==null){Zo=Y;return}if(D=D.sibling,D!==null){Zo=D;return}Zo=D=d}while(D!==null);rs===0&&(rs=5)}function kv(d,D,Y){var te=Ni,ge=zu.transition;try{zu.transition=null,Ni=1,U9(d,D,Y,te)}finally{zu.transition=ge,Ni=te}return null}function U9(d,D,Y,te){do ep();while(Oh!==null);if(Ci&6)throw Error(pa(327));Y=d.finishedWork;var ge=d.finishedLanes;if(Y===null)return null;if(d.finishedWork=null,d.finishedLanes=0,Y===d.current)throw Error(pa(177));d.callbackNode=null,d.callbackPriority=0;var Se=Y.lanes|Y.childLanes;if(b7(d,Se),d===ps&&(Zo=ps=null,Ls=0),!(Y.subtreeFlags&2064)&&!(Y.flags&2064)||iy||(iy=!0,V6(Uy,function(){return ep(),null})),Se=(Y.flags&15990)!==0,Y.subtreeFlags&15990||Se){Se=zu.transition,zu.transition=null;var W=Ni;Ni=1;var H=Ci;Ci|=4,W3.current=null,_9(d,Y),k6(Y,d),o9(gb),Vy=!!pb,gb=pb=null,d.current=Y,z9(Y),c7(),Ci=H,Ni=W,zu.transition=Se}else d.current=Y;if(iy&&(iy=!1,Oh=d,a1=ge),Se=d.pendingLanes,Se===0&&(Gh=null),d7(Y.stateNode),Il(d,Fo()),D!==null)for(te=d.onRecoverableError,Y=0;Y<D.length;Y++)ge=D[Y],te(ge.value,{componentStack:ge.stack,digest:ge.digest});if(n1)throw n1=!1,d=Ob,Ob=null,d;return a1&1&&d.tag!==0&&ep(),Se=d.pendingLanes,Se&1?d===Fb?C0++:(C0=0,Fb=d):C0=0,qh(),null}function ep(){if(Oh!==null){var d=mA(a1),D=zu.transition,Y=Ni;try{if(zu.transition=null,Ni=16>d?16:d,Oh===null)var te=!1;else{if(d=Oh,Oh=null,a1=0,Ci&6)throw Error(pa(331));var ge=Ci;for(Ci|=4,za=d.current;za!==null;){var Se=za,W=Se.child;if(za.flags&16){var H=Se.deletions;if(H!==null){for(var e=0;e<H.length;e++){var g=H[e];for(za=g;za!==null;){var R=za;switch(R.tag){case 0:case 11:case 15:M0(8,R,Se)}var a=R.child;if(a!==null)a.return=R,za=a;else for(;za!==null;){R=za;var C=R.sibling,T=R.return;if(R6(R),R===g){za=null;break}if(C!==null){C.return=T,za=C;break}za=T}}}var v=Se.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var t=y.sibling;y.sibling=null,y=t}while(y!==null)}}za=Se}}if(Se.subtreeFlags&2064&&W!==null)W.return=Se,za=W;else e:for(;za!==null;){if(Se=za,Se.flags&2048)switch(Se.tag){case 0:case 11:case 15:M0(9,Se,Se.return)}var r=Se.sibling;if(r!==null){r.return=Se.return,za=r;break e}za=Se.return}}var s=d.current;for(za=s;za!==null;){W=za;var n=W.child;if(W.subtreeFlags&2064&&n!==null)n.return=W,za=n;else e:for(W=s;za!==null;){if(H=za,H.flags&2048)try{switch(H.tag){case 0:case 11:case 15:R1(9,H)}}catch(f){Po(H,H.return,f)}if(H===W){za=null;break e}var o=H.sibling;if(o!==null){o.return=H.return,za=o;break e}za=H.return}}if(Ci=ge,qh(),ec&&typeof ec.onPostCommitFiberRoot=="function")try{ec.onPostCommitFiberRoot(T1,d)}catch{}te=!0}return te}finally{Ni=Y,zu.transition=D}}return!1}function cT(d,D,Y){D=up(Y,D),D=x6(d,D,1),d=Wh(d,D,1),D=cl(),d!==null&&(og(d,1,D),Il(d,D))}function Po(d,D,Y){if(d.tag===3)cT(d,d,Y);else for(;D!==null;){if(D.tag===3){cT(D,d,Y);break}else if(D.tag===1){var te=D.stateNode;if(typeof D.type.getDerivedStateFromError=="function"||typeof te.componentDidCatch=="function"&&(Gh===null||!Gh.has(te))){d=up(Y,d),d=b6(D,d,1),D=Wh(D,d,1),d=cl(),D!==null&&(og(D,1,d),Il(D,d));break}}D=D.return}}function H9(d,D,Y){var te=d.pingCache;te!==null&&te.delete(D),D=cl(),d.pingedLanes|=d.suspendedLanes&Y,ps===d&&(Ls&Y)===Y&&(rs===4||rs===3&&(Ls&130023424)===Ls&&500>Fo()-Y3?Uv(d,0):G3|=Y),Il(d,D)}function U6(d,D){D===0&&(d.mode&1?(D=Kg,Kg<<=1,!(Kg&130023424)&&(Kg=4194304)):D=1);var Y=cl();d=Yc(d,D),d!==null&&(og(d,D,Y),Il(d,Y))}function V9(d){var D=d.memoizedState,Y=0;D!==null&&(Y=D.retryLane),U6(d,Y)}function W9(d,D){var Y=0;switch(d.tag){case 13:var te=d.stateNode,ge=d.memoizedState;ge!==null&&(Y=ge.retryLane);break;case 19:te=d.stateNode;break;default:throw Error(pa(314))}te!==null&&te.delete(D),U6(d,Y)}var H6;H6=function(d,D,Y){if(d!==null)if(d.memoizedProps!==D.pendingProps||Rl.current)Pl=!0;else{if(!(d.lanes&Y)&&!(D.flags&128))return Pl=!1,R9(d,D,Y);Pl=!!(d.flags&131072)}else Pl=!1,fo&&D.flags&1048576&&GA(D,Ky,D.index);switch(D.lanes=0,D.tag){case 2:var te=D.type;Ey(d,D),d=D.pendingProps;var ge=ip(D,$s.current);qd(D,Y),ge=B3(null,D,te,d,ge,Y);var Se=N3();return D.flags|=1,typeof ge=="object"&&ge!==null&&typeof ge.render=="function"&&ge.$$typeof===void 0?(D.tag=1,D.memoizedState=null,D.updateQueue=null,Dl(te)?(Se=!0,Zy(D)):Se=!1,D.memoizedState=ge.state!==null&&ge.state!==void 0?ge.state:null,k3(D),ge.updater=L1,D.stateNode=ge,ge._reactInternals=D,Mb(D,te,d,Y),D=Lb(null,D,te,!0,Se,Y)):(D.tag=0,fo&&Se&&E3(D),fl(null,D,ge,Y),D=D.child),D;case 16:te=D.elementType;e:{switch(Ey(d,D),d=D.pendingProps,ge=te._init,te=ge(te._payload),D.type=te,ge=D.tag=Y9(te),d=yf(te,d),ge){case 0:D=Cb(null,D,te,d,Y);break e;case 1:D=tT(null,D,te,d,Y);break e;case 11:D=q5(null,D,te,d,Y);break e;case 14:D=eT(null,D,te,yf(te.type,d),Y);break e}throw Error(pa(306,te,""))}return D;case 0:return te=D.type,ge=D.pendingProps,ge=D.elementType===te?ge:yf(te,ge),Cb(d,D,te,ge,Y);case 1:return te=D.type,ge=D.pendingProps,ge=D.elementType===te?ge:yf(te,ge),tT(d,D,te,ge,Y);case 3:e:{if(S6(D),d===null)throw Error(pa(387));te=D.pendingProps,Se=D.memoizedState,ge=Se.element,XA(d,D),Qy(D,te,null,Y);var W=D.memoizedState;if(te=W.element,Se.isDehydrated)if(Se={element:te,isDehydrated:!1,cache:W.cache,pendingSuspenseBoundaries:W.pendingSuspenseBoundaries,transitions:W.transitions},D.updateQueue.baseState=Se,D.memoizedState=Se,D.flags&256){ge=up(Error(pa(423)),D),D=rT(d,D,te,Y,ge);break e}else if(te!==ge){ge=up(Error(pa(424)),D),D=rT(d,D,te,Y,ge);break e}else for(tu=Vh(D.stateNode.containerInfo.firstChild),ru=D,fo=!0,xf=null,Y=QA(D,null,te,Y),D.child=Y;Y;)Y.flags=Y.flags&-3|4096,Y=Y.sibling;else{if(op(),te===ge){D=jc(d,D,Y);break e}fl(d,D,te,Y)}D=D.child}return D;case 5:return qA(D),d===null&&Tb(D),te=D.type,ge=D.pendingProps,Se=d!==null?d.memoizedProps:null,W=ge.children,yb(te,ge)?W=null:Se!==null&&yb(te,Se)&&(D.flags|=32),A6(d,D),fl(d,D,W,Y),D.child;case 6:return d===null&&Tb(D),null;case 13:return M6(d,D,Y);case 4:return _3(D,D.stateNode.containerInfo),te=D.pendingProps,d===null?D.child=sp(D,null,te,Y):fl(d,D,te,Y),D.child;case 11:return te=D.type,ge=D.pendingProps,ge=D.elementType===te?ge:yf(te,ge),q5(d,D,te,ge,Y);case 7:return fl(d,D,D.pendingProps,Y),D.child;case 8:return fl(d,D,D.pendingProps.children,Y),D.child;case 12:return fl(d,D,D.pendingProps.children,Y),D.child;case 10:e:{if(te=D.type._context,ge=D.pendingProps,Se=D.memoizedProps,W=ge.value,Ji($y,te._currentValue),te._currentValue=W,Se!==null)if(Tf(Se.value,W)){if(Se.children===ge.children&&!Rl.current){D=jc(d,D,Y);break e}}else for(Se=D.child,Se!==null&&(Se.return=D);Se!==null;){var H=Se.dependencies;if(H!==null){W=Se.child;for(var e=H.firstContext;e!==null;){if(e.context===te){if(Se.tag===1){e=Vc(-1,Y&-Y),e.tag=2;var g=Se.updateQueue;if(g!==null){g=g.shared;var R=g.pending;R===null?e.next=e:(e.next=R.next,R.next=e),g.pending=e}}Se.lanes|=Y,e=Se.alternate,e!==null&&(e.lanes|=Y),Ab(Se.return,Y,D),H.lanes|=Y;break}e=e.next}}else if(Se.tag===10)W=Se.type===D.type?null:Se.child;else if(Se.tag===18){if(W=Se.return,W===null)throw Error(pa(341));W.lanes|=Y,H=W.alternate,H!==null&&(H.lanes|=Y),Ab(W,Y,D),W=Se.sibling}else W=Se.child;if(W!==null)W.return=Se;else for(W=Se;W!==null;){if(W===D){W=null;break}if(Se=W.sibling,Se!==null){Se.return=W.return,W=Se;break}W=W.return}Se=W}fl(d,D,ge.children,Y),D=D.child}return D;case 9:return ge=D.type,te=D.pendingProps.children,qd(D,Y),ge=Fu(ge),te=te(ge),D.flags|=1,fl(d,D,te,Y),D.child;case 14:return te=D.type,ge=yf(te,D.pendingProps),ge=yf(te.type,ge),eT(d,D,te,ge,Y);case 15:return w6(d,D,D.type,D.pendingProps,Y);case 17:return te=D.type,ge=D.pendingProps,ge=D.elementType===te?ge:yf(te,ge),Ey(d,D),D.tag=1,Dl(te)?(d=!0,Zy(D)):d=!1,qd(D,Y),$A(D,te,ge),Mb(D,te,ge,Y),Lb(null,D,te,!0,d,Y);case 19:return E6(d,D,Y);case 22:return T6(d,D,Y)}throw Error(pa(156,D.tag))};function V6(d,D){return dA(d,D)}function G9(d,D,Y,te){this.tag=d,this.key=Y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=D,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=te,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _u(d,D,Y,te){return new G9(d,D,Y,te)}function K3(d){return d=d.prototype,!(!d||!d.isReactComponent)}function Y9(d){if(typeof d=="function")return K3(d)?1:0;if(d!=null){if(d=d.$$typeof,d===d3)return 11;if(d===p3)return 14}return 2}function jh(d,D){var Y=d.alternate;return Y===null?(Y=_u(d.tag,D,d.key,d.mode),Y.elementType=d.elementType,Y.type=d.type,Y.stateNode=d.stateNode,Y.alternate=d,d.alternate=Y):(Y.pendingProps=D,Y.type=d.type,Y.flags=0,Y.subtreeFlags=0,Y.deletions=null),Y.flags=d.flags&14680064,Y.childLanes=d.childLanes,Y.lanes=d.lanes,Y.child=d.child,Y.memoizedProps=d.memoizedProps,Y.memoizedState=d.memoizedState,Y.updateQueue=d.updateQueue,D=d.dependencies,Y.dependencies=D===null?null:{lanes:D.lanes,firstContext:D.firstContext},Y.sibling=d.sibling,Y.index=d.index,Y.ref=d.ref,Y}function Py(d,D,Y,te,ge,Se){var W=2;if(te=d,typeof d=="function")K3(d)&&(W=1);else if(typeof d=="string")W=5;else e:switch(d){case Fd:return Hv(Y.children,ge,Se,D);case v3:W=8,ge|=8;break;case Kx:return d=_u(12,Y,D,ge|2),d.elementType=Kx,d.lanes=Se,d;case $x:return d=_u(13,Y,D,ge),d.elementType=$x,d.lanes=Se,d;case Jx:return d=_u(19,Y,D,ge),d.elementType=Jx,d.lanes=Se,d;case J4:return I1(Y,ge,Se,D);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case K4:W=10;break e;case $4:W=9;break e;case d3:W=11;break e;case p3:W=14;break e;case Dh:W=16,te=null;break e}throw Error(pa(130,d==null?d:typeof d,""))}return D=_u(W,Y,D,ge),D.elementType=d,D.type=te,D.lanes=Se,D}function Hv(d,D,Y,te){return d=_u(7,d,te,D),d.lanes=Y,d}function I1(d,D,Y,te){return d=_u(22,d,te,D),d.elementType=J4,d.lanes=Y,d.stateNode={isHidden:!1},d}function Rx(d,D,Y){return d=_u(6,d,null,D),d.lanes=Y,d}function Dx(d,D,Y){return D=_u(4,d.children!==null?d.children:[],d.key,D),D.lanes=Y,D.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},D}function j9(d,D,Y,te,ge){this.tag=D,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=cx(0),this.expirationTimes=cx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cx(0),this.identifierPrefix=te,this.onRecoverableError=ge,this.mutableSourceEagerHydrationData=null}function $3(d,D,Y,te,ge,Se,W,H,e){return d=new j9(d,D,Y,H,e),D===1?(D=1,Se===!0&&(D|=8)):D=0,Se=_u(3,null,null,D),d.current=Se,Se.stateNode=d,Se.memoizedState={element:te,isDehydrated:Y,cache:null,transitions:null,pendingSuspenseBoundaries:null},k3(Se),d}function Z9(d,D,Y){var te=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Od,key:te==null?null:""+te,children:d,containerInfo:D,implementation:Y}}function W6(d){if(!d)return Xh;d=d._reactInternals;e:{if(Qv(d)!==d||d.tag!==1)throw Error(pa(170));var D=d;do{switch(D.tag){case 3:D=D.stateNode.context;break e;case 1:if(Dl(D.type)){D=D.stateNode.__reactInternalMemoizedMergedChildContext;break e}}D=D.return}while(D!==null);throw Error(pa(171))}if(d.tag===1){var Y=d.type;if(Dl(Y))return VA(d,Y,D)}return D}function G6(d,D,Y,te,ge,Se,W,H,e){return d=$3(Y,te,!0,d,ge,Se,W,H,e),d.context=W6(null),Y=d.current,te=cl(),ge=Yh(Y),Se=Vc(te,ge),Se.callback=D??null,Wh(Y,Se,ge),d.current.lanes=ge,og(d,ge,te),Il(d,te),d}function k1(d,D,Y,te){var ge=D.current,Se=cl(),W=Yh(ge);return Y=W6(Y),D.context===null?D.context=Y:D.pendingContext=Y,D=Vc(Se,W),D.payload={element:d},te=te===void 0?null:te,te!==null&&(D.callback=te),d=Wh(ge,D,W),d!==null&&(wf(d,ge,W,Se),Ay(d,ge,W)),W}function o1(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 5:return d.child.stateNode;default:return d.child.stateNode}}function hT(d,D){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var Y=d.retryLane;d.retryLane=Y!==0&&Y<D?Y:D}}function J3(d,D){hT(d,D),(d=d.alternate)&&hT(d,D)}function X9(){return null}var Y6=typeof reportError=="function"?reportError:function(d){console.error(d)};function Q3(d){this._internalRoot=d}_1.prototype.render=Q3.prototype.render=function(d){var D=this._internalRoot;if(D===null)throw Error(pa(409));k1(d,D,null,null)};_1.prototype.unmount=Q3.prototype.unmount=function(){var d=this._internalRoot;if(d!==null){this._internalRoot=null;var D=d.containerInfo;Zv(function(){k1(null,d,null,null)}),D[Gc]=null}};function _1(d){this._internalRoot=d}_1.prototype.unstable_scheduleHydration=function(d){if(d){var D=wA();d={blockedOn:null,target:d,priority:D};for(var Y=0;Y<kh.length&&D!==0&&D<kh[Y].priority;Y++);kh.splice(Y,0,d),Y===0&&AA(d)}};function q3(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)}function z1(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11&&(d.nodeType!==8||d.nodeValue!==" react-mount-point-unstable "))}function vT(){}function K9(d,D,Y,te,ge){if(ge){if(typeof te=="function"){var Se=te;te=function(){var g=o1(W);Se.call(g)}}var W=G6(D,te,d,0,null,!1,!1,"",vT);return d._reactRootContainer=W,d[Gc]=W.current,V0(d.nodeType===8?d.parentNode:d),Zv(),W}for(;ge=d.lastChild;)d.removeChild(ge);if(typeof te=="function"){var H=te;te=function(){var g=o1(e);H.call(g)}}var e=$3(d,0,!1,null,null,!1,!1,"",vT);return d._reactRootContainer=e,d[Gc]=e.current,V0(d.nodeType===8?d.parentNode:d),Zv(function(){k1(D,e,Y,te)}),e}function O1(d,D,Y,te,ge){var Se=Y._reactRootContainer;if(Se){var W=Se;if(typeof ge=="function"){var H=ge;ge=function(){var e=o1(W);H.call(e)}}k1(D,W,d,ge)}else W=K9(Y,D,d,ge,te);return o1(W)}xA=function(d){switch(d.tag){case 3:var D=d.stateNode;if(D.current.memoizedState.isDehydrated){var Y=p0(D.pendingLanes);Y!==0&&(m3(D,Y|1),Il(D,Fo()),!(Ci&6)&&(fp=Fo()+500,qh()))}break;case 13:Zv(function(){var te=Yc(d,1);if(te!==null){var ge=cl();wf(te,d,1,ge)}}),J3(d,1)}};x3=function(d){if(d.tag===13){var D=Yc(d,134217728);if(D!==null){var Y=cl();wf(D,d,134217728,Y)}J3(d,134217728)}};bA=function(d){if(d.tag===13){var D=Yh(d),Y=Yc(d,D);if(Y!==null){var te=cl();wf(Y,d,D,te)}J3(d,D)}};wA=function(){return Ni};TA=function(d,D){var Y=Ni;try{return Ni=d,D()}finally{Ni=Y}};sb=function(d,D,Y){switch(D){case"input":if(eb(d,Y),D=Y.name,Y.type==="radio"&&D!=null){for(Y=d;Y.parentNode;)Y=Y.parentNode;for(Y=Y.querySelectorAll("input[name="+JSON.stringify(""+D)+'][type="radio"]'),D=0;D<Y.length;D++){var te=Y[D];if(te!==d&&te.form===d.form){var ge=E1(te);if(!ge)throw Error(pa(90));q4(te),eb(te,ge)}}}break;case"textarea":tA(d,Y);break;case"select":D=Y.value,D!=null&&Kd(d,!!Y.multiple,D,!1)}};lA=j3;uA=Zv;var $9={usingClientEntryPoint:!1,Events:[lg,Hd,E1,oA,sA,j3]},r0={findFiberByHostInstance:Ov,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},J9={bundleType:r0.bundleType,version:r0.version,rendererPackageName:r0.rendererPackageName,rendererConfig:r0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xc.ReactCurrentDispatcher,findHostInstanceByFiber:function(d){return d=hA(d),d===null?null:d.stateNode},findFiberByHostInstance:r0.findFiberByHostInstance||X9,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oy.isDisabled&&oy.supportsFiber)try{T1=oy.inject(J9),ec=oy}catch{}}su.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$9;su.createPortal=function(d,D){var Y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!q3(D))throw Error(pa(200));return Z9(d,D,null,Y)};su.createRoot=function(d,D){if(!q3(d))throw Error(pa(299));var Y=!1,te="",ge=Y6;return D!=null&&(D.unstable_strictMode===!0&&(Y=!0),D.identifierPrefix!==void 0&&(te=D.identifierPrefix),D.onRecoverableError!==void 0&&(ge=D.onRecoverableError)),D=$3(d,1,!1,null,null,Y,!1,te,ge),d[Gc]=D.current,V0(d.nodeType===8?d.parentNode:d),new Q3(D)};su.findDOMNode=function(d){if(d==null)return null;if(d.nodeType===1)return d;var D=d._reactInternals;if(D===void 0)throw typeof d.render=="function"?Error(pa(188)):(d=Object.keys(d).join(","),Error(pa(268,d)));return d=hA(D),d=d===null?null:d.stateNode,d};su.flushSync=function(d){return Zv(d)};su.hydrate=function(d,D,Y){if(!z1(D))throw Error(pa(200));return O1(null,d,D,!0,Y)};su.hydrateRoot=function(d,D,Y){if(!q3(d))throw Error(pa(405));var te=Y!=null&&Y.hydratedSources||null,ge=!1,Se="",W=Y6;if(Y!=null&&(Y.unstable_strictMode===!0&&(ge=!0),Y.identifierPrefix!==void 0&&(Se=Y.identifierPrefix),Y.onRecoverableError!==void 0&&(W=Y.onRecoverableError)),D=G6(D,null,d,1,Y??null,ge,!1,Se,W),d[Gc]=D.current,V0(d),te)for(d=0;d<te.length;d++)Y=te[d],ge=Y._getVersion,ge=ge(Y._source),D.mutableSourceEagerHydrationData==null?D.mutableSourceEagerHydrationData=[Y,ge]:D.mutableSourceEagerHydrationData.push(Y,ge);return new _1(D)};su.render=function(d,D,Y){if(!z1(D))throw Error(pa(200));return O1(null,d,D,!1,Y)};su.unmountComponentAtNode=function(d){if(!z1(d))throw Error(pa(40));return d._reactRootContainer?(Zv(function(){O1(null,null,d,!1,function(){d._reactRootContainer=null,d[Gc]=null})}),!0):!1};su.unstable_batchedUpdates=j3;su.unstable_renderSubtreeIntoContainer=function(d,D,Y,te){if(!z1(Y))throw Error(pa(200));if(d==null||d._reactInternals===void 0)throw Error(pa(38));return O1(d,D,Y,!1,te)};su.version="18.2.0-next-9e3b772b8-20220608";function j6(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(j6)}catch(d){console.error(d)}}j6(),G4.exports=su;var wp=G4.exports;const sy=ag(wp);var dT=wp;Zx.createRoot=dT.createRoot,Zx.hydrateRoot=dT.hydrateRoot;class Q9{constructor(D=64,Y=30){Lu(this,"receiveCallback",null);Lu(this,"closeCallback",null);Lu(this,"errorCallback",null);Lu(this,"port",null);Lu(this,"writable",null);Lu(this,"reader",null);Lu(this,"_connected",!1);this.send_chunk=D,this.send_interval=Y}get connected(){return this._connected}setReceiveCallback(D){this.receiveCallback=D}setCloseCallback(D){this.closeCallback=D}setErrorCallback(D){this.errorCallback=D}async open(D,Y={baudrate:115200}){this.port=await navigator.serial.requestPort();try{await this.port.open({baudRate:Y.baudrate,bufferSize:81920}),console.log("open serial port")}catch(te){return await this.port.close(),Promise.reject(te)}this._connected=!0,D&&D(),await this.startReadLoop(),this.writable=this.port.writable}async startReadLoop(){this.readLoop(),await this.sleep(1e3)}async readLoop(){if(this.port==null){console.error("failed to read from serial port");return}try{for(this.reader=this.port.readable.getReader();;){const{done:D,value:Y}=await this.reader.read();if(Y&&this.receiveCallback&&this.receiveCallback(Y),D){console.log("Web serial read complete",D),this.reader&&this.reader.releaseLock();break}}}catch(D){console.error(D),this.errorCallback&&(D instanceof Error?this.errorCallback(D):this.errorCallback(new Error(D))),await this.close()}}sleep(D){return new Promise(Y=>setTimeout(Y,D))}async writeString(D){await this.write(new TextEncoder().encode(D))}async write(D){if(this.writable==null){console.error("Serial write is unavailable");return}const Y=this.writable.getWriter();for(let te=0;te<D.length;te+=this.send_chunk)await Y.write(D.slice(te,te+this.send_chunk)),await this.sleep(this.send_interval);Y.releaseLock()}async close(){if(this.reader)try{await this.reader.cancel(),this.reader.releaseLock()}catch(D){console.error(D)}finally{this.reader=null}if(this.writable&&(this.writable=null),this.closeCallback&&this.closeCallback(),this.port)try{await this.port.close(),this.port=null,this._connected=!1}catch(D){console.error(D)}console.log("serial port closed")}}class q9{constructor(){Lu(this,"receiveCallback",null);Lu(this,"closeCallback",null);Lu(this,"port",null);Lu(this,"_connected",!1)}get connected(){return this._connected}setReceiveCallback(D){this.receiveCallback=Y=>{D&&D(new Uint8Array(Y.data.buffer).filter(te=>te!=0))},this.port.addEventListener("inputreport",this.receiveCallback)}setCloseCallback(D){this.closeCallback=D}async open(D,Y){const te=await navigator.hid.requestDevice({filters:[{usagePage:65329,usage:116}]});this.port=te[0];try{await this.port.open()}catch(ge){return await this.port.close(),Promise.reject(ge)}this._connected=!0,D&&D(),console.log("open Raw HID port")}async writeString(D){throw new Error("Not implemented")}async write(D){throw new Error("Not implemented")}async close(){if(this.closeCallback&&this.closeCallback(),this.port)try{this.port.removeEventListener("inputreport",this.receiveCallback),await this.port.close(),this.port=null,this._connected=!1}catch(D){console.error(D)}console.log("Raw HID port closed")}}const eL={black:"#000",white:"#fff"},J0=eL,tL={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Ld=tL,rL={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Pd=rL,nL={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Rd=nL,aL={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Dd=aL,iL={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Id=iL,oL={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},n0=oL,sL={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},lL=sL;function Qr(){return Qr=Object.assign?Object.assign.bind():function(d){for(var D=1;D<arguments.length;D++){var Y=arguments[D];for(var te in Y)Object.prototype.hasOwnProperty.call(Y,te)&&(d[te]=Y[te])}return d},Qr.apply(this,arguments)}function Nc(d){return d!==null&&typeof d=="object"&&d.constructor===Object}function Z6(d){if(!Nc(d))return d;const D={};return Object.keys(d).forEach(Y=>{D[Y]=Z6(d[Y])}),D}function kl(d,D,Y={clone:!0}){const te=Y.clone?Qr({},d):d;return Nc(d)&&Nc(D)&&Object.keys(D).forEach(ge=>{ge!=="__proto__"&&(Nc(D[ge])&&ge in d&&Nc(d[ge])?te[ge]=kl(d[ge],D[ge],Y):Y.clone?te[ge]=Nc(D[ge])?Z6(D[ge]):D[ge]:te[ge]=D[ge])}),te}var X6={exports:{}},uL="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",fL=uL,cL=fL;function K6(){}function $6(){}$6.resetWarningCache=K6;var hL=function(){function d(te,ge,Se,W,H,e){if(e!==cL){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}d.isRequired=d;function D(){return d}var Y={array:d,bigint:d,bool:d,func:d,number:d,object:d,string:d,symbol:d,any:d,arrayOf:D,element:d,elementType:d,instanceOf:D,node:d,objectOf:D,oneOf:D,oneOfType:D,shape:D,exact:D,checkPropTypes:$6,resetWarningCache:K6};return Y.PropTypes=Y,Y};X6.exports=hL();var ew=X6.exports;function Kh(d){let D="https://mui.com/production-error/?code="+d;for(let Y=1;Y<arguments.length;Y+=1)D+="&args[]="+encodeURIComponent(arguments[Y]);return"Minified MUI error #"+d+"; visit "+D+" for the full message."}var Wi={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tw=Symbol.for("react.element"),rw=Symbol.for("react.portal"),F1=Symbol.for("react.fragment"),B1=Symbol.for("react.strict_mode"),N1=Symbol.for("react.profiler"),U1=Symbol.for("react.provider"),H1=Symbol.for("react.context"),vL=Symbol.for("react.server_context"),V1=Symbol.for("react.forward_ref"),W1=Symbol.for("react.suspense"),G1=Symbol.for("react.suspense_list"),Y1=Symbol.for("react.memo"),j1=Symbol.for("react.lazy"),dL=Symbol.for("react.offscreen"),J6;J6=Symbol.for("react.module.reference");function Vu(d){if(typeof d=="object"&&d!==null){var D=d.$$typeof;switch(D){case tw:switch(d=d.type,d){case F1:case N1:case B1:case W1:case G1:return d;default:switch(d=d&&d.$$typeof,d){case vL:case H1:case V1:case j1:case Y1:case U1:return d;default:return D}}case rw:return D}}}Wi.ContextConsumer=H1;Wi.ContextProvider=U1;Wi.Element=tw;Wi.ForwardRef=V1;Wi.Fragment=F1;Wi.Lazy=j1;Wi.Memo=Y1;Wi.Portal=rw;Wi.Profiler=N1;Wi.StrictMode=B1;Wi.Suspense=W1;Wi.SuspenseList=G1;Wi.isAsyncMode=function(){return!1};Wi.isConcurrentMode=function(){return!1};Wi.isContextConsumer=function(d){return Vu(d)===H1};Wi.isContextProvider=function(d){return Vu(d)===U1};Wi.isElement=function(d){return typeof d=="object"&&d!==null&&d.$$typeof===tw};Wi.isForwardRef=function(d){return Vu(d)===V1};Wi.isFragment=function(d){return Vu(d)===F1};Wi.isLazy=function(d){return Vu(d)===j1};Wi.isMemo=function(d){return Vu(d)===Y1};Wi.isPortal=function(d){return Vu(d)===rw};Wi.isProfiler=function(d){return Vu(d)===N1};Wi.isStrictMode=function(d){return Vu(d)===B1};Wi.isSuspense=function(d){return Vu(d)===W1};Wi.isSuspenseList=function(d){return Vu(d)===G1};Wi.isValidElementType=function(d){return typeof d=="string"||typeof d=="function"||d===F1||d===N1||d===B1||d===W1||d===G1||d===dL||typeof d=="object"&&d!==null&&(d.$$typeof===j1||d.$$typeof===Y1||d.$$typeof===U1||d.$$typeof===H1||d.$$typeof===V1||d.$$typeof===J6||d.getModuleId!==void 0)};Wi.typeOf=Vu;function qa(d){if(typeof d!="string")throw new Error(Kh(7));return d.charAt(0).toUpperCase()+d.slice(1)}function Ub(...d){return d.reduce((D,Y)=>Y==null?D:function(...ge){D.apply(this,ge),Y.apply(this,ge)},()=>{})}function nw(d,D=166){let Y;function te(...ge){const Se=()=>{d.apply(this,ge)};clearTimeout(Y),Y=setTimeout(Se,D)}return te.clear=()=>{clearTimeout(Y)},te}function pL(d,D){return()=>null}function Ry(d,D){var Y,te;return Fr.isValidElement(d)&&D.indexOf((Y=d.type.muiName)!=null?Y:(te=d.type)==null||(te=te._payload)==null||(te=te.value)==null?void 0:te.muiName)!==-1}function Ks(d){return d&&d.ownerDocument||document}function $h(d){return Ks(d).defaultView||window}function gL(d,D){return()=>null}function s1(d,D){typeof d=="function"?d(D):d&&(d.current=D)}const yL=typeof window<"u"?Fr.useLayoutEffect:Fr.useEffect,Af=yL;let pT=0;function mL(d){const[D,Y]=Fr.useState(d),te=d||D;return Fr.useEffect(()=>{D==null&&(pT+=1,Y(`mui-${pT}`))},[D]),te}const gT=jx.useId;function Z1(d){if(gT!==void 0){const D=gT();return d??D}return mL(d)}function xL(d,D,Y,te,ge){return null}function l1({controlled:d,default:D,name:Y,state:te="value"}){const{current:ge}=Fr.useRef(d!==void 0),[Se,W]=Fr.useState(D),H=ge?d:Se,e=Fr.useCallback(g=>{ge||W(g)},[]);return[H,e]}function Fh(d){const D=Fr.useRef(d);return Af(()=>{D.current=d}),Fr.useRef((...Y)=>(0,D.current)(...Y)).current}function ns(...d){return Fr.useMemo(()=>d.every(D=>D==null)?null:D=>{d.forEach(Y=>{s1(Y,D)})},d)}let X1=!0,Hb=!1,yT;const bL={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function wL(d){const{type:D,tagName:Y}=d;return!!(Y==="INPUT"&&bL[D]&&!d.readOnly||Y==="TEXTAREA"&&!d.readOnly||d.isContentEditable)}function TL(d){d.metaKey||d.altKey||d.ctrlKey||(X1=!0)}function Ix(){X1=!1}function AL(){this.visibilityState==="hidden"&&Hb&&(X1=!0)}function SL(d){d.addEventListener("keydown",TL,!0),d.addEventListener("mousedown",Ix,!0),d.addEventListener("pointerdown",Ix,!0),d.addEventListener("touchstart",Ix,!0),d.addEventListener("visibilitychange",AL,!0)}function ML(d){const{target:D}=d;try{return D.matches(":focus-visible")}catch{}return X1||wL(D)}function aw(){const d=Fr.useCallback(ge=>{ge!=null&&SL(ge.ownerDocument)},[]),D=Fr.useRef(!1);function Y(){return D.current?(Hb=!0,window.clearTimeout(yT),yT=window.setTimeout(()=>{Hb=!1},100),D.current=!1,!0):!1}function te(ge){return ML(ge)?(D.current=!0,!0):!1}return{isFocusVisibleRef:D,onFocus:te,onBlur:Y,ref:d}}function Q6(d){const D=d.documentElement.clientWidth;return Math.abs(window.innerWidth-D)}function iw(d,D){const Y=Qr({},D);return Object.keys(d).forEach(te=>{if(te.toString().match(/^(components|slots)$/))Y[te]=Qr({},d[te],Y[te]);else if(te.toString().match(/^(componentsProps|slotProps)$/)){const ge=d[te]||{},Se=D[te];Y[te]={},!Se||!Object.keys(Se)?Y[te]=ge:!ge||!Object.keys(ge)?Y[te]=Se:(Y[te]=Qr({},Se),Object.keys(ge).forEach(W=>{Y[te][W]=iw(ge[W],Se[W])}))}else Y[te]===void 0&&(Y[te]=d[te])}),Y}function Qi(d,D,Y=void 0){const te={};return Object.keys(d).forEach(ge=>{te[ge]=d[ge].reduce((Se,W)=>{if(W){const H=D(W);H!==""&&Se.push(H),Y&&Y[W]&&Se.push(Y[W])}return Se},[]).join(" ")}),te}const mT=d=>d,EL=()=>{let d=mT;return{configure(D){d=D},generate(D){return d(D)},reset(){d=mT}}},CL=EL(),q6=CL,LL={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Zi(d,D,Y="Mui"){const te=LL[D];return te?`${Y}-${te}`:`${q6.generate(d)}-${D}`}function Fi(d,D,Y="Mui"){const te={};return D.forEach(ge=>{te[ge]=Zi(d,ge,Y)}),te}const cp="$$material";function Za(d,D){if(d==null)return{};var Y={},te=Object.keys(d),ge,Se;for(Se=0;Se<te.length;Se++)ge=te[Se],!(D.indexOf(ge)>=0)&&(Y[ge]=d[ge]);return Y}function eS(d){var D=Object.create(null);return function(Y){return D[Y]===void 0&&(D[Y]=d(Y)),D[Y]}}var PL=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,RL=eS(function(d){return PL.test(d)||d.charCodeAt(0)===111&&d.charCodeAt(1)===110&&d.charCodeAt(2)<91});function DL(d){if(d.sheet)return d.sheet;for(var D=0;D<document.styleSheets.length;D++)if(document.styleSheets[D].ownerNode===d)return document.styleSheets[D]}function IL(d){var D=document.createElement("style");return D.setAttribute("data-emotion",d.key),d.nonce!==void 0&&D.setAttribute("nonce",d.nonce),D.appendChild(document.createTextNode("")),D.setAttribute("data-s",""),D}var kL=function(){function d(Y){var te=this;this._insertTag=function(ge){var Se;te.tags.length===0?te.insertionPoint?Se=te.insertionPoint.nextSibling:te.prepend?Se=te.container.firstChild:Se=te.before:Se=te.tags[te.tags.length-1].nextSibling,te.container.insertBefore(ge,Se),te.tags.push(ge)},this.isSpeedy=Y.speedy===void 0?!0:Y.speedy,this.tags=[],this.ctr=0,this.nonce=Y.nonce,this.key=Y.key,this.container=Y.container,this.prepend=Y.prepend,this.insertionPoint=Y.insertionPoint,this.before=null}var D=d.prototype;return D.hydrate=function(te){te.forEach(this._insertTag)},D.insert=function(te){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(IL(this));var ge=this.tags[this.tags.length-1];if(this.isSpeedy){var Se=DL(ge);try{Se.insertRule(te,Se.cssRules.length)}catch{}}else ge.appendChild(document.createTextNode(te));this.ctr++},D.flush=function(){this.tags.forEach(function(te){return te.parentNode&&te.parentNode.removeChild(te)}),this.tags=[],this.ctr=0},d}(),js="-ms-",u1="-moz-",ki="-webkit-",tS="comm",ow="rule",sw="decl",_L="@import",rS="@keyframes",zL="@layer",OL=Math.abs,K1=String.fromCharCode,FL=Object.assign;function BL(d,D){return Cs(d,0)^45?(((D<<2^Cs(d,0))<<2^Cs(d,1))<<2^Cs(d,2))<<2^Cs(d,3):0}function nS(d){return d.trim()}function NL(d,D){return(d=D.exec(d))?d[0]:d}function _i(d,D,Y){return d.replace(D,Y)}function Vb(d,D){return d.indexOf(D)}function Cs(d,D){return d.charCodeAt(D)|0}function Q0(d,D,Y){return d.slice(D,Y)}function $f(d){return d.length}function lw(d){return d.length}function ly(d,D){return D.push(d),d}function UL(d,D){return d.map(D).join("")}var $1=1,hp=1,aS=0,Ol=0,jo=0,Tp="";function J1(d,D,Y,te,ge,Se,W){return{value:d,root:D,parent:Y,type:te,props:ge,children:Se,line:$1,column:hp,length:W,return:""}}function a0(d,D){return FL(J1("",null,null,"",null,null,0),d,{length:-d.length},D)}function HL(){return jo}function VL(){return jo=Ol>0?Cs(Tp,--Ol):0,hp--,jo===10&&(hp=1,$1--),jo}function nu(){return jo=Ol<aS?Cs(Tp,Ol++):0,hp++,jo===10&&(hp=1,$1++),jo}function rc(){return Cs(Tp,Ol)}function Dy(){return Ol}function fg(d,D){return Q0(Tp,d,D)}function q0(d){switch(d){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function iS(d){return $1=hp=1,aS=$f(Tp=d),Ol=0,[]}function oS(d){return Tp="",d}function Iy(d){return nS(fg(Ol-1,Wb(d===91?d+2:d===40?d+1:d)))}function WL(d){for(;(jo=rc())&&jo<33;)nu();return q0(d)>2||q0(jo)>3?"":" "}function GL(d,D){for(;--D&&nu()&&!(jo<48||jo>102||jo>57&&jo<65||jo>70&&jo<97););return fg(d,Dy()+(D<6&&rc()==32&&nu()==32))}function Wb(d){for(;nu();)switch(jo){case d:return Ol;case 34:case 39:d!==34&&d!==39&&Wb(jo);break;case 40:d===41&&Wb(d);break;case 92:nu();break}return Ol}function YL(d,D){for(;nu()&&d+jo!==57;)if(d+jo===84&&rc()===47)break;return"/*"+fg(D,Ol-1)+"*"+K1(d===47?d:nu())}function jL(d){for(;!q0(rc());)nu();return fg(d,Ol)}function ZL(d){return oS(ky("",null,null,null,[""],d=iS(d),0,[0],d))}function ky(d,D,Y,te,ge,Se,W,H,e){for(var g=0,R=0,a=W,C=0,T=0,v=0,y=1,t=1,r=1,s=0,n="",o=ge,f=Se,u=te,m=n;t;)switch(v=s,s=nu()){case 40:if(v!=108&&Cs(m,a-1)==58){Vb(m+=_i(Iy(s),"&","&\f"),"&\f")!=-1&&(r=-1);break}case 34:case 39:case 91:m+=Iy(s);break;case 9:case 10:case 13:case 32:m+=WL(v);break;case 92:m+=GL(Dy()-1,7);continue;case 47:switch(rc()){case 42:case 47:ly(XL(YL(nu(),Dy()),D,Y),e);break;default:m+="/"}break;case 123*y:H[g++]=$f(m)*r;case 125*y:case 59:case 0:switch(s){case 0:case 125:t=0;case 59+R:r==-1&&(m=_i(m,/\f/g,"")),T>0&&$f(m)-a&&ly(T>32?bT(m+";",te,Y,a-1):bT(_i(m," ","")+";",te,Y,a-2),e);break;case 59:m+=";";default:if(ly(u=xT(m,D,Y,g,R,ge,H,n,o=[],f=[],a),Se),s===123)if(R===0)ky(m,D,u,u,o,Se,a,H,f);else switch(C===99&&Cs(m,3)===110?100:C){case 100:case 108:case 109:case 115:ky(d,u,u,te&&ly(xT(d,u,u,0,0,ge,H,n,ge,o=[],a),f),ge,f,a,H,te?o:f);break;default:ky(m,u,u,u,[""],f,0,H,f)}}g=R=T=0,y=r=1,n=m="",a=W;break;case 58:a=1+$f(m),T=v;default:if(y<1){if(s==123)--y;else if(s==125&&y++==0&&VL()==125)continue}switch(m+=K1(s),s*y){case 38:r=R>0?1:(m+="\f",-1);break;case 44:H[g++]=($f(m)-1)*r,r=1;break;case 64:rc()===45&&(m+=Iy(nu())),C=rc(),R=a=$f(n=m+=jL(Dy())),s++;break;case 45:v===45&&$f(m)==2&&(y=0)}}return Se}function xT(d,D,Y,te,ge,Se,W,H,e,g,R){for(var a=ge-1,C=ge===0?Se:[""],T=lw(C),v=0,y=0,t=0;v<te;++v)for(var r=0,s=Q0(d,a+1,a=OL(y=W[v])),n=d;r<T;++r)(n=nS(y>0?C[r]+" "+s:_i(s,/&\f/g,C[r])))&&(e[t++]=n);return J1(d,D,Y,ge===0?ow:H,e,g,R)}function XL(d,D,Y){return J1(d,D,Y,tS,K1(HL()),Q0(d,2,-2),0)}function bT(d,D,Y,te){return J1(d,D,Y,sw,Q0(d,0,te),Q0(d,te+1,-1),te)}function tp(d,D){for(var Y="",te=lw(d),ge=0;ge<te;ge++)Y+=D(d[ge],ge,d,D)||"";return Y}function KL(d,D,Y,te){switch(d.type){case zL:if(d.children.length)break;case _L:case sw:return d.return=d.return||d.value;case tS:return"";case rS:return d.return=d.value+"{"+tp(d.children,te)+"}";case ow:d.value=d.props.join(",")}return $f(Y=tp(d.children,te))?d.return=d.value+"{"+Y+"}":""}function $L(d){var D=lw(d);return function(Y,te,ge,Se){for(var W="",H=0;H<D;H++)W+=d[H](Y,te,ge,Se)||"";return W}}function JL(d){return function(D){D.root||(D=D.return)&&d(D)}}var QL=function(D,Y,te){for(var ge=0,Se=0;ge=Se,Se=rc(),ge===38&&Se===12&&(Y[te]=1),!q0(Se);)nu();return fg(D,Ol)},qL=function(D,Y){var te=-1,ge=44;do switch(q0(ge)){case 0:ge===38&&rc()===12&&(Y[te]=1),D[te]+=QL(Ol-1,Y,te);break;case 2:D[te]+=Iy(ge);break;case 4:if(ge===44){D[++te]=rc()===58?"&\f":"",Y[te]=D[te].length;break}default:D[te]+=K1(ge)}while(ge=nu());return D},eP=function(D,Y){return oS(qL(iS(D),Y))},wT=new WeakMap,tP=function(D){if(!(D.type!=="rule"||!D.parent||D.length<1)){for(var Y=D.value,te=D.parent,ge=D.column===te.column&&D.line===te.line;te.type!=="rule";)if(te=te.parent,!te)return;if(!(D.props.length===1&&Y.charCodeAt(0)!==58&&!wT.get(te))&&!ge){wT.set(D,!0);for(var Se=[],W=eP(Y,Se),H=te.props,e=0,g=0;e<W.length;e++)for(var R=0;R<H.length;R++,g++)D.props[g]=Se[e]?W[e].replace(/&\f/g,H[R]):H[R]+" "+W[e]}}},rP=function(D){if(D.type==="decl"){var Y=D.value;Y.charCodeAt(0)===108&&Y.charCodeAt(2)===98&&(D.return="",D.value="")}};function sS(d,D){switch(BL(d,D)){case 5103:return ki+"print-"+d+d;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ki+d+d;case 5349:case 4246:case 4810:case 6968:case 2756:return ki+d+u1+d+js+d+d;case 6828:case 4268:return ki+d+js+d+d;case 6165:return ki+d+js+"flex-"+d+d;case 5187:return ki+d+_i(d,/(\w+).+(:[^]+)/,ki+"box-$1$2"+js+"flex-$1$2")+d;case 5443:return ki+d+js+"flex-item-"+_i(d,/flex-|-self/,"")+d;case 4675:return ki+d+js+"flex-line-pack"+_i(d,/align-content|flex-|-self/,"")+d;case 5548:return ki+d+js+_i(d,"shrink","negative")+d;case 5292:return ki+d+js+_i(d,"basis","preferred-size")+d;case 6060:return ki+"box-"+_i(d,"-grow","")+ki+d+js+_i(d,"grow","positive")+d;case 4554:return ki+_i(d,/([^-])(transform)/g,"$1"+ki+"$2")+d;case 6187:return _i(_i(_i(d,/(zoom-|grab)/,ki+"$1"),/(image-set)/,ki+"$1"),d,"")+d;case 5495:case 3959:return _i(d,/(image-set\([^]*)/,ki+"$1$`$1");case 4968:return _i(_i(d,/(.+:)(flex-)?(.*)/,ki+"box-pack:$3"+js+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ki+d+d;case 4095:case 3583:case 4068:case 2532:return _i(d,/(.+)-inline(.+)/,ki+"$1$2")+d;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if($f(d)-1-D>6)switch(Cs(d,D+1)){case 109:if(Cs(d,D+4)!==45)break;case 102:return _i(d,/(.+:)(.+)-([^]+)/,"$1"+ki+"$2-$3$1"+u1+(Cs(d,D+3)==108?"$3":"$2-$3"))+d;case 115:return~Vb(d,"stretch")?sS(_i(d,"stretch","fill-available"),D)+d:d}break;case 4949:if(Cs(d,D+1)!==115)break;case 6444:switch(Cs(d,$f(d)-3-(~Vb(d,"!important")&&10))){case 107:return _i(d,":",":"+ki)+d;case 101:return _i(d,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ki+(Cs(d,14)===45?"inline-":"")+"box$3$1"+ki+"$2$3$1"+js+"$2box$3")+d}break;case 5936:switch(Cs(d,D+11)){case 114:return ki+d+js+_i(d,/[svh]\w+-[tblr]{2}/,"tb")+d;case 108:return ki+d+js+_i(d,/[svh]\w+-[tblr]{2}/,"tb-rl")+d;case 45:return ki+d+js+_i(d,/[svh]\w+-[tblr]{2}/,"lr")+d}return ki+d+js+d+d}return d}var nP=function(D,Y,te,ge){if(D.length>-1&&!D.return)switch(D.type){case sw:D.return=sS(D.value,D.length);break;case rS:return tp([a0(D,{value:_i(D.value,"@","@"+ki)})],ge);case ow:if(D.length)return UL(D.props,function(Se){switch(NL(Se,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return tp([a0(D,{props:[_i(Se,/:(read-\w+)/,":"+u1+"$1")]})],ge);case"::placeholder":return tp([a0(D,{props:[_i(Se,/:(plac\w+)/,":"+ki+"input-$1")]}),a0(D,{props:[_i(Se,/:(plac\w+)/,":"+u1+"$1")]}),a0(D,{props:[_i(Se,/:(plac\w+)/,js+"input-$1")]})],ge)}return""})}},aP=[nP],iP=function(D){var Y=D.key;if(Y==="css"){var te=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(te,function(y){var t=y.getAttribute("data-emotion");t.indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var ge=D.stylisPlugins||aP,Se={},W,H=[];W=D.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+Y+' "]'),function(y){for(var t=y.getAttribute("data-emotion").split(" "),r=1;r<t.length;r++)Se[t[r]]=!0;H.push(y)});var e,g=[tP,rP];{var R,a=[KL,JL(function(y){R.insert(y)})],C=$L(g.concat(ge,a)),T=function(t){return tp(ZL(t),C)};e=function(t,r,s,n){R=s,T(t?t+"{"+r.styles+"}":r.styles),n&&(v.inserted[r.name]=!0)}}var v={key:Y,sheet:new kL({key:Y,container:W,nonce:D.nonce,speedy:D.speedy,prepend:D.prepend,insertionPoint:D.insertionPoint}),nonce:D.nonce,inserted:Se,registered:{},insert:e};return v.sheet.hydrate(H),v},lS={exports:{}},Ui={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gs=typeof Symbol=="function"&&Symbol.for,uw=gs?Symbol.for("react.element"):60103,fw=gs?Symbol.for("react.portal"):60106,Q1=gs?Symbol.for("react.fragment"):60107,q1=gs?Symbol.for("react.strict_mode"):60108,em=gs?Symbol.for("react.profiler"):60114,tm=gs?Symbol.for("react.provider"):60109,rm=gs?Symbol.for("react.context"):60110,cw=gs?Symbol.for("react.async_mode"):60111,nm=gs?Symbol.for("react.concurrent_mode"):60111,am=gs?Symbol.for("react.forward_ref"):60112,im=gs?Symbol.for("react.suspense"):60113,oP=gs?Symbol.for("react.suspense_list"):60120,om=gs?Symbol.for("react.memo"):60115,sm=gs?Symbol.for("react.lazy"):60116,sP=gs?Symbol.for("react.block"):60121,lP=gs?Symbol.for("react.fundamental"):60117,uP=gs?Symbol.for("react.responder"):60118,fP=gs?Symbol.for("react.scope"):60119;function uu(d){if(typeof d=="object"&&d!==null){var D=d.$$typeof;switch(D){case uw:switch(d=d.type,d){case cw:case nm:case Q1:case em:case q1:case im:return d;default:switch(d=d&&d.$$typeof,d){case rm:case am:case sm:case om:case tm:return d;default:return D}}case fw:return D}}}function uS(d){return uu(d)===nm}Ui.AsyncMode=cw;Ui.ConcurrentMode=nm;Ui.ContextConsumer=rm;Ui.ContextProvider=tm;Ui.Element=uw;Ui.ForwardRef=am;Ui.Fragment=Q1;Ui.Lazy=sm;Ui.Memo=om;Ui.Portal=fw;Ui.Profiler=em;Ui.StrictMode=q1;Ui.Suspense=im;Ui.isAsyncMode=function(d){return uS(d)||uu(d)===cw};Ui.isConcurrentMode=uS;Ui.isContextConsumer=function(d){return uu(d)===rm};Ui.isContextProvider=function(d){return uu(d)===tm};Ui.isElement=function(d){return typeof d=="object"&&d!==null&&d.$$typeof===uw};Ui.isForwardRef=function(d){return uu(d)===am};Ui.isFragment=function(d){return uu(d)===Q1};Ui.isLazy=function(d){return uu(d)===sm};Ui.isMemo=function(d){return uu(d)===om};Ui.isPortal=function(d){return uu(d)===fw};Ui.isProfiler=function(d){return uu(d)===em};Ui.isStrictMode=function(d){return uu(d)===q1};Ui.isSuspense=function(d){return uu(d)===im};Ui.isValidElementType=function(d){return typeof d=="string"||typeof d=="function"||d===Q1||d===nm||d===em||d===q1||d===im||d===oP||typeof d=="object"&&d!==null&&(d.$$typeof===sm||d.$$typeof===om||d.$$typeof===tm||d.$$typeof===rm||d.$$typeof===am||d.$$typeof===lP||d.$$typeof===uP||d.$$typeof===fP||d.$$typeof===sP)};Ui.typeOf=uu;lS.exports=Ui;var cP=lS.exports,fS=cP,hP={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},vP={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},cS={};cS[fS.ForwardRef]=hP;cS[fS.Memo]=vP;var dP=!0;function pP(d,D,Y){var te="";return Y.split(" ").forEach(function(ge){d[ge]!==void 0?D.push(d[ge]+";"):te+=ge+" "}),te}var hS=function(D,Y,te){var ge=D.key+"-"+Y.name;(te===!1||dP===!1)&&D.registered[ge]===void 0&&(D.registered[ge]=Y.styles)},vS=function(D,Y,te){hS(D,Y,te);var ge=D.key+"-"+Y.name;if(D.inserted[Y.name]===void 0){var Se=Y;do D.insert(Y===Se?"."+ge:"",Se,D.sheet,!0),Se=Se.next;while(Se!==void 0)}};function gP(d){for(var D=0,Y,te=0,ge=d.length;ge>=4;++te,ge-=4)Y=d.charCodeAt(te)&255|(d.charCodeAt(++te)&255)<<8|(d.charCodeAt(++te)&255)<<16|(d.charCodeAt(++te)&255)<<24,Y=(Y&65535)*1540483477+((Y>>>16)*59797<<16),Y^=Y>>>24,D=(Y&65535)*1540483477+((Y>>>16)*59797<<16)^(D&65535)*1540483477+((D>>>16)*59797<<16);switch(ge){case 3:D^=(d.charCodeAt(te+2)&255)<<16;case 2:D^=(d.charCodeAt(te+1)&255)<<8;case 1:D^=d.charCodeAt(te)&255,D=(D&65535)*1540483477+((D>>>16)*59797<<16)}return D^=D>>>13,D=(D&65535)*1540483477+((D>>>16)*59797<<16),((D^D>>>15)>>>0).toString(36)}var yP={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},mP=/[A-Z]|^ms/g,xP=/_EMO_([^_]+?)_([^]*?)_EMO_/g,dS=function(D){return D.charCodeAt(1)===45},TT=function(D){return D!=null&&typeof D!="boolean"},kx=eS(function(d){return dS(d)?d:d.replace(mP,"-$&").toLowerCase()}),AT=function(D,Y){switch(D){case"animation":case"animationName":if(typeof Y=="string")return Y.replace(xP,function(te,ge,Se){return Jf={name:ge,styles:Se,next:Jf},ge})}return yP[D]!==1&&!dS(D)&&typeof Y=="number"&&Y!==0?Y+"px":Y};function eg(d,D,Y){if(Y==null)return"";if(Y.__emotion_styles!==void 0)return Y;switch(typeof Y){case"boolean":return"";case"object":{if(Y.anim===1)return Jf={name:Y.name,styles:Y.styles,next:Jf},Y.name;if(Y.styles!==void 0){var te=Y.next;if(te!==void 0)for(;te!==void 0;)Jf={name:te.name,styles:te.styles,next:Jf},te=te.next;var ge=Y.styles+";";return ge}return bP(d,D,Y)}case"function":{if(d!==void 0){var Se=Jf,W=Y(d);return Jf=Se,eg(d,D,W)}break}}if(D==null)return Y;var H=D[Y];return H!==void 0?H:Y}function bP(d,D,Y){var te="";if(Array.isArray(Y))for(var ge=0;ge<Y.length;ge++)te+=eg(d,D,Y[ge])+";";else for(var Se in Y){var W=Y[Se];if(typeof W!="object")D!=null&&D[W]!==void 0?te+=Se+"{"+D[W]+"}":TT(W)&&(te+=kx(Se)+":"+AT(Se,W)+";");else if(Array.isArray(W)&&typeof W[0]=="string"&&(D==null||D[W[0]]===void 0))for(var H=0;H<W.length;H++)TT(W[H])&&(te+=kx(Se)+":"+AT(Se,W[H])+";");else{var e=eg(d,D,W);switch(Se){case"animation":case"animationName":{te+=kx(Se)+":"+e+";";break}default:te+=Se+"{"+e+"}"}}}return te}var ST=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Jf,hw=function(D,Y,te){if(D.length===1&&typeof D[0]=="object"&&D[0]!==null&&D[0].styles!==void 0)return D[0];var ge=!0,Se="";Jf=void 0;var W=D[0];W==null||W.raw===void 0?(ge=!1,Se+=eg(te,Y,W)):Se+=W[0];for(var H=1;H<D.length;H++)Se+=eg(te,Y,D[H]),ge&&(Se+=W[H]);ST.lastIndex=0;for(var e="",g;(g=ST.exec(Se))!==null;)e+="-"+g[1];var R=gP(Se)+e;return{name:R,styles:Se,next:Jf}},wP=function(D){return D()},pS=jx.useInsertionEffect?jx.useInsertionEffect:!1,TP=pS||wP,MT=pS||Fr.useLayoutEffect,gS=Fr.createContext(typeof HTMLElement<"u"?iP({key:"css"}):null);gS.Provider;var yS=function(D){return Fr.forwardRef(function(Y,te){var ge=Fr.useContext(gS);return D(Y,ge,te)})},lm=Fr.createContext({}),AP=yS(function(d,D){var Y=d.styles,te=hw([Y],void 0,Fr.useContext(lm)),ge=Fr.useRef();return MT(function(){var Se=D.key+"-global",W=new D.sheet.constructor({key:Se,nonce:D.sheet.nonce,container:D.sheet.container,speedy:D.sheet.isSpeedy}),H=!1,e=document.querySelector('style[data-emotion="'+Se+" "+te.name+'"]');return D.sheet.tags.length&&(W.before=D.sheet.tags[0]),e!==null&&(H=!0,e.setAttribute("data-emotion",Se),W.hydrate([e])),ge.current=[W,H],function(){W.flush()}},[D]),MT(function(){var Se=ge.current,W=Se[0],H=Se[1];if(H){Se[1]=!1;return}if(te.next!==void 0&&vS(D,te.next,!0),W.tags.length){var e=W.tags[W.tags.length-1].nextElementSibling;W.before=e,W.flush()}D.insert("",te,W,!1)},[D,te.name]),null});function SP(){for(var d=arguments.length,D=new Array(d),Y=0;Y<d;Y++)D[Y]=arguments[Y];return hw(D)}var vw=function(){var D=SP.apply(void 0,arguments),Y="animation-"+D.name;return{name:Y,styles:"@keyframes "+Y+"{"+D.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},MP=RL,EP=function(D){return D!=="theme"},ET=function(D){return typeof D=="string"&&D.charCodeAt(0)>96?MP:EP},CT=function(D,Y,te){var ge;if(Y){var Se=Y.shouldForwardProp;ge=D.__emotion_forwardProp&&Se?function(W){return D.__emotion_forwardProp(W)&&Se(W)}:Se}return typeof ge!="function"&&te&&(ge=D.__emotion_forwardProp),ge},CP=function(D){var Y=D.cache,te=D.serialized,ge=D.isStringTag;return hS(Y,te,ge),TP(function(){return vS(Y,te,ge)}),null},LP=function d(D,Y){var te=D.__emotion_real===D,ge=te&&D.__emotion_base||D,Se,W;Y!==void 0&&(Se=Y.label,W=Y.target);var H=CT(D,Y,te),e=H||ET(ge),g=!e("as");return function(){var R=arguments,a=te&&D.__emotion_styles!==void 0?D.__emotion_styles.slice(0):[];if(Se!==void 0&&a.push("label:"+Se+";"),R[0]==null||R[0].raw===void 0)a.push.apply(a,R);else{a.push(R[0][0]);for(var C=R.length,T=1;T<C;T++)a.push(R[T],R[0][T])}var v=yS(function(y,t,r){var s=g&&y.as||ge,n="",o=[],f=y;if(y.theme==null){f={};for(var u in y)f[u]=y[u];f.theme=Fr.useContext(lm)}typeof y.className=="string"?n=pP(t.registered,o,y.className):y.className!=null&&(n=y.className+" ");var m=hw(a.concat(o),t.registered,f);n+=t.key+"-"+m.name,W!==void 0&&(n+=" "+W);var c=g&&H===void 0?ET(s):e,A={};for(var h in y)g&&h==="as"||c(h)&&(A[h]=y[h]);return A.className=n,A.ref=r,Fr.createElement(Fr.Fragment,null,Fr.createElement(CP,{cache:t,serialized:m,isStringTag:typeof s=="string"}),Fr.createElement(s,A))});return v.displayName=Se!==void 0?Se:"Styled("+(typeof ge=="string"?ge:ge.displayName||ge.name||"Component")+")",v.defaultProps=D.defaultProps,v.__emotion_real=v,v.__emotion_base=ge,v.__emotion_styles=a,v.__emotion_forwardProp=H,Object.defineProperty(v,"toString",{value:function(){return"."+W}}),v.withComponent=function(y,t){return d(y,Qr({},Y,t,{shouldForwardProp:CT(v,t,!0)})).apply(void 0,a)},v}},PP=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Gb=LP.bind();PP.forEach(function(d){Gb[d]=Gb(d)});function RP(d){return d==null||Object.keys(d).length===0}function DP(d){const{styles:D,defaultTheme:Y={}}=d,te=typeof D=="function"?ge=>D(RP(ge)?Y:ge):D;return Pn.jsx(AP,{styles:te})}function IP(d,D){return Gb(d,D)}const kP=(d,D)=>{Array.isArray(d.__emotion_styles)&&(d.__emotion_styles=D(d.__emotion_styles))},_P=["values","unit","step"],zP=d=>{const D=Object.keys(d).map(Y=>({key:Y,val:d[Y]}))||[];return D.sort((Y,te)=>Y.val-te.val),D.reduce((Y,te)=>Qr({},Y,{[te.key]:te.val}),{})};function OP(d){const{values:D={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:Y="px",step:te=5}=d,ge=Za(d,_P),Se=zP(D),W=Object.keys(Se);function H(C){return`@media (min-width:${typeof D[C]=="number"?D[C]:C}${Y})`}function e(C){return`@media (max-width:${(typeof D[C]=="number"?D[C]:C)-te/100}${Y})`}function g(C,T){const v=W.indexOf(T);return`@media (min-width:${typeof D[C]=="number"?D[C]:C}${Y}) and (max-width:${(v!==-1&&typeof D[W[v]]=="number"?D[W[v]]:T)-te/100}${Y})`}function R(C){return W.indexOf(C)+1<W.length?g(C,W[W.indexOf(C)+1]):H(C)}function a(C){const T=W.indexOf(C);return T===0?H(W[1]):T===W.length-1?e(W[T]):g(C,W[W.indexOf(C)+1]).replace("@media","@media not all and")}return Qr({keys:W,values:Se,up:H,down:e,between:g,only:R,not:a,unit:Y},ge)}const FP={borderRadius:4},BP=FP;function L0(d,D){return D?kl(d,D,{clone:!1}):d}const dw={xs:0,sm:600,md:900,lg:1200,xl:1536},LT={keys:["xs","sm","md","lg","xl"],up:d=>`@media (min-width:${dw[d]}px)`};function Nu(d,D,Y){const te=d.theme||{};if(Array.isArray(D)){const Se=te.breakpoints||LT;return D.reduce((W,H,e)=>(W[Se.up(Se.keys[e])]=Y(D[e]),W),{})}if(typeof D=="object"){const Se=te.breakpoints||LT;return Object.keys(D).reduce((W,H)=>{if(Object.keys(Se.values||dw).indexOf(H)!==-1){const e=Se.up(H);W[e]=Y(D[H],H)}else{const e=H;W[e]=D[e]}return W},{})}return Y(D)}function NP(d={}){var D;return((D=d.keys)==null?void 0:D.reduce((te,ge)=>{const Se=d.up(ge);return te[Se]={},te},{}))||{}}function UP(d,D){return d.reduce((Y,te)=>{const ge=Y[te];return(!ge||Object.keys(ge).length===0)&&delete Y[te],Y},D)}function HP(d,D){if(typeof d!="object")return{};const Y={},te=Object.keys(D);return Array.isArray(d)?te.forEach((ge,Se)=>{Se<d.length&&(Y[ge]=!0)}):te.forEach(ge=>{d[ge]!=null&&(Y[ge]=!0)}),Y}function um({values:d,breakpoints:D,base:Y}){const te=Y||HP(d,D),ge=Object.keys(te);if(ge.length===0)return d;let Se;return ge.reduce((W,H,e)=>(Array.isArray(d)?(W[H]=d[e]!=null?d[e]:d[Se],Se=e):typeof d=="object"?(W[H]=d[H]!=null?d[H]:d[Se],Se=H):W[H]=d,W),{})}function fm(d,D,Y=!0){if(!D||typeof D!="string")return null;if(d&&d.vars&&Y){const te=`vars.${D}`.split(".").reduce((ge,Se)=>ge&&ge[Se]?ge[Se]:null,d);if(te!=null)return te}return D.split(".").reduce((te,ge)=>te&&te[ge]!=null?te[ge]:null,d)}function f1(d,D,Y,te=Y){let ge;return typeof d=="function"?ge=d(Y):Array.isArray(d)?ge=d[Y]||te:ge=fm(d,Y)||te,D&&(ge=D(ge,te,d)),ge}function Bo(d){const{prop:D,cssProperty:Y=d.prop,themeKey:te,transform:ge}=d,Se=W=>{if(W[D]==null)return null;const H=W[D],e=W.theme,g=fm(e,te)||{};return Nu(W,H,a=>{let C=f1(g,ge,a);return a===C&&typeof a=="string"&&(C=f1(g,ge,`${D}${a==="default"?"":qa(a)}`,a)),Y===!1?C:{[Y]:C}})};return Se.propTypes={},Se.filterProps=[D],Se}function VP(d){const D={};return Y=>(D[Y]===void 0&&(D[Y]=d(Y)),D[Y])}const WP={m:"margin",p:"padding"},GP={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},PT={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},YP=VP(d=>{if(d.length>2)if(PT[d])d=PT[d];else return[d];const[D,Y]=d.split(""),te=WP[D],ge=GP[Y]||"";return Array.isArray(ge)?ge.map(Se=>te+Se):[te+ge]}),pw=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],gw=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...pw,...gw];function cg(d,D,Y,te){var ge;const Se=(ge=fm(d,D,!1))!=null?ge:Y;return typeof Se=="number"?W=>typeof W=="string"?W:Se*W:Array.isArray(Se)?W=>typeof W=="string"?W:Se[W]:typeof Se=="function"?Se:()=>{}}function mS(d){return cg(d,"spacing",8)}function hg(d,D){if(typeof D=="string"||D==null)return D;const Y=Math.abs(D),te=d(Y);return D>=0?te:typeof te=="number"?-te:`-${te}`}function jP(d,D){return Y=>d.reduce((te,ge)=>(te[ge]=hg(D,Y),te),{})}function ZP(d,D,Y,te){if(D.indexOf(Y)===-1)return null;const ge=YP(Y),Se=jP(ge,te),W=d[Y];return Nu(d,W,Se)}function xS(d,D){const Y=mS(d.theme);return Object.keys(d).map(te=>ZP(d,D,te,Y)).reduce(L0,{})}function Co(d){return xS(d,pw)}Co.propTypes={};Co.filterProps=pw;function Lo(d){return xS(d,gw)}Lo.propTypes={};Lo.filterProps=gw;function XP(d=8){if(d.mui)return d;const D=mS({spacing:d}),Y=(...te)=>(te.length===0?[1]:te).map(Se=>{const W=D(Se);return typeof W=="number"?`${W}px`:W}).join(" ");return Y.mui=!0,Y}function cm(...d){const D=d.reduce((te,ge)=>(ge.filterProps.forEach(Se=>{te[Se]=ge}),te),{}),Y=te=>Object.keys(te).reduce((ge,Se)=>D[Se]?L0(ge,D[Se](te)):ge,{});return Y.propTypes={},Y.filterProps=d.reduce((te,ge)=>te.concat(ge.filterProps),[]),Y}function ku(d){return typeof d!="number"?d:`${d}px solid`}function Wu(d,D){return Bo({prop:d,themeKey:"borders",transform:D})}const KP=Wu("border",ku),$P=Wu("borderTop",ku),JP=Wu("borderRight",ku),QP=Wu("borderBottom",ku),qP=Wu("borderLeft",ku),eR=Wu("borderColor"),tR=Wu("borderTopColor"),rR=Wu("borderRightColor"),nR=Wu("borderBottomColor"),aR=Wu("borderLeftColor"),iR=Wu("outline",ku),oR=Wu("outlineColor"),hm=d=>{if(d.borderRadius!==void 0&&d.borderRadius!==null){const D=cg(d.theme,"shape.borderRadius",4),Y=te=>({borderRadius:hg(D,te)});return Nu(d,d.borderRadius,Y)}return null};hm.propTypes={};hm.filterProps=["borderRadius"];cm(KP,$P,JP,QP,qP,eR,tR,rR,nR,aR,hm,iR,oR);const vm=d=>{if(d.gap!==void 0&&d.gap!==null){const D=cg(d.theme,"spacing",8),Y=te=>({gap:hg(D,te)});return Nu(d,d.gap,Y)}return null};vm.propTypes={};vm.filterProps=["gap"];const dm=d=>{if(d.columnGap!==void 0&&d.columnGap!==null){const D=cg(d.theme,"spacing",8),Y=te=>({columnGap:hg(D,te)});return Nu(d,d.columnGap,Y)}return null};dm.propTypes={};dm.filterProps=["columnGap"];const pm=d=>{if(d.rowGap!==void 0&&d.rowGap!==null){const D=cg(d.theme,"spacing",8),Y=te=>({rowGap:hg(D,te)});return Nu(d,d.rowGap,Y)}return null};pm.propTypes={};pm.filterProps=["rowGap"];const sR=Bo({prop:"gridColumn"}),lR=Bo({prop:"gridRow"}),uR=Bo({prop:"gridAutoFlow"}),fR=Bo({prop:"gridAutoColumns"}),cR=Bo({prop:"gridAutoRows"}),hR=Bo({prop:"gridTemplateColumns"}),vR=Bo({prop:"gridTemplateRows"}),dR=Bo({prop:"gridTemplateAreas"}),pR=Bo({prop:"gridArea"});cm(vm,dm,pm,sR,lR,uR,fR,cR,hR,vR,dR,pR);function rp(d,D){return D==="grey"?D:d}const gR=Bo({prop:"color",themeKey:"palette",transform:rp}),yR=Bo({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:rp}),mR=Bo({prop:"backgroundColor",themeKey:"palette",transform:rp});cm(gR,yR,mR);function eu(d){return d<=1&&d!==0?`${d*100}%`:d}const xR=Bo({prop:"width",transform:eu}),yw=d=>{if(d.maxWidth!==void 0&&d.maxWidth!==null){const D=Y=>{var te,ge;const Se=((te=d.theme)==null||(te=te.breakpoints)==null||(te=te.values)==null?void 0:te[Y])||dw[Y];return Se?((ge=d.theme)==null||(ge=ge.breakpoints)==null?void 0:ge.unit)!=="px"?{maxWidth:`${Se}${d.theme.breakpoints.unit}`}:{maxWidth:Se}:{maxWidth:eu(Y)}};return Nu(d,d.maxWidth,D)}return null};yw.filterProps=["maxWidth"];const bR=Bo({prop:"minWidth",transform:eu}),wR=Bo({prop:"height",transform:eu}),TR=Bo({prop:"maxHeight",transform:eu}),AR=Bo({prop:"minHeight",transform:eu});Bo({prop:"size",cssProperty:"width",transform:eu});Bo({prop:"size",cssProperty:"height",transform:eu});const SR=Bo({prop:"boxSizing"});cm(xR,yw,bR,wR,TR,AR,SR);const MR={border:{themeKey:"borders",transform:ku},borderTop:{themeKey:"borders",transform:ku},borderRight:{themeKey:"borders",transform:ku},borderBottom:{themeKey:"borders",transform:ku},borderLeft:{themeKey:"borders",transform:ku},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:ku},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:hm},color:{themeKey:"palette",transform:rp},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:rp},backgroundColor:{themeKey:"palette",transform:rp},p:{style:Lo},pt:{style:Lo},pr:{style:Lo},pb:{style:Lo},pl:{style:Lo},px:{style:Lo},py:{style:Lo},padding:{style:Lo},paddingTop:{style:Lo},paddingRight:{style:Lo},paddingBottom:{style:Lo},paddingLeft:{style:Lo},paddingX:{style:Lo},paddingY:{style:Lo},paddingInline:{style:Lo},paddingInlineStart:{style:Lo},paddingInlineEnd:{style:Lo},paddingBlock:{style:Lo},paddingBlockStart:{style:Lo},paddingBlockEnd:{style:Lo},m:{style:Co},mt:{style:Co},mr:{style:Co},mb:{style:Co},ml:{style:Co},mx:{style:Co},my:{style:Co},margin:{style:Co},marginTop:{style:Co},marginRight:{style:Co},marginBottom:{style:Co},marginLeft:{style:Co},marginX:{style:Co},marginY:{style:Co},marginInline:{style:Co},marginInlineStart:{style:Co},marginInlineEnd:{style:Co},marginBlock:{style:Co},marginBlockStart:{style:Co},marginBlockEnd:{style:Co},displayPrint:{cssProperty:!1,transform:d=>({"@media print":{display:d}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:vm},rowGap:{style:pm},columnGap:{style:dm},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:eu},maxWidth:{style:yw},minWidth:{transform:eu},height:{transform:eu},maxHeight:{transform:eu},minHeight:{transform:eu},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},gm=MR;function ER(...d){const D=d.reduce((te,ge)=>te.concat(Object.keys(ge)),[]),Y=new Set(D);return d.every(te=>Y.size===Object.keys(te).length)}function CR(d,D){return typeof d=="function"?d(D):d}function LR(){function d(Y,te,ge,Se){const W={[Y]:te,theme:ge},H=Se[Y];if(!H)return{[Y]:te};const{cssProperty:e=Y,themeKey:g,transform:R,style:a}=H;if(te==null)return null;if(g==="typography"&&te==="inherit")return{[Y]:te};const C=fm(ge,g)||{};return a?a(W):Nu(W,te,v=>{let y=f1(C,R,v);return v===y&&typeof v=="string"&&(y=f1(C,R,`${Y}${v==="default"?"":qa(v)}`,v)),e===!1?y:{[e]:y}})}function D(Y){var te;const{sx:ge,theme:Se={}}=Y||{};if(!ge)return null;const W=(te=Se.unstable_sxConfig)!=null?te:gm;function H(e){let g=e;if(typeof e=="function")g=e(Se);else if(typeof e!="object")return e;if(!g)return null;const R=NP(Se.breakpoints),a=Object.keys(R);let C=R;return Object.keys(g).forEach(T=>{const v=CR(g[T],Se);if(v!=null)if(typeof v=="object")if(W[T])C=L0(C,d(T,v,Se,W));else{const y=Nu({theme:Se},v,t=>({[T]:t}));ER(y,v)?C[T]=D({sx:v,theme:Se}):C=L0(C,y)}else C=L0(C,d(T,v,Se,W))}),UP(a,C)}return Array.isArray(ge)?ge.map(H):H(ge)}return D}const bS=LR();bS.filterProps=["sx"];const mw=bS,PR=["breakpoints","palette","spacing","shape"];function xw(d={},...D){const{breakpoints:Y={},palette:te={},spacing:ge,shape:Se={}}=d,W=Za(d,PR),H=OP(Y),e=XP(ge);let g=kl({breakpoints:H,direction:"ltr",components:{},palette:Qr({mode:"light"},te),spacing:e,shape:Qr({},BP,Se)},W);return g=D.reduce((R,a)=>kl(R,a),g),g.unstable_sxConfig=Qr({},gm,W==null?void 0:W.unstable_sxConfig),g.unstable_sx=function(a){return mw({sx:a,theme:this})},g}function RR(d){return Object.keys(d).length===0}function bw(d=null){const D=Fr.useContext(lm);return!D||RR(D)?d:D}const DR=xw();function ww(d=DR){return bw(d)}function IR({styles:d,themeId:D,defaultTheme:Y={}}){const te=ww(Y),ge=typeof d=="function"?d(D&&te[D]||te):d;return Pn.jsx(DP,{styles:ge})}const kR=["sx"],_R=d=>{var D,Y;const te={systemProps:{},otherProps:{}},ge=(D=d==null||(Y=d.theme)==null?void 0:Y.unstable_sxConfig)!=null?D:gm;return Object.keys(d).forEach(Se=>{ge[Se]?te.systemProps[Se]=d[Se]:te.otherProps[Se]=d[Se]}),te};function wS(d){const{sx:D}=d,Y=Za(d,kR),{systemProps:te,otherProps:ge}=_R(Y);let Se;return Array.isArray(D)?Se=[te,...D]:typeof D=="function"?Se=(...W)=>{const H=D(...W);return Nc(H)?Qr({},te,H):te}:Se=Qr({},te,D),Qr({},ge,{sx:Se})}function TS(d){var D,Y,te="";if(typeof d=="string"||typeof d=="number")te+=d;else if(typeof d=="object")if(Array.isArray(d))for(D=0;D<d.length;D++)d[D]&&(Y=TS(d[D]))&&(te&&(te+=" "),te+=Y);else for(D in d)d[D]&&(te&&(te+=" "),te+=D);return te}function ni(){for(var d,D,Y=0,te="";Y<arguments.length;)(d=arguments[Y++])&&(D=TS(d))&&(te&&(te+=" "),te+=D);return te}const zR=["variant"];function RT(d){return d.length===0}function AS(d){const{variant:D}=d,Y=Za(d,zR);let te=D||"";return Object.keys(Y).sort().forEach(ge=>{ge==="color"?te+=RT(te)?d[ge]:qa(d[ge]):te+=`${RT(te)?ge:qa(ge)}${qa(d[ge].toString())}`}),te}const OR=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function FR(d){return Object.keys(d).length===0}function BR(d){return typeof d=="string"&&d.charCodeAt(0)>96}const NR=(d,D)=>D.components&&D.components[d]&&D.components[d].styleOverrides?D.components[d].styleOverrides:null,c1=d=>{const D={};return d&&d.forEach(Y=>{const te=AS(Y.props);D[te]=Y.style}),D},UR=(d,D)=>{let Y=[];return D&&D.components&&D.components[d]&&D.components[d].variants&&(Y=D.components[d].variants),c1(Y)},h1=(d,D,Y)=>{const{ownerState:te={}}=d,ge=[];return Y&&Y.forEach(Se=>{let W=!0;Object.keys(Se.props).forEach(H=>{te[H]!==Se.props[H]&&d[H]!==Se.props[H]&&(W=!1)}),W&&ge.push(D[AS(Se.props)])}),ge},HR=(d,D,Y,te)=>{var ge;const Se=Y==null||(ge=Y.components)==null||(ge=ge[te])==null?void 0:ge.variants;return h1(d,D,Se)};function P0(d){return d!=="ownerState"&&d!=="theme"&&d!=="sx"&&d!=="as"}const VR=xw(),WR=d=>d&&d.charAt(0).toLowerCase()+d.slice(1);function _y({defaultTheme:d,theme:D,themeId:Y}){return FR(D)?d:D[Y]||D}function GR(d){return d?(D,Y)=>Y[d]:null}const DT=({styledArg:d,props:D,defaultTheme:Y,themeId:te})=>{const ge=d(Qr({},D,{theme:_y(Qr({},D,{defaultTheme:Y,themeId:te}))}));let Se;if(ge&&ge.variants&&(Se=ge.variants,delete ge.variants),Se){const W=h1(D,c1(Se),Se);return[ge,...W]}return ge};function YR(d={}){const{themeId:D,defaultTheme:Y=VR,rootShouldForwardProp:te=P0,slotShouldForwardProp:ge=P0}=d,Se=W=>mw(Qr({},W,{theme:_y(Qr({},W,{defaultTheme:Y,themeId:D}))}));return Se.__mui_systemSx=!0,(W,H={})=>{kP(W,o=>o.filter(f=>!(f!=null&&f.__mui_systemSx)));const{name:e,slot:g,skipVariantsResolver:R,skipSx:a,overridesResolver:C=GR(WR(g))}=H,T=Za(H,OR),v=R!==void 0?R:g&&g!=="Root"&&g!=="root"||!1,y=a||!1;let t,r=P0;g==="Root"||g==="root"?r=te:g?r=ge:BR(W)&&(r=void 0);const s=IP(W,Qr({shouldForwardProp:r,label:t},T)),n=(o,...f)=>{const u=f?f.map(h=>{if(typeof h=="function"&&h.__emotion_real!==h)return l=>DT({styledArg:h,props:l,defaultTheme:Y,themeId:D});if(Nc(h)){let l=h,p;return h&&h.variants&&(p=h.variants,delete l.variants,l=M=>{let S=h;return h1(M,c1(p),p).forEach(x=>{S=kl(S,x)}),S}),l}return h}):[];let m=o;if(Nc(o)){let h;o&&o.variants&&(h=o.variants,delete m.variants,m=l=>{let p=o;return h1(l,c1(h),h).forEach(S=>{p=kl(p,S)}),p})}else typeof o=="function"&&o.__emotion_real!==o&&(m=h=>DT({styledArg:o,props:h,defaultTheme:Y,themeId:D}));e&&C&&u.push(h=>{const l=_y(Qr({},h,{defaultTheme:Y,themeId:D})),p=NR(e,l);if(p){const M={};return Object.entries(p).forEach(([S,P])=>{M[S]=typeof P=="function"?P(Qr({},h,{theme:l})):P}),C(h,M)}return null}),e&&!v&&u.push(h=>{const l=_y(Qr({},h,{defaultTheme:Y,themeId:D}));return HR(h,UR(e,l),l,e)}),y||u.push(Se);const c=u.length-f.length;if(Array.isArray(o)&&c>0){const h=new Array(c).fill("");m=[...o,...h],m.raw=[...o.raw,...h]}const A=s(m,...u);return W.muiName&&(A.muiName=W.muiName),A};return s.withConfig&&(n.withConfig=s.withConfig),n}}function jR(d){const{theme:D,name:Y,props:te}=d;return!D||!D.components||!D.components[Y]||!D.components[Y].defaultProps?te:iw(D.components[Y].defaultProps,te)}function ZR({props:d,name:D,defaultTheme:Y,themeId:te}){let ge=ww(Y);return te&&(ge=ge[te]||ge),jR({theme:ge,name:D,props:d})}function Tw(d,D=0,Y=1){return Math.min(Math.max(D,d),Y)}function XR(d){d=d.slice(1);const D=new RegExp(`.{1,${d.length>=6?2:1}}`,"g");let Y=d.match(D);return Y&&Y[0].length===1&&(Y=Y.map(te=>te+te)),Y?`rgb${Y.length===4?"a":""}(${Y.map((te,ge)=>ge<3?parseInt(te,16):Math.round(parseInt(te,16)/255*1e3)/1e3).join(", ")})`:""}function Xv(d){if(d.type)return d;if(d.charAt(0)==="#")return Xv(XR(d));const D=d.indexOf("("),Y=d.substring(0,D);if(["rgb","rgba","hsl","hsla","color"].indexOf(Y)===-1)throw new Error(Kh(9,d));let te=d.substring(D+1,d.length-1),ge;if(Y==="color"){if(te=te.split(" "),ge=te.shift(),te.length===4&&te[3].charAt(0)==="/"&&(te[3]=te[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(ge)===-1)throw new Error(Kh(10,ge))}else te=te.split(",");return te=te.map(Se=>parseFloat(Se)),{type:Y,values:te,colorSpace:ge}}function ym(d){const{type:D,colorSpace:Y}=d;let{values:te}=d;return D.indexOf("rgb")!==-1?te=te.map((ge,Se)=>Se<3?parseInt(ge,10):ge):D.indexOf("hsl")!==-1&&(te[1]=`${te[1]}%`,te[2]=`${te[2]}%`),D.indexOf("color")!==-1?te=`${Y} ${te.join(" ")}`:te=`${te.join(", ")}`,`${D}(${te})`}function KR(d){d=Xv(d);const{values:D}=d,Y=D[0],te=D[1]/100,ge=D[2]/100,Se=te*Math.min(ge,1-ge),W=(g,R=(g+Y/30)%12)=>ge-Se*Math.max(Math.min(R-3,9-R,1),-1);let H="rgb";const e=[Math.round(W(0)*255),Math.round(W(8)*255),Math.round(W(4)*255)];return d.type==="hsla"&&(H+="a",e.push(D[3])),ym({type:H,values:e})}function IT(d){d=Xv(d);let D=d.type==="hsl"||d.type==="hsla"?Xv(KR(d)).values:d.values;return D=D.map(Y=>(d.type!=="color"&&(Y/=255),Y<=.03928?Y/12.92:((Y+.055)/1.055)**2.4)),Number((.2126*D[0]+.7152*D[1]+.0722*D[2]).toFixed(3))}function Yb(d,D){const Y=IT(d),te=IT(D);return(Math.max(Y,te)+.05)/(Math.min(Y,te)+.05)}function Xo(d,D){return d=Xv(d),D=Tw(D),(d.type==="rgb"||d.type==="hsl")&&(d.type+="a"),d.type==="color"?d.values[3]=`/${D}`:d.values[3]=D,ym(d)}function $R(d,D){if(d=Xv(d),D=Tw(D),d.type.indexOf("hsl")!==-1)d.values[2]*=1-D;else if(d.type.indexOf("rgb")!==-1||d.type.indexOf("color")!==-1)for(let Y=0;Y<3;Y+=1)d.values[Y]*=1-D;return ym(d)}function JR(d,D){if(d=Xv(d),D=Tw(D),d.type.indexOf("hsl")!==-1)d.values[2]+=(100-d.values[2])*D;else if(d.type.indexOf("rgb")!==-1)for(let Y=0;Y<3;Y+=1)d.values[Y]+=(255-d.values[Y])*D;else if(d.type.indexOf("color")!==-1)for(let Y=0;Y<3;Y+=1)d.values[Y]+=(1-d.values[Y])*D;return ym(d)}const QR=Fr.createContext(null),SS=QR;function MS(){return Fr.useContext(SS)}const qR=typeof Symbol=="function"&&Symbol.for,eD=qR?Symbol.for("mui.nested"):"__THEME_NESTED__";function tD(d,D){return typeof D=="function"?D(d):Qr({},d,D)}function rD(d){const{children:D,theme:Y}=d,te=MS(),ge=Fr.useMemo(()=>{const Se=te===null?Y:tD(te,Y);return Se!=null&&(Se[eD]=te!==null),Se},[Y,te]);return Pn.jsx(SS.Provider,{value:ge,children:D})}const kT={};function _T(d,D,Y,te=!1){return Fr.useMemo(()=>{const ge=d&&D[d]||D;if(typeof Y=="function"){const Se=Y(ge),W=d?Qr({},D,{[d]:Se}):Se;return te?()=>W:W}return d?Qr({},D,{[d]:Y}):Qr({},D,Y)},[d,D,Y,te])}function nD(d){const{children:D,theme:Y,themeId:te}=d,ge=bw(kT),Se=MS()||kT,W=_T(te,ge,Y),H=_T(te,Se,Y,!0);return Pn.jsx(rD,{theme:H,children:Pn.jsx(lm.Provider,{value:W,children:D})})}function aD(d,D){return Qr({toolbar:{minHeight:56,[d.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[d.up("sm")]:{minHeight:64}}},D)}const iD=["mode","contrastThreshold","tonalOffset"],zT={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:J0.white,default:J0.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},_x={text:{primary:J0.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:J0.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function OT(d,D,Y,te){const ge=te.light||te,Se=te.dark||te*1.5;d[D]||(d.hasOwnProperty(Y)?d[D]=d[Y]:D==="light"?d.light=JR(d.main,ge):D==="dark"&&(d.dark=$R(d.main,Se)))}function oD(d="light"){return d==="dark"?{main:Rd[200],light:Rd[50],dark:Rd[400]}:{main:Rd[700],light:Rd[400],dark:Rd[800]}}function sD(d="light"){return d==="dark"?{main:Pd[200],light:Pd[50],dark:Pd[400]}:{main:Pd[500],light:Pd[300],dark:Pd[700]}}function lD(d="light"){return d==="dark"?{main:Ld[500],light:Ld[300],dark:Ld[700]}:{main:Ld[700],light:Ld[400],dark:Ld[800]}}function uD(d="light"){return d==="dark"?{main:Dd[400],light:Dd[300],dark:Dd[700]}:{main:Dd[700],light:Dd[500],dark:Dd[900]}}function fD(d="light"){return d==="dark"?{main:Id[400],light:Id[300],dark:Id[700]}:{main:Id[800],light:Id[500],dark:Id[900]}}function cD(d="light"){return d==="dark"?{main:n0[400],light:n0[300],dark:n0[700]}:{main:"#ed6c02",light:n0[500],dark:n0[900]}}function hD(d){const{mode:D="light",contrastThreshold:Y=3,tonalOffset:te=.2}=d,ge=Za(d,iD),Se=d.primary||oD(D),W=d.secondary||sD(D),H=d.error||lD(D),e=d.info||uD(D),g=d.success||fD(D),R=d.warning||cD(D);function a(y){return Yb(y,_x.text.primary)>=Y?_x.text.primary:zT.text.primary}const C=({color:y,name:t,mainShade:r=500,lightShade:s=300,darkShade:n=700})=>{if(y=Qr({},y),!y.main&&y[r]&&(y.main=y[r]),!y.hasOwnProperty("main"))throw new Error(Kh(11,t?` (${t})`:"",r));if(typeof y.main!="string")throw new Error(Kh(12,t?` (${t})`:"",JSON.stringify(y.main)));return OT(y,"light",s,te),OT(y,"dark",n,te),y.contrastText||(y.contrastText=a(y.main)),y},T={dark:_x,light:zT};return kl(Qr({common:Qr({},J0),mode:D,primary:C({color:Se,name:"primary"}),secondary:C({color:W,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:C({color:H,name:"error"}),warning:C({color:R,name:"warning"}),info:C({color:e,name:"info"}),success:C({color:g,name:"success"}),grey:lL,contrastThreshold:Y,getContrastText:a,augmentColor:C,tonalOffset:te},T[D]),ge)}const vD=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function dD(d){return Math.round(d*1e5)/1e5}const FT={textTransform:"uppercase"},BT='"Roboto", "Helvetica", "Arial", sans-serif';function pD(d,D){const Y=typeof D=="function"?D(d):D,{fontFamily:te=BT,fontSize:ge=14,fontWeightLight:Se=300,fontWeightRegular:W=400,fontWeightMedium:H=500,fontWeightBold:e=700,htmlFontSize:g=16,allVariants:R,pxToRem:a}=Y,C=Za(Y,vD),T=ge/14,v=a||(r=>`${r/g*T}rem`),y=(r,s,n,o,f)=>Qr({fontFamily:te,fontWeight:r,fontSize:v(s),lineHeight:n},te===BT?{letterSpacing:`${dD(o/s)}em`}:{},f,R),t={h1:y(Se,96,1.167,-1.5),h2:y(Se,60,1.2,-.5),h3:y(W,48,1.167,0),h4:y(W,34,1.235,.25),h5:y(W,24,1.334,0),h6:y(H,20,1.6,.15),subtitle1:y(W,16,1.75,.15),subtitle2:y(H,14,1.57,.1),body1:y(W,16,1.5,.15),body2:y(W,14,1.43,.15),button:y(H,14,1.75,.4,FT),caption:y(W,12,1.66,.4),overline:y(W,12,2.66,1,FT),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return kl(Qr({htmlFontSize:g,pxToRem:v,fontFamily:te,fontSize:ge,fontWeightLight:Se,fontWeightRegular:W,fontWeightMedium:H,fontWeightBold:e},t),C,{clone:!1})}const gD=.2,yD=.14,mD=.12;function uo(...d){return[`${d[0]}px ${d[1]}px ${d[2]}px ${d[3]}px rgba(0,0,0,${gD})`,`${d[4]}px ${d[5]}px ${d[6]}px ${d[7]}px rgba(0,0,0,${yD})`,`${d[8]}px ${d[9]}px ${d[10]}px ${d[11]}px rgba(0,0,0,${mD})`].join(",")}const xD=["none",uo(0,2,1,-1,0,1,1,0,0,1,3,0),uo(0,3,1,-2,0,2,2,0,0,1,5,0),uo(0,3,3,-2,0,3,4,0,0,1,8,0),uo(0,2,4,-1,0,4,5,0,0,1,10,0),uo(0,3,5,-1,0,5,8,0,0,1,14,0),uo(0,3,5,-1,0,6,10,0,0,1,18,0),uo(0,4,5,-2,0,7,10,1,0,2,16,1),uo(0,5,5,-3,0,8,10,1,0,3,14,2),uo(0,5,6,-3,0,9,12,1,0,3,16,2),uo(0,6,6,-3,0,10,14,1,0,4,18,3),uo(0,6,7,-4,0,11,15,1,0,4,20,3),uo(0,7,8,-4,0,12,17,2,0,5,22,4),uo(0,7,8,-4,0,13,19,2,0,5,24,4),uo(0,7,9,-4,0,14,21,2,0,5,26,4),uo(0,8,9,-5,0,15,22,2,0,6,28,5),uo(0,8,10,-5,0,16,24,2,0,6,30,5),uo(0,8,11,-5,0,17,26,2,0,6,32,5),uo(0,9,11,-5,0,18,28,2,0,7,34,6),uo(0,9,12,-6,0,19,29,2,0,7,36,6),uo(0,10,13,-6,0,20,31,3,0,8,38,7),uo(0,10,13,-6,0,21,33,3,0,8,40,7),uo(0,10,14,-6,0,22,35,3,0,8,42,7),uo(0,11,14,-7,0,23,36,3,0,9,44,8),uo(0,11,15,-7,0,24,38,3,0,9,46,8)],bD=xD,wD=["duration","easing","delay"],TD={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},AD={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function NT(d){return`${Math.round(d)}ms`}function SD(d){if(!d)return 0;const D=d/36;return Math.round((4+15*D**.25+D/5)*10)}function MD(d){const D=Qr({},TD,d.easing),Y=Qr({},AD,d.duration);return Qr({getAutoHeightDuration:SD,create:(ge=["all"],Se={})=>{const{duration:W=Y.standard,easing:H=D.easeInOut,delay:e=0}=Se;return Za(Se,wD),(Array.isArray(ge)?ge:[ge]).map(g=>`${g} ${typeof W=="string"?W:NT(W)} ${H} ${typeof e=="string"?e:NT(e)}`).join(",")}},d,{easing:D,duration:Y})}const ED={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},CD=ED,LD=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function ES(d={},...D){const{mixins:Y={},palette:te={},transitions:ge={},typography:Se={}}=d,W=Za(d,LD);if(d.vars)throw new Error(Kh(18));const H=hD(te),e=xw(d);let g=kl(e,{mixins:aD(e.breakpoints,Y),palette:H,shadows:bD.slice(),typography:pD(H,Se),transitions:MD(ge),zIndex:Qr({},CD)});return g=kl(g,W),g=D.reduce((R,a)=>kl(R,a),g),g.unstable_sxConfig=Qr({},gm,W==null?void 0:W.unstable_sxConfig),g.unstable_sx=function(a){return mw({sx:a,theme:this})},g}const PD=ES(),mm=PD;function vg(){const d=ww(mm);return d[cp]||d}function qi({props:d,name:D}){return ZR({props:d,name:D,defaultTheme:mm,themeId:cp})}const Gu=d=>P0(d)&&d!=="classes",RD=P0,DD=YR({themeId:cp,defaultTheme:mm,rootShouldForwardProp:Gu}),Xa=DD,ID=["theme"];function kD(d){let{theme:D}=d,Y=Za(d,ID);const te=D[cp];return Pn.jsx(nD,Qr({},Y,{themeId:te?cp:void 0,theme:te||D}))}const _D=d=>{let D;return d<1?D=5.11916*d**2:D=4.5*Math.log(d+1)+2,(D/100).toFixed(2)},UT=_D;function zD(d){return Zi("MuiSvgIcon",d)}Fi("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const OD=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],FD=d=>{const{color:D,fontSize:Y,classes:te}=d,ge={root:["root",D!=="inherit"&&`color${qa(D)}`,`fontSize${qa(Y)}`]};return Qi(ge,zD,te)},BD=Xa("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(d,D)=>{const{ownerState:Y}=d;return[D.root,Y.color!=="inherit"&&D[`color${qa(Y.color)}`],D[`fontSize${qa(Y.fontSize)}`]]}})(({theme:d,ownerState:D})=>{var Y,te,ge,Se,W,H,e,g,R,a,C,T,v;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:D.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(Y=d.transitions)==null||(te=Y.create)==null?void 0:te.call(Y,"fill",{duration:(ge=d.transitions)==null||(ge=ge.duration)==null?void 0:ge.shorter}),fontSize:{inherit:"inherit",small:((Se=d.typography)==null||(W=Se.pxToRem)==null?void 0:W.call(Se,20))||"1.25rem",medium:((H=d.typography)==null||(e=H.pxToRem)==null?void 0:e.call(H,24))||"1.5rem",large:((g=d.typography)==null||(R=g.pxToRem)==null?void 0:R.call(g,35))||"2.1875rem"}[D.fontSize],color:(a=(C=(d.vars||d).palette)==null||(C=C[D.color])==null?void 0:C.main)!=null?a:{action:(T=(d.vars||d).palette)==null||(T=T.action)==null?void 0:T.active,disabled:(v=(d.vars||d).palette)==null||(v=v.action)==null?void 0:v.disabled,inherit:void 0}[D.color]}}),CS=Fr.forwardRef(function(D,Y){const te=qi({props:D,name:"MuiSvgIcon"}),{children:ge,className:Se,color:W="inherit",component:H="svg",fontSize:e="medium",htmlColor:g,inheritViewBox:R=!1,titleAccess:a,viewBox:C="0 0 24 24"}=te,T=Za(te,OD),v=Fr.isValidElement(ge)&&ge.type==="svg",y=Qr({},te,{color:W,component:H,fontSize:e,instanceFontSize:D.fontSize,inheritViewBox:R,viewBox:C,hasSvgAsChild:v}),t={};R||(t.viewBox=C);const r=FD(y);return Pn.jsxs(BD,Qr({as:H,className:ni(r.root,Se),focusable:"false",color:g,"aria-hidden":a?void 0:!0,role:a?"img":void 0,ref:Y},t,T,v&&ge.props,{ownerState:y,children:[v?ge.props.children:ge,a?Pn.jsx("title",{children:a}):null]}))});CS.muiName="SvgIcon";const HT=CS;function LS(d,D){function Y(te,ge){return Pn.jsx(HT,Qr({"data-testid":`${D}Icon`,ref:ge},te,{children:d}))}return Y.muiName=HT.muiName,Fr.memo(Fr.forwardRef(Y))}const ND={configure:d=>{q6.configure(d)}},UD=Object.freeze(Object.defineProperty({__proto__:null,capitalize:qa,createChainedFunction:Ub,createSvgIcon:LS,debounce:nw,deprecatedPropType:pL,isMuiElement:Ry,ownerDocument:Ks,ownerWindow:$h,requirePropFactory:gL,setRef:s1,unstable_ClassNameGenerator:ND,unstable_useEnhancedEffect:Af,unstable_useId:Z1,unsupportedProp:xL,useControlled:l1,useEventCallback:Fh,useForkRef:ns,useIsFocusVisible:aw},Symbol.toStringTag,{value:"Module"}));function jb(d,D){return jb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(te,ge){return te.__proto__=ge,te},jb(d,D)}function PS(d,D){d.prototype=Object.create(D.prototype),d.prototype.constructor=d,jb(d,D)}const VT={disabled:!1},v1=qf.createContext(null);var HD=function(D){return D.scrollTop},y0="unmounted",_v="exited",zv="entering",zd="entered",Zb="exiting",Kc=function(d){PS(D,d);function D(te,ge){var Se;Se=d.call(this,te,ge)||this;var W=ge,H=W&&!W.isMounting?te.enter:te.appear,e;return Se.appearStatus=null,te.in?H?(e=_v,Se.appearStatus=zv):e=zd:te.unmountOnExit||te.mountOnEnter?e=y0:e=_v,Se.state={status:e},Se.nextCallback=null,Se}D.getDerivedStateFromProps=function(ge,Se){var W=ge.in;return W&&Se.status===y0?{status:_v}:null};var Y=D.prototype;return Y.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},Y.componentDidUpdate=function(ge){var Se=null;if(ge!==this.props){var W=this.state.status;this.props.in?W!==zv&&W!==zd&&(Se=zv):(W===zv||W===zd)&&(Se=Zb)}this.updateStatus(!1,Se)},Y.componentWillUnmount=function(){this.cancelNextCallback()},Y.getTimeouts=function(){var ge=this.props.timeout,Se,W,H;return Se=W=H=ge,ge!=null&&typeof ge!="number"&&(Se=ge.exit,W=ge.enter,H=ge.appear!==void 0?ge.appear:W),{exit:Se,enter:W,appear:H}},Y.updateStatus=function(ge,Se){if(ge===void 0&&(ge=!1),Se!==null)if(this.cancelNextCallback(),Se===zv){if(this.props.unmountOnExit||this.props.mountOnEnter){var W=this.props.nodeRef?this.props.nodeRef.current:sy.findDOMNode(this);W&&HD(W)}this.performEnter(ge)}else this.performExit();else this.props.unmountOnExit&&this.state.status===_v&&this.setState({status:y0})},Y.performEnter=function(ge){var Se=this,W=this.props.enter,H=this.context?this.context.isMounting:ge,e=this.props.nodeRef?[H]:[sy.findDOMNode(this),H],g=e[0],R=e[1],a=this.getTimeouts(),C=H?a.appear:a.enter;if(!ge&&!W||VT.disabled){this.safeSetState({status:zd},function(){Se.props.onEntered(g)});return}this.props.onEnter(g,R),this.safeSetState({status:zv},function(){Se.props.onEntering(g,R),Se.onTransitionEnd(C,function(){Se.safeSetState({status:zd},function(){Se.props.onEntered(g,R)})})})},Y.performExit=function(){var ge=this,Se=this.props.exit,W=this.getTimeouts(),H=this.props.nodeRef?void 0:sy.findDOMNode(this);if(!Se||VT.disabled){this.safeSetState({status:_v},function(){ge.props.onExited(H)});return}this.props.onExit(H),this.safeSetState({status:Zb},function(){ge.props.onExiting(H),ge.onTransitionEnd(W.exit,function(){ge.safeSetState({status:_v},function(){ge.props.onExited(H)})})})},Y.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},Y.safeSetState=function(ge,Se){Se=this.setNextCallback(Se),this.setState(ge,Se)},Y.setNextCallback=function(ge){var Se=this,W=!0;return this.nextCallback=function(H){W&&(W=!1,Se.nextCallback=null,ge(H))},this.nextCallback.cancel=function(){W=!1},this.nextCallback},Y.onTransitionEnd=function(ge,Se){this.setNextCallback(Se);var W=this.props.nodeRef?this.props.nodeRef.current:sy.findDOMNode(this),H=ge==null&&!this.props.addEndListener;if(!W||H){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var e=this.props.nodeRef?[this.nextCallback]:[W,this.nextCallback],g=e[0],R=e[1];this.props.addEndListener(g,R)}ge!=null&&setTimeout(this.nextCallback,ge)},Y.render=function(){var ge=this.state.status;if(ge===y0)return null;var Se=this.props,W=Se.children;Se.in,Se.mountOnEnter,Se.unmountOnExit,Se.appear,Se.enter,Se.exit,Se.timeout,Se.addEndListener,Se.onEnter,Se.onEntering,Se.onEntered,Se.onExit,Se.onExiting,Se.onExited,Se.nodeRef;var H=Za(Se,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return qf.createElement(v1.Provider,{value:null},typeof W=="function"?W(ge,H):qf.cloneElement(qf.Children.only(W),H))},D}(qf.Component);Kc.contextType=v1;Kc.propTypes={};function kd(){}Kc.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:kd,onEntering:kd,onEntered:kd,onExit:kd,onExiting:kd,onExited:kd};Kc.UNMOUNTED=y0;Kc.EXITED=_v;Kc.ENTERING=zv;Kc.ENTERED=zd;Kc.EXITING=Zb;const RS=Kc;function VD(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}function Aw(d,D){var Y=function(Se){return D&&Fr.isValidElement(Se)?D(Se):Se},te=Object.create(null);return d&&Fr.Children.map(d,function(ge){return ge}).forEach(function(ge){te[ge.key]=Y(ge)}),te}function WD(d,D){d=d||{},D=D||{};function Y(R){return R in D?D[R]:d[R]}var te=Object.create(null),ge=[];for(var Se in d)Se in D?ge.length&&(te[Se]=ge,ge=[]):ge.push(Se);var W,H={};for(var e in D){if(te[e])for(W=0;W<te[e].length;W++){var g=te[e][W];H[te[e][W]]=Y(g)}H[e]=Y(e)}for(W=0;W<ge.length;W++)H[ge[W]]=Y(ge[W]);return H}function Nv(d,D,Y){return Y[D]!=null?Y[D]:d.props[D]}function GD(d,D){return Aw(d.children,function(Y){return Fr.cloneElement(Y,{onExited:D.bind(null,Y),in:!0,appear:Nv(Y,"appear",d),enter:Nv(Y,"enter",d),exit:Nv(Y,"exit",d)})})}function YD(d,D,Y){var te=Aw(d.children),ge=WD(D,te);return Object.keys(ge).forEach(function(Se){var W=ge[Se];if(Fr.isValidElement(W)){var H=Se in D,e=Se in te,g=D[Se],R=Fr.isValidElement(g)&&!g.props.in;e&&(!H||R)?ge[Se]=Fr.cloneElement(W,{onExited:Y.bind(null,W),in:!0,exit:Nv(W,"exit",d),enter:Nv(W,"enter",d)}):!e&&H&&!R?ge[Se]=Fr.cloneElement(W,{in:!1}):e&&H&&Fr.isValidElement(g)&&(ge[Se]=Fr.cloneElement(W,{onExited:Y.bind(null,W),in:g.props.in,exit:Nv(W,"exit",d),enter:Nv(W,"enter",d)}))}}),ge}var jD=Object.values||function(d){return Object.keys(d).map(function(D){return d[D]})},ZD={component:"div",childFactory:function(D){return D}},Sw=function(d){PS(D,d);function D(te,ge){var Se;Se=d.call(this,te,ge)||this;var W=Se.handleExited.bind(VD(Se));return Se.state={contextValue:{isMounting:!0},handleExited:W,firstRender:!0},Se}var Y=D.prototype;return Y.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},Y.componentWillUnmount=function(){this.mounted=!1},D.getDerivedStateFromProps=function(ge,Se){var W=Se.children,H=Se.handleExited,e=Se.firstRender;return{children:e?GD(ge,H):YD(ge,W,H),firstRender:!1}},Y.handleExited=function(ge,Se){var W=Aw(this.props.children);ge.key in W||(ge.props.onExited&&ge.props.onExited(Se),this.mounted&&this.setState(function(H){var e=Qr({},H.children);return delete e[ge.key],{children:e}}))},Y.render=function(){var ge=this.props,Se=ge.component,W=ge.childFactory,H=Za(ge,["component","childFactory"]),e=this.state.contextValue,g=jD(this.state.children).map(W);return delete H.appear,delete H.enter,delete H.exit,Se===null?qf.createElement(v1.Provider,{value:e},g):qf.createElement(v1.Provider,{value:e},qf.createElement(Se,H,g))},D}(qf.Component);Sw.propTypes={};Sw.defaultProps=ZD;const XD=Sw,DS=d=>d.scrollTop;function d1(d,D){var Y,te;const{timeout:ge,easing:Se,style:W={}}=d;return{duration:(Y=W.transitionDuration)!=null?Y:typeof ge=="number"?ge:ge[D.mode]||0,easing:(te=W.transitionTimingFunction)!=null?te:typeof Se=="object"?Se[D.mode]:Se,delay:W.transitionDelay}}function KD(d){return Zi("MuiPaper",d)}Fi("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const $D=["className","component","elevation","square","variant"],JD=d=>{const{square:D,elevation:Y,variant:te,classes:ge}=d,Se={root:["root",te,!D&&"rounded",te==="elevation"&&`elevation${Y}`]};return Qi(Se,KD,ge)},QD=Xa("div",{name:"MuiPaper",slot:"Root",overridesResolver:(d,D)=>{const{ownerState:Y}=d;return[D.root,D[Y.variant],!Y.square&&D.rounded,Y.variant==="elevation"&&D[`elevation${Y.elevation}`]]}})(({theme:d,ownerState:D})=>{var Y;return Qr({backgroundColor:(d.vars||d).palette.background.paper,color:(d.vars||d).palette.text.primary,transition:d.transitions.create("box-shadow")},!D.square&&{borderRadius:d.shape.borderRadius},D.variant==="outlined"&&{border:`1px solid ${(d.vars||d).palette.divider}`},D.variant==="elevation"&&Qr({boxShadow:(d.vars||d).shadows[D.elevation]},!d.vars&&d.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${Xo("#fff",UT(D.elevation))}, ${Xo("#fff",UT(D.elevation))})`},d.vars&&{backgroundImage:(Y=d.vars.overlays)==null?void 0:Y[D.elevation]}))}),qD=Fr.forwardRef(function(D,Y){const te=qi({props:D,name:"MuiPaper"}),{className:ge,component:Se="div",elevation:W=1,square:H=!1,variant:e="elevation"}=te,g=Za(te,$D),R=Qr({},te,{component:Se,elevation:W,square:H,variant:e}),a=JD(R);return Pn.jsx(QD,Qr({as:Se,ownerState:R,className:ni(a.root,ge),ref:Y},g))}),eI=qD;function tI(d){const{className:D,classes:Y,pulsate:te=!1,rippleX:ge,rippleY:Se,rippleSize:W,in:H,onExited:e,timeout:g}=d,[R,a]=Fr.useState(!1),C=ni(D,Y.ripple,Y.rippleVisible,te&&Y.ripplePulsate),T={width:W,height:W,top:-(W/2)+Se,left:-(W/2)+ge},v=ni(Y.child,R&&Y.childLeaving,te&&Y.childPulsate);return!H&&!R&&a(!0),Fr.useEffect(()=>{if(!H&&e!=null){const y=setTimeout(e,g);return()=>{clearTimeout(y)}}},[e,H,g]),Pn.jsx("span",{className:C,style:T,children:Pn.jsx("span",{className:v})})}const rI=Fi("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Ru=rI,nI=["center","classes","className"];let xm=d=>d,WT,GT,YT,jT;const Xb=550,aI=80,iI=vw(WT||(WT=xm`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),oI=vw(GT||(GT=xm`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),sI=vw(YT||(YT=xm`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),lI=Xa("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),uI=Xa(tI,{name:"MuiTouchRipple",slot:"Ripple"})(jT||(jT=xm`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Ru.rippleVisible,iI,Xb,({theme:d})=>d.transitions.easing.easeInOut,Ru.ripplePulsate,({theme:d})=>d.transitions.duration.shorter,Ru.child,Ru.childLeaving,oI,Xb,({theme:d})=>d.transitions.easing.easeInOut,Ru.childPulsate,sI,({theme:d})=>d.transitions.easing.easeInOut),fI=Fr.forwardRef(function(D,Y){const te=qi({props:D,name:"MuiTouchRipple"}),{center:ge=!1,classes:Se={},className:W}=te,H=Za(te,nI),[e,g]=Fr.useState([]),R=Fr.useRef(0),a=Fr.useRef(null);Fr.useEffect(()=>{a.current&&(a.current(),a.current=null)},[e]);const C=Fr.useRef(!1),T=Fr.useRef(0),v=Fr.useRef(null),y=Fr.useRef(null);Fr.useEffect(()=>()=>{T.current&&clearTimeout(T.current)},[]);const t=Fr.useCallback(o=>{const{pulsate:f,rippleX:u,rippleY:m,rippleSize:c,cb:A}=o;g(h=>[...h,Pn.jsx(uI,{classes:{ripple:ni(Se.ripple,Ru.ripple),rippleVisible:ni(Se.rippleVisible,Ru.rippleVisible),ripplePulsate:ni(Se.ripplePulsate,Ru.ripplePulsate),child:ni(Se.child,Ru.child),childLeaving:ni(Se.childLeaving,Ru.childLeaving),childPulsate:ni(Se.childPulsate,Ru.childPulsate)},timeout:Xb,pulsate:f,rippleX:u,rippleY:m,rippleSize:c},R.current)]),R.current+=1,a.current=A},[Se]),r=Fr.useCallback((o={},f={},u=()=>{})=>{const{pulsate:m=!1,center:c=ge||f.pulsate,fakeElement:A=!1}=f;if((o==null?void 0:o.type)==="mousedown"&&C.current){C.current=!1;return}(o==null?void 0:o.type)==="touchstart"&&(C.current=!0);const h=A?null:y.current,l=h?h.getBoundingClientRect():{width:0,height:0,left:0,top:0};let p,M,S;if(c||o===void 0||o.clientX===0&&o.clientY===0||!o.clientX&&!o.touches)p=Math.round(l.width/2),M=Math.round(l.height/2);else{const{clientX:P,clientY:x}=o.touches&&o.touches.length>0?o.touches[0]:o;p=Math.round(P-l.left),M=Math.round(x-l.top)}if(c)S=Math.sqrt((2*l.width**2+l.height**2)/3),S%2===0&&(S+=1);else{const P=Math.max(Math.abs((h?h.clientWidth:0)-p),p)*2+2,x=Math.max(Math.abs((h?h.clientHeight:0)-M),M)*2+2;S=Math.sqrt(P**2+x**2)}o!=null&&o.touches?v.current===null&&(v.current=()=>{t({pulsate:m,rippleX:p,rippleY:M,rippleSize:S,cb:u})},T.current=setTimeout(()=>{v.current&&(v.current(),v.current=null)},aI)):t({pulsate:m,rippleX:p,rippleY:M,rippleSize:S,cb:u})},[ge,t]),s=Fr.useCallback(()=>{r({},{pulsate:!0})},[r]),n=Fr.useCallback((o,f)=>{if(clearTimeout(T.current),(o==null?void 0:o.type)==="touchend"&&v.current){v.current(),v.current=null,T.current=setTimeout(()=>{n(o,f)});return}v.current=null,g(u=>u.length>0?u.slice(1):u),a.current=f},[]);return Fr.useImperativeHandle(Y,()=>({pulsate:s,start:r,stop:n}),[s,r,n]),Pn.jsx(lI,Qr({className:ni(Ru.root,Se.root,W),ref:y},H,{children:Pn.jsx(XD,{component:null,exit:!0,children:e})}))}),cI=fI;function hI(d){return Zi("MuiButtonBase",d)}const vI=Fi("MuiButtonBase",["root","disabled","focusVisible"]),dI=vI,pI=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],gI=d=>{const{disabled:D,focusVisible:Y,focusVisibleClassName:te,classes:ge}=d,W=Qi({root:["root",D&&"disabled",Y&&"focusVisible"]},hI,ge);return Y&&te&&(W.root+=` ${te}`),W},yI=Xa("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(d,D)=>D.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${dI.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),mI=Fr.forwardRef(function(D,Y){const te=qi({props:D,name:"MuiButtonBase"}),{action:ge,centerRipple:Se=!1,children:W,className:H,component:e="button",disabled:g=!1,disableRipple:R=!1,disableTouchRipple:a=!1,focusRipple:C=!1,LinkComponent:T="a",onBlur:v,onClick:y,onContextMenu:t,onDragLeave:r,onFocus:s,onFocusVisible:n,onKeyDown:o,onKeyUp:f,onMouseDown:u,onMouseLeave:m,onMouseUp:c,onTouchEnd:A,onTouchMove:h,onTouchStart:l,tabIndex:p=0,TouchRippleProps:M,touchRippleRef:S,type:P}=te,x=Za(te,pI),E=Fr.useRef(null),w=Fr.useRef(null),i=ns(w,S),{isFocusVisibleRef:L,onFocus:b,onBlur:O,ref:_}=aw(),[N,z]=Fr.useState(!1);g&&N&&z(!1),Fr.useImperativeHandle(ge,()=>({focusVisible:()=>{z(!0),E.current.focus()}}),[]);const[B,U]=Fr.useState(!1);Fr.useEffect(()=>{U(!0)},[]);const F=B&&!R&&!g;Fr.useEffect(()=>{N&&C&&!R&&B&&w.current.pulsate()},[R,C,N,B]);function V(Oe,Ne,Le=a){return Fh(be=>(Ne&&Ne(be),!Le&&w.current&&w.current[Oe](be),!0))}const j=V("start",u),$=V("stop",t),ne=V("stop",r),oe=V("stop",c),ce=V("stop",Oe=>{N&&Oe.preventDefault(),m&&m(Oe)}),Q=V("start",l),Z=V("stop",A),K=V("stop",h),J=V("stop",Oe=>{O(Oe),L.current===!1&&z(!1),v&&v(Oe)},!1),re=Fh(Oe=>{E.current||(E.current=Oe.currentTarget),b(Oe),L.current===!0&&(z(!0),n&&n(Oe)),s&&s(Oe)}),le=()=>{const Oe=E.current;return e&&e!=="button"&&!(Oe.tagName==="A"&&Oe.href)},q=Fr.useRef(!1),ee=Fh(Oe=>{C&&!q.current&&N&&w.current&&Oe.key===" "&&(q.current=!0,w.current.stop(Oe,()=>{w.current.start(Oe)})),Oe.target===Oe.currentTarget&&le()&&Oe.key===" "&&Oe.preventDefault(),o&&o(Oe),Oe.target===Oe.currentTarget&&le()&&Oe.key==="Enter"&&!g&&(Oe.preventDefault(),y&&y(Oe))}),ue=Fh(Oe=>{C&&Oe.key===" "&&w.current&&N&&!Oe.defaultPrevented&&(q.current=!1,w.current.stop(Oe,()=>{w.current.pulsate(Oe)})),f&&f(Oe),y&&Oe.target===Oe.currentTarget&&le()&&Oe.key===" "&&!Oe.defaultPrevented&&y(Oe)});let se=e;se==="button"&&(x.href||x.to)&&(se=T);const he={};se==="button"?(he.type=P===void 0?"button":P,he.disabled=g):(!x.href&&!x.to&&(he.role="button"),g&&(he["aria-disabled"]=g));const me=ns(Y,_,E),Ce=Qr({},te,{centerRipple:Se,component:e,disabled:g,disableRipple:R,disableTouchRipple:a,focusRipple:C,tabIndex:p,focusVisible:N}),Te=gI(Ce);return Pn.jsxs(yI,Qr({as:se,className:ni(Te.root,H),ownerState:Ce,onBlur:J,onClick:y,onContextMenu:$,onFocus:re,onKeyDown:ee,onKeyUp:ue,onMouseDown:j,onMouseLeave:ce,onMouseUp:oe,onDragLeave:ne,onTouchEnd:Z,onTouchMove:K,onTouchStart:Q,ref:me,tabIndex:g?-1:p,type:P},he,x,{children:[W,F?Pn.jsx(cI,Qr({ref:i,center:Se},M)):null]}))}),Mw=mI;function xI(d){return Zi("MuiIconButton",d)}const bI=Fi("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),wI=bI,TI=["edge","children","className","color","disabled","disableFocusRipple","size"],AI=d=>{const{classes:D,disabled:Y,color:te,edge:ge,size:Se}=d,W={root:["root",Y&&"disabled",te!=="default"&&`color${qa(te)}`,ge&&`edge${qa(ge)}`,`size${qa(Se)}`]};return Qi(W,xI,D)},SI=Xa(Mw,{name:"MuiIconButton",slot:"Root",overridesResolver:(d,D)=>{const{ownerState:Y}=d;return[D.root,Y.color!=="default"&&D[`color${qa(Y.color)}`],Y.edge&&D[`edge${qa(Y.edge)}`],D[`size${qa(Y.size)}`]]}})(({theme:d,ownerState:D})=>Qr({textAlign:"center",flex:"0 0 auto",fontSize:d.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(d.vars||d).palette.action.active,transition:d.transitions.create("background-color",{duration:d.transitions.duration.shortest})},!D.disableRipple&&{"&:hover":{backgroundColor:d.vars?`rgba(${d.vars.palette.action.activeChannel} / ${d.vars.palette.action.hoverOpacity})`:Xo(d.palette.action.active,d.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},D.edge==="start"&&{marginLeft:D.size==="small"?-3:-12},D.edge==="end"&&{marginRight:D.size==="small"?-3:-12}),({theme:d,ownerState:D})=>{var Y;const te=(Y=(d.vars||d).palette)==null?void 0:Y[D.color];return Qr({},D.color==="inherit"&&{color:"inherit"},D.color!=="inherit"&&D.color!=="default"&&Qr({color:te==null?void 0:te.main},!D.disableRipple&&{"&:hover":Qr({},te&&{backgroundColor:d.vars?`rgba(${te.mainChannel} / ${d.vars.palette.action.hoverOpacity})`:Xo(te.main,d.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),D.size==="small"&&{padding:5,fontSize:d.typography.pxToRem(18)},D.size==="large"&&{padding:12,fontSize:d.typography.pxToRem(28)},{[`&.${wI.disabled}`]:{backgroundColor:"transparent",color:(d.vars||d).palette.action.disabled}})}),MI=Fr.forwardRef(function(D,Y){const te=qi({props:D,name:"MuiIconButton"}),{edge:ge=!1,children:Se,className:W,color:H="default",disabled:e=!1,disableFocusRipple:g=!1,size:R="medium"}=te,a=Za(te,TI),C=Qr({},te,{edge:ge,color:H,disabled:e,disableFocusRipple:g,size:R}),T=AI(C);return Pn.jsx(SI,Qr({className:ni(T.root,W),centerRipple:!0,focusRipple:!g,disabled:e,ref:Y,ownerState:C},a,{children:Se}))}),Ew=MI;function EI(d){return Zi("MuiTypography",d)}Fi("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const CI=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],LI=d=>{const{align:D,gutterBottom:Y,noWrap:te,paragraph:ge,variant:Se,classes:W}=d,H={root:["root",Se,d.align!=="inherit"&&`align${qa(D)}`,Y&&"gutterBottom",te&&"noWrap",ge&&"paragraph"]};return Qi(H,EI,W)},PI=Xa("span",{name:"MuiTypography",slot:"Root",overridesResolver:(d,D)=>{const{ownerState:Y}=d;return[D.root,Y.variant&&D[Y.variant],Y.align!=="inherit"&&D[`align${qa(Y.align)}`],Y.noWrap&&D.noWrap,Y.gutterBottom&&D.gutterBottom,Y.paragraph&&D.paragraph]}})(({theme:d,ownerState:D})=>Qr({margin:0},D.variant==="inherit"&&{font:"inherit"},D.variant!=="inherit"&&d.typography[D.variant],D.align!=="inherit"&&{textAlign:D.align},D.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},D.gutterBottom&&{marginBottom:"0.35em"},D.paragraph&&{marginBottom:16})),ZT={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},RI={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},DI=d=>RI[d]||d,II=Fr.forwardRef(function(D,Y){const te=qi({props:D,name:"MuiTypography"}),ge=DI(te.color),Se=wS(Qr({},te,{color:ge})),{align:W="inherit",className:H,component:e,gutterBottom:g=!1,noWrap:R=!1,paragraph:a=!1,variant:C="body1",variantMapping:T=ZT}=Se,v=Za(Se,CI),y=Qr({},Se,{align:W,color:ge,className:H,component:e,gutterBottom:g,noWrap:R,paragraph:a,variant:C,variantMapping:T}),t=e||(a?"p":T[C]||ZT[C])||"span",r=LI(y);return Pn.jsx(PI,Qr({as:t,ref:Y,ownerState:y,className:ni(r.root,H)},v))}),kI=II;function p1(d){return typeof d=="string"}function m0(d,D,Y){return d===void 0||p1(d)?D:Qr({},D,{ownerState:Qr({},D.ownerState,Y)})}const _I={disableDefaultClasses:!1},zI=Fr.createContext(_I);function OI(d){const{disableDefaultClasses:D}=Fr.useContext(zI);return Y=>D?"":d(Y)}function IS(d,D=[]){if(d===void 0)return{};const Y={};return Object.keys(d).filter(te=>te.match(/^on[A-Z]/)&&typeof d[te]=="function"&&!D.includes(te)).forEach(te=>{Y[te]=d[te]}),Y}function FI(d,D,Y){return typeof d=="function"?d(D,Y):d}function XT(d){if(d===void 0)return{};const D={};return Object.keys(d).filter(Y=>!(Y.match(/^on[A-Z]/)&&typeof d[Y]=="function")).forEach(Y=>{D[Y]=d[Y]}),D}function BI(d){const{getSlotProps:D,additionalProps:Y,externalSlotProps:te,externalForwardedProps:ge,className:Se}=d;if(!D){const T=ni(Y==null?void 0:Y.className,Se,ge==null?void 0:ge.className,te==null?void 0:te.className),v=Qr({},Y==null?void 0:Y.style,ge==null?void 0:ge.style,te==null?void 0:te.style),y=Qr({},Y,ge,te);return T.length>0&&(y.className=T),Object.keys(v).length>0&&(y.style=v),{props:y,internalRef:void 0}}const W=IS(Qr({},ge,te)),H=XT(te),e=XT(ge),g=D(W),R=ni(g==null?void 0:g.className,Y==null?void 0:Y.className,Se,ge==null?void 0:ge.className,te==null?void 0:te.className),a=Qr({},g==null?void 0:g.style,Y==null?void 0:Y.style,ge==null?void 0:ge.style,te==null?void 0:te.style),C=Qr({},g,Y,e,H);return R.length>0&&(C.className=R),Object.keys(a).length>0&&(C.style=a),{props:C,internalRef:g.ref}}const NI=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function Kv(d){var D;const{elementType:Y,externalSlotProps:te,ownerState:ge,skipResolvingSlotProps:Se=!1}=d,W=Za(d,NI),H=Se?{}:FI(te,ge),{props:e,internalRef:g}=BI(Qr({},W,{externalSlotProps:H})),R=ns(g,H==null?void 0:H.ref,(D=d.additionalProps)==null?void 0:D.ref);return m0(Y,Qr({},e,{ref:R}),ge)}const UI=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function HI(d){const D=parseInt(d.getAttribute("tabindex")||"",10);return Number.isNaN(D)?d.contentEditable==="true"||(d.nodeName==="AUDIO"||d.nodeName==="VIDEO"||d.nodeName==="DETAILS")&&d.getAttribute("tabindex")===null?0:d.tabIndex:D}function VI(d){if(d.tagName!=="INPUT"||d.type!=="radio"||!d.name)return!1;const D=te=>d.ownerDocument.querySelector(`input[type="radio"]${te}`);let Y=D(`[name="${d.name}"]:checked`);return Y||(Y=D(`[name="${d.name}"]`)),Y!==d}function WI(d){return!(d.disabled||d.tagName==="INPUT"&&d.type==="hidden"||VI(d))}function GI(d){const D=[],Y=[];return Array.from(d.querySelectorAll(UI)).forEach((te,ge)=>{const Se=HI(te);Se===-1||!WI(te)||(Se===0?D.push(te):Y.push({documentOrder:ge,tabIndex:Se,node:te}))}),Y.sort((te,ge)=>te.tabIndex===ge.tabIndex?te.documentOrder-ge.documentOrder:te.tabIndex-ge.tabIndex).map(te=>te.node).concat(D)}function YI(){return!0}function jI(d){const{children:D,disableAutoFocus:Y=!1,disableEnforceFocus:te=!1,disableRestoreFocus:ge=!1,getTabbable:Se=GI,isEnabled:W=YI,open:H}=d,e=Fr.useRef(!1),g=Fr.useRef(null),R=Fr.useRef(null),a=Fr.useRef(null),C=Fr.useRef(null),T=Fr.useRef(!1),v=Fr.useRef(null),y=ns(D.ref,v),t=Fr.useRef(null);Fr.useEffect(()=>{!H||!v.current||(T.current=!Y)},[Y,H]),Fr.useEffect(()=>{if(!H||!v.current)return;const n=Ks(v.current);return v.current.contains(n.activeElement)||(v.current.hasAttribute("tabIndex")||v.current.setAttribute("tabIndex","-1"),T.current&&v.current.focus()),()=>{ge||(a.current&&a.current.focus&&(e.current=!0,a.current.focus()),a.current=null)}},[H]),Fr.useEffect(()=>{if(!H||!v.current)return;const n=Ks(v.current),o=m=>{t.current=m,!(te||!W()||m.key!=="Tab")&&n.activeElement===v.current&&m.shiftKey&&(e.current=!0,R.current&&R.current.focus())},f=()=>{const m=v.current;if(m===null)return;if(!n.hasFocus()||!W()||e.current){e.current=!1;return}if(m.contains(n.activeElement)||te&&n.activeElement!==g.current&&n.activeElement!==R.current)return;if(n.activeElement!==C.current)C.current=null;else if(C.current!==null)return;if(!T.current)return;let c=[];if((n.activeElement===g.current||n.activeElement===R.current)&&(c=Se(v.current)),c.length>0){var A,h;const l=!!((A=t.current)!=null&&A.shiftKey&&((h=t.current)==null?void 0:h.key)==="Tab"),p=c[0],M=c[c.length-1];typeof p!="string"&&typeof M!="string"&&(l?M.focus():p.focus())}else m.focus()};n.addEventListener("focusin",f),n.addEventListener("keydown",o,!0);const u=setInterval(()=>{n.activeElement&&n.activeElement.tagName==="BODY"&&f()},50);return()=>{clearInterval(u),n.removeEventListener("focusin",f),n.removeEventListener("keydown",o,!0)}},[Y,te,ge,W,H,Se]);const r=n=>{a.current===null&&(a.current=n.relatedTarget),T.current=!0,C.current=n.target;const o=D.props.onFocus;o&&o(n)},s=n=>{a.current===null&&(a.current=n.relatedTarget),T.current=!0};return Pn.jsxs(Fr.Fragment,{children:[Pn.jsx("div",{tabIndex:H?0:-1,onFocus:s,ref:g,"data-testid":"sentinelStart"}),Fr.cloneElement(D,{ref:y,onFocus:r}),Pn.jsx("div",{tabIndex:H?0:-1,onFocus:s,ref:R,"data-testid":"sentinelEnd"})]})}var _l="top",Uu="bottom",Hu="right",zl="left",Cw="auto",dg=[_l,Uu,Hu,zl],vp="start",tg="end",ZI="clippingParents",kS="viewport",i0="popper",XI="reference",KT=dg.reduce(function(d,D){return d.concat([D+"-"+vp,D+"-"+tg])},[]),_S=[].concat(dg,[Cw]).reduce(function(d,D){return d.concat([D,D+"-"+vp,D+"-"+tg])},[]),KI="beforeRead",$I="read",JI="afterRead",QI="beforeMain",qI="main",ek="afterMain",tk="beforeWrite",rk="write",nk="afterWrite",ak=[KI,$I,JI,QI,qI,ek,tk,rk,nk];function ac(d){return d?(d.nodeName||"").toLowerCase():null}function ou(d){if(d==null)return window;if(d.toString()!=="[object Window]"){var D=d.ownerDocument;return D&&D.defaultView||window}return d}function $v(d){var D=ou(d).Element;return d instanceof D||d instanceof Element}function Ou(d){var D=ou(d).HTMLElement;return d instanceof D||d instanceof HTMLElement}function Lw(d){if(typeof ShadowRoot>"u")return!1;var D=ou(d).ShadowRoot;return d instanceof D||d instanceof ShadowRoot}function ik(d){var D=d.state;Object.keys(D.elements).forEach(function(Y){var te=D.styles[Y]||{},ge=D.attributes[Y]||{},Se=D.elements[Y];!Ou(Se)||!ac(Se)||(Object.assign(Se.style,te),Object.keys(ge).forEach(function(W){var H=ge[W];H===!1?Se.removeAttribute(W):Se.setAttribute(W,H===!0?"":H)}))})}function ok(d){var D=d.state,Y={popper:{position:D.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(D.elements.popper.style,Y.popper),D.styles=Y,D.elements.arrow&&Object.assign(D.elements.arrow.style,Y.arrow),function(){Object.keys(D.elements).forEach(function(te){var ge=D.elements[te],Se=D.attributes[te]||{},W=Object.keys(D.styles.hasOwnProperty(te)?D.styles[te]:Y[te]),H=W.reduce(function(e,g){return e[g]="",e},{});!Ou(ge)||!ac(ge)||(Object.assign(ge.style,H),Object.keys(Se).forEach(function(e){ge.removeAttribute(e)}))})}}const sk={name:"applyStyles",enabled:!0,phase:"write",fn:ik,effect:ok,requires:["computeStyles"]};function nc(d){return d.split("-")[0]}var Vv=Math.max,g1=Math.min,dp=Math.round;function Kb(){var d=navigator.userAgentData;return d!=null&&d.brands&&Array.isArray(d.brands)?d.brands.map(function(D){return D.brand+"/"+D.version}).join(" "):navigator.userAgent}function zS(){return!/^((?!chrome|android).)*safari/i.test(Kb())}function pp(d,D,Y){D===void 0&&(D=!1),Y===void 0&&(Y=!1);var te=d.getBoundingClientRect(),ge=1,Se=1;D&&Ou(d)&&(ge=d.offsetWidth>0&&dp(te.width)/d.offsetWidth||1,Se=d.offsetHeight>0&&dp(te.height)/d.offsetHeight||1);var W=$v(d)?ou(d):window,H=W.visualViewport,e=!zS()&&Y,g=(te.left+(e&&H?H.offsetLeft:0))/ge,R=(te.top+(e&&H?H.offsetTop:0))/Se,a=te.width/ge,C=te.height/Se;return{width:a,height:C,top:R,right:g+a,bottom:R+C,left:g,x:g,y:R}}function Pw(d){var D=pp(d),Y=d.offsetWidth,te=d.offsetHeight;return Math.abs(D.width-Y)<=1&&(Y=D.width),Math.abs(D.height-te)<=1&&(te=D.height),{x:d.offsetLeft,y:d.offsetTop,width:Y,height:te}}function OS(d,D){var Y=D.getRootNode&&D.getRootNode();if(d.contains(D))return!0;if(Y&&Lw(Y)){var te=D;do{if(te&&d.isSameNode(te))return!0;te=te.parentNode||te.host}while(te)}return!1}function Zc(d){return ou(d).getComputedStyle(d)}function lk(d){return["table","td","th"].indexOf(ac(d))>=0}function ev(d){return(($v(d)?d.ownerDocument:d.document)||window.document).documentElement}function bm(d){return ac(d)==="html"?d:d.assignedSlot||d.parentNode||(Lw(d)?d.host:null)||ev(d)}function $T(d){return!Ou(d)||Zc(d).position==="fixed"?null:d.offsetParent}function uk(d){var D=/firefox/i.test(Kb()),Y=/Trident/i.test(Kb());if(Y&&Ou(d)){var te=Zc(d);if(te.position==="fixed")return null}var ge=bm(d);for(Lw(ge)&&(ge=ge.host);Ou(ge)&&["html","body"].indexOf(ac(ge))<0;){var Se=Zc(ge);if(Se.transform!=="none"||Se.perspective!=="none"||Se.contain==="paint"||["transform","perspective"].indexOf(Se.willChange)!==-1||D&&Se.willChange==="filter"||D&&Se.filter&&Se.filter!=="none")return ge;ge=ge.parentNode}return null}function pg(d){for(var D=ou(d),Y=$T(d);Y&&lk(Y)&&Zc(Y).position==="static";)Y=$T(Y);return Y&&(ac(Y)==="html"||ac(Y)==="body"&&Zc(Y).position==="static")?D:Y||uk(d)||D}function Rw(d){return["top","bottom"].indexOf(d)>=0?"x":"y"}function R0(d,D,Y){return Vv(d,g1(D,Y))}function fk(d,D,Y){var te=R0(d,D,Y);return te>Y?Y:te}function FS(){return{top:0,right:0,bottom:0,left:0}}function BS(d){return Object.assign({},FS(),d)}function NS(d,D){return D.reduce(function(Y,te){return Y[te]=d,Y},{})}var ck=function(D,Y){return D=typeof D=="function"?D(Object.assign({},Y.rects,{placement:Y.placement})):D,BS(typeof D!="number"?D:NS(D,dg))};function hk(d){var D,Y=d.state,te=d.name,ge=d.options,Se=Y.elements.arrow,W=Y.modifiersData.popperOffsets,H=nc(Y.placement),e=Rw(H),g=[zl,Hu].indexOf(H)>=0,R=g?"height":"width";if(!(!Se||!W)){var a=ck(ge.padding,Y),C=Pw(Se),T=e==="y"?_l:zl,v=e==="y"?Uu:Hu,y=Y.rects.reference[R]+Y.rects.reference[e]-W[e]-Y.rects.popper[R],t=W[e]-Y.rects.reference[e],r=pg(Se),s=r?e==="y"?r.clientHeight||0:r.clientWidth||0:0,n=y/2-t/2,o=a[T],f=s-C[R]-a[v],u=s/2-C[R]/2+n,m=R0(o,u,f),c=e;Y.modifiersData[te]=(D={},D[c]=m,D.centerOffset=m-u,D)}}function vk(d){var D=d.state,Y=d.options,te=Y.element,ge=te===void 0?"[data-popper-arrow]":te;ge!=null&&(typeof ge=="string"&&(ge=D.elements.popper.querySelector(ge),!ge)||OS(D.elements.popper,ge)&&(D.elements.arrow=ge))}const dk={name:"arrow",enabled:!0,phase:"main",fn:hk,effect:vk,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function gp(d){return d.split("-")[1]}var pk={top:"auto",right:"auto",bottom:"auto",left:"auto"};function gk(d,D){var Y=d.x,te=d.y,ge=D.devicePixelRatio||1;return{x:dp(Y*ge)/ge||0,y:dp(te*ge)/ge||0}}function JT(d){var D,Y=d.popper,te=d.popperRect,ge=d.placement,Se=d.variation,W=d.offsets,H=d.position,e=d.gpuAcceleration,g=d.adaptive,R=d.roundOffsets,a=d.isFixed,C=W.x,T=C===void 0?0:C,v=W.y,y=v===void 0?0:v,t=typeof R=="function"?R({x:T,y}):{x:T,y};T=t.x,y=t.y;var r=W.hasOwnProperty("x"),s=W.hasOwnProperty("y"),n=zl,o=_l,f=window;if(g){var u=pg(Y),m="clientHeight",c="clientWidth";if(u===ou(Y)&&(u=ev(Y),Zc(u).position!=="static"&&H==="absolute"&&(m="scrollHeight",c="scrollWidth")),u=u,ge===_l||(ge===zl||ge===Hu)&&Se===tg){o=Uu;var A=a&&u===f&&f.visualViewport?f.visualViewport.height:u[m];y-=A-te.height,y*=e?1:-1}if(ge===zl||(ge===_l||ge===Uu)&&Se===tg){n=Hu;var h=a&&u===f&&f.visualViewport?f.visualViewport.width:u[c];T-=h-te.width,T*=e?1:-1}}var l=Object.assign({position:H},g&&pk),p=R===!0?gk({x:T,y},ou(Y)):{x:T,y};if(T=p.x,y=p.y,e){var M;return Object.assign({},l,(M={},M[o]=s?"0":"",M[n]=r?"0":"",M.transform=(f.devicePixelRatio||1)<=1?"translate("+T+"px, "+y+"px)":"translate3d("+T+"px, "+y+"px, 0)",M))}return Object.assign({},l,(D={},D[o]=s?y+"px":"",D[n]=r?T+"px":"",D.transform="",D))}function yk(d){var D=d.state,Y=d.options,te=Y.gpuAcceleration,ge=te===void 0?!0:te,Se=Y.adaptive,W=Se===void 0?!0:Se,H=Y.roundOffsets,e=H===void 0?!0:H,g={placement:nc(D.placement),variation:gp(D.placement),popper:D.elements.popper,popperRect:D.rects.popper,gpuAcceleration:ge,isFixed:D.options.strategy==="fixed"};D.modifiersData.popperOffsets!=null&&(D.styles.popper=Object.assign({},D.styles.popper,JT(Object.assign({},g,{offsets:D.modifiersData.popperOffsets,position:D.options.strategy,adaptive:W,roundOffsets:e})))),D.modifiersData.arrow!=null&&(D.styles.arrow=Object.assign({},D.styles.arrow,JT(Object.assign({},g,{offsets:D.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:e})))),D.attributes.popper=Object.assign({},D.attributes.popper,{"data-popper-placement":D.placement})}const mk={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:yk,data:{}};var uy={passive:!0};function xk(d){var D=d.state,Y=d.instance,te=d.options,ge=te.scroll,Se=ge===void 0?!0:ge,W=te.resize,H=W===void 0?!0:W,e=ou(D.elements.popper),g=[].concat(D.scrollParents.reference,D.scrollParents.popper);return Se&&g.forEach(function(R){R.addEventListener("scroll",Y.update,uy)}),H&&e.addEventListener("resize",Y.update,uy),function(){Se&&g.forEach(function(R){R.removeEventListener("scroll",Y.update,uy)}),H&&e.removeEventListener("resize",Y.update,uy)}}const bk={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:xk,data:{}};var wk={left:"right",right:"left",bottom:"top",top:"bottom"};function zy(d){return d.replace(/left|right|bottom|top/g,function(D){return wk[D]})}var Tk={start:"end",end:"start"};function QT(d){return d.replace(/start|end/g,function(D){return Tk[D]})}function Dw(d){var D=ou(d),Y=D.pageXOffset,te=D.pageYOffset;return{scrollLeft:Y,scrollTop:te}}function Iw(d){return pp(ev(d)).left+Dw(d).scrollLeft}function Ak(d,D){var Y=ou(d),te=ev(d),ge=Y.visualViewport,Se=te.clientWidth,W=te.clientHeight,H=0,e=0;if(ge){Se=ge.width,W=ge.height;var g=zS();(g||!g&&D==="fixed")&&(H=ge.offsetLeft,e=ge.offsetTop)}return{width:Se,height:W,x:H+Iw(d),y:e}}function Sk(d){var D,Y=ev(d),te=Dw(d),ge=(D=d.ownerDocument)==null?void 0:D.body,Se=Vv(Y.scrollWidth,Y.clientWidth,ge?ge.scrollWidth:0,ge?ge.clientWidth:0),W=Vv(Y.scrollHeight,Y.clientHeight,ge?ge.scrollHeight:0,ge?ge.clientHeight:0),H=-te.scrollLeft+Iw(d),e=-te.scrollTop;return Zc(ge||Y).direction==="rtl"&&(H+=Vv(Y.clientWidth,ge?ge.clientWidth:0)-Se),{width:Se,height:W,x:H,y:e}}function kw(d){var D=Zc(d),Y=D.overflow,te=D.overflowX,ge=D.overflowY;return/auto|scroll|overlay|hidden/.test(Y+ge+te)}function US(d){return["html","body","#document"].indexOf(ac(d))>=0?d.ownerDocument.body:Ou(d)&&kw(d)?d:US(bm(d))}function D0(d,D){var Y;D===void 0&&(D=[]);var te=US(d),ge=te===((Y=d.ownerDocument)==null?void 0:Y.body),Se=ou(te),W=ge?[Se].concat(Se.visualViewport||[],kw(te)?te:[]):te,H=D.concat(W);return ge?H:H.concat(D0(bm(W)))}function $b(d){return Object.assign({},d,{left:d.x,top:d.y,right:d.x+d.width,bottom:d.y+d.height})}function Mk(d,D){var Y=pp(d,!1,D==="fixed");return Y.top=Y.top+d.clientTop,Y.left=Y.left+d.clientLeft,Y.bottom=Y.top+d.clientHeight,Y.right=Y.left+d.clientWidth,Y.width=d.clientWidth,Y.height=d.clientHeight,Y.x=Y.left,Y.y=Y.top,Y}function qT(d,D,Y){return D===kS?$b(Ak(d,Y)):$v(D)?Mk(D,Y):$b(Sk(ev(d)))}function Ek(d){var D=D0(bm(d)),Y=["absolute","fixed"].indexOf(Zc(d).position)>=0,te=Y&&Ou(d)?pg(d):d;return $v(te)?D.filter(function(ge){return $v(ge)&&OS(ge,te)&&ac(ge)!=="body"}):[]}function Ck(d,D,Y,te){var ge=D==="clippingParents"?Ek(d):[].concat(D),Se=[].concat(ge,[Y]),W=Se[0],H=Se.reduce(function(e,g){var R=qT(d,g,te);return e.top=Vv(R.top,e.top),e.right=g1(R.right,e.right),e.bottom=g1(R.bottom,e.bottom),e.left=Vv(R.left,e.left),e},qT(d,W,te));return H.width=H.right-H.left,H.height=H.bottom-H.top,H.x=H.left,H.y=H.top,H}function HS(d){var D=d.reference,Y=d.element,te=d.placement,ge=te?nc(te):null,Se=te?gp(te):null,W=D.x+D.width/2-Y.width/2,H=D.y+D.height/2-Y.height/2,e;switch(ge){case _l:e={x:W,y:D.y-Y.height};break;case Uu:e={x:W,y:D.y+D.height};break;case Hu:e={x:D.x+D.width,y:H};break;case zl:e={x:D.x-Y.width,y:H};break;default:e={x:D.x,y:D.y}}var g=ge?Rw(ge):null;if(g!=null){var R=g==="y"?"height":"width";switch(Se){case vp:e[g]=e[g]-(D[R]/2-Y[R]/2);break;case tg:e[g]=e[g]+(D[R]/2-Y[R]/2);break}}return e}function rg(d,D){D===void 0&&(D={});var Y=D,te=Y.placement,ge=te===void 0?d.placement:te,Se=Y.strategy,W=Se===void 0?d.strategy:Se,H=Y.boundary,e=H===void 0?ZI:H,g=Y.rootBoundary,R=g===void 0?kS:g,a=Y.elementContext,C=a===void 0?i0:a,T=Y.altBoundary,v=T===void 0?!1:T,y=Y.padding,t=y===void 0?0:y,r=BS(typeof t!="number"?t:NS(t,dg)),s=C===i0?XI:i0,n=d.rects.popper,o=d.elements[v?s:C],f=Ck($v(o)?o:o.contextElement||ev(d.elements.popper),e,R,W),u=pp(d.elements.reference),m=HS({reference:u,element:n,strategy:"absolute",placement:ge}),c=$b(Object.assign({},n,m)),A=C===i0?c:u,h={top:f.top-A.top+r.top,bottom:A.bottom-f.bottom+r.bottom,left:f.left-A.left+r.left,right:A.right-f.right+r.right},l=d.modifiersData.offset;if(C===i0&&l){var p=l[ge];Object.keys(h).forEach(function(M){var S=[Hu,Uu].indexOf(M)>=0?1:-1,P=[_l,Uu].indexOf(M)>=0?"y":"x";h[M]+=p[P]*S})}return h}function Lk(d,D){D===void 0&&(D={});var Y=D,te=Y.placement,ge=Y.boundary,Se=Y.rootBoundary,W=Y.padding,H=Y.flipVariations,e=Y.allowedAutoPlacements,g=e===void 0?_S:e,R=gp(te),a=R?H?KT:KT.filter(function(v){return gp(v)===R}):dg,C=a.filter(function(v){return g.indexOf(v)>=0});C.length===0&&(C=a);var T=C.reduce(function(v,y){return v[y]=rg(d,{placement:y,boundary:ge,rootBoundary:Se,padding:W})[nc(y)],v},{});return Object.keys(T).sort(function(v,y){return T[v]-T[y]})}function Pk(d){if(nc(d)===Cw)return[];var D=zy(d);return[QT(d),D,QT(D)]}function Rk(d){var D=d.state,Y=d.options,te=d.name;if(!D.modifiersData[te]._skip){for(var ge=Y.mainAxis,Se=ge===void 0?!0:ge,W=Y.altAxis,H=W===void 0?!0:W,e=Y.fallbackPlacements,g=Y.padding,R=Y.boundary,a=Y.rootBoundary,C=Y.altBoundary,T=Y.flipVariations,v=T===void 0?!0:T,y=Y.allowedAutoPlacements,t=D.options.placement,r=nc(t),s=r===t,n=e||(s||!v?[zy(t)]:Pk(t)),o=[t].concat(n).reduce(function(N,z){return N.concat(nc(z)===Cw?Lk(D,{placement:z,boundary:R,rootBoundary:a,padding:g,flipVariations:v,allowedAutoPlacements:y}):z)},[]),f=D.rects.reference,u=D.rects.popper,m=new Map,c=!0,A=o[0],h=0;h<o.length;h++){var l=o[h],p=nc(l),M=gp(l)===vp,S=[_l,Uu].indexOf(p)>=0,P=S?"width":"height",x=rg(D,{placement:l,boundary:R,rootBoundary:a,altBoundary:C,padding:g}),E=S?M?Hu:zl:M?Uu:_l;f[P]>u[P]&&(E=zy(E));var w=zy(E),i=[];if(Se&&i.push(x[p]<=0),H&&i.push(x[E]<=0,x[w]<=0),i.every(function(N){return N})){A=l,c=!1;break}m.set(l,i)}if(c)for(var L=v?3:1,b=function(z){var B=o.find(function(U){var F=m.get(U);if(F)return F.slice(0,z).every(function(V){return V})});if(B)return A=B,"break"},O=L;O>0;O--){var _=b(O);if(_==="break")break}D.placement!==A&&(D.modifiersData[te]._skip=!0,D.placement=A,D.reset=!0)}}const Dk={name:"flip",enabled:!0,phase:"main",fn:Rk,requiresIfExists:["offset"],data:{_skip:!1}};function e4(d,D,Y){return Y===void 0&&(Y={x:0,y:0}),{top:d.top-D.height-Y.y,right:d.right-D.width+Y.x,bottom:d.bottom-D.height+Y.y,left:d.left-D.width-Y.x}}function t4(d){return[_l,Hu,Uu,zl].some(function(D){return d[D]>=0})}function Ik(d){var D=d.state,Y=d.name,te=D.rects.reference,ge=D.rects.popper,Se=D.modifiersData.preventOverflow,W=rg(D,{elementContext:"reference"}),H=rg(D,{altBoundary:!0}),e=e4(W,te),g=e4(H,ge,Se),R=t4(e),a=t4(g);D.modifiersData[Y]={referenceClippingOffsets:e,popperEscapeOffsets:g,isReferenceHidden:R,hasPopperEscaped:a},D.attributes.popper=Object.assign({},D.attributes.popper,{"data-popper-reference-hidden":R,"data-popper-escaped":a})}const kk={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Ik};function _k(d,D,Y){var te=nc(d),ge=[zl,_l].indexOf(te)>=0?-1:1,Se=typeof Y=="function"?Y(Object.assign({},D,{placement:d})):Y,W=Se[0],H=Se[1];return W=W||0,H=(H||0)*ge,[zl,Hu].indexOf(te)>=0?{x:H,y:W}:{x:W,y:H}}function zk(d){var D=d.state,Y=d.options,te=d.name,ge=Y.offset,Se=ge===void 0?[0,0]:ge,W=_S.reduce(function(R,a){return R[a]=_k(a,D.rects,Se),R},{}),H=W[D.placement],e=H.x,g=H.y;D.modifiersData.popperOffsets!=null&&(D.modifiersData.popperOffsets.x+=e,D.modifiersData.popperOffsets.y+=g),D.modifiersData[te]=W}const Ok={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:zk};function Fk(d){var D=d.state,Y=d.name;D.modifiersData[Y]=HS({reference:D.rects.reference,element:D.rects.popper,strategy:"absolute",placement:D.placement})}const Bk={name:"popperOffsets",enabled:!0,phase:"read",fn:Fk,data:{}};function Nk(d){return d==="x"?"y":"x"}function Uk(d){var D=d.state,Y=d.options,te=d.name,ge=Y.mainAxis,Se=ge===void 0?!0:ge,W=Y.altAxis,H=W===void 0?!1:W,e=Y.boundary,g=Y.rootBoundary,R=Y.altBoundary,a=Y.padding,C=Y.tether,T=C===void 0?!0:C,v=Y.tetherOffset,y=v===void 0?0:v,t=rg(D,{boundary:e,rootBoundary:g,padding:a,altBoundary:R}),r=nc(D.placement),s=gp(D.placement),n=!s,o=Rw(r),f=Nk(o),u=D.modifiersData.popperOffsets,m=D.rects.reference,c=D.rects.popper,A=typeof y=="function"?y(Object.assign({},D.rects,{placement:D.placement})):y,h=typeof A=="number"?{mainAxis:A,altAxis:A}:Object.assign({mainAxis:0,altAxis:0},A),l=D.modifiersData.offset?D.modifiersData.offset[D.placement]:null,p={x:0,y:0};if(u){if(Se){var M,S=o==="y"?_l:zl,P=o==="y"?Uu:Hu,x=o==="y"?"height":"width",E=u[o],w=E+t[S],i=E-t[P],L=T?-c[x]/2:0,b=s===vp?m[x]:c[x],O=s===vp?-c[x]:-m[x],_=D.elements.arrow,N=T&&_?Pw(_):{width:0,height:0},z=D.modifiersData["arrow#persistent"]?D.modifiersData["arrow#persistent"].padding:FS(),B=z[S],U=z[P],F=R0(0,m[x],N[x]),V=n?m[x]/2-L-F-B-h.mainAxis:b-F-B-h.mainAxis,j=n?-m[x]/2+L+F+U+h.mainAxis:O+F+U+h.mainAxis,$=D.elements.arrow&&pg(D.elements.arrow),ne=$?o==="y"?$.clientTop||0:$.clientLeft||0:0,oe=(M=l==null?void 0:l[o])!=null?M:0,ce=E+V-oe-ne,Q=E+j-oe,Z=R0(T?g1(w,ce):w,E,T?Vv(i,Q):i);u[o]=Z,p[o]=Z-E}if(H){var K,J=o==="x"?_l:zl,re=o==="x"?Uu:Hu,le=u[f],q=f==="y"?"height":"width",ee=le+t[J],ue=le-t[re],se=[_l,zl].indexOf(r)!==-1,he=(K=l==null?void 0:l[f])!=null?K:0,me=se?ee:le-m[q]-c[q]-he+h.altAxis,Ce=se?le+m[q]+c[q]-he-h.altAxis:ue,Te=T&&se?fk(me,le,Ce):R0(T?me:ee,le,T?Ce:ue);u[f]=Te,p[f]=Te-le}D.modifiersData[te]=p}}const Hk={name:"preventOverflow",enabled:!0,phase:"main",fn:Uk,requiresIfExists:["offset"]};function Vk(d){return{scrollLeft:d.scrollLeft,scrollTop:d.scrollTop}}function Wk(d){return d===ou(d)||!Ou(d)?Dw(d):Vk(d)}function Gk(d){var D=d.getBoundingClientRect(),Y=dp(D.width)/d.offsetWidth||1,te=dp(D.height)/d.offsetHeight||1;return Y!==1||te!==1}function Yk(d,D,Y){Y===void 0&&(Y=!1);var te=Ou(D),ge=Ou(D)&&Gk(D),Se=ev(D),W=pp(d,ge,Y),H={scrollLeft:0,scrollTop:0},e={x:0,y:0};return(te||!te&&!Y)&&((ac(D)!=="body"||kw(Se))&&(H=Wk(D)),Ou(D)?(e=pp(D,!0),e.x+=D.clientLeft,e.y+=D.clientTop):Se&&(e.x=Iw(Se))),{x:W.left+H.scrollLeft-e.x,y:W.top+H.scrollTop-e.y,width:W.width,height:W.height}}function jk(d){var D=new Map,Y=new Set,te=[];d.forEach(function(Se){D.set(Se.name,Se)});function ge(Se){Y.add(Se.name);var W=[].concat(Se.requires||[],Se.requiresIfExists||[]);W.forEach(function(H){if(!Y.has(H)){var e=D.get(H);e&&ge(e)}}),te.push(Se)}return d.forEach(function(Se){Y.has(Se.name)||ge(Se)}),te}function Zk(d){var D=jk(d);return ak.reduce(function(Y,te){return Y.concat(D.filter(function(ge){return ge.phase===te}))},[])}function Xk(d){var D;return function(){return D||(D=new Promise(function(Y){Promise.resolve().then(function(){D=void 0,Y(d())})})),D}}function Kk(d){var D=d.reduce(function(Y,te){var ge=Y[te.name];return Y[te.name]=ge?Object.assign({},ge,te,{options:Object.assign({},ge.options,te.options),data:Object.assign({},ge.data,te.data)}):te,Y},{});return Object.keys(D).map(function(Y){return D[Y]})}var r4={placement:"bottom",modifiers:[],strategy:"absolute"};function n4(){for(var d=arguments.length,D=new Array(d),Y=0;Y<d;Y++)D[Y]=arguments[Y];return!D.some(function(te){return!(te&&typeof te.getBoundingClientRect=="function")})}function $k(d){d===void 0&&(d={});var D=d,Y=D.defaultModifiers,te=Y===void 0?[]:Y,ge=D.defaultOptions,Se=ge===void 0?r4:ge;return function(H,e,g){g===void 0&&(g=Se);var R={placement:"bottom",orderedModifiers:[],options:Object.assign({},r4,Se),modifiersData:{},elements:{reference:H,popper:e},attributes:{},styles:{}},a=[],C=!1,T={state:R,setOptions:function(r){var s=typeof r=="function"?r(R.options):r;y(),R.options=Object.assign({},Se,R.options,s),R.scrollParents={reference:$v(H)?D0(H):H.contextElement?D0(H.contextElement):[],popper:D0(e)};var n=Zk(Kk([].concat(te,R.options.modifiers)));return R.orderedModifiers=n.filter(function(o){return o.enabled}),v(),T.update()},forceUpdate:function(){if(!C){var r=R.elements,s=r.reference,n=r.popper;if(n4(s,n)){R.rects={reference:Yk(s,pg(n),R.options.strategy==="fixed"),popper:Pw(n)},R.reset=!1,R.placement=R.options.placement,R.orderedModifiers.forEach(function(h){return R.modifiersData[h.name]=Object.assign({},h.data)});for(var o=0;o<R.orderedModifiers.length;o++){if(R.reset===!0){R.reset=!1,o=-1;continue}var f=R.orderedModifiers[o],u=f.fn,m=f.options,c=m===void 0?{}:m,A=f.name;typeof u=="function"&&(R=u({state:R,options:c,name:A,instance:T})||R)}}}},update:Xk(function(){return new Promise(function(t){T.forceUpdate(),t(R)})}),destroy:function(){y(),C=!0}};if(!n4(H,e))return T;T.setOptions(g).then(function(t){!C&&g.onFirstUpdate&&g.onFirstUpdate(t)});function v(){R.orderedModifiers.forEach(function(t){var r=t.name,s=t.options,n=s===void 0?{}:s,o=t.effect;if(typeof o=="function"){var f=o({state:R,name:r,instance:T,options:n}),u=function(){};a.push(f||u)}})}function y(){a.forEach(function(t){return t()}),a=[]}return T}}var Jk=[bk,Bk,mk,sk,Ok,Dk,Hk,dk,kk],Qk=$k({defaultModifiers:Jk});function qk(d){return typeof d=="function"?d():d}const VS=Fr.forwardRef(function(D,Y){const{children:te,container:ge,disablePortal:Se=!1}=D,[W,H]=Fr.useState(null),e=ns(Fr.isValidElement(te)?te.ref:null,Y);if(Af(()=>{Se||H(qk(ge)||document.body)},[ge,Se]),Af(()=>{if(W&&!Se)return s1(Y,W),()=>{s1(Y,null)}},[Y,W,Se]),Se){if(Fr.isValidElement(te)){const g={ref:e};return Fr.cloneElement(te,g)}return Pn.jsx(Fr.Fragment,{children:te})}return Pn.jsx(Fr.Fragment,{children:W&&wp.createPortal(te,W)})});function e_(d){return Zi("MuiPopper",d)}Fi("MuiPopper",["root"]);const t_=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],r_=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function n_(d,D){if(D==="ltr")return d;switch(d){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return d}}function Jb(d){return typeof d=="function"?d():d}function a_(d){return d.nodeType!==void 0}const i_=()=>Qi({root:["root"]},OI(e_)),o_={},s_=Fr.forwardRef(function(D,Y){var te;const{anchorEl:ge,children:Se,direction:W,disablePortal:H,modifiers:e,open:g,placement:R,popperOptions:a,popperRef:C,slotProps:T={},slots:v={},TransitionProps:y}=D,t=Za(D,t_),r=Fr.useRef(null),s=ns(r,Y),n=Fr.useRef(null),o=ns(n,C),f=Fr.useRef(o);Af(()=>{f.current=o},[o]),Fr.useImperativeHandle(C,()=>n.current,[]);const u=n_(R,W),[m,c]=Fr.useState(u),[A,h]=Fr.useState(Jb(ge));Fr.useEffect(()=>{n.current&&n.current.forceUpdate()}),Fr.useEffect(()=>{ge&&h(Jb(ge))},[ge]),Af(()=>{if(!A||!g)return;const P=w=>{c(w.placement)};let x=[{name:"preventOverflow",options:{altBoundary:H}},{name:"flip",options:{altBoundary:H}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:w})=>{P(w)}}];e!=null&&(x=x.concat(e)),a&&a.modifiers!=null&&(x=x.concat(a.modifiers));const E=Qk(A,r.current,Qr({placement:u},a,{modifiers:x}));return f.current(E),()=>{E.destroy(),f.current(null)}},[A,H,e,g,a,u]);const l={placement:m};y!==null&&(l.TransitionProps=y);const p=i_(),M=(te=v.root)!=null?te:"div",S=Kv({elementType:M,externalSlotProps:T.root,externalForwardedProps:t,additionalProps:{role:"tooltip",ref:s},ownerState:D,className:p.root});return Pn.jsx(M,Qr({},S,{children:typeof Se=="function"?Se(l):Se}))}),l_=Fr.forwardRef(function(D,Y){const{anchorEl:te,children:ge,container:Se,direction:W="ltr",disablePortal:H=!1,keepMounted:e=!1,modifiers:g,open:R,placement:a="bottom",popperOptions:C=o_,popperRef:T,style:v,transition:y=!1,slotProps:t={},slots:r={}}=D,s=Za(D,r_),[n,o]=Fr.useState(!0),f=()=>{o(!1)},u=()=>{o(!0)};if(!e&&!R&&(!y||n))return null;let m;if(Se)m=Se;else if(te){const h=Jb(te);m=h&&a_(h)?Ks(h).body:Ks(null).body}const c=!R&&e&&(!y||n)?"none":void 0,A=y?{in:R,onEnter:f,onExited:u}:void 0;return Pn.jsx(VS,{disablePortal:H,container:m,children:Pn.jsx(s_,Qr({anchorEl:te,direction:W,disablePortal:H,modifiers:g,ref:Y,open:y?!n:R,placement:a,popperOptions:C,popperRef:T,slotProps:t,slots:r},s,{style:Qr({position:"fixed",top:0,left:0,display:c},v),TransitionProps:A,children:ge}))})});function u_(d){const D=Ks(d);return D.body===d?$h(d).innerWidth>D.documentElement.clientWidth:d.scrollHeight>d.clientHeight}function I0(d,D){D?d.setAttribute("aria-hidden","true"):d.removeAttribute("aria-hidden")}function a4(d){return parseInt($h(d).getComputedStyle(d).paddingRight,10)||0}function f_(d){const Y=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(d.tagName)!==-1,te=d.tagName==="INPUT"&&d.getAttribute("type")==="hidden";return Y||te}function i4(d,D,Y,te,ge){const Se=[D,Y,...te];[].forEach.call(d.children,W=>{const H=Se.indexOf(W)===-1,e=!f_(W);H&&e&&I0(W,ge)})}function zx(d,D){let Y=-1;return d.some((te,ge)=>D(te)?(Y=ge,!0):!1),Y}function c_(d,D){const Y=[],te=d.container;if(!D.disableScrollLock){if(u_(te)){const W=Q6(Ks(te));Y.push({value:te.style.paddingRight,property:"padding-right",el:te}),te.style.paddingRight=`${a4(te)+W}px`;const H=Ks(te).querySelectorAll(".mui-fixed");[].forEach.call(H,e=>{Y.push({value:e.style.paddingRight,property:"padding-right",el:e}),e.style.paddingRight=`${a4(e)+W}px`})}let Se;if(te.parentNode instanceof DocumentFragment)Se=Ks(te).body;else{const W=te.parentElement,H=$h(te);Se=(W==null?void 0:W.nodeName)==="HTML"&&H.getComputedStyle(W).overflowY==="scroll"?W:te}Y.push({value:Se.style.overflow,property:"overflow",el:Se},{value:Se.style.overflowX,property:"overflow-x",el:Se},{value:Se.style.overflowY,property:"overflow-y",el:Se}),Se.style.overflow="hidden"}return()=>{Y.forEach(({value:Se,el:W,property:H})=>{Se?W.style.setProperty(H,Se):W.style.removeProperty(H)})}}function h_(d){const D=[];return[].forEach.call(d.children,Y=>{Y.getAttribute("aria-hidden")==="true"&&D.push(Y)}),D}class v_{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(D,Y){let te=this.modals.indexOf(D);if(te!==-1)return te;te=this.modals.length,this.modals.push(D),D.modalRef&&I0(D.modalRef,!1);const ge=h_(Y);i4(Y,D.mount,D.modalRef,ge,!0);const Se=zx(this.containers,W=>W.container===Y);return Se!==-1?(this.containers[Se].modals.push(D),te):(this.containers.push({modals:[D],container:Y,restore:null,hiddenSiblings:ge}),te)}mount(D,Y){const te=zx(this.containers,Se=>Se.modals.indexOf(D)!==-1),ge=this.containers[te];ge.restore||(ge.restore=c_(ge,Y))}remove(D,Y=!0){const te=this.modals.indexOf(D);if(te===-1)return te;const ge=zx(this.containers,W=>W.modals.indexOf(D)!==-1),Se=this.containers[ge];if(Se.modals.splice(Se.modals.indexOf(D),1),this.modals.splice(te,1),Se.modals.length===0)Se.restore&&Se.restore(),D.modalRef&&I0(D.modalRef,Y),i4(Se.container,D.mount,D.modalRef,Se.hiddenSiblings,!1),this.containers.splice(ge,1);else{const W=Se.modals[Se.modals.length-1];W.modalRef&&I0(W.modalRef,!1)}return te}isTopModal(D){return this.modals.length>0&&this.modals[this.modals.length-1]===D}}function d_(d){return typeof d=="function"?d():d}function p_(d){return d?d.props.hasOwnProperty("in"):!1}const g_=new v_;function y_(d){const{container:D,disableEscapeKeyDown:Y=!1,disableScrollLock:te=!1,manager:ge=g_,closeAfterTransition:Se=!1,onTransitionEnter:W,onTransitionExited:H,children:e,onClose:g,open:R,rootRef:a}=d,C=Fr.useRef({}),T=Fr.useRef(null),v=Fr.useRef(null),y=ns(v,a),[t,r]=Fr.useState(!R),s=p_(e);let n=!0;(d["aria-hidden"]==="false"||d["aria-hidden"]===!1)&&(n=!1);const o=()=>Ks(T.current),f=()=>(C.current.modalRef=v.current,C.current.mount=T.current,C.current),u=()=>{ge.mount(f(),{disableScrollLock:te}),v.current&&(v.current.scrollTop=0)},m=Fh(()=>{const x=d_(D)||o().body;ge.add(f(),x),v.current&&u()}),c=Fr.useCallback(()=>ge.isTopModal(f()),[ge]),A=Fh(x=>{T.current=x,x&&(R&&c()?u():v.current&&I0(v.current,n))}),h=Fr.useCallback(()=>{ge.remove(f(),n)},[n,ge]);Fr.useEffect(()=>()=>{h()},[h]),Fr.useEffect(()=>{R?m():(!s||!Se)&&h()},[R,h,s,Se,m]);const l=x=>E=>{var w;(w=x.onKeyDown)==null||w.call(x,E),!(E.key!=="Escape"||E.which===229||!c())&&(Y||(E.stopPropagation(),g&&g(E,"escapeKeyDown")))},p=x=>E=>{var w;(w=x.onClick)==null||w.call(x,E),E.target===E.currentTarget&&g&&g(E,"backdropClick")};return{getRootProps:(x={})=>{const E=IS(d);delete E.onTransitionEnter,delete E.onTransitionExited;const w=Qr({},E,x);return Qr({role:"presentation"},w,{onKeyDown:l(w),ref:y})},getBackdropProps:(x={})=>{const E=x;return Qr({"aria-hidden":!0},E,{onClick:p(E),open:R})},getTransitionProps:()=>{const x=()=>{r(!1),W&&W()},E=()=>{r(!0),H&&H(),Se&&h()};return{onEnter:Ub(x,e==null?void 0:e.props.onEnter),onExited:Ub(E,e==null?void 0:e.props.onExited)}},rootRef:y,portalRef:A,isTopModal:c,exited:t,hasTransition:s}}const m_=["onChange","maxRows","minRows","style","value"];function fy(d){return parseInt(d,10)||0}const x_={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function o4(d){return d==null||Object.keys(d).length===0||d.outerHeightStyle===0&&!d.overflow}const b_=Fr.forwardRef(function(D,Y){const{onChange:te,maxRows:ge,minRows:Se=1,style:W,value:H}=D,e=Za(D,m_),{current:g}=Fr.useRef(H!=null),R=Fr.useRef(null),a=ns(Y,R),C=Fr.useRef(null),T=Fr.useRef(0),[v,y]=Fr.useState({outerHeightStyle:0}),t=Fr.useCallback(()=>{const o=R.current,u=$h(o).getComputedStyle(o);if(u.width==="0px")return{outerHeightStyle:0};const m=C.current;m.style.width=u.width,m.value=o.value||D.placeholder||"x",m.value.slice(-1)===`
`&&(m.value+=" ");const c=u.boxSizing,A=fy(u.paddingBottom)+fy(u.paddingTop),h=fy(u.borderBottomWidth)+fy(u.borderTopWidth),l=m.scrollHeight;m.value="x";const p=m.scrollHeight;let M=l;Se&&(M=Math.max(Number(Se)*p,M)),ge&&(M=Math.min(Number(ge)*p,M)),M=Math.max(M,p);const S=M+(c==="border-box"?A+h:0),P=Math.abs(M-l)<=1;return{outerHeightStyle:S,overflow:P}},[ge,Se,D.placeholder]),r=(o,f)=>{const{outerHeightStyle:u,overflow:m}=f;return T.current<20&&(u>0&&Math.abs((o.outerHeightStyle||0)-u)>1||o.overflow!==m)?(T.current+=1,{overflow:m,outerHeightStyle:u}):o},s=Fr.useCallback(()=>{const o=t();o4(o)||y(f=>r(f,o))},[t]);Af(()=>{const o=()=>{const l=t();o4(l)||wp.flushSync(()=>{y(p=>r(p,l))})},f=()=>{T.current=0,o()};let u;const m=nw(f),c=R.current,A=$h(c);A.addEventListener("resize",m);let h;return typeof ResizeObserver<"u"&&(h=new ResizeObserver(f),h.observe(c)),()=>{m.clear(),cancelAnimationFrame(u),A.removeEventListener("resize",m),h&&h.disconnect()}},[t]),Af(()=>{s()}),Fr.useEffect(()=>{T.current=0},[H]);const n=o=>{T.current=0,g||s(),te&&te(o)};return Pn.jsxs(Fr.Fragment,{children:[Pn.jsx("textarea",Qr({value:H,onChange:n,ref:a,rows:Se,style:Qr({height:v.outerHeightStyle,overflow:v.overflow?"hidden":void 0},W)},e)),Pn.jsx("textarea",{"aria-hidden":!0,className:D.className,readOnly:!0,ref:C,tabIndex:-1,style:Qr({},x_.shadow,W,{paddingTop:0,paddingBottom:0})})]})}),w_=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],T_=Xa(l_,{name:"MuiPopper",slot:"Root",overridesResolver:(d,D)=>D.root})({}),A_=Fr.forwardRef(function(D,Y){var te;const ge=bw(),Se=qi({props:D,name:"MuiPopper"}),{anchorEl:W,component:H,components:e,componentsProps:g,container:R,disablePortal:a,keepMounted:C,modifiers:T,open:v,placement:y,popperOptions:t,popperRef:r,transition:s,slots:n,slotProps:o}=Se,f=Za(Se,w_),u=(te=n==null?void 0:n.root)!=null?te:e==null?void 0:e.Root,m=Qr({anchorEl:W,container:R,disablePortal:a,keepMounted:C,modifiers:T,open:v,placement:y,popperOptions:t,popperRef:r,transition:s},f);return Pn.jsx(T_,Qr({as:H,direction:ge==null?void 0:ge.direction,slots:{root:u},slotProps:o??g},m,{ref:Y}))}),WS=A_;function Ap({props:d,states:D,muiFormControl:Y}){return D.reduce((te,ge)=>(te[ge]=d[ge],Y&&typeof d[ge]>"u"&&(te[ge]=Y[ge]),te),{})}const S_=Fr.createContext(void 0),_w=S_;function Sp(){return Fr.useContext(_w)}function M_(d){return Pn.jsx(IR,Qr({},d,{defaultTheme:mm,themeId:cp}))}function s4(d){return d!=null&&!(Array.isArray(d)&&d.length===0)}function y1(d,D=!1){return d&&(s4(d.value)&&d.value!==""||D&&s4(d.defaultValue)&&d.defaultValue!=="")}function E_(d){return d.startAdornment}function C_(d){return Zi("MuiInputBase",d)}const L_=Fi("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),yp=L_,P_=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],wm=(d,D)=>{const{ownerState:Y}=d;return[D.root,Y.formControl&&D.formControl,Y.startAdornment&&D.adornedStart,Y.endAdornment&&D.adornedEnd,Y.error&&D.error,Y.size==="small"&&D.sizeSmall,Y.multiline&&D.multiline,Y.color&&D[`color${qa(Y.color)}`],Y.fullWidth&&D.fullWidth,Y.hiddenLabel&&D.hiddenLabel]},Tm=(d,D)=>{const{ownerState:Y}=d;return[D.input,Y.size==="small"&&D.inputSizeSmall,Y.multiline&&D.inputMultiline,Y.type==="search"&&D.inputTypeSearch,Y.startAdornment&&D.inputAdornedStart,Y.endAdornment&&D.inputAdornedEnd,Y.hiddenLabel&&D.inputHiddenLabel]},R_=d=>{const{classes:D,color:Y,disabled:te,error:ge,endAdornment:Se,focused:W,formControl:H,fullWidth:e,hiddenLabel:g,multiline:R,readOnly:a,size:C,startAdornment:T,type:v}=d,y={root:["root",`color${qa(Y)}`,te&&"disabled",ge&&"error",e&&"fullWidth",W&&"focused",H&&"formControl",C&&C!=="medium"&&`size${qa(C)}`,R&&"multiline",T&&"adornedStart",Se&&"adornedEnd",g&&"hiddenLabel",a&&"readOnly"],input:["input",te&&"disabled",v==="search"&&"inputTypeSearch",R&&"inputMultiline",C==="small"&&"inputSizeSmall",g&&"inputHiddenLabel",T&&"inputAdornedStart",Se&&"inputAdornedEnd",a&&"readOnly"]};return Qi(y,C_,D)},Am=Xa("div",{name:"MuiInputBase",slot:"Root",overridesResolver:wm})(({theme:d,ownerState:D})=>Qr({},d.typography.body1,{color:(d.vars||d).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${yp.disabled}`]:{color:(d.vars||d).palette.text.disabled,cursor:"default"}},D.multiline&&Qr({padding:"4px 0 5px"},D.size==="small"&&{paddingTop:1}),D.fullWidth&&{width:"100%"})),Sm=Xa("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Tm})(({theme:d,ownerState:D})=>{const Y=d.palette.mode==="light",te=Qr({color:"currentColor"},d.vars?{opacity:d.vars.opacity.inputPlaceholder}:{opacity:Y?.42:.5},{transition:d.transitions.create("opacity",{duration:d.transitions.duration.shorter})}),ge={opacity:"0 !important"},Se=d.vars?{opacity:d.vars.opacity.inputPlaceholder}:{opacity:Y?.42:.5};return Qr({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":te,"&::-moz-placeholder":te,"&:-ms-input-placeholder":te,"&::-ms-input-placeholder":te,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${yp.formControl} &`]:{"&::-webkit-input-placeholder":ge,"&::-moz-placeholder":ge,"&:-ms-input-placeholder":ge,"&::-ms-input-placeholder":ge,"&:focus::-webkit-input-placeholder":Se,"&:focus::-moz-placeholder":Se,"&:focus:-ms-input-placeholder":Se,"&:focus::-ms-input-placeholder":Se},[`&.${yp.disabled}`]:{opacity:1,WebkitTextFillColor:(d.vars||d).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},D.size==="small"&&{paddingTop:1},D.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},D.type==="search"&&{MozAppearance:"textfield"})}),D_=Pn.jsx(M_,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),I_=Fr.forwardRef(function(D,Y){var te;const ge=qi({props:D,name:"MuiInputBase"}),{"aria-describedby":Se,autoComplete:W,autoFocus:H,className:e,components:g={},componentsProps:R={},defaultValue:a,disabled:C,disableInjectingGlobalStyles:T,endAdornment:v,fullWidth:y=!1,id:t,inputComponent:r="input",inputProps:s={},inputRef:n,maxRows:o,minRows:f,multiline:u=!1,name:m,onBlur:c,onChange:A,onClick:h,onFocus:l,onKeyDown:p,onKeyUp:M,placeholder:S,readOnly:P,renderSuffix:x,rows:E,slotProps:w={},slots:i={},startAdornment:L,type:b="text",value:O}=ge,_=Za(ge,P_),N=s.value!=null?s.value:O,{current:z}=Fr.useRef(N!=null),B=Fr.useRef(),U=Fr.useCallback(Te=>{},[]),F=ns(B,n,s.ref,U),[V,j]=Fr.useState(!1),$=Sp(),ne=Ap({props:ge,muiFormControl:$,states:["color","disabled","error","hiddenLabel","size","required","filled"]});ne.focused=$?$.focused:V,Fr.useEffect(()=>{!$&&C&&V&&(j(!1),c&&c())},[$,C,V,c]);const oe=$&&$.onFilled,ce=$&&$.onEmpty,Q=Fr.useCallback(Te=>{y1(Te)?oe&&oe():ce&&ce()},[oe,ce]);Af(()=>{z&&Q({value:N})},[N,Q,z]);const Z=Te=>{if(ne.disabled){Te.stopPropagation();return}l&&l(Te),s.onFocus&&s.onFocus(Te),$&&$.onFocus?$.onFocus(Te):j(!0)},K=Te=>{c&&c(Te),s.onBlur&&s.onBlur(Te),$&&$.onBlur?$.onBlur(Te):j(!1)},J=(Te,...Oe)=>{if(!z){const Ne=Te.target||B.current;if(Ne==null)throw new Error(Kh(1));Q({value:Ne.value})}s.onChange&&s.onChange(Te,...Oe),A&&A(Te,...Oe)};Fr.useEffect(()=>{Q(B.current)},[]);const re=Te=>{B.current&&Te.currentTarget===Te.target&&B.current.focus(),h&&h(Te)};let le=r,q=s;u&&le==="input"&&(E?q=Qr({type:void 0,minRows:E,maxRows:E},q):q=Qr({type:void 0,maxRows:o,minRows:f},q),le=b_);const ee=Te=>{Q(Te.animationName==="mui-auto-fill-cancel"?B.current:{value:"x"})};Fr.useEffect(()=>{$&&$.setAdornedStart(!!L)},[$,L]);const ue=Qr({},ge,{color:ne.color||"primary",disabled:ne.disabled,endAdornment:v,error:ne.error,focused:ne.focused,formControl:$,fullWidth:y,hiddenLabel:ne.hiddenLabel,multiline:u,size:ne.size,startAdornment:L,type:b}),se=R_(ue),he=i.root||g.Root||Am,me=w.root||R.root||{},Ce=i.input||g.Input||Sm;return q=Qr({},q,(te=w.input)!=null?te:R.input),Pn.jsxs(Fr.Fragment,{children:[!T&&D_,Pn.jsxs(he,Qr({},me,!p1(he)&&{ownerState:Qr({},ue,me.ownerState)},{ref:Y,onClick:re},_,{className:ni(se.root,me.className,e,P&&"MuiInputBase-readOnly"),children:[L,Pn.jsx(_w.Provider,{value:null,children:Pn.jsx(Ce,Qr({ownerState:ue,"aria-invalid":ne.error,"aria-describedby":Se,autoComplete:W,autoFocus:H,defaultValue:a,disabled:ne.disabled,id:t,onAnimationStart:ee,name:m,placeholder:S,readOnly:P,required:ne.required,rows:E,value:N,onKeyDown:p,onKeyUp:M,type:b},q,!p1(Ce)&&{as:le,ownerState:Qr({},ue,q.ownerState)},{ref:F,className:ni(se.input,q.className,P&&"MuiInputBase-readOnly"),onBlur:K,onChange:J,onFocus:Z}))}),v,x?x(Qr({},ne,{startAdornment:L})):null]}))]})}),zw=I_;function k_(d){return Zi("MuiInput",d)}const __=Qr({},yp,Fi("MuiInput",["root","underline","input"])),o0=__;function z_(d){return Zi("MuiOutlinedInput",d)}const O_=Qr({},yp,Fi("MuiOutlinedInput",["root","notchedOutline","input"])),Lh=O_;function F_(d){return Zi("MuiFilledInput",d)}const B_=Qr({},yp,Fi("MuiFilledInput",["root","underline","input"])),Dv=B_,N_=LS(Pn.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),U_=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],H_={entering:{opacity:1},entered:{opacity:1}},V_=Fr.forwardRef(function(D,Y){const te=vg(),ge={enter:te.transitions.duration.enteringScreen,exit:te.transitions.duration.leavingScreen},{addEndListener:Se,appear:W=!0,children:H,easing:e,in:g,onEnter:R,onEntered:a,onEntering:C,onExit:T,onExited:v,onExiting:y,style:t,timeout:r=ge,TransitionComponent:s=RS}=D,n=Za(D,U_),o=Fr.useRef(null),f=ns(o,H.ref,Y),u=S=>P=>{if(S){const x=o.current;P===void 0?S(x):S(x,P)}},m=u(C),c=u((S,P)=>{DS(S);const x=d1({style:t,timeout:r,easing:e},{mode:"enter"});S.style.webkitTransition=te.transitions.create("opacity",x),S.style.transition=te.transitions.create("opacity",x),R&&R(S,P)}),A=u(a),h=u(y),l=u(S=>{const P=d1({style:t,timeout:r,easing:e},{mode:"exit"});S.style.webkitTransition=te.transitions.create("opacity",P),S.style.transition=te.transitions.create("opacity",P),T&&T(S)}),p=u(v),M=S=>{Se&&Se(o.current,S)};return Pn.jsx(s,Qr({appear:W,in:g,nodeRef:o,onEnter:c,onEntered:A,onEntering:m,onExit:l,onExited:p,onExiting:h,addEndListener:M,timeout:r},n,{children:(S,P)=>Fr.cloneElement(H,Qr({style:Qr({opacity:0,visibility:S==="exited"&&!g?"hidden":void 0},H_[S],t,H.props.style),ref:f},P))}))}),W_=V_;function G_(d){return Zi("MuiBackdrop",d)}Fi("MuiBackdrop",["root","invisible"]);const Y_=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],j_=d=>{const{classes:D,invisible:Y}=d;return Qi({root:["root",Y&&"invisible"]},G_,D)},Z_=Xa("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(d,D)=>{const{ownerState:Y}=d;return[D.root,Y.invisible&&D.invisible]}})(({ownerState:d})=>Qr({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},d.invisible&&{backgroundColor:"transparent"})),X_=Fr.forwardRef(function(D,Y){var te,ge,Se;const W=qi({props:D,name:"MuiBackdrop"}),{children:H,className:e,component:g="div",components:R={},componentsProps:a={},invisible:C=!1,open:T,slotProps:v={},slots:y={},TransitionComponent:t=W_,transitionDuration:r}=W,s=Za(W,Y_),n=Qr({},W,{component:g,invisible:C}),o=j_(n),f=(te=v.root)!=null?te:a.root;return Pn.jsx(t,Qr({in:T,timeout:r},s,{children:Pn.jsx(Z_,Qr({"aria-hidden":!0},f,{as:(ge=(Se=y.root)!=null?Se:R.Root)!=null?ge:g,className:ni(o.root,e,f==null?void 0:f.className),ownerState:Qr({},n,f==null?void 0:f.ownerState),classes:o,ref:Y,children:H}))}))}),K_=X_;function $_(d){return Zi("MuiButton",d)}const J_=Fi("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),cy=J_,Q_=Fr.createContext({}),q_=Q_,ez=Fr.createContext(void 0),tz=ez,rz=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],nz=d=>{const{color:D,disableElevation:Y,fullWidth:te,size:ge,variant:Se,classes:W}=d,H={root:["root",Se,`${Se}${qa(D)}`,`size${qa(ge)}`,`${Se}Size${qa(ge)}`,D==="inherit"&&"colorInherit",Y&&"disableElevation",te&&"fullWidth"],label:["label"],startIcon:["startIcon",`iconSize${qa(ge)}`],endIcon:["endIcon",`iconSize${qa(ge)}`]},e=Qi(H,$_,W);return Qr({},W,e)},GS=d=>Qr({},d.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},d.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},d.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),az=Xa(Mw,{shouldForwardProp:d=>Gu(d)||d==="classes",name:"MuiButton",slot:"Root",overridesResolver:(d,D)=>{const{ownerState:Y}=d;return[D.root,D[Y.variant],D[`${Y.variant}${qa(Y.color)}`],D[`size${qa(Y.size)}`],D[`${Y.variant}Size${qa(Y.size)}`],Y.color==="inherit"&&D.colorInherit,Y.disableElevation&&D.disableElevation,Y.fullWidth&&D.fullWidth]}})(({theme:d,ownerState:D})=>{var Y,te;const ge=d.palette.mode==="light"?d.palette.grey[300]:d.palette.grey[800],Se=d.palette.mode==="light"?d.palette.grey.A100:d.palette.grey[700];return Qr({},d.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(d.vars||d).shape.borderRadius,transition:d.transitions.create(["background-color","box-shadow","border-color","color"],{duration:d.transitions.duration.short}),"&:hover":Qr({textDecoration:"none",backgroundColor:d.vars?`rgba(${d.vars.palette.text.primaryChannel} / ${d.vars.palette.action.hoverOpacity})`:Xo(d.palette.text.primary,d.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},D.variant==="text"&&D.color!=="inherit"&&{backgroundColor:d.vars?`rgba(${d.vars.palette[D.color].mainChannel} / ${d.vars.palette.action.hoverOpacity})`:Xo(d.palette[D.color].main,d.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},D.variant==="outlined"&&D.color!=="inherit"&&{border:`1px solid ${(d.vars||d).palette[D.color].main}`,backgroundColor:d.vars?`rgba(${d.vars.palette[D.color].mainChannel} / ${d.vars.palette.action.hoverOpacity})`:Xo(d.palette[D.color].main,d.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},D.variant==="contained"&&{backgroundColor:d.vars?d.vars.palette.Button.inheritContainedHoverBg:Se,boxShadow:(d.vars||d).shadows[4],"@media (hover: none)":{boxShadow:(d.vars||d).shadows[2],backgroundColor:(d.vars||d).palette.grey[300]}},D.variant==="contained"&&D.color!=="inherit"&&{backgroundColor:(d.vars||d).palette[D.color].dark,"@media (hover: none)":{backgroundColor:(d.vars||d).palette[D.color].main}}),"&:active":Qr({},D.variant==="contained"&&{boxShadow:(d.vars||d).shadows[8]}),[`&.${cy.focusVisible}`]:Qr({},D.variant==="contained"&&{boxShadow:(d.vars||d).shadows[6]}),[`&.${cy.disabled}`]:Qr({color:(d.vars||d).palette.action.disabled},D.variant==="outlined"&&{border:`1px solid ${(d.vars||d).palette.action.disabledBackground}`},D.variant==="contained"&&{color:(d.vars||d).palette.action.disabled,boxShadow:(d.vars||d).shadows[0],backgroundColor:(d.vars||d).palette.action.disabledBackground})},D.variant==="text"&&{padding:"6px 8px"},D.variant==="text"&&D.color!=="inherit"&&{color:(d.vars||d).palette[D.color].main},D.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},D.variant==="outlined"&&D.color!=="inherit"&&{color:(d.vars||d).palette[D.color].main,border:d.vars?`1px solid rgba(${d.vars.palette[D.color].mainChannel} / 0.5)`:`1px solid ${Xo(d.palette[D.color].main,.5)}`},D.variant==="contained"&&{color:d.vars?d.vars.palette.text.primary:(Y=(te=d.palette).getContrastText)==null?void 0:Y.call(te,d.palette.grey[300]),backgroundColor:d.vars?d.vars.palette.Button.inheritContainedBg:ge,boxShadow:(d.vars||d).shadows[2]},D.variant==="contained"&&D.color!=="inherit"&&{color:(d.vars||d).palette[D.color].contrastText,backgroundColor:(d.vars||d).palette[D.color].main},D.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},D.size==="small"&&D.variant==="text"&&{padding:"4px 5px",fontSize:d.typography.pxToRem(13)},D.size==="large"&&D.variant==="text"&&{padding:"8px 11px",fontSize:d.typography.pxToRem(15)},D.size==="small"&&D.variant==="outlined"&&{padding:"3px 9px",fontSize:d.typography.pxToRem(13)},D.size==="large"&&D.variant==="outlined"&&{padding:"7px 21px",fontSize:d.typography.pxToRem(15)},D.size==="small"&&D.variant==="contained"&&{padding:"4px 10px",fontSize:d.typography.pxToRem(13)},D.size==="large"&&D.variant==="contained"&&{padding:"8px 22px",fontSize:d.typography.pxToRem(15)},D.fullWidth&&{width:"100%"})},({ownerState:d})=>d.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${cy.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${cy.disabled}`]:{boxShadow:"none"}}),iz=Xa("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(d,D)=>{const{ownerState:Y}=d;return[D.startIcon,D[`iconSize${qa(Y.size)}`]]}})(({ownerState:d})=>Qr({display:"inherit",marginRight:8,marginLeft:-4},d.size==="small"&&{marginLeft:-2},GS(d))),oz=Xa("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(d,D)=>{const{ownerState:Y}=d;return[D.endIcon,D[`iconSize${qa(Y.size)}`]]}})(({ownerState:d})=>Qr({display:"inherit",marginRight:-4,marginLeft:8},d.size==="small"&&{marginRight:-2},GS(d))),sz=Fr.forwardRef(function(D,Y){const te=Fr.useContext(q_),ge=Fr.useContext(tz),Se=iw(te,D),W=qi({props:Se,name:"MuiButton"}),{children:H,color:e="primary",component:g="button",className:R,disabled:a=!1,disableElevation:C=!1,disableFocusRipple:T=!1,endIcon:v,focusVisibleClassName:y,fullWidth:t=!1,size:r="medium",startIcon:s,type:n,variant:o="text"}=W,f=Za(W,rz),u=Qr({},W,{color:e,component:g,disabled:a,disableElevation:C,disableFocusRipple:T,fullWidth:t,size:r,type:n,variant:o}),m=nz(u),c=s&&Pn.jsx(iz,{className:m.startIcon,ownerState:u,children:s}),A=v&&Pn.jsx(oz,{className:m.endIcon,ownerState:u,children:v}),h=ge||"";return Pn.jsxs(az,Qr({ownerState:u,className:ni(te.className,m.root,R,h),component:g,disabled:a,focusRipple:!T,focusVisibleClassName:ni(m.focusVisible,y),ref:Y,type:n},f,{classes:m,children:[c,H,A]}))}),Ox=sz;function lz(d){return Zi("MuiModal",d)}Fi("MuiModal",["root","hidden","backdrop"]);const uz=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],fz=d=>{const{open:D,exited:Y,classes:te}=d;return Qi({root:["root",!D&&Y&&"hidden"],backdrop:["backdrop"]},lz,te)},cz=Xa("div",{name:"MuiModal",slot:"Root",overridesResolver:(d,D)=>{const{ownerState:Y}=d;return[D.root,!Y.open&&Y.exited&&D.hidden]}})(({theme:d,ownerState:D})=>Qr({position:"fixed",zIndex:(d.vars||d).zIndex.modal,right:0,bottom:0,top:0,left:0},!D.open&&D.exited&&{visibility:"hidden"})),hz=Xa(K_,{name:"MuiModal",slot:"Backdrop",overridesResolver:(d,D)=>D.backdrop})({zIndex:-1}),vz=Fr.forwardRef(function(D,Y){var te,ge,Se,W,H,e;const g=qi({name:"MuiModal",props:D}),{BackdropComponent:R=hz,BackdropProps:a,className:C,closeAfterTransition:T=!1,children:v,container:y,component:t,components:r={},componentsProps:s={},disableAutoFocus:n=!1,disableEnforceFocus:o=!1,disableEscapeKeyDown:f=!1,disablePortal:u=!1,disableRestoreFocus:m=!1,disableScrollLock:c=!1,hideBackdrop:A=!1,keepMounted:h=!1,onBackdropClick:l,open:p,slotProps:M,slots:S}=g,P=Za(g,uz),x=Qr({},g,{closeAfterTransition:T,disableAutoFocus:n,disableEnforceFocus:o,disableEscapeKeyDown:f,disablePortal:u,disableRestoreFocus:m,disableScrollLock:c,hideBackdrop:A,keepMounted:h}),{getRootProps:E,getBackdropProps:w,getTransitionProps:i,portalRef:L,isTopModal:b,exited:O,hasTransition:_}=y_(Qr({},x,{rootRef:Y})),N=Qr({},x,{exited:O}),z=fz(N),B={};if(v.props.tabIndex===void 0&&(B.tabIndex="-1"),_){const{onEnter:oe,onExited:ce}=i();B.onEnter=oe,B.onExited=ce}const U=(te=(ge=S==null?void 0:S.root)!=null?ge:r.Root)!=null?te:cz,F=(Se=(W=S==null?void 0:S.backdrop)!=null?W:r.Backdrop)!=null?Se:R,V=(H=M==null?void 0:M.root)!=null?H:s.root,j=(e=M==null?void 0:M.backdrop)!=null?e:s.backdrop,$=Kv({elementType:U,externalSlotProps:V,externalForwardedProps:P,getSlotProps:E,additionalProps:{ref:Y,as:t},ownerState:N,className:ni(C,V==null?void 0:V.className,z==null?void 0:z.root,!N.open&&N.exited&&(z==null?void 0:z.hidden))}),ne=Kv({elementType:F,externalSlotProps:j,additionalProps:a,getSlotProps:oe=>w(Qr({},oe,{onClick:ce=>{l&&l(ce),oe!=null&&oe.onClick&&oe.onClick(ce)}})),className:ni(j==null?void 0:j.className,a==null?void 0:a.className,z==null?void 0:z.backdrop),ownerState:N});return!h&&!p&&(!_||O)?null:Pn.jsx(VS,{ref:L,container:y,disablePortal:u,children:Pn.jsxs(U,Qr({},$,{children:[!A&&R?Pn.jsx(F,Qr({},ne)):null,Pn.jsx(jI,{disableEnforceFocus:o,disableAutoFocus:n,disableRestoreFocus:m,isEnabled:b,open:p,children:Fr.cloneElement(v,B)})]}))})}),dz=vz,pz=Fi("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),l4=pz,gz=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],yz=d=>{const{classes:D,disableUnderline:Y}=d,ge=Qi({root:["root",!Y&&"underline"],input:["input"]},F_,D);return Qr({},D,ge)},mz=Xa(Am,{shouldForwardProp:d=>Gu(d)||d==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(d,D)=>{const{ownerState:Y}=d;return[...wm(d,D),!Y.disableUnderline&&D.underline]}})(({theme:d,ownerState:D})=>{var Y;const te=d.palette.mode==="light",ge=te?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",Se=te?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",W=te?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",H=te?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return Qr({position:"relative",backgroundColor:d.vars?d.vars.palette.FilledInput.bg:Se,borderTopLeftRadius:(d.vars||d).shape.borderRadius,borderTopRightRadius:(d.vars||d).shape.borderRadius,transition:d.transitions.create("background-color",{duration:d.transitions.duration.shorter,easing:d.transitions.easing.easeOut}),"&:hover":{backgroundColor:d.vars?d.vars.palette.FilledInput.hoverBg:W,"@media (hover: none)":{backgroundColor:d.vars?d.vars.palette.FilledInput.bg:Se}},[`&.${Dv.focused}`]:{backgroundColor:d.vars?d.vars.palette.FilledInput.bg:Se},[`&.${Dv.disabled}`]:{backgroundColor:d.vars?d.vars.palette.FilledInput.disabledBg:H}},!D.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(Y=(d.vars||d).palette[D.color||"primary"])==null?void 0:Y.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:d.transitions.create("transform",{duration:d.transitions.duration.shorter,easing:d.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Dv.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Dv.error}`]:{"&:before, &:after":{borderBottomColor:(d.vars||d).palette.error.main}},"&:before":{borderBottom:`1px solid ${d.vars?`rgba(${d.vars.palette.common.onBackgroundChannel} / ${d.vars.opacity.inputUnderline})`:ge}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:d.transitions.create("border-bottom-color",{duration:d.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Dv.disabled}, .${Dv.error}):before`]:{borderBottom:`1px solid ${(d.vars||d).palette.text.primary}`},[`&.${Dv.disabled}:before`]:{borderBottomStyle:"dotted"}},D.startAdornment&&{paddingLeft:12},D.endAdornment&&{paddingRight:12},D.multiline&&Qr({padding:"25px 12px 8px"},D.size==="small"&&{paddingTop:21,paddingBottom:4},D.hiddenLabel&&{paddingTop:16,paddingBottom:17},D.hiddenLabel&&D.size==="small"&&{paddingTop:8,paddingBottom:9}))}),xz=Xa(Sm,{name:"MuiFilledInput",slot:"Input",overridesResolver:Tm})(({theme:d,ownerState:D})=>Qr({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!d.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:d.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:d.palette.mode==="light"?null:"#fff",caretColor:d.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},d.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[d.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},D.size==="small"&&{paddingTop:21,paddingBottom:4},D.hiddenLabel&&{paddingTop:16,paddingBottom:17},D.startAdornment&&{paddingLeft:0},D.endAdornment&&{paddingRight:0},D.hiddenLabel&&D.size==="small"&&{paddingTop:8,paddingBottom:9},D.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),YS=Fr.forwardRef(function(D,Y){var te,ge,Se,W;const H=qi({props:D,name:"MuiFilledInput"}),{components:e={},componentsProps:g,fullWidth:R=!1,inputComponent:a="input",multiline:C=!1,slotProps:T,slots:v={},type:y="text"}=H,t=Za(H,gz),r=Qr({},H,{fullWidth:R,inputComponent:a,multiline:C,type:y}),s=yz(H),n={root:{ownerState:r},input:{ownerState:r}},o=T??g?kl(n,T??g):n,f=(te=(ge=v.root)!=null?ge:e.Root)!=null?te:mz,u=(Se=(W=v.input)!=null?W:e.Input)!=null?Se:xz;return Pn.jsx(zw,Qr({slots:{root:f,input:u},componentsProps:o,fullWidth:R,inputComponent:a,multiline:C,ref:Y,type:y},t,{classes:s}))});YS.muiName="Input";const jS=YS;function bz(d){return Zi("MuiFormControl",d)}Fi("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const wz=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],Tz=d=>{const{classes:D,margin:Y,fullWidth:te}=d,ge={root:["root",Y!=="none"&&`margin${qa(Y)}`,te&&"fullWidth"]};return Qi(ge,bz,D)},Az=Xa("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:d},D)=>Qr({},D.root,D[`margin${qa(d.margin)}`],d.fullWidth&&D.fullWidth)})(({ownerState:d})=>Qr({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},d.margin==="normal"&&{marginTop:16,marginBottom:8},d.margin==="dense"&&{marginTop:8,marginBottom:4},d.fullWidth&&{width:"100%"})),Sz=Fr.forwardRef(function(D,Y){const te=qi({props:D,name:"MuiFormControl"}),{children:ge,className:Se,color:W="primary",component:H="div",disabled:e=!1,error:g=!1,focused:R,fullWidth:a=!1,hiddenLabel:C=!1,margin:T="none",required:v=!1,size:y="medium",variant:t="outlined"}=te,r=Za(te,wz),s=Qr({},te,{color:W,component:H,disabled:e,error:g,fullWidth:a,hiddenLabel:C,margin:T,required:v,size:y,variant:t}),n=Tz(s),[o,f]=Fr.useState(()=>{let M=!1;return ge&&Fr.Children.forEach(ge,S=>{if(!Ry(S,["Input","Select"]))return;const P=Ry(S,["Select"])?S.props.input:S;P&&E_(P.props)&&(M=!0)}),M}),[u,m]=Fr.useState(()=>{let M=!1;return ge&&Fr.Children.forEach(ge,S=>{Ry(S,["Input","Select"])&&(y1(S.props,!0)||y1(S.props.inputProps,!0))&&(M=!0)}),M}),[c,A]=Fr.useState(!1);e&&c&&A(!1);const h=R!==void 0&&!e?R:c;let l;const p=Fr.useMemo(()=>({adornedStart:o,setAdornedStart:f,color:W,disabled:e,error:g,filled:u,focused:h,fullWidth:a,hiddenLabel:C,size:y,onBlur:()=>{A(!1)},onEmpty:()=>{m(!1)},onFilled:()=>{m(!0)},onFocus:()=>{A(!0)},registerEffect:l,required:v,variant:t}),[o,W,e,g,u,h,a,C,l,v,y,t]);return Pn.jsx(_w.Provider,{value:p,children:Pn.jsx(Az,Qr({as:H,ownerState:s,className:ni(n.root,Se),ref:Y},r,{children:ge}))})}),ZS=Sz;function Mz(d){return Zi("MuiFormHelperText",d)}const Ez=Fi("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),u4=Ez;var f4;const Cz=["children","className","component","disabled","error","filled","focused","margin","required","variant"],Lz=d=>{const{classes:D,contained:Y,size:te,disabled:ge,error:Se,filled:W,focused:H,required:e}=d,g={root:["root",ge&&"disabled",Se&&"error",te&&`size${qa(te)}`,Y&&"contained",H&&"focused",W&&"filled",e&&"required"]};return Qi(g,Mz,D)},Pz=Xa("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(d,D)=>{const{ownerState:Y}=d;return[D.root,Y.size&&D[`size${qa(Y.size)}`],Y.contained&&D.contained,Y.filled&&D.filled]}})(({theme:d,ownerState:D})=>Qr({color:(d.vars||d).palette.text.secondary},d.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${u4.disabled}`]:{color:(d.vars||d).palette.text.disabled},[`&.${u4.error}`]:{color:(d.vars||d).palette.error.main}},D.size==="small"&&{marginTop:4},D.contained&&{marginLeft:14,marginRight:14})),Rz=Fr.forwardRef(function(D,Y){const te=qi({props:D,name:"MuiFormHelperText"}),{children:ge,className:Se,component:W="p"}=te,H=Za(te,Cz),e=Sp(),g=Ap({props:te,muiFormControl:e,states:["variant","size","disabled","error","filled","focused","required"]}),R=Qr({},te,{component:W,contained:g.variant==="filled"||g.variant==="outlined",variant:g.variant,size:g.size,disabled:g.disabled,error:g.error,filled:g.filled,focused:g.focused,required:g.required}),a=Lz(R);return Pn.jsx(Pz,Qr({as:W,ownerState:R,className:ni(a.root,Se),ref:Y},H,{children:ge===" "?f4||(f4=Pn.jsx("span",{className:"notranslate",children:""})):ge}))}),Dz=Rz;function Iz(d){return Zi("MuiFormLabel",d)}const kz=Fi("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),k0=kz,_z=["children","className","color","component","disabled","error","filled","focused","required"],zz=d=>{const{classes:D,color:Y,focused:te,disabled:ge,error:Se,filled:W,required:H}=d,e={root:["root",`color${qa(Y)}`,ge&&"disabled",Se&&"error",W&&"filled",te&&"focused",H&&"required"],asterisk:["asterisk",Se&&"error"]};return Qi(e,Iz,D)},Oz=Xa("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:d},D)=>Qr({},D.root,d.color==="secondary"&&D.colorSecondary,d.filled&&D.filled)})(({theme:d,ownerState:D})=>Qr({color:(d.vars||d).palette.text.secondary},d.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${k0.focused}`]:{color:(d.vars||d).palette[D.color].main},[`&.${k0.disabled}`]:{color:(d.vars||d).palette.text.disabled},[`&.${k0.error}`]:{color:(d.vars||d).palette.error.main}})),Fz=Xa("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(d,D)=>D.asterisk})(({theme:d})=>({[`&.${k0.error}`]:{color:(d.vars||d).palette.error.main}})),Bz=Fr.forwardRef(function(D,Y){const te=qi({props:D,name:"MuiFormLabel"}),{children:ge,className:Se,component:W="label"}=te,H=Za(te,_z),e=Sp(),g=Ap({props:te,muiFormControl:e,states:["color","required","focused","disabled","error","filled"]}),R=Qr({},te,{color:g.color||"primary",component:W,disabled:g.disabled,error:g.error,filled:g.filled,focused:g.focused,required:g.required}),a=zz(R);return Pn.jsxs(Oz,Qr({as:W,ownerState:R,className:ni(a.root,Se),ref:Y},H,{children:[ge,g.required&&Pn.jsxs(Fz,{ownerState:R,"aria-hidden":!0,className:a.asterisk,children:["","*"]})]}))}),Nz=Bz,Uz=Fr.createContext(),c4=Uz;function Hz(d){return Zi("MuiGrid",d)}const Vz=[0,1,2,3,4,5,6,7,8,9,10],Wz=["column-reverse","column","row-reverse","row"],Gz=["nowrap","wrap-reverse","wrap"],s0=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],ng=Fi("MuiGrid",["root","container","item","zeroMinWidth",...Vz.map(d=>`spacing-xs-${d}`),...Wz.map(d=>`direction-xs-${d}`),...Gz.map(d=>`wrap-xs-${d}`),...s0.map(d=>`grid-xs-${d}`),...s0.map(d=>`grid-sm-${d}`),...s0.map(d=>`grid-md-${d}`),...s0.map(d=>`grid-lg-${d}`),...s0.map(d=>`grid-xl-${d}`)]),Yz=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function np(d){const D=parseFloat(d);return`${D}${String(d).replace(String(D),"")||"px"}`}function jz({theme:d,ownerState:D}){let Y;return d.breakpoints.keys.reduce((te,ge)=>{let Se={};if(D[ge]&&(Y=D[ge]),!Y)return te;if(Y===!0)Se={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(Y==="auto")Se={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const W=um({values:D.columns,breakpoints:d.breakpoints.values}),H=typeof W=="object"?W[ge]:W;if(H==null)return te;const e=`${Math.round(Y/H*1e8)/1e6}%`;let g={};if(D.container&&D.item&&D.columnSpacing!==0){const R=d.spacing(D.columnSpacing);if(R!=="0px"){const a=`calc(${e} + ${np(R)})`;g={flexBasis:a,maxWidth:a}}}Se=Qr({flexBasis:e,flexGrow:0,maxWidth:e},g)}return d.breakpoints.values[ge]===0?Object.assign(te,Se):te[d.breakpoints.up(ge)]=Se,te},{})}function Zz({theme:d,ownerState:D}){const Y=um({values:D.direction,breakpoints:d.breakpoints.values});return Nu({theme:d},Y,te=>{const ge={flexDirection:te};return te.indexOf("column")===0&&(ge[`& > .${ng.item}`]={maxWidth:"none"}),ge})}function XS({breakpoints:d,values:D}){let Y="";Object.keys(D).forEach(ge=>{Y===""&&D[ge]!==0&&(Y=ge)});const te=Object.keys(d).sort((ge,Se)=>d[ge]-d[Se]);return te.slice(0,te.indexOf(Y))}function Xz({theme:d,ownerState:D}){const{container:Y,rowSpacing:te}=D;let ge={};if(Y&&te!==0){const Se=um({values:te,breakpoints:d.breakpoints.values});let W;typeof Se=="object"&&(W=XS({breakpoints:d.breakpoints.values,values:Se})),ge=Nu({theme:d},Se,(H,e)=>{var g;const R=d.spacing(H);return R!=="0px"?{marginTop:`-${np(R)}`,[`& > .${ng.item}`]:{paddingTop:np(R)}}:(g=W)!=null&&g.includes(e)?{}:{marginTop:0,[`& > .${ng.item}`]:{paddingTop:0}}})}return ge}function Kz({theme:d,ownerState:D}){const{container:Y,columnSpacing:te}=D;let ge={};if(Y&&te!==0){const Se=um({values:te,breakpoints:d.breakpoints.values});let W;typeof Se=="object"&&(W=XS({breakpoints:d.breakpoints.values,values:Se})),ge=Nu({theme:d},Se,(H,e)=>{var g;const R=d.spacing(H);return R!=="0px"?{width:`calc(100% + ${np(R)})`,marginLeft:`-${np(R)}`,[`& > .${ng.item}`]:{paddingLeft:np(R)}}:(g=W)!=null&&g.includes(e)?{}:{width:"100%",marginLeft:0,[`& > .${ng.item}`]:{paddingLeft:0}}})}return ge}function $z(d,D,Y={}){if(!d||d<=0)return[];if(typeof d=="string"&&!Number.isNaN(Number(d))||typeof d=="number")return[Y[`spacing-xs-${String(d)}`]];const te=[];return D.forEach(ge=>{const Se=d[ge];Number(Se)>0&&te.push(Y[`spacing-${ge}-${String(Se)}`])}),te}const Jz=Xa("div",{name:"MuiGrid",slot:"Root",overridesResolver:(d,D)=>{const{ownerState:Y}=d,{container:te,direction:ge,item:Se,spacing:W,wrap:H,zeroMinWidth:e,breakpoints:g}=Y;let R=[];te&&(R=$z(W,g,D));const a=[];return g.forEach(C=>{const T=Y[C];T&&a.push(D[`grid-${C}-${String(T)}`])}),[D.root,te&&D.container,Se&&D.item,e&&D.zeroMinWidth,...R,ge!=="row"&&D[`direction-xs-${String(ge)}`],H!=="wrap"&&D[`wrap-xs-${String(H)}`],...a]}})(({ownerState:d})=>Qr({boxSizing:"border-box"},d.container&&{display:"flex",flexWrap:"wrap",width:"100%"},d.item&&{margin:0},d.zeroMinWidth&&{minWidth:0},d.wrap!=="wrap"&&{flexWrap:d.wrap}),Zz,Xz,Kz,jz);function Qz(d,D){if(!d||d<=0)return[];if(typeof d=="string"&&!Number.isNaN(Number(d))||typeof d=="number")return[`spacing-xs-${String(d)}`];const Y=[];return D.forEach(te=>{const ge=d[te];if(Number(ge)>0){const Se=`spacing-${te}-${String(ge)}`;Y.push(Se)}}),Y}const qz=d=>{const{classes:D,container:Y,direction:te,item:ge,spacing:Se,wrap:W,zeroMinWidth:H,breakpoints:e}=d;let g=[];Y&&(g=Qz(Se,e));const R=[];e.forEach(C=>{const T=d[C];T&&R.push(`grid-${C}-${String(T)}`)});const a={root:["root",Y&&"container",ge&&"item",H&&"zeroMinWidth",...g,te!=="row"&&`direction-xs-${String(te)}`,W!=="wrap"&&`wrap-xs-${String(W)}`,...R]};return Qi(a,Hz,D)},eO=Fr.forwardRef(function(D,Y){const te=qi({props:D,name:"MuiGrid"}),{breakpoints:ge}=vg(),Se=wS(te),{className:W,columns:H,columnSpacing:e,component:g="div",container:R=!1,direction:a="row",item:C=!1,rowSpacing:T,spacing:v=0,wrap:y="wrap",zeroMinWidth:t=!1}=Se,r=Za(Se,Yz),s=T||v,n=e||v,o=Fr.useContext(c4),f=R?H||12:o,u={},m=Qr({},r);ge.keys.forEach(h=>{r[h]!=null&&(u[h]=r[h],delete m[h])});const c=Qr({},Se,{columns:f,container:R,direction:a,item:C,rowSpacing:s,columnSpacing:n,wrap:y,zeroMinWidth:t,spacing:v},u,{breakpoints:ge.keys}),A=qz(c);return Pn.jsx(c4.Provider,{value:f,children:Pn.jsx(Jz,Qr({ownerState:c,className:ni(A.root,W),as:g,ref:Y},m))})}),ds=eO,tO=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function Qb(d){return`scale(${d}, ${d**2})`}const rO={entering:{opacity:1,transform:Qb(1)},entered:{opacity:1,transform:"none"}},Fx=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),KS=Fr.forwardRef(function(D,Y){const{addEndListener:te,appear:ge=!0,children:Se,easing:W,in:H,onEnter:e,onEntered:g,onEntering:R,onExit:a,onExited:C,onExiting:T,style:v,timeout:y="auto",TransitionComponent:t=RS}=D,r=Za(D,tO),s=Fr.useRef(),n=Fr.useRef(),o=vg(),f=Fr.useRef(null),u=ns(f,Se.ref,Y),m=P=>x=>{if(P){const E=f.current;x===void 0?P(E):P(E,x)}},c=m(R),A=m((P,x)=>{DS(P);const{duration:E,delay:w,easing:i}=d1({style:v,timeout:y,easing:W},{mode:"enter"});let L;y==="auto"?(L=o.transitions.getAutoHeightDuration(P.clientHeight),n.current=L):L=E,P.style.transition=[o.transitions.create("opacity",{duration:L,delay:w}),o.transitions.create("transform",{duration:Fx?L:L*.666,delay:w,easing:i})].join(","),e&&e(P,x)}),h=m(g),l=m(T),p=m(P=>{const{duration:x,delay:E,easing:w}=d1({style:v,timeout:y,easing:W},{mode:"exit"});let i;y==="auto"?(i=o.transitions.getAutoHeightDuration(P.clientHeight),n.current=i):i=x,P.style.transition=[o.transitions.create("opacity",{duration:i,delay:E}),o.transitions.create("transform",{duration:Fx?i:i*.666,delay:Fx?E:E||i*.333,easing:w})].join(","),P.style.opacity=0,P.style.transform=Qb(.75),a&&a(P)}),M=m(C),S=P=>{y==="auto"&&(s.current=setTimeout(P,n.current||0)),te&&te(f.current,P)};return Fr.useEffect(()=>()=>{clearTimeout(s.current)},[]),Pn.jsx(t,Qr({appear:ge,in:H,nodeRef:f,onEnter:A,onEntered:h,onEntering:c,onExit:p,onExited:M,onExiting:l,addEndListener:S,timeout:y==="auto"?null:y},r,{children:(P,x)=>Fr.cloneElement(Se,Qr({style:Qr({opacity:0,transform:Qb(.75),visibility:P==="exited"&&!H?"hidden":void 0},rO[P],v,Se.props.style),ref:u},x))}))});KS.muiSupportAuto=!0;const qb=KS,nO=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],aO=d=>{const{classes:D,disableUnderline:Y}=d,ge=Qi({root:["root",!Y&&"underline"],input:["input"]},k_,D);return Qr({},D,ge)},iO=Xa(Am,{shouldForwardProp:d=>Gu(d)||d==="classes",name:"MuiInput",slot:"Root",overridesResolver:(d,D)=>{const{ownerState:Y}=d;return[...wm(d,D),!Y.disableUnderline&&D.underline]}})(({theme:d,ownerState:D})=>{let te=d.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return d.vars&&(te=`rgba(${d.vars.palette.common.onBackgroundChannel} / ${d.vars.opacity.inputUnderline})`),Qr({position:"relative"},D.formControl&&{"label + &":{marginTop:16}},!D.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(d.vars||d).palette[D.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:d.transitions.create("transform",{duration:d.transitions.duration.shorter,easing:d.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${o0.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${o0.error}`]:{"&:before, &:after":{borderBottomColor:(d.vars||d).palette.error.main}},"&:before":{borderBottom:`1px solid ${te}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:d.transitions.create("border-bottom-color",{duration:d.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${o0.disabled}, .${o0.error}):before`]:{borderBottom:`2px solid ${(d.vars||d).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${te}`}},[`&.${o0.disabled}:before`]:{borderBottomStyle:"dotted"}})}),oO=Xa(Sm,{name:"MuiInput",slot:"Input",overridesResolver:Tm})({}),$S=Fr.forwardRef(function(D,Y){var te,ge,Se,W;const H=qi({props:D,name:"MuiInput"}),{disableUnderline:e,components:g={},componentsProps:R,fullWidth:a=!1,inputComponent:C="input",multiline:T=!1,slotProps:v,slots:y={},type:t="text"}=H,r=Za(H,nO),s=aO(H),o={root:{ownerState:{disableUnderline:e}}},f=v??R?kl(v??R,o):o,u=(te=(ge=y.root)!=null?ge:g.Root)!=null?te:iO,m=(Se=(W=y.input)!=null?W:g.Input)!=null?Se:oO;return Pn.jsx(zw,Qr({slots:{root:u,input:m},slotProps:f,fullWidth:a,inputComponent:C,multiline:T,ref:Y,type:t},r,{classes:s}))});$S.muiName="Input";const JS=$S;function sO(d){return Zi("MuiInputLabel",d)}Fi("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const lO=["disableAnimation","margin","shrink","variant","className"],uO=d=>{const{classes:D,formControl:Y,size:te,shrink:ge,disableAnimation:Se,variant:W,required:H}=d,e={root:["root",Y&&"formControl",!Se&&"animated",ge&&"shrink",te&&te!=="normal"&&`size${qa(te)}`,W],asterisk:[H&&"asterisk"]},g=Qi(e,sO,D);return Qr({},D,g)},fO=Xa(Nz,{shouldForwardProp:d=>Gu(d)||d==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(d,D)=>{const{ownerState:Y}=d;return[{[`& .${k0.asterisk}`]:D.asterisk},D.root,Y.formControl&&D.formControl,Y.size==="small"&&D.sizeSmall,Y.shrink&&D.shrink,!Y.disableAnimation&&D.animated,Y.focused&&D.focused,D[Y.variant]]}})(({theme:d,ownerState:D})=>Qr({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},D.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},D.size==="small"&&{transform:"translate(0, 17px) scale(1)"},D.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!D.disableAnimation&&{transition:d.transitions.create(["color","transform","max-width"],{duration:d.transitions.duration.shorter,easing:d.transitions.easing.easeOut})},D.variant==="filled"&&Qr({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},D.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},D.shrink&&Qr({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},D.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),D.variant==="outlined"&&Qr({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},D.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},D.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),cO=Fr.forwardRef(function(D,Y){const te=qi({name:"MuiInputLabel",props:D}),{disableAnimation:ge=!1,shrink:Se,className:W}=te,H=Za(te,lO),e=Sp();let g=Se;typeof g>"u"&&e&&(g=e.filled||e.focused||e.adornedStart);const R=Ap({props:te,muiFormControl:e,states:["size","variant","required","focused"]}),a=Qr({},te,{disableAnimation:ge,formControl:e,shrink:g,size:R.size,variant:R.variant,required:R.required,focused:R.focused}),C=uO(a);return Pn.jsx(fO,Qr({"data-shrink":g,ownerState:a,ref:Y,className:ni(C.root,W)},H,{classes:C}))}),QS=cO,hO=Fr.createContext({}),e3=hO;function vO(d){return Zi("MuiList",d)}Fi("MuiList",["root","padding","dense","subheader"]);const dO=["children","className","component","dense","disablePadding","subheader"],pO=d=>{const{classes:D,disablePadding:Y,dense:te,subheader:ge}=d;return Qi({root:["root",!Y&&"padding",te&&"dense",ge&&"subheader"]},vO,D)},gO=Xa("ul",{name:"MuiList",slot:"Root",overridesResolver:(d,D)=>{const{ownerState:Y}=d;return[D.root,!Y.disablePadding&&D.padding,Y.dense&&D.dense,Y.subheader&&D.subheader]}})(({ownerState:d})=>Qr({listStyle:"none",margin:0,padding:0,position:"relative"},!d.disablePadding&&{paddingTop:8,paddingBottom:8},d.subheader&&{paddingTop:0})),yO=Fr.forwardRef(function(D,Y){const te=qi({props:D,name:"MuiList"}),{children:ge,className:Se,component:W="ul",dense:H=!1,disablePadding:e=!1,subheader:g}=te,R=Za(te,dO),a=Fr.useMemo(()=>({dense:H}),[H]),C=Qr({},te,{component:W,dense:H,disablePadding:e}),T=pO(C);return Pn.jsx(e3.Provider,{value:a,children:Pn.jsxs(gO,Qr({as:W,className:ni(T.root,Se),ref:Y,ownerState:C},R,{children:[g,ge]}))})}),mO=yO,xO=Fi("MuiListItemIcon",["root","alignItemsFlexStart"]),h4=xO,bO=Fi("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),v4=bO,wO=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function Bx(d,D,Y){return d===D?d.firstChild:D&&D.nextElementSibling?D.nextElementSibling:Y?null:d.firstChild}function d4(d,D,Y){return d===D?Y?d.firstChild:d.lastChild:D&&D.previousElementSibling?D.previousElementSibling:Y?null:d.lastChild}function qS(d,D){if(D===void 0)return!0;let Y=d.innerText;return Y===void 0&&(Y=d.textContent),Y=Y.trim().toLowerCase(),Y.length===0?!1:D.repeating?Y[0]===D.keys[0]:Y.indexOf(D.keys.join(""))===0}function l0(d,D,Y,te,ge,Se){let W=!1,H=ge(d,D,D?Y:!1);for(;H;){if(H===d.firstChild){if(W)return!1;W=!0}const e=te?!1:H.disabled||H.getAttribute("aria-disabled")==="true";if(!H.hasAttribute("tabindex")||!qS(H,Se)||e)H=ge(d,H,Y);else return H.focus(),!0}return!1}const TO=Fr.forwardRef(function(D,Y){const{actions:te,autoFocus:ge=!1,autoFocusItem:Se=!1,children:W,className:H,disabledItemsFocusable:e=!1,disableListWrap:g=!1,onKeyDown:R,variant:a="selectedMenu"}=D,C=Za(D,wO),T=Fr.useRef(null),v=Fr.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Af(()=>{ge&&T.current.focus()},[ge]),Fr.useImperativeHandle(te,()=>({adjustStyleForScrollbar:(n,o)=>{const f=!T.current.style.width;if(n.clientHeight<T.current.clientHeight&&f){const u=`${Q6(Ks(n))}px`;T.current.style[o.direction==="rtl"?"paddingLeft":"paddingRight"]=u,T.current.style.width=`calc(100% + ${u})`}return T.current}}),[]);const y=n=>{const o=T.current,f=n.key,u=Ks(o).activeElement;if(f==="ArrowDown")n.preventDefault(),l0(o,u,g,e,Bx);else if(f==="ArrowUp")n.preventDefault(),l0(o,u,g,e,d4);else if(f==="Home")n.preventDefault(),l0(o,null,g,e,Bx);else if(f==="End")n.preventDefault(),l0(o,null,g,e,d4);else if(f.length===1){const m=v.current,c=f.toLowerCase(),A=performance.now();m.keys.length>0&&(A-m.lastTime>500?(m.keys=[],m.repeating=!0,m.previousKeyMatched=!0):m.repeating&&c!==m.keys[0]&&(m.repeating=!1)),m.lastTime=A,m.keys.push(c);const h=u&&!m.repeating&&qS(u,m);m.previousKeyMatched&&(h||l0(o,u,!1,e,Bx,m))?n.preventDefault():m.previousKeyMatched=!1}R&&R(n)},t=ns(T,Y);let r=-1;Fr.Children.forEach(W,(n,o)=>{if(!Fr.isValidElement(n)){r===o&&(r+=1,r>=W.length&&(r=-1));return}n.props.disabled||(a==="selectedMenu"&&n.props.selected||r===-1)&&(r=o),r===o&&(n.props.disabled||n.props.muiSkipListHighlight||n.type.muiSkipListHighlight)&&(r+=1,r>=W.length&&(r=-1))});const s=Fr.Children.map(W,(n,o)=>{if(o===r){const f={};return Se&&(f.autoFocus=!0),n.props.tabIndex===void 0&&a==="selectedMenu"&&(f.tabIndex=0),Fr.cloneElement(n,f)}return n});return Pn.jsx(mO,Qr({role:"menu",ref:t,className:H,onKeyDown:y,tabIndex:ge?0:-1},C,{children:s}))}),AO=TO;function SO(d){return Zi("MuiPopover",d)}Fi("MuiPopover",["root","paper"]);const MO=["onEntering"],EO=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],CO=["slotProps"];function p4(d,D){let Y=0;return typeof D=="number"?Y=D:D==="center"?Y=d.height/2:D==="bottom"&&(Y=d.height),Y}function g4(d,D){let Y=0;return typeof D=="number"?Y=D:D==="center"?Y=d.width/2:D==="right"&&(Y=d.width),Y}function y4(d){return[d.horizontal,d.vertical].map(D=>typeof D=="number"?`${D}px`:D).join(" ")}function Nx(d){return typeof d=="function"?d():d}const LO=d=>{const{classes:D}=d;return Qi({root:["root"],paper:["paper"]},SO,D)},PO=Xa(dz,{name:"MuiPopover",slot:"Root",overridesResolver:(d,D)=>D.root})({}),eM=Xa(eI,{name:"MuiPopover",slot:"Paper",overridesResolver:(d,D)=>D.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),RO=Fr.forwardRef(function(D,Y){var te,ge,Se;const W=qi({props:D,name:"MuiPopover"}),{action:H,anchorEl:e,anchorOrigin:g={vertical:"top",horizontal:"left"},anchorPosition:R,anchorReference:a="anchorEl",children:C,className:T,container:v,elevation:y=8,marginThreshold:t=16,open:r,PaperProps:s={},slots:n,slotProps:o,transformOrigin:f={vertical:"top",horizontal:"left"},TransitionComponent:u=qb,transitionDuration:m="auto",TransitionProps:{onEntering:c}={},disableScrollLock:A=!1}=W,h=Za(W.TransitionProps,MO),l=Za(W,EO),p=(te=o==null?void 0:o.paper)!=null?te:s,M=Fr.useRef(),S=ns(M,p.ref),P=Qr({},W,{anchorOrigin:g,anchorReference:a,elevation:y,marginThreshold:t,externalPaperSlotProps:p,transformOrigin:f,TransitionComponent:u,transitionDuration:m,TransitionProps:h}),x=LO(P),E=Fr.useCallback(()=>{if(a==="anchorPosition")return R;const oe=Nx(e),Q=(oe&&oe.nodeType===1?oe:Ks(M.current).body).getBoundingClientRect();return{top:Q.top+p4(Q,g.vertical),left:Q.left+g4(Q,g.horizontal)}},[e,g.horizontal,g.vertical,R,a]),w=Fr.useCallback(oe=>({vertical:p4(oe,f.vertical),horizontal:g4(oe,f.horizontal)}),[f.horizontal,f.vertical]),i=Fr.useCallback(oe=>{const ce={width:oe.offsetWidth,height:oe.offsetHeight},Q=w(ce);if(a==="none")return{top:null,left:null,transformOrigin:y4(Q)};const Z=E();let K=Z.top-Q.vertical,J=Z.left-Q.horizontal;const re=K+ce.height,le=J+ce.width,q=$h(Nx(e)),ee=q.innerHeight-t,ue=q.innerWidth-t;if(t!==null&&K<t){const se=K-t;K-=se,Q.vertical+=se}else if(t!==null&&re>ee){const se=re-ee;K-=se,Q.vertical+=se}if(t!==null&&J<t){const se=J-t;J-=se,Q.horizontal+=se}else if(le>ue){const se=le-ue;J-=se,Q.horizontal+=se}return{top:`${Math.round(K)}px`,left:`${Math.round(J)}px`,transformOrigin:y4(Q)}},[e,a,E,w,t]),[L,b]=Fr.useState(r),O=Fr.useCallback(()=>{const oe=M.current;if(!oe)return;const ce=i(oe);ce.top!==null&&(oe.style.top=ce.top),ce.left!==null&&(oe.style.left=ce.left),oe.style.transformOrigin=ce.transformOrigin,b(!0)},[i]);Fr.useEffect(()=>(A&&window.addEventListener("scroll",O),()=>window.removeEventListener("scroll",O)),[e,A,O]);const _=(oe,ce)=>{c&&c(oe,ce),O()},N=()=>{b(!1)};Fr.useEffect(()=>{r&&O()}),Fr.useImperativeHandle(H,()=>r?{updatePosition:()=>{O()}}:null,[r,O]),Fr.useEffect(()=>{if(!r)return;const oe=nw(()=>{O()}),ce=$h(e);return ce.addEventListener("resize",oe),()=>{oe.clear(),ce.removeEventListener("resize",oe)}},[e,r,O]);let z=m;m==="auto"&&!u.muiSupportAuto&&(z=void 0);const B=v||(e?Ks(Nx(e)).body:void 0),U=(ge=n==null?void 0:n.root)!=null?ge:PO,F=(Se=n==null?void 0:n.paper)!=null?Se:eM,V=Kv({elementType:F,externalSlotProps:Qr({},p,{style:L?p.style:Qr({},p.style,{opacity:0})}),additionalProps:{elevation:y,ref:S},ownerState:P,className:ni(x.paper,p==null?void 0:p.className)}),j=Kv({elementType:U,externalSlotProps:(o==null?void 0:o.root)||{},externalForwardedProps:l,additionalProps:{ref:Y,slotProps:{backdrop:{invisible:!0}},container:B,open:r},ownerState:P,className:ni(x.root,T)}),{slotProps:$}=j,ne=Za(j,CO);return Pn.jsx(U,Qr({},ne,!p1(U)&&{slotProps:$,disableScrollLock:A},{children:Pn.jsx(u,Qr({appear:!0,in:r,onEntering:_,onExited:N,timeout:z},h,{children:Pn.jsx(F,Qr({},V,{children:C}))}))}))}),tM=RO;function DO(d){return Zi("MuiMenu",d)}Fi("MuiMenu",["root","paper","list"]);const IO=["onEntering"],kO=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],_O={vertical:"top",horizontal:"right"},zO={vertical:"top",horizontal:"left"},OO=d=>{const{classes:D}=d;return Qi({root:["root"],paper:["paper"],list:["list"]},DO,D)},FO=Xa(tM,{shouldForwardProp:d=>Gu(d)||d==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(d,D)=>D.root})({}),BO=Xa(eM,{name:"MuiMenu",slot:"Paper",overridesResolver:(d,D)=>D.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),NO=Xa(AO,{name:"MuiMenu",slot:"List",overridesResolver:(d,D)=>D.list})({outline:0}),UO=Fr.forwardRef(function(D,Y){var te,ge;const Se=qi({props:D,name:"MuiMenu"}),{autoFocus:W=!0,children:H,className:e,disableAutoFocusItem:g=!1,MenuListProps:R={},onClose:a,open:C,PaperProps:T={},PopoverClasses:v,transitionDuration:y="auto",TransitionProps:{onEntering:t}={},variant:r="selectedMenu",slots:s={},slotProps:n={}}=Se,o=Za(Se.TransitionProps,IO),f=Za(Se,kO),u=vg(),m=u.direction==="rtl",c=Qr({},Se,{autoFocus:W,disableAutoFocusItem:g,MenuListProps:R,onEntering:t,PaperProps:T,transitionDuration:y,TransitionProps:o,variant:r}),A=OO(c),h=W&&!g&&C,l=Fr.useRef(null),p=(i,L)=>{l.current&&l.current.adjustStyleForScrollbar(i,u),t&&t(i,L)},M=i=>{i.key==="Tab"&&(i.preventDefault(),a&&a(i,"tabKeyDown"))};let S=-1;Fr.Children.map(H,(i,L)=>{Fr.isValidElement(i)&&(i.props.disabled||(r==="selectedMenu"&&i.props.selected||S===-1)&&(S=L))});const P=(te=s.paper)!=null?te:BO,x=(ge=n.paper)!=null?ge:T,E=Kv({elementType:s.root,externalSlotProps:n.root,ownerState:c,className:[A.root,e]}),w=Kv({elementType:P,externalSlotProps:x,ownerState:c,className:A.paper});return Pn.jsx(FO,Qr({onClose:a,anchorOrigin:{vertical:"bottom",horizontal:m?"right":"left"},transformOrigin:m?_O:zO,slots:{paper:P,root:s.root},slotProps:{root:E,paper:w},open:C,ref:Y,transitionDuration:y,TransitionProps:Qr({onEntering:p},o),ownerState:c},f,{classes:v,children:Pn.jsx(NO,Qr({onKeyDown:M,actions:l,autoFocus:W&&(S===-1||g),autoFocusItem:h,variant:r},R,{className:ni(A.list,R.className),children:H}))}))}),HO=UO;function VO(d){return Zi("MuiMenuItem",d)}const WO=Fi("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),u0=WO,GO=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],YO=(d,D)=>{const{ownerState:Y}=d;return[D.root,Y.dense&&D.dense,Y.divider&&D.divider,!Y.disableGutters&&D.gutters]},jO=d=>{const{disabled:D,dense:Y,divider:te,disableGutters:ge,selected:Se,classes:W}=d,e=Qi({root:["root",Y&&"dense",D&&"disabled",!ge&&"gutters",te&&"divider",Se&&"selected"]},VO,W);return Qr({},W,e)},ZO=Xa(Mw,{shouldForwardProp:d=>Gu(d)||d==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:YO})(({theme:d,ownerState:D})=>Qr({},d.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!D.disableGutters&&{paddingLeft:16,paddingRight:16},D.divider&&{borderBottom:`1px solid ${(d.vars||d).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(d.vars||d).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${u0.selected}`]:{backgroundColor:d.vars?`rgba(${d.vars.palette.primary.mainChannel} / ${d.vars.palette.action.selectedOpacity})`:Xo(d.palette.primary.main,d.palette.action.selectedOpacity),[`&.${u0.focusVisible}`]:{backgroundColor:d.vars?`rgba(${d.vars.palette.primary.mainChannel} / calc(${d.vars.palette.action.selectedOpacity} + ${d.vars.palette.action.focusOpacity}))`:Xo(d.palette.primary.main,d.palette.action.selectedOpacity+d.palette.action.focusOpacity)}},[`&.${u0.selected}:hover`]:{backgroundColor:d.vars?`rgba(${d.vars.palette.primary.mainChannel} / calc(${d.vars.palette.action.selectedOpacity} + ${d.vars.palette.action.hoverOpacity}))`:Xo(d.palette.primary.main,d.palette.action.selectedOpacity+d.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:d.vars?`rgba(${d.vars.palette.primary.mainChannel} / ${d.vars.palette.action.selectedOpacity})`:Xo(d.palette.primary.main,d.palette.action.selectedOpacity)}},[`&.${u0.focusVisible}`]:{backgroundColor:(d.vars||d).palette.action.focus},[`&.${u0.disabled}`]:{opacity:(d.vars||d).palette.action.disabledOpacity},[`& + .${l4.root}`]:{marginTop:d.spacing(1),marginBottom:d.spacing(1)},[`& + .${l4.inset}`]:{marginLeft:52},[`& .${v4.root}`]:{marginTop:0,marginBottom:0},[`& .${v4.inset}`]:{paddingLeft:36},[`& .${h4.root}`]:{minWidth:36}},!D.dense&&{[d.breakpoints.up("sm")]:{minHeight:"auto"}},D.dense&&Qr({minHeight:32,paddingTop:4,paddingBottom:4},d.typography.body2,{[`& .${h4.root} svg`]:{fontSize:"1.25rem"}}))),XO=Fr.forwardRef(function(D,Y){const te=qi({props:D,name:"MuiMenuItem"}),{autoFocus:ge=!1,component:Se="li",dense:W=!1,divider:H=!1,disableGutters:e=!1,focusVisibleClassName:g,role:R="menuitem",tabIndex:a,className:C}=te,T=Za(te,GO),v=Fr.useContext(e3),y=Fr.useMemo(()=>({dense:W||v.dense||!1,disableGutters:e}),[v.dense,W,e]),t=Fr.useRef(null);Af(()=>{ge&&t.current&&t.current.focus()},[ge]);const r=Qr({},te,{dense:y.dense,divider:H,disableGutters:e}),s=jO(te),n=ns(t,Y);let o;return te.disabled||(o=a!==void 0?a:-1),Pn.jsx(e3.Provider,{value:y,children:Pn.jsx(ZO,Qr({ref:n,role:R,tabIndex:o,component:Se,focusVisibleClassName:ni(s.focusVisible,g),className:ni(s.root,C)},T,{ownerState:r,classes:s}))})}),KO=XO;function $O(d){return Zi("MuiNativeSelect",d)}const JO=Fi("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),Ow=JO,QO=["className","disabled","error","IconComponent","inputRef","variant"],qO=d=>{const{classes:D,variant:Y,disabled:te,multiple:ge,open:Se,error:W}=d,H={select:["select",Y,te&&"disabled",ge&&"multiple",W&&"error"],icon:["icon",`icon${qa(Y)}`,Se&&"iconOpen",te&&"disabled"]};return Qi(H,$O,D)},rM=({ownerState:d,theme:D})=>Qr({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":Qr({},D.vars?{backgroundColor:`rgba(${D.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:D.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${Ow.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(D.vars||D).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},d.variant==="filled"&&{"&&&":{paddingRight:32}},d.variant==="outlined"&&{borderRadius:(D.vars||D).shape.borderRadius,"&:focus":{borderRadius:(D.vars||D).shape.borderRadius},"&&&":{paddingRight:32}}),eF=Xa("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Gu,overridesResolver:(d,D)=>{const{ownerState:Y}=d;return[D.select,D[Y.variant],Y.error&&D.error,{[`&.${Ow.multiple}`]:D.multiple}]}})(rM),nM=({ownerState:d,theme:D})=>Qr({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(D.vars||D).palette.action.active,[`&.${Ow.disabled}`]:{color:(D.vars||D).palette.action.disabled}},d.open&&{transform:"rotate(180deg)"},d.variant==="filled"&&{right:7},d.variant==="outlined"&&{right:7}),tF=Xa("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(d,D)=>{const{ownerState:Y}=d;return[D.icon,Y.variant&&D[`icon${qa(Y.variant)}`],Y.open&&D.iconOpen]}})(nM),rF=Fr.forwardRef(function(D,Y){const{className:te,disabled:ge,error:Se,IconComponent:W,inputRef:H,variant:e="standard"}=D,g=Za(D,QO),R=Qr({},D,{disabled:ge,variant:e,error:Se}),a=qO(R);return Pn.jsxs(Fr.Fragment,{children:[Pn.jsx(eF,Qr({ownerState:R,className:ni(a.select,te),disabled:ge,ref:H||Y},g)),D.multiple?null:Pn.jsx(tF,{as:W,ownerState:R,className:a.icon})]})}),nF=rF;var m4;const aF=["children","classes","className","label","notched"],iF=Xa("fieldset",{shouldForwardProp:Gu})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),oF=Xa("legend",{shouldForwardProp:Gu})(({ownerState:d,theme:D})=>Qr({float:"unset",width:"auto",overflow:"hidden"},!d.withLabel&&{padding:0,lineHeight:"11px",transition:D.transitions.create("width",{duration:150,easing:D.transitions.easing.easeOut})},d.withLabel&&Qr({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:D.transitions.create("max-width",{duration:50,easing:D.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},d.notched&&{maxWidth:"100%",transition:D.transitions.create("max-width",{duration:100,easing:D.transitions.easing.easeOut,delay:50})})));function sF(d){const{className:D,label:Y,notched:te}=d,ge=Za(d,aF),Se=Y!=null&&Y!=="",W=Qr({},d,{notched:te,withLabel:Se});return Pn.jsx(iF,Qr({"aria-hidden":!0,className:D,ownerState:W},ge,{children:Pn.jsx(oF,{ownerState:W,children:Se?Pn.jsx("span",{children:Y}):m4||(m4=Pn.jsx("span",{className:"notranslate",children:""}))})}))}const lF=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],uF=d=>{const{classes:D}=d,te=Qi({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},z_,D);return Qr({},D,te)},fF=Xa(Am,{shouldForwardProp:d=>Gu(d)||d==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:wm})(({theme:d,ownerState:D})=>{const Y=d.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return Qr({position:"relative",borderRadius:(d.vars||d).shape.borderRadius,[`&:hover .${Lh.notchedOutline}`]:{borderColor:(d.vars||d).palette.text.primary},"@media (hover: none)":{[`&:hover .${Lh.notchedOutline}`]:{borderColor:d.vars?`rgba(${d.vars.palette.common.onBackgroundChannel} / 0.23)`:Y}},[`&.${Lh.focused} .${Lh.notchedOutline}`]:{borderColor:(d.vars||d).palette[D.color].main,borderWidth:2},[`&.${Lh.error} .${Lh.notchedOutline}`]:{borderColor:(d.vars||d).palette.error.main},[`&.${Lh.disabled} .${Lh.notchedOutline}`]:{borderColor:(d.vars||d).palette.action.disabled}},D.startAdornment&&{paddingLeft:14},D.endAdornment&&{paddingRight:14},D.multiline&&Qr({padding:"16.5px 14px"},D.size==="small"&&{padding:"8.5px 14px"}))}),cF=Xa(sF,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(d,D)=>D.notchedOutline})(({theme:d})=>{const D=d.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:d.vars?`rgba(${d.vars.palette.common.onBackgroundChannel} / 0.23)`:D}}),hF=Xa(Sm,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Tm})(({theme:d,ownerState:D})=>Qr({padding:"16.5px 14px"},!d.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:d.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:d.palette.mode==="light"?null:"#fff",caretColor:d.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},d.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[d.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},D.size==="small"&&{padding:"8.5px 14px"},D.multiline&&{padding:0},D.startAdornment&&{paddingLeft:0},D.endAdornment&&{paddingRight:0})),aM=Fr.forwardRef(function(D,Y){var te,ge,Se,W,H;const e=qi({props:D,name:"MuiOutlinedInput"}),{components:g={},fullWidth:R=!1,inputComponent:a="input",label:C,multiline:T=!1,notched:v,slots:y={},type:t="text"}=e,r=Za(e,lF),s=uF(e),n=Sp(),o=Ap({props:e,muiFormControl:n,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),f=Qr({},e,{color:o.color||"primary",disabled:o.disabled,error:o.error,focused:o.focused,formControl:n,fullWidth:R,hiddenLabel:o.hiddenLabel,multiline:T,size:o.size,type:t}),u=(te=(ge=y.root)!=null?ge:g.Root)!=null?te:fF,m=(Se=(W=y.input)!=null?W:g.Input)!=null?Se:hF;return Pn.jsx(zw,Qr({slots:{root:u,input:m},renderSuffix:c=>Pn.jsx(cF,{ownerState:f,className:s.notchedOutline,label:C!=null&&C!==""&&o.required?H||(H=Pn.jsxs(Fr.Fragment,{children:[C,"","*"]})):C,notched:typeof v<"u"?v:!!(c.startAdornment||c.filled||c.focused)}),fullWidth:R,inputComponent:a,multiline:T,ref:Y,type:t},r,{classes:Qr({},s,{notchedOutline:null})}))});aM.muiName="Input";const iM=aM;function vF(d){return Zi("MuiSelect",d)}const dF=Fi("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),f0=dF;var x4;const pF=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],gF=Xa("div",{name:"MuiSelect",slot:"Select",overridesResolver:(d,D)=>{const{ownerState:Y}=d;return[{[`&.${f0.select}`]:D.select},{[`&.${f0.select}`]:D[Y.variant]},{[`&.${f0.error}`]:D.error},{[`&.${f0.multiple}`]:D.multiple}]}})(rM,{[`&.${f0.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),yF=Xa("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(d,D)=>{const{ownerState:Y}=d;return[D.icon,Y.variant&&D[`icon${qa(Y.variant)}`],Y.open&&D.iconOpen]}})(nM),mF=Xa("input",{shouldForwardProp:d=>RD(d)&&d!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(d,D)=>D.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function b4(d,D){return typeof D=="object"&&D!==null?d===D:String(d)===String(D)}function xF(d){return d==null||typeof d=="string"&&!d.trim()}const bF=d=>{const{classes:D,variant:Y,disabled:te,multiple:ge,open:Se,error:W}=d,H={select:["select",Y,te&&"disabled",ge&&"multiple",W&&"error"],icon:["icon",`icon${qa(Y)}`,Se&&"iconOpen",te&&"disabled"],nativeInput:["nativeInput"]};return Qi(H,vF,D)},wF=Fr.forwardRef(function(D,Y){var te;const{"aria-describedby":ge,"aria-label":Se,autoFocus:W,autoWidth:H,children:e,className:g,defaultOpen:R,defaultValue:a,disabled:C,displayEmpty:T,error:v=!1,IconComponent:y,inputRef:t,labelId:r,MenuProps:s={},multiple:n,name:o,onBlur:f,onChange:u,onClose:m,onFocus:c,onOpen:A,open:h,readOnly:l,renderValue:p,SelectDisplayProps:M={},tabIndex:S,value:P,variant:x="standard"}=D,E=Za(D,pF),[w,i]=l1({controlled:P,default:a,name:"Select"}),[L,b]=l1({controlled:h,default:R,name:"Select"}),O=Fr.useRef(null),_=Fr.useRef(null),[N,z]=Fr.useState(null),{current:B}=Fr.useRef(h!=null),[U,F]=Fr.useState(),V=ns(Y,t),j=Fr.useCallback(Ae=>{_.current=Ae,Ae&&z(Ae)},[]),$=N==null?void 0:N.parentNode;Fr.useImperativeHandle(V,()=>({focus:()=>{_.current.focus()},node:O.current,value:w}),[w]),Fr.useEffect(()=>{R&&L&&N&&!B&&(F(H?null:$.clientWidth),_.current.focus())},[N,H]),Fr.useEffect(()=>{W&&_.current.focus()},[W]),Fr.useEffect(()=>{if(!r)return;const Ae=Ks(_.current).getElementById(r);if(Ae){const He=()=>{getSelection().isCollapsed&&_.current.focus()};return Ae.addEventListener("click",He),()=>{Ae.removeEventListener("click",He)}}},[r]);const ne=(Ae,He)=>{Ae?A&&A(He):m&&m(He),B||(F(H?null:$.clientWidth),b(Ae))},oe=Ae=>{Ae.button===0&&(Ae.preventDefault(),_.current.focus(),ne(!0,Ae))},ce=Ae=>{ne(!1,Ae)},Q=Fr.Children.toArray(e),Z=Ae=>{const He=Q.find(Ve=>Ve.props.value===Ae.target.value);He!==void 0&&(i(He.props.value),u&&u(Ae,He))},K=Ae=>He=>{let Ve;if(He.currentTarget.hasAttribute("tabindex")){if(n){Ve=Array.isArray(w)?w.slice():[];const ke=w.indexOf(Ae.props.value);ke===-1?Ve.push(Ae.props.value):Ve.splice(ke,1)}else Ve=Ae.props.value;if(Ae.props.onClick&&Ae.props.onClick(He),w!==Ve&&(i(Ve),u)){const ke=He.nativeEvent||He,Ge=new ke.constructor(ke.type,ke);Object.defineProperty(Ge,"target",{writable:!0,value:{value:Ve,name:o}}),u(Ge,Ae)}n||ne(!1,He)}},J=Ae=>{l||[" ","ArrowUp","ArrowDown","Enter"].indexOf(Ae.key)!==-1&&(Ae.preventDefault(),ne(!0,Ae))},re=N!==null&&L,le=Ae=>{!re&&f&&(Object.defineProperty(Ae,"target",{writable:!0,value:{value:w,name:o}}),f(Ae))};delete E["aria-invalid"];let q,ee;const ue=[];let se=!1;(y1({value:w})||T)&&(p?q=p(w):se=!0);const he=Q.map(Ae=>{if(!Fr.isValidElement(Ae))return null;let He;if(n){if(!Array.isArray(w))throw new Error(Kh(2));He=w.some(Ve=>b4(Ve,Ae.props.value)),He&&se&&ue.push(Ae.props.children)}else He=b4(w,Ae.props.value),He&&se&&(ee=Ae.props.children);return Fr.cloneElement(Ae,{"aria-selected":He?"true":"false",onClick:K(Ae),onKeyUp:Ve=>{Ve.key===" "&&Ve.preventDefault(),Ae.props.onKeyUp&&Ae.props.onKeyUp(Ve)},role:"option",selected:He,value:void 0,"data-value":Ae.props.value})});se&&(n?ue.length===0?q=null:q=ue.reduce((Ae,He,Ve)=>(Ae.push(He),Ve<ue.length-1&&Ae.push(", "),Ae),[]):q=ee);let me=U;!H&&B&&N&&(me=$.clientWidth);let Ce;typeof S<"u"?Ce=S:Ce=C?null:0;const Te=M.id||(o?`mui-component-select-${o}`:void 0),Oe=Qr({},D,{variant:x,value:w,open:re,error:v}),Ne=bF(Oe),Le=Qr({},s.PaperProps,(te=s.slotProps)==null?void 0:te.paper),be=Z1();return Pn.jsxs(Fr.Fragment,{children:[Pn.jsx(gF,Qr({ref:j,tabIndex:Ce,role:"combobox","aria-controls":be,"aria-disabled":C?"true":void 0,"aria-expanded":re?"true":"false","aria-haspopup":"listbox","aria-label":Se,"aria-labelledby":[r,Te].filter(Boolean).join(" ")||void 0,"aria-describedby":ge,onKeyDown:J,onMouseDown:C||l?null:oe,onBlur:le,onFocus:c},M,{ownerState:Oe,className:ni(M.className,Ne.select,g),id:Te,children:xF(q)?x4||(x4=Pn.jsx("span",{className:"notranslate",children:""})):q})),Pn.jsx(mF,Qr({"aria-invalid":v,value:Array.isArray(w)?w.join(","):w,name:o,ref:O,"aria-hidden":!0,onChange:Z,tabIndex:-1,disabled:C,className:Ne.nativeInput,autoFocus:W,ownerState:Oe},E)),Pn.jsx(yF,{as:y,className:Ne.icon,ownerState:Oe}),Pn.jsx(HO,Qr({id:`menu-${o||""}`,anchorEl:$,open:re,onClose:ce,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},s,{MenuListProps:Qr({"aria-labelledby":r,role:"listbox","aria-multiselectable":n?"true":void 0,disableListWrap:!0,id:be},s.MenuListProps),slotProps:Qr({},s.slotProps,{paper:Qr({},Le,{style:Qr({minWidth:me},Le!=null?Le.style:null)})}),children:he}))]})}),TF=wF,AF=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],SF=["root"],MF=d=>{const{classes:D}=d;return D},Fw={name:"MuiSelect",overridesResolver:(d,D)=>D.root,shouldForwardProp:d=>Gu(d)&&d!=="variant",slot:"Root"},EF=Xa(JS,Fw)(""),CF=Xa(iM,Fw)(""),LF=Xa(jS,Fw)(""),oM=Fr.forwardRef(function(D,Y){const te=qi({name:"MuiSelect",props:D}),{autoWidth:ge=!1,children:Se,classes:W={},className:H,defaultOpen:e=!1,displayEmpty:g=!1,IconComponent:R=N_,id:a,input:C,inputProps:T,label:v,labelId:y,MenuProps:t,multiple:r=!1,native:s=!1,onClose:n,onOpen:o,open:f,renderValue:u,SelectDisplayProps:m,variant:c="outlined"}=te,A=Za(te,AF),h=s?nF:TF,l=Sp(),p=Ap({props:te,muiFormControl:l,states:["variant","error"]}),M=p.variant||c,S=Qr({},te,{variant:M,classes:W}),P=MF(S),x=Za(P,SF),E=C||{standard:Pn.jsx(EF,{ownerState:S}),outlined:Pn.jsx(CF,{label:v,ownerState:S}),filled:Pn.jsx(LF,{ownerState:S})}[M],w=ns(Y,E.ref);return Pn.jsx(Fr.Fragment,{children:Fr.cloneElement(E,Qr({inputComponent:h,inputProps:Qr({children:Se,error:p.error,IconComponent:R,variant:M,type:void 0,multiple:r},s?{id:a}:{autoWidth:ge,defaultOpen:e,displayEmpty:g,labelId:y,MenuProps:t,onClose:n,onOpen:o,open:f,renderValue:u,SelectDisplayProps:Qr({id:a},m)},T,{classes:T?kl(x,T.classes):x},C?C.props.inputProps:{})},r&&s&&M==="outlined"?{notched:!0}:{},{ref:w,className:ni(E.props.className,H,P.root)},!C&&{variant:M},A))})});oM.muiName="Select";const sM=oM;function PF(d){return Zi("MuiTooltip",d)}const RF=Fi("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),Bh=RF,DF=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function IF(d){return Math.round(d*1e5)/1e5}const kF=d=>{const{classes:D,disableInteractive:Y,arrow:te,touch:ge,placement:Se}=d,W={popper:["popper",!Y&&"popperInteractive",te&&"popperArrow"],tooltip:["tooltip",te&&"tooltipArrow",ge&&"touch",`tooltipPlacement${qa(Se.split("-")[0])}`],arrow:["arrow"]};return Qi(W,PF,D)},_F=Xa(WS,{name:"MuiTooltip",slot:"Popper",overridesResolver:(d,D)=>{const{ownerState:Y}=d;return[D.popper,!Y.disableInteractive&&D.popperInteractive,Y.arrow&&D.popperArrow,!Y.open&&D.popperClose]}})(({theme:d,ownerState:D,open:Y})=>Qr({zIndex:(d.vars||d).zIndex.tooltip,pointerEvents:"none"},!D.disableInteractive&&{pointerEvents:"auto"},!Y&&{pointerEvents:"none"},D.arrow&&{[`&[data-popper-placement*="bottom"] .${Bh.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${Bh.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${Bh.arrow}`]:Qr({},D.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${Bh.arrow}`]:Qr({},D.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),zF=Xa("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(d,D)=>{const{ownerState:Y}=d;return[D.tooltip,Y.touch&&D.touch,Y.arrow&&D.tooltipArrow,D[`tooltipPlacement${qa(Y.placement.split("-")[0])}`]]}})(({theme:d,ownerState:D})=>Qr({backgroundColor:d.vars?d.vars.palette.Tooltip.bg:Xo(d.palette.grey[700],.92),borderRadius:(d.vars||d).shape.borderRadius,color:(d.vars||d).palette.common.white,fontFamily:d.typography.fontFamily,padding:"4px 8px",fontSize:d.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:d.typography.fontWeightMedium},D.arrow&&{position:"relative",margin:0},D.touch&&{padding:"8px 16px",fontSize:d.typography.pxToRem(14),lineHeight:`${IF(16/14)}em`,fontWeight:d.typography.fontWeightRegular},{[`.${Bh.popper}[data-popper-placement*="left"] &`]:Qr({transformOrigin:"right center"},D.isRtl?Qr({marginLeft:"14px"},D.touch&&{marginLeft:"24px"}):Qr({marginRight:"14px"},D.touch&&{marginRight:"24px"})),[`.${Bh.popper}[data-popper-placement*="right"] &`]:Qr({transformOrigin:"left center"},D.isRtl?Qr({marginRight:"14px"},D.touch&&{marginRight:"24px"}):Qr({marginLeft:"14px"},D.touch&&{marginLeft:"24px"})),[`.${Bh.popper}[data-popper-placement*="top"] &`]:Qr({transformOrigin:"center bottom",marginBottom:"14px"},D.touch&&{marginBottom:"24px"}),[`.${Bh.popper}[data-popper-placement*="bottom"] &`]:Qr({transformOrigin:"center top",marginTop:"14px"},D.touch&&{marginTop:"24px"})})),OF=Xa("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(d,D)=>D.arrow})(({theme:d})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:d.vars?d.vars.palette.Tooltip.bg:Xo(d.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let hy=!1,Ux=null,c0={x:0,y:0};function vy(d,D){return Y=>{D&&D(Y),d(Y)}}const FF=Fr.forwardRef(function(D,Y){var te,ge,Se,W,H,e,g,R,a,C,T,v,y,t,r,s,n,o,f;const u=qi({props:D,name:"MuiTooltip"}),{arrow:m=!1,children:c,components:A={},componentsProps:h={},describeChild:l=!1,disableFocusListener:p=!1,disableHoverListener:M=!1,disableInteractive:S=!1,disableTouchListener:P=!1,enterDelay:x=100,enterNextDelay:E=0,enterTouchDelay:w=700,followCursor:i=!1,id:L,leaveDelay:b=0,leaveTouchDelay:O=1500,onClose:_,onOpen:N,open:z,placement:B="bottom",PopperComponent:U,PopperProps:F={},slotProps:V={},slots:j={},title:$,TransitionComponent:ne=qb,TransitionProps:oe}=u,ce=Za(u,DF),Q=Fr.isValidElement(c)?c:Pn.jsx("span",{children:c}),Z=vg(),K=Z.direction==="rtl",[J,re]=Fr.useState(),[le,q]=Fr.useState(null),ee=Fr.useRef(!1),ue=S||i,se=Fr.useRef(),he=Fr.useRef(),me=Fr.useRef(),Ce=Fr.useRef(),[Te,Oe]=l1({controlled:z,default:!1,name:"Tooltip",state:"open"});let Ne=Te;const Le=Z1(L),be=Fr.useRef(),Ae=Fr.useCallback(()=>{be.current!==void 0&&(document.body.style.WebkitUserSelect=be.current,be.current=void 0),clearTimeout(Ce.current)},[]);Fr.useEffect(()=>()=>{clearTimeout(se.current),clearTimeout(he.current),clearTimeout(me.current),Ae()},[Ae]);const He=ut=>{clearTimeout(Ux),hy=!0,Oe(!0),N&&!Ne&&N(ut)},Ve=Fh(ut=>{clearTimeout(Ux),Ux=setTimeout(()=>{hy=!1},800+b),Oe(!1),_&&Ne&&_(ut),clearTimeout(se.current),se.current=setTimeout(()=>{ee.current=!1},Z.transitions.duration.shortest)}),ke=ut=>{ee.current&&ut.type!=="touchstart"||(J&&J.removeAttribute("title"),clearTimeout(he.current),clearTimeout(me.current),x||hy&&E?he.current=setTimeout(()=>{He(ut)},hy?E:x):He(ut))},Ge=ut=>{clearTimeout(he.current),clearTimeout(me.current),me.current=setTimeout(()=>{Ve(ut)},b)},{isFocusVisibleRef:it,onBlur:et,onFocus:tt,ref:at}=aw(),[,vt]=Fr.useState(!1),yt=ut=>{et(ut),it.current===!1&&(vt(!1),Ge(ut))},gt=ut=>{J||re(ut.currentTarget),tt(ut),it.current===!0&&(vt(!0),ke(ut))},Mt=ut=>{ee.current=!0;const Yt=Q.props;Yt.onTouchStart&&Yt.onTouchStart(ut)},Ct=ke,Vt=Ge,Je=ut=>{Mt(ut),clearTimeout(me.current),clearTimeout(se.current),Ae(),be.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",Ce.current=setTimeout(()=>{document.body.style.WebkitUserSelect=be.current,ke(ut)},w)},ze=ut=>{Q.props.onTouchEnd&&Q.props.onTouchEnd(ut),Ae(),clearTimeout(me.current),me.current=setTimeout(()=>{Ve(ut)},O)};Fr.useEffect(()=>{if(!Ne)return;function ut(Yt){(Yt.key==="Escape"||Yt.key==="Esc")&&Ve(Yt)}return document.addEventListener("keydown",ut),()=>{document.removeEventListener("keydown",ut)}},[Ve,Ne]);const _e=ns(Q.ref,at,re,Y);!$&&$!==0&&(Ne=!1);const Be=Fr.useRef(),De=ut=>{const Yt=Q.props;Yt.onMouseMove&&Yt.onMouseMove(ut),c0={x:ut.clientX,y:ut.clientY},Be.current&&Be.current.update()},we={},xe=typeof $=="string";l?(we.title=!Ne&&xe&&!M?$:null,we["aria-describedby"]=Ne?Le:null):(we["aria-label"]=xe?$:null,we["aria-labelledby"]=Ne&&!xe?Le:null);const Ee=Qr({},we,ce,Q.props,{className:ni(ce.className,Q.props.className),onTouchStart:Mt,ref:_e},i?{onMouseMove:De}:{}),Pe={};P||(Ee.onTouchStart=Je,Ee.onTouchEnd=ze),M||(Ee.onMouseOver=vy(Ct,Ee.onMouseOver),Ee.onMouseLeave=vy(Vt,Ee.onMouseLeave),ue||(Pe.onMouseOver=Ct,Pe.onMouseLeave=Vt)),p||(Ee.onFocus=vy(gt,Ee.onFocus),Ee.onBlur=vy(yt,Ee.onBlur),ue||(Pe.onFocus=gt,Pe.onBlur=yt));const Ue=Fr.useMemo(()=>{var ut;let Yt=[{name:"arrow",enabled:!!le,options:{element:le,padding:4}}];return(ut=F.popperOptions)!=null&&ut.modifiers&&(Yt=Yt.concat(F.popperOptions.modifiers)),Qr({},F.popperOptions,{modifiers:Yt})},[le,F]),$e=Qr({},u,{isRtl:K,arrow:m,disableInteractive:ue,placement:B,PopperComponentProp:U,touch:ee.current}),qe=kF($e),dt=(te=(ge=j.popper)!=null?ge:A.Popper)!=null?te:_F,bt=(Se=(W=(H=j.transition)!=null?H:A.Transition)!=null?W:ne)!=null?Se:qb,Gt=(e=(g=j.tooltip)!=null?g:A.Tooltip)!=null?e:zF,Qt=(R=(a=j.arrow)!=null?a:A.Arrow)!=null?R:OF,At=m0(dt,Qr({},F,(C=V.popper)!=null?C:h.popper,{className:ni(qe.popper,F==null?void 0:F.className,(T=(v=V.popper)!=null?v:h.popper)==null?void 0:T.className)}),$e),zt=m0(bt,Qr({},oe,(y=V.transition)!=null?y:h.transition),$e),$t=m0(Gt,Qr({},(t=V.tooltip)!=null?t:h.tooltip,{className:ni(qe.tooltip,(r=(s=V.tooltip)!=null?s:h.tooltip)==null?void 0:r.className)}),$e),Ar=m0(Qt,Qr({},(n=V.arrow)!=null?n:h.arrow,{className:ni(qe.arrow,(o=(f=V.arrow)!=null?f:h.arrow)==null?void 0:o.className)}),$e);return Pn.jsxs(Fr.Fragment,{children:[Fr.cloneElement(Q,Ee),Pn.jsx(dt,Qr({as:U??WS,placement:B,anchorEl:i?{getBoundingClientRect:()=>({top:c0.y,left:c0.x,right:c0.x,bottom:c0.y,width:0,height:0})}:J,popperRef:Be,open:J?Ne:!1,id:Le,transition:!0},Pe,At,{popperOptions:Ue,children:({TransitionProps:ut})=>Pn.jsx(bt,Qr({timeout:Z.transitions.duration.shorter},ut,zt,{children:Pn.jsxs(Gt,Qr({},$t,{children:[$,m?Pn.jsx(Qt,Qr({},Ar,{ref:q})):null]}))}))}))]})}),BF=FF;function NF(d){return Zi("MuiTextField",d)}Fi("MuiTextField",["root"]);const UF=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],HF={standard:JS,filled:jS,outlined:iM},VF=d=>{const{classes:D}=d;return Qi({root:["root"]},NF,D)},WF=Xa(ZS,{name:"MuiTextField",slot:"Root",overridesResolver:(d,D)=>D.root})({}),GF=Fr.forwardRef(function(D,Y){const te=qi({props:D,name:"MuiTextField"}),{autoComplete:ge,autoFocus:Se=!1,children:W,className:H,color:e="primary",defaultValue:g,disabled:R=!1,error:a=!1,FormHelperTextProps:C,fullWidth:T=!1,helperText:v,id:y,InputLabelProps:t,inputProps:r,InputProps:s,inputRef:n,label:o,maxRows:f,minRows:u,multiline:m=!1,name:c,onBlur:A,onChange:h,onFocus:l,placeholder:p,required:M=!1,rows:S,select:P=!1,SelectProps:x,type:E,value:w,variant:i="outlined"}=te,L=Za(te,UF),b=Qr({},te,{autoFocus:Se,color:e,disabled:R,error:a,fullWidth:T,multiline:m,required:M,select:P,variant:i}),O=VF(b),_={};i==="outlined"&&(t&&typeof t.shrink<"u"&&(_.notched=t.shrink),_.label=o),P&&((!x||!x.native)&&(_.id=void 0),_["aria-describedby"]=void 0);const N=Z1(y),z=v&&N?`${N}-helper-text`:void 0,B=o&&N?`${N}-label`:void 0,U=HF[i],F=Pn.jsx(U,Qr({"aria-describedby":z,autoComplete:ge,autoFocus:Se,defaultValue:g,fullWidth:T,multiline:m,name:c,rows:S,maxRows:f,minRows:u,type:E,value:w,id:N,inputRef:n,onBlur:A,onChange:h,onFocus:l,placeholder:p,inputProps:r},_,s));return Pn.jsxs(WF,Qr({className:ni(O.root,H),disabled:R,error:a,fullWidth:T,ref:Y,required:M,color:e,variant:i,ownerState:b},L,{children:[o!=null&&o!==""&&Pn.jsx(QS,Qr({htmlFor:N,id:B},t,{children:o})),P?Pn.jsx(sM,Qr({"aria-describedby":z,id:N,labelId:B,value:w,input:F},x,{children:W})):F,v&&Pn.jsx(Dz,Qr({id:z},C,{children:v}))]}))}),Oy=GF;var Bw={},lM={exports:{}};(function(d){function D(Y){return Y&&Y.__esModule?Y:{default:Y}}d.exports=D,d.exports.__esModule=!0,d.exports.default=d.exports})(lM);var Mp=lM.exports,Hx={};const YF=k4(UD);var w4;function Ep(){return w4||(w4=1,function(d){"use client";Object.defineProperty(d,"__esModule",{value:!0}),Object.defineProperty(d,"default",{enumerable:!0,get:function(){return D.createSvgIcon}});var D=YF}(Hx)),Hx}var jF=Mp;Object.defineProperty(Bw,"__esModule",{value:!0});var uM=Bw.default=void 0,ZF=jF(Ep()),XF=Pn,KF=(0,ZF.default)((0,XF.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"}),"Help");uM=Bw.default=KF;const $F=["raw_hid","1200","2400","4800","9600","19200","38400","57600","115200","230400","460800","921600"],JF=d=>{const[D,Y]=Fr.useState(d.defaultBaud),te=ge=>{Y(ge.target.value),d.onChange(ge.target.value)};return Pn.jsxs(ZS,{variant:"standard",children:[Pn.jsx(QS,{id:"label",children:"Baudrate"}),Pn.jsx(sM,{labelId:"label",value:D,onChange:te,children:$F.map((ge,Se)=>Pn.jsx(KO,{value:ge,children:ge},Se))})]})};var Nw={},QF=Mp;Object.defineProperty(Nw,"__esModule",{value:!0});var fM=Nw.default=void 0,qF=QF(Ep()),eB=Pn,tB=(0,qF.default)((0,eB.jsx)("path",{d:"M15 7v4h1v2h-3V5h2l-3-4-3 4h2v8H8v-2.07c.7-.37 1.2-1.08 1.2-1.93 0-1.21-.99-2.2-2.2-2.2-1.21 0-2.2.99-2.2 2.2 0 .85.5 1.56 1.2 1.93V13c0 1.11.89 2 2 2h3v3.05c-.71.37-1.2 1.1-1.2 1.95 0 1.22.99 2.2 2.2 2.2 1.21 0 2.2-.98 2.2-2.2 0-.85-.49-1.58-1.2-1.95V15h3c1.11 0 2-.89 2-2v-2h1V7h-4z"}),"Usb");fM=Nw.default=tB;var Uw={},rB=Mp;Object.defineProperty(Uw,"__esModule",{value:!0});var cM=Uw.default=void 0,nB=rB(Ep()),aB=Pn,iB=(0,nB.default)((0,aB.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save");cM=Uw.default=iB;var Hw={},oB=Mp;Object.defineProperty(Hw,"__esModule",{value:!0});var hM=Hw.default=void 0,sB=oB(Ep()),lB=Pn,uB=(0,sB.default)((0,lB.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");hM=Hw.default=uB;const fB=d=>Pn.jsxs(ds,{container:!0,spacing:1,children:[Pn.jsx(ds,{item:!0,xs:3,children:Pn.jsx(JF,{onChange:D=>{d.setBaudrate(D)},defaultBaud:d.baudrate})}),Pn.jsx(ds,{item:!0,xs:3,children:Pn.jsxs(Ox,{variant:"contained",color:"primary",onClick:()=>{d.onConnectClick()},children:[Pn.jsx(fM,{})," ",d.getConnectBtnName()]})}),Pn.jsx(ds,{item:!0,xs:3,children:Pn.jsxs(Ox,{variant:"contained",color:"primary",onClick:()=>{d.onSaveClick()},children:[Pn.jsx(cM,{}),"SAVE"]})}),Pn.jsx(ds,{item:!0,xs:3,children:Pn.jsxs(Ox,{variant:"contained",color:"secondary",onClick:()=>{d.onClearClick()},children:[Pn.jsx(hM,{}),"CLEAR"]})})]}),cB=Xa(BF)(()=>({tooltip:{fontSize:"15px",whiteSpace:"pre-line",maxWidth:"500px"}})),hB=({clearPlotData:d,updatePlotData:D})=>{const[Y,te]=Fr.useState(null),[ge,Se]=Fr.useState("9600"),[W,H]=Fr.useState(!1),e=Fr.useRef(0),g=Fr.useRef(!0),R=Fr.useRef(!0),a=Fr.useRef([]),C=Fr.useRef([]),T=()=>W?"Close":"Open",v=s=>{const n=new TextDecoder().decode(s).replaceAll("\r","");let o=!1,f=a.current.length-1;if(a.current.length!==0&&a.current[f].includes("#E(V), I(uA)")&&(g.current=!1,R.current=!0),a.current.length!==0&&a.current[f].includes("BEGIN")&&R.current&&(e.current++,R.current=!1),a.current.length===0)a.current=[n];else if(n.includes(`
`)){o=!0;const u=n.split(`
`),m=u.length-1;u.forEach((c,A)=>{if((a.current[f].includes("#E(V), I(uA)")||c.includes("#E(V), I(uA)"))&&(g.current=!1),!(A===0&&c==="")&&!(A!==m&&c==="")){if(A===m&&c===""){a.current=[...a.current,""];return}if(A===0){const l=a.current[f]+c;a.current[f]=l;return}if(c[0]==="#"){a.current=[...a.current,c];return}if(c!==""&&g.current){f=a.current.length-1;const l=a.current[f]+c;a.current[f]=l;return}if(c!==""&&!g.current){a.current=[...a.current,c];return}}})}else{const m=a.current[f]+n;a.current[f]=m}if(o&&a.current.length>2&&!a.current[a.current.length-2].includes("#")&&!a.current[f].includes("BEGIN")){const u=a.current[f].split(", ");let m=0,c=0;u.forEach(A=>{const h=A.split(": ");h[0].includes("Voltage")&&(m=parseFloat(h[1])),h[0].includes("Current")&&(c=parseFloat(h[1]))}),C.current.length===0||C.current.length===e.current?(C.current[e.current]={x:[m],y:[c],name:`Measurement nr. ${e.current+1}: Voltage - Current`,type:"scatter",mode:"lines"},D({x:m,y:c},!0)):(C.current[e.current].x.push(m),C.current[e.current].y.push(c),D({x:m,y:c},!1))}},y=async()=>{if(Y!=null&&Y.connected)await Y.close(),te(Y);else{const s=ge==="raw_hid"?new q9:new Q9;te(s),s.setCloseCallback(()=>{H(!1)}),s.setReceiveCallback(n=>{v(n)}),await s.open(()=>{H(!0)},{baudrate:Number(ge)})}},t=()=>{a.current=[],C.current=[],d()},r=()=>{let s=!1;const n=["#","END"],o=["#",","],f=["Current","Voltage"],u=a.current.map(p=>{const M=n.every(x=>p.includes(x)),S=o.every(x=>p.includes(x)),P=f.some(x=>p.includes(x))&&!p.includes("#");if(M&&(s=!1),S)return`"${p}"`;if(P&&!s){s=!0;const x=p.split(", ");let E="",w="";return x.forEach(i=>{const L=i.split(": ");E=E.length===0?L[0]:`${E}, ${L[0]}`,w=w.length===0?L[1]:`${w}, ${L[1]}`}),`${E}
${w}`}if(P&&s){const x=p.split(", ");let E="";return x.forEach(w=>{const i=w.split(": ");E=E.length===0?i[1]:`${E}, ${i[1]}`}),`${E}`}return p}).join(`
`),m=new Date(Date.now()),c=p=>p.toString().padStart(2,"0"),A=`${m.getFullYear()}${c(m.getMonth()+1)}${c(m.getDate())}${c(m.getHours())}${c(m.getMinutes())}${c(m.getSeconds())}.csv`,h=URL.createObjectURL(new Blob([u],{type:"text/csv"})),l=document.createElement("a");l.href=h,l.download=A,document.body.appendChild(l),l.click(),document.body.removeChild(l)};return Pn.jsx("div",{children:Pn.jsxs(ds,{style:{width:"650px"},container:!0,spacing:1,children:[Pn.jsx(ds,{item:!0,xs:10,children:Pn.jsx(fB,{baudrate:ge,getConnectBtnName:T,onClearClick:t,onConnectClick:y,onSaveClick:r,setBaudrate:Se})}),Pn.jsx(ds,{item:!0,xs:1,children:Pn.jsx(cB,{title:`This app plot data received through a serial port.
All plot panels are interactive, resizable, and movable.

Data format:
<label1>:<data1>, <label2>:<data2>, ...
<data1>,<data2>, ...`,children:Pn.jsx(Ew,{children:Pn.jsx(uM,{})})})})]})})};var Mm={exports:{}},vM={};function dM(d){var D,Y,te="";if(typeof d=="string"||typeof d=="number")te+=d;else if(typeof d=="object")if(Array.isArray(d))for(D=0;D<d.length;D++)d[D]&&(Y=dM(d[D]))&&(te&&(te+=" "),te+=Y);else for(D in d)d[D]&&(te&&(te+=" "),te+=D);return te}function T4(){for(var d,D,Y=0,te="";Y<arguments.length;)(d=arguments[Y++])&&(D=dM(d))&&(te&&(te+=" "),te+=D);return te}const vB=Object.freeze(Object.defineProperty({__proto__:null,clsx:T4,default:T4},Symbol.toStringTag,{value:"Module"})),dB=k4(vB);var Ro={},ic={};Object.defineProperty(ic,"__esModule",{value:!0});ic.dontSetMe=xB;ic.findInArray=pB;ic.int=mB;ic.isFunction=gB;ic.isNum=yB;function pB(d,D){for(var Y=0,te=d.length;Y<te;Y++)if(D.apply(D,[d[Y],Y,d]))return d[Y]}function gB(d){return typeof d=="function"||Object.prototype.toString.call(d)==="[object Function]"}function yB(d){return typeof d=="number"&&!isNaN(d)}function mB(d){return parseInt(d,10)}function xB(d,D,Y){if(d[D])return new Error("Invalid prop ".concat(D," passed to ").concat(Y," - do not set this, set it on the child."))}var qv={};Object.defineProperty(qv,"__esModule",{value:!0});qv.browserPrefixToKey=gM;qv.browserPrefixToStyle=bB;qv.default=void 0;qv.getPrefix=pM;var Vx=["Moz","Webkit","O","ms"];function pM(){var d,D,Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";var te=(d=window.document)===null||d===void 0||(D=d.documentElement)===null||D===void 0?void 0:D.style;if(!te||Y in te)return"";for(var ge=0;ge<Vx.length;ge++)if(gM(Y,Vx[ge])in te)return Vx[ge];return""}function gM(d,D){return D?"".concat(D).concat(wB(d)):d}function bB(d,D){return D?"-".concat(D.toLowerCase(),"-").concat(d):d}function wB(d){for(var D="",Y=!0,te=0;te<d.length;te++)Y?(D+=d[te].toUpperCase(),Y=!1):d[te]==="-"?Y=!0:D+=d[te];return D}var TB=pM();qv.default=TB;function t3(d){"@babel/helpers - typeof";return t3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},t3(d)}Object.defineProperty(Ro,"__esModule",{value:!0});Ro.addClassName=wM;Ro.addEvent=MB;Ro.addUserSelectStyles=OB;Ro.createCSSTransform=IB;Ro.createSVGTransform=kB;Ro.getTouch=_B;Ro.getTouchIdentifier=zB;Ro.getTranslation=Vw;Ro.innerHeight=PB;Ro.innerWidth=RB;Ro.matchesSelector=bM;Ro.matchesSelectorAndParentsTo=SB;Ro.offsetXYFromParent=DB;Ro.outerHeight=CB;Ro.outerWidth=LB;Ro.removeClassName=TM;Ro.removeEvent=EB;Ro.removeUserSelectStyles=FB;var au=ic,A4=AB(qv);function yM(d){if(typeof WeakMap!="function")return null;var D=new WeakMap,Y=new WeakMap;return(yM=function(ge){return ge?Y:D})(d)}function AB(d,D){if(!D&&d&&d.__esModule)return d;if(d===null||t3(d)!=="object"&&typeof d!="function")return{default:d};var Y=yM(D);if(Y&&Y.has(d))return Y.get(d);var te={},ge=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Se in d)if(Se!=="default"&&Object.prototype.hasOwnProperty.call(d,Se)){var W=ge?Object.getOwnPropertyDescriptor(d,Se):null;W&&(W.get||W.set)?Object.defineProperty(te,Se,W):te[Se]=d[Se]}return te.default=d,Y&&Y.set(d,te),te}function S4(d,D){var Y=Object.keys(d);if(Object.getOwnPropertySymbols){var te=Object.getOwnPropertySymbols(d);D&&(te=te.filter(function(ge){return Object.getOwnPropertyDescriptor(d,ge).enumerable})),Y.push.apply(Y,te)}return Y}function mM(d){for(var D=1;D<arguments.length;D++){var Y=arguments[D]!=null?arguments[D]:{};D%2?S4(Object(Y),!0).forEach(function(te){xM(d,te,Y[te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(Y)):S4(Object(Y)).forEach(function(te){Object.defineProperty(d,te,Object.getOwnPropertyDescriptor(Y,te))})}return d}function xM(d,D,Y){return D in d?Object.defineProperty(d,D,{value:Y,enumerable:!0,configurable:!0,writable:!0}):d[D]=Y,d}var dy="";function bM(d,D){return dy||(dy=(0,au.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(Y){return(0,au.isFunction)(d[Y])})),(0,au.isFunction)(d[dy])?d[dy](D):!1}function SB(d,D,Y){var te=d;do{if(bM(te,D))return!0;if(te===Y)return!1;te=te.parentNode}while(te);return!1}function MB(d,D,Y,te){if(d){var ge=mM({capture:!0},te);d.addEventListener?d.addEventListener(D,Y,ge):d.attachEvent?d.attachEvent("on"+D,Y):d["on"+D]=Y}}function EB(d,D,Y,te){if(d){var ge=mM({capture:!0},te);d.removeEventListener?d.removeEventListener(D,Y,ge):d.detachEvent?d.detachEvent("on"+D,Y):d["on"+D]=null}}function CB(d){var D=d.clientHeight,Y=d.ownerDocument.defaultView.getComputedStyle(d);return D+=(0,au.int)(Y.borderTopWidth),D+=(0,au.int)(Y.borderBottomWidth),D}function LB(d){var D=d.clientWidth,Y=d.ownerDocument.defaultView.getComputedStyle(d);return D+=(0,au.int)(Y.borderLeftWidth),D+=(0,au.int)(Y.borderRightWidth),D}function PB(d){var D=d.clientHeight,Y=d.ownerDocument.defaultView.getComputedStyle(d);return D-=(0,au.int)(Y.paddingTop),D-=(0,au.int)(Y.paddingBottom),D}function RB(d){var D=d.clientWidth,Y=d.ownerDocument.defaultView.getComputedStyle(d);return D-=(0,au.int)(Y.paddingLeft),D-=(0,au.int)(Y.paddingRight),D}function DB(d,D,Y){var te=D===D.ownerDocument.body,ge=te?{left:0,top:0}:D.getBoundingClientRect(),Se=(d.clientX+D.scrollLeft-ge.left)/Y,W=(d.clientY+D.scrollTop-ge.top)/Y;return{x:Se,y:W}}function IB(d,D){var Y=Vw(d,D,"px");return xM({},(0,A4.browserPrefixToKey)("transform",A4.default),Y)}function kB(d,D){var Y=Vw(d,D,"");return Y}function Vw(d,D,Y){var te=d.x,ge=d.y,Se="translate(".concat(te).concat(Y,",").concat(ge).concat(Y,")");if(D){var W="".concat(typeof D.x=="string"?D.x:D.x+Y),H="".concat(typeof D.y=="string"?D.y:D.y+Y);Se="translate(".concat(W,", ").concat(H,")")+Se}return Se}function _B(d,D){return d.targetTouches&&(0,au.findInArray)(d.targetTouches,function(Y){return D===Y.identifier})||d.changedTouches&&(0,au.findInArray)(d.changedTouches,function(Y){return D===Y.identifier})}function zB(d){if(d.targetTouches&&d.targetTouches[0])return d.targetTouches[0].identifier;if(d.changedTouches&&d.changedTouches[0])return d.changedTouches[0].identifier}function OB(d){if(d){var D=d.getElementById("react-draggable-style-el");D||(D=d.createElement("style"),D.type="text/css",D.id="react-draggable-style-el",D.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,D.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,d.getElementsByTagName("head")[0].appendChild(D)),d.body&&wM(d.body,"react-draggable-transparent-selection")}}function FB(d){if(d)try{if(d.body&&TM(d.body,"react-draggable-transparent-selection"),d.selection)d.selection.empty();else{var D=(d.defaultView||window).getSelection();D&&D.type!=="Caret"&&D.removeAllRanges()}}catch{}}function wM(d,D){d.classList?d.classList.add(D):d.className.match(new RegExp("(?:^|\\s)".concat(D,"(?!\\S)")))||(d.className+=" ".concat(D))}function TM(d,D){d.classList?d.classList.remove(D):d.className=d.className.replace(new RegExp("(?:^|\\s)".concat(D,"(?!\\S)"),"g"),"")}var oc={};Object.defineProperty(oc,"__esModule",{value:!0});oc.canDragX=UB;oc.canDragY=HB;oc.createCoreData=WB;oc.createDraggableData=GB;oc.getBoundPosition=BB;oc.getControlPosition=VB;oc.snapToGrid=NB;var Ql=ic,Xd=Ro;function BB(d,D,Y){if(!d.props.bounds)return[D,Y];var te=d.props.bounds;te=typeof te=="string"?te:YB(te);var ge=Ww(d);if(typeof te=="string"){var Se=ge.ownerDocument,W=Se.defaultView,H;if(te==="parent"?H=ge.parentNode:H=Se.querySelector(te),!(H instanceof W.HTMLElement))throw new Error('Bounds selector "'+te+'" could not find an element.');var e=H,g=W.getComputedStyle(ge),R=W.getComputedStyle(e);te={left:-ge.offsetLeft+(0,Ql.int)(R.paddingLeft)+(0,Ql.int)(g.marginLeft),top:-ge.offsetTop+(0,Ql.int)(R.paddingTop)+(0,Ql.int)(g.marginTop),right:(0,Xd.innerWidth)(e)-(0,Xd.outerWidth)(ge)-ge.offsetLeft+(0,Ql.int)(R.paddingRight)-(0,Ql.int)(g.marginRight),bottom:(0,Xd.innerHeight)(e)-(0,Xd.outerHeight)(ge)-ge.offsetTop+(0,Ql.int)(R.paddingBottom)-(0,Ql.int)(g.marginBottom)}}return(0,Ql.isNum)(te.right)&&(D=Math.min(D,te.right)),(0,Ql.isNum)(te.bottom)&&(Y=Math.min(Y,te.bottom)),(0,Ql.isNum)(te.left)&&(D=Math.max(D,te.left)),(0,Ql.isNum)(te.top)&&(Y=Math.max(Y,te.top)),[D,Y]}function NB(d,D,Y){var te=Math.round(D/d[0])*d[0],ge=Math.round(Y/d[1])*d[1];return[te,ge]}function UB(d){return d.props.axis==="both"||d.props.axis==="x"}function HB(d){return d.props.axis==="both"||d.props.axis==="y"}function VB(d,D,Y){var te=typeof D=="number"?(0,Xd.getTouch)(d,D):null;if(typeof D=="number"&&!te)return null;var ge=Ww(Y),Se=Y.props.offsetParent||ge.offsetParent||ge.ownerDocument.body;return(0,Xd.offsetXYFromParent)(te||d,Se,Y.props.scale)}function WB(d,D,Y){var te=d.state,ge=!(0,Ql.isNum)(te.lastX),Se=Ww(d);return ge?{node:Se,deltaX:0,deltaY:0,lastX:D,lastY:Y,x:D,y:Y}:{node:Se,deltaX:D-te.lastX,deltaY:Y-te.lastY,lastX:te.lastX,lastY:te.lastY,x:D,y:Y}}function GB(d,D){var Y=d.props.scale;return{node:D.node,x:d.state.x+D.deltaX/Y,y:d.state.y+D.deltaY/Y,deltaX:D.deltaX/Y,deltaY:D.deltaY/Y,lastX:d.state.x,lastY:d.state.y}}function YB(d){return{left:d.left,top:d.top,right:d.right,bottom:d.bottom}}function Ww(d){var D=d.findDOMNode();if(!D)throw new Error("<DraggableCore>: Unmounted during event!");return D}var Em={},Cm={};Object.defineProperty(Cm,"__esModule",{value:!0});Cm.default=jB;function jB(){}function m1(d){"@babel/helpers - typeof";return m1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},m1(d)}Object.defineProperty(Em,"__esModule",{value:!0});Em.default=void 0;var Wx=XB(Fr),Jl=Gw(ew),ZB=Gw(wp),Ys=Ro,Ph=oc,Gx=ic,h0=Gw(Cm);function Gw(d){return d&&d.__esModule?d:{default:d}}function AM(d){if(typeof WeakMap!="function")return null;var D=new WeakMap,Y=new WeakMap;return(AM=function(ge){return ge?Y:D})(d)}function XB(d,D){if(!D&&d&&d.__esModule)return d;if(d===null||m1(d)!=="object"&&typeof d!="function")return{default:d};var Y=AM(D);if(Y&&Y.has(d))return Y.get(d);var te={},ge=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Se in d)if(Se!=="default"&&Object.prototype.hasOwnProperty.call(d,Se)){var W=ge?Object.getOwnPropertyDescriptor(d,Se):null;W&&(W.get||W.set)?Object.defineProperty(te,Se,W):te[Se]=d[Se]}return te.default=d,Y&&Y.set(d,te),te}function M4(d,D){return QB(d)||JB(d,D)||$B(d,D)||KB()}function KB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $B(d,D){if(d){if(typeof d=="string")return E4(d,D);var Y=Object.prototype.toString.call(d).slice(8,-1);if(Y==="Object"&&d.constructor&&(Y=d.constructor.name),Y==="Map"||Y==="Set")return Array.from(d);if(Y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Y))return E4(d,D)}}function E4(d,D){(D==null||D>d.length)&&(D=d.length);for(var Y=0,te=new Array(D);Y<D;Y++)te[Y]=d[Y];return te}function JB(d,D){var Y=d==null?null:typeof Symbol<"u"&&d[Symbol.iterator]||d["@@iterator"];if(Y!=null){var te=[],ge=!0,Se=!1,W,H;try{for(Y=Y.call(d);!(ge=(W=Y.next()).done)&&(te.push(W.value),!(D&&te.length===D));ge=!0);}catch(e){Se=!0,H=e}finally{try{!ge&&Y.return!=null&&Y.return()}finally{if(Se)throw H}}return te}}function QB(d){if(Array.isArray(d))return d}function qB(d,D){if(!(d instanceof D))throw new TypeError("Cannot call a class as a function")}function C4(d,D){for(var Y=0;Y<D.length;Y++){var te=D[Y];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(d,te.key,te)}}function eN(d,D,Y){return D&&C4(d.prototype,D),Y&&C4(d,Y),Object.defineProperty(d,"prototype",{writable:!1}),d}function tN(d,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(D&&D.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),Object.defineProperty(d,"prototype",{writable:!1}),D&&r3(d,D)}function r3(d,D){return r3=Object.setPrototypeOf||function(te,ge){return te.__proto__=ge,te},r3(d,D)}function rN(d){var D=aN();return function(){var te=x1(d),ge;if(D){var Se=x1(this).constructor;ge=Reflect.construct(te,arguments,Se)}else ge=te.apply(this,arguments);return nN(this,ge)}}function nN(d,D){if(D&&(m1(D)==="object"||typeof D=="function"))return D;if(D!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zs(d)}function Zs(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}function aN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function x1(d){return x1=Object.setPrototypeOf?Object.getPrototypeOf:function(Y){return Y.__proto__||Object.getPrototypeOf(Y)},x1(d)}function Pu(d,D,Y){return D in d?Object.defineProperty(d,D,{value:Y,enumerable:!0,configurable:!0,writable:!0}):d[D]=Y,d}var gf={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},Rh=gf.mouse,Lm=function(d){tN(Y,d);var D=rN(Y);function Y(){var te;qB(this,Y);for(var ge=arguments.length,Se=new Array(ge),W=0;W<ge;W++)Se[W]=arguments[W];return te=D.call.apply(D,[this].concat(Se)),Pu(Zs(te),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),Pu(Zs(te),"mounted",!1),Pu(Zs(te),"handleDragStart",function(H){if(te.props.onMouseDown(H),!te.props.allowAnyClick&&typeof H.button=="number"&&H.button!==0)return!1;var e=te.findDOMNode();if(!e||!e.ownerDocument||!e.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var g=e.ownerDocument;if(!(te.props.disabled||!(H.target instanceof g.defaultView.Node)||te.props.handle&&!(0,Ys.matchesSelectorAndParentsTo)(H.target,te.props.handle,e)||te.props.cancel&&(0,Ys.matchesSelectorAndParentsTo)(H.target,te.props.cancel,e))){H.type==="touchstart"&&H.preventDefault();var R=(0,Ys.getTouchIdentifier)(H);te.setState({touchIdentifier:R});var a=(0,Ph.getControlPosition)(H,R,Zs(te));if(a!=null){var C=a.x,T=a.y,v=(0,Ph.createCoreData)(Zs(te),C,T);(0,h0.default)("DraggableCore: handleDragStart: %j",v),(0,h0.default)("calling",te.props.onStart);var y=te.props.onStart(H,v);y===!1||te.mounted===!1||(te.props.enableUserSelectHack&&(0,Ys.addUserSelectStyles)(g),te.setState({dragging:!0,lastX:C,lastY:T}),(0,Ys.addEvent)(g,Rh.move,te.handleDrag),(0,Ys.addEvent)(g,Rh.stop,te.handleDragStop))}}}),Pu(Zs(te),"handleDrag",function(H){var e=(0,Ph.getControlPosition)(H,te.state.touchIdentifier,Zs(te));if(e!=null){var g=e.x,R=e.y;if(Array.isArray(te.props.grid)){var a=g-te.state.lastX,C=R-te.state.lastY,T=(0,Ph.snapToGrid)(te.props.grid,a,C),v=M4(T,2);if(a=v[0],C=v[1],!a&&!C)return;g=te.state.lastX+a,R=te.state.lastY+C}var y=(0,Ph.createCoreData)(Zs(te),g,R);(0,h0.default)("DraggableCore: handleDrag: %j",y);var t=te.props.onDrag(H,y);if(t===!1||te.mounted===!1){try{te.handleDragStop(new MouseEvent("mouseup"))}catch{var r=document.createEvent("MouseEvents");r.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),te.handleDragStop(r)}return}te.setState({lastX:g,lastY:R})}}),Pu(Zs(te),"handleDragStop",function(H){if(te.state.dragging){var e=(0,Ph.getControlPosition)(H,te.state.touchIdentifier,Zs(te));if(e!=null){var g=e.x,R=e.y;if(Array.isArray(te.props.grid)){var a=g-te.state.lastX||0,C=R-te.state.lastY||0,T=(0,Ph.snapToGrid)(te.props.grid,a,C),v=M4(T,2);a=v[0],C=v[1],g=te.state.lastX+a,R=te.state.lastY+C}var y=(0,Ph.createCoreData)(Zs(te),g,R),t=te.props.onStop(H,y);if(t===!1||te.mounted===!1)return!1;var r=te.findDOMNode();r&&te.props.enableUserSelectHack&&(0,Ys.removeUserSelectStyles)(r.ownerDocument),(0,h0.default)("DraggableCore: handleDragStop: %j",y),te.setState({dragging:!1,lastX:NaN,lastY:NaN}),r&&((0,h0.default)("DraggableCore: Removing handlers"),(0,Ys.removeEvent)(r.ownerDocument,Rh.move,te.handleDrag),(0,Ys.removeEvent)(r.ownerDocument,Rh.stop,te.handleDragStop))}}}),Pu(Zs(te),"onMouseDown",function(H){return Rh=gf.mouse,te.handleDragStart(H)}),Pu(Zs(te),"onMouseUp",function(H){return Rh=gf.mouse,te.handleDragStop(H)}),Pu(Zs(te),"onTouchStart",function(H){return Rh=gf.touch,te.handleDragStart(H)}),Pu(Zs(te),"onTouchEnd",function(H){return Rh=gf.touch,te.handleDragStop(H)}),te}return eN(Y,[{key:"componentDidMount",value:function(){this.mounted=!0;var ge=this.findDOMNode();ge&&(0,Ys.addEvent)(ge,gf.touch.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var ge=this.findDOMNode();if(ge){var Se=ge.ownerDocument;(0,Ys.removeEvent)(Se,gf.mouse.move,this.handleDrag),(0,Ys.removeEvent)(Se,gf.touch.move,this.handleDrag),(0,Ys.removeEvent)(Se,gf.mouse.stop,this.handleDragStop),(0,Ys.removeEvent)(Se,gf.touch.stop,this.handleDragStop),(0,Ys.removeEvent)(ge,gf.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,Ys.removeUserSelectStyles)(Se)}}},{key:"findDOMNode",value:function(){var ge,Se,W;return(ge=this.props)!==null&&ge!==void 0&&ge.nodeRef?(Se=this.props)===null||Se===void 0||(W=Se.nodeRef)===null||W===void 0?void 0:W.current:ZB.default.findDOMNode(this)}},{key:"render",value:function(){return Wx.cloneElement(Wx.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),Y}(Wx.Component);Em.default=Lm;Pu(Lm,"displayName","DraggableCore");Pu(Lm,"propTypes",{allowAnyClick:Jl.default.bool,disabled:Jl.default.bool,enableUserSelectHack:Jl.default.bool,offsetParent:function(D,Y){if(D[Y]&&D[Y].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:Jl.default.arrayOf(Jl.default.number),handle:Jl.default.string,cancel:Jl.default.string,nodeRef:Jl.default.object,onStart:Jl.default.func,onDrag:Jl.default.func,onStop:Jl.default.func,onMouseDown:Jl.default.func,scale:Jl.default.number,className:Gx.dontSetMe,style:Gx.dontSetMe,transform:Gx.dontSetMe});Pu(Lm,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(d){function D(O){"@babel/helpers - typeof";return D=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},D(O)}Object.defineProperty(d,"__esModule",{value:!0}),Object.defineProperty(d,"DraggableCore",{enumerable:!0,get:function(){return g.default}}),d.default=void 0;var Y=v(Fr),te=C(ew),ge=C(wp),Se=C(dB),W=Ro,H=oc,e=ic,g=C(Em),R=C(Cm),a=["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"];function C(O){return O&&O.__esModule?O:{default:O}}function T(O){if(typeof WeakMap!="function")return null;var _=new WeakMap,N=new WeakMap;return(T=function(B){return B?N:_})(O)}function v(O,_){if(!_&&O&&O.__esModule)return O;if(O===null||D(O)!=="object"&&typeof O!="function")return{default:O};var N=T(_);if(N&&N.has(O))return N.get(O);var z={},B=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var U in O)if(U!=="default"&&Object.prototype.hasOwnProperty.call(O,U)){var F=B?Object.getOwnPropertyDescriptor(O,U):null;F&&(F.get||F.set)?Object.defineProperty(z,U,F):z[U]=O[U]}return z.default=O,N&&N.set(O,z),z}function y(){return y=Object.assign||function(O){for(var _=1;_<arguments.length;_++){var N=arguments[_];for(var z in N)Object.prototype.hasOwnProperty.call(N,z)&&(O[z]=N[z])}return O},y.apply(this,arguments)}function t(O,_){if(O==null)return{};var N=r(O,_),z,B;if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(O);for(B=0;B<U.length;B++)z=U[B],!(_.indexOf(z)>=0)&&Object.prototype.propertyIsEnumerable.call(O,z)&&(N[z]=O[z])}return N}function r(O,_){if(O==null)return{};var N={},z=Object.keys(O),B,U;for(U=0;U<z.length;U++)B=z[U],!(_.indexOf(B)>=0)&&(N[B]=O[B]);return N}function s(O,_){var N=Object.keys(O);if(Object.getOwnPropertySymbols){var z=Object.getOwnPropertySymbols(O);_&&(z=z.filter(function(B){return Object.getOwnPropertyDescriptor(O,B).enumerable})),N.push.apply(N,z)}return N}function n(O){for(var _=1;_<arguments.length;_++){var N=arguments[_]!=null?arguments[_]:{};_%2?s(Object(N),!0).forEach(function(z){L(O,z,N[z])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(N)):s(Object(N)).forEach(function(z){Object.defineProperty(O,z,Object.getOwnPropertyDescriptor(N,z))})}return O}function o(O,_){return A(O)||c(O,_)||u(O,_)||f()}function f(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u(O,_){if(O){if(typeof O=="string")return m(O,_);var N=Object.prototype.toString.call(O).slice(8,-1);if(N==="Object"&&O.constructor&&(N=O.constructor.name),N==="Map"||N==="Set")return Array.from(O);if(N==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(N))return m(O,_)}}function m(O,_){(_==null||_>O.length)&&(_=O.length);for(var N=0,z=new Array(_);N<_;N++)z[N]=O[N];return z}function c(O,_){var N=O==null?null:typeof Symbol<"u"&&O[Symbol.iterator]||O["@@iterator"];if(N!=null){var z=[],B=!0,U=!1,F,V;try{for(N=N.call(O);!(B=(F=N.next()).done)&&(z.push(F.value),!(_&&z.length===_));B=!0);}catch(j){U=!0,V=j}finally{try{!B&&N.return!=null&&N.return()}finally{if(U)throw V}}return z}}function A(O){if(Array.isArray(O))return O}function h(O,_){if(!(O instanceof _))throw new TypeError("Cannot call a class as a function")}function l(O,_){for(var N=0;N<_.length;N++){var z=_[N];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(O,z.key,z)}}function p(O,_,N){return _&&l(O.prototype,_),N&&l(O,N),Object.defineProperty(O,"prototype",{writable:!1}),O}function M(O,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(_&&_.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),_&&S(O,_)}function S(O,_){return S=Object.setPrototypeOf||function(z,B){return z.__proto__=B,z},S(O,_)}function P(O){var _=w();return function(){var z=i(O),B;if(_){var U=i(this).constructor;B=Reflect.construct(z,arguments,U)}else B=z.apply(this,arguments);return x(this,B)}}function x(O,_){if(_&&(D(_)==="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return E(O)}function E(O){if(O===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}function w(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function i(O){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(N){return N.__proto__||Object.getPrototypeOf(N)},i(O)}function L(O,_,N){return _ in O?Object.defineProperty(O,_,{value:N,enumerable:!0,configurable:!0,writable:!0}):O[_]=N,O}var b=function(O){M(N,O);var _=P(N);function N(z){var B;return h(this,N),B=_.call(this,z),L(E(B),"onDragStart",function(U,F){(0,R.default)("Draggable: onDragStart: %j",F);var V=B.props.onStart(U,(0,H.createDraggableData)(E(B),F));if(V===!1)return!1;B.setState({dragging:!0,dragged:!0})}),L(E(B),"onDrag",function(U,F){if(!B.state.dragging)return!1;(0,R.default)("Draggable: onDrag: %j",F);var V=(0,H.createDraggableData)(E(B),F),j={x:V.x,y:V.y};if(B.props.bounds){var $=j.x,ne=j.y;j.x+=B.state.slackX,j.y+=B.state.slackY;var oe=(0,H.getBoundPosition)(E(B),j.x,j.y),ce=o(oe,2),Q=ce[0],Z=ce[1];j.x=Q,j.y=Z,j.slackX=B.state.slackX+($-j.x),j.slackY=B.state.slackY+(ne-j.y),V.x=j.x,V.y=j.y,V.deltaX=j.x-B.state.x,V.deltaY=j.y-B.state.y}var K=B.props.onDrag(U,V);if(K===!1)return!1;B.setState(j)}),L(E(B),"onDragStop",function(U,F){if(!B.state.dragging)return!1;var V=B.props.onStop(U,(0,H.createDraggableData)(E(B),F));if(V===!1)return!1;(0,R.default)("Draggable: onDragStop: %j",F);var j={dragging:!1,slackX:0,slackY:0},$=!!B.props.position;if($){var ne=B.props.position,oe=ne.x,ce=ne.y;j.x=oe,j.y=ce}B.setState(j)}),B.state={dragging:!1,dragged:!1,x:z.position?z.position.x:z.defaultPosition.x,y:z.position?z.position.y:z.defaultPosition.y,prevPropsPosition:n({},z.position),slackX:0,slackY:0,isElementSVG:!1},z.position&&!(z.onDrag||z.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),B}return p(N,[{key:"componentDidMount",value:function(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){var B,U,F;return(B=(U=this.props)===null||U===void 0||(F=U.nodeRef)===null||F===void 0?void 0:F.current)!==null&&B!==void 0?B:ge.default.findDOMNode(this)}},{key:"render",value:function(){var B,U=this.props;U.axis,U.bounds;var F=U.children,V=U.defaultPosition,j=U.defaultClassName,$=U.defaultClassNameDragging,ne=U.defaultClassNameDragged,oe=U.position,ce=U.positionOffset;U.scale;var Q=t(U,a),Z={},K=null,J=!!oe,re=!J||this.state.dragging,le=oe||V,q={x:(0,H.canDragX)(this)&&re?this.state.x:le.x,y:(0,H.canDragY)(this)&&re?this.state.y:le.y};this.state.isElementSVG?K=(0,W.createSVGTransform)(q,ce):Z=(0,W.createCSSTransform)(q,ce);var ee=(0,Se.default)(F.props.className||"",j,(B={},L(B,$,this.state.dragging),L(B,ne,this.state.dragged),B));return Y.createElement(g.default,y({},Q,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),Y.cloneElement(Y.Children.only(F),{className:ee,style:n(n({},F.props.style),Z),transform:K}))}}],[{key:"getDerivedStateFromProps",value:function(B,U){var F=B.position,V=U.prevPropsPosition;return F&&(!V||F.x!==V.x||F.y!==V.y)?((0,R.default)("Draggable: getDerivedStateFromProps %j",{position:F,prevPropsPosition:V}),{x:F.x,y:F.y,prevPropsPosition:n({},F)}):null}}]),N}(Y.Component);d.default=b,L(b,"displayName","Draggable"),L(b,"propTypes",n(n({},g.default.propTypes),{},{axis:te.default.oneOf(["both","x","y","none"]),bounds:te.default.oneOfType([te.default.shape({left:te.default.number,right:te.default.number,top:te.default.number,bottom:te.default.number}),te.default.string,te.default.oneOf([!1])]),defaultClassName:te.default.string,defaultClassNameDragging:te.default.string,defaultClassNameDragged:te.default.string,defaultPosition:te.default.shape({x:te.default.number,y:te.default.number}),positionOffset:te.default.shape({x:te.default.oneOfType([te.default.number,te.default.string]),y:te.default.oneOfType([te.default.number,te.default.string])}),position:te.default.shape({x:te.default.number,y:te.default.number}),className:e.dontSetMe,style:e.dontSetMe,transform:e.dontSetMe})),L(b,"defaultProps",n(n({},g.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1}))})(vM);var SM=vM,MM=SM.default,iN=SM.DraggableCore;Mm.exports=MM;Mm.exports.default=MM;Mm.exports.DraggableCore=iN;var oN=Mm.exports;const sN=ag(oN);var lN=function(){var d=function(D,Y){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(te,ge){te.__proto__=ge}||function(te,ge){for(var Se in ge)Object.prototype.hasOwnProperty.call(ge,Se)&&(te[Se]=ge[Se])},d(D,Y)};return function(D,Y){d(D,Y);function te(){this.constructor=D}D.prototype=Y===null?Object.create(Y):(te.prototype=Y.prototype,new te)}}(),b1=function(){return b1=Object.assign||function(d){for(var D,Y=1,te=arguments.length;Y<te;Y++){D=arguments[Y];for(var ge in D)Object.prototype.hasOwnProperty.call(D,ge)&&(d[ge]=D[ge])}return d},b1.apply(this,arguments)},uN={top:{width:"100%",height:"10px",top:"-5px",left:"0px",cursor:"row-resize"},right:{width:"10px",height:"100%",top:"0px",right:"-5px",cursor:"col-resize"},bottom:{width:"100%",height:"10px",bottom:"-5px",left:"0px",cursor:"row-resize"},left:{width:"10px",height:"100%",top:"0px",left:"-5px",cursor:"col-resize"},topRight:{width:"20px",height:"20px",position:"absolute",right:"-10px",top:"-10px",cursor:"ne-resize"},bottomRight:{width:"20px",height:"20px",position:"absolute",right:"-10px",bottom:"-10px",cursor:"se-resize"},bottomLeft:{width:"20px",height:"20px",position:"absolute",left:"-10px",bottom:"-10px",cursor:"sw-resize"},topLeft:{width:"20px",height:"20px",position:"absolute",left:"-10px",top:"-10px",cursor:"nw-resize"}},fN=function(d){lN(D,d);function D(){var Y=d!==null&&d.apply(this,arguments)||this;return Y.onMouseDown=function(te){Y.props.onResizeStart(te,Y.props.direction)},Y.onTouchStart=function(te){Y.props.onResizeStart(te,Y.props.direction)},Y}return D.prototype.render=function(){return Fr.createElement("div",{className:this.props.className||"",style:b1(b1({position:"absolute",userSelect:"none"},uN[this.props.direction]),this.props.replaceStyles||{}),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart},this.props.children)},D}(Fr.PureComponent),Yw={exports:{}};function cN(d,D){var Y=D&&D.cache?D.cache:yN,te=D&&D.serializer?D.serializer:gN,ge=D&&D.strategy?D.strategy:vN;return ge(d,{cache:Y,serializer:te})}function hN(d){return d==null||typeof d=="number"||typeof d=="boolean"}function EM(d,D,Y,te){var ge=hN(te)?te:Y(te),Se=D.get(ge);return typeof Se>"u"&&(Se=d.call(this,te),D.set(ge,Se)),Se}function CM(d,D,Y){var te=Array.prototype.slice.call(arguments,3),ge=Y(te),Se=D.get(ge);return typeof Se>"u"&&(Se=d.apply(this,te),D.set(ge,Se)),Se}function jw(d,D,Y,te,ge){return Y.bind(D,d,te,ge)}function vN(d,D){var Y=d.length===1?EM:CM;return jw(d,this,Y,D.cache.create(),D.serializer)}function dN(d,D){var Y=CM;return jw(d,this,Y,D.cache.create(),D.serializer)}function pN(d,D){var Y=EM;return jw(d,this,Y,D.cache.create(),D.serializer)}function gN(){return JSON.stringify(arguments)}function Pm(){this.cache=Object.create(null)}Pm.prototype.has=function(d){return d in this.cache};Pm.prototype.get=function(d){return this.cache[d]};Pm.prototype.set=function(d,D){this.cache[d]=D};var yN={create:function(){return new Pm}};Yw.exports=cN;Yw.exports.strategies={variadic:dN,monadic:pN};var mN=Yw.exports;const ed=ag(mN);var xN=function(){var d=function(D,Y){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(te,ge){te.__proto__=ge}||function(te,ge){for(var Se in ge)Object.prototype.hasOwnProperty.call(ge,Se)&&(te[Se]=ge[Se])},d(D,Y)};return function(D,Y){d(D,Y);function te(){this.constructor=D}D.prototype=Y===null?Object.create(Y):(te.prototype=Y.prototype,new te)}}(),Kf=function(){return Kf=Object.assign||function(d){for(var D,Y=1,te=arguments.length;Y<te;Y++){D=arguments[Y];for(var ge in D)Object.prototype.hasOwnProperty.call(D,ge)&&(d[ge]=D[ge])}return d},Kf.apply(this,arguments)},bN={width:"auto",height:"auto"},py=ed(function(d,D,Y){return Math.max(Math.min(d,Y),D)}),L4=ed(function(d,D){return Math.round(d/D)*D}),_d=ed(function(d,D){return new RegExp(d,"i").test(D)}),gy=function(d){return!!(d.touches&&d.touches.length)},wN=function(d){return!!((d.clientX||d.clientX===0)&&(d.clientY||d.clientY===0))},P4=ed(function(d,D,Y){Y===void 0&&(Y=0);var te=D.reduce(function(Se,W,H){return Math.abs(W-d)<Math.abs(D[Se]-d)?H:Se},0),ge=Math.abs(D[te]-d);return Y===0||ge<Y?D[te]:d}),vs=ed(function(d,D){return d.substr(d.length-D.length,D.length)===D}),Yx=ed(function(d){return d=d.toString(),d==="auto"||vs(d,"px")||vs(d,"%")||vs(d,"vh")||vs(d,"vw")||vs(d,"vmax")||vs(d,"vmin")?d:d+"px"}),yy=function(d,D,Y,te){if(d&&typeof d=="string"){if(vs(d,"px"))return Number(d.replace("px",""));if(vs(d,"%")){var ge=Number(d.replace("%",""))/100;return D*ge}if(vs(d,"vw")){var ge=Number(d.replace("vw",""))/100;return Y*ge}if(vs(d,"vh")){var ge=Number(d.replace("vh",""))/100;return te*ge}}return d},TN=ed(function(d,D,Y,te,ge,Se,W){return te=yy(te,d.width,D,Y),ge=yy(ge,d.height,D,Y),Se=yy(Se,d.width,D,Y),W=yy(W,d.height,D,Y),{maxWidth:typeof te>"u"?void 0:Number(te),maxHeight:typeof ge>"u"?void 0:Number(ge),minWidth:typeof Se>"u"?void 0:Number(Se),minHeight:typeof W>"u"?void 0:Number(W)}}),AN=["as","style","className","grid","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],R4="__resizable_base__",SN=function(d){xN(D,d);function D(Y){var te=d.call(this,Y)||this;return te.ratio=1,te.resizable=null,te.parentLeft=0,te.parentTop=0,te.resizableLeft=0,te.resizableRight=0,te.resizableTop=0,te.resizableBottom=0,te.targetLeft=0,te.targetTop=0,te.appendBase=function(){if(!te.resizable||!te.window)return null;var ge=te.parentNode;if(!ge)return null;var Se=te.window.document.createElement("div");return Se.style.width="100%",Se.style.height="100%",Se.style.position="absolute",Se.style.transform="scale(0, 0)",Se.style.left="0",Se.style.flex="0 0 100%",Se.classList?Se.classList.add(R4):Se.className+=R4,ge.appendChild(Se),Se},te.removeBase=function(ge){var Se=te.parentNode;Se&&Se.removeChild(ge)},te.ref=function(ge){ge&&(te.resizable=ge)},te.state={isResizing:!1,width:typeof(te.propsSize&&te.propsSize.width)>"u"?"auto":te.propsSize&&te.propsSize.width,height:typeof(te.propsSize&&te.propsSize.height)>"u"?"auto":te.propsSize&&te.propsSize.height,direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},te.onResizeStart=te.onResizeStart.bind(te),te.onMouseMove=te.onMouseMove.bind(te),te.onMouseUp=te.onMouseUp.bind(te),te}return Object.defineProperty(D.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"window",{get:function(){return!this.resizable||!this.resizable.ownerDocument?null:this.resizable.ownerDocument.defaultView},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||bN},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"size",{get:function(){var Y=0,te=0;if(this.resizable&&this.window){var ge=this.resizable.offsetWidth,Se=this.resizable.offsetHeight,W=this.resizable.style.position;W!=="relative"&&(this.resizable.style.position="relative"),Y=this.resizable.style.width!=="auto"?this.resizable.offsetWidth:ge,te=this.resizable.style.height!=="auto"?this.resizable.offsetHeight:Se,this.resizable.style.position=W}return{width:Y,height:te}},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"sizeStyle",{get:function(){var Y=this,te=this.props.size,ge=function(H){if(typeof Y.state[H]>"u"||Y.state[H]==="auto")return"auto";if(Y.propsSize&&Y.propsSize[H]&&vs(Y.propsSize[H].toString(),"%")){if(vs(Y.state[H].toString(),"%"))return Y.state[H].toString();var e=Y.getParentSize(),g=Number(Y.state[H].toString().replace("px","")),R=g/e[H]*100;return R+"%"}return Yx(Y.state[H])},Se=te&&typeof te.width<"u"&&!this.state.isResizing?Yx(te.width):ge("width"),W=te&&typeof te.height<"u"&&!this.state.isResizing?Yx(te.height):ge("height");return{width:Se,height:W}},enumerable:!1,configurable:!0}),D.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var Y=this.appendBase();if(!Y)return{width:0,height:0};var te=!1,ge=this.parentNode.style.flexWrap;ge!=="wrap"&&(te=!0,this.parentNode.style.flexWrap="wrap"),Y.style.position="relative",Y.style.minWidth="100%",Y.style.minHeight="100%";var Se={width:Y.offsetWidth,height:Y.offsetHeight};return te&&(this.parentNode.style.flexWrap=ge),this.removeBase(Y),Se},D.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},D.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},D.prototype.componentDidMount=function(){if(!(!this.resizable||!this.window)){var Y=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:Y.flexBasis!=="auto"?Y.flexBasis:void 0})}},D.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},D.prototype.createSizeForCssProperty=function(Y,te){var ge=this.propsSize&&this.propsSize[te];return this.state[te]==="auto"&&this.state.original[te]===Y&&(typeof ge>"u"||ge==="auto")?"auto":Y},D.prototype.calculateNewMaxFromBoundary=function(Y,te){var ge=this.props.boundsByDirection,Se=this.state.direction,W=ge&&_d("left",Se),H=ge&&_d("top",Se),e,g;if(this.props.bounds==="parent"){var R=this.parentNode;R&&(e=W?this.resizableRight-this.parentLeft:R.offsetWidth+(this.parentLeft-this.resizableLeft),g=H?this.resizableBottom-this.parentTop:R.offsetHeight+(this.parentTop-this.resizableTop))}else this.props.bounds==="window"?this.window&&(e=W?this.resizableRight:this.window.innerWidth-this.resizableLeft,g=H?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(e=W?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),g=H?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return e&&Number.isFinite(e)&&(Y=Y&&Y<e?Y:e),g&&Number.isFinite(g)&&(te=te&&te<g?te:g),{maxWidth:Y,maxHeight:te}},D.prototype.calculateNewSizeFromDirection=function(Y,te){var ge=this.props.scale||1,Se=this.props.resizeRatio||1,W=this.state,H=W.direction,e=W.original,g=this.props,R=g.lockAspectRatio,a=g.lockAspectRatioExtraHeight,C=g.lockAspectRatioExtraWidth,T=e.width,v=e.height,y=a||0,t=C||0;return _d("right",H)&&(T=e.width+(Y-e.x)*Se/ge,R&&(v=(T-t)/this.ratio+y)),_d("left",H)&&(T=e.width-(Y-e.x)*Se/ge,R&&(v=(T-t)/this.ratio+y)),_d("bottom",H)&&(v=e.height+(te-e.y)*Se/ge,R&&(T=(v-y)*this.ratio+t)),_d("top",H)&&(v=e.height-(te-e.y)*Se/ge,R&&(T=(v-y)*this.ratio+t)),{newWidth:T,newHeight:v}},D.prototype.calculateNewSizeFromAspectRatio=function(Y,te,ge,Se){var W=this.props,H=W.lockAspectRatio,e=W.lockAspectRatioExtraHeight,g=W.lockAspectRatioExtraWidth,R=typeof Se.width>"u"?10:Se.width,a=typeof ge.width>"u"||ge.width<0?Y:ge.width,C=typeof Se.height>"u"?10:Se.height,T=typeof ge.height>"u"||ge.height<0?te:ge.height,v=e||0,y=g||0;if(H){var t=(C-v)*this.ratio+y,r=(T-v)*this.ratio+y,s=(R-y)/this.ratio+v,n=(a-y)/this.ratio+v,o=Math.max(R,t),f=Math.min(a,r),u=Math.max(C,s),m=Math.min(T,n);Y=py(Y,o,f),te=py(te,u,m)}else Y=py(Y,R,a),te=py(te,C,T);return{newWidth:Y,newHeight:te}},D.prototype.setBoundingClientRect=function(){if(this.props.bounds==="parent"){var Y=this.parentNode;if(Y){var te=Y.getBoundingClientRect();this.parentLeft=te.left,this.parentTop=te.top}}if(this.props.bounds&&typeof this.props.bounds!="string"){var ge=this.props.bounds.getBoundingClientRect();this.targetLeft=ge.left,this.targetTop=ge.top}if(this.resizable){var Se=this.resizable.getBoundingClientRect(),W=Se.left,H=Se.top,e=Se.right,g=Se.bottom;this.resizableLeft=W,this.resizableRight=e,this.resizableTop=H,this.resizableBottom=g}},D.prototype.onResizeStart=function(Y,te){if(!(!this.resizable||!this.window)){var ge=0,Se=0;if(Y.nativeEvent&&wN(Y.nativeEvent)?(ge=Y.nativeEvent.clientX,Se=Y.nativeEvent.clientY):Y.nativeEvent&&gy(Y.nativeEvent)&&(ge=Y.nativeEvent.touches[0].clientX,Se=Y.nativeEvent.touches[0].clientY),this.props.onResizeStart&&this.resizable){var W=this.props.onResizeStart(Y,te,this.resizable);if(W===!1)return}this.props.size&&(typeof this.props.size.height<"u"&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),typeof this.props.size.width<"u"&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio=typeof this.props.lockAspectRatio=="number"?this.props.lockAspectRatio:this.size.width/this.size.height;var H,e=this.window.getComputedStyle(this.resizable);if(e.flexBasis!=="auto"){var g=this.parentNode;if(g){var R=this.window.getComputedStyle(g).flexDirection;this.flexDir=R.startsWith("row")?"row":"column",H=e.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var a={original:{x:ge,y:Se,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:Kf(Kf({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(Y.target).cursor||"auto"}),direction:te,flexBasis:H};this.setState(a)}},D.prototype.onMouseMove=function(Y){if(!(!this.state.isResizing||!this.resizable||!this.window)){if(this.window.TouchEvent&&gy(Y))try{Y.preventDefault(),Y.stopPropagation()}catch{}var te=this.props,ge=te.maxWidth,Se=te.maxHeight,W=te.minWidth,H=te.minHeight,e=gy(Y)?Y.touches[0].clientX:Y.clientX,g=gy(Y)?Y.touches[0].clientY:Y.clientY,R=this.state,a=R.direction,C=R.original,T=R.width,v=R.height,y=this.getParentSize(),t=TN(y,this.window.innerWidth,this.window.innerHeight,ge,Se,W,H);ge=t.maxWidth,Se=t.maxHeight,W=t.minWidth,H=t.minHeight;var r=this.calculateNewSizeFromDirection(e,g),s=r.newHeight,n=r.newWidth,o=this.calculateNewMaxFromBoundary(ge,Se);this.props.snap&&this.props.snap.x&&(n=P4(n,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(s=P4(s,this.props.snap.y,this.props.snapGap));var f=this.calculateNewSizeFromAspectRatio(n,s,{width:o.maxWidth,height:o.maxHeight},{width:W,height:H});if(n=f.newWidth,s=f.newHeight,this.props.grid){var u=L4(n,this.props.grid[0]),m=L4(s,this.props.grid[1]),c=this.props.snapGap||0;n=c===0||Math.abs(u-n)<=c?u:n,s=c===0||Math.abs(m-s)<=c?m:s}var A={width:n-C.width,height:s-C.height};if(T&&typeof T=="string"){if(vs(T,"%")){var h=n/y.width*100;n=h+"%"}else if(vs(T,"vw")){var l=n/this.window.innerWidth*100;n=l+"vw"}else if(vs(T,"vh")){var p=n/this.window.innerHeight*100;n=p+"vh"}}if(v&&typeof v=="string"){if(vs(v,"%")){var h=s/y.height*100;s=h+"%"}else if(vs(v,"vw")){var l=s/this.window.innerWidth*100;s=l+"vw"}else if(vs(v,"vh")){var p=s/this.window.innerHeight*100;s=p+"vh"}}var M={width:this.createSizeForCssProperty(n,"width"),height:this.createSizeForCssProperty(s,"height")};this.flexDir==="row"?M.flexBasis=M.width:this.flexDir==="column"&&(M.flexBasis=M.height),this.setState(M),this.props.onResize&&this.props.onResize(Y,a,this.resizable,A)}},D.prototype.onMouseUp=function(Y){var te=this.state,ge=te.isResizing,Se=te.direction,W=te.original;if(!(!ge||!this.resizable)){var H={width:this.size.width-W.width,height:this.size.height-W.height};this.props.onResizeStop&&this.props.onResizeStop(Y,Se,this.resizable,H),this.props.size&&this.setState(this.props.size),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:Kf(Kf({},this.state.backgroundStyle),{cursor:"auto"})})}},D.prototype.updateSize=function(Y){this.setState({width:Y.width,height:Y.height})},D.prototype.renderResizer=function(){var Y=this,te=this.props,ge=te.enable,Se=te.handleStyles,W=te.handleClasses,H=te.handleWrapperStyle,e=te.handleWrapperClass,g=te.handleComponent;if(!ge)return null;var R=Object.keys(ge).map(function(a){return ge[a]!==!1?Fr.createElement(fN,{key:a,direction:a,onResizeStart:Y.onResizeStart,replaceStyles:Se&&Se[a],className:W&&W[a]},g&&g[a]?g[a]:null):null});return Fr.createElement("div",{className:e,style:H},R)},D.prototype.render=function(){var Y=this,te=Object.keys(this.props).reduce(function(W,H){return AN.indexOf(H)!==-1||(W[H]=Y.props[H]),W},{}),ge=Kf(Kf(Kf({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(ge.flexBasis=this.state.flexBasis);var Se=this.props.as||"div";return Fr.createElement(Se,Kf({ref:this.ref,style:ge,className:this.props.className},te),this.state.isResizing&&Fr.createElement("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer())},D.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},D}(Fr.PureComponent);/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var n3=function(d,D){return n3=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Y,te){Y.__proto__=te}||function(Y,te){for(var ge in te)te.hasOwnProperty(ge)&&(Y[ge]=te[ge])},n3(d,D)};function MN(d,D){n3(d,D);function Y(){this.constructor=d}d.prototype=D===null?Object.create(D):(Y.prototype=D.prototype,new Y)}var es=function(){return es=Object.assign||function(D){for(var Y,te=1,ge=arguments.length;te<ge;te++){Y=arguments[te];for(var Se in Y)Object.prototype.hasOwnProperty.call(Y,Se)&&(D[Se]=Y[Se])}return D},es.apply(this,arguments)};function EN(d,D){var Y={};for(var te in d)Object.prototype.hasOwnProperty.call(d,te)&&D.indexOf(te)<0&&(Y[te]=d[te]);if(d!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ge=0,te=Object.getOwnPropertySymbols(d);ge<te.length;ge++)D.indexOf(te[ge])<0&&Object.prototype.propertyIsEnumerable.call(d,te[ge])&&(Y[te[ge]]=d[te[ge]]);return Y}var CN=sN,LN={width:"auto",height:"auto",display:"inline-block",position:"absolute",top:0,left:0},PN=function(d){return{bottom:d,bottomLeft:d,bottomRight:d,left:d,right:d,top:d,topLeft:d,topRight:d}},RN=function(d){MN(D,d);function D(Y){var te=d.call(this,Y)||this;return te.resizingPosition={x:0,y:0},te.offsetFromParent={left:0,top:0},te.resizableElement={current:null},te.originalPosition={x:0,y:0},te.refDraggable=function(ge){ge&&(te.draggable=ge)},te.refResizable=function(ge){ge&&(te.resizable=ge,te.resizableElement.current=ge.resizable)},te.state={resizing:!1,bounds:{top:0,right:0,bottom:0,left:0},maxWidth:Y.maxWidth,maxHeight:Y.maxHeight},te.onResizeStart=te.onResizeStart.bind(te),te.onResize=te.onResize.bind(te),te.onResizeStop=te.onResizeStop.bind(te),te.onDragStart=te.onDragStart.bind(te),te.onDrag=te.onDrag.bind(te),te.onDragStop=te.onDragStop.bind(te),te.getMaxSizesFromProps=te.getMaxSizesFromProps.bind(te),te}return D.prototype.componentDidMount=function(){this.updateOffsetFromParent();var Y=this.offsetFromParent,te=Y.left,ge=Y.top,Se=this.getDraggablePosition(),W=Se.x,H=Se.y;this.draggable.setState({x:W-te,y:H-ge}),this.forceUpdate()},D.prototype.getDraggablePosition=function(){var Y=this.draggable.state,te=Y.x,ge=Y.y;return{x:te,y:ge}},D.prototype.getParent=function(){return this.resizable&&this.resizable.parentNode},D.prototype.getParentSize=function(){return this.resizable.getParentSize()},D.prototype.getMaxSizesFromProps=function(){var Y=typeof this.props.maxWidth>"u"?Number.MAX_SAFE_INTEGER:this.props.maxWidth,te=typeof this.props.maxHeight>"u"?Number.MAX_SAFE_INTEGER:this.props.maxHeight;return{maxWidth:Y,maxHeight:te}},D.prototype.getSelfElement=function(){return this.resizable&&this.resizable.resizable},D.prototype.getOffsetHeight=function(Y){var te=this.props.scale;switch(this.props.bounds){case"window":return window.innerHeight/te;case"body":return document.body.offsetHeight/te;default:return Y.offsetHeight}},D.prototype.getOffsetWidth=function(Y){var te=this.props.scale;switch(this.props.bounds){case"window":return window.innerWidth/te;case"body":return document.body.offsetWidth/te;default:return Y.offsetWidth}},D.prototype.onDragStart=function(Y,te){this.props.onDragStart&&this.props.onDragStart(Y,te);var ge=this.getDraggablePosition();if(this.originalPosition=ge,!!this.props.bounds){var Se=this.getParent(),W=this.props.scale,H;if(this.props.bounds==="parent")H=Se;else if(this.props.bounds==="body"){var e=Se.getBoundingClientRect(),g=e.left,R=e.top,a=document.body.getBoundingClientRect(),C=-(g-Se.offsetLeft*W-a.left)/W,T=-(R-Se.offsetTop*W-a.top)/W,v=(document.body.offsetWidth-this.resizable.size.width*W)/W+C,y=(document.body.offsetHeight-this.resizable.size.height*W)/W+T;return this.setState({bounds:{top:T,right:v,bottom:y,left:C}})}else if(this.props.bounds==="window"){if(!this.resizable)return;var t=Se.getBoundingClientRect(),r=t.left,s=t.top,n=-(r-Se.offsetLeft*W)/W,o=-(s-Se.offsetTop*W)/W,v=(window.innerWidth-this.resizable.size.width*W)/W+n,y=(window.innerHeight-this.resizable.size.height*W)/W+o;return this.setState({bounds:{top:o,right:v,bottom:y,left:n}})}else typeof this.props.bounds=="string"?H=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(H=this.props.bounds);if(!(!(H instanceof HTMLElement)||!(Se instanceof HTMLElement))){var f=H.getBoundingClientRect(),u=f.left,m=f.top,c=Se.getBoundingClientRect(),A=c.left,h=c.top,l=(u-A)/W,p=m-h;if(this.resizable){this.updateOffsetFromParent();var M=this.offsetFromParent;this.setState({bounds:{top:p-M.top,right:l+(H.offsetWidth-this.resizable.size.width)-M.left/W,bottom:p+(H.offsetHeight-this.resizable.size.height)-M.top,left:l-M.left/W}})}}}},D.prototype.onDrag=function(Y,te){if(this.props.onDrag){var ge=this.offsetFromParent,Se=ge.left,W=ge.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDrag(Y,es(es({},te),{x:te.x-Se,y:te.y-W}));if(this.props.dragAxis==="x")return this.props.onDrag(Y,es(es({},te),{x:te.x+Se,y:this.originalPosition.y+W,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDrag(Y,es(es({},te),{x:this.originalPosition.x+Se,y:te.y+W,deltaX:0}))}},D.prototype.onDragStop=function(Y,te){if(this.props.onDragStop){var ge=this.offsetFromParent,Se=ge.left,W=ge.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDragStop(Y,es(es({},te),{x:te.x+Se,y:te.y+W}));if(this.props.dragAxis==="x")return this.props.onDragStop(Y,es(es({},te),{x:te.x+Se,y:this.originalPosition.y+W,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDragStop(Y,es(es({},te),{x:this.originalPosition.x+Se,y:te.y+W,deltaX:0}))}},D.prototype.onResizeStart=function(Y,te,ge){Y.stopPropagation(),this.setState({resizing:!0});var Se=this.props.scale,W=this.offsetFromParent,H=this.getDraggablePosition();if(this.resizingPosition={x:H.x+W.left,y:H.y+W.top},this.originalPosition=H,this.props.bounds){var e=this.getParent(),g=void 0;this.props.bounds==="parent"?g=e:this.props.bounds==="body"?g=document.body:this.props.bounds==="window"?g=window:typeof this.props.bounds=="string"?g=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(g=this.props.bounds);var R=this.getSelfElement();if(R instanceof Element&&(g instanceof HTMLElement||g===window)&&e instanceof HTMLElement){var a=this.getMaxSizesFromProps(),C=a.maxWidth,T=a.maxHeight,v=this.getParentSize();if(C&&typeof C=="string")if(C.endsWith("%")){var y=Number(C.replace("%",""))/100;C=v.width*y}else C.endsWith("px")&&(C=Number(C.replace("px","")));if(T&&typeof T=="string")if(T.endsWith("%")){var y=Number(T.replace("%",""))/100;T=v.width*y}else T.endsWith("px")&&(T=Number(T.replace("px","")));var t=R.getBoundingClientRect(),r=t.left,s=t.top,n=this.props.bounds==="window"?{left:0,top:0}:g.getBoundingClientRect(),o=n.left,f=n.top,u=this.getOffsetWidth(g),m=this.getOffsetHeight(g),c=te.toLowerCase().endsWith("left"),A=te.toLowerCase().endsWith("right"),h=te.startsWith("top"),l=te.startsWith("bottom");if((c||h)&&this.resizable){var p=(r-o)/Se+this.resizable.size.width;this.setState({maxWidth:p>Number(C)?C:p})}if(A||this.props.lockAspectRatio&&!c&&!h){var p=u+(o-r)/Se;this.setState({maxWidth:p>Number(C)?C:p})}if((h||c)&&this.resizable){var p=(s-f)/Se+this.resizable.size.height;this.setState({maxHeight:p>Number(T)?T:p})}if(l||this.props.lockAspectRatio&&!h&&!c){var p=m+(f-s)/Se;this.setState({maxHeight:p>Number(T)?T:p})}}}else this.setState({maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight});this.props.onResizeStart&&this.props.onResizeStart(Y,te,ge)},D.prototype.onResize=function(Y,te,ge,Se){var W={x:this.originalPosition.x,y:this.originalPosition.y},H=-Se.width,e=-Se.height,g=["top","left","topLeft","bottomLeft","topRight"];g.indexOf(te)!==-1&&(te==="bottomLeft"?W.x+=H:(te==="topRight"||(W.x+=H),W.y+=e)),(W.x!==this.draggable.state.x||W.y!==this.draggable.state.y)&&this.draggable.setState(W),this.updateOffsetFromParent();var R=this.offsetFromParent,a=this.getDraggablePosition().x+R.left,C=this.getDraggablePosition().y+R.top;this.resizingPosition={x:a,y:C},this.props.onResize&&this.props.onResize(Y,te,ge,Se,{x:a,y:C})},D.prototype.onResizeStop=function(Y,te,ge,Se){this.setState({resizing:!1});var W=this.getMaxSizesFromProps(),H=W.maxWidth,e=W.maxHeight;this.setState({maxWidth:H,maxHeight:e}),this.props.onResizeStop&&this.props.onResizeStop(Y,te,ge,Se,this.resizingPosition)},D.prototype.updateSize=function(Y){this.resizable&&this.resizable.updateSize({width:Y.width,height:Y.height})},D.prototype.updatePosition=function(Y){this.draggable.setState(Y)},D.prototype.updateOffsetFromParent=function(){var Y=this.props.scale,te=this.getParent(),ge=this.getSelfElement();if(!te||ge===null)return{top:0,left:0};var Se=te.getBoundingClientRect(),W=Se.left,H=Se.top,e=ge.getBoundingClientRect(),g=this.getDraggablePosition(),R=te.scrollLeft,a=te.scrollTop;this.offsetFromParent={left:e.left-W+R-g.x*Y,top:e.top-H+a-g.y*Y}},D.prototype.render=function(){var Y=this.props,te=Y.disableDragging,ge=Y.style,Se=Y.dragHandleClassName,W=Y.position,H=Y.onMouseDown,e=Y.onMouseUp,g=Y.dragAxis,R=Y.dragGrid,a=Y.bounds,C=Y.enableUserSelectHack,T=Y.cancel,v=Y.children;Y.onResizeStart,Y.onResize,Y.onResizeStop,Y.onDragStart,Y.onDrag,Y.onDragStop;var y=Y.resizeHandleStyles,t=Y.resizeHandleClasses,r=Y.resizeHandleComponent,s=Y.enableResizing,n=Y.resizeGrid,o=Y.resizeHandleWrapperClass,f=Y.resizeHandleWrapperStyle,u=Y.scale,m=Y.allowAnyClick,c=EN(Y,["disableDragging","style","dragHandleClassName","position","onMouseDown","onMouseUp","dragAxis","dragGrid","bounds","enableUserSelectHack","cancel","children","onResizeStart","onResize","onResizeStop","onDragStart","onDrag","onDragStop","resizeHandleStyles","resizeHandleClasses","resizeHandleComponent","enableResizing","resizeGrid","resizeHandleWrapperClass","resizeHandleWrapperStyle","scale","allowAnyClick"]),A=this.props.default?es({},this.props.default):void 0;delete c.default;var h=te||Se?{cursor:"auto"}:{cursor:"move"},l=es(es(es({},LN),h),ge),p=this.offsetFromParent,M=p.left,S=p.top,P;W&&(P={x:W.x-M,y:W.y-S});var x=this.state.resizing?void 0:P,E=this.state.resizing?"both":g;return Fr.createElement(CN,{ref:this.refDraggable,handle:Se?".".concat(Se):void 0,defaultPosition:A,onMouseDown:H,onMouseUp:e,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,axis:E,disabled:te,grid:R,bounds:a?this.state.bounds:void 0,position:x,enableUserSelectHack:C,cancel:T,scale:u,allowAnyClick:m,nodeRef:this.resizableElement},Fr.createElement(SN,es({},c,{ref:this.refResizable,defaultSize:A,size:this.props.size,enable:typeof s=="boolean"?PN(s):s,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,style:l,minWidth:this.props.minWidth,minHeight:this.props.minHeight,maxWidth:this.state.resizing?this.state.maxWidth:this.props.maxWidth,maxHeight:this.state.resizing?this.state.maxHeight:this.props.maxHeight,grid:n,handleWrapperClass:o,handleWrapperStyle:f,lockAspectRatio:this.props.lockAspectRatio,lockAspectRatioExtraWidth:this.props.lockAspectRatioExtraWidth,lockAspectRatioExtraHeight:this.props.lockAspectRatioExtraHeight,handleStyles:y,handleClasses:t,handleComponent:r,scale:this.props.scale}),v))},D.defaultProps={maxWidth:Number.MAX_SAFE_INTEGER,maxHeight:Number.MAX_SAFE_INTEGER,scale:1,onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},onDragStart:function(){},onDrag:function(){},onDragStop:function(){}},D}(Fr.PureComponent),DN=function(){};function IN(d,D,Y){var te=Fr.useRef(DN);Fr.useEffect(function(){te.current=d}),Fr.useEffect(function(){Y&&(D===null||D===!1||te.current())},[Y]),Fr.useEffect(function(){if(!(D===null||D===!1)){var ge=function(){return te.current()},Se=setInterval(ge,D);return function(){return clearInterval(Se)}}},[D])}var LM={},PM={};(function(d){function D(f){"@babel/helpers - typeof";return D=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},D(f)}Object.defineProperty(d,"__esModule",{value:!0}),d.default=o;var Y=W(Fr),te=ge(ew);function ge(f){return f&&f.__esModule?f:{default:f}}function Se(f){if(typeof WeakMap!="function")return null;var u=new WeakMap,m=new WeakMap;return(Se=function(A){return A?m:u})(f)}function W(f,u){if(!u&&f&&f.__esModule)return f;if(f===null||D(f)!=="object"&&typeof f!="function")return{default:f};var m=Se(u);if(m&&m.has(f))return m.get(f);var c={},A=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var h in f)if(h!=="default"&&Object.prototype.hasOwnProperty.call(f,h)){var l=A?Object.getOwnPropertyDescriptor(f,h):null;l&&(l.get||l.set)?Object.defineProperty(c,h,l):c[h]=f[h]}return c.default=f,m&&m.set(f,c),c}function H(f,u){if(!(f instanceof u))throw new TypeError("Cannot call a class as a function")}function e(f,u){for(var m=0;m<u.length;m++){var c=u[m];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(f,c.key,c)}}function g(f,u,m){return u&&e(f.prototype,u),m&&e(f,m),Object.defineProperty(f,"prototype",{writable:!1}),f}function R(f,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");f.prototype=Object.create(u&&u.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),Object.defineProperty(f,"prototype",{writable:!1}),u&&a(f,u)}function a(f,u){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(c,A){return c.__proto__=A,c},a(f,u)}function C(f){var u=y();return function(){var c=t(f),A;if(u){var h=t(this).constructor;A=Reflect.construct(c,arguments,h)}else A=c.apply(this,arguments);return T(this,A)}}function T(f,u){if(u&&(D(u)==="object"||typeof u=="function"))return u;if(u!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v(f)}function v(f){if(f===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}function y(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function t(f){return t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)},t(f)}var r=["AfterExport","AfterPlot","Animated","AnimatingFrame","AnimationInterrupted","AutoSize","BeforeExport","BeforeHover","ButtonClicked","Click","ClickAnnotation","Deselect","DoubleClick","Framework","Hover","LegendClick","LegendDoubleClick","Relayout","Relayouting","Restyle","Redraw","Selected","Selecting","SliderChange","SliderEnd","SliderStart","SunburstClick","Transitioning","TransitionInterrupted","Unhover","WebGlContextLost"],s=["plotly_restyle","plotly_redraw","plotly_relayout","plotly_relayouting","plotly_doubleclick","plotly_animated","plotly_sunburstclick"],n=typeof window<"u";function o(f){var u=function(m){R(A,m);var c=C(A);function A(h){var l;return H(this,A),l=c.call(this,h),l.p=Promise.resolve(),l.resizeHandler=null,l.handlers={},l.syncWindowResize=l.syncWindowResize.bind(v(l)),l.syncEventHandlers=l.syncEventHandlers.bind(v(l)),l.attachUpdateEvents=l.attachUpdateEvents.bind(v(l)),l.getRef=l.getRef.bind(v(l)),l.handleUpdate=l.handleUpdate.bind(v(l)),l.figureCallback=l.figureCallback.bind(v(l)),l.updatePlotly=l.updatePlotly.bind(v(l)),l}return g(A,[{key:"updatePlotly",value:function(l,p,M){var S=this;this.p=this.p.then(function(){if(!S.unmounting){if(!S.el)throw new Error("Missing element reference");return f.react(S.el,{data:S.props.data,layout:S.props.layout,config:S.props.config,frames:S.props.frames})}}).then(function(){S.unmounting||(S.syncWindowResize(l),S.syncEventHandlers(),S.figureCallback(p),M&&S.attachUpdateEvents())}).catch(function(P){S.props.onError&&S.props.onError(P)})}},{key:"componentDidMount",value:function(){this.unmounting=!1,this.updatePlotly(!0,this.props.onInitialized,!0)}},{key:"componentDidUpdate",value:function(l){this.unmounting=!1;var p=l.frames&&l.frames.length?l.frames.length:0,M=this.props.frames&&this.props.frames.length?this.props.frames.length:0,S=!(l.layout===this.props.layout&&l.data===this.props.data&&l.config===this.props.config&&M===p),P=l.revision!==void 0,x=l.revision!==this.props.revision;!S&&(!P||P&&!x)||this.updatePlotly(!1,this.props.onUpdate,!1)}},{key:"componentWillUnmount",value:function(){this.unmounting=!0,this.figureCallback(this.props.onPurge),this.resizeHandler&&n&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null),this.removeUpdateEvents(),f.purge(this.el)}},{key:"attachUpdateEvents",value:function(){var l=this;!this.el||!this.el.removeListener||s.forEach(function(p){l.el.on(p,l.handleUpdate)})}},{key:"removeUpdateEvents",value:function(){var l=this;!this.el||!this.el.removeListener||s.forEach(function(p){l.el.removeListener(p,l.handleUpdate)})}},{key:"handleUpdate",value:function(){this.figureCallback(this.props.onUpdate)}},{key:"figureCallback",value:function(l){if(typeof l=="function"){var p=this.el,M=p.data,S=p.layout,P=this.el._transitionData?this.el._transitionData._frames:null,x={data:M,layout:S,frames:P};l(x,this.el)}}},{key:"syncWindowResize",value:function(l){var p=this;n&&(this.props.useResizeHandler&&!this.resizeHandler?(this.resizeHandler=function(){return f.Plots.resize(p.el)},window.addEventListener("resize",this.resizeHandler),l&&this.resizeHandler()):!this.props.useResizeHandler&&this.resizeHandler&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null))}},{key:"getRef",value:function(l){this.el=l,this.props.debug&&n&&(window.gd=this.el)}},{key:"syncEventHandlers",value:function(){var l=this;r.forEach(function(p){var M=l.props["on"+p],S=l.handlers[p],P=!!S;M&&!P?l.addEventHandler(p,M):!M&&P?l.removeEventHandler(p):M&&P&&M!==S&&(l.removeEventHandler(p),l.addEventHandler(p,M))})}},{key:"addEventHandler",value:function(l,p){this.handlers[l]=p,this.el.on(this.getPlotlyEventName(l),this.handlers[l])}},{key:"removeEventHandler",value:function(l){this.el.removeListener(this.getPlotlyEventName(l),this.handlers[l]),delete this.handlers[l]}},{key:"getPlotlyEventName",value:function(l){return"plotly_"+l.toLowerCase()}},{key:"render",value:function(){return Y.default.createElement("div",{id:this.props.divId,style:this.props.style,ref:this.getRef,className:this.props.className})}}]),A}(Y.Component);return u.propTypes={data:te.default.arrayOf(te.default.object),config:te.default.object,layout:te.default.object,frames:te.default.arrayOf(te.default.object),revision:te.default.number,onInitialized:te.default.func,onPurge:te.default.func,onError:te.default.func,onUpdate:te.default.func,debug:te.default.bool,style:te.default.object,className:te.default.string,useResizeHandler:te.default.bool,divId:te.default.string},r.forEach(function(m){u.propTypes["on"+m]=te.default.func}),u.defaultProps={debug:!1,useResizeHandler:!1,data:[],style:{position:"relative",display:"inline-block"}},u}})(PM);var RM={exports:{}};(function(d,D){(function(te,ge){d.exports=ge()})(self,function(){return function(){var Y={98847:function(W,H,e){var g=e(71828),R={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var a in R){var C=a.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");g.addStyleRule(C,R[a])}},98222:function(W,H,e){W.exports=e(82887)},27206:function(W,H,e){W.exports=e(60822)},59893:function(W,H,e){W.exports=e(23381)},5224:function(W,H,e){W.exports=e(83832)},59509:function(W,H,e){W.exports=e(72201)},75557:function(W,H,e){W.exports=e(91815)},40338:function(W,H,e){W.exports=e(21462)},35080:function(W,H,e){W.exports=e(51319)},61396:function(W,H,e){W.exports=e(57516)},40549:function(W,H,e){W.exports=e(98128)},49866:function(W,H,e){W.exports=e(99442)},36089:function(W,H,e){W.exports=e(93740)},19548:function(W,H,e){W.exports=e(8729)},35831:function(W,H,e){W.exports=e(93814)},61039:function(W,H,e){W.exports=e(14382)},97040:function(W,H,e){W.exports=e(51759)},77986:function(W,H,e){W.exports=e(10421)},24296:function(W,H,e){W.exports=e(43102)},58872:function(W,H,e){W.exports=e(92165)},29626:function(W,H,e){W.exports=e(3325)},65591:function(W,H,e){W.exports=e(36071)},69738:function(W,H,e){W.exports=e(43905)},92650:function(W,H,e){W.exports=e(35902)},35630:function(W,H,e){W.exports=e(69816)},73434:function(W,H,e){W.exports=e(94507)},27909:function(W,H,e){var g=e(19548);g.register([e(27206),e(5224),e(58872),e(65591),e(69738),e(92650),e(49866),e(25743),e(6197),e(97040),e(85461),e(73434),e(54201),e(81299),e(47645),e(35630),e(77986),e(83043),e(93005),e(96881),e(4534),e(50581),e(40549),e(77900),e(47582),e(35080),e(21641),e(17280),e(5861),e(29626),e(10021),e(65317),e(96268),e(61396),e(35831),e(16122),e(46163),e(40344),e(40338),e(48131),e(36089),e(55334),e(75557),e(19440),e(99488),e(59893),e(97393),e(98222),e(61039),e(24296),e(66398),e(59509)]),W.exports=g},46163:function(W,H,e){W.exports=e(15154)},96881:function(W,H,e){W.exports=e(64943)},50581:function(W,H,e){W.exports=e(21164)},55334:function(W,H,e){W.exports=e(54186)},65317:function(W,H,e){W.exports=e(94873)},10021:function(W,H,e){W.exports=e(67618)},54201:function(W,H,e){W.exports=e(58810)},5861:function(W,H,e){W.exports=e(20593)},16122:function(W,H,e){W.exports=e(29396)},83043:function(W,H,e){W.exports=e(13551)},48131:function(W,H,e){W.exports=e(46858)},47582:function(W,H,e){W.exports=e(17988)},21641:function(W,H,e){W.exports=e(68868)},96268:function(W,H,e){W.exports=e(20467)},19440:function(W,H,e){W.exports=e(91271)},99488:function(W,H,e){W.exports=e(21461)},97393:function(W,H,e){W.exports=e(85956)},25743:function(W,H,e){W.exports=e(52979)},66398:function(W,H,e){W.exports=e(32275)},17280:function(W,H,e){W.exports=e(6419)},77900:function(W,H,e){W.exports=e(61510)},81299:function(W,H,e){W.exports=e(87619)},93005:function(W,H,e){W.exports=e(93601)},40344:function(W,H,e){W.exports=e(96595)},47645:function(W,H,e){W.exports=e(70954)},6197:function(W,H,e){W.exports=e(47462)},4534:function(W,H,e){W.exports=e(17659)},85461:function(W,H,e){W.exports=e(19990)},82884:function(W){W.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},50215:function(W,H,e){var g=e(82884),R=e(41940),a=e(85555),C=e(44467).templatedArray;e(24695),W.exports=C("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:R({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:g.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:g.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",a.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",a.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",a.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",a.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:R({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},3749:function(W,H,e){var g=e(71828),R=e(89298),a=e(92605).draw;W.exports=function(y){var t=y._fullLayout,r=g.filterVisible(t.annotations);if(r.length&&y._fullData.length)return g.syncOrAsync([a,C],y)};function C(v){var y=v._fullLayout;g.filterVisible(y.annotations).forEach(function(t){var r=R.getFromId(v,t.xref),s=R.getFromId(v,t.yref),n=R.getRefType(t.xref),o=R.getRefType(t.yref);t._extremes={},n==="range"&&T(t,r),o==="range"&&T(t,s)})}function T(v,y){var t=y._id,r=t.charAt(0),s=v[r],n=v["a"+r],o=v[r+"ref"],f=v["a"+r+"ref"],u=v["_"+r+"padplus"],m=v["_"+r+"padminus"],c={x:1,y:-1}[r]*v[r+"shift"],A=3*v.arrowsize*v.arrowwidth||0,h=A+c,l=A-c,p=3*v.startarrowsize*v.arrowwidth||0,M=p+c,S=p-c,P;if(f===o){var x=R.findExtremes(y,[y.r2c(s)],{ppadplus:h,ppadminus:l}),E=R.findExtremes(y,[y.r2c(n)],{ppadplus:Math.max(u,M),ppadminus:Math.max(m,S)});P={min:[x.min[0],E.min[0]],max:[x.max[0],E.max[0]]}}else M=n?M+n:M,S=n?S-n:S,P=R.findExtremes(y,[y.r2c(s)],{ppadplus:Math.max(u,h,M),ppadminus:Math.max(m,l,S)});v._extremes[t]=P}},44317:function(W,H,e){var g=e(71828),R=e(73972),a=e(44467).arrayEditor;W.exports={hasClickToShow:C,onClick:T};function C(t,r){var s=v(t,r);return s.on.length>0||s.explicitOff.length>0}function T(t,r){var s=v(t,r),n=s.on,o=s.off.concat(s.explicitOff),f={},u=t._fullLayout.annotations,m,c;if(n.length||o.length){for(m=0;m<n.length;m++)c=a(t.layout,"annotations",u[n[m]]),c.modifyItem("visible",!0),g.extendFlat(f,c.getUpdateObj());for(m=0;m<o.length;m++)c=a(t.layout,"annotations",u[o[m]]),c.modifyItem("visible",!1),g.extendFlat(f,c.getUpdateObj());return R.call("update",t,{},f)}}function v(t,r){var s=t._fullLayout.annotations,n=[],o=[],f=[],u=(r||[]).length,m,c,A,h,l,p,M,S;for(m=0;m<s.length;m++)if(A=s[m],h=A.clicktoshow,h){for(c=0;c<u;c++)if(l=r[c],p=l.xaxis,M=l.yaxis,p._id===A.xref&&M._id===A.yref&&p.d2r(l.x)===y(A._xclick,p)&&M.d2r(l.y)===y(A._yclick,M)){A.visible?h==="onout"?S=o:S=f:S=n,S.push(m);break}c===u&&A.visible&&h==="onout"&&o.push(m)}return{on:n,off:o,explicitOff:f}}function y(t,r){return r.type==="log"?r.l2r(t):r.d2r(t)}},25625:function(W,H,e){var g=e(71828),R=e(7901);W.exports=function(C,T,v,y){y("opacity");var t=y("bgcolor"),r=y("bordercolor"),s=R.opacity(r);y("borderpad");var n=y("borderwidth"),o=y("showarrow");y("text",o?" ":v._dfltTitle.annotation),y("textangle"),g.coerceFont(y,"font",v.font),y("width"),y("align");var f=y("height");if(f&&y("valign"),o){var u=y("arrowside"),m,c;u.indexOf("end")!==-1&&(m=y("arrowhead"),c=y("arrowsize")),u.indexOf("start")!==-1&&(y("startarrowhead",m),y("startarrowsize",c)),y("arrowcolor",s?T.bordercolor:R.defaultLine),y("arrowwidth",(s&&n||1)*2),y("standoff"),y("startstandoff")}var A=y("hovertext"),h=v.hoverlabel||{};if(A){var l=y("hoverlabel.bgcolor",h.bgcolor||(R.opacity(t)?R.rgb(t):R.defaultLine)),p=y("hoverlabel.bordercolor",h.bordercolor||R.contrast(l));g.coerceFont(y,"hoverlabel.font",{family:h.font.family,size:h.font.size,color:h.font.color||p})}y("captureevents",!!A)}},94128:function(W,H,e){var g=e(92770),R=e(58163);W.exports=function(C,T,v,y){T=T||{};var t=v==="log"&&T.type==="linear",r=v==="linear"&&T.type==="log";if(!(t||r))return;var s=C._fullLayout.annotations,n=T._id.charAt(0),o,f;function u(c){var A=o[c],h=null;t?h=R(A,T.range):h=Math.pow(10,A),g(h)||(h=null),y(f+c,h)}for(var m=0;m<s.length;m++)o=s[m],f="annotations["+m+"].",o[n+"ref"]===T._id&&u(n),o["a"+n+"ref"]===T._id&&u("a"+n)}},84046:function(W,H,e){var g=e(71828),R=e(89298),a=e(85501),C=e(25625),T=e(50215);W.exports=function(t,r){a(t,r,{name:"annotations",handleItemDefaults:v})};function v(y,t,r){function s(w,i){return g.coerce(y,t,T,w,i)}var n=s("visible"),o=s("clicktoshow");if(n||o){C(y,t,r,s);for(var f=t.showarrow,u=["x","y"],m=[-10,-30],c={_fullLayout:r},A=0;A<2;A++){var h=u[A],l=R.coerceRef(y,t,c,h,"","paper");if(l!=="paper"){var p=R.getFromId(c,l);p._annIndices.push(t._index)}if(R.coercePosition(t,c,s,l,h,.5),f){var M="a"+h,S=R.coerceRef(y,t,c,M,"pixel",["pixel","paper"]);S!=="pixel"&&S!==l&&(S=t[M]="pixel");var P=S==="pixel"?m[A]:.4;R.coercePosition(t,c,s,S,M,P)}s(h+"anchor"),s(h+"shift")}if(g.noneOrAll(y,t,["x","y"]),f&&g.noneOrAll(y,t,["ax","ay"]),o){var x=s("xclick"),E=s("yclick");t._xclick=x===void 0?t.x:R.cleanPosition(x,c,t.xref),t._yclick=E===void 0?t.y:R.cleanPosition(E,c,t.yref)}}}},92605:function(W,H,e){var g=e(39898),R=e(73972),a=e(74875),C=e(71828),T=C.strTranslate,v=e(89298),y=e(7901),t=e(91424),r=e(30211),s=e(63893),n=e(6964),o=e(28569),f=e(44467).arrayEditor,u=e(13011);W.exports={draw:m,drawOne:c,drawRaw:h};function m(l){var p=l._fullLayout;p._infolayer.selectAll(".annotation").remove();for(var M=0;M<p.annotations.length;M++)p.annotations[M].visible&&c(l,M);return a.previousPromises(l)}function c(l,p){var M=l._fullLayout,S=M.annotations[p]||{},P=v.getFromId(l,S.xref),x=v.getFromId(l,S.yref);P&&P.setScale(),x&&x.setScale(),h(l,S,p,!1,P,x)}function A(l,p,M,S,P){var x=P[M],E=P[M+"ref"],w=M.indexOf("y")!==-1,i=v.getRefType(E)==="domain",L=w?S.h:S.w;return l?i?x+(w?-p:p)/l._length:l.p2r(l.r2p(x)+p):x+(w?-p:p)/L}function h(l,p,M,S,P,x){var E=l._fullLayout,w=l._fullLayout._size,i=l._context.edits,L,b;S?(L="annotation-"+S,b=S+".annotations"):(L="annotation",b="annotations");var O=f(l.layout,b,p),_=O.modifyBase,N=O.modifyItem,z=O.getUpdateObj;E._infolayer.selectAll("."+L+'[data-index="'+M+'"]').remove();var B="clip"+E._uid+"_ann"+M;if(!p._input||p.visible===!1){g.selectAll("#"+B).remove();return}var U={x:{},y:{}},F=+p.textangle||0,V=E._infolayer.append("g").classed(L,!0).attr("data-index",String(M)).style("opacity",p.opacity),j=V.append("g").classed("annotation-text-g",!0),$=i[p.showarrow?"annotationTail":"annotationPosition"],ne=p.captureevents||i.annotationText||$;function oe(me){var Ce={index:M,annotation:p._input,fullAnnotation:p,event:me};return S&&(Ce.subplotId=S),Ce}var ce=j.append("g").style("pointer-events",ne?"all":null).call(n,"pointer").on("click",function(){l._dragging=!1,l.emit("plotly_clickannotation",oe(g.event))});p.hovertext&&ce.on("mouseover",function(){var me=p.hoverlabel,Ce=me.font,Te=this.getBoundingClientRect(),Oe=l.getBoundingClientRect();r.loneHover({x0:Te.left-Oe.left,x1:Te.right-Oe.left,y:(Te.top+Te.bottom)/2-Oe.top,text:p.hovertext,color:me.bgcolor,borderColor:me.bordercolor,fontFamily:Ce.family,fontSize:Ce.size,fontColor:Ce.color},{container:E._hoverlayer.node(),outerContainer:E._paper.node(),gd:l})}).on("mouseout",function(){r.loneUnhover(E._hoverlayer.node())});var Q=p.borderwidth,Z=p.borderpad,K=Q+Z,J=ce.append("rect").attr("class","bg").style("stroke-width",Q+"px").call(y.stroke,p.bordercolor).call(y.fill,p.bgcolor),re=p.width||p.height,le=E._topclips.selectAll("#"+B).data(re?[0]:[]);le.enter().append("clipPath").classed("annclip",!0).attr("id",B).append("rect"),le.exit().remove();var q=p.font,ee=E._meta?C.templateString(p.text,E._meta):p.text,ue=ce.append("text").classed("annotation-text",!0).text(ee);function se(me){return me.call(t.font,q).attr({"text-anchor":{left:"start",right:"end"}[p.align]||"middle"}),s.convertToTspans(me,l,he),me}function he(){var me=ue.selectAll("a");if(me.size()===1&&me.text()===ue.text()){var Ce=ce.insert("a",":first-child").attr({"xlink:xlink:href":me.attr("xlink:href"),"xlink:xlink:show":me.attr("xlink:show")}).style({cursor:"pointer"});Ce.node().appendChild(J.node())}var Te=ce.select(".annotation-text-math-group"),Oe=!Te.empty(),Ne=t.bBox((Oe?Te:ue).node()),Le=Ne.width,be=Ne.height,Ae=p.width||Le,He=p.height||be,Ve=Math.round(Ae+2*K),ke=Math.round(He+2*K);function Ge(mr,ur){return ur==="auto"&&(mr<.3333333333333333?ur="left":mr>.6666666666666666?ur="right":ur="center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[ur]}for(var it=!1,et=["x","y"],tt=0;tt<et.length;tt++){var at=et[tt],vt=p[at+"ref"]||at,yt=p["a"+at+"ref"],gt={x:P,y:x}[at],Mt=(F+(at==="x"?0:-90))*Math.PI/180,Ct=Ve*Math.cos(Mt),Vt=ke*Math.sin(Mt),Je=Math.abs(Ct)+Math.abs(Vt),ze=p[at+"anchor"],_e=p[at+"shift"]*(at==="x"?1:-1),Be=U[at],De,we,xe,Ee,Pe,Ue=v.getRefType(vt);if(gt&&Ue!=="domain"){var $e=gt.r2fraction(p[at]);($e<0||$e>1)&&(yt===vt?($e=gt.r2fraction(p["a"+at]),($e<0||$e>1)&&(it=!0)):it=!0),De=gt._offset+gt.r2p(p[at]),Ee=.5}else{var qe=Ue==="domain";at==="x"?(xe=p[at],De=qe?gt._offset+gt._length*xe:De=w.l+w.w*xe):(xe=1-p[at],De=qe?gt._offset+gt._length*xe:De=w.t+w.h*xe),Ee=p.showarrow?.5:xe}if(p.showarrow){Be.head=De;var dt=p["a"+at];if(Pe=Ct*Ge(.5,p.xanchor)-Vt*Ge(.5,p.yanchor),yt===vt){var bt=v.getRefType(yt);bt==="domain"?(at==="y"&&(dt=1-dt),Be.tail=gt._offset+gt._length*dt):bt==="paper"?at==="y"?(dt=1-dt,Be.tail=w.t+w.h*dt):Be.tail=w.l+w.w*dt:Be.tail=gt._offset+gt.r2p(dt),we=Pe}else Be.tail=De+dt,we=Pe+dt;Be.text=Be.tail+Pe;var Gt=E[at==="x"?"width":"height"];if(vt==="paper"&&(Be.head=C.constrain(Be.head,1,Gt-1)),yt==="pixel"){var Qt=-Math.max(Be.tail-3,Be.text),At=Math.min(Be.tail+3,Be.text)-Gt;Qt>0?(Be.tail+=Qt,Be.text+=Qt):At>0&&(Be.tail-=At,Be.text-=At)}Be.tail+=_e,Be.head+=_e}else Pe=Je*Ge(Ee,ze),we=Pe,Be.text=De+Pe;Be.text+=_e,Pe+=_e,we+=_e,p["_"+at+"padplus"]=Je/2+we,p["_"+at+"padminus"]=Je/2-we,p["_"+at+"size"]=Je,p["_"+at+"shift"]=Pe}if(it){ce.remove();return}var zt=0,$t=0;if(p.align!=="left"&&(zt=(Ae-Le)*(p.align==="center"?.5:1)),p.valign!=="top"&&($t=(He-be)*(p.valign==="middle"?.5:1)),Oe)Te.select("svg").attr({x:K+zt-1,y:K+$t}).call(t.setClipUrl,re?B:null,l);else{var Ar=K+$t-Ne.top,ut=K+zt-Ne.left;ue.call(s.positionText,ut,Ar).call(t.setClipUrl,re?B:null,l)}le.select("rect").call(t.setRect,K,K,Ae,He),J.call(t.setRect,Q/2,Q/2,Ve-Q,ke-Q),ce.call(t.setTranslate,Math.round(U.x.text-Ve/2),Math.round(U.y.text-ke/2)),j.attr({transform:"rotate("+F+","+U.x.text+","+U.y.text+")"});var Yt=function(mr,ur){V.selectAll(".annotation-arrow-g").remove();var pt=U.x.head,st=U.y.head,xt=U.x.tail+mr,St=U.y.tail+ur,Dt=U.x.text+mr,Rt=U.y.text+ur,Bt=C.rotationXYMatrix(F,Dt,Rt),Nt=C.apply2DTransform(Bt),Xt=C.apply2DTransform2(Bt),lr=+J.attr("width"),sr=+J.attr("height"),dr=Dt-.5*lr,je=dr+lr,Ye=Rt-.5*sr,It=Ye+sr,kt=[[dr,Ye,dr,It],[dr,It,je,It],[je,It,je,Ye],[je,Ye,dr,Ye]].map(Xt);if(!kt.reduce(function(_r,pn){return _r^!!C.segmentsIntersect(pt,st,pt+1e6,st+1e6,pn[0],pn[1],pn[2],pn[3])},!1)){kt.forEach(function(_r){var pn=C.segmentsIntersect(xt,St,pt,st,_r[0],_r[1],_r[2],_r[3]);pn&&(xt=pn.x,St=pn.y)});var jt=p.arrowwidth,tr=p.arrowcolor,or=p.arrowside,rr=V.append("g").style({opacity:y.opacity(tr)}).classed("annotation-arrow-g",!0),Ot=rr.append("path").attr("d","M"+xt+","+St+"L"+pt+","+st).style("stroke-width",jt+"px").call(y.stroke,y.rgb(tr));if(u(Ot,or,p),i.annotationPosition&&Ot.node().parentNode&&!S){var hr=pt,gr=st;if(p.standoff){var pr=Math.sqrt(Math.pow(pt-xt,2)+Math.pow(st-St,2));hr+=p.standoff*(xt-pt)/pr,gr+=p.standoff*(St-st)/pr}var vr=rr.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(xt-hr)+","+(St-gr),transform:T(hr,gr)}).style("stroke-width",jt+6+"px").call(y.stroke,"rgba(0,0,0,0)").call(y.fill,"rgba(0,0,0,0)"),Vr,kr;o.init({element:vr.node(),gd:l,prepFn:function(){var _r=t.getTranslate(ce);Vr=_r.x,kr=_r.y,P&&P.autorange&&_(P._name+".autorange",!0),x&&x.autorange&&_(x._name+".autorange",!0)},moveFn:function(_r,pn){var en=Nt(Vr,kr),Bn=en[0]+_r,Tn=en[1]+pn;ce.call(t.setTranslate,Bn,Tn),N("x",A(P,_r,"x",w,p)),N("y",A(x,pn,"y",w,p)),p.axref===p.xref&&N("ax",A(P,_r,"ax",w,p)),p.ayref===p.yref&&N("ay",A(x,pn,"ay",w,p)),rr.attr("transform",T(_r,pn)),j.attr({transform:"rotate("+F+","+Bn+","+Tn+")"})},doneFn:function(){R.call("_guiRelayout",l,z());var _r=document.querySelector(".js-notes-box-panel");_r&&_r.redraw(_r.selectedObj)}})}}};if(p.showarrow&&Yt(0,0),$){var Kt;o.init({element:ce.node(),gd:l,prepFn:function(){Kt=j.attr("transform")},moveFn:function(mr,ur){var pt="pointer";if(p.showarrow)p.axref===p.xref?N("ax",A(P,mr,"ax",w,p)):N("ax",p.ax+mr),p.ayref===p.yref?N("ay",A(x,ur,"ay",w.w,p)):N("ay",p.ay+ur),Yt(mr,ur);else{if(S)return;var st,xt;if(P)st=A(P,mr,"x",w,p);else{var St=p._xsize/w.w,Dt=p.x+(p._xshift-p.xshift)/w.w-St/2;st=o.align(Dt+mr/w.w,St,0,1,p.xanchor)}if(x)xt=A(x,ur,"y",w,p);else{var Rt=p._ysize/w.h,Bt=p.y-(p._yshift+p.yshift)/w.h-Rt/2;xt=o.align(Bt-ur/w.h,Rt,0,1,p.yanchor)}N("x",st),N("y",xt),(!P||!x)&&(pt=o.getCursor(P?.5:st,x?.5:xt,p.xanchor,p.yanchor))}j.attr({transform:T(mr,ur)+Kt}),n(ce,pt)},clickFn:function(mr,ur){p.captureevents&&l.emit("plotly_clickannotation",oe(ur))},doneFn:function(){n(ce),R.call("_guiRelayout",l,z());var mr=document.querySelector(".js-notes-box-panel");mr&&mr.redraw(mr.selectedObj)}})}}i.annotationText?ue.call(s.makeEditable,{delegate:ce,gd:l}).call(se).on("edit",function(me){p.text=me,this.call(se),N("text",me),P&&P.autorange&&_(P._name+".autorange",!0),x&&x.autorange&&_(x._name+".autorange",!0),R.call("_guiRelayout",l,z())}):ue.call(se)}},13011:function(W,H,e){var g=e(39898),R=e(7901),a=e(82884),C=e(71828),T=C.strScale,v=C.strRotate,y=C.strTranslate;W.exports=function(r,s,n){var o=r.node(),f=a[n.arrowhead||0],u=a[n.startarrowhead||0],m=(n.arrowwidth||1)*(n.arrowsize||1),c=(n.arrowwidth||1)*(n.startarrowsize||1),A=s.indexOf("start")>=0,h=s.indexOf("end")>=0,l=f.backoff*m+n.standoff,p=u.backoff*c+n.startstandoff,M,S,P,x;if(o.nodeName==="line"){M={x:+r.attr("x1"),y:+r.attr("y1")},S={x:+r.attr("x2"),y:+r.attr("y2")};var E=M.x-S.x,w=M.y-S.y;if(P=Math.atan2(w,E),x=P+Math.PI,l&&p&&l+p>Math.sqrt(E*E+w*w)){j();return}if(l){if(l*l>E*E+w*w){j();return}var i=l*Math.cos(P),L=l*Math.sin(P);S.x+=i,S.y+=L,r.attr({x2:S.x,y2:S.y})}if(p){if(p*p>E*E+w*w){j();return}var b=p*Math.cos(P),O=p*Math.sin(P);M.x-=b,M.y-=O,r.attr({x1:M.x,y1:M.y})}}else if(o.nodeName==="path"){var _=o.getTotalLength(),N="";if(_<l+p){j();return}var z=o.getPointAtLength(0),B=o.getPointAtLength(.1);P=Math.atan2(z.y-B.y,z.x-B.x),M=o.getPointAtLength(Math.min(p,_)),N="0px,"+p+"px,";var U=o.getPointAtLength(_),F=o.getPointAtLength(_-.1);x=Math.atan2(U.y-F.y,U.x-F.x),S=o.getPointAtLength(Math.max(0,_-l));var V=N?p+l:l;N+=_-V+"px,"+_+"px",r.style("stroke-dasharray",N)}function j(){r.style("stroke-dasharray","0px,100px")}function $(ne,oe,ce,Q){ne.path&&(ne.noRotate&&(ce=0),g.select(o.parentNode).append("path").attr({class:r.attr("class"),d:ne.path,transform:y(oe.x,oe.y)+v(ce*180/Math.PI)+T(Q)}).style({fill:R.rgb(n.arrowcolor),"stroke-width":0}))}A&&$(u,M,P,c),h&&$(f,S,x,m)}},32745:function(W,H,e){var g=e(92605),R=e(44317);W.exports={moduleType:"component",name:"annotations",layoutAttributes:e(50215),supplyLayoutDefaults:e(84046),includeBasePlot:e(76325)("annotations"),calcAutorange:e(3749),draw:g.draw,drawOne:g.drawOne,drawRaw:g.drawRaw,hasClickToShow:R.hasClickToShow,onClick:R.onClick,convertCoords:e(94128)}},26997:function(W,H,e){var g=e(50215),R=e(30962).overrideAll,a=e(44467).templatedArray;W.exports=R(a("annotation",{visible:g.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:g.xanchor,xshift:g.xshift,yanchor:g.yanchor,yshift:g.yshift,text:g.text,textangle:g.textangle,font:g.font,width:g.width,height:g.height,opacity:g.opacity,align:g.align,valign:g.valign,bgcolor:g.bgcolor,bordercolor:g.bordercolor,borderpad:g.borderpad,borderwidth:g.borderwidth,showarrow:g.showarrow,arrowcolor:g.arrowcolor,arrowhead:g.arrowhead,startarrowhead:g.startarrowhead,arrowside:g.arrowside,arrowsize:g.arrowsize,startarrowsize:g.startarrowsize,arrowwidth:g.arrowwidth,standoff:g.standoff,startstandoff:g.startstandoff,hovertext:g.hovertext,hoverlabel:g.hoverlabel,captureevents:g.captureevents}),"calc","from-root")},5485:function(W,H,e){var g=e(71828),R=e(89298);W.exports=function(T){for(var v=T.fullSceneLayout,y=v.annotations,t=0;t<y.length;t++)a(y[t],T);T.fullLayout._infolayer.selectAll(".annotation-"+T.id).remove()};function a(C,T){var v=T.fullSceneLayout,y=v.domain,t=T.fullLayout._size,r={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};C._xa={},g.extendFlat(C._xa,r),R.setConvert(C._xa),C._xa._offset=t.l+y.x[0]*t.w,C._xa.l2p=function(){return .5*(1+C._pdata[0]/C._pdata[3])*t.w*(y.x[1]-y.x[0])},C._ya={},g.extendFlat(C._ya,r),R.setConvert(C._ya),C._ya._offset=t.t+(1-y.y[1])*t.h,C._ya.l2p=function(){return .5*(1-C._pdata[1]/C._pdata[3])*t.h*(y.y[1]-y.y[0])}}},20226:function(W,H,e){var g=e(71828),R=e(89298),a=e(85501),C=e(25625),T=e(26997);W.exports=function(t,r,s){a(t,r,{name:"annotations",handleItemDefaults:v,fullLayout:s.fullLayout})};function v(y,t,r,s){function n(u,m){return g.coerce(y,t,T,u,m)}function o(u){var m=u+"axis",c={_fullLayout:{}};return c._fullLayout[m]=r[m],R.coercePosition(t,c,n,u,u,.5)}var f=n("visible");f&&(C(y,t,s.fullLayout,n),o("x"),o("y"),o("z"),g.noneOrAll(y,t,["x","y","z"]),t.xref="x",t.yref="y",t.zref="z",n("xanchor"),n("yanchor"),n("xshift"),n("yshift"),t.showarrow&&(t.axref="pixel",t.ayref="pixel",n("ax",-10),n("ay",-30),g.noneOrAll(y,t,["ax","ay"])))}},82188:function(W,H,e){var g=e(92605).drawRaw,R=e(63538),a=["x","y","z"];W.exports=function(T){for(var v=T.fullSceneLayout,y=T.dataScale,t=v.annotations,r=0;r<t.length;r++){for(var s=t[r],n=!1,o=0;o<3;o++){var f=a[o],u=s[f],m=v[f+"axis"],c=m.r2fraction(u);if(c<0||c>1){n=!0;break}}n?T.fullLayout._infolayer.select(".annotation-"+T.id+'[data-index="'+r+'"]').remove():(s._pdata=R(T.glplot.cameraParams,[v.xaxis.r2l(s.x)*y[0],v.yaxis.r2l(s.y)*y[1],v.zaxis.r2l(s.z)*y[2]]),g(T.graphDiv,s,r,T.id,s._xa,s._ya))}}},2468:function(W,H,e){var g=e(73972),R=e(71828);W.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:e(26997)}}},layoutAttributes:e(26997),handleDefaults:e(20226),includeBasePlot:a,convert:e(5485),draw:e(82188)};function a(C,T){var v=g.subplotsRegistry.gl3d;if(v)for(var y=v.attrRegex,t=Object.keys(C),r=0;r<t.length;r++){var s=t[r];y.test(s)&&(C[s].annotations||[]).length&&(R.pushUnique(T._basePlotModules,v),R.pushUnique(T._subplots.gl3d,s))}}},7561:function(W,H,e){W.exports=e(63489),e(94338),e(3961),e(38751),e(86825),e(37715),e(99384),e(43805),e(88874),e(83290),e(29108),e(55422),e(94320),e(31320),e(51367),e(21457)},72201:function(W,H,e){var g=e(7561),R=e(71828),a=e(50606),C=a.EPOCHJD,T=a.ONEDAY,v={valType:"enumerated",values:R.sortObjectKeys(g.calendars),editType:"calc",dflt:"gregorian"},y=function(P,x,E,w){var i={};return i[E]=v,R.coerce(P,x,i,E,w)},t=function(P,x,E,w){for(var i=0;i<E.length;i++)y(P,x,E[i]+"calendar",w.calendar)},r={chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},s={chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},n={chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},o="##",f={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:o,w:o,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}};function u(P,x,E){for(var w=Math.floor((x+.05)/T)+C,i=c(E).fromJD(w),L=0,b,O,_,N,z;(L=P.indexOf("%",L))!==-1;)b=P.charAt(L+1),b==="0"||b==="-"||b==="_"?(_=3,O=P.charAt(L+2),b==="_"&&(b="-")):(O=b,b="0",_=2),N=f[O],N?(N===o?z=o:z=i.formatDate(N[b]),P=P.substr(0,L)+z+P.substr(L+_),L+=z.length):L+=_;return P}var m={};function c(P){var x=m[P];return x||(x=m[P]=g.instance(P),x)}function A(P){return R.extendFlat({},v,{description:P})}function h(P){return"Sets the calendar system to use with `"+P+"` date data."}var l={xcalendar:A(h("x"))},p=R.extendFlat({},l,{ycalendar:A(h("y"))}),M=R.extendFlat({},p,{zcalendar:A(h("z"))}),S=A(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));W.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:p,bar:p,box:p,heatmap:p,contour:p,histogram:p,histogram2d:p,histogram2dcontour:p,scatter3d:M,surface:M,mesh3d:M,scattergl:p,ohlc:l,candlestick:l},layout:{calendar:A(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:S},yaxis:{calendar:S},scene:{xaxis:{calendar:S},yaxis:{calendar:S},zaxis:{calendar:S}},polar:{radialaxis:{calendar:S}}},transforms:{filter:{valuecalendar:A(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:A(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:v,handleDefaults:y,handleTraceDefaults:t,CANONICAL_SUNDAY:s,CANONICAL_TICK:r,DFLTRANGE:n,getCal:c,worldCalFmt:u}},22399:function(W,H){H.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],H.defaultLine="#444",H.lightLine="#eee",H.background="#fff",H.borderLine="#BEC8D9",H.lightFraction=90.9090909090909},7901:function(W,H,e){var g=e(84267),R=e(92770),a=e(73627).isTypedArray,C=W.exports={},T=e(22399);C.defaults=T.defaults;var v=C.defaultLine=T.defaultLine;C.lightLine=T.lightLine;var y=C.background=T.background;C.tinyRGB=function(r){var s=r.toRgb();return"rgb("+Math.round(s.r)+", "+Math.round(s.g)+", "+Math.round(s.b)+")"},C.rgb=function(r){return C.tinyRGB(g(r))},C.opacity=function(r){return r?g(r).getAlpha():0},C.addOpacity=function(r,s){var n=g(r).toRgb();return"rgba("+Math.round(n.r)+", "+Math.round(n.g)+", "+Math.round(n.b)+", "+s+")"},C.combine=function(r,s){var n=g(r).toRgb();if(n.a===1)return g(r).toRgbString();var o=g(s||y).toRgb(),f=o.a===1?o:{r:255*(1-o.a)+o.r*o.a,g:255*(1-o.a)+o.g*o.a,b:255*(1-o.a)+o.b*o.a},u={r:f.r*(1-n.a)+n.r*n.a,g:f.g*(1-n.a)+n.g*n.a,b:f.b*(1-n.a)+n.b*n.a};return g(u).toRgbString()},C.contrast=function(r,s,n){var o=g(r);o.getAlpha()!==1&&(o=g(C.combine(r,y)));var f=o.isDark()?s?o.lighten(s):y:n?o.darken(n):v;return f.toString()},C.stroke=function(r,s){var n=g(s);r.style({stroke:C.tinyRGB(n),"stroke-opacity":n.getAlpha()})},C.fill=function(r,s){var n=g(s);r.style({fill:C.tinyRGB(n),"fill-opacity":n.getAlpha()})},C.clean=function(r){if(!(!r||typeof r!="object")){var s=Object.keys(r),n,o,f,u;for(n=0;n<s.length;n++)if(f=s[n],u=r[f],f.substr(f.length-5)==="color")if(Array.isArray(u))for(o=0;o<u.length;o++)u[o]=t(u[o]);else r[f]=t(u);else if(f.substr(f.length-10)==="colorscale"&&Array.isArray(u))for(o=0;o<u.length;o++)Array.isArray(u[o])&&(u[o][1]=t(u[o][1]));else if(Array.isArray(u)){var m=u[0];if(!Array.isArray(m)&&m&&typeof m=="object")for(o=0;o<u.length;o++)C.clean(u[o])}else u&&typeof u=="object"&&!a(u)&&C.clean(u)}};function t(r){if(R(r)||typeof r!="string")return r;var s=r.trim();if(s.substr(0,3)!=="rgb")return r;var n=s.match(/^rgba?\s*\(([^()]*)\)$/);if(!n)return r;var o=n[1].trim().split(/\s*[\s,]\s*/),f=s.charAt(3)==="a"&&o.length===4;if(!f&&o.length!==3)return r;for(var u=0;u<o.length;u++){if(!o[u].length||(o[u]=Number(o[u]),!(o[u]>=0)))return r;if(u===3)o[u]>1&&(o[u]=1);else if(o[u]>=1)return r}var m=Math.round(o[0]*255)+", "+Math.round(o[1]*255)+", "+Math.round(o[2]*255);return f?"rgba("+m+", "+o[3]+")":"rgb("+m+")"}},63583:function(W,H,e){var g=e(13838),R=e(41940),a=e(1426).extendFlat,C=e(30962).overrideAll;W.exports=C({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:g.linecolor,outlinewidth:g.linewidth,bordercolor:g.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:g.minor.tickmode,nticks:g.nticks,tick0:g.tick0,dtick:g.dtick,tickvals:g.tickvals,ticktext:g.ticktext,ticks:a({},g.ticks,{dflt:""}),ticklabeloverflow:a({},g.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:g.ticklen,tickwidth:g.tickwidth,tickcolor:g.tickcolor,ticklabelstep:g.ticklabelstep,showticklabels:g.showticklabels,labelalias:g.labelalias,tickfont:R({}),tickangle:g.tickangle,tickformat:g.tickformat,tickformatstops:g.tickformatstops,tickprefix:g.tickprefix,showtickprefix:g.showtickprefix,ticksuffix:g.ticksuffix,showticksuffix:g.showticksuffix,separatethousands:g.separatethousands,exponentformat:g.exponentformat,minexponent:g.minexponent,showexponent:g.showexponent,title:{text:{valType:"string"},font:R({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:R({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},30939:function(W){W.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},62499:function(W,H,e){var g=e(71828),R=e(44467),a=e(26218),C=e(38701),T=e(96115),v=e(89426),y=e(63583);W.exports=function(r,s,n){var o=R.newContainer(s,"colorbar"),f=r.colorbar||{};function u(U,F){return g.coerce(f,o,y,U,F)}var m=n.margin||{t:0,b:0,l:0,r:0},c=n.width-m.l-m.r,A=n.height-m.t-m.b,h=u("orientation"),l=h==="v",p=u("thicknessmode");u("thickness",p==="fraction"?30/(l?c:A):30);var M=u("lenmode");u("len",M==="fraction"?1:l?A:c);var S=u("yref"),P=u("xref"),x=S==="paper",E=P==="paper",w,i,L,b="left";l?(L="middle",b=E?"left":"right",w=E?1.02:1,i=.5):(L=x?"bottom":"top",b="center",w=.5,i=x?1.02:1),g.coerce(f,o,{x:{valType:"number",min:E?-2:0,max:E?3:1,dflt:w}},"x"),g.coerce(f,o,{y:{valType:"number",min:x?-2:0,max:x?3:1,dflt:i}},"y"),u("xanchor",b),u("xpad"),u("yanchor",L),u("ypad"),g.noneOrAll(f,o,["x","y"]),u("outlinecolor"),u("outlinewidth"),u("bordercolor"),u("borderwidth"),u("bgcolor");var O=g.coerce(f,o,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:l?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");u("ticklabeloverflow",O.indexOf("inside")!==-1?"hide past domain":"hide past div"),a(f,o,u,"linear");var _=n.font,N={outerTicks:!1,font:_};O.indexOf("inside")!==-1&&(N.bgColor="black"),v(f,o,u,"linear",N),T(f,o,u,"linear",N),C(f,o,u,"linear",N),u("title.text",n._dfltTitle.colorbar);var z=o.showticklabels?o.tickfont:_,B=g.extendFlat({},z,{color:_.color,size:g.bigFont(z.size)});g.coerceFont(u,"title.font",B),u("title.side",l?"top":"right")}},98981:function(W,H,e){var g=e(39898),R=e(84267),a=e(74875),C=e(73972),T=e(89298),v=e(28569),y=e(71828),t=y.strTranslate,r=e(1426).extendFlat,s=e(6964),n=e(91424),o=e(7901),f=e(92998),u=e(63893),m=e(52075).flipScale,c=e(71453),A=e(52830),h=e(13838),l=e(18783),p=l.LINE_SPACING,M=l.FROM_TL,S=l.FROM_BR,P=e(30939).cn;function x(O){var _=O._fullLayout,N=_._infolayer.selectAll("g."+P.colorbar).data(E(O),function(z){return z._id});N.enter().append("g").attr("class",function(z){return z._id}).classed(P.colorbar,!0),N.each(function(z){var B=g.select(this);y.ensureSingle(B,"rect",P.cbbg),y.ensureSingle(B,"g",P.cbfills),y.ensureSingle(B,"g",P.cblines),y.ensureSingle(B,"g",P.cbaxis,function(F){F.classed(P.crisp,!0)}),y.ensureSingle(B,"g",P.cbtitleunshift,function(F){F.append("g").classed(P.cbtitle,!0)}),y.ensureSingle(B,"rect",P.cboutline);var U=w(B,z,O);U&&U.then&&(O._promises||[]).push(U),O._context.edits.colorbarPosition&&i(B,z,O)}),N.exit().each(function(z){a.autoMargin(O,z._id)}).remove(),N.order()}function E(O){var _=O._fullLayout,N=O.calcdata,z=[],B,U,F,V;function j(q){return r(q,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function $(){typeof V.calc=="function"?V.calc(O,F,B):(B._fillgradient=U.reversescale?m(U.colorscale):U.colorscale,B._zrange=[U[V.min],U[V.max]])}for(var ne=0;ne<N.length;ne++){var oe=N[ne];if(F=oe[0].trace,!!F._module){var ce=F._module.colorbar;if(F.visible===!0&&ce)for(var Q=Array.isArray(ce),Z=Q?ce:[ce],K=0;K<Z.length;K++){V=Z[K];var J=V.container;U=J?F[J]:F,U&&U.showscale&&(B=j(U.colorbar),B._id="cb"+F.uid+(Q&&J?"-"+J:""),B._traceIndex=F.index,B._propPrefix=(J?J+".":"")+"colorbar.",B._meta=F._meta,$(),z.push(B))}}}for(var re in _._colorAxes)if(U=_[re],U.showscale){var le=_._colorAxes[re];B=j(U.colorbar),B._id="cb"+re,B._propPrefix=re+".colorbar.",B._meta=_._meta,V={min:"cmin",max:"cmax"},le[0]!=="heatmap"&&(F=le[1],V.calc=F._module.colorbar.calc),$(),z.push(B)}return z}function w(O,_,N){var z=_.orientation==="v",B=_.len,U=_.lenmode,F=_.thickness,V=_.thicknessmode,j=_.outlinewidth,$=_.borderwidth,ne=_.bgcolor,oe=_.xanchor,ce=_.yanchor,Q=_.xpad,Z=_.ypad,K=_.x,J=z?_.y:1-_.y,re=_.yref==="paper",le=_.xref==="paper",q=N._fullLayout,ee=q._size,ue=_._fillcolor,se=_._line,he=_.title,me=he.side,Ce=_._zrange||g.extent((typeof ue=="function"?ue:se.color).domain()),Te=typeof se.color=="function"?se.color:function(){return se.color},Oe=typeof ue=="function"?ue:function(){return ue},Ne=_._levels,Le=L(N,_,Ce),be=Le.fill,Ae=Le.line,He=Math.round(F*(V==="fraction"?z?ee.w:ee.h:1)),Ve=He/(z?ee.w:ee.h),ke=Math.round(B*(U==="fraction"?z?ee.h:ee.w:1)),Ge=ke/(z?ee.h:ee.w),it=le?ee.w:N._fullLayout.width,et=re?ee.h:N._fullLayout.height,tt=Math.round(z?K*it+Q:J*et+Z),at={center:.5,right:1}[oe]||0,vt={top:1,middle:.5}[ce]||0,yt=z?K-at*Ve:J-vt*Ve,gt=z?J-vt*Ge:K-at*Ge,Mt=Math.round(z?et*(1-gt):it*gt);_._lenFrac=Ge,_._thickFrac=Ve,_._uFrac=yt,_._vFrac=gt;var Ct=_._axis=b(N,_,Ce);Ct.position=Ve+(z?K+Q/ee.w:J+Z/ee.h);var Vt=["top","bottom"].indexOf(me)!==-1;if(z&&Vt&&(Ct.title.side=me,Ct.titlex=K+Q/ee.w,Ct.titley=gt+(he.side==="top"?Ge-Z/ee.h:Z/ee.h)),!z&&!Vt&&(Ct.title.side=me,Ct.titley=J+Z/ee.h,Ct.titlex=gt+Q/ee.w),se.color&&_.tickmode==="auto"){Ct.tickmode="linear",Ct.tick0=Ne.start;var Je=Ne.size,ze=y.constrain(ke/50,4,15)+1,_e=(Ce[1]-Ce[0])/((_.nticks||ze)*Je);if(_e>1){var Be=Math.pow(10,Math.floor(Math.log(_e)/Math.LN10));Je*=Be*y.roundUp(_e/Be,[2,5,10]),(Math.abs(Ne.start)/Ne.size+1e-6)%1<2e-6&&(Ct.tick0=0)}Ct.dtick=Je}Ct.domain=z?[gt+Z/ee.h,gt+Ge-Z/ee.h]:[gt+Q/ee.w,gt+Ge-Q/ee.w],Ct.setScale(),O.attr("transform",t(Math.round(ee.l),Math.round(ee.t)));var De=O.select("."+P.cbtitleunshift).attr("transform",t(-Math.round(ee.l),-Math.round(ee.t))),we=Ct.ticklabelposition,xe=Ct.title.font.size,Ee=O.select("."+P.cbaxis),Pe,Ue=0,$e=0;function qe(At,zt){var $t={propContainer:Ct,propName:_._propPrefix+"title",traceIndex:_._traceIndex,_meta:_._meta,placeholder:q._dfltTitle.colorbar,containerGroup:O.select("."+P.cbtitle)},Ar=At.charAt(0)==="h"?At.substr(1):"h"+At;O.selectAll("."+Ar+",."+Ar+"-math-group").remove(),f.draw(N,At,r($t,zt||{}))}function dt(){if(z&&Vt||!z&&!Vt){var At,zt;me==="top"&&(At=Q+ee.l+it*K,zt=Z+ee.t+et*(1-gt-Ge)+3+xe*.75),me==="bottom"&&(At=Q+ee.l+it*K,zt=Z+ee.t+et*(1-gt)-3-xe*.25),me==="right"&&(zt=Z+ee.t+et*J+3+xe*.75,At=Q+ee.l+it*gt),qe(Ct._id+"title",{attributes:{x:At,y:zt,"text-anchor":z?"start":"middle"}})}}function bt(){if(z&&!Vt||!z&&Vt){var At=Ct.position||0,zt=Ct._offset+Ct._length/2,$t,Ar;if(me==="right")Ar=zt,$t=ee.l+it*At+10+xe*(Ct.showticklabels?1:.5);else if($t=zt,me==="bottom"&&(Ar=ee.t+et*At+10+(we.indexOf("inside")===-1?Ct.tickfont.size:0)+(Ct.ticks!=="intside"&&_.ticklen||0)),me==="top"){var ut=he.text.split("<br>").length;Ar=ee.t+et*At+10-He-p*xe*ut}qe((z?"h":"v")+Ct._id+"title",{avoid:{selection:g.select(N).selectAll("g."+Ct._id+"tick"),side:me,offsetTop:z?0:ee.t,offsetLeft:z?ee.l:0,maxShift:z?q.width:q.height},attributes:{x:$t,y:Ar,"text-anchor":"middle"},transform:{rotate:z?-90:0,offset:0}})}}function Gt(){if(!z&&!Vt||z&&Vt){var At=O.select("."+P.cbtitle),zt=At.select("text"),$t=[-j/2,j/2],Ar=At.select(".h"+Ct._id+"title-math-group").node(),ut=15.6;zt.node()&&(ut=parseInt(zt.node().style.fontSize,10)*p);var Yt;if(Ar?(Yt=n.bBox(Ar),$e=Yt.width,Ue=Yt.height,Ue>ut&&($t[1]-=(Ue-ut)/2)):zt.node()&&!zt.classed(P.jsPlaceholder)&&(Yt=n.bBox(zt.node()),$e=Yt.width,Ue=Yt.height),z){if(Ue){if(Ue+=5,me==="top")Ct.domain[1]-=Ue/ee.h,$t[1]*=-1;else{Ct.domain[0]+=Ue/ee.h;var Kt=u.lineCount(zt);$t[1]+=(1-Kt)*ut}At.attr("transform",t($t[0],$t[1])),Ct.setScale()}}else $e&&(me==="right"&&(Ct.domain[0]+=($e+xe/2)/ee.w),At.attr("transform",t($t[0],$t[1])),Ct.setScale())}O.selectAll("."+P.cbfills+",."+P.cblines).attr("transform",z?t(0,Math.round(ee.h*(1-Ct.domain[1]))):t(Math.round(ee.w*Ct.domain[0]),0)),Ee.attr("transform",z?t(0,Math.round(-ee.t)):t(Math.round(-ee.l),0));var mr=O.select("."+P.cbfills).selectAll("rect."+P.cbfill).attr("style","").data(be);mr.enter().append("rect").classed(P.cbfill,!0).attr("style",""),mr.exit().remove();var ur=Ce.map(Ct.c2p).map(Math.round).sort(function(Dt,Rt){return Dt-Rt});mr.each(function(Dt,Rt){var Bt=[Rt===0?Ce[0]:(be[Rt]+be[Rt-1])/2,Rt===be.length-1?Ce[1]:(be[Rt]+be[Rt+1])/2].map(Ct.c2p).map(Math.round);z&&(Bt[1]=y.constrain(Bt[1]+(Bt[1]>Bt[0])?1:-1,ur[0],ur[1]));var Nt=g.select(this).attr(z?"x":"y",tt).attr(z?"y":"x",g.min(Bt)).attr(z?"width":"height",Math.max(He,2)).attr(z?"height":"width",Math.max(g.max(Bt)-g.min(Bt),2));if(_._fillgradient)n.gradient(Nt,N,_._id,z?"vertical":"horizontalreversed",_._fillgradient,"fill");else{var Xt=Oe(Dt).replace("e-","");Nt.attr("fill",R(Xt).toHexString())}});var pt=O.select("."+P.cblines).selectAll("path."+P.cbline).data(se.color&&se.width?Ae:[]);pt.enter().append("path").classed(P.cbline,!0),pt.exit().remove(),pt.each(function(Dt){var Rt=tt,Bt=Math.round(Ct.c2p(Dt))+se.width/2%1;g.select(this).attr("d","M"+(z?Rt+","+Bt:Bt+","+Rt)+(z?"h":"v")+He).call(n.lineGroupStyle,se.width,Te(Dt),se.dash)}),Ee.selectAll("g."+Ct._id+"tick,path").remove();var st=tt+He+(j||0)/2-(_.ticks==="outside"?1:0),xt=T.calcTicks(Ct),St=T.getTickSigns(Ct)[2];return T.drawTicks(N,Ct,{vals:Ct.ticks==="inside"?T.clipEnds(Ct,xt):xt,layer:Ee,path:T.makeTickPath(Ct,st,St),transFn:T.makeTransTickFn(Ct)}),T.drawLabels(N,Ct,{vals:xt,layer:Ee,transFn:T.makeTransTickLabelFn(Ct),labelFns:T.makeLabelFns(Ct,st)})}function Qt(){var At,zt=He+j/2;we.indexOf("inside")===-1&&(At=n.bBox(Ee.node()),zt+=z?At.width:At.height),Pe=De.select("text");var $t=0,Ar=z&&me==="top",ut=!z&&me==="right",Yt=0;if(Pe.node()&&!Pe.classed(P.jsPlaceholder)){var Kt,mr=De.select(".h"+Ct._id+"title-math-group").node();mr&&(z&&Vt||!z&&!Vt)?(At=n.bBox(mr),$t=At.width,Kt=At.height):(At=n.bBox(De.node()),$t=At.right-ee.l-(z?tt:Mt),Kt=At.bottom-ee.t-(z?Mt:tt),!z&&me==="top"&&(zt+=At.height,Yt=At.height)),ut&&(Pe.attr("transform",t($t/2+xe/2,0)),$t*=2),zt=Math.max(zt,z?$t:Kt)}var ur=(z?Q:Z)*2+zt+$+j/2,pt=0;!z&&he.text&&ce==="bottom"&&J<=0&&(pt=ur/2,ur+=pt,Yt+=pt),q._hColorbarMoveTitle=pt,q._hColorbarMoveCBTitle=Yt;var st=$+j,xt=(z?tt:Mt)-st/2-(z?Q:0),St=(z?Mt:tt)-(z?ke:Z+Yt-pt);O.select("."+P.cbbg).attr("x",xt).attr("y",St).attr(z?"width":"height",Math.max(ur-pt,2)).attr(z?"height":"width",Math.max(ke+st,2)).call(o.fill,ne).call(o.stroke,_.bordercolor).style("stroke-width",$);var Dt=ut?Math.max($t-10,0):0;O.selectAll("."+P.cboutline).attr("x",(z?tt:Mt+Q)+Dt).attr("y",(z?Mt+Z-ke:tt)+(Ar?Ue:0)).attr(z?"width":"height",Math.max(He,2)).attr(z?"height":"width",Math.max(ke-(z?2*Z+Ue:2*Q+Dt),2)).call(o.stroke,_.outlinecolor).style({fill:"none","stroke-width":j});var Rt=z?at*ur:0,Bt=z?0:(1-vt)*ur-Yt;if(Rt=le?ee.l-Rt:-Rt,Bt=re?ee.t-Bt:-Bt,O.attr("transform",t(Rt,Bt)),!z&&($||R(ne).getAlpha()&&!R.equals(q.paper_bgcolor,ne))){var Nt=Ee.selectAll("text"),Xt=Nt[0].length,lr=O.select("."+P.cbbg).node(),sr=n.bBox(lr),dr=n.getTranslate(O),je=2;Nt.each(function(gr,pr){var vr=0,Vr=Xt-1;if(pr===vr||pr===Vr){var kr=n.bBox(this),_r=n.getTranslate(this),pn;if(pr===Vr){var en=kr.right+_r.x,Bn=sr.right+dr.x+Mt-$-je+K;pn=Bn-en,pn>0&&(pn=0)}else if(pr===vr){var Tn=kr.left+_r.x,Mr=sr.left+dr.x+Mt+$+je;pn=Mr-Tn,pn<0&&(pn=0)}pn&&(Xt<3?this.setAttribute("transform","translate("+pn+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var Ye={},It=M[oe],kt=S[oe],jt=M[ce],tr=S[ce],or=ur-He;z?(U==="pixels"?(Ye.y=J,Ye.t=ke*jt,Ye.b=ke*tr):(Ye.t=Ye.b=0,Ye.yt=J+B*jt,Ye.yb=J-B*tr),V==="pixels"?(Ye.x=K,Ye.l=ur*It,Ye.r=ur*kt):(Ye.l=or*It,Ye.r=or*kt,Ye.xl=K-F*It,Ye.xr=K+F*kt)):(U==="pixels"?(Ye.x=K,Ye.l=ke*It,Ye.r=ke*kt):(Ye.l=Ye.r=0,Ye.xl=K+B*It,Ye.xr=K-B*kt),V==="pixels"?(Ye.y=1-J,Ye.t=ur*jt,Ye.b=ur*tr):(Ye.t=or*jt,Ye.b=or*tr,Ye.yt=J-F*jt,Ye.yb=J+F*tr));var rr=_.y<.5?"b":"t",Ot=_.x<.5?"l":"r";N._fullLayout._reservedMargin[_._id]={};var hr={r:q.width-xt-Rt,l:xt+Ye.r,b:q.height-St-Bt,t:St+Ye.b};le&&re?a.autoMargin(N,_._id,Ye):le?N._fullLayout._reservedMargin[_._id][rr]=hr[rr]:re||z?N._fullLayout._reservedMargin[_._id][Ot]=hr[Ot]:N._fullLayout._reservedMargin[_._id][rr]=hr[rr]}return y.syncOrAsync([a.previousPromises,dt,Gt,bt,a.previousPromises,Qt],N)}function i(O,_,N){var z=_.orientation==="v",B=N._fullLayout,U=B._size,F,V,j;v.init({element:O.node(),gd:N,prepFn:function(){F=O.attr("transform"),s(O)},moveFn:function($,ne){O.attr("transform",F+t($,ne)),V=v.align((z?_._uFrac:_._vFrac)+$/U.w,z?_._thickFrac:_._lenFrac,0,1,_.xanchor),j=v.align((z?_._vFrac:1-_._uFrac)-ne/U.h,z?_._lenFrac:_._thickFrac,0,1,_.yanchor);var oe=v.getCursor(V,j,_.xanchor,_.yanchor);s(O,oe)},doneFn:function(){if(s(O),V!==void 0&&j!==void 0){var $={};$[_._propPrefix+"x"]=V,$[_._propPrefix+"y"]=j,_._traceIndex!==void 0?C.call("_guiRestyle",N,$,_._traceIndex):C.call("_guiRelayout",N,$)}}})}function L(O,_,N){var z=_._levels,B=[],U=[],F,V,j=z.end+z.size/100,$=z.size,ne=1.001*N[0]-.001*N[1],oe=1.001*N[1]-.001*N[0];for(V=0;V<1e5&&(F=z.start+V*$,!($>0?F>=j:F<=j));V++)F>ne&&F<oe&&B.push(F);if(_._fillgradient)U=[0];else if(typeof _._fillcolor=="function"){var ce=_._filllevels;if(ce)for(j=ce.end+ce.size/100,$=ce.size,V=0;V<1e5&&(F=ce.start+V*$,!($>0?F>=j:F<=j));V++)F>N[0]&&F<N[1]&&U.push(F);else U=B.map(function(Q){return Q-z.size/2}),U.push(U[U.length-1]+z.size)}else _._fillcolor&&typeof _._fillcolor=="string"&&(U=[0]);return z.size<0&&(B.reverse(),U.reverse()),{line:B,fill:U}}function b(O,_,N){var z=O._fullLayout,B=_.orientation==="v",U={type:"linear",range:N,tickmode:_.tickmode,nticks:_.nticks,tick0:_.tick0,dtick:_.dtick,tickvals:_.tickvals,ticktext:_.ticktext,ticks:_.ticks,ticklen:_.ticklen,tickwidth:_.tickwidth,tickcolor:_.tickcolor,showticklabels:_.showticklabels,labelalias:_.labelalias,ticklabelposition:_.ticklabelposition,ticklabeloverflow:_.ticklabeloverflow,ticklabelstep:_.ticklabelstep,tickfont:_.tickfont,tickangle:_.tickangle,tickformat:_.tickformat,exponentformat:_.exponentformat,minexponent:_.minexponent,separatethousands:_.separatethousands,showexponent:_.showexponent,showtickprefix:_.showtickprefix,tickprefix:_.tickprefix,showticksuffix:_.showticksuffix,ticksuffix:_.ticksuffix,title:_.title,showline:!0,anchor:"free",side:B?"right":"bottom",position:1},F=B?"y":"x",V={type:"linear",_id:F+_._id},j={letter:F,font:z.font,noHover:!0,noTickson:!0,noTicklabelmode:!0,noInsideRange:!0,calendar:z.calendar};function $(ne,oe){return y.coerce(U,V,h,ne,oe)}return c(U,V,$,j,z),A(U,V,$,j),V}W.exports={draw:x}},76228:function(W,H,e){var g=e(71828);W.exports=function(a){return g.isPlainObject(a.colorbar)}},12311:function(W,H,e){W.exports={moduleType:"component",name:"colorbar",attributes:e(63583),supplyDefaults:e(62499),draw:e(98981).draw,hasColorbar:e(76228)}},50693:function(W,H,e){var g=e(63583),R=e(30587).counter,a=e(78607),C=e(63282).scales;a(C),W.exports=function(v,y){v=v||"",y=y||{};var t=y.cLetter||"c";"onlyIfNumerical"in y&&y.onlyIfNumerical;var r="noScale"in y?y.noScale:v==="marker.line",s="showScaleDflt"in y?y.showScaleDflt:t==="z",n=typeof y.colorscaleDflt=="string"?C[y.colorscaleDflt]:null,o=y.editTypeOverride||"",f;"colorAttr"in y?(f=y.colorAttr,y.colorAttr):f={z:"z",c:"color"}[t];var u=t+"auto",m=t+"min",c=t+"max",A=t+"mid",h={};h[m]=h[c]=void 0;var l={};l[u]=!1;var p={};return f==="color"&&(p.color={valType:"color",arrayOk:!0,editType:o||"style"},y.anim&&(p.color.anim=!0)),p[u]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:h},p[m]={valType:"number",dflt:null,editType:o||"plot",impliedEdits:l},p[c]={valType:"number",dflt:null,editType:o||"plot",impliedEdits:l},p[A]={valType:"number",dflt:null,editType:"calc",impliedEdits:h},p.colorscale={valType:"colorscale",editType:"calc",dflt:n,impliedEdits:{autocolorscale:!1}},p.autocolorscale={valType:"boolean",dflt:y.autoColorDflt!==!1,editType:"calc",impliedEdits:{colorscale:void 0}},p.reversescale={valType:"boolean",dflt:!1,editType:"plot"},r||(p.showscale={valType:"boolean",dflt:s,editType:"calc"},p.colorbar=g),y.noColorAxis||(p.coloraxis={valType:"subplotid",regex:R("coloraxis"),dflt:null,editType:"calc"}),p}},78803:function(W,H,e){var g=e(92770),R=e(71828),a=e(52075).extractOpts;W.exports=function(T,v,y){var t=T._fullLayout,r=y.vals,s=y.containerStr,n=s?R.nestedProperty(v,s).get():v,o=a(n),f=o.auto!==!1,u=o.min,m=o.max,c=o.mid,A=function(){return R.aggNums(Math.min,null,r)},h=function(){return R.aggNums(Math.max,null,r)};if(u===void 0?u=A():f&&(n._colorAx&&g(u)?u=Math.min(u,A()):u=A()),m===void 0?m=h():f&&(n._colorAx&&g(m)?m=Math.max(m,h()):m=h()),f&&c!==void 0&&(m-c>c-u?u=c-(m-c):m-c<c-u&&(m=c+(c-u))),u===m&&(u-=.5,m+=.5),o._sync("min",u),o._sync("max",m),o.autocolorscale){var l;u*m<0?l=t.colorscale.diverging:u>=0?l=t.colorscale.sequential:l=t.colorscale.sequentialminus,o._sync("colorscale",l)}}},33046:function(W,H,e){var g=e(71828),R=e(52075).hasColorscale,a=e(52075).extractOpts;W.exports=function(T,v){function y(u,m){var c=u["_"+m];c!==void 0&&(u[m]=c)}function t(u,m){var c=m.container?g.nestedProperty(u,m.container).get():u;if(c)if(c.coloraxis)c._colorAx=v[c.coloraxis];else{var A=a(c),h=A.auto;(h||A.min===void 0)&&y(c,m.min),(h||A.max===void 0)&&y(c,m.max),A.autocolorscale&&y(c,"colorscale")}}for(var r=0;r<T.length;r++){var s=T[r],n=s._module.colorbar;if(n)if(Array.isArray(n))for(var o=0;o<n.length;o++)t(s,n[o]);else t(s,n);R(s,"marker.line")&&t(s,{container:"marker.line",min:"cmin",max:"cmax"})}for(var f in v._colorAxes)t(v[f],{min:"cmin",max:"cmax"})}},1586:function(W,H,e){var g=e(92770),R=e(71828),a=e(76228),C=e(62499),T=e(63282).isValid,v=e(73972).traceIs;function y(t,r){var s=r.slice(0,r.length-1);return r?R.nestedProperty(t,s).get()||{}:t}W.exports=function t(r,s,n,o,f){var u=f.prefix,m=f.cLetter,c="_module"in s,A=y(r,u),h=y(s,u),l=y(s._template||{},u)||{},p=function(){return delete r.coloraxis,delete s.coloraxis,t(r,s,n,o,f)};if(c){var M=n._colorAxes||{},S=o(u+"coloraxis");if(S){var P=v(s,"contour")&&R.nestedProperty(s,"contours.coloring").get()||"heatmap",x=M[S];x?(x[2].push(p),x[0]!==P&&(x[0]=!1,R.warn(["Ignoring coloraxis:",S,"setting","as it is linked to incompatible colorscales."].join(" ")))):M[S]=[P,s,[p]];return}}var E=A[m+"min"],w=A[m+"max"],i=g(E)&&g(w)&&E<w,L=o(u+m+"auto",!i);L?o(u+m+"mid"):(o(u+m+"min"),o(u+m+"max"));var b=A.colorscale,O=l.colorscale,_;if(b!==void 0&&(_=!T(b)),O!==void 0&&(_=!T(O)),o(u+"autocolorscale",_),o(u+"colorscale"),o(u+"reversescale"),u!=="marker.line."){var N;u&&c&&(N=a(A));var z=o(u+"showscale",N);z&&(u&&l&&(h._template=l),C(A,h,n))}}},52075:function(W,H,e){var g=e(39898),R=e(84267),a=e(92770),C=e(71828),T=e(7901),v=e(63282).isValid;function y(c,A,h){var l=A?C.nestedProperty(c,A).get()||{}:c,p=l[h||"color"],M=!1;if(C.isArrayOrTypedArray(p)){for(var S=0;S<p.length;S++)if(a(p[S])){M=!0;break}}return C.isPlainObject(l)&&(M||l.showscale===!0||a(l.cmin)&&a(l.cmax)||v(l.colorscale)||C.isPlainObject(l.colorbar))}var t=["showscale","autocolorscale","colorscale","reversescale","colorbar"],r=["min","max","mid","auto"];function s(c){var A=c._colorAx,h=A||c,l={},p,M,S;for(M=0;M<t.length;M++)S=t[M],l[S]=h[S];if(A)for(p="c",M=0;M<r.length;M++)S=r[M],l[S]=h["c"+S];else{var P;for(M=0;M<r.length;M++){if(S=r[M],P="c"+S,P in h){l[S]=h[P];continue}P="z"+S,P in h&&(l[S]=h[P])}p=P.charAt(0)}return l._sync=function(x,E){var w=r.indexOf(x)!==-1?p+x:x;h[w]=h["_"+w]=E},l}function n(c){for(var A=s(c),h=A.min,l=A.max,p=A.reversescale?o(A.colorscale):A.colorscale,M=p.length,S=new Array(M),P=new Array(M),x=0;x<M;x++){var E=p[x];S[x]=h+E[0]*(l-h),P[x]=E[1]}return{domain:S,range:P}}function o(c){for(var A=c.length,h=new Array(A),l=A-1,p=0;l>=0;l--,p++){var M=c[l];h[p]=[1-M[0],M[1]]}return h}function f(c,A){A=A||{};for(var h=c.domain,l=c.range,p=l.length,M=new Array(p),S=0;S<p;S++){var P=R(l[S]).toRgb();M[S]=[P.r,P.g,P.b,P.a]}var x=g.scale.linear().domain(h).range(M).clamp(!0),E=A.noNumericCheck,w=A.returnArray,i;return E&&w?i=x:E?i=function(L){return m(x(L))}:w?i=function(L){return a(L)?x(L):R(L).isValid()?L:T.defaultLine}:i=function(L){return a(L)?m(x(L)):R(L).isValid()?L:T.defaultLine},i.domain=x.domain,i.range=function(){return l},i}function u(c,A){return f(n(c),A)}function m(c){var A={r:c[0],g:c[1],b:c[2],a:c[3]};return R(A).toRgbString()}W.exports={hasColorscale:y,extractOpts:s,extractScale:n,flipScale:o,makeColorScaleFunc:f,makeColorScaleFuncFromTrace:u}},21081:function(W,H,e){var g=e(63282),R=e(52075);W.exports={moduleType:"component",name:"colorscale",attributes:e(50693),layoutAttributes:e(72673),supplyLayoutDefaults:e(30959),handleDefaults:e(1586),crossTraceDefaults:e(33046),calc:e(78803),scales:g.scales,defaultScale:g.defaultScale,getScale:g.get,isValidScale:g.isValid,hasColorscale:R.hasColorscale,extractOpts:R.extractOpts,extractScale:R.extractScale,flipScale:R.flipScale,makeColorScaleFunc:R.makeColorScaleFunc,makeColorScaleFuncFromTrace:R.makeColorScaleFuncFromTrace}},72673:function(W,H,e){var g=e(1426).extendFlat,R=e(50693),a=e(63282).scales;W.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:a.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:a.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:a.RdBu,editType:"calc"}},coloraxis:g({_isSubplotObj:!0,editType:"calc"},R("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},30959:function(W,H,e){var g=e(71828),R=e(44467),a=e(72673),C=e(1586);W.exports=function(v,y){function t(c,A){return g.coerce(v,y,a,c,A)}t("colorscale.sequential"),t("colorscale.sequentialminus"),t("colorscale.diverging");var r=y._colorAxes,s,n;function o(c,A){return g.coerce(s,n,a.coloraxis,c,A)}for(var f in r){var u=r[f];if(u[0])s=v[f]||{},n=R.newContainer(y,f,"coloraxis"),n._name=f,C(s,n,y,o,{prefix:"",cLetter:"c"});else{for(var m=0;m<u[2].length;m++)u[2][m]();delete y._colorAxes[f]}}}},63282:function(W,H,e){var g=e(84267),R={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},a=R.RdBu;function C(y,t){if(t||(t=a),!y)return t;function r(){try{y=R[y]||JSON.parse(y)}catch{y=t}}return typeof y=="string"&&(r(),typeof y=="string"&&r()),T(y)?y:t}function T(y){var t=0;if(!Array.isArray(y)||y.length<2||!y[0]||!y[y.length-1]||+y[0][0]!=0||+y[y.length-1][0]!=1)return!1;for(var r=0;r<y.length;r++){var s=y[r];if(s.length!==2||+s[0]<t||!g(s[1]).isValid())return!1;t=+s[0]}return!0}function v(y){return R[y]!==void 0?!0:T(y)}W.exports={scales:R,defaultScale:a,get:C,isValid:v}},92807:function(W){W.exports=function(e,g,R,a,C){var T=(e-R)/(a-R),v=T+g/(a-R),y=(T+v)/2;return C==="left"||C==="bottom"?T:C==="center"||C==="middle"?y:C==="right"||C==="top"?v:T<.6666666666666666-y?T:v>1.3333333333333333-y?v:y}},70461:function(W,H,e){var g=e(71828),R=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];W.exports=function(C,T,v,y){return v==="left"?C=0:v==="center"?C=1:v==="right"?C=2:C=g.constrain(Math.floor(C*3),0,2),y==="bottom"?T=0:y==="middle"?T=1:y==="top"?T=2:T=g.constrain(Math.floor(T*3),0,2),R[T][C]}},64505:function(W,H){H.selectMode=function(e){return e==="lasso"||e==="select"},H.drawMode=function(e){return e==="drawclosedpath"||e==="drawopenpath"||e==="drawline"||e==="drawrect"||e==="drawcircle"},H.openMode=function(e){return e==="drawline"||e==="drawopenpath"},H.rectMode=function(e){return e==="select"||e==="drawline"||e==="drawrect"||e==="drawcircle"},H.freeMode=function(e){return e==="lasso"||e==="drawclosedpath"||e==="drawopenpath"},H.selectingOrDrawing=function(e){return H.freeMode(e)||H.rectMode(e)}},28569:function(W,H,e){var g=e(48956),R=e(57035),a=e(38520),C=e(71828).removeElement,T=e(85555),v=W.exports={};v.align=e(92807),v.getCursor=e(70461);var y=e(26041);v.unhover=y.wrapped,v.unhoverRaw=y.raw,v.init=function(n){var o=n.gd,f=1,u=o._context.doubleClickDelay,m=n.element,c,A,h,l,p,M,S,P;o._mouseDownTime||(o._mouseDownTime=0),m.style.pointerEvents="all",m.onmousedown=w,a?(m._ontouchstart&&m.removeEventListener("touchstart",m._ontouchstart),m._ontouchstart=w,m.addEventListener("touchstart",w,{passive:!1})):m.ontouchstart=w;function x(b,O,_){return Math.abs(b)<_&&(b=0),Math.abs(O)<_&&(O=0),[b,O]}var E=n.clampFn||x;function w(b){o._dragged=!1,o._dragging=!0;var O=r(b);c=O[0],A=O[1],S=b.target,M=b,P=b.buttons===2||b.ctrlKey,typeof b.clientX>"u"&&typeof b.clientY>"u"&&(b.clientX=c,b.clientY=A),h=new Date().getTime(),h-o._mouseDownTime<u?f+=1:(f=1,o._mouseDownTime=h),n.prepFn&&n.prepFn(b,c,A),R&&!P?(p=t(),p.style.cursor=window.getComputedStyle(m).cursor):R||(p=document,l=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(m).cursor),document.addEventListener("mouseup",L),document.addEventListener("touchend",L),n.dragmode!==!1&&(b.preventDefault(),document.addEventListener("mousemove",i),document.addEventListener("touchmove",i,{passive:!1}))}function i(b){b.preventDefault();var O=r(b),_=n.minDrag||T.MINDRAG,N=E(O[0]-c,O[1]-A,_),z=N[0],B=N[1];(z||B)&&(o._dragged=!0,v.unhover(o,b)),o._dragged&&n.moveFn&&!P&&(o._dragdata={element:m,dx:z,dy:B},n.moveFn(z,B))}function L(b){if(delete o._dragdata,n.dragmode!==!1&&(b.preventDefault(),document.removeEventListener("mousemove",i),document.removeEventListener("touchmove",i)),document.removeEventListener("mouseup",L),document.removeEventListener("touchend",L),R?C(p):l&&(p.documentElement.style.cursor=l,l=null),!o._dragging){o._dragged=!1;return}if(o._dragging=!1,new Date().getTime()-o._mouseDownTime>u&&(f=Math.max(f-1,1)),o._dragged)n.doneFn&&n.doneFn();else if(n.clickFn&&n.clickFn(f,M),!P){var O;try{O=new MouseEvent("click",b)}catch{var _=r(b);O=document.createEvent("MouseEvents"),O.initMouseEvent("click",b.bubbles,b.cancelable,b.view,b.detail,b.screenX,b.screenY,_[0],_[1],b.ctrlKey,b.altKey,b.shiftKey,b.metaKey,b.button,b.relatedTarget)}S.dispatchEvent(O)}o._dragging=!1,o._dragged=!1}};function t(){var s=document.createElement("div");s.className="dragcover";var n=s.style;return n.position="fixed",n.left=0,n.right=0,n.top=0,n.bottom=0,n.zIndex=999999999,n.background="none",document.body.appendChild(s),s}v.coverSlip=t;function r(s){return g(s.changedTouches?s.changedTouches[0]:s,document.body)}},26041:function(W,H,e){var g=e(11086),R=e(79990),a=e(24401).getGraphDiv,C=e(26675),T=W.exports={};T.wrapped=function(v,y,t){v=a(v),v._fullLayout&&R.clear(v._fullLayout._uid+C.HOVERID),T.raw(v,y,t)},T.raw=function(y,t){var r=y._fullLayout,s=y._hoverdata;t||(t={}),!(t.target&&!y._dragged&&g.triggerHandler(y,"plotly_beforehover",t)===!1)&&(r._hoverlayer.selectAll("g").remove(),r._hoverlayer.selectAll("line").remove(),r._hoverlayer.selectAll("circle").remove(),y._hoverdata=void 0,t.target&&s&&y.emit("plotly_unhover",{event:t,points:s}))}},79952:function(W,H){H.P={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},H.u={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},91424:function(W,H,e){var g=e(39898),R=e(71828),a=R.numberFormat,C=e(92770),T=e(84267),v=e(73972),y=e(7901),t=e(21081),r=R.strTranslate,s=e(63893),n=e(77922),o=e(18783),f=o.LINE_SPACING,u=e(37822).DESELECTDIM,m=e(34098),c=e(39984),A=e(23469).appendArrayPointValue,h=W.exports={};h.font=function(Le,be,Ae,He){R.isPlainObject(be)&&(He=be.color,Ae=be.size,be=be.family),be&&Le.style("font-family",be),Ae+1&&Le.style("font-size",Ae+"px"),He&&Le.call(y.fill,He)},h.setPosition=function(Le,be,Ae){Le.attr("x",be).attr("y",Ae)},h.setSize=function(Le,be,Ae){Le.attr("width",be).attr("height",Ae)},h.setRect=function(Le,be,Ae,He,Ve){Le.call(h.setPosition,be,Ae).call(h.setSize,He,Ve)},h.translatePoint=function(Le,be,Ae,He){var Ve=Ae.c2p(Le.x),ke=He.c2p(Le.y);if(C(Ve)&&C(ke)&&be.node())be.node().nodeName==="text"?be.attr("x",Ve).attr("y",ke):be.attr("transform",r(Ve,ke));else return!1;return!0},h.translatePoints=function(Le,be,Ae){Le.each(function(He){var Ve=g.select(this);h.translatePoint(He,Ve,be,Ae)})},h.hideOutsideRangePoint=function(Le,be,Ae,He,Ve,ke){be.attr("display",Ae.isPtWithinRange(Le,Ve)&&He.isPtWithinRange(Le,ke)?null:"none")},h.hideOutsideRangePoints=function(Le,be){if(be._hasClipOnAxisFalse){var Ae=be.xaxis,He=be.yaxis;Le.each(function(Ve){var ke=Ve[0].trace,Ge=ke.xcalendar,it=ke.ycalendar,et=v.traceIs(ke,"bar-like")?".bartext":".point,.textpoint";Le.selectAll(et).each(function(tt){h.hideOutsideRangePoint(tt,g.select(this),Ae,He,Ge,it)})})}},h.crispRound=function(Le,be,Ae){return!be||!C(be)?Ae||0:Le._context.staticPlot?be:be<1?1:Math.round(be)},h.singleLineStyle=function(Le,be,Ae,He,Ve){be.style("fill","none");var ke=(((Le||[])[0]||{}).trace||{}).line||{},Ge=Ae||ke.width||0,it=Ve||ke.dash||"";y.stroke(be,He||ke.color),h.dashLine(be,it,Ge)},h.lineGroupStyle=function(Le,be,Ae,He){Le.style("fill","none").each(function(Ve){var ke=(((Ve||[])[0]||{}).trace||{}).line||{},Ge=be||ke.width||0,it=He||ke.dash||"";g.select(this).call(y.stroke,Ae||ke.color).call(h.dashLine,it,Ge)})},h.dashLine=function(Le,be,Ae){Ae=+Ae||0,be=h.dashStyle(be,Ae),Le.style({"stroke-dasharray":be,"stroke-width":Ae+"px"})},h.dashStyle=function(Le,be){be=+be||1;var Ae=Math.max(be,3);return Le==="solid"?Le="":Le==="dot"?Le=Ae+"px,"+Ae+"px":Le==="dash"?Le=3*Ae+"px,"+3*Ae+"px":Le==="longdash"?Le=5*Ae+"px,"+5*Ae+"px":Le==="dashdot"?Le=3*Ae+"px,"+Ae+"px,"+Ae+"px,"+Ae+"px":Le==="longdashdot"&&(Le=5*Ae+"px,"+2*Ae+"px,"+Ae+"px,"+2*Ae+"px"),Le};function l(Le,be,Ae){var He=be.fillpattern,Ve=He&&h.getPatternAttr(He.shape,0,"");if(Ve){var ke=h.getPatternAttr(He.bgcolor,0,null),Ge=h.getPatternAttr(He.fgcolor,0,null),it=He.fgopacity,et=h.getPatternAttr(He.size,0,8),tt=h.getPatternAttr(He.solidity,0,.3),at=be.uid;h.pattern(Le,"point",Ae,at,Ve,et,tt,void 0,He.fillmode,ke,Ge,it)}else be.fillcolor&&Le.call(y.fill,be.fillcolor)}h.singleFillStyle=function(Le,be){var Ae=g.select(Le.node()),He=Ae.data(),Ve=((He[0]||[])[0]||{}).trace||{};l(Le,Ve,be)},h.fillGroupStyle=function(Le,be){Le.style("stroke-width",0).each(function(Ae){var He=g.select(this);Ae[0].trace&&l(He,Ae[0].trace,be)})};var p=e(90998);h.symbolNames=[],h.symbolFuncs=[],h.symbolBackOffs=[],h.symbolNeedLines={},h.symbolNoDot={},h.symbolNoFill={},h.symbolList=[],Object.keys(p).forEach(function(Le){var be=p[Le],Ae=be.n;h.symbolList.push(Ae,String(Ae),Le,Ae+100,String(Ae+100),Le+"-open"),h.symbolNames[Ae]=Le,h.symbolFuncs[Ae]=be.f,h.symbolBackOffs[Ae]=be.backoff||0,be.needLine&&(h.symbolNeedLines[Ae]=!0),be.noDot?h.symbolNoDot[Ae]=!0:h.symbolList.push(Ae+200,String(Ae+200),Le+"-dot",Ae+300,String(Ae+300),Le+"-open-dot"),be.noFill&&(h.symbolNoFill[Ae]=!0)});var M=h.symbolNames.length,S="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";h.symbolNumber=function(Le){if(C(Le))Le=+Le;else if(typeof Le=="string"){var be=0;Le.indexOf("-open")>0&&(be=100,Le=Le.replace("-open","")),Le.indexOf("-dot")>0&&(be+=200,Le=Le.replace("-dot","")),Le=h.symbolNames.indexOf(Le),Le>=0&&(Le+=be)}return Le%100>=M||Le>=400?0:Math.floor(Math.max(Le,0))};function P(Le,be,Ae,He){var Ve=Le%100;return h.symbolFuncs[Ve](be,Ae,He)+(Le>=200?S:"")}var x={x1:1,x2:0,y1:0,y2:0},E={x1:0,x2:0,y1:1,y2:0},w=a("~f"),i={radial:{node:"radialGradient"},radialreversed:{node:"radialGradient",reversed:!0},horizontal:{node:"linearGradient",attrs:x},horizontalreversed:{node:"linearGradient",attrs:x,reversed:!0},vertical:{node:"linearGradient",attrs:E},verticalreversed:{node:"linearGradient",attrs:E,reversed:!0}};h.gradient=function(Le,be,Ae,He,Ve,ke){for(var Ge=Ve.length,it=i[He],et=new Array(Ge),tt=0;tt<Ge;tt++)it.reversed?et[Ge-1-tt]=[w((1-Ve[tt][0])*100),Ve[tt][1]]:et[tt]=[w(Ve[tt][0]*100),Ve[tt][1]];var at=be._fullLayout,vt="g"+at._uid+"-"+Ae,yt=at._defs.select(".gradients").selectAll("#"+vt).data([He+et.join(";")],R.identity);yt.exit().remove(),yt.enter().append(it.node).each(function(){var gt=g.select(this);it.attrs&&gt.attr(it.attrs),gt.attr("id",vt);var Mt=gt.selectAll("stop").data(et);Mt.exit().remove(),Mt.enter().append("stop"),Mt.each(function(Ct){var Vt=T(Ct[1]);g.select(this).attr({offset:Ct[0]+"%","stop-color":y.tinyRGB(Vt),"stop-opacity":Vt.getAlpha()})})}),Le.style(ke,Z(vt,be)).style(ke+"-opacity",null),Le.classed("gradient_filled",!0)},h.pattern=function(Le,be,Ae,He,Ve,ke,Ge,it,et,tt,at,vt){var yt=be==="legend";it&&(et==="overlay"?(tt=it,at=y.contrast(tt)):(tt=void 0,at=it));var gt=Ae._fullLayout,Mt="p"+gt._uid+"-"+He,Ct,Vt,Je=function(dt,bt,Gt,Qt,At){return Qt+(At-Qt)*(dt-bt)/(Gt-bt)},ze,_e,Be,De,we={},xe=T(at),Ee=y.tinyRGB(xe),Pe=xe.getAlpha(),Ue=vt*Pe;switch(Ve){case"/":Ct=ke*Math.sqrt(2),Vt=ke*Math.sqrt(2),ze="M-"+Ct/4+","+Vt/4+"l"+Ct/2+",-"+Vt/2+"M0,"+Vt+"L"+Ct+",0M"+Ct/4*3+","+Vt/4*5+"l"+Ct/2+",-"+Vt/2,_e=Ge*ke,De="path",we={d:ze,opacity:Ue,stroke:Ee,"stroke-width":_e+"px"};break;case"\\":Ct=ke*Math.sqrt(2),Vt=ke*Math.sqrt(2),ze="M"+Ct/4*3+",-"+Vt/4+"l"+Ct/2+","+Vt/2+"M0,0L"+Ct+","+Vt+"M-"+Ct/4+","+Vt/4*3+"l"+Ct/2+","+Vt/2,_e=Ge*ke,De="path",we={d:ze,opacity:Ue,stroke:Ee,"stroke-width":_e+"px"};break;case"x":Ct=ke*Math.sqrt(2),Vt=ke*Math.sqrt(2),ze="M-"+Ct/4+","+Vt/4+"l"+Ct/2+",-"+Vt/2+"M0,"+Vt+"L"+Ct+",0M"+Ct/4*3+","+Vt/4*5+"l"+Ct/2+",-"+Vt/2+"M"+Ct/4*3+",-"+Vt/4+"l"+Ct/2+","+Vt/2+"M0,0L"+Ct+","+Vt+"M-"+Ct/4+","+Vt/4*3+"l"+Ct/2+","+Vt/2,_e=ke-ke*Math.sqrt(1-Ge),De="path",we={d:ze,opacity:Ue,stroke:Ee,"stroke-width":_e+"px"};break;case"|":Ct=ke,Vt=ke,De="path",ze="M"+Ct/2+",0L"+Ct/2+","+Vt,_e=Ge*ke,De="path",we={d:ze,opacity:Ue,stroke:Ee,"stroke-width":_e+"px"};break;case"-":Ct=ke,Vt=ke,De="path",ze="M0,"+Vt/2+"L"+Ct+","+Vt/2,_e=Ge*ke,De="path",we={d:ze,opacity:Ue,stroke:Ee,"stroke-width":_e+"px"};break;case"+":Ct=ke,Vt=ke,De="path",ze="M"+Ct/2+",0L"+Ct/2+","+Vt+"M0,"+Vt/2+"L"+Ct+","+Vt/2,_e=ke-ke*Math.sqrt(1-Ge),De="path",we={d:ze,opacity:Ue,stroke:Ee,"stroke-width":_e+"px"};break;case".":Ct=ke,Vt=ke,Ge<Math.PI/4?Be=Math.sqrt(Ge*ke*ke/Math.PI):Be=Je(Ge,Math.PI/4,1,ke/2,ke/Math.sqrt(2)),De="circle",we={cx:Ct/2,cy:Vt/2,r:Be,opacity:Ue,fill:Ee};break}var $e=[Ve||"noSh",tt||"noBg",at||"noFg",ke,Ge].join(";"),qe=gt._defs.select(".patterns").selectAll("#"+Mt).data([$e],R.identity);qe.exit().remove(),qe.enter().append("pattern").each(function(){var dt=g.select(this);if(dt.attr({id:Mt,width:Ct+"px",height:Vt+"px",patternUnits:"userSpaceOnUse",patternTransform:yt?"scale(0.8)":""}),tt){var bt=T(tt),Gt=y.tinyRGB(bt),Qt=bt.getAlpha(),At=dt.selectAll("rect").data([0]);At.exit().remove(),At.enter().append("rect").attr({width:Ct+"px",height:Vt+"px",fill:Gt,"fill-opacity":Qt})}var zt=dt.selectAll(De).data([0]);zt.exit().remove(),zt.enter().append(De).attr(we)}),Le.style("fill",Z(Mt,Ae)).style("fill-opacity",null),Le.classed("pattern_filled",!0)},h.initGradients=function(Le){var be=Le._fullLayout,Ae=R.ensureSingle(be._defs,"g","gradients");Ae.selectAll("linearGradient,radialGradient").remove(),g.select(Le).selectAll(".gradient_filled").classed("gradient_filled",!1)},h.initPatterns=function(Le){var be=Le._fullLayout,Ae=R.ensureSingle(be._defs,"g","patterns");Ae.selectAll("pattern").remove(),g.select(Le).selectAll(".pattern_filled").classed("pattern_filled",!1)},h.getPatternAttr=function(Le,be,Ae){return Le&&R.isArrayOrTypedArray(Le)?be<Le.length?Le[be]:Ae:Le},h.pointStyle=function(Le,be,Ae,He){if(Le.size()){var Ve=h.makePointStyleFns(be);Le.each(function(ke){h.singlePointStyle(ke,g.select(this),be,Ve,Ae,He)})}},h.singlePointStyle=function(Le,be,Ae,He,Ve,ke){var Ge=Ae.marker,it=Ge.line;if(ke&&ke.i>=0&&Le.i===void 0&&(Le.i=ke.i),be.style("opacity",He.selectedOpacityFn?He.selectedOpacityFn(Le):Le.mo===void 0?Ge.opacity:Le.mo),He.ms2mrc){var et;Le.ms==="various"||Ge.size==="various"?et=3:et=He.ms2mrc(Le.ms),Le.mrc=et,He.selectedSizeFn&&(et=Le.mrc=He.selectedSizeFn(Le));var tt=h.symbolNumber(Le.mx||Ge.symbol)||0;Le.om=tt%200>=100;var at=Ne(Le,Ae),vt=re(Le,Ae);be.attr("d",P(tt,et,at,vt))}var yt=!1,gt,Mt,Ct;if(Le.so)Ct=it.outlierwidth,Mt=it.outliercolor,gt=Ge.outliercolor;else{var Vt=(it||{}).width;Ct=(Le.mlw+1||Vt+1||(Le.trace?(Le.trace.marker.line||{}).width:0)+1)-1||0,"mlc"in Le?Mt=Le.mlcc=He.lineScale(Le.mlc):R.isArrayOrTypedArray(it.color)?Mt=y.defaultLine:Mt=it.color,R.isArrayOrTypedArray(Ge.color)&&(gt=y.defaultLine,yt=!0),"mc"in Le?gt=Le.mcc=He.markerScale(Le.mc):gt=Ge.color||Ge.colors||"rgba(0,0,0,0)",He.selectedColorFn&&(gt=He.selectedColorFn(Le))}if(Le.om)be.call(y.stroke,gt).style({"stroke-width":(Ct||1)+"px",fill:"none"});else{be.style("stroke-width",(Le.isBlank?0:Ct)+"px");var Je=Ge.gradient,ze=Le.mgt;ze?yt=!0:ze=Je&&Je.type,R.isArrayOrTypedArray(ze)&&(ze=ze[0],i[ze]||(ze=0));var _e=Ge.pattern,Be=_e&&h.getPatternAttr(_e.shape,Le.i,"");if(ze&&ze!=="none"){var De=Le.mgc;De?yt=!0:De=Je.color;var we=Ae.uid;yt&&(we+="-"+Le.i),h.gradient(be,Ve,we,ze,[[0,De],[1,gt]],"fill")}else if(Be){var xe=!1,Ee=_e.fgcolor;!Ee&&ke&&ke.color&&(Ee=ke.color,xe=!0);var Pe=h.getPatternAttr(Ee,Le.i,ke&&ke.color||null),Ue=h.getPatternAttr(_e.bgcolor,Le.i,null),$e=_e.fgopacity,qe=h.getPatternAttr(_e.size,Le.i,8),dt=h.getPatternAttr(_e.solidity,Le.i,.3);xe=xe||Le.mcc||R.isArrayOrTypedArray(_e.shape)||R.isArrayOrTypedArray(_e.bgcolor)||R.isArrayOrTypedArray(_e.fgcolor)||R.isArrayOrTypedArray(_e.size)||R.isArrayOrTypedArray(_e.solidity);var bt=Ae.uid;xe&&(bt+="-"+Le.i),h.pattern(be,"point",Ve,bt,Be,qe,dt,Le.mcc,_e.fillmode,Ue,Pe,$e)}else R.isArrayOrTypedArray(gt)?y.fill(be,gt[Le.i]):y.fill(be,gt);Ct&&y.stroke(be,Mt)}},h.makePointStyleFns=function(Le){var be={},Ae=Le.marker;return be.markerScale=h.tryColorscale(Ae,""),be.lineScale=h.tryColorscale(Ae,"line"),v.traceIs(Le,"symbols")&&(be.ms2mrc=m.isBubble(Le)?c(Le):function(){return(Ae.size||6)/2}),Le.selectedpoints&&R.extendFlat(be,h.makeSelectedPointStyleFns(Le)),be},h.makeSelectedPointStyleFns=function(Le){var be={},Ae=Le.selected||{},He=Le.unselected||{},Ve=Le.marker||{},ke=Ae.marker||{},Ge=He.marker||{},it=Ve.opacity,et=ke.opacity,tt=Ge.opacity,at=et!==void 0,vt=tt!==void 0;(R.isArrayOrTypedArray(it)||at||vt)&&(be.selectedOpacityFn=function(Be){var De=Be.mo===void 0?Ve.opacity:Be.mo;return Be.selected?at?et:De:vt?tt:u*De});var yt=Ve.color,gt=ke.color,Mt=Ge.color;(gt||Mt)&&(be.selectedColorFn=function(Be){var De=Be.mcc||yt;return Be.selected?gt||De:Mt||De});var Ct=Ve.size,Vt=ke.size,Je=Ge.size,ze=Vt!==void 0,_e=Je!==void 0;return v.traceIs(Le,"symbols")&&(ze||_e)&&(be.selectedSizeFn=function(Be){var De=Be.mrc||Ct/2;return Be.selected?ze?Vt/2:De:_e?Je/2:De}),be},h.makeSelectedTextStyleFns=function(Le){var be={},Ae=Le.selected||{},He=Le.unselected||{},Ve=Le.textfont||{},ke=Ae.textfont||{},Ge=He.textfont||{},it=Ve.color,et=ke.color,tt=Ge.color;return be.selectedTextColorFn=function(at){var vt=at.tc||it;return at.selected?et||vt:tt||(et?vt:y.addOpacity(vt,u))},be},h.selectedPointStyle=function(Le,be){if(!(!Le.size()||!be.selectedpoints)){var Ae=h.makeSelectedPointStyleFns(be),He=be.marker||{},Ve=[];Ae.selectedOpacityFn&&Ve.push(function(ke,Ge){ke.style("opacity",Ae.selectedOpacityFn(Ge))}),Ae.selectedColorFn&&Ve.push(function(ke,Ge){y.fill(ke,Ae.selectedColorFn(Ge))}),Ae.selectedSizeFn&&Ve.push(function(ke,Ge){var it=Ge.mx||He.symbol||0,et=Ae.selectedSizeFn(Ge);ke.attr("d",P(h.symbolNumber(it),et,Ne(Ge,be),re(Ge,be))),Ge.mrc2=et}),Ve.length&&Le.each(function(ke){for(var Ge=g.select(this),it=0;it<Ve.length;it++)Ve[it](Ge,ke)})}},h.tryColorscale=function(Le,be){var Ae=be?R.nestedProperty(Le,be).get():Le;if(Ae){var He=Ae.color;if((Ae.colorscale||Ae._colorAx)&&R.isArrayOrTypedArray(He))return t.makeColorScaleFuncFromTrace(Ae)}return R.identity};var L={start:1,end:-1,middle:0,bottom:1,top:-1};function b(Le,be,Ae,He,Ve){var ke=g.select(Le.node().parentNode),Ge=be.indexOf("top")!==-1?"top":be.indexOf("bottom")!==-1?"bottom":"middle",it=be.indexOf("left")!==-1?"end":be.indexOf("right")!==-1?"start":"middle",et=He?He/.8+1:0,tt=(s.lineCount(Le)-1)*f+1,at=L[it]*et,vt=Ae*.75+L[Ge]*et+(L[Ge]-1)*tt*Ae/2;Le.attr("text-anchor",it),Ve||ke.attr("transform",r(at,vt))}function O(Le,be){var Ae=Le.ts||be.textfont.size;return C(Ae)&&Ae>0?Ae:0}h.textPointStyle=function(Le,be,Ae){if(Le.size()){var He;if(be.selectedpoints){var Ve=h.makeSelectedTextStyleFns(be);He=Ve.selectedTextColorFn}var ke=be.texttemplate,Ge=Ae._fullLayout;Le.each(function(it){var et=g.select(this),tt=ke?R.extractOption(it,be,"txt","texttemplate"):R.extractOption(it,be,"tx","text");if(!tt&&tt!==0){et.remove();return}if(ke){var at=be._module.formatLabels,vt=at?at(it,be,Ge):{},yt={};A(yt,be,it.i);var gt=be._meta||{};tt=R.texttemplateString(tt,vt,Ge._d3locale,yt,it,gt)}var Mt=it.tp||be.textposition,Ct=O(it,be),Vt=He?He(it):it.tc||be.textfont.color;et.call(h.font,it.tf||be.textfont.family,Ct,Vt).text(tt).call(s.convertToTspans,Ae).call(b,Mt,Ct,it.mrc)})}},h.selectedTextStyle=function(Le,be){if(!(!Le.size()||!be.selectedpoints)){var Ae=h.makeSelectedTextStyleFns(be);Le.each(function(He){var Ve=g.select(this),ke=Ae.selectedTextColorFn(He),Ge=He.tp||be.textposition,it=O(He,be);y.fill(Ve,ke);var et=v.traceIs(be,"bar-like");b(Ve,Ge,it,He.mrc2||He.mrc,et)})}};var _=.5;h.smoothopen=function(Le,be){if(Le.length<3)return"M"+Le.join("L");var Ae="M"+Le[0],He=[],Ve;for(Ve=1;Ve<Le.length-1;Ve++)He.push(V(Le[Ve-1],Le[Ve],Le[Ve+1],be));for(Ae+="Q"+He[0][0]+" "+Le[1],Ve=2;Ve<Le.length-1;Ve++)Ae+="C"+He[Ve-2][1]+" "+He[Ve-1][0]+" "+Le[Ve];return Ae+="Q"+He[Le.length-3][1]+" "+Le[Le.length-1],Ae},h.smoothclosed=function(Le,be){if(Le.length<3)return"M"+Le.join("L")+"Z";var Ae="M"+Le[0],He=Le.length-1,Ve=[V(Le[He],Le[0],Le[1],be)],ke;for(ke=1;ke<He;ke++)Ve.push(V(Le[ke-1],Le[ke],Le[ke+1],be));for(Ve.push(V(Le[He-1],Le[He],Le[0],be)),ke=1;ke<=He;ke++)Ae+="C"+Ve[ke-1][1]+" "+Ve[ke][0]+" "+Le[ke];return Ae+="C"+Ve[He][1]+" "+Ve[0][0]+" "+Le[0]+"Z",Ae};var N,z;function B(Le,be,Ae){return Ae&&(Le=ne(Le)),be?F(Le[1]):U(Le[0])}function U(Le){var be=g.round(Le,2);return N=be,be}function F(Le){var be=g.round(Le,2);return z=be,be}function V(Le,be,Ae,He){var Ve=Le[0]-be[0],ke=Le[1]-be[1],Ge=Ae[0]-be[0],it=Ae[1]-be[1],et=Math.pow(Ve*Ve+ke*ke,_/2),tt=Math.pow(Ge*Ge+it*it,_/2),at=(tt*tt*Ve-et*et*Ge)*He,vt=(tt*tt*ke-et*et*it)*He,yt=3*tt*(et+tt),gt=3*et*(et+tt);return[[U(be[0]+(yt&&at/yt)),F(be[1]+(yt&&vt/yt))],[U(be[0]-(gt&&at/gt)),F(be[1]-(gt&&vt/gt))]]}var j={hv:function(Le,be,Ae){return"H"+U(be[0])+"V"+B(be,1,Ae)},vh:function(Le,be,Ae){return"V"+F(be[1])+"H"+B(be,0,Ae)},hvh:function(Le,be,Ae){return"H"+U((Le[0]+be[0])/2)+"V"+F(be[1])+"H"+B(be,0,Ae)},vhv:function(Le,be,Ae){return"V"+F((Le[1]+be[1])/2)+"H"+U(be[0])+"V"+B(be,1,Ae)}},$=function(Le,be,Ae){return"L"+B(be,0,Ae)+","+B(be,1,Ae)};h.steps=function(Le){var be=j[Le]||$;return function(Ae){for(var He="M"+U(Ae[0][0])+","+F(Ae[0][1]),Ve=Ae.length,ke=1;ke<Ve;ke++)He+=be(Ae[ke-1],Ae[ke],ke===Ve-1);return He}};function ne(Le,be){var Ae=Le.backoff,He=Le.trace,Ve=Le.d,ke=Le.i;if(Ae&&He&&He.marker&&He.marker.angle%360===0&&He.line&&He.line.shape!=="spline"){var Ge=R.isArrayOrTypedArray(Ae),it=Le,et=be?be[0]:N||0,tt=be?be[1]:z||0,at=it[0],vt=it[1],yt=at-et,gt=vt-tt,Mt=Math.atan2(gt,yt),Ct=Ge?Ae[ke]:Ae;if(Ct==="auto"){var Vt=it.i;He.type==="scatter"&&Vt--;var Je=it.marker,ze=Je.symbol;R.isArrayOrTypedArray(ze)&&(ze=ze[Vt]);var _e=Je.size;R.isArrayOrTypedArray(_e)&&(_e=_e[Vt]),Ct=Je?h.symbolBackOffs[h.symbolNumber(ze)]*_e:0,Ct+=h.getMarkerStandoff(Ve[Vt],He)||0}var Be=at-Ct*Math.cos(Mt),De=vt-Ct*Math.sin(Mt);(Be<=at&&Be>=et||Be>=at&&Be<=et)&&(De<=vt&&De>=tt||De>=vt&&De<=tt)&&(Le=[Be,De])}return Le}h.applyBackoff=ne,h.makeTester=function(){var Le=R.ensureSingleById(g.select("body"),"svg","js-plotly-tester",function(Ae){Ae.attr(n.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),be=R.ensureSingle(Le,"path","js-reference-point",function(Ae){Ae.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});h.tester=Le,h.testref=be},h.savedBBoxes={};var oe=0,ce=1e4;h.bBox=function(Le,be,Ae){Ae||(Ae=Q(Le));var He;if(Ae){if(He=h.savedBBoxes[Ae],He)return R.extendFlat({},He)}else if(Le.childNodes.length===1){var Ve=Le.childNodes[0];if(Ae=Q(Ve),Ae){var ke=+Ve.getAttribute("x")||0,Ge=+Ve.getAttribute("y")||0,it=Ve.getAttribute("transform");if(!it){var et=h.bBox(Ve,!1,Ae);return ke&&(et.left+=ke,et.right+=ke),Ge&&(et.top+=Ge,et.bottom+=Ge),et}if(Ae+="~"+ke+"~"+Ge+"~"+it,He=h.savedBBoxes[Ae],He)return R.extendFlat({},He)}}var tt,at;be?tt=Le:(at=h.tester.node(),tt=Le.cloneNode(!0),at.appendChild(tt)),g.select(tt).attr("transform",null).call(s.positionText,0,0);var vt=tt.getBoundingClientRect(),yt=h.testref.node().getBoundingClientRect();be||at.removeChild(tt);var gt={height:vt.height,width:vt.width,left:vt.left-yt.left,top:vt.top-yt.top,right:vt.right-yt.left,bottom:vt.bottom-yt.top};return oe>=ce&&(h.savedBBoxes={},oe=0),Ae&&(h.savedBBoxes[Ae]=gt),oe++,R.extendFlat({},gt)};function Q(Le){var be=Le.getAttribute("data-unformatted");if(be!==null)return be+Le.getAttribute("data-math")+Le.getAttribute("text-anchor")+Le.getAttribute("style")}h.setClipUrl=function(Le,be,Ae){Le.attr("clip-path",Z(be,Ae))};function Z(Le,be){if(!Le)return null;var Ae=be._context,He=Ae._exportedPlot?"":Ae._baseUrl||"";return He?"url('"+He+"#"+Le+"')":"url(#"+Le+")"}h.getTranslate=function(Le){var be=/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,Ae=Le.attr?"attr":"getAttribute",He=Le[Ae]("transform")||"",Ve=He.replace(be,function(ke,Ge,it){return[Ge,it].join(" ")}).split(" ");return{x:+Ve[0]||0,y:+Ve[1]||0}},h.setTranslate=function(Le,be,Ae){var He=/(\btranslate\(.*?\);?)/,Ve=Le.attr?"attr":"getAttribute",ke=Le.attr?"attr":"setAttribute",Ge=Le[Ve]("transform")||"";return be=be||0,Ae=Ae||0,Ge=Ge.replace(He,"").trim(),Ge+=r(be,Ae),Ge=Ge.trim(),Le[ke]("transform",Ge),Ge},h.getScale=function(Le){var be=/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,Ae=Le.attr?"attr":"getAttribute",He=Le[Ae]("transform")||"",Ve=He.replace(be,function(ke,Ge,it){return[Ge,it].join(" ")}).split(" ");return{x:+Ve[0]||1,y:+Ve[1]||1}},h.setScale=function(Le,be,Ae){var He=/(\bscale\(.*?\);?)/,Ve=Le.attr?"attr":"getAttribute",ke=Le.attr?"attr":"setAttribute",Ge=Le[Ve]("transform")||"";return be=be||1,Ae=Ae||1,Ge=Ge.replace(He,"").trim(),Ge+="scale("+be+","+Ae+")",Ge=Ge.trim(),Le[ke]("transform",Ge),Ge};var K=/\s*sc.*/;h.setPointGroupScale=function(Le,be,Ae){if(be=be||1,Ae=Ae||1,!!Le){var He=be===1&&Ae===1?"":"scale("+be+","+Ae+")";Le.each(function(){var Ve=(this.getAttribute("transform")||"").replace(K,"");Ve+=He,Ve=Ve.trim(),this.setAttribute("transform",Ve)})}};var J=/translate\([^)]*\)\s*$/;h.setTextPointsScale=function(Le,be,Ae){Le&&Le.each(function(){var He,Ve=g.select(this),ke=Ve.select("text");if(ke.node()){var Ge=parseFloat(ke.attr("x")||0),it=parseFloat(ke.attr("y")||0),et=(Ve.attr("transform")||"").match(J);be===1&&Ae===1?He=[]:He=[r(Ge,it),"scale("+be+","+Ae+")",r(-Ge,-it)],et&&He.push(et),Ve.attr("transform",He.join(""))}})};function re(Le,be){var Ae;return Le&&(Ae=Le.mf),Ae===void 0&&(Ae=be.marker&&be.marker.standoff||0),!be._geo&&!be._xA?-Ae:Ae}h.getMarkerStandoff=re;var le=Math.atan2,q=Math.cos,ee=Math.sin;function ue(Le,be){var Ae=be[0],He=be[1];return[Ae*q(Le)-He*ee(Le),Ae*ee(Le)+He*q(Le)]}var se,he,me,Ce,Te,Oe;function Ne(Le,be){var Ae=Le.ma;Ae===void 0&&(Ae=be.marker.angle||0);var He,Ve,ke=be.marker.angleref;if(ke==="previous"||ke==="north"){if(be._geo){var Ge=be._geo.project(Le.lonlat);He=Ge[0],Ve=Ge[1]}else{var it=be._xA,et=be._yA;if(it&&et)He=it.c2p(Le.x),Ve=et.c2p(Le.y);else return 90}if(be._geo){var tt=Le.lonlat[0],at=Le.lonlat[1],vt=be._geo.project([tt,at+1e-5]),yt=be._geo.project([tt+1e-5,at]),gt=le(yt[1]-Ve,yt[0]-He),Mt=le(vt[1]-Ve,vt[0]-He),Ct;if(ke==="north")Ct=Ae/180*Math.PI;else if(ke==="previous"){var Vt=tt/180*Math.PI,Je=at/180*Math.PI,ze=se/180*Math.PI,_e=he/180*Math.PI,Be=ze-Vt,De=q(_e)*ee(Be),we=ee(_e)*q(Je)-q(_e)*ee(Je)*q(Be);Ct=-le(De,we)-Math.PI,se=tt,he=at}var xe=ue(gt,[q(Ct),0]),Ee=ue(Mt,[ee(Ct),0]);Ae=le(xe[1]+Ee[1],xe[0]+Ee[0])/Math.PI*180,ke==="previous"&&!(Oe===be.uid&&Le.i===Te+1)&&(Ae=null)}if(ke==="previous"&&!be._geo)if(Oe===be.uid&&Le.i===Te+1&&C(He)&&C(Ve)){var Pe=He-me,Ue=Ve-Ce,$e=be.line&&be.line.shape||"",qe=$e.slice($e.length-1);qe==="h"&&(Ue=0),qe==="v"&&(Pe=0),Ae+=le(Ue,Pe)/Math.PI*180+90}else Ae=null}return me=He,Ce=Ve,Te=Le.i,Oe=be.uid,Ae}h.getMarkerAngle=Ne},90998:function(W,H,e){var g=e(95616),R=e(39898).round,a="M0,0Z",C=Math.sqrt(2),T=Math.sqrt(3),v=Math.PI,y=Math.cos,t=Math.sin;W.exports={circle:{n:0,f:function(m,c,A){if(r(c))return a;var h=R(m,2),l="M"+h+",0A"+h+","+h+" 0 1,1 0,-"+h+"A"+h+","+h+" 0 0,1 "+h+",0Z";return A?u(c,A,l):l}},square:{n:1,f:function(m,c,A){if(r(c))return a;var h=R(m,2);return u(c,A,"M"+h+","+h+"H-"+h+"V-"+h+"H"+h+"Z")}},diamond:{n:2,f:function(m,c,A){if(r(c))return a;var h=R(m*1.3,2);return u(c,A,"M"+h+",0L0,"+h+"L-"+h+",0L0,-"+h+"Z")}},cross:{n:3,f:function(m,c,A){if(r(c))return a;var h=R(m*.4,2),l=R(m*1.2,2);return u(c,A,"M"+l+","+h+"H"+h+"V"+l+"H-"+h+"V"+h+"H-"+l+"V-"+h+"H-"+h+"V-"+l+"H"+h+"V-"+h+"H"+l+"Z")}},x:{n:4,f:function(m,c,A){if(r(c))return a;var h=R(m*.8/C,2),l="l"+h+","+h,p="l"+h+",-"+h,M="l-"+h+",-"+h,S="l-"+h+","+h;return u(c,A,"M0,"+h+l+p+M+p+M+S+M+S+l+S+l+"Z")}},"triangle-up":{n:5,f:function(m,c,A){if(r(c))return a;var h=R(m*2/T,2),l=R(m/2,2),p=R(m,2);return u(c,A,"M-"+h+","+l+"H"+h+"L0,-"+p+"Z")}},"triangle-down":{n:6,f:function(m,c,A){if(r(c))return a;var h=R(m*2/T,2),l=R(m/2,2),p=R(m,2);return u(c,A,"M-"+h+",-"+l+"H"+h+"L0,"+p+"Z")}},"triangle-left":{n:7,f:function(m,c,A){if(r(c))return a;var h=R(m*2/T,2),l=R(m/2,2),p=R(m,2);return u(c,A,"M"+l+",-"+h+"V"+h+"L-"+p+",0Z")}},"triangle-right":{n:8,f:function(m,c,A){if(r(c))return a;var h=R(m*2/T,2),l=R(m/2,2),p=R(m,2);return u(c,A,"M-"+l+",-"+h+"V"+h+"L"+p+",0Z")}},"triangle-ne":{n:9,f:function(m,c,A){if(r(c))return a;var h=R(m*.6,2),l=R(m*1.2,2);return u(c,A,"M-"+l+",-"+h+"H"+h+"V"+l+"Z")}},"triangle-se":{n:10,f:function(m,c,A){if(r(c))return a;var h=R(m*.6,2),l=R(m*1.2,2);return u(c,A,"M"+h+",-"+l+"V"+h+"H-"+l+"Z")}},"triangle-sw":{n:11,f:function(m,c,A){if(r(c))return a;var h=R(m*.6,2),l=R(m*1.2,2);return u(c,A,"M"+l+","+h+"H-"+h+"V-"+l+"Z")}},"triangle-nw":{n:12,f:function(m,c,A){if(r(c))return a;var h=R(m*.6,2),l=R(m*1.2,2);return u(c,A,"M-"+h+","+l+"V-"+h+"H"+l+"Z")}},pentagon:{n:13,f:function(m,c,A){if(r(c))return a;var h=R(m*.951,2),l=R(m*.588,2),p=R(-m,2),M=R(m*-.309,2),S=R(m*.809,2);return u(c,A,"M"+h+","+M+"L"+l+","+S+"H-"+l+"L-"+h+","+M+"L0,"+p+"Z")}},hexagon:{n:14,f:function(m,c,A){if(r(c))return a;var h=R(m,2),l=R(m/2,2),p=R(m*T/2,2);return u(c,A,"M"+p+",-"+l+"V"+l+"L0,"+h+"L-"+p+","+l+"V-"+l+"L0,-"+h+"Z")}},hexagon2:{n:15,f:function(m,c,A){if(r(c))return a;var h=R(m,2),l=R(m/2,2),p=R(m*T/2,2);return u(c,A,"M-"+l+","+p+"H"+l+"L"+h+",0L"+l+",-"+p+"H-"+l+"L-"+h+",0Z")}},octagon:{n:16,f:function(m,c,A){if(r(c))return a;var h=R(m*.924,2),l=R(m*.383,2);return u(c,A,"M-"+l+",-"+h+"H"+l+"L"+h+",-"+l+"V"+l+"L"+l+","+h+"H-"+l+"L-"+h+","+l+"V-"+l+"Z")}},star:{n:17,f:function(m,c,A){if(r(c))return a;var h=m*1.4,l=R(h*.225,2),p=R(h*.951,2),M=R(h*.363,2),S=R(h*.588,2),P=R(-h,2),x=R(h*-.309,2),E=R(h*.118,2),w=R(h*.809,2),i=R(h*.382,2);return u(c,A,"M"+l+","+x+"H"+p+"L"+M+","+E+"L"+S+","+w+"L0,"+i+"L-"+S+","+w+"L-"+M+","+E+"L-"+p+","+x+"H-"+l+"L0,"+P+"Z")}},hexagram:{n:18,f:function(m,c,A){if(r(c))return a;var h=R(m*.66,2),l=R(m*.38,2),p=R(m*.76,2);return u(c,A,"M-"+p+",0l-"+l+",-"+h+"h"+p+"l"+l+",-"+h+"l"+l+","+h+"h"+p+"l-"+l+","+h+"l"+l+","+h+"h-"+p+"l-"+l+","+h+"l-"+l+",-"+h+"h-"+p+"Z")}},"star-triangle-up":{n:19,f:function(m,c,A){if(r(c))return a;var h=R(m*T*.8,2),l=R(m*.8,2),p=R(m*1.6,2),M=R(m*4,2),S="A "+M+","+M+" 0 0 1 ";return u(c,A,"M-"+h+","+l+S+h+","+l+S+"0,-"+p+S+"-"+h+","+l+"Z")}},"star-triangle-down":{n:20,f:function(m,c,A){if(r(c))return a;var h=R(m*T*.8,2),l=R(m*.8,2),p=R(m*1.6,2),M=R(m*4,2),S="A "+M+","+M+" 0 0 1 ";return u(c,A,"M"+h+",-"+l+S+"-"+h+",-"+l+S+"0,"+p+S+h+",-"+l+"Z")}},"star-square":{n:21,f:function(m,c,A){if(r(c))return a;var h=R(m*1.1,2),l=R(m*2,2),p="A "+l+","+l+" 0 0 1 ";return u(c,A,"M-"+h+",-"+h+p+"-"+h+","+h+p+h+","+h+p+h+",-"+h+p+"-"+h+",-"+h+"Z")}},"star-diamond":{n:22,f:function(m,c,A){if(r(c))return a;var h=R(m*1.4,2),l=R(m*1.9,2),p="A "+l+","+l+" 0 0 1 ";return u(c,A,"M-"+h+",0"+p+"0,"+h+p+h+",0"+p+"0,-"+h+p+"-"+h+",0Z")}},"diamond-tall":{n:23,f:function(m,c,A){if(r(c))return a;var h=R(m*.7,2),l=R(m*1.4,2);return u(c,A,"M0,"+l+"L"+h+",0L0,-"+l+"L-"+h+",0Z")}},"diamond-wide":{n:24,f:function(m,c,A){if(r(c))return a;var h=R(m*1.4,2),l=R(m*.7,2);return u(c,A,"M0,"+l+"L"+h+",0L0,-"+l+"L-"+h+",0Z")}},hourglass:{n:25,f:function(m,c,A){if(r(c))return a;var h=R(m,2);return u(c,A,"M"+h+","+h+"H-"+h+"L"+h+",-"+h+"H-"+h+"Z")},noDot:!0},bowtie:{n:26,f:function(m,c,A){if(r(c))return a;var h=R(m,2);return u(c,A,"M"+h+","+h+"V-"+h+"L-"+h+","+h+"V-"+h+"Z")},noDot:!0},"circle-cross":{n:27,f:function(m,c,A){if(r(c))return a;var h=R(m,2);return u(c,A,"M0,"+h+"V-"+h+"M"+h+",0H-"+h+"M"+h+",0A"+h+","+h+" 0 1,1 0,-"+h+"A"+h+","+h+" 0 0,1 "+h+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(m,c,A){if(r(c))return a;var h=R(m,2),l=R(m/C,2);return u(c,A,"M"+l+","+l+"L-"+l+",-"+l+"M"+l+",-"+l+"L-"+l+","+l+"M"+h+",0A"+h+","+h+" 0 1,1 0,-"+h+"A"+h+","+h+" 0 0,1 "+h+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(m,c,A){if(r(c))return a;var h=R(m,2);return u(c,A,"M0,"+h+"V-"+h+"M"+h+",0H-"+h+"M"+h+","+h+"H-"+h+"V-"+h+"H"+h+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(m,c,A){if(r(c))return a;var h=R(m,2);return u(c,A,"M"+h+","+h+"L-"+h+",-"+h+"M"+h+",-"+h+"L-"+h+","+h+"M"+h+","+h+"H-"+h+"V-"+h+"H"+h+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(m,c,A){if(r(c))return a;var h=R(m*1.3,2);return u(c,A,"M"+h+",0L0,"+h+"L-"+h+",0L0,-"+h+"ZM0,-"+h+"V"+h+"M-"+h+",0H"+h)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(m,c,A){if(r(c))return a;var h=R(m*1.3,2),l=R(m*.65,2);return u(c,A,"M"+h+",0L0,"+h+"L-"+h+",0L0,-"+h+"ZM-"+l+",-"+l+"L"+l+","+l+"M-"+l+","+l+"L"+l+",-"+l)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(m,c,A){if(r(c))return a;var h=R(m*1.4,2);return u(c,A,"M0,"+h+"V-"+h+"M"+h+",0H-"+h)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(m,c,A){if(r(c))return a;var h=R(m,2);return u(c,A,"M"+h+","+h+"L-"+h+",-"+h+"M"+h+",-"+h+"L-"+h+","+h)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(m,c,A){if(r(c))return a;var h=R(m*1.2,2),l=R(m*.85,2);return u(c,A,"M0,"+h+"V-"+h+"M"+h+",0H-"+h+"M"+l+","+l+"L-"+l+",-"+l+"M"+l+",-"+l+"L-"+l+","+l)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(m,c,A){if(r(c))return a;var h=R(m/2,2),l=R(m,2);return u(c,A,"M"+h+","+l+"V-"+l+"M"+(h-l)+",-"+l+"V"+l+"M"+l+","+h+"H-"+l+"M-"+l+","+(h-l)+"H"+l)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(m,c,A){if(r(c))return a;var h=R(m*1.2,2),l=R(m*1.6,2),p=R(m*.8,2);return u(c,A,"M-"+h+","+p+"L0,0M"+h+","+p+"L0,0M0,-"+l+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(m,c,A){if(r(c))return a;var h=R(m*1.2,2),l=R(m*1.6,2),p=R(m*.8,2);return u(c,A,"M-"+h+",-"+p+"L0,0M"+h+",-"+p+"L0,0M0,"+l+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(m,c,A){if(r(c))return a;var h=R(m*1.2,2),l=R(m*1.6,2),p=R(m*.8,2);return u(c,A,"M"+p+","+h+"L0,0M"+p+",-"+h+"L0,0M-"+l+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(m,c,A){if(r(c))return a;var h=R(m*1.2,2),l=R(m*1.6,2),p=R(m*.8,2);return u(c,A,"M-"+p+","+h+"L0,0M-"+p+",-"+h+"L0,0M"+l+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(m,c,A){if(r(c))return a;var h=R(m*1.4,2);return u(c,A,"M"+h+",0H-"+h)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(m,c,A){if(r(c))return a;var h=R(m*1.4,2);return u(c,A,"M0,"+h+"V-"+h)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(m,c,A){if(r(c))return a;var h=R(m,2);return u(c,A,"M"+h+",-"+h+"L-"+h+","+h)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(m,c,A){if(r(c))return a;var h=R(m,2);return u(c,A,"M"+h+","+h+"L-"+h+",-"+h)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(m,c,A){if(r(c))return a;var h=R(m,2),l=R(m*2,2);return u(c,A,"M0,0L-"+h+","+l+"H"+h+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(m,c,A){if(r(c))return a;var h=R(m,2),l=R(m*2,2);return u(c,A,"M0,0L-"+h+",-"+l+"H"+h+"Z")},noDot:!0},"arrow-left":{n:47,f:function(m,c,A){if(r(c))return a;var h=R(m*2,2),l=R(m,2);return u(c,A,"M0,0L"+h+",-"+l+"V"+l+"Z")},noDot:!0},"arrow-right":{n:48,f:function(m,c,A){if(r(c))return a;var h=R(m*2,2),l=R(m,2);return u(c,A,"M0,0L-"+h+",-"+l+"V"+l+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(m,c,A){if(r(c))return a;var h=R(m,2),l=R(m*2,2);return u(c,A,"M-"+h+",0H"+h+"M0,0L-"+h+","+l+"H"+h+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(m,c,A){if(r(c))return a;var h=R(m,2),l=R(m*2,2);return u(c,A,"M-"+h+",0H"+h+"M0,0L-"+h+",-"+l+"H"+h+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(m,c,A){if(r(c))return a;var h=R(m*2,2),l=R(m,2);return u(c,A,"M0,-"+l+"V"+l+"M0,0L"+h+",-"+l+"V"+l+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(m,c,A){if(r(c))return a;var h=R(m*2,2),l=R(m,2);return u(c,A,"M0,-"+l+"V"+l+"M0,0L-"+h+",-"+l+"V"+l+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(m,c,A){if(r(c))return a;var h=v/2.5,l=2*m*y(h),p=2*m*t(h);return u(c,A,"M0,0L"+-l+","+p+"L"+l+","+p+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(m,c,A){if(r(c))return a;var h=v/4,l=2*m*y(h),p=2*m*t(h);return u(c,A,"M0,0L"+-l+","+p+"A "+2*m+","+2*m+" 0 0 1 "+l+","+p+"Z")},backoff:.4,noDot:!0}};function r(m){return m===null}var s,n,o,f;function u(m,c,A){if((!m||m%360===0)&&!c)return A;if(o===m&&f===c&&s===A)return n;o=m,f=c,s=A;function h(_,N){var z=y(_),B=t(_),U=N[0],F=N[1]+(c||0);return[U*z-F*B,U*B+F*z]}for(var l=m/180*v,p=0,M=0,S=g(A),P="",x=0;x<S.length;x++){var E=S[x],w=E[0],i=p,L=M;if(w==="M"||w==="L")p=+E[1],M=+E[2];else if(w==="m"||w==="l")p+=+E[1],M+=+E[2];else if(w==="H")p=+E[1];else if(w==="h")p+=+E[1];else if(w==="V")M=+E[1];else if(w==="v")M+=+E[1];else if(w==="A"){p=+E[1],M=+E[2];var b=h(l,[+E[6],+E[7]]);E[6]=b[0],E[7]=b[1],E[3]=+E[3]+m}(w==="H"||w==="V")&&(w="L"),(w==="h"||w==="v")&&(w="l"),(w==="m"||w==="l")&&(p-=i,M-=L);var O=h(l,[p,M]);(w==="H"||w==="V")&&(w="L"),(w==="M"||w==="L"||w==="m"||w==="l")&&(E[1]=O[0],E[2]=O[1]),E[0]=w,P+=E[0]+E.slice(1).join(",")}return n=P,P}},25673:function(W){W.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},84532:function(W,H,e){var g=e(92770),R=e(73972),a=e(89298),C=e(71828),T=e(45827);W.exports=function(t){for(var r=t.calcdata,s=0;s<r.length;s++){var n=r[s],o=n[0].trace;if(o.visible===!0&&R.traceIs(o,"errorBarsOK")){var f=a.getFromId(t,o.xaxis),u=a.getFromId(t,o.yaxis);v(n,o,f,"x"),v(n,o,u,"y")}}};function v(y,t,r,s){var n=t["error_"+s]||{},o=n.visible&&["linear","log"].indexOf(r.type)!==-1,f=[];if(o){for(var u=T(n),m=0;m<y.length;m++){var c=y[m],A=c.i;if(A===void 0)A=m;else if(A===null)continue;var h=c[s];if(g(r.c2l(h))){var l=u(h,A);if(g(l[0])&&g(l[1])){var p=c[s+"s"]=h-l[0],M=c[s+"h"]=h+l[1];f.push(p,M)}}}var S=r._id,P=t._extremes[S],x=a.findExtremes(r,f,C.extendFlat({tozero:P.opts.tozero},{padded:!0}));P.min=P.min.concat(x.min),P.max=P.max.concat(x.max)}}},45827:function(W){W.exports=function(g){var R=g.type,a=g.symmetric;if(R==="data"){var C=g.array||[];if(a)return function(r,s){var n=+C[s];return[n,n]};var T=g.arrayminus||[];return function(r,s){var n=+C[s],o=+T[s];return!isNaN(n)||!isNaN(o)?[o||0,n||0]:[NaN,NaN]}}else{var v=H(R,g.value),y=H(R,g.valueminus);return a||g.valueminus===void 0?function(r){var s=v(r);return[s,s]}:function(r){return[y(r),v(r)]}}};function H(e,g){if(e==="percent")return function(R){return Math.abs(R*g/100)};if(e==="constant")return function(){return Math.abs(g)};if(e==="sqrt")return function(R){return Math.sqrt(Math.abs(R))}}},97587:function(W,H,e){var g=e(92770),R=e(73972),a=e(71828),C=e(44467),T=e(25673);W.exports=function(v,y,t,r){var s="error_"+r.axis,n=C.newContainer(y,s),o=v[s]||{};function f(p,M){return a.coerce(o,n,T,p,M)}var u=o.array!==void 0||o.value!==void 0||o.type==="sqrt",m=f("visible",u);if(m!==!1){var c=f("type","array"in o?"data":"percent"),A=!0;c!=="sqrt"&&(A=f("symmetric",!((c==="data"?"arrayminus":"valueminus")in o))),c==="data"?(f("array"),f("traceref"),A||(f("arrayminus"),f("tracerefminus"))):(c==="percent"||c==="constant")&&(f("value"),A||f("valueminus"));var h="copy_"+r.inherit+"style";if(r.inherit){var l=y["error_"+r.inherit];(l||{}).visible&&f(h,!(o.color||g(o.thickness)||g(o.width)))}(!r.inherit||!n[h])&&(f("color",t),f("thickness"),f("width",R.traceIs(y,"gl3d")?0:4))}}},37369:function(W,H,e){var g=e(71828),R=e(30962).overrideAll,a=e(25673),C={error_x:g.extendFlat({},a),error_y:g.extendFlat({},a)};delete C.error_x.copy_zstyle,delete C.error_y.copy_zstyle,delete C.error_y.copy_ystyle;var T={error_x:g.extendFlat({},a),error_y:g.extendFlat({},a),error_z:g.extendFlat({},a)};delete T.error_x.copy_ystyle,delete T.error_y.copy_ystyle,delete T.error_z.copy_ystyle,delete T.error_z.copy_zstyle,W.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:C,bar:C,histogram:C,scatter3d:R(T,"calc","nested"),scattergl:R(C,"calc","nested")}},supplyDefaults:e(97587),calc:e(84532),makeComputeError:e(45827),plot:e(19398),style:e(62662),hoverInfo:v};function v(y,t,r){(t.error_y||{}).visible&&(r.yerr=y.yh-y.y,t.error_y.symmetric||(r.yerrneg=y.y-y.ys)),(t.error_x||{}).visible&&(r.xerr=y.xh-y.x,t.error_x.symmetric||(r.xerrneg=y.x-y.xs))}},19398:function(W,H,e){var g=e(39898),R=e(92770),a=e(91424),C=e(34098);W.exports=function(y,t,r,s){var n,o=r.xaxis,f=r.yaxis,u=s&&s.duration>0,m=y._context.staticPlot;t.each(function(c){var A=c[0].trace,h=A.error_x||{},l=A.error_y||{},p;A.ids&&(p=function(x){return x.id});var M=C.hasMarkers(A)&&A.marker.maxdisplayed>0;!l.visible&&!h.visible&&(c=[]);var S=g.select(this).selectAll("g.errorbar").data(c,p);if(S.exit().remove(),!!c.length){h.visible||S.selectAll("path.xerror").remove(),l.visible||S.selectAll("path.yerror").remove(),S.style("opacity",1);var P=S.enter().append("g").classed("errorbar",!0);u&&P.style("opacity",0).transition().duration(s.duration).style("opacity",1),a.setClipUrl(S,r.layerClipId,y),S.each(function(x){var E=g.select(this),w=T(x,o,f);if(!(M&&!x.vis)){var i,L=E.select("path.yerror");if(l.visible&&R(w.x)&&R(w.yh)&&R(w.ys)){var b=l.width;i="M"+(w.x-b)+","+w.yh+"h"+2*b+"m-"+b+",0V"+w.ys,w.noYS||(i+="m-"+b+",0h"+2*b),n=!L.size(),n?L=E.append("path").style("vector-effect",m?"none":"non-scaling-stroke").classed("yerror",!0):u&&(L=L.transition().duration(s.duration).ease(s.easing)),L.attr("d",i)}else L.remove();var O=E.select("path.xerror");if(h.visible&&R(w.y)&&R(w.xh)&&R(w.xs)){var _=(h.copy_ystyle?l:h).width;i="M"+w.xh+","+(w.y-_)+"v"+2*_+"m0,-"+_+"H"+w.xs,w.noXS||(i+="m0,-"+_+"v"+2*_),n=!O.size(),n?O=E.append("path").style("vector-effect",m?"none":"non-scaling-stroke").classed("xerror",!0):u&&(O=O.transition().duration(s.duration).ease(s.easing)),O.attr("d",i)}else O.remove()}})}})};function T(v,y,t){var r={x:y.c2p(v.x),y:t.c2p(v.y)};return v.yh!==void 0&&(r.yh=t.c2p(v.yh),r.ys=t.c2p(v.ys),R(r.ys)||(r.noYS=!0,r.ys=t.c2p(v.ys,!0))),v.xh!==void 0&&(r.xh=y.c2p(v.xh),r.xs=y.c2p(v.xs),R(r.xs)||(r.noXS=!0,r.xs=y.c2p(v.xs,!0))),r}},62662:function(W,H,e){var g=e(39898),R=e(7901);W.exports=function(C){C.each(function(T){var v=T[0].trace,y=v.error_y||{},t=v.error_x||{},r=g.select(this);r.selectAll("path.yerror").style("stroke-width",y.thickness+"px").call(R.stroke,y.color),t.copy_ystyle&&(t=y),r.selectAll("path.xerror").style("stroke-width",t.thickness+"px").call(R.stroke,t.color)})}},77914:function(W,H,e){var g=e(41940),R=e(528).hoverlabel,a=e(1426).extendFlat;W.exports={hoverlabel:{bgcolor:a({},R.bgcolor,{arrayOk:!0}),bordercolor:a({},R.bordercolor,{arrayOk:!0}),font:g({arrayOk:!0,editType:"none"}),align:a({},R.align,{arrayOk:!0}),namelength:a({},R.namelength,{arrayOk:!0}),editType:"none"}}},30732:function(W,H,e){var g=e(71828),R=e(73972);W.exports=function(T){var v=T.calcdata,y=T._fullLayout;function t(f){return function(u){return g.coerceHoverinfo({hoverinfo:u},{_module:f._module},y)}}for(var r=0;r<v.length;r++){var s=v[r],n=s[0].trace;if(!R.traceIs(n,"pie-like")){var o=R.traceIs(n,"2dMap")?a:g.fillArray;o(n.hoverinfo,s,"hi",t(n)),n.hovertemplate&&o(n.hovertemplate,s,"ht"),n.hoverlabel&&(o(n.hoverlabel.bgcolor,s,"hbg"),o(n.hoverlabel.bordercolor,s,"hbc"),o(n.hoverlabel.font.size,s,"hts"),o(n.hoverlabel.font.color,s,"htc"),o(n.hoverlabel.font.family,s,"htf"),o(n.hoverlabel.namelength,s,"hnl"),o(n.hoverlabel.align,s,"hta"))}}};function a(C,T,v,y){y=y||g.identity,Array.isArray(C)&&(T[0][v]=y(C))}},75914:function(W,H,e){var g=e(73972),R=e(88335).hover;W.exports=function(C,T,v){var y=g.getComponentMethod("annotations","onClick")(C,C._hoverdata);v!==void 0&&R(C,T,v,!0);function t(){C.emit("plotly_click",{points:C._hoverdata,event:T})}C._hoverdata&&T&&T.target&&(y&&y.then?y.then(t):t(),T.stopImmediatePropagation&&T.stopImmediatePropagation())}},26675:function(W){W.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},54268:function(W,H,e){var g=e(71828),R=e(77914),a=e(38048);W.exports=function(T,v,y,t){function r(n,o){return g.coerce(T,v,R,n,o)}var s=g.extendFlat({},t.hoverlabel);v.hovertemplate&&(s.namelength=-1),a(T,v,r,s)}},23469:function(W,H,e){var g=e(71828);H.getSubplot=function(y){return y.subplot||y.xaxis+y.yaxis||y.geo},H.isTraceInSubplots=function(y,t){if(y.type==="splom"){for(var r=y.xaxes||[],s=y.yaxes||[],n=0;n<r.length;n++)for(var o=0;o<s.length;o++)if(t.indexOf(r[n]+s[o])!==-1)return!0;return!1}return t.indexOf(H.getSubplot(y))!==-1},H.flat=function(y,t){for(var r=new Array(y.length),s=0;s<y.length;s++)r[s]=t;return r},H.p2c=function(y,t){for(var r=new Array(y.length),s=0;s<y.length;s++)r[s]=y[s].p2c(t);return r},H.getDistanceFunction=function(y,t,r,s){return y==="closest"?s||H.quadrature(t,r):y.charAt(0)==="x"?t:r},H.getClosest=function(y,t,r){if(r.index!==!1)r.index>=0&&r.index<y.length?r.distance=0:r.index=!1;else for(var s=0;s<y.length;s++){var n=t(y[s]);n<=r.distance&&(r.index=s,r.distance=n)}return r},H.inbox=function(y,t,r){return y*t<0||y===0?r:1/0},H.quadrature=function(y,t){return function(r){var s=y(r),n=t(r);return Math.sqrt(s*s+n*n)}},H.makeEventData=function(y,t,r){var s="index"in y?y.index:y.pointNumber,n={data:t._input,fullData:t,curveNumber:t.index,pointNumber:s};if(t._indexToPoints){var o=t._indexToPoints[s];o.length===1?n.pointIndex=o[0]:n.pointIndices=o}else n.pointIndex=s;return t._module.eventData?n=t._module.eventData(n,y,t,r,s):("xVal"in y?n.x=y.xVal:"x"in y&&(n.x=y.x),"yVal"in y?n.y=y.yVal:"y"in y&&(n.y=y.y),y.xa&&(n.xaxis=y.xa),y.ya&&(n.yaxis=y.ya),y.zLabelVal!==void 0&&(n.z=y.zLabelVal)),H.appendArrayPointValue(n,t,s),n},H.appendArrayPointValue=function(y,t,r){var s=t._arrayAttrs;if(s)for(var n=0;n<s.length;n++){var o=s[n],f=a(o);if(y[f]===void 0){var u=g.nestedProperty(t,o).get(),m=C(u,r);m!==void 0&&(y[f]=m)}}},H.appendArrayMultiPointValues=function(y,t,r){var s=t._arrayAttrs;if(s)for(var n=0;n<s.length;n++){var o=s[n],f=a(o);if(y[f]===void 0){for(var u=g.nestedProperty(t,o).get(),m=new Array(r.length),c=0;c<r.length;c++)m[c]=C(u,r[c]);y[f]=m}}};var R={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function a(y){return R[y]||y}function C(y,t){if(Array.isArray(t)){if(Array.isArray(y)&&Array.isArray(y[t[0]]))return y[t[0]][t[1]]}else return y[t]}var T={x:!0,y:!0},v={"x unified":!0,"y unified":!0};H.isUnifiedHover=function(y){return typeof y!="string"?!1:!!v[y]},H.isXYhover=function(y){return typeof y!="string"?!1:!!T[y]}},88335:function(W,H,e){var g=e(39898),R=e(92770),a=e(84267),C=e(71828),T=C.strTranslate,v=C.strRotate,y=e(11086),t=e(63893),r=e(39918),s=e(91424),n=e(7901),o=e(28569),f=e(89298),u=e(73972),m=e(23469),c=e(26675),A=e(99017),h=e(43969),l=c.YANGLE,p=Math.PI*l/180,M=1/Math.sin(p),S=Math.cos(p),P=Math.sin(p),x=c.HOVERARROWSIZE,E=c.HOVERTEXTPAD,w={box:!0,ohlc:!0,violin:!0,candlestick:!0},i={scatter:!0,scattergl:!0,splom:!0};H.hover=function(le,q,ee,ue){le=C.getGraphDiv(le);var se=q.target;C.throttle(le._fullLayout._uid+c.HOVERID,c.HOVERMINTIME,function(){L(le,q,ee,ue,se)})},H.loneHover=function(le,q){var ee=!0;Array.isArray(le)||(ee=!1,le=[le]);var ue=q.gd,se=Z(ue),he=K(ue),me=le.map(function(Ve){var ke=Ve._x0||Ve.x0||Ve.x||0,Ge=Ve._x1||Ve.x1||Ve.x||0,it=Ve._y0||Ve.y0||Ve.y||0,et=Ve._y1||Ve.y1||Ve.y||0,tt=Ve.eventData;if(tt){var at=Math.min(ke,Ge),vt=Math.max(ke,Ge),yt=Math.min(it,et),gt=Math.max(it,et),Mt=Ve.trace;if(u.traceIs(Mt,"gl3d")){var Ct=ue._fullLayout[Mt.scene]._scene.container,Vt=Ct.offsetLeft,Je=Ct.offsetTop;at+=Vt,vt+=Vt,yt+=Je,gt+=Je}tt.bbox={x0:at+he,x1:vt+he,y0:yt+se,y1:gt+se},q.inOut_bbox&&q.inOut_bbox.push(tt.bbox)}else tt=!1;return{color:Ve.color||n.defaultLine,x0:Ve.x0||Ve.x||0,x1:Ve.x1||Ve.x||0,y0:Ve.y0||Ve.y||0,y1:Ve.y1||Ve.y||0,xLabel:Ve.xLabel,yLabel:Ve.yLabel,zLabel:Ve.zLabel,text:Ve.text,name:Ve.name,idealAlign:Ve.idealAlign,borderColor:Ve.borderColor,fontFamily:Ve.fontFamily,fontSize:Ve.fontSize,fontColor:Ve.fontColor,nameLength:Ve.nameLength,textAlign:Ve.textAlign,trace:Ve.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:Ve.hovertemplate||!1,hovertemplateLabels:Ve.hovertemplateLabels||!1,eventData:tt}}),Ce=!1,Te=_(me,{gd:ue,hovermode:"closest",rotateLabels:Ce,bgColor:q.bgColor||n.background,container:g.select(q.container),outerContainer:q.outerContainer||q.container}),Oe=Te.hoverLabels,Ne=5,Le=0,be=0;Oe.sort(function(Ve,ke){return Ve.y0-ke.y0}).each(function(Ve,ke){var Ge=Ve.y0-Ve.by/2;Ge-Ne<Le?Ve.offset=Le-Ge+Ne:Ve.offset=0,Le=Ge+Ve.by+Ve.offset,ke===q.anchorIndex&&(be=Ve.offset)}).each(function(Ve){Ve.offset-=be});var Ae=ue._fullLayout._invScaleX,He=ue._fullLayout._invScaleY;return F(Oe,Ce,Ae,He),ee?Oe:Oe.node()};function L(re,le,q,ee,ue){q||(q="xy");var se=Array.isArray(q)?q:[q],he=re._fullLayout,me=he._plots||[],Ce=me[q],Te=he._has("cartesian");if(Ce){var Oe=Ce.overlays.map(function(Er){return Er.id});se=se.concat(Oe)}for(var Ne=se.length,Le=new Array(Ne),be=new Array(Ne),Ae=!1,He=0;He<Ne;He++){var Ve=se[He];if(me[Ve])Ae=!0,Le[He]=me[Ve].xaxis,be[He]=me[Ve].yaxis;else if(he[Ve]&&he[Ve]._subplot){var ke=he[Ve]._subplot;Le[He]=ke.xaxis,be[He]=ke.yaxis}else{C.warn("Unrecognized subplot: "+Ve);return}}var Ge=le.hovermode||he.hovermode;if(Ge&&!Ae&&(Ge="closest"),["x","y","closest","x unified","y unified"].indexOf(Ge)===-1||!re.calcdata||re.querySelector(".zoombox")||re._dragging)return o.unhoverRaw(re,le);var it=he.hoverdistance;it===-1&&(it=1/0);var et=he.spikedistance;et===-1&&(et=1/0);var tt=[],at=[],vt,yt,gt,Mt,Ct,Vt,Je,ze,_e,Be,De,we,xe,Ee={hLinePoint:null,vLinePoint:null},Pe=!1;if(Array.isArray(le))for(Ge="array",gt=0;gt<le.length;gt++)Ct=re.calcdata[le[gt].curveNumber||0],Ct&&(Vt=Ct[0].trace,Ct[0].trace.hoverinfo!=="skip"&&(at.push(Ct),Vt.orientation==="h"&&(Pe=!0)));else{for(Mt=0;Mt<re.calcdata.length;Mt++)Ct=re.calcdata[Mt],Vt=Ct[0].trace,Vt.hoverinfo!=="skip"&&m.isTraceInSubplots(Vt,se)&&(at.push(Ct),Vt.orientation==="h"&&(Pe=!0));var Ue=!ue,$e,qe;if(Ue)"xpx"in le?$e=le.xpx:$e=Le[0]._length/2,"ypx"in le?qe=le.ypx:qe=be[0]._length/2;else{if(y.triggerHandler(re,"plotly_beforehover",le)===!1)return;var dt=ue.getBoundingClientRect();$e=le.clientX-dt.left,qe=le.clientY-dt.top,he._calcInverseTransform(re);var bt=C.apply3DTransform(he._invTransform)($e,qe);if($e=bt[0],qe=bt[1],$e<0||$e>Le[0]._length||qe<0||qe>be[0]._length)return o.unhoverRaw(re,le)}if(le.pointerX=$e+Le[0]._offset,le.pointerY=qe+be[0]._offset,"xval"in le?vt=m.flat(se,le.xval):vt=m.p2c(Le,$e),"yval"in le?yt=m.flat(se,le.yval):yt=m.p2c(be,qe),!R(vt[0])||!R(yt[0]))return C.warn("Fx.hover failed",le,re),o.unhoverRaw(re,le)}var Gt=1/0;function Qt(Er,Gr){for(Mt=0;Mt<at.length;Mt++)if(Ct=at[Mt],!(!Ct||!Ct[0]||!Ct[0].trace)&&(Vt=Ct[0].trace,!(Vt.visible!==!0||Vt._length===0)&&["carpet","contourcarpet"].indexOf(Vt._module.name)===-1)){if(Vt.type==="splom"?(ze=0,Je=se[ze]):(Je=m.getSubplot(Vt),ze=se.indexOf(Je)),_e=Ge,m.isUnifiedHover(_e)&&(_e=_e.charAt(0)),we={cd:Ct,trace:Vt,xa:Le[ze],ya:be[ze],maxHoverDistance:it,maxSpikeDistance:et,index:!1,distance:Math.min(Gt,it),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:n.defaultLine,name:Vt.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},he[Je]&&(we.subplot=he[Je]._subplot),he._splomScenes&&he._splomScenes[Vt.uid]&&(we.scene=he._splomScenes[Vt.uid]),xe=tt.length,_e==="array"){var Ur=le[Mt];"pointNumber"in Ur?(we.index=Ur.pointNumber,_e="closest"):(_e="","xval"in Ur&&(Be=Ur.xval,_e="x"),"yval"in Ur&&(De=Ur.yval,_e=_e?"closest":"y"))}else Er!==void 0&&Gr!==void 0?(Be=Er,De=Gr):(Be=vt[ze],De=yt[ze]);if(it!==0)if(Vt._module&&Vt._module.hoverPoints){var an=Vt._module.hoverPoints(we,Be,De,_e,{finiteRange:!0,hoverLayer:he._hoverlayer});if(an)for(var gn,mn=0;mn<an.length;mn++)gn=an[mn],R(gn.x0)&&R(gn.y0)&&tt.push(V(gn,Ge))}else C.log("Unrecognized trace type in hover:",Vt);if(Ge==="closest"&&tt.length>xe&&(tt.splice(0,xe),Gt=tt[0].distance),Te&&et!==0&&tt.length===0){we.distance=et,we.index=!1;var Rn=Vt._module.hoverPoints(we,Be,De,"closest",{hoverLayer:he._hoverlayer});if(Rn&&(Rn=Rn.filter(function(Qn){return Qn.spikeDistance<=et})),Rn&&Rn.length){var zn,oa=Rn.filter(function(Qn){return Qn.xa.showspikes&&Qn.xa.spikesnap!=="hovered data"});if(oa.length){var Zn=oa[0];R(Zn.x0)&&R(Zn.y0)&&(zn=zt(Zn),(!Ee.vLinePoint||Ee.vLinePoint.spikeDistance>zn.spikeDistance)&&(Ee.vLinePoint=zn))}var qn=Rn.filter(function(Qn){return Qn.ya.showspikes&&Qn.ya.spikesnap!=="hovered data"});if(qn.length){var Yn=qn[0];R(Yn.x0)&&R(Yn.y0)&&(zn=zt(Yn),(!Ee.hLinePoint||Ee.hLinePoint.spikeDistance>zn.spikeDistance)&&(Ee.hLinePoint=zn))}}}}}Qt();function At(Er,Gr,Ur){for(var an=null,gn=1/0,mn,Rn=0;Rn<Er.length;Rn++)mn=Er[Rn].spikeDistance,Ur&&Rn===0&&(mn=-1/0),mn<=gn&&mn<=Gr&&(an=Er[Rn],gn=mn);return an}function zt(Er){return Er?{xa:Er.xa,ya:Er.ya,x:Er.xSpike!==void 0?Er.xSpike:(Er.x0+Er.x1)/2,y:Er.ySpike!==void 0?Er.ySpike:(Er.y0+Er.y1)/2,distance:Er.distance,spikeDistance:Er.spikeDistance,curveNumber:Er.trace.index,color:Er.color,pointNumber:Er.index}:null}var $t={fullLayout:he,container:he._hoverlayer,event:le},Ar=re._spikepoints,ut={vLinePoint:Ee.vLinePoint,hLinePoint:Ee.hLinePoint};re._spikepoints=ut;var Yt=function(){tt.sort(function(Er,Gr){return Er.distance-Gr.distance}),tt=ce(tt,Ge)};Yt();var Kt=Ge.charAt(0),mr=(Kt==="x"||Kt==="y")&&tt[0]&&i[tt[0].trace.type];if(Te&&et!==0&&tt.length!==0){var ur=tt.filter(function(Er){return Er.ya.showspikes}),pt=At(ur,et,mr);Ee.hLinePoint=zt(pt);var st=tt.filter(function(Er){return Er.xa.showspikes}),xt=At(st,et,mr);Ee.vLinePoint=zt(xt)}if(tt.length===0){var St=o.unhoverRaw(re,le);return Te&&(Ee.hLinePoint!==null||Ee.vLinePoint!==null)&&ne(Ar)&&j(re,Ee,$t),St}if(Te&&ne(Ar)&&j(re,Ee,$t),m.isXYhover(_e)&&tt[0].length!==0&&tt[0].trace.type!=="splom"){var Dt=tt[0];w[Dt.trace.type]?tt=tt.filter(function(Er){return Er.trace.index===Dt.trace.index}):tt=[Dt];var Rt=tt.length,Bt=Q("x",Dt,he),Nt=Q("y",Dt,he);Qt(Bt,Nt);var Xt=[],lr={},sr=0,dr=function(Er){var Gr=w[Er.trace.type]?b(Er):Er.trace.index;if(!lr[Gr])sr++,lr[Gr]=sr,Xt.push(Er);else{var Ur=lr[Gr]-1,an=Xt[Ur];Ur>0&&Math.abs(Er.distance)<Math.abs(an.distance)&&(Xt[Ur]=Er)}},je;for(je=0;je<Rt;je++)dr(tt[je]);for(je=tt.length-1;je>Rt-1;je--)dr(tt[je]);tt=Xt,Yt()}var Ye=re._hoverdata,It=[],kt=Z(re),jt=K(re);for(gt=0;gt<tt.length;gt++){var tr=tt[gt],or=m.makeEventData(tr,tr.trace,tr.cd);if(tr.hovertemplate!==!1){var rr=!1;tr.cd[tr.index]&&tr.cd[tr.index].ht&&(rr=tr.cd[tr.index].ht),tr.hovertemplate=rr||tr.trace.hovertemplate||!1}if(tr.xa&&tr.ya){var Ot=tr.x0+tr.xa._offset,hr=tr.x1+tr.xa._offset,gr=tr.y0+tr.ya._offset,pr=tr.y1+tr.ya._offset,vr=Math.min(Ot,hr),Vr=Math.max(Ot,hr),kr=Math.min(gr,pr),_r=Math.max(gr,pr);or.bbox={x0:vr+jt,x1:Vr+jt,y0:kr+kt,y1:_r+kt}}tr.eventData=[or],It.push(or)}re._hoverdata=It;var pn=Ge==="y"&&(at.length>1||tt.length>1)||Ge==="closest"&&Pe&&tt.length>1,en=n.combine(he.plot_bgcolor||n.background,he.paper_bgcolor),Bn=_(tt,{gd:re,hovermode:Ge,rotateLabels:pn,bgColor:en,container:he._hoverlayer,outerContainer:he._paper.node(),commonLabelOpts:he.hoverlabel,hoverdistance:he.hoverdistance}),Tn=Bn.hoverLabels;if(m.isUnifiedHover(Ge)||(z(Tn,pn,he,Bn.commonLabelBoundingBox),F(Tn,pn,he._invScaleX,he._invScaleY)),ue&&ue.tagName){var Mr=u.getComponentMethod("annotations","hasClickToShow")(re,It);r(g.select(ue),Mr?"pointer":"")}!ue||ee||!$(re,le,Ye)||(Ye&&re.emit("plotly_unhover",{event:le,points:Ye}),re.emit("plotly_hover",{event:le,points:re._hoverdata,xaxes:Le,yaxes:be,xvals:vt,yvals:yt}))}function b(re){return[re.trace.index,re.index,re.x0,re.y0,re.name,re.attr,re.xa?re.xa._id:"",re.ya?re.ya._id:""].join(",")}var O=/<extra>([\s\S]*)<\/extra>/;function _(re,le){var q=le.gd,ee=q._fullLayout,ue=le.hovermode,se=le.rotateLabels,he=le.bgColor,me=le.container,Ce=le.outerContainer,Te=le.commonLabelOpts||{};if(re.length===0)return[[]];var Oe=le.fontFamily||c.HOVERFONT,Ne=le.fontSize||c.HOVERFONTSIZE,Le=re[0],be=Le.xa,Ae=Le.ya,He=ue.charAt(0),Ve=He+"Label",ke=Le[Ve];if(ke===void 0&&be.type==="multicategory")for(var Ge=0;Ge<re.length&&(ke=re[Ge][Ve],ke===void 0);Ge++);var it=J(q,Ce),et=it.top,tt=it.width,at=it.height,vt=ke!==void 0&&Le.distance<=le.hoverdistance&&(ue==="x"||ue==="y");if(vt){var yt=!0,gt,Mt;for(gt=0;gt<re.length;gt++)if(yt&&re[gt].zLabel===void 0&&(yt=!1),Mt=re[gt].hoverinfo||re[gt].trace.hoverinfo,Mt){var Ct=Array.isArray(Mt)?Mt:Mt.split("+");if(Ct.indexOf("all")===-1&&Ct.indexOf(ue)===-1){vt=!1;break}}yt&&(vt=!1)}var Vt=me.selectAll("g.axistext").data(vt?[0]:[]);Vt.enter().append("g").classed("axistext",!0),Vt.exit().remove();var Je={minX:0,maxX:0,minY:0,maxY:0};if(Vt.each(function(){var Rt=g.select(this),Bt=C.ensureSingle(Rt,"path","",function(kr){kr.style({"stroke-width":"1px"})}),Nt=C.ensureSingle(Rt,"text","",function(kr){kr.attr("data-notex",1)}),Xt=Te.bgcolor||n.defaultLine,lr=Te.bordercolor||n.contrast(Xt),sr=n.contrast(Xt),dr={family:Te.font.family||Oe,size:Te.font.size||Ne,color:Te.font.color||sr};Bt.style({fill:Xt,stroke:lr}),Nt.text(ke).call(s.font,dr).call(t.positionText,0,0).call(t.convertToTspans,q),Rt.attr("transform","");var je=J(q,Nt.node()),Ye,It;if(ue==="x"){var kt=be.side==="top"?"-":"";Nt.attr("text-anchor","middle").call(t.positionText,0,be.side==="top"?et-je.bottom-x-E:et-je.top+x+E),Ye=be._offset+(Le.x0+Le.x1)/2,It=Ae._offset+(be.side==="top"?0:Ae._length);var jt=je.width/2+E;Ye<jt?(Ye=jt,Bt.attr("d","M-"+(jt-x)+",0L-"+(jt-x*2)+","+kt+x+"H"+jt+"v"+kt+(E*2+je.height)+"H-"+jt+"V"+kt+x+"Z")):Ye>ee.width-jt?(Ye=ee.width-jt,Bt.attr("d","M"+(jt-x)+",0L"+jt+","+kt+x+"v"+kt+(E*2+je.height)+"H-"+jt+"V"+kt+x+"H"+(jt-x*2)+"Z")):Bt.attr("d","M0,0L"+x+","+kt+x+"H"+jt+"v"+kt+(E*2+je.height)+"H-"+jt+"V"+kt+x+"H-"+x+"Z"),Je.minX=Ye-jt,Je.maxX=Ye+jt,be.side==="top"?(Je.minY=It-(E*2+je.height),Je.maxY=It-E):(Je.minY=It+E,Je.maxY=It+(E*2+je.height))}else{var tr,or,rr;Ae.side==="right"?(tr="start",or=1,rr="",Ye=be._offset+be._length):(tr="end",or=-1,rr="-",Ye=be._offset),It=Ae._offset+(Le.y0+Le.y1)/2,Nt.attr("text-anchor",tr),Bt.attr("d","M0,0L"+rr+x+","+x+"V"+(E+je.height/2)+"h"+rr+(E*2+je.width)+"V-"+(E+je.height/2)+"H"+rr+x+"V-"+x+"Z"),Je.minY=It-(E+je.height/2),Je.maxY=It+(E+je.height/2),Ae.side==="right"?(Je.minX=Ye+x,Je.maxX=Ye+x+(E*2+je.width)):(Je.minX=Ye-x-(E*2+je.width),Je.maxX=Ye-x);var Ot=je.height/2,hr=et-je.top-Ot,gr="clip"+ee._uid+"commonlabel"+Ae._id,pr;if(Ye<je.width+2*E+x){pr="M-"+(x+E)+"-"+Ot+"h-"+(je.width-E)+"V"+Ot+"h"+(je.width-E)+"Z";var vr=je.width-Ye+E;t.positionText(Nt,vr,hr),tr==="end"&&Nt.selectAll("tspan").each(function(){var kr=g.select(this),_r=s.tester.append("text").text(kr.text()).call(s.font,dr),pn=J(q,_r.node());Math.round(pn.width)<Math.round(je.width)&&kr.attr("x",vr-pn.width),_r.remove()})}else t.positionText(Nt,or*(E+x),hr),pr=null;var Vr=ee._topclips.selectAll("#"+gr).data(pr?[0]:[]);Vr.enter().append("clipPath").attr("id",gr).append("path"),Vr.exit().remove(),Vr.select("path").attr("d",pr),s.setClipUrl(Nt,pr?gr:null,q)}Rt.attr("transform",T(Ye,It))}),m.isUnifiedHover(ue)){me.selectAll("g.hovertext").remove();var ze=re.filter(function(Rt){return Rt.hoverinfo!=="none"});if(ze.length===0)return[];var _e=ee.hoverlabel,Be=_e.font,De={showlegend:!0,legend:{title:{text:ke,font:Be},font:Be,bgcolor:_e.bgcolor,bordercolor:_e.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:ee.legend?ee.legend.traceorder:void 0,orientation:"v"}},we={font:Be};A(De,we,q._fullData);var xe=we.legend;xe.entries=[];for(var Ee=0;Ee<ze.length;Ee++){var Pe=ze[Ee];if(Pe.hoverinfo!=="none"){var Ue=N(Pe,!0,ue,ee,ke),$e=Ue[0],qe=Ue[1];Pe.name=qe,qe!==""?Pe.text=qe+" : "+$e:Pe.text=$e;var dt=Pe.cd[Pe.index];dt&&(dt.mc&&(Pe.mc=dt.mc),dt.mcc&&(Pe.mc=dt.mcc),dt.mlc&&(Pe.mlc=dt.mlc),dt.mlcc&&(Pe.mlc=dt.mlcc),dt.mlw&&(Pe.mlw=dt.mlw),dt.mrc&&(Pe.mrc=dt.mrc),dt.dir&&(Pe.dir=dt.dir)),Pe._distinct=!0,xe.entries.push([Pe])}}xe.entries.sort(function(Rt,Bt){return Rt[0].trace.index-Bt[0].trace.index}),xe.layer=me,xe._inHover=!0,xe._groupTitleFont=_e.grouptitlefont,h(q,xe);var bt=me.select("g.legend"),Gt=J(q,bt.node()),Qt=Gt.width+2*E,At=Gt.height+2*E,zt=ze[0],$t=(zt.x0+zt.x1)/2,Ar=(zt.y0+zt.y1)/2,ut=!(u.traceIs(zt.trace,"bar-like")||u.traceIs(zt.trace,"box-violin")),Yt,Kt;He==="y"?ut?(Kt=Ar-E,Yt=Ar+E):(Kt=Math.min.apply(null,ze.map(function(Rt){return Math.min(Rt.y0,Rt.y1)})),Yt=Math.max.apply(null,ze.map(function(Rt){return Math.max(Rt.y0,Rt.y1)}))):Kt=Yt=C.mean(ze.map(function(Rt){return(Rt.y0+Rt.y1)/2}))-At/2;var mr,ur;He==="x"?ut?(mr=$t+E,ur=$t-E):(mr=Math.max.apply(null,ze.map(function(Rt){return Math.max(Rt.x0,Rt.x1)})),ur=Math.min.apply(null,ze.map(function(Rt){return Math.min(Rt.x0,Rt.x1)}))):mr=ur=C.mean(ze.map(function(Rt){return(Rt.x0+Rt.x1)/2}))-Qt/2;var pt=be._offset,st=Ae._offset;Yt+=st,mr+=pt,ur+=pt-Qt,Kt+=st-At;var xt,St;return mr+Qt<tt&&mr>=0?xt=mr:ur+Qt<tt&&ur>=0?xt=ur:pt+Qt<tt?xt=pt:mr-$t<$t-ur+Qt?xt=tt-Qt:xt=0,xt+=E,Yt+At<at&&Yt>=0?St=Yt:Kt+At<at&&Kt>=0?St=Kt:st+At<at?St=st:Yt-Ar<Ar-Kt+At?St=at-At:St=0,St+=E,bt.attr("transform",T(xt-1,St-1)),bt}var Dt=me.selectAll("g.hovertext").data(re,function(Rt){return b(Rt)});return Dt.enter().append("g").classed("hovertext",!0).each(function(){var Rt=g.select(this);Rt.append("rect").call(n.fill,n.addOpacity(he,.8)),Rt.append("text").classed("name",!0),Rt.append("path").style("stroke-width","1px"),Rt.append("text").classed("nums",!0).call(s.font,Oe,Ne)}),Dt.exit().remove(),Dt.each(function(Rt){var Bt=g.select(this).attr("transform",""),Nt=Rt.color;Array.isArray(Nt)&&(Nt=Nt[Rt.eventData[0].pointNumber]);var Xt=Rt.bgcolor||Nt,lr=n.combine(n.opacity(Xt)?Xt:n.defaultLine,he),sr=n.combine(n.opacity(Nt)?Nt:n.defaultLine,he),dr=Rt.borderColor||n.contrast(lr),je=N(Rt,vt,ue,ee,ke,Bt),Ye=je[0],It=je[1],kt=Bt.select("text.nums").call(s.font,Rt.fontFamily||Oe,Rt.fontSize||Ne,Rt.fontColor||dr).text(Ye).attr("data-notex",1).call(t.positionText,0,0).call(t.convertToTspans,q),jt=Bt.select("text.name"),tr=0,or=0;if(It&&It!==Ye){jt.call(s.font,Rt.fontFamily||Oe,Rt.fontSize||Ne,sr).text(It).attr("data-notex",1).call(t.positionText,0,0).call(t.convertToTspans,q);var rr=J(q,jt.node());tr=rr.width+2*E,or=rr.height+2*E}else jt.remove(),Bt.select("rect").remove();Bt.select("path").style({fill:lr,stroke:dr});var Ot=Rt.xa._offset+(Rt.x0+Rt.x1)/2,hr=Rt.ya._offset+(Rt.y0+Rt.y1)/2,gr=Math.abs(Rt.x1-Rt.x0),pr=Math.abs(Rt.y1-Rt.y0),vr=J(q,kt.node()),Vr=vr.width/ee._invScaleX,kr=vr.height/ee._invScaleY;Rt.ty0=(et-vr.top)/ee._invScaleY,Rt.bx=Vr+2*E,Rt.by=Math.max(kr+2*E,or),Rt.anchor="start",Rt.txwidth=Vr,Rt.tx2width=tr,Rt.offset=0;var _r=(Vr+x+E+tr)*ee._invScaleX,pn,en;if(se)Rt.pos=Ot,pn=hr+pr/2+_r<=at,en=hr-pr/2-_r>=0,(Rt.idealAlign==="top"||!pn)&&en?(hr-=pr/2,Rt.anchor="end"):pn?(hr+=pr/2,Rt.anchor="start"):Rt.anchor="middle",Rt.crossPos=hr;else{if(Rt.pos=hr,pn=Ot+gr/2+_r<=tt,en=Ot-gr/2-_r>=0,(Rt.idealAlign==="left"||!pn)&&en)Ot-=gr/2,Rt.anchor="end";else if(pn)Ot+=gr/2,Rt.anchor="start";else{Rt.anchor="middle";var Bn=_r/2,Tn=Ot+Bn-tt,Mr=Ot-Bn;Tn>0&&(Ot-=Tn),Mr<0&&(Ot+=-Mr)}Rt.crossPos=Ot}kt.attr("text-anchor",Rt.anchor),tr&&jt.attr("text-anchor",Rt.anchor),Bt.attr("transform",T(Ot,hr)+(se?v(l):""))}),{hoverLabels:Dt,commonLabelBoundingBox:Je}}function N(re,le,q,ee,ue,se){var he="",me="";re.nameOverride!==void 0&&(re.name=re.nameOverride),re.name&&(re.trace._meta&&(re.name=C.templateString(re.name,re.trace._meta)),he=oe(re.name,re.nameLength));var Ce=q.charAt(0),Te=Ce==="x"?"y":"x";re.zLabel!==void 0?(re.xLabel!==void 0&&(me+="x: "+re.xLabel+"<br>"),re.yLabel!==void 0&&(me+="y: "+re.yLabel+"<br>"),re.trace.type!=="choropleth"&&re.trace.type!=="choroplethmapbox"&&(me+=(me?"z: ":"")+re.zLabel)):le&&re[Ce+"Label"]===ue?me=re[Te+"Label"]||"":re.xLabel===void 0?re.yLabel!==void 0&&re.trace.type!=="scattercarpet"&&(me=re.yLabel):re.yLabel===void 0?me=re.xLabel:me="("+re.xLabel+", "+re.yLabel+")",(re.text||re.text===0)&&!Array.isArray(re.text)&&(me+=(me?"<br>":"")+re.text),re.extraText!==void 0&&(me+=(me?"<br>":"")+re.extraText),se&&me===""&&!re.hovertemplate&&(he===""&&se.remove(),me=he);var Oe=re.hovertemplate||!1;if(Oe){var Ne=re.hovertemplateLabels||re;re[Ce+"Label"]!==ue&&(Ne[Ce+"other"]=Ne[Ce+"Val"],Ne[Ce+"otherLabel"]=Ne[Ce+"Label"]),me=C.hovertemplateString(Oe,Ne,ee._d3locale,re.eventData[0]||{},re.trace._meta),me=me.replace(O,function(Le,be){return he=oe(be,re.nameLength),""})}return[me,he]}function z(re,le,q,ee){var ue=le?"xa":"ya",se=le?"ya":"xa",he=0,me=1,Ce=re.size(),Te=new Array(Ce),Oe=0,Ne=ee.minX,Le=ee.maxX,be=ee.minY,Ae=ee.maxY,He=function(Be){return Be*q._invScaleX},Ve=function(Be){return Be*q._invScaleY};re.each(function(Be){var De=Be[ue],we=Be[se],xe=De._id.charAt(0)==="x",Ee=De.range;Oe===0&&Ee&&Ee[0]>Ee[1]!==xe&&(me=-1);var Pe=0,Ue=xe?q.width:q.height;if(q.hovermode==="x"||q.hovermode==="y"){var $e=B(Be,le),qe=Be.anchor,dt=qe==="end"?-1:1,bt,Gt;if(qe==="middle")bt=Be.crossPos+(xe?Ve($e.y-Be.by/2):He(Be.bx/2+Be.tx2width/2)),Gt=bt+(xe?Ve(Be.by):He(Be.bx));else if(xe)bt=Be.crossPos+Ve(x+$e.y)-Ve(Be.by/2-x),Gt=bt+Ve(Be.by);else{var Qt=He(dt*x+$e.x),At=Qt+He(dt*Be.bx);bt=Be.crossPos+Math.min(Qt,At),Gt=Be.crossPos+Math.max(Qt,At)}xe?be!==void 0&&Ae!==void 0&&Math.min(Gt,Ae)-Math.max(bt,be)>1&&(we.side==="left"?(Pe=we._mainLinePosition,Ue=q.width):Ue=we._mainLinePosition):Ne!==void 0&&Le!==void 0&&Math.min(Gt,Le)-Math.max(bt,Ne)>1&&(we.side==="top"?(Pe=we._mainLinePosition,Ue=q.height):Ue=we._mainLinePosition)}Te[Oe++]=[{datum:Be,traceIndex:Be.trace.index,dp:0,pos:Be.pos,posref:Be.posref,size:Be.by*(xe?M:1)/2,pmin:Pe,pmax:Ue}]}),Te.sort(function(Be,De){return Be[0].posref-De[0].posref||me*(De[0].traceIndex-Be[0].traceIndex)});var ke,Ge,it,et,tt,at,vt;function yt(Be){var De=Be[0],we=Be[Be.length-1];if(Ge=De.pmin-De.pos-De.dp+De.size,it=we.pos+we.dp+we.size-De.pmax,Ge>.01){for(tt=Be.length-1;tt>=0;tt--)Be[tt].dp+=Ge;ke=!1}if(!(it<.01)){if(Ge<-.01){for(tt=Be.length-1;tt>=0;tt--)Be[tt].dp-=it;ke=!1}if(ke){var xe=0;for(et=0;et<Be.length;et++)at=Be[et],at.pos+at.dp+at.size>De.pmax&&xe++;for(et=Be.length-1;et>=0&&!(xe<=0);et--)at=Be[et],at.pos>De.pmax-1&&(at.del=!0,xe--);for(et=0;et<Be.length&&!(xe<=0);et++)if(at=Be[et],at.pos<De.pmin+1)for(at.del=!0,xe--,it=at.size*2,tt=Be.length-1;tt>=0;tt--)Be[tt].dp-=it;for(et=Be.length-1;et>=0&&!(xe<=0);et--)at=Be[et],at.pos+at.dp+at.size>De.pmax&&(at.del=!0,xe--)}}}for(;!ke&&he<=Ce;){for(he++,ke=!0,et=0;et<Te.length-1;){var gt=Te[et],Mt=Te[et+1],Ct=gt[gt.length-1],Vt=Mt[0];if(Ge=Ct.pos+Ct.dp+Ct.size-Vt.pos-Vt.dp+Vt.size,Ge>.01&&Ct.pmin===Vt.pmin&&Ct.pmax===Vt.pmax){for(tt=Mt.length-1;tt>=0;tt--)Mt[tt].dp+=Ge;for(gt.push.apply(gt,Mt),Te.splice(et+1,1),vt=0,tt=gt.length-1;tt>=0;tt--)vt+=gt[tt].dp;for(it=vt/gt.length,tt=gt.length-1;tt>=0;tt--)gt[tt].dp-=it;ke=!1}else et++}Te.forEach(yt)}for(et=Te.length-1;et>=0;et--){var Je=Te[et];for(tt=Je.length-1;tt>=0;tt--){var ze=Je[tt],_e=ze.datum;_e.offset=ze.dp,_e.del=ze.del}}}function B(re,le){var q=0,ee=re.offset;return le&&(ee*=-P,q=re.offset*S),{x:q,y:ee}}function U(re){var le={start:1,end:-1,middle:0}[re.anchor],q=le*(x+E),ee=q+le*(re.txwidth+E),ue=re.anchor==="middle";return ue&&(q-=re.tx2width/2,ee+=re.txwidth/2+E),{alignShift:le,textShiftX:q,text2ShiftX:ee}}function F(re,le,q,ee){var ue=function(he){return he*q},se=function(he){return he*ee};re.each(function(he){var me=g.select(this);if(he.del)return me.remove();var Ce=me.select("text.nums"),Te=he.anchor,Oe=Te==="end"?-1:1,Ne=U(he),Le=B(he,le),be=Le.x,Ae=Le.y,He=Te==="middle";me.select("path").attr("d",He?"M-"+ue(he.bx/2+he.tx2width/2)+","+se(Ae-he.by/2)+"h"+ue(he.bx)+"v"+se(he.by)+"h-"+ue(he.bx)+"Z":"M0,0L"+ue(Oe*x+be)+","+se(x+Ae)+"v"+se(he.by/2-x)+"h"+ue(Oe*he.bx)+"v-"+se(he.by)+"H"+ue(Oe*x+be)+"V"+se(Ae-x)+"Z");var Ve=be+Ne.textShiftX,ke=Ae+he.ty0-he.by/2+E,Ge=he.textAlign||"auto";Ge!=="auto"&&(Ge==="left"&&Te!=="start"?(Ce.attr("text-anchor","start"),Ve=He?-he.bx/2-he.tx2width/2+E:-he.bx-E):Ge==="right"&&Te!=="end"&&(Ce.attr("text-anchor","end"),Ve=He?he.bx/2-he.tx2width/2-E:he.bx+E)),Ce.call(t.positionText,ue(Ve),se(ke)),he.tx2width&&(me.select("text.name").call(t.positionText,ue(Ne.text2ShiftX+Ne.alignShift*E+be),se(Ae+he.ty0-he.by/2+E)),me.select("rect").call(s.setRect,ue(Ne.text2ShiftX+(Ne.alignShift-1)*he.tx2width/2+be),se(Ae-he.by/2-1),ue(he.tx2width),se(he.by+2)))})}function V(re,le){var q=re.index,ee=re.trace||{},ue=re.cd[0],se=re.cd[q]||{};function he(Le){return Le||R(Le)&&Le===0}var me=Array.isArray(q)?function(Le,be){var Ae=C.castOption(ue,q,Le);return he(Ae)?Ae:C.extractOption({},ee,"",be)}:function(Le,be){return C.extractOption(se,ee,Le,be)};function Ce(Le,be,Ae){var He=me(be,Ae);he(He)&&(re[Le]=He)}if(Ce("hoverinfo","hi","hoverinfo"),Ce("bgcolor","hbg","hoverlabel.bgcolor"),Ce("borderColor","hbc","hoverlabel.bordercolor"),Ce("fontFamily","htf","hoverlabel.font.family"),Ce("fontSize","hts","hoverlabel.font.size"),Ce("fontColor","htc","hoverlabel.font.color"),Ce("nameLength","hnl","hoverlabel.namelength"),Ce("textAlign","hta","hoverlabel.align"),re.posref=le==="y"||le==="closest"&&ee.orientation==="h"?re.xa._offset+(re.x0+re.x1)/2:re.ya._offset+(re.y0+re.y1)/2,re.x0=C.constrain(re.x0,0,re.xa._length),re.x1=C.constrain(re.x1,0,re.xa._length),re.y0=C.constrain(re.y0,0,re.ya._length),re.y1=C.constrain(re.y1,0,re.ya._length),re.xLabelVal!==void 0&&(re.xLabel="xLabel"in re?re.xLabel:f.hoverLabelText(re.xa,re.xLabelVal,ee.xhoverformat),re.xVal=re.xa.c2d(re.xLabelVal)),re.yLabelVal!==void 0&&(re.yLabel="yLabel"in re?re.yLabel:f.hoverLabelText(re.ya,re.yLabelVal,ee.yhoverformat),re.yVal=re.ya.c2d(re.yLabelVal)),re.zLabelVal!==void 0&&re.zLabel===void 0&&(re.zLabel=String(re.zLabelVal)),!isNaN(re.xerr)&&!(re.xa.type==="log"&&re.xerr<=0)){var Te=f.tickText(re.xa,re.xa.c2l(re.xerr),"hover").text;re.xerrneg!==void 0?re.xLabel+=" +"+Te+" / -"+f.tickText(re.xa,re.xa.c2l(re.xerrneg),"hover").text:re.xLabel+="  "+Te,le==="x"&&(re.distance+=1)}if(!isNaN(re.yerr)&&!(re.ya.type==="log"&&re.yerr<=0)){var Oe=f.tickText(re.ya,re.ya.c2l(re.yerr),"hover").text;re.yerrneg!==void 0?re.yLabel+=" +"+Oe+" / -"+f.tickText(re.ya,re.ya.c2l(re.yerrneg),"hover").text:re.yLabel+="  "+Oe,le==="y"&&(re.distance+=1)}var Ne=re.hoverinfo||re.trace.hoverinfo;return Ne&&Ne!=="all"&&(Ne=Array.isArray(Ne)?Ne:Ne.split("+"),Ne.indexOf("x")===-1&&(re.xLabel=void 0),Ne.indexOf("y")===-1&&(re.yLabel=void 0),Ne.indexOf("z")===-1&&(re.zLabel=void 0),Ne.indexOf("text")===-1&&(re.text=void 0),Ne.indexOf("name")===-1&&(re.name=void 0)),re}function j(re,le,q){var ee=q.container,ue=q.fullLayout,se=ue._size,he=q.event,me=!!le.hLinePoint,Ce=!!le.vLinePoint,Te,Oe;if(ee.selectAll(".spikeline").remove(),!!(Ce||me)){var Ne=n.combine(ue.plot_bgcolor,ue.paper_bgcolor);if(me){var Le=le.hLinePoint,be,Ae;Te=Le&&Le.xa,Oe=Le&&Le.ya;var He=Oe.spikesnap;He==="cursor"?(be=he.pointerX,Ae=he.pointerY):(be=Te._offset+Le.x,Ae=Oe._offset+Le.y);var Ve=a.readability(Le.color,Ne)<1.5?n.contrast(Ne):Le.color,ke=Oe.spikemode,Ge=Oe.spikethickness,it=Oe.spikecolor||Ve,et=f.getPxPosition(re,Oe),tt,at;if(ke.indexOf("toaxis")!==-1||ke.indexOf("across")!==-1){if(ke.indexOf("toaxis")!==-1&&(tt=et,at=be),ke.indexOf("across")!==-1){var vt=Oe._counterDomainMin,yt=Oe._counterDomainMax;Oe.anchor==="free"&&(vt=Math.min(vt,Oe.position),yt=Math.max(yt,Oe.position)),tt=se.l+vt*se.w,at=se.l+yt*se.w}ee.insert("line",":first-child").attr({x1:tt,x2:at,y1:Ae,y2:Ae,"stroke-width":Ge,stroke:it,"stroke-dasharray":s.dashStyle(Oe.spikedash,Ge)}).classed("spikeline",!0).classed("crisp",!0),ee.insert("line",":first-child").attr({x1:tt,x2:at,y1:Ae,y2:Ae,"stroke-width":Ge+2,stroke:Ne}).classed("spikeline",!0).classed("crisp",!0)}ke.indexOf("marker")!==-1&&ee.insert("circle",":first-child").attr({cx:et+(Oe.side!=="right"?Ge:-Ge),cy:Ae,r:Ge,fill:it}).classed("spikeline",!0)}if(Ce){var gt=le.vLinePoint,Mt,Ct;Te=gt&&gt.xa,Oe=gt&&gt.ya;var Vt=Te.spikesnap;Vt==="cursor"?(Mt=he.pointerX,Ct=he.pointerY):(Mt=Te._offset+gt.x,Ct=Oe._offset+gt.y);var Je=a.readability(gt.color,Ne)<1.5?n.contrast(Ne):gt.color,ze=Te.spikemode,_e=Te.spikethickness,Be=Te.spikecolor||Je,De=f.getPxPosition(re,Te),we,xe;if(ze.indexOf("toaxis")!==-1||ze.indexOf("across")!==-1){if(ze.indexOf("toaxis")!==-1&&(we=De,xe=Ct),ze.indexOf("across")!==-1){var Ee=Te._counterDomainMin,Pe=Te._counterDomainMax;Te.anchor==="free"&&(Ee=Math.min(Ee,Te.position),Pe=Math.max(Pe,Te.position)),we=se.t+(1-Pe)*se.h,xe=se.t+(1-Ee)*se.h}ee.insert("line",":first-child").attr({x1:Mt,x2:Mt,y1:we,y2:xe,"stroke-width":_e,stroke:Be,"stroke-dasharray":s.dashStyle(Te.spikedash,_e)}).classed("spikeline",!0).classed("crisp",!0),ee.insert("line",":first-child").attr({x1:Mt,x2:Mt,y1:we,y2:xe,"stroke-width":_e+2,stroke:Ne}).classed("spikeline",!0).classed("crisp",!0)}ze.indexOf("marker")!==-1&&ee.insert("circle",":first-child").attr({cx:Mt,cy:De-(Te.side!=="top"?_e:-_e),r:_e,fill:Be}).classed("spikeline",!0)}}}function $(re,le,q){if(!q||q.length!==re._hoverdata.length)return!0;for(var ee=q.length-1;ee>=0;ee--){var ue=q[ee],se=re._hoverdata[ee];if(ue.curveNumber!==se.curveNumber||String(ue.pointNumber)!==String(se.pointNumber)||String(ue.pointNumbers)!==String(se.pointNumbers))return!0}return!1}function ne(re,le){return!le||le.vLinePoint!==re._spikepoints.vLinePoint||le.hLinePoint!==re._spikepoints.hLinePoint}function oe(re,le){return t.plainText(re||"",{len:le,allowedTags:["br","sub","sup","b","i","em"]})}function ce(re,le){for(var q=le.charAt(0),ee=[],ue=[],se=[],he=0;he<re.length;he++){var me=re[he];u.traceIs(me.trace,"bar-like")||u.traceIs(me.trace,"box-violin")?se.push(me):me.trace[q+"period"]?ue.push(me):ee.push(me)}return ee.concat(ue).concat(se)}function Q(re,le,q){var ee=le[re+"a"],ue=le[re+"Val"],se=le.cd[0];if(ee.type==="category"||ee.type==="multicategory")ue=ee._categoriesMap[ue];else if(ee.type==="date"){var he=le.trace[re+"periodalignment"];if(he){var me=le.cd[le.index],Ce=me[re+"Start"];Ce===void 0&&(Ce=me[re]);var Te=me[re+"End"];Te===void 0&&(Te=me[re]);var Oe=Te-Ce;he==="end"?ue+=Oe:he==="middle"&&(ue+=Oe/2)}ue=ee.d2c(ue)}return se&&se.t&&se.t.posLetter===ee._id&&(q.boxmode==="group"||q.violinmode==="group")&&(ue+=se.t.dPos),ue}function Z(re){return re.offsetTop+re.clientTop}function K(re){return re.offsetLeft+re.clientLeft}function J(re,le){var q=re._fullLayout,ee=le.getBoundingClientRect(),ue=ee.left,se=ee.top,he=ue+ee.width,me=se+ee.height,Ce=C.apply3DTransform(q._invTransform)(ue,se),Te=C.apply3DTransform(q._invTransform)(he,me),Oe=Ce[0],Ne=Ce[1],Le=Te[0],be=Te[1];return{x:Oe,y:Ne,width:Le-Oe,height:be-Ne,top:Math.min(Ne,be),left:Math.min(Oe,Le),right:Math.max(Oe,Le),bottom:Math.max(Ne,be)}}},38048:function(W,H,e){var g=e(71828),R=e(7901),a=e(23469).isUnifiedHover;W.exports=function(T,v,y,t){t=t||{};var r=v.legend;function s(n){t.font[n]||(t.font[n]=r?v.legend.font[n]:v.font[n])}v&&a(v.hovermode)&&(t.font||(t.font={}),s("size"),s("family"),s("color"),r?(t.bgcolor||(t.bgcolor=R.combine(v.legend.bgcolor,v.paper_bgcolor)),t.bordercolor||(t.bordercolor=v.legend.bordercolor)):t.bgcolor||(t.bgcolor=v.paper_bgcolor)),y("hoverlabel.bgcolor",t.bgcolor),y("hoverlabel.bordercolor",t.bordercolor),y("hoverlabel.namelength",t.namelength),g.coerceFont(y,"hoverlabel.font",t.font),y("hoverlabel.align",t.align)}},98212:function(W,H,e){var g=e(71828),R=e(528);W.exports=function(C,T){function v(y,t){return T[y]!==void 0?T[y]:g.coerce(C,T,R,y,t)}return v("clickmode"),v("hovermode")}},30211:function(W,H,e){var g=e(39898),R=e(71828),a=e(28569),C=e(23469),T=e(528),v=e(88335);W.exports={moduleType:"component",name:"fx",constants:e(26675),schema:{layout:T},attributes:e(77914),layoutAttributes:T,supplyLayoutGlobalDefaults:e(22774),supplyDefaults:e(54268),supplyLayoutDefaults:e(34938),calc:e(30732),getDistanceFunction:C.getDistanceFunction,getClosest:C.getClosest,inbox:C.inbox,quadrature:C.quadrature,appendArrayPointValue:C.appendArrayPointValue,castHoverOption:t,castHoverinfo:r,hover:v.hover,unhover:a.unhover,loneHover:v.loneHover,loneUnhover:y,click:e(75914)};function y(s){var n=R.isD3Selection(s)?s:g.select(s);n.selectAll("g.hovertext").remove(),n.selectAll(".spikeline").remove()}function t(s,n,o){return R.castOption(s,n,"hoverlabel."+o)}function r(s,n,o){function f(u){return R.coerceHoverinfo({hoverinfo:u},{_module:s._module},n)}return R.castOption(s,o,"hoverinfo",f)}},528:function(W,H,e){var g=e(26675),R=e(41940),a=R({editType:"none"});a.family.dflt=g.HOVERFONT,a.size.dflt=g.HOVERFONTSIZE,W.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:a,grouptitlefont:R({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},34938:function(W,H,e){var g=e(71828),R=e(528),a=e(98212),C=e(38048);W.exports=function(v,y){function t(u,m){return g.coerce(v,y,R,u,m)}var r=a(v,y);r&&(t("hoverdistance"),t("spikedistance"));var s=t("dragmode");s==="select"&&t("selectdirection");var n=y._has("mapbox"),o=y._has("geo"),f=y._basePlotModules.length;y.dragmode==="zoom"&&((n||o)&&f===1||n&&o&&f===2)&&(y.dragmode="pan"),C(v,y,t),g.coerceFont(t,"hoverlabel.grouptitlefont",y.hoverlabel.font)}},22774:function(W,H,e){var g=e(71828),R=e(38048),a=e(528);W.exports=function(T,v){function y(t,r){return g.coerce(T,v,a,t,r)}R(T,v,y)}},83312:function(W,H,e){var g=e(71828),R=e(30587).counter,a=e(27670).Y,C=e(85555).idRegex,T=e(44467),v={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[R("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[C.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[C.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:a({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function y(o,f,u){var m=f[u+"axes"],c=Object.keys((o._splomAxes||{})[u]||{});if(Array.isArray(m))return m;if(c.length)return c}function t(o,f){var u=o.grid||{},m=y(f,u,"x"),c=y(f,u,"y");if(!o.grid&&!m&&!c)return;var A=Array.isArray(u.subplots)&&Array.isArray(u.subplots[0]),h=Array.isArray(m),l=Array.isArray(c),p=h&&m!==u.xaxes&&l&&c!==u.yaxes,M,S;A?(M=u.subplots.length,S=u.subplots[0].length):(l&&(M=c.length),h&&(S=m.length));var P=T.newContainer(f,"grid");function x(B,U){return g.coerce(u,P,v,B,U)}var E=x("rows",M),w=x("columns",S);if(!(E*w>1)){delete f.grid;return}if(!A&&!h&&!l){var i=x("pattern")==="independent";i&&(A=!0)}P._hasSubplotGrid=A;var L=x("roworder"),b=L==="top to bottom",O=A?.2:.1,_=A?.3:.1,N,z;p&&f._splomGridDflt&&(N=f._splomGridDflt.xside,z=f._splomGridDflt.yside),P._domains={x:r("x",x,O,N,w),y:r("y",x,_,z,E,b)}}function r(o,f,u,m,c,A){var h=f(o+"gap",u),l=f("domain."+o);f(o+"side",m);for(var p=new Array(c),M=l[0],S=(l[1]-M)/(c-h),P=S*(1-h),x=0;x<c;x++){var E=M+S*x;p[A?c-1-x:x]=[E,E+P]}return p}function s(o,f){var u=f.grid;if(!(!u||!u._domains)){var m=o.grid||{},c=f._subplots,A=u._hasSubplotGrid,h=u.rows,l=u.columns,p=u.pattern==="independent",M,S,P,x,E,w,i,L=u._axisMap={};if(A){var b=m.subplots||[];w=u.subplots=new Array(h);var O=1;for(M=0;M<h;M++){var _=w[M]=new Array(l),N=b[M]||[];for(S=0;S<l;S++)if(p?(E=O===1?"xy":"x"+O+"y"+O,O++):E=N[S],_[S]="",c.cartesian.indexOf(E)!==-1){if(i=E.indexOf("y"),P=E.slice(0,i),x=E.slice(i),L[P]!==void 0&&L[P]!==S||L[x]!==void 0&&L[x]!==M)continue;_[S]=E,L[P]=S,L[x]=M}}}else{var z=y(f,m,"x"),B=y(f,m,"y");u.xaxes=n(z,c.xaxis,l,L,"x"),u.yaxes=n(B,c.yaxis,h,L,"y")}var U=u._anchors={},F=u.roworder==="top to bottom";for(var V in L){var j=V.charAt(0),$=u[j+"side"],ne,oe,ce;if($.length<8)U[V]="free";else if(j==="x"){if($.charAt(0)==="t"===F?(ne=0,oe=1,ce=h):(ne=h-1,oe=-1,ce=-1),A){var Q=L[V];for(M=ne;M!==ce;M+=oe)if(E=w[M][Q],!!E&&(i=E.indexOf("y"),E.slice(0,i)===V)){U[V]=E.slice(i);break}}else for(M=ne;M!==ce;M+=oe)if(x=u.yaxes[M],c.cartesian.indexOf(V+x)!==-1){U[V]=x;break}}else if($.charAt(0)==="l"?(ne=0,oe=1,ce=l):(ne=l-1,oe=-1,ce=-1),A){var Z=L[V];for(M=ne;M!==ce;M+=oe)if(E=w[Z][M],!!E&&(i=E.indexOf("y"),E.slice(i)===V)){U[V]=E.slice(0,i);break}}else for(M=ne;M!==ce;M+=oe)if(P=u.xaxes[M],c.cartesian.indexOf(P+V)!==-1){U[V]=P;break}}}}function n(o,f,u,m,c){var A=new Array(u),h;function l(p,M){f.indexOf(M)!==-1&&m[M]===void 0?(A[p]=M,m[M]=p):A[p]=""}if(Array.isArray(o))for(h=0;h<u;h++)l(h,o[h]);else for(l(0,c),h=1;h<u;h++)l(h,c+(h+1));return A}W.exports={moduleType:"component",name:"grid",schema:{layout:{grid:v}},layoutAttributes:v,sizeDefaults:t,contentDefaults:s}},69819:function(W,H,e){var g=e(85555),R=e(44467).templatedArray;e(24695),W.exports=R("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",g.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",g.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},75378:function(W,H,e){var g=e(92770),R=e(58163);W.exports=function(C,T,v,y){T=T||{};var t=v==="log"&&T.type==="linear",r=v==="linear"&&T.type==="log";if(t||r){for(var s=C._fullLayout.images,n=T._id.charAt(0),o,f,u=0;u<s.length;u++)if(o=s[u],f="images["+u+"].",o[n+"ref"]===T._id){var m=o[n],c=o["size"+n],A=null,h=null;if(t){A=R(m,T.range);var l=c/Math.pow(10,A)/2;h=2*Math.log(l+Math.sqrt(1+l*l))/Math.LN10}else A=Math.pow(10,m),h=A*(Math.pow(10,c/2)-Math.pow(10,-c/2));g(A)?g(h)||(h=null):(A=null,h=null),y(f+n,A),y(f+"size"+n,h)}}}},81603:function(W,H,e){var g=e(71828),R=e(89298),a=e(85501),C=e(69819),T="images";W.exports=function(t,r){var s={name:T,handleItemDefaults:v};a(t,r,s)};function v(y,t,r){function s(l,p){return g.coerce(y,t,C,l,p)}var n=s("source"),o=s("visible",!!n);if(!o)return t;s("layer"),s("xanchor"),s("yanchor"),s("sizex"),s("sizey"),s("sizing"),s("opacity");for(var f={_fullLayout:r},u=["x","y"],m=0;m<2;m++){var c=u[m],A=R.coerceRef(y,t,f,c,"paper",void 0);if(A!=="paper"){var h=R.getFromId(f,A);h._imgIndices.push(t._index)}R.coercePosition(t,f,s,A,c,0)}return t}},80750:function(W,H,e){var g=e(39898),R=e(91424),a=e(89298),C=e(41675),T=e(77922);W.exports=function(y){var t=y._fullLayout,r=[],s={},n=[],o,f;for(f=0;f<t.images.length;f++){var u=t.images[f];if(u.visible)if(u.layer==="below"&&u.xref!=="paper"&&u.yref!=="paper"){o=C.ref2id(u.xref)+C.ref2id(u.yref);var m=t._plots[o];if(!m){n.push(u);continue}m.mainplot&&(o=m.mainplot.id),s[o]||(s[o]=[]),s[o].push(u)}else u.layer==="above"?r.push(u):n.push(u)}var c={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-1/2},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-1/2},bottom:{sizing:"YMax",offset:-1}}};function A(x){var E=g.select(this);if(this._imgSrc!==x.source)if(E.attr("xmlns",T.svg),x.source&&x.source.slice(0,5)==="data:")E.attr("xlink:href",x.source),this._imgSrc=x.source;else{var w=new Promise((function(i){var L=new Image;this.img=L,L.setAttribute("crossOrigin","anonymous"),L.onerror=b,L.onload=function(){var O=document.createElement("canvas");O.width=this.width,O.height=this.height;var _=O.getContext("2d",{willReadFrequently:!0});_.drawImage(this,0,0);var N=O.toDataURL("image/png");E.attr("xlink:href",N),i()},E.on("error",b),L.src=x.source,this._imgSrc=x.source;function b(){E.remove(),i()}}).bind(this));y._promises.push(w)}}function h(x){var E=g.select(this),w=a.getFromId(y,x.xref),i=a.getFromId(y,x.yref),L=a.getRefType(x.xref)==="domain",b=a.getRefType(x.yref)==="domain",O=t._size,_,N;w!==void 0?_=typeof x.xref=="string"&&L?w._length*x.sizex:Math.abs(w.l2p(x.sizex)-w.l2p(0)):_=x.sizex*O.w,i!==void 0?N=typeof x.yref=="string"&&b?i._length*x.sizey:Math.abs(i.l2p(x.sizey)-i.l2p(0)):N=x.sizey*O.h;var z=_*c.x[x.xanchor].offset,B=N*c.y[x.yanchor].offset,U=c.x[x.xanchor].sizing+c.y[x.yanchor].sizing,F,V;switch(w!==void 0?F=typeof x.xref=="string"&&L?w._length*x.x+w._offset:w.r2p(x.x)+w._offset:F=x.x*O.w+O.l,F+=z,i!==void 0?V=typeof x.yref=="string"&&b?i._length*(1-x.y)+i._offset:i.r2p(x.y)+i._offset:V=O.h-x.y*O.h+O.t,V+=B,x.sizing){case"fill":U+=" slice";break;case"stretch":U="none";break}E.attr({x:F,y:V,width:_,height:N,preserveAspectRatio:U,opacity:x.opacity});var j=w&&a.getRefType(x.xref)!=="domain"?w._id:"",$=i&&a.getRefType(x.yref)!=="domain"?i._id:"",ne=j+$;R.setClipUrl(E,ne?"clip"+t._uid+ne:null,y)}var l=t._imageLowerLayer.selectAll("image").data(n),p=t._imageUpperLayer.selectAll("image").data(r);l.enter().append("image"),p.enter().append("image"),l.exit().remove(),p.exit().remove(),l.each(function(x){A.bind(this)(x),h.bind(this)(x)}),p.each(function(x){A.bind(this)(x),h.bind(this)(x)});var M=Object.keys(t._plots);for(f=0;f<M.length;f++){o=M[f];var S=t._plots[o];if(S.imagelayer){var P=S.imagelayer.selectAll("image").data(s[o]||[]);P.enter().append("image"),P.exit().remove(),P.each(function(x){A.bind(this)(x),h.bind(this)(x)})}}}},68804:function(W,H,e){W.exports={moduleType:"component",name:"images",layoutAttributes:e(69819),supplyLayoutDefaults:e(81603),includeBasePlot:e(76325)("images"),draw:e(80750),convertCoords:e(75378)}},33030:function(W,H,e){var g=e(41940),R=e(22399);W.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:R.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:g({editType:"legend"}),grouptitlefont:g({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:g({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left","top center","top right"],editType:"legend"},editType:"legend"},editType:"legend"}},14928:function(W){W.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},99017:function(W,H,e){var g=e(73972),R=e(71828),a=e(44467),C=e(9012),T=e(33030),v=e(10820),y=e(10130);function t(r,s,n,o){var f=s[r]||{},u=a.newContainer(n,r);function m(ce,Q){return R.coerce(f,u,T,ce,Q)}var c=R.coerceFont(m,"font",n.font);m("bgcolor",n.paper_bgcolor),m("bordercolor");var A=m("visible");if(A){for(var h,l=function(ce,Q){var Z=h._input,K=h;return R.coerce(Z,K,C,ce,Q)},p=n.font||{},M=R.coerceFont(m,"grouptitlefont",R.extendFlat({},p,{size:Math.round(p.size*1.1)})),S=0,P=!1,x="normal",E=(n.shapes||[]).filter(function(ce){return ce.showlegend}),w=o.concat(E).filter(function(ce){return r===(ce.legend||"legend")}),i=0;i<w.length;i++)if(h=w[i],!!h.visible){var L=h._isShape;(h.showlegend||h._dfltShowLegend&&!(h._module&&h._module.attributes&&h._module.attributes.showlegend&&h._module.attributes.showlegend.dflt===!1))&&(S++,h.showlegend&&(P=!0,(!L&&g.traceIs(h,"pie-like")||h._input.showlegend===!0)&&S++),R.coerceFont(l,"legendgrouptitle.font",M)),(!L&&g.traceIs(h,"bar")&&n.barmode==="stack"||["tonextx","tonexty"].indexOf(h.fill)!==-1)&&(x=y.isGrouped({traceorder:x})?"grouped+reversed":"reversed"),h.legendgroup!==void 0&&h.legendgroup!==""&&(x=y.isReversed({traceorder:x})?"reversed+grouped":"grouped")}var b=R.coerce(s,n,v,"showlegend",P&&S>(r==="legend"?1:0));if(b===!1&&(n[r]=void 0),!(b===!1&&!f.uirevision)&&(m("uirevision",n.uirevision),b!==!1)){m("borderwidth");var O=m("orientation"),_=m("yref"),N=m("xref"),z=O==="h",B=_==="paper",U=N==="paper",F,V,j,$="left";z?(F=0,g.getComponentMethod("rangeslider","isVisible")(s.xaxis)?B?(V=1.1,j="bottom"):(V=1,j="top"):B?(V=-.1,j="top"):(V=0,j="bottom")):(V=1,j="auto",U?F=1.02:(F=1,$="right")),R.coerce(f,u,{x:{valType:"number",editType:"legend",min:U?-2:0,max:U?3:1,dflt:F}},"x"),R.coerce(f,u,{y:{valType:"number",editType:"legend",min:B?-2:0,max:B?3:1,dflt:V}},"y"),m("traceorder",x),y.isGrouped(n[r])&&m("tracegroupgap"),m("entrywidth"),m("entrywidthmode"),m("itemsizing"),m("itemwidth"),m("itemclick"),m("itemdoubleclick"),m("groupclick"),m("xanchor",$),m("yanchor",j),m("valign"),R.noneOrAll(f,u,["x","y"]);var ne=m("title.text");if(ne){m("title.side",z?"left":"top");var oe=R.extendFlat({},c,{size:R.bigFont(c.size)});R.coerceFont(m,"title.font",oe)}}}}W.exports=function(s,n,o){var f,u=o.slice(),m=n.shapes;if(m)for(f=0;f<m.length;f++){var c=m[f];if(c.showlegend){var A={_input:c._input,visible:c.visible,showlegend:c.showlegend,legend:c.legend};u.push(A)}}var h=["legend"];for(f=0;f<u.length;f++)R.pushUnique(h,u[f].legend);for(n._legends=[],f=0;f<h.length;f++){var l=h[f];t(l,s,n,u),n[l]&&n[l].visible&&(n[l]._id=l),n._legends.push(l)}}},43969:function(W,H,e){var g=e(39898),R=e(71828),a=e(74875),C=e(73972),T=e(11086),v=e(28569),y=e(91424),t=e(7901),r=e(63893),s=e(85167),n=e(14928),o=e(18783),f=o.LINE_SPACING,u=o.FROM_TL,m=o.FROM_BR,c=e(82424),A=e(53630),h=e(10130),l=1,p=/^legend[0-9]*$/;W.exports=function(V,j){if(j)S(V,j);else{var $=V._fullLayout,ne=$._legends,oe=$._infolayer.selectAll('[class^="legend"]');oe.each(function(){var K=g.select(this),J=K.attr("class"),re=J.split(" ")[0];re.match(p)&&ne.indexOf(re)===-1&&K.remove()});for(var ce=0;ce<ne.length;ce++){var Q=ne[ce],Z=V._fullLayout[Q];S(V,Z)}}};function M(F,V,j){if(!(V.title.side!=="top center"&&V.title.side!=="top right")){var $=V.title.font,ne=$.size*f,oe=0,ce=F.node(),Q=y.bBox(ce).width;V.title.side==="top center"?oe=.5*(V._width-2*j-2*n.titlePad-Q):V.title.side==="top right"&&(oe=V._width-2*j-2*n.titlePad-Q),r.positionText(F,j+n.titlePad+oe,j+ne)}}function S(F,V){var j=V||{},$=F._fullLayout,ne=U(j),oe,ce,Q=j._inHover;if(Q?(ce=j.layer,oe="hover"):(ce=$._infolayer,oe=ne),!!ce){oe+=$._uid,F._legendMouseDownTime||(F._legendMouseDownTime=0);var Z;if(Q){if(!j.entries)return;Z=c(j.entries,j)}else{for(var K=(F.calcdata||[]).slice(),J=$.shapes,re=0;re<J.length;re++){var le=J[re];if(le.showlegend){var q={_isShape:!0,_fullInput:le,index:le._index,name:le.name||le.label.text||"shape "+le._index,legend:le.legend,legendgroup:le.legendgroup,legendgrouptitle:le.legendgrouptitle,legendrank:le.legendrank,legendwidth:le.legendwidth,showlegend:le.showlegend,visible:le.visible,opacity:le.opacity,mode:le.type==="line"?"lines":"markers",line:le.line,marker:{line:le.line,color:le.fillcolor,size:12,symbol:le.type==="rect"?"square":le.type==="circle"?"circle":"hexagon2"}};K.push([{trace:q}])}}Z=$.showlegend&&c(K,j,$._legends.length>1)}var ee=$.hiddenlabels||[];if(!Q&&(!$.showlegend||!Z.length))return ce.selectAll("."+ne).remove(),$._topdefs.select("#"+oe).remove(),a.autoMargin(F,ne);var ue=R.ensureSingle(ce,"g",ne,function(be){Q||be.attr("pointer-events","all")}),se=R.ensureSingleById($._topdefs,"clipPath",oe,function(be){be.append("rect")}),he=R.ensureSingle(ue,"rect","bg",function(be){be.attr("shape-rendering","crispEdges")});he.call(t.stroke,j.bordercolor).call(t.fill,j.bgcolor).style("stroke-width",j.borderwidth+"px");var me=R.ensureSingle(ue,"g","scrollbox"),Ce=j.title;j._titleWidth=0,j._titleHeight=0;var Te;Ce.text?(Te=R.ensureSingle(me,"text",ne+"titletext"),Te.attr("text-anchor","start").call(y.font,Ce.font).text(Ce.text),L(Te,me,F,j,l)):me.selectAll("."+ne+"titletext").remove();var Oe=R.ensureSingle(ue,"rect","scrollbar",function(be){be.attr(n.scrollBarEnterAttrs).call(t.fill,n.scrollBarColor)}),Ne=me.selectAll("g.groups").data(Z);Ne.enter().append("g").attr("class","groups"),Ne.exit().remove();var Le=Ne.selectAll("g.traces").data(R.identity);Le.enter().append("g").attr("class","traces"),Le.exit().remove(),Le.style("opacity",function(be){var Ae=be[0].trace;return C.traceIs(Ae,"pie-like")?ee.indexOf(be[0].label)!==-1?.5:1:Ae.visible==="legendonly"?.5:1}).each(function(){g.select(this).call(E,F,j)}).call(A,F,j).each(function(){Q||g.select(this).call(i,F,ne)}),R.syncOrAsync([a.previousPromises,function(){return _(F,Ne,Le,j)},function(){var be=$._size,Ae=j.borderwidth,He=j.xref==="paper",Ve=j.yref==="paper";if(Ce.text&&M(Te,j,Ae),!Q){var ke,Ge;He?ke=be.l+be.w*j.x-u[z(j)]*j._width:ke=$.width*j.x-u[z(j)]*j._width,Ve?Ge=be.t+be.h*(1-j.y)-u[B(j)]*j._effHeight:Ge=$.height*(1-j.y)-u[B(j)]*j._effHeight;var it=N(F,ne,ke,Ge);if(it)return;if($.margin.autoexpand){var et=ke,tt=Ge;ke=He?R.constrain(ke,0,$.width-j._width):et,Ge=Ve?R.constrain(Ge,0,$.height-j._effHeight):tt,ke!==et&&R.log("Constrain "+ne+".x to make legend fit inside graph"),Ge!==tt&&R.log("Constrain "+ne+".y to make legend fit inside graph")}y.setTranslate(ue,ke,Ge)}if(Oe.on(".drag",null),ue.on("wheel",null),Q||j._height<=j._maxHeight||F._context.staticPlot){var at=j._effHeight;Q&&(at=j._height),he.attr({width:j._width-Ae,height:at-Ae,x:Ae/2,y:Ae/2}),y.setTranslate(me,0,0),se.select("rect").attr({width:j._width-2*Ae,height:at-2*Ae,x:Ae,y:Ae}),y.setClipUrl(me,oe,F),y.setRect(Oe,0,0,0,0),delete j._scrollY}else{var vt=Math.max(n.scrollBarMinHeight,j._effHeight*j._effHeight/j._height),yt=j._effHeight-vt-2*n.scrollBarMargin,gt=j._height-j._effHeight,Mt=yt/gt,Ct=Math.min(j._scrollY||0,gt);he.attr({width:j._width-2*Ae+n.scrollBarWidth+n.scrollBarMargin,height:j._effHeight-Ae,x:Ae/2,y:Ae/2}),se.select("rect").attr({width:j._width-2*Ae+n.scrollBarWidth+n.scrollBarMargin,height:j._effHeight-2*Ae,x:Ae,y:Ae+Ct}),y.setClipUrl(me,oe,F),xe(Ct,vt,Mt),ue.on("wheel",function(){Ct=R.constrain(j._scrollY+g.event.deltaY/yt*gt,0,gt),xe(Ct,vt,Mt),Ct!==0&&Ct!==gt&&g.event.preventDefault()});var Vt,Je,ze,_e=function(qe,dt,bt){var Gt=(bt-dt)/Mt+qe;return R.constrain(Gt,0,gt)},Be=function(qe,dt,bt){var Gt=(dt-bt)/Mt+qe;return R.constrain(Gt,0,gt)},De=g.behavior.drag().on("dragstart",function(){var qe=g.event.sourceEvent;qe.type==="touchstart"?Vt=qe.changedTouches[0].clientY:Vt=qe.clientY,ze=Ct}).on("drag",function(){var qe=g.event.sourceEvent;qe.buttons===2||qe.ctrlKey||(qe.type==="touchmove"?Je=qe.changedTouches[0].clientY:Je=qe.clientY,Ct=_e(ze,Vt,Je),xe(Ct,vt,Mt))});Oe.call(De);var we=g.behavior.drag().on("dragstart",function(){var qe=g.event.sourceEvent;qe.type==="touchstart"&&(Vt=qe.changedTouches[0].clientY,ze=Ct)}).on("drag",function(){var qe=g.event.sourceEvent;qe.type==="touchmove"&&(Je=qe.changedTouches[0].clientY,Ct=Be(ze,Vt,Je),xe(Ct,vt,Mt))});me.call(we)}function xe(qe,dt,bt){j._scrollY=F._fullLayout[ne]._scrollY=qe,y.setTranslate(me,0,-qe),y.setRect(Oe,j._width,n.scrollBarMargin+qe*bt,n.scrollBarWidth,dt),se.select("rect").attr("y",Ae+qe)}if(F._context.edits.legendPosition){var Ee,Pe,Ue,$e;ue.classed("cursor-move",!0),v.init({element:ue.node(),gd:F,prepFn:function(){var qe=y.getTranslate(ue);Ue=qe.x,$e=qe.y},moveFn:function(qe,dt){var bt=Ue+qe,Gt=$e+dt;y.setTranslate(ue,bt,Gt),Ee=v.align(bt,j._width,be.l,be.l+be.w,j.xanchor),Pe=v.align(Gt+j._height,-j._height,be.t+be.h,be.t,j.yanchor)},doneFn:function(){if(Ee!==void 0&&Pe!==void 0){var qe={};qe[ne+".x"]=Ee,qe[ne+".y"]=Pe,C.call("_guiRelayout",F,qe)}},clickFn:function(qe,dt){var bt=ce.selectAll("g.traces").filter(function(){var Gt=this.getBoundingClientRect();return dt.clientX>=Gt.left&&dt.clientX<=Gt.right&&dt.clientY>=Gt.top&&dt.clientY<=Gt.bottom});bt.size()>0&&x(F,ue,bt,qe,dt)}})}}],F)}}function P(F,V,j){var $=F[0],ne=$.width,oe=V.entrywidthmode,ce=$.trace.legendwidth||V.entrywidth;return oe==="fraction"?V._maxWidth*ce:j+(ce||ne)}function x(F,V,j,$,ne){var oe=j.data()[0][0].trace,ce={event:ne,node:j.node(),curveNumber:oe.index,expandedIndex:oe._expandedIndex,data:F.data,layout:F.layout,frames:F._transitionData._frames,config:F._context,fullData:F._fullData,fullLayout:F._fullLayout};oe._group&&(ce.group=oe._group),C.traceIs(oe,"pie-like")&&(ce.label=j.datum()[0].label);var Q=T.triggerHandler(F,"plotly_legendclick",ce);if($===1){if(Q===!1)return;V._clickTimeout=setTimeout(function(){F._fullLayout&&s(j,F,$)},F._context.doubleClickDelay)}else if($===2){V._clickTimeout&&clearTimeout(V._clickTimeout),F._legendMouseDownTime=0;var Z=T.triggerHandler(F,"plotly_legenddoubleclick",ce);Z!==!1&&Q!==!1&&s(j,F,$)}}function E(F,V,j){var $=U(j),ne=F.data()[0][0],oe=ne.trace,ce=C.traceIs(oe,"pie-like"),Q=!j._inHover&&V._context.edits.legendText&&!ce,Z=j._maxNameLength,K,J;ne.groupTitle?(K=ne.groupTitle.text,J=ne.groupTitle.font):(J=j.font,j.entries?K=ne.text:(K=ce?ne.label:oe.name,oe._meta&&(K=R.templateString(K,oe._meta))));var re=R.ensureSingle(F,"text",$+"text");re.attr("text-anchor","start").call(y.font,J).text(Q?w(K,Z):K);var le=j.itemwidth+n.itemGap*2;r.positionText(re,le,0),Q?re.call(r.makeEditable,{gd:V,text:K}).call(L,F,V,j).on("edit",function(q){this.text(w(q,Z)).call(L,F,V,j);var ee=ne.trace._fullInput||{},ue={};if(C.hasTransform(ee,"groupby")){var se=C.getTransformIndices(ee,"groupby"),he=se[se.length-1],me=R.keyedContainer(ee,"transforms["+he+"].styles","target","value.name");me.set(ne.trace._group,q),ue=me.constructUpdate()}else ue.name=q;return ee._isShape?C.call("_guiRelayout",V,"shapes["+oe.index+"].name",ue.name):C.call("_guiRestyle",V,ue,oe.index)}):L(re,F,V,j)}function w(F,V){var j=Math.max(4,V);if(F&&F.trim().length>=j/2)return F;F=F||"";for(var $=j-F.length;$>0;$--)F+=" ";return F}function i(F,V,j){var $=V._context.doubleClickDelay,ne,oe=1,ce=R.ensureSingle(F,"rect",j+"toggle",function(Q){V._context.staticPlot||Q.style("cursor","pointer").attr("pointer-events","all"),Q.call(t.fill,"rgba(0,0,0,0)")});V._context.staticPlot||(ce.on("mousedown",function(){ne=new Date().getTime(),ne-V._legendMouseDownTime<$?oe+=1:(oe=1,V._legendMouseDownTime=ne)}),ce.on("mouseup",function(){if(!(V._dragged||V._editing)){var Q=V._fullLayout[j];new Date().getTime()-V._legendMouseDownTime>$&&(oe=Math.max(oe-1,1)),x(V,Q,F,oe,g.event)}}))}function L(F,V,j,$,ne){$._inHover&&F.attr("data-notex",!0),r.convertToTspans(F,j,function(){b(V,j,$,ne)})}function b(F,V,j,$){var ne=F.data()[0][0];if(!j._inHover&&ne&&!ne.trace.showlegend){F.remove();return}var oe=F.select("g[class*=math-group]"),ce=oe.node(),Q=U(j);j||(j=V._fullLayout[Q]);var Z=j.borderwidth,K;$===l?K=j.title.font:ne.groupTitle?K=ne.groupTitle.font:K=j.font;var J=K.size*f,re,le;if(ce){var q=y.bBox(ce);re=q.height,le=q.width,$===l?y.setTranslate(oe,Z,Z+re*.75):y.setTranslate(oe,0,re*.25)}else{var ee="."+Q+($===l?"title":"")+"text",ue=F.select(ee),se=r.lineCount(ue),he=ue.node();if(re=J*se,le=he?y.bBox(he).width:0,$===l)j.title.side==="left"&&(le+=n.itemGap*2),r.positionText(ue,Z+n.titlePad,Z+J);else{var me=n.itemGap*2+j.itemwidth;ne.groupTitle&&(me=n.itemGap,le-=j.itemwidth),r.positionText(ue,me,-J*((se-1)/2-.3))}}$===l?(j._titleWidth=le,j._titleHeight=re):(ne.lineHeight=J,ne.height=Math.max(re,16)+3,ne.width=le)}function O(F){var V=0,j=0,$=F.title.side;return $&&($.indexOf("left")!==-1&&(V=F._titleWidth),$.indexOf("top")!==-1&&(j=F._titleHeight)),[V,j]}function _(F,V,j,$){var ne=F._fullLayout,oe=U($);$||($=ne[oe]);var ce=ne._size,Q=h.isVertical($),Z=h.isGrouped($),K=$.entrywidthmode==="fraction",J=$.borderwidth,re=2*J,le=n.itemGap,q=$.itemwidth+le*2,ee=2*(J+le),ue=B($),se=$.y<0||$.y===0&&ue==="top",he=$.y>1||$.y===1&&ue==="bottom",me=$.tracegroupgap,Ce={};$._maxHeight=Math.max(se||he?ne.height/2:ce.h,30);var Te=0;$._width=0,$._height=0;var Oe=O($);if(Q)j.each(function(ze){var _e=ze[0].height;y.setTranslate(this,J+Oe[0],J+Oe[1]+$._height+_e/2+le),$._height+=_e,$._width=Math.max($._width,ze[0].width)}),Te=q+$._width,$._width+=le+q+re,$._height+=ee,Z&&(V.each(function(ze,_e){y.setTranslate(this,0,_e*$.tracegroupgap)}),$._height+=($._lgroupsLength-1)*$.tracegroupgap);else{var Ne=z($),Le=$.x<0||$.x===0&&Ne==="right",be=$.x>1||$.x===1&&Ne==="left",Ae=he||se,He=ne.width/2;$._maxWidth=Math.max(Le?Ae&&Ne==="left"?ce.l+ce.w:He:be?Ae&&Ne==="right"?ce.r+ce.w:He:ce.w,2*q);var Ve=0,ke=0;j.each(function(ze){var _e=P(ze,$,q);Ve=Math.max(Ve,_e),ke+=_e}),Te=null;var Ge=0;if(Z){var it=0,et=0,tt=0;V.each(function(){var ze=0,_e=0;g.select(this).selectAll("g.traces").each(function(De){var we=P(De,$,q),xe=De[0].height;y.setTranslate(this,Oe[0],Oe[1]+J+le+xe/2+_e),_e+=xe,ze=Math.max(ze,we),Ce[De[0].trace.legendgroup]=ze});var Be=ze+le;et>0&&Be+J+et>$._maxWidth?(Ge=Math.max(Ge,et),et=0,tt+=it+me,it=_e):it=Math.max(it,_e),y.setTranslate(this,et,tt),et+=Be}),$._width=Math.max(Ge,et)+J,$._height=tt+it+ee}else{var at=j.size(),vt=ke+re+(at-1)*le<$._maxWidth,yt=0,gt=0,Mt=0,Ct=0;j.each(function(ze){var _e=ze[0].height,Be=P(ze,$,q),De=vt?Be:Ve;K||(De+=le),De+J+gt-le>=$._maxWidth&&(Ge=Math.max(Ge,Ct),gt=0,Mt+=yt,$._height+=yt,yt=0),y.setTranslate(this,Oe[0]+J+gt,Oe[1]+J+Mt+_e/2+le),Ct=gt+Be+le,gt+=De,yt=Math.max(yt,_e)}),vt?($._width=gt+re,$._height=yt+ee):($._width=Math.max(Ge,Ct)+re,$._height+=yt+ee)}}$._width=Math.ceil(Math.max($._width+Oe[0],$._titleWidth+2*(J+n.titlePad))),$._height=Math.ceil(Math.max($._height+Oe[1],$._titleHeight+2*(J+n.itemGap))),$._effHeight=Math.min($._height,$._maxHeight);var Vt=F._context.edits,Je=Vt.legendText||Vt.legendPosition;j.each(function(ze){var _e=g.select(this).select("."+oe+"toggle"),Be=ze[0].height,De=ze[0].trace.legendgroup,we=P(ze,$,q);Z&&De!==""&&(we=Ce[De]);var xe=Je?q:Te||we;!Q&&!K&&(xe+=le/2),y.setRect(_e,0,-Be/2,xe,Be)})}function N(F,V,j,$){var ne=F._fullLayout,oe=ne[V],ce=z(oe),Q=B(oe),Z=oe.xref==="paper",K=oe.yref==="paper";F._fullLayout._reservedMargin[V]={};var J=oe.y<.5?"b":"t",re=oe.x<.5?"l":"r",le={r:ne.width-j,l:j+oe._width,b:ne.height-$,t:$+oe._effHeight};if(Z&&K)return a.autoMargin(F,V,{x:oe.x,y:oe.y,l:oe._width*u[ce],r:oe._width*m[ce],b:oe._effHeight*m[Q],t:oe._effHeight*u[Q]});Z?F._fullLayout._reservedMargin[V][J]=le[J]:K||oe.orientation==="v"?F._fullLayout._reservedMargin[V][re]=le[re]:F._fullLayout._reservedMargin[V][J]=le[J]}function z(F){return R.isRightAnchor(F)?"right":R.isCenterAnchor(F)?"center":"left"}function B(F){return R.isBottomAnchor(F)?"bottom":R.isMiddleAnchor(F)?"middle":"top"}function U(F){return F._id||"legend"}},82424:function(W,H,e){var g=e(73972),R=e(10130);W.exports=function(C,T,v){var y=T._inHover,t=R.isGrouped(T),r=R.isReversed(T),s={},n=[],o=!1,f={},u=0,m=0,c,A;function h(F,V,j){if(T.visible!==!1&&!(v&&F!==T._id))if(V===""||!R.isGrouped(T)){var $="~~i"+u;n.push($),s[$]=[j],u++}else n.indexOf(V)===-1?(n.push(V),o=!0,s[V]=[j]):s[V].push(j)}for(c=0;c<C.length;c++){var l=C[c],p=l[0],M=p.trace,S=M.legend,P=M.legendgroup;if(!(!y&&(!M.visible||!M.showlegend)))if(g.traceIs(M,"pie-like"))for(f[P]||(f[P]={}),A=0;A<l.length;A++){var x=l[A].label;f[P][x]||(h(S,P,{label:x,color:l[A].color,i:l[A].i,trace:M,pts:l[A].pts}),f[P][x]=!0,m=Math.max(m,(x||"").length))}else h(S,P,p),m=Math.max(m,(M.name||"").length)}if(!n.length)return[];var E=!o||!t,w=[];for(c=0;c<n.length;c++){var i=s[n[c]];E?w.push(i[0]):w.push(i)}for(E&&(w=[w]),c=0;c<w.length;c++){var L=1/0;for(A=0;A<w[c].length;A++){var b=w[c][A].trace.legendrank;L>b&&(L=b)}w[c][0]._groupMinRank=L,w[c][0]._preGroupSort=c}var O=function(F,V){return F[0]._groupMinRank-V[0]._groupMinRank||F[0]._preGroupSort-V[0]._preGroupSort},_=function(F,V){return F.trace.legendrank-V.trace.legendrank||F._preSort-V._preSort};for(w.forEach(function(F,V){F[0]._preGroupSort=V}),w.sort(O),c=0;c<w.length;c++){w[c].forEach(function(F,V){F._preSort=V}),w[c].sort(_);var N=w[c][0].trace,z=null;for(A=0;A<w[c].length;A++){var B=w[c][A].trace.legendgrouptitle;if(B&&B.text){z=B,y&&(B.font=T._groupTitleFont);break}}if(r&&w[c].reverse(),z){var U=!1;for(A=0;A<w[c].length;A++)if(g.traceIs(w[c][A].trace,"pie-like")){U=!0;break}w[c].unshift({i:-1,groupTitle:z,noClick:U,trace:{showlegend:N.showlegend,legendgroup:N.legendgroup,visible:T.groupclick==="toggleitem"?!0:N.visible}})}for(A=0;A<w[c].length;A++)w[c][A]=[w[c][A]]}return T._lgroupsLength=w.length,T._maxNameLength=m,w}},85167:function(W,H,e){var g=e(73972),R=e(71828),a=R.pushUnique,C=!0;W.exports=function(v,y,t){var r=y._fullLayout;if(y._dragged||y._editing)return;var s=r.legend.itemclick,n=r.legend.itemdoubleclick,o=r.legend.groupclick;t===1&&s==="toggle"&&n==="toggleothers"&&C&&y.data&&y._context.showTips&&R.notifier(R._(y,"Double-click on legend to isolate one trace"),"long"),C=!1;var f;if(t===1?f=s:t===2&&(f=n),!f)return;var u=o==="togglegroup",m=r.hiddenlabels?r.hiddenlabels.slice():[],c=v.data()[0][0];if(c.groupTitle&&c.noClick)return;var A=y._fullData,h=(r.shapes||[]).filter(function(He){return He.showlegend}),l=A.concat(h),p=c.trace;p._isShape&&(p=p._fullInput);var M=p.legendgroup,S,P,x,E,w,i,L={},b=[],O=[],_=[];function N(He,Ve){var ke=b.indexOf(He),Ge=L.visible;return Ge||(Ge=L.visible=[]),b.indexOf(He)===-1&&(b.push(He),ke=b.length-1),Ge[ke]=Ve,ke}var z=(r.shapes||[]).map(function(He){return He._input}),B=!1;function U(He,Ve){z[He].visible=Ve,B=!0}function F(He,Ve){if(!(c.groupTitle&&!u)){var ke=He._fullInput||He,Ge=ke._isShape,it=ke.index;if(it===void 0&&(it=ke._index),g.hasTransform(ke,"groupby")){var et=O[it];if(!et){var tt=g.getTransformIndices(ke,"groupby"),at=tt[tt.length-1];et=R.keyedContainer(ke,"transforms["+at+"].styles","target","value.visible"),O[it]=et}var vt=et.get(He._group);vt===void 0&&(vt=!0),vt!==!1&&et.set(He._group,Ve),_[it]=N(it,ke.visible!==!1)}else{var yt=ke.visible===!1?!1:Ve;Ge?U(it,yt):N(it,yt)}}}var V=p.legend,j=p._fullInput,$=j&&j._isShape;if(!$&&g.traceIs(p,"pie-like")){var ne=c.label,oe=m.indexOf(ne);if(f==="toggle")oe===-1?m.push(ne):m.splice(oe,1);else if(f==="toggleothers"){var ce=oe!==-1,Q=[];for(S=0;S<y.calcdata.length;S++){var Z=y.calcdata[S];for(P=0;P<Z.length;P++){var K=Z[P],J=K.label;V===Z[0].trace.legend&&ne!==J&&(m.indexOf(J)===-1&&(ce=!0),a(m,J),Q.push(J))}}if(!ce)for(var re=0;re<Q.length;re++){var le=m.indexOf(Q[re]);le!==-1&&m.splice(le,1)}}g.call("_guiRelayout",y,"hiddenlabels",m)}else{var q=M&&M.length,ee=[],ue;if(q)for(S=0;S<l.length;S++)ue=l[S],ue.visible&&ue.legendgroup===M&&ee.push(S);if(f==="toggle"){var se;switch(p.visible){case!0:se="legendonly";break;case!1:se=!1;break;case"legendonly":se=!0;break}if(q)if(u)for(S=0;S<l.length;S++){var he=l[S];he.visible!==!1&&he.legendgroup===M&&F(he,se)}else F(p,se);else F(p,se)}else if(f==="toggleothers"){var me,Ce,Te,Oe,Ne,Le=!0;for(S=0;S<l.length;S++)if(Ne=l[S],me=Ne===p,Te=Ne.showlegend!==!0,!(me||Te)&&(Ce=q&&Ne.legendgroup===M,!Ce&&Ne.legend===V&&Ne.visible===!0&&!g.traceIs(Ne,"notLegendIsolatable"))){Le=!1;break}for(S=0;S<l.length;S++)if(Ne=l[S],!(Ne.visible===!1||Ne.legend!==V)&&!g.traceIs(Ne,"notLegendIsolatable"))switch(p.visible){case"legendonly":F(Ne,!0);break;case!0:Oe=Le?!0:"legendonly",me=Ne===p,Te=Ne.showlegend!==!0&&!Ne.legendgroup,Ce=me||q&&Ne.legendgroup===M,F(Ne,Ce||Te?!0:Oe);break}}for(S=0;S<O.length;S++)if(x=O[S],!!x){var be=x.constructUpdate(),Ae=Object.keys(be);for(P=0;P<Ae.length;P++)E=Ae[P],i=L[E]=L[E]||[],i[_[S]]=be[E]}for(w=Object.keys(L),S=0;S<w.length;S++)for(E=w[S],P=0;P<b.length;P++)L[E].hasOwnProperty(P)||(L[E][P]=void 0);B?g.call("_guiUpdate",y,L,{shapes:z},b):g.call("_guiRestyle",y,L,b)}}},10130:function(W,H){H.isGrouped=function(g){return(g.traceorder||"").indexOf("grouped")!==-1},H.isVertical=function(g){return g.orientation!=="h"},H.isReversed=function(g){return(g.traceorder||"").indexOf("reversed")!==-1}},2199:function(W,H,e){W.exports={moduleType:"component",name:"legend",layoutAttributes:e(33030),supplyLayoutDefaults:e(99017),draw:e(43969),style:e(53630)}},53630:function(W,H,e){var g=e(39898),R=e(73972),a=e(71828),C=a.strTranslate,T=e(91424),v=e(7901),y=e(52075).extractOpts,t=e(34098),r=e(63463),s=e(53581).castOption,n=e(14928),o=12,f=5,u=2,m=10,c=5;W.exports=function(M,S,P){var x=S._fullLayout;P||(P=x.legend);var E=P.itemsizing==="constant",w=P.itemwidth,i=(w+n.itemGap*2)/2,L=C(i,0),b=function(Q,Z,K,J){var re;if(Q+1)re=Q;else if(Z&&Z.width>0)re=Z.width;else return 0;return E?J:Math.min(re,K)};M.each(function(Q){var Z=g.select(this),K=a.ensureSingle(Z,"g","layers");K.style("opacity",Q[0].trace.opacity);var J=P.valign,re=Q[0].lineHeight,le=Q[0].height;if(J==="middle"||!re||!le)K.attr("transform",null);else{var q={top:1,bottom:-1}[J],ee=q*(.5*(re-le+3));K.attr("transform",C(0,ee))}var ue=K.selectAll("g.legendfill").data([Q]);ue.enter().append("g").classed("legendfill",!0);var se=K.selectAll("g.legendlines").data([Q]);se.enter().append("g").classed("legendlines",!0);var he=K.selectAll("g.legendsymbols").data([Q]);he.enter().append("g").classed("legendsymbols",!0),he.selectAll("g.legendpoints").data([Q]).enter().append("g").classed("legendpoints",!0)}).each(ce).each(N).each(B).each(z).each(F).each(ne).each($).each(O).each(_).each(V).each(j);function O(Q){var Z=h(Q),K=Z.showFill,J=Z.showLine,re=Z.showGradientLine,le=Z.showGradientFill,q=Z.anyFill,ee=Z.anyLine,ue=Q[0],se=ue.trace,he,me,Ce=y(se),Te=Ce.colorscale,Oe=Ce.reversescale,Ne=function(Ge){if(Ge.size())if(K)T.fillGroupStyle(Ge,S);else{var it="legendfill-"+se.uid;T.gradient(Ge,S,it,A(Oe),Te,"fill")}},Le=function(Ge){if(Ge.size()){var it="legendline-"+se.uid;T.lineGroupStyle(Ge),T.gradient(Ge,S,it,A(Oe),Te,"stroke")}},be=t.hasMarkers(se)||!q?"M5,0":ee?"M5,-2":"M5,-3",Ae=g.select(this),He=Ae.select(".legendfill").selectAll("path").data(K||le?[Q]:[]);if(He.enter().append("path").classed("js-fill",!0),He.exit().remove(),He.attr("d",be+"h"+w+"v6h-"+w+"z").call(Ne),J||re){var Ve=b(void 0,se.line,m,f);me=a.minExtend(se,{line:{width:Ve}}),he=[a.minExtend(ue,{trace:me})]}var ke=Ae.select(".legendlines").selectAll("path").data(J||re?[he]:[]);ke.enter().append("path").classed("js-line",!0),ke.exit().remove(),ke.attr("d",be+(re?"l"+w+",0.0001":"h"+w)).call(J?T.lineGroupStyle:Le)}function _(Q){var Z=h(Q),K=Z.anyFill,J=Z.anyLine,re=Z.showLine,le=Z.showMarker,q=Q[0],ee=q.trace,ue=!le&&!J&&!K&&t.hasText(ee),se,he;function me(He,Ve,ke,Ge){var it=a.nestedProperty(ee,He).get(),et=a.isArrayOrTypedArray(it)&&Ve?Ve(it):it;if(E&&et&&Ge!==void 0&&(et=Ge),ke){if(et<ke[0])return ke[0];if(et>ke[1])return ke[1]}return et}function Ce(He){return q._distinct&&q.index&&He[q.index]?He[q.index]:He[0]}if(le||ue||re){var Te={},Oe={};if(le){Te.mc=me("marker.color",Ce),Te.mx=me("marker.symbol",Ce),Te.mo=me("marker.opacity",a.mean,[.2,1]),Te.mlc=me("marker.line.color",Ce),Te.mlw=me("marker.line.width",a.mean,[0,5],u),Oe.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var Ne=me("marker.size",a.mean,[2,16],o);Te.ms=Ne,Oe.marker.size=Ne}re&&(Oe.line={width:me("line.width",Ce,[0,10],f)}),ue&&(Te.tx="Aa",Te.tp=me("textposition",Ce),Te.ts=10,Te.tc=me("textfont.color",Ce),Te.tf=me("textfont.family",Ce)),se=[a.minExtend(q,Te)],he=a.minExtend(ee,Oe),he.selectedpoints=null,he.texttemplate=null}var Le=g.select(this).select("g.legendpoints"),be=Le.selectAll("path.scatterpts").data(le?se:[]);be.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",L),be.exit().remove(),be.call(T.pointStyle,he,S),le&&(se[0].mrc=3);var Ae=Le.selectAll("g.pointtext").data(ue?se:[]);Ae.enter().append("g").classed("pointtext",!0).append("text").attr("transform",L),Ae.exit().remove(),Ae.selectAll("text").call(T.textPointStyle,he,S)}function N(Q){var Z=Q[0].trace,K=Z.type==="waterfall";if(Q[0]._distinct&&K){var J=Q[0].trace[Q[0].dir].marker;return Q[0].mc=J.color,Q[0].mlw=J.line.width,Q[0].mlc=J.line.color,U(Q,this,"waterfall")}var re=[];Z.visible&&K&&(re=Q[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var le=g.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(re);le.enter().append("path").classed("legendwaterfall",!0).attr("transform",L).style("stroke-miterlimit",1),le.exit().remove(),le.each(function(q){var ee=g.select(this),ue=Z[q[0]].marker,se=b(void 0,ue.line,c,u);ee.attr("d",q[1]).style("stroke-width",se+"px").call(v.fill,ue.color),se&&ee.call(v.stroke,ue.line.color)})}function z(Q){U(Q,this)}function B(Q){U(Q,this,"funnel")}function U(Q,Z,K){var J=Q[0].trace,re=J.marker||{},le=re.line||{},q=K?J.visible&&J.type===K:R.traceIs(J,"bar"),ee=g.select(Z).select("g.legendpoints").selectAll("path.legend"+K).data(q?[Q]:[]);ee.enter().append("path").classed("legend"+K,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",L),ee.exit().remove(),ee.each(function(ue){var se=g.select(this),he=ue[0],me=b(he.mlw,re.line,c,u);se.style("stroke-width",me+"px");var Ce=he.mcc;if(!P._inHover&&"mc"in he){var Te=y(re),Oe=Te.mid;Oe===void 0&&(Oe=(Te.max+Te.min)/2),Ce=T.tryColorscale(re,"")(Oe)}var Ne=Ce||he.mc||re.color,Le=re.pattern,be=Le&&T.getPatternAttr(Le.shape,0,"");if(be){var Ae=T.getPatternAttr(Le.bgcolor,0,null),He=T.getPatternAttr(Le.fgcolor,0,null),Ve=Le.fgopacity,ke=l(Le.size,8,10),Ge=l(Le.solidity,.5,1),it="legend-"+J.uid;se.call(T.pattern,"legend",S,it,be,ke,Ge,Ce,Le.fillmode,Ae,He,Ve)}else se.call(v.fill,Ne);me&&v.stroke(se,he.mlc||le.color)})}function F(Q){var Z=Q[0].trace,K=g.select(this).select("g.legendpoints").selectAll("path.legendbox").data(Z.visible&&R.traceIs(Z,"box-violin")?[Q]:[]);K.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",L),K.exit().remove(),K.each(function(){var J=g.select(this);if((Z.boxpoints==="all"||Z.points==="all")&&v.opacity(Z.fillcolor)===0&&v.opacity((Z.line||{}).color)===0){var re=a.minExtend(Z,{marker:{size:E?o:a.constrain(Z.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});K.call(T.pointStyle,re,S)}else{var le=b(void 0,Z.line,c,u);J.style("stroke-width",le+"px").call(v.fill,Z.fillcolor),le&&v.stroke(J,Z.line.color)}})}function V(Q){var Z=Q[0].trace,K=g.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(Z.visible&&Z.type==="candlestick"?[Q,Q]:[]);K.enter().append("path").classed("legendcandle",!0).attr("d",function(J,re){return re?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",L).style("stroke-miterlimit",1),K.exit().remove(),K.each(function(J,re){var le=g.select(this),q=Z[re?"increasing":"decreasing"],ee=b(void 0,q.line,c,u);le.style("stroke-width",ee+"px").call(v.fill,q.fillcolor),ee&&v.stroke(le,q.line.color)})}function j(Q){var Z=Q[0].trace,K=g.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(Z.visible&&Z.type==="ohlc"?[Q,Q]:[]);K.enter().append("path").classed("legendohlc",!0).attr("d",function(J,re){return re?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",L).style("stroke-miterlimit",1),K.exit().remove(),K.each(function(J,re){var le=g.select(this),q=Z[re?"increasing":"decreasing"],ee=b(void 0,q.line,c,u);le.style("fill","none").call(T.dashLine,q.line.dash,ee),ee&&v.stroke(le,q.line.color)})}function $(Q){oe(Q,this,"pie")}function ne(Q){oe(Q,this,"funnelarea")}function oe(Q,Z,K){var J=Q[0],re=J.trace,le=K?re.visible&&re.type===K:R.traceIs(re,K),q=g.select(Z).select("g.legendpoints").selectAll("path.legend"+K).data(le?[Q]:[]);if(q.enter().append("path").classed("legend"+K,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",L),q.exit().remove(),q.size()){var ee=re.marker||{},ue=b(s(ee.line.width,J.pts),ee.line,c,u),se="pieLike",he=a.minExtend(re,{marker:{line:{width:ue}}},se),me=a.minExtend(J,{trace:he},se);r(q,me,he,S)}}function ce(Q){var Z=Q[0].trace,K,J=[];if(Z.visible)switch(Z.type){case"histogram2d":case"heatmap":J=[["M-15,-2V4H15V-2Z"]],K=!0;break;case"choropleth":case"choroplethmapbox":J=[["M-6,-6V6H6V-6Z"]],K=!0;break;case"densitymapbox":J=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],K="radial";break;case"cone":J=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],K=!1;break;case"streamtube":J=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],K=!1;break;case"surface":J=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],K=!0;break;case"mesh3d":J=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],K=!1;break;case"volume":J=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],K=!0;break;case"isosurface":J=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],K=!1;break}var re=g.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(J);re.enter().append("path").classed("legend3dandfriends",!0).attr("transform",L).style("stroke-miterlimit",1),re.exit().remove(),re.each(function(le,q){var ee=g.select(this),ue=y(Z),se=ue.colorscale,he=ue.reversescale,me=function(Ne){if(Ne.size()){var Le="legendfill-"+Z.uid;T.gradient(Ne,S,Le,A(he,K==="radial"),se,"fill")}},Ce;if(se){if(!K){var Oe=se.length;Ce=q===0?se[he?Oe-1:0][1]:q===1?se[he?0:Oe-1][1]:se[Math.floor((Oe-1)/2)][1]}}else{var Te=Z.vertexcolor||Z.facecolor||Z.color;Ce=a.isArrayOrTypedArray(Te)?Te[q]||Te[0]:Te}ee.attr("d",le[0]),Ce?ee.call(v.fill,Ce):ee.call(me)})}};function A(p,M){var S=M?"radial":"horizontal";return S+(p?"":"reversed")}function h(p){var M=p[0].trace,S=M.contours,P=t.hasLines(M),x=t.hasMarkers(M),E=M.visible&&M.fill&&M.fill!=="none",w=!1,i=!1;if(S){var L=S.coloring;L==="lines"?w=!0:P=L==="none"||L==="heatmap"||S.showlines,S.type==="constraint"?E=S._operation!=="=":(L==="fill"||L==="heatmap")&&(i=!0)}return{showMarker:x,showLine:P,showFill:E,showGradientLine:w,showGradientFill:i,anyLine:P||w,anyFill:E||i}}function l(p,M,S){return p&&a.isArrayOrTypedArray(p)?M:p>S?S:p}},42068:function(W,H,e){e(93348),W.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},26023:function(W,H,e){var g=e(73972),R=e(74875),a=e(41675),C=e(24255),T=e(34031).eraseActiveShape,v=e(71828),y=v._,t=W.exports={};t.toImage={name:"toImage",title:function(p){var M=p._context.toImageButtonOptions||{},S=M.format||"png";return S==="png"?y(p,"Download plot as a png"):y(p,"Download plot")},icon:C.camera,click:function(p){var M=p._context.toImageButtonOptions,S={format:M.format||"png"};v.notifier(y(p,"Taking snapshot - this may take a few seconds"),"long"),S.format!=="svg"&&v.isIE()&&(v.notifier(y(p,"IE only supports svg.  Changing format to svg."),"long"),S.format="svg"),["filename","width","height","scale"].forEach(function(P){P in M&&(S[P]=M[P])}),g.call("downloadImage",p,S).then(function(P){v.notifier(y(p,"Snapshot succeeded")+" - "+P,"long")}).catch(function(){v.notifier(y(p,"Sorry, there was a problem downloading your snapshot!"),"long")})}},t.sendDataToCloud={name:"sendDataToCloud",title:function(p){return y(p,"Edit in Chart Studio")},icon:C.disk,click:function(p){R.sendDataToCloud(p)}},t.editInChartStudio={name:"editInChartStudio",title:function(p){return y(p,"Edit in Chart Studio")},icon:C.pencil,click:function(p){R.sendDataToCloud(p)}},t.zoom2d={name:"zoom2d",_cat:"zoom",title:function(p){return y(p,"Zoom")},attr:"dragmode",val:"zoom",icon:C.zoombox,click:r},t.pan2d={name:"pan2d",_cat:"pan",title:function(p){return y(p,"Pan")},attr:"dragmode",val:"pan",icon:C.pan,click:r},t.select2d={name:"select2d",_cat:"select",title:function(p){return y(p,"Box Select")},attr:"dragmode",val:"select",icon:C.selectbox,click:r},t.lasso2d={name:"lasso2d",_cat:"lasso",title:function(p){return y(p,"Lasso Select")},attr:"dragmode",val:"lasso",icon:C.lasso,click:r},t.drawclosedpath={name:"drawclosedpath",title:function(p){return y(p,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:C.drawclosedpath,click:r},t.drawopenpath={name:"drawopenpath",title:function(p){return y(p,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:C.drawopenpath,click:r},t.drawline={name:"drawline",title:function(p){return y(p,"Draw line")},attr:"dragmode",val:"drawline",icon:C.drawline,click:r},t.drawrect={name:"drawrect",title:function(p){return y(p,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:C.drawrect,click:r},t.drawcircle={name:"drawcircle",title:function(p){return y(p,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:C.drawcircle,click:r},t.eraseshape={name:"eraseshape",title:function(p){return y(p,"Erase active shape")},icon:C.eraseshape,click:T},t.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(p){return y(p,"Zoom in")},attr:"zoom",val:"in",icon:C.zoom_plus,click:r},t.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(p){return y(p,"Zoom out")},attr:"zoom",val:"out",icon:C.zoom_minus,click:r},t.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(p){return y(p,"Autoscale")},attr:"zoom",val:"auto",icon:C.autoscale,click:r},t.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(p){return y(p,"Reset axes")},attr:"zoom",val:"reset",icon:C.home,click:r},t.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(p){return y(p,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:C.tooltip_basic,gravity:"ne",click:r},t.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(p){return y(p,"Compare data on hover")},attr:"hovermode",val:function(p){return p._fullLayout._isHoriz?"y":"x"},icon:C.tooltip_compare,gravity:"ne",click:r};function r(p,M){var S=M.currentTarget,P=S.getAttribute("data-attr"),x=S.getAttribute("data-val")||!0,E=p._fullLayout,w={},i=a.list(p,null,!0),L=E._cartesianSpikesEnabled,b,O;if(P==="zoom"){var _=x==="in"?.5:2,N=(1+_)/2,z=(1-_)/2,B;for(O=0;O<i.length;O++)if(b=i[O],!b.fixedrange)if(B=b._name,x==="auto")w[B+".autorange"]=!0;else if(x==="reset")b._rangeInitial0===void 0&&b._rangeInitial1===void 0?w[B+".autorange"]=!0:b._rangeInitial0===void 0?(w[B+".autorange"]=b._autorangeInitial,w[B+".range"]=[null,b._rangeInitial1]):b._rangeInitial1===void 0?(w[B+".range"]=[b._rangeInitial0,null],w[B+".autorange"]=b._autorangeInitial):w[B+".range"]=[b._rangeInitial0,b._rangeInitial1],b._showSpikeInitial!==void 0&&(w[B+".showspikes"]=b._showSpikeInitial,L==="on"&&!b._showSpikeInitial&&(L="off"));else{var U=[b.r2l(b.range[0]),b.r2l(b.range[1])],F=[N*U[0]+z*U[1],N*U[1]+z*U[0]];w[B+".range[0]"]=b.l2r(F[0]),w[B+".range[1]"]=b.l2r(F[1])}}else P==="hovermode"&&(x==="x"||x==="y")&&(x=E._isHoriz?"y":"x",S.setAttribute("data-val",x)),w[P]=x;E._cartesianSpikesEnabled=L,g.call("_guiRelayout",p,w)}t.zoom3d={name:"zoom3d",_cat:"zoom",title:function(p){return y(p,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:C.zoombox,click:s},t.pan3d={name:"pan3d",_cat:"pan",title:function(p){return y(p,"Pan")},attr:"scene.dragmode",val:"pan",icon:C.pan,click:s},t.orbitRotation={name:"orbitRotation",title:function(p){return y(p,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:C["3d_rotate"],click:s},t.tableRotation={name:"tableRotation",title:function(p){return y(p,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:C["z-axis"],click:s};function s(p,M){for(var S=M.currentTarget,P=S.getAttribute("data-attr"),x=S.getAttribute("data-val")||!0,E=p._fullLayout._subplots.gl3d||[],w={},i=P.split("."),L=0;L<E.length;L++)w[E[L]+"."+i[1]]=x;var b=x==="pan"?x:"zoom";w.dragmode=b,g.call("_guiRelayout",p,w)}t.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(p){return y(p,"Reset camera to default")},attr:"resetDefault",icon:C.home,click:n},t.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(p){return y(p,"Reset camera to last save")},attr:"resetLastSave",icon:C.movie,click:n};function n(p,M){for(var S=M.currentTarget,P=S.getAttribute("data-attr"),x=P==="resetLastSave",E=P==="resetDefault",w=p._fullLayout,i=w._subplots.gl3d||[],L={},b=0;b<i.length;b++){var O=i[b],_=O+".camera",N=O+".aspectratio",z=O+".aspectmode",B=w[O]._scene,U;x?(L[_+".up"]=B.viewInitial.up,L[_+".eye"]=B.viewInitial.eye,L[_+".center"]=B.viewInitial.center,U=!0):E&&(L[_+".up"]=null,L[_+".eye"]=null,L[_+".center"]=null,U=!0),U&&(L[N+".x"]=B.viewInitial.aspectratio.x,L[N+".y"]=B.viewInitial.aspectratio.y,L[N+".z"]=B.viewInitial.aspectratio.z,L[z]=B.viewInitial.aspectmode)}g.call("_guiRelayout",p,L)}t.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(p){return y(p,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:C.tooltip_basic,gravity:"ne",click:f};function o(p,M){var S=M.currentTarget,P=S._previousVal,x=p._fullLayout,E=x._subplots.gl3d||[],w=["xaxis","yaxis","zaxis"],i={},L={};if(P)L=P,S._previousVal=null;else{for(var b=0;b<E.length;b++){var O=E[b],_=x[O],N=O+".hovermode";i[N]=_.hovermode,L[N]=!1;for(var z=0;z<3;z++){var B=w[z],U=O+"."+B+".showspikes";L[U]=!1,i[U]=_[B].showspikes}}S._previousVal=i}return L}function f(p,M){var S=o(p,M);g.call("_guiRelayout",p,S)}t.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(p){return y(p,"Zoom in")},attr:"zoom",val:"in",icon:C.zoom_plus,click:u},t.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(p){return y(p,"Zoom out")},attr:"zoom",val:"out",icon:C.zoom_minus,click:u},t.resetGeo={name:"resetGeo",_cat:"reset",title:function(p){return y(p,"Reset")},attr:"reset",val:null,icon:C.autoscale,click:u},t.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(p){return y(p,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:C.tooltip_basic,gravity:"ne",click:c};function u(p,M){for(var S=M.currentTarget,P=S.getAttribute("data-attr"),x=S.getAttribute("data-val")||!0,E=p._fullLayout,w=E._subplots.geo||[],i=0;i<w.length;i++){var L=w[i],b=E[L];if(P==="zoom"){var O=b.projection.scale,_=x==="in"?2*O:.5*O;g.call("_guiRelayout",p,L+".projection.scale",_)}}P==="reset"&&l(p,"geo")}t.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(p){return y(p,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:C.tooltip_basic,gravity:"ne",click:c},t.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(p){return y(p,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:C.tooltip_basic,gravity:"ne",click:c};function m(p){var M=p._fullLayout;return M.hovermode?!1:M._has("cartesian")?M._isHoriz?"y":"x":"closest"}function c(p){var M=m(p);g.call("_guiRelayout",p,"hovermode",M)}t.resetViewSankey={name:"resetSankeyGroup",title:function(p){return y(p,"Reset view")},icon:C.home,click:function(p){for(var M={"node.groups":[],"node.x":[],"node.y":[]},S=0;S<p._fullData.length;S++){var P=p._fullData[S]._viewInitial;M["node.groups"].push(P.node.groups.slice()),M["node.x"].push(P.node.x.slice()),M["node.y"].push(P.node.y.slice())}g.call("restyle",p,M)}},t.toggleHover={name:"toggleHover",title:function(p){return y(p,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:C.tooltip_basic,gravity:"ne",click:function(p,M){var S=o(p,M);S.hovermode=m(p),g.call("_guiRelayout",p,S)}},t.resetViews={name:"resetViews",title:function(p){return y(p,"Reset views")},icon:C.home,click:function(p,M){var S=M.currentTarget;S.setAttribute("data-attr","zoom"),S.setAttribute("data-val","reset"),r(p,M),S.setAttribute("data-attr","resetLastSave"),n(p,M),l(p,"geo"),l(p,"mapbox")}},t.toggleSpikelines={name:"toggleSpikelines",title:function(p){return y(p,"Toggle Spike Lines")},icon:C.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(p){var M=p._fullLayout,S=M._cartesianSpikesEnabled;M._cartesianSpikesEnabled=S==="on"?"off":"on",g.call("_guiRelayout",p,A(p))}};function A(p){for(var M=p._fullLayout,S=M._cartesianSpikesEnabled==="on",P=a.list(p,null,!0),x={},E=0;E<P.length;E++){var w=P[E];x[w._name+".showspikes"]=S?!0:w._showSpikeInitial}return x}t.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(p){return y(p,"Reset view")},attr:"reset",icon:C.home,click:function(p){l(p,"mapbox")}},t.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(p){return y(p,"Zoom in")},attr:"zoom",val:"in",icon:C.zoom_plus,click:h},t.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(p){return y(p,"Zoom out")},attr:"zoom",val:"out",icon:C.zoom_minus,click:h};function h(p,M){for(var S=M.currentTarget,P=S.getAttribute("data-val"),x=p._fullLayout,E=x._subplots.mapbox||[],w=1.05,i={},L=0;L<E.length;L++){var b=E[L],O=x[b].zoom,_=P==="in"?w*O:O/w;i[b+".zoom"]=_}g.call("_guiRelayout",p,i)}function l(p,M){for(var S=p._fullLayout,P=S._subplots[M]||[],x={},E=0;E<P.length;E++)for(var w=P[E],i=S[w]._subplot,L=i.viewInitial,b=Object.keys(L),O=0;O<b.length;O++){var _=b[O];x[w+"."+_]=L[_]}g.call("_guiRelayout",p,x)}},93348:function(W,H,e){var g=e(26023),R=Object.keys(g),a=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],C=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(a),T=[],v=function(y){if(C.indexOf(y._cat||y.name)===-1){var t=y.name,r=(y._cat||y.name).toLowerCase();T.indexOf(t)===-1&&T.push(t),T.indexOf(r)===-1&&T.push(r)}};R.forEach(function(y){v(g[y])}),T.sort(),W.exports={DRAW_MODES:a,backButtons:C,foreButtons:T}},35750:function(W,H,e){var g=e(71828),R=e(7901),a=e(44467),C=e(42068);W.exports=function(v,y){var t=v.modebar||{},r=a.newContainer(y,"modebar");function s(o,f){return g.coerce(t,r,C,o,f)}s("orientation"),s("bgcolor",R.addOpacity(y.paper_bgcolor,.5));var n=R.contrast(R.rgb(y.modebar.bgcolor));s("color",R.addOpacity(n,.3)),s("activecolor",R.addOpacity(n,.7)),s("uirevision",y.uirevision),s("add"),s("remove")}},64168:function(W,H,e){W.exports={moduleType:"component",name:"modebar",layoutAttributes:e(42068),supplyLayoutDefaults:e(35750),manage:e(14192)}},14192:function(W,H,e){var g=e(41675),R=e(34098),a=e(73972),C=e(23469).isUnifiedHover,T=e(37676),v=e(26023),y=e(93348).DRAW_MODES,t=e(71828).extendDeep;W.exports=function(c){var A=c._fullLayout,h=c._context,l=A._modeBar;if(!h.displayModeBar&&!h.watermark){l&&(l.destroy(),delete A._modeBar);return}if(!Array.isArray(h.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(h.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var p=h.modeBarButtons,M;Array.isArray(p)&&p.length?M=u(p):!h.displayModeBar&&h.watermark?M=[]:M=r(c),l?l.update(c,M):A._modeBar=T(c,M)};function r(m){var c=m._fullLayout,A=m._fullData,h=m._context;function l(q,ee){if(typeof ee=="string"){if(ee.toLowerCase()===q.toLowerCase())return!0}else{var ue=ee.name,se=ee._cat||ee.name;if(ue===q||se===q.toLowerCase())return!0}return!1}var p=c.modebar.add;typeof p=="string"&&(p=[p]);var M=c.modebar.remove;typeof M=="string"&&(M=[M]);var S=h.modeBarButtonsToAdd.concat(p.filter(function(q){for(var ee=0;ee<h.modeBarButtonsToRemove.length;ee++)if(l(q,h.modeBarButtonsToRemove[ee]))return!1;return!0})),P=h.modeBarButtonsToRemove.concat(M.filter(function(q){for(var ee=0;ee<h.modeBarButtonsToAdd.length;ee++)if(l(q,h.modeBarButtonsToAdd[ee]))return!1;return!0})),x=c._has("cartesian"),E=c._has("gl3d"),w=c._has("geo"),i=c._has("pie"),L=c._has("funnelarea"),b=c._has("gl2d"),O=c._has("ternary"),_=c._has("mapbox"),N=c._has("polar"),z=c._has("smith"),B=c._has("sankey"),U=s(c),F=C(c.hovermode),V=[];function j(q){if(q.length){for(var ee=[],ue=0;ue<q.length;ue++){for(var se=q[ue],he=v[se],me=he.name.toLowerCase(),Ce=(he._cat||he.name).toLowerCase(),Te=!1,Oe=0;Oe<P.length;Oe++){var Ne=P[Oe].toLowerCase();if(Ne===me||Ne===Ce){Te=!0;break}}Te||ee.push(v[se])}V.push(ee)}}var $=["toImage"];h.showEditInChartStudio?$.push("editInChartStudio"):h.showSendToCloud&&$.push("sendDataToCloud"),j($);var ne=[],oe=[],ce=[],Q=[];(x||b||i||L||O)+w+E+_+N+z>1?(oe=["toggleHover"],ce=["resetViews"]):w?(ne=["zoomInGeo","zoomOutGeo"],oe=["hoverClosestGeo"],ce=["resetGeo"]):E?(oe=["hoverClosest3d"],ce=["resetCameraDefault3d","resetCameraLastSave3d"]):_?(ne=["zoomInMapbox","zoomOutMapbox"],oe=["toggleHover"],ce=["resetViewMapbox"]):b?oe=["hoverClosestGl2d"]:i?oe=["hoverClosestPie"]:B?(oe=["hoverClosestCartesian","hoverCompareCartesian"],ce=["resetViewSankey"]):oe=["toggleHover"],x&&(oe=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(o(A)||F)&&(oe=[]),(x||b)&&!U&&(ne=["zoomIn2d","zoomOut2d","autoScale2d"],ce[0]!=="resetViews"&&(ce=["resetScale2d"])),E?Q=["zoom3d","pan3d","orbitRotation","tableRotation"]:(x||b)&&!U||O?Q=["zoom2d","pan2d"]:_||w?Q=["pan2d"]:N&&(Q=["zoom2d"]),n(A)&&Q.push("select2d","lasso2d");var Z=[],K=function(q){Z.indexOf(q)===-1&&oe.indexOf(q)!==-1&&Z.push(q)};if(Array.isArray(S)){for(var J=[],re=0;re<S.length;re++){var le=S[re];typeof le=="string"?(le=le.toLowerCase(),y.indexOf(le)!==-1?(c._has("mapbox")||c._has("cartesian"))&&Q.push(le):le==="togglespikelines"?K("toggleSpikelines"):le==="togglehover"?K("toggleHover"):le==="hovercompare"?K("hoverCompareCartesian"):le==="hoverclosest"?(K("hoverClosestCartesian"),K("hoverClosestGeo"),K("hoverClosest3d"),K("hoverClosestGl2d"),K("hoverClosestPie")):le==="v1hovermode"&&(K("toggleHover"),K("hoverClosestCartesian"),K("hoverCompareCartesian"),K("hoverClosestGeo"),K("hoverClosest3d"),K("hoverClosestGl2d"),K("hoverClosestPie"))):J.push(le)}S=J}return j(Q),j(ne.concat(ce)),j(Z),f(V,S)}function s(m){for(var c=g.list({_fullLayout:m},null,!0),A=0;A<c.length;A++)if(!c[A].fixedrange)return!1;return!0}function n(m){for(var c=!1,A=0;A<m.length&&!c;A++){var h=m[A];!h._module||!h._module.selectPoints||(a.traceIs(h,"scatter-like")?(R.hasMarkers(h)||R.hasText(h))&&(c=!0):a.traceIs(h,"box-violin")?(h.boxpoints==="all"||h.points==="all")&&(c=!0):c=!0)}return c}function o(m){for(var c=0;c<m.length;c++)if(!a.traceIs(m[c],"noHover"))return!1;return!0}function f(m,c){if(c.length)if(Array.isArray(c[0]))for(var A=0;A<c.length;A++)m.push(c[A]);else m.push(c);return m}function u(m){for(var c=t([],m),A=0;A<c.length;A++)for(var h=c[A],l=0;l<h.length;l++){var p=h[l];if(typeof p=="string")if(v[p]!==void 0)c[A][l]=v[p];else throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "))}return c}},37676:function(W,H,e){var g=e(39898),R=e(92770),a=e(71828),C=e(24255),T=e(11506).version,v=new DOMParser;function y(n){this.container=n.container,this.element=document.createElement("div"),this.update(n.graphInfo,n.buttons),this.container.appendChild(this.element)}var t=y.prototype;t.update=function(n,o){this.graphInfo=n;var f=this.graphInfo._context,u=this.graphInfo._fullLayout,m="modebar-"+u._uid;this.element.setAttribute("id",m),this._uid=m,this.element.className="modebar",f.displayModeBar==="hover"&&(this.element.className+=" modebar--hover ease-bg"),u.modebar.orientation==="v"&&(this.element.className+=" vertical",o=o.reverse());var c=u.modebar,A=f.displayModeBar==="hover"?".js-plotly-plot .plotly:hover ":"";a.deleteRelatedStyleRule(m),a.addRelatedStyleRule(m,A+"#"+m+" .modebar-group","background-color: "+c.bgcolor),a.addRelatedStyleRule(m,"#"+m+" .modebar-btn .icon path","fill: "+c.color),a.addRelatedStyleRule(m,"#"+m+" .modebar-btn:hover .icon path","fill: "+c.activecolor),a.addRelatedStyleRule(m,"#"+m+" .modebar-btn.active .icon path","fill: "+c.activecolor);var h=!this.hasButtons(o),l=this.hasLogo!==f.displaylogo,p=this.locale!==f.locale;if(this.locale=f.locale,(h||l||p)&&(this.removeAllButtons(),this.updateButtons(o),f.watermark||f.displaylogo)){var M=this.getLogo();f.watermark&&(M.className=M.className+" watermark"),u.modebar.orientation==="v"?this.element.insertBefore(M,this.element.childNodes[0]):this.element.appendChild(M),this.hasLogo=!0}this.updateActiveButton()},t.updateButtons=function(n){var o=this;this.buttons=n,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(f){var u=o.createGroup();f.forEach(function(m){var c=m.name;if(!c)throw new Error("must provide button 'name' in button config");if(o.buttonsNames.indexOf(c)!==-1)throw new Error("button name '"+c+"' is taken");o.buttonsNames.push(c);var A=o.createButton(m);o.buttonElements.push(A),u.appendChild(A)}),o.element.appendChild(u)})},t.createGroup=function(){var n=document.createElement("div");return n.className="modebar-group",n},t.createButton=function(n){var o=this,f=document.createElement("a");f.setAttribute("rel","tooltip"),f.className="modebar-btn";var u=n.title;u===void 0?u=n.name:typeof u=="function"&&(u=u(this.graphInfo)),(u||u===0)&&f.setAttribute("data-title",u),n.attr!==void 0&&f.setAttribute("data-attr",n.attr);var m=n.val;m!==void 0&&(typeof m=="function"&&(m=m(this.graphInfo)),f.setAttribute("data-val",m));var c=n.click;if(typeof c!="function")throw new Error("must provide button 'click' function in button config");f.addEventListener("click",function(h){n.click(o.graphInfo,h),o.updateActiveButton(h.currentTarget)}),f.setAttribute("data-toggle",n.toggle||!1),n.toggle&&g.select(f).classed("active",!0);var A=n.icon;return typeof A=="function"?f.appendChild(A()):f.appendChild(this.createIcon(A||C.question)),f.setAttribute("data-gravity",n.gravity||"n"),f},t.createIcon=function(n){var o=R(n.height)?Number(n.height):n.ascent-n.descent,f="http://www.w3.org/2000/svg",u;if(n.path){u=document.createElementNS(f,"svg"),u.setAttribute("viewBox",[0,0,n.width,o].join(" ")),u.setAttribute("class","icon");var m=document.createElementNS(f,"path");m.setAttribute("d",n.path),n.transform?m.setAttribute("transform",n.transform):n.ascent!==void 0&&m.setAttribute("transform","matrix(1 0 0 -1 0 "+n.ascent+")"),u.appendChild(m)}if(n.svg){var c=v.parseFromString(n.svg,"application/xml");u=c.childNodes[0]}return u.setAttribute("height","1em"),u.setAttribute("width","1em"),u},t.updateActiveButton=function(n){var o=this.graphInfo._fullLayout,f=n!==void 0?n.getAttribute("data-attr"):null;this.buttonElements.forEach(function(u){var m=u.getAttribute("data-val")||!0,c=u.getAttribute("data-attr"),A=u.getAttribute("data-toggle")==="true",h=g.select(u);if(A)c===f&&h.classed("active",!h.classed("active"));else{var l=c===null?c:a.nestedProperty(o,c).get();h.classed("active",l===m)}})},t.hasButtons=function(n){var o=this.buttons;if(!o||n.length!==o.length)return!1;for(var f=0;f<n.length;++f){if(n[f].length!==o[f].length)return!1;for(var u=0;u<n[f].length;u++)if(n[f][u].name!==o[f][u].name)return!1}return!0};function r(n){return n+" (v"+T+")"}t.getLogo=function(){var n=this.createGroup(),o=document.createElement("a");return o.href="https://plotly.com/",o.target="_blank",o.setAttribute("data-title",r(a._(this.graphInfo,"Produced with Plotly.js"))),o.className="modebar-btn plotlyjsicon modebar-btn--logo",o.appendChild(this.createIcon(C.newplotlylogo)),n.appendChild(o),n},t.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},t.destroy=function(){a.removeElement(this.container.querySelector(".modebar")),a.deleteRelatedStyleRule(this._uid)};function s(n,o){var f=n._fullLayout,u=new y({graphInfo:n,container:f._modebardiv.node(),buttons:o});return f._privateplot&&g.select(u.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),u}W.exports=s},37113:function(W,H,e){var g=e(41940),R=e(22399),a=e(44467).templatedArray,C=a("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});W.exports={visible:{valType:"boolean",editType:"plot"},buttons:C,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:g({editType:"plot"}),bgcolor:{valType:"color",dflt:R.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:R.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},89573:function(W){W.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},28674:function(W,H,e){var g=e(71828),R=e(7901),a=e(44467),C=e(85501),T=e(37113),v=e(89573);W.exports=function(s,n,o,f,u){var m=s.rangeselector||{},c=a.newContainer(n,"rangeselector");function A(S,P){return g.coerce(m,c,T,S,P)}var h=C(m,c,{name:"buttons",handleItemDefaults:y,calendar:u}),l=A("visible",h.length>0);if(l){var p=t(n,o,f);A("x",p[0]),A("y",p[1]),g.noneOrAll(s,n,["x","y"]),A("xanchor"),A("yanchor"),g.coerceFont(A,"font",o.font);var M=A("bgcolor");A("activecolor",R.contrast(M,v.lightAmount,v.darkAmount)),A("bordercolor"),A("borderwidth")}};function y(r,s,n,o){var f=o.calendar;function u(A,h){return g.coerce(r,s,T.buttons,A,h)}var m=u("visible");if(m){var c=u("step");c!=="all"&&(f&&f!=="gregorian"&&(c==="month"||c==="year")?s.stepmode="backward":u("stepmode"),u("count")),u("label")}}function t(r,s,n){for(var o=n.filter(function(c){return s[c].anchor===r._id}),f=0,u=0;u<o.length;u++){var m=s[o[u]].domain;m&&(f=Math.max(m[1],f))}return[r.domain[0],f+v.yPad]}},21598:function(W,H,e){var g=e(39898),R=e(73972),a=e(74875),C=e(7901),T=e(91424),v=e(71828),y=v.strTranslate,t=e(63893),r=e(41675),s=e(18783),n=s.LINE_SPACING,o=s.FROM_TL,f=s.FROM_BR,u=e(89573),m=e(70565);W.exports=function(E){var w=E._fullLayout,i=w._infolayer.selectAll(".rangeselector").data(c(E),A);i.enter().append("g").classed("rangeselector",!0),i.exit().remove(),i.style({cursor:"pointer","pointer-events":"all"}),i.each(function(L){var b=g.select(this),O=L,_=O.rangeselector,N=b.selectAll("g.button").data(v.filterVisible(_.buttons));N.enter().append("g").classed("button",!0),N.exit().remove(),N.each(function(z){var B=g.select(this),U=m(O,z);z._isActive=h(O,z,U),B.call(l,_,z),B.call(M,_,z,E),B.on("click",function(){E._dragged||R.call("_guiRelayout",E,U)}),B.on("mouseover",function(){z._isHovered=!0,B.call(l,_,z)}),B.on("mouseout",function(){z._isHovered=!1,B.call(l,_,z)})}),P(E,N,_,O._name,b)})};function c(x){for(var E=r.list(x,"x",!0),w=[],i=0;i<E.length;i++){var L=E[i];L.rangeselector&&L.rangeselector.visible&&w.push(L)}return w}function A(x){return x._id}function h(x,E,w){if(E.step==="all")return x.autorange===!0;var i=Object.keys(w);return x.range[0]===w[i[0]]&&x.range[1]===w[i[1]]}function l(x,E,w){var i=v.ensureSingle(x,"rect","selector-rect",function(L){L.attr("shape-rendering","crispEdges")});i.attr({rx:u.rx,ry:u.ry}),i.call(C.stroke,E.bordercolor).call(C.fill,p(E,w)).style("stroke-width",E.borderwidth+"px")}function p(x,E){return E._isActive||E._isHovered?x.activecolor:x.bgcolor}function M(x,E,w,i){function L(O){t.convertToTspans(O,i)}var b=v.ensureSingle(x,"text","selector-text",function(O){O.attr("text-anchor","middle")});b.call(T.font,E.font).text(S(w,i._fullLayout._meta)).call(L)}function S(x,E){return x.label?E?v.templateString(x.label,E):x.label:x.step==="all"?"all":x.count+x.step.charAt(0)}function P(x,E,w,i,L){var b=0,O=0,_=w.borderwidth;E.each(function(){var V=g.select(this),j=V.select(".selector-text"),$=w.font.size*n,ne=Math.max($*t.lineCount(j),16)+3;O=Math.max(O,ne)}),E.each(function(){var V=g.select(this),j=V.select(".selector-rect"),$=V.select(".selector-text"),ne=$.node()&&T.bBox($.node()).width,oe=w.font.size*n,ce=t.lineCount($),Q=Math.max(ne+10,u.minButtonWidth);V.attr("transform",y(_+b,_)),j.attr({x:0,y:0,width:Q,height:O}),t.positionText($,Q/2,O/2-(ce-1)*oe/2+3),b+=Q+5});var N=x._fullLayout._size,z=N.l+N.w*w.x,B=N.t+N.h*(1-w.y),U="left";v.isRightAnchor(w)&&(z-=b,U="right"),v.isCenterAnchor(w)&&(z-=b/2,U="center");var F="top";v.isBottomAnchor(w)&&(B-=O,F="bottom"),v.isMiddleAnchor(w)&&(B-=O/2,F="middle"),b=Math.ceil(b),O=Math.ceil(O),z=Math.round(z),B=Math.round(B),a.autoMargin(x,i+"-range-selector",{x:w.x,y:w.y,l:b*o[U],r:b*f[U],b:O*f[F],t:O*o[F]}),L.attr("transform",y(z,B))}},70565:function(W,H,e){var g=e(81041),R=e(71828).titleCase;W.exports=function(T,v){var y=T._name,t={};if(v.step==="all")t[y+".autorange"]=!0;else{var r=a(T,v);t[y+".range[0]"]=r[0],t[y+".range[1]"]=r[1]}return t};function a(C,T){var v=C.range,y=new Date(C.r2l(v[1])),t=T.step,r=g["utc"+R(t)],s=T.count,n;switch(T.stepmode){case"backward":n=C.l2r(+r.offset(y,-s));break;case"todate":var o=r.offset(y,-s);n=C.l2r(+r.ceil(o));break}var f=v[1];return[n,f]}},97218:function(W,H,e){W.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:e(37113)}}},layoutAttributes:e(37113),handleDefaults:e(28674),draw:e(21598)}},75148:function(W,H,e){var g=e(22399);W.exports={bgcolor:{valType:"color",dflt:g.background,editType:"plot"},bordercolor:{valType:"color",dflt:g.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},88443:function(W,H,e){var g=e(41675).list,R=e(71739).getAutoRange,a=e(73251);W.exports=function(T){for(var v=g(T,"x",!0),y=0;y<v.length;y++){var t=v[y],r=t[a.name];r&&r.visible&&r.autorange&&(r._input.autorange=!0,r._input.range=r.range=R(T,t))}}},73251:function(W){W.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},26377:function(W,H,e){var g=e(71828),R=e(44467),a=e(41675),C=e(75148),T=e(47850);W.exports=function(y,t,r){var s=y[r],n=t[r];if(!(s.rangeslider||t._requestRangeslider[n._id]))return;g.isPlainObject(s.rangeslider)||(s.rangeslider={});var o=s.rangeslider,f=R.newContainer(n,"rangeslider");function u(i,L){return g.coerce(o,f,C,i,L)}var m,c;function A(i,L){return g.coerce(m,c,T,i,L)}var h=u("visible");if(h){u("bgcolor",t.plot_bgcolor),u("bordercolor"),u("borderwidth"),u("thickness"),u("autorange",!n.isValidRange(o.range)),u("range");var l=t._subplots;if(l)for(var p=l.cartesian.filter(function(i){return i.substr(0,i.indexOf("y"))===a.name2id(r)}).map(function(i){return i.substr(i.indexOf("y"),i.length)}),M=g.simpleMap(p,a.id2name),S=0;S<M.length;S++){var P=M[S];m=o[P]||{},c=R.newContainer(f,P,"yaxis");var x=t[P],E;m.range&&x.isValidRange(m.range)&&(E="fixed");var w=A("rangemode",E);w!=="match"&&A("range",x.range.slice())}f._input=o}}},72413:function(W,H,e){var g=e(39898),R=e(73972),a=e(74875),C=e(71828),T=C.strTranslate,v=e(91424),y=e(7901),t=e(92998),r=e(93612),s=e(41675),n=e(28569),o=e(6964),f=e(73251);W.exports=function(x){for(var E=x._fullLayout,w=E._rangeSliderData,i=0;i<w.length;i++){var L=w[i][f.name];L._clipId=L._id+"-"+E._uid}function b(_){return _._name}var O=E._infolayer.selectAll("g."+f.containerClassName).data(w,b);O.exit().each(function(_){var N=_[f.name];E._topdefs.select("#"+N._clipId).remove()}).remove(),w.length!==0&&(O.enter().append("g").classed(f.containerClassName,!0).attr("pointer-events","all"),O.each(function(_){var N=g.select(this),z=_[f.name],B=E[s.id2name(_.anchor)],U=z[s.id2name(_.anchor)];if(z.range){var F=C.simpleMap(z.range,_.r2l),V=C.simpleMap(_.range,_.r2l),j;V[0]<V[1]?j=[Math.min(F[0],V[0]),Math.max(F[1],V[1])]:j=[Math.max(F[0],V[0]),Math.min(F[1],V[1])],z.range=z._input.range=C.simpleMap(j,_.l2r)}_.cleanRange("rangeslider.range");var $=E._size,ne=_.domain;z._width=$.w*(ne[1]-ne[0]);var oe=Math.round($.l+$.w*ne[0]),ce=Math.round($.t+$.h*(1-_._counterDomainMin)+(_.side==="bottom"?_._depth:0)+z._offsetShift+f.extraPad);N.attr("transform",T(oe,ce)),z._rl=C.simpleMap(z.range,_.r2l);var Q=z._rl[0],Z=z._rl[1],K=Z-Q;if(z.p2d=function(Ce){return Ce/z._width*K+Q},z.d2p=function(Ce){return(Ce-Q)/K*z._width},_.rangebreaks){var J=_.locateBreaks(Q,Z);if(J.length){var re,le,q=0;for(re=0;re<J.length;re++)le=J[re],q+=le.max-le.min;var ee=z._width/(Z-Q-q),ue=[-ee*Q];for(re=0;re<J.length;re++)le=J[re],ue.push(ue[ue.length-1]-ee*(le.max-le.min));for(z.d2p=function(Ce){for(var Te=ue[0],Oe=0;Oe<J.length;Oe++){var Ne=J[Oe];if(Ce>=Ne.max)Te=ue[Oe+1];else if(Ce<Ne.min)break}return Te+ee*Ce},re=0;re<J.length;re++)le=J[re],le.pmin=z.d2p(le.min),le.pmax=z.d2p(le.max);z.p2d=function(Ce){for(var Te=ue[0],Oe=0;Oe<J.length;Oe++){var Ne=J[Oe];if(Ce>=Ne.pmax)Te=ue[Oe+1];else if(Ce<Ne.pmin)break}return(Ce-Te)/ee}}}if(U.rangemode!=="match"){var se=B.r2l(U.range[0]),he=B.r2l(U.range[1]),me=he-se;z.d2pOppAxis=function(Ce){return(Ce-se)/me*z._height}}N.call(A,x,_,z).call(h,x,_,z).call(l,x,_,z).call(M,x,_,z,U).call(S,x,_,z).call(P,x,_,z),u(N,x,_,z),c(N,x,_,z,B,U),_.side==="bottom"&&t.draw(x,_._id+"title",{propContainer:_,propName:_._name+".title",placeholder:E._dfltTitle.x,attributes:{x:_._offset+_._length/2,y:ce+z._height+z._offsetShift+10+1.5*_.title.font.size,"text-anchor":"middle"}})}))};function u(x,E,w,i){if(E._context.staticPlot)return;var L=x.select("rect."+f.slideBoxClassName).node(),b=x.select("rect."+f.grabAreaMinClassName).node(),O=x.select("rect."+f.grabAreaMaxClassName).node();function _(){var N=g.event,z=N.target,B=N.clientX||N.touches[0].clientX,U=B-x.node().getBoundingClientRect().left,F=i.d2p(w._rl[0]),V=i.d2p(w._rl[1]),j=n.coverSlip();this.addEventListener("touchmove",$),this.addEventListener("touchend",ne),j.addEventListener("mousemove",$),j.addEventListener("mouseup",ne);function $(oe){var ce=oe.clientX||oe.touches[0].clientX,Q=+ce-B,Z,K,J;switch(z){case L:if(J="ew-resize",F+Q>w._length||V+Q<0)return;Z=F+Q,K=V+Q;break;case b:if(J="col-resize",F+Q>w._length)return;Z=F+Q,K=V;break;case O:if(J="col-resize",V+Q<0)return;Z=F,K=V+Q;break;default:J="ew-resize",Z=U,K=U+Q;break}if(K<Z){var re=K;K=Z,Z=re}i._pixelMin=Z,i._pixelMax=K,o(g.select(j),J),m(x,E,w,i)}function ne(){j.removeEventListener("mousemove",$),j.removeEventListener("mouseup",ne),this.removeEventListener("touchmove",$),this.removeEventListener("touchend",ne),C.removeElement(j)}}x.on("mousedown",_),x.on("touchstart",_)}function m(x,E,w,i){function L(_){return w.l2r(C.constrain(_,i._rl[0],i._rl[1]))}var b=L(i.p2d(i._pixelMin)),O=L(i.p2d(i._pixelMax));window.requestAnimationFrame(function(){R.call("_guiRelayout",E,w._name+".range",[b,O])})}function c(x,E,w,i,L,b){var O=f.handleWidth/2;function _(oe){return C.constrain(oe,0,i._width)}function N(oe){return C.constrain(oe,0,i._height)}function z(oe){return C.constrain(oe,-O,i._width+O)}var B=_(i.d2p(w._rl[0])),U=_(i.d2p(w._rl[1]));if(x.select("rect."+f.slideBoxClassName).attr("x",B).attr("width",U-B),x.select("rect."+f.maskMinClassName).attr("width",B),x.select("rect."+f.maskMaxClassName).attr("x",U).attr("width",i._width-U),b.rangemode!=="match"){var F=i._height-N(i.d2pOppAxis(L._rl[1])),V=i._height-N(i.d2pOppAxis(L._rl[0]));x.select("rect."+f.maskMinOppAxisClassName).attr("x",B).attr("height",F).attr("width",U-B),x.select("rect."+f.maskMaxOppAxisClassName).attr("x",B).attr("y",V).attr("height",i._height-V).attr("width",U-B),x.select("rect."+f.slideBoxClassName).attr("y",F).attr("height",V-F)}var j=.5,$=Math.round(z(B-O))-j,ne=Math.round(z(U-O))+j;x.select("g."+f.grabberMinClassName).attr("transform",T($,j)),x.select("g."+f.grabberMaxClassName).attr("transform",T(ne,j))}function A(x,E,w,i){var L=C.ensureSingle(x,"rect",f.bgClassName,function(N){N.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),b=i.borderwidth%2===0?i.borderwidth:i.borderwidth-1,O=-i._offsetShift,_=v.crispRound(E,i.borderwidth);L.attr({width:i._width+b,height:i._height+b,transform:T(O,O),"stroke-width":_}).call(y.stroke,i.bordercolor).call(y.fill,i.bgcolor)}function h(x,E,w,i){var L=E._fullLayout,b=C.ensureSingleById(L._topdefs,"clipPath",i._clipId,function(O){O.append("rect").attr({x:0,y:0})});b.select("rect").attr({width:i._width,height:i._height})}function l(x,E,w,i){var L=E.calcdata,b=x.selectAll("g."+f.rangePlotClassName).data(w._subplotsWith,C.identity);b.enter().append("g").attr("class",function(_){return f.rangePlotClassName+" "+_}).call(v.setClipUrl,i._clipId,E),b.order(),b.exit().remove();var O;b.each(function(_,N){var z=g.select(this),B=N===0,U=s.getFromId(E,_,"y"),F=U._name,V=i[F],j={data:[],layout:{xaxis:{type:w.type,domain:[0,1],range:i.range.slice(),calendar:w.calendar},width:i._width,height:i._height,margin:{t:0,b:0,l:0,r:0}},_context:E._context};w.rangebreaks&&(j.layout.xaxis.rangebreaks=w.rangebreaks),j.layout[F]={type:U.type,domain:[0,1],range:V.rangemode!=="match"?V.range.slice():U.range.slice(),calendar:U.calendar},U.rangebreaks&&(j.layout[F].rangebreaks=U.rangebreaks),a.supplyDefaults(j);var $=j._fullLayout.xaxis,ne=j._fullLayout[F];$.clearCalc(),$.setScale(),ne.clearCalc(),ne.setScale();var oe={id:_,plotgroup:z,xaxis:$,yaxis:ne,isRangePlot:!0};B?O=oe:(oe.mainplot="xy",oe.mainplotinfo=O),r.rangePlot(E,oe,p(L,_))})}function p(x,E){for(var w=[],i=0;i<x.length;i++){var L=x[i],b=L[0].trace;b.xaxis+b.yaxis===E&&w.push(L)}return w}function M(x,E,w,i,L){var b=C.ensureSingle(x,"rect",f.maskMinClassName,function(z){z.attr({x:0,y:0,"shape-rendering":"crispEdges"})});b.attr("height",i._height).call(y.fill,f.maskColor);var O=C.ensureSingle(x,"rect",f.maskMaxClassName,function(z){z.attr({y:0,"shape-rendering":"crispEdges"})});if(O.attr("height",i._height).call(y.fill,f.maskColor),L.rangemode!=="match"){var _=C.ensureSingle(x,"rect",f.maskMinOppAxisClassName,function(z){z.attr({y:0,"shape-rendering":"crispEdges"})});_.attr("width",i._width).call(y.fill,f.maskOppAxisColor);var N=C.ensureSingle(x,"rect",f.maskMaxOppAxisClassName,function(z){z.attr({y:0,"shape-rendering":"crispEdges"})});N.attr("width",i._width).style("border-top",f.maskOppBorder).call(y.fill,f.maskOppAxisColor)}}function S(x,E,w,i){if(!E._context.staticPlot){var L=C.ensureSingle(x,"rect",f.slideBoxClassName,function(b){b.attr({y:0,cursor:f.slideBoxCursor,"shape-rendering":"crispEdges"})});L.attr({height:i._height,fill:f.slideBoxFill})}}function P(x,E,w,i){var L=C.ensureSingle(x,"g",f.grabberMinClassName),b=C.ensureSingle(x,"g",f.grabberMaxClassName),O={x:0,width:f.handleWidth,rx:f.handleRadius,fill:y.background,stroke:y.defaultLine,"stroke-width":f.handleStrokeWidth,"shape-rendering":"crispEdges"},_={y:Math.round(i._height/4),height:Math.round(i._height/2)},N=C.ensureSingle(L,"rect",f.handleMinClassName,function(V){V.attr(O)});N.attr(_);var z=C.ensureSingle(b,"rect",f.handleMaxClassName,function(V){V.attr(O)});z.attr(_);var B={width:f.grabAreaWidth,x:0,y:0,fill:f.grabAreaFill,cursor:E._context.staticPlot?void 0:f.grabAreaCursor},U=C.ensureSingle(L,"rect",f.grabAreaMinClassName,function(V){V.attr(B)});U.attr("height",i._height);var F=C.ensureSingle(b,"rect",f.grabAreaMaxClassName,function(V){V.attr(B)});F.attr("height",i._height)}},549:function(W,H,e){var g=e(41675),R=e(63893),a=e(73251),C=e(18783).LINE_SPACING,T=a.name;function v(y){var t=y&&y[T];return t&&t.visible}H.isVisible=v,H.makeData=function(y){var t=g.list({_fullLayout:y},"x",!0),r=y.margin,s=[];if(!y._has("gl2d"))for(var n=0;n<t.length;n++){var o=t[n];if(v(o)){s.push(o);var f=o[T];f._id=T+o._id,f._height=(y.height-r.b-r.t)*f.thickness,f._offsetShift=Math.floor(f.borderwidth/2)}}y._rangeSliderData=s},H.autoMarginOpts=function(y,t){var r=y._fullLayout,s=t[T],n=t._id.charAt(0),o=0,f=0;if(t.side==="bottom"&&(o=t._depth,t.title.text!==r._dfltTitle[n])){f=1.5*t.title.font.size+10+s._offsetShift;var u=(t.title.text.match(R.BR_TAG_ALL)||[]).length;f+=u*t.title.font.size*C}return{x:0,y:t._counterDomainMin,l:0,r:0,t:0,b:s._height+o+Math.max(r.margin.b,f),pad:a.extraPad+s._offsetShift*2}}},13137:function(W,H,e){var g=e(71828),R=e(75148),a=e(47850),C=e(549);W.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:g.extendFlat({},R,{yaxis:a})}}},layoutAttributes:e(75148),handleDefaults:e(26377),calcAutorange:e(88443),draw:e(72413),isVisible:C.isVisible,makeData:C.makeData,autoMarginOpts:C.autoMarginOpts}},47850:function(W){W.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},8389:function(W,H,e){var g=e(50215),R=e(82196).line,a=e(79952).P,C=e(1426).extendFlat,T=e(30962).overrideAll,v=e(44467).templatedArray;e(24695),W.exports=T(v("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:C({},g.xref,{}),yref:C({},g.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:R.color,width:C({},R.width,{min:1,dflt:1}),dash:C({},a,{dflt:"dot"})}}),"arraydraw","from-root")},34122:function(W){W.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}},59402:function(W,H,e){var g=e(71828),R=e(89298),a=e(85501),C=e(8389),T=e(30477);W.exports=function(t,r){a(t,r,{name:"selections",handleItemDefaults:v});for(var s=r.selections,n=0;n<s.length;n++){var o=s[n];o&&o.path===void 0&&(o.x0===void 0||o.x1===void 0||o.y0===void 0||o.y1===void 0)&&(r.selections[n]=null)}};function v(y,t,r){function s(b,O){return g.coerce(y,t,C,b,O)}var n=s("path"),o=n?"path":"rect",f=s("type",o),u=f!=="path";u&&delete t.path,s("opacity"),s("line.color"),s("line.width"),s("line.dash");for(var m=["x","y"],c=0;c<2;c++){var A=m[c],h={_fullLayout:r},l,p,M,S=R.coerceRef(y,t,h,A);if(l=R.getFromId(h,S),l._selectionIndices.push(t._index),M=T.rangeToShapePosition(l),p=T.shapePositionToRange(l),u){var P=A+"0",x=A+"1",E=y[P],w=y[x];y[P]=p(y[P],!0),y[x]=p(y[x],!0),R.coercePosition(t,h,s,S,P),R.coercePosition(t,h,s,S,x);var i=t[P],L=t[x];i!==void 0&&L!==void 0&&(t[P]=M(i),t[x]=M(L),y[P]=E,y[x]=w)}}u&&g.noneOrAll(y,t,["x0","x1","y0","y1"])}},32485:function(W,H,e){var g=e(60165).readPaths,R=e(42359),a=e(51873).clearOutlineControllers,C=e(7901),T=e(91424),v=e(44467).arrayEditor,y=e(30477),t=y.getPathString;W.exports={draw:r,drawOne:n,activateLastSelection:u};function r(c){var A=c._fullLayout;a(c),A._selectionLayer.selectAll("path").remove();for(var h in A._plots){var l=A._plots[h].selectionLayer;l&&l.selectAll("path").remove()}for(var p=0;p<A.selections.length;p++)n(c,p)}function s(c){return c._context.editSelection}function n(c,A){c._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+A+'"]').remove();var h=y.makeSelectionsOptionsAndPlotinfo(c,A),l=h.options,p=h.plotinfo;if(!l._input)return;M(c._fullLayout._selectionLayer);function M(S){var P=t(c,l),x={"data-index":A,"fill-rule":"evenodd",d:P},E=l.opacity,w="rgba(0,0,0,0)",i=l.line.color||C.contrast(c._fullLayout.plot_bgcolor),L=l.line.width,b=l.line.dash;L||(L=5,b="solid");var O=s(c)&&c._fullLayout._activeSelectionIndex===A;O&&(w=c._fullLayout.activeselection.fillcolor,E=c._fullLayout.activeselection.opacity);for(var _=[],N=1;N>=0;N--){var z=S.append("path").attr(x).style("opacity",N?.1:E).call(C.stroke,i).call(C.fill,w).call(T.dashLine,N?"solid":b,N?4+L:L);if(o(z,c,l),O){var B=v(c.layout,"selections",l);z.style({cursor:"move"});var U={element:z.node(),plotinfo:p,gd:c,editHelpers:B,isActiveSelection:!0},F=g(P,c);R(F,z,U)}else z.style("pointer-events",N?"all":"none");_[N]=z}var V=_[0],j=_[1];j.node().addEventListener("click",function(){return f(c,V)})}}function o(c,A,h){var l=h.xref+h.yref;T.setClipUrl(c,"clip"+A._fullLayout._uid+l,A)}function f(c,A){if(s(c)){var h=A.node(),l=+h.getAttribute("data-index");if(l>=0){if(l===c._fullLayout._activeSelectionIndex){m(c);return}c._fullLayout._activeSelectionIndex=l,c._fullLayout._deactivateSelection=m,r(c)}}}function u(c){if(s(c)){var A=c._fullLayout.selections.length-1;c._fullLayout._activeSelectionIndex=A,c._fullLayout._deactivateSelection=m,r(c)}}function m(c){if(s(c)){var A=c._fullLayout._activeSelectionIndex;A>=0&&(a(c),delete c._fullLayout._activeSelectionIndex,r(c))}}},53777:function(W,H,e){var g=e(79952).P,R=e(1426).extendFlat;W.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:R({},g,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},90849:function(W){W.exports=function(e,g,R){R("newselection.mode");var a=R("newselection.line.width");a&&(R("newselection.line.color"),R("newselection.line.dash")),R("activeselection.fillcolor"),R("activeselection.opacity")}},35855:function(W,H,e){var g=e(64505),R=g.selectMode,a=e(51873),C=a.clearOutline,T=e(60165),v=T.readPaths,y=T.writePaths,t=T.fixDatesForPaths;W.exports=function(s,n){if(s.length){var o=s[0][0];if(o){var f=o.getAttribute("d"),u=n.gd,m=u._fullLayout.newselection,c=n.plotinfo,A=c.xaxis,h=c.yaxis,l=n.isActiveSelection,p=n.dragmode,M=(u.layout||{}).selections||[];if(!R(p)&&l!==void 0){var S=u._fullLayout._activeSelectionIndex;if(S<M.length)switch(u._fullLayout.selections[S].type){case"rect":p="select";break;case"path":p="lasso";break}}var P=v(f,u,c,l),x={xref:A._id,yref:h._id,opacity:m.opacity,line:{color:m.line.color,width:m.line.width,dash:m.line.dash}},E;P.length===1&&(E=P[0]),E&&E.length===5&&p==="select"?(x.type="rect",x.x0=E[0][1],x.y0=E[0][2],x.x1=E[2][1],x.y1=E[2][2]):(x.type="path",A&&h&&t(P,A,h),x.path=y(P),E=null),C(u);for(var w=n.editHelpers,i=(w||{}).modifyItem,L=[],b=0;b<M.length;b++){var O=u._fullLayout.selections[b];if(!O){L[b]=O;continue}if(L[b]=O._input,l!==void 0&&b===u._fullLayout._activeSelectionIndex){var _=x;switch(O.type){case"rect":i("x0",_.x0),i("x1",_.x1),i("y0",_.y0),i("y1",_.y1);break;case"path":i("path",_.path);break}}}return l===void 0?(L.push(x),L):w?w.getUpdateObj():{}}}}},75549:function(W,H,e){var g=e(71828).strTranslate;function R(v,y){switch(v.type){case"log":return v.p2d(y);case"date":return v.p2r(y,0,v.calendar);default:return v.p2r(y)}}function a(v,y){switch(v.type){case"log":return v.d2p(y);case"date":return v.r2p(y,0,v.calendar);default:return v.r2p(y)}}function C(v){var y=v._id.charAt(0)==="y"?1:0;return function(t){return R(v,t[y])}}function T(v){return g(v.xaxis._offset,v.yaxis._offset)}W.exports={p2r:R,r2p:a,axValue:C,getTransform:T}},47322:function(W,H,e){var g=e(32485),R=e(3937);W.exports={moduleType:"component",name:"selections",layoutAttributes:e(8389),supplyLayoutDefaults:e(59402),supplyDrawNewSelectionDefaults:e(90849),includeBasePlot:e(76325)("selections"),draw:g.draw,drawOne:g.drawOne,reselect:R.reselect,prepSelect:R.prepSelect,clearOutline:R.clearOutline,clearSelectionsCache:R.clearSelectionsCache,selectOnClick:R.selectOnClick}},3937:function(W,H,e){var g=e(52142),R=e(38258),a=e(73972),C=e(91424).dashStyle,T=e(7901),v=e(30211),y=e(23469).makeEventData,t=e(64505),r=t.freeMode,s=t.rectMode,n=t.drawMode,o=t.openMode,f=t.selectMode,u=e(30477),m=e(21459),c=e(42359),A=e(51873).clearOutline,h=e(60165),l=h.handleEllipse,p=h.readPaths,M=e(90551).newShapes,S=e(35855),P=e(32485).activateLastSelection,x=e(71828),E=x.sorterAsc,w=e(61082),i=e(79990),L=e(41675).getFromId,b=e(33306),O=e(61549).redrawReglTraces,_=e(34122),N=_.MINSELECT,z=w.filter,B=w.tester,U=e(75549),F=U.p2r,V=U.axValue,j=U.getTransform;function $(Be){return Be.subplot!==void 0}function ne(Be,De,we,xe,Ee){var Pe=!$(xe),Ue=r(Ee),$e=s(Ee),qe=o(Ee),dt=n(Ee),bt=f(Ee),Gt=Ee==="drawline",Qt=Ee==="drawcircle",At=Gt||Qt,zt=xe.gd,$t=zt._fullLayout,Ar=bt&&$t.newselection.mode==="immediate"&&Pe,ut=$t._zoomlayer,Yt=xe.element.getBoundingClientRect(),Kt=xe.plotinfo,mr=j(Kt),ur=De-Yt.left,pt=we-Yt.top;$t._calcInverseTransform(zt);var st=x.apply3DTransform($t._invTransform)(ur,pt);ur=st[0],pt=st[1];var xt=$t._invScaleX,St=$t._invScaleY,Dt=ur,Rt=pt,Bt="M"+ur+","+pt,Nt=xe.xaxes[0],Xt=xe.yaxes[0],lr=Nt._length,sr=Xt._length,dr=Be.altKey&&!(n(Ee)&&qe),je,Ye,It,kt,jt,tr,or;J(Be,zt,xe),Ue&&(je=z([[ur,pt]],_.BENDPX));var rr=ut.selectAll("path.select-outline-"+Kt.id).data([1]),Ot=dt?$t.newshape:$t.newselection;dt&&(xe.hasText=Ot.label.text||Ot.label.texttemplate);var hr=dt&&!qe?Ot.fillcolor:"rgba(0,0,0,0)",gr=Ot.line.color||(Pe?T.contrast(zt._fullLayout.plot_bgcolor):"#7f7f7f");rr.enter().append("path").attr("class","select-outline select-outline-"+Kt.id).style({opacity:dt?Ot.opacity/2:1,"stroke-dasharray":C(Ot.line.dash,Ot.line.width),"stroke-width":Ot.line.width+"px","shape-rendering":"crispEdges"}).call(T.stroke,gr).call(T.fill,hr).attr("fill-rule","evenodd").classed("cursor-move",!!dt).attr("transform",mr).attr("d",Bt+"Z");var pr=ut.append("path").attr("class","zoombox-corners").style({fill:T.background,stroke:T.defaultLine,"stroke-width":1}).attr("transform",mr).attr("d","M0,0Z");if(dt&&xe.hasText){var vr=ut.select(".label-temp");vr.empty()&&(vr=ut.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var Vr=$t._uid+_.SELECTID,kr=[],_r=ue(zt,xe.xaxes,xe.yaxes,xe.subplot);Ar&&!Be.shiftKey&&(xe._clearSubplotSelections=function(){if(Pe){var en=Nt._id,Bn=Xt._id;et(zt,en,Bn,_r);for(var Tn=(zt.layout||{}).selections||[],Mr=[],Er=!1,Gr=0;Gr<Tn.length;Gr++){var Ur=$t.selections[Gr];Ur.xref!==en||Ur.yref!==Bn?Mr.push(Tn[Gr]):Er=!0}Er&&(zt._fullLayout._noEmitSelectedAtStart=!0,a.call("_guiRelayout",zt,{selections:Mr}))}});var pn=Vt(xe);xe.moveFn=function(en,Bn){xe._clearSubplotSelections&&(xe._clearSubplotSelections(),xe._clearSubplotSelections=void 0),Dt=Math.max(0,Math.min(lr,xt*en+ur)),Rt=Math.max(0,Math.min(sr,St*Bn+pt));var Tn=Math.abs(Dt-ur),Mr=Math.abs(Rt-pt);if($e){var Er,Gr,Ur;if(bt){var an=$t.selectdirection;switch(an==="any"?Mr<Math.min(Tn*.6,N)?Er="h":Tn<Math.min(Mr*.6,N)?Er="v":Er="d":Er=an,Er){case"h":Gr=Qt?sr/2:0,Ur=sr;break;case"v":Gr=Qt?lr/2:0,Ur=lr;break}}if(dt)switch($t.newshape.drawdirection){case"vertical":Er="h",Gr=Qt?sr/2:0,Ur=sr;break;case"horizontal":Er="v",Gr=Qt?lr/2:0,Ur=lr;break;case"ortho":Tn<Mr?(Er="h",Gr=pt,Ur=Rt):(Er="v",Gr=ur,Ur=Dt);break;default:Er="d"}Er==="h"?(kt=At?l(Qt,[Dt,Gr],[Dt,Ur]):[[ur,Gr],[ur,Ur],[Dt,Ur],[Dt,Gr]],kt.xmin=At?Dt:Math.min(ur,Dt),kt.xmax=At?Dt:Math.max(ur,Dt),kt.ymin=Math.min(Gr,Ur),kt.ymax=Math.max(Gr,Ur),pr.attr("d","M"+kt.xmin+","+(pt-N)+"h-4v"+2*N+"h4ZM"+(kt.xmax-1)+","+(pt-N)+"h4v"+2*N+"h-4Z")):Er==="v"?(kt=At?l(Qt,[Gr,Rt],[Ur,Rt]):[[Gr,pt],[Gr,Rt],[Ur,Rt],[Ur,pt]],kt.xmin=Math.min(Gr,Ur),kt.xmax=Math.max(Gr,Ur),kt.ymin=At?Rt:Math.min(pt,Rt),kt.ymax=At?Rt:Math.max(pt,Rt),pr.attr("d","M"+(ur-N)+","+kt.ymin+"v-4h"+2*N+"v4ZM"+(ur-N)+","+(kt.ymax-1)+"v4h"+2*N+"v-4Z")):Er==="d"&&(kt=At?l(Qt,[ur,pt],[Dt,Rt]):[[ur,pt],[ur,Rt],[Dt,Rt],[Dt,pt]],kt.xmin=Math.min(ur,Dt),kt.xmax=Math.max(ur,Dt),kt.ymin=Math.min(pt,Rt),kt.ymax=Math.max(pt,Rt),pr.attr("d","M0,0Z"))}else Ue&&(je.addPt([Dt,Rt]),kt=je.filtered);if(xe.selectionDefs&&xe.selectionDefs.length?(It=be(xe.mergedPolygons,kt,dr),kt.subtract=dr,Ye=K(xe.selectionDefs.concat([kt]))):(It=[kt],Ye=B(kt)),c(He(It,qe),rr,xe),bt){var gn=ke(zt,!1),mn=gn.eventData?gn.eventData.points.slice():[];gn=ke(zt,!1,Ye,_r,xe),Ye=gn.selectionTesters,or=gn.eventData;var Rn;je?Rn=je.filtered:Rn=gt(It),i.throttle(Vr,_.SELECTDELAY,function(){kr=Ve(Ye,_r);for(var zn=kr.slice(),oa=0;oa<mn.length;oa++){for(var Zn=mn[oa],qn=!1,Yn=0;Yn<zn.length;Yn++)if(zn[Yn].curveNumber===Zn.curveNumber&&zn[Yn].pointNumber===Zn.pointNumber){qn=!0;break}qn||zn.push(Zn)}zn.length&&(or||(or={}),or.points=zn),pn(or,Rn),Je(zt,or)})}},xe.clickFn=function(en,Bn){if(pr.remove(),zt._fullLayout._activeShapeIndex>=0){zt._fullLayout._deactivateShape(zt);return}if(!dt){var Tn=$t.clickmode;i.done(Vr).then(function(){if(i.clear(Vr),en===2){for(rr.remove(),jt=0;jt<_r.length;jt++)tr=_r[jt],tr._module.selectPoints(tr,!1);if(Ne(zt,_r),q(xe),_e(zt),_r.length){var Mr=_r[0].xaxis,Er=_r[0].yaxis;if(Mr&&Er){for(var Gr=[],Ur=zt._fullLayout.selections,an=0;an<Ur.length;an++){var gn=Ur[an];gn&&(gn.xref!==Mr._id||gn.yref!==Er._id)&&Gr.push(gn)}Gr.length<Ur.length&&(zt._fullLayout._noEmitSelectedAtStart=!0,a.call("_guiRelayout",zt,{selections:Gr}))}}}else Tn.indexOf("select")>-1&&oe(Bn,zt,xe.xaxes,xe.yaxes,xe.subplot,xe,rr),Tn==="event"&&ze(zt,void 0);v.click(zt,Bn,Kt.id)}).catch(x.error)}},xe.doneFn=function(){pr.remove(),i.done(Vr).then(function(){i.clear(Vr),!Ar&&kt&&xe.selectionDefs&&(kt.subtract=dr,xe.selectionDefs.push(kt),xe.mergedPolygons.length=0,[].push.apply(xe.mergedPolygons,It)),(Ar||dt)&&q(xe,Ar),xe.doneFnCompleted&&xe.doneFnCompleted(kr),bt&&ze(zt,or)}).catch(x.error)}}function oe(Be,De,we,xe,Ee,Pe,Ue){var $e=De._hoverdata,qe=De._fullLayout,dt=qe.clickmode,bt=dt.indexOf("event")>-1,Gt=[],Qt,At,zt,$t,Ar,ut,Yt,Kt,mr,ur;if(he($e)){J(Be,De,Pe),Qt=ue(De,we,xe,Ee);var pt=me($e,Qt),st=pt.pointNumbers.length>0;if(st?Te(Qt,pt):Oe(Qt)&&(Yt=Ce(pt))){for(Ue&&Ue.remove(),ur=0;ur<Qt.length;ur++)At=Qt[ur],At._module.selectPoints(At,!1);Ne(De,Qt),q(Pe),bt&&_e(De)}else{Kt=Be.shiftKey&&(Yt!==void 0?Yt:Ce(pt)),zt=ce(pt.pointNumber,pt.searchInfo,Kt);var xt=Pe.selectionDefs.concat([zt]);for($t=K(xt),ur=0;ur<Qt.length;ur++)if(Ar=Qt[ur]._module.selectPoints(Qt[ur],$t),ut=Ae(Ar,Qt[ur]),Gt.length)for(var St=0;St<ut.length;St++)Gt.push(ut[St]);else Gt=ut;if(mr={points:Gt},Ne(De,Qt,mr),zt&&Pe&&Pe.selectionDefs.push(zt),Ue){var Dt=Pe.mergedPolygons,Rt=o(Pe.dragmode);c(He(Dt,Rt),Ue,Pe)}bt&&ze(De,mr)}}}function ce(Be,De,we){return{pointNumber:Be,searchInfo:De,subtract:!!we}}function Q(Be){return"pointNumber"in Be&&"searchInfo"in Be}function Z(Be){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(De,we,xe,Ee){var Pe=Be.searchInfo.cd[0].trace._expandedIndex,Ue=Ee.cd[0].trace._expandedIndex;return Ue===Pe&&xe===Be.pointNumber},isRect:!1,degenerate:!1,subtract:!!Be.subtract}}function K(Be){if(!Be.length)return;for(var De=[],we=Q(Be[0])?0:Be[0][0][0],xe=we,Ee=Q(Be[0])?0:Be[0][0][1],Pe=Ee,Ue=0;Ue<Be.length;Ue++)if(Q(Be[Ue]))De.push(Z(Be[Ue]));else{var $e=B(Be[Ue]);$e.subtract=!!Be[Ue].subtract,De.push($e),we=Math.min(we,$e.xmin),xe=Math.max(xe,$e.xmax),Ee=Math.min(Ee,$e.ymin),Pe=Math.max(Pe,$e.ymax)}function qe(dt,bt,Gt,Qt){for(var At=!1,zt=0;zt<De.length;zt++)De[zt].contains(dt,bt,Gt,Qt)&&(At=!De[zt].subtract);return At}return{xmin:we,xmax:xe,ymin:Ee,ymax:Pe,pts:[],contains:qe,isRect:!1,degenerate:!1}}function J(Be,De,we){var xe=De._fullLayout,Ee=we.plotinfo,Pe=we.dragmode,Ue=xe._lastSelectedSubplot&&xe._lastSelectedSubplot===Ee.id,$e=(Be.shiftKey||Be.altKey)&&!(n(Pe)&&o(Pe));Ue&&$e&&Ee.selection&&Ee.selection.selectionDefs&&!we.selectionDefs?(we.selectionDefs=Ee.selection.selectionDefs,we.mergedPolygons=Ee.selection.mergedPolygons):(!$e||!Ee.selection)&&q(we),Ue||(A(De),xe._lastSelectedSubplot=Ee.id)}function re(Be){return Be._fullLayout._activeShapeIndex>=0}function le(Be){return Be._fullLayout._activeSelectionIndex>=0}function q(Be,De){var we=Be.dragmode,xe=Be.plotinfo,Ee=Be.gd;re(Ee)&&Ee._fullLayout._deactivateShape(Ee),le(Ee)&&Ee._fullLayout._deactivateSelection(Ee);var Pe=Ee._fullLayout,Ue=Pe._zoomlayer,$e=n(we),qe=f(we);if($e||qe){var dt=Ue.selectAll(".select-outline-"+xe.id);if(dt&&Ee._fullLayout._outlining){var bt;$e&&(bt=M(dt,Be)),bt&&a.call("_guiRelayout",Ee,{shapes:bt});var Gt;qe&&!$(Be)&&(Gt=S(dt,Be)),Gt&&(Ee._fullLayout._noEmitSelectedAtStart=!0,a.call("_guiRelayout",Ee,{selections:Gt}).then(function(){De&&P(Ee)})),Ee._fullLayout._outlining=!1}}xe.selection={},xe.selection.selectionDefs=Be.selectionDefs=[],xe.selection.mergedPolygons=Be.mergedPolygons=[]}function ee(Be){return Be._id}function ue(Be,De,we,xe){if(!Be.calcdata)return[];var Ee=[],Pe=De.map(ee),Ue=we.map(ee),$e,qe,dt;for(dt=0;dt<Be.calcdata.length;dt++)if($e=Be.calcdata[dt],qe=$e[0].trace,!(qe.visible!==!0||!qe._module||!qe._module.selectPoints))if($({subplot:xe})&&(qe.subplot===xe||qe.geo===xe))Ee.push(se(qe._module,$e,De[0],we[0]));else if(qe.type==="splom"){if(qe._xaxes[Pe[0]]&&qe._yaxes[Ue[0]]){var bt=se(qe._module,$e,De[0],we[0]);bt.scene=Be._fullLayout._splomScenes[qe.uid],Ee.push(bt)}}else if(qe.type==="sankey"){var Gt=se(qe._module,$e,De[0],we[0]);Ee.push(Gt)}else{if(Pe.indexOf(qe.xaxis)===-1||Ue.indexOf(qe.yaxis)===-1)continue;Ee.push(se(qe._module,$e,L(Be,qe.xaxis),L(Be,qe.yaxis)))}return Ee}function se(Be,De,we,xe){return{_module:Be,cd:De,xaxis:we,yaxis:xe}}function he(Be){return Be&&Array.isArray(Be)&&Be[0].hoverOnBox!==!0}function me(Be,De){var we=Be[0],xe=-1,Ee=[],Pe,Ue;for(Ue=0;Ue<De.length;Ue++)if(Pe=De[Ue],we.fullData._expandedIndex===Pe.cd[0].trace._expandedIndex){if(we.hoverOnBox===!0)break;we.pointNumber!==void 0?xe=we.pointNumber:we.binNumber!==void 0&&(xe=we.binNumber,Ee=we.pointNumbers);break}return{pointNumber:xe,pointNumbers:Ee,searchInfo:Pe}}function Ce(Be){var De=Be.searchInfo.cd[0].trace,we=Be.pointNumber,xe=Be.pointNumbers,Ee=xe.length>0,Pe=Ee?xe[0]:we;return De.selectedpoints?De.selectedpoints.indexOf(Pe)>-1:!1}function Te(Be,De){var we=[],xe,Ee,Pe,Ue;for(Ue=0;Ue<Be.length;Ue++)xe=Be[Ue],xe.cd[0].trace.selectedpoints&&xe.cd[0].trace.selectedpoints.length>0&&we.push(xe);if(we.length===1&&(Pe=we[0]===De.searchInfo,Pe&&(Ee=De.searchInfo.cd[0].trace,Ee.selectedpoints.length===De.pointNumbers.length))){for(Ue=0;Ue<De.pointNumbers.length;Ue++)if(Ee.selectedpoints.indexOf(De.pointNumbers[Ue])<0)return!1;return!0}return!1}function Oe(Be){var De=0,we,xe,Ee;for(Ee=0;Ee<Be.length;Ee++)if(we=Be[Ee],xe=we.cd[0].trace,xe.selectedpoints&&(xe.selectedpoints.length>1||(De+=xe.selectedpoints.length,De>1)))return!1;return De===1}function Ne(Be,De,we){var xe;for(xe=0;xe<De.length;xe++){var Ee=De[xe].cd[0].trace._fullInput,Pe=Be._fullLayout._tracePreGUI[Ee.uid]||{};Pe.selectedpoints===void 0&&(Pe.selectedpoints=Ee._input.selectedpoints||null)}var Ue;if(we){var $e=we.points||[];for(xe=0;xe<De.length;xe++)Ue=De[xe].cd[0].trace,Ue._input.selectedpoints=Ue._fullInput.selectedpoints=[],Ue._fullInput!==Ue&&(Ue.selectedpoints=[]);for(var qe=0;qe<$e.length;qe++){var dt=$e[qe],bt=dt.data,Gt=dt.fullData,Qt=dt.pointIndex,At=dt.pointIndices;At?([].push.apply(bt.selectedpoints,At),Ue._fullInput!==Ue&&[].push.apply(Gt.selectedpoints,At)):(bt.selectedpoints.push(Qt),Ue._fullInput!==Ue&&Gt.selectedpoints.push(Qt))}}else for(xe=0;xe<De.length;xe++)Ue=De[xe].cd[0].trace,delete Ue.selectedpoints,delete Ue._input.selectedpoints,Ue._fullInput!==Ue&&delete Ue._fullInput.selectedpoints;Le(Be,De)}function Le(Be,De){for(var we=!1,xe=0;xe<De.length;xe++){var Ee=De[xe],Pe=Ee.cd;a.traceIs(Pe[0].trace,"regl")&&(we=!0);var Ue=Ee._module,$e=Ue.styleOnSelect||Ue.style;$e&&($e(Be,Pe,Pe[0].node3),Pe[0].nodeRangePlot3&&$e(Be,Pe,Pe[0].nodeRangePlot3))}we&&(b(Be),O(Be))}function be(Be,De,we){for(var xe=we?g.difference:g.union,Ee=xe({regions:Be},{regions:[De]}),Pe=Ee.regions.reverse(),Ue=0;Ue<Pe.length;Ue++){var $e=Pe[Ue];$e.subtract=vt($e,Pe.slice(0,Ue))}return Pe}function Ae(Be,De){if(Array.isArray(Be))for(var we=De.cd,xe=De.cd[0].trace,Ee=0;Ee<Be.length;Ee++)Be[Ee]=y(Be[Ee],xe,we);return Be}function He(Be,De){for(var we=[],xe=0;xe<Be.length;xe++){we[xe]=[];for(var Ee=0;Ee<Be[xe].length;Ee++){we[xe][Ee]=[],we[xe][Ee][0]=Ee?"L":"M";for(var Pe=0;Pe<Be[xe][Ee].length;Pe++)we[xe][Ee].push(Be[xe][Ee][Pe])}De||we[xe].push(["Z",we[xe][0][1],we[xe][0][2]])}return we}function Ve(Be,De){for(var we=[],xe,Ee,Pe=0;Pe<De.length;Pe++){var Ue=De[Pe];Ee=Ue._module.selectPoints(Ue,Be),xe=Ae(Ee,Ue),we=we.concat(xe)}return we}function ke(Be,De,we,xe,Ee){var Pe=!!xe,Ue,$e,qe;Ee&&(Ue=Ee.plotinfo,$e=Ee.xaxes[0]._id,qe=Ee.yaxes[0]._id);var dt=[],bt=[],Gt=at(Be),Qt=Be._fullLayout;if(Ue){var At=Qt._zoomlayer,zt=Qt.dragmode,$t=n(zt),Ar=f(zt);if($t||Ar){var ut=L(Be,$e,"x"),Yt=L(Be,qe,"y");if(ut&&Yt){var Kt=At.selectAll(".select-outline-"+Ue.id);if(Kt&&Be._fullLayout._outlining&&Kt.length){for(var mr=Kt[0][0],ur=mr.getAttribute("d"),pt=p(ur,Be,Ue),st=[],xt=0;xt<pt.length;xt++){for(var St=pt[xt],Dt=[],Rt=0;Rt<St.length;Rt++)Dt.push([yt(ut,St[Rt][1]),yt(Yt,St[Rt][2])]);Dt.xref=$e,Dt.yref=qe,Dt.subtract=vt(Dt,st),st.push(Dt)}Gt=Gt.concat(st)}}}}var Bt=$e&&qe?[$e+qe]:Qt._subplots.cartesian;Ge(Be);for(var Nt={},Xt=0;Xt<Bt.length;Xt++){var lr=Bt[Xt],sr=lr.indexOf("y"),dr=lr.slice(0,sr),je=lr.slice(sr),Ye=$e&&qe?we:void 0;if(Ye=tt(Gt,dr,je,Ye),Ye){var It=xe;if(!Pe){var kt=L(Be,dr,"x"),jt=L(Be,je,"y");It=ue(Be,[kt],[jt],lr);for(var tr=0;tr<It.length;tr++){var or=It[tr],rr=or.cd[0],Ot=rr.trace;if(or._module.name==="scattergl"&&!rr.t.xpx){var hr=Ot.x,gr=Ot.y,pr=Ot._length;rr.t.xpx=[],rr.t.ypx=[];for(var vr=0;vr<pr;vr++)rr.t.xpx[vr]=kt.c2p(hr[vr]),rr.t.ypx[vr]=jt.c2p(gr[vr])}or._module.name==="splom"&&(Nt[Ot.uid]||(Nt[Ot.uid]=!0))}}var Vr=Ve(Ye,It);dt=dt.concat(Vr),bt=bt.concat(It)}}var kr={points:dt};Ne(Be,bt,kr);var _r=Qt.clickmode,pn=_r.indexOf("event")>-1&&De;if(!Ue&&De){var en=at(Be,!0);if(en.length){var Bn=en[0].xref,Tn=en[0].yref;if(Bn&&Tn){var Mr=gt(en),Er=Ct([L(Be,Bn,"x"),L(Be,Tn,"y")]);Er(kr,Mr)}}Be._fullLayout._noEmitSelectedAtStart?Be._fullLayout._noEmitSelectedAtStart=!1:pn&&ze(Be,kr),Qt._reselect=!1}if(!Ue&&Qt._deselect){var Gr=Qt._deselect;$e=Gr.xref,qe=Gr.yref,it($e,qe,bt)||et(Be,$e,qe,xe),pn&&(kr.points.length?ze(Be,kr):_e(Be)),Qt._deselect=!1}return{eventData:kr,selectionTesters:we}}function Ge(Be){var De=Be.calcdata;if(De)for(var we=0;we<De.length;we++){var xe=De[we][0],Ee=xe.trace,Pe=Be._fullLayout._splomScenes;if(Pe){var Ue=Pe[Ee.uid];Ue&&(Ue.selectBatch=[])}}}function it(Be,De,we){for(var xe=0;xe<we.length;xe++){var Ee=we[xe];if(Ee.xaxis&&Ee.xaxis._id===Be&&Ee.yaxis&&Ee.yaxis._id===De)return!0}return!1}function et(Be,De,we,xe){xe=ue(Be,[L(Be,De,"x")],[L(Be,we,"y")],De+we);for(var Ee=0;Ee<xe.length;Ee++){var Pe=xe[Ee];Pe._module.selectPoints(Pe,!1)}Ne(Be,xe)}function tt(Be,De,we,xe){for(var Ee,Pe=0;Pe<Be.length;Pe++){var Ue=Be[Pe];if(!(De!==Ue.xref||we!==Ue.yref))if(Ee){var $e=!!Ue.subtract;Ee=be(Ee,Ue,$e),xe=K(Ee)}else Ee=[Ue],xe=B(Ue)}return xe}function at(Be,De){for(var we=[],xe=Be._fullLayout,Ee=xe.selections,Pe=Ee.length,Ue=0;Ue<Pe;Ue++)if(!(De&&Ue!==xe._activeSelectionIndex)){var $e=Ee[Ue];if($e){var qe=$e.xref,dt=$e.yref,bt=L(Be,qe,"x"),Gt=L(Be,dt,"y"),Qt,At,zt,$t,Ar;if($e.type==="rect"){Ar=[];var ut=yt(bt,$e.x0),Yt=yt(bt,$e.x1),Kt=yt(Gt,$e.y0),mr=yt(Gt,$e.y1);Ar=[[ut,Kt],[ut,mr],[Yt,mr],[Yt,Kt]],Qt=Math.min(ut,Yt),At=Math.max(ut,Yt),zt=Math.min(Kt,mr),$t=Math.max(Kt,mr),Ar.xmin=Qt,Ar.xmax=At,Ar.ymin=zt,Ar.ymax=$t,Ar.xref=qe,Ar.yref=dt,Ar.subtract=!1,Ar.isRect=!0,we.push(Ar)}else if($e.type==="path")for(var ur=$e.path.split("Z"),pt=[],st=0;st<ur.length;st++){var xt=ur[st];if(xt){xt+="Z";var St=u.extractPathCoords(xt,m.paramIsX,"raw"),Dt=u.extractPathCoords(xt,m.paramIsY,"raw");Qt=1/0,At=-1/0,zt=1/0,$t=-1/0,Ar=[];for(var Rt=0;Rt<St.length;Rt++){var Bt=yt(bt,St[Rt]),Nt=yt(Gt,Dt[Rt]);Ar.push([Bt,Nt]),Qt=Math.min(Bt,Qt),At=Math.max(Bt,At),zt=Math.min(Nt,zt),$t=Math.max(Nt,$t)}Ar.xmin=Qt,Ar.xmax=At,Ar.ymin=zt,Ar.ymax=$t,Ar.xref=qe,Ar.yref=dt,Ar.subtract=vt(Ar,pt),pt.push(Ar),we.push(Ar)}}}}return we}function vt(Be,De){for(var we=!1,xe=0;xe<De.length;xe++)for(var Ee=De[xe],Pe=0;Pe<Be.length;Pe++)if(R(Be[Pe],Ee)){we=!we;break}return we}function yt(Be,De){return Be.type==="date"&&(De=De.replace("_"," ")),Be.type==="log"?Be.c2p(De):Be.r2p(De,null,Be.calendar)}function gt(Be){for(var De=Be.length,we=[],xe=0;xe<De;xe++){var Ee=Be[xe];we=we.concat(Ee),we=we.concat([Ee[0]])}return Mt(we)}function Mt(Be){return Be.isRect=Be.length===5&&Be[0][0]===Be[4][0]&&Be[0][1]===Be[4][1]&&Be[0][0]===Be[1][0]&&Be[2][0]===Be[3][0]&&Be[0][1]===Be[3][1]&&Be[1][1]===Be[2][1]||Be[0][1]===Be[1][1]&&Be[2][1]===Be[3][1]&&Be[0][0]===Be[3][0]&&Be[1][0]===Be[2][0],Be.isRect&&(Be.xmin=Math.min(Be[0][0],Be[2][0]),Be.xmax=Math.max(Be[0][0],Be[2][0]),Be.ymin=Math.min(Be[0][1],Be[2][1]),Be.ymax=Math.max(Be[0][1],Be[2][1])),Be}function Ct(Be){return function(De,we){for(var xe,Ee,Pe=0;Pe<Be.length;Pe++){var Ue=Be[Pe],$e=Ue._id,qe=$e.charAt(0);if(we.isRect){xe||(xe={});var dt=we[qe+"min"],bt=we[qe+"max"];dt!==void 0&&bt!==void 0&&(xe[$e]=[F(Ue,dt),F(Ue,bt)].sort(E))}else Ee||(Ee={}),Ee[$e]=we.map(V(Ue))}xe&&(De.range=xe),Ee&&(De.lassoPoints=Ee)}}function Vt(Be){var De=Be.plotinfo;return De.fillRangeItems||Ct(Be.xaxes.concat(Be.yaxes))}function Je(Be,De){Be.emit("plotly_selecting",De)}function ze(Be,De){De&&(De.selections=(Be.layout||{}).selections||[]),Be.emit("plotly_selected",De)}function _e(Be){Be.emit("plotly_deselect",null)}W.exports={reselect:ke,prepSelect:ne,clearOutline:A,clearSelectionsCache:q,selectOnClick:oe}},89827:function(W,H,e){var g=e(50215),R=e(41940),a=e(82196).line,C=e(79952).P,T=e(1426).extendFlat,v=e(44467).templatedArray;e(24695);var y=e(9012),t=e(5386).R,r=e(37281);W.exports=v("shape",{visible:T({},y.visible,{editType:"calc+arraydraw"}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},legend:T({},y.legend,{editType:"calc+arraydraw"}),legendgroup:T({},y.legendgroup,{editType:"calc+arraydraw"}),legendgrouptitle:{text:T({},y.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:R({editType:"calc+arraydraw"}),editType:"calc+arraydraw"},legendrank:T({},y.legendrank,{editType:"calc+arraydraw"}),legendwidth:T({},y.legendwidth,{editType:"calc+arraydraw"}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},xref:T({},g.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:T({},g.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:T({},a.color,{editType:"arraydraw"}),width:T({},a.width,{editType:"calc+arraydraw"}),dash:T({},C,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:t({},{keys:Object.keys(r)}),font:R({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})},5627:function(W,H,e){var g=e(71828),R=e(89298),a=e(21459),C=e(30477);W.exports=function(s){var n=s._fullLayout,o=g.filterVisible(n.shapes);if(!(!o.length||!s._fullData.length))for(var f=0;f<o.length;f++){var u=o[f];u._extremes={};var m,c,A=R.getRefType(u.xref),h=R.getRefType(u.yref);if(u.xref!=="paper"&&A!=="domain"){var l=u.xsizemode==="pixel"?u.xanchor:u.x0,p=u.xsizemode==="pixel"?u.xanchor:u.x1;m=R.getFromId(s,u.xref),c=t(m,l,p,u.path,a.paramIsX),c&&(u._extremes[m._id]=R.findExtremes(m,c,T(u)))}if(u.yref!=="paper"&&h!=="domain"){var M=u.ysizemode==="pixel"?u.yanchor:u.y0,S=u.ysizemode==="pixel"?u.yanchor:u.y1;m=R.getFromId(s,u.yref),c=t(m,M,S,u.path,a.paramIsY),c&&(u._extremes[m._id]=R.findExtremes(m,c,v(u)))}}};function T(r){return y(r.line.width,r.xsizemode,r.x0,r.x1,r.path,!1)}function v(r){return y(r.line.width,r.ysizemode,r.y0,r.y1,r.path,!0)}function y(r,s,n,o,f,u){var m=r/2,c=u;if(s==="pixel"){var A=f?C.extractPathCoords(f,u?a.paramIsY:a.paramIsX):[n,o],h=g.aggNums(Math.max,null,A),l=g.aggNums(Math.min,null,A),p=l<0?Math.abs(l)+m:m,M=h>0?h+m:m;return{ppad:m,ppadplus:c?p:M,ppadminus:c?M:p}}else return{ppad:m}}function t(r,s,n,o,f){var u=r.type==="category"||r.type==="multicategory"?r.r2c:r.d2c;if(s!==void 0)return[u(s),u(n)];if(o){var m=1/0,c=-1/0,A=o.match(a.segmentRE),h,l,p,M,S;for(r.type==="date"&&(u=C.decodeDate(u)),h=0;h<A.length;h++)l=A[h],p=f[l.charAt(0)].drawn,p!==void 0&&(M=A[h].substr(1).match(a.paramRE),!(!M||M.length<p)&&(S=u(M[p]),S<m&&(m=S),S>c&&(c=S)));if(c>=m)return[m,c]}}},21459:function(W){W.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},84726:function(W,H,e){var g=e(71828),R=e(89298),a=e(85501),C=e(89827),T=e(30477);W.exports=function(r,s){a(r,s,{name:"shapes",handleItemDefaults:y})};function v(t,r){return t?"bottom":r.indexOf("top")!==-1?"top":r.indexOf("bottom")!==-1?"bottom":"middle"}function y(t,r,s){function n(Q,Z){return g.coerce(t,r,C,Q,Z)}r._isShape=!0;var o=n("visible");if(o){var f=n("showlegend");f&&(n("legend"),n("legendwidth"),n("legendgroup"),n("legendgrouptitle.text"),g.coerceFont(n,"legendgrouptitle.font"),n("legendrank"));var u=n("path"),m=u?"path":"rect",c=n("type",m),A=c!=="path";A&&delete r.path,n("editable"),n("layer"),n("opacity"),n("fillcolor"),n("fillrule");var h=n("line.width");h&&(n("line.color"),n("line.dash"));for(var l=n("xsizemode"),p=n("ysizemode"),M=["x","y"],S=0;S<2;S++){var P=M[S],x=P+"anchor",E=P==="x"?l:p,w={_fullLayout:s},i,L,b,O=R.coerceRef(t,r,w,P,void 0,"paper"),_=R.getRefType(O);if(_==="range"?(i=R.getFromId(w,O),i._shapeIndices.push(r._index),b=T.rangeToShapePosition(i),L=T.shapePositionToRange(i)):L=b=g.identity,A){var N=.25,z=.75,B=P+"0",U=P+"1",F=t[B],V=t[U];t[B]=L(t[B],!0),t[U]=L(t[U],!0),E==="pixel"?(n(B,0),n(U,10)):(R.coercePosition(r,w,n,O,B,N),R.coercePosition(r,w,n,O,U,z)),r[B]=b(r[B]),r[U]=b(r[U]),t[B]=F,t[U]=V}if(E==="pixel"){var j=t[x];t[x]=L(t[x],!0),R.coercePosition(r,w,n,O,x,.25),r[x]=b(r[x]),t[x]=j}}A&&g.noneOrAll(t,r,["x0","x1","y0","y1"]);var $=c==="line",ne,oe;if(A&&(ne=n("label.texttemplate")),ne||(oe=n("label.text")),oe||ne){n("label.textangle");var ce=n("label.textposition",$?"middle":"middle center");n("label.xanchor"),n("label.yanchor",v($,ce)),n("label.padding"),g.coerceFont(n,"label.font",s.font)}}}},48100:function(W,H,e){var g=e(71828),R=e(89298),a=e(63893),C=e(91424),T=e(60165).readPaths,v=e(30477),y=v.getPathString,t=e(37281),r=e(18783).FROM_TL;W.exports=function(f,u,m,c){if(c.selectAll(".shape-label").remove(),!!(m.label.text||m.label.texttemplate)){var A;if(m.label.texttemplate){var h={};if(m.type!=="path"){var l=R.getFromId(f,m.xref),p=R.getFromId(f,m.yref);for(var M in t){var S=t[M](m,l,p);S!==void 0&&(h[M]=S)}}A=g.texttemplateStringForShapes(m.label.texttemplate,{},f._fullLayout._d3locale,h)}else A=m.label.text;var P={"data-index":u},x=m.label.font,E={"data-notex":1},w=c.append("g").attr(P).classed("shape-label",!0),i=w.append("text").attr(E).classed("shape-label-text",!0).text(A),L,b,O,_;if(m.path){var N=y(f,m),z=T(N,f);L=1/0,O=1/0,b=-1/0,_=-1/0;for(var B=0;B<z.length;B++)for(var U=0;U<z[B].length;U++)for(var F=z[B][U],V=1;V<F.length;V+=2){var j=F[V],$=F[V+1];L=Math.min(L,j),b=Math.max(b,j),O=Math.min(O,$),_=Math.max(_,$)}}else{var ne=R.getFromId(f,m.xref),oe=R.getRefType(m.xref),ce=R.getFromId(f,m.yref),Q=R.getRefType(m.yref),Z=v.getDataToPixel(f,ne,!1,oe),K=v.getDataToPixel(f,ce,!0,Q);L=Z(m.x0),b=Z(m.x1),O=K(m.y0),_=K(m.y1)}var J=m.label.textangle;J==="auto"&&(m.type==="line"?J=s(L,O,b,_):J=0),i.call(function(se){return se.call(C.font,x).attr({}),a.convertToTspans(se,f),se});var re=C.bBox(i.node()),le=n(L,O,b,_,m,J,re),q=le.textx,ee=le.texty,ue=le.xanchor;i.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[ue],y:ee,x:q,transform:"rotate("+J+","+q+","+ee+")"}).call(a.positionText,q,ee)}};function s(o,f,u,m){var c,A;return A=Math.abs(u-o),u>=o?c=f-m:c=m-f,-180/Math.PI*Math.atan2(c,A)}function n(o,f,u,m,c,A,h){var l=c.label.textposition,p=c.label.textangle,M=c.label.padding,S=c.type,P=Math.PI/180*A,x=Math.sin(P),E=Math.cos(P),w=c.label.xanchor,i=c.label.yanchor,L,b,O,_;if(S==="line"){l==="start"?(L=o,b=f):l==="end"?(L=u,b=m):(L=(o+u)/2,b=(f+m)/2),w==="auto"&&(l==="start"?p==="auto"?u>o?w="left":u<o?w="right":w="center":u>o?w="right":u<o?w="left":w="center":l==="end"?p==="auto"?u>o?w="right":u<o?w="left":w="center":u>o?w="left":u<o?w="right":w="center":w="center");var N={left:1,center:0,right:-1},z={bottom:-1,middle:0,top:1};if(p==="auto"){var B=z[i];O=-M*x*B,_=M*E*B}else{var U=N[w],F=z[i];O=M*U,_=M*F}L=L+O,b=b+_}else O=M+3,l.indexOf("right")!==-1?(L=Math.max(o,u)-O,w==="auto"&&(w="right")):l.indexOf("left")!==-1?(L=Math.min(o,u)+O,w==="auto"&&(w="left")):(L=(o+u)/2,w==="auto"&&(w="center")),l.indexOf("top")!==-1?b=Math.min(f,m):l.indexOf("bottom")!==-1?b=Math.max(f,m):b=(f+m)/2,_=M,i==="bottom"?b=b-_:i==="top"&&(b=b+_);var V=r[i],j=c.label.font.size,$=h.height,ne=($*V-j)*x,oe=-($*V-j)*E;return{textx:L+ne,texty:b+oe,xanchor:w}}},42359:function(W,H,e){var g=e(71828),R=g.strTranslate,a=e(28569),C=e(64505),T=C.drawMode,v=C.selectMode,y=e(73972),t=e(7901),r=e(89995),s=r.i000,n=r.i090,o=r.i180,f=r.i270,u=e(51873),m=u.clearOutlineControllers,c=e(60165),A=c.pointsOnRectangle,h=c.pointsOnEllipse,l=c.writePaths,p=e(90551).newShapes,M=e(90551).createShapeObj,S=e(35855),P=e(48100);W.exports=function i(L,b,O,_){_||(_=0);var N=O.gd;function z(){i(L,b,O,_++),(h(L[0])||O.hasText)&&B({redrawing:!0})}function B(be){var Ae={};O.isActiveShape!==void 0&&(O.isActiveShape=!1,Ae=p(b,O)),O.isActiveSelection!==void 0&&(O.isActiveSelection=!1,Ae=S(b,O),N._fullLayout._reselect=!0),Object.keys(Ae).length&&y.call((be||{}).redrawing?"relayout":"_guiRelayout",N,Ae)}var U=N._fullLayout,F=U._zoomlayer,V=O.dragmode,j=T(V),$=v(V);(j||$)&&(N._fullLayout._outlining=!0),m(N),b.attr("d",l(L));var ne,oe,ce,Q,Z;if(!_&&(O.isActiveShape||O.isActiveSelection)){Z=x([],L);var K=F.append("g").attr("class","outline-controllers");he(K),Le()}if(j&&O.hasText){var J=F.select(".label-temp"),re=M(b,O,O.dragmode);P(N,"label-temp",re,J)}function le(be){ce=+be.srcElement.getAttribute("data-i"),Q=+be.srcElement.getAttribute("data-j"),ne[ce][Q].moveFn=q}function q(be,Ae){if(L.length){var He=Z[ce][Q][1],Ve=Z[ce][Q][2],ke=L[ce],Ge=ke.length;if(A(ke)){var it=be,et=Ae;if(O.isActiveSelection){var tt=E(ke,Q);tt[1]===ke[Q][1]?et=0:it=0}for(var at=0;at<Ge;at++)if(at!==Q){var vt=ke[at];vt[1]===ke[Q][1]&&(vt[1]=He+it),vt[2]===ke[Q][2]&&(vt[2]=Ve+et)}if(ke[Q][1]=He+it,ke[Q][2]=Ve+et,!A(ke))for(var yt=0;yt<Ge;yt++)for(var gt=0;gt<ke[yt].length;gt++)ke[yt][gt]=Z[ce][yt][gt]}else ke[Q][1]=He+be,ke[Q][2]=Ve+Ae;z()}}function ee(){B()}function ue(){if(L.length&&L[ce]&&L[ce].length){for(var be=[],Ae=0;Ae<L[ce].length;Ae++)Ae!==Q&&be.push(L[ce][Ae]);be.length>1&&!(be.length===2&&be[1][0]==="Z")&&(Q===0&&(be[0][0]="M"),L[ce]=be,z(),B())}}function se(be,Ae){if(be===2){ce=+Ae.srcElement.getAttribute("data-i"),Q=+Ae.srcElement.getAttribute("data-j");var He=L[ce];!A(He)&&!h(He)&&ue()}}function he(be){ne=[];for(var Ae=0;Ae<L.length;Ae++){var He=L[Ae],Ve=A(He),ke=!Ve&&h(He);ne[Ae]=[];for(var Ge=He.length,it=0;it<Ge;it++)if(He[it][0]!=="Z"&&!(ke&&it!==s&&it!==n&&it!==o&&it!==f)){var et=Ve&&O.isActiveSelection,tt;et&&(tt=E(He,it));var at=He[it][1],vt=He[it][2],yt=be.append(et?"rect":"circle").attr("data-i",Ae).attr("data-j",it).style({fill:t.background,stroke:t.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(et){var gt=tt[1]-at,Mt=tt[2]-vt,Ct=Mt?5:Math.max(Math.min(25,Math.abs(gt)-5),5),Vt=gt?5:Math.max(Math.min(25,Math.abs(Mt)-5),5);yt.classed(Mt?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",Ct).attr("height",Vt).attr("x",at-Ct/2).attr("y",vt-Vt/2).attr("transform",R(gt/2,Mt/2))}else yt.classed("cursor-grab",!0).attr("r",5).attr("cx",at).attr("cy",vt);ne[Ae][it]={element:yt.node(),gd:N,prepFn:le,doneFn:ee,clickFn:se},a.init(ne[Ae][it])}}}function me(be,Ae){if(L.length)for(var He=0;He<L.length;He++)for(var Ve=0;Ve<L[He].length;Ve++)for(var ke=0;ke+2<L[He][Ve].length;ke+=2)L[He][Ve][ke+1]=Z[He][Ve][ke+1]+be,L[He][Ve][ke+2]=Z[He][Ve][ke+2]+Ae}function Ce(be,Ae){me(be,Ae),z()}function Te(be){ce=+be.srcElement.getAttribute("data-i"),ce||(ce=0),oe[ce].moveFn=Ce}function Oe(){B()}function Ne(be){be===2&&w(N)}function Le(){if(oe=[],!!L.length){var be=0;oe[be]={element:b[0][0],gd:N,prepFn:Te,doneFn:Oe,clickFn:Ne},a.init(oe[be])}}};function x(i,L){for(var b=0;b<L.length;b++){var O=L[b];i[b]=[];for(var _=0;_<O.length;_++){i[b][_]=[];for(var N=0;N<O[_].length;N++)i[b][_][N]=O[_][N]}}return i}function E(i,L){var b=i[L][1],O=i[L][2],_=i.length,N,z,B;return N=(L+1)%_,z=i[N][1],B=i[N][2],z===b&&B===O&&(N=(L+2)%_,z=i[N][1],B=i[N][2]),[N,z,B]}function w(i){if(v(i._fullLayout.dragmode)){m(i);var L=i._fullLayout._activeSelectionIndex,b=(i.layout||{}).selections||[];if(L<b.length){for(var O=[],_=0;_<b.length;_++)_!==L&&O.push(b[_]);delete i._fullLayout._activeSelectionIndex;var N=i._fullLayout.selections[L];i._fullLayout._deselect={xref:N.xref,yref:N.yref},y.call("_guiRelayout",i,{selections:O})}}}},34031:function(W,H,e){var g=e(39898),R=e(73972),a=e(71828),C=e(89298),T=e(60165).readPaths,v=e(42359),y=e(48100),t=e(51873).clearOutlineControllers,r=e(7901),s=e(91424),n=e(44467).arrayEditor,o=e(28569),f=e(6964),u=e(21459),m=e(30477),c=m.getPathString;W.exports={draw:A,drawOne:p,eraseActiveShape:w,drawLabel:y};function A(i){var L=i._fullLayout;L._shapeUpperLayer.selectAll("path").remove(),L._shapeLowerLayer.selectAll("path").remove(),L._shapeUpperLayer.selectAll("text").remove(),L._shapeLowerLayer.selectAll("text").remove();for(var b in L._plots){var O=L._plots[b].shapelayer;O&&(O.selectAll("path").remove(),O.selectAll("text").remove())}for(var _=0;_<L.shapes.length;_++)L.shapes[_].visible===!0&&p(i,_)}function h(i){return!!i._fullLayout._outlining}function l(i){return!i._context.edits.shapePosition}function p(i,L){i._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+L+'"]').remove();var b=m.makeShapesOptionsAndPlotinfo(i,L),O=b.options,_=b.plotinfo;if(!O._input||O.visible!==!0)return;if(O.layer!=="below")z(i._fullLayout._shapeUpperLayer);else if(O.xref==="paper"||O.yref==="paper")z(i._fullLayout._shapeLowerLayer);else if(_._hadPlotinfo){var N=_.mainplotinfo||_;z(N.shapelayer)}else z(i._fullLayout._shapeLowerLayer);function z(B){var U=c(i,O),F={"data-index":L,"fill-rule":O.fillrule,d:U},V=O.opacity,j=O.fillcolor,$=O.line.width?O.line.color:"rgba(0,0,0,0)",ne=O.line.width,oe=O.line.dash;!ne&&O.editable===!0&&(ne=5,oe="solid");var ce=U[U.length-1]!=="Z",Q=l(i)&&O.editable&&i._fullLayout._activeShapeIndex===L;Q&&(j=ce?"rgba(0,0,0,0)":i._fullLayout.activeshape.fillcolor,V=i._fullLayout.activeshape.opacity);var Z=B.append("g").classed("shape-group",!0).attr({"data-index":L}),K=Z.append("path").attr(F).style("opacity",V).call(r.stroke,$).call(r.fill,j).call(s.dashLine,oe,ne);M(Z,i,O),y(i,L,O,Z);var J;if((Q||i._context.edits.shapePosition)&&(J=n(i.layout,"shapes",O)),Q){K.style({cursor:"move"});var re={element:K.node(),plotinfo:_,gd:i,editHelpers:J,hasText:O.label.text||O.label.texttemplate,isActiveShape:!0},le=T(U,i);v(le,K,re)}else i._context.edits.shapePosition?S(i,K,O,L,B,J):O.editable===!0&&K.style("pointer-events",ce||r.opacity(j)*V<=.5?"stroke":"all");K.node().addEventListener("click",function(){return x(i,K)})}}function M(i,L,b){var O=(b.xref+b.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");s.setClipUrl(i,O?"clip"+L._fullLayout._uid+O:null,L)}function S(i,L,b,O,_,N){var z=10,B=10,U=b.xsizemode==="pixel",F=b.ysizemode==="pixel",V=b.type==="line",j=b.type==="path",$=N.modifyItem,ne,oe,ce,Q,Z,K,J,re,le,q,ee,ue,se,he,me,Ce=g.select(L.node().parentNode),Te=C.getFromId(i,b.xref),Oe=C.getRefType(b.xref),Ne=C.getFromId(i,b.yref),Le=C.getRefType(b.yref),be=m.getDataToPixel(i,Te,!1,Oe),Ae=m.getDataToPixel(i,Ne,!0,Le),He=m.getPixelToData(i,Te,!1,Oe),Ve=m.getPixelToData(i,Ne,!0,Le),ke=et(),Ge={element:ke.node(),gd:i,prepFn:vt,doneFn:yt,clickFn:gt},it;o.init(Ge),ke.node().onmousemove=at;function et(){return V?tt():L}function tt(){var _e=10,Be=Math.max(b.line.width,_e),De=_.append("g").attr("data-index",O).attr("drag-helper",!0);De.append("path").attr("d",L.attr("d")).style({cursor:"move","stroke-width":Be,"stroke-opacity":"0"});var we={"fill-opacity":"0"},xe=Math.max(Be/2,_e);return De.append("circle").attr({"data-line-point":"start-point",cx:U?be(b.xanchor)+b.x0:be(b.x0),cy:F?Ae(b.yanchor)-b.y0:Ae(b.y0),r:xe}).style(we).classed("cursor-grab",!0),De.append("circle").attr({"data-line-point":"end-point",cx:U?be(b.xanchor)+b.x1:be(b.x1),cy:F?Ae(b.yanchor)-b.y1:Ae(b.y1),r:xe}).style(we).classed("cursor-grab",!0),De}function at(_e){if(h(i)){it=null;return}if(V)_e.target.tagName==="path"?it="move":it=_e.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var Be=Ge.element.getBoundingClientRect(),De=Be.right-Be.left,we=Be.bottom-Be.top,xe=_e.clientX-Be.left,Ee=_e.clientY-Be.top,Pe=!j&&De>z&&we>B&&!_e.shiftKey?o.getCursor(xe/De,1-Ee/we):"move";f(L,Pe),it=Pe.split("-")[0]}}function vt(_e){h(i)||(U&&(Z=be(b.xanchor)),F&&(K=Ae(b.yanchor)),b.type==="path"?me=b.path:(ne=U?b.x0:be(b.x0),oe=F?b.y0:Ae(b.y0),ce=U?b.x1:be(b.x1),Q=F?b.y1:Ae(b.y1)),ne<ce?(le=ne,se="x0",q=ce,he="x1"):(le=ce,se="x1",q=ne,he="x0"),!F&&oe<Q||F&&oe>Q?(J=oe,ee="y0",re=Q,ue="y1"):(J=Q,ee="y1",re=oe,ue="y0"),at(_e),Vt(_,b),ze(L,b,i),Ge.moveFn=it==="move"?Mt:Ct,Ge.altKey=_e.altKey)}function yt(){h(i)||(f(L),Je(_),M(L,i,b),R.call("_guiRelayout",i,N.getUpdateObj()))}function gt(){h(i)||Je(_)}function Mt(_e,Be){if(b.type==="path"){var De=function(Ee){return Ee},we=De,xe=De;U?$("xanchor",b.xanchor=He(Z+_e)):(we=function(Pe){return He(be(Pe)+_e)},Te&&Te.type==="date"&&(we=m.encodeDate(we))),F?$("yanchor",b.yanchor=Ve(K+Be)):(xe=function(Pe){return Ve(Ae(Pe)+Be)},Ne&&Ne.type==="date"&&(xe=m.encodeDate(xe))),$("path",b.path=P(me,we,xe))}else U?$("xanchor",b.xanchor=He(Z+_e)):($("x0",b.x0=He(ne+_e)),$("x1",b.x1=He(ce+_e))),F?$("yanchor",b.yanchor=Ve(K+Be)):($("y0",b.y0=Ve(oe+Be)),$("y1",b.y1=Ve(Q+Be)));L.attr("d",c(i,b)),Vt(_,b),y(i,O,b,Ce)}function Ct(_e,Be){if(j){var De=function(ut){return ut},we=De,xe=De;U?$("xanchor",b.xanchor=He(Z+_e)):(we=function(Yt){return He(be(Yt)+_e)},Te&&Te.type==="date"&&(we=m.encodeDate(we))),F?$("yanchor",b.yanchor=Ve(K+Be)):(xe=function(Yt){return Ve(Ae(Yt)+Be)},Ne&&Ne.type==="date"&&(xe=m.encodeDate(xe))),$("path",b.path=P(me,we,xe))}else if(V){if(it==="resize-over-start-point"){var Ee=ne+_e,Pe=F?oe-Be:oe+Be;$("x0",b.x0=U?Ee:He(Ee)),$("y0",b.y0=F?Pe:Ve(Pe))}else if(it==="resize-over-end-point"){var Ue=ce+_e,$e=F?Q-Be:Q+Be;$("x1",b.x1=U?Ue:He(Ue)),$("y1",b.y1=F?$e:Ve($e))}}else{var qe=function(ut){return it.indexOf(ut)!==-1},dt=qe("n"),bt=qe("s"),Gt=qe("w"),Qt=qe("e"),At=dt?J+Be:J,zt=bt?re+Be:re,$t=Gt?le+_e:le,Ar=Qt?q+_e:q;F&&(dt&&(At=J-Be),bt&&(zt=re-Be)),(!F&&zt-At>B||F&&At-zt>B)&&($(ee,b[ee]=F?At:Ve(At)),$(ue,b[ue]=F?zt:Ve(zt))),Ar-$t>z&&($(se,b[se]=U?$t:He($t)),$(he,b[he]=U?Ar:He(Ar)))}L.attr("d",c(i,b)),Vt(_,b),y(i,O,b,Ce)}function Vt(_e,Be){(U||F)&&De();function De(){var we=Be.type!=="path",xe=_e.selectAll(".visual-cue").data([0]),Ee=1;xe.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":Ee}).classed("visual-cue",!0);var Pe=be(U?Be.xanchor:a.midRange(we?[Be.x0,Be.x1]:m.extractPathCoords(Be.path,u.paramIsX))),Ue=Ae(F?Be.yanchor:a.midRange(we?[Be.y0,Be.y1]:m.extractPathCoords(Be.path,u.paramIsY)));if(Pe=m.roundPositionForSharpStrokeRendering(Pe,Ee),Ue=m.roundPositionForSharpStrokeRendering(Ue,Ee),U&&F){var $e="M"+(Pe-1-Ee)+","+(Ue-1-Ee)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";xe.attr("d",$e)}else if(U){var qe="M"+(Pe-1-Ee)+","+(Ue-9-Ee)+"v18 h2 v-18 Z";xe.attr("d",qe)}else{var dt="M"+(Pe-9-Ee)+","+(Ue-1-Ee)+"h18 v2 h-18 Z";xe.attr("d",dt)}}}function Je(_e){_e.selectAll(".visual-cue").remove()}function ze(_e,Be,De){var we=Be.xref,xe=Be.yref,Ee=C.getFromId(De,we),Pe=C.getFromId(De,xe),Ue="";we!=="paper"&&!Ee.autorange&&(Ue+=we),xe!=="paper"&&!Pe.autorange&&(Ue+=xe),s.setClipUrl(_e,Ue?"clip"+De._fullLayout._uid+Ue:null,De)}}function P(i,L,b){return i.replace(u.segmentRE,function(O){var _=0,N=O.charAt(0),z=u.paramIsX[N],B=u.paramIsY[N],U=u.numParams[N],F=O.substr(1).replace(u.paramRE,function(V){return _>=U||(z[_]?V=L(V):B[_]&&(V=b(V)),_++),V});return N+F})}function x(i,L){if(l(i)){var b=L.node(),O=+b.getAttribute("data-index");if(O>=0){if(O===i._fullLayout._activeShapeIndex){E(i);return}i._fullLayout._activeShapeIndex=O,i._fullLayout._deactivateShape=E,A(i)}}}function E(i){if(l(i)){var L=i._fullLayout._activeShapeIndex;L>=0&&(t(i),delete i._fullLayout._activeShapeIndex,A(i))}}function w(i){if(l(i)){t(i);var L=i._fullLayout._activeShapeIndex,b=(i.layout||{}).shapes||[];if(L<b.length){for(var O=[],_=0;_<b.length;_++)_!==L&&O.push(b[_]);return delete i._fullLayout._activeShapeIndex,R.call("_guiRelayout",i,{shapes:O})}}}},29241:function(W,H,e){var g=e(30962).overrideAll,R=e(9012),a=e(41940),C=e(79952).P,T=e(1426).extendFlat,v=e(5386).R,y=e(37281);W.exports=g({newshape:{visible:T({},R.visible,{}),showlegend:{valType:"boolean",dflt:!1},legend:T({},R.legend,{}),legendgroup:T({},R.legendgroup,{}),legendgrouptitle:{text:T({},R.legendgrouptitle.text,{}),font:a({})},legendrank:T({},R.legendrank,{}),legendwidth:T({},R.legendwidth,{}),line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:4},dash:T({},C,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd"},opacity:{valType:"number",min:0,max:1,dflt:1},layer:{valType:"enumerated",values:["below","above"],dflt:"above"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal"},name:T({},R.name,{}),label:{text:{valType:"string",dflt:""},texttemplate:v({newshape:!0},{keys:Object.keys(y)}),font:a({}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"]},textangle:{valType:"angle",dflt:"auto"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},padding:{valType:"number",dflt:3,min:0}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)"},opacity:{valType:"number",min:0,max:1,dflt:.5}}},"none","from-root")},89995:function(W){var H=32;W.exports={CIRCLE_SIDES:H,i000:0,i090:H/4,i180:H/2,i270:H/4*3,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},45547:function(W,H,e){var g=e(7901),R=e(71828);function a(C,T){return C?"bottom":T.indexOf("top")!==-1?"top":T.indexOf("bottom")!==-1?"bottom":"middle"}W.exports=function(T,v,y){y("newshape.visible"),y("newshape.name"),y("newshape.showlegend"),y("newshape.legend"),y("newshape.legendwidth"),y("newshape.legendgroup"),y("newshape.legendgrouptitle.text"),R.coerceFont(y,"newshape.legendgrouptitle.font"),y("newshape.legendrank"),y("newshape.drawdirection"),y("newshape.layer"),y("newshape.fillcolor"),y("newshape.fillrule"),y("newshape.opacity");var t=y("newshape.line.width");if(t){var r=(T||{}).plot_bgcolor||"#FFF";y("newshape.line.color",g.contrast(r)),y("newshape.line.dash")}var s=T.dragmode==="drawline",n=y("newshape.label.text"),o=y("newshape.label.texttemplate");if(n||o){y("newshape.label.textangle");var f=y("newshape.label.textposition",s?"middle":"middle center");y("newshape.label.xanchor"),y("newshape.label.yanchor",a(s,f)),y("newshape.label.padding"),R.coerceFont(y,"newshape.label.font",v.font)}y("activeshape.fillcolor"),y("activeshape.opacity")}},60165:function(W,H,e){var g=e(95616),R=e(89995),a=R.CIRCLE_SIDES,C=R.SQRT2,T=e(75549),v=T.p2r,y=T.r2p,t=[0,3,4,5,6,1,2],r=[0,3,4,1,2];H.writePaths=function(o){var f=o.length;if(!f)return"M0,0Z";for(var u="",m=0;m<f;m++)for(var c=o[m].length,A=0;A<c;A++){var h=o[m][A][0];if(h==="Z")u+="Z";else for(var l=o[m][A].length,p=0;p<l;p++){var M=p;h==="Q"||h==="S"?M=r[p]:h==="C"&&(M=t[p]),u+=o[m][A][M],p>0&&p<l-1&&(u+=",")}}return u},H.readPaths=function(o,f,u,m){var c=g(o),A=[],h=-1,l=function(){h++,A[h]=[]},p,M=0,S=0,P,x,E=function(){P=M,x=S};E();for(var w=0;w<c.length;w++){var i=[],L,b,O,_,N=c[w][0],z=N;switch(N){case"M":l(),M=+c[w][1],S=+c[w][2],i.push([z,M,S]),E();break;case"Q":case"S":L=+c[w][1],O=+c[w][2],M=+c[w][3],S=+c[w][4],i.push([z,M,S,L,O]);break;case"C":L=+c[w][1],O=+c[w][2],b=+c[w][3],_=+c[w][4],M=+c[w][5],S=+c[w][6],i.push([z,M,S,L,O,b,_]);break;case"T":case"L":M=+c[w][1],S=+c[w][2],i.push([z,M,S]);break;case"H":z="L",M=+c[w][1],i.push([z,M,S]);break;case"V":z="L",S=+c[w][1],i.push([z,M,S]);break;case"A":z="L";var B=+c[w][1],U=+c[w][2];+c[w][4]||(B=-B,U=-U);var F=M-B,V=S;for(p=1;p<=a/2;p++){var j=2*Math.PI*p/a;i.push([z,F+B*Math.cos(j),V+U*Math.sin(j)])}break;case"Z":(M!==P||S!==x)&&(M=P,S=x,i.push([z,M,S]));break}for(var $=(u||{}).domain,ne=f._fullLayout._size,oe=u&&u.xsizemode==="pixel",ce=u&&u.ysizemode==="pixel",Q=m===!1,Z=0;Z<i.length;Z++){for(p=0;p+2<7;p+=2){var K=i[Z][p+1],J=i[Z][p+2];K===void 0||J===void 0||(M=K,S=J,u&&(u.xaxis&&u.xaxis.p2r?(Q&&(K-=u.xaxis._offset),oe?K=y(u.xaxis,u.xanchor)+K:K=v(u.xaxis,K)):(Q&&(K-=ne.l),$?K=$.x[0]+K/ne.w:K=K/ne.w),u.yaxis&&u.yaxis.p2r?(Q&&(J-=u.yaxis._offset),ce?J=y(u.yaxis,u.yanchor)-J:J=v(u.yaxis,J)):(Q&&(J-=ne.t),$?J=$.y[1]-J/ne.h:J=1-J/ne.h)),i[Z][p+1]=K,i[Z][p+2]=J)}A[h].push(i[Z].slice())}}return A};function s(o,f){return Math.abs(o-f)<=1e-6}function n(o,f){var u=f[1]-o[1],m=f[2]-o[2];return Math.sqrt(u*u+m*m)}H.pointsOnRectangle=function(o){var f=o.length;if(f!==5)return!1;for(var u=1;u<3;u++){var m=o[0][u]-o[1][u],c=o[3][u]-o[2][u];if(!s(m,c))return!1;var A=o[0][u]-o[3][u],h=o[1][u]-o[2][u];if(!s(A,h))return!1}return!s(o[0][1],o[1][1])&&!s(o[0][1],o[3][1])?!1:!!(n(o[0],o[1])*n(o[0],o[3]))},H.pointsOnEllipse=function(o){var f=o.length;if(f!==a+1)return!1;f=a;for(var u=0;u<f;u++){var m=(f*2-u)%f,c=(f/2+m)%f,A=(f/2+u)%f;if(!s(n(o[u],o[A]),n(o[m],o[c])))return!1}return!0},H.handleEllipse=function(o,f,u){if(!o)return[f,u];var m=H.ellipseOver({x0:f[0],y0:f[1],x1:u[0],y1:u[1]}),c=(m.x1+m.x0)/2,A=(m.y1+m.y0)/2,h=(m.x1-m.x0)/2,l=(m.y1-m.y0)/2;h||(h=l=l/C),l||(l=h=h/C);for(var p=[],M=0;M<a;M++){var S=M*2*Math.PI/a;p.push([c+h*Math.cos(S),A+l*Math.sin(S)])}return p},H.ellipseOver=function(o){var f=o.x0,u=o.y0,m=o.x1,c=o.y1,A=m-f,h=c-u;f-=A,u-=h;var l=(f+m)/2,p=(u+c)/2,M=C;return A*=M,h*=M,{x0:l-A,y0:p-h,x1:l+A,y1:p+h}},H.fixDatesForPaths=function(o,f,u){var m=f.type==="date",c=u.type==="date";if(!m&&!c)return o;for(var A=0;A<o.length;A++)for(var h=0;h<o[A].length;h++)for(var l=0;l+2<o[A][h].length;l+=2)m&&(o[A][h][l+1]=o[A][h][l+1].replace(" ","_")),c&&(o[A][h][l+2]=o[A][h][l+2].replace(" ","_"));return o}},90551:function(W,H,e){var g=e(64505),R=g.drawMode,a=g.openMode,C=e(89995),T=C.i000,v=C.i090,y=C.i180,t=C.i270,r=C.cos45,s=C.sin45,n=e(75549),o=n.p2r,f=n.r2p,u=e(51873),m=u.clearOutline,c=e(60165),A=c.readPaths,h=c.writePaths,l=c.ellipseOver,p=c.fixDatesForPaths;function M(P,x){if(P.length){var E=P[0][0];if(E){var w=x.gd,i=x.isActiveShape,L=x.dragmode,b=(w.layout||{}).shapes||[];if(!R(L)&&i!==void 0){var O=w._fullLayout._activeShapeIndex;if(O<b.length)switch(w._fullLayout.shapes[O].type){case"rect":L="drawrect";break;case"circle":L="drawcircle";break;case"line":L="drawline";break;case"path":var _=b[O].path||"";_[_.length-1]==="Z"?L="drawclosedpath":L="drawopenpath";break}}var N=S(P,x,L);m(w);for(var z=x.editHelpers,B=(z||{}).modifyItem,U=[],F=0;F<b.length;F++){var V=w._fullLayout.shapes[F];if(U[F]=V._input,i!==void 0&&F===w._fullLayout._activeShapeIndex){var j=N;switch(V.type){case"line":case"rect":case"circle":B("x0",j.x0),B("x1",j.x1),B("y0",j.y0),B("y1",j.y1);break;case"path":B("path",j.path);break}}}return i===void 0?(U.push(N),U):z?z.getUpdateObj():{}}}}function S(P,x,E){var w=P[0][0],i=x.gd,L=w.getAttribute("d"),b=i._fullLayout.newshape,O=x.plotinfo,_=x.isActiveShape,N=O.xaxis,z=O.yaxis,B=!!O.domain||!O.xaxis,U=!!O.domain||!O.yaxis,F=a(E),V=A(L,i,O,_),j={editable:!0,visible:b.visible,name:b.name,showlegend:b.showlegend,legend:b.legend,legendwidth:b.legendwidth,legendgroup:b.legendgroup,legendgrouptitle:{text:b.legendgrouptitle.text,font:b.legendgrouptitle.font},legendrank:b.legendrank,label:b.label,xref:B?"paper":N._id,yref:U?"paper":z._id,layer:b.layer,opacity:b.opacity,line:{color:b.line.color,width:b.line.width,dash:b.line.dash}};F||(j.fillcolor=b.fillcolor,j.fillrule=b.fillrule);var $;if(V.length===1&&($=V[0]),$&&$.length===5&&E==="drawrect")j.type="rect",j.x0=$[0][1],j.y0=$[0][2],j.x1=$[2][1],j.y1=$[2][2];else if($&&E==="drawline")j.type="line",j.x0=$[0][1],j.y0=$[0][2],j.x1=$[1][1],j.y1=$[1][2];else if($&&E==="drawcircle"){j.type="circle";var ne=$[T][1],oe=$[v][1],ce=$[y][1],Q=$[t][1],Z=$[T][2],K=$[v][2],J=$[y][2],re=$[t][2],le=O.xaxis&&(O.xaxis.type==="date"||O.xaxis.type==="log"),q=O.yaxis&&(O.yaxis.type==="date"||O.yaxis.type==="log");le&&(ne=f(O.xaxis,ne),oe=f(O.xaxis,oe),ce=f(O.xaxis,ce),Q=f(O.xaxis,Q)),q&&(Z=f(O.yaxis,Z),K=f(O.yaxis,K),J=f(O.yaxis,J),re=f(O.yaxis,re));var ee=(oe+Q)/2,ue=(Z+J)/2,se=(Q-oe+ce-ne)/2,he=(re-K+J-Z)/2,me=l({x0:ee,y0:ue,x1:ee+se*r,y1:ue+he*s});le&&(me.x0=o(O.xaxis,me.x0),me.x1=o(O.xaxis,me.x1)),q&&(me.y0=o(O.yaxis,me.y0),me.y1=o(O.yaxis,me.y1)),j.x0=me.x0,j.y0=me.y0,j.x1=me.x1,j.y1=me.y1}else j.type="path",N&&z&&p(V,N,z),j.path=h(V),$=null;return j}W.exports={newShapes:M,createShapeObj:S}},51873:function(W){function H(g){var R=g._fullLayout._zoomlayer;R&&R.selectAll(".outline-controllers").remove()}function e(g){var R=g._fullLayout._zoomlayer;R&&R.selectAll(".select-outline").remove(),g._fullLayout._outlining=!1}W.exports={clearOutlineControllers:H,clearOutline:e}},30477:function(W,H,e){var g=e(21459),R=e(71828),a=e(89298);H.rangeToShapePosition=function(T){return T.type==="log"?T.r2d:function(v){return v}},H.shapePositionToRange=function(T){return T.type==="log"?T.d2r:function(v){return v}},H.decodeDate=function(T){return function(v){return v.replace&&(v=v.replace("_"," ")),T(v)}},H.encodeDate=function(T){return function(v){return T(v).replace(" ","_")}},H.extractPathCoords=function(T,v,y){var t=[],r=T.match(g.segmentRE);return r.forEach(function(s){var n=v[s.charAt(0)].drawn;if(n!==void 0){var o=s.substr(1).match(g.paramRE);if(!(!o||o.length<n)){var f=o[n],u=y?f:R.cleanNumber(f);t.push(u)}}}),t},H.getDataToPixel=function(T,v,y,t){var r=T._fullLayout._size,s;if(v)if(t==="domain")s=function(o){return v._length*(y?1-o:o)+v._offset};else{var n=H.shapePositionToRange(v);s=function(o){return v._offset+v.r2p(n(o,!0))},v.type==="date"&&(s=H.decodeDate(s))}else y?s=function(o){return r.t+r.h*(1-o)}:s=function(o){return r.l+r.w*o};return s},H.getPixelToData=function(T,v,y,t){var r=T._fullLayout._size,s;if(v)if(t==="domain")s=function(o){var f=(o-v._offset)/v._length;return y?1-f:f};else{var n=H.rangeToShapePosition(v);s=function(o){return n(v.p2r(o-v._offset))}}else y?s=function(o){return 1-(o-r.t)/r.h}:s=function(o){return(o-r.l)/r.w};return s},H.roundPositionForSharpStrokeRendering=function(T,v){var y=Math.round(v%2)===1,t=Math.round(T);return y?t+.5:t},H.makeShapesOptionsAndPlotinfo=function(T,v){var y=T._fullLayout.shapes[v]||{},t=T._fullLayout._plots[y.xref+y.yref],r=!!t;return r?t._hadPlotinfo=!0:(t={},y.xref&&y.xref!=="paper"&&(t.xaxis=T._fullLayout[y.xref+"axis"]),y.yref&&y.yref!=="paper"&&(t.yaxis=T._fullLayout[y.yref+"axis"])),t.xsizemode=y.xsizemode,t.ysizemode=y.ysizemode,t.xanchor=y.xanchor,t.yanchor=y.yanchor,{options:y,plotinfo:t}},H.makeSelectionsOptionsAndPlotinfo=function(T,v){var y=T._fullLayout.selections[v]||{},t=T._fullLayout._plots[y.xref+y.yref],r=!!t;return r?t._hadPlotinfo=!0:(t={},y.xref&&(t.xaxis=T._fullLayout[y.xref+"axis"]),y.yref&&(t.yaxis=T._fullLayout[y.yref+"axis"])),{options:y,plotinfo:t}},H.getPathString=function(T,v){var y=v.type,t=a.getRefType(v.xref),r=a.getRefType(v.yref),s=a.getFromId(T,v.xref),n=a.getFromId(T,v.yref),o=T._fullLayout._size,f,u,m,c,A,h,l,p;if(s?t==="domain"?u=function(O){return s._offset+s._length*O}:(f=H.shapePositionToRange(s),u=function(O){return s._offset+s.r2p(f(O,!0))}):u=function(O){return o.l+o.w*O},n?r==="domain"?c=function(O){return n._offset+n._length*(1-O)}:(m=H.shapePositionToRange(n),c=function(O){return n._offset+n.r2p(m(O,!0))}):c=function(O){return o.t+o.h*(1-O)},y==="path")return s&&s.type==="date"&&(u=H.decodeDate(u)),n&&n.type==="date"&&(c=H.decodeDate(c)),C(v,u,c);if(v.xsizemode==="pixel"){var M=u(v.xanchor);A=M+v.x0,h=M+v.x1}else A=u(v.x0),h=u(v.x1);if(v.ysizemode==="pixel"){var S=c(v.yanchor);l=S-v.y0,p=S-v.y1}else l=c(v.y0),p=c(v.y1);if(y==="line")return"M"+A+","+l+"L"+h+","+p;if(y==="rect")return"M"+A+","+l+"H"+h+"V"+p+"H"+A+"Z";var P=(A+h)/2,x=(l+p)/2,E=Math.abs(P-A),w=Math.abs(x-l),i="A"+E+","+w,L=P+E+","+x,b=P+","+(x-w);return"M"+L+i+" 0 1,1 "+b+i+" 0 0,1 "+L+"Z"};function C(T,v,y){var t=T.path,r=T.xsizemode,s=T.ysizemode,n=T.xanchor,o=T.yanchor;return t.replace(g.segmentRE,function(f){var u=0,m=f.charAt(0),c=g.paramIsX[m],A=g.paramIsY[m],h=g.numParams[m],l=f.substr(1).replace(g.paramRE,function(p){return c[u]?r==="pixel"?p=v(n)+Number(p):p=v(p):A[u]&&(s==="pixel"?p=y(o)-Number(p):p=y(p)),u++,u>h&&(p="X"),p});return u>h&&(l=l.replace(/[\s,]*X.*/,""),R.log("Ignoring extra params in segment "+f)),m+l})}},89853:function(W,H,e){var g=e(34031);W.exports={moduleType:"component",name:"shapes",layoutAttributes:e(89827),supplyLayoutDefaults:e(84726),supplyDrawNewShapeDefaults:e(45547),includeBasePlot:e(76325)("shapes"),calcAutorange:e(5627),draw:g.draw,drawOne:g.drawOne}},37281:function(W){function H(f,u){return u?u.d2l(f):f}function e(f,u){return u?u.l2d(f):f}function g(f){return f.x0}function R(f){return f.x1}function a(f){return f.y0}function C(f){return f.y1}function T(f,u){return H(f.x1,u)-H(f.x0,u)}function v(f,u,m){return H(f.y1,m)-H(f.y0,m)}function y(f,u){return Math.abs(T(f,u))}function t(f,u,m){return Math.abs(v(f,u,m))}function r(f,u,m){return f.type!=="line"?void 0:Math.sqrt(Math.pow(T(f,u),2)+Math.pow(v(f,u,m),2))}function s(f,u){return e((H(f.x1,u)+H(f.x0,u))/2,u)}function n(f,u,m){return e((H(f.y1,m)+H(f.y0,m))/2,m)}function o(f,u,m){return f.type!=="line"?void 0:v(f,u,m)/T(f,u)}W.exports={x0:g,x1:R,y0:a,y1:C,slope:o,dx:T,dy:v,width:y,height:t,length:r,xcenter:s,ycenter:n}},75067:function(W,H,e){var g=e(41940),R=e(35025),a=e(1426).extendDeepAll,C=e(30962).overrideAll,T=e(85594),v=e(44467).templatedArray,y=e(98292),t=v("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});W.exports=C(v("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:t,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:a(R({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:T.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:g({})},font:g({}),activebgcolor:{valType:"color",dflt:y.gripBgActiveColor},bgcolor:{valType:"color",dflt:y.railBgColor},bordercolor:{valType:"color",dflt:y.railBorderColor},borderwidth:{valType:"number",min:0,dflt:y.railBorderWidth},ticklen:{valType:"number",min:0,dflt:y.tickLength},tickcolor:{valType:"color",dflt:y.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:y.minorTickLength}}),"arraydraw","from-root")},98292:function(W){W.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},12343:function(W,H,e){var g=e(71828),R=e(85501),a=e(75067),C=e(98292),T=C.name,v=a.steps;W.exports=function(s,n){R(s,n,{name:T,handleItemDefaults:y})};function y(r,s,n){function o(p,M){return g.coerce(r,s,a,p,M)}for(var f=R(r,s,{name:"steps",handleItemDefaults:t}),u=0,m=0;m<f.length;m++)f[m].visible&&u++;var c;if(u<2?c=s.visible=!1:c=o("visible"),!!c){s._stepCount=u;var A=s._visibleSteps=g.filterVisible(f),h=o("active");(f[h]||{}).visible||(s.active=A[0]._index),o("x"),o("y"),g.noneOrAll(r,s,["x","y"]),o("xanchor"),o("yanchor"),o("len"),o("lenmode"),o("pad.t"),o("pad.r"),o("pad.b"),o("pad.l"),g.coerceFont(o,"font",n.font);var l=o("currentvalue.visible");l&&(o("currentvalue.xanchor"),o("currentvalue.prefix"),o("currentvalue.suffix"),o("currentvalue.offset"),g.coerceFont(o,"currentvalue.font",s.font)),o("transition.duration"),o("transition.easing"),o("bgcolor"),o("activebgcolor"),o("bordercolor"),o("borderwidth"),o("ticklen"),o("tickwidth"),o("tickcolor"),o("minorticklen")}}function t(r,s){function n(u,m){return g.coerce(r,s,v,u,m)}var o;if(r.method!=="skip"&&!Array.isArray(r.args)?o=s.visible=!1:o=n("visible"),o){n("method"),n("args");var f=n("label","step-"+s._index);n("value",f),n("execute")}}},44504:function(W,H,e){var g=e(39898),R=e(74875),a=e(7901),C=e(91424),T=e(71828),v=T.strTranslate,y=e(63893),t=e(44467).arrayEditor,r=e(98292),s=e(18783),n=s.LINE_SPACING,o=s.FROM_TL,f=s.FROM_BR;W.exports=function(B){var U=B._context.staticPlot,F=B._fullLayout,V=m(F,B),j=F._infolayer.selectAll("g."+r.containerClassName).data(V.length>0?[0]:[]);j.enter().append("g").classed(r.containerClassName,!0).style("cursor",U?null:"ew-resize");function $(Q){Q._commandObserver&&(Q._commandObserver.remove(),delete Q._commandObserver),R.autoMargin(B,u(Q))}if(j.exit().each(function(){g.select(this).selectAll("g."+r.groupClassName).each($)}).remove(),V.length!==0){var ne=j.selectAll("g."+r.groupClassName).data(V,c);ne.enter().append("g").classed(r.groupClassName,!0),ne.exit().each($).remove();for(var oe=0;oe<V.length;oe++){var ce=V[oe];A(B,ce)}ne.each(function(Q){var Z=g.select(this);i(Q),R.manageCommandObserver(B,Q,Q._visibleSteps,function(K){var J=Z.data()[0];J.active!==K.index&&(J._dragging||x(B,Z,J,K.index,!1,!0))}),h(B,g.select(this),Q)})}};function u(z){return r.autoMarginIdRoot+z._index}function m(z,B){for(var U=z[r.name],F=[],V=0;V<U.length;V++){var j=U[V];j.visible&&(j._gd=B,F.push(j))}return F}function c(z){return z._index}function A(z,B){var U=C.tester.selectAll("g."+r.labelGroupClass).data(B._visibleSteps);U.enter().append("g").classed(r.labelGroupClass,!0);var F=0,V=0;U.each(function(re){var le=g.select(this),q=M(le,{step:re},B),ee=q.node();if(ee){var ue=C.bBox(ee);V=Math.max(V,ue.height),F=Math.max(F,ue.width)}}),U.remove();var j=B._dims={};j.inputAreaWidth=Math.max(r.railWidth,r.gripHeight);var $=z._fullLayout._size;j.lx=$.l+$.w*B.x,j.ly=$.t+$.h*(1-B.y),B.lenmode==="fraction"?j.outerLength=Math.round($.w*B.len):j.outerLength=B.len,j.inputAreaStart=0,j.inputAreaLength=Math.round(j.outerLength-B.pad.l-B.pad.r);var ne=j.inputAreaLength-2*r.stepInset,oe=ne/(B._stepCount-1),ce=F+r.labelPadding;if(j.labelStride=Math.max(1,Math.ceil(ce/oe)),j.labelHeight=V,j.currentValueMaxWidth=0,j.currentValueHeight=0,j.currentValueTotalHeight=0,j.currentValueMaxLines=1,B.currentvalue.visible){var Q=C.tester.append("g");U.each(function(re){var le=l(Q,B,re.label),q=le.node()&&C.bBox(le.node())||{width:0,height:0},ee=y.lineCount(le);j.currentValueMaxWidth=Math.max(j.currentValueMaxWidth,Math.ceil(q.width)),j.currentValueHeight=Math.max(j.currentValueHeight,Math.ceil(q.height)),j.currentValueMaxLines=Math.max(j.currentValueMaxLines,ee)}),j.currentValueTotalHeight=j.currentValueHeight+B.currentvalue.offset,Q.remove()}j.height=j.currentValueTotalHeight+r.tickOffset+B.ticklen+r.labelOffset+j.labelHeight+B.pad.t+B.pad.b;var Z="left";T.isRightAnchor(B)&&(j.lx-=j.outerLength,Z="right"),T.isCenterAnchor(B)&&(j.lx-=j.outerLength/2,Z="center");var K="top";T.isBottomAnchor(B)&&(j.ly-=j.height,K="bottom"),T.isMiddleAnchor(B)&&(j.ly-=j.height/2,K="middle"),j.outerLength=Math.ceil(j.outerLength),j.height=Math.ceil(j.height),j.lx=Math.round(j.lx),j.ly=Math.round(j.ly);var J={y:B.y,b:j.height*f[K],t:j.height*o[K]};B.lenmode==="fraction"?(J.l=0,J.xl=B.x-B.len*o[Z],J.r=0,J.xr=B.x+B.len*f[Z]):(J.x=B.x,J.l=j.outerLength*o[Z],J.r=j.outerLength*f[Z]),R.autoMargin(z,u(B),J)}function h(z,B,U){(U.steps[U.active]||{}).visible||(U.active=U._visibleSteps[0]._index),B.call(l,U).call(N,U).call(S,U).call(w,U).call(_,z,U).call(p,z,U);var F=U._dims;C.setTranslate(B,F.lx+U.pad.l,F.ly+U.pad.t),B.call(L,U,!1),B.call(l,U)}function l(z,B,U){if(B.currentvalue.visible){var F=B._dims,V,j;switch(B.currentvalue.xanchor){case"right":V=F.inputAreaLength-r.currentValueInset-F.currentValueMaxWidth,j="left";break;case"center":V=F.inputAreaLength*.5,j="middle";break;default:V=r.currentValueInset,j="left"}var $=T.ensureSingle(z,"text",r.labelClass,function(K){K.attr({"text-anchor":j,"data-notex":1})}),ne=B.currentvalue.prefix?B.currentvalue.prefix:"";if(typeof U=="string")ne+=U;else{var oe=B.steps[B.active].label,ce=B._gd._fullLayout._meta;ce&&(oe=T.templateString(oe,ce)),ne+=oe}B.currentvalue.suffix&&(ne+=B.currentvalue.suffix),$.call(C.font,B.currentvalue.font).text(ne).call(y.convertToTspans,B._gd);var Q=y.lineCount($),Z=(F.currentValueMaxLines+1-Q)*B.currentvalue.font.size*n;return y.positionText($,V,Z),$}}function p(z,B,U){var F=T.ensureSingle(z,"rect",r.gripRectClass,function(V){V.call(E,B,z,U).style("pointer-events","all")});F.attr({width:r.gripWidth,height:r.gripHeight,rx:r.gripRadius,ry:r.gripRadius}).call(a.stroke,U.bordercolor).call(a.fill,U.bgcolor).style("stroke-width",U.borderwidth+"px")}function M(z,B,U){var F=T.ensureSingle(z,"text",r.labelClass,function($){$.attr({"text-anchor":"middle","data-notex":1})}),V=B.step.label,j=U._gd._fullLayout._meta;return j&&(V=T.templateString(V,j)),F.call(C.font,U.font).text(V).call(y.convertToTspans,U._gd),F}function S(z,B){var U=T.ensureSingle(z,"g",r.labelsClass),F=B._dims,V=U.selectAll("g."+r.labelGroupClass).data(F.labelSteps);V.enter().append("g").classed(r.labelGroupClass,!0),V.exit().remove(),V.each(function(j){var $=g.select(this);$.call(M,j,B),C.setTranslate($,b(B,j.fraction),r.tickOffset+B.ticklen+B.font.size*n+r.labelOffset+F.currentValueTotalHeight)})}function P(z,B,U,F,V){var j=Math.round(F*(U._stepCount-1)),$=U._visibleSteps[j]._index;$!==U.active&&x(z,B,U,$,!0,V)}function x(z,B,U,F,V,j){var $=U.active;U.active=F,t(z.layout,r.name,U).applyUpdate("active",F);var ne=U.steps[U.active];B.call(L,U,j),B.call(l,U),z.emit("plotly_sliderchange",{slider:U,step:U.steps[U.active],interaction:V,previousActive:$}),ne&&ne.method&&V&&(B._nextMethod?(B._nextMethod.step=ne,B._nextMethod.doCallback=V,B._nextMethod.doTransition=j):(B._nextMethod={step:ne,doCallback:V,doTransition:j},B._nextMethodRaf=window.requestAnimationFrame(function(){var oe=B._nextMethod.step;oe.method&&(oe.execute&&R.executeAPICommand(z,oe.method,oe.args),B._nextMethod=null,B._nextMethodRaf=null)})))}function E(z,B,U){if(B._context.staticPlot)return;var F=U.node(),V=g.select(B);function j(){return U.data()[0]}function $(){var ne=j();B.emit("plotly_sliderstart",{slider:ne});var oe=U.select("."+r.gripRectClass);g.event.stopPropagation(),g.event.preventDefault(),oe.call(a.fill,ne.activebgcolor);var ce=O(ne,g.mouse(F)[0]);P(B,U,ne,ce,!0),ne._dragging=!0;function Q(){var K=j(),J=O(K,g.mouse(F)[0]);P(B,U,K,J,!1)}V.on("mousemove",Q),V.on("touchmove",Q);function Z(){var K=j();K._dragging=!1,oe.call(a.fill,K.bgcolor),V.on("mouseup",null),V.on("mousemove",null),V.on("touchend",null),V.on("touchmove",null),B.emit("plotly_sliderend",{slider:K,step:K.steps[K.active]})}V.on("mouseup",Z),V.on("touchend",Z)}z.on("mousedown",$),z.on("touchstart",$)}function w(z,B){var U=z.selectAll("rect."+r.tickRectClass).data(B._visibleSteps),F=B._dims;U.enter().append("rect").classed(r.tickRectClass,!0),U.exit().remove(),U.attr({width:B.tickwidth+"px","shape-rendering":"crispEdges"}),U.each(function(V,j){var $=j%F.labelStride===0,ne=g.select(this);ne.attr({height:$?B.ticklen:B.minorticklen}).call(a.fill,B.tickcolor),C.setTranslate(ne,b(B,j/(B._stepCount-1))-.5*B.tickwidth,($?r.tickOffset:r.minorTickOffset)+F.currentValueTotalHeight)})}function i(z){var B=z._dims;B.labelSteps=[];for(var U=z._stepCount,F=0;F<U;F+=B.labelStride)B.labelSteps.push({fraction:F/(U-1),step:z._visibleSteps[F]})}function L(z,B,U){for(var F=z.select("rect."+r.gripRectClass),V=0,j=0;j<B._stepCount;j++)if(B._visibleSteps[j]._index===B.active){V=j;break}var $=b(B,V/(B._stepCount-1));if(!B._invokingCommand){var ne=F;U&&B.transition.duration>0&&(ne=ne.transition().duration(B.transition.duration).ease(B.transition.easing)),ne.attr("transform",v($-r.gripWidth*.5,B._dims.currentValueTotalHeight))}}function b(z,B){var U=z._dims;return U.inputAreaStart+r.stepInset+(U.inputAreaLength-2*r.stepInset)*Math.min(1,Math.max(0,B))}function O(z,B){var U=z._dims;return Math.min(1,Math.max(0,(B-r.stepInset-U.inputAreaStart)/(U.inputAreaLength-2*r.stepInset-2*U.inputAreaStart)))}function _(z,B,U){var F=U._dims,V=T.ensureSingle(z,"rect",r.railTouchRectClass,function(j){j.call(E,B,z,U).style("pointer-events","all")});V.attr({width:F.inputAreaLength,height:Math.max(F.inputAreaWidth,r.tickOffset+U.ticklen+F.labelHeight)}).call(a.fill,U.bgcolor).attr("opacity",0),C.setTranslate(V,0,F.currentValueTotalHeight)}function N(z,B){var U=B._dims,F=U.inputAreaLength-r.railInset*2,V=T.ensureSingle(z,"rect",r.railRectClass);V.attr({width:F,height:r.railWidth,rx:r.railRadius,ry:r.railRadius,"shape-rendering":"crispEdges"}).call(a.stroke,B.bordercolor).call(a.fill,B.bgcolor).style("stroke-width",B.borderwidth+"px"),C.setTranslate(V,r.railInset,(U.inputAreaWidth-r.railWidth)*.5+U.currentValueTotalHeight)}},23243:function(W,H,e){var g=e(98292);W.exports={moduleType:"component",name:g.name,layoutAttributes:e(75067),supplyLayoutDefaults:e(12343),draw:e(44504)}},92998:function(W,H,e){var g=e(39898),R=e(92770),a=e(74875),C=e(73972),T=e(71828),v=T.strTranslate,y=e(91424),t=e(7901),r=e(63893),s=e(37822),n=e(18783).OPPOSITE_SIDE,o=/ [XY][0-9]* /;function f(u,m,c){var A=c.propContainer,h=c.propName,l=c.placeholder,p=c.traceIndex,M=c.avoid||{},S=c.attributes,P=c.transform,x=c.containerGroup,E=u._fullLayout,w=1,i=!1,L=A.title,b=(L&&L.text?L.text:"").trim(),O=L&&L.font?L.font:{},_=O.family,N=O.size,z=O.color,B;h==="title.text"?B="titleText":h.indexOf("axis")!==-1?B="axisTitleText":h.indexOf("colorbar"!==-1)&&(B="colorbarTitleText");var U=u._context.edits[B];b===""?w=0:b.replace(o," % ")===l.replace(o," % ")&&(w=.2,i=!0,U||(b="")),c._meta?b=T.templateString(b,c._meta):E._meta&&(b=T.templateString(b,E._meta));var F=b||U,V;x||(x=T.ensureSingle(E._infolayer,"g","g-"+m),V=E._hColorbarMoveTitle);var j=x.selectAll("text").data(F?[0]:[]);if(j.enter().append("text"),j.text(b).attr("class",m),j.exit().remove(),!F)return x;function $(Q){T.syncOrAsync([ne,oe],Q)}function ne(Q){var Z;return!P&&V&&(P={}),P?(Z="",P.rotate&&(Z+="rotate("+[P.rotate,S.x,S.y]+")"),(P.offset||V)&&(Z+=v(0,(P.offset||0)-(V||0)))):Z=null,Q.attr("transform",Z),Q.style({"font-family":_,"font-size":g.round(N,2)+"px",fill:t.rgb(z),opacity:w*t.opacity(z),"font-weight":a.fontWeight}).attr(S).call(r.convertToTspans,u),a.previousPromises(u)}function oe(Q){var Z=g.select(Q.node().parentNode);if(M&&M.selection&&M.side&&b){Z.attr("transform",null);var K=n[M.side],J=M.side==="left"||M.side==="top"?-1:1,re=R(M.pad)?M.pad:2,le=y.bBox(Z.node()),q={t:0,b:0,l:0,r:0},ee=u._fullLayout._reservedMargin;for(var ue in ee)for(var se in ee[ue]){var he=ee[ue][se];q[se]=Math.max(q[se],he)}var me={left:q.l,top:q.t,right:E.width-q.r,bottom:E.height-q.b},Ce=M.maxShift||J*(me[M.side]-le[M.side]),Te=0;if(Ce<0)Te=Ce;else{var Oe=M.offsetLeft||0,Ne=M.offsetTop||0;le.left-=Oe,le.right-=Oe,le.top-=Ne,le.bottom-=Ne,M.selection.each(function(){var be=y.bBox(this);T.bBoxIntersect(le,be,re)&&(Te=Math.max(Te,J*(be[M.side]-le[K])+re))}),Te=Math.min(Ce,Te),A._titleScoot=Math.abs(Te)}if(Te>0||Ce<0){var Le={left:[-Te,0],right:[Te,0],top:[0,-Te],bottom:[0,Te]}[M.side];Z.attr("transform",v(Le[0],Le[1]))}}}j.call($);function ce(){w=0,i=!0,j.text(l).on("mouseover.opacity",function(){g.select(this).transition().duration(s.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){g.select(this).transition().duration(s.HIDE_PLACEHOLDER).style("opacity",0)})}return U&&(b?j.on(".opacity",null):ce(),j.call(r.makeEditable,{gd:u}).on("edit",function(Q){p!==void 0?C.call("_guiRestyle",u,h,Q,p):C.call("_guiRelayout",u,h,Q)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call($)}).on("input",function(Q){this.text(Q||" ").call(r.positionText,S.x,S.y)})),j.classed("js-placeholder",i),x}W.exports={draw:f}},7163:function(W,H,e){var g=e(41940),R=e(22399),a=e(1426).extendFlat,C=e(30962).overrideAll,T=e(35025),v=e(44467).templatedArray,y=v("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});W.exports=C(v("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:y,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:a(T({editType:"arraydraw"}),{}),font:g({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:R.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},75909:function(W){W.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"",right:"",up:"",down:""}}},64897:function(W,H,e){var g=e(71828),R=e(85501),a=e(7163),C=e(75909),T=C.name,v=a.buttons;W.exports=function(s,n){var o={name:T,handleItemDefaults:y};R(s,n,o)};function y(r,s,n){function o(m,c){return g.coerce(r,s,a,m,c)}var f=R(r,s,{name:"buttons",handleItemDefaults:t}),u=o("visible",f.length>0);u&&(o("active"),o("direction"),o("type"),o("showactive"),o("x"),o("y"),g.noneOrAll(r,s,["x","y"]),o("xanchor"),o("yanchor"),o("pad.t"),o("pad.r"),o("pad.b"),o("pad.l"),g.coerceFont(o,"font",n.font),o("bgcolor",n.paper_bgcolor),o("bordercolor"),o("borderwidth"))}function t(r,s){function n(f,u){return g.coerce(r,s,v,f,u)}var o=n("visible",r.method==="skip"||Array.isArray(r.args));o&&(n("method"),n("args"),n("args2"),n("label"),n("execute"))}},13689:function(W,H,e){var g=e(39898),R=e(74875),a=e(7901),C=e(91424),T=e(71828),v=e(63893),y=e(44467).arrayEditor,t=e(18783).LINE_SPACING,r=e(75909),s=e(25849);W.exports=function(O){var _=O._fullLayout,N=T.filterVisible(_[r.name]);function z(oe){R.autoMargin(O,w(oe))}var B=_._menulayer.selectAll("g."+r.containerClassName).data(N.length>0?[0]:[]);if(B.enter().append("g").classed(r.containerClassName,!0).style("cursor","pointer"),B.exit().each(function(){g.select(this).selectAll("g."+r.headerGroupClassName).each(z)}).remove(),N.length!==0){var U=B.selectAll("g."+r.headerGroupClassName).data(N,n);U.enter().append("g").classed(r.headerGroupClassName,!0);for(var F=T.ensureSingle(B,"g",r.dropdownButtonGroupClassName,function(oe){oe.style("pointer-events","all")}),V=0;V<N.length;V++){var j=N[V];E(O,j)}var $="updatemenus"+_._uid,ne=new s(O,F,$);U.enter().size()&&(F.node().parentNode.appendChild(F.node()),F.call(L)),U.exit().each(function(oe){F.call(L),z(oe)}).remove(),U.each(function(oe){var ce=g.select(this),Q=oe.type==="dropdown"?F:null;R.manageCommandObserver(O,oe,oe.buttons,function(Z){u(O,oe,oe.buttons[Z.index],ce,Q,ne,Z.index,!0)}),oe.type==="dropdown"?(m(O,ce,F,ne,oe),f(F,oe)&&c(O,ce,F,ne,oe)):c(O,ce,null,null,oe)})}};function n(b){return b._index}function o(b){return+b.attr(r.menuIndexAttrName)==-1}function f(b,O){return+b.attr(r.menuIndexAttrName)===O._index}function u(b,O,_,N,z,B,U,F){O.active=U,y(b.layout,r.name,O).applyUpdate("active",U),O.type==="buttons"?c(b,N,null,null,O):O.type==="dropdown"&&(z.attr(r.menuIndexAttrName,"-1"),m(b,N,z,B,O),F||c(b,N,z,B,O))}function m(b,O,_,N,z){var B=T.ensureSingle(O,"g",r.headerClassName,function(oe){oe.style("pointer-events","all")}),U=z._dims,F=z.active,V=z.buttons[F]||r.blankHeaderOpts,j={y:z.pad.t,yPad:0,x:z.pad.l,xPad:0,index:0},$={width:U.headerWidth,height:U.headerHeight};B.call(l,z,V,b).call(i,z,j,$);var ne=T.ensureSingle(O,"text",r.headerArrowClassName,function(oe){oe.attr("text-anchor","end").call(C.font,z.font).text(r.arrowSymbol[z.direction])});ne.attr({x:U.headerWidth-r.arrowOffsetX+z.pad.l,y:U.headerHeight/2+r.textOffsetY+z.pad.t}),B.on("click",function(){_.call(L,String(f(_,z)?-1:z._index)),c(b,O,_,N,z)}),B.on("mouseover",function(){B.call(P)}),B.on("mouseout",function(){B.call(x,z)}),C.setTranslate(O,U.lx,U.ly)}function c(b,O,_,N,z){_||(_=O,_.attr("pointer-events","all"));var B=!o(_)||z.type==="buttons"?z.buttons:[],U=z.type==="dropdown"?r.dropdownButtonClassName:r.buttonClassName,F=_.selectAll("g."+U).data(T.filterVisible(B)),V=F.enter().append("g").classed(U,!0),j=F.exit();z.type==="dropdown"?(V.attr("opacity","0").transition().attr("opacity","1"),j.transition().attr("opacity","0").remove()):j.remove();var $=0,ne=0,oe=z._dims,ce=["up","down"].indexOf(z.direction)!==-1;z.type==="dropdown"&&(ce?ne=oe.headerHeight+r.gapButtonHeader:$=oe.headerWidth+r.gapButtonHeader),z.type==="dropdown"&&z.direction==="up"&&(ne=-r.gapButtonHeader+r.gapButton-oe.openHeight),z.type==="dropdown"&&z.direction==="left"&&($=-r.gapButtonHeader+r.gapButton-oe.openWidth);var Q={x:oe.lx+$+z.pad.l,y:oe.ly+ne+z.pad.t,yPad:r.gapButton,xPad:r.gapButton,index:0},Z={l:Q.x+z.borderwidth,t:Q.y+z.borderwidth};F.each(function(K,J){var re=g.select(this);re.call(l,z,K,b).call(i,z,Q),re.on("click",function(){g.event.defaultPrevented||(K.execute&&(K.args2&&z.active===J?(u(b,z,K,O,_,N,-1),R.executeAPICommand(b,K.method,K.args2)):(u(b,z,K,O,_,N,J),R.executeAPICommand(b,K.method,K.args))),b.emit("plotly_buttonclicked",{menu:z,button:K,active:z.active}))}),re.on("mouseover",function(){re.call(P)}),re.on("mouseout",function(){re.call(x,z),F.call(S,z)})}),F.call(S,z),ce?(Z.w=Math.max(oe.openWidth,oe.headerWidth),Z.h=Q.y-Z.t):(Z.w=Q.x-Z.l,Z.h=Math.max(oe.openHeight,oe.headerHeight)),Z.direction=z.direction,N&&(F.size()?A(b,O,_,N,z,Z):h(N))}function A(b,O,_,N,z,B){var U=z.direction,F=U==="up"||U==="down",V=z._dims,j=z.active,$,ne,oe;if(F)for(ne=0,oe=0;oe<j;oe++)ne+=V.heights[oe]+r.gapButton;else for($=0,oe=0;oe<j;oe++)$+=V.widths[oe]+r.gapButton;N.enable(B,$,ne),N.hbar&&N.hbar.attr("opacity","0").transition().attr("opacity","1"),N.vbar&&N.vbar.attr("opacity","0").transition().attr("opacity","1")}function h(b){var O=!!b.hbar,_=!!b.vbar;O&&b.hbar.transition().attr("opacity","0").each("end",function(){O=!1,_||b.disable()}),_&&b.vbar.transition().attr("opacity","0").each("end",function(){_=!1,O||b.disable()})}function l(b,O,_,N){b.call(p,O).call(M,O,_,N)}function p(b,O){var _=T.ensureSingle(b,"rect",r.itemRectClassName,function(N){N.attr({rx:r.rx,ry:r.ry,"shape-rendering":"crispEdges"})});_.call(a.stroke,O.bordercolor).call(a.fill,O.bgcolor).style("stroke-width",O.borderwidth+"px")}function M(b,O,_,N){var z=T.ensureSingle(b,"text",r.itemTextClassName,function(F){F.attr({"text-anchor":"start","data-notex":1})}),B=_.label,U=N._fullLayout._meta;U&&(B=T.templateString(B,U)),z.call(C.font,O.font).text(B).call(v.convertToTspans,N)}function S(b,O){var _=O.active;b.each(function(N,z){var B=g.select(this);z===_&&O.showactive&&B.select("rect."+r.itemRectClassName).call(a.fill,r.activeColor)})}function P(b){b.select("rect."+r.itemRectClassName).call(a.fill,r.hoverColor)}function x(b,O){b.select("rect."+r.itemRectClassName).call(a.fill,O.bgcolor)}function E(b,O){var _=O._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},N=C.tester.selectAll("g."+r.dropdownButtonClassName).data(T.filterVisible(O.buttons));N.enter().append("g").classed(r.dropdownButtonClassName,!0);var z=["up","down"].indexOf(O.direction)!==-1;N.each(function($,ne){var oe=g.select(this);oe.call(l,O,$,b);var ce=oe.select("."+r.itemTextClassName),Q=ce.node()&&C.bBox(ce.node()).width,Z=Math.max(Q+r.textPadX,r.minWidth),K=O.font.size*t,J=v.lineCount(ce),re=Math.max(K*J,r.minHeight)+r.textOffsetY;re=Math.ceil(re),Z=Math.ceil(Z),_.widths[ne]=Z,_.heights[ne]=re,_.height1=Math.max(_.height1,re),_.width1=Math.max(_.width1,Z),z?(_.totalWidth=Math.max(_.totalWidth,Z),_.openWidth=_.totalWidth,_.totalHeight+=re+r.gapButton,_.openHeight+=re+r.gapButton):(_.totalWidth+=Z+r.gapButton,_.openWidth+=Z+r.gapButton,_.totalHeight=Math.max(_.totalHeight,re),_.openHeight=_.totalHeight)}),z?_.totalHeight-=r.gapButton:_.totalWidth-=r.gapButton,_.headerWidth=_.width1+r.arrowPadX,_.headerHeight=_.height1,O.type==="dropdown"&&(z?(_.width1+=r.arrowPadX,_.totalHeight=_.height1):_.totalWidth=_.width1,_.totalWidth+=r.arrowPadX),N.remove();var B=_.totalWidth+O.pad.l+O.pad.r,U=_.totalHeight+O.pad.t+O.pad.b,F=b._fullLayout._size;_.lx=F.l+F.w*O.x,_.ly=F.t+F.h*(1-O.y);var V="left";T.isRightAnchor(O)&&(_.lx-=B,V="right"),T.isCenterAnchor(O)&&(_.lx-=B/2,V="center");var j="top";T.isBottomAnchor(O)&&(_.ly-=U,j="bottom"),T.isMiddleAnchor(O)&&(_.ly-=U/2,j="middle"),_.totalWidth=Math.ceil(_.totalWidth),_.totalHeight=Math.ceil(_.totalHeight),_.lx=Math.round(_.lx),_.ly=Math.round(_.ly),R.autoMargin(b,w(O),{x:O.x,y:O.y,l:B*({right:1,center:.5}[V]||0),r:B*({left:1,center:.5}[V]||0),b:U*({top:1,middle:.5}[j]||0),t:U*({bottom:1,middle:.5}[j]||0)})}function w(b){return r.autoMarginIdRoot+b._index}function i(b,O,_,N){N=N||{};var z=b.select("."+r.itemRectClassName),B=b.select("."+r.itemTextClassName),U=O.borderwidth,F=_.index,V=O._dims;C.setTranslate(b,U+_.x,U+_.y);var j=["up","down"].indexOf(O.direction)!==-1,$=N.height||(j?V.heights[F]:V.height1);z.attr({x:0,y:0,width:N.width||(j?V.width1:V.widths[F]),height:$});var ne=O.font.size*t,oe=v.lineCount(B),ce=(oe-1)*ne/2;v.positionText(B,r.textOffsetX,$/2-ce+r.textOffsetY),j?_.y+=V.heights[F]+_.yPad:_.x+=V.widths[F]+_.xPad,_.index++}function L(b,O){b.attr(r.menuIndexAttrName,O||"-1").selectAll("g."+r.dropdownButtonClassName).remove()}},20763:function(W,H,e){var g=e(75909);W.exports={moduleType:"component",name:g.name,layoutAttributes:e(7163),supplyLayoutDefaults:e(64897),draw:e(13689)}},25849:function(W,H,e){W.exports=T;var g=e(39898),R=e(7901),a=e(91424),C=e(71828);function T(v,y,t){this.gd=v,this.container=y,this.id=t,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}T.barWidth=2,T.barLength=20,T.barRadius=2,T.barPad=1,T.barColor="#808BA4",T.prototype.enable=function(y,t,r){var s=this.gd._fullLayout,n=s.width,o=s.height;this.position=y;var f=this.position.l,u=this.position.w,m=this.position.t,c=this.position.h,A=this.position.direction,h=A==="down",l=A==="left",p=A==="right",M=A==="up",S=u,P=c,x,E,w,i;!h&&!l&&!p&&!M&&(this.position.direction="down",h=!0);var L=h||M;L?(x=f,E=x+S,h?(w=m,i=Math.min(w+P,o),P=i-w):(i=m+P,w=Math.max(i-P,0),P=i-w)):(w=m,i=w+P,l?(E=f+S,x=Math.max(E-S,0),S=E-x):(x=f,E=Math.min(x+S,n),S=E-x)),this._box={l:x,t:w,w:S,h:P};var b=u>S,O=T.barLength+2*T.barPad,_=T.barWidth+2*T.barPad,N=f,z=m+c;z+_>o&&(z=o-_);var B=this.container.selectAll("rect.scrollbar-horizontal").data(b?[0]:[]);B.exit().on(".drag",null).remove(),B.enter().append("rect").classed("scrollbar-horizontal",!0).call(R.fill,T.barColor),b?(this.hbar=B.attr({rx:T.barRadius,ry:T.barRadius,x:N,y:z,width:O,height:_}),this._hbarXMin=N+O/2,this._hbarTranslateMax=S-O):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var U=c>P,F=T.barWidth+2*T.barPad,V=T.barLength+2*T.barPad,j=f+u,$=m;j+F>n&&(j=n-F);var ne=this.container.selectAll("rect.scrollbar-vertical").data(U?[0]:[]);ne.exit().on(".drag",null).remove(),ne.enter().append("rect").classed("scrollbar-vertical",!0).call(R.fill,T.barColor),U?(this.vbar=ne.attr({rx:T.barRadius,ry:T.barRadius,x:j,y:$,width:F,height:V}),this._vbarYMin=$+V/2,this._vbarTranslateMax=P-V):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var oe=this.id,ce=x-.5,Q=U?E+F+.5:E+.5,Z=w-.5,K=b?i+_+.5:i+.5,J=s._topdefs.selectAll("#"+oe).data(b||U?[0]:[]);if(J.exit().remove(),J.enter().append("clipPath").attr("id",oe).append("rect"),b||U?(this._clipRect=J.select("rect").attr({x:Math.floor(ce),y:Math.floor(Z),width:Math.ceil(Q)-Math.floor(ce),height:Math.ceil(K)-Math.floor(Z)}),this.container.call(a.setClipUrl,oe,this.gd),this.bg.attr({x:f,y:m,width:u,height:c})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(a.setClipUrl,null),delete this._clipRect),b||U){var re=g.behavior.drag().on("dragstart",function(){g.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(re);var le=g.behavior.drag().on("dragstart",function(){g.event.sourceEvent.preventDefault(),g.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));b&&this.hbar.on(".drag",null).call(le),U&&this.vbar.on(".drag",null).call(le)}this.setTranslate(t,r)},T.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(a.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},T.prototype._onBoxDrag=function(){var y=this.translateX,t=this.translateY;this.hbar&&(y-=g.event.dx),this.vbar&&(t-=g.event.dy),this.setTranslate(y,t)},T.prototype._onBoxWheel=function(){var y=this.translateX,t=this.translateY;this.hbar&&(y+=g.event.deltaY),this.vbar&&(t+=g.event.deltaY),this.setTranslate(y,t)},T.prototype._onBarDrag=function(){var y=this.translateX,t=this.translateY;if(this.hbar){var r=y+this._hbarXMin,s=r+this._hbarTranslateMax,n=C.constrain(g.event.x,r,s),o=(n-r)/(s-r),f=this.position.w-this._box.w;y=o*f}if(this.vbar){var u=t+this._vbarYMin,m=u+this._vbarTranslateMax,c=C.constrain(g.event.y,u,m),A=(c-u)/(m-u),h=this.position.h-this._box.h;t=A*h}this.setTranslate(y,t)},T.prototype.setTranslate=function(y,t){var r=this.position.w-this._box.w,s=this.position.h-this._box.h;if(y=C.constrain(y||0,0,r),t=C.constrain(t||0,0,s),this.translateX=y,this.translateY=t,this.container.call(a.setTranslate,this._box.l-this.position.l-y,this._box.t-this.position.t-t),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+y-.5),y:Math.floor(this.position.t+t-.5)}),this.hbar){var n=y/r;this.hbar.call(a.setTranslate,y+n*this._hbarTranslateMax,t)}if(this.vbar){var o=t/s;this.vbar.call(a.setTranslate,y,t+o*this._vbarTranslateMax)}}},18783:function(W){W.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},24695:function(W){W.exports={axisRefDescription:function(H,e,g){return["If set to a",H,"axis id (e.g. *"+H+"* or","*"+H+"2*), the `"+H+"` position refers to a",H,"coordinate. If set to *paper*, the `"+H+"`","position refers to the distance from the",e,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",e,"("+g+"). If set to a",H,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",e,"of the domain of that axis: e.g.,","*"+H+"2 domain* refers to the domain of the second",H," axis and a",H,"position of 0.5 refers to the","point between the",e,"and the",g,"of the domain of the","second",H,"axis."].join(" ")}}},22372:function(W){W.exports={INCREASING:{COLOR:"#3D9970",SYMBOL:""},DECREASING:{COLOR:"#FF4136",SYMBOL:""}}},31562:function(W){W.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},74808:function(W){W.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},29659:function(W){W.exports={solid:[[],0],dot:[[.5,1],200],dash:[[.5,1],50],longdash:[[.5,1],10],dashdot:[[.5,.625,.875,1],50],longdashdot:[[.5,.7,.8,1],10]}},87381:function(W){W.exports={circle:"","circle-open":"",square:"","square-open":"",diamond:"","diamond-open":"",cross:"+",x:""}},37822:function(W){W.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},50606:function(W){W.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE*1e-4,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:24405875e-1,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:""}},32396:function(W,H){H.CSS_DECLARATIONS=[["image-rendering","optimizeSpeed"],["image-rendering","-moz-crisp-edges"],["image-rendering","-o-crisp-edges"],["image-rendering","-webkit-optimize-contrast"],["image-rendering","optimize-contrast"],["image-rendering","crisp-edges"],["image-rendering","pixelated"]],H.STYLE=H.CSS_DECLARATIONS.map(function(e){return e.join(": ")+"; "}).join("")},77922:function(W,H){H.xmlns="http://www.w3.org/2000/xmlns/",H.svg="http://www.w3.org/2000/svg",H.xlink="http://www.w3.org/1999/xlink",H.svgAttrs={xmlns:H.svg,"xmlns:xlink":H.xlink}},8729:function(W,H,e){H.version=e(11506).version,e(7417),e(98847);for(var g=e(73972),R=H.register=g.register,a=e(10641),C=Object.keys(a),T=0;T<C.length;T++){var v=C[T];v.charAt(0)!=="_"&&(H[v]=a[v]),R({moduleType:"apiMethod",name:v,fn:a[v]})}R(e(67368)),R([e(32745),e(2468),e(47322),e(89853),e(68804),e(20763),e(23243),e(13137),e(97218),e(83312),e(37369),e(21081),e(12311),e(2199),e(30211),e(64168)]),R([e(92177),e(37815)]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(R(window.PlotlyLocales),delete window.PlotlyLocales),H.Icons=e(24255);var y=e(30211),t=e(74875);H.Plots={resize:t.resize,graphJson:t.graphJson,sendDataToCloud:t.sendDataToCloud},H.Fx={hover:y.hover,unhover:y.unhover,loneHover:y.loneHover,loneUnhover:y.loneUnhover},H.Snapshot=e(44511),H.PlotSchema=e(86281)},24255:function(W){W.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>","<defs>"," <style>","  .cls-0{fill:#000;}","  .cls-1{fill:#FFF;}","  .cls-2{fill:#F26;}","  .cls-3{fill:#D69;}","  .cls-4{fill:#BAC;}","  .cls-5{fill:#9EF;}"," </style>","</defs>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect class='cls-0' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle class='cls-5' cx='102' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='54' r='6'/>","  <circle class='cls-3' cx='54' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='54' r='6'/>","  <path class='cls-1' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path class='cls-1' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path class='cls-1' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path class='cls-1' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}},99863:function(W,H){H.isLeftAnchor=function(g){return g.xanchor==="left"||g.xanchor==="auto"&&g.x<=.3333333333333333},H.isCenterAnchor=function(g){return g.xanchor==="center"||g.xanchor==="auto"&&g.x>.3333333333333333&&g.x<.6666666666666666},H.isRightAnchor=function(g){return g.xanchor==="right"||g.xanchor==="auto"&&g.x>=.6666666666666666},H.isTopAnchor=function(g){return g.yanchor==="top"||g.yanchor==="auto"&&g.y>=.6666666666666666},H.isMiddleAnchor=function(g){return g.yanchor==="middle"||g.yanchor==="auto"&&g.y>.3333333333333333&&g.y<.6666666666666666},H.isBottomAnchor=function(g){return g.yanchor==="bottom"||g.yanchor==="auto"&&g.y<=.3333333333333333}},26348:function(W,H,e){var g=e(64872),R=g.mod,a=g.modHalf,C=Math.PI,T=2*C;function v(A){return A/180*C}function y(A){return A/C*180}function t(A){return Math.abs(A[1]-A[0])>T-1e-14}function r(A,h){return a(h-A,T)}function s(A,h){return Math.abs(r(A,h))}function n(A,h){if(t(h))return!0;var l,p;h[0]<h[1]?(l=h[0],p=h[1]):(l=h[1],p=h[0]),l=R(l,T),p=R(p,T),l>p&&(p+=T);var M=R(A,T),S=M+T;return M>=l&&M<=p||S>=l&&S<=p}function o(A,h,l,p){if(!n(h,p))return!1;var M,S;return l[0]<l[1]?(M=l[0],S=l[1]):(M=l[1],S=l[0]),A>=M&&A<=S}function f(A,h,l,p,M,S,P){M=M||0,S=S||0;var x=t([l,p]),E,w,i,L,b;x?(E=0,w=C,i=T):l<p?(E=l,i=p):(E=p,i=l),A<h?(L=A,b=h):(L=h,b=A);function O(B,U){return[B*Math.cos(U)+M,S-B*Math.sin(U)]}var _=Math.abs(i-E)<=C?0:1;function N(B,U,F){return"A"+[B,B]+" "+[0,_,F]+" "+O(B,U)}var z;return x?L===null?z="M"+O(b,E)+N(b,w,0)+N(b,i,0)+"Z":z="M"+O(L,E)+N(L,w,0)+N(L,i,0)+"ZM"+O(b,E)+N(b,w,1)+N(b,i,1)+"Z":L===null?(z="M"+O(b,E)+N(b,i,0),P&&(z+="L0,0Z")):z="M"+O(L,E)+"L"+O(b,E)+N(b,i,0)+"L"+O(L,i)+N(L,E,1)+"Z",z}function u(A,h,l,p,M){return f(null,A,h,l,p,M,0)}function m(A,h,l,p,M){return f(null,A,h,l,p,M,1)}function c(A,h,l,p,M,S){return f(A,h,l,p,M,S,1)}W.exports={deg2rad:v,rad2deg:y,angleDelta:r,angleDist:s,isFullCircle:t,isAngleInsideSector:n,isPtInsideSector:o,pathArc:u,pathSector:m,pathAnnulus:c}},73627:function(W,H){var e=Array.isArray,g=ArrayBuffer,R=DataView;function a(y){return g.isView(y)&&!(y instanceof R)}H.isTypedArray=a;function C(y){return e(y)||a(y)}H.isArrayOrTypedArray=C;function T(y){return!C(y[0])}H.isArray1D=T,H.ensureArray=function(y,t){return e(y)||(y=[]),y.length=t,y},H.concat=function(){var y=[],t=!0,r=0,s,n,o,f,u,m,c,A;for(o=0;o<arguments.length;o++)f=arguments[o],m=f.length,m&&(n?y.push(f):(n=f,u=m),e(f)?s=!1:(t=!1,r?s!==f.constructor&&(s=!1):s=f.constructor),r+=m);if(!r)return[];if(!y.length)return n;if(t)return n.concat.apply(n,y);if(s){for(c=new s(r),c.set(n),o=0;o<y.length;o++)f=y[o],c.set(f,u),u+=f.length;return c}for(c=new Array(r),A=0;A<n.length;A++)c[A]=n[A];for(o=0;o<y.length;o++){for(f=y[o],A=0;A<f.length;A++)c[u+A]=f[A];u+=A}return c},H.maxRowLength=function(y){return v(y,Math.max,0)},H.minRowLength=function(y){return v(y,Math.min,1/0)};function v(y,t,r){if(C(y))if(C(y[0])){for(var s=r,n=0;n<y.length;n++)s=t(s,y[n].length);return s}else return y.length;return 0}},95218:function(W,H,e){var g=e(92770),R=e(50606).BADNUM,a=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;W.exports=function(T){return typeof T=="string"&&(T=T.replace(a,"")),g(T)?Number(T):R}},33306:function(W){W.exports=function(e){var g=e._fullLayout;g._glcanvas&&g._glcanvas.size()&&g._glcanvas.each(function(R){R.regl&&R.regl.clear({color:!0,depth:!0})})}},86367:function(W){W.exports=function(e){e._responsiveChartHandler&&(window.removeEventListener("resize",e._responsiveChartHandler),delete e._responsiveChartHandler)}},96554:function(W,H,e){var g=e(92770),R=e(84267),a=e(9012),C=e(63282),T=e(7901),v=e(37822).DESELECTDIM,y=e(65487),t=e(30587).counter,r=e(64872).modHalf,s=e(73627).isArrayOrTypedArray;H.valObjectMeta={data_array:{coerceFunction:function(o,f,u){s(o)?f.set(o):u!==void 0&&f.set(u)}},enumerated:{coerceFunction:function(o,f,u,m){m.coerceNumber&&(o=+o),m.values.indexOf(o)===-1?f.set(u):f.set(o)},validateFunction:function(o,f){f.coerceNumber&&(o=+o);for(var u=f.values,m=0;m<u.length;m++){var c=String(u[m]);if(c.charAt(0)==="/"&&c.charAt(c.length-1)==="/"){var A=new RegExp(c.substr(1,c.length-2));if(A.test(o))return!0}else if(o===u[m])return!0}return!1}},boolean:{coerceFunction:function(o,f,u){o===!0||o===!1?f.set(o):f.set(u)}},number:{coerceFunction:function(o,f,u,m){!g(o)||m.min!==void 0&&o<m.min||m.max!==void 0&&o>m.max?f.set(u):f.set(+o)}},integer:{coerceFunction:function(o,f,u,m){o%1||!g(o)||m.min!==void 0&&o<m.min||m.max!==void 0&&o>m.max?f.set(u):f.set(+o)}},string:{coerceFunction:function(o,f,u,m){if(typeof o!="string"){var c=typeof o=="number";m.strict===!0||!c?f.set(u):f.set(String(o))}else m.noBlank&&!o?f.set(u):f.set(o)}},color:{coerceFunction:function(o,f,u){R(o).isValid()?f.set(o):f.set(u)}},colorlist:{coerceFunction:function(o,f,u){function m(c){return R(c).isValid()}!Array.isArray(o)||!o.length?f.set(u):o.every(m)?f.set(o):f.set(u)}},colorscale:{coerceFunction:function(o,f,u){f.set(C.get(o,u))}},angle:{coerceFunction:function(o,f,u){o==="auto"?f.set("auto"):g(o)?f.set(r(+o,360)):f.set(u)}},subplotid:{coerceFunction:function(o,f,u,m){var c=m.regex||t(u);if(typeof o=="string"&&c.test(o)){f.set(o);return}f.set(u)},validateFunction:function(o,f){var u=f.dflt;return o===u?!0:typeof o!="string"?!1:!!t(u).test(o)}},flaglist:{coerceFunction:function(o,f,u,m){if((m.extras||[]).indexOf(o)!==-1){f.set(o);return}if(typeof o!="string"){f.set(u);return}for(var c=o.split("+"),A=0;A<c.length;){var h=c[A];m.flags.indexOf(h)===-1||c.indexOf(h)<A?c.splice(A,1):A++}c.length?f.set(c.join("+")):f.set(u)}},any:{coerceFunction:function(o,f,u){o===void 0?f.set(u):f.set(o)}},info_array:{coerceFunction:function(o,f,u,m){function c(O,_,N){var z,B={set:function(U){z=U}};return N===void 0&&(N=_.dflt),H.valObjectMeta[_.valType].coerceFunction(O,B,N,_),z}var A=m.dimensions===2||m.dimensions==="1-2"&&Array.isArray(o)&&Array.isArray(o[0]);if(!Array.isArray(o)){f.set(u);return}var h=m.items,l=[],p=Array.isArray(h),M=p&&A&&Array.isArray(h[0]),S=A&&p&&!M,P=p&&!S?h.length:o.length,x,E,w,i,L,b;if(u=Array.isArray(u)?u:[],A)for(x=0;x<P;x++)for(l[x]=[],w=Array.isArray(o[x])?o[x]:[],S?L=h.length:p?L=h[x].length:L=w.length,E=0;E<L;E++)S?i=h[E]:p?i=h[x][E]:i=h,b=c(w[E],i,(u[x]||[])[E]),b!==void 0&&(l[x][E]=b);else for(x=0;x<P;x++)b=c(o[x],p?h[x]:h,u[x]),b!==void 0&&(l[x]=b);f.set(l)},validateFunction:function(o,f){if(!Array.isArray(o))return!1;var u=f.items,m=Array.isArray(u),c=f.dimensions===2;if(!f.freeLength&&o.length!==u.length)return!1;for(var A=0;A<o.length;A++)if(c){if(!Array.isArray(o[A])||!f.freeLength&&o[A].length!==u[A].length)return!1;for(var h=0;h<o[A].length;h++)if(!n(o[A][h],m?u[A][h]:u))return!1}else if(!n(o[A],m?u[A]:u))return!1;return!0}}},H.coerce=function(o,f,u,m,c){var A=y(u,m).get(),h=y(o,m),l=y(f,m),p=h.get(),M=f._template;if(p===void 0&&M&&(p=y(M,m).get(),M=0),c===void 0&&(c=A.dflt),A.arrayOk&&s(p))return l.set(p),p;var S=H.valObjectMeta[A.valType].coerceFunction;S(p,l,c,A);var P=l.get();return M&&P===c&&!n(p,A)&&(p=y(M,m).get(),S(p,l,c,A),P=l.get()),P},H.coerce2=function(o,f,u,m,c){var A=y(o,m),h=H.coerce(o,f,u,m,c),l=A.get();return l!=null?h:!1},H.coerceFont=function(o,f,u){var m={};return u=u||{},m.family=o(f+".family",u.family),m.size=o(f+".size",u.size),m.color=o(f+".color",u.color),m},H.coercePattern=function(o,f,u,m){var c=o(f+".shape");if(c){o(f+".solidity"),o(f+".size");var A=o(f+".fillmode"),h=A==="overlay";if(!m){var l=o(f+".bgcolor",h?u:void 0);o(f+".fgcolor",h?T.contrast(l):u)}o(f+".fgopacity",h?.5:1)}},H.coerceHoverinfo=function(o,f,u){var m=f._module.attributes,c=m.hoverinfo?m:a,A=c.hoverinfo,h;if(u._dataLength===1){var l=A.dflt==="all"?A.flags.slice():A.dflt.split("+");l.splice(l.indexOf("name"),1),h=l.join("+")}return H.coerce(o,f,c,"hoverinfo",h)},H.coerceSelectionMarkerOpacity=function(o,f){if(o.marker){var u=o.marker.opacity;if(u!==void 0){var m,c;!s(u)&&!o.selected&&!o.unselected&&(m=u,c=v*u),f("selected.marker.opacity",m),f("unselected.marker.opacity",c)}}};function n(o,f){var u=H.valObjectMeta[f.valType];if(f.arrayOk&&s(o))return!0;if(u.validateFunction)return u.validateFunction(o,f);var m={},c=m,A={set:function(h){c=h}};return u.coerceFunction(o,A,m,f),c!==m}H.validate=n},41631:function(W,H,e){var g=e(84096).i$,R=e(92770),a=e(47769),C=e(64872).mod,T=e(50606),v=T.BADNUM,y=T.ONEDAY,t=T.ONEHOUR,r=T.ONEMIN,s=T.ONESEC,n=T.EPOCHJD,o=e(73972),f=e(84096).g0,u=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,m=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,c=new Date().getFullYear()-70;function A(z){return z&&o.componentsRegistry.calendars&&typeof z=="string"&&z!=="gregorian"}H.dateTick0=function(z,B){var U=h(z,!!B);if(B<2)return U;var F=H.dateTime2ms(U,z);return F+=y*(B-1),H.ms2DateTime(F,0,z)};function h(z,B){return A(z)?B?o.getComponentMethod("calendars","CANONICAL_SUNDAY")[z]:o.getComponentMethod("calendars","CANONICAL_TICK")[z]:B?"2000-01-02":"2000-01-01"}H.dfltRange=function(z){return A(z)?o.getComponentMethod("calendars","DFLTRANGE")[z]:["2000-01-01","2001-01-01"]},H.isJSDate=function(z){return typeof z=="object"&&z!==null&&typeof z.getTime=="function"};var l,p;H.dateTime2ms=function(z,B){if(H.isJSDate(z)){var U=z.getTimezoneOffset()*r,F=(z.getUTCMinutes()-z.getMinutes())*r+(z.getUTCSeconds()-z.getSeconds())*s+(z.getUTCMilliseconds()-z.getMilliseconds());if(F){var V=3*r;U=U-V/2+C(F-U+V/2,V)}return z=Number(z)-U,z>=l&&z<=p?z:v}if(typeof z!="string"&&typeof z!="number")return v;z=String(z);var j=A(B),$=z.charAt(0);j&&($==="G"||$==="g")&&(z=z.substr(1),B="");var ne=j&&B.substr(0,7)==="chinese",oe=z.match(ne?m:u);if(!oe)return v;var ce=oe[1],Q=oe[3]||"1",Z=Number(oe[5]||1),K=Number(oe[7]||0),J=Number(oe[9]||0),re=Number(oe[11]||0);if(j){if(ce.length===2)return v;ce=Number(ce);var le;try{var q=o.getComponentMethod("calendars","getCal")(B);if(ne){var ee=Q.charAt(Q.length-1)==="i";Q=parseInt(Q,10),le=q.newDate(ce,q.toMonthIndex(ce,Q,ee),Z)}else le=q.newDate(ce,Number(Q),Z)}catch{return v}return le?(le.toJD()-n)*y+K*t+J*r+re*s:v}ce.length===2?ce=(Number(ce)+2e3-c)%100+c:ce=Number(ce),Q-=1;var ue=new Date(Date.UTC(2e3,Q,Z,K,J));return ue.setUTCFullYear(ce),ue.getUTCMonth()!==Q||ue.getUTCDate()!==Z?v:ue.getTime()+re*s},l=H.MIN_MS=H.dateTime2ms("-9999"),p=H.MAX_MS=H.dateTime2ms("9999-12-31 23:59:59.9999"),H.isDateTime=function(z,B){return H.dateTime2ms(z,B)!==v};function M(z,B){return String(z+Math.pow(10,B)).substr(1)}var S=90*y,P=3*t,x=5*r;H.ms2DateTime=function(z,B,U){if(typeof z!="number"||!(z>=l&&z<=p))return v;B||(B=0);var F=Math.floor(C(z+.05,1)*10),V=Math.round(z-F/10),j,$,ne,oe,ce,Q;if(A(U)){var Z=Math.floor(V/y)+n,K=Math.floor(C(z,y));try{j=o.getComponentMethod("calendars","getCal")(U).fromJD(Z).formatDate("yyyy-mm-dd")}catch{j=f("G%Y-%m-%d")(new Date(V))}if(j.charAt(0)==="-")for(;j.length<11;)j="-0"+j.substr(1);else for(;j.length<10;)j="0"+j;$=B<S?Math.floor(K/t):0,ne=B<S?Math.floor(K%t/r):0,oe=B<P?Math.floor(K%r/s):0,ce=B<x?K%s*10+F:0}else Q=new Date(V),j=f("%Y-%m-%d")(Q),$=B<S?Q.getUTCHours():0,ne=B<S?Q.getUTCMinutes():0,oe=B<P?Q.getUTCSeconds():0,ce=B<x?Q.getUTCMilliseconds()*10+F:0;return E(j,$,ne,oe,ce)},H.ms2DateTimeLocal=function(z){if(!(z>=l+y&&z<=p-y))return v;var B=Math.floor(C(z+.05,1)*10),U=new Date(Math.round(z-B/10)),F=g("%Y-%m-%d")(U),V=U.getHours(),j=U.getMinutes(),$=U.getSeconds(),ne=U.getUTCMilliseconds()*10+B;return E(F,V,j,$,ne)};function E(z,B,U,F,V){if((B||U||F||V)&&(z+=" "+M(B,2)+":"+M(U,2),(F||V)&&(z+=":"+M(F,2),V))){for(var j=4;V%10===0;)j-=1,V/=10;z+="."+M(V,j)}return z}H.cleanDate=function(z,B,U){if(z===v)return B;if(H.isJSDate(z)||typeof z=="number"&&isFinite(z)){if(A(U))return a.error("JS Dates and milliseconds are incompatible with world calendars",z),B;if(z=H.ms2DateTimeLocal(+z),!z&&B!==void 0)return B}else if(!H.isDateTime(z,U))return a.error("unrecognized date",z),B;return z};var w=/%\d?f/g,i=/%h/g,L={1:"1",2:"1",3:"2",4:"2"};function b(z,B,U,F){z=z.replace(w,function(j){var $=Math.min(+j.charAt(1)||6,6),ne=(B/1e3%1+2).toFixed($).substr(2).replace(/0+$/,"")||"0";return ne});var V=new Date(Math.floor(B+.05));if(z=z.replace(i,function(){return L[U("%q")(V)]}),A(F))try{z=o.getComponentMethod("calendars","worldCalFmt")(z,B,F)}catch{return"Invalid"}return U(z)(V)}var O=[59,59.9,59.99,59.999,59.9999];function _(z,B){var U=C(z+.05,y),F=M(Math.floor(U/t),2)+":"+M(C(Math.floor(U/r),60),2);if(B!=="M"){R(B)||(B=0);var V=Math.min(C(z/s,60),O[B]),j=(100+V).toFixed(B).substr(1);B>0&&(j=j.replace(/0+$/,"").replace(/[\.]$/,"")),F+=":"+j}return F}H.formatDate=function(z,B,U,F,V,j){if(V=A(V)&&V,!B)if(U==="y")B=j.year;else if(U==="m")B=j.month;else if(U==="d")B=j.dayMonth+`
`+j.year;else return _(z,U)+`
`+b(j.dayMonthYear,z,F,V);return b(B,z,F,V)};var N=3*y;H.incrementMonth=function(z,B,U){U=A(U)&&U;var F=C(z,y);if(z=Math.round(z-F),U)try{var V=Math.round(z/y)+n,j=o.getComponentMethod("calendars","getCal")(U),$=j.fromJD(V);return B%12?j.add($,B,"m"):j.add($,B/12,"y"),($.toJD()-n)*y+F}catch{a.error("invalid ms "+z+" in calendar "+U)}var ne=new Date(z+N);return ne.setUTCMonth(ne.getUTCMonth()+B)+F-N},H.findExactDates=function(z,B){for(var U=0,F=0,V=0,j=0,$,ne,oe=A(B)&&o.getComponentMethod("calendars","getCal")(B),ce=0;ce<z.length;ce++){if(ne=z[ce],!R(ne)){j++;continue}if(!(ne%y))if(oe)try{$=oe.fromJD(ne/y+n),$.day()===1?$.month()===1?U++:F++:V++}catch{}else $=new Date(ne),$.getUTCDate()===1?$.getUTCMonth()===0?U++:F++:V++}F+=U,V+=F;var Q=z.length-j;return{exactYears:U/Q,exactMonths:F/Q,exactDays:V/Q}}},24401:function(W,H,e){var g=e(39898),R=e(47769),a=e(35657),C=e(79576);function T(c){var A;if(typeof c=="string"){if(A=document.getElementById(c),A===null)throw new Error("No DOM element with id '"+c+"' exists on the page.");return A}else if(c==null)throw new Error("DOM element provided is null or undefined");return c}function v(c){var A=g.select(c);return A.node()instanceof HTMLElement&&A.size()&&A.classed("js-plotly-plot")}function y(c){var A=c&&c.parentNode;A&&A.removeChild(c)}function t(c,A){r("global",c,A)}function r(c,A,h){var l="plotly.js-style-"+c,p=document.getElementById(l);p||(p=document.createElement("style"),p.setAttribute("id",l),p.appendChild(document.createTextNode("")),document.head.appendChild(p));var M=p.sheet;M.insertRule?M.insertRule(A+"{"+h+"}",0):M.addRule?M.addRule(A,h,0):R.warn("addStyleRule failed")}function s(c){var A="plotly.js-style-"+c,h=document.getElementById(A);h&&y(h)}function n(c){var A=f(c),h=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return A.forEach(function(l){var p=o(l);if(p){var M=a.convertCssMatrix(p);h=C.multiply(h,h,M)}}),h}function o(c){var A=window.getComputedStyle(c,null),h=A.getPropertyValue("-webkit-transform")||A.getPropertyValue("-moz-transform")||A.getPropertyValue("-ms-transform")||A.getPropertyValue("-o-transform")||A.getPropertyValue("transform");return h==="none"?null:h.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(l){return+l})}function f(c){for(var A=[];u(c);)A.push(c),c=c.parentNode;return A}function u(c){return c&&(c instanceof Element||c instanceof HTMLElement)}function m(c,A){return c&&A&&c.top===A.top&&c.left===A.left&&c.right===A.right&&c.bottom===A.bottom}W.exports={getGraphDiv:T,isPlotDiv:v,removeElement:y,addStyleRule:t,addRelatedStyleRule:r,deleteRelatedStyleRule:s,getFullTransformMatrix:n,getElementTransformMatrix:o,getElementAndAncestors:f,equalDomRects:m}},11086:function(W,H,e){var g=e(15398).EventEmitter,R={init:function(a){if(a._ev instanceof g)return a;var C=new g,T=new g;return a._ev=C,a._internalEv=T,a.on=C.on.bind(C),a.once=C.once.bind(C),a.removeListener=C.removeListener.bind(C),a.removeAllListeners=C.removeAllListeners.bind(C),a._internalOn=T.on.bind(T),a._internalOnce=T.once.bind(T),a._removeInternalListener=T.removeListener.bind(T),a._removeAllInternalListeners=T.removeAllListeners.bind(T),a.emit=function(v,y){typeof jQuery<"u"&&jQuery(a).trigger(v,y),C.emit(v,y),T.emit(v,y)},a},triggerHandler:function(a,C,T){var v,y;typeof jQuery<"u"&&(v=jQuery(a).triggerHandler(C,T));var t=a._ev;if(!t)return v;var r=t._events[C];if(!r)return v;function s(o){if(o.listener){if(t.removeListener(C,o.listener),!o.fired)return o.fired=!0,o.listener.apply(t,[T])}else return o.apply(t,[T])}r=Array.isArray(r)?r:[r];var n;for(n=0;n<r.length-1;n++)s(r[n]);return y=s(r[n]),v!==void 0?v:y},purge:function(a){return delete a._ev,delete a.on,delete a.once,delete a.removeListener,delete a.removeAllListeners,delete a.emit,delete a._ev,delete a._internalEv,delete a._internalOn,delete a._internalOnce,delete a._removeInternalListener,delete a._removeAllInternalListeners,a}};W.exports=R},1426:function(W,H,e){var g=e(41965),R=Array.isArray;function a(T,v){var y,t;for(y=0;y<T.length;y++){if(t=T[y],t!==null&&typeof t=="object")return!1;t!==void 0&&(v[y]=t)}return!0}H.extendFlat=function(){return C(arguments,!1,!1,!1)},H.extendDeep=function(){return C(arguments,!0,!1,!1)},H.extendDeepAll=function(){return C(arguments,!0,!0,!1)},H.extendDeepNoArrays=function(){return C(arguments,!0,!1,!0)};function C(T,v,y,t){var r=T[0],s=T.length,n,o,f,u,m,c,A;if(s===2&&R(r)&&R(T[1])&&r.length===0){if(A=a(T[1],r),A)return r;r.splice(0,r.length)}for(var h=1;h<s;h++){n=T[h];for(o in n)f=r[o],u=n[o],t&&R(u)?r[o]=u:v&&u&&(g(u)||(m=R(u)))?(m?(m=!1,c=f&&R(f)?f:[]):c=f&&g(f)?f:{},r[o]=C([c,u],v,y,t)):(typeof u<"u"||y)&&(r[o]=u)}return r}},75744:function(W){W.exports=function(e){for(var g={},R=[],a=0,C=0;C<e.length;C++){var T=e[C];g[T]!==1&&(g[T]=1,R[a++]=T)}return R}},76756:function(W){W.exports=function(a){for(var C=g(a)?e:H,T=[],v=0;v<a.length;v++){var y=a[v];C(y)&&T.push(y)}return T};function H(R){return R.visible===!0}function e(R){var a=R[0].trace;return a.visible===!0&&a._length!==0}function g(R){return Array.isArray(R)&&Array.isArray(R[0])&&R[0][0]&&R[0][0].trace}},41327:function(W,H,e){var g=e(39898),R=e(24138),a=e(30774),C=e(29261),T=e(85268),v=e(23389),y=e(47769),t=e(41965),r=e(65487),s=e(61082),n=Object.keys(R),o={"ISO-3":v,"USA-states":v,"country names":f};function f(M){for(var S=0;S<n.length;S++){var P=n[S],x=new RegExp(R[P]);if(x.test(M.trim().toLowerCase()))return P}return y.log("Unrecognized country name: "+M+"."),!1}function u(M,S,P){if(!S||typeof S!="string")return!1;var x=o[M](S),E,w,i;if(x){if(M==="USA-states")for(E=[],i=0;i<P.length;i++)w=P[i],w.properties&&w.properties.gu&&w.properties.gu==="USA"&&E.push(w);else E=P;for(i=0;i<E.length;i++)if(w=E[i],w.id===x)return w;y.log(["Location with id",x,"does not have a matching topojson feature at this resolution."].join(" "))}return!1}function m(M){var S=M.geometry,P=S.coordinates,x=M.id,E=[],w,i,L,b;function O(_){for(var N=0;N<_.length-1;N++)if(_[N][0]>0&&_[N+1][0]<0)return N;return null}switch(x==="RUS"||x==="FJI"?w=function(_){var N;if(O(_)===null)N=_;else for(N=new Array(_.length),b=0;b<_.length;b++)N[b]=[_[b][0]<0?_[b][0]+360:_[b][0],_[b][1]];E.push(s.tester(N))}:x==="ATA"?w=function(_){var N=O(_);if(N===null)return E.push(s.tester(_));var z=new Array(_.length+1),B=0;for(b=0;b<_.length;b++)b>N?z[B++]=[_[b][0]+360,_[b][1]]:b===N?(z[B++]=_[b],z[B++]=[_[b][0],-90]):z[B++]=_[b];var U=s.tester(z);U.pts.pop(),E.push(U)}:w=function(_){E.push(s.tester(_))},S.type){case"MultiPolygon":for(i=0;i<P.length;i++)for(L=0;L<P[i].length;L++)w(P[i][L]);break;case"Polygon":for(i=0;i<P.length;i++)w(P[i]);break}return E}function c(M){var S=M.geojson,P=window.PlotlyGeoAssets||{},x=typeof S=="string"?P[S]:S;return t(x)?x:(y.error("Oops ... something went wrong when fetching "+S),!1)}function A(M){var S=M[0].trace,P=c(S);if(!P)return!1;var x={},E=[],w;for(w=0;w<S._length;w++){var i=M[w];(i.loc||i.loc===0)&&(x[i.loc]=i)}function L(_){var N=r(_,S.featureidkey||"id").get(),z=x[N];if(z){var B=_.geometry;if(B.type==="Polygon"||B.type==="MultiPolygon"){var U={type:"Feature",id:N,geometry:B,properties:{}};U.properties.ct=h(U),z.fIn=_,z.fOut=U,E.push(U)}else y.log(["Location",z.loc,"does not have a valid GeoJSON geometry.","Traces with locationmode *geojson-id* only support","*Polygon* and *MultiPolygon* geometries."].join(" "))}delete x[N]}switch(P.type){case"FeatureCollection":var b=P.features;for(w=0;w<b.length;w++)L(b[w]);break;case"Feature":L(P);break;default:return y.warn(["Invalid GeoJSON type",(P.type||"none")+".","Traces with locationmode *geojson-id* only support","*FeatureCollection* and *Feature* types."].join(" ")),!1}for(var O in x)y.log(["Location *"+O+"*","does not have a matching feature with id-key","*"+S.featureidkey+"*."].join(" "));return E}function h(M){var S=M.geometry,P;if(S.type==="MultiPolygon")for(var x=S.coordinates,E=0,w=0;w<x.length;w++){var i={type:"Polygon",coordinates:x[w]},L=a.default(i);L>E&&(E=L,P=i)}else P=S;return C.default(P).geometry.coordinates}function l(M){var S=window.PlotlyGeoAssets||{},P=[];function x(b){return new Promise(function(O,_){g.json(b,function(N,z){if(N){delete S[b];var B=N.status===404?'GeoJSON at URL "'+b+'" does not exist.':"Unexpected error while fetching from "+b;return _(new Error(B))}return S[b]=z,O(z)})})}function E(b){return new Promise(function(O,_){var N=0,z=setInterval(function(){if(S[b]&&S[b]!=="pending")return clearInterval(z),O(S[b]);if(N>100)return clearInterval(z),_("Unexpected error while fetching from "+b);N++},50)})}for(var w=0;w<M.length;w++){var i=M[w][0].trace,L=i.geojson;typeof L=="string"&&(S[L]?S[L]==="pending"&&P.push(E(L)):(S[L]="pending",P.push(x(L))))}return P}function p(M){return T.default(M)}W.exports={locationToFeature:u,feature2polygons:m,getTraceGeojson:c,extractTraceFeature:A,fetchTraceGeoData:l,computeBbox:p}},18214:function(W,H,e){var g=e(50606).BADNUM;H.calcTraceToLineCoords=function(R){for(var a=R[0].trace,C=a.connectgaps,T=[],v=[],y=0;y<R.length;y++){var t=R[y],r=t.lonlat;r[0]!==g?v.push(r):!C&&v.length>0&&(T.push(v),v=[])}return v.length>0&&T.push(v),T},H.makeLine=function(R){return R.length===1?{type:"LineString",coordinates:R[0]}:{type:"MultiLineString",coordinates:R}},H.makePolygon=function(R){if(R.length===1)return{type:"Polygon",coordinates:R};for(var a=new Array(R.length),C=0;C<R.length;C++)a[C]=[R[C]];return{type:"MultiPolygon",coordinates:a}},H.makeBlank=function(){return{type:"Point",coordinates:[]}}},87642:function(W,H,e){var g=e(64872).mod;H.segmentsIntersect=R;function R(y,t,r,s,n,o,f,u){var m=r-y,c=n-y,A=f-n,h=s-t,l=o-t,p=u-o,M=m*p-A*h;if(M===0)return null;var S=(c*p-A*l)/M,P=(c*h-m*l)/M;return P<0||P>1||S<0||S>1?null:{x:y+m*S,y:t+h*S}}H.segmentDistance=function(t,r,s,n,o,f,u,m){if(R(t,r,s,n,o,f,u,m))return 0;var c=s-t,A=n-r,h=u-o,l=m-f,p=c*c+A*A,M=h*h+l*l,S=Math.min(a(c,A,p,o-t,f-r),a(c,A,p,u-t,m-r),a(h,l,M,t-o,r-f),a(h,l,M,s-o,n-f));return Math.sqrt(S)};function a(y,t,r,s,n){var o=s*y+n*t;if(o<0)return s*s+n*n;if(o>r){var f=s-y,u=n-t;return f*f+u*u}else{var m=s*t-n*y;return m*m/r}}var C,T,v;H.getTextLocation=function(t,r,s,n){if((t!==T||n!==v)&&(C={},T=t,v=n),C[s])return C[s];var o=t.getPointAtLength(g(s-n/2,r)),f=t.getPointAtLength(g(s+n/2,r)),u=Math.atan((f.y-o.y)/(f.x-o.x)),m=t.getPointAtLength(g(s,r)),c=(m.x*4+o.x+f.x)/6,A=(m.y*4+o.y+f.y)/6,h={x:c,y:A,theta:u};return C[s]=h,h},H.clearLocationCache=function(){T=null},H.getVisibleSegment=function(t,r,s){var n=r.left,o=r.right,f=r.top,u=r.bottom,m=0,c=t.getTotalLength(),A=c,h,l;function p(S){var P=t.getPointAtLength(S);S===0?h=P:S===c&&(l=P);var x=P.x<n?n-P.x:P.x>o?P.x-o:0,E=P.y<f?f-P.y:P.y>u?P.y-u:0;return Math.sqrt(x*x+E*E)}for(var M=p(m);M;){if(m+=M+s,m>A)return;M=p(m)}for(M=p(A);M;){if(A-=M+s,m>A)return;M=p(A)}return{min:m,max:A,len:A-m,total:c,isClosed:m===0&&A===c&&Math.abs(h.x-l.x)<.1&&Math.abs(h.y-l.y)<.1}},H.findPointOnPath=function(t,r,s,n){n=n||{};for(var o=n.pathLength||t.getTotalLength(),f=n.tolerance||.001,u=n.iterationLimit||30,m=t.getPointAtLength(0)[s]>t.getPointAtLength(o)[s]?-1:1,c=0,A=0,h=o,l,p,M;c<u;){if(l=(A+h)/2,p=t.getPointAtLength(l),M=p[s]-r,Math.abs(M)<f)return p;m*M>0?h=l:A=l,c++}return p}},81697:function(W,H,e){var g=e(92770),R=e(84267),a=e(25075),C=e(21081),T=e(22399).defaultLine,v=e(73627).isArrayOrTypedArray,y=a(T),t=1;function r(u,m){var c=u;return c[3]*=m,c}function s(u){if(g(u))return y;var m=a(u);return m.length?m:y}function n(u){return g(u)?u:t}function o(u,m,c){var A=u.color,h=v(A),l=v(m),p=C.extractOpts(u),M=[],S,P,x,E,w;if(p.colorscale!==void 0?S=C.makeColorScaleFuncFromTrace(u):S=s,h?P=function(L,b){return L[b]===void 0?y:a(S(L[b]))}:P=s,l?x=function(L,b){return L[b]===void 0?t:n(L[b])}:x=n,h||l)for(var i=0;i<c;i++)E=P(A,i),w=x(m,i),M[i]=r(E,w);else M=r(a(A),m);return M}function f(u){var m=C.extractOpts(u),c=m.colorscale;return m.reversescale&&(c=C.flipScale(m.colorscale)),c.map(function(A){var h=A[0],l=R(A[1]),p=l.toRgb();return{index:h,rgb:[p.r,p.g,p.b,p.a]}})}W.exports={formatColor:o,parseColorScale:f}},28984:function(W,H,e){var g=e(23389);function R(a){return[a]}W.exports={keyFun:function(a){return a.key},repeat:R,descend:g,wrap:R,unwrap:function(a){return a[0]}}},23389:function(W){W.exports=function(e){return e}},39240:function(W){W.exports=function(e,g){if(!g)return e;var R=1/Math.abs(g),a=R>1?(R*e+R*g)/R:e+g,C=String(a).length;if(C>16){var T=String(g).length,v=String(e).length;if(C>=v+T){var y=parseFloat(a).toPrecision(12);y.indexOf("e+")===-1&&(a=+y)}}return a}},71828:function(W,H,e){var g=e(39898),R=e(84096).g0,a=e(60721).WU,C=e(92770),T=e(50606),v=T.FP_SAFE,y=-v,t=T.BADNUM,r=W.exports={};r.adjustFormat=function(le){return!le||/^\d[.]\df/.test(le)||/[.]\d%/.test(le)?le:le==="0.f"?"~f":/^\d%/.test(le)?"~%":/^\ds/.test(le)?"~s":!/^[~,.0$]/.test(le)&&/[&fps]/.test(le)?"~"+le:le};var s={};r.warnBadFormat=function(re){var le=String(re);s[le]||(s[le]=1,r.warn('encountered bad format: "'+le+'"'))},r.noFormat=function(re){return String(re)},r.numberFormat=function(re){var le;try{le=a(r.adjustFormat(re))}catch{return r.warnBadFormat(re),r.noFormat}return le},r.nestedProperty=e(65487),r.keyedContainer=e(66636),r.relativeAttr=e(6962),r.isPlainObject=e(41965),r.toLogRange=e(58163),r.relinkPrivateKeys=e(51332);var n=e(73627);r.isTypedArray=n.isTypedArray,r.isArrayOrTypedArray=n.isArrayOrTypedArray,r.isArray1D=n.isArray1D,r.ensureArray=n.ensureArray,r.concat=n.concat,r.maxRowLength=n.maxRowLength,r.minRowLength=n.minRowLength;var o=e(64872);r.mod=o.mod,r.modHalf=o.modHalf;var f=e(96554);r.valObjectMeta=f.valObjectMeta,r.coerce=f.coerce,r.coerce2=f.coerce2,r.coerceFont=f.coerceFont,r.coercePattern=f.coercePattern,r.coerceHoverinfo=f.coerceHoverinfo,r.coerceSelectionMarkerOpacity=f.coerceSelectionMarkerOpacity,r.validate=f.validate;var u=e(41631);r.dateTime2ms=u.dateTime2ms,r.isDateTime=u.isDateTime,r.ms2DateTime=u.ms2DateTime,r.ms2DateTimeLocal=u.ms2DateTimeLocal,r.cleanDate=u.cleanDate,r.isJSDate=u.isJSDate,r.formatDate=u.formatDate,r.incrementMonth=u.incrementMonth,r.dateTick0=u.dateTick0,r.dfltRange=u.dfltRange,r.findExactDates=u.findExactDates,r.MIN_MS=u.MIN_MS,r.MAX_MS=u.MAX_MS;var m=e(65888);r.findBin=m.findBin,r.sorterAsc=m.sorterAsc,r.sorterDes=m.sorterDes,r.distinctVals=m.distinctVals,r.roundUp=m.roundUp,r.sort=m.sort,r.findIndexOfMin=m.findIndexOfMin,r.sortObjectKeys=e(78607);var c=e(80038);r.aggNums=c.aggNums,r.len=c.len,r.mean=c.mean,r.median=c.median,r.midRange=c.midRange,r.variance=c.variance,r.stdev=c.stdev,r.interp=c.interp;var A=e(35657);r.init2dArray=A.init2dArray,r.transposeRagged=A.transposeRagged,r.dot=A.dot,r.translationMatrix=A.translationMatrix,r.rotationMatrix=A.rotationMatrix,r.rotationXYMatrix=A.rotationXYMatrix,r.apply3DTransform=A.apply3DTransform,r.apply2DTransform=A.apply2DTransform,r.apply2DTransform2=A.apply2DTransform2,r.convertCssMatrix=A.convertCssMatrix,r.inverseTransformMatrix=A.inverseTransformMatrix;var h=e(26348);r.deg2rad=h.deg2rad,r.rad2deg=h.rad2deg,r.angleDelta=h.angleDelta,r.angleDist=h.angleDist,r.isFullCircle=h.isFullCircle,r.isAngleInsideSector=h.isAngleInsideSector,r.isPtInsideSector=h.isPtInsideSector,r.pathArc=h.pathArc,r.pathSector=h.pathSector,r.pathAnnulus=h.pathAnnulus;var l=e(99863);r.isLeftAnchor=l.isLeftAnchor,r.isCenterAnchor=l.isCenterAnchor,r.isRightAnchor=l.isRightAnchor,r.isTopAnchor=l.isTopAnchor,r.isMiddleAnchor=l.isMiddleAnchor,r.isBottomAnchor=l.isBottomAnchor;var p=e(87642);r.segmentsIntersect=p.segmentsIntersect,r.segmentDistance=p.segmentDistance,r.getTextLocation=p.getTextLocation,r.clearLocationCache=p.clearLocationCache,r.getVisibleSegment=p.getVisibleSegment,r.findPointOnPath=p.findPointOnPath;var M=e(1426);r.extendFlat=M.extendFlat,r.extendDeep=M.extendDeep,r.extendDeepAll=M.extendDeepAll,r.extendDeepNoArrays=M.extendDeepNoArrays;var S=e(47769);r.log=S.log,r.warn=S.warn,r.error=S.error;var P=e(30587);r.counterRegex=P.counter;var x=e(79990);r.throttle=x.throttle,r.throttleDone=x.done,r.clearThrottle=x.clear;var E=e(24401);r.getGraphDiv=E.getGraphDiv,r.isPlotDiv=E.isPlotDiv,r.removeElement=E.removeElement,r.addStyleRule=E.addStyleRule,r.addRelatedStyleRule=E.addRelatedStyleRule,r.deleteRelatedStyleRule=E.deleteRelatedStyleRule,r.getFullTransformMatrix=E.getFullTransformMatrix,r.getElementTransformMatrix=E.getElementTransformMatrix,r.getElementAndAncestors=E.getElementAndAncestors,r.equalDomRects=E.equalDomRects,r.clearResponsive=e(86367),r.preserveDrawingBuffer=e(45142),r.makeTraceGroups=e(77310),r._=e(15867),r.notifier=e(75046),r.filterUnique=e(75744),r.filterVisible=e(76756),r.pushUnique=e(75138),r.increment=e(39240),r.cleanNumber=e(95218),r.ensureNumber=function(le){return C(le)?(le=Number(le),le>v||le<y?t:le):t},r.isIndex=function(re,le){return le!==void 0&&re>=le?!1:C(re)&&re>=0&&re%1===0},r.noop=e(64213),r.identity=e(23389),r.repeat=function(re,le){for(var q=new Array(le),ee=0;ee<le;ee++)q[ee]=re;return q},r.swapAttrs=function(re,le,q,ee){q||(q="x"),ee||(ee="y");for(var ue=0;ue<le.length;ue++){var se=le[ue],he=r.nestedProperty(re,se.replace("?",q)),me=r.nestedProperty(re,se.replace("?",ee)),Ce=he.get();he.set(me.get()),me.set(Ce)}},r.raiseToTop=function(le){le.parentNode.appendChild(le)},r.cancelTransition=function(re){return re.transition().duration(0)},r.constrain=function(re,le,q){return le>q?Math.max(q,Math.min(le,re)):Math.max(le,Math.min(q,re))},r.bBoxIntersect=function(re,le,q){return q=q||0,re.left<=le.right+q&&le.left<=re.right+q&&re.top<=le.bottom+q&&le.top<=re.bottom+q},r.simpleMap=function(re,le,q,ee,ue){for(var se=re.length,he=new Array(se),me=0;me<se;me++)he[me]=le(re[me],q,ee,ue);return he},r.randstr=function re(le,q,ee,ue){if(ee||(ee=16),q===void 0&&(q=24),q<=0)return"0";var se=Math.log(Math.pow(2,q))/Math.log(ee),he="",me,Ce,Te;for(me=2;se===1/0;me*=2)se=Math.log(Math.pow(2,q/me))/Math.log(ee)*me;var Oe=se-Math.floor(se);for(me=0;me<Math.floor(se);me++)Te=Math.floor(Math.random()*ee).toString(ee),he=Te+he;Oe&&(Ce=Math.pow(ee,Oe),Te=Math.floor(Math.random()*Ce).toString(ee),he=Te+he);var Ne=parseInt(he,ee);return le&&le[he]||Ne!==1/0&&Ne>=Math.pow(2,q)?ue>10?(r.warn("randstr failed uniqueness"),he):re(le,q,ee,(ue||0)+1):he},r.OptionControl=function(re,le){re||(re={}),le||(le="opt");var q={};return q.optionList=[],q._newoption=function(ee){ee[le]=re,q[ee.name]=ee,q.optionList.push(ee)},q["_"+le]=re,q},r.smooth=function(re,le){if(le=Math.round(le)||0,le<2)return re;var q=re.length,ee=2*q,ue=2*le-1,se=new Array(ue),he=new Array(q),me,Ce,Te,Oe;for(me=0;me<ue;me++)se[me]=(1-Math.cos(Math.PI*(me+1)/le))/(2*le);for(me=0;me<q;me++){for(Oe=0,Ce=0;Ce<ue;Ce++)Te=me+Ce+1-le,Te<-q?Te-=ee*Math.round(Te/ee):Te>=ee&&(Te-=ee*Math.floor(Te/ee)),Te<0?Te=-1-Te:Te>=q&&(Te=ee-1-Te),Oe+=re[Te]*se[Ce];he[me]=Oe}return he},r.syncOrAsync=function(re,le,q){var ee,ue;function se(){return r.syncOrAsync(re,le,q)}for(;re.length;)if(ue=re.splice(0,1)[0],ee=ue(le),ee&&ee.then)return ee.then(se);return q&&q(le)},r.stripTrailingSlash=function(re){return re.substr(-1)==="/"?re.substr(0,re.length-1):re},r.noneOrAll=function(re,le,q){if(re){var ee=!1,ue=!0,se,he;for(se=0;se<q.length;se++)he=re[q[se]],he!=null?ee=!0:ue=!1;if(ee&&!ue)for(se=0;se<q.length;se++)re[q[se]]=le[q[se]]}},r.mergeArray=function(re,le,q,ee){var ue=typeof ee=="function";if(r.isArrayOrTypedArray(re))for(var se=Math.min(re.length,le.length),he=0;he<se;he++){var me=re[he];le[he][q]=ue?ee(me):me}},r.mergeArrayCastPositive=function(re,le,q){return r.mergeArray(re,le,q,function(ee){var ue=+ee;return isFinite(ue)&&ue>0?ue:0})},r.fillArray=function(re,le,q,ee){if(ee=ee||r.identity,r.isArrayOrTypedArray(re))for(var ue=0;ue<le.length;ue++)le[ue][q]=ee(re[ue])},r.castOption=function(re,le,q,ee){ee=ee||r.identity;var ue=r.nestedProperty(re,q).get();return r.isArrayOrTypedArray(ue)?Array.isArray(le)&&r.isArrayOrTypedArray(ue[le[0]])?ee(ue[le[0]][le[1]]):ee(ue[le]):ue},r.extractOption=function(re,le,q,ee){if(q in re)return re[q];var ue=r.nestedProperty(le,ee).get();if(!Array.isArray(ue))return ue};function w(re){var le={};for(var q in re)for(var ee=re[q],ue=0;ue<ee.length;ue++)le[ee[ue]]=+q;return le}r.tagSelected=function(re,le,q){var ee=le.selectedpoints,ue=le._indexToPoints,se;ue&&(se=w(ue));function he(Ne){return Ne!==void 0&&Ne<re.length}for(var me=0;me<ee.length;me++){var Ce=ee[me];if(r.isIndex(Ce)||r.isArrayOrTypedArray(Ce)&&r.isIndex(Ce[0])&&r.isIndex(Ce[1])){var Te=se?se[Ce]:Ce,Oe=q?q[Te]:Te;he(Oe)&&(re[Oe].selected=1)}}},r.selIndices2selPoints=function(re){var le=re.selectedpoints,q=re._indexToPoints;if(q){for(var ee=w(q),ue=[],se=0;se<le.length;se++){var he=le[se];if(r.isIndex(he)){var me=ee[he];r.isIndex(me)&&ue.push(me)}}return ue}else return le},r.getTargetArray=function(re,le){var q=le.target;if(typeof q=="string"&&q){var ee=r.nestedProperty(re,q).get();return Array.isArray(ee)?ee:!1}else if(Array.isArray(q))return q;return!1};function i(re,le,q){var ee={};typeof le!="object"&&(le={});var ue=q==="pieLike"?-1:3,se=Object.keys(re),he,me,Ce;for(he=0;he<se.length;he++)me=se[he],Ce=re[me],!(me.charAt(0)==="_"||typeof Ce=="function")&&(me==="module"?ee[me]=Ce:Array.isArray(Ce)?me==="colorscale"||ue===-1?ee[me]=Ce.slice():ee[me]=Ce.slice(0,ue):r.isTypedArray(Ce)?ue===-1?ee[me]=Ce.subarray():ee[me]=Ce.subarray(0,ue):Ce&&typeof Ce=="object"?ee[me]=i(re[me],le[me],q):ee[me]=Ce);for(se=Object.keys(le),he=0;he<se.length;he++)me=se[he],Ce=le[me],(typeof Ce!="object"||!(me in ee)||typeof ee[me]!="object")&&(ee[me]=Ce);return ee}r.minExtend=i,r.titleCase=function(re){return re.charAt(0).toUpperCase()+re.substr(1)},r.containsAny=function(re,le){for(var q=0;q<le.length;q++)if(re.indexOf(le[q])!==-1)return!0;return!1},r.isIE=function(){return typeof window.navigator.msSaveBlob<"u"};var L=/Version\/[\d\.]+.*Safari/;r.isSafari=function(){return L.test(window.navigator.userAgent)};var b=/iPad|iPhone|iPod/;r.isIOS=function(){return b.test(window.navigator.userAgent)};var O=/Firefox\/(\d+)\.\d+/;r.getFirefoxVersion=function(){var re=O.exec(window.navigator.userAgent);if(re&&re.length===2){var le=parseInt(re[1]);if(!isNaN(le))return le}return null},r.isD3Selection=function(re){return re instanceof g.selection},r.ensureSingle=function(re,le,q,ee){var ue=re.select(le+(q?"."+q:""));if(ue.size())return ue;var se=re.append(le);return q&&se.classed(q,!0),ee&&se.call(ee),se},r.ensureSingleById=function(re,le,q,ee){var ue=re.select(le+"#"+q);if(ue.size())return ue;var se=re.append(le).attr("id",q);return ee&&se.call(ee),se},r.objectFromPath=function(re,le){for(var q=re.split("."),ee,ue=ee={},se=0;se<q.length;se++){var he=q[se],me=null,Ce=q[se].match(/(.*)\[([0-9]+)\]/);Ce?(he=Ce[1],me=Ce[2],ee=ee[he]=[],se===q.length-1?ee[me]=le:ee[me]={},ee=ee[me]):(se===q.length-1?ee[he]=le:ee[he]={},ee=ee[he])}return ue};var _=/^([^\[\.]+)\.(.+)?/,N=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;function z(re){return re.slice(0,2)==="__"}r.expandObjectPaths=function(re){var le,q,ee,ue,se,he,me;if(typeof re=="object"&&!Array.isArray(re)){for(q in re)if(re.hasOwnProperty(q))if(le=q.match(_)){if(ue=re[q],ee=le[1],z(ee))continue;delete re[q],re[ee]=r.extendDeepNoArrays(re[ee]||{},r.objectFromPath(q,r.expandObjectPaths(ue))[ee])}else if(le=q.match(N)){if(ue=re[q],ee=le[1],z(ee))continue;if(se=parseInt(le[2]),delete re[q],re[ee]=re[ee]||[],le[3]===".")me=le[4],he=re[ee][se]=re[ee][se]||{},r.extendDeepNoArrays(he,r.objectFromPath(me,r.expandObjectPaths(ue)));else{if(z(ee))continue;re[ee][se]=r.expandObjectPaths(ue)}}else{if(z(q))continue;re[q]=r.expandObjectPaths(re[q])}}return re},r.numSeparate=function(re,le,q){if(q||(q=!1),typeof le!="string"||le.length===0)throw new Error("Separator string required for formatting!");typeof re=="number"&&(re=String(re));var ee=/(\d+)(\d{3})/,ue=le.charAt(0),se=le.charAt(1),he=re.split("."),me=he[0],Ce=he.length>1?ue+he[1]:"";if(se&&(he.length>1||me.length>4||q))for(;ee.test(me);)me=me.replace(ee,"$1"+se+"$2");return me+Ce},r.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var B=/^\w*$/;r.templateString=function(re,le){var q={};return re.replace(r.TEMPLATE_STRING_REGEX,function(ee,ue){var se;return B.test(ue)?se=le[ue]:(q[ue]=q[ue]||r.nestedProperty(le,ue).get,se=q[ue]()),r.isValidTextValue(se)?se:""})};var U={max:10,count:0,name:"hovertemplate"};r.hovertemplateString=function(){return oe.apply(U,arguments)};var F={max:10,count:0,name:"texttemplate"};r.texttemplateString=function(){return oe.apply(F,arguments)};var V=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/;function j(re){var le=re.match(V);return le?{key:le[1],op:le[2],number:Number(le[3])}:{key:re,op:null,number:null}}var $={max:10,count:0,name:"texttemplate",parseMultDiv:!0};r.texttemplateStringForShapes=function(){return oe.apply($,arguments)};var ne=/^[:|\|]/;function oe(re,le,q){var ee=this,ue=arguments;le||(le={});var se={};return re.replace(r.TEMPLATE_STRING_REGEX,function(he,me,Ce){var Te=me==="xother"||me==="yother",Oe=me==="_xother"||me==="_yother",Ne=me==="_xother_"||me==="_yother_",Le=me==="xother_"||me==="yother_",be=Te||Oe||Le||Ne,Ae=me;(Oe||Ne)&&(Ae=Ae.substring(1)),(Le||Ne)&&(Ae=Ae.substring(0,Ae.length-1));var He=null,Ve=null;if(ee.parseMultDiv){var ke=j(Ae);Ae=ke.key,He=ke.op,Ve=ke.number}var Ge;if(be){if(Ge=le[Ae],Ge===void 0)return""}else{var it,et;for(et=3;et<ue.length;et++)if(it=ue[et],!!it){if(it.hasOwnProperty(Ae)){Ge=it[Ae];break}if(B.test(Ae)||(Ge=r.nestedProperty(it,Ae).get(),Ge=se[Ae]||r.nestedProperty(it,Ae).get(),Ge&&(se[Ae]=Ge)),Ge!==void 0)break}}if(Ge!==void 0&&(He==="*"&&(Ge*=Ve),He==="/"&&(Ge/=Ve)),Ge===void 0&&ee)return ee.count<ee.max&&(r.warn("Variable '"+Ae+"' in "+ee.name+" could not be found!"),Ge=he),ee.count===ee.max&&r.warn("Too many "+ee.name+" warnings - additional warnings will be suppressed"),ee.count++,he;if(Ce){var tt;if(Ce[0]===":"&&(tt=q?q.numberFormat:r.numberFormat,Ge=tt(Ce.replace(ne,""))(Ge)),Ce[0]==="|"){tt=q?q.timeFormat:R;var at=r.dateTime2ms(Ge);Ge=r.formatDate(at,Ce.replace(ne,""),!1,tt)}}else{var vt=Ae+"Label";le.hasOwnProperty(vt)&&(Ge=le[vt])}return be&&(Ge="("+Ge+")",(Oe||Ne)&&(Ge=" "+Ge),(Le||Ne)&&(Ge=Ge+" ")),Ge})}var ce=48,Q=57;r.subplotSort=function(re,le){for(var q=Math.min(re.length,le.length)+1,ee=0,ue=0,se=0;se<q;se++){var he=re.charCodeAt(se)||0,me=le.charCodeAt(se)||0,Ce=he>=ce&&he<=Q,Te=me>=ce&&me<=Q;if(Ce&&(ee=10*ee+he-ce),Te&&(ue=10*ue+me-ce),!Ce||!Te){if(ee!==ue)return ee-ue;if(he!==me)return he-me}}return ue-ee};var Z=2e9;r.seedPseudoRandom=function(){Z=2e9},r.pseudoRandom=function(){var re=Z;return Z=(69069*Z+1)%4294967296,Math.abs(Z-re)<429496729?r.pseudoRandom():Z/4294967296},r.fillText=function(re,le,q){var ee=Array.isArray(q)?function(he){q.push(he)}:function(he){q.text=he},ue=r.extractOption(re,le,"htx","hovertext");if(r.isValidTextValue(ue))return ee(ue);var se=r.extractOption(re,le,"tx","text");if(r.isValidTextValue(se))return ee(se)},r.isValidTextValue=function(re){return re||re===0},r.formatPercent=function(re,le){le=le||0;for(var q=(Math.round(100*re*Math.pow(10,le))*Math.pow(.1,le)).toFixed(le)+"%",ee=0;ee<le;ee++)q.indexOf(".")!==-1&&(q=q.replace("0%","%"),q=q.replace(".%","%"));return q},r.isHidden=function(re){var le=window.getComputedStyle(re).display;return!le||le==="none"},r.strTranslate=function(re,le){return re||le?"translate("+re+","+le+")":""},r.strRotate=function(re){return re?"rotate("+re+")":""},r.strScale=function(re){return re!==1?"scale("+re+")":""},r.getTextTransform=function(re){var le=re.noCenter,q=re.textX,ee=re.textY,ue=re.targetX,se=re.targetY,he=re.anchorX||0,me=re.anchorY||0,Ce=re.rotate,Te=re.scale;return Te?Te>1&&(Te=1):Te=0,r.strTranslate(ue-Te*(q+he),se-Te*(ee+me))+r.strScale(Te)+(Ce?"rotate("+Ce+(le?"":" "+q+" "+ee)+")":"")},r.setTransormAndDisplay=function(re,le){re.attr("transform",r.getTextTransform(le)),re.style("display",le.scale?null:"none")},r.ensureUniformFontSize=function(re,le){var q=r.extendFlat({},le);return q.size=Math.max(le.size,re._fullLayout.uniformtext.minsize||0),q},r.join2=function(re,le,q){var ee=re.length;return ee>1?re.slice(0,-1).join(le)+q+re[ee-1]:re.join(le)},r.bigFont=function(re){return Math.round(1.2*re)};var K=r.getFirefoxVersion(),J=K!==null&&K<86;r.getPositionFromD3Event=function(){return J?[g.event.layerX,g.event.layerY]:[g.event.offsetX,g.event.offsetY]}},41965:function(W){W.exports=function(e){return window&&window.process&&window.process.versions?Object.prototype.toString.call(e)==="[object Object]":Object.prototype.toString.call(e)==="[object Object]"&&Object.getPrototypeOf(e).hasOwnProperty("hasOwnProperty")}},66636:function(W,H,e){var g=e(65487),R=/^\w*$/,a=0,C=1,T=2,v=3,y=4;W.exports=function(r,s,n,o){n=n||"name",o=o||"value";var f,u,m,c={};s&&s.length?(m=g(r,s),u=m.get()):u=r,s=s||"";var A={};if(u)for(f=0;f<u.length;f++)A[u[f][n]]=f;var h=R.test(o),l={set:function(p,M){var S=M===null?y:a;if(!u){if(!m||S===y)return;u=[],m.set(u)}var P=A[p];if(P===void 0){if(S===y)return;S=S|v,P=u.length,A[p]=P}else M!==(h?u[P][o]:g(u[P],o).get())&&(S=S|T);var x=u[P]=u[P]||{};return x[n]=p,h?x[o]=M:g(x,o).set(M),M!==null&&(S=S&~y),c[P]=c[P]|S,l},get:function(p){if(u){var M=A[p];if(M!==void 0)return h?u[M][o]:g(u[M],o).get()}},rename:function(p,M){var S=A[p];return S===void 0||(c[S]=c[S]|C,A[M]=S,delete A[p],u[S][n]=M),l},remove:function(p){var M=A[p];if(M===void 0)return l;var S=u[M];if(Object.keys(S).length>2)return c[M]=c[M]|T,l.set(p,null);if(h){for(f=M;f<u.length;f++)c[f]=c[f]|v;for(f=M;f<u.length;f++)A[u[f][n]]--;u.splice(M,1),delete A[p]}else g(S,o).set(null),c[M]=c[M]|T|y;return l},constructUpdate:function(){for(var p,M,S={},P=Object.keys(c),x=0;x<P.length;x++)M=P[x],p=s+"["+M+"]",u[M]?(c[M]&C&&(S[p+"."+n]=u[M][n]),c[M]&T&&(h?S[p+"."+o]=c[M]&y?null:u[M][o]:S[p+"."+o]=c[M]&y?null:g(u[M],o).get())):S[p]=null;return S}};return l}},15867:function(W,H,e){var g=e(73972);W.exports=function(a,C){for(var T=a._context.locale,v=0;v<2;v++){for(var y=a._context.locales,t=0;t<2;t++){var r=(y[T]||{}).dictionary;if(r){var s=r[C];if(s)return s}y=g.localeRegistry}var n=T.split("-")[0];if(n===T)break;T=n}return C}},47769:function(W,H,e){var g=e(72075).dfltConfig,R=e(75046),a=W.exports={};a.log=function(){var C;if(g.logging>1){var T=["LOG:"];for(C=0;C<arguments.length;C++)T.push(arguments[C]);console.trace.apply(console,T)}if(g.notifyOnLogging>1){var v=[];for(C=0;C<arguments.length;C++)v.push(arguments[C]);R(v.join("<br>"),"long")}},a.warn=function(){var C;if(g.logging>0){var T=["WARN:"];for(C=0;C<arguments.length;C++)T.push(arguments[C]);console.trace.apply(console,T)}if(g.notifyOnLogging>0){var v=[];for(C=0;C<arguments.length;C++)v.push(arguments[C]);R(v.join("<br>"),"stick")}},a.error=function(){var C;if(g.logging>0){var T=["ERROR:"];for(C=0;C<arguments.length;C++)T.push(arguments[C]);console.error.apply(console,T)}if(g.notifyOnLogging>0){var v=[];for(C=0;C<arguments.length;C++)v.push(arguments[C]);R(v.join("<br>"),"stick")}}},77310:function(W,H,e){var g=e(39898);W.exports=function(a,C,T){var v=a.selectAll("g."+T.replace(/\s/g,".")).data(C,function(t){return t[0].trace.uid});v.exit().remove(),v.enter().append("g").attr("class",T),v.order();var y=a.classed("rangeplot")?"nodeRangePlot3":"node3";return v.each(function(t){t[0][y]=g.select(this)}),v}},35657:function(W,H,e){var g=e(79576);H.init2dArray=function(R,a){for(var C=new Array(R),T=0;T<R;T++)C[T]=new Array(a);return C},H.transposeRagged=function(R){var a=0,C=R.length,T,v;for(T=0;T<C;T++)a=Math.max(a,R[T].length);var y=new Array(a);for(T=0;T<a;T++)for(y[T]=new Array(C),v=0;v<C;v++)y[T][v]=R[v][T];return y},H.dot=function(R,a){if(!(R.length&&a.length)||R.length!==a.length)return null;var C=R.length,T,v;if(R[0].length)for(T=new Array(C),v=0;v<C;v++)T[v]=H.dot(R[v],a);else if(a[0].length){var y=H.transposeRagged(a);for(T=new Array(y.length),v=0;v<y.length;v++)T[v]=H.dot(R,y[v])}else for(T=0,v=0;v<C;v++)T+=R[v]*a[v];return T},H.translationMatrix=function(R,a){return[[1,0,R],[0,1,a],[0,0,1]]},H.rotationMatrix=function(R){var a=R*Math.PI/180;return[[Math.cos(a),-Math.sin(a),0],[Math.sin(a),Math.cos(a),0],[0,0,1]]},H.rotationXYMatrix=function(R,a,C){return H.dot(H.dot(H.translationMatrix(a,C),H.rotationMatrix(R)),H.translationMatrix(-a,-C))},H.apply3DTransform=function(R){return function(){var a=arguments,C=arguments.length===1?a[0]:[a[0],a[1],a[2]||0];return H.dot(R,[C[0],C[1],C[2],1]).slice(0,3)}},H.apply2DTransform=function(R){return function(){var a=arguments;a.length===3&&(a=a[0]);var C=arguments.length===1?a[0]:[a[0],a[1]];return H.dot(R,[C[0],C[1],1]).slice(0,2)}},H.apply2DTransform2=function(R){var a=H.apply2DTransform(R);return function(C){return a(C.slice(0,2)).concat(a(C.slice(2,4)))}},H.convertCssMatrix=function(R){if(R){var a=R.length;if(a===16)return R;if(a===6)return[R[0],R[1],0,0,R[2],R[3],0,0,0,0,1,0,R[4],R[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},H.inverseTransformMatrix=function(R){var a=[];return g.invert(a,R),[[a[0],a[1],a[2],a[3]],[a[4],a[5],a[6],a[7]],[a[8],a[9],a[10],a[11]],[a[12],a[13],a[14],a[15]]]}},64872:function(W){function H(g,R){var a=g%R;return a<0?a+R:a}function e(g,R){return Math.abs(g)>R/2?g-Math.round(g/R)*R:g}W.exports={mod:H,modHalf:e}},65487:function(W,H,e){var g=e(92770),R=e(73627).isArrayOrTypedArray;W.exports=function(o,f){if(g(f))f=String(f);else if(typeof f!="string"||f.substr(f.length-4)==="[-1]")throw"bad property string";var u=f.split("."),m,c,A,h;for(h=0;h<u.length;h++)if(String(u[h]).slice(0,2)==="__")throw"bad property string";for(h=0;h<u.length;){if(m=String(u[h]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/),m){if(m[1])u[h]=m[1];else if(h===0)u.splice(0,1);else throw"bad property string";for(c=m[2].substr(1,m[2].length-2).split("]["),A=0;A<c.length;A++)h++,u.splice(h,0,Number(c[A]))}h++}return typeof o!="object"?s(o,f,u):{set:v(o,u,f),get:a(o,u),astr:f,parts:u,obj:o}};function a(n,o){return function(){var f=n,u,m,c,A,h;for(A=0;A<o.length-1;A++){if(u=o[A],u===-1){for(m=!0,c=[],h=0;h<f.length;h++)c[h]=a(f[h],o.slice(A+1))(),c[h]!==c[0]&&(m=!1);return m?c[0]:c}if(typeof u=="number"&&!R(f)||(f=f[u],typeof f!="object"||f===null))return}if(!(typeof f!="object"||f===null)&&(c=f[o[A]],c!==null))return c}}var C=/(^|\.)args\[/;function T(n,o){return n===void 0||n===null&&!o.match(C)}function v(n,o,f){return function(u){var m=n,c="",A=T(u,f),h,l;for(l=0;l<o.length-1;l++){if(h=o[l],typeof h=="number"&&!R(m))throw"array index but container is not an array";if(h===-1){if(A=!t(m,o.slice(l+1),u,f),A)break;return}if(!r(m,h,o[l+1],A))break;if(m=m[h],typeof m!="object"||m===null)throw"container is not an object";c=y(c,h)}if(A){if(l===o.length-1&&(delete m[o[l]],Array.isArray(m)&&+o[l]===m.length-1))for(;m.length&&m[m.length-1]===void 0;)m.pop()}else m[o[l]]=u}}function y(n,o){var f=o;return g(o)?f="["+o+"]":n&&(f="."+o),n+f}function t(n,o,f,u){var m=R(f),c=!0,A=f,h=u.replace("-1",0),l=m?!1:T(f,h),p=o[0],M;for(M=0;M<n.length;M++)h=u.replace("-1",M),m&&(A=f[M%f.length],l=T(A,h)),l&&(c=!1),r(n,M,p,l)&&v(n[M],o,u.replace("-1",M))(A);return c}function r(n,o,f,u){if(n[o]===void 0){if(u)return!1;typeof f=="number"?n[o]=[]:n[o]={}}return!0}function s(n,o,f){return{set:function(){throw"bad container"},get:function(){},astr:o,parts:f,obj:n}}},64213:function(W){W.exports=function(){}},75046:function(W,H,e){var g=e(39898),R=e(92770),a=[];W.exports=function(C,T){if(a.indexOf(C)!==-1)return;a.push(C);var v=1e3;R(T)?v=T:T==="long"&&(v=3e3);var y=g.select("body").selectAll(".plotly-notifier").data([0]);y.enter().append("div").classed("plotly-notifier",!0);var t=y.selectAll(".notifier-note").data(a);function r(s){s.duration(700).style("opacity",0).each("end",function(n){var o=a.indexOf(n);o!==-1&&a.splice(o,1),g.select(this).remove()})}t.enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(s){var n=g.select(this);n.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){n.transition().call(r)});for(var o=n.append("p"),f=s.split(/<br\s*\/?>/g),u=0;u<f.length;u++)u&&o.append("br"),o.append("span").text(f[u]);T==="stick"?n.transition().duration(350).style("opacity",1):n.transition().duration(700).style("opacity",1).transition().delay(v).call(r)})}},39918:function(W,H,e){var g=e(6964),R="data-savedcursor",a="!!";W.exports=function(T,v){var y=T.attr(R);if(v){if(!y){for(var t=(T.attr("class")||"").split(" "),r=0;r<t.length;r++){var s=t[r];s.indexOf("cursor-")===0&&T.attr(R,s.substr(7)).classed(s,!1)}T.attr(R)||T.attr(R,a)}g(T,v)}else y&&(T.attr(R,null),y===a?g(T):g(T,y))}},61082:function(W,H,e){var g=e(35657).dot,R=e(50606).BADNUM,a=W.exports={};a.tester=function(T){var v=T.slice(),y=v[0][0],t=y,r=v[0][1],s=r,n;for((v[v.length-1][0]!==v[0][0]||v[v.length-1][1]!==v[0][1])&&v.push(v[0]),n=1;n<v.length;n++)y=Math.min(y,v[n][0]),t=Math.max(t,v[n][0]),r=Math.min(r,v[n][1]),s=Math.max(s,v[n][1]);var o=!1,f;v.length===5&&(v[0][0]===v[1][0]?v[2][0]===v[3][0]&&v[0][1]===v[3][1]&&v[1][1]===v[2][1]&&(o=!0,f=function(h){return h[0]===v[0][0]}):v[0][1]===v[1][1]&&v[2][1]===v[3][1]&&v[0][0]===v[3][0]&&v[1][0]===v[2][0]&&(o=!0,f=function(h){return h[1]===v[0][1]}));function u(h,l){var p=h[0],M=h[1];return!(p===R||p<y||p>t||M===R||M<r||M>s||l&&f(h))}function m(h,l){var p=h[0],M=h[1];if(p===R||p<y||p>t||M===R||M<r||M>s)return!1;var S=v.length,P=v[0][0],x=v[0][1],E=0,w,i,L,b,O;for(w=1;w<S;w++)if(i=P,L=x,P=v[w][0],x=v[w][1],b=Math.min(i,P),!(p<b||p>Math.max(i,P)||M>Math.max(L,x)))if(M<Math.min(L,x))p!==b&&E++;else{if(P===i?O=M:O=L+(p-i)*(x-L)/(P-i),M===O)return!(w===1&&l);M<=O&&p!==b&&E++}return E%2===1}var c=!0,A=v[0];for(n=1;n<v.length;n++)if(A[0]!==v[n][0]||A[1]!==v[n][1]){c=!1;break}return{xmin:y,xmax:t,ymin:r,ymax:s,pts:v,contains:o?u:m,isRect:o,degenerate:c}},a.isSegmentBent=function(T,v,y,t){var r=T[v],s=[T[y][0]-r[0],T[y][1]-r[1]],n=g(s,s),o=Math.sqrt(n),f=[-s[1]/o,s[0]/o],u,m,c;for(u=v+1;u<y;u++)if(m=[T[u][0]-r[0],T[u][1]-r[1]],c=g(m,s),c<0||c>n||Math.abs(g(m,f))>t)return!0;return!1},a.filter=function(T,v){var y=[T[0]],t=0,r=0;function s(o){T.push(o);var f=y.length,u=t;y.splice(r+1);for(var m=u+1;m<T.length;m++)(m===T.length-1||a.isSegmentBent(T,u,m+1,v))&&(y.push(T[m]),y.length<f-2&&(t=m,r=y.length-1),u=m)}if(T.length>1){var n=T.pop();s(n)}return{addPt:s,raw:T,filtered:y}}},79749:function(W,H,e){var g=e(58617),R=e(98580);W.exports=function(C,T,v){var y=C._fullLayout,t=!0;return y._glcanvas.each(function(r){if(r.regl){r.regl.preloadCachedCode(v);return}if(!(r.pick&&!y._has("parcoords"))){try{r.regl=R({canvas:this,attributes:{antialias:!r.pick,preserveDrawingBuffer:!0},pixelRatio:C._context.plotGlPixelRatio||e.g.devicePixelRatio,extensions:T||[],cachedCode:v||{}})}catch{t=!1}r.regl||(t=!1),t&&this.addEventListener("webglcontextlost",function(s){C&&C.emit&&C.emit("plotly_webglcontextlost",{event:s,layer:r.key})},!1)}}),t||g({container:y._glcontainer.node()}),t}},45142:function(W,H,e){var g=e(92770),R=e(35791);W.exports=function(T){var v;if(T&&T.hasOwnProperty("userAgent")?v=T.userAgent:v=a(),typeof v!="string")return!0;var y=R({ua:{headers:{"user-agent":v}},tablet:!0,featureDetect:!1});if(!y)for(var t=v.split(" "),r=1;r<t.length;r++){var s=t[r];if(s.indexOf("Safari")!==-1)for(var n=r-1;n>-1;n--){var o=t[n];if(o.substr(0,8)==="Version/"){var f=o.substr(8).split(".")[0];if(g(f)&&(f=+f),f>=13)return!0}}}return y};function a(){var C;return typeof navigator<"u"&&(C=navigator.userAgent),C&&C.headers&&typeof C.headers["user-agent"]=="string"&&(C=C.headers["user-agent"]),C}},75138:function(W){W.exports=function(e,g){if(g instanceof RegExp){for(var R=g.toString(),a=0;a<e.length;a++)if(e[a]instanceof RegExp&&e[a].toString()===R)return e;e.push(g)}else(g||g===0)&&e.indexOf(g)===-1&&e.push(g);return e}},10847:function(W,H,e){var g=e(71828),R=e(72075).dfltConfig;function a(T,v){for(var y=[],t,r=0;r<v.length;r++)t=v[r],t===T?y[r]=t:typeof t=="object"?y[r]=Array.isArray(t)?g.extendDeep([],t):g.extendDeepAll({},t):y[r]=t;return y}var C={};C.add=function(T,v,y,t,r){var s,n;if(T.undoQueue=T.undoQueue||{index:0,queue:[],sequence:!1},n=T.undoQueue.index,T.autoplay){T.undoQueue.inSequence||(T.autoplay=!1);return}!T.undoQueue.sequence||T.undoQueue.beginSequence?(s={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},T.undoQueue.queue.splice(n,T.undoQueue.queue.length-n,s),T.undoQueue.index+=1):s=T.undoQueue.queue[n-1],T.undoQueue.beginSequence=!1,s&&(s.undo.calls.unshift(v),s.undo.args.unshift(y),s.redo.calls.push(t),s.redo.args.push(r)),T.undoQueue.queue.length>R.queueLength&&(T.undoQueue.queue.shift(),T.undoQueue.index--)},C.startSequence=function(T){T.undoQueue=T.undoQueue||{index:0,queue:[],sequence:!1},T.undoQueue.sequence=!0,T.undoQueue.beginSequence=!0},C.stopSequence=function(T){T.undoQueue=T.undoQueue||{index:0,queue:[],sequence:!1},T.undoQueue.sequence=!1,T.undoQueue.beginSequence=!1},C.undo=function(v){var y,t;if(!(v.undoQueue===void 0||isNaN(v.undoQueue.index)||v.undoQueue.index<=0)){for(v.undoQueue.index--,y=v.undoQueue.queue[v.undoQueue.index],v.undoQueue.inSequence=!0,t=0;t<y.undo.calls.length;t++)C.plotDo(v,y.undo.calls[t],y.undo.args[t]);v.undoQueue.inSequence=!1,v.autoplay=!1}},C.redo=function(v){var y,t;if(!(v.undoQueue===void 0||isNaN(v.undoQueue.index)||v.undoQueue.index>=v.undoQueue.queue.length)){for(y=v.undoQueue.queue[v.undoQueue.index],v.undoQueue.inSequence=!0,t=0;t<y.redo.calls.length;t++)C.plotDo(v,y.redo.calls[t],y.redo.args[t]);v.undoQueue.inSequence=!1,v.autoplay=!1,v.undoQueue.index++}},C.plotDo=function(T,v,y){T.autoplay=!0,y=a(T,y),v.apply(null,y)},W.exports=C},30587:function(W,H){H.counter=function(e,g,R,a){var C=(g||"")+(R?"":"$"),T=a===!1?"":"^";return e==="xy"?new RegExp(T+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+C):new RegExp(T+e+"([2-9]|[1-9][0-9]+)?"+C)}},6962:function(W){var H=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,e=/^[^\.\[\]]+$/;W.exports=function(g,R){for(;R;){var a=g.match(H);if(a)g=a[1];else if(g.match(e))g="";else throw new Error("bad relativeAttr call:"+[g,R]);if(R.charAt(0)==="^")R=R.slice(1);else break}return g&&R.charAt(0)!=="["?g+"."+R:g+R}},51332:function(W,H,e){var g=e(73627).isArrayOrTypedArray,R=e(41965);W.exports=function a(C,T){for(var v in T){var y=T[v],t=C[v];if(t!==y)if(v.charAt(0)==="_"||typeof y=="function"){if(v in C)continue;C[v]=y}else if(g(y)&&g(t)&&R(y[0])){if(v==="customdata"||v==="ids")continue;for(var r=Math.min(y.length,t.length),s=0;s<r;s++)t[s]!==y[s]&&R(y[s])&&R(t[s])&&a(t[s],y[s])}else R(y)&&R(t)&&(a(t,y),Object.keys(t).length||delete C[v])}}},65888:function(W,H,e){var g=e(92770),R=e(47769),a=e(23389),C=e(50606).BADNUM,T=1e-9;H.findBin=function(s,n,o){if(g(n.start))return o?Math.ceil((s-n.start)/n.size-T)-1:Math.floor((s-n.start)/n.size+T);var f=0,u=n.length,m=0,c=u>1?(n[u-1]-n[0])/(u-1):1,A,h;for(c>=0?h=o?v:y:h=o?r:t,s+=c*T*(o?-1:1)*(c>=0?1:-1);f<u&&m++<100;)A=Math.floor((f+u)/2),h(n[A],s)?f=A+1:u=A;return m>90&&R.log("Long binary search..."),f-1};function v(s,n){return s<n}function y(s,n){return s<=n}function t(s,n){return s>n}function r(s,n){return s>=n}H.sorterAsc=function(s,n){return s-n},H.sorterDes=function(s,n){return n-s},H.distinctVals=function(s){var n=s.slice();n.sort(H.sorterAsc);var o;for(o=n.length-1;o>-1&&n[o]===C;o--);for(var f=n[o]-n[0]||1,u=f/(o||1)/1e4,m=[],c,A=0;A<=o;A++){var h=n[A],l=h-c;c===void 0?(m.push(h),c=h):l>u&&(f=Math.min(f,l),m.push(h),c=h)}return{vals:m,minDiff:f}},H.roundUp=function(s,n,o){for(var f=0,u=n.length-1,m,c=0,A=o?0:1,h=o?1:0,l=o?Math.ceil:Math.floor;f<u&&c++<100;)m=l((f+u)/2),n[m]<=s?f=m+A:u=m-h;return n[f]},H.sort=function(s,n){for(var o=0,f=0,u=1;u<s.length;u++){var m=n(s[u],s[u-1]);if(m<0?o=1:m>0&&(f=1),o&&f)return s.sort(n)}return f?s:s.reverse()},H.findIndexOfMin=function(s,n){n=n||a;for(var o=1/0,f,u=0;u<s.length;u++){var m=n(s[u]);m<o&&(o=m,f=u)}return f}},6964:function(W){W.exports=function(e,g){(e.attr("class")||"").split(" ").forEach(function(R){R.indexOf("cursor-")===0&&e.classed(R,!1)}),g&&e.classed("cursor-"+g,!0)}},58617:function(W,H,e){var g=e(7901),R=function(){};W.exports=function(C){for(var T in C)typeof C[T]=="function"&&(C[T]=R);C.destroy=function(){C.container.parentNode.removeChild(C.container)};var v=document.createElement("div");v.className="no-webgl",v.style.cursor="pointer",v.style.fontSize="24px",v.style.color=g.defaults[0],v.style.position="absolute",v.style.left=v.style.top="0px",v.style.width=v.style.height="100%",v.style["background-color"]=g.lightLine,v.style["z-index"]=30;var y=document.createElement("p");return y.textContent="WebGL is not supported by your browser - visit https://get.webgl.org for more info",y.style.position="relative",y.style.top="50%",y.style.left="50%",y.style.height="30%",y.style.width="50%",y.style.margin="-15% 0 0 -25%",v.appendChild(y),C.container.appendChild(v),C.container.style.background="#FFFFFF",C.container.onclick=function(){window.open("https://get.webgl.org")},!1}},78607:function(W){W.exports=function(e){return Object.keys(e).sort()}},80038:function(W,H,e){var g=e(92770),R=e(73627).isArrayOrTypedArray;H.aggNums=function(a,C,T,v){var y,t;if((!v||v>T.length)&&(v=T.length),g(C)||(C=!1),R(T[0])){for(t=new Array(v),y=0;y<v;y++)t[y]=H.aggNums(a,C,T[y]);T=t}for(y=0;y<v;y++)g(C)?g(T[y])&&(C=a(+C,+T[y])):C=T[y];return C},H.len=function(a){return H.aggNums(function(C){return C+1},0,a)},H.mean=function(a,C){return C||(C=H.len(a)),H.aggNums(function(T,v){return T+v},0,a)/C},H.midRange=function(a){if(!(a===void 0||a.length===0))return(H.aggNums(Math.max,null,a)+H.aggNums(Math.min,null,a))/2},H.variance=function(a,C,T){return C||(C=H.len(a)),g(T)||(T=H.mean(a,C)),H.aggNums(function(v,y){return v+Math.pow(y-T,2)},0,a)/C},H.stdev=function(a,C,T){return Math.sqrt(H.variance(a,C,T))},H.median=function(a){var C=a.slice().sort();return H.interp(C,.5)},H.interp=function(a,C){if(!g(C))throw"n should be a finite number";if(C=C*a.length-.5,C<0)return a[0];if(C>a.length-1)return a[a.length-1];var T=C%1;return T*a[Math.ceil(C)]+(1-T)*a[Math.floor(C)]}},78614:function(W,H,e){var g=e(25075);function R(a){return a?g(a):[0,0,0,1]}W.exports=R},3883:function(W,H,e){var g=e(32396),R=e(91424),a=e(71828),C=null;function T(){if(C!==null)return C;C=!1;var v=a.isIE()||a.isSafari()||a.isIOS();if(window.navigator.userAgent&&!v){var y=Array.from(g.CSS_DECLARATIONS).reverse(),t=window.CSS&&window.CSS.supports||window.supportsCSS;if(typeof t=="function")C=y.some(function(o){return t.apply(null,o)});else{var r=R.tester.append("image").attr("style",g.STYLE),s=window.getComputedStyle(r.node()),n=s.imageRendering;C=y.some(function(o){var f=o[1];return n===f||n===f.toLowerCase()}),r.remove()}}return C}W.exports=T},63893:function(W,H,e){var g=e(39898),R=e(71828),a=R.strTranslate,C=e(77922),T=e(18783).LINE_SPACING,v=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;H.convertToTspans=function(U,F,V){var j=U.text(),$=!U.attr("data-notex")&&F&&F._context.typesetMath&&typeof MathJax<"u"&&j.match(v),ne=g.select(U.node().parentNode);if(ne.empty())return;var oe=U.attr("class")?U.attr("class").split(" ")[0]:"text";oe+="-math",ne.selectAll("svg."+oe).remove(),ne.selectAll("g."+oe+"-group").remove(),U.style("display",null).attr({"data-unformatted":j,"data-math":"N"});function ce(){ne.empty()||(oe=U.attr("class")+"-math",ne.select("svg."+oe).remove()),U.text("").style("white-space","pre");var Q=_(U.node(),j);Q&&U.style("pointer-events","all"),H.positionText(U),V&&V.call(U)}return $?(F&&F._promises||[]).push(new Promise(function(Q){U.style("display","none");var Z=parseInt(U.node().style.fontSize,10),K={fontSize:Z};n($[2],K,function(J,re,le){ne.selectAll("svg."+oe).remove(),ne.selectAll("g."+oe+"-group").remove();var q=J&&J.select("svg");if(!q||!q.node()){ce(),Q();return}var ee=ne.append("g").classed(oe+"-group",!0).attr({"pointer-events":"none","data-unformatted":j,"data-math":"Y"});ee.node().appendChild(q.node()),re&&re.node()&&q.node().insertBefore(re.node().cloneNode(!0),q.node().firstChild);var ue=le.width,se=le.height;q.attr({class:oe,height:se,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var he=U.node().style.fill||"black",me=q.select("g");me.attr({fill:he,stroke:he});var Ce=me.node().getBoundingClientRect(),Te=Ce.width,Oe=Ce.height;(Te>ue||Oe>se)&&(q.style("overflow","hidden"),Ce=q.node().getBoundingClientRect(),Te=Ce.width,Oe=Ce.height);var Ne=+U.attr("x"),Le=+U.attr("y"),be=Z||U.node().getBoundingClientRect().height,Ae=-be/4;if(oe[0]==="y")ee.attr({transform:"rotate("+[-90,Ne,Le]+")"+a(-Te/2,Ae-Oe/2)});else if(oe[0]==="l")Le=Ae-Oe/2;else if(oe[0]==="a"&&oe.indexOf("atitle")!==0)Ne=0,Le=Ae;else{var He=U.attr("text-anchor");Ne=Ne-Te*(He==="middle"?.5:He==="end"?1:0),Le=Le+Ae-Oe/2}q.attr({x:Ne,y:Le}),V&&V.call(U,ee),Q(ee)})})):ce(),U};var y=/(<|&lt;|&#60;)/g,t=/(>|&gt;|&#62;)/g;function r(U){return U.replace(y,"\\lt ").replace(t,"\\gt ")}var s=[["$","$"],["\\(","\\)"]];function n(U,F,V){var j=parseInt((MathJax.version||"").split(".")[0]);if(j!==2&&j!==3){R.warn("No MathJax version:",MathJax.version);return}var $,ne,oe,ce,Q=function(){return ne=R.extendDeepAll({},MathJax.Hub.config),oe=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:s},displayAlign:"left"})},Z=function(){ne=R.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=s},K=function(){if($=MathJax.Hub.config.menuSettings.renderer,$!=="SVG")return MathJax.Hub.setRenderer("SVG")},J=function(){$=MathJax.config.startup.output,$!=="svg"&&(MathJax.config.startup.output="svg")},re=function(){var he="math-output-"+R.randstr({},64);ce=g.select("body").append("div").attr({id:he}).style({visibility:"hidden",position:"absolute","font-size":F.fontSize+"px"}).text(r(U));var me=ce.node();return j===2?MathJax.Hub.Typeset(me):MathJax.typeset([me])},le=function(){var he=ce.select(j===2?".MathJax_SVG":".MathJax"),me=!he.empty()&&ce.select("svg").node();if(!me)R.log("There was an error in the tex syntax.",U),V();else{var Ce=me.getBoundingClientRect(),Te;j===2?Te=g.select("body").select("#MathJax_SVG_glyphs"):Te=he.select("defs"),V(he,Te,Ce)}ce.remove()},q=function(){if($!=="SVG")return MathJax.Hub.setRenderer($)},ee=function(){$!=="svg"&&(MathJax.config.startup.output=$)},ue=function(){return oe!==void 0&&(MathJax.Hub.processSectionDelay=oe),MathJax.Hub.Config(ne)},se=function(){MathJax.config=ne};j===2?MathJax.Hub.Queue(Q,K,re,le,q,ue):j===3&&(Z(),J(),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){re(),le(),ee(),se()}))}var o={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},f={sub:"0.3em",sup:"-0.6em"},u={sub:"-0.21em",sup:"0.42em"},m="",c=["http:","https:","mailto:","",void 0,":"],A=H.NEWLINES=/(\r\n?|\n)/g,h=/(<[^<>]*>)/,l=/<(\/?)([^ >]*)(\s+(.*))?>/i,p=/<br(\s+.*)?>/i;H.BR_TAG_ALL=/<br(\s+.*)?>/gi;var M=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,S=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,P=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,x=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function E(U,F){if(!U)return null;var V=U.match(F),j=V&&(V[3]||V[4]);return j&&b(j)}var w=/(^|;)\s*color:/;H.plainText=function(U,F){F=F||{};for(var V=F.len!==void 0&&F.len!==-1?F.len:1/0,j=F.allowedTags!==void 0?F.allowedTags:["br"],$="...",ne=$.length,oe=U.split(h),ce=[],Q="",Z=0,K=0;K<oe.length;K++){var J=oe[K],re=J.match(l),le=re&&re[2].toLowerCase();if(le)j.indexOf(le)!==-1&&(ce.push(J),Q=le);else{var q=J.length;if(Z+q<V)ce.push(J),Z+=q;else if(Z<V){var ee=V-Z;Q&&(Q!=="br"||ee<=ne||q<=ne)&&ce.pop(),V>ne?ce.push(J.substr(0,ee-ne)+$):ce.push(J.substr(0,ee));break}Q=""}}return ce.join("")};var i={mu:"",amp:"&",lt:"<",gt:">",nbsp:"",times:"",plusmn:"",deg:""},L=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function b(U){return U.replace(L,function(F,V){var j;return V.charAt(0)==="#"?j=O(V.charAt(1)==="x"?parseInt(V.substr(2),16):parseInt(V.substr(1),10)):j=i[V],j||F})}H.convertEntities=b;function O(U){if(!(U>1114111)){var F=String.fromCodePoint;if(F)return F(U);var V=String.fromCharCode;return U<=65535?V(U):V((U>>10)+55232,U%1024+56320)}}function _(U,F){F=F.replace(A," ");var V=!1,j=[],$,ne=-1;function oe(){ne++;var Oe=document.createElementNS(C.svg,"tspan");g.select(Oe).attr({class:"line",dy:ne*T+"em"}),U.appendChild(Oe),$=Oe;var Ne=j;if(j=[{node:Oe}],Ne.length>1)for(var Le=1;Le<Ne.length;Le++)ce(Ne[Le])}function ce(Oe){var Ne=Oe.type,Le={},be;if(Ne==="a"){be="a";var Ae=Oe.target,He=Oe.href,Ve=Oe.popup;He&&(Le={"xlink:xlink:show":Ae==="_blank"||Ae.charAt(0)!=="_"?"new":"replace",target:Ae,"xlink:xlink:href":He},Ve&&(Le.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+Ve+'");return false;'))}else be="tspan";Oe.style&&(Le.style=Oe.style);var ke=document.createElementNS(C.svg,be);if(Ne==="sup"||Ne==="sub"){Q($,m),$.appendChild(ke);var Ge=document.createElementNS(C.svg,"tspan");Q(Ge,m),g.select(Ge).attr("dy",u[Ne]),Le.dy=f[Ne],$.appendChild(ke),$.appendChild(Ge)}else $.appendChild(ke);g.select(ke).attr(Le),$=Oe.node=ke,j.push(Oe)}function Q(Oe,Ne){Oe.appendChild(document.createTextNode(Ne))}function Z(Oe){if(j.length===1){R.log("Ignoring unexpected end tag </"+Oe+">.",F);return}var Ne=j.pop();Oe!==Ne.type&&R.log("Start tag <"+Ne.type+"> doesnt match end tag <"+Oe+">. Pretending it did match.",F),$=j[j.length-1].node}var K=p.test(F);K?oe():($=U,j=[{node:U}]);for(var J=F.split(h),re=0;re<J.length;re++){var le=J[re],q=le.match(l),ee=q&&q[2].toLowerCase(),ue=o[ee];if(ee==="br")oe();else if(ue===void 0)Q($,b(le));else if(q[1])Z(ee);else{var se=q[4],he={type:ee},me=E(se,M);if(me?(me=me.replace(w,"$1 fill:"),ue&&(me+=";"+ue)):ue&&(me=ue),me&&(he.style=me),ee==="a"){V=!0;var Ce=E(se,S);if(Ce){var Te=N(Ce);Te&&(he.href=Te,he.target=E(se,P)||"_blank",he.popup=E(se,x))}}ce(he)}}return V}function N(U){var F=encodeURI(decodeURI(U)),V=document.createElement("a"),j=document.createElement("a");V.href=U,j.href=F;var $=V.protocol,ne=j.protocol;return c.indexOf($)!==-1&&c.indexOf(ne)!==-1?F:""}H.sanitizeHTML=function(F){F=F.replace(A," ");for(var V=document.createElement("p"),j=V,$=[],ne=F.split(h),oe=0;oe<ne.length;oe++){var ce=ne[oe],Q=ce.match(l),Z=Q&&Q[2].toLowerCase();if(Z in o)if(Q[1])$.length&&(j=$.pop());else{var K=Q[4],J=E(K,M),re=J?{style:J}:{};if(Z==="a"){var le=E(K,S);if(le){var q=N(le);if(q){re.href=q;var ee=E(K,P);ee&&(re.target=ee)}}}var ue=document.createElement(Z);j.appendChild(ue),g.select(ue).attr(re),j=ue,$.push(ue)}else j.appendChild(document.createTextNode(b(ce)))}var se="innerHTML";return V[se]},H.lineCount=function(F){return F.selectAll("tspan.line").size()||1},H.positionText=function(F,V,j){return F.each(function(){var $=g.select(this);function ne(Q,Z){return Z===void 0?(Z=$.attr(Q),Z===null&&($.attr(Q,0),Z=0)):$.attr(Q,Z),Z}var oe=ne("x",V),ce=ne("y",j);this.nodeName==="text"&&$.selectAll("tspan.line").attr({x:oe,y:ce})})};function z(U,F,V){var j=V.horizontalAlign,$=V.verticalAlign||"top",ne=U.node().getBoundingClientRect(),oe=F.node().getBoundingClientRect(),ce,Q,Z;return $==="bottom"?Q=function(){return ne.bottom-ce.height}:$==="middle"?Q=function(){return ne.top+(ne.height-ce.height)/2}:Q=function(){return ne.top},j==="right"?Z=function(){return ne.right-ce.width}:j==="center"?Z=function(){return ne.left+(ne.width-ce.width)/2}:Z=function(){return ne.left},function(){ce=this.node().getBoundingClientRect();var K=Z()-oe.left,J=Q()-oe.top,re=V.gd||{};if(V.gd){re._fullLayout._calcInverseTransform(re);var le=R.apply3DTransform(re._fullLayout._invTransform)(K,J);K=le[0],J=le[1]}return this.style({top:J+"px",left:K+"px","z-index":1e3}),this}}var B="1px ";H.makeTextShadow=function(U){var F=B,V=B,j=B;return F+V+j+U+", -"+F+"-"+V+j+U+", "+F+"-"+V+j+U+", -"+F+V+j+U},H.makeEditable=function(U,F){var V=F.gd,j=F.delegate,$=g.dispatch("edit","input","cancel"),ne=j||U;if(U.style({"pointer-events":j?"none":"all"}),U.size()!==1)throw new Error("boo");function oe(){Q(),U.style({opacity:0});var Z=ne.attr("class"),K;Z?K="."+Z.split(" ")[0]+"-math-group":K="[class*=-math-group]",K&&g.select(U.node().parentNode).select(K).style({opacity:0})}function ce(Z){var K=Z.node(),J=document.createRange();J.selectNodeContents(K);var re=window.getSelection();re.removeAllRanges(),re.addRange(J),K.focus()}function Q(){var Z=g.select(V),K=Z.select(".svg-container"),J=K.append("div"),re=U.node().style,le=parseFloat(re.fontSize||12),q=F.text;q===void 0&&(q=U.attr("data-unformatted")),J.classed("plugin-editable editable",!0).style({position:"absolute","font-family":re.fontFamily||"Arial","font-size":le,color:F.fill||re.fill||"black",opacity:1,"background-color":F.background||"transparent",outline:"#ffffff33 1px solid",margin:[-le/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(q).call(z(U,K,F)).on("blur",function(){V._editing=!1,U.text(this.textContent).style({opacity:1});var ee=g.select(this).attr("class"),ue;ee?ue="."+ee.split(" ")[0]+"-math-group":ue="[class*=-math-group]",ue&&g.select(U.node().parentNode).select(ue).style({opacity:0});var se=this.textContent;g.select(this).transition().duration(0).remove(),g.select(document).on("mouseup",null),$.edit.call(U,se)}).on("focus",function(){var ee=this;V._editing=!0,g.select(document).on("mouseup",function(){if(g.event.target===ee)return!1;document.activeElement===J.node()&&J.node().blur()})}).on("keyup",function(){g.event.which===27?(V._editing=!1,U.style({opacity:1}),g.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),$.cancel.call(U,this.textContent)):($.input.call(U,this.textContent),g.select(this).call(z(U,K,F)))}).on("keydown",function(){g.event.which===13&&this.blur()}).call(ce)}return F.immediate?oe():ne.on("click",oe),g.rebind(U,$,"on")}},79990:function(W,H){var e={};H.throttle=function(a,C,T){var v=e[a],y=Date.now();if(!v){for(var t in e)e[t].ts<y-6e4&&delete e[t];v=e[a]={ts:0,timer:null}}g(v);function r(){T(),v.ts=Date.now(),v.onDone&&(v.onDone(),v.onDone=null)}if(y>v.ts+C){r();return}v.timer=setTimeout(function(){r(),v.timer=null},C)},H.done=function(R){var a=e[R];return!a||!a.timer?Promise.resolve():new Promise(function(C){var T=a.onDone;a.onDone=function(){T&&T(),C(),a.onDone=null}})},H.clear=function(R){if(R)g(e[R]),delete e[R];else for(var a in e)H.clear(a)};function g(R){R&&R.timer!==null&&(clearTimeout(R.timer),R.timer=null)}},58163:function(W,H,e){var g=e(92770);W.exports=function(a,C){if(a>0)return Math.log(a)/Math.LN10;var T=Math.log(Math.min(C[0],C[1]))/Math.LN10;return g(T)||(T=Math.log(Math.max(C[0],C[1]))/Math.LN10-6),T}},90973:function(W,H,e){var g=W.exports={},R=e(78776).locationmodeToLayer,a=e(96892).zL;g.getTopojsonName=function(C){return[C.scope.replace(/ /g,"-"),"_",C.resolution.toString(),"m"].join("")},g.getTopojsonPath=function(C,T){return C+T+".json"},g.getTopojsonFeatures=function(C,T){var v=R[C.locationmode],y=T.objects[v];return a(T,y).features}},37815:function(W){W.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},92177:function(W){W.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},14458:function(W,H,e){var g=e(73972);W.exports=function(a){for(var C=g.layoutArrayContainers,T=g.layoutArrayRegexes,v=a.split("[")[0],y,t,r=0;r<T.length;r++)if(t=a.match(T[r]),t&&t.index===0){y=t[0];break}if(y||(y=C[C.indexOf(v)]),!y)return!1;var s=a.substr(y.length);return s?(t=s.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/),t?{array:y,index:Number(t[1]),property:t[3]||""}:!1):{array:y,index:"",property:""}}},30962:function(W,H,e){var g=e(1426).extendFlat,R=e(41965),a={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},C={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},T=a.flags.slice().concat(["fullReplot"]),v=C.flags.slice().concat("layoutReplot");W.exports={traces:a,layout:C,traceFlags:function(){return y(T)},layoutFlags:function(){return y(v)},update:function(s,n){var o=n.editType;if(o&&o!=="none")for(var f=o.split("+"),u=0;u<f.length;u++)s[f[u]]=!0},overrideAll:t};function y(s){for(var n={},o=0;o<s.length;o++)n[s[o]]=!1;return n}function t(s,n,o){var f=g({},s);for(var u in f){var m=f[u];R(m)&&(f[u]=r(m,n,o,u))}return o==="from-root"&&(f.editType=n),f}function r(s,n,o,f){if(s.valType){var u=g({},s);if(u.editType=n,Array.isArray(s.items)){u.items=new Array(s.items.length);for(var m=0;m<s.items.length;m++)u.items[m]=r(s.items[m],n)}return u}else return t(s,n,f.charAt(0)==="_"?"nested":"from-root")}},58377:function(W,H,e){var g=e(92770),R=e(27812),a=e(73972),C=e(71828),T=e(74875),v=e(41675),y=e(7901),t=v.cleanId,r=v.getFromTrace,s=a.traceIs;H.clearPromiseQueue=function(p){Array.isArray(p._promises)&&p._promises.length>0&&C.log("Clearing previous rejected promises from queue."),p._promises=[]},H.cleanLayout=function(p){var M,S;p||(p={}),p.xaxis1&&(p.xaxis||(p.xaxis=p.xaxis1),delete p.xaxis1),p.yaxis1&&(p.yaxis||(p.yaxis=p.yaxis1),delete p.yaxis1),p.scene1&&(p.scene||(p.scene=p.scene1),delete p.scene1);var P=(T.subplotsRegistry.cartesian||{}).attrRegex,x=(T.subplotsRegistry.polar||{}).attrRegex,E=(T.subplotsRegistry.ternary||{}).attrRegex,w=(T.subplotsRegistry.gl3d||{}).attrRegex,i=Object.keys(p);for(M=0;M<i.length;M++){var L=i[M];if(P&&P.test(L)){var b=p[L];b.anchor&&b.anchor!=="free"&&(b.anchor=t(b.anchor)),b.overlaying&&(b.overlaying=t(b.overlaying)),b.type||(b.isdate?b.type="date":b.islog?b.type="log":b.isdate===!1&&b.islog===!1&&(b.type="linear")),(b.autorange==="withzero"||b.autorange==="tozero")&&(b.autorange=!0,b.rangemode="tozero"),b.insiderange&&delete b.range,delete b.islog,delete b.isdate,delete b.categories,c(b,"domain")&&delete b.domain,b.autotick!==void 0&&(b.tickmode===void 0&&(b.tickmode=b.autotick?"auto":"linear"),delete b.autotick),o(b)}else if(x&&x.test(L)){var O=p[L];o(O.radialaxis)}else if(E&&E.test(L)){var _=p[L];o(_.aaxis),o(_.baxis),o(_.caxis)}else if(w&&w.test(L)){var N=p[L],z=N.cameraposition;if(Array.isArray(z)&&z[0].length===4){var B=z[0],U=z[1],F=z[2],V=R([],B),j=[];for(S=0;S<3;++S)j[S]=U[S]+F*V[2+4*S];N.camera={eye:{x:j[0],y:j[1],z:j[2]},center:{x:U[0],y:U[1],z:U[2]},up:{x:0,y:0,z:1}},delete N.cameraposition}o(N.xaxis),o(N.yaxis),o(N.zaxis)}}var $=Array.isArray(p.annotations)?p.annotations.length:0;for(M=0;M<$;M++){var ne=p.annotations[M];C.isPlainObject(ne)&&(ne.ref&&(ne.ref==="paper"?(ne.xref="paper",ne.yref="paper"):ne.ref==="data"&&(ne.xref="x",ne.yref="y"),delete ne.ref),n(ne,"xref"),n(ne,"yref"))}var oe=Array.isArray(p.shapes)?p.shapes.length:0;for(M=0;M<oe;M++){var ce=p.shapes[M];C.isPlainObject(ce)&&(n(ce,"xref"),n(ce,"yref"))}var Q=Array.isArray(p.images)?p.images.length:0;for(M=0;M<Q;M++){var Z=p.images[M];C.isPlainObject(Z)&&(n(Z,"xref"),n(Z,"yref"))}var K=p.legend;return K&&(K.x>3?(K.x=1.02,K.xanchor="left"):K.x<-2&&(K.x=-.02,K.xanchor="right"),K.y>3?(K.y=1.02,K.yanchor="bottom"):K.y<-2&&(K.y=-.02,K.yanchor="top")),o(p),p.dragmode==="rotate"&&(p.dragmode="orbit"),y.clean(p),p.template&&p.template.layout&&H.cleanLayout(p.template.layout),p};function n(p,M){var S=p[M],P=M.charAt(0);S&&S!=="paper"&&(p[M]=t(S,P,!0))}function o(p){p&&((typeof p.title=="string"||typeof p.title=="number")&&(p.title={text:p.title}),M("titlefont","font"),M("titleposition","position"),M("titleside","side"),M("titleoffset","offset"));function M(S,P){var x=p[S],E=p.title&&p.title[P];x&&!E&&(p.title||(p.title={}),p.title[P]=p[S],delete p[S])}}H.cleanData=function(p){for(var M=0;M<p.length;M++){var S=p[M],P;if(S.type==="histogramy"&&"xbins"in S&&!("ybins"in S)&&(S.ybins=S.xbins,delete S.xbins),S.error_y&&"opacity"in S.error_y){var x=y.defaults,E=S.error_y.color||(s(S,"bar")?y.defaultLine:x[M%x.length]);S.error_y.color=y.addOpacity(y.rgb(E),y.opacity(E)*S.error_y.opacity),delete S.error_y.opacity}if("bardir"in S&&(S.bardir==="h"&&(s(S,"bar")||S.type.substr(0,9)==="histogram")&&(S.orientation="h",H.swapXYData(S)),delete S.bardir),S.type==="histogramy"&&H.swapXYData(S),(S.type==="histogramx"||S.type==="histogramy")&&(S.type="histogram"),"scl"in S&&!("colorscale"in S)&&(S.colorscale=S.scl,delete S.scl),"reversescl"in S&&!("reversescale"in S)&&(S.reversescale=S.reversescl,delete S.reversescl),S.xaxis&&(S.xaxis=t(S.xaxis,"x")),S.yaxis&&(S.yaxis=t(S.yaxis,"y")),s(S,"gl3d")&&S.scene&&(S.scene=T.subplotsRegistry.gl3d.cleanId(S.scene)),!s(S,"pie-like")&&!s(S,"bar-like"))if(Array.isArray(S.textposition))for(P=0;P<S.textposition.length;P++)S.textposition[P]=m(S.textposition[P]);else S.textposition&&(S.textposition=m(S.textposition));var w=a.getModule(S);if(w&&w.colorbar){var i=w.colorbar.container,L=i?S[i]:S;L&&L.colorscale&&(L.colorscale==="YIGnBu"&&(L.colorscale="YlGnBu"),L.colorscale==="YIOrRd"&&(L.colorscale="YlOrRd"))}if(S.type==="surface"&&C.isPlainObject(S.contours)){var b=["x","y","z"];for(P=0;P<b.length;P++){var O=S.contours[b[P]];C.isPlainObject(O)&&(O.highlightColor&&(O.highlightcolor=O.highlightColor,delete O.highlightColor),O.highlightWidth&&(O.highlightwidth=O.highlightWidth,delete O.highlightWidth))}}if(S.type==="candlestick"||S.type==="ohlc"){var _=(S.increasing||{}).showlegend!==!1,N=(S.decreasing||{}).showlegend!==!1,z=f(S.increasing),B=f(S.decreasing);if(z!==!1&&B!==!1){var U=u(z,B,_,N);U&&(S.name=U)}else(z||B)&&!S.name&&(S.name=z||B)}if(Array.isArray(S.transforms)){var F=S.transforms;for(P=0;P<F.length;P++){var V=F[P];if(C.isPlainObject(V))switch(V.type){case"filter":V.filtersrc&&(V.target=V.filtersrc,delete V.filtersrc),V.calendar&&(V.valuecalendar||(V.valuecalendar=V.calendar),delete V.calendar);break;case"groupby":if(V.styles=V.styles||V.style,V.styles&&!Array.isArray(V.styles)){var j=V.styles,$=Object.keys(j);V.styles=[];for(var ne=0;ne<$.length;ne++)V.styles.push({target:$[ne],value:j[$[ne]]})}break}}}c(S,"line")&&delete S.line,"marker"in S&&(c(S.marker,"line")&&delete S.marker.line,c(S,"marker")&&delete S.marker),y.clean(S),S.autobinx&&(delete S.autobinx,delete S.xbins),S.autobiny&&(delete S.autobiny,delete S.ybins),o(S),S.colorbar&&o(S.colorbar),S.marker&&S.marker.colorbar&&o(S.marker.colorbar),S.line&&S.line.colorbar&&o(S.line.colorbar),S.aaxis&&o(S.aaxis),S.baxis&&o(S.baxis)}};function f(p){if(!C.isPlainObject(p))return!1;var M=p.name;return delete p.name,delete p.showlegend,(typeof M=="string"||typeof M=="number")&&String(M)}function u(p,M,S,P){if(S&&!P)return p;if(P&&!S||!p.trim())return M;if(!M.trim())return p;var x=Math.min(p.length,M.length),E;for(E=0;E<x&&p.charAt(E)===M.charAt(E);E++);var w=p.substr(0,E);return w.trim()}function m(p){var M="middle",S="center";return typeof p=="string"&&(p.indexOf("top")!==-1?M="top":p.indexOf("bottom")!==-1&&(M="bottom"),p.indexOf("left")!==-1?S="left":p.indexOf("right")!==-1&&(S="right")),M+" "+S}function c(p,M){return M in p&&typeof p[M]=="object"&&Object.keys(p[M]).length===0}H.swapXYData=function(p){var M;if(C.swapAttrs(p,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(p.z)&&Array.isArray(p.z[0])&&(p.transpose?delete p.transpose:p.transpose=!0),p.error_x&&p.error_y){var S=p.error_y,P="copy_ystyle"in S?S.copy_ystyle:!(S.color||S.thickness||S.width);C.swapAttrs(p,["error_?.copy_ystyle"]),P&&C.swapAttrs(p,["error_?.color","error_?.thickness","error_?.width"])}if(typeof p.hoverinfo=="string"){var x=p.hoverinfo.split("+");for(M=0;M<x.length;M++)x[M]==="x"?x[M]="y":x[M]==="y"&&(x[M]="x");p.hoverinfo=x.join("+")}},H.coerceTraceIndices=function(p,M){if(g(M))return[M];if(!Array.isArray(M)||!M.length)return p.data.map(function(x,E){return E});if(Array.isArray(M)){for(var S=[],P=0;P<M.length;P++)C.isIndex(M[P],p.data.length)?S.push(M[P]):C.warn("trace index (",M[P],") is not a number or is out of bounds");return S}return M},H.manageArrayContainers=function(p,M,S){var P=p.obj,x=p.parts,E=x.length,w=x[E-1],i=g(w);if(i&&M===null){var L=x.slice(0,E-1).join("."),b=C.nestedProperty(P,L).get();b.splice(w,1)}else i&&p.get()===void 0&&p.get()===void 0&&(S[p.astr]=null),p.set(M)};var A=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function h(p){var M=p.search(A);if(M>0)return p.substr(0,M)}H.hasParent=function(p,M){for(var S=h(M);S;){if(S in p)return!0;S=h(S)}return!1};var l=["x","y","z"];H.clearAxisTypes=function(p,M,S){for(var P=0;P<M.length;P++)for(var x=p._fullData[P],E=0;E<3;E++){var w=r(p,x,l[E]);if(w&&w.type!=="log"){var i=w._name,L=w._id.substr(1);if(L.substr(0,5)==="scene"){if(S[L]!==void 0)continue;i=L+"."+i}var b=i+".type";S[i]===void 0&&S[b]===void 0&&C.nestedProperty(p.layout,b).set(null)}}}},10641:function(W,H,e){var g=e(72391);H._doPlot=g._doPlot,H.newPlot=g.newPlot,H.restyle=g.restyle,H.relayout=g.relayout,H.redraw=g.redraw,H.update=g.update,H._guiRestyle=g._guiRestyle,H._guiRelayout=g._guiRelayout,H._guiUpdate=g._guiUpdate,H._storeDirectGUIEdit=g._storeDirectGUIEdit,H.react=g.react,H.extendTraces=g.extendTraces,H.prependTraces=g.prependTraces,H.addTraces=g.addTraces,H.deleteTraces=g.deleteTraces,H.moveTraces=g.moveTraces,H.purge=g.purge,H.addFrames=g.addFrames,H.deleteFrames=g.deleteFrames,H.animate=g.animate,H.setPlotConfig=g.setPlotConfig;var R=e(24401).getGraphDiv,a=e(34031).eraseActiveShape;H.deleteActiveShape=function(T){return a(R(T))},H.toImage=e(403),H.validate=e(84936),H.downloadImage=e(7239);var C=e(96318);H.makeTemplate=C.makeTemplate,H.validateTemplate=C.validateTemplate},6611:function(W,H,e){var g=e(41965),R=e(64213),a=e(47769),C=e(65888).sorterAsc,T=e(73972);H.containerArrayMatch=e(14458);var v=H.isAddVal=function(r){return r==="add"||g(r)},y=H.isRemoveVal=function(r){return r===null||r==="remove"};H.applyContainerArrayChanges=function(r,s,n,o,f){var u=s.astr,m=T.getComponentMethod(u,"supplyLayoutDefaults"),c=T.getComponentMethod(u,"draw"),A=T.getComponentMethod(u,"drawOne"),h=o.replot||o.recalc||m===R||c===R,l=r.layout,p=r._fullLayout;if(n[""]){Object.keys(n).length>1&&a.warn("Full array edits are incompatible with other edits",u);var M=n[""][""];if(y(M))s.set(null);else if(Array.isArray(M))s.set(M);else return a.warn("Unrecognized full array edit value",u,M),!0;return h?!1:(m(l,p),c(r),!0)}var S=Object.keys(n).map(Number).sort(C),P=s.get(),x=P||[],E=f(p,u).get(),w=[],i=-1,L=x.length,b,O,_,N,z,B,U,F;for(b=0;b<S.length;b++){if(_=S[b],N=n[_],z=Object.keys(N),B=N[""],U=v(B),_<0||_>x.length-(U?0:1)){a.warn("index out of range",u,_);continue}if(B!==void 0)z.length>1&&a.warn("Insertion & removal are incompatible with edits to the same index.",u,_),y(B)?w.push(_):U?(B==="add"&&(B={}),x.splice(_,0,B),E&&E.splice(_,0,{})):a.warn("Unrecognized full object edit value",u,_,B),i===-1&&(i=_);else for(O=0;O<z.length;O++)F=u+"["+_+"].",f(x[_],z[O],F).set(N[z[O]])}for(b=w.length-1;b>=0;b--)x.splice(w[b],1),E&&E.splice(w[b],1);if(x.length?P||s.set(x):s.set(null),h)return!1;if(m(l,p),A!==R){var V;if(i===-1)V=S;else{for(L=Math.max(x.length,L),V=[],b=0;b<S.length&&(_=S[b],!(_>=i));b++)V.push(_);for(b=i;b<L;b++)V.push(b)}for(b=0;b<V.length;b++)A(r,V[b])}else c(r);return!0}},72391:function(W,H,e){var g=e(39898),R=e(92770),a=e(57035),C=e(71828),T=C.nestedProperty,v=e(11086),y=e(10847),t=e(73972),r=e(86281),s=e(74875),n=e(89298),o=e(23608),f=e(13838),u=e(91424),m=e(7901),c=e(4305).initInteractions,A=e(77922),h=e(47322).clearOutline,l=e(72075).dfltConfig,p=e(6611),M=e(58377),S=e(61549),P=e(30962),x=e(85555).AX_NAME_PATTERN,E=0,w=5;function i(Pe,Ue,$e,qe){var dt;if(Pe=C.getGraphDiv(Pe),v.init(Pe),C.isPlainObject(Ue)){var bt=Ue;Ue=bt.data,$e=bt.layout,qe=bt.config,dt=bt.frames}var Gt=v.triggerHandler(Pe,"plotly_beforeplot",[Ue,$e,qe]);if(Gt===!1)return Promise.reject();!Ue&&!$e&&!C.isPlotDiv(Pe)&&C.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",Pe);function Qt(){if(dt)return H.addFrames(Pe,dt)}N(Pe,qe),$e||($e={}),g.select(Pe).classed("js-plotly-plot",!0),u.makeTester(),Array.isArray(Pe._promises)||(Pe._promises=[]);var At=(Pe.data||[]).length===0&&Array.isArray(Ue);Array.isArray(Ue)&&(M.cleanData(Ue),At?Pe.data=Ue:Pe.data.push.apply(Pe.data,Ue),Pe.empty=!1),(!Pe.layout||At)&&(Pe.layout=M.cleanLayout($e)),s.supplyDefaults(Pe);var zt=Pe._fullLayout,$t=zt._has("cartesian");zt._replotting=!0,(At||zt._shouldCreateBgLayer)&&(Ee(Pe),zt._shouldCreateBgLayer&&delete zt._shouldCreateBgLayer),u.initGradients(Pe),u.initPatterns(Pe),At&&n.saveShowSpikeInitial(Pe);var Ar=!Pe.calcdata||Pe.calcdata.length!==(Pe._fullData||[]).length;Ar&&s.doCalcdata(Pe);for(var ut=0;ut<Pe.calcdata.length;ut++)Pe.calcdata[ut][0].trace=Pe._fullData[ut];Pe._context.responsive?Pe._responsiveChartHandler||(Pe._responsiveChartHandler=function(){C.isHidden(Pe)||s.resize(Pe)},window.addEventListener("resize",Pe._responsiveChartHandler)):C.clearResponsive(Pe);var Yt=C.extendFlat({},zt._size),Kt=0;function mr(){for(var Bt=zt._basePlotModules,Nt=0;Nt<Bt.length;Nt++)Bt[Nt].drawFramework&&Bt[Nt].drawFramework(Pe);!zt._glcanvas&&zt._has("gl")&&(zt._glcanvas=zt._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(dr){return dr.key}),zt._glcanvas.enter().append("canvas").attr("class",function(dr){return"gl-canvas gl-canvas-"+dr.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var Xt=Pe._context.plotGlPixelRatio;if(zt._glcanvas){zt._glcanvas.attr("width",zt.width*Xt).attr("height",zt.height*Xt).style("width",zt.width+"px").style("height",zt.height+"px");var lr=zt._glcanvas.data()[0].regl;if(lr&&(Math.floor(zt.width*Xt)!==lr._gl.drawingBufferWidth||Math.floor(zt.height*Xt)!==lr._gl.drawingBufferHeight)){var sr="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(Kt)C.error(sr);else return C.log(sr+" Clearing graph and plotting again."),s.cleanPlot([],{},Pe._fullData,zt),s.supplyDefaults(Pe),zt=Pe._fullLayout,s.doCalcdata(Pe),Kt++,mr()}}return zt.modebar.orientation==="h"?zt._modebardiv.style("height",null).style("width","100%"):zt._modebardiv.style("width",null).style("height",zt.height+"px"),s.previousPromises(Pe)}function ur(){if(s.clearAutoMarginIds(Pe),S.drawMarginPushers(Pe),n.allowAutoMargin(Pe),Pe._fullLayout.title.text&&Pe._fullLayout.title.automargin&&s.allowAutoMargin(Pe,"title.automargin"),zt._has("pie"))for(var Bt=Pe._fullData,Nt=0;Nt<Bt.length;Nt++){var Xt=Bt[Nt];Xt.type==="pie"&&Xt.automargin&&s.allowAutoMargin(Pe,"pie."+Xt.uid+".automargin")}return s.doAutoMargin(Pe),s.previousPromises(Pe)}function pt(){if(s.didMarginChange(Yt,zt._size))return C.syncOrAsync([ur,S.layoutStyles],Pe)}function st(){if(!Ar){xt();return}return C.syncOrAsync([t.getComponentMethod("shapes","calcAutorange"),t.getComponentMethod("annotations","calcAutorange"),xt],Pe)}function xt(){Pe._transitioning||(S.doAutoRangeAndConstraints(Pe),At&&n.saveRangeInitial(Pe),t.getComponentMethod("rangeslider","calcAutorange")(Pe))}function St(){return n.draw(Pe,At?"":"redraw")}var Dt=[s.previousPromises,Qt,mr,ur,pt];$t&&Dt.push(st),Dt.push(S.layoutStyles),$t&&Dt.push(St,function(Nt){var Xt=Nt._fullLayout._insideTickLabelsUpdaterange;if(Xt)return Nt._fullLayout._insideTickLabelsUpdaterange=void 0,Ce(Nt,Xt).then(function(){n.saveRangeInitial(Nt,!0)})}),Dt.push(S.drawData,S.finalDraw,c,s.addLinks,s.rehover,s.redrag,s.reselect,s.doAutoMargin,s.previousPromises);var Rt=C.syncOrAsync(Dt,Pe);return(!Rt||!Rt.then)&&(Rt=Promise.resolve()),Rt.then(function(){return L(Pe),Pe})}function L(Pe){var Ue=Pe._fullLayout;Ue._redrawFromAutoMarginCount?Ue._redrawFromAutoMarginCount--:Pe.emit("plotly_afterplot")}function b(Pe){return C.extendFlat(l,Pe)}function O(Pe,Ue){try{Pe._fullLayout._paper.style("background",Ue)}catch($e){C.error($e)}}function _(Pe,Ue){var $e=m.combine(Ue,"white");O(Pe,$e)}function N(Pe,Ue){if(!Pe._context){Pe._context=C.extendDeep({},l);var $e=g.select("base");Pe._context._baseUrl=$e.size()&&$e.attr("href")?window.location.href.split("#")[0]:""}var qe=Pe._context,dt,bt,Gt;if(Ue){for(bt=Object.keys(Ue),dt=0;dt<bt.length;dt++)Gt=bt[dt],!(Gt==="editable"||Gt==="edits")&&Gt in qe&&(Gt==="setBackground"&&Ue[Gt]==="opaque"?qe[Gt]=_:qe[Gt]=Ue[Gt]);Ue.plot3dPixelRatio&&!qe.plotGlPixelRatio&&(qe.plotGlPixelRatio=qe.plot3dPixelRatio);var Qt=Ue.editable;if(Qt!==void 0)for(qe.editable=Qt,bt=Object.keys(qe.edits),dt=0;dt<bt.length;dt++)qe.edits[bt[dt]]=Qt;if(Ue.edits)for(bt=Object.keys(Ue.edits),dt=0;dt<bt.length;dt++)Gt=bt[dt],Gt in qe.edits&&(qe.edits[Gt]=Ue.edits[Gt]);qe._exportedPlot=Ue._exportedPlot}qe.staticPlot&&(qe.editable=!1,qe.edits={},qe.autosizable=!1,qe.scrollZoom=!1,qe.doubleClick=!1,qe.showTips=!1,qe.showLink=!1,qe.displayModeBar=!1),qe.displayModeBar==="hover"&&!a&&(qe.displayModeBar=!0),(qe.setBackground==="transparent"||typeof qe.setBackground!="function")&&(qe.setBackground=O),qe._hasZeroHeight=qe._hasZeroHeight||Pe.clientHeight===0,qe._hasZeroWidth=qe._hasZeroWidth||Pe.clientWidth===0;var At=qe.scrollZoom,zt=qe._scrollZoom={};if(At===!0)zt.cartesian=1,zt.gl3d=1,zt.geo=1,zt.mapbox=1;else if(typeof At=="string"){var $t=At.split("+");for(dt=0;dt<$t.length;dt++)zt[$t[dt]]=1}else At!==!1&&(zt.gl3d=1,zt.geo=1,zt.mapbox=1)}function z(Pe){if(Pe=C.getGraphDiv(Pe),!C.isPlotDiv(Pe))throw new Error("This element is not a Plotly plot: "+Pe);return M.cleanData(Pe.data),M.cleanLayout(Pe.layout),Pe.calcdata=void 0,H._doPlot(Pe).then(function(){return Pe.emit("plotly_redraw"),Pe})}function B(Pe,Ue,$e,qe){return Pe=C.getGraphDiv(Pe),s.cleanPlot([],{},Pe._fullData||[],Pe._fullLayout||{}),s.purge(Pe),H._doPlot(Pe,Ue,$e,qe)}function U(Pe,Ue){var $e=Ue+1,qe=[],dt,bt;for(dt=0;dt<Pe.length;dt++)bt=Pe[dt],bt<0?qe.push($e+bt):qe.push(bt);return qe}function F(Pe,Ue,$e){var qe,dt;for(qe=0;qe<Ue.length;qe++){if(dt=Ue[qe],dt!==parseInt(dt,10))throw new Error("all values in "+$e+" must be integers");if(dt>=Pe.data.length||dt<-Pe.data.length)throw new Error($e+" must be valid indices for gd.data.");if(Ue.indexOf(dt,qe+1)>-1||dt>=0&&Ue.indexOf(-Pe.data.length+dt)>-1||dt<0&&Ue.indexOf(Pe.data.length+dt)>-1)throw new Error("each index in "+$e+" must be unique.")}}function V(Pe,Ue,$e){if(!Array.isArray(Pe.data))throw new Error("gd.data must be an array.");if(typeof Ue>"u")throw new Error("currentIndices is a required argument.");if(Array.isArray(Ue)||(Ue=[Ue]),F(Pe,Ue,"currentIndices"),typeof $e<"u"&&!Array.isArray($e)&&($e=[$e]),typeof $e<"u"&&F(Pe,$e,"newIndices"),typeof $e<"u"&&Ue.length!==$e.length)throw new Error("current and new indices must be of equal length.")}function j(Pe,Ue,$e){var qe,dt;if(!Array.isArray(Pe.data))throw new Error("gd.data must be an array.");if(typeof Ue>"u")throw new Error("traces must be defined.");for(Array.isArray(Ue)||(Ue=[Ue]),qe=0;qe<Ue.length;qe++)if(dt=Ue[qe],typeof dt!="object"||Array.isArray(dt)||dt===null)throw new Error("all values in traces array must be non-array objects");if(typeof $e<"u"&&!Array.isArray($e)&&($e=[$e]),typeof $e<"u"&&$e.length!==Ue.length)throw new Error("if indices is specified, traces.length must equal indices.length")}function $(Pe,Ue,$e,qe){var dt=C.isPlainObject(qe);if(!Array.isArray(Pe.data))throw new Error("gd.data must be an array");if(!C.isPlainObject(Ue))throw new Error("update must be a key:value object");if(typeof $e>"u")throw new Error("indices must be an integer or array of integers");F(Pe,$e,"indices");for(var bt in Ue){if(!Array.isArray(Ue[bt])||Ue[bt].length!==$e.length)throw new Error("attribute "+bt+" must be an array of length equal to indices array length");if(dt&&(!(bt in qe)||!Array.isArray(qe[bt])||qe[bt].length!==Ue[bt].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}function ne(Pe,Ue,$e,qe){var dt=C.isPlainObject(qe),bt=[],Gt,Qt,At,zt,$t;Array.isArray($e)||($e=[$e]),$e=U($e,Pe.data.length-1);for(var Ar in Ue)for(var ut=0;ut<$e.length;ut++){if(Gt=Pe.data[$e[ut]],At=T(Gt,Ar),Qt=At.get(),zt=Ue[Ar][ut],!C.isArrayOrTypedArray(zt))throw new Error("attribute: "+Ar+" index: "+ut+" must be an array");if(!C.isArrayOrTypedArray(Qt))throw new Error("cannot extend missing or non-array attribute: "+Ar);if(Qt.constructor!==zt.constructor)throw new Error("cannot extend array with an array of a different type: "+Ar);$t=dt?qe[Ar][ut]:qe,R($t)||($t=-1),bt.push({prop:At,target:Qt,insert:zt,maxp:Math.floor($t)})}return bt}function oe(Pe,Ue,$e,qe,dt){$(Pe,Ue,$e,qe);for(var bt=ne(Pe,Ue,$e,qe),Gt={},Qt={},At=0;At<bt.length;At++){var zt=bt[At].prop,$t=bt[At].maxp,Ar=dt(bt[At].target,bt[At].insert,$t);zt.set(Ar[0]),Array.isArray(Gt[zt.astr])||(Gt[zt.astr]=[]),Gt[zt.astr].push(Ar[1]),Array.isArray(Qt[zt.astr])||(Qt[zt.astr]=[]),Qt[zt.astr].push(bt[At].target.length)}return{update:Gt,maxPoints:Qt}}function ce(Pe,Ue){var $e=new Pe.constructor(Pe.length+Ue.length);return $e.set(Pe),$e.set(Ue,Pe.length),$e}function Q(Pe,Ue,$e,qe){Pe=C.getGraphDiv(Pe);function dt(At,zt,$t){var Ar,ut;if(C.isTypedArray(At))if($t<0){var Yt=new At.constructor(0),Kt=ce(At,zt);$t<0?(Ar=Kt,ut=Yt):(Ar=Yt,ut=Kt)}else if(Ar=new At.constructor($t),ut=new At.constructor(At.length+zt.length-$t),$t===zt.length)Ar.set(zt),ut.set(At);else if($t<zt.length){var mr=zt.length-$t;Ar.set(zt.subarray(mr)),ut.set(At),ut.set(zt.subarray(0,mr),At.length)}else{var ur=$t-zt.length,pt=At.length-ur;Ar.set(At.subarray(pt)),Ar.set(zt,ur),ut.set(At.subarray(0,pt))}else Ar=At.concat(zt),ut=$t>=0&&$t<Ar.length?Ar.splice(0,Ar.length-$t):[];return[Ar,ut]}var bt=oe(Pe,Ue,$e,qe,dt),Gt=H.redraw(Pe),Qt=[Pe,bt.update,$e,bt.maxPoints];return y.add(Pe,H.prependTraces,Qt,Q,arguments),Gt}function Z(Pe,Ue,$e,qe){Pe=C.getGraphDiv(Pe);function dt(At,zt,$t){var Ar,ut;if(C.isTypedArray(At))if($t<=0){var Yt=new At.constructor(0),Kt=ce(zt,At);$t<0?(Ar=Kt,ut=Yt):(Ar=Yt,ut=Kt)}else if(Ar=new At.constructor($t),ut=new At.constructor(At.length+zt.length-$t),$t===zt.length)Ar.set(zt),ut.set(At);else if($t<zt.length){var mr=zt.length-$t;Ar.set(zt.subarray(0,mr)),ut.set(zt.subarray(mr)),ut.set(At,mr)}else{var ur=$t-zt.length;Ar.set(zt),Ar.set(At.subarray(0,ur),zt.length),ut.set(At.subarray(ur))}else Ar=zt.concat(At),ut=$t>=0&&$t<Ar.length?Ar.splice($t,Ar.length):[];return[Ar,ut]}var bt=oe(Pe,Ue,$e,qe,dt),Gt=H.redraw(Pe),Qt=[Pe,bt.update,$e,bt.maxPoints];return y.add(Pe,H.extendTraces,Qt,Z,arguments),Gt}function K(Pe,Ue,$e){Pe=C.getGraphDiv(Pe);var qe=[],dt=H.deleteTraces,bt=K,Gt=[Pe,qe],Qt=[Pe,Ue],At,zt;for(j(Pe,Ue,$e),Array.isArray(Ue)||(Ue=[Ue]),Ue=Ue.map(function($t){return C.extendFlat({},$t)}),M.cleanData(Ue),At=0;At<Ue.length;At++)Pe.data.push(Ue[At]);for(At=0;At<Ue.length;At++)qe.push(-Ue.length+At);if(typeof $e>"u")return zt=H.redraw(Pe),y.add(Pe,dt,Gt,bt,Qt),zt;Array.isArray($e)||($e=[$e]);try{V(Pe,qe,$e)}catch($t){throw Pe.data.splice(Pe.data.length-Ue.length,Ue.length),$t}return y.startSequence(Pe),y.add(Pe,dt,Gt,bt,Qt),zt=H.moveTraces(Pe,qe,$e),y.stopSequence(Pe),zt}function J(Pe,Ue){Pe=C.getGraphDiv(Pe);var $e=[],qe=H.addTraces,dt=J,bt=[Pe,$e,Ue],Gt=[Pe,Ue],Qt,At;if(typeof Ue>"u")throw new Error("indices must be an integer or array of integers.");for(Array.isArray(Ue)||(Ue=[Ue]),F(Pe,Ue,"indices"),Ue=U(Ue,Pe.data.length-1),Ue.sort(C.sorterDes),Qt=0;Qt<Ue.length;Qt+=1)At=Pe.data.splice(Ue[Qt],1)[0],$e.push(At);var zt=H.redraw(Pe);return y.add(Pe,qe,bt,dt,Gt),zt}function re(Pe,Ue,$e){Pe=C.getGraphDiv(Pe);var qe=[],dt=[],bt=re,Gt=re,Qt=[Pe,$e,Ue],At=[Pe,Ue,$e],zt;if(V(Pe,Ue,$e),Ue=Array.isArray(Ue)?Ue:[Ue],typeof $e>"u")for($e=[],zt=0;zt<Ue.length;zt++)$e.push(-Ue.length+zt);for($e=Array.isArray($e)?$e:[$e],Ue=U(Ue,Pe.data.length-1),$e=U($e,Pe.data.length-1),zt=0;zt<Pe.data.length;zt++)Ue.indexOf(zt)===-1&&qe.push(Pe.data[zt]);for(zt=0;zt<Ue.length;zt++)dt.push({newIndex:$e[zt],trace:Pe.data[Ue[zt]]});for(dt.sort(function(Ar,ut){return Ar.newIndex-ut.newIndex}),zt=0;zt<dt.length;zt+=1)qe.splice(dt[zt].newIndex,0,dt[zt].trace);Pe.data=qe;var $t=H.redraw(Pe);return y.add(Pe,bt,Qt,Gt,At),$t}function le(Pe,Ue,$e,qe){Pe=C.getGraphDiv(Pe),M.clearPromiseQueue(Pe);var dt={};if(typeof Ue=="string")dt[Ue]=$e;else if(C.isPlainObject(Ue))dt=C.extendFlat({},Ue),qe===void 0&&(qe=$e);else return C.warn("Restyle fail.",Ue,$e,qe),Promise.reject();Object.keys(dt).length&&(Pe.changed=!0);var bt=M.coerceTraceIndices(Pe,qe),Gt=he(Pe,dt,bt),Qt=Gt.flags;Qt.calc&&(Pe.calcdata=void 0),Qt.clearAxisTypes&&M.clearAxisTypes(Pe,bt,{});var At=[];Qt.fullReplot?At.push(H._doPlot):(At.push(s.previousPromises),s.supplyDefaults(Pe),Qt.markerSize&&(s.doCalcdata(Pe),Oe(At)),Qt.style&&At.push(S.doTraceStyle),Qt.colorbars&&At.push(S.doColorBars),At.push(L)),At.push(s.rehover,s.redrag,s.reselect),y.add(Pe,le,[Pe,Gt.undoit,Gt.traces],le,[Pe,Gt.redoit,Gt.traces]);var zt=C.syncOrAsync(At,Pe);return(!zt||!zt.then)&&(zt=Promise.resolve()),zt.then(function(){return Pe.emit("plotly_restyle",Gt.eventData),Pe})}function q(Pe){return Pe===void 0?null:Pe}function ee(Pe,Ue){return Ue?function($e,qe,dt){var bt=T($e,qe),Gt=bt.set;return bt.set=function(Qt){var At=(dt||"")+qe;ue(At,bt.get(),Qt,Pe),Gt(Qt)},bt}:T}function ue(Pe,Ue,$e,qe){if(Array.isArray(Ue)||Array.isArray($e))for(var dt=Array.isArray(Ue)?Ue:[],bt=Array.isArray($e)?$e:[],Gt=Math.max(dt.length,bt.length),Qt=0;Qt<Gt;Qt++)ue(Pe+"["+Qt+"]",dt[Qt],bt[Qt],qe);else if(C.isPlainObject(Ue)||C.isPlainObject($e)){var At=C.isPlainObject(Ue)?Ue:{},zt=C.isPlainObject($e)?$e:{},$t=C.extendFlat({},At,zt);for(var Ar in $t)ue(Pe+"."+Ar,At[Ar],zt[Ar],qe)}else qe[Pe]===void 0&&(qe[Pe]=q(Ue))}function se(Pe,Ue,$e){for(var qe in $e){var dt=T(Pe,qe);ue(qe,dt.get(),$e[qe],Ue)}}function he(Pe,Ue,$e){var qe=Pe._fullLayout,dt=Pe._fullData,bt=Pe.data,Gt=qe._guiEditing,Qt=ee(qe._preGUI,Gt),At=C.extendDeepAll({},Ue),zt;me(Ue);var $t=P.traceFlags(),Ar={},ut={},Yt;function Kt(){return $e.map(function(){})}function mr(Tn){var Mr=n.id2name(Tn);Yt.indexOf(Mr)===-1&&Yt.push(Mr)}function ur(Tn){return"LAYOUT"+Tn+".autorange"}function pt(Tn){return"LAYOUT"+Tn+".range"}function st(Tn){for(var Mr=Tn;Mr<dt.length;Mr++)if(dt[Mr]._input===bt[Tn])return dt[Mr]}function xt(Tn,Mr,Er){if(Array.isArray(Tn)){Tn.forEach(function(gn){xt(gn,Mr,Er)});return}if(!(Tn in Ue||M.hasParent(Ue,Tn))){var Gr;if(Tn.substr(0,6)==="LAYOUT")Gr=Qt(Pe.layout,Tn.replace("LAYOUT",""));else{var Ur=$e[Er],an=qe._tracePreGUI[st(Ur)._fullInput.uid];Gr=ee(an,Gt)(bt[Ur],Tn)}Tn in ut||(ut[Tn]=Kt()),ut[Tn][Er]===void 0&&(ut[Tn][Er]=q(Gr.get())),Mr!==void 0&&Gr.set(Mr)}}function St(Tn){return function(Mr){return dt[Mr][Tn]}}function Dt(Tn){return function(Mr,Er){return Mr===!1?dt[$e[Er]][Tn]:null}}for(var Rt in Ue){if(M.hasParent(Ue,Rt))throw new Error("cannot set "+Rt+" and a parent attribute simultaneously");var Bt=Ue[Rt],Nt,Xt,lr,sr,dr,je;if((Rt==="autobinx"||Rt==="autobiny")&&(Rt=Rt.charAt(Rt.length-1)+"bins",Array.isArray(Bt)?Bt=Bt.map(Dt(Rt)):Bt===!1?Bt=$e.map(St(Rt)):Bt=null),Ar[Rt]=Bt,Rt.substr(0,6)==="LAYOUT"){lr=Qt(Pe.layout,Rt.replace("LAYOUT","")),ut[Rt]=[q(lr.get())],lr.set(Array.isArray(Bt)?Bt[0]:Bt),$t.calc=!0;continue}for(ut[Rt]=Kt(),zt=0;zt<$e.length;zt++){Nt=bt[$e[zt]],Xt=st($e[zt]);var Ye=qe._tracePreGUI[Xt._fullInput.uid];if(lr=ee(Ye,Gt)(Nt,Rt),sr=lr.get(),dr=Array.isArray(Bt)?Bt[zt%Bt.length]:Bt,dr!==void 0){var It=lr.parts[lr.parts.length-1],kt=Rt.substr(0,Rt.length-It.length-1),jt=kt?kt+".":"",tr=kt?T(Xt,kt).get():Xt;if(je=r.getTraceValObject(Xt,lr.parts),je&&je.impliedEdits&&dr!==null)for(var or in je.impliedEdits)xt(C.relativeAttr(Rt,or),je.impliedEdits[or],zt);else if((It==="thicknessmode"||It==="lenmode")&&sr!==dr&&(dr==="fraction"||dr==="pixels")&&tr){var rr=qe._size,Ot=tr.orient,hr=Ot==="top"||Ot==="bottom";if(It==="thicknessmode"){var gr=hr?rr.h:rr.w;xt(jt+"thickness",tr.thickness*(dr==="fraction"?1/gr:gr),zt)}else{var pr=hr?rr.w:rr.h;xt(jt+"len",tr.len*(dr==="fraction"?1/pr:pr),zt)}}else if(Rt==="type"&&(dr==="pie"!=(sr==="pie")||dr==="funnelarea"!=(sr==="funnelarea"))){var vr="x",Vr="y";(dr==="bar"||sr==="bar")&&Nt.orientation==="h"&&(vr="y",Vr="x"),C.swapAttrs(Nt,["?","?src"],"labels",vr),C.swapAttrs(Nt,["d?","?0"],"label",vr),C.swapAttrs(Nt,["?","?src"],"values",Vr),sr==="pie"||sr==="funnelarea"?(T(Nt,"marker.color").set(T(Nt,"marker.colors").get()),qe._pielayer.selectAll("g.trace").remove()):t.traceIs(Nt,"cartesian")&&T(Nt,"marker.colors").set(T(Nt,"marker.color").get())}ut[Rt][zt]=q(sr);var kr=["swapxy","swapxyaxes","orientation","orientationaxes"];if(kr.indexOf(Rt)!==-1){if(Rt==="orientation"){lr.set(dr);var _r=Nt.x&&!Nt.y?"h":"v";if((lr.get()||_r)===Xt.orientation)continue}else Rt==="orientationaxes"&&(Nt.orientation={v:"h",h:"v"}[Xt.orientation]);M.swapXYData(Nt),$t.calc=$t.clearAxisTypes=!0}else s.dataArrayContainers.indexOf(lr.parts[0])!==-1?(M.manageArrayContainers(lr,dr,ut),$t.calc=!0):(je?je.arrayOk&&!t.traceIs(Xt,"regl")&&(C.isArrayOrTypedArray(dr)||C.isArrayOrTypedArray(sr))?$t.calc=!0:P.update($t,je):$t.calc=!0,lr.set(dr))}}if(["swapxyaxes","orientationaxes"].indexOf(Rt)!==-1&&n.swap(Pe,$e),Rt==="orientationaxes"){var pn=T(Pe.layout,"hovermode"),en=pn.get();en==="x"?pn.set("y"):en==="y"?pn.set("x"):en==="x unified"?pn.set("y unified"):en==="y unified"&&pn.set("x unified")}if(["orientation","type"].indexOf(Rt)!==-1){for(Yt=[],zt=0;zt<$e.length;zt++){var Bn=bt[$e[zt]];t.traceIs(Bn,"cartesian")&&(mr(Bn.xaxis||"x"),mr(Bn.yaxis||"y"))}xt(Yt.map(ur),!0,0),xt(Yt.map(pt),[0,1],0)}}return($t.calc||$t.plot)&&($t.fullReplot=!0),{flags:$t,undoit:ut,redoit:Ar,traces:$e,eventData:C.extendDeepNoArrays([],[At,$e])}}function me(Pe){var Ue=C.counterRegex("axis",".title",!1,!1),$e=/colorbar\.title$/,qe=Object.keys(Pe),dt,bt,Gt;for(dt=0;dt<qe.length;dt++)bt=qe[dt],Gt=Pe[bt],(bt==="title"||Ue.test(bt)||$e.test(bt))&&(typeof Gt=="string"||typeof Gt=="number")?Qt(bt,bt.replace("title","title.text")):bt.indexOf("titlefont")>-1&&bt.indexOf("grouptitlefont")===-1?Qt(bt,bt.replace("titlefont","title.font")):bt.indexOf("titleposition")>-1?Qt(bt,bt.replace("titleposition","title.position")):bt.indexOf("titleside")>-1?Qt(bt,bt.replace("titleside","title.side")):bt.indexOf("titleoffset")>-1&&Qt(bt,bt.replace("titleoffset","title.offset"));function Qt(At,zt){Pe[zt]=Pe[At],delete Pe[At]}}function Ce(Pe,Ue,$e){Pe=C.getGraphDiv(Pe),M.clearPromiseQueue(Pe);var qe={};if(typeof Ue=="string")qe[Ue]=$e;else if(C.isPlainObject(Ue))qe=C.extendFlat({},Ue);else return C.warn("Relayout fail.",Ue,$e),Promise.reject();Object.keys(qe).length&&(Pe.changed=!0);var dt=Ae(Pe,qe),bt=dt.flags;bt.calc&&(Pe.calcdata=void 0);var Gt=[s.previousPromises];bt.layoutReplot?Gt.push(S.layoutReplot):Object.keys(qe).length&&(Te(Pe,bt,dt)||s.supplyDefaults(Pe),bt.legend&&Gt.push(S.doLegend),bt.layoutstyle&&Gt.push(S.layoutStyles),bt.axrange&&Oe(Gt,dt.rangesAltered),bt.ticks&&Gt.push(S.doTicksRelayout),bt.modebar&&Gt.push(S.doModeBar),bt.camera&&Gt.push(S.doCamera),bt.colorbars&&Gt.push(S.doColorBars),Gt.push(L)),Gt.push(s.rehover,s.redrag,s.reselect),y.add(Pe,Ce,[Pe,dt.undoit],Ce,[Pe,dt.redoit]);var Qt=C.syncOrAsync(Gt,Pe);return(!Qt||!Qt.then)&&(Qt=Promise.resolve(Pe)),Qt.then(function(){return Pe.emit("plotly_relayout",dt.eventData),Pe})}function Te(Pe,Ue,$e){var qe=Pe._fullLayout;if(!Ue.axrange)return!1;for(var dt in Ue)if(dt!=="axrange"&&Ue[dt])return!1;var bt,Gt,Qt=function(Yt,Kt){return C.coerce(bt,Gt,f,Yt,Kt)},At={};for(var zt in $e.rangesAltered){var $t=n.id2name(zt);if(bt=Pe.layout[$t],Gt=qe[$t],o(bt,Gt,Qt,At),Gt._matchGroup){for(var Ar in Gt._matchGroup)if(Ar!==zt){var ut=qe[n.id2name(Ar)];ut.autorange=Gt.autorange,ut.range=Gt.range.slice(),ut._input.range=Gt.range.slice()}}}return!0}function Oe(Pe,Ue){var $e=Ue?function(qe){var dt=[],bt=!0;for(var Gt in Ue){var Qt=n.getFromId(qe,Gt);if(dt.push(Gt),(Qt.ticklabelposition||"").indexOf("inside")!==-1&&Qt._anchorAxis&&dt.push(Qt._anchorAxis._id),Qt._matchGroup)for(var At in Qt._matchGroup)Ue[At]||dt.push(At)}return n.draw(qe,dt,{skipTitle:bt})}:function(qe){return n.draw(qe,"redraw")};Pe.push(h,S.doAutoRangeAndConstraints,$e,S.drawData,S.finalDraw)}var Ne=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,Le=/^[xyz]axis[0-9]*\.autorange$/,be=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function Ae(Pe,Ue){var $e=Pe.layout,qe=Pe._fullLayout,dt=qe._guiEditing,bt=ee(qe._preGUI,dt),Gt=Object.keys(Ue),Qt=n.list(Pe),At=C.extendDeepAll({},Ue),zt={},$t,Ar,ut;for(me(Ue),Gt=Object.keys(Ue),Ar=0;Ar<Gt.length;Ar++)if(Gt[Ar].indexOf("allaxes")===0){for(ut=0;ut<Qt.length;ut++){var Yt=Qt[ut]._id.substr(1),Kt=Yt.indexOf("scene")!==-1?Yt+".":"",mr=Gt[Ar].replace("allaxes",Kt+Qt[ut]._name);Ue[mr]||(Ue[mr]=Ue[Gt[Ar]])}delete Ue[Gt[Ar]]}var ur=P.layoutFlags(),pt={},st={};function xt(an,gn){if(Array.isArray(an)){an.forEach(function(Rn){xt(Rn,gn)});return}if(!(an in Ue||M.hasParent(Ue,an))){var mn=bt($e,an);an in st||(st[an]=q(mn.get())),gn!==void 0&&mn.set(gn)}}var St={},Dt;function Rt(an){var gn=n.name2id(an.split(".")[0]);return St[gn]=1,gn}for(var Bt in Ue){if(M.hasParent(Ue,Bt))throw new Error("cannot set "+Bt+" and a parent attribute simultaneously");for(var Nt=bt($e,Bt),Xt=Ue[Bt],lr=Nt.parts.length,sr=lr-1;sr>0&&typeof Nt.parts[sr]!="string";)sr--;var dr=Nt.parts[sr],je=Nt.parts[sr-1]+"."+dr,Ye=Nt.parts.slice(0,sr).join("."),It=T(Pe.layout,Ye).get(),kt=T(qe,Ye).get(),jt=Nt.get();if(Xt!==void 0){pt[Bt]=Xt,st[Bt]=dr==="reverse"?Xt:q(jt);var tr=r.getLayoutValObject(qe,Nt.parts);if(tr&&tr.impliedEdits&&Xt!==null)for(var or in tr.impliedEdits)xt(C.relativeAttr(Bt,or),tr.impliedEdits[or]);if(["width","height"].indexOf(Bt)!==-1)if(Xt){xt("autosize",null);var rr=Bt==="height"?"width":"height";xt(rr,qe[rr])}else qe[Bt]=Pe._initialAutoSize[Bt];else if(Bt==="autosize")xt("width",Xt?null:qe.width),xt("height",Xt?null:qe.height);else if(je.match(Ne))Rt(je),T(qe,Ye+"._inputRange").set(null);else if(je.match(Le)){Rt(je),T(qe,Ye+"._inputRange").set(null);var Ot=T(qe,Ye).get();Ot._inputDomain&&(Ot._input.domain=Ot._inputDomain.slice())}else je.match(be)&&T(qe,Ye+"._inputDomain").set(null);if(dr==="type"){Dt=It;var hr=kt.type==="linear"&&Xt==="log",gr=kt.type==="log"&&Xt==="linear";if(hr||gr){if(!Dt||!Dt.range)xt(Ye+".autorange",!0);else if(kt.autorange)hr&&(Dt.range=Dt.range[1]>Dt.range[0]?[1,2]:[2,1]);else{var pr=Dt.range[0],vr=Dt.range[1];hr?(pr<=0&&vr<=0&&xt(Ye+".autorange",!0),pr<=0?pr=vr/1e6:vr<=0&&(vr=pr/1e6),xt(Ye+".range[0]",Math.log(pr)/Math.LN10),xt(Ye+".range[1]",Math.log(vr)/Math.LN10)):(xt(Ye+".range[0]",Math.pow(10,pr)),xt(Ye+".range[1]",Math.pow(10,vr)))}Array.isArray(qe._subplots.polar)&&qe._subplots.polar.length&&qe[Nt.parts[0]]&&Nt.parts[1]==="radialaxis"&&delete qe[Nt.parts[0]]._subplot.viewInitial["radialaxis.range"],t.getComponentMethod("annotations","convertCoords")(Pe,kt,Xt,xt),t.getComponentMethod("images","convertCoords")(Pe,kt,Xt,xt)}else xt(Ye+".autorange",!0),xt(Ye+".range",null);T(qe,Ye+"._inputRange").set(null)}else if(dr.match(x)){var Vr=T(qe,Bt).get(),kr=(Xt||{}).type;(!kr||kr==="-")&&(kr="linear"),t.getComponentMethod("annotations","convertCoords")(Pe,Vr,kr,xt),t.getComponentMethod("images","convertCoords")(Pe,Vr,kr,xt)}var _r=p.containerArrayMatch(Bt);if(_r){$t=_r.array,Ar=_r.index;var pn=_r.property,en=tr||{editType:"calc"};Ar!==""&&pn===""&&(p.isAddVal(Xt)?st[Bt]=null:p.isRemoveVal(Xt)?st[Bt]=(T($e,$t).get()||[])[Ar]:C.warn("unrecognized full object value",Ue)),P.update(ur,en),zt[$t]||(zt[$t]={});var Bn=zt[$t][Ar];Bn||(Bn=zt[$t][Ar]={}),Bn[pn]=Xt,delete Ue[Bt]}else dr==="reverse"?(It.range?It.range.reverse():(xt(Ye+".autorange",!0),It.range=[1,0]),kt.autorange?ur.calc=!0:ur.plot=!0):(Bt==="dragmode"&&(Xt===!1&&jt!==!1||Xt!==!1&&jt===!1)||qe._has("scatter-like")&&qe._has("regl")&&Bt==="dragmode"&&(Xt==="lasso"||Xt==="select")&&!(jt==="lasso"||jt==="select")||qe._has("gl2d")?ur.plot=!0:tr?P.update(ur,tr):ur.calc=!0,Nt.set(Xt))}}for($t in zt){var Tn=p.applyContainerArrayChanges(Pe,bt($e,$t),zt[$t],ur,bt);Tn||(ur.plot=!0)}for(var Mr in St){Dt=n.getFromId(Pe,Mr);var Er=Dt&&Dt._constraintGroup;if(Er){ur.calc=!0;for(var Gr in Er)St[Gr]||(n.getFromId(Pe,Gr)._constraintShrinkable=!0)}}(He(Pe)||Ue.height||Ue.width)&&(ur.plot=!0);var Ur=qe.shapes;for(Ar=0;Ar<Ur.length;Ar++)if(Ur[Ar].showlegend){ur.calc=!0;break}return(ur.plot||ur.calc)&&(ur.layoutReplot=!0),{flags:ur,rangesAltered:St,undoit:st,redoit:pt,eventData:At}}function He(Pe){var Ue=Pe._fullLayout,$e=Ue.width,qe=Ue.height;return Pe.layout.autosize&&s.plotAutoSize(Pe,Pe.layout,Ue),Ue.width!==$e||Ue.height!==qe}function Ve(Pe,Ue,$e,qe){Pe=C.getGraphDiv(Pe),M.clearPromiseQueue(Pe),C.isPlainObject(Ue)||(Ue={}),C.isPlainObject($e)||($e={}),Object.keys(Ue).length&&(Pe.changed=!0),Object.keys($e).length&&(Pe.changed=!0);var dt=M.coerceTraceIndices(Pe,qe),bt=he(Pe,C.extendFlat({},Ue),dt),Gt=bt.flags,Qt=Ae(Pe,C.extendFlat({},$e)),At=Qt.flags;(Gt.calc||At.calc)&&(Pe.calcdata=void 0),Gt.clearAxisTypes&&M.clearAxisTypes(Pe,dt,$e);var zt=[];At.layoutReplot?zt.push(S.layoutReplot):Gt.fullReplot?zt.push(H._doPlot):(zt.push(s.previousPromises),Te(Pe,At,Qt)||s.supplyDefaults(Pe),Gt.style&&zt.push(S.doTraceStyle),(Gt.colorbars||At.colorbars)&&zt.push(S.doColorBars),At.legend&&zt.push(S.doLegend),At.layoutstyle&&zt.push(S.layoutStyles),At.axrange&&Oe(zt,Qt.rangesAltered),At.ticks&&zt.push(S.doTicksRelayout),At.modebar&&zt.push(S.doModeBar),At.camera&&zt.push(S.doCamera),zt.push(L)),zt.push(s.rehover,s.redrag,s.reselect),y.add(Pe,Ve,[Pe,bt.undoit,Qt.undoit,bt.traces],Ve,[Pe,bt.redoit,Qt.redoit,bt.traces]);var $t=C.syncOrAsync(zt,Pe);return(!$t||!$t.then)&&($t=Promise.resolve(Pe)),$t.then(function(){return Pe.emit("plotly_update",{data:bt.eventData,layout:Qt.eventData}),Pe})}function ke(Pe){return function($e){$e._fullLayout._guiEditing=!0;var qe=Pe.apply(null,arguments);return $e._fullLayout._guiEditing=!1,qe}}var Ge=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],it=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function et(Pe,Ue){for(var $e=0;$e<Ue.length;$e++){var qe=Ue[$e],dt=Pe.match(qe.pattern);if(dt){var bt=dt[1]||"";return{head:bt,tail:Pe.substr(bt.length+1),attr:qe.attr}}}}function tt(Pe,Ue){var $e=T(Ue,Pe).get();if($e!==void 0)return $e;var qe=Pe.split(".");for(qe.pop();qe.length>1;)if(qe.pop(),$e=T(Ue,qe.join(".")+".uirevision").get(),$e!==void 0)return $e;return Ue.uirevision}function at(Pe,Ue){for(var $e=0;$e<Ue.length;$e++)if(Ue[$e]._fullInput.uid===Pe)return $e;return-1}function vt(Pe,Ue,$e){for(var qe=0;qe<Ue.length;qe++)if(Ue[qe].uid===Pe)return qe;return!Ue[$e]||Ue[$e].uid?-1:$e}function yt(Pe,Ue){var $e=C.isPlainObject(Pe),qe=Array.isArray(Pe);return $e||qe?($e&&C.isPlainObject(Ue)||qe&&Array.isArray(Ue))&&JSON.stringify(Pe)===JSON.stringify(Ue):Pe===Ue}function gt(Pe,Ue,$e,qe){var dt=qe._preGUI,bt,Gt,Qt,At,zt,$t,Ar,ut,Yt,Kt,mr=[],ur={},pt={};for(bt in dt){if(zt=et(bt,Ge),zt){if(Yt=zt.head,Kt=zt.tail,Gt=zt.attr||Yt+".uirevision",Qt=T(qe,Gt).get(),At=Qt&&tt(Gt,Ue),At&&At===Qt){if($t=dt[bt],$t===null&&($t=void 0),Ar=T(Ue,bt),ut=Ar.get(),yt(ut,$t)){ut===void 0&&Kt==="autorange"&&mr.push(Yt),Ar.set(q(T(qe,bt).get()));continue}else if(Kt==="autorange"||Kt.substr(0,6)==="range["){var st=dt[Yt+".range[0]"],xt=dt[Yt+".range[1]"],St=dt[Yt+".autorange"];if(St||St===null&&st===null&&xt===null){if(!(Yt in ur)){var Dt=T(Ue,Yt).get();ur[Yt]=Dt&&(Dt.autorange||Dt.autorange!==!1&&(!Dt.range||Dt.range.length!==2))}if(ur[Yt]){Ar.set(q(T(qe,bt).get()));continue}}}}}else C.warn("unrecognized GUI edit: "+bt);delete dt[bt],zt&&zt.tail.substr(0,6)==="range["&&(pt[zt.head]=1)}for(var Rt=0;Rt<mr.length;Rt++){var Bt=mr[Rt];if(pt[Bt]){var Nt=T(Ue,Bt).get();Nt&&delete Nt.autorange}}var Xt=qe._tracePreGUI;for(var lr in Xt){var sr=Xt[lr],dr=null,je;for(bt in sr){if(!dr){var Ye=at(lr,$e);if(Ye<0){delete Xt[lr];break}var It=$e[Ye];je=It._fullInput;var kt=vt(lr,Pe,je.index);if(kt<0){delete Xt[lr];break}dr=Pe[kt]}if(zt=et(bt,it),zt){if(zt.attr?(Qt=T(qe,zt.attr).get(),At=Qt&&tt(zt.attr,Ue)):(Qt=je.uirevision,At=dr.uirevision,At===void 0&&(At=Ue.uirevision)),At&&At===Qt&&($t=sr[bt],$t===null&&($t=void 0),Ar=T(dr,bt),ut=Ar.get(),yt(ut,$t))){Ar.set(q(T(je,bt).get()));continue}}else C.warn("unrecognized GUI edit: "+bt+" in trace uid "+lr);delete sr[bt]}}}function Mt(Pe,Ue,$e,qe){var dt,bt;function Gt(){return H.addFrames(Pe,dt)}Pe=C.getGraphDiv(Pe),M.clearPromiseQueue(Pe);var Qt=Pe._fullData,At=Pe._fullLayout;if(!C.isPlotDiv(Pe)||!Qt||!At)bt=H.newPlot(Pe,Ue,$e,qe);else{if(C.isPlainObject(Ue)){var zt=Ue;Ue=zt.data,$e=zt.layout,qe=zt.config,dt=zt.frames}var $t=!1;if(qe){var Ar=C.extendDeep({},Pe._context);Pe._context=void 0,N(Pe,qe),$t=ze(Ar,Pe._context)}Pe.data=Ue||[],M.cleanData(Pe.data),Pe.layout=$e||{},M.cleanLayout(Pe.layout),gt(Pe.data,Pe.layout,Qt,At),s.supplyDefaults(Pe,{skipUpdateCalc:!0});var ut=Pe._fullData,Yt=Pe._fullLayout,Kt=Yt.datarevision===void 0,mr=Yt.transition,ur=Vt(Pe,At,Yt,Kt,mr),pt=ur.newDataRevision,st=Ct(Pe,Qt,ut,Kt,mr,pt);if(He(Pe)&&(ur.layoutReplot=!0),st.calc||ur.calc){Pe.calcdata=void 0;for(var xt=Object.getOwnPropertyNames(Yt),St=0;St<xt.length;St++){var Dt=xt[St],Rt=Dt.substring(0,5);if(Rt==="xaxis"||Rt==="yaxis"){var Bt=Yt[Dt]._emptyCategories;Bt&&Bt()}}}else s.supplyDefaultsUpdateCalc(Pe.calcdata,ut);var Nt=[];if(dt&&(Pe._transitionData={},s.createTransitionData(Pe),Nt.push(Gt)),Yt.transition&&!$t&&(st.anim||ur.anim))ur.ticks&&Nt.push(S.doTicksRelayout),s.doCalcdata(Pe),S.doAutoRangeAndConstraints(Pe),Nt.push(function(){return s.transitionFromReact(Pe,st,ur,At)});else if(st.fullReplot||ur.layoutReplot||$t)Pe._fullLayout._skipDefaults=!0,Nt.push(H._doPlot);else{for(var Xt in ur.arrays){var lr=ur.arrays[Xt];if(lr.length){var sr=t.getComponentMethod(Xt,"drawOne");if(sr!==C.noop)for(var dr=0;dr<lr.length;dr++)sr(Pe,lr[dr]);else{var je=t.getComponentMethod(Xt,"draw");if(je===C.noop)throw new Error("cannot draw components: "+Xt);je(Pe)}}}Nt.push(s.previousPromises),st.style&&Nt.push(S.doTraceStyle),(st.colorbars||ur.colorbars)&&Nt.push(S.doColorBars),ur.legend&&Nt.push(S.doLegend),ur.layoutstyle&&Nt.push(S.layoutStyles),ur.axrange&&Oe(Nt),ur.ticks&&Nt.push(S.doTicksRelayout),ur.modebar&&Nt.push(S.doModeBar),ur.camera&&Nt.push(S.doCamera),Nt.push(L)}Nt.push(s.rehover,s.redrag,s.reselect),bt=C.syncOrAsync(Nt,Pe),(!bt||!bt.then)&&(bt=Promise.resolve(Pe))}return bt.then(function(){return Pe.emit("plotly_react",{data:Ue,layout:$e}),Pe})}function Ct(Pe,Ue,$e,qe,dt,bt){var Gt=Ue.length===$e.length;if(!dt&&!Gt)return{fullReplot:!0,calc:!0};var Qt=P.traceFlags();Qt.arrays={},Qt.nChanges=0,Qt.nChangesAnim=0;var At,zt;function $t(Yt){var Kt=r.getTraceValObject(zt,Yt);return!zt._module.animatable&&Kt.anim&&(Kt.anim=!1),Kt}var Ar={getValObject:$t,flags:Qt,immutable:qe,transition:dt,newDataRevision:bt,gd:Pe},ut={};for(At=0;At<Ue.length;At++)if($e[At]){if(zt=$e[At]._fullInput,s.hasMakesDataTransform(zt)&&(zt=$e[At]),ut[zt.uid])continue;ut[zt.uid]=1,Je(Ue[At]._fullInput,zt,[],Ar)}return(Qt.calc||Qt.plot)&&(Qt.fullReplot=!0),dt&&Qt.nChanges&&Qt.nChangesAnim&&(Qt.anim=Qt.nChanges===Qt.nChangesAnim&&Gt?"all":"some"),Qt}function Vt(Pe,Ue,$e,qe,dt){var bt=P.layoutFlags();bt.arrays={},bt.rangesAltered={},bt.nChanges=0,bt.nChangesAnim=0;function Gt(At){return r.getLayoutValObject($e,At)}var Qt={getValObject:Gt,flags:bt,immutable:qe,transition:dt,gd:Pe};return Je(Ue,$e,[],Qt),(bt.plot||bt.calc)&&(bt.layoutReplot=!0),dt&&bt.nChanges&&bt.nChangesAnim&&(bt.anim=bt.nChanges===bt.nChangesAnim?"all":"some"),bt}function Je(Pe,Ue,$e,qe){var dt,bt,Gt,Qt=qe.getValObject,At=qe.flags,zt=qe.immutable,$t=qe.inArray,Ar=qe.arrayIndex;function ut(){var Ye=dt.editType;if($t&&Ye.indexOf("arraydraw")!==-1){C.pushUnique(At.arrays[$t],Ar);return}P.update(At,dt),Ye!=="none"&&At.nChanges++,qe.transition&&dt.anim&&At.nChangesAnim++,(Ne.test(Gt)||Le.test(Gt))&&(At.rangesAltered[$e[0]]=1),be.test(Gt)&&T(Ue,"_inputDomain").set(null),bt==="datarevision"&&(At.newDataRevision=1)}function Yt(Ye){return Ye.valType==="data_array"||Ye.arrayOk}for(bt in Pe){if(At.calc&&!qe.transition)return;var Kt=Pe[bt],mr=Ue[bt],ur=$e.concat(bt);if(Gt=ur.join("."),!(bt.charAt(0)==="_"||typeof Kt=="function"||Kt===mr)){if((bt==="tick0"||bt==="dtick")&&$e[0]!=="geo"){var pt=Ue.tickmode;if(pt==="auto"||pt==="array"||!pt)continue}if(!(bt==="range"&&Ue.autorange)&&!((bt==="zmin"||bt==="zmax")&&Ue.type==="contourcarpet")&&(dt=Qt(ur),!!dt&&!(dt._compareAsJSON&&JSON.stringify(Kt)===JSON.stringify(mr)))){var st=dt.valType,xt,St=Yt(dt),Dt=Array.isArray(Kt),Rt=Array.isArray(mr);if(Dt&&Rt){var Bt="_input_"+bt,Nt=Pe[Bt],Xt=Ue[Bt];if(Array.isArray(Nt)&&Nt===Xt)continue}if(mr===void 0)St&&Dt?At.calc=!0:ut();else if(dt._isLinkedToArray){var lr=[],sr=!1;$t||(At.arrays[bt]=lr);var dr=Math.min(Kt.length,mr.length),je=Math.max(Kt.length,mr.length);if(dr!==je)if(dt.editType==="arraydraw")sr=!0;else{ut();continue}for(xt=0;xt<dr;xt++)Je(Kt[xt],mr[xt],ur.concat(xt),C.extendFlat({inArray:bt,arrayIndex:xt},qe));if(sr)for(xt=dr;xt<je;xt++)lr.push(xt)}else!st&&C.isPlainObject(Kt)?Je(Kt,mr,ur,qe):St?Dt&&Rt?(zt&&(At.calc=!0),(zt||qe.newDataRevision)&&ut()):Dt!==Rt?At.calc=!0:ut():Dt&&Rt?(Kt.length!==mr.length||String(Kt)!==String(mr))&&ut():ut()}}}for(bt in Ue)if(!(bt in Pe||bt.charAt(0)==="_"||typeof Ue[bt]=="function"))if(dt=Qt($e.concat(bt)),Yt(dt)&&Array.isArray(Ue[bt])){At.calc=!0;return}else ut()}function ze(Pe,Ue){var $e;for($e in Pe)if($e.charAt(0)!=="_"){var qe=Pe[$e],dt=Ue[$e];if(qe!==dt)if(C.isPlainObject(qe)&&C.isPlainObject(dt)){if(ze(qe,dt))return!0}else if(Array.isArray(qe)&&Array.isArray(dt)){if(qe.length!==dt.length)return!0;for(var bt=0;bt<qe.length;bt++)if(qe[bt]!==dt[bt])if(C.isPlainObject(qe[bt])&&C.isPlainObject(dt[bt])){if(ze(qe[bt],dt[bt]))return!0}else return!0}else return!0}}function _e(Pe,Ue,$e){if(Pe=C.getGraphDiv(Pe),!C.isPlotDiv(Pe))throw new Error("This element is not a Plotly plot: "+Pe+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var qe=Pe._transitionData;qe._frameQueue||(qe._frameQueue=[]),$e=s.supplyAnimationDefaults($e);var dt=$e.transition,bt=$e.frame;qe._frameWaitingCnt===void 0&&(qe._frameWaitingCnt=0);function Gt(zt){return Array.isArray(dt)?zt>=dt.length?dt[0]:dt[zt]:dt}function Qt(zt){return Array.isArray(bt)?zt>=bt.length?bt[0]:bt[zt]:bt}function At(zt,$t){var Ar=0;return function(){if(zt&&++Ar===$t)return zt()}}return new Promise(function(zt,$t){function Ar(){if(qe._frameQueue.length!==0){for(;qe._frameQueue.length;){var dr=qe._frameQueue.pop();dr.onInterrupt&&dr.onInterrupt()}Pe.emit("plotly_animationinterrupted",[])}}function ut(dr){if(dr.length!==0){for(var je=0;je<dr.length;je++){var Ye;dr[je].type==="byname"?Ye=s.computeFrame(Pe,dr[je].name):Ye=dr[je].data;var It=Qt(je),kt=Gt(je);kt.duration=Math.min(kt.duration,It.duration);var jt={frame:Ye,name:dr[je].name,frameOpts:It,transitionOpts:kt};je===dr.length-1&&(jt.onComplete=At(zt,2),jt.onInterrupt=$t),qe._frameQueue.push(jt)}$e.mode==="immediate"&&(qe._lastFrameAt=-1/0),qe._animationRaf||mr()}}function Yt(){Pe.emit("plotly_animated"),window.cancelAnimationFrame(qe._animationRaf),qe._animationRaf=null}function Kt(){qe._currentFrame&&qe._currentFrame.onComplete&&qe._currentFrame.onComplete();var dr=qe._currentFrame=qe._frameQueue.shift();if(dr){var je=dr.name?dr.name.toString():null;Pe._fullLayout._currentFrame=je,qe._lastFrameAt=Date.now(),qe._timeToNext=dr.frameOpts.duration,s.transition(Pe,dr.frame.data,dr.frame.layout,M.coerceTraceIndices(Pe,dr.frame.traces),dr.frameOpts,dr.transitionOpts).then(function(){dr.onComplete&&dr.onComplete()}),Pe.emit("plotly_animatingframe",{name:je,frame:dr.frame,animation:{frame:dr.frameOpts,transition:dr.transitionOpts}})}else Yt()}function mr(){Pe.emit("plotly_animating"),qe._lastFrameAt=-1/0,qe._timeToNext=0,qe._runningTransitions=0,qe._currentFrame=null;var dr=function(){qe._animationRaf=window.requestAnimationFrame(dr),Date.now()-qe._lastFrameAt>qe._timeToNext&&Kt()};dr()}var ur=0;function pt(dr){return Array.isArray(dt)?ur>=dt.length?dr.transitionOpts=dt[ur]:dr.transitionOpts=dt[0]:dr.transitionOpts=dt,ur++,dr}var st,xt,St=[],Dt=Ue==null,Rt=Array.isArray(Ue),Bt=!Dt&&!Rt&&C.isPlainObject(Ue);if(Bt)St.push({type:"object",data:pt(C.extendFlat({},Ue))});else if(Dt||["string","number"].indexOf(typeof Ue)!==-1)for(st=0;st<qe._frames.length;st++)xt=qe._frames[st],xt&&(Dt||String(xt.group)===String(Ue))&&St.push({type:"byname",name:String(xt.name),data:pt({name:xt.name})});else if(Rt)for(st=0;st<Ue.length;st++){var Nt=Ue[st];["number","string"].indexOf(typeof Nt)!==-1?(Nt=String(Nt),St.push({type:"byname",name:Nt,data:pt({name:Nt})})):C.isPlainObject(Nt)&&St.push({type:"object",data:pt(C.extendFlat({},Nt))})}for(st=0;st<St.length;st++)if(xt=St[st],xt.type==="byname"&&!qe._frameHash[xt.data.name]){C.warn('animate failure: frame not found: "'+xt.data.name+'"'),$t();return}["next","immediate"].indexOf($e.mode)!==-1&&Ar(),$e.direction==="reverse"&&St.reverse();var Xt=Pe._fullLayout._currentFrame;if(Xt&&$e.fromcurrent){var lr=-1;for(st=0;st<St.length;st++)if(xt=St[st],xt.type==="byname"&&xt.name===Xt){lr=st;break}if(lr>0&&lr<St.length-1){var sr=[];for(st=0;st<St.length;st++)xt=St[st],(St[st].type!=="byname"||st>lr)&&sr.push(xt);St=sr}}St.length>0?ut(St):(Pe.emit("plotly_animated"),zt())})}function Be(Pe,Ue,$e){if(Pe=C.getGraphDiv(Pe),Ue==null)return Promise.resolve();if(!C.isPlotDiv(Pe))throw new Error("This element is not a Plotly plot: "+Pe+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var qe,dt,bt,Gt,Qt=Pe._transitionData._frames,At=Pe._transitionData._frameHash;if(!Array.isArray(Ue))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+Ue);var zt=Qt.length+Ue.length*2,$t=[],Ar={};for(qe=Ue.length-1;qe>=0;qe--)if(C.isPlainObject(Ue[qe])){var ut=Ue[qe].name,Yt=(At[ut]||Ar[ut]||{}).name,Kt=Ue[qe].name,mr=At[Yt]||Ar[Yt];Yt&&Kt&&typeof Kt=="number"&&mr&&E<w&&(E++,C.warn('addFrames: overwriting frame "'+(At[Yt]||Ar[Yt]).name+'" with a frame whose name of type "number" also equates to "'+Yt+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),E===w&&C.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),Ar[ut]={name:ut},$t.push({frame:s.supplyFrameDefaults(Ue[qe]),index:$e&&$e[qe]!==void 0&&$e[qe]!==null?$e[qe]:zt+qe})}$t.sort(function(Bt,Nt){return Bt.index>Nt.index?-1:Bt.index<Nt.index?1:0});var ur=[],pt=[],st=Qt.length;for(qe=$t.length-1;qe>=0;qe--){if(dt=$t[qe].frame,typeof dt.name=="number"&&C.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!dt.name)for(;At[dt.name="frame "+Pe._transitionData._counter++];);if(At[dt.name]){for(bt=0;bt<Qt.length&&(Qt[bt]||{}).name!==dt.name;bt++);ur.push({type:"replace",index:bt,value:dt}),pt.unshift({type:"replace",index:bt,value:Qt[bt]})}else Gt=Math.max(0,Math.min($t[qe].index,st)),ur.push({type:"insert",index:Gt,value:dt}),pt.unshift({type:"delete",index:Gt}),st++}var xt=s.modifyFrames,St=s.modifyFrames,Dt=[Pe,pt],Rt=[Pe,ur];return y&&y.add(Pe,xt,Dt,St,Rt),s.modifyFrames(Pe,ur)}function De(Pe,Ue){if(Pe=C.getGraphDiv(Pe),!C.isPlotDiv(Pe))throw new Error("This element is not a Plotly plot: "+Pe);var $e,qe,dt=Pe._transitionData._frames,bt=[],Gt=[];if(!Ue)for(Ue=[],$e=0;$e<dt.length;$e++)Ue.push($e);for(Ue=Ue.slice(),Ue.sort(),$e=Ue.length-1;$e>=0;$e--)qe=Ue[$e],bt.push({type:"delete",index:qe}),Gt.unshift({type:"insert",index:qe,value:dt[qe]});var Qt=s.modifyFrames,At=s.modifyFrames,zt=[Pe,Gt],$t=[Pe,bt];return y&&y.add(Pe,Qt,zt,At,$t),s.modifyFrames(Pe,bt)}function we(Pe){Pe=C.getGraphDiv(Pe);var Ue=Pe._fullLayout||{},$e=Pe._fullData||[];return s.cleanPlot([],{},$e,Ue),s.purge(Pe),v.purge(Pe),Ue._container&&Ue._container.remove(),delete Pe._context,Pe}function xe(Pe){var Ue=Pe._fullLayout,$e=Pe.getBoundingClientRect();if(!C.equalDomRects($e,Ue._lastBBox)){var qe=Ue._invTransform=C.inverseTransformMatrix(C.getFullTransformMatrix(Pe));Ue._invScaleX=Math.sqrt(qe[0][0]*qe[0][0]+qe[0][1]*qe[0][1]+qe[0][2]*qe[0][2]),Ue._invScaleY=Math.sqrt(qe[1][0]*qe[1][0]+qe[1][1]*qe[1][1]+qe[1][2]*qe[1][2]),Ue._lastBBox=$e}}function Ee(Pe){var Ue=g.select(Pe),$e=Pe._fullLayout;if($e._calcInverseTransform=xe,$e._calcInverseTransform(Pe),$e._container=Ue.selectAll(".plot-container").data([0]),$e._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),$e._paperdiv=$e._container.selectAll(".svg-container").data([0]),$e._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),$e._glcontainer=$e._paperdiv.selectAll(".gl-container").data([{}]),$e._glcontainer.enter().append("div").classed("gl-container",!0),$e._paperdiv.selectAll(".main-svg").remove(),$e._paperdiv.select(".modebar-container").remove(),$e._paper=$e._paperdiv.insert("svg",":first-child").classed("main-svg",!0),$e._toppaper=$e._paperdiv.append("svg").classed("main-svg",!0),$e._modebardiv=$e._paperdiv.append("div"),delete $e._modeBar,$e._hoverpaper=$e._paperdiv.append("svg").classed("main-svg",!0),!$e._uid){var qe={};g.selectAll("defs").each(function(){this.id&&(qe[this.id.split("-")[1]]=1)}),$e._uid=C.randstr(qe)}$e._paperdiv.selectAll(".main-svg").attr(A.svgAttrs),$e._defs=$e._paper.append("defs").attr("id","defs-"+$e._uid),$e._clips=$e._defs.append("g").classed("clips",!0),$e._topdefs=$e._toppaper.append("defs").attr("id","topdefs-"+$e._uid),$e._topclips=$e._topdefs.append("g").classed("clips",!0),$e._bgLayer=$e._paper.append("g").classed("bglayer",!0),$e._draggers=$e._paper.append("g").classed("draglayer",!0);var dt=$e._paper.append("g").classed("layer-below",!0);$e._imageLowerLayer=dt.append("g").classed("imagelayer",!0),$e._shapeLowerLayer=dt.append("g").classed("shapelayer",!0),$e._cartesianlayer=$e._paper.append("g").classed("cartesianlayer",!0),$e._polarlayer=$e._paper.append("g").classed("polarlayer",!0),$e._smithlayer=$e._paper.append("g").classed("smithlayer",!0),$e._ternarylayer=$e._paper.append("g").classed("ternarylayer",!0),$e._geolayer=$e._paper.append("g").classed("geolayer",!0),$e._funnelarealayer=$e._paper.append("g").classed("funnelarealayer",!0),$e._pielayer=$e._paper.append("g").classed("pielayer",!0),$e._iciclelayer=$e._paper.append("g").classed("iciclelayer",!0),$e._treemaplayer=$e._paper.append("g").classed("treemaplayer",!0),$e._sunburstlayer=$e._paper.append("g").classed("sunburstlayer",!0),$e._indicatorlayer=$e._toppaper.append("g").classed("indicatorlayer",!0),$e._glimages=$e._paper.append("g").classed("glimages",!0);var bt=$e._toppaper.append("g").classed("layer-above",!0);$e._imageUpperLayer=bt.append("g").classed("imagelayer",!0),$e._shapeUpperLayer=bt.append("g").classed("shapelayer",!0),$e._selectionLayer=$e._toppaper.append("g").classed("selectionlayer",!0),$e._infolayer=$e._toppaper.append("g").classed("infolayer",!0),$e._menulayer=$e._toppaper.append("g").classed("menulayer",!0),$e._zoomlayer=$e._toppaper.append("g").classed("zoomlayer",!0),$e._hoverlayer=$e._hoverpaper.append("g").classed("hoverlayer",!0),$e._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),Pe.emit("plotly_framework")}H.animate=_e,H.addFrames=Be,H.deleteFrames=De,H.addTraces=K,H.deleteTraces=J,H.extendTraces=Q,H.moveTraces=re,H.prependTraces=Z,H.newPlot=B,H._doPlot=i,H.purge=we,H.react=Mt,H.redraw=z,H.relayout=Ce,H.restyle=le,H.setPlotConfig=b,H.update=Ve,H._guiRelayout=ke(Ce),H._guiRestyle=ke(le),H._guiUpdate=ke(Ve),H._storeDirectGUIEdit=se},72075:function(W){var H={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},e={};function g(R,a){for(var C in R){var T=R[C];T.valType?a[C]=T.dflt:(a[C]||(a[C]={}),g(T,a[C]))}}g(H,e),W.exports={configAttributes:H,dfltConfig:e}},86281:function(W,H,e){var g=e(73972),R=e(71828),a=e(9012),C=e(10820),T=e(31391),v=e(85594),y=e(72075).configAttributes,t=e(30962),r=R.extendDeepAll,s=R.isPlainObject,n=R.isArrayOrTypedArray,o=R.nestedProperty,f=R.valObjectMeta,u="_isSubplotObj",m="_isLinkedToArray",c="_arrayAttrRegexps",A="_deprecated",h=[u,m,c,A];H.IS_SUBPLOT_OBJ=u,H.IS_LINKED_TO_ARRAY=m,H.DEPRECATED=A,H.UNDERSCORE_ATTRS=h,H.get=function(){var N={};g.allTypes.forEach(function(B){N[B]=S(B)});var z={};return Object.keys(g.transformsRegistry).forEach(function(B){z[B]=x(B)}),{defs:{valObjects:f,metaKeys:h.concat(["description","role","editType","impliedEdits"]),editType:{traces:t.traces,layout:t.layout},impliedEdits:{}},traces:N,layout:P(),transforms:z,frames:E(),animation:w(v),config:w(y)}},H.crawl=function(N,z,B,U){var F=B||0;U=U||"",Object.keys(N).forEach(function(V){var j=N[V];if(h.indexOf(V)===-1){var $=(U?U+".":"")+V;z(j,V,N,F,$),!H.isValObject(j)&&s(j)&&V!=="impliedEdits"&&H.crawl(j,z,F+1,$)}})},H.isValObject=function(N){return N&&N.valType!==void 0},H.findArrayAttributes=function(N){var z=[],B=[],U=[],F,V;function j(Z,K,J,re){B=B.slice(0,re).concat([K]),U=U.slice(0,re).concat([Z&&Z._isLinkedToArray]);var le=Z&&(Z.valType==="data_array"||Z.arrayOk===!0)&&!(B[re-1]==="colorbar"&&(K==="ticktext"||K==="tickvals"));le&&$(F,0,"")}function $(Z,K,J){var re=Z[B[K]],le=J+B[K];if(K===B.length-1)n(re)&&z.push(V+le);else if(U[K]){if(Array.isArray(re))for(var q=0;q<re.length;q++)s(re[q])&&$(re[q],K+1,le+"["+q+"].")}else s(re)&&$(re,K+1,le+".")}F=N,V="",H.crawl(a,j),N._module&&N._module.attributes&&H.crawl(N._module.attributes,j);var ne=N.transforms;if(ne)for(var oe=0;oe<ne.length;oe++){var ce=ne[oe],Q=ce._module;Q&&(V="transforms["+oe+"].",F=ce,H.crawl(Q.attributes,j))}return z},H.getTraceValObject=function(N,z){var B=z[0],U=1,F,V;if(B==="transforms"){if(z.length===1)return a.transforms;var j=N.transforms;if(!Array.isArray(j)||!j.length)return!1;var $=z[1];if(!M($)||$>=j.length)return!1;F=(g.transformsRegistry[j[$].type]||{}).attributes,V=F&&F[z[2]],U=3}else{var ne=N._module;if(ne||(ne=(g.modules[N.type||a.type.dflt]||{})._module),!ne)return!1;if(F=ne.attributes,V=F&&F[B],!V){var oe=ne.basePlotModule;oe&&oe.attributes&&(V=oe.attributes[B])}V||(V=a[B])}return p(V,z,U)},H.getLayoutValObject=function(N,z){var B=l(N,z[0]);return p(B,z,1)};function l(N,z){var B,U,F,V,j=N._basePlotModules;if(j){var $;for(B=0;B<j.length;B++){if(F=j[B],F.attrRegex&&F.attrRegex.test(z)){if(F.layoutAttrOverrides)return F.layoutAttrOverrides;!$&&F.layoutAttributes&&($=F.layoutAttributes)}var ne=F.baseLayoutAttrOverrides;if(ne&&z in ne)return ne[z]}if($)return $}var oe=N._modules;if(oe){for(B=0;B<oe.length;B++)if(V=oe[B].layoutAttributes,V&&z in V)return V[z]}for(U in g.componentsRegistry){if(F=g.componentsRegistry[U],F.name==="colorscale"&&z.indexOf("coloraxis")===0)return F.layoutAttributes[z];if(!F.schema&&z===F.name)return F.layoutAttributes}return z in C?C[z]:!1}function p(N,z,B){if(!N)return!1;if(N._isLinkedToArray){if(M(z[B]))B++;else if(B<z.length)return!1}for(;B<z.length;B++){var U=N[z[B]];if(s(U))N=U;else break;if(B===z.length-1)break;if(N._isLinkedToArray){if(B++,!M(z[B]))return!1}else if(N.valType==="info_array"){B++;var F=z[B];if(!M(F))return!1;var V=N.items;if(Array.isArray(V)){if(F>=V.length)return!1;if(N.dimensions===2){if(B++,z.length===B)return N;var j=z[B];if(!M(j))return!1;N=V[F][j]}else N=V[F]}else N=V}}return N}function M(N){return N===Math.round(N)&&N>=0}function S(N){var z,B;z=g.modules[N]._module,B=z.basePlotModule;var U={};U.type=null;var F=r({},a),V=r({},z.attributes);H.crawl(V,function(ne,oe,ce,Q,Z){o(F,Z).set(void 0),ne===void 0&&o(V,Z).set(void 0)}),r(U,F),g.traceIs(N,"noOpacity")&&delete U.opacity,g.traceIs(N,"showLegend")||(delete U.showlegend,delete U.legendgroup),g.traceIs(N,"noHover")&&(delete U.hoverinfo,delete U.hoverlabel),z.selectPoints||delete U.selectedpoints,r(U,V),B.attributes&&r(U,B.attributes),U.type=N;var j={meta:z.meta||{},categories:z.categories||{},animatable:!!z.animatable,type:N,attributes:w(U)};if(z.layoutAttributes){var $={};r($,z.layoutAttributes),j.layoutAttributes=w($)}return z.animatable||H.crawl(j,function(ne){H.isValObject(ne)&&"anim"in ne&&delete ne.anim}),j}function P(){var N={},z,B;r(N,C);for(z in g.subplotsRegistry)if(B=g.subplotsRegistry[z],!!B.layoutAttributes)if(Array.isArray(B.attr))for(var U=0;U<B.attr.length;U++)O(N,B,B.attr[U]);else{var F=B.attr==="subplot"?B.name:B.attr;O(N,B,F)}for(z in g.componentsRegistry){B=g.componentsRegistry[z];var V=B.schema;if(V&&(V.subplots||V.layout)){var j=V.subplots;if(j&&j.xaxis&&!j.yaxis)for(var $ in j.xaxis)delete N.yaxis[$];delete N.xaxis.shift,delete N.xaxis.autoshift}else B.name==="colorscale"?r(N,B.layoutAttributes):B.layoutAttributes&&_(N,B.layoutAttributes,B.name)}return{layoutAttributes:w(N)}}function x(N){var z=g.transformsRegistry[N],B=r({},z.attributes);return Object.keys(g.componentsRegistry).forEach(function(U){var F=g.componentsRegistry[U];F.schema&&F.schema.transforms&&F.schema.transforms[N]&&Object.keys(F.schema.transforms[N]).forEach(function(V){_(B,F.schema.transforms[N][V],V)})}),{attributes:w(B)}}function E(){var N={frames:r({},T)};return w(N),N.frames}function w(N){return i(N),L(N),b(N),N}function i(N){function z(U){return{valType:"string",editType:"none"}}function B(U,F,V){H.isValObject(U)?(U.arrayOk===!0||U.valType==="data_array")&&(V[F+"src"]=z()):s(U)&&(U.role="object")}H.crawl(N,B)}function L(N){function z(B,U,F){if(B){var V=B[m];V&&(delete B[m],F[U]={items:{}},F[U].items[V]=B,F[U].role="object")}}H.crawl(N,z)}function b(N){function z(B){for(var U in B)if(s(B[U]))z(B[U]);else if(Array.isArray(B[U]))for(var F=0;F<B[U].length;F++)z(B[U][F]);else B[U]instanceof RegExp&&(B[U]=B[U].toString())}z(N)}function O(N,z,B){var U=o(N,B),F=r({},z.layoutAttributes);F[u]=!0,U.set(F)}function _(N,z,B){var U=o(N,B);U.set(r(U.get()||{},z))}},44467:function(W,H,e){var g=e(71828),R=e(9012),a="templateitemname",C={name:{valType:"string",editType:"none"}};C[a]={valType:"string",editType:"calc"},H.templatedArray=function(y,t){return t._isLinkedToArray=y,t.name=C.name,t[a]=C[a],t},H.traceTemplater=function(y){var t={},r,s;for(r in y)s=y[r],Array.isArray(s)&&s.length&&(t[r]=0);function n(o){r=g.coerce(o,{},R,"type");var f={type:r,_template:null};if(r in t){s=y[r];var u=t[r]%s.length;t[r]++,f._template=s[u]}return f}return{newTrace:n}},H.newContainer=function(y,t,r){var s=y._template,n=s&&(s[t]||r&&s[r]);g.isPlainObject(n)||(n=null);var o=y[t]={_template:n};return o},H.arrayTemplater=function(y,t,r){var s=y._template,n=s&&s[v(t)],o=s&&s[t];(!Array.isArray(o)||!o.length)&&(o=[]);var f={};function u(c){var A={name:c.name,_input:c},h=A[a]=c[a];if(!T(h))return A._template=n,A;for(var l=0;l<o.length;l++){var p=o[l];if(p.name===h)return f[h]=1,A._template=p,A}return A[r]=c[r]||!1,A._template=!1,A}function m(){for(var c=[],A=0;A<o.length;A++){var h=o[A],l=h.name;if(T(l)&&!f[l]){var p={_template:h,name:l,_input:{_templateitemname:l}};p[a]=h[a],c.push(p),f[l]=1}}return c}return{newItem:u,defaultItems:m}};function T(y){return y&&typeof y=="string"}function v(y){var t=y.length-1;return y.charAt(t)!=="s"&&g.warn("bad argument to arrayDefaultKey: "+y),y.substr(0,y.length-1)+"defaults"}H.arrayDefaultKey=v,H.arrayEditor=function(y,t,r){var s=(g.nestedProperty(y,t).get()||[]).length,n=r._index,o=n>=s&&(r._input||{})._templateitemname;o&&(n=s);var f=t+"["+n+"]",u;function m(){u={},o&&(u[f]={},u[f][a]=o)}m();function c(p,M){u[p]=M}function A(p,M){o?g.nestedProperty(u[f],p).set(M):u[f+"."+p]=M}function h(){var p=u;return m(),p}function l(p,M){p&&A(p,M);var S=h();for(var P in S)g.nestedProperty(y,P).set(S[P])}return{modifyBase:c,modifyItem:A,getUpdateObj:h,applyUpdate:l}}},61549:function(W,H,e){var g=e(39898),R=e(73972),a=e(74875),C=e(71828),T=e(63893),v=e(33306),y=e(7901),t=e(91424),r=e(92998),s=e(64168),n=e(89298),o=e(18783),f=e(99082),u=f.enforce,m=f.clean,c=e(71739).doAutoRange,A="start",h="middle",l="end";H.layoutStyles=function(B){return C.syncOrAsync([a.doAutoMargin,M],B)};function p(B,U,F){for(var V=0;V<F.length;V++){var j=F[V][0],$=F[V][1];if(!(j[0]>=B[1]||j[1]<=B[0])&&$[0]<U[1]&&$[1]>U[0])return!0}return!1}function M(B){var U=B._fullLayout,F=U._size,V=F.p,j=n.list(B,"",!0),$,ne,oe,ce,Q,Z;if(U._paperdiv.style({width:B._context.responsive&&U.autosize&&!B._context._hasZeroWidth&&!B.layout.width?"100%":U.width+"px",height:B._context.responsive&&U.autosize&&!B._context._hasZeroHeight&&!B.layout.height?"100%":U.height+"px"}).selectAll(".main-svg").call(t.setSize,U.width,U.height),B._context.setBackground(B,U.paper_bgcolor),H.drawMainTitle(B),s.manage(B),!U._has("cartesian"))return a.previousPromises(B);function K(we,xe,Ee){var Pe=we._lw/2;if(we._id.charAt(0)==="x"){if(xe){if(Ee==="top")return xe._offset-V-Pe}else return F.t+F.h*(1-(we.position||0))+Pe%1;return xe._offset+xe._length+V+Pe}if(xe){if(Ee==="right")return xe._offset+xe._length+V+Pe}else return F.l+F.w*(we.position||0)+Pe%1;return xe._offset-V-Pe}for($=0;$<j.length;$++){ce=j[$];var J=ce._anchorAxis;ce._linepositions={},ce._lw=t.crispRound(B,ce.linewidth,1),ce._mainLinePosition=K(ce,J,ce.side),ce._mainMirrorPosition=ce.mirror&&J?K(ce,J,o.OPPOSITE_SIDE[ce.side]):null}var re=[],le=[],q=[],ee=y.opacity(U.paper_bgcolor)===1&&y.opacity(U.plot_bgcolor)===1&&U.paper_bgcolor===U.plot_bgcolor;for(ne in U._plots)if(oe=U._plots[ne],oe.mainplot)oe.bg&&oe.bg.remove(),oe.bg=void 0;else{var ue=oe.xaxis.domain,se=oe.yaxis.domain,he=oe.plotgroup;if(p(ue,se,q)){var me=he.node(),Ce=oe.bg=C.ensureSingle(he,"rect","bg");me.insertBefore(Ce.node(),me.childNodes[0]),le.push(ne)}else he.select("rect.bg").remove(),q.push([ue,se]),ee||(re.push(ne),le.push(ne))}var Te=U._bgLayer.selectAll(".bg").data(re);for(Te.enter().append("rect").classed("bg",!0),Te.exit().remove(),Te.each(function(we){U._plots[we].bg=g.select(this)}),$=0;$<le.length;$++)oe=U._plots[le[$]],Q=oe.xaxis,Z=oe.yaxis,oe.bg&&Q._offset!==void 0&&Z._offset!==void 0&&oe.bg.call(t.setRect,Q._offset-V,Z._offset-V,Q._length+2*V,Z._length+2*V).call(y.fill,U.plot_bgcolor).style("stroke-width",0);if(!U._hasOnlyLargeSploms)for(ne in U._plots){oe=U._plots[ne],Q=oe.xaxis,Z=oe.yaxis;var Oe=oe.clipId="clip"+U._uid+ne+"plot",Ne=C.ensureSingleById(U._clips,"clipPath",Oe,function(we){we.classed("plotclip",!0).append("rect")});oe.clipRect=Ne.select("rect").attr({width:Q._length,height:Z._length}),t.setTranslate(oe.plot,Q._offset,Z._offset);var Le,be;oe._hasClipOnAxisFalse?(Le=null,be=Oe):(Le=Oe,be=null),t.setClipUrl(oe.plot,Le,B),oe.layerClipId=be}var Ae,He,Ve,ke,Ge,it,et,tt,at,vt,yt,gt,Mt;function Ct(we){return"M"+Ae+","+we+"H"+He}function Vt(we){return"M"+Q._offset+","+we+"h"+Q._length}function Je(we){return"M"+we+","+tt+"V"+et}function ze(we){return Z._shift!==void 0&&(we+=Z._shift),"M"+we+","+Z._offset+"v"+Z._length}function _e(we,xe,Ee){if(!we.showline||ne!==we._mainSubplot)return"";if(!we._anchorAxis)return Ee(we._mainLinePosition);var Pe=xe(we._mainLinePosition);return we.mirror&&(Pe+=xe(we._mainMirrorPosition)),Pe}for(ne in U._plots){oe=U._plots[ne],Q=oe.xaxis,Z=oe.yaxis;var Be="M0,0";S(Q,ne)&&(Ge=x(Q,"left",Z,j),Ae=Q._offset-(Ge?V+Ge:0),it=x(Q,"right",Z,j),He=Q._offset+Q._length+(it?V+it:0),Ve=K(Q,Z,"bottom"),ke=K(Q,Z,"top"),Mt=!Q._anchorAxis||ne!==Q._mainSubplot,Mt&&(Q.mirror==="allticks"||Q.mirror==="all")&&(Q._linepositions[ne]=[Ve,ke]),Be=_e(Q,Ct,Vt),Mt&&Q.showline&&(Q.mirror==="all"||Q.mirror==="allticks")&&(Be+=Ct(Ve)+Ct(ke)),oe.xlines.style("stroke-width",Q._lw+"px").call(y.stroke,Q.showline?Q.linecolor:"rgba(0,0,0,0)")),oe.xlines.attr("d",Be);var De="M0,0";S(Z,ne)&&(yt=x(Z,"bottom",Q,j),et=Z._offset+Z._length+(yt?V:0),gt=x(Z,"top",Q,j),tt=Z._offset-(gt?V:0),at=K(Z,Q,"left"),vt=K(Z,Q,"right"),Mt=!Z._anchorAxis||ne!==Z._mainSubplot,Mt&&(Z.mirror==="allticks"||Z.mirror==="all")&&(Z._linepositions[ne]=[at,vt]),De=_e(Z,Je,ze),Mt&&Z.showline&&(Z.mirror==="all"||Z.mirror==="allticks")&&(De+=Je(at)+Je(vt)),oe.ylines.style("stroke-width",Z._lw+"px").call(y.stroke,Z.showline?Z.linecolor:"rgba(0,0,0,0)")),oe.ylines.attr("d",De)}return n.makeClipPaths(B),a.previousPromises(B)}function S(B,U){return(B.ticks||B.showline)&&(U===B._mainSubplot||B.mirror==="all"||B.mirror==="allticks")}function P(B,U,F){if(!F.showline||!F._lw)return!1;if(F.mirror==="all"||F.mirror==="allticks")return!0;var V=F._anchorAxis;if(!V)return!1;var j=o.FROM_BL[U];return F.side===U?V.domain[j]===B.domain[j]:F.mirror&&V.domain[1-j]===B.domain[1-j]}function x(B,U,F,V){if(P(B,U,F))return F._lw;for(var j=0;j<V.length;j++){var $=V[j];if($._mainAxis===F._mainAxis&&P(B,U,$))return $._lw}return 0}H.drawMainTitle=function(B){var U=B._fullLayout.title,F=B._fullLayout,V=N(F),j=z(F),$=O(F,j),ne=b(F,V);if(r.draw(B,"gtitle",{propContainer:F,propName:"title.text",placeholder:F._dfltTitle.plot,attributes:{x:ne,y:$,"text-anchor":V,dy:j}}),U.text&&U.automargin){var oe=g.selectAll(".gtitle"),ce=t.bBox(oe.node()).height,Q=i(B,U,ce);if(Q>0){L(B,$,Q,ce),oe.attr({x:ne,y:$,"text-anchor":V,dy:_(U.yanchor)}).call(T.positionText,ne,$);var Z=(U.text.match(T.BR_TAG_ALL)||[]).length;if(Z){var K=o.LINE_SPACING*Z+o.MID_SHIFT;U.y===0&&(K=-K),oe.selectAll(".line").each(function(){var J=+this.getAttribute("dy").slice(0,-2)-K+"em";this.setAttribute("dy",J)})}}}};function E(B,U,F,V,j){var $=U.yref==="paper"?B._fullLayout._size.h:B._fullLayout.height,ne=C.isTopAnchor(U)?V:V-j,oe=F==="b"?$-ne:ne;return C.isTopAnchor(U)&&F==="t"||C.isBottomAnchor(U)&&F==="b"?!1:oe<j}function w(B,U,F,V,j){var $=0;return F==="middle"&&($+=j/2),B==="t"?(F==="top"&&($+=j),$+=V-U*V):(F==="bottom"&&($+=j),$+=U*V),$}function i(B,U,F){var V=U.y,j=U.yanchor,$=V>.5?"t":"b",ne=B._fullLayout.margin[$],oe=0;return U.yref==="paper"?oe=F+U.pad.t+U.pad.b:U.yref==="container"&&(oe=w($,V,j,B._fullLayout.height,F)+U.pad.t+U.pad.b),oe>ne?oe:0}function L(B,U,F,V){var j="title.automargin",$=B._fullLayout.title,ne=$.y>.5?"t":"b",oe={x:$.x,y:$.y,t:0,b:0},ce={};$.yref==="paper"&&E(B,$,ne,U,V)?oe[ne]=F:$.yref==="container"&&(ce[ne]=F,B._fullLayout._reservedMargin[j]=ce),a.allowAutoMargin(B,j),a.autoMargin(B,j,oe)}function b(B,U){var F=B.title,V=B._size,j=0;switch(U===A?j=F.pad.l:U===l&&(j=-F.pad.r),F.xref){case"paper":return V.l+V.w*F.x+j;case"container":default:return B.width*F.x+j}}function O(B,U){var F=B.title,V=B._size,j=0;if(U==="0em"||!U?j=-F.pad.b:U===o.CAP_SHIFT+"em"&&(j=F.pad.t),F.y==="auto")return V.t/2;switch(F.yref){case"paper":return V.t+V.h-V.h*F.y+j;case"container":default:return B.height-B.height*F.y+j}}function _(B){return B==="top"?o.CAP_SHIFT+.3+"em":B==="bottom"?"-0.3em":o.MID_SHIFT+"em"}function N(B){var U=B.title,F=h;return C.isRightAnchor(U)?F=l:C.isLeftAnchor(U)&&(F=A),F}function z(B){var U=B.title,F="0em";return C.isTopAnchor(U)?F=o.CAP_SHIFT+"em":C.isMiddleAnchor(U)&&(F=o.MID_SHIFT+"em"),F}H.doTraceStyle=function(B){var U=B.calcdata,F=[],V;for(V=0;V<U.length;V++){var j=U[V],$=j[0]||{},ne=$.trace||{},oe=ne._module||{},ce=oe.arraysToCalcdata;ce&&ce(j,ne);var Q=oe.editStyle;Q&&F.push({fn:Q,cd0:$})}if(F.length){for(V=0;V<F.length;V++){var Z=F[V];Z.fn(B,Z.cd0)}v(B),H.redrawReglTraces(B)}return a.style(B),R.getComponentMethod("legend","draw")(B),a.previousPromises(B)},H.doColorBars=function(B){return R.getComponentMethod("colorbar","draw")(B),a.previousPromises(B)},H.layoutReplot=function(B){var U=B.layout;return B.layout=void 0,R.call("_doPlot",B,"",U)},H.doLegend=function(B){return R.getComponentMethod("legend","draw")(B),a.previousPromises(B)},H.doTicksRelayout=function(B){return n.draw(B,"redraw"),B._fullLayout._hasOnlyLargeSploms&&(R.subplotsRegistry.splom.updateGrid(B),v(B),H.redrawReglTraces(B)),H.drawMainTitle(B),a.previousPromises(B)},H.doModeBar=function(B){var U=B._fullLayout;s.manage(B);for(var F=0;F<U._basePlotModules.length;F++){var V=U._basePlotModules[F].updateFx;V&&V(B)}return a.previousPromises(B)},H.doCamera=function(B){for(var U=B._fullLayout,F=U._subplots.gl3d,V=0;V<F.length;V++){var j=U[F[V]],$=j._scene;$.setViewport(j)}},H.drawData=function(B){var U=B._fullLayout;v(B);for(var F=U._basePlotModules,V=0;V<F.length;V++)F[V].plot(B);return H.redrawReglTraces(B),a.style(B),R.getComponentMethod("selections","draw")(B),R.getComponentMethod("shapes","draw")(B),R.getComponentMethod("annotations","draw")(B),R.getComponentMethod("images","draw")(B),U._replotting=!1,a.previousPromises(B)},H.redrawReglTraces=function(B){var U=B._fullLayout;if(U._has("regl")){var F=B._fullData,V=[],j=[],$,ne;for(U._hasOnlyLargeSploms&&U._splomGrid.draw(),$=0;$<F.length;$++){var oe=F[$];oe.visible===!0&&oe._length!==0&&(oe.type==="splom"?U._splomScenes[oe.uid].draw():oe.type==="scattergl"?C.pushUnique(V,oe.xaxis+oe.yaxis):oe.type==="scatterpolargl"&&C.pushUnique(j,oe.subplot))}for($=0;$<V.length;$++)ne=U._plots[V[$]],ne._scene&&ne._scene.draw();for($=0;$<j.length;$++)ne=U[j[$]]._subplot,ne._scene&&ne._scene.draw()}},H.doAutoRangeAndConstraints=function(B){for(var U=n.list(B,"",!0),F,V={},j=0;j<U.length;j++)if(F=U[j],!V[F._id]){V[F._id]=1,m(B,F),c(B,F);var $=F._matchGroup;if($)for(var ne in $){var oe=n.getFromId(B,ne);c(B,oe,F.range),V[ne]=1}}u(B)},H.finalDraw=function(B){R.getComponentMethod("rangeslider","draw")(B),R.getComponentMethod("rangeselector","draw")(B)},H.drawMarginPushers=function(B){R.getComponentMethod("legend","draw")(B),R.getComponentMethod("rangeselector","draw")(B),R.getComponentMethod("sliders","draw")(B),R.getComponentMethod("updatemenus","draw")(B),R.getComponentMethod("colorbar","draw")(B)}},96318:function(W,H,e){var g=e(71828),R=g.isPlainObject,a=e(86281),C=e(74875),T=e(9012),v=e(44467),y=e(72075).dfltConfig;H.makeTemplate=function(c){c=g.isPlainObject(c)?c:g.getGraphDiv(c),c=g.extendDeep({_context:y},{data:c.data,layout:c.layout}),C.supplyDefaults(c);var A=c.data||[],h=c.layout||{};h._basePlotModules=c._fullLayout._basePlotModules,h._modules=c._fullLayout._modules;var l={data:{},layout:{}};A.forEach(function(b){var O={};s(b,O,o.bind(null,b));var _=g.coerce(b,{},T,"type"),N=l.data[_];N||(N=l.data[_]=[]),N.push(O)}),s(h,l.layout,n.bind(null,h)),delete l.layout.template;var p=h.template;if(R(p)){var M=p.layout,S,P,x,E,w,i;R(M)&&t(M,l.layout);var L=p.data;if(R(L)){for(P in l.data)if(x=L[P],Array.isArray(x)){for(w=l.data[P],i=w.length,E=x.length,S=0;S<i;S++)t(x[S%E],w[S]);for(S=i;S<E;S++)w.push(g.extendDeep({},x[S]))}for(P in L)P in l.data||(l.data[P]=g.extendDeep([],L[P]))}}return l};function t(c,A){c=g.extendDeep({},c);var h=Object.keys(c).sort(),l,p;function M(w,i,L){if(R(i)&&R(w))t(w,i);else if(Array.isArray(i)&&Array.isArray(w)){var b=v.arrayTemplater({_template:c},L);for(p=0;p<i.length;p++){var O=i[p],_=b.newItem(O)._template;_&&t(_,O)}var N=b.defaultItems();for(p=0;p<N.length;p++)i.push(N[p]._template);for(p=0;p<i.length;p++)delete i[p].templateitemname}}for(l=0;l<h.length;l++){var S=h[l],P=c[S];if(S in A?M(P,A[S],S):A[S]=P,r(S)===S)for(var x in A){var E=r(x);x!==E&&E===S&&!(x in c)&&M(P,A[x],S)}}}function r(c){return c.replace(/[0-9]+$/,"")}function s(c,A,h,l,p){var M=p&&h(p);for(var S in c){var P=c[S],x=f(c,S,l),E=f(c,S,p),w=h(E);if(!w){var i=r(S);i!==S&&(E=f(c,i,p),w=h(E))}if(!(M&&M===w)&&!(!w||w._noTemplating||w.valType==="data_array"||w.arrayOk&&Array.isArray(P)))if(!w.valType&&R(P))s(P,A,h,x,E);else if(w._isLinkedToArray&&Array.isArray(P))for(var L=!1,b=0,O={},_=0;_<P.length;_++){var N=P[_];if(R(N)){var z=N.name;if(z)O[z]||(s(N,A,h,f(P,b,x),f(P,b,E)),b++,O[z]=1);else if(!L){var B=v.arrayDefaultKey(S),U=f(c,B,l),F=f(P,b,x);s(N,A,h,F,f(P,b,E));var V=g.nestedProperty(A,F),j=g.nestedProperty(A,U);j.set(V.get()),V.set(null),L=!0}}}else{var $=g.nestedProperty(A,x);$.set(P)}}}function n(c,A){return a.getLayoutValObject(c,g.nestedProperty({},A).parts)}function o(c,A){return a.getTraceValObject(c,g.nestedProperty({},A).parts)}function f(c,A,h){var l;return h?Array.isArray(c)?l=h+"["+A+"]":l=h+"."+A:l=A,l}H.validateTemplate=function(c,A){var h=g.extendDeep({},{_context:y,data:c.data,layout:c.layout}),l=h.layout||{};R(A)||(A=l.template||{});var p=A.layout,M=A.data,S=[];h.layout=l,h.layout.template=A,C.supplyDefaults(h);var P=h._fullLayout,x=h._fullData,E={};function w(U,F){for(var V in U)if(V.charAt(0)!=="_"&&R(U[V])){var j=r(V),$=[],ne;for(ne=0;ne<F.length;ne++)$.push(f(U,V,F[ne])),j!==V&&$.push(f(U,j,F[ne]));for(ne=0;ne<$.length;ne++)E[$[ne]]=1;w(U[V],$)}}function i(U,F){for(var V in U)if(V.indexOf("defaults")===-1&&R(U[V])){var j=f(U,V,F);E[j]?i(U[V],j):S.push({code:"unused",path:j})}}if(R(p)?(w(P,["layout"]),i(p,"layout")):S.push({code:"layout"}),!R(M))S.push({code:"data"});else{for(var L={},b,O=0;O<x.length;O++){var _=x[O];b=_.type,L[b]=(L[b]||0)+1,_._fullInput._template||S.push({code:"missing",index:_._fullInput.index,traceType:b})}for(b in M){var N=M[b].length,z=L[b]||0;N>z?S.push({code:"unused",traceType:b,templateCount:N,dataCount:z}):z>N&&S.push({code:"reused",traceType:b,templateCount:N,dataCount:z})}}function B(U,F){for(var V in U)if(V.charAt(0)!=="_"){var j=U[V],$=f(U,V,F);R(j)?(Array.isArray(U)&&j._template===!1&&j.templateitemname&&S.push({code:"missing",path:$,templateitemname:j.templateitemname}),B(j,$)):Array.isArray(j)&&u(j)&&B(j,$)}}if(B({data:x,layout:P},""),S.length)return S.map(m)};function u(c){for(var A=0;A<c.length;A++)if(R(c[A]))return!0}function m(c){var A;switch(c.code){case"data":A="The template has no key data.";break;case"layout":A="The template has no key layout.";break;case"missing":c.path?A="There are no templates for item "+c.path+" with name "+c.templateitemname:A="There are no templates for trace "+c.index+", of type "+c.traceType+".";break;case"unused":c.path?A="The template item at "+c.path+" was not used in constructing the plot.":c.dataCount?A="Some of the templates of type "+c.traceType+" were not used. The template has "+c.templateCount+" traces, the data only has "+c.dataCount+" of this type.":A="The template has "+c.templateCount+" traces of type "+c.traceType+" but there are none in the data.";break;case"reused":A="Some of the templates of type "+c.traceType+" were used more than once. The template has "+c.templateCount+" traces, the data has "+c.dataCount+" of this type.";break}return c.msg=A,c}},403:function(W,H,e){var g=e(92770),R=e(72391),a=e(74875),C=e(71828),T=e(25095),v=e(5900),y=e(70942),t=e(11506).version,r={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};function s(n,o){o=o||{};var f,u,m,c;C.isPlainObject(n)?(f=n.data||[],u=n.layout||{},m=n.config||{},c={}):(n=C.getGraphDiv(n),f=C.extendDeep([],n.data),u=C.extendDeep({},n.layout),m=n._context,c=n._fullLayout||{});function A(z){return!(z in o)||C.validate(o[z],r[z])}if(!A("width")&&o.width!==null||!A("height")&&o.height!==null)throw new Error("Height and width should be pixel values.");if(!A("format"))throw new Error("Export format is not "+C.join2(r.format.values,", "," or ")+".");var h={};function l(z,B){return C.coerce(o,h,r,z,B)}var p=l("format"),M=l("width"),S=l("height"),P=l("scale"),x=l("setBackground"),E=l("imageDataOnly"),w=document.createElement("div");w.style.position="absolute",w.style.left="-5000px",document.body.appendChild(w);var i=C.extendFlat({},u);M?i.width=M:o.width===null&&g(c.width)&&(i.width=c.width),S?i.height=S:o.height===null&&g(c.height)&&(i.height=c.height);var L=C.extendFlat({},m,{_exportedPlot:!0,staticPlot:!0,setBackground:x}),b=T.getRedrawFunc(w);function O(){return new Promise(function(z){setTimeout(z,T.getDelay(w._fullLayout))})}function _(){return new Promise(function(z,B){var U=v(w,p,P),F=w._fullLayout.width,V=w._fullLayout.height;function j(){R.purge(w),document.body.removeChild(w)}if(p==="full-json"){var $=a.graphJson(w,!1,"keepdata","object",!0,!0);return $.version=t,$=JSON.stringify($),j(),z(E?$:T.encodeJSON($))}if(j(),p==="svg")return z(E?U:T.encodeSVG(U));var ne=document.createElement("canvas");ne.id=C.randstr(),y({format:p,width:F,height:V,scale:P,canvas:ne,svg:U,promise:!0}).then(z).catch(B)})}function N(z){return E?z.replace(T.IMAGE_URL_PREFIX,""):z}return new Promise(function(z,B){R.newPlot(w,f,i,L).then(b).then(O).then(_).then(function(U){z(N(U))}).catch(function(U){B(U)})})}W.exports=s},84936:function(W,H,e){var g=e(71828),R=e(74875),a=e(86281),C=e(72075).dfltConfig,T=g.isPlainObject,v=Array.isArray,y=g.isArrayOrTypedArray;W.exports=function(l,p){l===void 0&&(l=[]),p===void 0&&(p={});var M=a.get(),S=[],P={_context:g.extendFlat({},C)},x,E;v(l)?(P.data=g.extendDeep([],l),x=l):(P.data=[],x=[],S.push(o("array","data"))),T(p)?(P.layout=g.extendDeep({},p),E=p):(P.layout={},E={},arguments.length>1&&S.push(o("object","layout"))),R.supplyDefaults(P);for(var w=P._fullData,i=x.length,L=0;L<i;L++){var b=x[L],O=["data",L];if(!T(b)){S.push(o("object",O));continue}var _=w[L],N=_.type,z=M.traces[N].attributes;z.type={valType:"enumerated",values:[N]},_.visible===!1&&b.visible!==!1&&S.push(o("invisible",O)),t(b,_,z,S,O);var B=b.transforms,U=_.transforms;if(B){v(B)||S.push(o("array",O,["transforms"])),O.push("transforms");for(var F=0;F<B.length;F++){var V=["transforms",F],j=B[F].type;if(!T(B[F])){S.push(o("object",O,V));continue}var $=M.transforms[j]?M.transforms[j].attributes:{};$.type={valType:"enumerated",values:Object.keys(M.transforms)},t(B[F],U[F],$,S,O,V)}}}var ne=P._fullLayout,oe=r(M,w);return t(E,ne,oe,S,"layout"),S.length===0?void 0:S};function t(h,l,p,M,S,P){P=P||[];for(var x=Object.keys(h),E=0;E<x.length;E++){var w=x[E];if(w!=="transforms"){var i=P.slice();i.push(w);var L=h[w],b=l[w],O=u(p,w),_=(O||{}).valType,N=_==="info_array",z=_==="colorscale",B=(O||{}).items;if(!f(p,w))M.push(o("schema",S,i));else if(T(L)&&T(b)&&_!=="any")t(L,b,O,M,S,i);else if(N&&v(L)){L.length>b.length&&M.push(o("unused",S,i.concat(b.length)));var U=b.length,F=Array.isArray(B);F&&(U=Math.min(U,B.length));var V,j,$,ne,oe;if(O.dimensions===2)for(j=0;j<U;j++)if(v(L[j])){L[j].length>b[j].length&&M.push(o("unused",S,i.concat(j,b[j].length)));var ce=b[j].length;for(V=0;V<(F?Math.min(ce,B[j].length):ce);V++)$=F?B[j][V]:B,ne=L[j][V],oe=b[j][V],g.validate(ne,$)?oe!==ne&&oe!==+ne&&M.push(o("dynamic",S,i.concat(j,V),ne,oe)):M.push(o("value",S,i.concat(j,V),ne))}else M.push(o("array",S,i.concat(j),L[j]));else for(j=0;j<U;j++)$=F?B[j]:B,ne=L[j],oe=b[j],g.validate(ne,$)?oe!==ne&&oe!==+ne&&M.push(o("dynamic",S,i.concat(j),ne,oe)):M.push(o("value",S,i.concat(j),ne))}else if(O.items&&!N&&v(L)){var Q=B[Object.keys(B)[0]],Z=[],K,J;for(K=0;K<b.length;K++){var re=b[K]._index||K;if(J=i.slice(),J.push(re),T(L[re])&&T(b[K])){Z.push(re);var le=L[re],q=b[K];T(le)&&le.visible!==!1&&q.visible===!1?M.push(o("invisible",S,J)):t(le,q,Q,M,S,J)}}for(K=0;K<L.length;K++)J=i.slice(),J.push(K),T(L[K])?Z.indexOf(K)===-1&&M.push(o("unused",S,J)):M.push(o("object",S,J,L[K]))}else!T(L)&&T(b)?M.push(o("object",S,i,L)):!y(L)&&y(b)&&!N&&!z?M.push(o("array",S,i,L)):w in l?g.validate(L,O)?O.valType==="enumerated"&&(O.coerceNumber&&L!==+b||L!==b)&&M.push(o("dynamic",S,i,L,b)):M.push(o("value",S,i,L)):M.push(o("unused",S,i,L))}}return M}function r(h,l){for(var p=h.layout.layoutAttributes,M=0;M<l.length;M++){var S=l[M],P=h.traces[S.type],x=P.layoutAttributes;x&&(S.subplot?g.extendFlat(p[P.attributes.subplot.dflt],x):g.extendFlat(p,x))}return p}var s={object:function(h,l){var p;return h==="layout"&&l===""?p="The layout argument":h[0]==="data"&&l===""?p="Trace "+h[1]+" in the data argument":p=n(h)+"key "+l,p+" must be linked to an object container"},array:function(h,l){var p;return h==="data"?p="The data argument":p=n(h)+"key "+l,p+" must be linked to an array container"},schema:function(h,l){return n(h)+"key "+l+" is not part of the schema"},unused:function(h,l,p){var M=T(p)?"container":"key";return n(h)+M+" "+l+" did not get coerced"},dynamic:function(h,l,p,M){return[n(h)+"key",l,"(set to '"+p+"')","got reset to","'"+M+"'","during defaults."].join(" ")},invisible:function(h,l){return(l?n(h)+"item "+l:"Trace "+h[1])+" got defaulted to be not visible"},value:function(h,l,p){return[n(h)+"key "+l,"is set to an invalid value ("+p+")"].join(" ")}};function n(h){return v(h)?"In data trace "+h[1]+", ":"In "+h+", "}function o(h,l,p,M,S){p=p||"";var P,x;v(l)?(P=l[0],x=l[1]):(P=l,x=null);var E=A(p),w=s[h](l,E,M,S);return g.log(w),{code:h,container:P,trace:x,path:p,astr:E,msg:w}}function f(h,l){var p=c(l),M=p.keyMinusId,S=p.id;return M in h&&h[M]._isSubplotObj&&S?!0:l in h}function u(h,l){if(l in h)return h[l];var p=c(l);return h[p.keyMinusId]}var m=g.counterRegex("([a-z]+)");function c(h){var l=h.match(m);return{keyMinusId:l&&l[1],id:l&&l[2]}}function A(h){if(!v(h))return String(h);for(var l="",p=0;p<h.length;p++){var M=h[p];typeof M=="number"?l=l.substr(0,l.length-1)+"["+M+"]":l+=M,p<h.length-1&&(l+=".")}return l}},85594:function(W){W.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},85501:function(W,H,e){var g=e(71828),R=e(44467);W.exports=function(C,T,v){var y=v.name,t=v.inclusionAttr||"visible",r=T[y],s=g.isArrayOrTypedArray(C[y])?C[y]:[],n=T[y]=[],o=R.arrayTemplater(T,y,t),f,u;for(f=0;f<s.length;f++){var m=s[f];g.isPlainObject(m)?u=o.newItem(m):(u=o.newItem({}),u[t]=!1),u._index=f,u[t]!==!1&&v.handleItemDefaults(m,u,T,v),n.push(u)}var c=o.defaultItems();for(f=0;f<c.length;f++)u=c[f],u._index=n.length,v.handleItemDefaults({},u,T,v,{}),n.push(u);if(g.isArrayOrTypedArray(r)){var A=Math.min(r.length,n.length);for(f=0;f<A;f++)g.relinkPrivateKeys(n[f],r[f])}return n}},9012:function(W,H,e){var g=e(41940),R=e(77914);W.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:g({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:R.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},42973:function(W,H,e){var g=e(92770),R=e(71828),a=R.dateTime2ms,C=R.incrementMonth,T=e(50606),v=T.ONEAVGMONTH;W.exports=function(t,r,s,n){if(r.type!=="date")return{vals:n};var o=t[s+"periodalignment"];if(!o)return{vals:n};var f=t[s+"period"],u;if(g(f)){if(f=+f,f<=0)return{vals:n}}else if(typeof f=="string"&&f.charAt(0)==="M"){var m=+f.substring(1);if(m>0&&Math.round(m)===m)u=m;else return{vals:n}}for(var c=r.calendar,A=o==="start",h=o==="end",l=t[s+"period0"],p=a(l,c)||0,M=[],S=[],P=[],x=n.length,E=0;E<x;E++){var w=n[E],i,L,b;if(u){for(i=Math.round((w-p)/(u*v)),b=C(p,u*i,c);b>w;)b=C(b,-u,c);for(;b<=w;)b=C(b,u,c);L=C(b,-u,c)}else{for(i=Math.round((w-p)/f),b=p+i*f;b>w;)b-=f;for(;b<=w;)b+=f;L=b-f}M[E]=A?L:h?b:(L+b)/2,S[E]=L,P[E]=b}return{vals:M,starts:S,ends:P}}},89502:function(W){W.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},71739:function(W,H,e){var g=e(39898),R=e(92770),a=e(71828),C=e(50606).FP_SAFE,T=e(73972),v=e(91424),y=e(41675),t=y.getFromId,r=y.isLinked;W.exports={applyAutorangeOptions:i,getAutoRange:s,makePadFn:o,doAutoRange:c,findExtremes:A,concatExtremes:m};function s(L,b){var O,_,N=[],z=L._fullLayout,B=o(z,b,0),U=o(z,b,1),F=m(L,b),V=F.min,j=F.max;if(V.length===0||j.length===0)return a.simpleMap(b.range,b.r2l);var $=V[0].val,ne=j[0].val;for(O=1;O<V.length&&$===ne;O++)$=Math.min($,V[O].val);for(O=1;O<j.length&&$===ne;O++)ne=Math.max(ne,j[O].val);var oe=b.autorange,ce=oe==="reversed"||oe==="min reversed"||oe==="max reversed";if(!ce&&b.range){var Q=a.simpleMap(b.range,b.r2l);ce=Q[1]<Q[0]}b.autorange==="reversed"&&(b.autorange=!0);var Z=b.rangemode,K=Z==="tozero",J=Z==="nonnegative",re=b._length,le=re/10,q=0,ee,ue,se,he,me,Ce;for(O=0;O<V.length;O++)for(ee=V[O],_=0;_<j.length;_++)ue=j[_],Ce=ue.val-ee.val-n(b,ee.val,ue.val),Ce>0&&(me=re-B(ee)-U(ue),me>le?Ce/me>q&&(se=ee,he=ue,q=Ce/me):Ce/re>q&&(se={val:ee.val,nopad:1},he={val:ue.val,nopad:1},q=Ce/re));function Te(Ae,He){return Math.max(Ae,U(He))}if($===ne){var Oe=$-1,Ne=$+1;if(K)if($===0)N=[0,1];else{var Le=($>0?j:V).reduce(Te,0),be=$/(1-Math.min(.5,Le/re));N=$>0?[0,be]:[be,0]}else J?N=[Math.max(0,Oe),Math.max(1,Ne)]:N=[Oe,Ne]}else K?(se.val>=0&&(se={val:0,nopad:1}),he.val<=0&&(he={val:0,nopad:1})):J&&(se.val-q*B(se)<0&&(se={val:0,nopad:1}),he.val<=0&&(he={val:1,nopad:1})),q=(he.val-se.val-n(b,ee.val,ue.val))/(re-B(se)-U(he)),N=[se.val-q*B(se),he.val+q*U(he)];return N=i(N,b),b.limitRange&&b.limitRange(),ce&&N.reverse(),a.simpleMap(N,b.l2r||Number)}function n(L,b,O){var _=0;if(L.rangebreaks)for(var N=L.locateBreaks(b,O),z=0;z<N.length;z++){var B=N[z];_+=B.max-B.min}return _}function o(L,b,O){var _=.05*b._length,N=b._anchorAxis||{};if((b.ticklabelposition||"").indexOf("inside")!==-1||(N.ticklabelposition||"").indexOf("inside")!==-1){var z=b.isReversed();if(!z){var B=a.simpleMap(b.range,b.r2l);z=B[1]<B[0]}z&&(O=!O)}var U=0;return r(L,b._id)||(U=u(L,b,O)),_=Math.max(U,_),b.constrain==="domain"&&b._inputDomain&&(_*=(b._inputDomain[1]-b._inputDomain[0])/(b.domain[1]-b.domain[0])),function(V){return V.nopad?0:V.pad+(V.extrapad?_:U)}}var f=3;function u(L,b,O){var _=0,N=b._id.charAt(0)==="x";for(var z in L._plots){var B=L._plots[z];if(!(b._id!==B.xaxis._id&&b._id!==B.yaxis._id)){var U=(N?B.yaxis:B.xaxis)||{};if((U.ticklabelposition||"").indexOf("inside")!==-1&&(!O&&(U.side==="left"||U.side==="bottom")||O&&(U.side==="top"||U.side==="right"))){if(U._vals){var F=a.deg2rad(U._tickAngles[U._id+"tick"]||0),V=Math.abs(Math.cos(F)),j=Math.abs(Math.sin(F));if(!U._vals[0].bb){var $=U._id+"tick",ne=U._selections[$];ne.each(function(J){var re=g.select(this),le=re.select(".text-math-group");le.empty()&&(J.bb=v.bBox(re.node()))})}for(var oe=0;oe<U._vals.length;oe++){var ce=U._vals[oe],Q=ce.bb;if(Q){var Z=2*f+Q.width,K=2*f+Q.height;_=Math.max(_,N?Math.max(Z*V,K*j):Math.max(K*V,Z*j))}}}U.ticks==="inside"&&U.ticklabelposition==="inside"&&(_+=U.ticklen||0)}}}return _}function m(L,b,O){var _=b._id,N=L._fullData,z=L._fullLayout,B=[],U=[],F,V,j;function $(Z,K){for(F=0;F<K.length;F++){var J=Z[K[F]],re=(J._extremes||{})[_];if(J.visible===!0&&re){for(V=0;V<re.min.length;V++)j=re.min[V],h(B,j.val,j.pad,{extrapad:j.extrapad});for(V=0;V<re.max.length;V++)j=re.max[V],l(U,j.val,j.pad,{extrapad:j.extrapad})}}}if($(N,b._traceIndices),$(z.annotations||[],b._annIndices||[]),$(z.shapes||[],b._shapeIndices||[]),b._matchGroup&&!O){for(var ne in b._matchGroup)if(ne!==b._id){var oe=t(L,ne),ce=m(L,oe,!0),Q=b._length/oe._length;for(V=0;V<ce.min.length;V++)j=ce.min[V],h(B,j.val,j.pad*Q,{extrapad:j.extrapad});for(V=0;V<ce.max.length;V++)j=ce.max[V],l(U,j.val,j.pad*Q,{extrapad:j.extrapad})}}return{min:B,max:U}}function c(L,b,O){if(b.setScale(),b.autorange){b.range=O?O.slice():s(L,b),b._r=b.range.slice(),b._rl=a.simpleMap(b._r,b.r2l);var _=b._input,N={};N[b._attr+".range"]=b.range,N[b._attr+".autorange"]=b.autorange,T.call("_storeDirectGUIEdit",L.layout,L._fullLayout._preGUI,N),_.range=b.range.slice(),_.autorange=b.autorange}var z=b._anchorAxis;if(z&&z.rangeslider){var B=z.rangeslider[b._name];B&&B.rangemode==="auto"&&(B.range=s(L,b)),z._input.rangeslider[b._name]=a.extendFlat({},B)}}function A(L,b,O){O||(O={}),L._m||L.setScale();var _=[],N=[],z=b.length,B=O.padded||!1,U=O.tozero&&(L.type==="linear"||L.type==="-"),F=L.type==="log",V=!1,j=O.vpadLinearized||!1,$,ne,oe,ce,Q,Z,K,J,re;function le(Te){if(Array.isArray(Te))return V=!0,function(Ne){return Math.max(Number(Te[Ne]||0),0)};var Oe=Math.max(Number(Te||0),0);return function(){return Oe}}var q=le((L._m>0?O.ppadplus:O.ppadminus)||O.ppad||0),ee=le((L._m>0?O.ppadminus:O.ppadplus)||O.ppad||0),ue=le(O.vpadplus||O.vpad),se=le(O.vpadminus||O.vpad);if(!V){if(J=1/0,re=-1/0,F)for($=0;$<z;$++)ne=b[$],ne<J&&ne>0&&(J=ne),ne>re&&ne<C&&(re=ne);else for($=0;$<z;$++)ne=b[$],ne<J&&ne>-C&&(J=ne),ne>re&&ne<C&&(re=ne);b=[J,re],z=2}var he={tozero:U,extrapad:B};function me(Te){oe=b[Te],R(oe)&&(Z=q(Te),K=ee(Te),j?(ce=L.c2l(oe)-se(Te),Q=L.c2l(oe)+ue(Te)):(J=oe-se(Te),re=oe+ue(Te),F&&J<re/10&&(J=re/10),ce=L.c2l(J),Q=L.c2l(re)),U&&(ce=Math.min(0,ce),Q=Math.max(0,Q)),M(ce)&&h(_,ce,K,he),M(Q)&&l(N,Q,Z,he))}var Ce=Math.min(6,z);for($=0;$<Ce;$++)me($);for($=z-1;$>=Ce;$--)me($);return{min:_,max:N,opts:O}}function h(L,b,O,_){p(L,b,O,_,S)}function l(L,b,O,_){p(L,b,O,_,P)}function p(L,b,O,_,N){for(var z=_.tozero,B=_.extrapad,U=!0,F=0;F<L.length&&U;F++){var V=L[F];if(N(V.val,b)&&V.pad>=O&&(V.extrapad||!B)){U=!1;break}else N(b,V.val)&&V.pad<=O&&(B||!V.extrapad)&&(L.splice(F,1),F--)}if(U){var j=z&&b===0;L.push({val:b,pad:j?0:O,extrapad:j?!1:B})}}function M(L){return R(L)&&Math.abs(L)<C}function S(L,b){return L<=b}function P(L,b){return L>=b}function x(L,b){var O=b.autorangeoptions;return O&&O.minallowed!==void 0&&w(b,O.minallowed,O.maxallowed)?O.minallowed:O&&O.clipmin!==void 0&&w(b,O.clipmin,O.clipmax)?Math.max(L,b.d2l(O.clipmin)):L}function E(L,b){var O=b.autorangeoptions;return O&&O.maxallowed!==void 0&&w(b,O.minallowed,O.maxallowed)?O.maxallowed:O&&O.clipmax!==void 0&&w(b,O.clipmin,O.clipmax)?Math.min(L,b.d2l(O.clipmax)):L}function w(L,b,O){return b!==void 0&&O!==void 0?(b=L.d2l(b),O=L.d2l(O),b<O):!0}function i(L,b){if(!b||!b.autorangeoptions)return L;var O=L[0],_=L[1],N=b.autorangeoptions.include;if(N!==void 0){var z=b.d2l(O),B=b.d2l(_);a.isArrayOrTypedArray(N)||(N=[N]);for(var U=0;U<N.length;U++){var F=b.d2l(N[U]);z>=F&&(z=F,O=F),B<=F&&(B=F,_=F)}}return O=x(O,b),_=E(_,b),[O,_]}},23074:function(W){W.exports=function(e,g,R){var a,C;if(R){var T=g==="reversed"||g==="min reversed"||g==="max reversed";a=R[T?1:0],C=R[T?0:1]}var v=e("autorangeoptions.minallowed",C===null?a:void 0),y=e("autorangeoptions.maxallowed",a===null?C:void 0);v===void 0&&e("autorangeoptions.clipmin"),y===void 0&&e("autorangeoptions.clipmax"),e("autorangeoptions.include")}},89298:function(W,H,e){var g=e(39898),R=e(92770),a=e(74875),C=e(73972),T=e(71828),v=T.strTranslate,y=e(63893),t=e(92998),r=e(7901),s=e(91424),n=e(13838),o=e(66287),f=e(50606),u=f.ONEMAXYEAR,m=f.ONEAVGYEAR,c=f.ONEMINYEAR,A=f.ONEMAXQUARTER,h=f.ONEAVGQUARTER,l=f.ONEMINQUARTER,p=f.ONEMAXMONTH,M=f.ONEAVGMONTH,S=f.ONEMINMONTH,P=f.ONEWEEK,x=f.ONEDAY,E=x/2,w=f.ONEHOUR,i=f.ONEMIN,L=f.ONESEC,b=f.MINUS_SIGN,O=f.BADNUM,_={K:"zeroline"},N={K:"gridline",L:"path"},z={K:"minor-gridline",L:"path"},B={K:"tick",L:"path"},U={K:"tick",L:"text"},F={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},V=e(18783),j=V.MID_SHIFT,$=V.CAP_SHIFT,ne=V.LINE_SPACING,oe=V.OPPOSITE_SIDE,ce=3,Q=W.exports={};Q.setConvert=e(21994);var Z=e(4322),K=e(41675),J=K.idSort,re=K.isLinked;Q.id2name=K.id2name,Q.name2id=K.name2id,Q.cleanId=K.cleanId,Q.list=K.list,Q.listIds=K.listIds,Q.getFromId=K.getFromId,Q.getFromTrace=K.getFromTrace;var le=e(71739);Q.getAutoRange=le.getAutoRange,Q.findExtremes=le.findExtremes;var q=1e-4;function ee(je){var Ye=(je[1]-je[0])*q;return[je[0]-Ye,je[1]+Ye]}Q.coerceRef=function(je,Ye,It,kt,jt,tr){var or=kt.charAt(kt.length-1),rr=It._fullLayout._subplots[or+"axis"],Ot=kt+"ref",hr={};return jt||(jt=rr[0]||(typeof tr=="string"?tr:tr[0])),tr||(tr=jt),rr=rr.concat(rr.map(function(gr){return gr+" domain"})),hr[Ot]={valType:"enumerated",values:rr.concat(tr?typeof tr=="string"?[tr]:tr:[]),dflt:jt},T.coerce(je,Ye,hr,Ot)},Q.getRefType=function(je){return je===void 0?je:je==="paper"?"paper":je==="pixel"?"pixel":/( domain)$/.test(je)?"domain":"range"},Q.coercePosition=function(je,Ye,It,kt,jt,tr){var or,rr,Ot=Q.getRefType(kt);if(Ot!=="range")or=T.ensureNumber,rr=It(jt,tr);else{var hr=Q.getFromId(Ye,kt);tr=hr.fraction2r(tr),rr=It(jt,tr),or=hr.cleanPos}je[jt]=or(rr)},Q.cleanPosition=function(je,Ye,It){var kt=It==="paper"||It==="pixel"?T.ensureNumber:Q.getFromId(Ye,It).cleanPos;return kt(je)},Q.redrawComponents=function(je,Ye){Ye=Ye||Q.listIds(je);var It=je._fullLayout;function kt(jt,tr,or,rr){for(var Ot=C.getComponentMethod(jt,tr),hr={},gr=0;gr<Ye.length;gr++)for(var pr=It[Q.id2name(Ye[gr])],vr=pr[or],Vr=0;Vr<vr.length;Vr++){var kr=vr[Vr];if(!hr[kr]&&(Ot(je,kr),hr[kr]=1,rr))return}}kt("annotations","drawOne","_annIndices"),kt("shapes","drawOne","_shapeIndices"),kt("images","draw","_imgIndices",!0),kt("selections","drawOne","_selectionIndices")};var ue=Q.getDataConversions=function(je,Ye,It,kt){var jt,tr=It==="x"||It==="y"||It==="z"?It:kt;if(Array.isArray(tr)){if(jt={type:Z(kt,void 0,{autotypenumbers:je._fullLayout.autotypenumbers}),_categories:[]},Q.setConvert(jt),jt.type==="category")for(var or=0;or<kt.length;or++)jt.d2c(kt[or])}else jt=Q.getFromTrace(je,Ye,tr);return jt?{d2c:jt.d2c,c2d:jt.c2d}:tr==="ids"?{d2c:he,c2d:he}:{d2c:se,c2d:se}};function se(je){return+je}function he(je){return String(je)}Q.getDataToCoordFunc=function(je,Ye,It,kt){return ue(je,Ye,It,kt).d2c},Q.counterLetter=function(je){var Ye=je.charAt(0);if(Ye==="x")return"y";if(Ye==="y")return"x"},Q.minDtick=function(je,Ye,It,kt){["log","category","multicategory"].indexOf(je.type)!==-1||!kt?je._minDtick=0:je._minDtick===void 0?(je._minDtick=Ye,je._forceTick0=It):je._minDtick&&((je._minDtick/Ye+1e-6)%1<2e-6&&((It-je._forceTick0)/Ye%1+1.000001)%1<2e-6?(je._minDtick=Ye,je._forceTick0=It):((Ye/je._minDtick+1e-6)%1>2e-6||((It-je._forceTick0)/je._minDtick%1+1.000001)%1>2e-6)&&(je._minDtick=0))},Q.saveRangeInitial=function(je,Ye){for(var It=Q.list(je,"",!0),kt=!1,jt=0;jt<It.length;jt++){var tr=It[jt],or=tr._rangeInitial0===void 0&&tr._rangeInitial1===void 0,rr=or||tr.range[0]!==tr._rangeInitial0||tr.range[1]!==tr._rangeInitial1,Ot=tr.autorange;(or&&Ot!==!0||Ye&&rr)&&(tr._rangeInitial0=Ot==="min"||Ot==="max reversed"?void 0:tr.range[0],tr._rangeInitial1=Ot==="max"||Ot==="min reversed"?void 0:tr.range[1],tr._autorangeInitial=Ot,kt=!0)}return kt},Q.saveShowSpikeInitial=function(je,Ye){for(var It=Q.list(je,"",!0),kt=!1,jt="on",tr=0;tr<It.length;tr++){var or=It[tr],rr=or._showSpikeInitial===void 0,Ot=rr||or.showspikes!==or._showspikes;(rr||Ye&&Ot)&&(or._showSpikeInitial=or.showspikes,kt=!0),jt==="on"&&!or.showspikes&&(jt="off")}return je._fullLayout._cartesianSpikesEnabled=jt,kt},Q.autoBin=function(je,Ye,It,kt,jt,tr){var or=T.aggNums(Math.min,null,je),rr=T.aggNums(Math.max,null,je);if(Ye.type==="category"||Ye.type==="multicategory")return{start:or-.5,end:rr+.5,size:Math.max(1,Math.round(tr)||1),_dataSpan:rr-or};jt||(jt=Ye.calendar);var Ot;if(Ye.type==="log"?Ot={type:"linear",range:[or,rr]}:Ot={type:Ye.type,range:T.simpleMap([or,rr],Ye.c2r,0,jt),calendar:jt},Q.setConvert(Ot),tr=tr&&o.dtick(tr,Ot.type),tr)Ot.dtick=tr,Ot.tick0=o.tick0(void 0,Ot.type,jt);else{var hr;if(It)hr=(rr-or)/It;else{var gr=T.distinctVals(je),pr=Math.pow(10,Math.floor(Math.log(gr.minDiff)/Math.LN10)),vr=pr*T.roundUp(gr.minDiff/pr,[.9,1.9,4.9,9.9],!0);hr=Math.max(vr,2*T.stdev(je)/Math.pow(je.length,kt?.25:.4)),R(hr)||(hr=1)}Q.autoTicks(Ot,hr)}var Vr=Ot.dtick,kr=Q.tickIncrement(Q.tickFirst(Ot),Vr,"reverse",jt),_r,pn;if(typeof Vr=="number")kr=me(kr,je,Ot,or,rr),pn=1+Math.floor((rr-kr)/Vr),_r=kr+pn*Vr;else for(Ot.dtick.charAt(0)==="M"&&(kr=Ce(kr,je,Vr,or,jt)),_r=kr,pn=0;_r<=rr;)_r=Q.tickIncrement(_r,Vr,!1,jt),pn++;return{start:Ye.c2r(kr,0,jt),end:Ye.c2r(_r,0,jt),size:Vr,_dataSpan:rr-or}};function me(je,Ye,It,kt,jt){var tr=0,or=0,rr=0,Ot=0;function hr(Vr){return(1+(Vr-je)*100/It.dtick)%100<2}for(var gr=0;gr<Ye.length;gr++)Ye[gr]%1===0?rr++:R(Ye[gr])||Ot++,hr(Ye[gr])&&tr++,hr(Ye[gr]+It.dtick/2)&&or++;var pr=Ye.length-Ot;if(rr===pr&&It.type!=="date")It.dtick<1?je=kt-.5*It.dtick:(je-=.5,je+It.dtick<kt&&(je+=It.dtick));else if(or<pr*.1&&(tr>pr*.3||hr(kt)||hr(jt))){var vr=It.dtick/2;je+=je+vr<kt?vr:-vr}return je}function Ce(je,Ye,It,kt,jt){var tr=T.findExactDates(Ye,jt),or=.8;if(tr.exactDays>or){var rr=Number(It.substr(1));tr.exactYears>or&&rr%12===0?je=Q.tickIncrement(je,"M6","reverse")+x*1.5:tr.exactMonths>or?je=Q.tickIncrement(je,"M1","reverse")+x*15.5:je-=E;var Ot=Q.tickIncrement(je,It);if(Ot<=kt)return Ot}return je}Q.prepMinorTicks=function(je,Ye,It){if(!Ye.minor.dtick){delete je.dtick;var kt=Ye.dtick&&R(Ye._tmin),jt;if(kt){var tr=Q.tickIncrement(Ye._tmin,Ye.dtick,!0);jt=[Ye._tmin,tr*.99+Ye._tmin*.01]}else{var or=T.simpleMap(Ye.range,Ye.r2l);jt=[or[0],.8*or[0]+.2*or[1]]}if(je.range=T.simpleMap(jt,Ye.l2r),je._isMinor=!0,Q.prepTicks(je,It),kt){var rr=R(Ye.dtick),Ot=R(je.dtick),hr=rr?Ye.dtick:+Ye.dtick.substring(1),gr=Ot?je.dtick:+je.dtick.substring(1);rr&&Ot?Te(hr,gr)?hr===2*P&&gr===2*x&&(je.dtick=P):hr===2*P&&gr===3*x?je.dtick=P:hr===P&&!(Ye._input.minor||{}).nticks?je.dtick=x:Oe(hr/gr,2.5)?je.dtick=hr/2:je.dtick=hr:String(Ye.dtick).charAt(0)==="M"?Ot?je.dtick="M1":Te(hr,gr)?hr>=12&&gr===2&&(je.dtick="M3"):je.dtick=Ye.dtick:String(je.dtick).charAt(0)==="L"?String(Ye.dtick).charAt(0)==="L"?Te(hr,gr)||(je.dtick=Oe(hr/gr,2.5)?Ye.dtick/2:Ye.dtick):je.dtick="D1":je.dtick==="D2"&&+Ye.dtick>1&&(je.dtick=1)}je.range=Ye.range}Ye.minor._tick0Init===void 0&&(je.tick0=Ye.tick0)};function Te(je,Ye){return Math.abs((je/Ye+.5)%1-.5)<.001}function Oe(je,Ye){return Math.abs(je/Ye-1)<.001}Q.prepTicks=function(je,Ye){var It=T.simpleMap(je.range,je.r2l,void 0,void 0,Ye);if(je.tickmode==="auto"||!je.dtick){var kt=je.nticks,jt;kt||(je.type==="category"||je.type==="multicategory"?(jt=je.tickfont?T.bigFont(je.tickfont.size||12):15,kt=je._length/jt):(jt=je._id.charAt(0)==="y"?40:80,kt=T.constrain(je._length/jt,4,9)+1),je._name==="radialaxis"&&(kt*=2)),je.minor&&je.minor.tickmode!=="array"||je.tickmode==="array"&&(kt*=100),je._roughDTick=Math.abs(It[1]-It[0])/kt,Q.autoTicks(je,je._roughDTick),je._minDtick>0&&je.dtick<je._minDtick*2&&(je.dtick=je._minDtick,je.tick0=je.l2r(je._forceTick0))}je.ticklabelmode==="period"&&Le(je),je.tick0||(je.tick0=je.type==="date"?"2000-01-01":0),je.type==="date"&&je.dtick<.1&&(je.dtick=.1),gt(je)};function Ne(je){return+je.substring(1)}function Le(je){var Ye;function It(){return!(R(je.dtick)||je.dtick.charAt(0)!=="M")}var kt=It(),jt=Q.getTickFormat(je);if(jt){var tr=je._dtickInit!==je.dtick;/%[fLQsSMX]/.test(jt)||(/%[HI]/.test(jt)?(Ye=w,tr&&!kt&&je.dtick<w&&(je.dtick=w)):/%p/.test(jt)?(Ye=E,tr&&!kt&&je.dtick<E&&(je.dtick=E)):/%[Aadejuwx]/.test(jt)?(Ye=x,tr&&!kt&&je.dtick<x&&(je.dtick=x)):/%[UVW]/.test(jt)?(Ye=P,tr&&!kt&&je.dtick<P&&(je.dtick=P)):/%[Bbm]/.test(jt)?(Ye=M,tr&&(kt?Ne(je.dtick)<1:je.dtick<S)&&(je.dtick="M1")):/%[q]/.test(jt)?(Ye=h,tr&&(kt?Ne(je.dtick)<3:je.dtick<l)&&(je.dtick="M3")):/%[Yy]/.test(jt)&&(Ye=m,tr&&(kt?Ne(je.dtick)<12:je.dtick<c)&&(je.dtick="M12")))}kt=It(),kt&&je.tick0===je._dowTick0&&(je.tick0=je._rawTick0),je._definedDelta=Ye}function be(je,Ye,It){for(var kt=0;kt<je.length;kt++){var jt=je[kt].value,tr=kt,or=kt+1;kt<je.length-1?(tr=kt,or=kt+1):kt>0?(tr=kt-1,or=kt):(tr=kt,or=kt);var rr=je[tr].value,Ot=je[or].value,hr=Math.abs(Ot-rr),gr=It||hr,pr=0;gr>=c?hr>=c&&hr<=u?pr=hr:pr=m:It===h&&gr>=l?hr>=l&&hr<=A?pr=hr:pr=h:gr>=S?hr>=S&&hr<=p?pr=hr:pr=M:It===P&&gr>=P?pr=P:gr>=x?pr=x:It===E&&gr>=E?pr=E:It===w&&gr>=w&&(pr=w);var vr;pr>=hr&&(pr=hr,vr=!0);var Vr=jt+pr;if(Ye.rangebreaks&&pr>0){for(var kr=84,_r=0,pn=0;pn<kr;pn++){var en=(pn+.5)/kr;Ye.maskBreaks(jt*(1-en)+en*Vr)!==O&&_r++}pr*=_r/kr,pr||(je[kt].drop=!0),vr&&hr>P&&(pr=hr)}(pr>0||kt===0)&&(je[kt].periodX=jt+pr/2)}}Q.calcTicks=function(Ye,It){for(var kt=Ye.type,jt=Ye.calendar,tr=Ye.ticklabelstep,or=Ye.ticklabelmode==="period",rr=T.simpleMap(Ye.range,Ye.r2l,void 0,void 0,It),Ot=rr[1]<rr[0],hr=Math.min(rr[0],rr[1]),gr=Math.max(rr[0],rr[1]),pr=Math.max(1e3,Ye._length||0),vr=[],Vr=[],kr=[],_r=[],pn=Ye.minor&&(Ye.minor.ticks||Ye.minor.showgrid),en=1;en>=(pn?0:1);en--){var Bn=!en;en?(Ye._dtickInit=Ye.dtick,Ye._tick0Init=Ye.tick0):(Ye.minor._dtickInit=Ye.minor.dtick,Ye.minor._tick0Init=Ye.minor.tick0);var Tn=en?Ye:T.extendFlat({},Ye,Ye.minor);if(Bn?Q.prepMinorTicks(Tn,Ye,It):Q.prepTicks(Tn,It),Tn.tickmode==="array"){en?(kr=[],vr=Ve(Ye)):(_r=[],Vr=Ve(Ye));continue}if(Tn.tickmode==="sync"){kr=[],vr=He(Ye);continue}var Mr=ee(rr),Er=Mr[0],Gr=Mr[1],Ur=R(Tn.dtick),an=kt==="log"&&!(Ur||Tn.dtick.charAt(0)==="L"),gn=Q.tickFirst(Tn,It);if(en){if(Ye._tmin=gn,gn<Er!==Ot)break;(kt==="category"||kt==="multicategory")&&(Gr=Ot?Math.max(-.5,Gr):Math.min(Ye._categories.length-.5,Gr))}var mn=null,Rn=gn,zn;if(en){var oa;Ur?oa=Ye.dtick:kt==="date"?typeof Ye.dtick=="string"&&Ye.dtick.charAt(0)==="M"&&(oa=M*Ye.dtick.substring(1)):oa=Ye._roughDTick,zn=Math.round((Ye.r2l(Rn)-Ye.r2l(Ye.tick0))/oa)-1}var Zn=Tn.dtick;for(Tn.rangebreaks&&Tn._tick0Init!==Tn.tick0&&(Rn=Nt(Rn,Ye),Ot||(Rn=Q.tickIncrement(Rn,Zn,!Ot,jt))),en&&or&&(Rn=Q.tickIncrement(Rn,Zn,!Ot,jt),zn--);Ot?Rn>=Gr:Rn<=Gr;Rn=Q.tickIncrement(Rn,Zn,Ot,jt)){if(en&&zn++,Tn.rangebreaks&&!Ot){if(Rn<Er)continue;if(Tn.maskBreaks(Rn)===O&&Nt(Rn,Tn)>=gr)break}if(kr.length>pr||Rn===mn)break;mn=Rn;var qn={value:Rn};en?(an&&Rn!==(Rn|0)&&(qn.simpleLabel=!0),tr>1&&zn%tr&&(qn.skipLabel=!0),kr.push(qn)):(qn.minor=!0,_r.push(qn))}}if(pn){var Yn=Ye.minor.ticks==="inside"&&Ye.ticks==="outside"||Ye.minor.ticks==="outside"&&Ye.ticks==="inside";if(!Yn){for(var Qn=kr.map(function(Sn){return Sn.value}),Tr=[],sn=0;sn<_r.length;sn++){var rn=_r[sn],yn=rn.value;if(Qn.indexOf(yn)===-1){for(var Vn=!1,Mn=0;!Vn&&Mn<kr.length;Mn++)1e7+kr[Mn].value===1e7+yn&&(Vn=!0);Vn||Tr.push(rn)}}_r=Tr}}or&&be(kr,Ye,Ye._definedDelta);var En;if(Ye.rangebreaks){var Nn=Ye._id.charAt(0)==="y",ta=1;Ye.tickmode==="auto"&&(ta=Ye.tickfont?Ye.tickfont.size:12);var ba=NaN;for(En=kr.length-1;En>-1;En--){if(kr[En].drop){kr.splice(En,1);continue}kr[En].value=Nt(kr[En].value,Ye);var Ya=Ye.c2p(kr[En].value);(Nn?ba>Ya-ta:ba<Ya+ta)?kr.splice(Ot?En+1:En,1):ba=Ya}}Bt(Ye)&&Math.abs(rr[1]-rr[0])===360&&kr.pop(),Ye._tmax=(kr[kr.length-1]||{}).value,Ye._prevDateHead="",Ye._inCalcTicks=!0;var Zt,wr=function(Sn){Sn.text="",Ye._prevDateHead=Zt};kr=kr.concat(_r);var tn,un;for(En=0;En<kr.length;En++){var cn=kr[En].minor,In=kr[En].value;cn?Vr.push({x:In,minor:!0}):(Zt=Ye._prevDateHead,tn=Q.tickText(Ye,In,!1,kr[En].simpleLabel),un=kr[En].periodX,un!==void 0&&(tn.periodX=un,(un>gr||un<hr)&&(un>gr&&(tn.periodX=gr),un<hr&&(tn.periodX=hr),wr(tn))),kr[En].skipLabel&&wr(tn),vr.push(tn))}return vr=vr.concat(Vr),Ye._inCalcTicks=!1,or&&vr.length&&(vr[0].noTick=!0),vr};function Ae(je,Ye){return je.rangebreaks&&(Ye=Ye.filter(function(It){return je.maskBreaks(It.x)!==O})),Ye}function He(je){var Ye=je._mainAxis,It=[];if(Ye._vals){for(var kt=0;kt<Ye._vals.length;kt++)if(!Ye._vals[kt].noTick){var jt=Ye.l2p(Ye._vals[kt].x),tr=je.p2l(jt),or=Q.tickText(je,tr);Ye._vals[kt].minor&&(or.minor=!0,or.text=""),It.push(or)}}return It=Ae(je,It),It}function Ve(je){var Ye=T.simpleMap(je.range,je.r2l),It=ee(Ye),kt=Math.min(It[0],It[1]),jt=Math.max(It[0],It[1]),tr=je.type==="category"?je.d2l_noadd:je.d2l;je.type==="log"&&String(je.dtick).charAt(0)!=="L"&&(je.dtick="L"+Math.pow(10,Math.floor(Math.min(je.range[0],je.range[1]))-1));for(var or=[],rr=0;rr<=1;rr++)if(!(rr&&!je.minor)){var Ot=rr?je.minor.tickvals:je.tickvals,hr=rr?[]:je.ticktext;if(Ot){Array.isArray(hr)||(hr=[]);for(var gr=0;gr<Ot.length;gr++){var pr=tr(Ot[gr]);if(pr>kt&&pr<jt){var vr=hr[gr]===void 0?Q.tickText(je,pr):Mt(je,pr,String(hr[gr]));rr&&(vr.minor=!0,vr.text=""),or.push(vr)}}}}return or=Ae(je,or),or}var ke=[2,5,10],Ge=[1,2,3,6,12],it=[1,2,5,10,15,30],et=[1,2,3,7,14],tt=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],at=[-.301,0,.301,.699,1],vt=[15,30,45,90,180];function yt(je,Ye,It){return Ye*T.roundUp(je/Ye,It)}Q.autoTicks=function(je,Ye,It){var kt;function jt(pr){return Math.pow(pr,Math.floor(Math.log(Ye)/Math.LN10))}if(je.type==="date"){je.tick0=T.dateTick0(je.calendar,0);var tr=2*Ye;if(tr>m)Ye/=m,kt=jt(10),je.dtick="M"+12*yt(Ye,kt,ke);else if(tr>M)Ye/=M,je.dtick="M"+yt(Ye,1,Ge);else if(tr>x){if(je.dtick=yt(Ye,x,je._hasDayOfWeekBreaks?[1,2,7,14]:et),!It){var or=Q.getTickFormat(je),rr=je.ticklabelmode==="period";rr&&(je._rawTick0=je.tick0),/%[uVW]/.test(or)?je.tick0=T.dateTick0(je.calendar,2):je.tick0=T.dateTick0(je.calendar,1),rr&&(je._dowTick0=je.tick0)}}else tr>w?je.dtick=yt(Ye,w,Ge):tr>i?je.dtick=yt(Ye,i,it):tr>L?je.dtick=yt(Ye,L,it):(kt=jt(10),je.dtick=yt(Ye,kt,ke))}else if(je.type==="log"){je.tick0=0;var Ot=T.simpleMap(je.range,je.r2l);if(je._isMinor&&(Ye*=1.5),Ye>.7)je.dtick=Math.ceil(Ye);else if(Math.abs(Ot[1]-Ot[0])<1){var hr=1.5*Math.abs((Ot[1]-Ot[0])/Ye);Ye=Math.abs(Math.pow(10,Ot[1])-Math.pow(10,Ot[0]))/hr,kt=jt(10),je.dtick="L"+yt(Ye,kt,ke)}else je.dtick=Ye>.3?"D2":"D1"}else je.type==="category"||je.type==="multicategory"?(je.tick0=0,je.dtick=Math.ceil(Math.max(Ye,1))):Bt(je)?(je.tick0=0,kt=1,je.dtick=yt(Ye,kt,vt)):(je.tick0=0,kt=jt(10),je.dtick=yt(Ye,kt,ke));if(je.dtick===0&&(je.dtick=1),!R(je.dtick)&&typeof je.dtick!="string"){var gr=je.dtick;throw je.dtick=1,"ax.dtick error: "+String(gr)}};function gt(je){var Ye=je.dtick;if(je._tickexponent=0,!R(Ye)&&typeof Ye!="string"&&(Ye=1),(je.type==="category"||je.type==="multicategory")&&(je._tickround=null),je.type==="date"){var It=je.r2l(je.tick0),kt=je.l2r(It).replace(/(^-|i)/g,""),jt=kt.length;if(String(Ye).charAt(0)==="M")jt>10||kt.substr(5)!=="01-01"?je._tickround="d":je._tickround=+Ye.substr(1)%12===0?"y":"m";else if(Ye>=x&&jt<=10||Ye>=x*15)je._tickround="d";else if(Ye>=i&&jt<=16||Ye>=w)je._tickround="M";else if(Ye>=L&&jt<=19||Ye>=i)je._tickround="S";else{var tr=je.l2r(It+Ye).replace(/^-/,"").length;je._tickround=Math.max(jt,tr)-20,je._tickround<0&&(je._tickround=4)}}else if(R(Ye)||Ye.charAt(0)==="L"){var or=je.range.map(je.r2d||Number);R(Ye)||(Ye=Number(Ye.substr(1))),je._tickround=2-Math.floor(Math.log(Ye)/Math.LN10+.01);var rr=Math.max(Math.abs(or[0]),Math.abs(or[1])),Ot=Math.floor(Math.log(rr)/Math.LN10+.01),hr=je.minexponent===void 0?3:je.minexponent;Math.abs(Ot)>hr&&(xe(je.exponentformat)&&!Ee(Ot)?je._tickexponent=3*Math.round((Ot-1)/3):je._tickexponent=Ot)}else je._tickround=null}Q.tickIncrement=function(je,Ye,It,kt){var jt=It?-1:1;if(R(Ye))return T.increment(je,jt*Ye);var tr=Ye.charAt(0),or=jt*Number(Ye.substr(1));if(tr==="M")return T.incrementMonth(je,or,kt);if(tr==="L")return Math.log(Math.pow(10,je)+or)/Math.LN10;if(tr==="D"){var rr=Ye==="D2"?at:tt,Ot=je+jt*.01,hr=T.roundUp(T.mod(Ot,1),rr,It);return Math.floor(Ot)+Math.log(g.round(Math.pow(10,hr),1))/Math.LN10}throw"unrecognized dtick "+String(Ye)},Q.tickFirst=function(je,Ye){var It=je.r2l||Number,kt=T.simpleMap(je.range,It,void 0,void 0,Ye),jt=kt[1]<kt[0],tr=jt?Math.floor:Math.ceil,or=ee(kt)[0],rr=je.dtick,Ot=It(je.tick0);if(R(rr)){var hr=tr((or-Ot)/rr)*rr+Ot;return(je.type==="category"||je.type==="multicategory")&&(hr=T.constrain(hr,0,je._categories.length-1)),hr}var gr=rr.charAt(0),pr=Number(rr.substr(1));if(gr==="M"){for(var vr=0,Vr=Ot,kr,_r,pn;vr<10;){if(kr=Q.tickIncrement(Vr,rr,jt,je.calendar),(kr-or)*(Vr-or)<=0)return jt?Math.min(Vr,kr):Math.max(Vr,kr);_r=(or-(Vr+kr)/2)/(kr-Vr),pn=gr+(Math.abs(Math.round(_r))||1)*pr,Vr=Q.tickIncrement(Vr,pn,_r<0?!jt:jt,je.calendar),vr++}return T.error("tickFirst did not converge",je),Vr}else{if(gr==="L")return Math.log(tr((Math.pow(10,or)-Ot)/pr)*pr+Ot)/Math.LN10;if(gr==="D"){var en=rr==="D2"?at:tt,Bn=T.roundUp(T.mod(or,1),en,jt);return Math.floor(or)+Math.log(g.round(Math.pow(10,Bn),1))/Math.LN10}else throw"unrecognized dtick "+String(rr)}},Q.tickText=function(je,Ye,It,kt){var jt=Mt(je,Ye),tr=je.tickmode==="array",or=It||tr,rr=je.type,Ot=rr==="category"?je.d2l_noadd:je.d2l,hr;if(tr&&Array.isArray(je.ticktext)){var gr=T.simpleMap(je.range,je.r2l),pr=(Math.abs(gr[1]-gr[0])-(je._lBreaks||0))/1e4;for(hr=0;hr<je.ticktext.length&&!(Math.abs(Ye-Ot(je.tickvals[hr]))<pr);hr++);if(hr<je.ticktext.length)return jt.text=String(je.ticktext[hr]),jt}function vr(pn){if(pn===void 0)return!0;if(It)return pn==="none";var en={first:je._tmin,last:je._tmax}[pn];return pn!=="all"&&Ye!==en}var Vr=It?"never":je.exponentformat!=="none"&&vr(je.showexponent)?"hide":"";if(rr==="date"?Ct(je,jt,It,or):rr==="log"?Vt(je,jt,It,or,Vr):rr==="category"?Je(je,jt):rr==="multicategory"?ze(je,jt,It):Bt(je)?Be(je,jt,It,or,Vr):_e(je,jt,It,or,Vr),kt||(je.tickprefix&&!vr(je.showtickprefix)&&(jt.text=je.tickprefix+jt.text),je.ticksuffix&&!vr(je.showticksuffix)&&(jt.text+=je.ticksuffix)),je.labelalias&&je.labelalias.hasOwnProperty(jt.text)){var kr=je.labelalias[jt.text];typeof kr=="string"&&(jt.text=kr)}if(je.tickson==="boundaries"||je.showdividers){var _r=function(pn){var en=je.l2p(pn);return en>=0&&en<=je._length?pn:null};jt.xbnd=[_r(jt.x-.5),_r(jt.x+je.dtick-.5)]}return jt},Q.hoverLabelText=function(je,Ye,It){It&&(je=T.extendFlat({},je,{hoverformat:It}));var kt=Array.isArray(Ye)?Ye[0]:Ye,jt=Array.isArray(Ye)?Ye[1]:void 0;if(jt!==void 0&&jt!==kt)return Q.hoverLabelText(je,kt,It)+" - "+Q.hoverLabelText(je,jt,It);var tr=je.type==="log"&&kt<=0,or=Q.tickText(je,je.c2l(tr?-kt:kt),"hover").text;return tr?kt===0?"0":b+or:or};function Mt(je,Ye,It){var kt=je.tickfont||{};return{x:Ye,dx:0,dy:0,text:It||"",fontSize:kt.size,font:kt.family,fontColor:kt.color}}function Ct(je,Ye,It,kt){var jt=je._tickround,tr=It&&je.hoverformat||Q.getTickFormat(je);kt=!tr&&kt,kt&&(R(jt)?jt=4:jt={y:"m",m:"d",d:"M",M:"S",S:4}[jt]);var or=T.formatDate(Ye.x,tr,jt,je._dateFormat,je.calendar,je._extraFormat),rr,Ot=or.indexOf(`
`);if(Ot!==-1&&(rr=or.substr(Ot+1),or=or.substr(0,Ot)),kt&&(rr!==void 0&&(or==="00:00:00"||or==="00:00")?(or=rr,rr=""):or.length===8&&(or=or.replace(/:00$/,""))),rr)if(It)jt==="d"?or+=", "+rr:or=rr+(or?", "+or:"");else if(!je._inCalcTicks||je._prevDateHead!==rr)je._prevDateHead=rr,or+="<br>"+rr;else{var hr=Xt(je),gr=je._trueSide||je.side;(!hr&&gr==="top"||hr&&gr==="bottom")&&(or+="<br> ")}Ye.text=or}function Vt(je,Ye,It,kt,jt){var tr=je.dtick,or=Ye.x,rr=je.tickformat,Ot=typeof tr=="string"&&tr.charAt(0);if(jt==="never"&&(jt=""),kt&&Ot!=="L"&&(tr="L3",Ot="L"),rr||Ot==="L")Ye.text=Pe(Math.pow(10,or),je,jt,kt);else if(R(tr)||Ot==="D"&&T.mod(or+.01,1)<.1){var hr=Math.round(or),gr=Math.abs(hr),pr=je.exponentformat;pr==="power"||xe(pr)&&Ee(hr)?(hr===0?Ye.text=1:hr===1?Ye.text="10":Ye.text="10<sup>"+(hr>1?"":b)+gr+"</sup>",Ye.fontSize*=1.25):(pr==="e"||pr==="E")&&gr>2?Ye.text="1"+pr+(hr>0?"+":b)+gr:(Ye.text=Pe(Math.pow(10,or),je,"","fakehover"),tr==="D1"&&je._id.charAt(0)==="y"&&(Ye.dy-=Ye.fontSize/6))}else if(Ot==="D")Ye.text=String(Math.round(Math.pow(10,T.mod(or,1)))),Ye.fontSize*=.75;else throw"unrecognized dtick "+String(tr);if(je.dtick==="D1"){var vr=String(Ye.text).charAt(0);(vr==="0"||vr==="1")&&(je._id.charAt(0)==="y"?Ye.dx-=Ye.fontSize/4:(Ye.dy+=Ye.fontSize/2,Ye.dx+=(je.range[1]>je.range[0]?1:-1)*Ye.fontSize*(or<0?.5:.25)))}}function Je(je,Ye){var It=je._categories[Math.round(Ye.x)];It===void 0&&(It=""),Ye.text=String(It)}function ze(je,Ye,It){var kt=Math.round(Ye.x),jt=je._categories[kt]||[],tr=jt[1]===void 0?"":String(jt[1]),or=jt[0]===void 0?"":String(jt[0]);It?Ye.text=or+" - "+tr:(Ye.text=tr,Ye.text2=or)}function _e(je,Ye,It,kt,jt){jt==="never"?jt="":je.showexponent==="all"&&Math.abs(Ye.x/je.dtick)<1e-6&&(jt="hide"),Ye.text=Pe(Ye.x,je,jt,kt)}function Be(je,Ye,It,kt,jt){if(je.thetaunit==="radians"&&!It){var tr=Ye.x/180;if(tr===0)Ye.text="0";else{var or=De(tr);if(or[1]>=100)Ye.text=Pe(T.deg2rad(Ye.x),je,jt,kt);else{var rr=Ye.x<0;or[1]===1?or[0]===1?Ye.text="":Ye.text=or[0]+"":Ye.text=["<sup>",or[0],"</sup>","","<sub>",or[1],"</sub>",""].join(""),rr&&(Ye.text=b+Ye.text)}}}else Ye.text=Pe(Ye.x,je,jt,kt)}function De(je){function Ye(rr,Ot){return Math.abs(rr-Ot)<=1e-6}function It(rr,Ot){return Ye(Ot,0)?rr:It(Ot,rr%Ot)}function kt(rr){for(var Ot=1;!Ye(Math.round(rr*Ot)/Ot,rr);)Ot*=10;return Ot}var jt=kt(je),tr=je*jt,or=Math.abs(It(tr,jt));return[Math.round(tr/or),Math.round(jt/or)]}var we=["f","p","n","","m","","k","M","G","T"];function xe(je){return je==="SI"||je==="B"}function Ee(je){return je>14||je<-15}function Pe(je,Ye,It,kt){var jt=je<0,tr=Ye._tickround,or=It||Ye.exponentformat||"B",rr=Ye._tickexponent,Ot=Q.getTickFormat(Ye),hr=Ye.separatethousands;if(kt){var gr={exponentformat:or,minexponent:Ye.minexponent,dtick:Ye.showexponent==="none"?Ye.dtick:R(je)&&Math.abs(je)||1,range:Ye.showexponent==="none"?Ye.range.map(Ye.r2d):[0,je||1]};gt(gr),tr=(Number(gr._tickround)||0)+4,rr=gr._tickexponent,Ye.hoverformat&&(Ot=Ye.hoverformat)}if(Ot)return Ye._numFormat(Ot)(je).replace(/-/g,b);var pr=Math.pow(10,-tr)/2;if(or==="none"&&(rr=0),je=Math.abs(je),je<pr)je="0",jt=!1;else{if(je+=pr,rr&&(je*=Math.pow(10,-rr),tr+=rr),tr===0)je=String(Math.floor(je));else if(tr<0){je=String(Math.round(je)),je=je.substr(0,je.length+tr);for(var vr=tr;vr<0;vr++)je+="0"}else{je=String(je);var Vr=je.indexOf(".")+1;Vr&&(je=je.substr(0,Vr+tr).replace(/\.?0+$/,""))}je=T.numSeparate(je,Ye._separators,hr)}if(rr&&or!=="hide"){xe(or)&&Ee(rr)&&(or="power");var kr;rr<0?kr=b+-rr:or!=="power"?kr="+"+rr:kr=String(rr),or==="e"||or==="E"?je+=or+kr:or==="power"?je+="10<sup>"+kr+"</sup>":or==="B"&&rr===9?je+="B":xe(or)&&(je+=we[rr/3+5])}return jt?b+je:je}Q.getTickFormat=function(je){var Ye;function It(Ot){return typeof Ot!="string"?Ot:Number(Ot.replace("M",""))*M}function kt(Ot,hr){var gr=["L","D"];if(typeof Ot==typeof hr){if(typeof Ot=="number")return Ot-hr;var pr=gr.indexOf(Ot.charAt(0)),vr=gr.indexOf(hr.charAt(0));return pr===vr?Number(Ot.replace(/(L|D)/g,""))-Number(hr.replace(/(L|D)/g,"")):pr-vr}else return typeof Ot=="number"?1:-1}function jt(Ot,hr,gr){var pr=gr||function(kr){return kr},vr=hr[0],Vr=hr[1];return(!vr&&typeof vr!="number"||pr(vr)<=pr(Ot))&&(!Vr&&typeof Vr!="number"||pr(Vr)>=pr(Ot))}function tr(Ot,hr){var gr=hr[0]===null,pr=hr[1]===null,vr=kt(Ot,hr[0])>=0,Vr=kt(Ot,hr[1])<=0;return(gr||vr)&&(pr||Vr)}var or,rr;if(je.tickformatstops&&je.tickformatstops.length>0)switch(je.type){case"date":case"linear":{for(Ye=0;Ye<je.tickformatstops.length;Ye++)if(rr=je.tickformatstops[Ye],rr.enabled&&jt(je.dtick,rr.dtickrange,It)){or=rr;break}break}case"log":{for(Ye=0;Ye<je.tickformatstops.length;Ye++)if(rr=je.tickformatstops[Ye],rr.enabled&&tr(je.dtick,rr.dtickrange)){or=rr;break}break}}return or?or.value:je.tickformat},Q.getSubplots=function(je,Ye){var It=je._fullLayout._subplots,kt=It.cartesian.concat(It.gl2d||[]),jt=Ye?Q.findSubplotsWithAxis(kt,Ye):kt;return jt.sort(function(tr,or){var rr=tr.substr(1).split("y"),Ot=or.substr(1).split("y");return rr[0]===Ot[0]?+rr[1]-+Ot[1]:+rr[0]-+Ot[0]}),jt},Q.findSubplotsWithAxis=function(je,Ye){for(var It=new RegExp(Ye._id.charAt(0)==="x"?"^"+Ye._id+"y":Ye._id+"$"),kt=[],jt=0;jt<je.length;jt++){var tr=je[jt];It.test(tr)&&kt.push(tr)}return kt},Q.makeClipPaths=function(je){var Ye=je._fullLayout;if(!Ye._hasOnlyLargeSploms){var It={_offset:0,_length:Ye.width,_id:""},kt={_offset:0,_length:Ye.height,_id:""},jt=Q.list(je,"x",!0),tr=Q.list(je,"y",!0),or=[],rr,Ot;for(rr=0;rr<jt.length;rr++)for(or.push({x:jt[rr],y:kt}),Ot=0;Ot<tr.length;Ot++)rr===0&&or.push({x:It,y:tr[Ot]}),or.push({x:jt[rr],y:tr[Ot]});var hr=Ye._clips.selectAll(".axesclip").data(or,function(gr){return gr.x._id+gr.y._id});hr.enter().append("clipPath").classed("axesclip",!0).attr("id",function(gr){return"clip"+Ye._uid+gr.x._id+gr.y._id}).append("rect"),hr.exit().remove(),hr.each(function(gr){g.select(this).select("rect").attr({x:gr.x._offset||0,y:gr.y._offset||0,width:gr.x._length||1,height:gr.y._length||1})})}},Q.draw=function(je,Ye,It){var kt=je._fullLayout;Ye==="redraw"&&kt._paper.selectAll("g.subplot").each(function(Ot){var hr=Ot[0],gr=kt._plots[hr];if(gr){var pr=gr.xaxis,vr=gr.yaxis;gr.xaxislayer.selectAll("."+pr._id+"tick").remove(),gr.yaxislayer.selectAll("."+vr._id+"tick").remove(),gr.xaxislayer.selectAll("."+pr._id+"tick2").remove(),gr.yaxislayer.selectAll("."+vr._id+"tick2").remove(),gr.xaxislayer.selectAll("."+pr._id+"divider").remove(),gr.yaxislayer.selectAll("."+vr._id+"divider").remove(),gr.minorGridlayer&&gr.minorGridlayer.selectAll("path").remove(),gr.gridlayer&&gr.gridlayer.selectAll("path").remove(),gr.zerolinelayer&&gr.zerolinelayer.selectAll("path").remove(),kt._infolayer.select(".g-"+pr._id+"title").remove(),kt._infolayer.select(".g-"+vr._id+"title").remove()}});var jt=!Ye||Ye==="redraw"?Q.listIds(je):Ye,tr=Q.list(je),or=tr.filter(function(Ot){return Ot.autoshift}).map(function(Ot){return Ot.overlaying});jt.map(function(Ot){var hr=Q.getFromId(je,Ot);if(hr.tickmode==="sync"&&hr.overlaying){var gr=jt.findIndex(function(pr){return pr===hr.overlaying});gr>=0&&jt.unshift(jt.splice(gr,1).shift())}});var rr={false:{left:0,right:0}};return T.syncOrAsync(jt.map(function(Ot){return function(){if(Ot){var hr=Q.getFromId(je,Ot);It||(It={}),It.axShifts=rr,It.overlayingShiftedAx=or;var gr=Q.drawOne(je,hr,It);return hr._shiftPusher&&sr(hr,hr._fullDepth||0,rr,!0),hr._r=hr.range.slice(),hr._rl=T.simpleMap(hr._r,hr.r2l),gr}}}))},Q.drawOne=function(je,Ye,It){It=It||{};var kt=It.axShifts||{},jt=It.overlayingShiftedAx||[],tr,or,rr;Ye.setScale();var Ot=je._fullLayout,hr=Ye._id,gr=hr.charAt(0),pr=Q.counterLetter(hr),vr=Ot._plots[Ye._mainSubplot];if(!vr)return;if(Ye._shiftPusher=Ye.autoshift||jt.indexOf(Ye._id)!==-1||jt.indexOf(Ye.overlaying)!==-1,Ye._shiftPusher&Ye.anchor==="free"){var Vr=Ye.linewidth/2||0;Ye.ticks==="inside"&&(Vr+=Ye.ticklen),sr(Ye,Vr,kt,!0),sr(Ye,Ye.shift||0,kt,!1)}(It.skipTitle!==!0||Ye._shift===void 0)&&(Ye._shift=dr(Ye,kt));var kr=vr[gr+"axislayer"],_r=Ye._mainLinePosition,pn=_r+=Ye._shift,en=Ye._mainMirrorPosition,Bn=Ye._vals=Q.calcTicks(Ye),Tn=[Ye.mirror,pn,en].join("_");for(tr=0;tr<Bn.length;tr++)Bn[tr].axInfo=Tn;Ye._selections={},Ye._tickAngles&&(Ye._prevTickAngles=Ye._tickAngles),Ye._tickAngles={},Ye._depth=null;var Mr={};function Er(Or){var dn=hr+(Or||"tick");return Mr[dn]||(Mr[dn]=bt(Ye,dn)),Mr[dn]}if(Ye.visible){var Gr=Q.makeTransTickFn(Ye),Ur=Q.makeTransTickLabelFn(Ye),an,gn,mn=Ye.ticks==="inside",Rn=Ye.ticks==="outside";if(Ye.tickson==="boundaries"){var zn=$e(Ye,Bn);gn=Q.clipEnds(Ye,zn),an=mn?gn:zn}else gn=Q.clipEnds(Ye,Bn),an=mn&&Ye.ticklabelmode!=="period"?gn:Bn;var oa=Ye._gridVals=gn,Zn=dt(Ye,Bn);if(!Ot._hasOnlyLargeSploms){var qn=Ye._subplotsWith,Yn={};for(tr=0;tr<qn.length;tr++){or=qn[tr],rr=Ot._plots[or];var Qn=rr[pr+"axis"],Tr=Qn._mainAxis._id;if(!Yn[Tr]){Yn[Tr]=1;var sn=gr==="x"?"M0,"+Qn._offset+"v"+Qn._length:"M"+Qn._offset+",0h"+Qn._length;Q.drawGrid(je,Ye,{vals:oa,counterAxis:Qn,layer:rr.gridlayer.select("."+hr),minorLayer:rr.minorGridlayer.select("."+hr),path:sn,transFn:Gr}),Q.drawZeroLine(je,Ye,{counterAxis:Qn,layer:rr.zerolinelayer,path:sn,transFn:Gr})}}}var rn,yn=Q.getTickSigns(Ye),Vn=Q.getTickSigns(Ye,"minor");if(Ye.ticks||Ye.minor&&Ye.minor.ticks){var Mn=Q.makeTickPath(Ye,pn,yn[2]),En=Q.makeTickPath(Ye,pn,Vn[2],{minor:!0}),Nn,ta,ba,Ya;if(Ye._anchorAxis&&Ye.mirror&&Ye.mirror!==!0?(Nn=Q.makeTickPath(Ye,en,yn[3]),ta=Q.makeTickPath(Ye,en,Vn[3],{minor:!0}),ba=Mn+Nn,Ya=En+ta):(Nn="",ta="",ba=Mn,Ya=En),Ye.showdividers&&Rn&&Ye.tickson==="boundaries"){var Zt={};for(tr=0;tr<Zn.length;tr++)Zt[Zn[tr].x]=1;rn=function(Or){return Zt[Or.x]?Nn:ba}}else rn=function(Or){return Or.minor?Ya:ba}}if(Q.drawTicks(je,Ye,{vals:an,layer:kr,path:rn,transFn:Gr}),Ye.mirror==="allticks"){var wr=Object.keys(Ye._linepositions||{});for(tr=0;tr<wr.length;tr++){or=wr[tr],rr=Ot._plots[or];var tn=Ye._linepositions[or]||[],un=tn[0],cn=tn[1],In=tn[2],Sn=Q.makeTickPath(Ye,un,In?yn[0]:Vn[0],{minor:In})+Q.makeTickPath(Ye,cn,In?yn[1]:Vn[1],{minor:In});Q.drawTicks(je,Ye,{vals:an,layer:rr[gr+"axislayer"],path:Sn,transFn:Gr})}}var vn=[];if(vn.push(function(){return Q.drawLabels(je,Ye,{vals:Bn,layer:kr,plotinfo:rr,transFn:Ur,labelFns:Q.makeLabelFns(Ye,pn)})}),Ye.type==="multicategory"){var Dr={x:2,y:10}[gr];vn.push(function(){var Or={x:"height",y:"width"}[gr],dn=Er()[Or]+Dr+(Ye._tickAngles[hr+"tick"]?Ye.tickfont.size*ne:0);return Q.drawLabels(je,Ye,{vals:qe(Ye,Bn),layer:kr,cls:hr+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:Gr,labelFns:Q.makeLabelFns(Ye,pn+dn*yn[4])})}),vn.push(function(){return Ye._depth=yn[4]*(Er("tick2")[Ye.side]-pn),zt(je,Ye,{vals:Zn,layer:kr,path:Q.makeTickPath(Ye,pn,yn[4],{len:Ye._depth}),transFn:Gr})})}else Ye.title.hasOwnProperty("standoff")&&vn.push(function(){Ye._depth=yn[4]*(Er()[Ye.side]-pn)});var Lr=C.getComponentMethod("rangeslider","isVisible")(Ye);return!It.skipTitle&&!(Lr&&Ye.side==="bottom")&&vn.push(function(){return Ar(je,Ye)}),vn.push(function(){var Or=Ye.side.charAt(0),dn=oe[Ye.side].charAt(0),On=Q.getPxPosition(je,Ye),Xn=Rn?Ye.ticklen:0,xn,Un,aa,fa;(Ye.automargin||Lr||Ye._shiftPusher)&&(Ye.type==="multicategory"?xn=Er("tick2"):(xn=Er(),gr==="x"&&Or==="b"&&(Ye._depth=Math.max(xn.width>0?xn.bottom-On:0,Xn))));var la=0,ua=0;if(Ye._shiftPusher&&(la=Math.max(Xn,xn.height>0?Or==="l"?On-xn.left:xn.right-On:0),Ye.title.text!==Ot._dfltTitle[gr]&&(ua=(Ye._titleStandoff||0)+(Ye._titleScoot||0),Or==="l"&&(ua+=$t(Ye))),Ye._fullDepth=Math.max(la,ua)),Ye.automargin){Un={x:0,y:0,r:0,l:0,t:0,b:0};var ga=[0,1],io=typeof Ye._shift=="number"?Ye._shift:0;if(gr==="x"){if(Or==="b"?Un[Or]=Ye._depth:(Un[Or]=Ye._depth=Math.max(xn.width>0?On-xn.top:0,Xn),ga.reverse()),xn.width>0){var Ao=xn.right-(Ye._offset+Ye._length);Ao>0&&(Un.xr=1,Un.r=Ao);var Do=Ye._offset-xn.left;Do>0&&(Un.xl=0,Un.l=Do)}}else if(Or==="l"?(Ye._depth=Math.max(xn.height>0?On-xn.left:0,Xn),Un[Or]=Ye._depth-io):(Ye._depth=Math.max(xn.height>0?xn.right-On:0,Xn),Un[Or]=Ye._depth+io,ga.reverse()),xn.height>0){var No=xn.bottom-(Ye._offset+Ye._length);No>0&&(Un.yb=0,Un.b=No);var Io=Ye._offset-xn.top;Io>0&&(Un.yt=1,Un.t=Io)}Un[pr]=Ye.anchor==="free"?Ye.position:Ye._anchorAxis.domain[ga[0]],Ye.title.text!==Ot._dfltTitle[gr]&&(Un[Or]+=$t(Ye)+(Ye.title.standoff||0)),Ye.mirror&&Ye.anchor!=="free"&&(aa={x:0,y:0,r:0,l:0,t:0,b:0},aa[dn]=Ye.linewidth,Ye.mirror&&Ye.mirror!==!0&&(aa[dn]+=Xn),Ye.mirror===!0||Ye.mirror==="ticks"?aa[pr]=Ye._anchorAxis.domain[ga[1]]:(Ye.mirror==="all"||Ye.mirror==="allticks")&&(aa[pr]=[Ye._counterDomainMin,Ye._counterDomainMax][ga[1]]))}Lr&&(fa=C.getComponentMethod("rangeslider","autoMarginOpts")(je,Ye)),typeof Ye.automargin=="string"&&(Ue(Un,Ye.automargin),Ue(aa,Ye.automargin)),a.autoMargin(je,ur(Ye),Un),a.autoMargin(je,pt(Ye),aa),a.autoMargin(je,st(Ye),fa)}),T.syncOrAsync(vn)}};function Ue(je,Ye){if(je){var It=Object.keys(F).reduce(function(kt,jt){return Ye.indexOf(jt)!==-1&&F[jt].forEach(function(tr){kt[tr]=1}),kt},{});Object.keys(je).forEach(function(kt){It[kt]||(kt.length===1?je[kt]=0:delete je[kt])})}}function $e(je,Ye){var It=[],kt,jt=function(tr,or){var rr=tr.xbnd[or];rr!==null&&It.push(T.extendFlat({},tr,{x:rr}))};if(Ye.length){for(kt=0;kt<Ye.length;kt++)jt(Ye[kt],0);jt(Ye[kt-1],1)}return It}function qe(je,Ye){for(var It=[],kt={},jt=0;jt<Ye.length;jt++){var tr=Ye[jt];kt[tr.text2]?kt[tr.text2].push(tr.x):kt[tr.text2]=[tr.x]}for(var or in kt)It.push(Mt(je,T.interp(kt[or],.5),or));return It}function dt(je,Ye){var It=[],kt,jt,tr=Ye.length&&Ye[Ye.length-1].x<Ye[0].x,or=function(Ot,hr){var gr=Ot.xbnd[hr];gr!==null&&It.push(T.extendFlat({},Ot,{x:gr}))};if(je.showdividers&&Ye.length){for(kt=0;kt<Ye.length;kt++){var rr=Ye[kt];rr.text2!==jt&&or(rr,tr?1:0),jt=rr.text2}or(Ye[kt-1],tr?0:1)}return It}function bt(je,Ye){var It,kt,jt,tr;return je._selections[Ye].size()?(It=1/0,kt=-1/0,jt=1/0,tr=-1/0,je._selections[Ye].each(function(){var or=mr(this),rr=s.bBox(or.node().parentNode);It=Math.min(It,rr.top),kt=Math.max(kt,rr.bottom),jt=Math.min(jt,rr.left),tr=Math.max(tr,rr.right)})):(It=0,kt=0,jt=0,tr=0),{top:It,bottom:kt,left:jt,right:tr,height:kt-It,width:tr-jt}}Q.getTickSigns=function(je,Ye){var It=je._id.charAt(0),kt={x:"top",y:"right"}[It],jt=je.side===kt?1:-1,tr=[-1,1,jt,-jt],or=Ye?(je.minor||{}).ticks:je.ticks;return or!=="inside"==(It==="x")&&(tr=tr.map(function(rr){return-rr})),je.side&&tr.push({l:-1,t:-1,r:1,b:1}[je.side.charAt(0)]),tr},Q.makeTransTickFn=function(je){return je._id.charAt(0)==="x"?function(Ye){return v(je._offset+je.l2p(Ye.x),0)}:function(Ye){return v(0,je._offset+je.l2p(Ye.x))}},Q.makeTransTickLabelFn=function(je){var Ye=Qt(je),It=Ye[0],kt=Ye[1];return je._id.charAt(0)==="x"?function(jt){return v(It+je._offset+je.l2p(Gt(jt)),kt)}:function(jt){return v(kt,It+je._offset+je.l2p(Gt(jt)))}};function Gt(je){return je.periodX!==void 0?je.periodX:je.x}function Qt(je){var Ye=je.ticklabelposition||"",It=function(Vr){return Ye.indexOf(Vr)!==-1},kt=It("top"),jt=It("left"),tr=It("right"),or=It("bottom"),rr=It("inside"),Ot=or||jt||kt||tr;if(!Ot&&!rr)return[0,0];var hr=je.side,gr=Ot?(je.tickwidth||0)/2:0,pr=ce,vr=je.tickfont?je.tickfont.size:12;return(or||kt)&&(gr+=vr*$,pr+=(je.linewidth||0)/2),(jt||tr)&&(gr+=(je.linewidth||0)/2,pr+=ce),rr&&hr==="top"&&(pr-=vr*(1-$)),(jt||kt)&&(gr=-gr),(hr==="bottom"||hr==="right")&&(pr=-pr),[Ot?gr:0,rr?pr:0]}Q.makeTickPath=function(je,Ye,It,kt){kt||(kt={});var jt=kt.minor;if(jt&&!je.minor)return"";var tr=kt.len!==void 0?kt.len:jt?je.minor.ticklen:je.ticklen,or=je._id.charAt(0),rr=(je.linewidth||1)/2;return or==="x"?"M0,"+(Ye+rr*It)+"v"+tr*It:"M"+(Ye+rr*It)+",0h"+tr*It},Q.makeLabelFns=function(je,Ye,It){var kt=je.ticklabelposition||"",jt=function(zn){return kt.indexOf(zn)!==-1},tr=jt("top"),or=jt("left"),rr=jt("right"),Ot=jt("bottom"),hr=Ot||or||tr||rr,gr=jt("inside"),pr=kt==="inside"&&je.ticks==="inside"||!gr&&je.ticks==="outside"&&je.tickson!=="boundaries",vr=0,Vr=0,kr=pr?je.ticklen:0;if(gr?kr*=-1:hr&&(kr=0),pr&&(vr+=kr,It)){var _r=T.deg2rad(It);vr=kr*Math.cos(_r)+1,Vr=kr*Math.sin(_r)}je.showticklabels&&(pr||je.showline)&&(vr+=.2*je.tickfont.size),vr+=(je.linewidth||1)/2*(gr?-1:1);var pn={labelStandoff:vr,labelShift:Vr},en,Bn,Tn,Mr,Er=0,Gr=je.side,Ur=je._id.charAt(0),an=je.tickangle,gn;if(Ur==="x")gn=!gr&&Gr==="bottom"||gr&&Gr==="top",Mr=gn?1:-1,gr&&(Mr*=-1),en=Vr*Mr,Bn=Ye+vr*Mr,Tn=gn?1:-.2,Math.abs(an)===90&&(gr?Tn+=j:an===-90&&Gr==="bottom"?Tn=$:an===90&&Gr==="top"?Tn=j:Tn=.5,Er=j/2*(an/90)),pn.xFn=function(zn){return zn.dx+en+Er*zn.fontSize},pn.yFn=function(zn){return zn.dy+Bn+zn.fontSize*Tn},pn.anchorFn=function(zn,oa){if(hr){if(or)return"end";if(rr)return"start"}return!R(oa)||oa===0||oa===180?"middle":oa*Mr<0!==gr?"end":"start"},pn.heightFn=function(zn,oa,Zn){return oa<-60||oa>60?-.5*Zn:je.side==="top"!==gr?-Zn:0};else if(Ur==="y"){if(gn=!gr&&Gr==="left"||gr&&Gr==="right",Mr=gn?1:-1,gr&&(Mr*=-1),en=vr,Bn=Vr*Mr,Tn=0,!gr&&Math.abs(an)===90&&(an===-90&&Gr==="left"||an===90&&Gr==="right"?Tn=$:Tn=.5),gr){var mn=R(an)?+an:0;if(mn!==0){var Rn=T.deg2rad(mn);Er=Math.abs(Math.sin(Rn))*$*Mr,Tn=0}}pn.xFn=function(zn){return zn.dx+Ye-(en+zn.fontSize*Tn)*Mr+Er*zn.fontSize},pn.yFn=function(zn){return zn.dy+Bn+zn.fontSize*j},pn.anchorFn=function(zn,oa){return R(oa)&&Math.abs(oa)===90?"middle":gn?"end":"start"},pn.heightFn=function(zn,oa,Zn){return je.side==="right"&&(oa*=-1),oa<-30?-Zn:oa<30?-.5*Zn:0}}return pn};function At(je){return[je.text,je.x,je.axInfo,je.font,je.fontSize,je.fontColor].join("_")}Q.drawTicks=function(je,Ye,It){It=It||{};var kt=Ye._id+"tick",jt=[].concat(Ye.minor&&Ye.minor.ticks?It.vals.filter(function(or){return or.minor&&!or.noTick}):[]).concat(Ye.ticks?It.vals.filter(function(or){return!or.minor&&!or.noTick}):[]),tr=It.layer.selectAll("path."+kt).data(jt,At);tr.exit().remove(),tr.enter().append("path").classed(kt,1).classed("ticks",1).classed("crisp",It.crisp!==!1).each(function(or){return r.stroke(g.select(this),or.minor?Ye.minor.tickcolor:Ye.tickcolor)}).style("stroke-width",function(or){return s.crispRound(je,or.minor?Ye.minor.tickwidth:Ye.tickwidth,1)+"px"}).attr("d",It.path).style("display",null),lr(Ye,[B]),tr.attr("transform",It.transFn)},Q.drawGrid=function(je,Ye,It){if(It=It||{},Ye.tickmode!=="sync"){var kt=Ye._id+"grid",jt=Ye.minor&&Ye.minor.showgrid,tr=jt?It.vals.filter(function(en){return en.minor}):[],or=Ye.showgrid?It.vals.filter(function(en){return!en.minor}):[],rr=It.counterAxis;if(rr&&Q.shouldShowZeroLine(je,Ye,rr))for(var Ot=Ye.tickmode==="array",hr=0;hr<or.length;hr++){var gr=or[hr].x;if(Ot?!gr:Math.abs(gr)<Ye.dtick/100)if(or=or.slice(0,hr).concat(or.slice(hr+1)),Ot)hr--;else break}Ye._gw=s.crispRound(je,Ye.gridwidth,1);for(var pr=jt?s.crispRound(je,Ye.minor.gridwidth,1):0,vr=It.layer,Vr=It.minorLayer,kr=1;kr>=0;kr--){var _r=kr?vr:Vr;if(_r){var pn=_r.selectAll("path."+kt).data(kr?or:tr,At);pn.exit().remove(),pn.enter().append("path").classed(kt,1).classed("crisp",It.crisp!==!1),pn.attr("transform",It.transFn).attr("d",It.path).each(function(en){return r.stroke(g.select(this),en.minor?Ye.minor.gridcolor:Ye.gridcolor||"#ddd")}).style("stroke-dasharray",function(en){return s.dashStyle(en.minor?Ye.minor.griddash:Ye.griddash,en.minor?Ye.minor.gridwidth:Ye.gridwidth)}).style("stroke-width",function(en){return(en.minor?pr:Ye._gw)+"px"}).style("display",null),typeof It.path=="function"&&pn.attr("d",It.path)}}lr(Ye,[N,z])}},Q.drawZeroLine=function(je,Ye,It){It=It||It;var kt=Ye._id+"zl",jt=Q.shouldShowZeroLine(je,Ye,It.counterAxis),tr=It.layer.selectAll("path."+kt).data(jt?[{x:0,id:Ye._id}]:[]);tr.exit().remove(),tr.enter().append("path").classed(kt,1).classed("zl",1).classed("crisp",It.crisp!==!1).each(function(){It.layer.selectAll("path").sort(function(or,rr){return J(or.id,rr.id)})}),tr.attr("transform",It.transFn).attr("d",It.path).call(r.stroke,Ye.zerolinecolor||r.defaultLine).style("stroke-width",s.crispRound(je,Ye.zerolinewidth,Ye._gw||1)+"px").style("display",null),lr(Ye,[_])},Q.drawLabels=function(je,Ye,It){It=It||{};var kt=je._fullLayout,jt=Ye._id,tr=jt.charAt(0),or=It.cls||jt+"tick",rr=It.vals.filter(function(Zn){return Zn.text}),Ot=It.labelFns,hr=It.secondary?0:Ye.tickangle,gr=(Ye._prevTickAngles||{})[or],pr=It.layer.selectAll("g."+or).data(Ye.showticklabels?rr:[],At),vr=[];pr.enter().append("g").classed(or,1).append("text").attr("text-anchor","middle").each(function(Zn){var qn=g.select(this),Yn=je._promises.length;qn.call(y.positionText,Ot.xFn(Zn),Ot.yFn(Zn)).call(s.font,Zn.font,Zn.fontSize,Zn.fontColor).text(Zn.text).call(y.convertToTspans,je),je._promises[Yn]?vr.push(je._promises.pop().then(function(){Vr(qn,hr)})):Vr(qn,hr)}),lr(Ye,[U]),pr.exit().remove(),It.repositionOnUpdate&&pr.each(function(Zn){g.select(this).select("text").call(y.positionText,Ot.xFn(Zn),Ot.yFn(Zn))});function Vr(Zn,qn){Zn.each(function(Yn){var Qn=g.select(this),Tr=Qn.select(".text-math-group"),sn=Ot.anchorFn(Yn,qn),rn=It.transFn.call(Qn.node(),Yn)+(R(qn)&&+qn!=0?" rotate("+qn+","+Ot.xFn(Yn)+","+(Ot.yFn(Yn)-Yn.fontSize/2)+")":""),yn=y.lineCount(Qn),Vn=ne*Yn.fontSize,Mn=Ot.heightFn(Yn,R(qn)?+qn:0,(yn-1)*Vn);if(Mn&&(rn+=v(0,Mn)),Tr.empty()){var En=Qn.select("text");En.attr({transform:rn,"text-anchor":sn}),En.style("opacity",1),Ye._adjustTickLabelsOverflow&&Ye._adjustTickLabelsOverflow()}else{var Nn=s.bBox(Tr.node()).width,ta=Nn*{end:-.5,start:.5}[sn];Tr.attr("transform",rn+v(ta,0))}})}Ye._adjustTickLabelsOverflow=function(){var Zn=Ye.ticklabeloverflow;if(!(!Zn||Zn==="allow")){var qn=Zn.indexOf("hide")!==-1,Yn=Ye._id.charAt(0)==="x",Qn=0,Tr=Yn?je._fullLayout.width:je._fullLayout.height;if(Zn.indexOf("domain")!==-1){var sn=T.simpleMap(Ye.range,Ye.r2l);Qn=Ye.l2p(sn[0])+Ye._offset,Tr=Ye.l2p(sn[1])+Ye._offset}var rn=Math.min(Qn,Tr),yn=Math.max(Qn,Tr),Vn=Ye.side,Mn=1/0,En=-1/0;pr.each(function(Ya){var Zt=g.select(this),wr=Zt.select(".text-math-group");if(wr.empty()){var tn=s.bBox(Zt.node()),un=0;Yn?(tn.right>yn||tn.left<rn)&&(un=1):(tn.bottom>yn||tn.top+(Ye.tickangle?0:Ya.fontSize/4)<rn)&&(un=1);var cn=Zt.select("text");un?qn&&cn.style("opacity",0):(cn.style("opacity",1),Vn==="bottom"||Vn==="right"?Mn=Math.min(Mn,Yn?tn.top:tn.left):Mn=-1/0,Vn==="top"||Vn==="left"?En=Math.max(En,Yn?tn.bottom:tn.right):En=1/0)}});for(var Nn in kt._plots){var ta=kt._plots[Nn];if(!(Ye._id!==ta.xaxis._id&&Ye._id!==ta.yaxis._id)){var ba=Yn?ta.yaxis:ta.xaxis;ba&&(ba["_visibleLabelMin_"+Ye._id]=Mn,ba["_visibleLabelMax_"+Ye._id]=En)}}}},Ye._hideCounterAxisInsideTickLabels=function(Zn){var qn=Ye._id.charAt(0)==="x",Yn=[];for(var Qn in kt._plots){var Tr=kt._plots[Qn];Ye._id!==Tr.xaxis._id&&Ye._id!==Tr.yaxis._id||Yn.push(qn?Tr.yaxis:Tr.xaxis)}Yn.forEach(function(sn,rn){sn&&Xt(sn)&&(Zn||[_,z,N,B,U]).forEach(function(yn){var Vn=yn.K==="tick"&&yn.L==="text"&&Ye.ticklabelmode==="period",Mn=kt._plots[Ye._mainSubplot],En;yn.K===_.K?En=Mn.zerolinelayer.selectAll("."+Ye._id+"zl"):yn.K===z.K?En=Mn.minorGridlayer.selectAll("."+Ye._id):yn.K===N.K?En=Mn.gridlayer.selectAll("."+Ye._id):En=Mn[Ye._id.charAt(0)+"axislayer"],En.each(function(){var Nn=g.select(this);yn.L&&(Nn=Nn.selectAll(yn.L)),Nn.each(function(ta){var ba=Ye.l2p(Vn?Gt(ta):ta.x)+Ye._offset,Ya=g.select(this);ba<Ye["_visibleLabelMax_"+sn._id]&&ba>Ye["_visibleLabelMin_"+sn._id]?Ya.style("display","none"):yn.K==="tick"&&!rn&&Ya.style("display",null)})})})})},Vr(pr,gr+1?gr:hr);function kr(){return vr.length&&Promise.all(vr)}var _r=null;function pn(){if(Vr(pr,hr),rr.length&&tr==="x"&&!R(hr)&&(Ye.type!=="log"||String(Ye.dtick).charAt(0)!=="D")){_r=0;var Zn=0,qn=[],Yn;if(pr.each(function(tn){Zn=Math.max(Zn,tn.fontSize);var un=Ye.l2p(tn.x),cn=mr(this),In=s.bBox(cn.node());qn.push({top:0,bottom:10,height:10,left:un-In.width/2,right:un+In.width/2+2,width:In.width+2})}),(Ye.tickson==="boundaries"||Ye.showdividers)&&!It.secondary){var Qn=2;for(Ye.ticks&&(Qn+=Ye.tickwidth/2),Yn=0;Yn<qn.length;Yn++){var Tr=rr[Yn].xbnd,sn=qn[Yn];if(Tr[0]!==null&&sn.left-Ye.l2p(Tr[0])<Qn||Tr[1]!==null&&Ye.l2p(Tr[1])-sn.right<Qn){_r=90;break}}}else{var rn=rr.length,yn=Math.abs((rr[rn-1].x-rr[0].x)*Ye._m)/(rn-1),Vn=Ye.ticklabelposition||"",Mn=function(tn){return Vn.indexOf(tn)!==-1},En=Mn("top"),Nn=Mn("left"),ta=Mn("right"),ba=Mn("bottom"),Ya=ba||Nn||En||ta,Zt=Ya?(Ye.tickwidth||0)+2*ce:0,wr=yn<Zn*2.5||Ye.type==="multicategory"||Ye._name==="realaxis";for(Yn=0;Yn<qn.length-1;Yn++)if(T.bBoxIntersect(qn[Yn],qn[Yn+1],Zt)){_r=wr?90:30;break}}_r&&Vr(pr,_r)}}Ye._selections&&(Ye._selections[or]=pr);var en=[kr];Ye.automargin&&kt._redrawFromAutoMarginCount&&gr===90?(_r=90,en.push(function(){Vr(pr,gr)})):en.push(pn),Ye._tickAngles&&en.push(function(){Ye._tickAngles[or]=_r===null?R(hr)?hr:0:_r});var Bn=function(){var Zn=0,qn=0;return pr.each(function(Yn,Qn){var Tr=mr(this),sn=Tr.select(".text-math-group");if(sn.empty()){var rn;Ye._vals[Qn]&&(rn=Ye._vals[Qn].bb||s.bBox(Tr.node()),Ye._vals[Qn].bb=rn),Zn=Math.max(Zn,rn.width),qn=Math.max(qn,rn.height)}}),{labelsMaxW:Zn,labelsMaxH:qn}},Tn=Ye._anchorAxis;if(Tn&&(Tn.autorange||Tn.insiderange)&&Xt(Ye)&&!re(kt,Ye._id)&&(kt._insideTickLabelsUpdaterange||(kt._insideTickLabelsUpdaterange={}),Tn.autorange&&(kt._insideTickLabelsUpdaterange[Tn._name+".autorange"]=Tn.autorange,en.push(Bn)),Tn.insiderange)){var Mr=Bn(),Er=Ye._id.charAt(0)==="y"?Mr.labelsMaxW:Mr.labelsMaxH;Er+=2*ce,Ye.ticklabelposition==="inside"&&(Er+=Ye.ticklen||0);var Gr=Ye.side==="right"||Ye.side==="top"?1:-1,Ur=Gr===1?1:0,an=Gr===1?0:1,gn=[];gn[an]=Tn.range[an];var mn=Tn.d2p(Tn.range[Ur]),Rn=Tn.d2p(Tn.range[an]),zn=Math.abs(Rn-mn);zn-Er>0?(zn-=Er,Er*=1+Er/zn):Er=0,Ye._id.charAt(0)!=="y"&&(Er=-Er),gn[Ur]=Tn.p2d(Tn.d2p(Tn.range[Ur])+Gr*Er),Tn.autorange==="min"||Tn.autorange==="max reversed"?(gn[0]=null,Tn._rangeInitial0=void 0,Tn._rangeInitial1=void 0):(Tn.autorange==="max"||Tn.autorange==="min reversed")&&(gn[1]=null,Tn._rangeInitial0=void 0,Tn._rangeInitial1=void 0),kt._insideTickLabelsUpdaterange[Tn._name+".range"]=gn}var oa=T.syncOrAsync(en);return oa&&oa.then&&je._promises.push(oa),oa};function zt(je,Ye,It){var kt=Ye._id+"divider",jt=It.vals,tr=It.layer.selectAll("path."+kt).data(jt,At);tr.exit().remove(),tr.enter().insert("path",":first-child").classed(kt,1).classed("crisp",1).call(r.stroke,Ye.dividercolor).style("stroke-width",s.crispRound(je,Ye.dividerwidth,1)+"px"),tr.attr("transform",It.transFn).attr("d",It.path)}Q.getPxPosition=function(je,Ye){var It=je._fullLayout._size,kt=Ye._id.charAt(0),jt=Ye.side,tr;if(Ye.anchor!=="free"?tr=Ye._anchorAxis:kt==="x"?tr={_offset:It.t+(1-(Ye.position||0))*It.h,_length:0}:kt==="y"&&(tr={_offset:It.l+(Ye.position||0)*It.w+Ye._shift,_length:0}),jt==="top"||jt==="left")return tr._offset;if(jt==="bottom"||jt==="right")return tr._offset+tr._length};function $t(je){var Ye=je.title.font.size,It=(je.title.text.match(y.BR_TAG_ALL)||[]).length;return je.title.hasOwnProperty("standoff")?It?Ye*($+It*ne):Ye*$:It?Ye*(It+1)*ne:Ye}function Ar(je,Ye){var It=je._fullLayout,kt=Ye._id,jt=kt.charAt(0),tr=Ye.title.font.size,or;if(Ye.title.hasOwnProperty("standoff"))or=Ye._depth+Ye.title.standoff+$t(Ye);else{var rr=Xt(Ye);if(Ye.type==="multicategory")or=Ye._depth;else{var Ot=1.5*tr;rr&&(Ot=.5*tr,Ye.ticks==="outside"&&(Ot+=Ye.ticklen)),or=10+Ot+(Ye.linewidth?Ye.linewidth-1:0)}rr||(jt==="x"?or+=Ye.side==="top"?tr*(Ye.showticklabels?1:0):tr*(Ye.showticklabels?1.5:.5):or+=Ye.side==="right"?tr*(Ye.showticklabels?1:.5):tr*(Ye.showticklabels?.5:0))}var hr=Q.getPxPosition(je,Ye),gr,pr,vr;jt==="x"?(pr=Ye._offset+Ye._length/2,vr=Ye.side==="top"?hr-or:hr+or):(vr=Ye._offset+Ye._length/2,pr=Ye.side==="right"?hr+or:hr-or,gr={rotate:"-90",offset:0});var Vr;if(Ye.type!=="multicategory"){var kr=Ye._selections[Ye._id+"tick"];if(Vr={selection:kr,side:Ye.side},kr&&kr.node()&&kr.node().parentNode){var _r=s.getTranslate(kr.node().parentNode);Vr.offsetLeft=_r.x,Vr.offsetTop=_r.y}Ye.title.hasOwnProperty("standoff")&&(Vr.pad=0)}return Ye._titleStandoff=or,t.draw(je,kt+"title",{propContainer:Ye,propName:Ye._name+".title.text",placeholder:It._dfltTitle[jt],avoid:Vr,transform:gr,attributes:{x:pr,y:vr,"text-anchor":"middle"}})}Q.shouldShowZeroLine=function(je,Ye,It){var kt=T.simpleMap(Ye.range,Ye.r2l);return kt[0]*kt[1]<=0&&Ye.zeroline&&(Ye.type==="linear"||Ye.type==="-")&&!(Ye.rangebreaks&&Ye.maskBreaks(0)===O)&&(ut(Ye,0)||!Yt(je,Ye,It,kt)||Kt(je,Ye))},Q.clipEnds=function(je,Ye){return Ye.filter(function(It){return ut(je,It.x)})};function ut(je,Ye){var It=je.l2p(Ye);return It>1&&It<je._length-1}function Yt(je,Ye,It,kt){var jt=It._mainAxis;if(!jt)return;var tr=je._fullLayout,or=Ye._id.charAt(0),rr=Q.counterLetter(Ye._id),Ot=Ye._offset+(Math.abs(kt[0])<Math.abs(kt[1])==(or==="x")?0:Ye._length);function hr(kr){if(!kr.showline||!kr.linewidth)return!1;var _r=Math.max((kr.linewidth+Ye.zerolinewidth)/2,1);function pn(Tn){return typeof Tn=="number"&&Math.abs(Tn-Ot)<_r}if(pn(kr._mainLinePosition)||pn(kr._mainMirrorPosition))return!0;var en=kr._linepositions||{};for(var Bn in en)if(pn(en[Bn][0])||pn(en[Bn][1]))return!0}var gr=tr._plots[It._mainSubplot];if(!(gr.mainplotinfo||gr).overlays.length)return hr(It);for(var pr=Q.list(je,rr),vr=0;vr<pr.length;vr++){var Vr=pr[vr];if(Vr._mainAxis===jt&&hr(Vr))return!0}}function Kt(je,Ye){for(var It=je._fullData,kt=Ye._mainSubplot,jt=Ye._id.charAt(0),tr=0;tr<It.length;tr++){var or=It[tr];if(or.visible===!0&&or.xaxis+or.yaxis===kt&&(C.traceIs(or,"bar-like")&&or.orientation==={x:"h",y:"v"}[jt]||or.fill&&or.fill.charAt(or.fill.length-1)===jt))return!0}return!1}function mr(je){var Ye=g.select(je),It=Ye.select(".text-math-group");return It.empty()?Ye.select("text"):It}Q.allowAutoMargin=function(je){for(var Ye=Q.list(je,"",!0),It=0;It<Ye.length;It++){var kt=Ye[It];kt.automargin&&(a.allowAutoMargin(je,ur(kt)),kt.mirror&&a.allowAutoMargin(je,pt(kt))),C.getComponentMethod("rangeslider","isVisible")(kt)&&a.allowAutoMargin(je,st(kt))}};function ur(je){return je._id+".automargin"}function pt(je){return ur(je)+".mirror"}function st(je){return je._id+".rangeslider"}Q.swap=function(je,Ye){for(var It=xt(je,Ye),kt=0;kt<It.length;kt++)Dt(je,It[kt].x,It[kt].y)};function xt(je,Ye){var It=[],kt,jt;for(kt=0;kt<Ye.length;kt++){var tr=[],or=je._fullData[Ye[kt]].xaxis,rr=je._fullData[Ye[kt]].yaxis;if(!(!or||!rr)){for(jt=0;jt<It.length;jt++)(It[jt].x.indexOf(or)!==-1||It[jt].y.indexOf(rr)!==-1)&&tr.push(jt);if(!tr.length){It.push({x:[or],y:[rr]});continue}var Ot=It[tr[0]],hr;if(tr.length>1)for(jt=1;jt<tr.length;jt++)hr=It[tr[jt]],St(Ot.x,hr.x),St(Ot.y,hr.y);St(Ot.x,[or]),St(Ot.y,[rr])}}return It}function St(je,Ye){for(var It=0;It<Ye.length;It++)je.indexOf(Ye[It])===-1&&je.push(Ye[It])}function Dt(je,Ye,It){var kt=[],jt=[],tr=je.layout,or,rr;for(or=0;or<Ye.length;or++)kt.push(Q.getFromId(je,Ye[or]));for(or=0;or<It.length;or++)jt.push(Q.getFromId(je,It[or]));var Ot=Object.keys(n),hr=["anchor","domain","overlaying","position","side","tickangle","editType"],gr=["linear","log"];for(or=0;or<Ot.length;or++){var pr=Ot[or],vr=kt[0][pr],Vr=jt[0][pr],kr=!0,_r=!1,pn=!1;if(!(pr.charAt(0)==="_"||typeof vr=="function"||hr.indexOf(pr)!==-1)){for(rr=1;rr<kt.length&&kr;rr++){var en=kt[rr][pr];pr==="type"&&gr.indexOf(vr)!==-1&&gr.indexOf(en)!==-1&&vr!==en?_r=!0:en!==vr&&(kr=!1)}for(rr=1;rr<jt.length&&kr;rr++){var Bn=jt[rr][pr];pr==="type"&&gr.indexOf(Vr)!==-1&&gr.indexOf(Bn)!==-1&&Vr!==Bn?pn=!0:jt[rr][pr]!==Vr&&(kr=!1)}kr&&(_r&&(tr[kt[0]._name].type="linear"),pn&&(tr[jt[0]._name].type="linear"),Rt(tr,pr,kt,jt,je._fullLayout._dfltTitle))}}for(or=0;or<je._fullLayout.annotations.length;or++){var Tn=je._fullLayout.annotations[or];Ye.indexOf(Tn.xref)!==-1&&It.indexOf(Tn.yref)!==-1&&T.swapAttrs(tr.annotations[or],["?"])}}function Rt(je,Ye,It,kt,jt){var tr=T.nestedProperty,or=tr(je[It[0]._name],Ye).get(),rr=tr(je[kt[0]._name],Ye).get(),Ot;for(Ye==="title"&&(or&&or.text===jt.x&&(or.text=jt.y),rr&&rr.text===jt.y&&(rr.text=jt.x)),Ot=0;Ot<It.length;Ot++)tr(je,It[Ot]._name+"."+Ye).set(rr);for(Ot=0;Ot<kt.length;Ot++)tr(je,kt[Ot]._name+"."+Ye).set(or)}function Bt(je){return je._id==="angularaxis"}function Nt(je,Ye){for(var It=Ye._rangebreaks.length,kt=0;kt<It;kt++){var jt=Ye._rangebreaks[kt];if(je>=jt.min&&je<jt.max)return jt.max}return je}function Xt(je){return(je.ticklabelposition||"").indexOf("inside")!==-1}function lr(je,Ye){Xt(je._anchorAxis||{})&&je._hideCounterAxisInsideTickLabels&&je._hideCounterAxisInsideTickLabels(Ye)}function sr(je,Ye,It,kt){var jt=je.anchor!=="free"&&(je.overlaying===void 0||je.overlaying===!1)?je._id:je.overlaying,tr;kt?tr=je.side==="right"?Ye:-Ye:tr=Ye,jt in It||(It[jt]={}),je.side in It[jt]||(It[jt][je.side]=0),It[jt][je.side]+=tr}function dr(je,Ye){return je.autoshift?Ye[je.overlaying][je.side]:je.shift||0}},4322:function(W,H,e){var g=e(92770),R=e(71828),a=e(50606).BADNUM,C=R.isArrayOrTypedArray,T=R.isDateTime,v=R.cleanNumber,y=Math.round;W.exports=function(m,c,A){var h=m,l=A.noMultiCategory;if(C(h)&&!h.length)return"-";if(!l&&f(h))return"multicategory";if(l&&Array.isArray(h[0])){for(var p=[],M=0;M<h.length;M++)if(C(h[M]))for(var S=0;S<h[M].length;S++)p.push(h[M][S]);h=p}if(s(h,c))return"date";var P=A.autotypenumbers!=="strict";return o(h,P)?"category":r(h,P)?"linear":"-"};function t(u,m){return m?g(u):typeof u=="number"}function r(u,m){for(var c=u.length,A=0;A<c;A++)if(t(u[A],m))return!0;return!1}function s(u,m){for(var c=u.length,A=n(c),h=0,l=0,p={},M=0;M<c;M+=A){var S=y(M),P=u[S],x=String(P);p[x]||(p[x]=1,T(P,m)&&h++,g(P)&&l++)}return h>l*2}function n(u){return Math.max(1,(u-1)/1e3)}function o(u,m){for(var c=u.length,A=n(c),h=0,l=0,p={},M=0;M<c;M+=A){var S=y(M),P=u[S],x=String(P);if(!p[x]){p[x]=1;var E=typeof P;E==="boolean"?l++:(m?v(P)!==a:E==="number")?h++:E==="string"&&l++}}return l>h*2}function f(u){return C(u[0])&&C(u[1])}},71453:function(W,H,e){var g=e(92770),R=e(73972),a=e(71828),C=e(44467),T=e(85501),v=e(13838),y=e(26218),t=e(38701),r=e(96115),s=e(89426),n=e(15258),o=e(92128),f=e(23608),u=e(21994),m=e(85555).WEEKDAY_PATTERN,c=e(85555).HOUR_PATTERN;W.exports=function(M,S,P,x,E){var w=x.letter,i=x.font||{},L=x.splomStash||{},b=P("visible",!x.visibleDflt),O=S._template||{},_=S.type||O.type||"-",N;if(_==="date"){var z=R.getComponentMethod("calendars","handleDefaults");z(M,S,"calendar",x.calendar),x.noTicklabelmode||(N=P("ticklabelmode"))}var B="";(!x.noTicklabelposition||_==="multicategory")&&(B=a.coerce(M,S,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:N==="period"?["outside","inside"]:w==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),x.noTicklabeloverflow||P("ticklabeloverflow",B.indexOf("inside")!==-1?"hide past domain":_==="category"||_==="multicategory"?"allow":"hide past div"),u(S,E),f(M,S,P,x),n(M,S,P,x),_!=="category"&&!x.noHover&&P("hoverformat");var U=P("color"),F=U!==v.color.dflt?U:i.color,V=L.label||E._dfltTitle[w];if(s(M,S,P,_,x),!b)return S;P("title.text",V),a.coerceFont(P,"title.font",{family:i.family,size:a.bigFont(i.size),color:F}),y(M,S,P,_);var j=x.hasMinor;if(j&&(C.newContainer(S,"minor"),y(M,S,P,_,{isMinor:!0})),r(M,S,P,_,x),t(M,S,P,x),j){var $=x.isMinor;x.isMinor=!0,t(M,S,P,x),x.isMinor=$}o(M,S,P,{dfltColor:U,bgColor:x.bgColor,showGrid:x.showGrid,hasMinor:j,attributes:v}),j&&!S.minor.ticks&&!S.minor.showgrid&&delete S.minor,(S.showline||S.ticks)&&P("mirror");var ne=_==="multicategory";if(!x.noTickson&&(_==="category"||ne)&&(S.ticks||S.showgrid)){var oe;ne&&(oe="boundaries");var ce=P("tickson",oe);ce==="boundaries"&&delete S.ticklabelposition}if(ne){var Q=P("showdividers");Q&&(P("dividercolor"),P("dividerwidth"))}if(_==="date")if(T(M,S,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:A}),!S.rangebreaks.length)delete S.rangebreaks;else{for(var Z=0;Z<S.rangebreaks.length;Z++)if(S.rangebreaks[Z].pattern===m){S._hasDayOfWeekBreaks=!0;break}if(u(S,E),E._has("scattergl")||E._has("splom"))for(var K=0;K<x.data.length;K++){var J=x.data[K];(J.type==="scattergl"||J.type==="splom")&&(J.visible=!1,a.warn(J.type+" traces do not work on axes with rangebreaks. Setting trace "+J.index+" to `visible: false`."))}}return S};function A(p,M,S){function P(N,z){return a.coerce(p,M,v.rangebreaks,N,z)}var x=P("enabled");if(x){var E=P("bounds");if(E&&E.length>=2){var w="",i,L;if(E.length===2){for(i=0;i<2;i++)if(L=l(E[i]),L){w=m;break}}var b=P("pattern",w);if(b===m)for(i=0;i<2;i++)L=l(E[i]),L&&(M.bounds[i]=E[i]=L-1);if(b)for(i=0;i<2;i++)switch(L=E[i],b){case m:if(!g(L)){M.enabled=!1;return}if(L=+L,L!==Math.floor(L)||L<0||L>=7){M.enabled=!1;return}M.bounds[i]=E[i]=L;break;case c:if(!g(L)){M.enabled=!1;return}if(L=+L,L<0||L>24){M.enabled=!1;return}M.bounds[i]=E[i]=L;break}if(S.autorange===!1){var O=S.range;if(O[0]<O[1]){if(E[0]<O[0]&&E[1]>O[1]){M.enabled=!1;return}}else if(E[0]>O[0]&&E[1]<O[1]){M.enabled=!1;return}}}else{var _=P("values");if(_&&_.length)P("dvalue");else{M.enabled=!1;return}}}}var h={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function l(p){if(typeof p=="string")return h[p.substr(0,3).toLowerCase()]}},12663:function(W,H,e){var g=e(31562),R=g.FORMAT_LINK,a=g.DATE_FORMAT_LINK;function C(y,t){return{valType:"string",dflt:"",editType:"none",description:(t?T:v)("hover text",y)+["By default the values are formatted using "+(t?"generic number format":"`"+y+"axis.hoverformat`")+"."].join(" ")}}function T(y,t){return["Sets the "+y+" formatting rule"+(t?"for `"+t+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+R+"."].join(" ")}function v(y,t){return T(y,t)+[" And for dates see: "+a+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}W.exports={axisHoverFormat:C,descriptionOnlyNumbers:T,descriptionWithDates:v}},41675:function(W,H,e){var g=e(73972),R=e(85555);H.id2name=function(T){if(!(typeof T!="string"||!T.match(R.AX_ID_PATTERN))){var v=T.split(" ")[0].substr(1);return v==="1"&&(v=""),T.charAt(0)+"axis"+v}},H.name2id=function(T){if(T.match(R.AX_NAME_PATTERN)){var v=T.substr(5);return v==="1"&&(v=""),T.charAt(0)+v}},H.cleanId=function(T,v,y){var t=/( domain)$/.test(T);if(!(typeof T!="string"||!T.match(R.AX_ID_PATTERN))&&!(v&&T.charAt(0)!==v)&&!(t&&!y)){var r=T.split(" ")[0].substr(1).replace(/^0+/,"");return r==="1"&&(r=""),T.charAt(0)+r+(t&&y?" domain":"")}},H.list=function(C,T,v){var y=C._fullLayout;if(!y)return[];var t=H.listIds(C,T),r=new Array(t.length),s;for(s=0;s<t.length;s++){var n=t[s];r[s]=y[n.charAt(0)+"axis"+n.substr(1)]}if(!v){var o=y._subplots.gl3d||[];for(s=0;s<o.length;s++){var f=y[o[s]];T?r.push(f[T+"axis"]):r.push(f.xaxis,f.yaxis,f.zaxis)}}return r},H.listIds=function(C,T){var v=C._fullLayout;if(!v)return[];var y=v._subplots;return T?y[T+"axis"]:y.xaxis.concat(y.yaxis)},H.getFromId=function(C,T,v){var y=C._fullLayout;return T=T===void 0||typeof T!="string"?T:T.replace(" domain",""),v==="x"?T=T.replace(/y[0-9]*/,""):v==="y"&&(T=T.replace(/x[0-9]*/,"")),y[H.id2name(T)]},H.getFromTrace=function(C,T,v){var y=C._fullLayout,t=null;if(g.traceIs(T,"gl3d")){var r=T.scene;r.substr(0,5)==="scene"&&(t=y[r][v+"axis"])}else t=H.getFromId(C,T[v+"axis"]||v);return t},H.idSort=function(C,T){var v=C.charAt(0),y=T.charAt(0);return v!==y?v>y?1:-1:+(C.substr(1)||1)-+(T.substr(1)||1)},H.ref2id=function(C){return/^[xyz]/.test(C)?C.split(" ")[0]:!1};function a(C,T){if(T&&T.length){for(var v=0;v<T.length;v++)if(T[v][C])return!0}return!1}H.isLinked=function(C,T){return a(T,C._axisMatchGroups)||a(T,C._axisConstraintGroups)}},15258:function(W){function H(e,g){var R=g.dataAttr||e._id.charAt(0),a={},C,T,v;if(g.axData)C=g.axData;else for(C=[],T=0;T<g.data.length;T++){var y=g.data[T];y[R+"axis"]===e._id&&C.push(y)}for(T=0;T<C.length;T++){var t=C[T][R];for(v=0;v<t.length;v++){var r=t[v];r!=null&&(a[r]=1)}}return Object.keys(a)}W.exports=function(g,R,a,C){if(R.type==="category"){var T=g.categoryarray,v=Array.isArray(T)&&T.length>0,y;v&&(y="array");var t=a("categoryorder",y),r;t==="array"&&(r=a("categoryarray")),!v&&t==="array"&&(t=R.categoryorder="trace"),t==="trace"?R._initialCategories=[]:t==="array"?R._initialCategories=r.slice():(r=H(R,C).sort(),t==="category ascending"?R._initialCategories=r:t==="category descending"&&(R._initialCategories=r.reverse()))}}},66287:function(W,H,e){var g=e(92770),R=e(71828),a=e(50606),C=a.ONEDAY,T=a.ONEWEEK;H.dtick=function(v,y){var t=y==="log",r=y==="date",s=y==="category",n=r?C:1;if(!v)return n;if(g(v))return v=Number(v),v<=0?n:s?Math.max(1,Math.round(v)):r?Math.max(.1,v):v;if(typeof v!="string"||!(r||t))return n;var o=v.charAt(0),f=v.substr(1);return f=g(f)?Number(f):0,f<=0||!(r&&o==="M"&&f===Math.round(f)||t&&o==="L"||t&&o==="D"&&(f===1||f===2))?n:v},H.tick0=function(v,y,t,r){if(y==="date")return R.cleanDate(v,R.dateTick0(t,r%T===0?1:0));if(!(r==="D1"||r==="D2"))return g(v)?Number(v):0}},85555:function(W,H,e){var g=e(30587).counter;W.exports={idRegex:{x:g("x","( domain)?"),y:g("y","( domain)?")},attrRegex:g("[xy]axis"),xAxisMatch:g("xaxis"),yAxisMatch:g("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},99082:function(W,H,e){var g=e(71828),R=e(71739),a=e(41675).id2name,C=e(13838),T=e(42449),v=e(21994),y=e(50606).ALMOST_EQUAL,t=e(18783).FROM_BL;H.handleDefaults=function(c,A,h){var l=h.axIds,p=h.axHasImage,M=A._axisConstraintGroups=[],S=A._axisMatchGroups=[],P,x,E,w,i,L,b,O;for(P=0;P<l.length;P++)w=a(l[P]),i=c[w],L=A[w],r(i,L,{axIds:l,layoutOut:A,hasImage:p[w]});function _(ne,oe){for(P=0;P<ne.length;P++){x=ne[P];for(E in x)A[a(E)][oe]=x}}for(_(S,"_matchGroup"),P=0;P<M.length;P++){x=M[P];for(E in x)if(L=A[a(E)],L.fixedrange){for(var N in x){var z=a(N);(c[z]||{}).fixedrange===!1&&g.warn("fixedrange was specified as false for axis "+z+" but was overridden because another axis in its constraint group has fixedrange true"),A[z].fixedrange=!0}break}}for(P=0;P<M.length;){x=M[P];for(E in x){L=A[a(E)],L._matchGroup&&Object.keys(L._matchGroup).length===Object.keys(x).length&&(M.splice(P,1),P--);break}P++}_(M,"_constraintGroup");var B=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],U=!1,F=!1;function V(){O=L[b],b==="rangebreaks"&&(F=L._hasDayOfWeekBreaks)}for(P=0;P<S.length;P++){x=S[P];for(var j=0;j<B.length;j++){b=B[j],O=null;var $;for(E in x)if(w=a(E),i=c[w],L=A[w],b in L){if(!L.matches&&($=L,b in i)){V();break}O===null&&b in i&&V()}if(b==="range"&&O&&i.range&&i.range.length===2&&i.range[0]!==null&&i.range[1]!==null&&(U=!0),b==="autorange"&&O===null&&U&&(O=!1),O===null&&b in $&&(O=$[b]),O!==null)for(E in x)L=A[a(E)],L[b]=b==="range"?O.slice():O,b==="rangebreaks"&&(L._hasDayOfWeekBreaks=F,v(L,A))}}};function r(c,A,h){var l=h.axIds,p=h.layoutOut,M=h.hasImage,S=p._axisConstraintGroups,P=p._axisMatchGroups,x=A._id,E=x.charAt(0),w=((p._splomAxes||{})[E]||{})[x]||{},i=A._id,L=i.charAt(0)==="x";A._matchGroup=null,A._constraintGroup=null;function b(Z,K){return g.coerce(c,A,C,Z,K)}b("constrain",M?"domain":"range"),g.coerce(c,A,{constraintoward:{valType:"enumerated",values:L?["left","center","right"]:["bottom","middle","top"],dflt:L?"center":"middle"}},"constraintoward");var O=A.type,_,N,z=[];for(_=0;_<l.length;_++)if(N=l[_],N!==i){var B=p[a(N)];B.type===O&&z.push(N)}var U=n(S,i);if(U){var F=[];for(_=0;_<z.length;_++)N=z[_],U[N]||F.push(N);z=F}var V=z.length,j,$;V&&(c.matches||w.matches)&&(j=g.coerce(c,A,{matches:{valType:"enumerated",values:z,dflt:z.indexOf(w.matches)!==-1?w.matches:void 0}},"matches"));var ne=M&&!L?A.anchor:void 0;if(V&&!j&&(c.scaleanchor||ne)&&($=g.coerce(c,A,{scaleanchor:{valType:"enumerated",values:z.concat([!1])}},"scaleanchor",ne)),j){A._matchGroup=o(P,i,j,1);var oe=p[a(j)],ce=s(p,A)/s(p,oe);L!==(j.charAt(0)==="x")&&(ce=(L?"x":"y")+ce),o(S,i,j,ce)}else c.matches&&l.indexOf(c.matches)!==-1&&g.warn("ignored "+A._name+'.matches: "'+c.matches+'" to avoid an infinite loop');if($){var Q=b("scaleratio");Q||(Q=A.scaleratio=1),o(S,i,$,Q)}else c.scaleanchor&&l.indexOf(c.scaleanchor)!==-1&&g.warn("ignored "+A._name+'.scaleanchor: "'+c.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function s(c,A){var h=A.domain;return h||(h=c[a(A.overlaying)].domain),h[1]-h[0]}function n(c,A){for(var h=0;h<c.length;h++)if(c[h][A])return c[h];return null}function o(c,A,h,l){var p,M,S,P,x,E=n(c,A);E===null?(E={},E[A]=1,x=c.length,c.push(E)):x=c.indexOf(E);var w=Object.keys(E);for(p=0;p<c.length;p++)if(S=c[p],p!==x&&S[h]){var i=S[h];for(M=0;M<w.length;M++)P=w[M],S[P]=f(i,f(l,E[P]));c.splice(x,1);return}if(l!==1)for(M=0;M<w.length;M++){var L=w[M];E[L]=f(l,E[L])}E[h]=1}function f(c,A){var h="",l="",p,M;typeof c=="string"&&(h=c.match(/^[xy]*/)[0],p=h.length,c=+c.substr(p)),typeof A=="string"&&(l=A.match(/^[xy]*/)[0],M=l.length,A=+A.substr(M));var S=c*A;return!p&&!M?S:!p||!M||h.charAt(0)===l.charAt(0)?h+l+c*A:p===M?S:(p>M?h.substr(M):l.substr(p))+S}function u(c,A){for(var h=A._size,l=h.h/h.w,p={},M=Object.keys(c),S=0;S<M.length;S++){var P=M[S],x=c[P];if(typeof x=="string"){var E=x.match(/^[xy]*/)[0],w=E.length;x=+x.substr(w);for(var i=E.charAt(0)==="y"?l:1/l,L=0;L<w;L++)x*=i}p[P]=x}return p}H.enforce=function(A){var h=A._fullLayout,l=h._axisConstraintGroups||[],p,M,S,P,x,E,w,i;for(p=0;p<l.length;p++){S=u(l[p],h);var L=Object.keys(S),b=1/0,O=0,_=1/0,N={},z={},B=!1;for(M=0;M<L.length;M++)P=L[M],z[P]=x=h[a(P)],x._inputDomain?x.domain=x._inputDomain.slice():x._inputDomain=x.domain.slice(),x._inputRange||(x._inputRange=x.range.slice()),x.setScale(),N[P]=E=Math.abs(x._m)/S[P],b=Math.min(b,E),(x.constrain==="domain"||!x._constraintShrinkable)&&(_=Math.min(_,E)),delete x._constraintShrinkable,O=Math.max(O,E),x.constrain==="domain"&&(B=!0);if(!(b>y*O&&!B)){for(M=0;M<L.length;M++)if(P=L[M],E=N[P],x=z[P],w=x.constrain,E!==_||w==="domain")if(i=E/_,w==="range")T(x,i);else{var U=x._inputDomain,F=(x.domain[1]-x.domain[0])/(U[1]-U[0]),V=(x.r2l(x.range[1])-x.r2l(x.range[0]))/(x.r2l(x._inputRange[1])-x.r2l(x._inputRange[0]));if(i/=F,i*V<1){x.domain=x._input.domain=U.slice(),T(x,i);continue}if(V<1&&(x.range=x._input.range=x._inputRange.slice(),i*=V),x.autorange){var j=x.r2l(x.range[0]),$=x.r2l(x.range[1]),ne=(j+$)/2,oe=ne,ce=ne,Q=Math.abs($-ne),Z=ne-Q*i*1.0001,K=ne+Q*i*1.0001,J=R.makePadFn(h,x,0),re=R.makePadFn(h,x,1);m(x,i);var le=Math.abs(x._m),q=R.concatExtremes(A,x),ee=q.min,ue=q.max,se,he;for(he=0;he<ee.length;he++)se=ee[he].val-J(ee[he])/le,se>Z&&se<oe&&(oe=se);for(he=0;he<ue.length;he++)se=ue[he].val+re(ue[he])/le,se<K&&se>ce&&(ce=se);var me=(ce-oe)/(2*Q);i/=me,oe=x.l2r(oe),ce=x.l2r(ce),x.range=x._input.range=j<$?[oe,ce]:[ce,oe]}m(x,i)}}}},H.getAxisGroup=function(A,h){for(var l=A._axisMatchGroups,p=0;p<l.length;p++){var M=l[p];if(M[h])return"g"+p}return h},H.clean=function(A,h){if(h._inputDomain){for(var l=!1,p=h._id,M=A._fullLayout._axisConstraintGroups,S=0;S<M.length;S++)if(M[S][p]){l=!0;break}(!l||h.constrain!=="domain")&&(h._input.domain=h.domain=h._inputDomain,delete h._inputDomain)}};function m(c,A){var h=c._inputDomain,l=t[c.constraintoward],p=h[0]+(h[1]-h[0])*l;c.domain=c._input.domain=[p+(h[0]-p)/A,p+(h[1]-p)/A],c.setScale()}},29323:function(W,H,e){var g=e(39898),R=e(71828),a=R.numberFormat,C=e(84267),T=e(38520),v=e(73972),y=R.strTranslate,t=e(63893),r=e(7901),s=e(91424),n=e(30211),o=e(89298),f=e(6964),u=e(28569),m=e(64505),c=m.selectingOrDrawing,A=m.freeMode,h=e(18783).FROM_TL,l=e(33306),p=e(61549).redrawReglTraces,M=e(74875),S=e(41675).getFromId,P=e(47322).prepSelect,x=e(47322).clearOutline,E=e(47322).selectOnClick,w=e(42449),i=e(85555),L=i.MINDRAG,b=i.MINZOOM,O=!0;function _(se,he,me,Ce,Te,Oe,Ne,Le){var be=se._fullLayout._zoomlayer,Ae=Ne+Le==="nsew",He=(Ne+Le).length===1,Ve,ke,Ge,it,et,tt,at,vt,yt,gt,Mt,Ct,Vt,Je,ze,_e,Be,De,we,xe,Ee,Pe,Ue;me+=he.yaxis._shift;function $e(){if(Ve=he.xaxis,ke=he.yaxis,yt=Ve._length,gt=ke._length,at=Ve._offset,vt=ke._offset,Ge={},Ge[Ve._id]=Ve,it={},it[ke._id]=ke,Ne&&Le)for(var rr=he.overlays,Ot=0;Ot<rr.length;Ot++){var hr=rr[Ot].xaxis;Ge[hr._id]=hr;var gr=rr[Ot].yaxis;it[gr._id]=gr}et=ue(Ge),tt=ue(it),Vt=B(et,Le),Je=B(tt,Ne),ze=!Je&&!Vt,Ct=q(se,se._fullLayout._axisMatchGroups,Ge,it),Mt=q(se,se._fullLayout._axisConstraintGroups,Ge,it,Ct);var pr=Mt.isSubplotConstrained||Ct.isSubplotConstrained;_e=Le||pr,Be=Ne||pr;var vr=se._fullLayout;De=vr._has("scattergl"),we=vr._has("splom"),xe=vr._has("svg")}$e();var qe=$(Je+Vt,se._fullLayout.dragmode,Ae),dt=z(he,Ne+Le+"drag",qe,me,Ce,Te,Oe);if(ze&&!Ae)return dt.onmousedown=null,dt.style.pointerEvents="none",dt;var bt={element:dt,gd:se,plotinfo:he};bt.prepFn=function(rr,Ot,hr){var gr=bt.dragmode,pr=se._fullLayout.dragmode;pr!==gr&&(bt.dragmode=pr),$e(),Pe=se._fullLayout._invScaleX,Ue=se._fullLayout._invScaleY,ze||(Ae?rr.shiftKey?pr==="pan"?pr="zoom":c(pr)||(pr="pan"):rr.ctrlKey&&(pr="pan"):pr="pan"),A(pr)?bt.minDrag=1:bt.minDrag=void 0,c(pr)?(bt.xaxes=et,bt.yaxes=tt,P(rr,Ot,hr,bt,pr)):(bt.clickFn=Qt,c(gr)&&Gt(),ze||(pr==="zoom"?(bt.moveFn=xt,bt.doneFn=Dt,bt.minDrag=1,st(rr,Ot,hr)):pr==="pan"&&(bt.moveFn=sr,bt.doneFn=It))),se._fullLayout._redrag=function(){var vr=se._dragdata;if(vr&&vr.element===dt){var Vr=se._fullLayout.dragmode;c(Vr)||($e(),kt([0,0,yt,gt]),bt.moveFn(vr.dx,vr.dy))}}};function Gt(){bt.plotinfo.selection=!1,x(se)}function Qt(rr,Ot){var hr=bt.gd;if(hr._fullLayout._activeShapeIndex>=0){hr._fullLayout._deactivateShape(hr);return}var gr=hr._fullLayout.clickmode;if(Z(hr),rr===2&&!He&&Ye(),Ae)gr.indexOf("select")>-1&&E(Ot,hr,et,tt,he.id,bt),gr.indexOf("event")>-1&&n.click(hr,Ot,he.id);else if(rr===1&&He){var pr=Ne?ke:Ve,vr=Ne==="s"||Le==="w"?0:1,Vr=pr._name+".range["+vr+"]",kr=U(pr,vr),_r="left",pn="middle";if(pr.fixedrange)return;Ne?(pn=Ne==="n"?"top":"bottom",pr.side==="right"&&(_r="right")):Le==="e"&&(_r="right"),hr._context.showAxisRangeEntryBoxes&&g.select(dt).call(t.makeEditable,{gd:hr,immediate:!0,background:hr._fullLayout.paper_bgcolor,text:String(kr),fill:pr.tickfont?pr.tickfont.color:"#444",horizontalAlign:_r,verticalAlign:pn}).on("edit",function(en){var Bn=pr.d2r(en);Bn!==void 0&&v.call("_guiRelayout",hr,Vr,Bn)})}}u.init(bt);var At,zt,$t,Ar,ut,Yt,Kt,mr,ur,pt;function st(rr,Ot,hr){var gr=dt.getBoundingClientRect();At=Ot-gr.left,zt=hr-gr.top,se._fullLayout._calcInverseTransform(se);var pr=R.apply3DTransform(se._fullLayout._invTransform)(At,zt);At=pr[0],zt=pr[1],$t={l:At,r:At,w:0,t:zt,b:zt,h:0},Ar=se._hmpixcount?se._hmlumcount/se._hmpixcount:C(se._fullLayout.plot_bgcolor).getLuminance(),ut="M0,0H"+yt+"V"+gt+"H0V0",Yt=!1,Kt="xy",pt=!1,mr=ne(be,Ar,at,vt,ut),ur=oe(be,at,vt)}function xt(rr,Ot){if(se._transitioningWithDuration)return!1;var hr=Math.max(0,Math.min(yt,Pe*rr+At)),gr=Math.max(0,Math.min(gt,Ue*Ot+zt)),pr=Math.abs(hr-At),vr=Math.abs(gr-zt);$t.l=Math.min(At,hr),$t.r=Math.max(At,hr),$t.t=Math.min(zt,gr),$t.b=Math.max(zt,gr);function Vr(){Kt="",$t.r=$t.l,$t.t=$t.b,ur.attr("d","M0,0Z")}if(Mt.isSubplotConstrained)pr>b||vr>b?(Kt="xy",pr/yt>vr/gt?(vr=pr*gt/yt,zt>gr?$t.t=zt-vr:$t.b=zt+vr):(pr=vr*yt/gt,At>hr?$t.l=At-pr:$t.r=At+pr),ur.attr("d",le($t))):Vr();else if(Ct.isSubplotConstrained)if(pr>b||vr>b){Kt="xy";var kr=Math.min($t.l/yt,(gt-$t.b)/gt),_r=Math.max($t.r/yt,(gt-$t.t)/gt);$t.l=kr*yt,$t.r=_r*yt,$t.b=(1-kr)*gt,$t.t=(1-_r)*gt,ur.attr("d",le($t))}else Vr();else!Je||vr<Math.min(Math.max(pr*.6,L),b)?pr<L||!Vt?Vr():($t.t=0,$t.b=gt,Kt="x",ur.attr("d",J($t,zt))):!Vt||pr<Math.min(vr*.6,b)?($t.l=0,$t.r=yt,Kt="y",ur.attr("d",re($t,At))):(Kt="xy",ur.attr("d",le($t)));$t.w=$t.r-$t.l,$t.h=$t.b-$t.t,Kt&&(pt=!0),se._dragged=pt,ce(mr,ur,$t,ut,Yt,Ar),St(),se.emit("plotly_relayouting",Ee),Yt=!0}function St(){Ee={},(Kt==="xy"||Kt==="x")&&(F(et,$t.l/yt,$t.r/yt,Ee,Mt.xaxes),dr("x",Ee)),(Kt==="xy"||Kt==="y")&&(F(tt,(gt-$t.b)/gt,(gt-$t.t)/gt,Ee,Mt.yaxes),dr("y",Ee))}function Dt(){St(),Z(se),It(),K(se)}var Rt=[0,0,yt,gt],Bt=null,Nt=i.REDRAWDELAY,Xt=he.mainplot?se._fullLayout._plots[he.mainplot]:he;function lr(rr){if(!se._context._scrollZoom.cartesian&&!se._fullLayout._enablescrollzoom)return;if(Gt(),se._transitioningWithDuration){rr.preventDefault(),rr.stopPropagation();return}$e(),clearTimeout(Bt);var Ot=-rr.deltaY;if(isFinite(Ot)||(Ot=rr.wheelDelta/10),!isFinite(Ot)){R.log("Did not find wheel motion attributes: ",rr);return}var hr=Math.exp(-Math.min(Math.max(Ot,-20),20)/200),gr=Xt.draglayer.select(".nsewdrag").node().getBoundingClientRect(),pr=(rr.clientX-gr.left)/gr.width,vr=(gr.bottom-rr.clientY)/gr.height,Vr;function kr(_r,pn,en){if(_r.fixedrange)return;var Bn=R.simpleMap(_r.range,_r.r2l),Tn=Bn[0]+(Bn[1]-Bn[0])*pn;function Mr(Er){return _r.l2r(Tn+(Er-Tn)*en)}_r.range=Bn.map(Mr)}if(_e){for(Le||(pr=.5),Vr=0;Vr<et.length;Vr++)kr(et[Vr],pr,hr);dr("x"),Rt[2]*=hr,Rt[0]+=Rt[2]*pr*(1/hr-1)}if(Be){for(Ne||(vr=.5),Vr=0;Vr<tt.length;Vr++)kr(tt[Vr],vr,hr);dr("y"),Rt[3]*=hr,Rt[1]+=Rt[3]*(1-vr)*(1/hr-1)}kt(Rt),je(),se.emit("plotly_relayouting",Ee),Bt=setTimeout(function(){se._fullLayout&&(Rt=[0,0,yt,gt],It())},Nt),rr.preventDefault()}Ne.length*Le.length!==1&&ee(dt,lr);function sr(rr,Ot){if(rr=rr*Pe,Ot=Ot*Ue,se._transitioningWithDuration)return;if(se._fullLayout._replotting=!0,Vt==="ew"||Je==="ns"){var hr=Vt?-rr:0,gr=Je?-Ot:0;if(Ct.isSubplotConstrained){if(Vt&&Je){var pr=(rr/yt-Ot/gt)/2;rr=pr*yt,Ot=-pr*gt,hr=-rr,gr=-Ot}Je?hr=-gr*yt/gt:gr=-hr*gt/yt}Vt&&(V(et,rr),dr("x")),Je&&(V(tt,Ot),dr("y")),kt([hr,gr,yt,gt]),je(),se.emit("plotly_relayouting",Ee);return}function vr(Mr,Er,Gr){for(var Ur=1-Er,an,gn,mn=0;mn<Mr.length;mn++){var Rn=Mr[mn];if(!Rn.fixedrange){an=Rn,gn=Rn._rl[Ur]+(Rn._rl[Er]-Rn._rl[Ur])/j(Gr/Rn._length);var zn=Rn.l2r(gn);zn!==!1&&zn!==void 0&&(Rn.range[Er]=zn)}}return an._length*(an._rl[Er]-gn)/(an._rl[Er]-an._rl[Ur])}var Vr=Vt==="w"==(Je==="n")?1:-1;if(Vt&&Je&&(Mt.isSubplotConstrained||Ct.isSubplotConstrained)){var kr=(rr/yt+Vr*Ot/gt)/2;rr=kr*yt,Ot=Vr*kr*gt}var _r,pn;if(Vt==="w"?rr=vr(et,0,rr):Vt==="e"?rr=vr(et,1,-rr):Vt||(rr=0),Je==="n"?Ot=vr(tt,1,Ot):Je==="s"?Ot=vr(tt,0,-Ot):Je||(Ot=0),_r=Vt==="w"?rr:0,pn=Je==="n"?Ot:0,Mt.isSubplotConstrained&&!Ct.isSubplotConstrained||Ct.isSubplotConstrained&&Vt&&Je&&Vr>0){var en;if(Ct.isSubplotConstrained||!Vt&&Je.length===1){for(en=0;en<et.length;en++)et[en].range=et[en]._r.slice(),w(et[en],1-Ot/gt);rr=Ot*yt/gt,_r=rr/2}if(Ct.isSubplotConstrained||!Je&&Vt.length===1){for(en=0;en<tt.length;en++)tt[en].range=tt[en]._r.slice(),w(tt[en],1-rr/yt);Ot=rr*gt/yt,pn=Ot/2}}(!Ct.isSubplotConstrained||!Je)&&dr("x"),(!Ct.isSubplotConstrained||!Vt)&&dr("y");var Bn=yt-rr,Tn=gt-Ot;Ct.isSubplotConstrained&&!(Vt&&Je)&&(Vt?(pn=_r?0:rr*gt/yt,Tn=Bn*gt/yt):(_r=pn?0:Ot*yt/gt,Bn=Tn*yt/gt)),kt([_r,pn,Bn,Tn]),je(),se.emit("plotly_relayouting",Ee)}function dr(rr,Ot){for(var hr=Ct.isSubplotConstrained?{x:tt,y:et}[rr]:Ct[rr+"axes"],gr=Ct.isSubplotConstrained?{x:et,y:tt}[rr]:[],pr=0;pr<hr.length;pr++){var vr=hr[pr],Vr=vr._id,kr=Ct.xLinks[Vr]||Ct.yLinks[Vr],_r=gr[0]||Ge[kr]||it[kr];_r&&(Ot?(Ot[vr._name+".range[0]"]=Ot[_r._name+".range[0]"],Ot[vr._name+".range[1]"]=Ot[_r._name+".range[1]"]):vr.range=_r.range.slice())}}function je(){var rr=[],Ot;function hr(Vr){for(Ot=0;Ot<Vr.length;Ot++)Vr[Ot].fixedrange||rr.push(Vr[Ot]._id)}function gr(Vr,kr){for(Ot=0;Ot<Vr.length;Ot++){var _r=Vr[Ot],pn=_r[kr];!_r.fixedrange&&pn.tickmode==="sync"&&rr.push(pn._id)}}for(_e&&(hr(et),hr(Mt.xaxes),hr(Ct.xaxes),gr(he.overlays,"xaxis")),Be&&(hr(tt),hr(Mt.yaxes),hr(Ct.yaxes),gr(he.overlays,"yaxis")),Ee={},Ot=0;Ot<rr.length;Ot++){var pr=rr[Ot],vr=S(se,pr);o.drawOne(se,vr,{skipTitle:!0}),Ee[vr._name+".range[0]"]=vr.range[0],Ee[vr._name+".range[1]"]=vr.range[1]}o.redrawComponents(se,rr)}function Ye(){if(!se._transitioningWithDuration){var rr=se._context.doubleClick,Ot=[];Vt&&(Ot=Ot.concat(et)),Je&&(Ot=Ot.concat(tt)),Ct.xaxes&&(Ot=Ot.concat(Ct.xaxes)),Ct.yaxes&&(Ot=Ot.concat(Ct.yaxes));var hr={},gr,pr;if(rr==="reset+autosize")for(rr="autosize",pr=0;pr<Ot.length;pr++){gr=Ot[pr];var vr=gr._rangeInitial0,Vr=gr._rangeInitial1,kr=vr!==void 0||Vr!==void 0;if(kr&&(vr!==void 0&&vr!==gr.range[0]||Vr!==void 0&&Vr!==gr.range[1])||!kr&&gr.autorange!==!0){rr="reset";break}}if(rr==="autosize")for(pr=0;pr<Ot.length;pr++)gr=Ot[pr],gr.fixedrange||(hr[gr._name+".autorange"]=!0);else if(rr==="reset"){for((Vt||Mt.isSubplotConstrained)&&(Ot=Ot.concat(Mt.xaxes)),Je&&!Mt.isSubplotConstrained&&(Ot=Ot.concat(Mt.yaxes)),Mt.isSubplotConstrained&&(Vt?Je||(Ot=Ot.concat(tt)):Ot=Ot.concat(et)),pr=0;pr<Ot.length;pr++)if(gr=Ot[pr],!gr.fixedrange){var _r=gr._name,pn=gr._autorangeInitial;gr._rangeInitial0===void 0&&gr._rangeInitial1===void 0?hr[_r+".autorange"]=!0:gr._rangeInitial0===void 0?(hr[_r+".autorange"]=pn,hr[_r+".range"]=[null,gr._rangeInitial1]):gr._rangeInitial1===void 0?(hr[_r+".range"]=[gr._rangeInitial0,null],hr[_r+".autorange"]=pn):hr[_r+".range"]=[gr._rangeInitial0,gr._rangeInitial1]}}se.emit("plotly_doubleclick",null),v.call("_guiRelayout",se,hr)}}function It(){kt([0,0,yt,gt]),R.syncOrAsync([M.previousPromises,function(){se._fullLayout._replotting=!1,v.call("_guiRelayout",se,Ee)}],se)}function kt(rr){var Ot=se._fullLayout,hr=Ot._plots,gr=Ot._subplots.cartesian,pr,vr,Vr,kr;if(we&&v.subplotsRegistry.splom.drag(se),De){for(pr=0;pr<gr.length;pr++)if(vr=hr[gr[pr]],Vr=vr.xaxis,kr=vr.yaxis,vr._scene){var _r=R.simpleMap(Vr.range,Vr.r2l),pn=R.simpleMap(kr.range,kr.r2l);Vr.limitRange&&Vr.limitRange(),kr.limitRange&&kr.limitRange(),_r=Vr.range,pn=kr.range,vr._scene.update({range:[_r[0],pn[0],_r[1],pn[1]]})}}if((we||De)&&(l(se),p(se)),xe){var en=rr[2]/Ve._length,Bn=rr[3]/ke._length;for(pr=0;pr<gr.length;pr++){vr=hr[gr[pr]],Vr=vr.xaxis,kr=vr.yaxis;var Tn=(_e||Ct.isSubplotConstrained)&&!Vr.fixedrange&&Ge[Vr._id],Mr=(Be||Ct.isSubplotConstrained)&&!kr.fixedrange&&it[kr._id],Er,Gr,Ur,an;if(Tn?(Er=en,Ur=Le||Ct.isSubplotConstrained?rr[0]:or(Vr,Er)):Ct.xaHash[Vr._id]?(Er=en,Ur=rr[0]*Vr._length/Ve._length):Ct.yaHash[Vr._id]?(Er=Bn,Ur=Je==="ns"?-rr[1]*Vr._length/ke._length:or(Vr,Er,{n:"top",s:"bottom"}[Je])):(Er=jt(Vr,en,Bn),Ur=tr(Vr,Er)),Er>1&&(Vr.maxallowed!==void 0&&_e===(Vr.range[0]<Vr.range[1]?"e":"w")||Vr.minallowed!==void 0&&_e===(Vr.range[0]<Vr.range[1]?"w":"e"))&&(Er=1,Ur=0),Mr?(Gr=Bn,an=Ne||Ct.isSubplotConstrained?rr[1]:or(kr,Gr)):Ct.yaHash[kr._id]?(Gr=Bn,an=rr[1]*kr._length/ke._length):Ct.xaHash[kr._id]?(Gr=en,an=Vt==="ew"?-rr[0]*kr._length/Ve._length:or(kr,Gr,{e:"right",w:"left"}[Vt])):(Gr=jt(kr,en,Bn),an=tr(kr,Gr)),Gr>1&&(kr.maxallowed!==void 0&&Be===(kr.range[0]<kr.range[1]?"n":"s")||kr.minallowed!==void 0&&Be===(kr.range[0]<kr.range[1]?"s":"n"))&&(Gr=1,an=0),!(!Er&&!Gr)){Er||(Er=1),Gr||(Gr=1);var gn=Vr._offset-Ur/Er,mn=kr._offset-an/Gr;vr.clipRect.call(s.setTranslate,Ur,an).call(s.setScale,Er,Gr),vr.plot.call(s.setTranslate,gn,mn).call(s.setScale,1/Er,1/Gr),(Er!==vr.xScaleFactor||Gr!==vr.yScaleFactor)&&(s.setPointGroupScale(vr.zoomScalePts,Er,Gr),s.setTextPointsScale(vr.zoomScaleTxt,Er,Gr)),s.hideOutsideRangePoints(vr.clipOnAxisFalseTraces,vr),vr.xScaleFactor=Er,vr.yScaleFactor=Gr}}}}function jt(rr,Ot,hr){return rr.fixedrange?0:_e&&Mt.xaHash[rr._id]?Ot:Be&&(Mt.isSubplotConstrained?Mt.xaHash:Mt.yaHash)[rr._id]?hr:0}function tr(rr,Ot){return Ot?(rr.range=rr._r.slice(),w(rr,Ot),or(rr,Ot)):0}function or(rr,Ot,hr){return rr._length*(1-Ot)*h[hr||rr.constraintoward||"middle"]}return dt}function N(se,he,me,Ce){var Te=R.ensureSingle(se.draglayer,he,me,function(Oe){Oe.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",se.id)});return Te.call(f,Ce),Te.node()}function z(se,he,me,Ce,Te,Oe,Ne){var Le=N(se,"rect",he,me);return g.select(Le).call(s.setRect,Ce,Te,Oe,Ne),Le}function B(se,he){for(var me=0;me<se.length;me++)if(!se[me].fixedrange)return he;return""}function U(se,he){var me=se.range[he],Ce=Math.abs(me-se.range[1-he]),Te;return se.type==="date"?me:se.type==="log"?(Te=Math.ceil(Math.max(0,-Math.log(Ce)/Math.LN10))+3,a("."+Te+"g")(Math.pow(10,me))):(Te=Math.floor(Math.log(Math.abs(me))/Math.LN10)-Math.floor(Math.log(Ce)/Math.LN10)+4,a("."+String(Te)+"g")(me))}function F(se,he,me,Ce,Te){for(var Oe=0;Oe<se.length;Oe++){var Ne=se[Oe];if(!Ne.fixedrange)if(Ne.rangebreaks){var Le=Ne._id.charAt(0)==="y",be=Le?1-he:he,Ae=Le?1-me:me;Ce[Ne._name+".range[0]"]=Ne.l2r(Ne.p2l(be*Ne._length)),Ce[Ne._name+".range[1]"]=Ne.l2r(Ne.p2l(Ae*Ne._length))}else{var He=Ne._rl[0],Ve=Ne._rl[1]-He;Ce[Ne._name+".range[0]"]=Ne.l2r(He+Ve*he),Ce[Ne._name+".range[1]"]=Ne.l2r(He+Ve*me)}}if(Te&&Te.length){var ke=(he+(1-me))/2;F(Te,ke,1-ke,Ce,[])}}function V(se,he){for(var me=0;me<se.length;me++){var Ce=se[me];if(!Ce.fixedrange){if(Ce.rangebreaks){var Te=0,Oe=Ce._length,Ne=Ce.p2l(Te+he)-Ce.p2l(Te),Le=Ce.p2l(Oe+he)-Ce.p2l(Oe),be=(Ne+Le)/2;Ce.range=[Ce.l2r(Ce._rl[0]-be),Ce.l2r(Ce._rl[1]-be)]}else Ce.range=[Ce.l2r(Ce._rl[0]-he/Ce._m),Ce.l2r(Ce._rl[1]-he/Ce._m)];Ce.limitRange&&Ce.limitRange()}}}function j(se){return 1-(se>=0?Math.min(se,.9):1/(1/Math.max(se,-.3)+3.222))}function $(se,he,me){return se?se==="nsew"?me?"":he==="pan"?"move":"crosshair":se.toLowerCase()+"-resize":"pointer"}function ne(se,he,me,Ce,Te){return se.append("path").attr("class","zoombox").style({fill:he>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",y(me,Ce)).attr("d",Te+"Z")}function oe(se,he,me){return se.append("path").attr("class","zoombox-corners").style({fill:r.background,stroke:r.defaultLine,"stroke-width":1,opacity:0}).attr("transform",y(he,me)).attr("d","M0,0Z")}function ce(se,he,me,Ce,Te,Oe){se.attr("d",Ce+"M"+me.l+","+me.t+"v"+me.h+"h"+me.w+"v-"+me.h+"h-"+me.w+"Z"),Q(se,he,Te,Oe)}function Q(se,he,me,Ce){me||(se.transition().style("fill",Ce>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),he.transition().style("opacity",1).duration(200))}function Z(se){g.select(se).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function K(se){O&&se.data&&se._context.showTips&&(R.notifier(R._(se,"Double-click to zoom back out"),"long"),O=!1)}function J(se,he){return"M"+(se.l-.5)+","+(he-b-.5)+"h-3v"+(2*b+1)+"h3ZM"+(se.r+.5)+","+(he-b-.5)+"h3v"+(2*b+1)+"h-3Z"}function re(se,he){return"M"+(he-b-.5)+","+(se.t-.5)+"v-3h"+(2*b+1)+"v3ZM"+(he-b-.5)+","+(se.b+.5)+"v3h"+(2*b+1)+"v-3Z"}function le(se){var he=Math.floor(Math.min(se.b-se.t,se.r-se.l,b)/2);return"M"+(se.l-3.5)+","+(se.t-.5+he)+"h3v"+-he+"h"+he+"v-3h-"+(he+3)+"ZM"+(se.r+3.5)+","+(se.t-.5+he)+"h-3v"+-he+"h"+-he+"v-3h"+(he+3)+"ZM"+(se.r+3.5)+","+(se.b+.5-he)+"h-3v"+he+"h"+-he+"v3h"+(he+3)+"ZM"+(se.l-3.5)+","+(se.b+.5-he)+"h3v"+he+"h"+he+"v3h-"+(he+3)+"Z"}function q(se,he,me,Ce,Te){for(var Oe=!1,Ne={},Le={},be,Ae,He,Ve,ke=(Te||{}).xaHash,Ge=(Te||{}).yaHash,it=0;it<he.length;it++){var et=he[it];for(be in me)if(et[be]){for(He in et)!(Te&&(ke[He]||Ge[He]))&&!(He.charAt(0)==="x"?me:Ce)[He]&&(Ne[He]=be);for(Ae in Ce)!(Te&&(ke[Ae]||Ge[Ae]))&&et[Ae]&&(Oe=!0)}for(Ae in Ce)if(et[Ae])for(Ve in et)!(Te&&(ke[Ve]||Ge[Ve]))&&!(Ve.charAt(0)==="x"?me:Ce)[Ve]&&(Le[Ve]=Ae)}Oe&&(R.extendFlat(Ne,Le),Le={});var tt={},at=[];for(He in Ne){var vt=S(se,He);at.push(vt),tt[vt._id]=vt}var yt={},gt=[];for(Ve in Le){var Mt=S(se,Ve);gt.push(Mt),yt[Mt._id]=Mt}return{xaHash:tt,yaHash:yt,xaxes:at,yaxes:gt,xLinks:Ne,yLinks:Le,isSubplotConstrained:Oe}}function ee(se,he){if(!T)se.onwheel!==void 0?se.onwheel=he:se.onmousewheel!==void 0?se.onmousewheel=he:se.isAddedWheelEvent||(se.isAddedWheelEvent=!0,se.addEventListener("wheel",he,{passive:!1}));else{var me=se.onwheel!==void 0?"wheel":"mousewheel";se._onwheel&&se.removeEventListener(me,se._onwheel),se._onwheel=he,se.addEventListener(me,he,{passive:!1})}}function ue(se){var he=[];for(var me in se)he.push(se[me]);return he}W.exports={makeDragBox:_,makeDragger:N,makeRectDragger:z,makeZoombox:ne,makeCorners:oe,updateZoombox:ce,xyCorners:le,transitionZoombox:Q,removeZoombox:Z,showDoubleClickNotifier:K,attachWheelEventHandler:ee}},4305:function(W,H,e){var g=e(39898),R=e(30211),a=e(28569),C=e(6964),T=e(29323).makeDragBox,v=e(85555).DRAGGERSIZE;H.initInteractions=function(t){var r=t._fullLayout;if(t._context.staticPlot){g.select(t).selectAll(".drag").remove();return}if(!(!r._has("cartesian")&&!r._has("splom"))){var s=Object.keys(r._plots||{}).sort(function(o,f){if((r._plots[o].mainplot&&!0)===(r._plots[f].mainplot&&!0)){var u=o.split("y"),m=f.split("y");return u[0]===m[0]?Number(u[1]||1)-Number(m[1]||1):Number(u[0]||1)-Number(m[0]||1)}return r._plots[o].mainplot?1:-1});s.forEach(function(o){var f=r._plots[o],u=f.xaxis,m=f.yaxis;if(!f.mainplot){var c=T(t,f,u._offset,m._offset,u._length,m._length,"ns","ew");c.onmousemove=function(l){t._fullLayout._rehover=function(){t._fullLayout._hoversubplot===o&&t._fullLayout._plots[o]&&R.hover(t,l,o)},R.hover(t,l,o),t._fullLayout._lasthover=c,t._fullLayout._hoversubplot=o},c.onmouseout=function(l){t._dragging||(t._fullLayout._hoversubplot=null,a.unhover(t,l))},t._context.showAxisDragHandles&&(T(t,f,u._offset-v,m._offset-v,v,v,"n","w"),T(t,f,u._offset+u._length,m._offset-v,v,v,"n","e"),T(t,f,u._offset-v,m._offset+m._length,v,v,"s","w"),T(t,f,u._offset+u._length,m._offset+m._length,v,v,"s","e"))}if(t._context.showAxisDragHandles){if(o===u._mainSubplot){var A=u._mainLinePosition;u.side==="top"&&(A-=v),T(t,f,u._offset+u._length*.1,A,u._length*.8,v,"","ew"),T(t,f,u._offset,A,u._length*.1,v,"","w"),T(t,f,u._offset+u._length*.9,A,u._length*.1,v,"","e")}if(o===m._mainSubplot){var h=m._mainLinePosition;m.side!=="right"&&(h-=v),T(t,f,h,m._offset+m._length*.1,v,m._length*.8,"ns",""),T(t,f,h,m._offset+m._length*.9,v,m._length*.1,"s",""),T(t,f,h,m._offset,v,m._length*.1,"n","")}}});var n=r._hoverlayer.node();n.onmousemove=function(o){o.target=t._fullLayout._lasthover,R.hover(t,o,r._hoversubplot)},n.onclick=function(o){o.target=t._fullLayout._lasthover,R.click(t,o)},n.onmousedown=function(o){t._fullLayout._lasthover.onmousedown(o)},H.updateFx(t)}},H.updateFx=function(y){var t=y._fullLayout,r=t.dragmode==="pan"?"move":"crosshair";C(t._draggers,r)}},76325:function(W,H,e){var g=e(73972),R=e(71828),a=e(41675);W.exports=function(T){return function(y,t){var r=y[T];if(Array.isArray(r))for(var s=g.subplotsRegistry.cartesian,n=s.idRegex,o=t._subplots,f=o.xaxis,u=o.yaxis,m=o.cartesian,c=t._has("cartesian")||t._has("gl2d"),A=0;A<r.length;A++){var h=r[A];if(R.isPlainObject(h)){var l=a.cleanId(h.xref,"x",!1),p=a.cleanId(h.yref,"y",!1),M=n.x.test(l),S=n.y.test(p);if(M||S){c||R.pushUnique(t._basePlotModules,s);var P=!1;M&&f.indexOf(l)===-1&&(f.push(l),P=!0),S&&u.indexOf(p)===-1&&(u.push(p),P=!0),P&&M&&S&&m.push(l+p)}}}}}},93612:function(W,H,e){var g=e(39898),R=e(73972),a=e(71828),C=e(74875),T=e(91424),v=e(27659).a0,y=e(41675),t=e(85555),r=e(77922),s=a.ensureSingle;function n(A,h,l){return a.ensureSingle(A,h,l,function(p){p.datum(l)})}H.name="cartesian",H.attr=["xaxis","yaxis"],H.idRoot=["x","y"],H.idRegex=t.idRegex,H.attrRegex=t.attrRegex,H.attributes=e(89502),H.layoutAttributes=e(13838),H.supplyLayoutDefaults=e(86763),H.transitionAxes=e(66847),H.finalizeSubplots=function(A,h){var l=h._subplots,p=l.xaxis,M=l.yaxis,S=l.cartesian,P=S.concat(l.gl2d||[]),x={},E={},w,i,L;for(w=0;w<P.length;w++){var b=P[w].split("y");x[b[0]]=1,E["y"+b[1]]=1}for(w=0;w<p.length;w++)i=p[w],x[i]||(L=(A[y.id2name(i)]||{}).anchor,t.idRegex.y.test(L)||(L="y"),S.push(i+L),P.push(i+L),E[L]||(E[L]=1,a.pushUnique(M,L)));for(w=0;w<M.length;w++)L=M[w],E[L]||(i=(A[y.id2name(L)]||{}).anchor,t.idRegex.x.test(i)||(i="x"),S.push(i+L),P.push(i+L),x[i]||(x[i]=1,a.pushUnique(p,i)));if(!P.length){i="",L="";for(var O in A)if(t.attrRegex.test(O)){var _=O.charAt(0);_==="x"?(!i||+O.substr(5)<+i.substr(5))&&(i=O):(!L||+O.substr(5)<+L.substr(5))&&(L=O)}i=i?y.name2id(i):"x",L=L?y.name2id(L):"y",p.push(i),M.push(L),S.push(i+L)}},H.plot=function(A,h,l,p){var M=A._fullLayout,S=M._subplots.cartesian,P=A.calcdata,x;if(!Array.isArray(h))for(h=[],x=0;x<P.length;x++)h.push(x);for(x=0;x<S.length;x++){for(var E=S[x],w=M._plots[E],i=[],L,b=0;b<P.length;b++){var O=P[b],_=O[0].trace;_.xaxis+_.yaxis===E&&((h.indexOf(_.index)!==-1||_.carpet)&&(L&&L[0].trace.xaxis+L[0].trace.yaxis===E&&["tonextx","tonexty","tonext"].indexOf(_.fill)!==-1&&i.indexOf(L)===-1&&i.push(L),i.push(O)),L=O)}o(A,w,i,l,p)}};function o(A,h,l,p,M){for(var S=t.traceLayerClasses,P=A._fullLayout,x=P._modules,E,w,i,L=[],b=[],O=0;O<x.length;O++){E=x[O];var _=E.name,N=R.modules[_].categories;if(N.svg){var z=E.layerName||_+"layer",B=E.plot;w=v(l,B),i=w[0],l=w[1],i.length&&L.push({i:S.indexOf(z),className:z,plotMethod:B,cdModule:i}),N.zoomScale&&b.push("."+z)}}L.sort(function(V,j){return V.i-j.i});var U=h.plot.selectAll("g.mlayer").data(L,function(V){return V.className});if(U.enter().append("g").attr("class",function(V){return V.className}).classed("mlayer",!0).classed("rangeplot",h.isRangePlot),U.exit().remove(),U.order(),U.each(function(V){var j=g.select(this),$=V.className;V.plotMethod(A,h,V.cdModule,j,p,M),t.clipOnAxisFalseQuery.indexOf("."+$)===-1&&T.setClipUrl(j,h.layerClipId,A)}),P._has("scattergl")&&(E=R.getModule("scattergl"),i=v(l,E)[0],E.plot(A,h,i)),!A._context.staticPlot&&(h._hasClipOnAxisFalse&&(h.clipOnAxisFalseTraces=h.plot.selectAll(t.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),b.length)){var F=h.plot.selectAll(b.join(",")).selectAll(".trace");h.zoomScalePts=F.selectAll("path.point"),h.zoomScaleTxt=F.selectAll(".textpoint")}}H.clean=function(A,h,l,p){var M=p._plots||{},S=h._plots||{},P=p._subplots||{},x,E,w;if(p._hasOnlyLargeSploms&&!h._hasOnlyLargeSploms)for(w in M)x=M[w],x.plotgroup&&x.plotgroup.remove();var i=p._has&&p._has("gl"),L=h._has&&h._has("gl");if(i&&!L)for(w in M)x=M[w],x._scene&&x._scene.destroy();if(P.xaxis&&P.yaxis){var b=y.listIds({_fullLayout:p});for(E=0;E<b.length;E++){var O=b[E];h[y.id2name(O)]||p._infolayer.selectAll(".g-"+O+"title").remove()}}var _=p._has&&p._has("cartesian"),N=h._has&&h._has("cartesian");if(_&&!N)m(p._cartesianlayer.selectAll(".subplot"),p),p._defs.selectAll(".axesclip").remove(),delete p._axisConstraintGroups,delete p._axisMatchGroups;else if(P.cartesian)for(E=0;E<P.cartesian.length;E++){var z=P.cartesian[E];if(!S[z]){var B="."+z+",."+z+"-x,."+z+"-y";p._cartesianlayer.selectAll(B).remove(),c(z,p)}}},H.drawFramework=function(A){var h=A._fullLayout,l=f(A),p=h._cartesianlayer.selectAll(".subplot").data(l,String);p.enter().append("g").attr("class",function(M){return"subplot "+M[0]}),p.order(),p.exit().call(m,h),p.each(function(M){var S=M[0],P=h._plots[S];P.plotgroup=g.select(this),u(A,P),P.draglayer=s(h._draggers,"g",S)})},H.rangePlot=function(A,h,l){u(A,h),o(A,h,l),C.style(A)};function f(A){var h=A._fullLayout,l=h._subplots.cartesian,p=l.length,M,S,P,x,E,w,i=[],L=[];for(M=0;M<p;M++){P=l[M],x=h._plots[P],E=x.xaxis,w=x.yaxis;var b=E._mainAxis,O=w._mainAxis,_=b._id+O._id,N=h._plots[_];x.overlays=[],_!==P&&N?(x.mainplot=_,x.mainplotinfo=N,L.push(P)):(x.mainplot=void 0,x.mainplotinfo=void 0,i.push(P))}for(M=0;M<L.length;M++)P=L[M],x=h._plots[P],x.mainplotinfo.overlays.push(x);var z=i.concat(L),B=new Array(p);for(M=0;M<p;M++){P=z[M],x=h._plots[P],E=x.xaxis,w=x.yaxis;var U=[P,E.layer,w.layer,E.overlaying||"",w.overlaying||""];for(S=0;S<x.overlays.length;S++)U.push(x.overlays[S].id);B[M]=U}return B}function u(A,h){var l=h.plotgroup,p=h.id,M=t.layerValue2layerClass[h.xaxis.layer],S=t.layerValue2layerClass[h.yaxis.layer],P=A._fullLayout._hasOnlyLargeSploms;if(h.mainplot){var E=h.mainplotinfo,w=E.plotgroup,i=p+"-x",L=p+"-y";h.minorGridlayer=E.minorGridlayer,h.gridlayer=E.gridlayer,h.zerolinelayer=E.zerolinelayer,s(E.overlinesBelow,"path",i),s(E.overlinesBelow,"path",L),s(E.overaxesBelow,"g",i),s(E.overaxesBelow,"g",L),h.plot=s(E.overplot,"g",p),s(E.overlinesAbove,"path",i),s(E.overlinesAbove,"path",L),s(E.overaxesAbove,"g",i),s(E.overaxesAbove,"g",L),h.xlines=w.select(".overlines-"+M).select("."+i),h.ylines=w.select(".overlines-"+S).select("."+L),h.xaxislayer=w.select(".overaxes-"+M).select("."+i),h.yaxislayer=w.select(".overaxes-"+S).select("."+L)}else if(P)h.xlines=s(l,"path","xlines-above"),h.ylines=s(l,"path","ylines-above"),h.xaxislayer=s(l,"g","xaxislayer-above"),h.yaxislayer=s(l,"g","yaxislayer-above");else{var x=s(l,"g","layer-subplot");h.shapelayer=s(x,"g","shapelayer"),h.imagelayer=s(x,"g","imagelayer"),h.minorGridlayer=s(l,"g","minor-gridlayer"),h.gridlayer=s(l,"g","gridlayer"),h.zerolinelayer=s(l,"g","zerolinelayer"),s(l,"path","xlines-below"),s(l,"path","ylines-below"),h.overlinesBelow=s(l,"g","overlines-below"),s(l,"g","xaxislayer-below"),s(l,"g","yaxislayer-below"),h.overaxesBelow=s(l,"g","overaxes-below"),h.plot=s(l,"g","plot"),h.overplot=s(l,"g","overplot"),h.xlines=s(l,"path","xlines-above"),h.ylines=s(l,"path","ylines-above"),h.overlinesAbove=s(l,"g","overlines-above"),s(l,"g","xaxislayer-above"),s(l,"g","yaxislayer-above"),h.overaxesAbove=s(l,"g","overaxes-above"),h.xlines=l.select(".xlines-"+M),h.ylines=l.select(".ylines-"+S),h.xaxislayer=l.select(".xaxislayer-"+M),h.yaxislayer=l.select(".yaxislayer-"+S)}P||(n(h.minorGridlayer,"g",h.xaxis._id),n(h.minorGridlayer,"g",h.yaxis._id),h.minorGridlayer.selectAll("g").map(function(b){return b[0]}).sort(y.idSort),n(h.gridlayer,"g",h.xaxis._id),n(h.gridlayer,"g",h.yaxis._id),h.gridlayer.selectAll("g").map(function(b){return b[0]}).sort(y.idSort)),h.xlines.style("fill","none").classed("crisp",!0),h.ylines.style("fill","none").classed("crisp",!0)}function m(A,h){if(A){var l={};A.each(function(E){var w=E[0],i=g.select(this);i.remove(),c(w,h),l[w]=!0});for(var p in h._plots)for(var M=h._plots[p],S=M.overlays||[],P=0;P<S.length;P++){var x=S[P];l[x.id]&&x.plot.selectAll(".trace").remove()}}}function c(A,h){h._draggers.selectAll("g."+A).remove(),h._defs.select("#clip"+h._uid+A+"plot").remove()}H.toSVG=function(A){var h=A._fullLayout._glimages,l=g.select(A).selectAll(".svg-container"),p=l.filter(function(S,P){return P===l.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function M(){var S=this,P=S.toDataURL("image/png"),x=h.append("svg:image");x.attr({xmlns:r.svg,"xlink:href":P,preserveAspectRatio:"none",x:0,y:0,width:S.style.width,height:S.style.height})}p.each(M)},H.updateFx=e(4305).updateFx},13838:function(W,H,e){var g=e(41940),R=e(22399),a=e(79952).P,C=e(1426).extendFlat,T=e(44467).templatedArray,v=e(12663).descriptionWithDates,y=e(50606).ONEDAY,t=e(85555),r=t.HOUR_PATTERN,s=t.WEEKDAY_PATTERN,n={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},o=C({},n,{values:n.values.slice().concat(["sync"])});function f(E){return{valType:"integer",min:0,dflt:E?5:0,editType:"ticks"}}var u={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},m={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},c={valType:"data_array",editType:"ticks"},A={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function h(E){var w={valType:"number",min:0,editType:"ticks"};return E||(w.dflt=5),w}function l(E){var w={valType:"number",min:0,editType:"ticks"};return E||(w.dflt=1),w}var p={valType:"color",dflt:R.defaultLine,editType:"ticks"},M={valType:"color",dflt:R.lightLine,editType:"ticks"};function S(E){var w={valType:"number",min:0,editType:"ticks"};return E||(w.dflt=1),w}var P=C({},a,{editType:"ticks"}),x={valType:"boolean",editType:"ticks"};W.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:R.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:g({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed","min reversed","max reversed","min","max"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},autorangeoptions:{minallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmin:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmax:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},include:{valType:"any",arrayOk:!0,editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},editType:"plot"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},minallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},insiderange:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},scaleanchor:{valType:"enumerated",values:[t.idRegex.x.toString(),t.idRegex.y.toString(),!1],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[t.idRegex.x.toString(),t.idRegex.y.toString()],editType:"calc"},rangebreaks:T("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[s,r,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:y},editType:"calc"}),tickmode:o,nticks:f(),tick0:u,dtick:m,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:c,ticktext:{valType:"data_array",editType:"ticks"},ticks:A,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:h(),tickwidth:l(),tickcolor:p,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:C({},a,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:g({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:v("tick label")},tickformatstops:T("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:v("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:R.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:x,gridcolor:M,gridwidth:S(),griddash:P,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:R.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:R.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",t.idRegex.x.toString(),t.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",t.idRegex.x.toString(),t.idRegex.y.toString()],editType:"plot"},minor:{tickmode:n,nticks:f("minor"),tick0:u,dtick:m,tickvals:c,ticks:A,ticklen:h("minor"),tickwidth:l("minor"),tickcolor:p,gridcolor:M,gridwidth:S("minor"),griddash:P,showgrid:x,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:g({editType:"ticks"})}}},86763:function(W,H,e){var g=e(71828),R=e(7901),a=e(23469).isUnifiedHover,C=e(98212),T=e(44467),v=e(10820),y=e(13838),t=e(951),r=e(71453),s=e(99082),n=e(52830),o=e(41675),f=o.id2name,u=o.name2id,m=e(85555).AX_ID_PATTERN,c=e(73972),A=c.traceIs,h=c.getComponentMethod;function l(p,M,S){Array.isArray(p[M])?p[M].push(S):p[M]=[S]}W.exports=function(M,S,P){var x=S.autotypenumbers,E={},w={},i={},L={},b={},O={},_={},N={},z={},B={},U,F;for(U=0;U<P.length;U++){var V=P[U];if(!(!A(V,"cartesian")&&!A(V,"gl2d"))){var j;if(V.xaxis)j=f(V.xaxis),l(E,j,V);else if(V.xaxes)for(F=0;F<V.xaxes.length;F++)l(E,f(V.xaxes[F]),V);var $;if(V.yaxis)$=f(V.yaxis),l(E,$,V);else if(V.yaxes)for(F=0;F<V.yaxes.length;F++)l(E,f(V.yaxes[F]),V);if(V.type==="funnel"?V.orientation==="h"?(j&&(w[j]=!0),$&&(_[$]=!0)):$&&(i[$]=!0):V.type==="image"?($&&(N[$]=!0),j&&(N[j]=!0)):($&&(b[$]=!0,O[$]=!0),(!A(V,"carpet")||V.type==="carpet"&&!V._cheater)&&j&&(L[j]=!0)),V.type==="carpet"&&V._cheater&&j&&(w[j]=!0),A(V,"2dMap")&&(z[j]=!0,z[$]=!0),A(V,"oriented")){var ne=V.orientation==="h"?$:j;B[ne]=!0}}}var oe=S._subplots,ce=oe.xaxis,Q=oe.yaxis,Z=g.simpleMap(ce,f),K=g.simpleMap(Q,f),J=Z.concat(K),re=R.background;ce.length&&Q.length&&(re=g.coerce(M,S,v,"plot_bgcolor"));var le=R.combine(re,S.paper_bgcolor),q,ee,ue,se,he;function me(){var Pe=E[q]||[];he._traceIndices=Pe.map(function(Ue){return Ue._expandedIndex}),he._annIndices=[],he._shapeIndices=[],he._selectionIndices=[],he._imgIndices=[],he._subplotsWith=[],he._counterAxes=[],he._name=he._attr=q,he._id=ee}function Ce(Pe,Ue){return g.coerce(se,he,y,Pe,Ue)}function Te(Pe,Ue){return g.coerce2(se,he,y,Pe,Ue)}function Oe(Pe){return Pe==="x"?Q:ce}function Ne(Pe,Ue){for(var $e=Pe==="x"?Z:K,qe=[],dt=0;dt<$e.length;dt++){var bt=$e[dt];bt!==Ue&&!(M[bt]||{}).overlaying&&qe.push(u(bt))}return qe}var Le={x:Oe("x"),y:Oe("y")},be=Le.x.concat(Le.y),Ae={},He=[];function Ve(){var Pe=se.matches;m.test(Pe)&&be.indexOf(Pe)===-1&&(Ae[Pe]=se.type,He=Object.keys(Ae))}var ke=C(M,S),Ge=a(ke);for(U=0;U<J.length;U++){q=J[U],ee=u(q),ue=q.charAt(0),g.isPlainObject(M[q])||(M[q]={}),se=M[q],he=T.newContainer(S,q,ue+"axis"),me();var it=ue==="x"&&!L[q]&&w[q]||ue==="y"&&!b[q]&&i[q],et=ue==="y"&&(!O[q]&&_[q]||N[q]),tt={hasMinor:!0,letter:ue,font:S.font,outerTicks:z[q],showGrid:!B[q],data:E[q]||[],bgColor:le,calendar:S.calendar,automargin:!0,visibleDflt:it,reverseDflt:et,autotypenumbersDflt:x,splomStash:((S._splomAxes||{})[ue]||{})[ee]};Ce("uirevision",S.uirevision),t(se,he,Ce,tt),r(se,he,Ce,tt,S);var at=Ge&&ue===ke.charAt(0),vt=Te("spikecolor",Ge?he.color:void 0),yt=Te("spikethickness",Ge?1.5:void 0),gt=Te("spikedash",Ge?"dot":void 0),Mt=Te("spikemode",Ge?"across":void 0),Ct=Te("spikesnap"),Vt=Ce("showspikes",!!at||!!vt||!!yt||!!gt||!!Mt||!!Ct);Vt||(delete he.spikecolor,delete he.spikethickness,delete he.spikedash,delete he.spikemode,delete he.spikesnap);var Je=f(se.overlaying),ze=[0,1];if(S[Je]!==void 0){var _e=f(S[Je].anchor);S[_e]!==void 0&&(ze=S[_e].domain)}n(se,he,Ce,{letter:ue,counterAxes:Le[ue],overlayableAxes:Ne(ue,q),grid:S.grid,overlayingDomain:ze}),Ce("title.standoff"),Ve(),he._input=se}for(U=0;U<He.length;){ee=He[U++],q=f(ee),ue=q.charAt(0),g.isPlainObject(M[q])||(M[q]={}),se=M[q],he=T.newContainer(S,q,ue+"axis"),me();var Be={letter:ue,font:S.font,outerTicks:z[q],showGrid:!B[q],data:[],bgColor:le,calendar:S.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:x,splomStash:((S._splomAxes||{})[ue]||{})[ee]};Ce("uirevision",S.uirevision),he.type=Ae[ee]||"linear",r(se,he,Ce,Be,S),n(se,he,Ce,{letter:ue,counterAxes:Le[ue],overlayableAxes:Ne(ue,q),grid:S.grid}),Ce("fixedrange"),Ve(),he._input=se}var De=h("rangeslider","handleDefaults"),we=h("rangeselector","handleDefaults");for(U=0;U<Z.length;U++)q=Z[U],se=M[q],he=S[q],De(M,S,q),he.type==="date"&&we(se,he,S,K,he.calendar),Ce("fixedrange");for(U=0;U<K.length;U++){q=K[U],se=M[q],he=S[q];var xe=S[f(he.anchor)],Ee=h("rangeslider","isVisible")(xe);Ce("fixedrange",Ee)}s.handleDefaults(M,S,{axIds:be.concat(He).sort(o.idSort),axHasImage:N})}},92128:function(W,H,e){var g=e(84267).mix,R=e(22399),a=e(71828);W.exports=function(T,v,y,t){t=t||{};var r=t.dfltColor;function s(i,L){return a.coerce2(T,v,t.attributes,i,L)}var n=s("linecolor",r),o=s("linewidth"),f=y("showline",t.showLine||!!n||!!o);f||(delete v.linecolor,delete v.linewidth);var u=g(r,t.bgColor,t.blend||R.lightFraction).toRgbString(),m=s("gridcolor",u),c=s("gridwidth"),A=s("griddash"),h=y("showgrid",t.showGrid||!!m||!!c||!!A);if(h||(delete v.gridcolor,delete v.gridwidth,delete v.griddash),t.hasMinor){var l=g(v.gridcolor,t.bgColor,67).toRgbString(),p=s("minor.gridcolor",l),M=s("minor.gridwidth",v.gridwidth||1),S=s("minor.griddash",v.griddash||"solid"),P=y("minor.showgrid",!!p||!!M||!!S);P||(delete v.minor.gridcolor,delete v.minor.gridwidth,delete v.minor.griddash)}if(!t.noZeroLine){var x=s("zerolinecolor",r),E=s("zerolinewidth"),w=y("zeroline",t.showGrid||!!x||!!E);w||(delete v.zerolinecolor,delete v.zerolinewidth)}}},52830:function(W,H,e){var g=e(92770),R=e(71828);W.exports=function(C,T,v,y){var t=y.counterAxes||[],r=y.overlayableAxes||[],s=y.letter,n=y.grid,o=y.overlayingDomain,f,u,m,c,A,h;n&&(u=n._domains[s][n._axisMap[T._id]],f=n._anchors[T._id],u&&(m=n[s+"side"].split(" ")[0],c=n.domain[s][m==="right"||m==="top"?1:0])),u=u||[0,1],f=f||(g(C.position)?"free":t[0]||"free"),m=m||(s==="x"?"bottom":"left"),c=c||0,A=0,h=!1;var l=R.coerce(C,T,{anchor:{valType:"enumerated",values:["free"].concat(t),dflt:f}},"anchor"),p=R.coerce(C,T,{side:{valType:"enumerated",values:s==="x"?["bottom","top"]:["left","right"],dflt:m}},"side");if(l==="free"){if(s==="y"){var M=v("autoshift");M&&(c=p==="left"?o[0]:o[1],h=T.automargin?T.automargin:!0,A=p==="left"?-3:3),v("shift",A)}v("position",c)}v("automargin",h);var S=!1;if(r.length&&(S=R.coerce(C,T,{overlaying:{valType:"enumerated",values:[!1].concat(r),dflt:!1}},"overlaying")),!S){var P=v("domain",u);P[0]>P[1]-.000244140625&&(T.domain=u),R.noneOrAll(C.domain,T.domain,u),T.tickmode==="sync"&&(T.tickmode="auto")}return v("layer"),T}},89426:function(W,H,e){var g=e(59652);W.exports=function(a,C,T,v,y){y||(y={});var t=y.tickSuffixDflt,r=g(a),s=T("tickprefix");s&&T("showtickprefix",r);var n=T("ticksuffix",t);n&&T("showticksuffix",r)}},23608:function(W,H,e){var g=e(23074);W.exports=function(a,C,T,v){var y=C._template||{},t=C.type||y.type||"-";T("minallowed"),T("maxallowed");var r=T("range");if(!r){var s;!v.noInsiderange&&t!=="log"&&(s=T("insiderange"),s&&(s[0]===null||s[1]===null)&&(C.insiderange=!1,s=void 0),s&&(r=T("range",s)))}var n=C.getAutorangeDflt(r,v),o=T("autorange",n),f;r&&(r[0]===null&&r[1]===null||(r[0]===null||r[1]===null)&&(o==="reversed"||o===!0)||r[0]!==null&&(o==="min"||o==="max reversed")||r[1]!==null&&(o==="max"||o==="min reversed"))&&(r=void 0,delete C.range,C.autorange=!0,f=!0),f||(n=C.getAutorangeDflt(r,v),o=T("autorange",n)),o&&(g(T,o,r),(t==="linear"||t==="-")&&T("rangemode")),C.cleanRange()}},42449:function(W,H,e){var g=e(18783).FROM_BL;W.exports=function(a,C,T){T===void 0&&(T=g[a.constraintoward||"center"]);var v=[a.r2l(a.range[0]),a.r2l(a.range[1])],y=v[0]+(v[1]-v[0])*T;a.range=a._input.range=[a.l2r(y+(v[0]-y)*C),a.l2r(y+(v[1]-y)*C)],a.setScale()}},21994:function(W,H,e){var g=e(39898),R=e(84096).g0,a=e(71828),C=a.numberFormat,T=e(92770),v=a.cleanNumber,y=a.ms2DateTime,t=a.dateTime2ms,r=a.ensureNumber,s=a.isArrayOrTypedArray,n=e(50606),o=n.FP_SAFE,f=n.BADNUM,u=n.LOG_CLIP,m=n.ONEWEEK,c=n.ONEDAY,A=n.ONEHOUR,h=n.ONEMIN,l=n.ONESEC,p=e(41675),M=e(85555),S=M.HOUR_PATTERN,P=M.WEEKDAY_PATTERN;function x(w){return Math.pow(10,w)}function E(w){return w!=null}W.exports=function(i,L){L=L||{};var b=i._id||"x",O=b.charAt(0);function _(J,re){if(J>0)return Math.log(J)/Math.LN10;if(J<=0&&re&&i.range&&i.range.length===2){var le=i.range[0],q=i.range[1];return .5*(le+q-2*u*Math.abs(le-q))}else return f}function N(J,re,le,q){if((q||{}).msUTC&&T(J))return+J;var ee=t(J,le||i.calendar);if(ee===f)if(T(J)){J=+J;var ue=Math.floor(a.mod(J+.05,1)*10),se=Math.round(J-ue/10);ee=t(new Date(se))+ue/10}else return f;return ee}function z(J,re,le){return y(J,re,le||i.calendar)}function B(J){return i._categories[Math.round(J)]}function U(J){if(E(J)){if(i._categoriesMap===void 0&&(i._categoriesMap={}),i._categoriesMap[J]!==void 0)return i._categoriesMap[J];i._categories.push(typeof J=="number"?String(J):J);var re=i._categories.length-1;return i._categoriesMap[J]=re,re}return f}function F(J,re){for(var le=new Array(re),q=0;q<re;q++){var ee=(J[0]||[])[q],ue=(J[1]||[])[q];le[q]=V([ee,ue])}return le}function V(J){if(i._categoriesMap)return i._categoriesMap[J]}function j(J){var re=V(J);if(re!==void 0)return re;if(T(J))return+J}function $(J){return T(J)?+J:V(J)}function ne(J,re,le){return g.round(le+re*J,2)}function oe(J,re,le){return(J-le)/re}var ce=function(re){return T(re)?ne(re,i._m,i._b):f},Q=function(J){return oe(J,i._m,i._b)};if(i.rangebreaks){var Z=O==="y";ce=function(J){if(!T(J))return f;var re=i._rangebreaks.length;if(!re)return ne(J,i._m,i._b);var le=Z;i.range[0]>i.range[1]&&(le=!le);for(var q=le?-1:1,ee=q*J,ue=0,se=0;se<re;se++){var he=q*i._rangebreaks[se].min,me=q*i._rangebreaks[se].max;if(ee<he)break;if(ee>me)ue=se+1;else{ue=ee<(he+me)/2?se:se+1;break}}var Ce=i._B[ue]||0;return isFinite(Ce)?ne(J,i._m2,Ce):0},Q=function(J){var re=i._rangebreaks.length;if(!re)return oe(J,i._m,i._b);for(var le=0,q=0;q<re&&!(J<i._rangebreaks[q].pmin);q++)J>i._rangebreaks[q].pmax&&(le=q+1);return oe(J,i._m2,i._B[le])}}i.c2l=i.type==="log"?_:r,i.l2c=i.type==="log"?x:r,i.l2p=ce,i.p2l=Q,i.c2p=i.type==="log"?function(J,re){return ce(_(J,re))}:ce,i.p2c=i.type==="log"?function(J){return x(Q(J))}:Q,["linear","-"].indexOf(i.type)!==-1?(i.d2r=i.r2d=i.d2c=i.r2c=i.d2l=i.r2l=v,i.c2d=i.c2r=i.l2d=i.l2r=r,i.d2p=i.r2p=function(J){return i.l2p(v(J))},i.p2d=i.p2r=Q,i.cleanPos=r):i.type==="log"?(i.d2r=i.d2l=function(J,re){return _(v(J),re)},i.r2d=i.r2c=function(J){return x(v(J))},i.d2c=i.r2l=v,i.c2d=i.l2r=r,i.c2r=_,i.l2d=x,i.d2p=function(J,re){return i.l2p(i.d2r(J,re))},i.p2d=function(J){return x(Q(J))},i.r2p=function(J){return i.l2p(v(J))},i.p2r=Q,i.cleanPos=r):i.type==="date"?(i.d2r=i.r2d=a.identity,i.d2c=i.r2c=i.d2l=i.r2l=N,i.c2d=i.c2r=i.l2d=i.l2r=z,i.d2p=i.r2p=function(J,re,le){return i.l2p(N(J,0,le))},i.p2d=i.p2r=function(J,re,le){return z(Q(J),re,le)},i.cleanPos=function(J){return a.cleanDate(J,f,i.calendar)}):i.type==="category"?(i.d2c=i.d2l=U,i.r2d=i.c2d=i.l2d=B,i.d2r=i.d2l_noadd=j,i.r2c=function(J){var re=$(J);return re!==void 0?re:i.fraction2r(.5)},i.l2r=i.c2r=r,i.r2l=$,i.d2p=function(J){return i.l2p(i.r2c(J))},i.p2d=function(J){return B(Q(J))},i.r2p=i.d2p,i.p2r=Q,i.cleanPos=function(J){return typeof J=="string"&&J!==""?J:r(J)}):i.type==="multicategory"&&(i.r2d=i.c2d=i.l2d=B,i.d2r=i.d2l_noadd=j,i.r2c=function(J){var re=j(J);return re!==void 0?re:i.fraction2r(.5)},i.r2c_just_indices=V,i.l2r=i.c2r=r,i.r2l=j,i.d2p=function(J){return i.l2p(i.r2c(J))},i.p2d=function(J){return B(Q(J))},i.r2p=i.d2p,i.p2r=Q,i.cleanPos=function(J){return Array.isArray(J)||typeof J=="string"&&J!==""?J:r(J)},i.setupMultiCategory=function(J){var re=i._traceIndices,le,q,ee=i._matchGroup;if(ee&&i._categories.length===0){for(var ue in ee)if(ue!==b){var se=L[p.id2name(ue)];re=re.concat(se._traceIndices)}}var he=[[0,{}],[0,{}]],me=[];for(le=0;le<re.length;le++){var Ce=J[re[le]];if(O in Ce){var Te=Ce[O],Oe=Ce._length||a.minRowLength(Te);if(s(Te[0])&&s(Te[1]))for(q=0;q<Oe;q++){var Ne=Te[0][q],Le=Te[1][q];E(Ne)&&E(Le)&&(me.push([Ne,Le]),Ne in he[0][1]||(he[0][1][Ne]=he[0][0]++),Le in he[1][1]||(he[1][1][Le]=he[1][0]++))}}}for(me.sort(function(be,Ae){var He=he[0][1],Ve=He[be[0]]-He[Ae[0]];if(Ve)return Ve;var ke=he[1][1];return ke[be[1]]-ke[Ae[1]]}),le=0;le<me.length;le++)U(me[le])}),i.fraction2r=function(J){var re=i.r2l(i.range[0]),le=i.r2l(i.range[1]);return i.l2r(re+J*(le-re))},i.r2fraction=function(J){var re=i.r2l(i.range[0]),le=i.r2l(i.range[1]);return(i.r2l(J)-re)/(le-re)},i.limitRange=function(J){var re=i.minallowed,le=i.maxallowed;if(!(re===void 0&&le===void 0)){J||(J="range");var q=a.nestedProperty(i,J).get(),ee=a.simpleMap(q,i.r2l),ue=ee[1]<ee[0];ue&&ee.reverse();var se=a.simpleMap([re,le],i.r2l);re!==void 0&&ee[0]<se[0]&&(q[ue?1:0]=re),le!==void 0&&ee[1]>se[1]&&(q[ue?0:1]=le)}},i.cleanRange=function(J,re){i._cleanRange(J,re),i.limitRange(J)},i._cleanRange=function(J,re){re||(re={}),J||(J="range");var le=a.nestedProperty(i,J).get(),q,ee;if(i.type==="date"?ee=a.dfltRange(i.calendar):O==="y"?ee=M.DFLTRANGEY:i._name==="realaxis"?ee=[0,1]:ee=re.dfltRange||M.DFLTRANGEX,ee=ee.slice(),(i.rangemode==="tozero"||i.rangemode==="nonnegative")&&(ee[0]=0),!le||le.length!==2){a.nestedProperty(i,J).set(ee);return}var ue=le[0]===null,se=le[1]===null;for(i.type==="date"&&!i.autorange&&(le[0]=a.cleanDate(le[0],f,i.calendar),le[1]=a.cleanDate(le[1],f,i.calendar)),q=0;q<2;q++)if(i.type==="date"){if(!a.isDateTime(le[q],i.calendar)){i[J]=ee;break}if(i.r2l(le[0])===i.r2l(le[1])){var he=a.constrain(i.r2l(le[0]),a.MIN_MS+1e3,a.MAX_MS-1e3);le[0]=i.l2r(he-1e3),le[1]=i.l2r(he+1e3);break}}else{if(!T(le[q]))if(!(ue||se)&&T(le[1-q]))le[q]=le[1-q]*(q?10:.1);else{i[J]=ee;break}if(le[q]<-o?le[q]=-o:le[q]>o&&(le[q]=o),le[0]===le[1]){var me=Math.max(1,Math.abs(le[0]*1e-6));le[0]-=me,le[1]+=me}}},i.setScale=function(J){var re=L._size;if(i.overlaying){var le=p.getFromId({_fullLayout:L},i.overlaying);i.domain=le.domain}var q=J&&i._r?"_r":"range",ee=i.calendar;i.cleanRange(q);var ue=i.r2l(i[q][0],ee),se=i.r2l(i[q][1],ee),he=O==="y";if(he?(i._offset=re.t+(1-i.domain[1])*re.h,i._length=re.h*(i.domain[1]-i.domain[0]),i._m=i._length/(ue-se),i._b=-i._m*se):(i._offset=re.l+i.domain[0]*re.w,i._length=re.w*(i.domain[1]-i.domain[0]),i._m=i._length/(se-ue),i._b=-i._m*ue),i._rangebreaks=[],i._lBreaks=0,i._m2=0,i._B=[],i.rangebreaks){var me,Ce;if(i._rangebreaks=i.locateBreaks(Math.min(ue,se),Math.max(ue,se)),i._rangebreaks.length){for(me=0;me<i._rangebreaks.length;me++)Ce=i._rangebreaks[me],i._lBreaks+=Math.abs(Ce.max-Ce.min);var Te=he;ue>se&&(Te=!Te),Te&&i._rangebreaks.reverse();var Oe=Te?-1:1;for(i._m2=Oe*i._length/(Math.abs(se-ue)-i._lBreaks),i._B.push(-i._m2*(he?se:ue)),me=0;me<i._rangebreaks.length;me++)Ce=i._rangebreaks[me],i._B.push(i._B[i._B.length-1]-Oe*i._m2*(Ce.max-Ce.min));for(me=0;me<i._rangebreaks.length;me++)Ce=i._rangebreaks[me],Ce.pmin=ce(Ce.min),Ce.pmax=ce(Ce.max)}}if(!isFinite(i._m)||!isFinite(i._b)||i._length<0)throw L._replotting=!1,new Error("Something went wrong with axis scaling")},i.maskBreaks=function(J){var re=i.rangebreaks||[],le,q,ee,ue,se;re._cachedPatterns||(re._cachedPatterns=re.map(function(He){return He.enabled&&He.bounds?a.simpleMap(He.bounds,He.pattern?v:i.d2c):null})),re._cachedValues||(re._cachedValues=re.map(function(He){return He.enabled&&He.values?a.simpleMap(He.values,i.d2c).sort(a.sorterAsc):null}));for(var he=0;he<re.length;he++){var me=re[he];if(me.enabled){if(me.bounds){var Ce=me.pattern;switch(le=re._cachedPatterns[he],q=le[0],ee=le[1],Ce){case P:se=new Date(J),ue=se.getUTCDay(),q>ee&&(ee+=7,ue<q&&(ue+=7));break;case S:se=new Date(J);var Te=se.getUTCHours(),Oe=se.getUTCMinutes(),Ne=se.getUTCSeconds(),Le=se.getUTCMilliseconds();ue=Te+(Oe/60+Ne/3600+Le/36e5),q>ee&&(ee+=24,ue<q&&(ue+=24));break;case"":ue=J;break}if(ue>=q&&ue<ee)return f}else for(var be=re._cachedValues[he],Ae=0;Ae<be.length;Ae++)if(q=be[Ae],ee=q+me.dvalue,J>=q&&J<ee)return f}}return J},i.locateBreaks=function(J,re){var le,q,ee,ue,se=[];if(!i.rangebreaks)return se;var he=i.rangebreaks.slice().sort(function(ke,Ge){return ke.pattern===P&&Ge.pattern===S?-1:Ge.pattern===P&&ke.pattern===S?1:0}),me=function(ke,Ge){if(ke=a.constrain(ke,J,re),Ge=a.constrain(Ge,J,re),ke!==Ge){for(var it=!0,et=0;et<se.length;et++){var tt=se[et];ke<tt.max&&Ge>=tt.min&&(ke<tt.min&&(tt.min=ke),Ge>tt.max&&(tt.max=Ge),it=!1)}it&&se.push({min:ke,max:Ge})}};for(le=0;le<he.length;le++){var Ce=he[le];if(Ce.enabled)if(Ce.bounds){var Te=J,Oe=re;Ce.pattern&&(Te=Math.floor(Te)),q=a.simpleMap(Ce.bounds,Ce.pattern?v:i.r2l),ee=q[0],ue=q[1];var Ne=new Date(Te),Le,be;switch(Ce.pattern){case P:be=m,Le=((ue<ee?7:0)+(ue-ee))*c,Te+=ee*c-(Ne.getUTCDay()*c+Ne.getUTCHours()*A+Ne.getUTCMinutes()*h+Ne.getUTCSeconds()*l+Ne.getUTCMilliseconds());break;case S:be=c,Le=((ue<ee?24:0)+(ue-ee))*A,Te+=ee*A-(Ne.getUTCHours()*A+Ne.getUTCMinutes()*h+Ne.getUTCSeconds()*l+Ne.getUTCMilliseconds());break;default:Te=Math.min(q[0],q[1]),Oe=Math.max(q[0],q[1]),be=Oe-Te,Le=be}for(var Ae=Te;Ae<Oe;Ae+=be)me(Ae,Ae+Le)}else for(var He=a.simpleMap(Ce.values,i.d2c),Ve=0;Ve<He.length;Ve++)ee=He[Ve],ue=ee+Ce.dvalue,me(ee,ue)}return se.sort(function(ke,Ge){return ke.min-Ge.min}),se},i.makeCalcdata=function(J,re,le){var q,ee,ue,se,he=i.type,me=he==="date"&&J[re+"calendar"];if(re in J){if(q=J[re],se=J._length||a.minRowLength(q),a.isTypedArray(q)&&(he==="linear"||he==="log")){if(se===q.length)return q;if(q.subarray)return q.subarray(0,se)}if(he==="multicategory")return F(q,se);for(ee=new Array(se),ue=0;ue<se;ue++)ee[ue]=i.d2c(q[ue],0,me,le)}else{var Ce=re+"0"in J?i.d2c(J[re+"0"],0,me):0,Te=J["d"+re]?Number(J["d"+re]):1;for(q=J[{x:"y",y:"x"}[re]],se=J._length||q.length,ee=new Array(se),ue=0;ue<se;ue++)ee[ue]=Ce+ue*Te}if(i.rangebreaks)for(ue=0;ue<se;ue++)ee[ue]=i.maskBreaks(ee[ue]);return ee},i.isValidRange=function(J,re){return Array.isArray(J)&&J.length===2&&(re&&J[0]===null||T(i.r2l(J[0])))&&(re&&J[1]===null||T(i.r2l(J[1])))},i.getAutorangeDflt=function(J,re){var le=!i.isValidRange(J,"nullOk");return le&&re&&re.reverseDflt?le="reversed":J&&(J[0]===null&&J[1]===null?le=!0:J[0]===null&&J[1]!==null?le="min":J[0]!==null&&J[1]===null&&(le="max")),le},i.isReversed=function(){var J=i.autorange;return J==="reversed"||J==="min reversed"||J==="max reversed"},i.isPtWithinRange=function(J,re){var le=i.c2l(J[O],null,re),q=i.r2l(i.range[0]),ee=i.r2l(i.range[1]);return q<ee?q<=le&&le<=ee:ee<=le&&le<=q},i._emptyCategories=function(){i._categories=[],i._categoriesMap={}},i.clearCalc=function(){var J=i._matchGroup;if(J){var re=null,le=null;for(var q in J){var ee=L[p.id2name(q)];if(ee._categories){re=ee._categories,le=ee._categoriesMap;break}}re&&le?(i._categories=re,i._categoriesMap=le):i._emptyCategories()}else i._emptyCategories();if(i._initialCategories)for(var ue=0;ue<i._initialCategories.length;ue++)U(i._initialCategories[ue])},i.sortByInitialCategories=function(){var J=[];if(i._emptyCategories(),i._initialCategories)for(var re=0;re<i._initialCategories.length;re++)U(i._initialCategories[re]);J=J.concat(i._traceIndices);var le=i._matchGroup;for(var q in le)if(b!==q){var ee=L[p.id2name(q)];ee._categories=i._categories,ee._categoriesMap=i._categoriesMap,J=J.concat(ee._traceIndices)}return J};var K=L._d3locale;i.type==="date"&&(i._dateFormat=K?K.timeFormat:R,i._extraFormat=L._extraFormat),i._separators=L.separators,i._numFormat=K?K.numberFormat:C,delete i._minDtick,delete i._forceTick0}},59652:function(W){W.exports=function(e){var g=["showexponent","showtickprefix","showticksuffix"],R=g.filter(function(C){return e[C]!==void 0}),a=function(C){return e[C]===e[R[0]]};if(R.every(a)||R.length===1)return e[R[0]]}},96115:function(W,H,e){var g=e(71828),R=e(7901).contrast,a=e(13838),C=e(59652),T=e(85501);W.exports=function(t,r,s,n,o){o||(o={});var f=s("labelalias");g.isPlainObject(f)||delete r.labelalias;var u=C(t),m=s("showticklabels");if(m){var c=o.font||{},A=r.color,h=r.ticklabelposition||"",l=h.indexOf("inside")!==-1?R(o.bgColor):A&&A!==a.color.dflt?A:c.color;if(g.coerceFont(s,"tickfont",{family:c.family,size:c.size,color:l}),!o.noTicklabelstep&&n!=="multicategory"&&n!=="log"&&s("ticklabelstep"),o.noAng||s("tickangle"),n!=="category"){var p=s("tickformat");T(t,r,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:v}),r.tickformatstops.length||delete r.tickformatstops,!o.noExp&&!p&&n!=="date"&&(s("showexponent",u),s("exponentformat"),s("minexponent"),s("separatethousands"))}}};function v(y,t){function r(n,o){return g.coerce(y,t,a.tickformatstops,n,o)}var s=r("enabled");s&&(r("dtickrange"),r("value"))}},38701:function(W,H,e){var g=e(71828),R=e(13838);W.exports=function(C,T,v,y){var t=y.isMinor,r=t?C.minor||{}:C,s=t?T.minor:T,n=t?R.minor:R,o=t?"minor.":"",f=g.coerce2(r,s,n,"ticklen",t?(T.ticklen||5)*.6:void 0),u=g.coerce2(r,s,n,"tickwidth",t?T.tickwidth||1:void 0),m=g.coerce2(r,s,n,"tickcolor",(t?T.tickcolor:void 0)||s.color),c=v(o+"ticks",!t&&y.outerTicks||f||u||m?"outside":"");c||(delete s.ticklen,delete s.tickwidth,delete s.tickcolor)}},26218:function(W,H,e){var g=e(66287),R=e(71828).isArrayOrTypedArray;W.exports=function(C,T,v,y,t){t||(t={});var r=t.isMinor,s=r?C.minor||{}:C,n=r?T.minor:T,o=r?"minor.":"";function f(M){var S=s[M];return S!==void 0?S:(n._template||{})[M]}var u=f("tick0"),m=f("dtick"),c=f("tickvals"),A=R(c)?"array":m?"linear":"auto",h=v(o+"tickmode",A);if(h==="auto"||h==="sync")v(o+"nticks");else if(h==="linear"){var l=n.dtick=g.dtick(m,y);n.tick0=g.tick0(u,y,T.calendar,l)}else if(y!=="multicategory"){var p=v(o+"tickvals");p===void 0?n.tickmode="auto":r||v("ticktext")}}},66847:function(W,H,e){var g=e(39898),R=e(73972),a=e(71828),C=e(91424),T=e(89298);W.exports=function(y,t,r,s){var n=y._fullLayout;if(t.length===0){T.redrawComponents(y);return}function o(S){var P=S.xaxis,x=S.yaxis;n._defs.select("#"+S.clipId+"> rect").call(C.setTranslate,0,0).call(C.setScale,1,1),S.plot.call(C.setTranslate,P._offset,x._offset).call(C.setScale,1,1);var E=S.plot.selectAll(".scatterlayer .trace");E.selectAll(".point").call(C.setPointGroupScale,1,1),E.selectAll(".textpoint").call(C.setTextPointsScale,1,1),E.call(C.hideOutsideRangePoints,S)}function f(S,P){var x=S.plotinfo,E=x.xaxis,w=x.yaxis,i=E._length,L=w._length,b=!!S.xr1,O=!!S.yr1,_=[];if(b){var N=a.simpleMap(S.xr0,E.r2l),z=a.simpleMap(S.xr1,E.r2l),B=N[1]-N[0],U=z[1]-z[0];_[0]=(N[0]*(1-P)+P*z[0]-N[0])/(N[1]-N[0])*i,_[2]=i*(1-P+P*U/B),E.range[0]=E.l2r(N[0]*(1-P)+P*z[0]),E.range[1]=E.l2r(N[1]*(1-P)+P*z[1])}else _[0]=0,_[2]=i;if(O){var F=a.simpleMap(S.yr0,w.r2l),V=a.simpleMap(S.yr1,w.r2l),j=F[1]-F[0],$=V[1]-V[0];_[1]=(F[1]*(1-P)+P*V[1]-F[1])/(F[0]-F[1])*L,_[3]=L*(1-P+P*$/j),w.range[0]=E.l2r(F[0]*(1-P)+P*V[0]),w.range[1]=w.l2r(F[1]*(1-P)+P*V[1])}else _[1]=0,_[3]=L;T.drawOne(y,E,{skipTitle:!0}),T.drawOne(y,w,{skipTitle:!0}),T.redrawComponents(y,[E._id,w._id]);var ne=b?i/_[2]:1,oe=O?L/_[3]:1,ce=b?_[0]:0,Q=O?_[1]:0,Z=b?_[0]/_[2]*i:0,K=O?_[1]/_[3]*L:0,J=E._offset-Z,re=w._offset-K;x.clipRect.call(C.setTranslate,ce,Q).call(C.setScale,1/ne,1/oe),x.plot.call(C.setTranslate,J,re).call(C.setScale,ne,oe),C.setPointGroupScale(x.zoomScalePts,1/ne,1/oe),C.setTextPointsScale(x.zoomScaleTxt,1/ne,1/oe)}var u;s&&(u=s());function m(){for(var S={},P=0;P<t.length;P++){var x=t[P],E=x.plotinfo.xaxis,w=x.plotinfo.yaxis;x.xr1&&(S[E._name+".range"]=x.xr1.slice()),x.yr1&&(S[w._name+".range"]=x.yr1.slice())}return u&&u(),R.call("relayout",y,S).then(function(){for(var i=0;i<t.length;i++)o(t[i].plotinfo)})}function c(){for(var S={},P=0;P<t.length;P++){var x=t[P],E=x.plotinfo.xaxis,w=x.plotinfo.yaxis;x.xr0&&(S[E._name+".range"]=x.xr0.slice()),x.yr0&&(S[w._name+".range"]=x.yr0.slice())}return R.call("relayout",y,S).then(function(){for(var i=0;i<t.length;i++)o(t[i].plotinfo)})}var A,h,l,p=g.ease(r.easing);y._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(l),l=null,c()});function M(){h=Date.now();for(var S=Math.min(1,(h-A)/r.duration),P=p(S),x=0;x<t.length;x++)f(t[x],P);h-A>r.duration?(m(),l=window.cancelAnimationFrame(M)):l=window.requestAnimationFrame(M)}return A=Date.now(),l=window.requestAnimationFrame(M),Promise.resolve()}},951:function(W,H,e){var g=e(73972).traceIs,R=e(4322);W.exports=function(t,r,s,n){s("autotypenumbers",n.autotypenumbersDflt);var o=s("type",(n.splomStash||{}).type);o==="-"&&(a(r,n.data),r.type==="-"?r.type="linear":t.type=r.type)};function a(y,t){if(y.type==="-"){var r=y._id,s=r.charAt(0),n;r.indexOf("scene")!==-1&&(r=s);var o=C(t,r,s);if(o){if(o.type==="histogram"&&s==={v:"y",h:"x"}[o.orientation||"v"]){y.type="linear";return}var f=s+"calendar",u=o[f],m={noMultiCategory:!g(o,"cartesian")||g(o,"noMultiCategory")};if(o.type==="box"&&o._hasPreCompStats&&s==={h:"x",v:"y"}[o.orientation||"v"]&&(m.noMultiCategory=!0),m.autotypenumbers=y.autotypenumbers,v(o,s)){var c=T(o),A=[];for(n=0;n<t.length;n++){var h=t[n];!g(h,"box-violin")||(h[s+"axis"]||s)!==r||(h[c]!==void 0?A.push(h[c][0]):h.name!==void 0?A.push(h.name):A.push("text"),h[f]!==u&&(u=void 0))}y.type=R(A,u,m)}else if(o.type==="splom"){var l=o.dimensions,p=l[o._axesDim[r]];p.visible&&(y.type=R(p.values,u,m))}else y.type=R(o[s]||[o[s+"0"]],u,m)}}}function C(y,t,r){for(var s=0;s<y.length;s++){var n=y[s];if(n.type==="splom"&&n._length>0&&(n["_"+r+"axes"]||{})[t])return n;if((n[r+"axis"]||r)===t){if(v(n,r))return n;if((n[r]||[]).length||n[r+"0"])return n}}}function T(y){return{v:"x",h:"y"}[y.orientation||"v"]}function v(y,t){var r=T(y),s=g(y,"box-violin"),n=g(y._fullInput||{},"candlestick");return s&&!n&&t===r&&y[r]===void 0&&y[r+"0"]===void 0}},31137:function(W,H,e){var g=e(73972),R=e(71828);H.manageCommandObserver=function(t,r,s,n){var o={},f=!0;r&&r._commandObserver&&(o=r._commandObserver),o.cache||(o.cache={}),o.lookupTable={};var u=H.hasSimpleAPICommandBindings(t,s,o.lookupTable);if(r&&r._commandObserver){if(u)return o;if(r._commandObserver.remove)return r._commandObserver.remove(),r._commandObserver=null,o}if(u){a(t,u,o.cache),o.check=function(){if(f){var h=a(t,u,o.cache);return h.changed&&n&&o.lookupTable[h.value]!==void 0&&(o.disable(),Promise.resolve(n({value:h.value,type:u.type,prop:u.prop,traces:u.traces,index:o.lookupTable[h.value]})).then(o.enable,o.enable)),h.changed}};for(var m=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],c=0;c<m.length;c++)t._internalOn(m[c],o.check);o.remove=function(){for(var A=0;A<m.length;A++)t._removeInternalListener(m[A],o.check)}}else R.log("Unable to automatically bind plot updates to API command"),o.lookupTable={},o.remove=function(){};return o.disable=function(){f=!1},o.enable=function(){f=!0},r&&(r._commandObserver=o),o},H.hasSimpleAPICommandBindings=function(t,r,s){var n,o=r.length,f;for(n=0;n<o;n++){var u,m=r[n],c=m.method,A=m.args;if(Array.isArray(A)||(A=[]),!c)return!1;var h=H.computeAPICommandBindings(t,c,A);if(h.length!==1)return!1;if(!f)f=h[0],Array.isArray(f.traces)&&f.traces.sort();else{if(u=h[0],u.type!==f.type||u.prop!==f.prop)return!1;if(Array.isArray(f.traces))if(Array.isArray(u.traces)){u.traces.sort();for(var l=0;l<f.traces.length;l++)if(f.traces[l]!==u.traces[l])return!1}else return!1;else if(u.prop!==f.prop)return!1}u=h[0];var p=u.value;if(Array.isArray(p))if(p.length===1)p=p[0];else return!1;s&&(s[p]=n)}return f};function a(t,r,s){var n,o,f,u=!1;if(r.type==="data")n=t._fullData[r.traces!==null?r.traces[0]:0];else if(r.type==="layout")n=t._fullLayout;else return!1;return o=R.nestedProperty(n,r.prop).get(),f=s[r.type]=s[r.type]||{},f.hasOwnProperty(r.prop)&&f[r.prop]!==o&&(u=!0),f[r.prop]=o,{changed:u,value:o}}H.executeAPICommand=function(t,r,s){if(r==="skip")return Promise.resolve();var n=g.apiMethodRegistry[r],o=[t];Array.isArray(s)||(s=[]);for(var f=0;f<s.length;f++)o.push(s[f]);return n.apply(null,o).catch(function(u){return R.warn("API call to Plotly."+r+" rejected.",u),Promise.reject(u)})},H.computeAPICommandBindings=function(t,r,s){var n;switch(Array.isArray(s)||(s=[]),r){case"restyle":n=v(t,s);break;case"relayout":n=T(t,s);break;case"update":n=v(t,[s[0],s[2]]).concat(T(t,[s[1]]));break;case"animate":n=C(t,s);break;default:n=[]}return n};function C(t,r){return Array.isArray(r[0])&&r[0].length===1&&["string","number"].indexOf(typeof r[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:r[0][0].toString()}]:[]}function T(t,r){var s=[],n=r[0],o={};if(typeof n=="string")o[n]=r[1];else if(R.isPlainObject(n))o=n;else return s;return y(o,function(f,u,m){s.push({type:"layout",prop:f,value:m})},"",0),s}function v(t,r){var s,n,o,f,u=[];if(n=r[0],o=r[1],s=r[2],f={},typeof n=="string")f[n]=o;else if(R.isPlainObject(n))f=n,s===void 0&&(s=o);else return u;return s===void 0&&(s=null),y(f,function(m,c,A){var h,l;if(Array.isArray(A)){l=A.slice();var p=Math.min(l.length,t.data.length);s&&(p=Math.min(p,s.length)),h=[];for(var M=0;M<p;M++)h[M]=s?s[M]:M}else l=A,h=s?s.slice():null;if(h===null)Array.isArray(l)&&(l=l[0]);else if(Array.isArray(h)){if(!Array.isArray(l)){var S=l;l=[];for(var P=0;P<h.length;P++)l[P]=S}l.length=Math.min(h.length,l.length)}u.push({type:"data",prop:m,traces:h,value:l})},"",0),u}function y(t,r,s,n){Object.keys(t).forEach(function(o){var f=t[o];if(o[0]!=="_"){var u=s+(n>0?".":"")+o;R.isPlainObject(f)?y(f,r,u,n+1):r(u,o,f)}})}},27670:function(W,H,e){var g=e(1426).extendFlat;H.Y=function(R,a){R=R||{},a=a||{};var C={valType:"info_array",editType:R.editType,items:[{valType:"number",min:0,max:1,editType:R.editType},{valType:"number",min:0,max:1,editType:R.editType}],dflt:[0,1]};R.name&&R.name+"",R.trace,a.description&&""+a.description;var T={x:g({},C,{}),y:g({},C,{}),editType:R.editType};return R.noGridCell||(T.row={valType:"integer",min:0,dflt:0,editType:R.editType},T.column={valType:"integer",min:0,dflt:0,editType:R.editType}),T},H.c=function(R,a,C,T){var v=T&&T.x||[0,1],y=T&&T.y||[0,1],t=a.grid;if(t){var r=C("domain.column");r!==void 0&&(r<t.columns?v=t._domains.x[r]:delete R.domain.column);var s=C("domain.row");s!==void 0&&(s<t.rows?y=t._domains.y[s]:delete R.domain.row)}var n=C("domain.x",v),o=C("domain.y",y);n[0]<n[1]||(R.domain.x=v.slice()),o[0]<o[1]||(R.domain.y=y.slice())}},41940:function(W){W.exports=function(H){var e=H.editType,g=H.colorEditType;g===void 0&&(g=e);var R={family:{valType:"string",noBlank:!0,strict:!0,editType:e},size:{valType:"number",min:1,editType:e},color:{valType:"color",editType:g},editType:e};return H.autoSize&&(R.size.dflt="auto"),H.autoColor&&(R.color.dflt="auto"),H.arrayOk&&(R.family.arrayOk=!0,R.size.arrayOk=!0,R.color.arrayOk=!0),R}},31391:function(W){W.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},78776:function(W,H){H.projNames={airy:"airy",aitoff:"aitoff","albers usa":"albersUsa",albers:"albers",august:"august","azimuthal equal area":"azimuthalEqualArea","azimuthal equidistant":"azimuthalEquidistant",baker:"baker",bertin1953:"bertin1953",boggs:"boggs",bonne:"bonne",bottomley:"bottomley",bromley:"bromley",collignon:"collignon","conic conformal":"conicConformal","conic equal area":"conicEqualArea","conic equidistant":"conicEquidistant",craig:"craig",craster:"craster","cylindrical equal area":"cylindricalEqualArea","cylindrical stereographic":"cylindricalStereographic",eckert1:"eckert1",eckert2:"eckert2",eckert3:"eckert3",eckert4:"eckert4",eckert5:"eckert5",eckert6:"eckert6",eisenlohr:"eisenlohr","equal earth":"equalEarth",equirectangular:"equirectangular",fahey:"fahey","foucaut sinusoidal":"foucautSinusoidal",foucaut:"foucaut",ginzburg4:"ginzburg4",ginzburg5:"ginzburg5",ginzburg6:"ginzburg6",ginzburg8:"ginzburg8",ginzburg9:"ginzburg9",gnomonic:"gnomonic","gringorten quincuncial":"gringortenQuincuncial",gringorten:"gringorten",guyou:"guyou",hammer:"hammer",hill:"hill",homolosine:"homolosine",hufnagel:"hufnagel",hyperelliptical:"hyperelliptical",kavrayskiy7:"kavrayskiy7",lagrange:"lagrange",larrivee:"larrivee",laskowski:"laskowski",loximuthal:"loximuthal",mercator:"mercator",miller:"miller",mollweide:"mollweide","mt flat polar parabolic":"mtFlatPolarParabolic","mt flat polar quartic":"mtFlatPolarQuartic","mt flat polar sinusoidal":"mtFlatPolarSinusoidal","natural earth":"naturalEarth","natural earth1":"naturalEarth1","natural earth2":"naturalEarth2","nell hammer":"nellHammer",nicolosi:"nicolosi",orthographic:"orthographic",patterson:"patterson","peirce quincuncial":"peirceQuincuncial",polyconic:"polyconic","rectangular polyconic":"rectangularPolyconic",robinson:"robinson",satellite:"satellite","sinu mollweide":"sinuMollweide",sinusoidal:"sinusoidal",stereographic:"stereographic",times:"times","transverse mercator":"transverseMercator","van der grinten":"vanDerGrinten","van der grinten2":"vanDerGrinten2","van der grinten3":"vanDerGrinten3","van der grinten4":"vanDerGrinten4",wagner4:"wagner4",wagner6:"wagner6",wiechel:"wiechel","winkel tripel":"winkel3",winkel3:"winkel3"},H.axesNames=["lonaxis","lataxis"],H.lonaxisSpan={orthographic:180,"azimuthal equal area":360,"azimuthal equidistant":360,"conic conformal":180,gnomonic:160,stereographic:180,"transverse mercator":180,"*":360},H.lataxisSpan={"conic conformal":150,stereographic:179.5,"*":180},H.scopeDefaults={world:{lonaxisRange:[-180,180],lataxisRange:[-90,90],projType:"equirectangular",projRotate:[0,0,0]},usa:{lonaxisRange:[-180,-50],lataxisRange:[15,80],projType:"albers usa"},europe:{lonaxisRange:[-30,60],lataxisRange:[30,85],projType:"conic conformal",projRotate:[15,0,0],projParallels:[0,60]},asia:{lonaxisRange:[22,160],lataxisRange:[-15,55],projType:"mercator",projRotate:[0,0,0]},africa:{lonaxisRange:[-30,60],lataxisRange:[-40,40],projType:"mercator",projRotate:[0,0,0]},"north america":{lonaxisRange:[-180,-45],lataxisRange:[5,85],projType:"conic conformal",projRotate:[-100,0,0],projParallels:[29.5,45.5]},"south america":{lonaxisRange:[-100,-30],lataxisRange:[-60,15],projType:"mercator",projRotate:[0,0,0]}},H.clipPad=.001,H.precision=.1,H.landColor="#F0DC82",H.waterColor="#3399FF",H.locationmodeToLayer={"ISO-3":"countries","USA-states":"subunits","country names":"countries"},H.sphereSVG={type:"Sphere"},H.fillLayers={ocean:1,land:1,lakes:1},H.lineLayers={subunits:1,countries:1,coastlines:1,rivers:1,frame:1},H.layers=["bg","ocean","land","lakes","subunits","countries","coastlines","rivers","lataxis","lonaxis","frame","backplot","frontplot"],H.layersForChoropleth=["bg","ocean","land","subunits","countries","coastlines","lataxis","lonaxis","frame","backplot","rivers","lakes","frontplot"],H.layerNameToAdjective={ocean:"ocean",land:"land",lakes:"lake",subunits:"subunit",countries:"country",coastlines:"coastline",rivers:"river",frame:"frame"}},69082:function(W,H,e){var g=e(39898),R=e(27362),a=R.geoPath,C=R.geoDistance,T=e(65704),v=e(73972),y=e(71828),t=y.strTranslate,r=e(7901),s=e(91424),n=e(30211),o=e(74875),f=e(89298),u=e(71739).getAutoRange,m=e(28569),c=e(47322).prepSelect,A=e(47322).clearOutline,h=e(47322).selectOnClick,l=e(74455),p=e(78776),M=e(41327),S=e(90973),P=e(96892).zL;function x(b){this.id=b.id,this.graphDiv=b.graphDiv,this.container=b.container,this.topojsonURL=b.topojsonURL,this.isStatic=b.staticPlot,this.topojsonName=null,this.topojson=null,this.projection=null,this.scope=null,this.viewInitial=null,this.fitScale=null,this.bounds=null,this.midPt=null,this.hasChoropleth=!1,this.traceHash={},this.layers={},this.basePaths={},this.dataPaths={},this.dataPoints={},this.clipDef=null,this.clipRect=null,this.bgRect=null,this.makeFramework()}var E=x.prototype;W.exports=function(O){return new x(O)},E.plot=function(b,O,_,N){var z=this;if(N)return z.update(b,O,!0);z._geoCalcData=b,z._fullLayout=O;var B=O[this.id],U=[],F=!1;for(var V in p.layerNameToAdjective)if(V!=="frame"&&B["show"+V]){F=!0;break}for(var j=!1,$=0;$<b.length;$++){var ne=b[0][0].trace;ne._geo=z,ne.locationmode&&(F=!0);var oe=ne.marker;if(oe){var ce=oe.angle,Q=oe.angleref;(ce||Q==="north"||Q==="previous")&&(j=!0)}}if(this._hasMarkerAngles=j,F){var Z=S.getTopojsonName(B);(z.topojson===null||Z!==z.topojsonName)&&(z.topojsonName=Z,PlotlyGeoAssets.topojson[z.topojsonName]===void 0&&U.push(z.fetchTopojson()))}U=U.concat(M.fetchTraceGeoData(b)),_.push(new Promise(function(K,J){Promise.all(U).then(function(){z.topojson=PlotlyGeoAssets.topojson[z.topojsonName],z.update(b,O),K()}).catch(J)}))},E.fetchTopojson=function(){var b=this,O=S.getTopojsonPath(b.topojsonURL,b.topojsonName);return new Promise(function(_,N){g.json(O,function(z,B){if(z)return z.status===404?N(new Error(["plotly.js could not find topojson file at",O+".","Make sure the *topojsonURL* plot config option","is set properly."].join(" "))):N(new Error(["unexpected error while fetching topojson file at",O].join(" ")));PlotlyGeoAssets.topojson[b.topojsonName]=B,_()})})},E.update=function(b,O,_){var N=O[this.id];this.hasChoropleth=!1;for(var z=0;z<b.length;z++){var B=b[z],U=B[0].trace;U.type==="choropleth"&&(this.hasChoropleth=!0),U.visible===!0&&U._length>0&&U._module.calcGeoJSON(B,O)}if(!_){var F=this.updateProjection(b,O);if(F)return;(!this.viewInitial||this.scope!==N.scope)&&this.saveViewInitial(N)}this.scope=N.scope,this.updateBaseLayers(O,N),this.updateDims(O,N),this.updateFx(O,N),o.generalUpdatePerTraceModule(this.graphDiv,this,b,N);var V=this.layers.frontplot.select(".scatterlayer");this.dataPoints.point=V.selectAll(".point"),this.dataPoints.text=V.selectAll("text"),this.dataPaths.line=V.selectAll(".js-line");var j=this.layers.backplot.select(".choroplethlayer");this.dataPaths.choropleth=j.selectAll("path"),this._render()},E.updateProjection=function(b,O){var _=this.graphDiv,N=O[this.id],z=O._size,B=N.domain,U=N.projection,F=N.lonaxis,V=N.lataxis,j=F._ax,$=V._ax,ne=this.projection=w(N),oe=[[z.l+z.w*B.x[0],z.t+z.h*(1-B.y[1])],[z.l+z.w*B.x[1],z.t+z.h*(1-B.y[0])]],ce=N.center||{},Q=U.rotation||{},Z=F.range||[],K=V.range||[];if(N.fitbounds){j._length=oe[1][0]-oe[0][0],$._length=oe[1][1]-oe[0][1],j.range=u(_,j),$.range=u(_,$);var J=(j.range[0]+j.range[1])/2,re=($.range[0]+$.range[1])/2;if(N._isScoped)ce={lon:J,lat:re};else if(N._isClipped){ce={lon:J,lat:re},Q={lon:J,lat:re,roll:Q.roll};var le=U.type,q=p.lonaxisSpan[le]/2||180,ee=p.lataxisSpan[le]/2||90;Z=[J-q,J+q],K=[re-ee,re+ee]}else ce={lon:J,lat:re},Q={lon:J,lat:Q.lat,roll:Q.roll}}ne.center([ce.lon-Q.lon,ce.lat-Q.lat]).rotate([-Q.lon,-Q.lat,Q.roll]).parallels(U.parallels);var ue=L(Z,K);ne.fitExtent(oe,ue);var se=this.bounds=ne.getBounds(ue),he=this.fitScale=ne.scale(),me=ne.translate();if(N.fitbounds){var Ce=ne.getBounds(L(j.range,$.range)),Te=Math.min((se[1][0]-se[0][0])/(Ce[1][0]-Ce[0][0]),(se[1][1]-se[0][1])/(Ce[1][1]-Ce[0][1]));isFinite(Te)?ne.scale(Te*he):y.warn("Something went wrong during"+this.id+"fitbounds computations.")}else ne.scale(U.scale*he);var Oe=this.midPt=[(se[0][0]+se[1][0])/2,(se[0][1]+se[1][1])/2];if(ne.translate([me[0]+(Oe[0]-me[0]),me[1]+(Oe[1]-me[1])]).clipExtent(se),N._isAlbersUsa){var Ne=ne([ce.lon,ce.lat]),Le=ne.translate();ne.translate([Le[0]-(Ne[0]-Le[0]),Le[1]-(Ne[1]-Le[1])])}},E.updateBaseLayers=function(b,O){var _=this,N=_.topojson,z=_.layers,B=_.basePaths;function U(oe){return oe==="lonaxis"||oe==="lataxis"}function F(oe){return!!p.lineLayers[oe]}function V(oe){return!!p.fillLayers[oe]}var j=this.hasChoropleth?p.layersForChoropleth:p.layers,$=j.filter(function(oe){return F(oe)||V(oe)?O["show"+oe]:U(oe)?O[oe].showgrid:!0}),ne=_.framework.selectAll(".layer").data($,String);ne.exit().each(function(oe){delete z[oe],delete B[oe],g.select(this).remove()}),ne.enter().append("g").attr("class",function(oe){return"layer "+oe}).each(function(oe){var ce=z[oe]=g.select(this);oe==="bg"?_.bgRect=ce.append("rect").style("pointer-events","all"):U(oe)?B[oe]=ce.append("path").style("fill","none"):oe==="backplot"?ce.append("g").classed("choroplethlayer",!0):oe==="frontplot"?ce.append("g").classed("scatterlayer",!0):F(oe)?B[oe]=ce.append("path").style("fill","none").style("stroke-miterlimit",2):V(oe)&&(B[oe]=ce.append("path").style("stroke","none"))}),ne.order(),ne.each(function(oe){var ce=B[oe],Q=p.layerNameToAdjective[oe];oe==="frame"?ce.datum(p.sphereSVG):F(oe)||V(oe)?ce.datum(P(N,N.objects[oe])):U(oe)&&ce.datum(i(oe,O,b)).call(r.stroke,O[oe].gridcolor).call(s.dashLine,O[oe].griddash,O[oe].gridwidth),F(oe)?ce.call(r.stroke,O[Q+"color"]).call(s.dashLine,"",O[Q+"width"]):V(oe)&&ce.call(r.fill,O[Q+"color"])})},E.updateDims=function(b,O){var _=this.bounds,N=(O.framewidth||0)/2,z=_[0][0]-N,B=_[0][1]-N,U=_[1][0]-z+N,F=_[1][1]-B+N;s.setRect(this.clipRect,z,B,U,F),this.bgRect.call(s.setRect,z,B,U,F).call(r.fill,O.bgcolor),this.xaxis._offset=z,this.xaxis._length=U,this.yaxis._offset=B,this.yaxis._length=F},E.updateFx=function(b,O){var _=this,N=_.graphDiv,z=_.bgRect,B=b.dragmode,U=b.clickmode;if(_.isStatic)return;function F(){var ne=_.viewInitial,oe={};for(var ce in ne)oe[_.id+"."+ce]=ne[ce];v.call("_guiRelayout",N,oe),N.emit("plotly_doubleclick",null)}function V(ne){return _.projection.invert([ne[0]+_.xaxis._offset,ne[1]+_.yaxis._offset])}var j=function(ne,oe){if(oe.isRect){var ce=ne.range={};ce[_.id]=[V([oe.xmin,oe.ymin]),V([oe.xmax,oe.ymax])]}else{var Q=ne.lassoPoints={};Q[_.id]=oe.map(V)}},$={element:_.bgRect.node(),gd:N,plotinfo:{id:_.id,xaxis:_.xaxis,yaxis:_.yaxis,fillRangeItems:j},xaxes:[_.xaxis],yaxes:[_.yaxis],subplot:_.id,clickFn:function(ne){ne===2&&A(N)}};B==="pan"?(z.node().onmousedown=null,z.call(l(_,O)),z.on("dblclick.zoom",F),N._context._scrollZoom.geo||z.on("wheel.zoom",null)):(B==="select"||B==="lasso")&&(z.on(".zoom",null),$.prepFn=function(ne,oe,ce){c(ne,oe,ce,$,B)},m.init($)),z.on("mousemove",function(){var ne=_.projection.invert(y.getPositionFromD3Event());if(!ne)return m.unhover(N,g.event);_.xaxis.p2c=function(){return ne[0]},_.yaxis.p2c=function(){return ne[1]},n.hover(N,g.event,_.id)}),z.on("mouseout",function(){N._dragging||m.unhover(N,g.event)}),z.on("click",function(){B!=="select"&&B!=="lasso"&&(U.indexOf("select")>-1&&h(g.event,N,[_.xaxis],[_.yaxis],_.id,$),U.indexOf("event")>-1&&n.click(N,g.event))})},E.makeFramework=function(){var b=this,O=b.graphDiv,_=O._fullLayout,N="clip"+_._uid+b.id;b.clipDef=_._clips.append("clipPath").attr("id",N),b.clipRect=b.clipDef.append("rect"),b.framework=g.select(b.container).append("g").attr("class","geo "+b.id).call(s.setClipUrl,N,O),b.project=function(z){var B=b.projection(z);return B?[B[0]-b.xaxis._offset,B[1]-b.yaxis._offset]:[null,null]},b.xaxis={_id:"x",c2p:function(z){return b.project(z)[0]}},b.yaxis={_id:"y",c2p:function(z){return b.project(z)[1]}},b.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},f.setConvert(b.mockAxis,_)},E.saveViewInitial=function(b){var O=b.center||{},_=b.projection,N=_.rotation||{};this.viewInitial={fitbounds:b.fitbounds,"projection.scale":_.scale};var z;b._isScoped?z={"center.lon":O.lon,"center.lat":O.lat}:b._isClipped?z={"projection.rotation.lon":N.lon,"projection.rotation.lat":N.lat}:z={"center.lon":O.lon,"center.lat":O.lat,"projection.rotation.lon":N.lon},y.extendFlat(this.viewInitial,z)},E.render=function(b){this._hasMarkerAngles&&b?this.plot(this._geoCalcData,this._fullLayout,[],!0):this._render()},E._render=function(){var b=this.projection,O=b.getPath(),_;function N(B){var U=b(B.lonlat);return U?t(U[0],U[1]):null}function z(B){return b.isLonLatOverEdges(B.lonlat)?"none":null}for(_ in this.basePaths)this.basePaths[_].attr("d",O);for(_ in this.dataPaths)this.dataPaths[_].attr("d",function(B){return O(B.geojson)});for(_ in this.dataPoints)this.dataPoints[_].attr("display",z).attr("transform",N)};function w(b){var O=b.projection,_=O.type,N=p.projNames[_];N="geo"+y.titleCase(N);for(var z=R[N]||T[N],B=z(),U=b._isSatellite?Math.acos(1/O.distance)*180/Math.PI:b._isClipped?p.lonaxisSpan[_]/2:null,F=["center","rotate","parallels","clipExtent"],V=function(ne){return ne?B:[]},j=0;j<F.length;j++){var $=F[j];typeof B[$]!="function"&&(B[$]=V)}return B.isLonLatOverEdges=function(ne){if(B(ne)===null)return!0;if(U){var oe=B.rotate(),ce=C(ne,[-oe[0],-oe[1]]),Q=U*Math.PI/180;return ce>Q}else return!1},B.getPath=function(){return a().projection(B)},B.getBounds=function(ne){return B.getPath().bounds(ne)},B.precision(p.precision),b._isSatellite&&B.tilt(O.tilt).distance(O.distance),U&&B.clipAngle(U-p.clipPad),B}function i(b,O,_){var N=1e-6,z=2.5,B=O[b],U=p.scopeDefaults[O.scope],F,V,j;b==="lonaxis"?(F=U.lonaxisRange,V=U.lataxisRange,j=function(re,le){return[re,le]}):b==="lataxis"&&(F=U.lataxisRange,V=U.lonaxisRange,j=function(re,le){return[le,re]});var $={type:"linear",range:[F[0],F[1]-N],tick0:B.tick0,dtick:B.dtick};f.setConvert($,_);var ne=f.calcTicks($);!O.isScoped&&b==="lonaxis"&&ne.pop();for(var oe=ne.length,ce=new Array(oe),Q=0;Q<oe;Q++)for(var Z=ne[Q].x,K=ce[Q]=[],J=V[0];J<V[1]+z;J+=z)K.push(j(Z,J));return{type:"MultiLineString",coordinates:ce}}function L(b,O){var _=p.clipPad,N=b[0]+_,z=b[1]-_,B=O[0]+_,U=O[1]-_;N>0&&z<0&&(z+=360);var F=(z-N)/4;return{type:"Polygon",coordinates:[[[N,B],[N,U],[N+F,U],[N+2*F,U],[N+3*F,U],[z,U],[z,B],[z-F,B],[z-2*F,B],[z-3*F,B],[N,B]]]}}},44622:function(W,H,e){var g=e(27659).AU,R=e(71828).counterRegex,a=e(69082),C="geo",T=R(C),v={};v[C]={valType:"subplotid",dflt:C,editType:"calc"};function y(s){for(var n=s._fullLayout,o=s.calcdata,f=n._subplots[C],u=0;u<f.length;u++){var m=f[u],c=g(o,C,m),A=n[m],h=A._subplot;h||(h=a({id:m,graphDiv:s,container:n._geolayer.node(),topojsonURL:s._context.topojsonURL,staticPlot:s._context.staticPlot}),n[m]._subplot=h),h.plot(c,n,s._promises)}}function t(s,n,o,f){for(var u=f._subplots[C]||[],m=0;m<u.length;m++){var c=u[m],A=f[c]._subplot;!n[c]&&A&&(A.framework.remove(),A.clipDef.remove())}}function r(s){for(var n=s._fullLayout,o=n._subplots[C],f=0;f<o.length;f++){var u=n[o[f]],m=u._subplot;m.updateFx(n,u)}}W.exports={attr:C,name:C,idRoot:C,idRegex:T,attrRegex:T,attributes:v,layoutAttributes:e(77519),supplyLayoutDefaults:e(82161),plot:y,updateFx:r,clean:t}},77519:function(W,H,e){var g=e(22399),R=e(27670).Y,a=e(79952).P,C=e(78776),T=e(30962).overrideAll,v=e(78607),y={range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},showgrid:{valType:"boolean",dflt:!1},tick0:{valType:"number",dflt:0},dtick:{valType:"number"},gridcolor:{valType:"color",dflt:g.lightLine},gridwidth:{valType:"number",min:0,dflt:1},griddash:a},t=W.exports=T({domain:R({name:"geo"},{}),fitbounds:{valType:"enumerated",values:[!1,"locations","geojson"],dflt:!1,editType:"plot"},resolution:{valType:"enumerated",values:[110,50],dflt:110,coerceNumber:!0},scope:{valType:"enumerated",values:v(C.scopeDefaults),dflt:"world"},projection:{type:{valType:"enumerated",values:v(C.projNames)},rotation:{lon:{valType:"number"},lat:{valType:"number"},roll:{valType:"number"}},tilt:{valType:"number",dflt:0},distance:{valType:"number",min:1.001,dflt:2},parallels:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},scale:{valType:"number",min:0,dflt:1}},center:{lon:{valType:"number"},lat:{valType:"number"}},visible:{valType:"boolean",dflt:!0},showcoastlines:{valType:"boolean"},coastlinecolor:{valType:"color",dflt:g.defaultLine},coastlinewidth:{valType:"number",min:0,dflt:1},showland:{valType:"boolean",dflt:!1},landcolor:{valType:"color",dflt:C.landColor},showocean:{valType:"boolean",dflt:!1},oceancolor:{valType:"color",dflt:C.waterColor},showlakes:{valType:"boolean",dflt:!1},lakecolor:{valType:"color",dflt:C.waterColor},showrivers:{valType:"boolean",dflt:!1},rivercolor:{valType:"color",dflt:C.waterColor},riverwidth:{valType:"number",min:0,dflt:1},showcountries:{valType:"boolean"},countrycolor:{valType:"color",dflt:g.defaultLine},countrywidth:{valType:"number",min:0,dflt:1},showsubunits:{valType:"boolean"},subunitcolor:{valType:"color",dflt:g.defaultLine},subunitwidth:{valType:"number",min:0,dflt:1},showframe:{valType:"boolean"},framecolor:{valType:"color",dflt:g.defaultLine},framewidth:{valType:"number",min:0,dflt:1},bgcolor:{valType:"color",dflt:g.background},lonaxis:y,lataxis:y},"plot","from-root");t.uirevision={valType:"any",editType:"none"}},82161:function(W,H,e){var g=e(71828),R=e(49119),a=e(27659).NG,C=e(78776),T=e(77519),v=C.axesNames;W.exports=function(r,s,n){R(r,s,n,{type:"geo",attributes:T,handleDefaults:y,fullData:n,partition:"y"})};function y(t,r,s,n){var o=a(n.fullData,"geo",n.id),f=o.map(function(K){return K._expandedIndex}),u=s("resolution"),m=s("scope"),c=C.scopeDefaults[m],A=s("projection.type",c.projType),h=r._isAlbersUsa=A==="albers usa";h&&(m=r.scope="usa");var l=r._isScoped=m!=="world",p=r._isSatellite=A==="satellite",M=r._isConic=A.indexOf("conic")!==-1||A==="albers",S=r._isClipped=!!C.lonaxisSpan[A];if(t.visible===!1){var P=g.extendDeep({},r._template);P.showcoastlines=!1,P.showcountries=!1,P.showframe=!1,P.showlakes=!1,P.showland=!1,P.showocean=!1,P.showrivers=!1,P.showsubunits=!1,P.lonaxis&&(P.lonaxis.showgrid=!1),P.lataxis&&(P.lataxis.showgrid=!1),r._template=P}for(var x=s("visible"),E,w=0;w<v.length;w++){var i=v[w],L=[30,10][w],b;if(l)b=c[i+"Range"];else{var O=C[i+"Span"],_=(O[A]||O["*"])/2,N=s("projection.rotation."+i.substr(0,3),c.projRotate[w]);b=[N-_,N+_]}var z=s(i+".range",b);s(i+".tick0"),s(i+".dtick",L),E=s(i+".showgrid",x?void 0:!1),E&&(s(i+".gridcolor"),s(i+".gridwidth"),s(i+".griddash")),r[i]._ax={type:"linear",_id:i.slice(0,3),_traceIndices:f,setScale:g.identity,c2l:g.identity,r2l:g.identity,autorange:!0,range:z.slice(),_m:1,_input:{}}}var B=r.lonaxis.range,U=r.lataxis.range,F=B[0],V=B[1];F>0&&V<0&&(V+=360);var j=(F+V)/2,$;if(!h){var ne=l?c.projRotate:[j,0,0];$=s("projection.rotation.lon",ne[0]),s("projection.rotation.lat",ne[1]),s("projection.rotation.roll",ne[2]),E=s("showcoastlines",!l&&x),E&&(s("coastlinecolor"),s("coastlinewidth")),E=s("showocean",x?void 0:!1),E&&s("oceancolor")}var oe,ce;if(h?(oe=-96.6,ce=38.7):(oe=l?j:$,ce=(U[0]+U[1])/2),s("center.lon",oe),s("center.lat",ce),p&&(s("projection.tilt"),s("projection.distance")),M){var Q=c.projParallels||[0,60];s("projection.parallels",Q)}s("projection.scale"),E=s("showland",x?void 0:!1),E&&s("landcolor"),E=s("showlakes",x?void 0:!1),E&&s("lakecolor"),E=s("showrivers",x?void 0:!1),E&&(s("rivercolor"),s("riverwidth")),E=s("showcountries",l&&m!=="usa"&&x),E&&(s("countrycolor"),s("countrywidth")),(m==="usa"||m==="north america"&&u===50)&&(s("showsubunits",x),s("subunitcolor"),s("subunitwidth")),l||(E=s("showframe",x),E&&(s("framecolor"),s("framewidth"))),s("bgcolor");var Z=s("fitbounds");Z&&(delete r.projection.scale,l?(delete r.center.lon,delete r.center.lat):S?(delete r.center.lon,delete r.center.lat,delete r.projection.rotation.lon,delete r.projection.rotation.lat,delete r.lonaxis.range,delete r.lataxis.range):(delete r.center.lon,delete r.center.lat,delete r.projection.rotation.lon))}},74455:function(W,H,e){var g=e(39898),R=e(71828),a=e(73972),C=Math.PI/180,T=180/Math.PI,v={cursor:"pointer"},y={cursor:"auto"};function t(i,L){var b=i.projection,O;return L._isScoped?O=n:L._isClipped?O=f:O=o,O(i,b)}W.exports=t;function r(i,L){return g.behavior.zoom().translate(L.translate()).scale(L.scale())}function s(i,L,b){var O=i.id,_=i.graphDiv,N=_.layout,z=N[O],B=_._fullLayout,U=B[O],F={},V={};function j($,ne){F[O+"."+$]=R.nestedProperty(z,$).get(),a.call("_storeDirectGUIEdit",N,B._preGUI,F);var oe=R.nestedProperty(U,$);oe.get()!==ne&&(oe.set(ne),R.nestedProperty(z,$).set(ne),V[O+"."+$]=ne)}b(j),j("projection.scale",L.scale()/i.fitScale),j("fitbounds",!1),_.emit("plotly_relayout",V)}function n(i,L){var b=r(i,L);function O(){g.select(this).style(v)}function _(){L.scale(g.event.scale).translate(g.event.translate),i.render(!0);var B=L.invert(i.midPt);i.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":L.scale()/i.fitScale,"geo.center.lon":B[0],"geo.center.lat":B[1]})}function N(B){var U=L.invert(i.midPt);B("center.lon",U[0]),B("center.lat",U[1])}function z(){g.select(this).style(y),s(i,L,N)}return b.on("zoomstart",O).on("zoom",_).on("zoomend",z),b}function o(i,L){var b=r(i,L),O=2,_,N,z,B,U,F,V,j,$;function ne(J){return L.invert(J)}function oe(J){var re=ne(J);if(!re)return!0;var le=L(re);return Math.abs(le[0]-J[0])>O||Math.abs(le[1]-J[1])>O}function ce(){g.select(this).style(v),_=g.mouse(this),N=L.rotate(),z=L.translate(),B=N,U=ne(_)}function Q(){if(F=g.mouse(this),oe(_)){b.scale(L.scale()),b.translate(L.translate());return}L.scale(g.event.scale),L.translate([z[0],g.event.translate[1]]),U?ne(F)&&(j=ne(F),V=[B[0]+(j[0]-U[0]),N[1],N[2]],L.rotate(V),B=V):(_=F,U=ne(_)),$=!0,i.render(!0);var J=L.rotate(),re=L.invert(i.midPt);i.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":L.scale()/i.fitScale,"geo.center.lon":re[0],"geo.center.lat":re[1],"geo.projection.rotation.lon":-J[0]})}function Z(){g.select(this).style(y),$&&s(i,L,K)}function K(J){var re=L.rotate(),le=L.invert(i.midPt);J("projection.rotation.lon",-re[0]),J("center.lon",le[0]),J("center.lat",le[1])}return b.on("zoomstart",ce).on("zoom",Q).on("zoomend",Z),b}function f(i,L){L.rotate(),L.scale();var b=r(i,L),O=w(b,"zoomstart","zoom","zoomend"),_=0,N=b.on,z;b.on("zoomstart",function(){g.select(this).style(v);var j=g.mouse(this),$=L.rotate(),ne=$,oe=L.translate(),ce=m($);z=u(L,j),N.call(b,"zoom",function(){var Q=g.mouse(this);if(L.scale(g.event.scale),!z)j=Q,z=u(L,j);else if(u(L,Q)){L.rotate($).translate(oe);var Z=u(L,Q),K=A(z,Z),J=S(c(ce,K)),re=h(J,z,ne);(!isFinite(re[0])||!isFinite(re[1])||!isFinite(re[2]))&&(re=ne),L.rotate(re),ne=re}U(O.of(this,arguments))}),B(O.of(this,arguments))}).on("zoomend",function(){g.select(this).style(y),N.call(b,"zoom",null),F(O.of(this,arguments)),s(i,L,V)}).on("zoom.redraw",function(){i.render(!0);var j=L.rotate();i.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":L.scale()/i.fitScale,"geo.projection.rotation.lon":-j[0],"geo.projection.rotation.lat":-j[1]})});function B(j){_++||j({type:"zoomstart"})}function U(j){j({type:"zoom"})}function F(j){--_||j({type:"zoomend"})}function V(j){var $=L.rotate();j("projection.rotation.lon",-$[0]),j("projection.rotation.lat",-$[1])}return g.rebind(b,O,"on")}function u(i,L){var b=i.invert(L);return b&&isFinite(b[0])&&isFinite(b[1])&&P(b)}function m(i){var L=.5*i[0]*C,b=.5*i[1]*C,O=.5*i[2]*C,_=Math.sin(L),N=Math.cos(L),z=Math.sin(b),B=Math.cos(b),U=Math.sin(O),F=Math.cos(O);return[N*B*F+_*z*U,_*B*F-N*z*U,N*z*F+_*B*U,N*B*U-_*z*F]}function c(i,L){var b=i[0],O=i[1],_=i[2],N=i[3],z=L[0],B=L[1],U=L[2],F=L[3];return[b*z-O*B-_*U-N*F,b*B+O*z+_*F-N*U,b*U-O*F+_*z+N*B,b*F+O*U-_*B+N*z]}function A(i,L){if(!(!i||!L)){var b=E(i,L),O=Math.sqrt(x(b,b)),_=.5*Math.acos(Math.max(-1,Math.min(1,x(i,L)))),N=Math.sin(_)/O;return O&&[Math.cos(_),b[2]*N,-b[1]*N,b[0]*N]}}function h(i,L,b){var O=M(L,2,i[0]);O=M(O,1,i[1]),O=M(O,0,i[2]-b[2]);var _=L[0],N=L[1],z=L[2],B=O[0],U=O[1],F=O[2],V=Math.atan2(N,_)*T,j=Math.sqrt(_*_+N*N),$,ne;Math.abs(U)>j?(ne=(U>0?90:-90)-V,$=0):(ne=Math.asin(U/j)*T-V,$=Math.sqrt(j*j-U*U));var oe=180-ne-2*V,ce=(Math.atan2(F,B)-Math.atan2(z,$))*T,Q=(Math.atan2(F,B)-Math.atan2(z,-$))*T,Z=l(b[0],b[1],ne,ce),K=l(b[0],b[1],oe,Q);return Z<=K?[ne,ce,b[2]]:[oe,Q,b[2]]}function l(i,L,b,O){var _=p(b-i),N=p(O-L);return Math.sqrt(_*_+N*N)}function p(i){return(i%360+540)%360-180}function M(i,L,b){var O=b*C,_=i.slice(),N=L===0?1:0,z=L===2?1:2,B=Math.cos(O),U=Math.sin(O);return _[N]=i[N]*B-i[z]*U,_[z]=i[z]*B+i[N]*U,_}function S(i){return[Math.atan2(2*(i[0]*i[1]+i[2]*i[3]),1-2*(i[1]*i[1]+i[2]*i[2]))*T,Math.asin(Math.max(-1,Math.min(1,2*(i[0]*i[2]-i[3]*i[1]))))*T,Math.atan2(2*(i[0]*i[3]+i[1]*i[2]),1-2*(i[2]*i[2]+i[3]*i[3]))*T]}function P(i){var L=i[0]*C,b=i[1]*C,O=Math.cos(b);return[O*Math.cos(L),O*Math.sin(L),Math.sin(b)]}function x(i,L){for(var b=0,O=0,_=i.length;O<_;++O)b+=i[O]*L[O];return b}function E(i,L){return[i[1]*L[2]-i[2]*L[1],i[2]*L[0]-i[0]*L[2],i[0]*L[1]-i[1]*L[0]]}function w(i){for(var L=0,b=arguments.length,O=[];++L<b;)O.push(arguments[L]);var _=g.dispatch.apply(null,O);return _.of=function(N,z){return function(B){var U;try{U=B.sourceEvent=g.event,B.target=i,g.event=B,_[B.type].apply(N,z)}finally{g.event=U}}},_}},27659:function(W,H,e){var g=e(73972),R=e(85555).SUBPLOT_PATTERN;H.AU=function(a,C,T){var v=g.subplotsRegistry[C];if(!v)return[];for(var y=v.attr,t=[],r=0;r<a.length;r++){var s=a[r],n=s[0].trace;n[y]===T&&t.push(s)}return t},H.a0=function(a,C){var T=[],v=[],y;if(typeof C=="string"?y=g.getModule(C).plot:typeof C=="function"?y=C:y=C.plot,!y)return[T,a];for(var t=0;t<a.length;t++){var r=a[t],s=r[0].trace;s.visible!==!0||s._length===0||(s._module&&s._module.plot===y?T.push(r):v.push(r))}return[T,v]},H.NG=function(C,T,v){if(!g.subplotsRegistry[T])return[];var y=g.subplotsRegistry[T].attr,t=[],r,s,n;if(T==="gl2d"){var o=v.match(R);s="x"+o[1],n="y"+o[2]}for(var f=0;f<C.length;f++)r=C[f],T==="gl2d"&&g.traceIs(r,"gl2d")?r[y[0]]===s&&r[y[1]]===n&&t.push(r):r[y]===v&&t.push(r);return t}},75071:function(W,H,e){var g=e(16825),R=e(1195),a=e(48956),C=e(85555),T=e(38520);W.exports=y;function v(t,r){this.element=t,this.plot=r,this.mouseListener=null,this.wheelListener=null,this.lastInputTime=Date.now(),this.lastPos=[0,0],this.boxEnabled=!1,this.boxInited=!1,this.boxStart=[0,0],this.boxEnd=[0,0],this.dragStart=[0,0]}function y(t){var r=t.mouseContainer,s=t.glplot,n=new v(r,s);function o(){t.xaxis.autorange=!1,t.yaxis.autorange=!1}function f(){for(var m=t.graphDiv._fullLayout._axisConstraintGroups,c=t.xaxis._id,A=t.yaxis._id,h=0;h<m.length;h++)if(m[h][c]!==-1){if(m[h][A]!==-1)return!0;break}return!1}n.mouseListener=g(r,u),r.addEventListener("touchstart",function(m){var c=a(m.changedTouches[0],r);u(0,c[0],c[1]),u(1,c[0],c[1]),m.preventDefault()},T?{passive:!1}:!1),r.addEventListener("touchmove",function(m){m.preventDefault();var c=a(m.changedTouches[0],r);u(1,c[0],c[1]),m.preventDefault()},T?{passive:!1}:!1),r.addEventListener("touchend",function(m){u(0,n.lastPos[0],n.lastPos[1]),m.preventDefault()},T?{passive:!1}:!1);function u(m,c,A){var h=t.calcDataBox(),l=s.viewBox,p=n.lastPos[0],M=n.lastPos[1],S=C.MINDRAG*s.pixelRatio,P=C.MINZOOM*s.pixelRatio,x,E;c*=s.pixelRatio,A*=s.pixelRatio,A=l[3]-l[1]-A;function w(N,z,B){var U=Math.min(z,B),F=Math.max(z,B);U!==F?(h[N]=U,h[N+2]=F,n.dataBox=h,t.setRanges(h)):(t.selectBox.selectBox=[0,0,1,1],t.glplot.setDirty())}switch(t.fullLayout.dragmode){case"zoom":if(m){var i=c/(l[2]-l[0])*(h[2]-h[0])+h[0],L=A/(l[3]-l[1])*(h[3]-h[1])+h[1];n.boxInited||(n.boxStart[0]=i,n.boxStart[1]=L,n.dragStart[0]=c,n.dragStart[1]=A),n.boxEnd[0]=i,n.boxEnd[1]=L,n.boxInited=!0,!n.boxEnabled&&(n.boxStart[0]!==n.boxEnd[0]||n.boxStart[1]!==n.boxEnd[1])&&(n.boxEnabled=!0);var b=Math.abs(n.dragStart[0]-c)<P,O=Math.abs(n.dragStart[1]-A)<P;if(f()&&!(b&&O)){x=n.boxEnd[0]-n.boxStart[0],E=n.boxEnd[1]-n.boxStart[1];var _=(h[3]-h[1])/(h[2]-h[0]);Math.abs(x*_)>Math.abs(E)?(n.boxEnd[1]=n.boxStart[1]+Math.abs(x)*_*(E>=0?1:-1),n.boxEnd[1]<h[1]?(n.boxEnd[1]=h[1],n.boxEnd[0]=n.boxStart[0]+(h[1]-n.boxStart[1])/Math.abs(_)):n.boxEnd[1]>h[3]&&(n.boxEnd[1]=h[3],n.boxEnd[0]=n.boxStart[0]+(h[3]-n.boxStart[1])/Math.abs(_))):(n.boxEnd[0]=n.boxStart[0]+Math.abs(E)/_*(x>=0?1:-1),n.boxEnd[0]<h[0]?(n.boxEnd[0]=h[0],n.boxEnd[1]=n.boxStart[1]+(h[0]-n.boxStart[0])*Math.abs(_)):n.boxEnd[0]>h[2]&&(n.boxEnd[0]=h[2],n.boxEnd[1]=n.boxStart[1]+(h[2]-n.boxStart[0])*Math.abs(_)))}else b&&(n.boxEnd[0]=n.boxStart[0]),O&&(n.boxEnd[1]=n.boxStart[1])}else n.boxEnabled?(x=n.boxStart[0]!==n.boxEnd[0],E=n.boxStart[1]!==n.boxEnd[1],x||E?(x&&(w(0,n.boxStart[0],n.boxEnd[0]),t.xaxis.autorange=!1),E&&(w(1,n.boxStart[1],n.boxEnd[1]),t.yaxis.autorange=!1),t.relayoutCallback()):t.glplot.setDirty(),n.boxEnabled=!1,n.boxInited=!1):n.boxInited&&(n.boxInited=!1);break;case"pan":n.boxEnabled=!1,n.boxInited=!1,m?(n.panning||(n.dragStart[0]=c,n.dragStart[1]=A),Math.abs(n.dragStart[0]-c)<S&&(c=n.dragStart[0]),Math.abs(n.dragStart[1]-A)<S&&(A=n.dragStart[1]),x=(p-c)*(h[2]-h[0])/(s.viewBox[2]-s.viewBox[0]),E=(M-A)*(h[3]-h[1])/(s.viewBox[3]-s.viewBox[1]),h[0]+=x,h[2]+=x,h[1]+=E,h[3]+=E,t.setRanges(h),n.panning=!0,n.lastInputTime=Date.now(),o(),t.cameraChanged(),t.handleAnnotations()):n.panning&&(n.panning=!1,t.relayoutCallback());break}n.lastPos[0]=c,n.lastPos[1]=A}return n.wheelListener=R(r,function(m,c){if(!t.scrollZoom)return!1;var A=t.calcDataBox(),h=s.viewBox,l=n.lastPos[0],p=n.lastPos[1],M=Math.exp(5*c/(h[3]-h[1])),S=l/(h[2]-h[0])*(A[2]-A[0])+A[0],P=p/(h[3]-h[1])*(A[3]-A[1])+A[1];return A[0]=(A[0]-S)*M+S,A[2]=(A[2]-S)*M+S,A[1]=(A[1]-P)*M+P,A[3]=(A[3]-P)*M+P,t.setRanges(A),n.lastInputTime=Date.now(),o(),t.cameraChanged(),t.handleAnnotations(),t.relayoutCallback(),!0},!0),n}},82961:function(W,H,e){var g=e(89298),R=e(78614);function a(y){this.scene=y,this.gl=y.gl,this.pixelRatio=y.pixelRatio,this.screenBox=[0,0,1,1],this.viewBox=[0,0,1,1],this.dataBox=[-1,-1,1,1],this.borderLineEnable=[!1,!1,!1,!1],this.borderLineWidth=[1,1,1,1],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.ticks=[[],[]],this.tickEnable=[!0,!0,!1,!1],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labels=["x","y"],this.labelEnable=[!0,!0,!1,!1],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelPad=[15,15,15,15],this.labelSize=[12,12],this.labelFont=["sans-serif","sans-serif"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.title="",this.titleEnable=!0,this.titleCenter=[0,0,0,0],this.titleAngle=0,this.titleColor=[0,0,0,1],this.titleFont="sans-serif",this.titleSize=18,this.gridLineEnable=[!0,!0],this.gridLineColor=[[0,0,0,.5],[0,0,0,.5]],this.gridLineWidth=[1,1],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[1,1],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.static=this.scene.staticPlot}var C=a.prototype,T=["xaxis","yaxis"];C.merge=function(y){this.titleEnable=!1,this.backgroundColor=R(y.plot_bgcolor);var t,r,s,n,o,f,u,m,c,A,h;for(A=0;A<2;++A){t=T[A];var l=t.charAt(0);for(r=y[this.scene[t]._name],s=r.title.text===this.scene.fullLayout._dfltTitle[l]?"":r.title.text,h=0;h<=2;h+=2)this.labelEnable[A+h]=!1,this.labels[A+h]=s,this.labelColor[A+h]=R(r.title.font.color),this.labelFont[A+h]=r.title.font.family,this.labelSize[A+h]=r.title.font.size,this.labelPad[A+h]=this.getLabelPad(t,r),this.tickEnable[A+h]=!1,this.tickColor[A+h]=R((r.tickfont||{}).color),this.tickAngle[A+h]=r.tickangle==="auto"?0:Math.PI*-r.tickangle/180,this.tickPad[A+h]=this.getTickPad(r),this.tickMarkLength[A+h]=0,this.tickMarkWidth[A+h]=r.tickwidth||0,this.tickMarkColor[A+h]=R(r.tickcolor),this.borderLineEnable[A+h]=!1,this.borderLineColor[A+h]=R(r.linecolor),this.borderLineWidth[A+h]=r.linewidth||0;u=this.hasSharedAxis(r),o=this.hasAxisInDfltPos(t,r)&&!u,f=this.hasAxisInAltrPos(t,r)&&!u,n=r.mirror||!1,m=u?String(n).indexOf("all")!==-1:!!n,c=u?n==="allticks":String(n).indexOf("ticks")!==-1,o?this.labelEnable[A]=!0:f&&(this.labelEnable[A+2]=!0),o?this.tickEnable[A]=r.showticklabels:f&&(this.tickEnable[A+2]=r.showticklabels),(o||m)&&(this.borderLineEnable[A]=r.showline),(f||m)&&(this.borderLineEnable[A+2]=r.showline),(o||c)&&(this.tickMarkLength[A]=this.getTickMarkLength(r)),(f||c)&&(this.tickMarkLength[A+2]=this.getTickMarkLength(r)),this.gridLineEnable[A]=r.showgrid,this.gridLineColor[A]=R(r.gridcolor),this.gridLineWidth[A]=r.gridwidth,this.zeroLineEnable[A]=r.zeroline,this.zeroLineColor[A]=R(r.zerolinecolor),this.zeroLineWidth[A]=r.zerolinewidth}},C.hasSharedAxis=function(y){var t=this.scene,r=t.fullLayout._subplots.gl2d,s=g.findSubplotsWithAxis(r,y);return s.indexOf(t.id)!==0},C.hasAxisInDfltPos=function(y,t){var r=t.side;if(y==="xaxis")return r==="bottom";if(y==="yaxis")return r==="left"},C.hasAxisInAltrPos=function(y,t){var r=t.side;if(y==="xaxis")return r==="top";if(y==="yaxis")return r==="right"},C.getLabelPad=function(y,t){var r=1.5,s=t.title.font.size,n=t.showticklabels;if(y==="xaxis")return t.side==="top"?-10+s*(r+(n?1:0)):-10+s*(r+(n?.5:0));if(y==="yaxis")return t.side==="right"?10+s*(r+(n?1:.5)):10+s*(r+(n?.5:0))},C.getTickPad=function(y){return y.ticks==="outside"?10+y.ticklen:15},C.getTickMarkLength=function(y){if(!y.ticks)return 0;var t=y.ticklen;return y.ticks==="inside"?-t:t};function v(y){return new a(y)}W.exports=v},4796:function(W,H,e){var g=e(30962).overrideAll,R=e(92918),a=e(10820),C=e(77922),T=e(85555),v=e(93612),y=e(528),t=e(27659).NG;H.name="gl2d",H.attr=["xaxis","yaxis"],H.idRoot=["x","y"],H.idRegex=T.idRegex,H.attrRegex=T.attrRegex,H.attributes=e(89502),H.supplyLayoutDefaults=function(r,s,n){s._has("cartesian")||v.supplyLayoutDefaults(r,s,n)},H.layoutAttrOverrides=g(v.layoutAttributes,"plot","from-root"),H.baseLayoutAttrOverrides=g({plot_bgcolor:a.plot_bgcolor,hoverlabel:y.hoverlabel},"plot","nested"),H.plot=function(s){for(var n=s._fullLayout,o=s._fullData,f=n._subplots.gl2d,u=0;u<f.length;u++){var m=f[u],c=n._plots[m],A=t(o,"gl2d",m),h=c._scene2d;h===void 0&&(h=new R({id:m,graphDiv:s,container:s.querySelector(".gl-container"),staticPlot:s._context.staticPlot,plotGlPixelRatio:s._context.plotGlPixelRatio},n),c._scene2d=h),h.plot(A,s.calcdata,n,s.layout)}},H.clean=function(r,s,n,o){for(var f=o._subplots.gl2d||[],u=0;u<f.length;u++){var m=f[u],c=o._plots[m];if(c._scene2d){var A=t(r,"gl2d",m);A.length===0&&(c._scene2d.destroy(),delete o._plots[m])}}v.clean.apply(this,arguments)},H.drawFramework=function(r){r._context.staticPlot||v.drawFramework(r)},H.toSVG=function(r){for(var s=r._fullLayout,n=s._subplots.gl2d,o=0;o<n.length;o++){var f=s._plots[n[o]],u=f._scene2d,m=u.toImage("png"),c=s._glimages.append("svg:image");c.attr({xmlns:C.svg,"xlink:href":m,x:0,y:0,width:"100%",height:"100%",preserveAspectRatio:"none"}),u.destroy()}},H.updateFx=function(r){for(var s=r._fullLayout,n=s._subplots.gl2d,o=0;o<n.length;o++){var f=s._plots[n[o]]._scene2d;f.updateFx(s.dragmode)}}},92918:function(W,H,e){var g=e(73972),R=e(89298),a=e(30211),C=e(9330).gl_plot2d,T=e(9330).gl_spikes2d,v=e(9330).gl_select_box,y=e(40372),t=e(82961),r=e(75071),s=e(58617),n=e(99082),o=n.enforce,f=n.clean,u=e(71739).doAutoRange,m=e(64505),c=m.drawMode,A=m.selectMode,h=["xaxis","yaxis"],l,p,M=e(85555).SUBPLOT_PATTERN;function S(E,w){this.container=E.container,this.graphDiv=E.graphDiv,this.pixelRatio=E.plotGlPixelRatio||window.devicePixelRatio,this.id=E.id,this.staticPlot=!!E.staticPlot,this.scrollZoom=this.graphDiv._context._scrollZoom.cartesian,this.fullData=null,this.updateRefs(w),this.makeFramework(),!this.stopped&&(this.glplotOptions=t(this),this.glplotOptions.merge(w),this.glplot=C(this.glplotOptions),this.camera=r(this),this.traces={},this.spikes=T(this.glplot),this.selectBox=v(this.glplot,{innerFill:!1,outerFill:!0}),this.lastButtonState=0,this.pickResult=null,this.isMouseOver=!0,this.stopped=!1,this.redraw=this.draw.bind(this),this.redraw())}W.exports=S;var P=S.prototype;P.makeFramework=function(){if(this.staticPlot){if(!p&&(l=document.createElement("canvas"),p=y({canvas:l,preserveDrawingBuffer:!1,premultipliedAlpha:!0,antialias:!0}),!p))throw new Error("Error creating static canvas/context for image server");this.canvas=l,this.gl=p}else{var E=this.container.querySelector(".gl-canvas-focus"),w=y({canvas:E,preserveDrawingBuffer:!0,premultipliedAlpha:!0});if(!w){s(this),this.stopped=!0;return}this.canvas=E,this.gl=w}var i=this.canvas;i.style.width="100%",i.style.height="100%",i.style.position="absolute",i.style.top="0px",i.style.left="0px",i.style["pointer-events"]="none",this.updateSize(i);var L=this.svgContainer=document.createElementNS("http://www.w3.org/2000/svg","svg");L.style.position="absolute",L.style.top=L.style.left="0px",L.style.width=L.style.height="100%",L.style["z-index"]=20,L.style["pointer-events"]="none";var b=this.mouseContainer=document.createElement("div");b.style.position="absolute",b.style["pointer-events"]="auto",this.pickCanvas=this.container.querySelector(".gl-canvas-pick");var O=this.container;O.appendChild(L),O.appendChild(b);var _=this;b.addEventListener("mouseout",function(){_.isMouseOver=!1,_.unhover()}),b.addEventListener("mouseover",function(){_.isMouseOver=!0})},P.toImage=function(E){E||(E="png"),this.stopped=!0,this.staticPlot&&this.container.appendChild(l),this.updateSize(this.canvas);var w=this.glplot.gl,i=w.drawingBufferWidth,L=w.drawingBufferHeight;w.clearColor(1,1,1,0),w.clear(w.COLOR_BUFFER_BIT|w.DEPTH_BUFFER_BIT),this.glplot.setDirty(),this.glplot.draw(),w.bindFramebuffer(w.FRAMEBUFFER,null);var b=new Uint8Array(i*L*4);w.readPixels(0,0,i,L,w.RGBA,w.UNSIGNED_BYTE,b);for(var O=0,_=L-1;O<_;++O,--_)for(var N=0;N<i;++N)for(var z=0;z<4;++z){var B=b[4*(i*O+N)+z];b[4*(i*O+N)+z]=b[4*(i*_+N)+z],b[4*(i*_+N)+z]=B}var U=document.createElement("canvas");U.width=i,U.height=L;var F=U.getContext("2d",{willReadFrequently:!0}),V=F.createImageData(i,L);V.data.set(b),F.putImageData(V,0,0);var j;switch(E){case"jpeg":j=U.toDataURL("image/jpeg");break;case"webp":j=U.toDataURL("image/webp");break;default:j=U.toDataURL("image/png")}return this.staticPlot&&this.container.removeChild(l),j},P.updateSize=function(E){E||(E=this.canvas);var w=this.pixelRatio,i=this.fullLayout,L=i.width,b=i.height,O=Math.ceil(w*L)|0,_=Math.ceil(w*b)|0;return(E.width!==O||E.height!==_)&&(E.width=O,E.height=_),E},P.computeTickMarks=function(){this.xaxis.setScale(),this.yaxis.setScale();for(var E=[R.calcTicks(this.xaxis),R.calcTicks(this.yaxis)],w=0;w<2;++w)for(var i=0;i<E[w].length;++i)E[w][i].text=E[w][i].text+"";return E};function x(E,w){for(var i=0;i<2;++i){var L=E[i],b=w[i];if(L.length!==b.length)return!0;for(var O=0;O<L.length;++O)if(L[O].x!==b[O].x)return!0}return!1}P.updateRefs=function(E){this.fullLayout=E;var w=this.id.match(M),i="xaxis"+w[1],L="yaxis"+w[2];this.xaxis=this.fullLayout[i],this.yaxis=this.fullLayout[L]},P.relayoutCallback=function(){var E=this.graphDiv,w=this.xaxis,i=this.yaxis,L=E.layout,b={},O=b[w._name+".range"]=w.range.slice(),_=b[i._name+".range"]=i.range.slice();b[w._name+".autorange"]=w.autorange,b[i._name+".autorange"]=i.autorange,g.call("_storeDirectGUIEdit",E.layout,E._fullLayout._preGUI,b);var N=L[w._name];N.range=O,N.autorange=w.autorange;var z=L[i._name];z.range=_,z.autorange=i.autorange,b.lastInputTime=this.camera.lastInputTime,E.emit("plotly_relayout",b)},P.cameraChanged=function(){var E=this.camera;this.glplot.setDataBox(this.calcDataBox());var w=this.computeTickMarks(),i=this.glplotOptions.ticks;x(w,i)&&(this.glplotOptions.ticks=w,this.glplotOptions.dataBox=E.dataBox,this.glplot.update(this.glplotOptions),this.handleAnnotations())},P.handleAnnotations=function(){for(var E=this.graphDiv,w=this.fullLayout.annotations,i=0;i<w.length;i++){var L=w[i];L.xref===this.xaxis._id&&L.yref===this.yaxis._id&&g.getComponentMethod("annotations","drawOne")(E,i)}},P.destroy=function(){if(this.glplot){var E=this.traces;E&&Object.keys(E).map(function(w){E[w].dispose(),delete E[w]}),this.glplot.dispose(),this.container.removeChild(this.svgContainer),this.container.removeChild(this.mouseContainer),this.fullData=null,this.glplot=null,this.stopped=!0,this.camera.mouseListener.enabled=!1,this.mouseContainer.removeEventListener("wheel",this.camera.wheelListener),this.camera=null}},P.plot=function(E,w,i){var L=this.glplot;this.updateRefs(i),this.xaxis.clearCalc(),this.yaxis.clearCalc(),this.updateTraces(E,w),this.updateFx(i.dragmode);var b=i.width,O=i.height;this.updateSize(this.canvas);var _=this.glplotOptions;_.merge(i),_.screenBox=[0,0,b,O];var N={_fullLayout:{_axisConstraintGroups:i._axisConstraintGroups,xaxis:this.xaxis,yaxis:this.yaxis,_size:i._size}};f(N,this.xaxis),f(N,this.yaxis);var z=i._size,B=this.xaxis.domain,U=this.yaxis.domain;_.viewBox=[z.l+B[0]*z.w,z.b+U[0]*z.h,b-z.r-(1-B[1])*z.w,O-z.t-(1-U[1])*z.h],this.mouseContainer.style.width=z.w*(B[1]-B[0])+"px",this.mouseContainer.style.height=z.h*(U[1]-U[0])+"px",this.mouseContainer.height=z.h*(U[1]-U[0]),this.mouseContainer.style.left=z.l+B[0]*z.w+"px",this.mouseContainer.style.top=z.t+(1-U[1])*z.h+"px";var F,V;for(V=0;V<2;++V)F=this[h[V]],F._length=_.viewBox[V+2]-_.viewBox[V],u(this.graphDiv,F),F.setScale();o(N),_.ticks=this.computeTickMarks(),_.dataBox=this.calcDataBox(),_.merge(i),L.update(_),this.glplot.draw()},P.calcDataBox=function(){var E=this.xaxis,w=this.yaxis,i=E.range,L=w.range,b=E.r2l,O=w.r2l;return[b(i[0]),O(L[0]),b(i[1]),O(L[1])]},P.setRanges=function(E){var w=this.xaxis,i=this.yaxis,L=w.l2r,b=i.l2r;w.range=[L(E[0]),L(E[2])],i.range=[b(E[1]),b(E[3])]},P.updateTraces=function(E,w){var i=Object.keys(this.traces),L,b,O;this.fullData=E;e:for(L=0;L<i.length;L++){var _=i[L],N=this.traces[_];for(b=0;b<E.length;b++)if(O=E[b],O.uid===_&&O.type===N.type)continue e;N.dispose(),delete this.traces[_]}for(L=0;L<E.length;L++){O=E[L];var z=w[L],B=this.traces[O.uid];B?B.update(O,z):(B=O._module.plot(this,O,z),this.traces[O.uid]=B)}this.glplot.objects.sort(function(U,F){return U._trace.index-F._trace.index})},P.updateFx=function(E){A(E)||c(E)?(this.pickCanvas.style["pointer-events"]="none",this.mouseContainer.style["pointer-events"]="none"):(this.pickCanvas.style["pointer-events"]="auto",this.mouseContainer.style["pointer-events"]="auto"),E==="pan"?this.mouseContainer.style.cursor="move":E==="zoom"?this.mouseContainer.style.cursor="crosshair":this.mouseContainer.style.cursor=null},P.emitPointAction=function(E,w){for(var i=E.trace.uid,L=E.pointIndex,b,O=0;O<this.fullData.length;O++)this.fullData[O].uid===i&&(b=this.fullData[O]);var _={x:E.traceCoord[0],y:E.traceCoord[1],curveNumber:b.index,pointNumber:L,data:b._input,fullData:this.fullData,xaxis:this.xaxis,yaxis:this.yaxis};a.appendArrayPointValue(_,b,L),this.graphDiv.emit(w,{points:[_]})},P.draw=function(){if(!this.stopped){requestAnimationFrame(this.redraw);var E=this.glplot,w=this.camera,i=w.mouseListener,L=this.lastButtonState===1&&i.buttons===0,b=this.fullLayout;this.lastButtonState=i.buttons,this.cameraChanged();var O=i.x*E.pixelRatio,_=this.canvas.height-E.pixelRatio*i.y,N;if(w.boxEnabled&&b.dragmode==="zoom"){this.selectBox.enabled=!0;for(var z=this.selectBox.selectBox=[Math.min(w.boxStart[0],w.boxEnd[0]),Math.min(w.boxStart[1],w.boxEnd[1]),Math.max(w.boxStart[0],w.boxEnd[0]),Math.max(w.boxStart[1],w.boxEnd[1])],B=0;B<2;B++)w.boxStart[B]===w.boxEnd[B]&&(z[B]=E.dataBox[B],z[B+2]=E.dataBox[B+2]);E.setDirty()}else if(!w.panning&&this.isMouseOver){this.selectBox.enabled=!1;var U=b._size,F=this.xaxis.domain,V=this.yaxis.domain;N=E.pick(O/E.pixelRatio+U.l+F[0]*U.w,_/E.pixelRatio-(U.t+(1-V[1])*U.h));var j=N&&N.object._trace.handlePick(N);if(j&&L&&this.emitPointAction(j,"plotly_click"),N&&N.object._trace.hoverinfo!=="skip"&&b.hovermode&&j&&(!this.lastPickResult||this.lastPickResult.traceUid!==j.trace.uid||this.lastPickResult.dataCoord[0]!==j.dataCoord[0]||this.lastPickResult.dataCoord[1]!==j.dataCoord[1])){var $=j;this.lastPickResult={traceUid:j.trace?j.trace.uid:null,dataCoord:j.dataCoord.slice()},this.spikes.update({center:N.dataCoord}),$.screenCoord=[((E.viewBox[2]-E.viewBox[0])*(N.dataCoord[0]-E.dataBox[0])/(E.dataBox[2]-E.dataBox[0])+E.viewBox[0])/E.pixelRatio,(this.canvas.height-(E.viewBox[3]-E.viewBox[1])*(N.dataCoord[1]-E.dataBox[1])/(E.dataBox[3]-E.dataBox[1])-E.viewBox[1])/E.pixelRatio],this.emitPointAction(j,"plotly_hover");var ne=this.fullData[$.trace.index]||{},oe=$.pointIndex,ce=a.castHoverinfo(ne,b,oe);if(ce&&ce!=="all"){var Q=ce.split("+");Q.indexOf("x")===-1&&($.traceCoord[0]=void 0),Q.indexOf("y")===-1&&($.traceCoord[1]=void 0),Q.indexOf("z")===-1&&($.traceCoord[2]=void 0),Q.indexOf("text")===-1&&($.textLabel=void 0),Q.indexOf("name")===-1&&($.name=void 0)}a.loneHover({x:$.screenCoord[0],y:$.screenCoord[1],xLabel:this.hoverFormatter("xaxis",$.traceCoord[0]),yLabel:this.hoverFormatter("yaxis",$.traceCoord[1]),zLabel:$.traceCoord[2],text:$.textLabel,name:$.name,color:a.castHoverOption(ne,oe,"bgcolor")||$.color,borderColor:a.castHoverOption(ne,oe,"bordercolor"),fontFamily:a.castHoverOption(ne,oe,"font.family"),fontSize:a.castHoverOption(ne,oe,"font.size"),fontColor:a.castHoverOption(ne,oe,"font.color"),nameLength:a.castHoverOption(ne,oe,"namelength"),textAlign:a.castHoverOption(ne,oe,"align")},{container:this.svgContainer,gd:this.graphDiv})}}N||this.unhover(),E.draw()}},P.unhover=function(){this.lastPickResult&&(this.spikes.update({}),this.lastPickResult=null,this.graphDiv.emit("plotly_unhover"),a.loneUnhover(this.svgContainer))},P.hoverFormatter=function(E,w){if(w!==void 0){var i=this[E];return R.tickText(i,i.c2l(w),"hover").text}}},58547:function(W,H,e){var g=e(30962).overrideAll,R=e(528),a=e(33539),C=e(27659).NG,T=e(71828),v=e(77922),y="gl3d",t="scene";H.name=y,H.attr=t,H.idRoot=t,H.idRegex=H.attrRegex=T.counterRegex("scene"),H.attributes=e(59084),H.layoutAttributes=e(65500),H.baseLayoutAttrOverrides=g({hoverlabel:R.hoverlabel},"plot","nested"),H.supplyLayoutDefaults=e(24682),H.plot=function(s){for(var n=s._fullLayout,o=s._fullData,f=n._subplots[y],u=0;u<f.length;u++){var m=f[u],c=C(o,y,m),A=n[m],h=A.camera,l=A._scene;l||(l=new a({id:m,graphDiv:s,container:s.querySelector(".gl-container"),staticPlot:s._context.staticPlot,plotGlPixelRatio:s._context.plotGlPixelRatio,camera:h},n),A._scene=l),l.viewInitial||(l.viewInitial={up:{x:h.up.x,y:h.up.y,z:h.up.z},eye:{x:h.eye.x,y:h.eye.y,z:h.eye.z},center:{x:h.center.x,y:h.center.y,z:h.center.z}}),l.plot(c,n,s.layout)}},H.clean=function(r,s,n,o){for(var f=o._subplots[y]||[],u=0;u<f.length;u++){var m=f[u];!s[m]&&o[m]._scene&&(o[m]._scene.destroy(),o._infolayer&&o._infolayer.selectAll(".annotation-"+m).remove())}},H.toSVG=function(r){for(var s=r._fullLayout,n=s._subplots[y],o=s._size,f=0;f<n.length;f++){var u=s[n[f]],m=u.domain,c=u._scene,A=c.toImage("png"),h=s._glimages.append("svg:image");h.attr({xmlns:v.svg,"xlink:href":A,x:o.l+o.w*m.x[0],y:o.t+o.h*(1-m.y[1]),width:o.w*(m.x[1]-m.x[0]),height:o.h*(m.y[1]-m.y[0]),preserveAspectRatio:"none"}),c.destroy()}},H.cleanId=function(s){if(s.match(/^scene[0-9]*$/)){var n=s.substr(5);return n==="1"&&(n=""),t+n}},H.updateFx=function(r){for(var s=r._fullLayout,n=s._subplots[y],o=0;o<n.length;o++){var f=s[n[o]]._scene;f.updateFx(s.dragmode,s.hovermode)}}},59084:function(W){W.exports={scene:{valType:"subplotid",dflt:"scene",editType:"calc+clearAxisTypes"}}},77894:function(W,H,e){var g=e(7901),R=e(13838),a=e(1426).extendFlat,C=e(30962).overrideAll;W.exports=C({visible:R.visible,showspikes:{valType:"boolean",dflt:!0},spikesides:{valType:"boolean",dflt:!0},spikethickness:{valType:"number",min:0,dflt:2},spikecolor:{valType:"color",dflt:g.defaultLine},showbackground:{valType:"boolean",dflt:!1},backgroundcolor:{valType:"color",dflt:"rgba(204, 204, 204, 0.5)"},showaxeslabels:{valType:"boolean",dflt:!0},color:R.color,categoryorder:R.categoryorder,categoryarray:R.categoryarray,title:{text:R.title.text,font:R.title.font},type:a({},R.type,{values:["-","linear","log","date","category"]}),autotypenumbers:R.autotypenumbers,autorange:R.autorange,autorangeoptions:{minallowed:R.autorangeoptions.minallowed,maxallowed:R.autorangeoptions.maxallowed,clipmin:R.autorangeoptions.clipmin,clipmax:R.autorangeoptions.clipmax,include:R.autorangeoptions.include,editType:"plot"},rangemode:R.rangemode,minallowed:R.minallowed,maxallowed:R.maxallowed,range:a({},R.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],anim:!1}),tickmode:R.minor.tickmode,nticks:R.nticks,tick0:R.tick0,dtick:R.dtick,tickvals:R.tickvals,ticktext:R.ticktext,ticks:R.ticks,mirror:R.mirror,ticklen:R.ticklen,tickwidth:R.tickwidth,tickcolor:R.tickcolor,showticklabels:R.showticklabels,labelalias:R.labelalias,tickfont:R.tickfont,tickangle:R.tickangle,tickprefix:R.tickprefix,showtickprefix:R.showtickprefix,ticksuffix:R.ticksuffix,showticksuffix:R.showticksuffix,showexponent:R.showexponent,exponentformat:R.exponentformat,minexponent:R.minexponent,separatethousands:R.separatethousands,tickformat:R.tickformat,tickformatstops:R.tickformatstops,hoverformat:R.hoverformat,showline:R.showline,linecolor:R.linecolor,linewidth:R.linewidth,showgrid:R.showgrid,gridcolor:a({},R.gridcolor,{dflt:"rgb(204, 204, 204)"}),gridwidth:R.gridwidth,zeroline:R.zeroline,zerolinecolor:R.zerolinecolor,zerolinewidth:R.zerolinewidth,_deprecated:{title:R._deprecated.title,titlefont:R._deprecated.titlefont}},"plot","from-root")},3277:function(W,H,e){var g=e(84267).mix,R=e(71828),a=e(44467),C=e(77894),T=e(951),v=e(71453),y=["xaxis","yaxis","zaxis"],t=100*136/187;W.exports=function(s,n,o){var f,u;function m(h,l){return R.coerce(f,u,C,h,l)}for(var c=0;c<y.length;c++){var A=y[c];f=s[A]||{},u=a.newContainer(n,A),u._id=A[0]+o.scene,u._name=A,T(f,u,m,o),v(f,u,m,{font:o.font,letter:A[0],data:o.data,showGrid:!0,noTickson:!0,noTicklabelmode:!0,noTicklabelstep:!0,noTicklabelposition:!0,noTicklabeloverflow:!0,noInsiderange:!0,bgColor:o.bgColor,calendar:o.calendar},o.fullLayout),m("gridcolor",g(u.color,o.bgColor,t).toRgbString()),m("title.text",A[0]),u.setScale=R.noop,m("showspikes")&&(m("spikesides"),m("spikethickness"),m("spikecolor",u.color)),m("showaxeslabels"),m("showbackground")&&m("backgroundcolor")}}},30422:function(W,H,e){var g=e(78614),R=e(71828),a=["xaxis","yaxis","zaxis"];function C(){this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[18,18,18],this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["Open Sans","Open Sans","Open Sans"],this.labelSize=[20,20,20],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[30,30,30],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[10,10,10],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!0,!0,!0],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._defaultTickPad=this.tickPad.slice(),this._defaultLabelPad=this.labelPad.slice(),this._defaultLineTickLength=this.lineTickLength.slice()}var T=C.prototype;T.merge=function(y,t){for(var r=this,s=0;s<3;++s){var n=t[a[s]];if(!n.visible){r.tickEnable[s]=!1,r.labelEnable[s]=!1,r.lineEnable[s]=!1,r.lineTickEnable[s]=!1,r.gridEnable[s]=!1,r.zeroEnable[s]=!1,r.backgroundEnable[s]=!1;continue}r.labels[s]=y._meta?R.templateString(n.title.text,y._meta):n.title.text,"font"in n.title&&(n.title.font.color&&(r.labelColor[s]=g(n.title.font.color)),n.title.font.family&&(r.labelFont[s]=n.title.font.family),n.title.font.size&&(r.labelSize[s]=n.title.font.size)),"showline"in n&&(r.lineEnable[s]=n.showline),"linecolor"in n&&(r.lineColor[s]=g(n.linecolor)),"linewidth"in n&&(r.lineWidth[s]=n.linewidth),"showgrid"in n&&(r.gridEnable[s]=n.showgrid),"gridcolor"in n&&(r.gridColor[s]=g(n.gridcolor)),"gridwidth"in n&&(r.gridWidth[s]=n.gridwidth),n.type==="log"?r.zeroEnable[s]=!1:"zeroline"in n&&(r.zeroEnable[s]=n.zeroline),"zerolinecolor"in n&&(r.zeroLineColor[s]=g(n.zerolinecolor)),"zerolinewidth"in n&&(r.zeroLineWidth[s]=n.zerolinewidth),"ticks"in n&&n.ticks?r.lineTickEnable[s]=!0:r.lineTickEnable[s]=!1,"ticklen"in n&&(r.lineTickLength[s]=r._defaultLineTickLength[s]=n.ticklen),"tickcolor"in n&&(r.lineTickColor[s]=g(n.tickcolor)),"tickwidth"in n&&(r.lineTickWidth[s]=n.tickwidth),"tickangle"in n&&(r.tickAngle[s]=n.tickangle==="auto"?-3600:Math.PI*-n.tickangle/180),"showticklabels"in n&&(r.tickEnable[s]=n.showticklabels),"tickfont"in n&&(n.tickfont.color&&(r.tickColor[s]=g(n.tickfont.color)),n.tickfont.family&&(r.tickFont[s]=n.tickfont.family),n.tickfont.size&&(r.tickSize[s]=n.tickfont.size)),"mirror"in n?["ticks","all","allticks"].indexOf(n.mirror)!==-1?(r.lineTickMirror[s]=!0,r.lineMirror[s]=!0):n.mirror===!0?(r.lineTickMirror[s]=!1,r.lineMirror[s]=!0):(r.lineTickMirror[s]=!1,r.lineMirror[s]=!1):r.lineMirror[s]=!1,"showbackground"in n&&n.showbackground!==!1?(r.backgroundEnable[s]=!0,r.backgroundColor[s]=g(n.backgroundcolor)):r.backgroundEnable[s]=!1}};function v(y,t){var r=new C;return r.merge(y,t),r}W.exports=v},24682:function(W,H,e){var g=e(71828),R=e(7901),a=e(73972),C=e(49119),T=e(3277),v=e(65500),y=e(27659).NG,t="gl3d";W.exports=function(n,o,f){var u=o._basePlotModules.length>1;function m(c){if(!u){var A=g.validate(n[c],v[c]);if(A)return n[c]}}C(n,o,f,{type:t,attributes:v,handleDefaults:r,fullLayout:o,font:o.font,fullData:f,getDfltFromLayout:m,autotypenumbersDflt:o.autotypenumbers,paper_bgcolor:o.paper_bgcolor,calendar:o.calendar})};function r(s,n,o,f){for(var u=o("bgcolor"),m=R.combine(u,f.paper_bgcolor),c=["up","center","eye"],A=0;A<c.length;A++)o("camera."+c[A]+".x"),o("camera."+c[A]+".y"),o("camera."+c[A]+".z");o("camera.projection.type");var h=!!o("aspectratio.x")&&!!o("aspectratio.y")&&!!o("aspectratio.z"),l=h?"manual":"auto",p=o("aspectmode",l);h||(s.aspectratio=n.aspectratio={x:1,y:1,z:1},p==="manual"&&(n.aspectmode="auto"),s.aspectmode=n.aspectmode);var M=y(f.fullData,t,f.id);T(s,n,{font:f.font,scene:f.id,data:M,bgColor:m,calendar:f.calendar,autotypenumbersDflt:f.autotypenumbersDflt,fullLayout:f.fullLayout}),a.getComponentMethod("annotations3d","handleDefaults")(s,n,f);var S=f.getDfltFromLayout("dragmode");if(S!==!1&&!S)if(S="orbit",s.camera&&s.camera.up){var P=s.camera.up.x,x=s.camera.up.y,E=s.camera.up.z;E!==0&&(!P||!x||!E||E/Math.sqrt(P*P+x*x+E*E)>.999)&&(S="turntable")}else S="turntable";o("dragmode",S),o("hovermode",f.getDfltFromLayout("hovermode"))}},65500:function(W,H,e){var g=e(77894),R=e(27670).Y,a=e(1426).extendFlat,C=e(71828).counterRegex;function T(v,y,t){return{x:{valType:"number",dflt:v,editType:"camera"},y:{valType:"number",dflt:y,editType:"camera"},z:{valType:"number",dflt:t,editType:"camera"},editType:"camera"}}W.exports={_arrayAttrRegexps:[C("scene",".annotations",!0)],bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"plot"},camera:{up:a(T(0,0,1),{}),center:a(T(0,0,0),{}),eye:a(T(1.25,1.25,1.25),{}),projection:{type:{valType:"enumerated",values:["perspective","orthographic"],dflt:"perspective",editType:"calc"},editType:"calc"},editType:"camera"},domain:R({name:"scene",editType:"plot"}),aspectmode:{valType:"enumerated",values:["auto","cube","data","manual"],dflt:"auto",editType:"plot",impliedEdits:{"aspectratio.x":void 0,"aspectratio.y":void 0,"aspectratio.z":void 0}},aspectratio:{x:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},y:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},z:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},editType:"plot",impliedEdits:{aspectmode:"manual"}},xaxis:g,yaxis:g,zaxis:g,dragmode:{valType:"enumerated",values:["orbit","turntable","zoom","pan",!1],editType:"plot"},hovermode:{valType:"enumerated",values:["closest",!1],dflt:"closest",editType:"modebar"},uirevision:{valType:"any",editType:"none"},editType:"plot",_deprecated:{cameraposition:{valType:"info_array",editType:"camera"}}}},13133:function(W,H,e){var g=e(78614),R=["xaxis","yaxis","zaxis"];function a(){this.enabled=[!0,!0,!0],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.drawSides=[!0,!0,!0],this.lineWidth=[1,1,1]}var C=a.prototype;C.merge=function(v){for(var y=0;y<3;++y){var t=v[R[y]];if(!t.visible){this.enabled[y]=!1,this.drawSides[y]=!1;continue}this.enabled[y]=t.showspikes,this.colors[y]=g(t.spikecolor),this.drawSides[y]=t.spikesides,this.lineWidth[y]=t.spikethickness}};function T(v){var y=new a;return y.merge(v),y}W.exports=T},96085:function(W,H,e){W.exports=T;var g=e(89298),R=e(71828),a=["xaxis","yaxis","zaxis"];function C(v){for(var y=new Array(3),t=0;t<3;++t){for(var r=v[t],s=new Array(r.length),n=0;n<r.length;++n)s[n]=r[n].x;y[t]=s}return y}function T(v){for(var y=v.axesOptions,t=v.glplot.axesPixels,r=v.fullSceneLayout,s=[[],[],[]],n=0;n<3;++n){var o=r[a[n]];if(o._length=(t[n].hi-t[n].lo)*t[n].pixelsPerDataUnit/v.dataScale[n],Math.abs(o._length)===1/0||isNaN(o._length))s[n]=[];else{o._input_range=o.range.slice(),o.range[0]=t[n].lo/v.dataScale[n],o.range[1]=t[n].hi/v.dataScale[n],o._m=1/(v.dataScale[n]*t[n].pixelsPerDataUnit),o.range[0]===o.range[1]&&(o.range[0]-=1,o.range[1]+=1);var f=o.tickmode;if(o.tickmode==="auto"){o.tickmode="linear";var u=o.nticks||R.constrain(o._length/40,4,9);g.autoTicks(o,Math.abs(o.range[1]-o.range[0])/u)}for(var m=g.calcTicks(o,{msUTC:!0}),c=0;c<m.length;++c)m[c].x=m[c].x*v.dataScale[n],o.type==="date"&&(m[c].text=m[c].text.replace(/\<br\>/g," "));s[n]=m,o.tickmode=f}}y.ticks=s;for(var n=0;n<3;++n){.5*(v.glplot.bounds[0][n]+v.glplot.bounds[1][n]);for(var c=0;c<2;++c)y.bounds[c][n]=v.glplot.bounds[c][n]}v.contourLevels=C(s)}},63538:function(W){function H(g,R){var a=[0,0,0,0],C,T;for(C=0;C<4;++C)for(T=0;T<4;++T)a[T]+=g[4*C+T]*R[C];return a}function e(g,R){var a=H(g.projection,H(g.view,H(g.model,[R[0],R[1],R[2],1])));return a}W.exports=e},33539:function(W,H,e){var g=e(9330).gl_plot3d,R=g.createCamera,a=g.createScene,C=e(40372),T=e(38520),v=e(73972),y=e(71828),t=y.preserveDrawingBuffer(),r=e(89298),s=e(30211),n=e(78614),o=e(58617),f=e(63538),u=e(30422),m=e(13133),c=e(96085),A=e(71739).applyAutorangeOptions,h,l,p=!1;function M(_,N){var z=document.createElement("div"),B=_.container;this.graphDiv=_.graphDiv;var U=document.createElementNS("http://www.w3.org/2000/svg","svg");U.style.position="absolute",U.style.top=U.style.left="0px",U.style.width=U.style.height="100%",U.style["z-index"]=20,U.style["pointer-events"]="none",z.appendChild(U),this.svgContainer=U,z.id=_.id,z.style.position="absolute",z.style.top=z.style.left="0px",z.style.width=z.style.height="100%",B.appendChild(z),this.fullLayout=N,this.id=_.id||"scene",this.fullSceneLayout=N[this.id],this.plotArgs=[[],{},{}],this.axesOptions=u(N,N[this.id]),this.spikeOptions=m(N[this.id]),this.container=z,this.staticMode=!!_.staticPlot,this.pixelRatio=this.pixelRatio||_.plotGlPixelRatio||2,this.dataScale=[1,1,1],this.contourLevels=[[],[],[]],this.convertAnnotations=v.getComponentMethod("annotations3d","convert"),this.drawAnnotations=v.getComponentMethod("annotations3d","draw"),this.initializeGLPlot()}var S=M.prototype;S.prepareOptions=function(){var _=this,N={canvas:_.canvas,gl:_.gl,glOptions:{preserveDrawingBuffer:t,premultipliedAlpha:!0,antialias:!0},container:_.container,axes:_.axesOptions,spikes:_.spikeOptions,pickRadius:10,snapToData:!0,autoScale:!0,autoBounds:!1,cameraObject:_.camera,pixelRatio:_.pixelRatio};if(_.staticMode){if(!l&&(h=document.createElement("canvas"),l=C({canvas:h,preserveDrawingBuffer:!0,premultipliedAlpha:!0,antialias:!0}),!l))throw new Error("error creating static canvas/context for image server");N.gl=l,N.canvas=h}return N};var P=!0;S.tryCreatePlot=function(){var _=this,N=_.prepareOptions(),z=!0;try{_.glplot=a(N)}catch{if(_.staticMode||!P||t)z=!1;else{y.warn(["webgl setup failed possibly due to","false preserveDrawingBuffer config.","The mobile/tablet device may not be detected by is-mobile module.","Enabling preserveDrawingBuffer in second attempt to create webgl scene..."].join(" "));try{t=N.glOptions.preserveDrawingBuffer=!0,_.glplot=a(N)}catch{t=N.glOptions.preserveDrawingBuffer=!1,z=!1}}}return P=!1,z},S.initializeGLCamera=function(){var _=this,N=_.fullSceneLayout.camera,z=N.projection.type==="orthographic";_.camera=R(_.container,{center:[N.center.x,N.center.y,N.center.z],eye:[N.eye.x,N.eye.y,N.eye.z],up:[N.up.x,N.up.y,N.up.z],_ortho:z,zoomMin:.01,zoomMax:100,mode:"orbit"})},S.initializeGLPlot=function(){var _=this;_.initializeGLCamera();var N=_.tryCreatePlot();if(!N)return o(_);_.traces={},_.make4thDimension();var z=_.graphDiv,B=z.layout,U=function(){var V={};return _.isCameraChanged(B)&&(V[_.id+".camera"]=_.getCamera()),_.isAspectChanged(B)&&(V[_.id+".aspectratio"]=_.glplot.getAspectratio(),B[_.id].aspectmode!=="manual"&&(_.fullSceneLayout.aspectmode=B[_.id].aspectmode=V[_.id+".aspectmode"]="manual")),V},F=function(V){if(V.fullSceneLayout.dragmode!==!1){var j=U();V.saveLayout(B),V.graphDiv.emit("plotly_relayout",j)}};return _.glplot.canvas&&(_.glplot.canvas.addEventListener("mouseup",function(){F(_)}),_.glplot.canvas.addEventListener("touchstart",function(){p=!0}),_.glplot.canvas.addEventListener("wheel",function(V){if(z._context._scrollZoom.gl3d){if(_.camera._ortho){var j=V.deltaX>V.deltaY?1.1:.9090909090909091,$=_.glplot.getAspectratio();_.glplot.setAspectratio({x:j*$.x,y:j*$.y,z:j*$.z})}F(_)}},T?{passive:!1}:!1),_.glplot.canvas.addEventListener("mousemove",function(){if(_.fullSceneLayout.dragmode!==!1&&_.camera.mouseListener.buttons!==0){var V=U();_.graphDiv.emit("plotly_relayouting",V)}}),_.staticMode||_.glplot.canvas.addEventListener("webglcontextlost",function(V){z&&z.emit&&z.emit("plotly_webglcontextlost",{event:V,layer:_.id})},!1)),_.glplot.oncontextloss=function(){_.recoverContext()},_.glplot.onrender=function(){_.render()},!0},S.render=function(){var _=this,N=_.graphDiv,z,B=_.svgContainer,U=_.container.getBoundingClientRect();N._fullLayout._calcInverseTransform(N);var F=N._fullLayout._invScaleX,V=N._fullLayout._invScaleY,j=U.width*F,$=U.height*V;B.setAttributeNS(null,"viewBox","0 0 "+j+" "+$),B.setAttributeNS(null,"width",j),B.setAttributeNS(null,"height",$),c(_),_.glplot.axes.update(_.axesOptions);for(var ne=Object.keys(_.traces),oe=null,ce=_.glplot.selection,Q=0;Q<ne.length;++Q)z=_.traces[ne[Q]],z.data.hoverinfo!=="skip"&&z.handlePick(ce)&&(oe=z),z.setContourLevels&&z.setContourLevels();function Z(Oe,Ne,Le){var be=_.fullSceneLayout[Oe+"axis"];return be.type!=="log"&&(Ne=be.d2l(Ne)),r.hoverLabelText(be,Ne,Le)}if(oe!==null){var K=f(_.glplot.cameraParams,ce.dataCoordinate);z=oe.data;var J=N._fullData[z.index],re=ce.index,le={xLabel:Z("x",ce.traceCoordinate[0],z.xhoverformat),yLabel:Z("y",ce.traceCoordinate[1],z.yhoverformat),zLabel:Z("z",ce.traceCoordinate[2],z.zhoverformat)},q=s.castHoverinfo(J,_.fullLayout,re),ee=(q||"").split("+"),ue=q&&q==="all";!J.hovertemplate&&!ue&&(ee.indexOf("x")===-1&&(le.xLabel=void 0),ee.indexOf("y")===-1&&(le.yLabel=void 0),ee.indexOf("z")===-1&&(le.zLabel=void 0),ee.indexOf("text")===-1&&(ce.textLabel=void 0),ee.indexOf("name")===-1&&(oe.name=void 0));var se,he=[];z.type==="cone"||z.type==="streamtube"?(le.uLabel=Z("x",ce.traceCoordinate[3],z.uhoverformat),(ue||ee.indexOf("u")!==-1)&&he.push("u: "+le.uLabel),le.vLabel=Z("y",ce.traceCoordinate[4],z.vhoverformat),(ue||ee.indexOf("v")!==-1)&&he.push("v: "+le.vLabel),le.wLabel=Z("z",ce.traceCoordinate[5],z.whoverformat),(ue||ee.indexOf("w")!==-1)&&he.push("w: "+le.wLabel),le.normLabel=ce.traceCoordinate[6].toPrecision(3),(ue||ee.indexOf("norm")!==-1)&&he.push("norm: "+le.normLabel),z.type==="streamtube"&&(le.divergenceLabel=ce.traceCoordinate[7].toPrecision(3),(ue||ee.indexOf("divergence")!==-1)&&he.push("divergence: "+le.divergenceLabel)),ce.textLabel&&he.push(ce.textLabel),se=he.join("<br>")):z.type==="isosurface"||z.type==="volume"?(le.valueLabel=r.hoverLabelText(_._mockAxis,_._mockAxis.d2l(ce.traceCoordinate[3]),z.valuehoverformat),he.push("value: "+le.valueLabel),ce.textLabel&&he.push(ce.textLabel),se=he.join("<br>")):se=ce.textLabel;var me={x:ce.traceCoordinate[0],y:ce.traceCoordinate[1],z:ce.traceCoordinate[2],data:J._input,fullData:J,curveNumber:J.index,pointNumber:re};s.appendArrayPointValue(me,J,re),z._module.eventData&&(me=J._module.eventData(me,ce,J,{},re));var Ce={points:[me]};if(_.fullSceneLayout.hovermode){var Te=[];s.loneHover({trace:J,x:(.5+.5*K[0]/K[3])*j,y:(.5-.5*K[1]/K[3])*$,xLabel:le.xLabel,yLabel:le.yLabel,zLabel:le.zLabel,text:se,name:oe.name,color:s.castHoverOption(J,re,"bgcolor")||oe.color,borderColor:s.castHoverOption(J,re,"bordercolor"),fontFamily:s.castHoverOption(J,re,"font.family"),fontSize:s.castHoverOption(J,re,"font.size"),fontColor:s.castHoverOption(J,re,"font.color"),nameLength:s.castHoverOption(J,re,"namelength"),textAlign:s.castHoverOption(J,re,"align"),hovertemplate:y.castOption(J,re,"hovertemplate"),hovertemplateLabels:y.extendFlat({},me,le),eventData:[me]},{container:B,gd:N,inOut_bbox:Te}),me.bbox=Te[0]}ce.distance<5&&(ce.buttons||p)?N.emit("plotly_click",Ce):N.emit("plotly_hover",Ce),this.oldEventData=Ce}else s.loneUnhover(B),this.oldEventData&&N.emit("plotly_unhover",this.oldEventData),this.oldEventData=void 0;_.drawAnnotations(_)},S.recoverContext=function(){var _=this;_.glplot.dispose();var N=function(){if(_.glplot.gl.isContextLost()){requestAnimationFrame(N);return}if(!_.initializeGLPlot()){y.error("Catastrophic and unrecoverable WebGL error. Context lost.");return}_.plot.apply(_,_.plotArgs)};requestAnimationFrame(N)};var x=["xaxis","yaxis","zaxis"];function E(_,N,z){for(var B=_.fullSceneLayout,U=0;U<3;U++){var F=x[U],V=F.charAt(0),j=B[F],$=N[V],ne=N[V+"calendar"],oe=N["_"+V+"length"];if(!y.isArrayOrTypedArray($))z[0][U]=Math.min(z[0][U],0),z[1][U]=Math.max(z[1][U],oe-1);else for(var ce,Q=0;Q<(oe||$.length);Q++)if(y.isArrayOrTypedArray($[Q]))for(var Z=0;Z<$[Q].length;++Z)ce=j.d2l($[Q][Z],0,ne),!isNaN(ce)&&isFinite(ce)&&(z[0][U]=Math.min(z[0][U],ce),z[1][U]=Math.max(z[1][U],ce));else ce=j.d2l($[Q],0,ne),!isNaN(ce)&&isFinite(ce)&&(z[0][U]=Math.min(z[0][U],ce),z[1][U]=Math.max(z[1][U],ce))}}function w(_,N){for(var z=_.fullSceneLayout,B=z.annotations||[],U=0;U<3;U++)for(var F=x[U],V=F.charAt(0),j=z[F],$=0;$<B.length;$++){var ne=B[$];if(ne.visible){var oe=j.r2l(ne[V]);!isNaN(oe)&&isFinite(oe)&&(N[0][U]=Math.min(N[0][U],oe),N[1][U]=Math.max(N[1][U],oe))}}}S.plot=function(_,N,z){var B=this;if(B.plotArgs=[_,N,z],!B.glplot.contextLost){var U,F,V,j,$,ne,oe=N[B.id],ce=z[B.id];B.fullLayout=N,B.fullSceneLayout=oe,B.axesOptions.merge(N,oe),B.spikeOptions.merge(oe),B.setViewport(oe),B.updateFx(oe.dragmode,oe.hovermode),B.camera.enableWheel=B.graphDiv._context._scrollZoom.gl3d,B.glplot.setClearColor(n(oe.bgcolor)),B.setConvert($),_?Array.isArray(_)||(_=[_]):_=[];var Q=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(V=0;V<_.length;++V)U=_[V],!(U.visible!==!0||U._length===0)&&E(this,U,Q);w(this,Q);var Z=[1,1,1];for(j=0;j<3;++j)Q[1][j]===Q[0][j]?Z[j]=1:Z[j]=1/(Q[1][j]-Q[0][j]);for(B.dataScale=Z,B.convertAnnotations(this),V=0;V<_.length;++V)U=_[V],!(U.visible!==!0||U._length===0)&&(F=B.traces[U.uid],F?F.data.type===U.type?F.update(U):(F.dispose(),F=U._module.plot(this,U),B.traces[U.uid]=F):(F=U._module.plot(this,U),B.traces[U.uid]=F),F.name=U.name);var K=Object.keys(B.traces);e:for(V=0;V<K.length;++V){for(j=0;j<_.length;++j)if(_[j].uid===K[V]&&_[j].visible===!0&&_[j]._length!==0)continue e;F=B.traces[K[V]],F.dispose(),delete B.traces[K[V]]}B.glplot.objects.sort(function(et,tt){return et._trace.data.index-tt._trace.data.index});var J=[[0,0,0],[0,0,0]],re={};for(V=0;V<3;++V){$=oe[x[V]],ne=$.type,ne in re?(re[ne].acc*=Z[V],re[ne].count+=1):re[ne]={acc:Z[V],count:1};var le;if($.autorange){J[0][V]=1/0,J[1][V]=-1/0;var q=B.glplot.objects,ee=B.fullSceneLayout.annotations||[],ue=$._name.charAt(0);for(j=0;j<q.length;j++){var se=q[j],he=se.bounds,me=se._trace.data._pad||0;se.constructor.name==="ErrorBars"&&$._lowerLogErrorBound?J[0][V]=Math.min(J[0][V],$._lowerLogErrorBound):J[0][V]=Math.min(J[0][V],he[0][V]/Z[V]-me),J[1][V]=Math.max(J[1][V],he[1][V]/Z[V]+me)}for(j=0;j<ee.length;j++){var Ce=ee[j];if(Ce.visible){var Te=$.r2l(Ce[ue]);J[0][V]=Math.min(J[0][V],Te),J[1][V]=Math.max(J[1][V],Te)}}if("rangemode"in $&&$.rangemode==="tozero"&&(J[0][V]=Math.min(J[0][V],0),J[1][V]=Math.max(J[1][V],0)),J[0][V]>J[1][V])J[0][V]=-1,J[1][V]=1;else{var Oe=J[1][V]-J[0][V];J[0][V]-=Oe/32,J[1][V]+=Oe/32}if(le=[J[0][V],J[1][V]],le=A(le,$),J[0][V]=le[0],J[1][V]=le[1],$.isReversed()){var Ne=J[0][V];J[0][V]=J[1][V],J[1][V]=Ne}}else le=$.range,J[0][V]=$.r2l(le[0]),J[1][V]=$.r2l(le[1]);J[0][V]===J[1][V]&&(J[0][V]-=1,J[1][V]+=1),$.range=[J[0][V],J[1][V]],$.limitRange(),B.glplot.setBounds(V,{min:$.range[0]*Z[V],max:$.range[1]*Z[V]})}var Le,be=oe.aspectmode;if(be==="cube")Le=[1,1,1];else if(be==="manual"){var Ae=oe.aspectratio;Le=[Ae.x,Ae.y,Ae.z]}else if(be==="auto"||be==="data"){var He=[1,1,1];for(V=0;V<3;++V){$=oe[x[V]],ne=$.type;var Ve=re[ne];He[V]=Math.pow(Ve.acc,1/Ve.count)/Z[V]}be==="data"||Math.max.apply(null,He)/Math.min.apply(null,He)<=4?Le=He:Le=[1,1,1]}else throw new Error("scene.js aspectRatio was not one of the enumerated types");oe.aspectratio.x=ce.aspectratio.x=Le[0],oe.aspectratio.y=ce.aspectratio.y=Le[1],oe.aspectratio.z=ce.aspectratio.z=Le[2],B.glplot.setAspectratio(oe.aspectratio),B.viewInitial.aspectratio||(B.viewInitial.aspectratio={x:oe.aspectratio.x,y:oe.aspectratio.y,z:oe.aspectratio.z}),B.viewInitial.aspectmode||(B.viewInitial.aspectmode=oe.aspectmode);var ke=oe.domain||null,Ge=N._size||null;if(ke&&Ge){var it=B.container.style;it.position="absolute",it.left=Ge.l+ke.x[0]*Ge.w+"px",it.top=Ge.t+(1-ke.y[1])*Ge.h+"px",it.width=Ge.w*(ke.x[1]-ke.x[0])+"px",it.height=Ge.h*(ke.y[1]-ke.y[0])+"px"}B.glplot.redraw()}},S.destroy=function(){var _=this;_.glplot&&(_.camera.mouseListener.enabled=!1,_.container.removeEventListener("wheel",_.camera.wheelListener),_.camera=null,_.glplot.dispose(),_.container.parentNode.removeChild(_.container),_.glplot=null)};function i(_){return[[_.eye.x,_.eye.y,_.eye.z],[_.center.x,_.center.y,_.center.z],[_.up.x,_.up.y,_.up.z]]}function L(_){return{up:{x:_.up[0],y:_.up[1],z:_.up[2]},center:{x:_.center[0],y:_.center[1],z:_.center[2]},eye:{x:_.eye[0],y:_.eye[1],z:_.eye[2]},projection:{type:_._ortho===!0?"orthographic":"perspective"}}}S.getCamera=function(){var _=this;return _.camera.view.recalcMatrix(_.camera.view.lastT()),L(_.camera)},S.setViewport=function(_){var N=this,z=_.camera;N.camera.lookAt.apply(this,i(z)),N.glplot.setAspectratio(_.aspectratio);var B=z.projection.type==="orthographic",U=N.camera._ortho;B!==U&&(N.glplot.redraw(),N.glplot.clearRGBA(),N.glplot.dispose(),N.initializeGLPlot())},S.isCameraChanged=function(_){var N=this,z=N.getCamera(),B=y.nestedProperty(_,N.id+".camera"),U=B.get();function F(ne,oe,ce,Q){var Z=["up","center","eye"],K=["x","y","z"];return oe[Z[ce]]&&ne[Z[ce]][K[Q]]===oe[Z[ce]][K[Q]]}var V=!1;if(U===void 0)V=!0;else{for(var j=0;j<3;j++)for(var $=0;$<3;$++)if(!F(z,U,j,$)){V=!0;break}(!U.projection||z.projection&&z.projection.type!==U.projection.type)&&(V=!0)}return V},S.isAspectChanged=function(_){var N=this,z=N.glplot.getAspectratio(),B=y.nestedProperty(_,N.id+".aspectratio"),U=B.get();return U===void 0||U.x!==z.x||U.y!==z.y||U.z!==z.z},S.saveLayout=function(_){var N=this,z=N.fullLayout,B,U,F,V,j,$,ne=N.isCameraChanged(_),oe=N.isAspectChanged(_),ce=ne||oe;if(ce){var Q={};if(ne&&(B=N.getCamera(),U=y.nestedProperty(_,N.id+".camera"),F=U.get(),Q[N.id+".camera"]=F),oe&&(V=N.glplot.getAspectratio(),j=y.nestedProperty(_,N.id+".aspectratio"),$=j.get(),Q[N.id+".aspectratio"]=$),v.call("_storeDirectGUIEdit",_,z._preGUI,Q),ne){U.set(B);var Z=y.nestedProperty(z,N.id+".camera");Z.set(B)}if(oe){j.set(V);var K=y.nestedProperty(z,N.id+".aspectratio");K.set(V),N.glplot.redraw()}}return ce},S.updateFx=function(_,N){var z=this,B=z.camera;if(B)if(_==="orbit")B.mode="orbit",B.keyBindingMode="rotate";else if(_==="turntable"){B.up=[0,0,1],B.mode="turntable",B.keyBindingMode="rotate";var U=z.graphDiv,F=U._fullLayout,V=z.fullSceneLayout.camera,j=V.up.x,$=V.up.y,ne=V.up.z;if(ne/Math.sqrt(j*j+$*$+ne*ne)<.999){var oe=z.id+".camera.up",ce={x:0,y:0,z:1},Q={};Q[oe]=ce;var Z=U.layout;v.call("_storeDirectGUIEdit",Z,F._preGUI,Q),V.up=ce,y.nestedProperty(Z,oe).set(ce)}}else B.keyBindingMode=_;z.fullSceneLayout.hovermode=N};function b(_,N,z){for(var B=0,U=z-1;B<U;++B,--U)for(var F=0;F<N;++F)for(var V=0;V<4;++V){var j=4*(N*B+F)+V,$=4*(N*U+F)+V,ne=_[j];_[j]=_[$],_[$]=ne}}function O(_,N,z){for(var B=0;B<z;++B)for(var U=0;U<N;++U){var F=4*(N*B+U),V=_[F+3];if(V>0)for(var j=255/V,$=0;$<3;++$)_[F+$]=Math.min(j*_[F+$],255)}}S.toImage=function(_){var N=this;_||(_="png"),N.staticMode&&N.container.appendChild(h),N.glplot.redraw();var z=N.glplot.gl,B=z.drawingBufferWidth,U=z.drawingBufferHeight;z.bindFramebuffer(z.FRAMEBUFFER,null);var F=new Uint8Array(B*U*4);z.readPixels(0,0,B,U,z.RGBA,z.UNSIGNED_BYTE,F),b(F,B,U),O(F,B,U);var V=document.createElement("canvas");V.width=B,V.height=U;var j=V.getContext("2d",{willReadFrequently:!0}),$=j.createImageData(B,U);$.data.set(F),j.putImageData($,0,0);var ne;switch(_){case"jpeg":ne=V.toDataURL("image/jpeg");break;case"webp":ne=V.toDataURL("image/webp");break;default:ne=V.toDataURL("image/png")}return N.staticMode&&N.container.removeChild(h),ne},S.setConvert=function(){for(var _=this,N=0;N<3;N++){var z=_.fullSceneLayout[x[N]];r.setConvert(z,_.fullLayout),z.setScale=y.noop}},S.make4thDimension=function(){var _=this,N=_.graphDiv,z=N._fullLayout;_._mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},r.setConvert(_._mockAxis,z)},W.exports=M},90060:function(W){W.exports=function(e,g,R,a){a=a||e.length;for(var C=new Array(a),T=0;T<a;T++)C[T]=[e[T],g[T],R[T]];return C}},10820:function(W,H,e){var g=e(41940),R=e(85594),a=e(22399),C=e(29241),T=e(53777),v=e(35025),y=e(1426).extendFlat,t=g({editType:"calc"});t.family.dflt='"Open Sans", verdana, arial, sans-serif',t.size.dflt=12,t.color.dflt=a.defaultLine,W.exports={font:t,title:{text:{valType:"string",editType:"layoutstyle"},font:g({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:y(v({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:a.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:a.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:a.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:C.newshape,activeshape:C.activeshape,newselection:T.newselection,activeselection:T.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:y({},R.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:g({editType:"layoutstyle"})}}},77734:function(W,H,e){var g=e(78607),R="1.10.1",a=' <a target="_blank" href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',C=[' <a target="_blank" href="https://carto.com/">Carto</a>',a].join(" "),T=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://www.openstreetmap.org/copyright">ODbL</a>'].join(" "),v=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://creativecommons.org/licenses/by-sa/3.0">CC BY SA</a>'].join(" "),y={"open-street-map":{id:"osm",version:8,sources:{"plotly-osm-tiles":{type:"raster",attribution:a,tiles:["https://a.tile.openstreetmap.org/{z}/{x}/{y}.png","https://b.tile.openstreetmap.org/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-osm-tiles",type:"raster",source:"plotly-osm-tiles",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"white-bg":{id:"white-bg",version:8,sources:{},layers:[{id:"white-bg",type:"background",paint:{"background-color":"#FFFFFF"},minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-positron":{id:"carto-positron",version:8,sources:{"plotly-carto-positron":{type:"raster",attribution:C,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-positron",type:"raster",source:"plotly-carto-positron",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-darkmatter":{id:"carto-darkmatter",version:8,sources:{"plotly-carto-darkmatter":{type:"raster",attribution:C,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-darkmatter",type:"raster",source:"plotly-carto-darkmatter",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-terrain":{id:"stamen-terrain",version:8,sources:{"plotly-stamen-terrain":{type:"raster",attribution:T,tiles:["https://tiles.stadiamaps.com/tiles/stamen_terrain/{z}/{x}/{y}.png?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-terrain",type:"raster",source:"plotly-stamen-terrain",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-toner":{id:"stamen-toner",version:8,sources:{"plotly-stamen-toner":{type:"raster",attribution:T,tiles:["https://tiles.stadiamaps.com/tiles/stamen_toner/{z}/{x}/{y}.png?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-toner",type:"raster",source:"plotly-stamen-toner",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-watercolor":{id:"stamen-watercolor",version:8,sources:{"plotly-stamen-watercolor":{type:"raster",attribution:v,tiles:["https://tiles.stadiamaps.com/tiles/stamen_watercolor/{z}/{x}/{y}.jpg?api_key="],tileSize:256}},layers:[{id:"plotly-stamen-watercolor",type:"raster",source:"plotly-stamen-watercolor",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"}},t=g(y);W.exports={requiredVersion:R,styleUrlPrefix:"mapbox://styles/mapbox/",styleUrlSuffix:"v9",styleValuesMapbox:["basic","streets","outdoors","light","dark","satellite","satellite-streets"],styleValueDflt:"basic",stylesNonMapbox:y,styleValuesNonMapbox:t,traceLayerPrefix:"plotly-trace-layer-",layoutLayerPrefix:"plotly-layout-layer-",wrongVersionErrorMsg:["Your custom plotly.js bundle is not using the correct mapbox-gl version","Please install mapbox-gl@"+R+"."].join(`
`),noAccessTokenErrorMsg:["Missing Mapbox access token.","Mapbox trace type require a Mapbox access token to be registered.","For example:","  Plotly.newPlot(gd, data, layout, { mapboxAccessToken: 'my-access-token' });","More info here: https://www.mapbox.com/help/define-access-token/"].join(`
`),missingStyleErrorMsg:["No valid mapbox style found, please set `mapbox.style` to one of:",t.join(", "),"or register a Mapbox access token to use a Mapbox-served style."].join(`
`),multipleTokensErrorMsg:["Set multiple mapbox access token across different mapbox subplot,","using first token found as mapbox-gl does not allow multipleaccess tokens on the same page."].join(`
`),mapOnErrorMsg:"Mapbox error.",mapboxLogo:{path0:"m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z",path1:"M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z",path2:"M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z",polygon:"11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34"},styleRules:{map:"overflow:hidden;position:relative;","missing-css":"display:none;",canary:"background-color:salmon;","ctrl-bottom-left":"position: absolute; pointer-events: none; z-index: 2; bottom: 0; left: 0;","ctrl-bottom-right":"position: absolute; pointer-events: none; z-index: 2; right: 0; bottom: 0;",ctrl:"clear: both; pointer-events: auto; transform: translate(0, 0);","ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner":"display: none;","ctrl-attrib.mapboxgl-compact:hover .mapboxgl-ctrl-attrib-inner":"display: block; margin-top:2px","ctrl-attrib.mapboxgl-compact:hover":"padding: 2px 24px 2px 4px; visibility: visible; margin-top: 6px;","ctrl-attrib.mapboxgl-compact::after":`content: ""; cursor: pointer; position: absolute; background-image: url('data:image/svg+xml;charset=utf-8,%3Csvg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"%3E %3Cpath fill="%23333333" fill-rule="evenodd" d="M4,10a6,6 0 1,0 12,0a6,6 0 1,0 -12,0 M9,7a1,1 0 1,0 2,0a1,1 0 1,0 -2,0 M9,10a1,1 0 1,1 2,0l0,3a1,1 0 1,1 -2,0"/%3E %3C/svg%3E'); background-color: rgba(255, 255, 255, 0.5); width: 24px; height: 24px; box-sizing: border-box; border-radius: 12px;`,"ctrl-attrib.mapboxgl-compact":"min-height: 20px; padding: 0; margin: 10px; position: relative; background-color: #fff; border-radius: 3px 12px 12px 3px;","ctrl-bottom-right > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; right: 0","ctrl-bottom-left > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; left: 0","ctrl-bottom-left .mapboxgl-ctrl":"margin: 0 0 10px 10px; float: left;","ctrl-bottom-right .mapboxgl-ctrl":"margin: 0 10px 10px 0; float: right;","ctrl-attrib":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a:hover":"color: inherit; text-decoration: underline;","ctrl-attrib .mapbox-improve-map":"font-weight: bold; margin-left: 2px;","attrib-empty":"display: none;","ctrl-logo":`display:block; width: 21px; height: 21px; background-image: url('data:image/svg+xml;charset=utf-8,%3C?xml version="1.0" encoding="utf-8"?%3E %3Csvg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 21 21" style="enable-background:new 0 0 21 21;" xml:space="preserve"%3E%3Cg transform="translate(0,0.01)"%3E%3Cpath d="m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z" style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3Cpath d="M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpath d="M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpolygon points="11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34 " style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3C/g%3E%3C/svg%3E')`}}},13056:function(W,H,e){var g=e(71828);W.exports=function(a,C){var T=a.split(" "),v=T[0],y=T[1],t=g.isArrayOrTypedArray(C)?g.mean(C):C,r=.5+t/100,s=1.5+t/100,n=["",""],o=[0,0];switch(v){case"top":n[0]="top",o[1]=-s;break;case"bottom":n[0]="bottom",o[1]=s;break}switch(y){case"left":n[1]="right",o[0]=-r;break;case"right":n[1]="left",o[0]=r;break}var f;return n[0]&&n[1]?f=n.join("-"):n[0]?f=n[0]:n[1]?f=n[1]:f="center",{anchor:f,offset:o}}},50101:function(W,H,e){var g=e(44517),R=e(71828),a=R.strTranslate,C=R.strScale,T=e(27659).AU,v=e(77922),y=e(39898),t=e(91424),r=e(63893),s=e(10481),n="mapbox",o=H.constants=e(77734);H.name=n,H.attr="subplot",H.idRoot=n,H.idRegex=H.attrRegex=R.counterRegex(n),H.attributes={subplot:{valType:"subplotid",dflt:"mapbox",editType:"calc"}},H.layoutAttributes=e(23585),H.supplyLayoutDefaults=e(77882),H.plot=function(c){var A=c._fullLayout,h=c.calcdata,l=A._subplots[n];if(g.version!==o.requiredVersion)throw new Error(o.wrongVersionErrorMsg);var p=f(c,l);g.accessToken=p;for(var M=0;M<l.length;M++){var S=l[M],P=T(h,n,S),x=A[S],E=x._subplot;E||(E=new s(c,S),A[S]._subplot=E),E.viewInitial||(E.viewInitial={center:R.extendFlat({},x.center),zoom:x.zoom,bearing:x.bearing,pitch:x.pitch}),E.plot(P,A,c._promises)}},H.clean=function(m,c,A,h){for(var l=h._subplots[n]||[],p=0;p<l.length;p++){var M=l[p];!c[M]&&h[M]._subplot&&h[M]._subplot.destroy()}},H.toSVG=function(m){for(var c=m._fullLayout,A=c._subplots[n],h=c._size,l=0;l<A.length;l++){var p=c[A[l]],M=p.domain,S=p._subplot,P=S.toImage("png"),x=c._glimages.append("svg:image");x.attr({xmlns:v.svg,"xlink:href":P,x:h.l+h.w*M.x[0],y:h.t+h.h*(1-M.y[1]),width:h.w*(M.x[1]-M.x[0]),height:h.h*(M.y[1]-M.y[0]),preserveAspectRatio:"none"});var E=y.select(p._subplot.div),w=E.select(".mapboxgl-ctrl-logo").node().offsetParent===null;if(!w){var i=c._glimages.append("g");i.attr("transform",a(h.l+h.w*M.x[0]+10,h.t+h.h*(1-M.y[0])-31)),i.append("path").attr("d",o.mapboxLogo.path0).style({opacity:.9,fill:"#ffffff","enable-background":"new"}),i.append("path").attr("d",o.mapboxLogo.path1).style("opacity",.35).style("enable-background","new"),i.append("path").attr("d",o.mapboxLogo.path2).style("opacity",.35).style("enable-background","new"),i.append("polygon").attr("points",o.mapboxLogo.polygon).style({opacity:.9,fill:"#ffffff","enable-background":"new"})}var L=E.select(".mapboxgl-ctrl-attrib").text().replace("Improve this map",""),b=c._glimages.append("g"),O=b.append("text");O.text(L).classed("static-attribution",!0).attr({"font-size":12,"font-family":"Arial",color:"rgba(0, 0, 0, 0.75)","text-anchor":"end","data-unformatted":L});var _=t.bBox(O.node()),N=h.w*(M.x[1]-M.x[0]);if(_.width>N/2){var z=L.split("|").join("<br>");O.text(z).attr("data-unformatted",z).call(r.convertToTspans,m),_=t.bBox(O.node())}O.attr("transform",a(-3,-_.height+8)),b.insert("rect",".static-attribution").attr({x:-_.width-6,y:-_.height-3,width:_.width+6,height:_.height+3,fill:"rgba(255, 255, 255, 0.75)"});var B=1;_.width+6>N&&(B=N/(_.width+6));var U=[h.l+h.w*M.x[1],h.t+h.h*(1-M.y[0])];b.attr("transform",a(U[0],U[1])+C(B))}};function f(m,c){var A=m._fullLayout,h=m._context;if(h.mapboxAccessToken==="")return"";for(var l=[],p=[],M=!1,S=!1,P=0;P<c.length;P++){var x=A[c[P]],E=x.accesstoken;u(x.style)&&(E?R.pushUnique(l,E):(u(x._input.style)&&(R.error("Uses Mapbox map style, but did not set an access token."),M=!0),S=!0)),E&&R.pushUnique(p,E)}if(S){var w=M?o.noAccessTokenErrorMsg:o.missingStyleErrorMsg;throw R.error(w),new Error(w)}return l.length?(l.length>1&&R.warn(o.multipleTokensErrorMsg),l[0]):(p.length&&R.log(["Listed mapbox access token(s)",p.join(","),"but did not use a Mapbox map style, ignoring token(s)."].join(" ")),"")}function u(m){return typeof m=="string"&&(o.styleValuesMapbox.indexOf(m)!==-1||m.indexOf("mapbox://")===0||m.indexOf("stamen")===0)}H.updateFx=function(m){for(var c=m._fullLayout,A=c._subplots[n],h=0;h<A.length;h++){var l=c[A[h]]._subplot;l.updateFx(c)}}},67911:function(W,H,e){var g=e(71828),R=e(63893).sanitizeHTML,a=e(13056),C=e(77734);function T(s,n){this.subplot=s,this.uid=s.uid+"-"+n,this.index=n,this.idSource="source-"+this.uid,this.idLayer=C.layoutLayerPrefix+this.uid,this.sourceType=null,this.source=null,this.layerType=null,this.below=null,this.visible=!1}var v=T.prototype;v.update=function(n){this.visible?this.needsNewImage(n)?this.updateImage(n):this.needsNewSource(n)?(this.removeLayer(),this.updateSource(n),this.updateLayer(n)):this.needsNewLayer(n)?this.updateLayer(n):this.updateStyle(n):(this.updateSource(n),this.updateLayer(n)),this.visible=y(n)},v.needsNewImage=function(s){var n=this.subplot.map;return n.getSource(this.idSource)&&this.sourceType==="image"&&s.sourcetype==="image"&&(this.source!==s.source||JSON.stringify(this.coordinates)!==JSON.stringify(s.coordinates))},v.needsNewSource=function(s){return this.sourceType!==s.sourcetype||JSON.stringify(this.source)!==JSON.stringify(s.source)||this.layerType!==s.type},v.needsNewLayer=function(s){return this.layerType!==s.type||this.below!==this.subplot.belowLookup["layout-"+this.index]},v.lookupBelow=function(){return this.subplot.belowLookup["layout-"+this.index]},v.updateImage=function(s){var n=this.subplot.map;n.getSource(this.idSource).updateImage({url:s.source,coordinates:s.coordinates});var o=this.findFollowingMapboxLayerId(this.lookupBelow());o!==null&&this.subplot.map.moveLayer(this.idLayer,o)},v.updateSource=function(s){var n=this.subplot.map;if(n.getSource(this.idSource)&&n.removeSource(this.idSource),this.sourceType=s.sourcetype,this.source=s.source,!!y(s)){var o=r(s);n.addSource(this.idSource,o)}},v.findFollowingMapboxLayerId=function(s){if(s==="traces")for(var n=this.subplot.getMapLayers(),o=0;o<n.length;o++){var f=n[o].id;if(typeof f=="string"&&f.indexOf(C.traceLayerPrefix)===0){s=f;break}}return s},v.updateLayer=function(s){var n=this.subplot,o=t(s),f=this.lookupBelow(),u=this.findFollowingMapboxLayerId(f);this.removeLayer(),y(s)&&n.addLayer({id:this.idLayer,source:this.idSource,"source-layer":s.sourcelayer||"",type:s.type,minzoom:s.minzoom,maxzoom:s.maxzoom,layout:o.layout,paint:o.paint},u),this.layerType=s.type,this.below=f},v.updateStyle=function(s){if(y(s)){var n=t(s);this.subplot.setOptions(this.idLayer,"setLayoutProperty",n.layout),this.subplot.setOptions(this.idLayer,"setPaintProperty",n.paint)}},v.removeLayer=function(){var s=this.subplot.map;s.getLayer(this.idLayer)&&s.removeLayer(this.idLayer)},v.dispose=function(){var s=this.subplot.map;s.getLayer(this.idLayer)&&s.removeLayer(this.idLayer),s.getSource(this.idSource)&&s.removeSource(this.idSource)};function y(s){if(!s.visible)return!1;var n=s.source;if(Array.isArray(n)&&n.length>0){for(var o=0;o<n.length;o++)if(typeof n[o]!="string"||n[o].length===0)return!1;return!0}return g.isPlainObject(n)||typeof n=="string"&&n.length>0}function t(s){var n={},o={};switch(s.type){case"circle":g.extendFlat(o,{"circle-radius":s.circle.radius,"circle-color":s.color,"circle-opacity":s.opacity});break;case"line":g.extendFlat(o,{"line-width":s.line.width,"line-color":s.color,"line-opacity":s.opacity,"line-dasharray":s.line.dash});break;case"fill":g.extendFlat(o,{"fill-color":s.color,"fill-outline-color":s.fill.outlinecolor,"fill-opacity":s.opacity});break;case"symbol":var f=s.symbol,u=a(f.textposition,f.iconsize);g.extendFlat(n,{"icon-image":f.icon+"-15","icon-size":f.iconsize/10,"text-field":f.text,"text-size":f.textfont.size,"text-anchor":u.anchor,"text-offset":u.offset,"symbol-placement":f.placement}),g.extendFlat(o,{"icon-color":s.color,"text-color":f.textfont.color,"text-opacity":s.opacity});break;case"raster":g.extendFlat(o,{"raster-fade-duration":0,"raster-opacity":s.opacity});break}return{layout:n,paint:o}}function r(s){var n=s.sourcetype,o=s.source,f={type:n},u;return n==="geojson"?u="data":n==="vector"?u=typeof o=="string"?"url":"tiles":n==="raster"?(u="tiles",f.tileSize=256):n==="image"&&(u="url",f.coordinates=s.coordinates),f[u]=o,s.sourceattribution&&(f.attribution=R(s.sourceattribution)),f}W.exports=function(n,o,f){var u=new T(n,o);return u.update(f),u}},23585:function(W,H,e){var g=e(71828),R=e(7901).defaultLine,a=e(27670).Y,C=e(41940),T=e(82196).textposition,v=e(30962).overrideAll,y=e(44467).templatedArray,t=e(77734),r=C({});r.family.dflt="Open Sans Regular, Arial Unicode MS Regular";var s=W.exports=v({_arrayAttrRegexps:[g.counterRegex("mapbox",".layers",!0)],domain:a({name:"mapbox"}),accesstoken:{valType:"string",noBlank:!0,strict:!0},style:{valType:"any",values:t.styleValuesMapbox.concat(t.styleValuesNonMapbox),dflt:t.styleValueDflt},center:{lon:{valType:"number",dflt:0},lat:{valType:"number",dflt:0}},zoom:{valType:"number",dflt:1},bearing:{valType:"number",dflt:0},pitch:{valType:"number",dflt:0},bounds:{west:{valType:"number"},east:{valType:"number"},south:{valType:"number"},north:{valType:"number"}},layers:y("layer",{visible:{valType:"boolean",dflt:!0},sourcetype:{valType:"enumerated",values:["geojson","vector","raster","image"],dflt:"geojson"},source:{valType:"any"},sourcelayer:{valType:"string",dflt:""},sourceattribution:{valType:"string"},type:{valType:"enumerated",values:["circle","line","fill","symbol","raster"],dflt:"circle"},coordinates:{valType:"any"},below:{valType:"string"},color:{valType:"color",dflt:R},opacity:{valType:"number",min:0,max:1,dflt:1},minzoom:{valType:"number",min:0,max:24,dflt:0},maxzoom:{valType:"number",min:0,max:24,dflt:24},circle:{radius:{valType:"number",dflt:15}},line:{width:{valType:"number",dflt:2},dash:{valType:"data_array"}},fill:{outlinecolor:{valType:"color",dflt:R}},symbol:{icon:{valType:"string",dflt:"marker"},iconsize:{valType:"number",dflt:10},text:{valType:"string",dflt:""},placement:{valType:"enumerated",values:["point","line","line-center"],dflt:"point"},textfont:r,textposition:g.extendFlat({},T,{arrayOk:!1})}})},"plot","from-root");s.uirevision={valType:"any",editType:"none"}},77882:function(W,H,e){var g=e(71828),R=e(49119),a=e(85501),C=e(23585);W.exports=function(t,r,s){R(t,r,s,{type:"mapbox",attributes:C,handleDefaults:T,partition:"y",accessToken:r._mapboxAccessToken})};function T(y,t,r,s){r("accesstoken",s.accessToken),r("style"),r("center.lon"),r("center.lat"),r("zoom"),r("bearing"),r("pitch");var n=r("bounds.west"),o=r("bounds.east"),f=r("bounds.south"),u=r("bounds.north");(n===void 0||o===void 0||f===void 0||u===void 0)&&delete t.bounds,a(y,t,{name:"layers",handleItemDefaults:v}),t._input=y}function v(y,t){function r(m,c){return g.coerce(y,t,C.layers,m,c)}var s=r("visible");if(s){var n=r("sourcetype"),o=n==="raster"||n==="image";r("source"),r("sourceattribution"),n==="vector"&&r("sourcelayer"),n==="image"&&r("coordinates");var f;o&&(f="raster");var u=r("type",f);o&&u!=="raster"&&(u=t.type="raster",g.log("Source types *raster* and *image* must drawn *raster* layer type.")),r("below"),r("color"),r("opacity"),r("minzoom"),r("maxzoom"),u==="circle"&&r("circle.radius"),u==="line"&&(r("line.width"),r("line.dash")),u==="fill"&&r("fill.outlinecolor"),u==="symbol"&&(r("symbol.icon"),r("symbol.iconsize"),r("symbol.text"),g.coerceFont(r,"symbol.textfont"),r("symbol.textposition"),r("symbol.placement"))}}},10481:function(W,H,e){var g=e(44517),R=e(71828),a=e(41327),C=e(73972),T=e(89298),v=e(28569),y=e(30211),t=e(64505),r=t.drawMode,s=t.selectMode,n=e(47322).prepSelect,o=e(47322).clearOutline,f=e(47322).clearSelectionsCache,u=e(47322).selectOnClick,m=e(77734),c=e(67911);function A(P,x){this.id=x,this.gd=P;var E=P._fullLayout,w=P._context;this.container=E._glcontainer.node(),this.isStatic=w.staticPlot,this.uid=E._uid+"-"+this.id,this.div=null,this.xaxis=null,this.yaxis=null,this.createFramework(E),this.map=null,this.accessToken=null,this.styleObj=null,this.traceHash={},this.layerList=[],this.belowLookup={},this.dragging=!1,this.wheeling=!1}var h=A.prototype;h.plot=function(P,x,E){var w=this,i=x[w.id];w.map&&i.accesstoken!==w.accessToken&&(w.map.remove(),w.map=null,w.styleObj=null,w.traceHash={},w.layerList=[]);var L;w.map?L=new Promise(function(b,O){w.updateMap(P,x,b,O)}):L=new Promise(function(b,O){w.createMap(P,x,b,O)}),E.push(L)},h.createMap=function(P,x,E,w){var i=this,L=x[i.id],b=i.styleObj=p(L.style,x);i.accessToken=L.accesstoken;var O=L.bounds,_=O?[[O.west,O.south],[O.east,O.north]]:null,N=i.map=new g.Map({container:i.div,style:b.style,center:S(L.center),zoom:L.zoom,bearing:L.bearing,pitch:L.pitch,maxBounds:_,interactive:!i.isStatic,preserveDrawingBuffer:i.isStatic,doubleClickZoom:!1,boxZoom:!1,attributionControl:!1}).addControl(new g.AttributionControl({compact:!0}));N._canvas.style.left="0px",N._canvas.style.top="0px",i.rejectOnError(w),i.isStatic||i.initFx(P,x);var z=[];z.push(new Promise(function(B){N.once("load",B)})),z=z.concat(a.fetchTraceGeoData(P)),Promise.all(z).then(function(){i.fillBelowLookup(P,x),i.updateData(P),i.updateLayout(x),i.resolveOnRender(E)}).catch(w)},h.updateMap=function(P,x,E,w){var i=this,L=i.map,b=x[this.id];i.rejectOnError(w);var O=[],_=p(b.style,x);JSON.stringify(i.styleObj)!==JSON.stringify(_)&&(i.styleObj=_,L.setStyle(_.style),i.traceHash={},O.push(new Promise(function(N){L.once("styledata",N)}))),O=O.concat(a.fetchTraceGeoData(P)),Promise.all(O).then(function(){i.fillBelowLookup(P,x),i.updateData(P),i.updateLayout(x),i.resolveOnRender(E)}).catch(w)},h.fillBelowLookup=function(P,x){var E=x[this.id],w=E.layers,i,L,b=this.belowLookup={},O=!1;for(i=0;i<P.length;i++){var _=P[i][0].trace,N=_._module;typeof _.below=="string"?L=_.below:N.getBelow&&(L=N.getBelow(_,this)),L===""&&(O=!0),b["trace-"+_.uid]=L||""}for(i=0;i<w.length;i++){var z=w[i];typeof z.below=="string"?L=z.below:O?L="traces":L="",b["layout-"+i]=L}var B={},U,F;for(U in b)L=b[U],B[L]?B[L].push(U):B[L]=[U];for(L in B){var V=B[L];if(V.length>1)for(i=0;i<V.length;i++)U=V[i],U.indexOf("trace-")===0?(F=U.split("trace-")[1],this.traceHash[F]&&(this.traceHash[F].below=null)):U.indexOf("layout-")===0&&(F=U.split("layout-")[1],this.layerList[F]&&(this.layerList[F].below=null))}};var l={choroplethmapbox:0,densitymapbox:1,scattermapbox:2};h.updateData=function(P){var x=this.traceHash,E,w,i,L,b=P.slice().sort(function(B,U){return l[B[0].trace.type]-l[U[0].trace.type]});for(i=0;i<b.length;i++){var O=b[i];w=O[0].trace,E=x[w.uid];var _=!1;E&&(E.type===w.type?(E.update(O),_=!0):E.dispose()),!_&&w._module&&(x[w.uid]=w._module.plot(this,O))}var N=Object.keys(x);e:for(i=0;i<N.length;i++){var z=N[i];for(L=0;L<P.length;L++)if(w=P[L][0].trace,z===w.uid)continue e;E=x[z],E.dispose(),delete x[z]}},h.updateLayout=function(P){var x=this.map,E=P[this.id];!this.dragging&&!this.wheeling&&(x.setCenter(S(E.center)),x.setZoom(E.zoom),x.setBearing(E.bearing),x.setPitch(E.pitch)),this.updateLayers(P),this.updateFramework(P),this.updateFx(P),this.map.resize(),this.gd._context._scrollZoom.mapbox?x.scrollZoom.enable():x.scrollZoom.disable()},h.resolveOnRender=function(P){var x=this.map;x.on("render",function E(){x.loaded()&&(x.off("render",E),setTimeout(P,10))})},h.rejectOnError=function(P){var x=this.map;function E(){P(new Error(m.mapOnErrorMsg))}x.once("error",E),x.once("style.error",E),x.once("source.error",E),x.once("tile.error",E),x.once("layer.error",E)},h.createFramework=function(P){var x=this,E=x.div=document.createElement("div");E.id=x.uid,E.style.position="absolute",x.container.appendChild(E),x.xaxis={_id:"x",c2p:function(w){return x.project(w).x}},x.yaxis={_id:"y",c2p:function(w){return x.project(w).y}},x.updateFramework(P),x.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},T.setConvert(x.mockAxis,P)},h.initFx=function(P,x){var E=this,w=E.gd,i=E.map;i.on("moveend",function(O){if(E.map){var _=w._fullLayout;if(O.originalEvent||E.wheeling){var N=_[E.id];C.call("_storeDirectGUIEdit",w.layout,_._preGUI,E.getViewEdits(N));var z=E.getView();N._input.center=N.center=z.center,N._input.zoom=N.zoom=z.zoom,N._input.bearing=N.bearing=z.bearing,N._input.pitch=N.pitch=z.pitch,w.emit("plotly_relayout",E.getViewEditsWithDerived(z))}O.originalEvent&&O.originalEvent.type==="mouseup"?E.dragging=!1:E.wheeling&&(E.wheeling=!1),_._rehover&&_._rehover()}}),i.on("wheel",function(){E.wheeling=!0}),i.on("mousemove",function(O){var _=E.div.getBoundingClientRect(),N=[O.originalEvent.offsetX,O.originalEvent.offsetY];O.target.getBoundingClientRect=function(){return _},E.xaxis.p2c=function(){return i.unproject(N).lng},E.yaxis.p2c=function(){return i.unproject(N).lat},w._fullLayout._rehover=function(){w._fullLayout._hoversubplot===E.id&&w._fullLayout[E.id]&&y.hover(w,O,E.id)},y.hover(w,O,E.id),w._fullLayout._hoversubplot=E.id});function L(){y.loneUnhover(x._hoverlayer)}i.on("dragstart",function(){E.dragging=!0,L()}),i.on("zoomstart",L),i.on("mouseout",function(){w._fullLayout._hoversubplot=null});function b(){var O=E.getView();w.emit("plotly_relayouting",E.getViewEditsWithDerived(O))}i.on("drag",b),i.on("zoom",b),i.on("dblclick",function(){var O=w._fullLayout[E.id];C.call("_storeDirectGUIEdit",w.layout,w._fullLayout._preGUI,E.getViewEdits(O));var _=E.viewInitial;i.setCenter(S(_.center)),i.setZoom(_.zoom),i.setBearing(_.bearing),i.setPitch(_.pitch);var N=E.getView();O._input.center=O.center=N.center,O._input.zoom=O.zoom=N.zoom,O._input.bearing=O.bearing=N.bearing,O._input.pitch=O.pitch=N.pitch,w.emit("plotly_doubleclick",null),w.emit("plotly_relayout",E.getViewEditsWithDerived(N))}),E.clearOutline=function(){f(E.dragOptions),o(E.dragOptions.gd)},E.onClickInPanFn=function(O){return function(_){var N=w._fullLayout.clickmode;N.indexOf("select")>-1&&u(_.originalEvent,w,[E.xaxis],[E.yaxis],E.id,O),N.indexOf("event")>-1&&y.click(w,_.originalEvent)}}},h.updateFx=function(P){var x=this,E=x.map,w=x.gd;if(x.isStatic)return;function i(_){var N=x.map.unproject(_);return[N.lng,N.lat]}var L=P.dragmode,b;b=function(_,N){if(N.isRect){var z=_.range={};z[x.id]=[i([N.xmin,N.ymin]),i([N.xmax,N.ymax])]}else{var B=_.lassoPoints={};B[x.id]=N.map(i)}};var O=x.dragOptions;x.dragOptions=R.extendDeep(O||{},{dragmode:P.dragmode,element:x.div,gd:w,plotinfo:{id:x.id,domain:P[x.id].domain,xaxis:x.xaxis,yaxis:x.yaxis,fillRangeItems:b},xaxes:[x.xaxis],yaxes:[x.yaxis],subplot:x.id}),E.off("click",x.onClickInPanHandler),s(L)||r(L)?(E.dragPan.disable(),E.on("zoomstart",x.clearOutline),x.dragOptions.prepFn=function(_,N,z){n(_,N,z,x.dragOptions,L)},v.init(x.dragOptions)):(E.dragPan.enable(),E.off("zoomstart",x.clearOutline),x.div.onmousedown=null,x.div.ontouchstart=null,x.div.removeEventListener("touchstart",x.div._ontouchstart),x.onClickInPanHandler=x.onClickInPanFn(x.dragOptions),E.on("click",x.onClickInPanHandler))},h.updateFramework=function(P){var x=P[this.id].domain,E=P._size,w=this.div.style;w.width=E.w*(x.x[1]-x.x[0])+"px",w.height=E.h*(x.y[1]-x.y[0])+"px",w.left=E.l+x.x[0]*E.w+"px",w.top=E.t+(1-x.y[1])*E.h+"px",this.xaxis._offset=E.l+x.x[0]*E.w,this.xaxis._length=E.w*(x.x[1]-x.x[0]),this.yaxis._offset=E.t+(1-x.y[1])*E.h,this.yaxis._length=E.h*(x.y[1]-x.y[0])},h.updateLayers=function(P){var x=P[this.id],E=x.layers,w=this.layerList,i;if(E.length!==w.length){for(i=0;i<w.length;i++)w[i].dispose();for(w=this.layerList=[],i=0;i<E.length;i++)w.push(c(this,i,E[i]))}else for(i=0;i<E.length;i++)w[i].update(E[i])},h.destroy=function(){this.map&&(this.map.remove(),this.map=null,this.container.removeChild(this.div))},h.toImage=function(){return this.map.stop(),this.map.getCanvas().toDataURL()},h.setOptions=function(P,x,E){for(var w in E)this.map[x](P,w,E[w])},h.getMapLayers=function(){return this.map.getStyle().layers},h.addLayer=function(P,x){var E=this.map;if(typeof x=="string"){if(x===""){E.addLayer(P,x);return}for(var w=this.getMapLayers(),i=0;i<w.length;i++)if(x===w[i].id){E.addLayer(P,x);return}R.warn(["Trying to add layer with *below* value",x,"referencing a layer that does not exist","or that does not yet exist."].join(" "))}E.addLayer(P)},h.project=function(P){return this.map.project(new g.LngLat(P[0],P[1]))},h.getView=function(){var P=this.map,x=P.getCenter(),E=x.lng,w=x.lat,i={lon:E,lat:w},L=P.getCanvas(),b=parseInt(L.style.width),O=parseInt(L.style.height);return{center:i,zoom:P.getZoom(),bearing:P.getBearing(),pitch:P.getPitch(),_derived:{coordinates:[P.unproject([0,0]).toArray(),P.unproject([b,0]).toArray(),P.unproject([b,O]).toArray(),P.unproject([0,O]).toArray()]}}},h.getViewEdits=function(P){for(var x=this.id,E=["center","zoom","bearing","pitch"],w={},i=0;i<E.length;i++){var L=E[i];w[x+"."+L]=P[L]}return w},h.getViewEditsWithDerived=function(P){var x=this.id,E=this.getViewEdits(P);return E[x+"._derived"]=P._derived,E};function p(P,x){var E={};if(R.isPlainObject(P))E.id=P.id,E.style=P;else if(typeof P=="string")if(E.id=P,m.styleValuesMapbox.indexOf(P)!==-1)E.style=M(P);else if(m.stylesNonMapbox[P]){E.style=m.stylesNonMapbox[P];var w=E.style.sources["plotly-"+P],i=w?w.tiles:void 0;i&&i[0]&&i[0].slice(-9)==="?api_key="&&(i[0]+=x._mapboxAccessToken)}else E.style=P;else E.id=m.styleValueDflt,E.style=M(m.styleValueDflt);return E.transition={duration:0,delay:0},E}function M(P){return m.styleUrlPrefix+P+"-"+m.styleUrlSuffix}function S(P){return[P.lon,P.lat]}W.exports=A},35025:function(W){W.exports=function(H){var e=H.editType;return{t:{valType:"number",dflt:0,editType:e},r:{valType:"number",dflt:0,editType:e},b:{valType:"number",dflt:0,editType:e},l:{valType:"number",dflt:0,editType:e},editType:e}}},74875:function(W,H,e){var g=e(39898),R=e(84096).Dq,a=e(60721).FF,C=e(92770),T=e(73972),v=e(86281),y=e(44467),t=e(71828),r=e(7901),s=e(50606).BADNUM,n=e(41675),o=e(51873).clearOutline,f=e(21479),u=e(85594),m=e(31391),c=e(27659).a0,A=t.relinkPrivateKeys,h=t._,l=W.exports={};t.extendFlat(l,T),l.attributes=e(9012),l.attributes.type.values=l.allTypes,l.fontAttrs=e(41940),l.layoutAttributes=e(10820),l.fontWeight="normal";var p=l.transformsRegistry,M=e(31137);l.executeAPICommand=M.executeAPICommand,l.computeAPICommandBindings=M.computeAPICommandBindings,l.manageCommandObserver=M.manageCommandObserver,l.hasSimpleAPICommandBindings=M.hasSimpleAPICommandBindings,l.redrawText=function(K){return K=t.getGraphDiv(K),new Promise(function(J){setTimeout(function(){K._fullLayout&&(T.getComponentMethod("annotations","draw")(K),T.getComponentMethod("legend","draw")(K),T.getComponentMethod("colorbar","draw")(K),J(l.previousPromises(K)))},300)})},l.resize=function(K){K=t.getGraphDiv(K);var J,re=new Promise(function(le,q){(!K||t.isHidden(K))&&q(new Error("Resize must be passed a displayed plot div element.")),K._redrawTimer&&clearTimeout(K._redrawTimer),K._resolveResize&&(J=K._resolveResize),K._resolveResize=le,K._redrawTimer=setTimeout(function(){if(!K.layout||K.layout.width&&K.layout.height||t.isHidden(K)){le(K);return}delete K.layout.width,delete K.layout.height;var ee=K.changed;K.autoplay=!0,T.call("relayout",K,{autosize:!0}).then(function(){K.changed=ee,K._resolveResize===le&&(delete K._resolveResize,le(K))})},100)});return J&&J(re),re},l.previousPromises=function(K){if((K._promises||[]).length)return Promise.all(K._promises).then(function(){K._promises=[]})},l.addLinks=function(K){if(!(!K._context.showLink&&!K._context.showSources)){var J=K._fullLayout,re=t.ensureSingle(J._paper,"text","js-plot-link-container",function(he){he.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:r.defaultLine,"pointer-events":"all"}).each(function(){var me=g.select(this);me.append("tspan").classed("js-link-to-tool",!0),me.append("tspan").classed("js-link-spacer",!0),me.append("tspan").classed("js-sourcelinks",!0)})}),le=re.node(),q={y:J._paper.attr("height")-9};document.body.contains(le)&&le.getComputedTextLength()>=J.width-20?(q["text-anchor"]="start",q.x=5):(q["text-anchor"]="end",q.x=J._paper.attr("width")-7),re.attr(q);var ee=re.select(".js-link-to-tool"),ue=re.select(".js-link-spacer"),se=re.select(".js-sourcelinks");K._context.showSources&&K._context.showSources(K),K._context.showLink&&S(K,ee),ue.text(ee.text()&&se.text()?" - ":"")}};function S(K,J){J.text("");var re=J.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(K._context.linkText+" ");if(K._context.sendData)re.on("click",function(){l.sendDataToCloud(K)});else{var le=window.location.pathname.split("/"),q=window.location.search;re.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+le[2].split(".")[0]+"/"+le[1]+q})}}l.sendDataToCloud=function(K){var J=(window.PLOTLYENV||{}).BASE_URL||K._context.plotlyServerURL;if(J){K.emit("plotly_beforeexport");var re=g.select(K).append("div").attr("id","hiddenform").style("display","none"),le=re.append("form").attr({action:J+"/external",method:"post",target:"_blank"}),q=le.append("input").attr({type:"text",name:"data"});return q.node().value=l.graphJson(K,!1,"keepdata"),le.node().submit(),re.remove(),K.emit("plotly_afterexport"),!1}};var P=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],x=["year","month","dayMonth","dayMonthYear"];l.supplyDefaults=function(K,J){var re=J&&J.skipUpdateCalc,le=K._fullLayout||{};if(le._skipDefaults){delete le._skipDefaults;return}var q=K._fullLayout={},ee=K.layout||{},ue=K._fullData||[],se=K._fullData=[],he=K.data||[],me=K.calcdata||[],Ce=K._context||{},Te;K._transitionData||l.createTransitionData(K),q._dfltTitle={plot:h(K,"Click to enter Plot title"),x:h(K,"Click to enter X axis title"),y:h(K,"Click to enter Y axis title"),colorbar:h(K,"Click to enter Colorscale title"),annotation:h(K,"new text")},q._traceWord=h(K,"trace");var Oe=i(K,P);if(q._mapboxAccessToken=Ce.mapboxAccessToken,le._initialAutoSizeIsDone){var Ne=le.width,Le=le.height;l.supplyLayoutGlobalDefaults(ee,q,Oe),ee.width||(q.width=Ne),ee.height||(q.height=Le),l.sanitizeMargins(q)}else{l.supplyLayoutGlobalDefaults(ee,q,Oe);var be=!ee.width||!ee.height,Ae=q.autosize,He=Ce.autosizable,Ve=be&&(Ae||He);Ve?l.plotAutoSize(K,ee,q):be&&l.sanitizeMargins(q),!Ae&&be&&(ee.width=q.width,ee.height=q.height)}q._d3locale=L(Oe,q.separators),q._extraFormat=i(K,x),q._initialAutoSizeIsDone=!0,q._dataLength=he.length,q._modules=[],q._visibleModules=[],q._basePlotModules=[];var ke=q._subplots=w(),Ge=q._splomAxes={x:{},y:{}},it=q._splomSubplots={};q._splomGridDflt={},q._scatterStackOpts={},q._firstScatter={},q._alignmentOpts={},q._colorAxes={},q._requestRangeslider={},q._traceUids=E(ue,he),q._globalTransforms=(K._context||{}).globalTransforms,l.supplyDataDefaults(he,se,ee,q);var et=Object.keys(Ge.x),tt=Object.keys(Ge.y);if(et.length>1&&tt.length>1){for(T.getComponentMethod("grid","sizeDefaults")(ee,q),Te=0;Te<et.length;Te++)t.pushUnique(ke.xaxis,et[Te]);for(Te=0;Te<tt.length;Te++)t.pushUnique(ke.yaxis,tt[Te]);for(var at in it)t.pushUnique(ke.cartesian,at)}if(q._has=l._hasPlotType.bind(q),ue.length===se.length)for(Te=0;Te<se.length;Te++)A(se[Te],ue[Te]);l.supplyLayoutModuleDefaults(ee,q,se,K._transitionData);var vt=q._visibleModules,yt=[];for(Te=0;Te<vt.length;Te++){var gt=vt[Te].crossTraceDefaults;gt&&t.pushUnique(yt,gt)}for(Te=0;Te<yt.length;Te++)yt[Te](se,q);q._hasOnlyLargeSploms=q._basePlotModules.length===1&&q._basePlotModules[0].name==="splom"&&et.length>15&&tt.length>15&&q.shapes.length===0&&q.images.length===0,l.linkSubplots(se,q,ue,le),l.cleanPlot(se,q,ue,le);var Mt=!!(le._has&&le._has("gl2d")),Ct=!!(q._has&&q._has("gl2d")),Vt=!!(le._has&&le._has("cartesian")),Je=!!(q._has&&q._has("cartesian")),ze=Vt||Mt,_e=Je||Ct;ze&&!_e?le._bgLayer.remove():_e&&!ze&&(q._shouldCreateBgLayer=!0),le._zoomlayer&&!K._dragging&&o({_fullLayout:le}),b(se,q),A(q,le),T.getComponentMethod("colorscale","crossTraceDefaults")(se,q),q._preGUI||(q._preGUI={}),q._tracePreGUI||(q._tracePreGUI={});var Be=q._tracePreGUI,De={},we;for(we in Be)De[we]="old";for(Te=0;Te<se.length;Te++)we=se[Te]._fullInput.uid,De[we]||(Be[we]={}),De[we]="new";for(we in De)De[we]==="old"&&delete Be[we];B(q),T.getComponentMethod("rangeslider","makeData")(q),!re&&me.length===se.length&&l.supplyDefaultsUpdateCalc(me,se)},l.supplyDefaultsUpdateCalc=function(K,J){for(var re=0;re<J.length;re++){var le=J[re],q=(K[re]||[])[0];if(q&&q.trace){var ee=q.trace;if(ee._hasCalcTransform){var ue=ee._arrayAttrs,se,he,me;for(se=0;se<ue.length;se++)he=ue[se],me=t.nestedProperty(ee,he).get().slice(),t.nestedProperty(le,he).set(me)}q.trace=le}}};function E(K,J){var re=J.length,le=[],q,ee;for(q=0;q<K.length;q++){var ue=K[q]._fullInput;ue!==ee&&le.push(ue),ee=ue}var se=le.length,he=new Array(re),me={};function Ce(Ne,Le){he[Le]=Ne,me[Ne]=1}function Te(Ne,Le){if(Ne&&typeof Ne=="string"&&!me[Ne])return Ce(Ne,Le),!0}for(q=0;q<re;q++){var Oe=J[q].uid;typeof Oe=="number"&&(Oe=String(Oe)),!Te(Oe,q)&&(q<se&&Te(le[q].uid,q)||Ce(t.randstr(me),q))}return he}function w(){var K=T.collectableSubplotTypes,J={},re,le;if(!K){K=[];var q=T.subplotsRegistry;for(var ee in q){var ue=q[ee],se=ue.attr;if(se&&(K.push(ee),Array.isArray(se)))for(le=0;le<se.length;le++)t.pushUnique(K,se[le])}}for(re=0;re<K.length;re++)J[K[re]]=[];return J}function i(K,J){var re=K._context.locale;re||(re="en-US");var le=!1,q={};function ee(Te){for(var Oe=!0,Ne=0;Ne<J.length;Ne++){var Le=J[Ne];q[Le]||(Te[Le]?q[Le]=Te[Le]:Oe=!1)}Oe&&(le=!0)}for(var ue=0;ue<2;ue++){for(var se=K._context.locales,he=0;he<2;he++){var me=(se[re]||{}).format;if(me&&(ee(me),le))break;se=T.localeRegistry}var Ce=re.split("-")[0];if(le||Ce===re)break;re=Ce}return le||ee(T.localeRegistry.en.format),q}function L(K,J){return K.decimal=J.charAt(0),K.thousands=J.charAt(1),{numberFormat:function(re){try{re=a(K).format(t.adjustFormat(re))}catch{return t.warnBadFormat(re),t.noFormat}return re},timeFormat:R(K).utcFormat}}function b(K,J){var re,le=[];J.meta&&(re=J._meta={meta:J.meta,layout:{meta:J.meta}});for(var q=0;q<K.length;q++){var ee=K[q];ee.meta?le[ee.index]=ee._meta={meta:ee.meta}:J.meta&&(ee._meta={meta:J.meta}),J.meta&&(ee._meta.layout={meta:J.meta})}le.length&&(re||(re=J._meta={}),re.data=le)}l.createTransitionData=function(K){K._transitionData||(K._transitionData={}),K._transitionData._frames||(K._transitionData._frames=[]),K._transitionData._frameHash||(K._transitionData._frameHash={}),K._transitionData._counter||(K._transitionData._counter=0),K._transitionData._interruptCallbacks||(K._transitionData._interruptCallbacks=[])},l._hasPlotType=function(K){var J,re=this._basePlotModules||[];for(J=0;J<re.length;J++)if(re[J].name===K)return!0;var le=this._modules||[];for(J=0;J<le.length;J++){var q=le[J].name;if(q===K)return!0;var ee=T.modules[q];if(ee&&ee.categories[K])return!0}return!1},l.cleanPlot=function(K,J,re,le){var q,ee,ue=le._basePlotModules||[];for(q=0;q<ue.length;q++){var se=ue[q];se.clean&&se.clean(K,J,re,le)}var he=le._has&&le._has("gl"),me=J._has&&J._has("gl");he&&!me&&le._glcontainer!==void 0&&(le._glcontainer.selectAll(".gl-canvas").remove(),le._glcontainer.selectAll(".no-webgl").remove(),le._glcanvas=null);var Ce=!!le._infolayer;e:for(q=0;q<re.length;q++){var Te=re[q],Oe=Te.uid;for(ee=0;ee<K.length;ee++){var Ne=K[ee];if(Oe===Ne.uid)continue e}Ce&&le._infolayer.select(".cb"+Oe).remove()}},l.linkSubplots=function(K,J,re,le){var q,ee,ue=le._plots||{},se=J._plots={},he=J._subplots,me={_fullData:K,_fullLayout:J},Ce=he.cartesian.concat(he.gl2d||[]);for(q=0;q<Ce.length;q++){var Te=Ce[q],Oe=ue[Te],Ne=n.getFromId(me,Te,"x"),Le=n.getFromId(me,Te,"y"),be;for(Oe?be=se[Te]=Oe:(be=se[Te]={},be.id=Te),Ne._counterAxes.push(Le._id),Le._counterAxes.push(Ne._id),Ne._subplotsWith.push(Te),Le._subplotsWith.push(Te),be.xaxis=Ne,be.yaxis=Le,be._hasClipOnAxisFalse=!1,ee=0;ee<K.length;ee++){var Ae=K[ee];if(Ae.xaxis===be.xaxis._id&&Ae.yaxis===be.yaxis._id&&Ae.cliponaxis===!1){be._hasClipOnAxisFalse=!0;break}}}var He=n.list(me,null,!0),Ve;for(q=0;q<He.length;q++){Ve=He[q];var ke=null;Ve.overlaying&&(ke=n.getFromId(me,Ve.overlaying),ke&&ke.overlaying&&(Ve.overlaying=!1,ke=null)),Ve._mainAxis=ke||Ve,ke&&(Ve.domain=ke.domain.slice()),Ve._anchorAxis=Ve.anchor==="free"?null:n.getFromId(me,Ve.anchor)}for(q=0;q<He.length;q++)if(Ve=He[q],Ve._counterAxes.sort(n.idSort),Ve._subplotsWith.sort(t.subplotSort),Ve._mainSubplot=O(Ve,J),Ve._counterAxes.length&&(Ve.spikemode&&Ve.spikemode.indexOf("across")!==-1||Ve.automargin&&Ve.mirror&&Ve.anchor!=="free"||T.getComponentMethod("rangeslider","isVisible")(Ve))){var Ge=1,it=0;for(ee=0;ee<Ve._counterAxes.length;ee++){var et=n.getFromId(me,Ve._counterAxes[ee]);Ge=Math.min(Ge,et.domain[0]),it=Math.max(it,et.domain[1])}Ge<it&&(Ve._counterDomainMin=Ge,Ve._counterDomainMax=it)}};function O(K,J){var re={_fullLayout:J},le=K._id.charAt(0)==="x",q=K._mainAxis._anchorAxis,ee="",ue="",se="";if(q&&(se=q._mainAxis._id,ee=le?K._id+se:se+K._id),!ee||!J._plots[ee]){ee="";for(var he=K._counterAxes,me=0;me<he.length;me++){var Ce=he[me],Te=le?K._id+Ce:Ce+K._id;ue||(ue=Te);var Oe=n.getFromId(re,Ce);if(se&&Oe.overlaying===se){ee=Te;break}}}return ee||ue}l.clearExpandedTraceDefaultColors=function(K){var J,re,le;function q(ue,se,he,me){re[me]=se,re.length=me+1,ue.valType==="color"&&ue.dflt===void 0&&J.push(re.join("."))}for(re=[],J=K._module._colorAttrs,J||(K._module._colorAttrs=J=[],v.crawl(K._module.attributes,q)),le=0;le<J.length;le++){var ee=t.nestedProperty(K,"_input."+J[le]);ee.get()||t.nestedProperty(K,J[le]).set(null)}},l.supplyDataDefaults=function(K,J,re,le){var q=le._modules,ee=le._visibleModules,ue=le._basePlotModules,se=0,he=0,me,Ce,Te;le._transformModules=[];function Oe(tt){J.push(tt);var at=tt._module;at&&(t.pushUnique(q,at),tt.visible===!0&&t.pushUnique(ee,at),t.pushUnique(ue,tt._module.basePlotModule),se++,tt._input.visible!==!1&&he++)}var Ne={},Le=[],be=(re.template||{}).data||{},Ae=y.traceTemplater(be);for(me=0;me<K.length;me++){if(Te=K[me],Ce=Ae.newTrace(Te),Ce.uid=le._traceUids[me],l.supplyTraceDefaults(Te,Ce,he,le,me),Ce.index=me,Ce._input=Te,Ce._expandedIndex=se,Ce.transforms&&Ce.transforms.length)for(var He=Te.visible!==!1&&Ce.visible===!1,Ve=N(Ce,J,re,le),ke=0;ke<Ve.length;ke++){var Ge=Ve[ke],it={_template:Ce._template,type:Ce.type,uid:Ce.uid+ke};He&&Ge.visible===!1&&delete Ge.visible,l.supplyTraceDefaults(Ge,it,se,le,me),A(it,Ge),it.index=me,it._input=Te,it._fullInput=Ce,it._expandedIndex=se,it._expandedInput=Ge,Oe(it)}else Ce._fullInput=Ce,Ce._expandedInput=Ce,Oe(Ce);T.traceIs(Ce,"carpetAxis")&&(Ne[Ce.carpet]=Ce),T.traceIs(Ce,"carpetDependent")&&Le.push(me)}for(me=0;me<Le.length;me++)if(Ce=J[Le[me]],!!Ce.visible){var et=Ne[Ce.carpet];if(Ce._carpet=et,!et||!et.visible){Ce.visible=!1;continue}Ce.xaxis=et.xaxis,Ce.yaxis=et.yaxis}},l.supplyAnimationDefaults=function(K){K=K||{};var J,re={};function le(q,ee){return t.coerce(K||{},re,u,q,ee)}if(le("mode"),le("direction"),le("fromcurrent"),Array.isArray(K.frame))for(re.frame=[],J=0;J<K.frame.length;J++)re.frame[J]=l.supplyAnimationFrameDefaults(K.frame[J]||{});else re.frame=l.supplyAnimationFrameDefaults(K.frame||{});if(Array.isArray(K.transition))for(re.transition=[],J=0;J<K.transition.length;J++)re.transition[J]=l.supplyAnimationTransitionDefaults(K.transition[J]||{});else re.transition=l.supplyAnimationTransitionDefaults(K.transition||{});return re},l.supplyAnimationFrameDefaults=function(K){var J={};function re(le,q){return t.coerce(K||{},J,u.frame,le,q)}return re("duration"),re("redraw"),J},l.supplyAnimationTransitionDefaults=function(K){var J={};function re(le,q){return t.coerce(K||{},J,u.transition,le,q)}return re("duration"),re("easing"),J},l.supplyFrameDefaults=function(K){var J={};function re(le,q){return t.coerce(K,J,m,le,q)}return re("group"),re("name"),re("traces"),re("baseframe"),re("data"),re("layout"),J},l.supplyTraceDefaults=function(K,J,re,le,q){var ee=le.colorway||r.defaults,ue=ee[re%ee.length],se;function he(Ve,ke){return t.coerce(K,J,l.attributes,Ve,ke)}var me=he("visible");he("type"),he("name",le._traceWord+" "+q),he("uirevision",le.uirevision);var Ce=l.getModule(J);if(J._module=Ce,Ce){var Te=Ce.basePlotModule,Oe=Te.attr,Ne=Te.attributes;if(Oe&&Ne){var Le=le._subplots,be="";if(me||Te.name!=="gl2d"){if(Array.isArray(Oe))for(se=0;se<Oe.length;se++){var Ae=Oe[se],He=t.coerce(K,J,Ne,Ae);Le[Ae]&&t.pushUnique(Le[Ae],He),be+=He}else be=t.coerce(K,J,Ne,Oe);Le[Te.name]&&t.pushUnique(Le[Te.name],be)}}}return me&&(he("customdata"),he("ids"),he("meta"),T.traceIs(J,"showLegend")?(t.coerce(K,J,Ce.attributes.showlegend?Ce.attributes:l.attributes,"showlegend"),he("legend"),he("legendwidth"),he("legendgroup"),he("legendgrouptitle.text"),he("legendrank"),J._dfltShowLegend=!0):J._dfltShowLegend=!1,Ce&&Ce.supplyDefaults(K,J,ue,le),T.traceIs(J,"noOpacity")||he("opacity"),T.traceIs(J,"notLegendIsolatable")&&(J.visible=!!J.visible),T.traceIs(J,"noHover")||(J.hovertemplate||t.coerceHoverinfo(K,J,le),J.type!=="parcats"&&T.getComponentMethod("fx","supplyDefaults")(K,J,ue,le)),Ce&&Ce.selectPoints&&he("selectedpoints"),l.supplyTransformDefaults(K,J,le)),J};function _(K){var J=K.transforms;if(Array.isArray(J)&&J.length)for(var re=0;re<J.length;re++){var le=J[re],q=le._module||p[le.type];if(q&&q.makesData)return!0}return!1}l.hasMakesDataTransform=_,l.supplyTransformDefaults=function(K,J,re){if(J._length||_(K)){var le=re._globalTransforms||[],q=re._transformModules||[];if(!(!Array.isArray(K.transforms)&&le.length===0))for(var ee=K.transforms||[],ue=le.concat(ee),se=J.transforms=[],he=0;he<ue.length;he++){var me=ue[he],Ce=me.type,Te=p[Ce],Oe,Ne=!(me._module&&me._module===Te),Le=Te&&typeof Te.transform=="function";Te||t.warn("Unrecognized transform type "+Ce+"."),Te&&Te.supplyDefaults&&(Ne||Le)?(Oe=Te.supplyDefaults(me,J,re,K),Oe.type=Ce,Oe._module=Te,t.pushUnique(q,Te)):Oe=t.extendFlat({},me),se.push(Oe)}}};function N(K,J,re,le){for(var q=K.transforms,ee=[K],ue=0;ue<q.length;ue++){var se=q[ue],he=p[se.type];he&&he.transform&&(ee=he.transform(ee,{transform:se,fullTrace:K,fullData:J,layout:re,fullLayout:le,transformIndex:ue}))}return ee}l.supplyLayoutGlobalDefaults=function(K,J,re){function le(Te,Oe){return t.coerce(K,J,l.layoutAttributes,Te,Oe)}var q=K.template;t.isPlainObject(q)&&(J.template=q,J._template=q.layout,J._dataTemplate=q.data),le("autotypenumbers");var ee=t.coerceFont(le,"font"),ue=ee.size;t.coerceFont(le,"title.font",t.extendFlat({},ee,{size:Math.round(ue*1.4)})),le("title.text",J._dfltTitle.plot),le("title.xref");var se=le("title.yref");le("title.pad.t"),le("title.pad.r"),le("title.pad.b"),le("title.pad.l");var he=le("title.automargin");le("title.x"),le("title.xanchor"),le("title.y"),le("title.yanchor"),he&&(se==="paper"&&(J.title.y!==0&&(J.title.y=1),J.title.yanchor==="auto"&&(J.title.yanchor=J.title.y===0?"top":"bottom")),se==="container"&&(J.title.y==="auto"&&(J.title.y=1),J.title.yanchor==="auto"&&(J.title.yanchor=J.title.y<.5?"bottom":"top")));var me=le("uniformtext.mode");me&&le("uniformtext.minsize"),le("autosize",!(K.width&&K.height)),le("width"),le("height"),le("minreducedwidth"),le("minreducedheight"),le("margin.l"),le("margin.r"),le("margin.t"),le("margin.b"),le("margin.pad"),le("margin.autoexpand"),K.width&&K.height&&l.sanitizeMargins(J),T.getComponentMethod("grid","sizeDefaults")(K,J),le("paper_bgcolor"),le("separators",re.decimal+re.thousands),le("hidesources"),le("colorway"),le("datarevision");var Ce=le("uirevision");le("editrevision",Ce),le("selectionrevision",Ce),T.getComponentMethod("modebar","supplyLayoutDefaults")(K,J),T.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(K,J,le),T.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(K,J,le),le("meta"),t.isPlainObject(K.transition)&&(le("transition.duration"),le("transition.easing"),le("transition.ordering")),T.getComponentMethod("calendars","handleDefaults")(K,J,"calendar"),T.getComponentMethod("fx","supplyLayoutGlobalDefaults")(K,J,le),t.coerce(K,J,f,"scattermode")};function z(K){return typeof K=="string"&&K.substr(K.length-2)==="px"&&parseFloat(K)}l.plotAutoSize=function(J,re,le){var q=J._context||{},ee=q.frameMargins,ue,se,he=t.isPlotDiv(J);if(he&&J.emit("plotly_autosize"),q.fillFrame)ue=window.innerWidth,se=window.innerHeight,document.body.style.overflow="hidden";else{var me=he?window.getComputedStyle(J):{};if(ue=z(me.width)||z(me.maxWidth)||le.width,se=z(me.height)||z(me.maxHeight)||le.height,C(ee)&&ee>0){var Ce=1-2*ee;ue=Math.round(Ce*ue),se=Math.round(Ce*se)}}var Te=l.layoutAttributes.width.min,Oe=l.layoutAttributes.height.min;ue<Te&&(ue=Te),se<Oe&&(se=Oe);var Ne=!re.width&&Math.abs(le.width-ue)>1,Le=!re.height&&Math.abs(le.height-se)>1;(Le||Ne)&&(Ne&&(le.width=ue),Le&&(le.height=se)),J._initialAutoSize||(J._initialAutoSize={width:ue,height:se}),l.sanitizeMargins(le)},l.supplyLayoutModuleDefaults=function(K,J,re,le){var q=T.componentsRegistry,ee=J._basePlotModules,ue,se,he,me=T.subplotsRegistry.cartesian;for(ue in q)he=q[ue],he.includeBasePlot&&he.includeBasePlot(K,J);ee.length||ee.push(me),J._has("cartesian")&&(T.getComponentMethod("grid","contentDefaults")(K,J),me.finalizeSubplots(K,J));for(var Ce in J._subplots)J._subplots[Ce].sort(t.subplotSort);for(se=0;se<ee.length;se++)he=ee[se],he.supplyLayoutDefaults&&he.supplyLayoutDefaults(K,J,re);var Te=J._modules;for(se=0;se<Te.length;se++)he=Te[se],he.supplyLayoutDefaults&&he.supplyLayoutDefaults(K,J,re);var Oe=J._transformModules;for(se=0;se<Oe.length;se++)he=Oe[se],he.supplyLayoutDefaults&&he.supplyLayoutDefaults(K,J,re,le);for(ue in q)he=q[ue],he.supplyLayoutDefaults&&he.supplyLayoutDefaults(K,J,re)},l.purge=function(K){var J=K._fullLayout||{};J._glcontainer!==void 0&&(J._glcontainer.selectAll(".gl-canvas").remove(),J._glcontainer.remove(),J._glcanvas=null),J._modeBar&&J._modeBar.destroy(),K._transitionData&&(K._transitionData._interruptCallbacks&&(K._transitionData._interruptCallbacks.length=0),K._transitionData._animationRaf&&window.cancelAnimationFrame(K._transitionData._animationRaf)),t.clearThrottle(),t.clearResponsive(K),delete K.data,delete K.layout,delete K._fullData,delete K._fullLayout,delete K.calcdata,delete K.empty,delete K.fid,delete K.undoqueue,delete K.undonum,delete K.autoplay,delete K.changed,delete K._promises,delete K._redrawTimer,delete K._hmlumcount,delete K._hmpixcount,delete K._transitionData,delete K._transitioning,delete K._initialAutoSize,delete K._transitioningWithDuration,delete K._dragging,delete K._dragged,delete K._dragdata,delete K._hoverdata,delete K._snapshotInProgress,delete K._editing,delete K._mouseDownTime,delete K._legendMouseDownTime,K.removeAllListeners&&K.removeAllListeners()},l.style=function(K){var J=K._fullLayout._visibleModules,re=[],le;for(le=0;le<J.length;le++){var q=J[le];q.style&&t.pushUnique(re,q.style)}for(le=0;le<re.length;le++)re[le](K)},l.sanitizeMargins=function(K){if(!(!K||!K.margin)){var J=K.width,re=K.height,le=K.margin,q=J-(le.l+le.r),ee=re-(le.t+le.b),ue;q<0&&(ue=(J-1)/(le.l+le.r),le.l=Math.floor(ue*le.l),le.r=Math.floor(ue*le.r)),ee<0&&(ue=(re-1)/(le.t+le.b),le.t=Math.floor(ue*le.t),le.b=Math.floor(ue*le.b))}},l.clearAutoMarginIds=function(K){K._fullLayout._pushmarginIds={}},l.allowAutoMargin=function(K,J){K._fullLayout._pushmarginIds[J]=1};function B(K){var J=K.margin;if(!K._size){var re=K._size={l:Math.round(J.l),r:Math.round(J.r),t:Math.round(J.t),b:Math.round(J.b),p:Math.round(J.pad)};re.w=Math.round(K.width)-re.l-re.r,re.h=Math.round(K.height)-re.t-re.b}K._pushmargin||(K._pushmargin={}),K._pushmarginIds||(K._pushmarginIds={}),K._reservedMargin||(K._reservedMargin={})}var U=2,F=2;l.autoMargin=function(K,J,re){var le=K._fullLayout,q=le.width,ee=le.height,ue=le.margin,se=le.minreducedwidth,he=le.minreducedheight,me=t.constrain(q-ue.l-ue.r,U,se),Ce=t.constrain(ee-ue.t-ue.b,F,he),Te=Math.max(0,q-me),Oe=Math.max(0,ee-Ce),Ne=le._pushmargin,Le=le._pushmarginIds;if(ue.autoexpand!==!1){if(!re)delete Ne[J],delete Le[J];else{var be=re.pad;if(be===void 0&&(be=Math.min(12,ue.l,ue.r,ue.t,ue.b)),Te){var Ae=(re.l+re.r)/Te;Ae>1&&(re.l/=Ae,re.r/=Ae)}if(Oe){var He=(re.t+re.b)/Oe;He>1&&(re.t/=He,re.b/=He)}var Ve=re.xl!==void 0?re.xl:re.x,ke=re.xr!==void 0?re.xr:re.x,Ge=re.yt!==void 0?re.yt:re.y,it=re.yb!==void 0?re.yb:re.y;Ne[J]={l:{val:Ve,size:re.l+be},r:{val:ke,size:re.r+be},b:{val:it,size:re.b+be},t:{val:Ge,size:re.t+be}},Le[J]=1}if(!le._replotting)return l.doAutoMargin(K)}};function V(K){if("_redrawFromAutoMarginCount"in K._fullLayout)return!1;var J=n.list(K,"",!0);for(var re in J)if(J[re].autoshift||J[re].shift)return!0;return!1}l.doAutoMargin=function(K){var J=K._fullLayout,re=J.width,le=J.height;J._size||(J._size={}),B(J);var q=J._size,ee=J.margin,ue={t:0,b:0,l:0,r:0},se=t.extendFlat({},q),he=ee.l,me=ee.r,Ce=ee.t,Te=ee.b,Oe=J._pushmargin,Ne=J._pushmarginIds,Le=J.minreducedwidth,be=J.minreducedheight;if(ee.autoexpand!==!1){for(var Ae in Oe)Ne[Ae]||delete Oe[Ae];var He=K._fullLayout._reservedMargin;for(var Ve in He)for(var ke in He[Ve]){var Ge=He[Ve][ke];ue[ke]=Math.max(ue[ke],Ge)}Oe.base={l:{val:0,size:he},r:{val:1,size:me},t:{val:1,size:Ce},b:{val:0,size:Te}};for(var it in ue){var et=0;for(var tt in Oe)tt!=="base"&&C(Oe[tt][it].size)&&(et=Oe[tt][it].size>et?Oe[tt][it].size:et);var at=Math.max(0,ee[it]-et);ue[it]=Math.max(0,ue[it]-at)}for(var vt in Oe){var yt=Oe[vt].l||{},gt=Oe[vt].b||{},Mt=yt.val,Ct=yt.size,Vt=gt.val,Je=gt.size,ze=re-ue.r-ue.l,_e=le-ue.t-ue.b;for(var Be in Oe){if(C(Ct)&&Oe[Be].r){var De=Oe[Be].r.val,we=Oe[Be].r.size;if(De>Mt){var xe=(Ct*De+(we-ze)*Mt)/(De-Mt),Ee=(we*(1-Mt)+(Ct-ze)*(1-De))/(De-Mt);xe+Ee>he+me&&(he=xe,me=Ee)}}if(C(Je)&&Oe[Be].t){var Pe=Oe[Be].t.val,Ue=Oe[Be].t.size;if(Pe>Vt){var $e=(Je*Pe+(Ue-_e)*Vt)/(Pe-Vt),qe=(Ue*(1-Vt)+(Je-_e)*(1-Pe))/(Pe-Vt);$e+qe>Te+Ce&&(Te=$e,Ce=qe)}}}}}var dt=t.constrain(re-ee.l-ee.r,U,Le),bt=t.constrain(le-ee.t-ee.b,F,be),Gt=Math.max(0,re-dt),Qt=Math.max(0,le-bt);if(Gt){var At=(he+me)/Gt;At>1&&(he/=At,me/=At)}if(Qt){var zt=(Te+Ce)/Qt;zt>1&&(Te/=zt,Ce/=zt)}if(q.l=Math.round(he)+ue.l,q.r=Math.round(me)+ue.r,q.t=Math.round(Ce)+ue.t,q.b=Math.round(Te)+ue.b,q.p=Math.round(ee.pad),q.w=Math.round(re)-q.l-q.r,q.h=Math.round(le)-q.t-q.b,!J._replotting&&(l.didMarginChange(se,q)||V(K))){"_redrawFromAutoMarginCount"in J?J._redrawFromAutoMarginCount++:J._redrawFromAutoMarginCount=1;var $t=3*(1+Object.keys(Ne).length);if(J._redrawFromAutoMarginCount<$t)return T.call("_doPlot",K);J._size=se,t.warn("Too many auto-margin redraws.")}j(K)};function j(K){var J=n.list(K,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(re){for(var le=0;le<J.length;le++){var q=J[le][re];q&&q()}})}var $=["l","r","t","b","p","w","h"];l.didMarginChange=function(K,J){for(var re=0;re<$.length;re++){var le=$[re],q=K[le],ee=J[le];if(!C(q)||Math.abs(ee-q)>1)return!0}return!1},l.graphJson=function(K,J,re,le,q,ee){(q&&J&&!K._fullData||q&&!J&&!K._fullLayout)&&l.supplyDefaults(K);var ue=q?K._fullData:K.data,se=q?K._fullLayout:K.layout,he=(K._transitionData||{})._frames;function me(Oe,Ne){if(typeof Oe=="function")return Ne?"_function_":null;if(t.isPlainObject(Oe)){var Le={},be;return Object.keys(Oe).sort().forEach(function(Ae){if(["_","["].indexOf(Ae.charAt(0))===-1){if(typeof Oe[Ae]=="function"){Ne&&(Le[Ae]="_function");return}if(re==="keepdata"){if(Ae.substr(Ae.length-3)==="src")return}else if(re==="keepstream"){if(be=Oe[Ae+"src"],typeof be=="string"&&be.indexOf(":")>0&&!t.isPlainObject(Oe.stream))return}else if(re!=="keepall"&&(be=Oe[Ae+"src"],typeof be=="string"&&be.indexOf(":")>0))return;Le[Ae]=me(Oe[Ae],Ne)}}),Le}return Array.isArray(Oe)?Oe.map(function(Ae){return me(Ae,Ne)}):t.isTypedArray(Oe)?t.simpleMap(Oe,t.identity):t.isJSDate(Oe)?t.ms2DateTimeLocal(+Oe):Oe}var Ce={data:(ue||[]).map(function(Oe){var Ne=me(Oe);return J&&delete Ne.fit,Ne})};if(!J&&(Ce.layout=me(se),q)){var Te=se._size;Ce.layout.computed={margin:{b:Te.b,l:Te.l,r:Te.r,t:Te.t}}}return he&&(Ce.frames=me(he)),ee&&(Ce.config=me(K._context,!0)),le==="object"?Ce:JSON.stringify(Ce)},l.modifyFrames=function(K,J){var re,le,q,ee=K._transitionData._frames,ue=K._transitionData._frameHash;for(re=0;re<J.length;re++)switch(le=J[re],le.type){case"replace":q=le.value;var se=(ee[le.index]||{}).name,he=q.name;ee[le.index]=ue[he]=q,he!==se&&(delete ue[se],ue[he]=q);break;case"insert":q=le.value,ue[q.name]=q,ee.splice(le.index,0,q);break;case"delete":q=ee[le.index],delete ue[q.name],ee.splice(le.index,1);break}return Promise.resolve()},l.computeFrame=function(K,J){var re=K._transitionData._frameHash,le,q,ee,ue;if(!J)throw new Error("computeFrame must be given a string frame name");var se=re[J.toString()];if(!se)return!1;for(var he=[se],me=[se.name];se.baseframe&&(se=re[se.baseframe.toString()])&&me.indexOf(se.name)===-1;)he.push(se),me.push(se.name);for(var Ce={};se=he.pop();)if(se.layout&&(Ce.layout=l.extendLayout(Ce.layout,se.layout)),se.data){if(Ce.data||(Ce.data=[]),q=se.traces,!q)for(q=[],le=0;le<se.data.length;le++)q[le]=le;for(Ce.traces||(Ce.traces=[]),le=0;le<se.data.length;le++)ee=q[le],ee!=null&&(ue=Ce.traces.indexOf(ee),ue===-1&&(ue=Ce.data.length,Ce.traces[ue]=ee),Ce.data[ue]=l.extendTrace(Ce.data[ue],se.data[le]))}return Ce},l.recomputeFrameHash=function(K){for(var J=K._transitionData._frameHash={},re=K._transitionData._frames,le=0;le<re.length;le++){var q=re[le];q&&q.name&&(J[q.name]=q)}},l.extendObjectWithContainers=function(K,J,re){var le,q,ee,ue,se,he,me,Ce,Te=t.extendDeepNoArrays({},J||{}),Oe=t.expandObjectPaths(Te),Ne={};if(re&&re.length)for(ee=0;ee<re.length;ee++)le=t.nestedProperty(Oe,re[ee]),q=le.get(),q===void 0?t.nestedProperty(Ne,re[ee]).set(null):(le.set(null),t.nestedProperty(Ne,re[ee]).set(q));if(K=t.extendDeepNoArrays(K||{},Oe),re&&re.length){for(ee=0;ee<re.length;ee++)if(se=t.nestedProperty(Ne,re[ee]),me=se.get(),!!me){for(he=t.nestedProperty(K,re[ee]),Ce=he.get(),Array.isArray(Ce)||(Ce=[],he.set(Ce)),ue=0;ue<me.length;ue++){var Le=me[ue];Le===null?Ce[ue]=null:Ce[ue]=l.extendObjectWithContainers(Ce[ue],Le)}he.set(Ce)}}return K},l.dataArrayContainers=["transforms","dimensions"],l.layoutArrayContainers=T.layoutArrayContainers,l.extendTrace=function(K,J){return l.extendObjectWithContainers(K,J,l.dataArrayContainers)},l.extendLayout=function(K,J){return l.extendObjectWithContainers(K,J,l.layoutArrayContainers)},l.transition=function(K,J,re,le,q,ee){var ue={redraw:q.redraw},se={},he=[];return ue.prepareFn=function(){for(var me=Array.isArray(J)?J.length:0,Ce=le.slice(0,me),Te=0;Te<Ce.length;Te++){var Oe=Ce[Te],Ne=K._fullData[Oe],Le=Ne._module;if(Le){if(Le.animatable){var be=Le.basePlotModule.name;se[be]||(se[be]=[]),se[be].push(Oe)}K.data[Ce[Te]]=l.extendTrace(K.data[Ce[Te]],J[Te])}}var Ae=t.expandObjectPaths(t.extendDeepNoArrays({},re)),He=/^[xy]axis[0-9]*$/;for(var Ve in Ae)He.test(Ve)&&delete Ae[Ve].range;l.extendLayout(K.layout,Ae),delete K.calcdata,l.supplyDefaults(K),l.doCalcdata(K);var ke=t.expandObjectPaths(re);if(ke){var Ge=K._fullLayout._plots;for(var it in Ge){var et=Ge[it],tt=et.xaxis,at=et.yaxis,vt=tt.range.slice(),yt=at.range.slice(),gt=null,Mt=null,Ct=null,Vt=null;Array.isArray(ke[tt._name+".range"])?gt=ke[tt._name+".range"].slice():Array.isArray((ke[tt._name]||{}).range)&&(gt=ke[tt._name].range.slice()),Array.isArray(ke[at._name+".range"])?Mt=ke[at._name+".range"].slice():Array.isArray((ke[at._name]||{}).range)&&(Mt=ke[at._name].range.slice()),vt&&gt&&(tt.r2l(vt[0])!==tt.r2l(gt[0])||tt.r2l(vt[1])!==tt.r2l(gt[1]))&&(Ct={xr0:vt,xr1:gt}),yt&&Mt&&(at.r2l(yt[0])!==at.r2l(Mt[0])||at.r2l(yt[1])!==at.r2l(Mt[1]))&&(Vt={yr0:yt,yr1:Mt}),(Ct||Vt)&&he.push(t.extendFlat({plotinfo:et},Ct,Vt))}}return Promise.resolve()},ue.runFn=function(me){var Ce,Te=K._fullLayout._basePlotModules,Oe=he.length,Ne;if(re)for(Ne=0;Ne<Te.length;Ne++)Te[Ne].transitionAxes&&Te[Ne].transitionAxes(K,he,ee,me);Oe?(Ce=t.extendFlat({},ee),Ce.duration=0,delete se.cartesian):Ce=ee;for(var Le in se){var be=se[Le],Ae=K._fullData[be[0]]._module;Ae.basePlotModule.plot(K,be,Ce,me)}},ne(K,ee,ue)},l.transitionFromReact=function(K,J,re,le){var q=K._fullLayout,ee=q.transition,ue={},se=[];return ue.prepareFn=function(){var he=q._plots;ue.redraw=!1,J.anim==="some"&&(ue.redraw=!0),re.anim==="some"&&(ue.redraw=!0);for(var me in he){var Ce=he[me],Te=Ce.xaxis,Oe=Ce.yaxis,Ne=le[Te._name].range.slice(),Le=le[Oe._name].range.slice(),be=Te.range.slice(),Ae=Oe.range.slice();Te.setScale(),Oe.setScale();var He=null,Ve=null;(Te.r2l(Ne[0])!==Te.r2l(be[0])||Te.r2l(Ne[1])!==Te.r2l(be[1]))&&(He={xr0:Ne,xr1:be}),(Oe.r2l(Le[0])!==Oe.r2l(Ae[0])||Oe.r2l(Le[1])!==Oe.r2l(Ae[1]))&&(Ve={yr0:Le,yr1:Ae}),(He||Ve)&&se.push(t.extendFlat({plotinfo:Ce},He,Ve))}return Promise.resolve()},ue.runFn=function(he){for(var me=K._fullData,Ce=K._fullLayout,Te=Ce._basePlotModules,Oe,Ne,Le,be=[],Ae=0;Ae<me.length;Ae++)be.push(Ae);function He(){if(K._fullLayout)for(var ke=0;ke<Te.length;ke++)Te[ke].transitionAxes&&Te[ke].transitionAxes(K,se,Oe,he)}function Ve(){if(K._fullLayout)for(var ke=0;ke<Te.length;ke++)Te[ke].plot(K,Le,Ne,he)}se.length&&J.anim?ee.ordering==="traces first"?(Oe=t.extendFlat({},ee,{duration:0}),Le=be,Ne=ee,setTimeout(He,ee.duration),Ve()):(Oe=ee,Le=null,Ne=t.extendFlat({},ee,{duration:0}),setTimeout(Ve,Oe.duration),He()):se.length?(Oe=ee,He()):J.anim&&(Le=be,Ne=ee,Ve())},ne(K,ee,ue)};function ne(K,J,re){var le=!1;function q(Te){var Oe=Promise.resolve();if(!Te)return Oe;for(;Te.length;)Oe=Oe.then(Te.shift());return Oe}function ee(Te){if(Te)for(;Te.length;)Te.shift()}function ue(){return K.emit("plotly_transitioning",[]),new Promise(function(Te){K._transitioning=!0,J.duration>0&&(K._transitioningWithDuration=!0),K._transitionData._interruptCallbacks.push(function(){le=!0}),re.redraw&&K._transitionData._interruptCallbacks.push(function(){return T.call("redraw",K)}),K._transitionData._interruptCallbacks.push(function(){K.emit("plotly_transitioninterrupted",[])});var Oe=0,Ne=0;function Le(){return Oe++,function(){Ne++,!le&&Ne===Oe&&se(Te)}}re.runFn(Le),setTimeout(Le())})}function se(Te){if(K._transitionData)return ee(K._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(re.redraw)return T.call("redraw",K)}).then(function(){K._transitioning=!1,K._transitioningWithDuration=!1,K.emit("plotly_transitioned",[])}).then(Te)}function he(){if(K._transitionData)return K._transitioning=!1,q(K._transitionData._interruptCallbacks)}var me=[l.previousPromises,he,re.prepareFn,l.rehover,l.reselect,ue],Ce=t.syncOrAsync(me,K);return(!Ce||!Ce.then)&&(Ce=Promise.resolve()),Ce.then(function(){return K})}l.doCalcdata=function(K,J){var re=n.list(K),le=K._fullData,q=K._fullLayout,ee,ue,se,he,me=new Array(le.length),Ce=(K.calcdata||[]).slice();for(K.calcdata=me,q._numBoxes=0,q._numViolins=0,q._violinScaleGroupStats={},K._hmpixcount=0,K._hmlumcount=0,q._piecolormap={},q._sunburstcolormap={},q._treemapcolormap={},q._iciclecolormap={},q._funnelareacolormap={},se=0;se<le.length;se++)if(Array.isArray(J)&&J.indexOf(se)===-1){me[se]=Ce[se];continue}for(se=0;se<le.length;se++)ee=le[se],ee._arrayAttrs=v.findArrayAttributes(ee),ee._extremes={};var Te=q._subplots.polar||[];for(se=0;se<Te.length;se++)re.push(q[Te[se]].radialaxis,q[Te[se]].angularaxis);for(var Oe in q._colorAxes){var Ne=q[Oe];Ne.cauto!==!1&&(delete Ne.cmin,delete Ne.cmax)}var Le=!1;function be(Ve){if(ee=le[Ve],ue=ee._module,ee.visible===!0&&ee.transforms){if(ue&&ue.calc){var ke=ue.calc(K,ee);ke[0]&&ke[0].t&&ke[0].t._scene&&delete ke[0].t._scene.dirty}for(he=0;he<ee.transforms.length;he++){var Ge=ee.transforms[he];ue=p[Ge.type],ue&&ue.calcTransform&&(ee._hasCalcTransform=!0,Le=!0,ue.calcTransform(K,ee,Ge))}}}function Ae(Ve,ke){if(ee=le[Ve],ue=ee._module,!!ue.isContainer===ke){var Ge=[];if(ee.visible===!0&&ee._length!==0){delete ee._indexToPoints;var it=ee.transforms||[];for(he=it.length-1;he>=0;he--)if(it[he].enabled){ee._indexToPoints=it[he]._indexToPoints;break}ue&&ue.calc&&(Ge=ue.calc(K,ee))}(!Array.isArray(Ge)||!Ge[0])&&(Ge=[{x:s,y:s}]),Ge[0].t||(Ge[0].t={}),Ge[0].trace=ee,me[Ve]=Ge}}for(Q(re,le,q),se=0;se<le.length;se++)Ae(se,!0);for(se=0;se<le.length;se++)be(se);for(Le&&Q(re,le,q),se=0;se<le.length;se++)Ae(se,!0);for(se=0;se<le.length;se++)Ae(se,!1);Z(K);var He=ce(re,K);if(He.length){for(q._numBoxes=0,q._numViolins=0,se=0;se<He.length;se++)Ae(He[se],!0);for(se=0;se<He.length;se++)Ae(He[se],!1);Z(K)}T.getComponentMethod("fx","calc")(K),T.getComponentMethod("errorbars","calc")(K)};var oe=/(total|sum|min|max|mean|median) (ascending|descending)/;function ce(K,J){var re=[],le,q,ee,ue,se;function he(Be,De,we){var xe=De._id.charAt(0);if(Be==="histogram2dcontour"){var Ee=De._counterAxes[0],Pe=n.getFromId(J,Ee),Ue=xe==="x"||Ee==="x"&&Pe.type==="category",$e=xe==="y"||Ee==="y"&&Pe.type==="category";return function(qe,dt){return qe===0||dt===0||Ue&&qe===we[dt].length-1||$e&&dt===we.length-1?-1:(xe==="y"?dt:qe)-1}}else return function(qe,dt){return xe==="y"?dt:qe}}var me={min:function(Be){return t.aggNums(Math.min,null,Be)},max:function(Be){return t.aggNums(Math.max,null,Be)},sum:function(Be){return t.aggNums(function(De,we){return De+we},null,Be)},total:function(Be){return t.aggNums(function(De,we){return De+we},null,Be)},mean:function(Be){return t.mean(Be)},median:function(Be){return t.median(Be)}};function Ce(Be,De){return Be[1]-De[1]}function Te(Be,De){return De[1]-Be[1]}for(le=0;le<K.length;le++){var Oe=K[le];if(Oe.type==="category"){var Ne=Oe.categoryorder.match(oe);if(Ne){var Le=Ne[1],be=Ne[2],Ae=Oe._id.charAt(0),He=Ae==="x",Ve=[];for(q=0;q<Oe._categories.length;q++)Ve.push([Oe._categories[q],[]]);for(q=0;q<Oe._traceIndices.length;q++){var ke=Oe._traceIndices[q],Ge=J._fullData[ke];if(Ge.visible===!0){var it=Ge.type;T.traceIs(Ge,"histogram")&&(delete Ge._xautoBinFinished,delete Ge._yautoBinFinished);var et=it==="splom",tt=it==="scattergl",at=J.calcdata[ke];for(ee=0;ee<at.length;ee++){var vt=at[ee],yt,gt;if(et){var Mt=Ge._axesDim[Oe._id];if(!He){var Ct=Ge._diag[Mt][0];Ct&&(Oe=J._fullLayout[n.id2name(Ct)])}var Vt=vt.trace.dimensions[Mt].values;for(ue=0;ue<Vt.length;ue++)for(yt=Oe._categoriesMap[Vt[ue]],se=0;se<vt.trace.dimensions.length;se++)if(se!==Mt){var Je=vt.trace.dimensions[se];Ve[yt][1].push(Je.values[ue])}}else if(tt){for(ue=0;ue<vt.t.x.length;ue++)He?(yt=vt.t.x[ue],gt=vt.t.y[ue]):(yt=vt.t.y[ue],gt=vt.t.x[ue]),Ve[yt][1].push(gt);vt.t&&vt.t._scene&&delete vt.t._scene.dirty}else if(vt.hasOwnProperty("z")){gt=vt.z;var ze=he(Ge.type,Oe,gt);for(ue=0;ue<gt.length;ue++)for(se=0;se<gt[ue].length;se++)yt=ze(se,ue),yt+1&&Ve[yt][1].push(gt[ue][se])}else for(yt=vt.p,yt===void 0&&(yt=vt[Ae]),gt=vt.s,gt===void 0&&(gt=vt.v),gt===void 0&&(gt=He?vt.y:vt.x),Array.isArray(gt)||(gt===void 0?gt=[]:gt=[gt]),ue=0;ue<gt.length;ue++)Ve[yt][1].push(gt[ue])}}}Oe._categoriesValue=Ve;var _e=[];for(q=0;q<Ve.length;q++)_e.push([Ve[q][0],me[Le](Ve[q][1])]);_e.sort(be==="descending"?Te:Ce),Oe._categoriesAggregatedValue=_e,Oe._initialCategories=_e.map(function(Be){return Be[0]}),re=re.concat(Oe.sortByInitialCategories())}}}return re}function Q(K,J,re){var le={};function q(he){he.clearCalc(),he.type==="multicategory"&&he.setupMultiCategory(J),le[he._id]=1}t.simpleMap(K,q);for(var ee=re._axisMatchGroups||[],ue=0;ue<ee.length;ue++)for(var se in ee[ue])le[se]||q(re[n.id2name(se)])}function Z(K){var J=K._fullLayout,re=J._visibleModules,le={},q,ee,ue;for(ee=0;ee<re.length;ee++){var se=re[ee],he=se.crossTraceCalc;if(he){var me=se.basePlotModule.name;le[me]?t.pushUnique(le[me],he):le[me]=[he]}}for(ue in le){var Ce=le[ue],Te=J._subplots[ue];if(Array.isArray(Te))for(q=0;q<Te.length;q++){var Oe=Te[q],Ne=ue==="cartesian"?J._plots[Oe]:J[Oe];for(ee=0;ee<Ce.length;ee++)Ce[ee](K,Ne,Oe)}else for(ee=0;ee<Ce.length;ee++)Ce[ee](K)}}l.rehover=function(K){K._fullLayout._rehover&&K._fullLayout._rehover()},l.redrag=function(K){K._fullLayout._redrag&&K._fullLayout._redrag()},l.reselect=function(K){var J=K._fullLayout,re=(K.layout||{}).selections,le=J._previousSelections;J._previousSelections=re;var q=J._reselect||JSON.stringify(re)!==JSON.stringify(le);T.getComponentMethod("selections","reselect")(K,q)},l.generalUpdatePerTraceModule=function(K,J,re,le){var q=J.traceHash,ee={},ue;for(ue=0;ue<re.length;ue++){var se=re[ue],he=se[0].trace;he.visible&&(ee[he.type]=ee[he.type]||[],ee[he.type].push(se))}for(var me in q)if(!ee[me]){var Ce=q[me][0],Te=Ce[0].trace;Te.visible=!1,ee[me]=[Ce]}for(var Oe in ee){var Ne=ee[Oe],Le=Ne[0][0].trace._module;Le.plot(K,J,t.filterVisible(Ne),le)}J.traceHash=ee},l.plotBasePlot=function(K,J,re,le,q){var ee=T.getModule(K),ue=c(J.calcdata,ee)[0];ee.plot(J,ue,le,q)},l.cleanBasePlot=function(K,J,re,le,q){var ee=q._has&&q._has(K),ue=re._has&&re._has(K);ee&&!ue&&q["_"+K+"layer"].selectAll("g.trace").remove()}},9813:function(W){W.exports={attr:"subplot",name:"polar",axisNames:["angularaxis","radialaxis"],axisName2dataArray:{angularaxis:"theta",radialaxis:"r"},layerNames:["draglayer","plotbg","backplot","angular-grid","radial-grid","frontplot","angular-line","radial-line","angular-axis","radial-axis"],radialDragBoxSize:50,angularDragBoxSize:30,cornerLen:25,cornerHalfWidth:2,MINDRAG:8,MINZOOM:20,OFFEDGE:20}},10869:function(W,H,e){var g=e(71828),R=e(61082).tester,a=g.findIndexOfMin,C=g.isAngleInsideSector,T=g.angleDelta,v=g.angleDist;function y(l,p,M,S,P){if(!C(p,S))return!1;var x,E;M[0]<M[1]?(x=M[0],E=M[1]):(x=M[1],E=M[0]);var w=R(o(x,S[0],S[1],P)),i=R(o(E,S[0],S[1],P)),L=[l*Math.cos(p),l*Math.sin(p)];return i.contains(L)&&!w.contains(L)}function t(l,p,M,S){var P,x,E=S[0],w=S[1],i=m(Math.sin(p)-Math.sin(l)),L=m(Math.cos(p)-Math.cos(l)),b=Math.tan(M),O=m(1/b),_=i/L,N=w-_*E;return O?i&&L?(P=N/(b-_),x=b*P):L?(P=w*O,x=w):(P=E,x=E*b):i&&L?(P=0,x=N):L?(P=0,x=w):P=x=NaN,[P,x]}function r(l,p,M,S){var P=-p*M,x=p*p+1,E=2*(p*P-M),w=P*P+M*M-l*l,i=Math.sqrt(E*E-4*x*w),L=(-E+i)/(2*x),b=(-E-i)/(2*x);return[[L,p*L+P+S],[b,p*b+P+S]]}function s(l,p){var M=p.length,S=new Array(M+1),P;for(P=0;P<M;P++){var x=p[P];S[P]=[l*Math.cos(x),l*Math.sin(x)]}return S[P]=S[0].slice(),S}function n(l,p,M,S){var P=S.length,x=[],E,w;function i(F){return[l*Math.cos(F),l*Math.sin(F)]}function L(F,V,j){return t(F,V,j,i(F))}function b(F){return g.mod(F,P)}function O(F){return C(F,[p,M])}var _=a(S,function(F){return O(F)?v(F,p):1/0}),N=L(S[_],S[b(_-1)],p);for(x.push(N),E=_,w=0;w<P;E++,w++){var z=S[b(E)];if(!O(z))break;x.push(i(z))}var B=a(S,function(F){return O(F)?v(F,M):1/0}),U=L(S[B],S[b(B+1)],M);return x.push(U),x.push([0,0]),x.push(x[0].slice()),x}function o(l,p,M,S){return g.isFullCircle([p,M])?s(l,S):n(l,p,M,S)}function f(l,p,M,S){for(var P=1/0,x=1/0,E=o(l,p,M,S),w=0;w<E.length;w++){var i=E[w];P=Math.min(P,i[0]),x=Math.min(x,-i[1])}return[P,x]}function u(l,p){var M=function(x){var E=T(x,l);return E>0?E:1/0},S=a(p,M),P=g.mod(S+1,p.length);return[p[S],p[P]]}function m(l){return Math.abs(l)>1e-10?l:0}function c(l,p,M){p=p||0,M=M||0;for(var S=l.length,P=new Array(S),x=0;x<S;x++){var E=l[x];P[x]=[p+E[0],M-E[1]]}return P}function A(l,p,M,S,P,x){var E=o(l,p,M,S);return"M"+c(E,P,x).join("L")}function h(l,p,M,S,P,x,E){var w,i;l<p?(w=l,i=p):(w=p,i=l);var L=c(o(w,M,S,P),x,E),b=c(o(i,M,S,P),x,E);return"M"+b.reverse().join("L")+"M"+L.join("L")}W.exports={isPtInsidePolygon:y,findPolygonOffset:f,findEnclosingVertexAngles:u,findIntersectionXY:t,findXYatLength:r,clampTiny:m,pathPolygon:A,pathPolygonAnnulus:h}},23580:function(W,H,e){var g=e(27659).AU,R=e(71828).counterRegex,a=e(77997),C=e(9813),T=C.attr,v=C.name,y=R(v),t={};t[T]={valType:"subplotid",dflt:v,editType:"calc"};function r(n){for(var o=n._fullLayout,f=n.calcdata,u=o._subplots[v],m=0;m<u.length;m++){var c=u[m],A=g(f,v,c),h=o[c]._subplot;h||(h=a(n,c),o[c]._subplot=h),h.plot(A,o,n._promises)}}function s(n,o,f,u){for(var m=u._subplots[v]||[],c=u._has&&u._has("gl"),A=o._has&&o._has("gl"),h=c&&!A,l=0;l<m.length;l++){var p=m[l],M=u[p]._subplot;if(!o[p]&&M){M.framework.remove(),M.layers["radial-axis-title"].remove();for(var S in M.clipPaths)M.clipPaths[S].remove()}h&&M._scene&&(M._scene.destroy(),M._scene=null)}}W.exports={attr:T,name:v,idRoot:v,idRegex:y,attrRegex:y,attributes:t,layoutAttributes:e(73812),supplyLayoutDefaults:e(68993),plot:r,clean:s,toSVG:e(93612).toSVG}},73812:function(W,H,e){var g=e(22399),R=e(13838),a=e(27670).Y,C=e(71828).extendFlat,T=e(30962).overrideAll,v=T({color:R.color,showline:C({},R.showline,{dflt:!0}),linecolor:R.linecolor,linewidth:R.linewidth,showgrid:C({},R.showgrid,{dflt:!0}),gridcolor:R.gridcolor,gridwidth:R.gridwidth,griddash:R.griddash},"plot","from-root"),y=T({tickmode:R.minor.tickmode,nticks:R.nticks,tick0:R.tick0,dtick:R.dtick,tickvals:R.tickvals,ticktext:R.ticktext,ticks:R.ticks,ticklen:R.ticklen,tickwidth:R.tickwidth,tickcolor:R.tickcolor,ticklabelstep:R.ticklabelstep,showticklabels:R.showticklabels,labelalias:R.labelalias,showtickprefix:R.showtickprefix,tickprefix:R.tickprefix,showticksuffix:R.showticksuffix,ticksuffix:R.ticksuffix,showexponent:R.showexponent,exponentformat:R.exponentformat,minexponent:R.minexponent,separatethousands:R.separatethousands,tickfont:R.tickfont,tickangle:R.tickangle,tickformat:R.tickformat,tickformatstops:R.tickformatstops,layer:R.layer},"plot","from-root"),t={visible:C({},R.visible,{dflt:!0}),type:C({},R.type,{values:["-","linear","log","date","category"]}),autotypenumbers:R.autotypenumbers,autorangeoptions:{minallowed:R.autorangeoptions.minallowed,maxallowed:R.autorangeoptions.maxallowed,clipmin:R.autorangeoptions.clipmin,clipmax:R.autorangeoptions.clipmax,include:R.autorangeoptions.include,editType:"plot"},autorange:C({},R.autorange,{editType:"plot"}),rangemode:{valType:"enumerated",values:["tozero","nonnegative","normal"],dflt:"tozero",editType:"calc"},minallowed:C({},R.minallowed,{editType:"plot"}),maxallowed:C({},R.maxallowed,{editType:"plot"}),range:C({},R.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],editType:"plot"}),categoryorder:R.categoryorder,categoryarray:R.categoryarray,angle:{valType:"angle",editType:"plot"},side:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"clockwise",editType:"plot"},title:{text:C({},R.title.text,{editType:"plot",dflt:""}),font:C({},R.title.font,{editType:"plot"}),editType:"plot"},hoverformat:R.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{title:R._deprecated.title,titlefont:R._deprecated.titlefont}};C(t,v,y);var r={visible:C({},R.visible,{dflt:!0}),type:{valType:"enumerated",values:["-","linear","category"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:R.autotypenumbers,categoryorder:R.categoryorder,categoryarray:R.categoryarray,thetaunit:{valType:"enumerated",values:["radians","degrees"],dflt:"degrees",editType:"calc"},period:{valType:"number",editType:"calc",min:0},direction:{valType:"enumerated",values:["counterclockwise","clockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",editType:"calc"},hoverformat:R.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc"};C(r,v,y),W.exports={domain:a({name:"polar",editType:"plot"}),sector:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],dflt:[0,360],editType:"plot"},hole:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},bgcolor:{valType:"color",editType:"plot",dflt:g.background},radialaxis:t,angularaxis:r,gridshape:{valType:"enumerated",values:["circular","linear"],dflt:"circular",editType:"plot"},uirevision:{valType:"any",editType:"none"},editType:"calc"}},68993:function(W,H,e){var g=e(71828),R=e(7901),a=e(44467),C=e(49119),T=e(27659).NG,v=e(26218),y=e(38701),t=e(96115),r=e(89426),s=e(15258),n=e(92128),o=e(23074),f=e(4322),u=e(73812),m=e(12101),c=e(9813),A=c.axisNames;function h(p,M,S,P){var x=S("bgcolor");P.bgColor=R.combine(x,P.paper_bgcolor);var E=S("sector");S("hole");var w=T(P.fullData,c.name,P.id),i=P.layoutOut,L;function b(re,le){return S(L+"."+re,le)}for(var O=0;O<A.length;O++){L=A[O],g.isPlainObject(p[L])||(p[L]={});var _=p[L],N=a.newContainer(M,L);N._id=N._name=L,N._attr=P.id+"."+L,N._traceIndices=w.map(function(re){return re._expandedIndex});var z=c.axisName2dataArray[L],B=l(_,N,b,w,z,P);s(_,N,b,{axData:w,dataAttr:z});var U=b("visible");switch(m(N,M,i),b("uirevision",M.uirevision),N._m=1,L){case"radialaxis":b("minallowed"),b("maxallowed");var F=b("range"),V=N.getAutorangeDflt(F),j=b("autorange",V),$;F&&(F[0]===null&&F[1]===null||(F[0]===null||F[1]===null)&&(j==="reversed"||j===!0)||F[0]!==null&&(j==="min"||j==="max reversed")||F[1]!==null&&(j==="max"||j==="min reversed"))&&(F=void 0,delete N.range,N.autorange=!0,$=!0),$||(V=N.getAutorangeDflt(F),j=b("autorange",V)),_.autorange=j,j&&(o(b,j,F),(B==="linear"||B==="-")&&b("rangemode"),N.isReversed()&&(N._m=-1)),N.cleanRange("range",{dfltRange:[0,1]});break;case"angularaxis":if(B==="date"){g.log("Polar plots do not support date angular axes yet.");for(var ne=0;ne<w.length;ne++)w[ne].visible=!1;B=_.type=N.type="linear"}b(B==="linear"?"thetaunit":"period");var oe=b("direction");b("rotation",{counterclockwise:0,clockwise:90}[oe]);break}if(r(_,N,b,N.type,{tickSuffixDflt:N.thetaunit==="degrees"?"":void 0}),U){var ce,Q,Z,K,J=P.font||{};ce=b("color"),Q=ce===_.color?ce:J.color,Z=J.size,K=J.family,v(_,N,b,N.type),t(_,N,b,N.type,{font:{color:Q,size:Z,family:K}}),y(_,N,b,{outerTicks:!0}),n(_,N,b,{dfltColor:ce,bgColor:P.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:u[L]}),b("layer"),L==="radialaxis"&&(b("side"),b("angle",E[0]),b("title.text"),g.coerceFont(b,"title.font",{color:Q,size:g.bigFont(Z),family:K}))}B!=="category"&&b("hoverformat"),N._input=_}M.angularaxis.type==="category"&&S("gridshape")}function l(p,M,S,P,x,E){var w=S("autotypenumbers",E.autotypenumbersDflt),i=S("type");if(i==="-"){for(var L,b=0;b<P.length;b++)if(P[b].visible){L=P[b];break}L&&L[x]&&(M.type=f(L[x],"gregorian",{noMultiCategory:!0,autotypenumbers:w})),M.type==="-"?M.type="linear":p.type=M.type}return M.type}W.exports=function(M,S,P){C(M,S,P,{type:c.name,attributes:u,handleDefaults:h,font:S.font,autotypenumbersDflt:S.autotypenumbers,paper_bgcolor:S.paper_bgcolor,fullData:P,layoutOut:S})}},77997:function(W,H,e){var g=e(39898),R=e(84267),a=e(73972),C=e(71828),T=C.strRotate,v=C.strTranslate,y=e(7901),t=e(91424),r=e(74875),s=e(89298),n=e(21994),o=e(12101),f=e(71739).doAutoRange,u=e(29323),m=e(28569),c=e(30211),A=e(92998),h=e(47322).prepSelect,l=e(47322).selectOnClick,p=e(47322).clearOutline,M=e(6964),S=e(33306),P=e(61549).redrawReglTraces,x=e(18783).MID_SHIFT,E=e(9813),w=e(10869),i=e(23893),L=i.smith,b=i.reactanceArc,O=i.resistanceArc,_=i.smithTransform,N=C._,z=C.mod,B=C.deg2rad,U=C.rad2deg;function F(ce,Q,Z){this.isSmith=Z||!1,this.id=Q,this.gd=ce,this._hasClipOnAxisFalse=null,this.vangles=null,this.radialAxisAngle=null,this.traceHash={},this.layers={},this.clipPaths={},this.clipIds={},this.viewInitial={};var K=ce._fullLayout,J="clip"+K._uid+Q;this.clipIds.forTraces=J+"-for-traces",this.clipPaths.forTraces=K._clips.append("clipPath").attr("id",this.clipIds.forTraces),this.clipPaths.forTraces.append("path"),this.framework=K["_"+(Z?"smith":"polar")+"layer"].append("g").attr("class",Q),this.getHole=function(re){return this.isSmith?0:re.hole},this.getSector=function(re){return this.isSmith?[0,360]:re.sector},this.getRadial=function(re){return this.isSmith?re.realaxis:re.radialaxis},this.getAngular=function(re){return this.isSmith?re.imaginaryaxis:re.angularaxis},Z||(this.radialTickLayout=null,this.angularTickLayout=null)}var V=F.prototype;W.exports=function(Q,Z,K){return new F(Q,Z,K)},V.plot=function(ce,Q){for(var Z=this,K=Q[Z.id],J=!1,re=0;re<ce.length;re++){var le=ce[re][0].trace;if(le.cliponaxis===!1){J=!0;break}}Z._hasClipOnAxisFalse=J,Z.updateLayers(Q,K),Z.updateLayout(Q,K),r.generalUpdatePerTraceModule(Z.gd,Z,ce,K),Z.updateFx(Q,K),Z.isSmith&&(delete K.realaxis.range,delete K.imaginaryaxis.range)},V.updateLayers=function(ce,Q){var Z=this,K=Z.isSmith,J=Z.layers,re=Z.getRadial(Q),le=Z.getAngular(Q),q=E.layerNames,ee=q.indexOf("frontplot"),ue=q.slice(0,ee),se=le.layer==="below traces",he=re.layer==="below traces";se&&ue.push("angular-line"),he&&ue.push("radial-line"),se&&ue.push("angular-axis"),he&&ue.push("radial-axis"),ue.push("frontplot"),se||ue.push("angular-line"),he||ue.push("radial-line"),se||ue.push("angular-axis"),he||ue.push("radial-axis");var me=(K?"smith":"polar")+"sublayer",Ce=Z.framework.selectAll("."+me).data(ue,String);Ce.enter().append("g").attr("class",function(Te){return me+" "+Te}).each(function(Te){var Oe=J[Te]=g.select(this);switch(Te){case"frontplot":K||Oe.append("g").classed("barlayer",!0),Oe.append("g").classed("scatterlayer",!0);break;case"backplot":Oe.append("g").classed("maplayer",!0);break;case"plotbg":J.bg=Oe.append("path");break;case"radial-grid":Oe.style("fill","none");break;case"angular-grid":Oe.style("fill","none");break;case"radial-line":Oe.append("line").style("fill","none");break;case"angular-line":Oe.append("path").style("fill","none");break}}),Ce.order()},V.updateLayout=function(ce,Q){var Z=this,K=Z.layers,J=ce._size,re=Z.getRadial(Q),le=Z.getAngular(Q),q=Q.domain.x,ee=Q.domain.y;Z.xOffset=J.l+J.w*q[0],Z.yOffset=J.t+J.h*(1-ee[1]);var ue=Z.xLength=J.w*(q[1]-q[0]),se=Z.yLength=J.h*(ee[1]-ee[0]),he=Z.getSector(Q);Z.sectorInRad=he.map(B);var me=Z.sectorBBox=$(he),Ce=me[2]-me[0],Te=me[3]-me[1],Oe=se/ue,Ne=Math.abs(Te/Ce),Le,be,Ae,He,Ve;Oe>Ne?(Le=ue,be=ue*Ne,Ve=(se-be)/J.h/2,Ae=[q[0],q[1]],He=[ee[0]+Ve,ee[1]-Ve]):(Le=se/Ne,be=se,Ve=(ue-Le)/J.w/2,Ae=[q[0]+Ve,q[1]-Ve],He=[ee[0],ee[1]]),Z.xLength2=Le,Z.yLength2=be,Z.xDomain2=Ae,Z.yDomain2=He;var ke=Z.xOffset2=J.l+J.w*Ae[0],Ge=Z.yOffset2=J.t+J.h*(1-He[1]),it=Z.radius=Le/Ce,et=Z.innerRadius=Z.getHole(Q)*it,tt=Z.cx=ke-it*me[0],at=Z.cy=Ge+it*me[3],vt=Z.cxx=tt-ke,yt=Z.cyy=at-Ge,gt=re.side,Mt;gt==="counterclockwise"?(Mt=gt,gt="top"):gt==="clockwise"&&(Mt=gt,gt="bottom"),Z.radialAxis=Z.mockAxis(ce,Q,re,{_id:"x",side:gt,_trueSide:Mt,domain:[et/J.w,it/J.w]}),Z.angularAxis=Z.mockAxis(ce,Q,le,{side:"right",domain:[0,Math.PI],autorange:!1}),Z.doAutoRange(ce,Q),Z.updateAngularAxis(ce,Q),Z.updateRadialAxis(ce,Q),Z.updateRadialAxisTitle(ce,Q),Z.xaxis=Z.mockCartesianAxis(ce,Q,{_id:"x",domain:Ae}),Z.yaxis=Z.mockCartesianAxis(ce,Q,{_id:"y",domain:He});var Ct=Z.pathSubplot();Z.clipPaths.forTraces.select("path").attr("d",Ct).attr("transform",v(vt,yt)),K.frontplot.attr("transform",v(ke,Ge)).call(t.setClipUrl,Z._hasClipOnAxisFalse?null:Z.clipIds.forTraces,Z.gd),K.bg.attr("d",Ct).attr("transform",v(tt,at)).call(y.fill,Q.bgcolor)},V.mockAxis=function(ce,Q,Z,K){var J=C.extendFlat({},Z,K);return o(J,Q,ce),J},V.mockCartesianAxis=function(ce,Q,Z){var K=this,J=K.isSmith,re=Z._id,le=C.extendFlat({type:"linear"},Z);n(le,ce);var q={x:[0,2],y:[1,3]};return le.setRange=function(){var ee=K.sectorBBox,ue=q[re],se=K.radialAxis._rl,he=(se[1]-se[0])/(1-K.getHole(Q));le.range=[ee[ue[0]]*he,ee[ue[1]]*he]},le.isPtWithinRange=re==="x"&&!J?function(ee){return K.isPtInside(ee)}:function(){return!0},le.setRange(),le.setScale(),le},V.doAutoRange=function(ce,Q){var Z=this,K=Z.gd,J=Z.radialAxis,re=Z.getRadial(Q);f(K,J);var le=J.range;re.range=le.slice(),re._input.range=le.slice(),J._rl=[J.r2l(le[0],null,"gregorian"),J.r2l(le[1],null,"gregorian")]},V.updateRadialAxis=function(ce,Q){var Z=this,K=Z.gd,J=Z.layers,re=Z.radius,le=Z.innerRadius,q=Z.cx,ee=Z.cy,ue=Z.getRadial(Q),se=z(Z.getSector(Q)[0],360),he=Z.radialAxis,me=le<re,Ce=Z.isSmith;Ce||(Z.fillViewInitialKey("radialaxis.angle",ue.angle),Z.fillViewInitialKey("radialaxis.range",he.range.slice()),he.setGeometry()),he.tickangle==="auto"&&se>90&&se<=270&&(he.tickangle=180);var Te=Ce?function(it){var et=_(Z,L([it.x,0]));return v(et[0]-q,et[1]-ee)}:function(it){return v(he.l2p(it.x)+le,0)},Oe=Ce?function(it){return O(Z,it.x,-1/0,1/0)}:function(it){return Z.pathArc(he.r2p(it.x)+le)},Ne=j(ue);if(Z.radialTickLayout!==Ne&&(J["radial-axis"].selectAll(".xtick").remove(),Z.radialTickLayout=Ne),me){he.setScale();var Le=0,be=Ce?(he.tickvals||[]).filter(function(it){return it>=0}).map(function(it){return s.tickText(he,it,!0,!1)}):s.calcTicks(he),Ae=Ce?be:s.clipEnds(he,be),He=s.getTickSigns(he)[2];Ce&&((he.ticks==="top"&&he.side==="bottom"||he.ticks==="bottom"&&he.side==="top")&&(He=-He),he.ticks==="top"&&he.side==="top"&&(Le=-he.ticklen),he.ticks==="bottom"&&he.side==="bottom"&&(Le=he.ticklen)),s.drawTicks(K,he,{vals:be,layer:J["radial-axis"],path:s.makeTickPath(he,0,He),transFn:Te,crisp:!1}),s.drawGrid(K,he,{vals:Ae,layer:J["radial-grid"],path:Oe,transFn:C.noop,crisp:!1}),s.drawLabels(K,he,{vals:be,layer:J["radial-axis"],transFn:Te,labelFns:s.makeLabelFns(he,Le)})}var Ve=Z.radialAxisAngle=Z.vangles?U(ne(B(ue.angle),Z.vangles)):ue.angle,ke=v(q,ee),Ge=ke+T(-Ve);oe(J["radial-axis"],me&&(ue.showticklabels||ue.ticks),{transform:Ge}),oe(J["radial-grid"],me&&ue.showgrid,{transform:Ce?"":ke}),oe(J["radial-line"].select("line"),me&&ue.showline,{x1:Ce?-re:le,y1:0,x2:re,y2:0,transform:Ge}).attr("stroke-width",ue.linewidth).call(y.stroke,ue.linecolor)},V.updateRadialAxisTitle=function(ce,Q,Z){if(!this.isSmith){var K=this,J=K.gd,re=K.radius,le=K.cx,q=K.cy,ee=K.getRadial(Q),ue=K.id+"title",se=0;if(ee.title){var he=t.bBox(K.layers["radial-axis"].node()).height,me=ee.title.font.size,Ce=ee.side;se=Ce==="top"?me:Ce==="counterclockwise"?-(he+me*.4):he+me*.8}var Te=Z!==void 0?Z:K.radialAxisAngle,Oe=B(Te),Ne=Math.cos(Oe),Le=Math.sin(Oe),be=le+re/2*Ne+se*Le,Ae=q-re/2*Le+se*Ne;K.layers["radial-axis-title"]=A.draw(J,ue,{propContainer:ee,propName:K.id+".radialaxis.title",placeholder:N(J,"Click to enter radial axis title"),attributes:{x:be,y:Ae,"text-anchor":"middle"},transform:{rotate:-Te}})}},V.updateAngularAxis=function(ce,Q){var Z=this,K=Z.gd,J=Z.layers,re=Z.radius,le=Z.innerRadius,q=Z.cx,ee=Z.cy,ue=Z.getAngular(Q),se=Z.angularAxis,he=Z.isSmith;he||(Z.fillViewInitialKey("angularaxis.rotation",ue.rotation),se.setGeometry(),se.setScale());var me=he?function(et){var tt=_(Z,L([0,et.x]));return Math.atan2(tt[0]-q,tt[1]-ee)-Math.PI/2}:function(et){return se.t2g(et.x)};se.type==="linear"&&se.thetaunit==="radians"&&(se.tick0=U(se.tick0),se.dtick=U(se.dtick));var Ce=function(et){return v(q+re*Math.cos(et),ee-re*Math.sin(et))},Te=he?function(et){var tt=_(Z,L([0,et.x]));return v(tt[0],tt[1])}:function(et){return Ce(me(et))},Oe=he?function(et){var tt=_(Z,L([0,et.x])),at=Math.atan2(tt[0]-q,tt[1]-ee)-Math.PI/2;return v(tt[0],tt[1])+T(-U(at))}:function(et){var tt=me(et);return Ce(tt)+T(-U(tt))},Ne=he?function(et){return b(Z,et.x,0,1/0)}:function(et){var tt=me(et),at=Math.cos(tt),vt=Math.sin(tt);return"M"+[q+le*at,ee-le*vt]+"L"+[q+re*at,ee-re*vt]},Le=s.makeLabelFns(se,0),be=Le.labelStandoff,Ae={};Ae.xFn=function(et){var tt=me(et);return Math.cos(tt)*be},Ae.yFn=function(et){var tt=me(et),at=Math.sin(tt)>0?.2:1;return-Math.sin(tt)*(be+et.fontSize*at)+Math.abs(Math.cos(tt))*(et.fontSize*x)},Ae.anchorFn=function(et){var tt=me(et),at=Math.cos(tt);return Math.abs(at)<.1?"middle":at>0?"start":"end"},Ae.heightFn=function(et,tt,at){var vt=me(et);return-.5*(1+Math.sin(vt))*at};var He=j(ue);Z.angularTickLayout!==He&&(J["angular-axis"].selectAll("."+se._id+"tick").remove(),Z.angularTickLayout=He);var Ve=he?[1/0].concat(se.tickvals||[]).map(function(et){return s.tickText(se,et,!0,!1)}):s.calcTicks(se);he&&(Ve[0].text="",Ve[0].fontSize*=1.75);var ke;if(Q.gridshape==="linear"?(ke=Ve.map(me),C.angleDelta(ke[0],ke[1])<0&&(ke=ke.slice().reverse())):ke=null,Z.vangles=ke,se.type==="category"&&(Ve=Ve.filter(function(et){return C.isAngleInsideSector(me(et),Z.sectorInRad)})),se.visible){var Ge=se.ticks==="inside"?-1:1,it=(se.linewidth||1)/2;s.drawTicks(K,se,{vals:Ve,layer:J["angular-axis"],path:"M"+Ge*it+",0h"+Ge*se.ticklen,transFn:Oe,crisp:!1}),s.drawGrid(K,se,{vals:Ve,layer:J["angular-grid"],path:Ne,transFn:C.noop,crisp:!1}),s.drawLabels(K,se,{vals:Ve,layer:J["angular-axis"],repositionOnUpdate:!0,transFn:Te,labelFns:Ae})}oe(J["angular-line"].select("path"),ue.showline,{d:Z.pathSubplot(),transform:v(q,ee)}).attr("stroke-width",ue.linewidth).call(y.stroke,ue.linecolor)},V.updateFx=function(ce,Q){if(!this.gd._context.staticPlot){var Z=!this.isSmith;Z&&(this.updateAngularDrag(ce),this.updateRadialDrag(ce,Q,0),this.updateRadialDrag(ce,Q,1)),this.updateHoverAndMainDrag(ce)}},V.updateHoverAndMainDrag=function(ce){var Q=this,Z=Q.isSmith,K=Q.gd,J=Q.layers,re=ce._zoomlayer,le=E.MINZOOM,q=E.OFFEDGE,ee=Q.radius,ue=Q.innerRadius,se=Q.cx,he=Q.cy,me=Q.cxx,Ce=Q.cyy,Te=Q.sectorInRad,Oe=Q.vangles,Ne=Q.radialAxis,Le=w.clampTiny,be=w.findXYatLength,Ae=w.findEnclosingVertexAngles,He=E.cornerHalfWidth,Ve=E.cornerLen/2,ke,Ge,it=u.makeDragger(J,"path","maindrag",ce.dragmode===!1?"none":"crosshair");g.select(it).attr("d",Q.pathSubplot()).attr("transform",v(se,he)),it.onmousemove=function(At){c.hover(K,At,Q.id),K._fullLayout._lasthover=it,K._fullLayout._hoversubplot=Q.id},it.onmouseout=function(At){K._dragging||m.unhover(K,At)};var et={element:it,gd:K,subplot:Q.id,plotinfo:{id:Q.id,xaxis:Q.xaxis,yaxis:Q.yaxis},xaxes:[Q.xaxis],yaxes:[Q.yaxis]},tt,at,vt,yt,gt,Mt,Ct,Vt,Je;function ze(At,zt){return Math.sqrt(At*At+zt*zt)}function _e(At,zt){return ze(At-me,zt-Ce)}function Be(At,zt){return Math.atan2(Ce-zt,At-me)}function De(At,zt){return[At*Math.cos(zt),At*Math.sin(-zt)]}function we(At,zt){if(At===0)return Q.pathSector(2*He);var $t=Ve/At,Ar=zt-$t,ut=zt+$t,Yt=Math.max(0,Math.min(At,ee)),Kt=Yt-He,mr=Yt+He;return"M"+De(Kt,Ar)+"A"+[Kt,Kt]+" 0,0,0 "+De(Kt,ut)+"L"+De(mr,ut)+"A"+[mr,mr]+" 0,0,1 "+De(mr,Ar)+"Z"}function xe(At,zt,$t){if(At===0)return Q.pathSector(2*He);var Ar=De(At,zt),ut=De(At,$t),Yt=Le((Ar[0]+ut[0])/2),Kt=Le((Ar[1]+ut[1])/2),mr,ur;if(Yt&&Kt){var pt=Kt/Yt,st=-1/pt,xt=be(He,pt,Yt,Kt);mr=be(Ve,st,xt[0][0],xt[0][1]),ur=be(Ve,st,xt[1][0],xt[1][1])}else{var St,Dt;Kt?(St=Ve,Dt=He):(St=He,Dt=Ve),mr=[[Yt-St,Kt-Dt],[Yt+St,Kt-Dt]],ur=[[Yt-St,Kt+Dt],[Yt+St,Kt+Dt]]}return"M"+mr.join("L")+"L"+ur.reverse().join("L")+"Z"}function Ee(){vt=null,yt=null,gt=Q.pathSubplot(),Mt=!1;var At=K._fullLayout[Q.id];Ct=R(At.bgcolor).getLuminance(),Vt=u.makeZoombox(re,Ct,se,he,gt),Vt.attr("fill-rule","evenodd"),Je=u.makeCorners(re,se,he),p(K)}function Pe(At,zt){return zt=Math.max(Math.min(zt,ee),ue),At<q?At=0:ee-At<q?At=ee:zt<q?zt=0:ee-zt<q&&(zt=ee),Math.abs(zt-At)>le?(At<zt?(vt=At,yt=zt):(vt=zt,yt=At),!0):(vt=null,yt=null,!1)}function Ue(At,zt){At=At||gt,zt=zt||"M0,0Z",Vt.attr("d",At),Je.attr("d",zt),u.transitionZoombox(Vt,Je,Mt,Ct),Mt=!0;var $t={};Gt($t),K.emit("plotly_relayouting",$t)}function $e(At,zt){At=At*ke,zt=zt*Ge;var $t=tt+At,Ar=at+zt,ut=_e(tt,at),Yt=Math.min(_e($t,Ar),ee),Kt=Be(tt,at),mr,ur;Pe(ut,Yt)&&(mr=gt+Q.pathSector(yt),vt&&(mr+=Q.pathSector(vt)),ur=we(vt,Kt)+we(yt,Kt)),Ue(mr,ur)}function qe(At,zt,$t,Ar){var ut=w.findIntersectionXY($t,Ar,$t,[At-me,Ce-zt]);return ze(ut[0],ut[1])}function dt(At,zt){var $t=tt+At,Ar=at+zt,ut=Be(tt,at),Yt=Be($t,Ar),Kt=Ae(ut,Oe),mr=Ae(Yt,Oe),ur=qe(tt,at,Kt[0],Kt[1]),pt=Math.min(qe($t,Ar,mr[0],mr[1]),ee),st,xt;Pe(ur,pt)&&(st=gt+Q.pathSector(yt),vt&&(st+=Q.pathSector(vt)),xt=[xe(vt,Kt[0],Kt[1]),xe(yt,Kt[0],Kt[1])].join(" ")),Ue(st,xt)}function bt(){if(u.removeZoombox(K),!(vt===null||yt===null)){var At={};Gt(At),u.showDoubleClickNotifier(K),a.call("_guiRelayout",K,At)}}function Gt(At){var zt=Ne._rl,$t=(zt[1]-zt[0])/(1-ue/ee)/ee,Ar=[zt[0]+(vt-ue)*$t,zt[0]+(yt-ue)*$t];At[Q.id+".radialaxis.range"]=Ar}function Qt(At,zt){var $t=K._fullLayout.clickmode;if(u.removeZoombox(K),At===2){var Ar={};for(var ut in Q.viewInitial)Ar[Q.id+"."+ut]=Q.viewInitial[ut];K.emit("plotly_doubleclick",null),a.call("_guiRelayout",K,Ar)}$t.indexOf("select")>-1&&At===1&&l(zt,K,[Q.xaxis],[Q.yaxis],Q.id,et),$t.indexOf("event")>-1&&c.click(K,zt,Q.id)}et.prepFn=function(At,zt,$t){var Ar=K._fullLayout.dragmode,ut=it.getBoundingClientRect();K._fullLayout._calcInverseTransform(K);var Yt=K._fullLayout._invTransform;ke=K._fullLayout._invScaleX,Ge=K._fullLayout._invScaleY;var Kt=C.apply3DTransform(Yt)(zt-ut.left,$t-ut.top);if(tt=Kt[0],at=Kt[1],Oe){var mr=w.findPolygonOffset(ee,Te[0],Te[1],Oe);tt+=me+mr[0],at+=Ce+mr[1]}switch(Ar){case"zoom":et.clickFn=Qt,Z||(Oe?et.moveFn=dt:et.moveFn=$e,et.doneFn=bt,Ee());break;case"select":case"lasso":h(At,zt,$t,et,Ar);break}},m.init(et)},V.updateRadialDrag=function(ce,Q,Z){var K=this,J=K.gd,re=K.layers,le=K.radius,q=K.innerRadius,ee=K.cx,ue=K.cy,se=K.radialAxis,he=E.radialDragBoxSize,me=he/2;if(!se.visible)return;var Ce=B(K.radialAxisAngle),Te=se._rl,Oe=Te[0],Ne=Te[1],Le=Te[Z],be=.75*(Te[1]-Te[0])/(1-K.getHole(Q))/le,Ae,He,Ve;Z?(Ae=ee+(le+me)*Math.cos(Ce),He=ue-(le+me)*Math.sin(Ce),Ve="radialdrag"):(Ae=ee+(q-me)*Math.cos(Ce),He=ue-(q-me)*Math.sin(Ce),Ve="radialdrag-inner");var ke=u.makeRectDragger(re,Ve,"crosshair",-me,-me,he,he),Ge={element:ke,gd:J};ce.dragmode===!1&&(Ge.dragmode=!1),oe(g.select(ke),se.visible&&q<le,{transform:v(Ae,He)});var it,et,tt;function at(Ct,Vt){if(it)it(Ct,Vt);else{var Je=[Ct,-Vt],ze=[Math.cos(Ce),Math.sin(Ce)],_e=Math.abs(C.dot(Je,ze)/Math.sqrt(C.dot(Je,Je)));isNaN(_e)||(it=_e<.5?gt:Mt)}var Be={};vt(Be),J.emit("plotly_relayouting",Be)}function vt(Ct){et!==null?Ct[K.id+".radialaxis.angle"]=et:tt!==null&&(Ct[K.id+".radialaxis.range["+Z+"]"]=tt)}function yt(){et!==null?a.call("_guiRelayout",J,K.id+".radialaxis.angle",et):tt!==null&&a.call("_guiRelayout",J,K.id+".radialaxis.range["+Z+"]",tt)}function gt(Ct,Vt){if(Z!==0){var Je=Ae+Ct,ze=He+Vt;et=Math.atan2(ue-ze,Je-ee),K.vangles&&(et=ne(et,K.vangles)),et=U(et);var _e=v(ee,ue)+T(-et);re["radial-axis"].attr("transform",_e),re["radial-line"].select("line").attr("transform",_e);var Be=K.gd._fullLayout,De=Be[K.id];K.updateRadialAxisTitle(Be,De,et)}}function Mt(Ct,Vt){var Je=C.dot([Ct,-Vt],[Math.cos(Ce),Math.sin(Ce)]);if(tt=Le-be*Je,be>0!=(Z?tt>Oe:tt<Ne)){tt=null;return}var ze=J._fullLayout,_e=ze[K.id];se.range[Z]=tt,se._rl[Z]=tt,K.updateRadialAxis(ze,_e),K.xaxis.setRange(),K.xaxis.setScale(),K.yaxis.setRange(),K.yaxis.setScale();var Be=!1;for(var De in K.traceHash){var we=K.traceHash[De],xe=C.filterVisible(we),Ee=we[0][0].trace._module;Ee.plot(J,K,xe,_e),a.traceIs(De,"gl")&&xe.length&&(Be=!0)}Be&&(S(J),P(J))}Ge.prepFn=function(){it=null,et=null,tt=null,Ge.moveFn=at,Ge.doneFn=yt,p(J)},Ge.clampFn=function(Ct,Vt){return Math.sqrt(Ct*Ct+Vt*Vt)<E.MINDRAG&&(Ct=0,Vt=0),[Ct,Vt]},m.init(Ge)},V.updateAngularDrag=function(ce){var Q=this,Z=Q.gd,K=Q.layers,J=Q.radius,re=Q.angularAxis,le=Q.cx,q=Q.cy,ee=Q.cxx,ue=Q.cyy,se=E.angularDragBoxSize,he=u.makeDragger(K,"path","angulardrag",ce.dragmode===!1?"none":"move"),me={element:he,gd:Z};ce.dragmode===!1?me.dragmode=!1:g.select(he).attr("d",Q.pathAnnulus(J,J+se)).attr("transform",v(le,q)).call(M,"move");function Ce(tt,at){return Math.atan2(ue+se-at,tt-ee-se)}var Te=K.frontplot.select(".scatterlayer").selectAll(".trace"),Oe=Te.selectAll(".point"),Ne=Te.selectAll(".textpoint"),Le,be,Ae,He,Ve,ke;function Ge(tt,at){var vt=Q.gd._fullLayout,yt=vt[Q.id],gt=Le+tt*ce._invScaleX,Mt=be+at*ce._invScaleY,Ct=Ce(gt,Mt),Vt=U(Ct-ke);if(He=Ae+Vt,K.frontplot.attr("transform",v(Q.xOffset2,Q.yOffset2)+T([-Vt,ee,ue])),Q.vangles){Ve=Q.radialAxisAngle+Vt;var Je=v(le,q)+T(-Vt),ze=v(le,q)+T(-Ve);K.bg.attr("transform",Je),K["radial-grid"].attr("transform",Je),K["radial-axis"].attr("transform",ze),K["radial-line"].select("line").attr("transform",ze),Q.updateRadialAxisTitle(vt,yt,Ve)}else Q.clipPaths.forTraces.select("path").attr("transform",v(ee,ue)+T(Vt));Oe.each(function(){var Pe=g.select(this),Ue=t.getTranslate(Pe);Pe.attr("transform",v(Ue.x,Ue.y)+T([Vt]))}),Ne.each(function(){var Pe=g.select(this),Ue=Pe.select("text"),$e=t.getTranslate(Pe);Pe.attr("transform",T([Vt,Ue.attr("x"),Ue.attr("y")])+v($e.x,$e.y))}),re.rotation=C.modHalf(He,360),Q.updateAngularAxis(vt,yt),Q._hasClipOnAxisFalse&&!C.isFullCircle(Q.sectorInRad)&&Te.call(t.hideOutsideRangePoints,Q);var _e=!1;for(var Be in Q.traceHash)if(a.traceIs(Be,"gl")){var De=Q.traceHash[Be],we=C.filterVisible(De),xe=De[0][0].trace._module;xe.plot(Z,Q,we,yt),we.length&&(_e=!0)}_e&&(S(Z),P(Z));var Ee={};it(Ee),Z.emit("plotly_relayouting",Ee)}function it(tt){tt[Q.id+".angularaxis.rotation"]=He,Q.vangles&&(tt[Q.id+".radialaxis.angle"]=Ve)}function et(){Ne.select("text").attr("transform",null);var tt={};it(tt),a.call("_guiRelayout",Z,tt)}me.prepFn=function(tt,at,vt){var yt=ce[Q.id];Ae=yt.angularaxis.rotation;var gt=he.getBoundingClientRect();Le=at-gt.left,be=vt-gt.top,Z._fullLayout._calcInverseTransform(Z);var Mt=C.apply3DTransform(ce._invTransform)(Le,be);Le=Mt[0],be=Mt[1],ke=Ce(Le,be),me.moveFn=Ge,me.doneFn=et,p(Z)},Q.vangles&&!C.isFullCircle(Q.sectorInRad)&&(me.prepFn=C.noop,M(g.select(he),null)),m.init(me)},V.isPtInside=function(ce){if(this.isSmith)return!0;var Q=this.sectorInRad,Z=this.vangles,K=this.angularAxis.c2g(ce.theta),J=this.radialAxis,re=J.c2l(ce.r),le=J._rl,q=Z?w.isPtInsidePolygon:C.isPtInsideSector;return q(re,K,le,Q,Z)},V.pathArc=function(ce){var Q=this.sectorInRad,Z=this.vangles,K=Z?w.pathPolygon:C.pathArc;return K(ce,Q[0],Q[1],Z)},V.pathSector=function(ce){var Q=this.sectorInRad,Z=this.vangles,K=Z?w.pathPolygon:C.pathSector;return K(ce,Q[0],Q[1],Z)},V.pathAnnulus=function(ce,Q){var Z=this.sectorInRad,K=this.vangles,J=K?w.pathPolygonAnnulus:C.pathAnnulus;return J(ce,Q,Z[0],Z[1],K)},V.pathSubplot=function(){var ce=this.innerRadius,Q=this.radius;return ce?this.pathAnnulus(ce,Q):this.pathSector(Q)},V.fillViewInitialKey=function(ce,Q){ce in this.viewInitial||(this.viewInitial[ce]=Q)};function j(ce){var Q=ce.ticks+String(ce.ticklen)+String(ce.showticklabels);return"side"in ce&&(Q+=ce.side),Q}function $(ce){var Q=ce[0],Z=ce[1],K=Z-Q,J=z(Q,360),re=J+K,le=Math.cos(B(J)),q=Math.sin(B(J)),ee=Math.cos(B(re)),ue=Math.sin(B(re)),se,he,me,Ce;return J<=90&&re>=90||J>90&&re>=450?Ce=1:q<=0&&ue<=0?Ce=0:Ce=Math.max(q,ue),J<=180&&re>=180||J>180&&re>=540?se=-1:le>=0&&ee>=0?se=0:se=Math.min(le,ee),J<=270&&re>=270||J>270&&re>=630?he=-1:q>=0&&ue>=0?he=0:he=Math.min(q,ue),re>=360?me=1:le<=0&&ee<=0?me=0:me=Math.max(le,ee),[se,he,me,Ce]}function ne(ce,Q){var Z=function(J){return C.angleDist(ce,J)},K=C.findIndexOfMin(Q,Z);return Q[K]}function oe(ce,Q,Z){return Q?(ce.attr("display",null),ce.attr(Z)):ce&&ce.attr("display","none"),ce}},12101:function(W,H,e){var g=e(71828),R=e(21994),a=g.deg2rad,C=g.rad2deg;W.exports=function(s,n,o){switch(R(s,o),s._id){case"x":case"radialaxis":T(s,n);break;case"angularaxis":t(s,n);break}};function T(r,s){var n=s._subplot;r.setGeometry=function(){var o=r._rl[0],f=r._rl[1],u=n.innerRadius,m=(n.radius-u)/(f-o),c=u/m,A=o>f?function(h){return h<=0}:function(h){return h>=0};r.c2g=function(h){var l=r.c2l(h)-o;return(A(l)?l:0)+c},r.g2c=function(h){return r.l2c(h+o-c)},r.g2p=function(h){return h*m},r.c2p=function(h){return r.g2p(r.c2g(h))}}}function v(r,s){return s==="degrees"?a(r):r}function y(r,s){return s==="degrees"?C(r):r}function t(r,s){var n=r.type;if(n==="linear"){var o=r.d2c,f=r.c2d;r.d2c=function(u,m){return v(o(u),m)},r.c2d=function(u,m){return f(y(u,m))}}r.makeCalcdata=function(u,m){var c=u[m],A=u._length,h,l,p=function(E){return r.d2c(E,u.thetaunit)};if(c){if(g.isTypedArray(c)&&n==="linear"){if(A===c.length)return c;if(c.subarray)return c.subarray(0,A)}for(h=new Array(A),l=0;l<A;l++)h[l]=p(c[l])}else{var M=m+"0",S="d"+m,P=M in u?p(u[M]):0,x=u[S]?p(u[S]):(r.period||2*Math.PI)/A;for(h=new Array(A),l=0;l<A;l++)h[l]=P+l*x}return h},r.setGeometry=function(){var u=s.sector,m=u.map(a),c={clockwise:-1,counterclockwise:1}[r.direction],A=a(r.rotation),h=function(w){return c*w+A},l=function(w){return(w-A)/c},p,M,S,P;switch(n){case"linear":M=p=g.identity,P=a,S=C,r.range=g.isFullCircle(m)?[u[0],u[0]+360]:m.map(l).map(C);break;case"category":var x=r._categories.length,E=r.period?Math.max(r.period,x):x;E===0&&(E=1),M=P=function(w){return w*2*Math.PI/E},p=S=function(w){return w*E/Math.PI/2},r.range=[0,E];break}r.c2g=function(w){return h(M(w))},r.g2c=function(w){return p(l(w))},r.t2g=function(w){return h(P(w))},r.g2t=function(w){return S(l(w))}}}},39779:function(W){W.exports={attr:"subplot",name:"smith",axisNames:["realaxis","imaginaryaxis"],axisName2dataArray:{imaginaryaxis:"imag",realaxis:"real"}}},23893:function(W){function H(T){return T<0?-1:T>0?1:0}function e(T){var v=T[0],y=T[1];if(!isFinite(v)||!isFinite(y))return[1,0];var t=(v+1)*(v+1)+y*y;return[(v*v+y*y-1)/t,2*y/t]}function g(T,v){var y=v[0],t=v[1];return[y*T.radius+T.cx,-t*T.radius+T.cy]}function R(T,v){return v*T.radius}function a(T,v,y,t){var r=g(T,e([y,v])),s=r[0],n=r[1],o=g(T,e([t,v])),f=o[0],u=o[1];if(v===0)return["M"+s+","+n,"L"+f+","+u].join(" ");var m=R(T,1/Math.abs(v));return["M"+s+","+n,"A"+m+","+m+" 0 0,"+(v<0?1:0)+" "+f+","+u].join(" ")}function C(T,v,y,t){var r=R(T,1/(v+1)),s=g(T,e([v,y])),n=s[0],o=s[1],f=g(T,e([v,t])),u=f[0],m=f[1];if(H(y)!==H(t)){var c=g(T,e([v,0])),A=c[0],h=c[1];return["M"+n+","+o,"A"+r+","+r+" 0 0,"+(0<y?0:1)+" "+A+","+h,"A"+r+","+r+" 0 0,"+(t<0?0:1)+u+","+m].join(" ")}return["M"+n+","+o,"A"+r+","+r+" 0 0,"+(t<y?0:1)+" "+u+","+m].join(" ")}W.exports={smith:e,reactanceArc:a,resistanceArc:C,smithTransform:g}},7504:function(W,H,e){var g=e(27659).AU,R=e(71828).counterRegex,a=e(77997),C=e(39779),T=C.attr,v=C.name,y=R(v),t={};t[T]={valType:"subplotid",dflt:v,editType:"calc"};function r(n){for(var o=n._fullLayout,f=n.calcdata,u=o._subplots[v],m=0;m<u.length;m++){var c=u[m],A=g(f,v,c),h=o[c]._subplot;h||(h=a(n,c,!0),o[c]._subplot=h),h.plot(A,o,n._promises)}}function s(n,o,f,u){for(var m=u._subplots[v]||[],c=0;c<m.length;c++){var A=m[c],h=u[A]._subplot;if(!o[A]&&h){h.framework.remove();for(var l in h.clipPaths)h.clipPaths[l].remove()}}}W.exports={attr:T,name:v,idRoot:v,idRegex:y,attrRegex:y,attributes:t,layoutAttributes:e(33419),supplyLayoutDefaults:e(9558),plot:r,clean:s,toSVG:e(93612).toSVG}},33419:function(W,H,e){var g=e(22399),R=e(13838),a=e(27670).Y,C=e(71828).extendFlat,T=e(30962).overrideAll,v=T({color:R.color,showline:C({},R.showline,{dflt:!0}),linecolor:R.linecolor,linewidth:R.linewidth,showgrid:C({},R.showgrid,{dflt:!0}),gridcolor:R.gridcolor,gridwidth:R.gridwidth,griddash:R.griddash},"plot","from-root"),y=T({ticklen:R.ticklen,tickwidth:C({},R.tickwidth,{dflt:2}),tickcolor:R.tickcolor,showticklabels:R.showticklabels,labelalias:R.labelalias,showtickprefix:R.showtickprefix,tickprefix:R.tickprefix,showticksuffix:R.showticksuffix,ticksuffix:R.ticksuffix,tickfont:R.tickfont,tickformat:R.tickformat,hoverformat:R.hoverformat,layer:R.layer},"plot","from-root"),t=C({visible:C({},R.visible,{dflt:!0}),tickvals:{dflt:[.2,.5,1,2,5],valType:"data_array",editType:"plot"},tickangle:C({},R.tickangle,{dflt:90}),ticks:{valType:"enumerated",values:["top","bottom",""],editType:"ticks"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},editType:"calc"},v,y),r=C({visible:C({},R.visible,{dflt:!0}),tickvals:{valType:"data_array",editType:"plot"},ticks:R.ticks,editType:"calc"},v,y);W.exports={domain:a({name:"smith",editType:"plot"}),bgcolor:{valType:"color",editType:"plot",dflt:g.background},realaxis:t,imaginaryaxis:r,editType:"calc"}},9558:function(W,H,e){var g=e(71828),R=e(7901),a=e(44467),C=e(49119),T=e(27659).NG,v=e(89426),y=e(96115),t=e(92128),r=e(21994),s=e(33419),n=e(39779),o=n.axisNames,f=m(function(c){return c.slice().reverse().map(function(A){return-A}).concat([0]).concat(c)},String);function u(c,A,h,l){var p=h("bgcolor");l.bgColor=R.combine(p,l.paper_bgcolor);var M=T(l.fullData,n.name,l.id),S=l.layoutOut,P;function x(V,j){return h(P+"."+V,j)}for(var E=0;E<o.length;E++){P=o[E],g.isPlainObject(c[P])||(c[P]={});var w=c[P],i=a.newContainer(A,P);i._id=i._name=P,i._attr=l.id+"."+P,i._traceIndices=M.map(function(V){return V._expandedIndex});var L=x("visible");if(i.type="linear",r(i,S),v(w,i,x,i.type),L){var b=P==="realaxis";if(b&&x("side"),b)x("tickvals");else{var O=f(A.realaxis.tickvals||s.realaxis.tickvals.dflt);x("tickvals",O)}var _,N,z,B,U=l.font||{};L&&(_=x("color"),N=_===w.color?_:U.color,z=U.size,B=U.family),y(w,i,x,i.type,{noTicklabelstep:!0,noAng:!b,noExp:!0,font:{color:N,size:z,family:B}}),g.coerce2(c,A,s,P+".ticklen"),g.coerce2(c,A,s,P+".tickwidth"),g.coerce2(c,A,s,P+".tickcolor",A.color);var F=x("ticks");F||(delete A[P].ticklen,delete A[P].tickwidth,delete A[P].tickcolor),t(w,i,x,{dfltColor:_,bgColor:l.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:s[P]}),x("layer")}x("hoverformat"),delete i.type,i._input=w}}W.exports=function(A,h,l){C(A,h,l,{noUirevision:!0,type:n.name,attributes:s,handleDefaults:u,font:h.font,paper_bgcolor:h.paper_bgcolor,fullData:l,layoutOut:h})};function m(c,A){var h={};return function(l){var p=A?A(l):l;if(p in h)return h[p];var M=c(l);return h[p]=M,M}}},49119:function(W,H,e){var g=e(71828),R=e(44467),a=e(27670).c;W.exports=function(T,v,y,t){var r=t.type,s=t.attributes,n=t.handleDefaults,o=t.partition||"x",f=v._subplots[r],u=f.length,m=u&&f[0].replace(/\d+$/,""),c,A;function h(S,P){return g.coerce(c,A,s,S,P)}for(var l=0;l<u;l++){var p=f[l];T[p]?c=T[p]:c=T[p]={},A=R.newContainer(v,p,m),t.noUirevision||h("uirevision",v.uirevision);var M={};M[o]=[l/u,(l+1)/u],a(A,v,h,M),t.id=p,n(c,A,h,t)}}},5386:function(W,H,e){var g=e(31562);g.FORMAT_LINK,g.DATE_FORMAT_LINK;function R(a){var C=a.description?" "+a.description:"",T=a.keys||[];if(T.length>0){for(var v=[],y=0;y<T.length;y++)v[y]="`"+T[y]+"`";C=C+"Finally, the template string has access to ",T.length===1?C=C+"variable "+v[0]:C=C+"variables "+v.slice(0,-1).join(", ")+" and "+v.slice(-1)+"."}return C}H.fF=function(a,C){a=a||{},C=C||{},R(C);var T={valType:"string",dflt:"",editType:a.editType||"none"};return a.arrayOk!==!1&&(T.arrayOk=!0),T},H.si=function(a,C){a=a||{},C=C||{},R(C);var T={valType:"string",dflt:"",editType:a.editType||"calc"};return a.arrayOk!==!1&&(T.arrayOk=!0),T},H.R=function(a,C){a=a||{},C=C||{},a.newshape,R(C);var T={valType:"string",dflt:"",editType:a.editType||"arraydraw"};return T}},61639:function(W,H,e){var g=e(64380),R=e(27659).AU,a=e(71828).counterRegex,C="ternary";H.name=C;var T=H.attr="subplot";H.idRoot=C,H.idRegex=H.attrRegex=a(C);var v=H.attributes={};v[T]={valType:"subplotid",dflt:"ternary",editType:"calc"},H.layoutAttributes=e(81367),H.supplyLayoutDefaults=e(25369),H.plot=function(t){for(var r=t._fullLayout,s=t.calcdata,n=r._subplots[C],o=0;o<n.length;o++){var f=n[o],u=R(s,C,f),m=r[f]._subplot;m||(m=new g({id:f,graphDiv:t,container:r._ternarylayer.node()},r),r[f]._subplot=m),m.plot(u,r,t._promises)}},H.clean=function(y,t,r,s){for(var n=s._subplots[C]||[],o=0;o<n.length;o++){var f=n[o],u=s[f]._subplot;!t[f]&&u&&(u.plotContainer.remove(),u.clipDef.remove(),u.clipDefRelative.remove(),u.layers["a-title"].remove(),u.layers["b-title"].remove(),u.layers["c-title"].remove())}}},81367:function(W,H,e){var g=e(22399),R=e(27670).Y,a=e(13838),C=e(30962).overrideAll,T=e(1426).extendFlat,v={title:{text:a.title.text,font:a.title.font},color:a.color,tickmode:a.minor.tickmode,nticks:T({},a.nticks,{dflt:6,min:1}),tick0:a.tick0,dtick:a.dtick,tickvals:a.tickvals,ticktext:a.ticktext,ticks:a.ticks,ticklen:a.ticklen,tickwidth:a.tickwidth,tickcolor:a.tickcolor,ticklabelstep:a.ticklabelstep,showticklabels:a.showticklabels,labelalias:a.labelalias,showtickprefix:a.showtickprefix,tickprefix:a.tickprefix,showticksuffix:a.showticksuffix,ticksuffix:a.ticksuffix,showexponent:a.showexponent,exponentformat:a.exponentformat,minexponent:a.minexponent,separatethousands:a.separatethousands,tickfont:a.tickfont,tickangle:a.tickangle,tickformat:a.tickformat,tickformatstops:a.tickformatstops,hoverformat:a.hoverformat,showline:T({},a.showline,{dflt:!0}),linecolor:a.linecolor,linewidth:a.linewidth,showgrid:T({},a.showgrid,{dflt:!0}),gridcolor:a.gridcolor,gridwidth:a.gridwidth,griddash:a.griddash,layer:a.layer,min:{valType:"number",dflt:0,min:0},_deprecated:{title:a._deprecated.title,titlefont:a._deprecated.titlefont}},y=W.exports=C({domain:R({name:"ternary"}),bgcolor:{valType:"color",dflt:g.background},sum:{valType:"number",dflt:1,min:0},aaxis:v,baxis:v,caxis:v},"plot","from-root");y.uirevision={valType:"any",editType:"none"},y.aaxis.uirevision=y.baxis.uirevision=y.caxis.uirevision={valType:"any",editType:"none"}},25369:function(W,H,e){var g=e(7901),R=e(44467),a=e(71828),C=e(49119),T=e(96115),v=e(89426),y=e(38701),t=e(26218),r=e(92128),s=e(81367),n=["aaxis","baxis","caxis"];W.exports=function(m,c,A){C(m,c,A,{type:"ternary",attributes:s,handleDefaults:o,font:c.font,paper_bgcolor:c.paper_bgcolor})};function o(u,m,c,A){var h=c("bgcolor"),l=c("sum");A.bgColor=g.combine(h,A.paper_bgcolor);for(var p,M,S,P=0;P<n.length;P++)p=n[P],M=u[p]||{},S=R.newContainer(m,p),S._name=p,f(M,S,A,m);var x=m.aaxis,E=m.baxis,w=m.caxis;x.min+E.min+w.min>=l&&(x.min=0,E.min=0,w.min=0,u.aaxis&&delete u.aaxis.min,u.baxis&&delete u.baxis.min,u.caxis&&delete u.caxis.min)}function f(u,m,c,A){var h=s[m._name];function l(i,L){return a.coerce(u,m,h,i,L)}l("uirevision",A.uirevision),m.type="linear";var p=l("color"),M=p!==h.color.dflt?p:c.font.color,S=m._name,P=S.charAt(0).toUpperCase(),x="Component "+P,E=l("title.text",x);m._hovertitle=E===x?E:P,a.coerceFont(l,"title.font",{family:c.font.family,size:a.bigFont(c.font.size),color:M}),l("min"),t(u,m,l,"linear"),v(u,m,l,"linear"),T(u,m,l,"linear"),y(u,m,l,{outerTicks:!0});var w=l("showticklabels");w&&(a.coerceFont(l,"tickfont",{family:c.font.family,size:c.font.size,color:M}),l("tickangle"),l("tickformat")),r(u,m,l,{dfltColor:p,bgColor:c.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:h}),l("hoverformat"),l("layer")}},64380:function(W,H,e){var g=e(39898),R=e(84267),a=e(73972),C=e(71828),T=C.strTranslate,v=C._,y=e(7901),t=e(91424),r=e(21994),s=e(1426).extendFlat,n=e(74875),o=e(89298),f=e(28569),u=e(30211),m=e(64505),c=m.freeMode,A=m.rectMode,h=e(92998),l=e(47322).prepSelect,p=e(47322).selectOnClick,M=e(47322).clearOutline,S=e(47322).clearSelectionsCache,P=e(85555);function x(U,F){this.id=U.id,this.graphDiv=U.graphDiv,this.init(F),this.makeFramework(F),this.aTickLayout=null,this.bTickLayout=null,this.cTickLayout=null}W.exports=x;var E=x.prototype;E.init=function(U){this.container=U._ternarylayer,this.defs=U._defs,this.layoutId=U._uid,this.traceHash={},this.layers={}},E.plot=function(U,F){var V=this,j=F[V.id],$=F._size;V._hasClipOnAxisFalse=!1;for(var ne=0;ne<U.length;ne++){var oe=U[ne][0].trace;if(oe.cliponaxis===!1){V._hasClipOnAxisFalse=!0;break}}V.updateLayers(j),V.adjustLayout(j,$),n.generalUpdatePerTraceModule(V.graphDiv,V,U,j),V.layers.plotbg.select("path").call(y.fill,j.bgcolor)},E.makeFramework=function(U){var F=this,V=F.graphDiv,j=U[F.id],$=F.clipId="clip"+F.layoutId+F.id,ne=F.clipIdRelative="clip-relative"+F.layoutId+F.id;F.clipDef=C.ensureSingleById(U._clips,"clipPath",$,function(oe){oe.append("path").attr("d","M0,0Z")}),F.clipDefRelative=C.ensureSingleById(U._clips,"clipPath",ne,function(oe){oe.append("path").attr("d","M0,0Z")}),F.plotContainer=C.ensureSingle(F.container,"g",F.id),F.updateLayers(j),t.setClipUrl(F.layers.backplot,$,V),t.setClipUrl(F.layers.grids,$,V)},E.updateLayers=function(U){var F=this,V=F.layers,j=["draglayer","plotbg","backplot","grids"];U.aaxis.layer==="below traces"&&j.push("aaxis","aline"),U.baxis.layer==="below traces"&&j.push("baxis","bline"),U.caxis.layer==="below traces"&&j.push("caxis","cline"),j.push("frontplot"),U.aaxis.layer==="above traces"&&j.push("aaxis","aline"),U.baxis.layer==="above traces"&&j.push("baxis","bline"),U.caxis.layer==="above traces"&&j.push("caxis","cline");var $=F.plotContainer.selectAll("g.toplevel").data(j,String),ne=["agrid","bgrid","cgrid"];$.enter().append("g").attr("class",function(oe){return"toplevel "+oe}).each(function(oe){var ce=g.select(this);V[oe]=ce,oe==="frontplot"?ce.append("g").classed("scatterlayer",!0):oe==="backplot"?ce.append("g").classed("maplayer",!0):oe==="plotbg"?ce.append("path").attr("d","M0,0Z"):oe==="aline"||oe==="bline"||oe==="cline"?ce.append("path"):oe==="grids"&&ne.forEach(function(Q){V[Q]=ce.append("g").classed("grid "+Q,!0)})}),$.order()};var w=Math.sqrt(4/3);E.adjustLayout=function(U,F){var V=this,j=U.domain,$=(j.x[0]+j.x[1])/2,ne=(j.y[0]+j.y[1])/2,oe=j.x[1]-j.x[0],ce=j.y[1]-j.y[0],Q=oe*F.w,Z=ce*F.h,K=U.sum,J=U.aaxis.min,re=U.baxis.min,le=U.caxis.min,q,ee,ue,se,he,me;Q>w*Z?(se=Z,ue=se*w):(ue=Q,se=ue/w),he=oe*ue/Q,me=ce*se/Z,q=F.l+F.w*$-ue/2,ee=F.t+F.h*(1-ne)-se/2,V.x0=q,V.y0=ee,V.w=ue,V.h=se,V.sum=K,V.xaxis={type:"linear",range:[J+2*le-K,K-J-2*re],domain:[$-he/2,$+he/2],_id:"x"},r(V.xaxis,V.graphDiv._fullLayout),V.xaxis.setScale(),V.xaxis.isPtWithinRange=function(Ge){return Ge.a>=V.aaxis.range[0]&&Ge.a<=V.aaxis.range[1]&&Ge.b>=V.baxis.range[1]&&Ge.b<=V.baxis.range[0]&&Ge.c>=V.caxis.range[1]&&Ge.c<=V.caxis.range[0]},V.yaxis={type:"linear",range:[J,K-re-le],domain:[ne-me/2,ne+me/2],_id:"y"},r(V.yaxis,V.graphDiv._fullLayout),V.yaxis.setScale(),V.yaxis.isPtWithinRange=function(){return!0};var Ce=V.yaxis.domain[0],Te=V.aaxis=s({},U.aaxis,{range:[J,K-re-le],side:"left",tickangle:(+U.aaxis.tickangle||0)-30,domain:[Ce,Ce+me*w],anchor:"free",position:0,_id:"y",_length:ue});r(Te,V.graphDiv._fullLayout),Te.setScale();var Oe=V.baxis=s({},U.baxis,{range:[K-J-le,re],side:"bottom",domain:V.xaxis.domain,anchor:"free",position:0,_id:"x",_length:ue});r(Oe,V.graphDiv._fullLayout),Oe.setScale();var Ne=V.caxis=s({},U.caxis,{range:[K-J-re,le],side:"right",tickangle:(+U.caxis.tickangle||0)+30,domain:[Ce,Ce+me*w],anchor:"free",position:0,_id:"y",_length:ue});r(Ne,V.graphDiv._fullLayout),Ne.setScale();var Le="M"+q+","+(ee+se)+"h"+ue+"l-"+ue/2+",-"+se+"Z";V.clipDef.select("path").attr("d",Le),V.layers.plotbg.select("path").attr("d",Le);var be="M0,"+se+"h"+ue+"l-"+ue/2+",-"+se+"Z";V.clipDefRelative.select("path").attr("d",be);var Ae=T(q,ee);V.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",Ae),V.clipDefRelative.select("path").attr("transform",null);var He=T(q-Oe._offset,ee+se);V.layers.baxis.attr("transform",He),V.layers.bgrid.attr("transform",He);var Ve=T(q+ue/2,ee)+"rotate(30)"+T(0,-Te._offset);V.layers.aaxis.attr("transform",Ve),V.layers.agrid.attr("transform",Ve);var ke=T(q+ue/2,ee)+"rotate(-30)"+T(0,-Ne._offset);V.layers.caxis.attr("transform",ke),V.layers.cgrid.attr("transform",ke),V.drawAxes(!0),V.layers.aline.select("path").attr("d",Te.showline?"M"+q+","+(ee+se)+"l"+ue/2+",-"+se:"M0,0").call(y.stroke,Te.linecolor||"#000").style("stroke-width",(Te.linewidth||0)+"px"),V.layers.bline.select("path").attr("d",Oe.showline?"M"+q+","+(ee+se)+"h"+ue:"M0,0").call(y.stroke,Oe.linecolor||"#000").style("stroke-width",(Oe.linewidth||0)+"px"),V.layers.cline.select("path").attr("d",Ne.showline?"M"+(q+ue/2)+","+ee+"l"+ue/2+","+se:"M0,0").call(y.stroke,Ne.linecolor||"#000").style("stroke-width",(Ne.linewidth||0)+"px"),V.graphDiv._context.staticPlot||V.initInteractions(),t.setClipUrl(V.layers.frontplot,V._hasClipOnAxisFalse?null:V.clipId,V.graphDiv)},E.drawAxes=function(U){var F=this,V=F.graphDiv,j=F.id.substr(7)+"title",$=F.layers,ne=F.aaxis,oe=F.baxis,ce=F.caxis;if(F.drawAx(ne),F.drawAx(oe),F.drawAx(ce),U){var Q=Math.max(ne.showticklabels?ne.tickfont.size/2:0,(ce.showticklabels?ce.tickfont.size*.75:0)+(ce.ticks==="outside"?ce.ticklen*.87:0)),Z=(oe.showticklabels?oe.tickfont.size:0)+(oe.ticks==="outside"?oe.ticklen:0)+3;$["a-title"]=h.draw(V,"a"+j,{propContainer:ne,propName:F.id+".aaxis.title",placeholder:v(V,"Click to enter Component A title"),attributes:{x:F.x0+F.w/2,y:F.y0-ne.title.font.size/3-Q,"text-anchor":"middle"}}),$["b-title"]=h.draw(V,"b"+j,{propContainer:oe,propName:F.id+".baxis.title",placeholder:v(V,"Click to enter Component B title"),attributes:{x:F.x0-Z,y:F.y0+F.h+oe.title.font.size*.83+Z,"text-anchor":"middle"}}),$["c-title"]=h.draw(V,"c"+j,{propContainer:ce,propName:F.id+".caxis.title",placeholder:v(V,"Click to enter Component C title"),attributes:{x:F.x0+F.w+Z,y:F.y0+F.h+ce.title.font.size*.83+Z,"text-anchor":"middle"}})}},E.drawAx=function(U){var F=this,V=F.graphDiv,j=U._name,$=j.charAt(0),ne=U._id,oe=F.layers[j],ce=30,Q=$+"tickLayout",Z=i(U);F[Q]!==Z&&(oe.selectAll("."+ne+"tick").remove(),F[Q]=Z),U.setScale();var K=o.calcTicks(U),J=o.clipEnds(U,K),re=o.makeTransTickFn(U),le=o.getTickSigns(U)[2],q=C.deg2rad(ce),ee=le*(U.linewidth||1)/2,ue=le*U.ticklen,se=F.w,he=F.h,me=$==="b"?"M0,"+ee+"l"+Math.sin(q)*ue+","+Math.cos(q)*ue:"M"+ee+",0l"+Math.cos(q)*ue+","+-Math.sin(q)*ue,Ce={a:"M0,0l"+he+",-"+se/2,b:"M0,0l-"+se/2+",-"+he,c:"M0,0l-"+he+","+se/2}[$];o.drawTicks(V,U,{vals:U.ticks==="inside"?J:K,layer:oe,path:me,transFn:re,crisp:!1}),o.drawGrid(V,U,{vals:J,layer:F.layers[$+"grid"],path:Ce,transFn:re,crisp:!1}),o.drawLabels(V,U,{vals:K,layer:oe,transFn:re,labelFns:o.makeLabelFns(U,0,ce)})};function i(U){return U.ticks+String(U.ticklen)+String(U.showticklabels)}var L=P.MINZOOM/2+.87,b="m-0.87,.5h"+L+"v3h-"+(L+5.2)+"l"+(L/2+2.6)+",-"+(L*.87+4.5)+"l2.6,1.5l-"+L/2+","+L*.87+"Z",O="m0.87,.5h-"+L+"v3h"+(L+5.2)+"l-"+(L/2+2.6)+",-"+(L*.87+4.5)+"l-2.6,1.5l"+L/2+","+L*.87+"Z",_="m0,1l"+L/2+","+L*.87+"l2.6,-1.5l-"+(L/2+2.6)+",-"+(L*.87+4.5)+"l-"+(L/2+2.6)+","+(L*.87+4.5)+"l2.6,1.5l"+L/2+",-"+L*.87+"Z",N="m0.5,0.5h5v-2h-5v-5h-2v5h-5v2h5v5h2Z",z=!0;E.clearOutline=function(){S(this.dragOptions),M(this.dragOptions.gd)},E.initInteractions=function(){var U=this,F=U.layers.plotbg.select("path").node(),V=U.graphDiv,j=V._fullLayout._zoomlayer,$,ne;this.dragOptions={element:F,gd:V,plotinfo:{id:U.id,domain:V._fullLayout[U.id].domain,xaxis:U.xaxis,yaxis:U.yaxis},subplot:U.id,prepFn:function(He,Ve,ke){U.dragOptions.xaxes=[U.xaxis],U.dragOptions.yaxes=[U.yaxis],$=V._fullLayout._invScaleX,ne=V._fullLayout._invScaleY;var Ge=U.dragOptions.dragmode=V._fullLayout.dragmode;c(Ge)?U.dragOptions.minDrag=1:U.dragOptions.minDrag=void 0,Ge==="zoom"?(U.dragOptions.moveFn=Oe,U.dragOptions.clickFn=se,U.dragOptions.doneFn=Ne,he(He,Ve,ke)):Ge==="pan"?(U.dragOptions.moveFn=be,U.dragOptions.clickFn=se,U.dragOptions.doneFn=Ae,Le(),U.clearOutline(V)):(A(Ge)||c(Ge))&&l(He,Ve,ke,U.dragOptions,Ge)}};var oe,ce,Q,Z,K,J,re,le,q,ee;function ue(He){var Ve={};return Ve[U.id+".aaxis.min"]=He.a,Ve[U.id+".baxis.min"]=He.b,Ve[U.id+".caxis.min"]=He.c,Ve}function se(He,Ve){var ke=V._fullLayout.clickmode;B(V),He===2&&(V.emit("plotly_doubleclick",null),a.call("_guiRelayout",V,ue({a:0,b:0,c:0}))),ke.indexOf("select")>-1&&He===1&&p(Ve,V,[U.xaxis],[U.yaxis],U.id,U.dragOptions),ke.indexOf("event")>-1&&u.click(V,Ve,U.id)}function he(He,Ve,ke){var Ge=F.getBoundingClientRect();oe=Ve-Ge.left,ce=ke-Ge.top,V._fullLayout._calcInverseTransform(V);var it=V._fullLayout._invTransform,et=C.apply3DTransform(it)(oe,ce);oe=et[0],ce=et[1],Q={a:U.aaxis.range[0],b:U.baxis.range[1],c:U.caxis.range[1]},K=Q,Z=U.aaxis.range[1]-Q.a,J=R(U.graphDiv._fullLayout[U.id].bgcolor).getLuminance(),re="M0,"+U.h+"L"+U.w/2+", 0L"+U.w+","+U.h+"Z",le=!1,q=j.append("path").attr("class","zoombox").attr("transform",T(U.x0,U.y0)).style({fill:J>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("d",re),ee=j.append("path").attr("class","zoombox-corners").attr("transform",T(U.x0,U.y0)).style({fill:y.background,stroke:y.defaultLine,"stroke-width":1,opacity:0}).attr("d","M0,0Z"),U.clearOutline(V)}function me(He,Ve){return 1-Ve/U.h}function Ce(He,Ve){return 1-(He+(U.h-Ve)/Math.sqrt(3))/U.w}function Te(He,Ve){return(He-(U.h-Ve)/Math.sqrt(3))/U.w}function Oe(He,Ve){var ke=oe+He*$,Ge=ce+Ve*ne,it=Math.max(0,Math.min(1,me(oe,ce),me(ke,Ge))),et=Math.max(0,Math.min(1,Ce(oe,ce),Ce(ke,Ge))),tt=Math.max(0,Math.min(1,Te(oe,ce),Te(ke,Ge))),at=(it/2+tt)*U.w,vt=(1-it/2-et)*U.w,yt=(at+vt)/2,gt=vt-at,Mt=(1-it)*U.h,Ct=Mt-gt/w;gt<P.MINZOOM?(K=Q,q.attr("d",re),ee.attr("d","M0,0Z")):(K={a:Q.a+it*Z,b:Q.b+et*Z,c:Q.c+tt*Z},q.attr("d",re+"M"+at+","+Mt+"H"+vt+"L"+yt+","+Ct+"L"+at+","+Mt+"Z"),ee.attr("d","M"+oe+","+ce+N+"M"+at+","+Mt+b+"M"+vt+","+Mt+O+"M"+yt+","+Ct+_)),le||(q.transition().style("fill",J>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),ee.transition().style("opacity",1).duration(200),le=!0),V.emit("plotly_relayouting",ue(K))}function Ne(){B(V),K!==Q&&(a.call("_guiRelayout",V,ue(K)),z&&V.data&&V._context.showTips&&(C.notifier(v(V,"Double-click to zoom back out"),"long"),z=!1))}function Le(){Q={a:U.aaxis.range[0],b:U.baxis.range[1],c:U.caxis.range[1]},K=Q}function be(He,Ve){var ke=He/U.xaxis._m,Ge=Ve/U.yaxis._m;K={a:Q.a-Ge,b:Q.b+(ke+Ge)/2,c:Q.c-(ke-Ge)/2};var it=[K.a,K.b,K.c].sort(C.sorterAsc),et={a:it.indexOf(K.a),b:it.indexOf(K.b),c:it.indexOf(K.c)};it[0]<0&&(it[1]+it[0]/2<0?(it[2]+=it[0]+it[1],it[0]=it[1]=0):(it[2]+=it[0]/2,it[1]+=it[0]/2,it[0]=0),K={a:it[et.a],b:it[et.b],c:it[et.c]},Ve=(Q.a-K.a)*U.yaxis._m,He=(Q.c-K.c-Q.b+K.b)*U.xaxis._m);var tt=T(U.x0+He,U.y0+Ve);U.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",tt);var at=T(-He,-Ve);U.clipDefRelative.select("path").attr("transform",at),U.aaxis.range=[K.a,U.sum-K.b-K.c],U.baxis.range=[U.sum-K.a-K.c,K.b],U.caxis.range=[U.sum-K.a-K.b,K.c],U.drawAxes(!1),U._hasClipOnAxisFalse&&U.plotContainer.select(".scatterlayer").selectAll(".trace").call(t.hideOutsideRangePoints,U),V.emit("plotly_relayouting",ue(K))}function Ae(){a.call("_guiRelayout",V,ue(K))}F.onmousemove=function(He){u.hover(V,He,U.id),V._fullLayout._lasthover=F,V._fullLayout._hoversubplot=U.id},F.onmouseout=function(He){V._dragging||f.unhover(V,He)},f.init(this.dragOptions)};function B(U){g.select(U).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}},73972:function(W,H,e){var g=e(47769),R=e(64213),a=e(75138),C=e(41965),T=e(24401).addStyleRule,v=e(1426),y=e(9012),t=e(10820),r=v.extendFlat,s=v.extendDeepAll;H.modules={},H.allCategories={},H.allTypes=[],H.subplotsRegistry={},H.transformsRegistry={},H.componentsRegistry={},H.layoutArrayContainers=[],H.layoutArrayRegexes=[],H.traceLayoutAttributes={},H.localeRegistry={},H.apiMethodRegistry={},H.collectableSubplotTypes=null,H.register=function(S){if(H.collectableSubplotTypes=null,S)S&&!Array.isArray(S)&&(S=[S]);else throw new Error("No argument passed to Plotly.register.");for(var P=0;P<S.length;P++){var x=S[P];if(!x)throw new Error("Invalid module was attempted to be registered!");switch(x.moduleType){case"trace":n(x);break;case"transform":u(x);break;case"component":f(x);break;case"locale":m(x);break;case"apiMethod":var E=x.name;H.apiMethodRegistry[E]=x.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},H.getModule=function(M){var S=H.modules[p(M)];return S?S._module:!1},H.traceIs=function(M,S){if(M=p(M),M==="various")return!1;var P=H.modules[M];return P||(M&&g.log("Unrecognized trace type "+M+"."),P=H.modules[y.type.dflt]),!!P.categories[S]},H.getTransformIndices=function(M,S){for(var P=[],x=M.transforms||[],E=0;E<x.length;E++)x[E].type===S&&P.push(E);return P},H.hasTransform=function(M,S){for(var P=M.transforms||[],x=0;x<P.length;x++)if(P[x].type===S)return!0;return!1},H.getComponentMethod=function(M,S){var P=H.componentsRegistry[M];return P&&P[S]||R},H.call=function(){var M=arguments[0],S=[].slice.call(arguments,1);return H.apiMethodRegistry[M].apply(null,S)};function n(M){var S=M.name,P=M.categories,x=M.meta;if(H.modules[S]){g.log("Type "+S+" already registered");return}H.subplotsRegistry[M.basePlotModule.name]||o(M.basePlotModule);for(var E={},w=0;w<P.length;w++)E[P[w]]=!0,H.allCategories[P[w]]=!0;H.modules[S]={_module:M,categories:E},x&&Object.keys(x).length&&(H.modules[S].meta=x),H.allTypes.push(S);for(var i in H.componentsRegistry)A(i,S);M.layoutAttributes&&r(H.traceLayoutAttributes,M.layoutAttributes);var L=M.basePlotModule,b=L.name;if(b==="mapbox"){var O=L.constants.styleRules;for(var _ in O)T(".js-plotly-plot .plotly .mapboxgl-"+_,O[_])}(b==="geo"||b==="mapbox")&&window.PlotlyGeoAssets===void 0&&(window.PlotlyGeoAssets={topojson:{}})}function o(M){var S=M.name;if(H.subplotsRegistry[S]){g.log("Plot type "+S+" already registered.");return}c(M),H.subplotsRegistry[S]=M;for(var P in H.componentsRegistry)l(P,M.name)}function f(M){if(typeof M.name!="string")throw new Error("Component module *name* must be a string.");var S=M.name;H.componentsRegistry[S]=M,M.layoutAttributes&&(M.layoutAttributes._isLinkedToArray&&a(H.layoutArrayContainers,S),c(M));for(var P in H.modules)A(S,P);for(var x in H.subplotsRegistry)l(S,x);for(var E in H.transformsRegistry)h(S,E);M.schema&&M.schema.layout&&s(t,M.schema.layout)}function u(M){if(typeof M.name!="string")throw new Error("Transform module *name* must be a string.");var S="Transform module "+M.name,P=typeof M.transform=="function",x=typeof M.calcTransform=="function";if(!P&&!x)throw new Error(S+" is missing a *transform* or *calcTransform* method.");P&&x&&g.log([S+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),C(M.attributes)||g.log(S+" registered without an *attributes* object."),typeof M.supplyDefaults!="function"&&g.log(S+" registered without a *supplyDefaults* method."),H.transformsRegistry[M.name]=M;for(var E in H.componentsRegistry)h(E,M.name)}function m(M){var S=M.name,P=S.split("-")[0],x=M.dictionary,E=M.format,w=x&&Object.keys(x).length,i=E&&Object.keys(E).length,L=H.localeRegistry,b=L[S];if(b||(L[S]=b={}),P!==S){var O=L[P];O||(L[P]=O={}),w&&O.dictionary===b.dictionary&&(O.dictionary=x),i&&O.format===b.format&&(O.format=E)}w&&(b.dictionary=x),i&&(b.format=E)}function c(M){if(M.layoutAttributes){var S=M.layoutAttributes._arrayAttrRegexps;if(S)for(var P=0;P<S.length;P++)a(H.layoutArrayRegexes,S[P])}}function A(M,S){var P=H.componentsRegistry[M].schema;if(!(!P||!P.traces)){var x=P.traces[S];x&&s(H.modules[S]._module.attributes,x)}}function h(M,S){var P=H.componentsRegistry[M].schema;if(!(!P||!P.transforms)){var x=P.transforms[S];x&&s(H.transformsRegistry[S].attributes,x)}}function l(M,S){var P=H.componentsRegistry[M].schema;if(!(!P||!P.subplots)){var x=H.subplotsRegistry[S],E=x.layoutAttributes,w=x.attr==="subplot"?x.name:x.attr;Array.isArray(w)&&(w=w[0]);var i=P.subplots[w];E&&i&&s(E,i)}}function p(M){return typeof M=="object"&&(M=M.type),M}},61914:function(W,H,e){var g=e(73972),R=e(71828),a=R.extendFlat,C=R.extendDeep;function T(y){var t;switch(y){case"themes__thumb":t={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":t={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:t={}}return t}function v(y){var t=["xaxis","yaxis","zaxis"];return t.indexOf(y.slice(0,5))>-1}W.exports=function(t,r){var s,n=t.data,o=t.layout,f=C([],n),u=C({},o,T(r.tileClass)),m=t._context||{};if(r.width&&(u.width=r.width),r.height&&(u.height=r.height),r.tileClass==="thumbnail"||r.tileClass==="themes__thumb"){u.annotations=[];var c=Object.keys(u);for(s=0;s<c.length;s++)v(c[s])&&(u[c[s]].title={text:""});for(s=0;s<f.length;s++){var A=f[s];A.showscale=!1,A.marker&&(A.marker.showscale=!1),g.traceIs(A,"pie-like")&&(A.textposition="none")}}if(Array.isArray(r.annotations))for(s=0;s<r.annotations.length;s++)u.annotations.push(r.annotations[s]);var h=Object.keys(u).filter(function(P){return P.match(/^scene\d*$/)});if(h.length){var l={};for(r.tileClass==="thumbnail"&&(l={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),s=0;s<h.length;s++){var p=u[h[s]];p.xaxis||(p.xaxis={}),p.yaxis||(p.yaxis={}),p.zaxis||(p.zaxis={}),a(p.xaxis,l),a(p.yaxis,l),a(p.zaxis,l),p._scene=null}}var M=document.createElement("div");r.tileClass&&(M.className=r.tileClass);var S={gd:M,td:M,layout:u,data:f,config:{staticPlot:r.staticPlot===void 0?!0:r.staticPlot,plotGlPixelRatio:r.plotGlPixelRatio===void 0?2:r.plotGlPixelRatio,displaylogo:r.displaylogo||!1,showLink:r.showLink||!1,showTips:r.showTips||!1,mapboxAccessToken:m.mapboxAccessToken}};return r.setBackground!=="transparent"&&(S.config.setBackground=r.setBackground||"opaque"),S.gd.defaultLayout=T(r.tileClass),S}},7239:function(W,H,e){var g=e(71828),R=e(403),a=e(22435),C=e(25095);function T(v,y){var t;return g.isPlainObject(v)||(t=g.getGraphDiv(v)),y=y||{},y.format=y.format||"png",y.width=y.width||null,y.height=y.height||null,y.imageDataOnly=!0,new Promise(function(r,s){t&&t._snapshotInProgress&&s(new Error("Snapshotting already in progress.")),g.isIE()&&y.format!=="svg"&&s(new Error(C.MSG_IE_BAD_FORMAT)),t&&(t._snapshotInProgress=!0);var n=R(v,y),o=y.filename||v.fn||"newplot";o+="."+y.format.replace("-","."),n.then(function(f){return t&&(t._snapshotInProgress=!1),a(f,o,y.format)}).then(function(f){r(f)}).catch(function(f){t&&(t._snapshotInProgress=!1),s(f)})})}W.exports=T},22435:function(W,H,e){var g=e(71828),R=e(25095);function a(C,T,v){var y=document.createElement("a"),t="download"in y,r=new Promise(function(s,n){var o,f;if(g.isIE())return o=R.createBlob(C,"svg"),window.navigator.msSaveBlob(o,T),o=null,s(T);if(t)return o=R.createBlob(C,v),f=R.createObjectURL(o),y.href=f,y.download=T,document.body.appendChild(y),y.click(),document.body.removeChild(y),R.revokeObjectURL(f),o=null,s(T);if(g.isSafari()){var u=v==="svg"?",":";base64,";return R.octetStream(u+encodeURIComponent(C)),s(T)}n(new Error("download error"))});return r}W.exports=a},25095:function(W,H,e){var g=e(73972);H.getDelay=function(C){return C._has&&(C._has("gl3d")||C._has("gl2d")||C._has("mapbox"))?500:0},H.getRedrawFunc=function(C){return function(){g.getComponentMethod("colorbar","draw")(C)}},H.encodeSVG=function(C){return"data:image/svg+xml,"+encodeURIComponent(C)},H.encodeJSON=function(C){return"data:application/json,"+encodeURIComponent(C)};var R=window.URL||window.webkitURL;H.createObjectURL=function(C){return R.createObjectURL(C)},H.revokeObjectURL=function(C){return R.revokeObjectURL(C)},H.createBlob=function(C,T){if(T==="svg")return new window.Blob([C],{type:"image/svg+xml;charset=utf-8"});if(T==="full-json")return new window.Blob([C],{type:"application/json;charset=utf-8"});var v=a(window.atob(C));return new window.Blob([v],{type:"image/"+T})},H.octetStream=function(C){document.location.href="data:application/octet-stream"+C};function a(C){for(var T=C.length,v=new ArrayBuffer(T),y=new Uint8Array(v),t=0;t<T;t++)y[t]=C.charCodeAt(t);return v}H.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,H.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},44511:function(W,H,e){var g=e(25095),R={getDelay:g.getDelay,getRedrawFunc:g.getRedrawFunc,clone:e(61914),toSVG:e(5900),svgToImg:e(70942),toImage:e(56395),downloadImage:e(7239)};W.exports=R},70942:function(W,H,e){var g=e(71828),R=e(15398).EventEmitter,a=e(25095);function C(T){var v=T.emitter||new R,y=new Promise(function(t,r){var s=window.Image,n=T.svg,o=T.format||"png";if(g.isIE()&&o!=="svg"){var f=new Error(a.MSG_IE_BAD_FORMAT);return r(f),T.promise?y:v.emit("error",f)}var u=T.canvas,m=T.scale||1,c=T.width||300,A=T.height||150,h=m*c,l=m*A,p=u.getContext("2d",{willReadFrequently:!0}),M=new s,S,P;o==="svg"||g.isSafari()?P=a.encodeSVG(n):(S=a.createBlob(n,"svg"),P=a.createObjectURL(S)),u.width=h,u.height=l,M.onload=function(){var x;switch(S=null,a.revokeObjectURL(P),o!=="svg"&&p.drawImage(M,0,0,h,l),o){case"jpeg":x=u.toDataURL("image/jpeg");break;case"png":x=u.toDataURL("image/png");break;case"webp":x=u.toDataURL("image/webp");break;case"svg":x=P;break;default:var E="Image format is not jpeg, png, svg or webp.";if(r(new Error(E)),!T.promise)return v.emit("error",E)}t(x),T.promise||v.emit("success",x)},M.onerror=function(x){if(S=null,a.revokeObjectURL(P),r(x),!T.promise)return v.emit("error",x)},M.src=P});return T.promise?y:v}W.exports=C},56395:function(W,H,e){var g=e(15398).EventEmitter,R=e(73972),a=e(71828),C=e(25095),T=e(61914),v=e(5900),y=e(70942);function t(r,s){var n=new g,o=T(r,{format:"png"}),f=o.gd;f.style.position="absolute",f.style.left="-5000px",document.body.appendChild(f);function u(){var c=C.getDelay(f._fullLayout);setTimeout(function(){var A=v(f),h=document.createElement("canvas");h.id=a.randstr(),n=y({format:s.format,width:f._fullLayout.width,height:f._fullLayout.height,canvas:h,emitter:n,svg:A}),n.clean=function(){f&&document.body.removeChild(f)}},c)}var m=C.getRedrawFunc(f);return R.call("_doPlot",f,o.data,o.layout,o.config).then(m).then(u).catch(function(c){n.emit("error",c)}),n}W.exports=t},5900:function(W,H,e){var g=e(39898),R=e(71828),a=e(91424),C=e(7901),T=e(77922),v=/"/g,y="TOBESTRIPPED",t=new RegExp('("'+y+")|("+y+'")',"g");function r(n){var o=g.select("body").append("div").style({display:"none"}).html(""),f=n.replace(/(&[^;]*;)/gi,function(u){return u==="&lt;"?"&#60;":u==="&rt;"?"&#62;":u.indexOf("<")!==-1||u.indexOf(">")!==-1?"":o.html(u).text()});return o.remove(),f}function s(n){return n.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")}W.exports=function(o,f,u){var m=o._fullLayout,c=m._paper,A=m._toppaper,h=m.width,l=m.height,p;c.insert("rect",":first-child").call(a.setRect,0,0,h,l).call(C.fill,m.paper_bgcolor);var M=m._basePlotModules||[];for(p=0;p<M.length;p++){var S=M[p];S.toSVG&&S.toSVG(o)}if(A){var P=A.node().childNodes,x=Array.prototype.slice.call(P);for(p=0;p<x.length;p++){var E=x[p];E.childNodes.length&&c.node().appendChild(E)}}m._draggers&&m._draggers.remove(),c.node().style.background="",c.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var i=g.select(this);if(this.style.visibility==="hidden"||this.style.display==="none"){i.remove();return}else i.style({visibility:null,display:null});var L=this.style.fontFamily;L&&L.indexOf('"')!==-1&&i.style("font-family",L.replace(v,y))}),c.selectAll(".gradient_filled,.pattern_filled").each(function(){var i=g.select(this),L=this.style.fill;L&&L.indexOf("url(")!==-1&&i.style("fill",L.replace(v,y));var b=this.style.stroke;b&&b.indexOf("url(")!==-1&&i.style("stroke",b.replace(v,y))}),(f==="pdf"||f==="eps")&&c.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),c.node().setAttributeNS(T.xmlns,"xmlns",T.svg),c.node().setAttributeNS(T.xmlns,"xmlns:xlink",T.xlink),f==="svg"&&u&&(c.attr("width",u*h),c.attr("height",u*l),c.attr("viewBox","0 0 "+h+" "+l));var w=new window.XMLSerializer().serializeToString(c.node());return w=r(w),w=s(w),w=w.replace(t,"'"),R.isIE()&&(w=w.replace(/"/gi,"'"),w=w.replace(/(\('#)([^']*)('\))/gi,'("#$2")'),w=w.replace(/(\\')/gi,'"')),w}},75341:function(W,H,e){var g=e(71828);W.exports=function(a,C){for(var T=0;T<a.length;T++)a[T].i=T;g.mergeArray(C.text,a,"tx"),g.mergeArray(C.hovertext,a,"htx");var v=C.marker;if(v){g.mergeArray(v.opacity,a,"mo",!0),g.mergeArray(v.color,a,"mc");var y=v.line;y&&(g.mergeArray(y.color,a,"mlc"),g.mergeArrayCastPositive(y.width,a,"mlw"))}}},1486:function(W,H,e){var g=e(82196),R=e(12663).axisHoverFormat,a=e(5386).fF,C=e(5386).si,T=e(50693),v=e(41940),y=e(97313),t=e(79952).u,r=e(1426).extendFlat,s=v({editType:"calc",arrayOk:!0,colorEditType:"style"}),n=g.marker,o=n.line,f=r({},o.width,{dflt:0}),u=r({width:f,editType:"calc"},T("marker.line")),m=r({line:u,editType:"calc"},T("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:t});W.exports={x:g.x,x0:g.x0,dx:g.dx,y:g.y,y0:g.y0,dy:g.dy,xperiod:g.xperiod,yperiod:g.yperiod,xperiod0:g.xperiod0,yperiod0:g.yperiod0,xperiodalignment:g.xperiodalignment,yperiodalignment:g.yperiodalignment,xhoverformat:R("x"),yhoverformat:R("y"),text:g.text,texttemplate:C({editType:"plot"},{keys:y.eventDataKeys}),hovertext:g.hovertext,hovertemplate:a({},{keys:y.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:r({},s,{}),insidetextfont:r({},s,{}),outsidetextfont:r({},s,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:r({},g.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:m,offsetgroup:g.offsetgroup,alignmentgroup:g.alignmentgroup,selected:{marker:{opacity:g.selected.marker.opacity,color:g.selected.marker.color,editType:"style"},textfont:g.selected.textfont,editType:"style"},unselected:{marker:{opacity:g.unselected.marker.opacity,color:g.unselected.marker.color,editType:"style"},textfont:g.unselected.textfont,editType:"style"},_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},92290:function(W,H,e){var g=e(89298),R=e(42973),a=e(52075).hasColorscale,C=e(78803),T=e(75341),v=e(66279);W.exports=function(t,r){var s=g.getFromId(t,r.xaxis||"x"),n=g.getFromId(t,r.yaxis||"y"),o,f,u,m,c,A,h={msUTC:!!(r.base||r.base===0)};r.orientation==="h"?(o=s.makeCalcdata(r,"x",h),u=n.makeCalcdata(r,"y"),m=R(r,n,"y",u),c=!!r.yperiodalignment,A="y"):(o=n.makeCalcdata(r,"y",h),u=s.makeCalcdata(r,"x"),m=R(r,s,"x",u),c=!!r.xperiodalignment,A="x"),f=m.vals;for(var l=Math.min(f.length,o.length),p=new Array(l),M=0;M<l;M++)p[M]={p:f[M],s:o[M]},c&&(p[M].orig_p=u[M],p[M][A+"End"]=m.ends[M],p[M][A+"Start"]=m.starts[M]),r.ids&&(p[M].id=String(r.ids[M]));return a(r,"marker")&&C(t,r,{vals:r.marker.color,containerStr:"marker",cLetter:"c"}),a(r,"marker.line")&&C(t,r,{vals:r.marker.line.color,containerStr:"marker.line",cLetter:"c"}),T(p,r),v(p,r),p}},97313:function(W){W.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},11661:function(W,H,e){var g=e(92770),R=e(71828).isArrayOrTypedArray,a=e(50606).BADNUM,C=e(73972),T=e(89298),v=e(99082).getAxisGroup,y=e(61546);function t(w,i){for(var L=i.xaxis,b=i.yaxis,O=w._fullLayout,_=w._fullData,N=w.calcdata,z=[],B=[],U=0;U<_.length;U++){var F=_[U];if(F.visible===!0&&C.traceIs(F,"bar")&&F.xaxis===L._id&&F.yaxis===b._id&&(F.orientation==="h"?z.push(N[U]):B.push(N[U]),F._computePh))for(var V=w.calcdata[U],j=0;j<V.length;j++)typeof V[j].ph0=="function"&&(V[j].ph0=V[j].ph0()),typeof V[j].ph1=="function"&&(V[j].ph1=V[j].ph1())}var $={xCat:L.type==="category"||L.type==="multicategory",yCat:b.type==="category"||b.type==="multicategory",mode:O.barmode,norm:O.barnorm,gap:O.bargap,groupgap:O.bargroupgap};r(w,L,b,B,$),r(w,b,L,z,$)}function r(w,i,L,b,O){if(b.length){var _,N,z,B,U;switch(s(L,b),O.mode){case"overlay":n(i,L,b,O);break;case"group":for(_=[],N=[],z=0;z<b.length;z++)B=b[z],U=B[0].trace,U.offset===void 0?N.push(B):_.push(B);N.length&&o(w,i,L,N,O),_.length&&n(i,L,_,O);break;case"stack":case"relative":for(_=[],N=[],z=0;z<b.length;z++)B=b[z],U=B[0].trace,U.base===void 0?N.push(B):_.push(B);N.length&&f(w,i,L,N,O),_.length&&n(i,L,_,O);break}x(b,i)}}function s(w,i){var L,b;for(L=0;L<i.length;L++){var O=i[L],_=O[0].trace,N=_.type==="funnel"?_._base:_.base,z,B=_.orientation==="h"?_.xcalendar:_.ycalendar,U=w.type==="category"||w.type==="multicategory"?function(){return null}:w.d2c;if(R(N)){for(b=0;b<Math.min(N.length,O.length);b++)z=U(N[b],0,B),g(z)?(O[b].b=+z,O[b].hasB=1):O[b].b=0;for(;b<O.length;b++)O[b].b=0}else{z=U(N,0,B);var F=g(z);for(z=F?z:0,b=0;b<O.length;b++)O[b].b=z,F&&(O[b].hasB=1)}}}function n(w,i,L,b){for(var O=0;O<L.length;O++){var _=L[O],N=new y([_],{posAxis:w,sepNegVal:!1,overlapNoMerge:!b.norm});u(w,N,b),b.norm?(M(N),P(i,N,b)):l(i,N)}}function o(w,i,L,b,O){var _=new y(b,{posAxis:i,sepNegVal:!1,overlapNoMerge:!O.norm});m(w,i,_,O),S(_,i),O.norm?(M(_),P(L,_,O)):l(L,_)}function f(w,i,L,b,O){var _=new y(b,{posAxis:i,sepNegVal:O.mode==="relative",overlapNoMerge:!(O.norm||O.mode==="stack"||O.mode==="relative")});u(i,_,O),p(L,_,O);for(var N=0;N<b.length;N++)for(var z=b[N],B=0;B<z.length;B++){var U=z[B];if(U.s!==a){var F=U.b+U.s===_.get(U.p,U.s);F&&(U._outmost=!0)}}O.norm&&P(L,_,O)}function u(w,i,L){for(var b=i.minDiff,O=i.traces,_=b*(1-L.gap),N=_,z=N*(1-(L.groupgap||0)),B=-z/2,U=0;U<O.length;U++){var F=O[U],V=F[0].t;V.barwidth=z,V.poffset=B,V.bargroupwidth=_,V.bardelta=b}i.binWidth=O[0][0].t.barwidth/100,c(i),A(w,i),h(w,i)}function m(w,i,L,b){for(var O=w._fullLayout,_=L.positions,N=L.distinctPositions,z=L.minDiff,B=L.traces,U=B.length,F=_.length!==N.length,V=z*(1-b.gap),j=v(O,i._id)+B[0][0].trace.orientation,$=O._alignmentOpts[j]||{},ne=0;ne<U;ne++){var oe=B[ne],ce=oe[0].trace,Q=$[ce.alignmentgroup]||{},Z=Object.keys(Q.offsetGroups||{}).length,K;Z?K=V/Z:K=F?V/U:V;var J=K*(1-(b.groupgap||0)),re;Z?re=((2*ce._offsetIndex+1-Z)*K-J)/2:re=F?((2*ne+1-U)*K-J)/2:-J/2;var le=oe[0].t;le.barwidth=J,le.poffset=re,le.bargroupwidth=V,le.bardelta=z}L.binWidth=B[0][0].t.barwidth/100,c(L),A(i,L),h(i,L,F)}function c(w){var i=w.traces,L,b;for(L=0;L<i.length;L++){var O=i[L],_=O[0],N=_.trace,z=_.t,B=N._offset||N.offset,U=z.poffset,F;if(R(B)){for(F=Array.prototype.slice.call(B,0,O.length),b=0;b<F.length;b++)g(F[b])||(F[b]=U);for(b=F.length;b<O.length;b++)F.push(U);z.poffset=F}else B!==void 0&&(z.poffset=B);var V=N._width||N.width,j=z.barwidth;if(R(V)){var $=Array.prototype.slice.call(V,0,O.length);for(b=0;b<$.length;b++)g($[b])||($[b]=j);for(b=$.length;b<O.length;b++)$.push(j);if(z.barwidth=$,B===void 0){for(F=[],b=0;b<O.length;b++)F.push(U+(j-$[b])/2);z.poffset=F}}else V!==void 0&&(z.barwidth=V,B===void 0&&(z.poffset=U+(j-V)/2))}}function A(w,i){for(var L=i.traces,b=E(w),O=0;O<L.length;O++)for(var _=L[O],N=_[0].t,z=N.poffset,B=Array.isArray(z),U=N.barwidth,F=Array.isArray(U),V=0;V<_.length;V++){var j=_[V],$=j.w=F?U[V]:U;j.p===void 0&&(j.p=j[b],j["orig_"+b]=j[b]);var ne=(B?z[V]:z)+$/2;j[b]=j.p+ne}}function h(w,i,L){var b=i.traces,O=i.minDiff,_=O/2;T.minDtick(w,i.minDiff,i.distinctPositions[0],L);for(var N=0;N<b.length;N++){var z=b[N],B=z[0],U=B.trace,F=[],V,j,$,ne;for(ne=0;ne<z.length;ne++)V=z[ne],j=V.p-_,$=V.p+_,F.push(j,$);if(U.width||U.offset){var oe=B.t,ce=oe.poffset,Q=oe.barwidth,Z=Array.isArray(ce),K=Array.isArray(Q);for(ne=0;ne<z.length;ne++){V=z[ne];var J=Z?ce[ne]:ce,re=K?Q[ne]:Q;j=V.p+J,$=j+re,F.push(j,$)}}U._extremes[w._id]=T.findExtremes(w,F,{padded:!1})}}function l(w,i){for(var L=i.traces,b=E(w),O=0;O<L.length;O++){for(var _=L[O],N=_[0].trace,z=N.type==="scatter",B=N.orientation==="v",U=[],F=!1,V=0;V<_.length;V++){var j=_[V],$=z?0:j.b,ne=z?B?j.y:j.x:$+j.s;j[b]=ne,U.push(ne),j.hasB&&U.push($),(!j.hasB||!j.b)&&(F=!0)}N._extremes[w._id]=T.findExtremes(w,U,{tozero:F,padded:!0})}}function p(w,i,L){var b=E(w),O=i.traces,_,N,z,B,U,F;for(B=0;B<O.length;B++)if(_=O[B],N=_[0].trace,N.type==="funnel")for(U=0;U<_.length;U++)F=_[U],F.s!==a&&i.put(F.p,-.5*F.s);for(B=0;B<O.length;B++){_=O[B],N=_[0].trace,z=N.type==="funnel";var V=[];for(U=0;U<_.length;U++)if(F=_[U],F.s!==a){var j;z?j=F.s:j=F.s+F.b;var $=i.put(F.p,j),ne=$+j;F.b=$,F[b]=ne,L.norm||(V.push(ne),F.hasB&&V.push($))}L.norm||(N._extremes[w._id]=T.findExtremes(w,V,{tozero:!0,padded:!0}))}}function M(w){for(var i=w.traces,L=0;L<i.length;L++)for(var b=i[L],O=0;O<b.length;O++){var _=b[O];_.s!==a&&w.put(_.p,_.b+_.s)}}function S(w,i){for(var L=w.traces,b=0;b<L.length;b++){var O=L[b],_=O[0].trace;if(_.base===void 0)for(var N=new y([O],{posAxis:i,sepNegVal:!0,overlapNoMerge:!0}),z=0;z<O.length;z++){var B=O[z];if(B.p!==a){var U=N.put(B.p,B.b+B.s);U&&(B.b=U)}}}}function P(w,i,L){var b=i.traces,O=E(w),_=L.norm==="fraction"?1:100,N=_/1e9,z=w.l2c(w.c2l(0)),B=L.mode==="stack"?_:z;function U(re){return g(w.c2l(re))&&(re<z-N||re>B+N||!g(z))}for(var F=0;F<b.length;F++){for(var V=b[F],j=V[0].trace,$=[],ne=!1,oe=!1,ce=0;ce<V.length;ce++){var Q=V[ce];if(Q.s!==a){var Z=Math.abs(_/i.get(Q.p,Q.s));Q.b*=Z,Q.s*=Z;var K=Q.b,J=K+Q.s;Q[O]=J,$.push(J),oe=oe||U(J),Q.hasB&&($.push(K),oe=oe||U(K)),(!Q.hasB||!Q.b)&&(ne=!0)}}j._extremes[w._id]=T.findExtremes(w,$,{tozero:ne,padded:oe})}}function x(w,i){var L=E(i),b={},O,_,N,z=1/0,B=-1/0;for(O=0;O<w.length;O++)for(N=w[O],_=0;_<N.length;_++){var U=N[_].p;g(U)&&(z=Math.min(z,U),B=Math.max(B,U))}var F=1e4/(B-z),V=b.round=function(Z){return String(Math.round(F*(Z-z)))};for(O=0;O<w.length;O++){N=w[O],N[0].t.extents=b;var j=N[0].t.poffset,$=Array.isArray(j);for(_=0;_<N.length;_++){var ne=N[_],oe=ne[L]-ne.w/2;if(g(oe)){var ce=ne[L]+ne.w/2,Q=V(ne.p);b[Q]?b[Q]=[Math.min(oe,b[Q][0]),Math.max(ce,b[Q][1])]:b[Q]=[oe,ce]}ne.p0=ne.p+($?j[_]:j),ne.p1=ne.p0+ne.w,ne.s0=ne.b,ne.s1=ne.s0+ne.s}}}function E(w){return w._id.charAt(0)}W.exports={crossTraceCalc:t,setGroupPositions:r}},90769:function(W,H,e){var g=e(71828),R=e(7901),a=e(73972),C=e(67513),T=e(73927),v=e(98340),y=e(26125),t=e(1486),r=g.coerceFont;function s(f,u,m,c){function A(S,P){return g.coerce(f,u,t,S,P)}var h=C(f,u,c,A);if(!h){u.visible=!1;return}T(f,u,c,A),A("xhoverformat"),A("yhoverformat"),A("orientation",u.x&&!u.y?"h":"v"),A("base"),A("offset"),A("width"),A("text"),A("hovertext"),A("hovertemplate");var l=A("textposition");o(f,u,c,A,l,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),v(f,u,A,m,c);var p=(u.marker.line||{}).color,M=a.getComponentMethod("errorbars","supplyDefaults");M(f,u,p||R.defaultLine,{axis:"y"}),M(f,u,p||R.defaultLine,{axis:"x",inherit:"y"}),g.coerceSelectionMarkerOpacity(u,A)}function n(f,u){var m,c;function A(l){return g.coerce(c._input,c,t,l)}if(u.barmode==="group")for(var h=0;h<f.length;h++)c=f[h],c.type==="bar"&&(m=c._input,y(m,c,u,A))}function o(f,u,m,c,A,h){h=h||{};var l=h.moduleHasSelected!==!1,p=h.moduleHasUnselected!==!1,M=h.moduleHasConstrain!==!1,S=h.moduleHasCliponaxis!==!1,P=h.moduleHasTextangle!==!1,x=h.moduleHasInsideanchor!==!1,E=!!h.hasPathbar,w=Array.isArray(A)||A==="auto",i=w||A==="inside",L=w||A==="outside";if(i||L){var b=r(c,"textfont",m.font),O=g.extendFlat({},b),_=f.textfont&&f.textfont.color,N=!_;if(N&&delete O.color,r(c,"insidetextfont",O),E){var z=g.extendFlat({},b);N&&delete z.color,r(c,"pathbar.textfont",z)}L&&r(c,"outsidetextfont",b),l&&c("selected.textfont.color"),p&&c("unselected.textfont.color"),M&&c("constraintext"),S&&c("cliponaxis"),P&&c("textangle"),c("texttemplate")}i&&x&&c("insidetextanchor")}W.exports={supplyDefaults:s,crossTraceDefaults:n,handleText:o}},58065:function(W){W.exports=function(e,g,R){return e.x="xVal"in g?g.xVal:g.x,e.y="yVal"in g?g.yVal:g.y,g.xa&&(e.xaxis=g.xa),g.ya&&(e.yaxis=g.ya),R.orientation==="h"?(e.label=e.y,e.value=e.x):(e.label=e.x,e.value=e.y),e}},69383:function(W,H,e){var g=e(92770),R=e(84267),a=e(71828).isArrayOrTypedArray;H.coerceString=function(C,T,v){if(typeof T=="string"){if(T||!C.noBlank)return T}else if((typeof T=="number"||T===!0)&&!C.strict)return String(T);return v!==void 0?v:C.dflt},H.coerceNumber=function(C,T,v){if(g(T)){T=+T;var y=C.min,t=C.max,r=y!==void 0&&T<y||t!==void 0&&T>t;if(!r)return T}return v!==void 0?v:C.dflt},H.coerceColor=function(C,T,v){return R(T).isValid()?T:v!==void 0?v:C.dflt},H.coerceEnumerated=function(C,T,v){return C.coerceNumber&&(T=+T),C.values.indexOf(T)!==-1?T:v!==void 0?v:C.dflt},H.getValue=function(C,T){var v;return Array.isArray(C)?T<C.length&&(v=C[T]):v=C,v},H.getLineWidth=function(C,T){var v=0<T.mlw?T.mlw:a(C.marker.line.width)?0:C.marker.line.width;return v}},95423:function(W,H,e){var g=e(30211),R=e(73972),a=e(7901),C=e(71828).fillText,T=e(69383).getLineWidth,v=e(89298).hoverLabelText,y=e(50606).BADNUM;function t(n,o,f,u,m){var c=r(n,o,f,u,m);if(c){var A=c.cd,h=A[0].trace,l=A[c.index];return c.color=s(h,l),R.getComponentMethod("errorbars","hoverInfo")(l,h,c),[c]}}function r(n,o,f,u,m){var c=n.cd,A=c[0].trace,h=c[0].t,l=u==="closest",p=A.type==="waterfall",M=n.maxHoverDistance,S=n.maxSpikeDistance,P,x,E,w,i,L,b;A.orientation==="h"?(P=f,x=o,E="y",w="x",i=ce,L=$):(P=o,x=f,E="x",w="y",L=ce,i=$);var O=A[E+"period"],_=l||O;function N(he){return B(he,-1)}function z(he){return B(he,1)}function B(he,me){var Ce=he.w;return he[E]+me*Ce/2}function U(he){return he[E+"End"]-he[E+"Start"]}var F=l?N:O?function(he){return he.p-U(he)/2}:function(he){return Math.min(N(he),he.p-h.bardelta/2)},V=l?z:O?function(he){return he.p+U(he)/2}:function(he){return Math.max(z(he),he.p+h.bardelta/2)};function j(he,me,Ce){return m.finiteRange&&(Ce=0),g.inbox(he-P,me-P,Ce+Math.min(1,Math.abs(me-he)/b)-1)}function $(he){return j(F(he),V(he),M)}function ne(he){return j(N(he),z(he),S)}function oe(he){var me=he[w];if(p){var Ce=Math.abs(he.rawS)||0;x>0?me+=Ce:x<0&&(me-=Ce)}return me}function ce(he){var me=x,Ce=he.b,Te=oe(he);return g.inbox(Ce-me,Te-me,M+(Te-me)/(Te-Ce)-1)}function Q(he){var me=x,Ce=he.b,Te=oe(he);return g.inbox(Ce-me,Te-me,S+(Te-me)/(Te-Ce)-1)}var Z=n[E+"a"],K=n[w+"a"];b=Math.abs(Z.r2c(Z.range[1])-Z.r2c(Z.range[0]));function J(he){return(i(he)+L(he))/2}var re=g.getDistanceFunction(u,i,L,J);if(g.getClosest(c,re,n),n.index!==!1&&c[n.index].p!==y){_||(F=function(he){return Math.min(N(he),he.p-h.bargroupwidth/2)},V=function(he){return Math.max(z(he),he.p+h.bargroupwidth/2)});var le=n.index,q=c[le],ee=A.base?q.b+q.s:q.s;n[w+"0"]=n[w+"1"]=K.c2p(q[w],!0),n[w+"LabelVal"]=ee;var ue=h.extents[h.extents.round(q.p)];n[E+"0"]=Z.c2p(l?F(q):ue[0],!0),n[E+"1"]=Z.c2p(l?V(q):ue[1],!0);var se=q.orig_p!==void 0;return n[E+"LabelVal"]=se?q.orig_p:q.p,n.labelLabel=v(Z,n[E+"LabelVal"],A[E+"hoverformat"]),n.valueLabel=v(K,n[w+"LabelVal"],A[w+"hoverformat"]),n.baseLabel=v(K,q.b,A[w+"hoverformat"]),n.spikeDistance=(Q(q)+ne(q))/2,n[E+"Spike"]=Z.c2p(q.p,!0),C(q,A,n),n.hovertemplate=A.hovertemplate,n}}function s(n,o){var f=o.mcc||n.marker.color,u=o.mlcc||n.marker.line.color,m=T(n,o);if(a.opacity(f))return f;if(a.opacity(u)&&m)return u}W.exports={hoverPoints:t,hoverOnBars:r,getTraceColor:s}},60822:function(W,H,e){W.exports={attributes:e(1486),layoutAttributes:e(43641),supplyDefaults:e(90769).supplyDefaults,crossTraceDefaults:e(90769).crossTraceDefaults,supplyLayoutDefaults:e(13957),calc:e(92290),crossTraceCalc:e(11661).crossTraceCalc,colorbar:e(4898),arraysToCalcdata:e(75341),plot:e(17295).plot,style:e(16688).style,styleOnSelect:e(16688).styleOnSelect,hoverPoints:e(95423).hoverPoints,eventData:e(58065),selectPoints:e(81974),moduleType:"trace",name:"bar",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},43641:function(W){W.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},13957:function(W,H,e){var g=e(73972),R=e(89298),a=e(71828),C=e(43641);W.exports=function(T,v,y){function t(h,l){return a.coerce(T,v,C,h,l)}for(var r=!1,s=!1,n=!1,o={},f=t("barmode"),u=0;u<y.length;u++){var m=y[u];if(g.traceIs(m,"bar")&&m.visible)r=!0;else continue;if(f==="group"){var c=m.xaxis+m.yaxis;o[c]&&(n=!0),o[c]=!0}if(m.visible&&m.type==="histogram"){var A=R.getFromId({_fullLayout:v},m[m.orientation==="v"?"xaxis":"yaxis"]);A.type!=="category"&&(s=!0)}}if(!r){delete v.barmode;return}f!=="overlay"&&t("barnorm"),t("bargap",s&&!n?0:.2),t("bargroupgap")}},17295:function(W,H,e){var g=e(39898),R=e(92770),a=e(71828),C=e(63893),T=e(7901),v=e(91424),y=e(73972),t=e(89298).tickText,r=e(72597),s=r.recordMinTextSize,n=r.clearMinTextSize,o=e(16688),f=e(69383),u=e(97313),m=e(1486),c=m.text,A=m.textposition,h=e(23469).appendArrayPointValue,l=u.TEXTPAD;function p(F){return F.id}function M(F){if(F.ids)return p}function S(F,V){return F<V?1:-1}function P(F,V,j,$){var ne=[],oe=[],ce=$?V:j,Q=$?j:V;return ne[0]=ce.c2p(F.s0,!0),oe[0]=Q.c2p(F.p0,!0),ne[1]=ce.c2p(F.s1,!0),oe[1]=Q.c2p(F.p1,!0),$?[ne,oe]:[oe,ne]}function x(F,V,j,$){if(!V.uniformtext.mode&&E(j)){var ne;return $&&(ne=$()),F.transition().duration(j.duration).ease(j.easing).each("end",function(){ne&&ne()}).each("interrupt",function(){ne&&ne()})}else return F}function E(F){return F&&F.duration>0}function w(F,V,j,$,ne,oe){var ce=V.xaxis,Q=V.yaxis,Z=F._fullLayout,K=F._context.staticPlot;ne||(ne={mode:Z.barmode,norm:Z.barmode,gap:Z.bargap,groupgap:Z.bargroupgap},n("bar",Z));var J=a.makeTraceGroups($,j,"trace bars").each(function(re){var le=g.select(this),q=re[0].trace,ee=q.type==="waterfall",ue=q.type==="funnel",se=q.type==="bar",he=se||ue,me=0;ee&&q.connector.visible&&q.connector.mode==="between"&&(me=q.connector.line.width/2);var Ce=q.orientation==="h",Te=E(ne),Oe=a.ensureSingle(le,"g","points"),Ne=M(q),Le=Oe.selectAll("g.point").data(a.identity,Ne);Le.enter().append("g").classed("point",!0),Le.exit().remove(),Le.each(function(Ae,He){var Ve=g.select(this),ke=P(Ae,ce,Q,Ce),Ge=ke[0][0],it=ke[0][1],et=ke[1][0],tt=ke[1][1],at=(Ce?it-Ge:tt-et)===0;at&&he&&f.getLineWidth(q,Ae)&&(at=!1),at||(at=!R(Ge)||!R(it)||!R(et)||!R(tt)),Ae.isBlank=at,at&&(Ce?it=Ge:tt=et),me&&!at&&(Ce?(Ge-=S(Ge,it)*me,it+=S(Ge,it)*me):(et-=S(et,tt)*me,tt+=S(et,tt)*me));var vt,yt;if(q.type==="waterfall"){if(!at){var gt=q[Ae.dir].marker;vt=gt.line.width,yt=gt.color}}else vt=f.getLineWidth(q,Ae),yt=Ae.mc||q.marker.color;function Mt(Be){var De=g.round(vt/2%1,2);return ne.gap===0&&ne.groupgap===0?g.round(Math.round(Be)-De,2):Be}function Ct(Be,De,we){return we&&Be===De?Be:Math.abs(Be-De)>=2?Mt(Be):Be>De?Math.ceil(Be):Math.floor(Be)}if(!F._context.staticPlot){var Vt=T.opacity(yt),Je=Vt<1||vt>.01?Mt:Ct;Ge=Je(Ge,it,Ce),it=Je(it,Ge,Ce),et=Je(et,tt,!Ce),tt=Je(tt,et,!Ce)}var ze=x(a.ensureSingle(Ve,"path"),Z,ne,oe);if(ze.style("vector-effect",K?"none":"non-scaling-stroke").attr("d",isNaN((it-Ge)*(tt-et))||at&&F._context.staticPlot?"M0,0Z":"M"+Ge+","+et+"V"+tt+"H"+it+"V"+et+"Z").call(v.setClipUrl,V.layerClipId,F),!Z.uniformtext.mode&&Te){var _e=v.makePointStyleFns(q);v.singlePointStyle(Ae,ze,q,_e,F)}i(F,V,Ve,re,He,Ge,it,et,tt,ne,oe),V.layerClipId&&v.hideOutsideRangePoint(Ae,Ve.select("text"),ce,Q,q.xcalendar,q.ycalendar)});var be=q.cliponaxis===!1;v.setClipUrl(le,be?null:V.layerClipId,F)});y.getComponentMethod("errorbars","plot")(F,J,V,ne)}function i(F,V,j,$,ne,oe,ce,Q,Z,K,J){var re=V.xaxis,le=V.yaxis,q=F._fullLayout,ee;function ue(Be,De,we){var xe=a.ensureSingle(Be,"text").text(De).attr({class:"bartext bartext-"+ee,"text-anchor":"middle","data-notex":1}).call(v.font,we).call(C.convertToTspans,F);return xe}var se=$[0].trace,he=se.orientation==="h",me=N(q,$,ne,re,le);ee=z(se,ne);var Ce=K.mode==="stack"||K.mode==="relative",Te=$[ne],Oe=!Ce||Te._outmost;if(!me||ee==="none"||(Te.isBlank||oe===ce||Q===Z)&&(ee==="auto"||ee==="inside")){j.select("text").remove();return}var Ne=q.font,Le=o.getBarColor($[ne],se),be=o.getInsideTextFont(se,ne,Ne,Le),Ae=o.getOutsideTextFont(se,ne,Ne),He=j.datum();he?re.type==="log"&&He.s0<=0&&(re.range[0]<re.range[1]?oe=0:oe=re._length):le.type==="log"&&He.s0<=0&&(le.range[0]<le.range[1]?Q=le._length:Q=0);var Ve=Math.abs(ce-oe)-2*l,ke=Math.abs(Z-Q)-2*l,Ge,it,et,tt,at;if(ee==="outside"&&!Oe&&!Te.hasB&&(ee="inside"),ee==="auto")if(Oe){ee="inside",at=a.ensureUniformFontSize(F,be),Ge=ue(j,me,at),it=v.bBox(Ge.node()),et=it.width,tt=it.height;var vt=et>0&&tt>0,yt=et<=Ve&&tt<=ke,gt=et<=ke&&tt<=Ve,Mt=he?Ve>=et*(ke/tt):ke>=tt*(Ve/et);vt&&(yt||gt||Mt)?ee="inside":(ee="outside",Ge.remove(),Ge=null)}else ee="inside";if(!Ge){at=a.ensureUniformFontSize(F,ee==="outside"?Ae:be),Ge=ue(j,me,at);var Ct=Ge.attr("transform");if(Ge.attr("transform",""),it=v.bBox(Ge.node()),et=it.width,tt=it.height,Ge.attr("transform",Ct),et<=0||tt<=0){Ge.remove();return}}var Vt=se.textangle,Je,ze;ee==="outside"?(ze=se.constraintext==="both"||se.constraintext==="outside",Je=_(oe,ce,Q,Z,it,{isHorizontal:he,constrained:ze,angle:Vt})):(ze=se.constraintext==="both"||se.constraintext==="inside",Je=O(oe,ce,Q,Z,it,{isHorizontal:he,constrained:ze,angle:Vt,anchor:se.insidetextanchor})),Je.fontSize=at.size,s(se.type==="histogram"?"bar":se.type,Je,q),Te.transform=Je;var _e=x(Ge,q,K,J);a.setTransormAndDisplay(_e,Je)}function L(F){return F==="auto"?0:F}function b(F,V){var j=Math.PI/180*V,$=Math.abs(Math.sin(j)),ne=Math.abs(Math.cos(j));return{x:F.width*ne+F.height*$,y:F.width*$+F.height*ne}}function O(F,V,j,$,ne,oe){var ce=!!oe.isHorizontal,Q=!!oe.constrained,Z=oe.angle||0,K=oe.anchor||"end",J=K==="end",re=K==="start",le=oe.leftToRight||0,q=(le+1)/2,ee=1-q,ue=ne.width,se=ne.height,he=Math.abs(V-F),me=Math.abs($-j),Ce=he>2*l&&me>2*l?l:0;he-=2*Ce,me-=2*Ce;var Te=L(Z);Z==="auto"&&!(ue<=he&&se<=me)&&(ue>he||se>me)&&(!(ue>me||se>he)||ue<se!=he<me)&&(Te+=90);var Oe=b(ne,Te),Ne=1;Q&&(Ne=Math.min(1,he/Oe.x,me/Oe.y));var Le=ne.left*ee+ne.right*q,be=(ne.top+ne.bottom)/2,Ae=(F+l)*ee+(V-l)*q,He=(j+$)/2,Ve=0,ke=0;if(re||J){var Ge=(ce?Oe.x:Oe.y)/2,it=ce?S(F,V):S(j,$);ce?re?(Ae=F+it*Ce,Ve=-it*Ge):(Ae=V-it*Ce,Ve=it*Ge):re?(He=j+it*Ce,ke=-it*Ge):(He=$-it*Ce,ke=it*Ge)}return{textX:Le,textY:be,targetX:Ae,targetY:He,anchorX:Ve,anchorY:ke,scale:Ne,rotate:Te}}function _(F,V,j,$,ne,oe){var ce=!!oe.isHorizontal,Q=!!oe.constrained,Z=oe.angle||0,K=ne.width,J=ne.height,re=Math.abs(V-F),le=Math.abs($-j),q;ce?q=le>2*l?l:0:q=re>2*l?l:0;var ee=1;Q&&(ee=ce?Math.min(1,le/J):Math.min(1,re/K));var ue=L(Z),se=b(ne,ue),he=(ce?se.x:se.y)/2,me=(ne.left+ne.right)/2,Ce=(ne.top+ne.bottom)/2,Te=(F+V)/2,Oe=(j+$)/2,Ne=0,Le=0,be=ce?S(V,F):S(j,$);return ce?(Te=V-be*q,Ne=be*he):(Oe=$+be*q,Le=-be*he),{textX:me,textY:Ce,targetX:Te,targetY:Oe,anchorX:Ne,anchorY:Le,scale:ee,rotate:ue}}function N(F,V,j,$,ne){var oe=V[0].trace,ce=oe.texttemplate,Q;return ce?Q=B(F,V,j,$,ne):oe.textinfo?Q=U(V,j,$,ne):Q=f.getValue(oe.text,j),f.coerceString(c,Q)}function z(F,V){var j=f.getValue(F.textposition,V);return f.coerceEnumerated(A,j)}function B(F,V,j,$,ne){var oe=V[0].trace,ce=a.castOption(oe,j,"texttemplate");if(!ce)return"";var Q=oe.type==="histogram",Z=oe.type==="waterfall",K=oe.type==="funnel",J=oe.orientation==="h",re,le,q,ee;J?(re="y",le=ne,q="x",ee=$):(re="x",le=$,q="y",ee=ne);function ue(Ne){return t(le,le.c2l(Ne),!0).text}function se(Ne){return t(ee,ee.c2l(Ne),!0).text}var he=V[j],me={};me.label=he.p,me.labelLabel=me[re+"Label"]=ue(he.p);var Ce=a.castOption(oe,he.i,"text");(Ce===0||Ce)&&(me.text=Ce),me.value=he.s,me.valueLabel=me[q+"Label"]=se(he.s);var Te={};h(Te,oe,he.i),(Q||Te.x===void 0)&&(Te.x=J?me.value:me.label),(Q||Te.y===void 0)&&(Te.y=J?me.label:me.value),(Q||Te.xLabel===void 0)&&(Te.xLabel=J?me.valueLabel:me.labelLabel),(Q||Te.yLabel===void 0)&&(Te.yLabel=J?me.labelLabel:me.valueLabel),Z&&(me.delta=+he.rawS||he.s,me.deltaLabel=se(me.delta),me.final=he.v,me.finalLabel=se(me.final),me.initial=me.final-me.delta,me.initialLabel=se(me.initial)),K&&(me.value=he.s,me.valueLabel=se(me.value),me.percentInitial=he.begR,me.percentInitialLabel=a.formatPercent(he.begR),me.percentPrevious=he.difR,me.percentPreviousLabel=a.formatPercent(he.difR),me.percentTotal=he.sumR,me.percenTotalLabel=a.formatPercent(he.sumR));var Oe=a.castOption(oe,he.i,"customdata");return Oe&&(me.customdata=Oe),a.texttemplateString(ce,me,F._d3locale,Te,me,oe._meta||{})}function U(F,V,j,$){var ne=F[0].trace,oe=ne.orientation==="h",ce=ne.type==="waterfall",Q=ne.type==="funnel";function Z(Oe){var Ne=oe?$:j;return t(Ne,Oe,!0).text}function K(Oe){var Ne=oe?j:$;return t(Ne,+Oe,!0).text}var J=ne.textinfo,re=F[V],le=J.split("+"),q=[],ee,ue=function(Oe){return le.indexOf(Oe)!==-1};if(ue("label")&&q.push(Z(F[V].p)),ue("text")&&(ee=a.castOption(ne,re.i,"text"),(ee===0||ee)&&q.push(ee)),ce){var se=+re.rawS||re.s,he=re.v,me=he-se;ue("initial")&&q.push(K(me)),ue("delta")&&q.push(K(se)),ue("final")&&q.push(K(he))}if(Q){ue("value")&&q.push(K(re.s));var Ce=0;ue("percent initial")&&Ce++,ue("percent previous")&&Ce++,ue("percent total")&&Ce++;var Te=Ce>1;ue("percent initial")&&(ee=a.formatPercent(re.begR),Te&&(ee+=" of initial"),q.push(ee)),ue("percent previous")&&(ee=a.formatPercent(re.difR),Te&&(ee+=" of previous"),q.push(ee)),ue("percent total")&&(ee=a.formatPercent(re.sumR),Te&&(ee+=" of total"),q.push(ee))}return q.join("<br>")}W.exports={plot:w,toMoveInsideBar:O}},81974:function(W){W.exports=function(g,R){var a=g.cd,C=g.xaxis,T=g.yaxis,v=a[0].trace,y=v.type==="funnel",t=v.orientation==="h",r=[],s;if(R===!1)for(s=0;s<a.length;s++)a[s].selected=0;else for(s=0;s<a.length;s++){var n=a[s],o="ct"in n?n.ct:H(n,C,T,t,y);R.contains(o,!1,s,g)?(r.push({pointNumber:s,x:C.c2d(n.x),y:T.c2d(n.y)}),n.selected=1):n.selected=0}return r};function H(e,g,R,a,C){var T=g.c2p(a?e.s0:e.p0,!0),v=g.c2p(a?e.s1:e.p1,!0),y=R.c2p(a?e.p0:e.s0,!0),t=R.c2p(a?e.p1:e.s1,!0);return C?[(T+v)/2,(y+t)/2]:a?[v,(y+t)/2]:[(T+v)/2,t]}},61546:function(W,H,e){W.exports=R;var g=e(71828).distinctVals;function R(a,C){this.traces=a,this.sepNegVal=C.sepNegVal,this.overlapNoMerge=C.overlapNoMerge;for(var T=1/0,v=C.posAxis._id.charAt(0),y=[],t=0;t<a.length;t++){for(var r=a[t],s=0;s<r.length;s++){var n=r[s],o=n.p;o===void 0&&(o=n[v]),o!==void 0&&y.push(o)}r[0]&&r[0].width1&&(T=Math.min(r[0].width1,T))}this.positions=y;var f=g(y);this.distinctPositions=f.vals,f.vals.length===1&&T!==1/0?this.minDiff=T:this.minDiff=Math.min(f.minDiff,T);var u=(C.posAxis||{}).type;(u==="category"||u==="multicategory")&&(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}R.prototype.put=function(C,T){var v=this.getLabel(C,T),y=this.bins[v]||0;return this.bins[v]=y+T,y},R.prototype.get=function(C,T){var v=this.getLabel(C,T);return this.bins[v]||0},R.prototype.getLabel=function(C,T){var v=T<0&&this.sepNegVal?"v":"^",y=this.overlapNoMerge?C:Math.round(C/this.binWidth);return v+y}},16688:function(W,H,e){var g=e(39898),R=e(7901),a=e(91424),C=e(71828),T=e(73972),v=e(72597).resizeText,y=e(1486),t=y.textfont,r=y.insidetextfont,s=y.outsidetextfont,n=e(69383);function o(x){var E=g.select(x).selectAll("g.barlayer").selectAll("g.trace");v(x,E,"bar");var w=E.size(),i=x._fullLayout;E.style("opacity",function(L){return L[0].trace.opacity}).each(function(L){(i.barmode==="stack"&&w>1||i.bargap===0&&i.bargroupgap===0&&!L[0].trace.marker.line.width)&&g.select(this).attr("shape-rendering","crispEdges")}),E.selectAll("g.points").each(function(L){var b=g.select(this),O=L[0].trace;f(b,O,x)}),T.getComponentMethod("errorbars","style")(E)}function f(x,E,w){a.pointStyle(x.selectAll("path"),E,w),u(x,E,w)}function u(x,E,w){x.selectAll("text").each(function(i){var L=g.select(this),b=C.ensureUniformFontSize(w,h(L,i,E,w));a.font(L,b)})}function m(x,E,w){var i=E[0].trace;i.selectedpoints?c(w,i,x):(f(w,i,x),T.getComponentMethod("errorbars","style")(w))}function c(x,E,w){a.selectedPointStyle(x.selectAll("path"),E),A(x.selectAll("text"),E,w)}function A(x,E,w){x.each(function(i){var L=g.select(this),b;if(i.selected){b=C.ensureUniformFontSize(w,h(L,i,E,w));var O=E.selected.textfont&&E.selected.textfont.color;O&&(b.color=O),a.font(L,b)}else a.selectedTextStyle(L,E)})}function h(x,E,w,i){var L=i._fullLayout.font,b=w.textfont;if(x.classed("bartext-inside")){var O=P(E,w);b=p(w,E.i,L,O)}else x.classed("bartext-outside")&&(b=M(w,E.i,L));return b}function l(x,E,w){return S(t,x.textfont,E,w)}function p(x,E,w,i){var L=l(x,E,w),b=x._input.textfont===void 0||x._input.textfont.color===void 0||Array.isArray(x.textfont.color)&&x.textfont.color[E]===void 0;return b&&(L={color:R.contrast(i),family:L.family,size:L.size}),S(r,x.insidetextfont,E,L)}function M(x,E,w){var i=l(x,E,w);return S(s,x.outsidetextfont,E,i)}function S(x,E,w,i){E=E||{};var L=n.getValue(E.family,w),b=n.getValue(E.size,w),O=n.getValue(E.color,w);return{family:n.coerceString(x.family,L,i.family),size:n.coerceNumber(x.size,b,i.size),color:n.coerceColor(x.color,O,i.color)}}function P(x,E){return E.type==="waterfall"?E[x.dir].marker.color:x.mcc||x.mc||E.marker.color}W.exports={style:o,styleTextPoints:u,styleOnSelect:m,getInsideTextFont:p,getOutsideTextFont:M,getBarColor:P,resizeText:v}},98340:function(W,H,e){var g=e(7901),R=e(52075).hasColorscale,a=e(1586),C=e(71828).coercePattern;W.exports=function(v,y,t,r,s){var n=t("marker.color",r),o=R(v,"marker");o&&a(v,y,s,t,{prefix:"marker.",cLetter:"c"}),t("marker.line.color",g.defaultLine),R(v,"marker.line")&&a(v,y,s,t,{prefix:"marker.line.",cLetter:"c"}),t("marker.line.width"),t("marker.opacity"),C(t,"marker.pattern",n,o),t("selected.marker.color"),t("unselected.marker.color")}},72597:function(W,H,e){var g=e(39898),R=e(71828);function a(y,t,r){var s=y._fullLayout,n=s["_"+r+"Text_minsize"];if(n){var o=s.uniformtext.mode==="hide",f;switch(r){case"funnelarea":case"pie":case"sunburst":f="g.slice";break;case"treemap":case"icicle":f="g.slice, g.pathbar";break;default:f="g.points > g.point"}t.selectAll(f).each(function(u){var m=u.transform;if(m){m.scale=o&&m.hide?0:n/m.fontSize;var c=g.select(this).select("text");R.setTransormAndDisplay(c,m)}})}}function C(y,t,r){if(r.uniformtext.mode){var s=v(y),n=r.uniformtext.minsize,o=t.scale*t.fontSize;t.hide=o<n,r[s]=r[s]||1/0,t.hide||(r[s]=Math.min(r[s],Math.max(o,n)))}}function T(y,t){var r=v(y);t[r]=void 0}function v(y){return"_"+y+"Text_minsize"}W.exports={recordMinTextSize:C,clearMinTextSize:T,resizeText:a}},55023:function(W,H,e){var g=e(5386).fF,R=e(1426).extendFlat,a=e(81245),C=e(1486);W.exports={r:a.r,theta:a.theta,r0:a.r0,dr:a.dr,theta0:a.theta0,dtheta:a.dtheta,thetaunit:a.thetaunit,base:R({},C.base,{}),offset:R({},C.offset,{}),width:R({},C.width,{}),text:R({},C.text,{}),hovertext:R({},C.hovertext,{}),marker:C.marker,hoverinfo:a.hoverinfo,hovertemplate:g(),selected:C.selected,unselected:C.unselected}},74692:function(W,H,e){var g=e(52075).hasColorscale,R=e(78803),a=e(75341),C=e(11661).setGroupPositions,T=e(66279),v=e(73972).traceIs,y=e(71828).extendFlat;function t(s,n){for(var o=s._fullLayout,f=n.subplot,u=o[f].radialaxis,m=o[f].angularaxis,c=u.makeCalcdata(n,"r"),A=m.makeCalcdata(n,"theta"),h=n._length,l=new Array(h),p=c,M=A,S=0;S<h;S++)l[S]={p:M[S],s:p[S]};function P(x){var E=n[x];E!==void 0&&(n["_"+x]=Array.isArray(E)?m.makeCalcdata(n,x):m.d2c(E,n.thetaunit))}return m.type==="linear"&&(P("width"),P("offset")),g(n,"marker")&&R(s,n,{vals:n.marker.color,containerStr:"marker",cLetter:"c"}),g(n,"marker.line")&&R(s,n,{vals:n.marker.line.color,containerStr:"marker.line",cLetter:"c"}),a(l,n),T(l,n),l}function r(s,n,o){for(var f=s.calcdata,u=[],m=0;m<f.length;m++){var c=f[m],A=c[0].trace;A.visible===!0&&v(A,"bar")&&A.subplot===o&&u.push(c)}var h=y({},n.radialaxis,{_id:"x"}),l=n.angularaxis;C(s,l,h,u,{mode:n.barmode,norm:n.barnorm,gap:n.bargap,groupgap:n.bargroupgap})}W.exports={calc:t,crossTraceCalc:r}},6135:function(W,H,e){var g=e(71828),R=e(22184).handleRThetaDefaults,a=e(98340),C=e(55023);W.exports=function(v,y,t,r){function s(o,f){return g.coerce(v,y,C,o,f)}var n=R(v,y,r,s);if(!n){y.visible=!1;return}s("thetaunit"),s("base"),s("offset"),s("width"),s("text"),s("hovertext"),s("hovertemplate"),a(v,y,s,t,r),g.coerceSelectionMarkerOpacity(y,s)}},27379:function(W,H,e){var g=e(30211),R=e(71828),a=e(95423).getTraceColor,C=R.fillText,T=e(59150).makeHoverPointText,v=e(10869).isPtInsidePolygon;W.exports=function(t,r,s){var n=t.cd,o=n[0].trace,f=t.subplot,u=f.radialAxis,m=f.angularAxis,c=f.vangles,A=c?v:R.isPtInsideSector,h=t.maxHoverDistance,l=m._period||2*Math.PI,p=Math.abs(u.g2p(Math.sqrt(r*r+s*s))),M=Math.atan2(s,r);u.range[0]>u.range[1]&&(M+=Math.PI);var S=function(w){return A(p,M,[w.rp0,w.rp1],[w.thetag0,w.thetag1],c)?h+Math.min(1,Math.abs(w.thetag1-w.thetag0)/l)-1+(w.rp1-p)/(w.rp1-w.rp0)-1:1/0};if(g.getClosest(n,S,t),t.index!==!1){var P=t.index,x=n[P];t.x0=t.x1=x.ct[0],t.y0=t.y1=x.ct[1];var E=R.extendFlat({},x,{r:x.s,theta:x.p});return C(x,o,t),T(E,o,f,t),t.hovertemplate=o.hovertemplate,t.color=a(o,x),t.xLabelVal=t.yLabelVal=void 0,x.s<0&&(t.idealAlign="left"),[t]}}},23381:function(W,H,e){W.exports={moduleType:"trace",name:"barpolar",basePlotModule:e(23580),categories:["polar","bar","showLegend"],attributes:e(55023),layoutAttributes:e(40151),supplyDefaults:e(6135),supplyLayoutDefaults:e(19860),calc:e(74692).calc,crossTraceCalc:e(74692).crossTraceCalc,plot:e(60173),colorbar:e(4898),formatLabels:e(98608),style:e(16688).style,styleOnSelect:e(16688).styleOnSelect,hoverPoints:e(27379),selectPoints:e(81974),meta:{}}},40151:function(W){W.exports={barmode:{valType:"enumerated",values:["stack","overlay"],dflt:"stack",editType:"calc"},bargap:{valType:"number",dflt:.1,min:0,max:1,editType:"calc"}}},19860:function(W,H,e){var g=e(71828),R=e(40151);W.exports=function(a,C,T){var v={},y;function t(n,o){return g.coerce(a[y]||{},C[y],R,n,o)}for(var r=0;r<T.length;r++){var s=T[r];s.type==="barpolar"&&s.visible===!0&&(y=s.subplot,v[y]||(t("barmode"),t("bargap"),v[y]=1))}}},60173:function(W,H,e){var g=e(39898),R=e(92770),a=e(71828),C=e(91424),T=e(10869);W.exports=function(t,r,s){var n=t._context.staticPlot,o=r.xaxis,f=r.yaxis,u=r.radialAxis,m=r.angularAxis,c=v(r),A=r.layers.frontplot.select("g.barlayer");a.makeTraceGroups(A,s,"trace bars").each(function(){var h=g.select(this),l=a.ensureSingle(h,"g","points"),p=l.selectAll("g.point").data(a.identity);p.enter().append("g").style("vector-effect",n?"none":"non-scaling-stroke").style("stroke-miterlimit",2).classed("point",!0),p.exit().remove(),p.each(function(M){var S=g.select(this),P=M.rp0=u.c2p(M.s0),x=M.rp1=u.c2p(M.s1),E=M.thetag0=m.c2g(M.p0),w=M.thetag1=m.c2g(M.p1),i;if(!R(P)||!R(x)||!R(E)||!R(w)||P===x||E===w)i="M0,0Z";else{var L=u.c2g(M.s1),b=(E+w)/2;M.ct=[o.c2p(L*Math.cos(b)),f.c2p(L*Math.sin(b))],i=c(P,x,E,w)}a.ensureSingle(S,"path").attr("d",i)}),C.setClipUrl(h,r._hasClipOnAxisFalse?r.clipIds.forTraces:null,t)})};function v(y){var t=y.cxx,r=y.cyy;return y.vangles?function(s,n,o,f){var u,m;a.angleDelta(o,f)>0?(u=o,m=f):(u=f,m=o);var c=T.findEnclosingVertexAngles(u,y.vangles)[0],A=T.findEnclosingVertexAngles(m,y.vangles)[1],h=[c,(u+m)/2,A];return T.pathPolygonAnnulus(s,n,u,m,h,t,r)}:function(s,n,o,f){return a.pathAnnulus(s,n,o,f,t,r)}}},53522:function(W,H,e){var g=e(82196),R=e(1486),a=e(22399),C=e(12663).axisHoverFormat,T=e(5386).fF,v=e(1426).extendFlat,y=g.marker,t=y.line;W.exports={y:{valType:"data_array",editType:"calc+clearAxisTypes"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},x0:{valType:"any",editType:"calc+clearAxisTypes"},y0:{valType:"any",editType:"calc+clearAxisTypes"},dx:{valType:"number",editType:"calc"},dy:{valType:"number",editType:"calc"},xperiod:g.xperiod,yperiod:g.yperiod,xperiod0:g.xperiod0,yperiod0:g.yperiod0,xperiodalignment:g.xperiodalignment,yperiodalignment:g.yperiodalignment,xhoverformat:C("x"),yhoverformat:C("y"),name:{valType:"string",editType:"calc+clearAxisTypes"},q1:{valType:"data_array",editType:"calc+clearAxisTypes"},median:{valType:"data_array",editType:"calc+clearAxisTypes"},q3:{valType:"data_array",editType:"calc+clearAxisTypes"},lowerfence:{valType:"data_array",editType:"calc"},upperfence:{valType:"data_array",editType:"calc"},notched:{valType:"boolean",editType:"calc"},notchwidth:{valType:"number",min:0,max:.5,dflt:.25,editType:"calc"},notchspan:{valType:"data_array",editType:"calc"},boxpoints:{valType:"enumerated",values:["all","outliers","suspectedoutliers",!1],editType:"calc"},jitter:{valType:"number",min:0,max:1,editType:"calc"},pointpos:{valType:"number",min:-2,max:2,editType:"calc"},sdmultiple:{valType:"number",min:0,editType:"calc",dflt:1},sizemode:{valType:"enumerated",values:["quartiles","sd"],editType:"calc",dflt:"quartiles"},boxmean:{valType:"enumerated",values:[!0,"sd",!1],editType:"calc"},mean:{valType:"data_array",editType:"calc"},sd:{valType:"data_array",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},quartilemethod:{valType:"enumerated",values:["linear","exclusive","inclusive"],dflt:"linear",editType:"calc"},width:{valType:"number",min:0,dflt:0,editType:"calc"},marker:{outliercolor:{valType:"color",dflt:"rgba(0, 0, 0, 0)",editType:"style"},symbol:v({},y.symbol,{arrayOk:!1,editType:"plot"}),opacity:v({},y.opacity,{arrayOk:!1,dflt:1,editType:"style"}),angle:v({},y.angle,{arrayOk:!1,editType:"calc"}),size:v({},y.size,{arrayOk:!1,editType:"calc"}),color:v({},y.color,{arrayOk:!1,editType:"style"}),line:{color:v({},t.color,{arrayOk:!1,dflt:a.defaultLine,editType:"style"}),width:v({},t.width,{arrayOk:!1,dflt:0,editType:"style"}),outliercolor:{valType:"color",editType:"style"},outlierwidth:{valType:"number",min:0,dflt:1,editType:"style"},editType:"style"},editType:"plot"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:g.fillcolor,whiskerwidth:{valType:"number",min:0,max:1,dflt:.5,editType:"calc"},showwhiskers:{valType:"boolean",editType:"calc"},offsetgroup:R.offsetgroup,alignmentgroup:R.alignmentgroup,selected:{marker:g.selected.marker,editType:"style"},unselected:{marker:g.unselected.marker,editType:"style"},text:v({},g.text,{}),hovertext:v({},g.hovertext,{}),hovertemplate:T({}),hoveron:{valType:"flaglist",flags:["boxes","points"],dflt:"boxes+points",editType:"style"}}},48518:function(W,H,e){var g=e(92770),R=e(89298),a=e(42973),C=e(71828),T=e(50606).BADNUM,v=C._;W.exports=function(M,S){var P=M._fullLayout,x=R.getFromId(M,S.xaxis||"x"),E=R.getFromId(M,S.yaxis||"y"),w=[],i=S.type==="violin"?"_numViolins":"_numBoxes",L,b,O,_,N,z,B;S.orientation==="h"?(O=x,_="x",N=E,z="y",B=!!S.yperiodalignment):(O=E,_="y",N=x,z="x",B=!!S.xperiodalignment);var U=y(S,z,N,P[i]),F=U[0],V=U[1],j=C.distinctVals(F,N),$=j.vals,ne=j.minDiff/2,oe,ce,Q,Z,K,J,re=(S.boxpoints||S.points)==="all"?C.identity:function(Ct){return Ct.v<oe.lf||Ct.v>oe.uf};if(S._hasPreCompStats){var le=S[_],q=function(Ct){return O.d2c((S[Ct]||[])[L])},ee=1/0,ue=-1/0;for(L=0;L<S._length;L++){var se=F[L];if(g(se)){if(oe={},oe.pos=oe[z]=se,B&&V&&(oe.orig_p=V[L]),oe.q1=q("q1"),oe.med=q("median"),oe.q3=q("q3"),ce=[],le&&C.isArrayOrTypedArray(le[L]))for(b=0;b<le[L].length;b++)J=O.d2c(le[L][b]),J!==T&&(K={v:J,i:[L,b]},n(K,S,[L,b]),ce.push(K));if(oe.pts=ce.sort(f),Q=oe[_]=ce.map(u),Z=Q.length,oe.med!==T&&oe.q1!==T&&oe.q3!==T&&oe.med>=oe.q1&&oe.q3>=oe.med){var he=q("lowerfence");oe.lf=he!==T&&he<=oe.q1?he:m(oe,Q,Z);var me=q("upperfence");oe.uf=me!==T&&me>=oe.q3?me:c(oe,Q,Z);var Ce=q("mean");oe.mean=Ce!==T?Ce:Z?C.mean(Q,Z):(oe.q1+oe.q3)/2;var Te=q("sd");oe.sd=Ce!==T&&Te>=0?Te:Z?C.stdev(Q,Z,oe.mean):oe.q3-oe.q1,oe.lo=A(oe),oe.uo=h(oe);var Oe=q("notchspan");Oe=Oe!==T&&Oe>0?Oe:l(oe,Z),oe.ln=oe.med-Oe,oe.un=oe.med+Oe;var Ne=oe.lf,Le=oe.uf;S.boxpoints&&Q.length&&(Ne=Math.min(Ne,Q[0]),Le=Math.max(Le,Q[Z-1])),S.notched&&(Ne=Math.min(Ne,oe.ln),Le=Math.max(Le,oe.un)),oe.min=Ne,oe.max=Le}else{C.warn(["Invalid input - make sure that q1 <= median <= q3","q1 = "+oe.q1,"median = "+oe.med,"q3 = "+oe.q3].join(`
`));var be;oe.med!==T?be=oe.med:oe.q1!==T?oe.q3!==T?be=(oe.q1+oe.q3)/2:be=oe.q1:oe.q3!==T?be=oe.q3:be=0,oe.med=be,oe.q1=oe.q3=be,oe.lf=oe.uf=be,oe.mean=oe.sd=be,oe.ln=oe.un=be,oe.min=oe.max=be}ee=Math.min(ee,oe.min),ue=Math.max(ue,oe.max),oe.pts2=ce.filter(re),w.push(oe)}}S._extremes[O._id]=R.findExtremes(O,[ee,ue],{padded:!0})}else{var Ae=O.makeCalcdata(S,_),He=t($,ne),Ve=$.length,ke=r(Ve);for(L=0;L<S._length;L++)if(J=Ae[L],!!g(J)){var Ge=C.findBin(F[L],He);Ge>=0&&Ge<Ve&&(K={v:J,i:L},n(K,S,L),ke[Ge].push(K))}var it=1/0,et=-1/0,tt=S.quartilemethod,at=tt==="exclusive",vt=tt==="inclusive";for(L=0;L<Ve;L++)if(ke[L].length>0){if(oe={},oe.pos=oe[z]=$[L],ce=oe.pts=ke[L].sort(f),Q=oe[_]=ce.map(u),Z=Q.length,oe.min=Q[0],oe.max=Q[Z-1],oe.mean=C.mean(Q,Z),oe.sd=C.stdev(Q,Z,oe.mean)*S.sdmultiple,oe.med=C.interp(Q,.5),Z%2&&(at||vt)){var yt,gt;at?(yt=Q.slice(0,Z/2),gt=Q.slice(Z/2+1)):vt&&(yt=Q.slice(0,Z/2+1),gt=Q.slice(Z/2)),oe.q1=C.interp(yt,.5),oe.q3=C.interp(gt,.5)}else oe.q1=C.interp(Q,.25),oe.q3=C.interp(Q,.75);oe.lf=m(oe,Q,Z),oe.uf=c(oe,Q,Z),oe.lo=A(oe),oe.uo=h(oe);var Mt=l(oe,Z);oe.ln=oe.med-Mt,oe.un=oe.med+Mt,it=Math.min(it,oe.ln),et=Math.max(et,oe.un),oe.pts2=ce.filter(re),w.push(oe)}S._extremes[O._id]=R.findExtremes(O,S.notched?Ae.concat([it,et]):Ae,{padded:!0})}return o(w,S),w.length>0?(w[0].t={num:P[i],dPos:ne,posLetter:z,valLetter:_,labels:{med:v(M,"median:"),min:v(M,"min:"),q1:v(M,"q1:"),q3:v(M,"q3:"),max:v(M,"max:"),mean:S.boxmean==="sd"||S.sizemode==="sd"?v(M,"mean  :").replace("",S.sdmultiple===1?"":S.sdmultiple+""):v(M,"mean:"),lf:v(M,"lower fence:"),uf:v(M,"upper fence:")}},P[i]++,w):[{t:{empty:!0}}]};function y(p,M,S,P){var x=M in p,E=M+"0"in p,w="d"+M in p;if(x||E&&w){var i=S.makeCalcdata(p,M),L=a(p,S,M,i).vals;return[L,i]}var b;E?b=p[M+"0"]:"name"in p&&(S.type==="category"||g(p.name)&&["linear","log"].indexOf(S.type)!==-1||C.isDateTime(p.name)&&S.type==="date")?b=p.name:b=P;for(var O=S.type==="multicategory"?S.r2c_just_indices(b):S.d2c(b,0,p[M+"calendar"]),_=p._length,N=new Array(_),z=0;z<_;z++)N[z]=O;return[N]}function t(p,M){for(var S=p.length,P=new Array(S+1),x=0;x<S;x++)P[x]=p[x]-M;return P[S]=p[S-1]+M,P}function r(p){for(var M=new Array(p),S=0;S<p;S++)M[S]=[];return M}var s={text:"tx",hovertext:"htx"};function n(p,M,S){for(var P in s)C.isArrayOrTypedArray(M[P])&&(Array.isArray(S)?C.isArrayOrTypedArray(M[P][S[0]])&&(p[s[P]]=M[P][S[0]][S[1]]):p[s[P]]=M[P][S])}function o(p,M){if(C.isArrayOrTypedArray(M.selectedpoints))for(var S=0;S<p.length;S++){for(var P=p[S].pts||[],x={},E=0;E<P.length;E++)x[P[E].i]=E;C.tagSelected(P,M,x)}}function f(p,M){return p.v-M.v}function u(p){return p.v}function m(p,M,S){return S===0?p.q1:Math.min(p.q1,M[Math.min(C.findBin(2.5*p.q1-1.5*p.q3,M,!0)+1,S-1)])}function c(p,M,S){return S===0?p.q3:Math.max(p.q3,M[Math.max(C.findBin(2.5*p.q3-1.5*p.q1,M),0)])}function A(p){return 4*p.q1-3*p.q3}function h(p){return 4*p.q3-3*p.q1}function l(p,M){return M===0?0:1.57*(p.q3-p.q1)/Math.sqrt(M)}},37188:function(W,H,e){var g=e(89298),R=e(71828),a=e(99082).getAxisGroup,C=["v","h"];function T(y,t){for(var r=y.calcdata,s=t.xaxis,n=t.yaxis,o=0;o<C.length;o++){for(var f=C[o],u=f==="h"?n:s,m=[],c=0;c<r.length;c++){var A=r[c],h=A[0].t,l=A[0].trace;l.visible===!0&&(l.type==="box"||l.type==="candlestick")&&!h.empty&&(l.orientation||"v")===f&&l.xaxis===s._id&&l.yaxis===n._id&&m.push(c)}v("box",y,m,u)}}function v(y,t,r,s){var n=t.calcdata,o=t._fullLayout,f=s._id,u=f.charAt(0),m,c,A,h=[],l=0;for(m=0;m<r.length;m++)for(A=n[r[m]],c=0;c<A.length;c++)h.push(s.c2l(A[c].pos,!0)),l+=(A[c].pts2||[]).length;if(h.length){var p=R.distinctVals(h);(s.type==="category"||s.type==="multicategory")&&(p.minDiff=1);var M=p.minDiff/2;g.minDtick(s,p.minDiff,p.vals[0],!0);var S=y==="violin"?"_numViolins":"_numBoxes",P=o[S],x=o[y+"mode"]==="group"&&P>1,E=1-o[y+"gap"],w=1-o[y+"groupgap"];for(m=0;m<r.length;m++){A=n[r[m]];var i=A[0].trace,L=A[0].t,b=i.width,O=i.side,_,N,z,B;if(b)_=N=B=b/2,z=0;else if(_=M,x){var U=a(o,s._id)+i.orientation,F=o._alignmentOpts[U]||{},V=F[i.alignmentgroup]||{},j=Object.keys(V.offsetGroups||{}).length,$=j||P,ne=j?i._offsetIndex:L.num;N=_*E*w/$,z=2*_*(-.5+(ne+.5)/$)*E,B=_*E/$}else N=_*E*w,z=0,B=_;L.dPos=_,L.bPos=z,L.bdPos=N,L.wHover=B;var oe,ce,Q=z+N,Z,K,J,re,le,q,ee=!!b,ue=(i.boxpoints||i.points)&&l>0;if(O==="positive"?(oe=_*(b?1:.5),Z=Q,ce=Z=z):O==="negative"?(oe=Z=z,ce=_*(b?1:.5),K=Q):(oe=ce=_,Z=K=Q),ue){var se=i.pointpos,he=i.jitter,me=i.marker.size/2,Ce=0;se+he>=0&&(Ce=Q*(se+he),Ce>oe?(ee=!0,le=me,J=Ce):Ce>Z&&(le=me,J=oe)),Ce<=oe&&(J=oe);var Te=0;se-he<=0&&(Te=-Q*(se-he),Te>ce?(ee=!0,q=me,re=Te):Te>K&&(q=me,re=ce)),Te<=ce&&(re=ce)}else J=oe,re=ce;var Oe=new Array(A.length);for(c=0;c<A.length;c++)Oe[c]=A[c].pos;i._extremes[f]=g.findExtremes(s,Oe,{padded:ee,vpadminus:re,vpadplus:J,vpadLinearized:!0,ppadminus:{x:q,y:le}[u],ppadplus:{x:le,y:q}[u]})}}}W.exports={crossTraceCalc:T,setPositionOffset:v}},36411:function(W,H,e){var g=e(71828),R=e(73972),a=e(7901),C=e(73927),T=e(26125),v=e(4322),y=e(53522);function t(o,f,u,m){function c(w,i){return g.coerce(o,f,y,w,i)}if(r(o,f,c,m),f.visible!==!1){C(o,f,m,c),c("xhoverformat"),c("yhoverformat");var A=f._hasPreCompStats;A&&(c("lowerfence"),c("upperfence")),c("line.color",(o.marker||{}).color||u),c("line.width"),c("fillcolor",a.addOpacity(f.line.color,.5));var h=!1;if(A){var l=c("mean"),p=c("sd");l&&l.length&&(h=!0,p&&p.length&&(h="sd"))}c("whiskerwidth");var M=c("sizemode"),S;M==="quartiles"&&(S=c("boxmean",h)),c("showwhiskers",M==="quartiles"),(M==="sd"||S==="sd")&&c("sdmultiple"),c("width"),c("quartilemethod");var P=!1;if(A){var x=c("notchspan");x&&x.length&&(P=!0)}else g.validate(o.notchwidth,y.notchwidth)&&(P=!0);var E=c("notched",P);E&&c("notchwidth"),s(o,f,c,{prefix:"box"})}}function r(o,f,u,m){function c(j){var $=0;return j&&j.length&&($+=1,g.isArrayOrTypedArray(j[0])&&j[0].length&&($+=1)),$}function A(j){return g.validate(o[j],y[j])}var h=u("y"),l=u("x"),p;if(f.type==="box"){var M=u("q1"),S=u("median"),P=u("q3");f._hasPreCompStats=M&&M.length&&S&&S.length&&P&&P.length,p=Math.min(g.minRowLength(M),g.minRowLength(S),g.minRowLength(P))}var x=c(h),E=c(l),w=x&&g.minRowLength(h),i=E&&g.minRowLength(l),L=m.calendar,b={autotypenumbers:m.autotypenumbers},O,_;if(f._hasPreCompStats)switch(String(E)+String(x)){case"00":var N=A("x0")||A("dx"),z=A("y0")||A("dy");z&&!N?O="h":O="v",_=p;break;case"10":O="v",_=Math.min(p,i);break;case"20":O="h",_=Math.min(p,l.length);break;case"01":O="h",_=Math.min(p,w);break;case"02":O="v",_=Math.min(p,h.length);break;case"12":O="v",_=Math.min(p,i,h.length);break;case"21":O="h",_=Math.min(p,l.length,w);break;case"11":_=0;break;case"22":var B=!1,U;for(U=0;U<l.length;U++)if(v(l[U],L,b)==="category"){B=!0;break}if(B)O="v",_=Math.min(p,i,h.length);else{for(U=0;U<h.length;U++)if(v(h[U],L,b)==="category"){B=!0;break}B?(O="h",_=Math.min(p,l.length,w)):(O="v",_=Math.min(p,i,h.length))}break}else x>0?(O="v",E>0?_=Math.min(i,w):_=Math.min(w)):E>0?(O="h",_=Math.min(i)):_=0;if(!_){f.visible=!1;return}f._length=_;var F=u("orientation",O);f._hasPreCompStats?F==="v"&&E===0?(u("x0",0),u("dx",1)):F==="h"&&x===0&&(u("y0",0),u("dy",1)):F==="v"&&E===0?u("x0"):F==="h"&&x===0&&u("y0");var V=R.getComponentMethod("calendars","handleTraceDefaults");V(o,f,["x","y"],m)}function s(o,f,u,m){var c=m.prefix,A=g.coerce2(o,f,y,"marker.outliercolor"),h=u("marker.line.outliercolor"),l="outliers";f._hasPreCompStats?l="all":(A||h)&&(l="suspectedoutliers");var p=u(c+"points",l);p?(u("jitter",p==="all"?.3:0),u("pointpos",p==="all"?-1.5:0),u("marker.symbol"),u("marker.opacity"),u("marker.size"),u("marker.angle"),u("marker.color",f.line.color),u("marker.line.color"),u("marker.line.width"),p==="suspectedoutliers"&&(u("marker.line.outliercolor",f.marker.color),u("marker.line.outlierwidth")),u("selected.marker.color"),u("unselected.marker.color"),u("selected.marker.size"),u("unselected.marker.size"),u("text"),u("hovertext")):delete f.marker;var M=u("hoveron");(M==="all"||M.indexOf("points")!==-1)&&u("hovertemplate"),g.coerceSelectionMarkerOpacity(f,u)}function n(o,f){var u,m;function c(l){return g.coerce(m._input,m,y,l)}for(var A=0;A<o.length;A++){m=o[A];var h=m.type;(h==="box"||h==="violin")&&(u=m._input,f[h+"mode"]==="group"&&T(u,m,f,c))}}W.exports={supplyDefaults:t,crossTraceDefaults:n,handleSampleDefaults:r,handlePointsDefaults:s}},74907:function(W){W.exports=function(e,g){return g.hoverOnBox&&(e.hoverOnBox=g.hoverOnBox),"xVal"in g&&(e.x=g.xVal),"yVal"in g&&(e.y=g.yVal),g.xa&&(e.xaxis=g.xa),g.ya&&(e.yaxis=g.ya),e}},41868:function(W,H,e){var g=e(89298),R=e(71828),a=e(30211),C=e(7901),T=R.fillText;function v(r,s,n,o){var f=r.cd,u=f[0].trace,m=u.hoveron,c=[],A;return m.indexOf("boxes")!==-1&&(c=c.concat(y(r,s,n,o))),m.indexOf("points")!==-1&&(A=t(r,s,n)),o==="closest"?A?[A]:c:(A&&c.push(A),c)}function y(r,s,n,o){var f=r.cd,u=r.xa,m=r.ya,c=f[0].trace,A=f[0].t,h=c.type==="violin",l,p,M,S,P,x,E,w,i,L,b,O=A.bdPos,_,N,z=A.wHover,B=function(Te){return M.c2l(Te.pos)+A.bPos-M.c2l(x)};h&&c.side!=="both"?(c.side==="positive"&&(i=function(Te){var Oe=B(Te);return a.inbox(Oe,Oe+z,L)},_=O,N=0),c.side==="negative"&&(i=function(Te){var Oe=B(Te);return a.inbox(Oe-z,Oe,L)},_=0,N=O)):(i=function(Te){var Oe=B(Te);return a.inbox(Oe-z,Oe+z,L)},_=N=O);var U;h?U=function(Te){return a.inbox(Te.span[0]-P,Te.span[1]-P,L)}:U=function(Te){return a.inbox(Te.min-P,Te.max-P,L)},c.orientation==="h"?(P=s,x=n,E=U,w=i,l="y",M=m,p="x",S=u):(P=n,x=s,E=i,w=U,l="x",M=u,p="y",S=m);var F=Math.min(1,O/Math.abs(M.r2c(M.range[1])-M.r2c(M.range[0])));L=r.maxHoverDistance-F,b=r.maxSpikeDistance-F;function V(Te){return(E(Te)+w(Te))/2}var j=a.getDistanceFunction(o,E,w,V);if(a.getClosest(f,j,r),r.index===!1)return[];var $=f[r.index],ne=c.line.color,oe=(c.marker||{}).color;C.opacity(ne)&&c.line.width?r.color=ne:C.opacity(oe)&&c.boxpoints?r.color=oe:r.color=c.fillcolor,r[l+"0"]=M.c2p($.pos+A.bPos-N,!0),r[l+"1"]=M.c2p($.pos+A.bPos+_,!0),r[l+"LabelVal"]=$.orig_p!==void 0?$.orig_p:$.pos;var ce=l+"Spike";r.spikeDistance=V($)*b/L,r[ce]=M.c2p($.pos,!0);var Q=c.boxmean||c.sizemode==="sd"||(c.meanline||{}).visible,Z=c.boxpoints||c.points,K=Z&&Q?["max","uf","q3","med","mean","q1","lf","min"]:Z&&!Q?["max","uf","q3","med","q1","lf","min"]:!Z&&Q?["max","q3","med","mean","q1","min"]:["max","q3","med","q1","min"],J=S.range[1]<S.range[0];c.orientation===(J?"v":"h")&&K.reverse();for(var re=r.spikeDistance,le=r[ce],q=[],ee=0;ee<K.length;ee++){var ue=K[ee];if(ue in $){var se=$[ue],he=S.c2p(se,!0),me=R.extendFlat({},r);me.attr=ue,me[p+"0"]=me[p+"1"]=he,me[p+"LabelVal"]=se,me[p+"Label"]=(A.labels?A.labels[ue]+" ":"")+g.hoverLabelText(S,se,c[p+"hoverformat"]),me.hoverOnBox=!0,ue==="mean"&&"sd"in $&&(c.boxmean==="sd"||c.sizemode==="sd")&&(me[p+"err"]=$.sd),me.hovertemplate=!1,q.push(me)}}r.name="",r.spikeDistance=void 0,r[ce]=void 0;for(var Ce=0;Ce<q.length;Ce++)q[Ce].attr!=="med"?(q[Ce].name="",q[Ce].spikeDistance=void 0,q[Ce][ce]=void 0):(q[Ce].spikeDistance=re,q[Ce][ce]=le);return q}function t(r,s,n){for(var o=r.cd,f=r.xa,u=r.ya,m=o[0].trace,c=f.c2p(s),A=u.c2p(n),h,l=function(U){var F=Math.max(3,U.mrc||0);return Math.max(Math.abs(f.c2p(U.x)-c)-F,1-3/F)},p=function(U){var F=Math.max(3,U.mrc||0);return Math.max(Math.abs(u.c2p(U.y)-A)-F,1-3/F)},M=a.quadrature(l,p),S=!1,P,x,E=0;E<o.length;E++){P=o[E];for(var w=0;w<(P.pts||[]).length;w++){x=P.pts[w];var i=M(x);i<=r.distance&&(r.distance=i,S=[E,w])}}if(!S)return!1;P=o[S[0]],x=P.pts[S[1]];var L=f.c2p(x.x,!0),b=u.c2p(x.y,!0),O=x.mrc||1;h=R.extendFlat({},r,{index:x.i,color:(m.marker||{}).color,name:m.name,x0:L-O,x1:L+O,y0:b-O,y1:b+O,spikeDistance:r.distance,hovertemplate:m.hovertemplate});var _=P.orig_p,N=_!==void 0?_:P.pos,z;m.orientation==="h"?(z=u,h.xLabelVal=x.x,h.yLabelVal=N):(z=f,h.xLabelVal=N,h.yLabelVal=x.y);var B=z._id.charAt(0);return h[B+"Spike"]=z.c2p(P.pos,!0),T(x,m,h),h}W.exports={hoverPoints:v,hoverOnBoxes:y,hoverOnPoints:t}},83832:function(W,H,e){W.exports={attributes:e(53522),layoutAttributes:e(40094),supplyDefaults:e(36411).supplyDefaults,crossTraceDefaults:e(36411).crossTraceDefaults,supplyLayoutDefaults:e(4199).supplyLayoutDefaults,calc:e(48518),crossTraceCalc:e(37188).crossTraceCalc,plot:e(86047).plot,style:e(58063).style,styleOnSelect:e(58063).styleOnSelect,hoverPoints:e(41868).hoverPoints,eventData:e(74907),selectPoints:e(24626),moduleType:"trace",name:"box",basePlotModule:e(93612),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","boxLayout","zoomScale"],meta:{}}},40094:function(W){W.exports={boxmode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},boxgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"},boxgroupgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"}}},4199:function(W,H,e){var g=e(73972),R=e(71828),a=e(40094);function C(v,y,t,r,s){for(var n=s+"Layout",o=!1,f=0;f<t.length;f++){var u=t[f];if(g.traceIs(u,n)){o=!0;break}}o&&(r(s+"mode"),r(s+"gap"),r(s+"groupgap"))}function T(v,y,t){function r(s,n){return R.coerce(v,y,a,s,n)}C(v,y,t,r,"box")}W.exports={supplyLayoutDefaults:T,_supply:C}},86047:function(W,H,e){var g=e(39898),R=e(71828),a=e(91424),C=5,T=.01;function v(s,n,o,f){var u=s._context.staticPlot,m=n.xaxis,c=n.yaxis;R.makeTraceGroups(f,o,"trace boxes").each(function(A){var h=g.select(this),l=A[0],p=l.t,M=l.trace;if(p.wdPos=p.bdPos*M.whiskerwidth,M.visible!==!0||p.empty){h.remove();return}var S,P;M.orientation==="h"?(S=c,P=m):(S=m,P=c),y(h,{pos:S,val:P},M,p,u),t(h,{x:m,y:c},M,p),r(h,{pos:S,val:P},M,p)})}function y(s,n,o,f,u){var m=o.orientation==="h",c=n.val,A=n.pos,h=!!A.rangebreaks,l=f.bPos,p=f.wdPos||0,M=f.bPosPxOffset||0,S=o.whiskerwidth||0,P=o.showwhiskers!==!1,x=o.notched||!1,E=x?1-2*o.notchwidth:1,w,i;Array.isArray(f.bdPos)?(w=f.bdPos[0],i=f.bdPos[1]):(w=f.bdPos,i=f.bdPos);var L=s.selectAll("path.box").data(o.type!=="violin"||o.box.visible?R.identity:[]);L.enter().append("path").style("vector-effect",u?"none":"non-scaling-stroke").attr("class","box"),L.exit().remove(),L.each(function(b){if(b.empty)return g.select(this).attr("d","M0,0Z");var O=A.c2l(b.pos+l,!0),_=A.l2p(O-w)+M,N=A.l2p(O+i)+M,z=h?(_+N)/2:A.l2p(O)+M,B=o.whiskerwidth,U=h?_*B+(1-B)*z:A.l2p(O-p)+M,F=h?N*B+(1-B)*z:A.l2p(O+p)+M,V=A.l2p(O-w*E)+M,j=A.l2p(O+i*E)+M,$=o.sizemode==="sd",ne=c.c2p($?b.mean-b.sd:b.q1,!0),oe=$?c.c2p(b.mean+b.sd,!0):c.c2p(b.q3,!0),ce=R.constrain($?c.c2p(b.mean,!0):c.c2p(b.med,!0),Math.min(ne,oe)+1,Math.max(ne,oe)-1),Q=b.lf===void 0||o.boxpoints===!1||$,Z=c.c2p(Q?b.min:b.lf,!0),K=c.c2p(Q?b.max:b.uf,!0),J=c.c2p(b.ln,!0),re=c.c2p(b.un,!0);m?g.select(this).attr("d","M"+ce+","+V+"V"+j+"M"+ne+","+_+"V"+N+(x?"H"+J+"L"+ce+","+j+"L"+re+","+N:"")+"H"+oe+"V"+_+(x?"H"+re+"L"+ce+","+V+"L"+J+","+_:"")+"Z"+(P?"M"+ne+","+z+"H"+Z+"M"+oe+","+z+"H"+K+(S===0?"":"M"+Z+","+U+"V"+F+"M"+K+","+U+"V"+F):"")):g.select(this).attr("d","M"+V+","+ce+"H"+j+"M"+_+","+ne+"H"+N+(x?"V"+J+"L"+j+","+ce+"L"+N+","+re:"")+"V"+oe+"H"+_+(x?"V"+re+"L"+V+","+ce+"L"+_+","+J:"")+"Z"+(P?"M"+z+","+ne+"V"+Z+"M"+z+","+oe+"V"+K+(S===0?"":"M"+U+","+Z+"H"+F+"M"+U+","+K+"H"+F):""))})}function t(s,n,o,f){var u=n.x,m=n.y,c=f.bdPos,A=f.bPos,h=o.boxpoints||o.points;R.seedPseudoRandom();var l=function(S){return S.forEach(function(P){P.t=f,P.trace=o}),S},p=s.selectAll("g.points").data(h?l:[]);p.enter().append("g").attr("class","points"),p.exit().remove();var M=p.selectAll("path").data(function(S){var P,x=S.pts2,E=Math.max((S.max-S.min)/10,S.q3-S.q1),w=E*1e-9,i=E*T,L=[],b=0,O;if(o.jitter){if(E===0)for(b=1,L=new Array(x.length),P=0;P<x.length;P++)L[P]=1;else for(P=0;P<x.length;P++){var _=Math.max(0,P-C),N=x[_].v,z=Math.min(x.length-1,P+C),B=x[z].v;h!=="all"&&(x[P].v<S.lf?B=Math.min(B,S.lf):N=Math.max(N,S.uf));var U=Math.sqrt(i*(z-_)/(B-N+w))||0;U=R.constrain(Math.abs(U),0,1),L.push(U),b=Math.max(U,b)}O=o.jitter*2/(b||1)}for(P=0;P<x.length;P++){var F=x[P],V=F.v,j=o.jitter?O*L[P]*(R.pseudoRandom()-.5):0,$=S.pos+A+c*(o.pointpos+j);o.orientation==="h"?(F.y=$,F.x=V):(F.x=$,F.y=V),h==="suspectedoutliers"&&V<S.uo&&V>S.lo&&(F.so=!0)}return x});M.enter().append("path").classed("point",!0),M.exit().remove(),M.call(a.translatePoints,u,m)}function r(s,n,o,f){var u=n.val,m=n.pos,c=!!m.rangebreaks,A=f.bPos,h=f.bPosPxOffset||0,l=o.boxmean||(o.meanline||{}).visible,p,M;Array.isArray(f.bdPos)?(p=f.bdPos[0],M=f.bdPos[1]):(p=f.bdPos,M=f.bdPos);var S=s.selectAll("path.mean").data(o.type==="box"&&o.boxmean||o.type==="violin"&&o.box.visible&&o.meanline.visible?R.identity:[]);S.enter().append("path").attr("class","mean").style({fill:"none","vector-effect":"non-scaling-stroke"}),S.exit().remove(),S.each(function(P){var x=m.c2l(P.pos+A,!0),E=m.l2p(x-p)+h,w=m.l2p(x+M)+h,i=c?(E+w)/2:m.l2p(x)+h,L=u.c2p(P.mean,!0),b=u.c2p(P.mean-P.sd,!0),O=u.c2p(P.mean+P.sd,!0);o.orientation==="h"?g.select(this).attr("d","M"+L+","+E+"V"+w+(l==="sd"?"m0,0L"+b+","+i+"L"+L+","+E+"L"+O+","+i+"Z":"")):g.select(this).attr("d","M"+E+","+L+"H"+w+(l==="sd"?"m0,0L"+i+","+b+"L"+E+","+L+"L"+i+","+O+"Z":""))})}W.exports={plot:v,plotBoxAndWhiskers:y,plotPoints:t,plotBoxMean:r}},24626:function(W){W.exports=function(e,g){var R=e.cd,a=e.xaxis,C=e.yaxis,T=[],v,y;if(g===!1)for(v=0;v<R.length;v++)for(y=0;y<(R[v].pts||[]).length;y++)R[v].pts[y].selected=0;else for(v=0;v<R.length;v++)for(y=0;y<(R[v].pts||[]).length;y++){var t=R[v].pts[y],r=a.c2p(t.x),s=C.c2p(t.y);g.contains([r,s],null,t.i,e)?(T.push({pointNumber:t.i,x:a.c2d(t.x),y:C.c2d(t.y)}),t.selected=1):t.selected=0}return T}},58063:function(W,H,e){var g=e(39898),R=e(7901),a=e(91424);function C(v,y,t){var r=t||g.select(v).selectAll("g.trace.boxes");r.style("opacity",function(s){return s[0].trace.opacity}),r.each(function(s){var n=g.select(this),o=s[0].trace,f=o.line.width;function u(A,h,l,p){A.style("stroke-width",h+"px").call(R.stroke,l).call(R.fill,p)}var m=n.selectAll("path.box");if(o.type==="candlestick")m.each(function(A){if(!A.empty){var h=g.select(this),l=o[A.dir];u(h,l.line.width,l.line.color,l.fillcolor),h.style("opacity",o.selectedpoints&&!A.selected?.3:1)}});else{u(m,f,o.line.color,o.fillcolor),n.selectAll("path.mean").style({"stroke-width":f,"stroke-dasharray":2*f+"px,"+f+"px"}).call(R.stroke,o.line.color);var c=n.selectAll("path.point");a.pointStyle(c,o,v)}})}function T(v,y,t){var r=y[0].trace,s=t.selectAll("path.point");r.selectedpoints?a.selectedPointStyle(s,r):a.pointStyle(s,r,v)}W.exports={style:C,styleOnSelect:T}},75343:function(W,H,e){var g=e(71828).extendFlat,R=e(12663).axisHoverFormat,a=e(2522),C=e(53522);function T(v){return{line:{color:g({},C.line.color,{dflt:v}),width:C.line.width,editType:"style"},fillcolor:C.fillcolor,editType:"style"}}W.exports={xperiod:a.xperiod,xperiod0:a.xperiod0,xperiodalignment:a.xperiodalignment,xhoverformat:R("x"),yhoverformat:R("y"),x:a.x,open:a.open,high:a.high,low:a.low,close:a.close,line:{width:g({},C.line.width,{}),editType:"style"},increasing:T(a.increasing.line.color.dflt),decreasing:T(a.decreasing.line.color.dflt),text:a.text,hovertext:a.hovertext,whiskerwidth:g({},C.whiskerwidth,{dflt:0}),hoverlabel:a.hoverlabel}},41197:function(W,H,e){var g=e(71828),R=e(89298),a=e(42973),C=e(3485).calcCommon;W.exports=function(v,y){var t=v._fullLayout,r=R.getFromId(v,y.xaxis),s=R.getFromId(v,y.yaxis),n=r.makeCalcdata(y,"x"),o=a(y,r,"x",n).vals,f=C(v,y,n,o,s,T);return f.length?(g.extendFlat(f[0].t,{num:t._numBoxes,dPos:g.distinctVals(o).minDiff/2,posLetter:"x",valLetter:"y"}),t._numBoxes++,f):[{t:{empty:!0}}]};function T(v,y,t,r){return{min:t,q1:Math.min(v,r),med:r,q3:Math.max(v,r),max:y}}},1026:function(W,H,e){var g=e(71828),R=e(7901),a=e(14555),C=e(73927),T=e(75343);W.exports=function(t,r,s,n){function o(u,m){return g.coerce(t,r,T,u,m)}var f=a(t,r,o,n);if(!f){r.visible=!1;return}C(t,r,n,o,{x:!0}),o("xhoverformat"),o("yhoverformat"),o("line.width"),v(t,r,o,"increasing"),v(t,r,o,"decreasing"),o("text"),o("hovertext"),o("whiskerwidth"),n._requestRangeslider[r.xaxis]=!0};function v(y,t,r,s){var n=r(s+".line.color");r(s+".line.width",t.line.width),r(s+".fillcolor",R.addOpacity(n,.5))}},91815:function(W,H,e){W.exports={moduleType:"trace",name:"candlestick",basePlotModule:e(93612),categories:["cartesian","svg","showLegend","candlestick","boxLayout"],meta:{},attributes:e(75343),layoutAttributes:e(40094),supplyLayoutDefaults:e(4199).supplyLayoutDefaults,crossTraceCalc:e(37188).crossTraceCalc,supplyDefaults:e(1026),calc:e(41197),plot:e(86047).plot,layerName:"boxlayer",style:e(58063).style,hoverPoints:e(66449).hoverPoints,selectPoints:e(67324)}},13145:function(W,H,e){var g=e(11500),R=e(44467);W.exports=function(T,v,y,t,r){var s=t("a");s||(t("da"),t("a0"));var n=t("b");n||(t("db"),t("b0")),a(T,v,y,r)};function a(C,T,v,y){var t=["aaxis","baxis"];t.forEach(function(r){var s=r.charAt(0),n=C[r]||{},o=R.newContainer(T,r),f={noTicklabelstep:!0,tickfont:"x",id:s+"axis",letter:s,font:T.font,name:r,data:C[s],calendar:T.calendar,dfltColor:y,bgColor:v.paper_bgcolor,autotypenumbersDflt:v.autotypenumbers,fullLayout:v};g(n,o,f),o._categories=o._categories||[],!C[r]&&n.type!=="-"&&(C[r]={type:n.type})})}},402:function(W,H,e){var g=e(71828).isArrayOrTypedArray;W.exports=function(a){return R(a,0)};function R(a,C){if(!g(a)||C>=10)return null;for(var T=1/0,v=-1/0,y=a.length,t=0;t<y;t++){var r=a[t];if(g(r)){var s=R(r,C+1);s&&(T=Math.min(s[0],T),v=Math.max(s[1],v))}else T=Math.min(r,T),v=Math.max(r,v)}return[T,v]}},99798:function(W,H,e){var g=e(41940),R=e(1928),a=e(22399),C=g({editType:"calc"});C.family.dflt='"Open Sans", verdana, arial, sans-serif',C.size.dflt=12,C.color.dflt=a.defaultLine,W.exports={carpet:{valType:"string",editType:"calc"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},a:{valType:"data_array",editType:"calc"},a0:{valType:"number",dflt:0,editType:"calc"},da:{valType:"number",dflt:1,editType:"calc"},b:{valType:"data_array",editType:"calc"},b0:{valType:"number",dflt:0,editType:"calc"},db:{valType:"number",dflt:1,editType:"calc"},cheaterslope:{valType:"number",dflt:1,editType:"calc"},aaxis:R,baxis:R,font:C,color:{valType:"color",dflt:a.defaultLine,editType:"plot"},transforms:void 0}},4536:function(W,H,e){var g=e(71828).isArrayOrTypedArray;W.exports=function(R,a,C,T){var v,y,t,r,s,n,o,f,u,m,c,A,h,l=g(C)?"a":"b",p=l==="a"?R.aaxis:R.baxis,M=p.smoothing,S=l==="a"?R.a2i:R.b2j,P=l==="a"?C:T,x=l==="a"?T:C,E=l==="a"?a.a.length:a.b.length,w=l==="a"?a.b.length:a.a.length,i=Math.floor(l==="a"?R.b2j(x):R.a2i(x)),L=l==="a"?function(ne){return R.evalxy([],ne,i)}:function(ne){return R.evalxy([],i,ne)};M&&(t=Math.max(0,Math.min(w-2,i)),r=i-t,y=l==="a"?function(ne,oe){return R.dxydi([],ne,t,oe,r)}:function(ne,oe){return R.dxydj([],t,ne,r,oe)});var b=S(P[0]),O=S(P[1]),_=b<O?1:-1,N=(O-b)*1e-8,z=_>0?Math.floor:Math.ceil,B=_>0?Math.ceil:Math.floor,U=_>0?Math.min:Math.max,F=_>0?Math.max:Math.min,V=z(b+N),j=B(O-N);o=L(b);var $=[[o]];for(v=V;v*_<j*_;v+=_)s=[],c=F(b,v),A=U(O,v+_),h=A-c,n=Math.max(0,Math.min(E-2,Math.floor(.5*(c+A)))),f=L(A),M&&(u=y(n,c-n),m=y(n,A-n),s.push([o[0]+u[0]/3*h,o[1]+u[1]/3*h]),s.push([f[0]-m[0]/3*h,f[1]-m[1]/3*h])),s.push(f),$.push(s),o=f;return $}},1928:function(W,H,e){var g=e(41940),R=e(22399),a=e(13838),C=e(12663).descriptionWithDates,T=e(30962).overrideAll,v=e(79952).P,y=e(1426).extendFlat;W.exports={color:{valType:"color",editType:"calc"},smoothing:{valType:"number",dflt:1,min:0,max:1.3,editType:"calc"},title:{text:{valType:"string",dflt:"",editType:"calc"},font:g({editType:"calc"}),offset:{valType:"number",dflt:10,editType:"calc"},editType:"calc"},type:{valType:"enumerated",values:["-","linear","date","category"],dflt:"-",editType:"calc"},autotypenumbers:a.autotypenumbers,autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"calc"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"calc"},range:{valType:"info_array",editType:"calc",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}]},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},cheatertype:{valType:"enumerated",values:["index","value"],dflt:"value",editType:"calc"},tickmode:{valType:"enumerated",values:["linear","array"],dflt:"array",editType:"calc"},nticks:{valType:"integer",min:0,dflt:0,editType:"calc"},tickvals:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},showticklabels:{valType:"enumerated",values:["start","end","both","none"],dflt:"start",editType:"calc"},labelalias:y({},a.labelalias,{editType:"calc"}),tickfont:g({editType:"calc"}),tickangle:{valType:"angle",dflt:"auto",editType:"calc"},tickprefix:{valType:"string",dflt:"",editType:"calc"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},ticksuffix:{valType:"string",dflt:"",editType:"calc"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"calc"},minexponent:{valType:"number",dflt:3,min:0,editType:"calc"},separatethousands:{valType:"boolean",dflt:!1,editType:"calc"},tickformat:{valType:"string",dflt:"",editType:"calc",description:C("tick label")},tickformatstops:T(a.tickformatstops,"calc","from-root"),categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},labelpadding:{valType:"integer",dflt:10,editType:"calc"},labelprefix:{valType:"string",editType:"calc"},labelsuffix:{valType:"string",dflt:"",editType:"calc"},showline:{valType:"boolean",dflt:!1,editType:"calc"},linecolor:{valType:"color",dflt:R.defaultLine,editType:"calc"},linewidth:{valType:"number",min:0,dflt:1,editType:"calc"},gridcolor:{valType:"color",editType:"calc"},gridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},griddash:y({},v,{editType:"calc"}),showgrid:{valType:"boolean",dflt:!0,editType:"calc"},minorgridcount:{valType:"integer",min:0,dflt:0,editType:"calc"},minorgridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},minorgriddash:y({},v,{editType:"calc"}),minorgridcolor:{valType:"color",dflt:R.lightLine,editType:"calc"},startline:{valType:"boolean",editType:"calc"},startlinecolor:{valType:"color",editType:"calc"},startlinewidth:{valType:"number",dflt:1,editType:"calc"},endline:{valType:"boolean",editType:"calc"},endlinewidth:{valType:"number",dflt:1,editType:"calc"},endlinecolor:{valType:"color",editType:"calc"},tick0:{valType:"number",min:0,dflt:0,editType:"calc"},dtick:{valType:"number",min:0,dflt:1,editType:"calc"},arraytick0:{valType:"integer",min:0,dflt:0,editType:"calc"},arraydtick:{valType:"integer",min:1,dflt:1,editType:"calc"},_deprecated:{title:{valType:"string",editType:"calc"},titlefont:g({editType:"calc"}),titleoffset:{valType:"number",dflt:10,editType:"calc"}},editType:"calc"}},11500:function(W,H,e){var g=e(99798),R=e(7901).addOpacity,a=e(73972),C=e(71828),T=e(26218),v=e(96115),y=e(89426),t=e(15258),r=e(21994),s=e(4322);W.exports=function(f,u,m){var c=m.letter,A=m.font||{},h=g[c+"axis"];function l(V,j){return C.coerce(f,u,h,V,j)}function p(V,j){return C.coerce2(f,u,h,V,j)}m.name&&(u._name=m.name,u._id=m.name),l("autotypenumbers",m.autotypenumbersDflt);var M=l("type");if(M==="-"&&(m.data&&n(u,m.data),u.type==="-"?u.type="linear":M=f.type=u.type),l("smoothing"),l("cheatertype"),l("showticklabels"),l("labelprefix",c+" = "),l("labelsuffix"),l("showtickprefix"),l("showticksuffix"),l("separatethousands"),l("tickformat"),l("exponentformat"),l("minexponent"),l("showexponent"),l("categoryorder"),l("tickmode"),l("tickvals"),l("ticktext"),l("tick0"),l("dtick"),u.tickmode==="array"&&(l("arraytick0"),l("arraydtick")),l("labelpadding"),u._hovertitle=c,M==="date"){var S=a.getComponentMethod("calendars","handleDefaults");S(f,u,"calendar",m.calendar)}r(u,m.fullLayout),u.c2p=C.identity;var P=l("color",m.dfltColor),x=P===f.color?P:A.color,E=l("title.text");E&&(C.coerceFont(l,"title.font",{family:A.family,size:C.bigFont(A.size),color:x}),l("title.offset")),l("tickangle");var w=l("autorange",!u.isValidRange(f.range));w&&l("rangemode"),l("range"),u.cleanRange(),l("fixedrange"),T(f,u,l,M),y(f,u,l,M,m),v(f,u,l,M,m),t(f,u,l,{data:m.data,dataAttr:c});var i=p("gridcolor",R(P,.3)),L=p("gridwidth"),b=p("griddash"),O=l("showgrid");O||(delete u.gridcolor,delete u.gridwidth,delete u.griddash);var _=p("startlinecolor",P),N=p("startlinewidth",L),z=l("startline",u.showgrid||!!_||!!N);z||(delete u.startlinecolor,delete u.startlinewidth);var B=p("endlinecolor",P),U=p("endlinewidth",L),F=l("endline",u.showgrid||!!B||!!U);return F||(delete u.endlinecolor,delete u.endlinewidth),O?(l("minorgridcount"),l("minorgridwidth",L),l("minorgriddash",b),l("minorgridcolor",R(i,.06)),u.minorgridcount||(delete u.minorgridwidth,delete u.minorgriddash,delete u.minorgridcolor)):(delete u.gridcolor,delete u.gridwidth,delete u.griddash),u.showticklabels==="none"&&(delete u.tickfont,delete u.tickangle,delete u.showexponent,delete u.exponentformat,delete u.minexponent,delete u.tickformat,delete u.showticksuffix,delete u.showtickprefix),u.showticksuffix||delete u.ticksuffix,u.showtickprefix||delete u.tickprefix,l("tickmode"),u};function n(o,f){if(o.type==="-"){var u=o._id,m=u.charAt(0),c=m+"calendar",A=o[c];o.type=s(f,A,{autotypenumbers:o.autotypenumbers})}}},25281:function(W,H,e){var g=e(89298),R=e(71828).isArray1D,a=e(53824),C=e(402),T=e(20347),v=e(83311),y=e(44807),t=e(4742),r=e(72505),s=e(68296),n=e(11435);W.exports=function(f,u){var m=g.getFromId(f,u.xaxis),c=g.getFromId(f,u.yaxis),A=u.aaxis,h=u.baxis,l=u.x,p=u.y,M=[];l&&R(l)&&M.push("x"),p&&R(p)&&M.push("y"),M.length&&s(u,A,h,"a","b",M);var S=u._a=u._a||u.a,P=u._b=u._b||u.b;l=u._x||u.x,p=u._y||u.y;var x={};if(u._cheater){var E=A.cheatertype==="index"?S.length:S,w=h.cheatertype==="index"?P.length:P;l=a(E,w,u.cheaterslope)}u._x=l=t(l),u._y=p=t(p),r(l,S,P),r(p,S,P),n(u),u.setScale();var i=C(l),L=C(p),b=.5*(i[1]-i[0]),O=.5*(i[1]+i[0]),_=.5*(L[1]-L[0]),N=.5*(L[1]+L[0]),z=1.3;return i=[O-b*z,O+b*z],L=[N-_*z,N+_*z],u._extremes[m._id]=g.findExtremes(m,i,{padded:!0}),u._extremes[c._id]=g.findExtremes(c,L,{padded:!0}),T(u,"a","b"),T(u,"b","a"),v(u,A),v(u,h),x.clipsegments=y(u._xctrl,u._yctrl,A,h),x.x=l,x.y=p,x.a=S,x.b=P,[x]}},44807:function(W){W.exports=function(e,g,R,a){var C,T,v,y=[],t=!!R.smoothing,r=!!a.smoothing,s=e[0].length-1,n=e.length-1;for(C=0,T=[],v=[];C<=s;C++)T[C]=e[0][C],v[C]=g[0][C];for(y.push({x:T,y:v,bicubic:t}),C=0,T=[],v=[];C<=n;C++)T[C]=e[C][s],v[C]=g[C][s];for(y.push({x:T,y:v,bicubic:r}),C=s,T=[],v=[];C>=0;C--)T[s-C]=e[n][C],v[s-C]=g[n][C];for(y.push({x:T,y:v,bicubic:t}),C=n,T=[],v=[];C>=0;C--)T[n-C]=e[C][0],v[n-C]=g[C][0];return y.push({x:T,y:v,bicubic:r}),y}},20347:function(W,H,e){var g=e(89298),R=e(1426).extendFlat;W.exports=function(C,T,v){var y,t,r,s,n,o,f,u,m,c,A,h,l,p,M=C["_"+T],S=C[T+"axis"],P=S._gridlines=[],x=S._minorgridlines=[],E=S._boundarylines=[],w=C["_"+v],i=C[v+"axis"];S.tickmode==="array"&&(S.tickvals=M.slice());var L=C._xctrl,b=C._yctrl,O=L[0].length,_=L.length,N=C._a.length,z=C._b.length;g.prepTicks(S),S.tickmode==="array"&&delete S.tickvals;var B=S.smoothing?3:1;function U(V){var j,$,ne,oe,ce,Q,Z,K,J,re,le,q,ee=[],ue=[],se={};if(T==="b")for($=C.b2j(V),ne=Math.floor(Math.max(0,Math.min(z-2,$))),oe=$-ne,se.length=z,se.crossLength=N,se.xy=function(he){return C.evalxy([],he,$)},se.dxy=function(he,me){return C.dxydi([],he,ne,me,oe)},j=0;j<N;j++)Q=Math.min(N-2,j),Z=j-Q,K=C.evalxy([],j,$),i.smoothing&&j>0&&(J=C.dxydi([],j-1,ne,0,oe),ee.push(ce[0]+J[0]/3),ue.push(ce[1]+J[1]/3),re=C.dxydi([],j-1,ne,1,oe),ee.push(K[0]-re[0]/3),ue.push(K[1]-re[1]/3)),ee.push(K[0]),ue.push(K[1]),ce=K;else for(j=C.a2i(V),Q=Math.floor(Math.max(0,Math.min(N-2,j))),Z=j-Q,se.length=N,se.crossLength=z,se.xy=function(he){return C.evalxy([],j,he)},se.dxy=function(he,me){return C.dxydj([],Q,he,Z,me)},$=0;$<z;$++)ne=Math.min(z-2,$),oe=$-ne,K=C.evalxy([],j,$),i.smoothing&&$>0&&(le=C.dxydj([],Q,$-1,Z,0),ee.push(ce[0]+le[0]/3),ue.push(ce[1]+le[1]/3),q=C.dxydj([],Q,$-1,Z,1),ee.push(K[0]-q[0]/3),ue.push(K[1]-q[1]/3)),ee.push(K[0]),ue.push(K[1]),ce=K;return se.axisLetter=T,se.axis=S,se.crossAxis=i,se.value=V,se.constvar=v,se.index=u,se.x=ee,se.y=ue,se.smoothing=i.smoothing,se}function F(V){var j,$,ne,oe,ce,Q=[],Z=[],K={};if(K.length=M.length,K.crossLength=w.length,T==="b")for(ne=Math.max(0,Math.min(z-2,V)),ce=Math.min(1,Math.max(0,V-ne)),K.xy=function(J){return C.evalxy([],J,V)},K.dxy=function(J,re){return C.dxydi([],J,ne,re,ce)},j=0;j<O;j++)Q[j]=L[V*B][j],Z[j]=b[V*B][j];else for($=Math.max(0,Math.min(N-2,V)),oe=Math.min(1,Math.max(0,V-$)),K.xy=function(J){return C.evalxy([],V,J)},K.dxy=function(J,re){return C.dxydj([],$,J,oe,re)},j=0;j<_;j++)Q[j]=L[j][V*B],Z[j]=b[j][V*B];return K.axisLetter=T,K.axis=S,K.crossAxis=i,K.value=M[V],K.constvar=v,K.index=V,K.x=Q,K.y=Z,K.smoothing=i.smoothing,K}if(S.tickmode==="array"){for(s=5e-15,n=[Math.floor((M.length-1-S.arraytick0)/S.arraydtick*(1+s)),Math.ceil(-S.arraytick0/S.arraydtick/(1+s))].sort(function(V,j){return V-j}),o=n[0]-1,f=n[1]+1,u=o;u<f;u++)t=S.arraytick0+S.arraydtick*u,!(t<0||t>M.length-1)&&P.push(R(F(t),{color:S.gridcolor,width:S.gridwidth,dash:S.griddash}));for(u=o;u<f;u++)if(r=S.arraytick0+S.arraydtick*u,A=Math.min(r+S.arraydtick,M.length-1),!(r<0||r>M.length-1)&&!(A<0||A>M.length-1))for(h=M[r],l=M[A],y=0;y<S.minorgridcount;y++)p=A-r,!(p<=0)&&(c=h+(l-h)*(y+1)/(S.minorgridcount+1)*(S.arraydtick/p),!(c<M[0]||c>M[M.length-1])&&x.push(R(U(c),{color:S.minorgridcolor,width:S.minorgridwidth,dash:S.minorgriddash})));S.startline&&E.push(R(F(0),{color:S.startlinecolor,width:S.startlinewidth})),S.endline&&E.push(R(F(M.length-1),{color:S.endlinecolor,width:S.endlinewidth}))}else{for(s=5e-15,n=[Math.floor((M[M.length-1]-S.tick0)/S.dtick*(1+s)),Math.ceil((M[0]-S.tick0)/S.dtick/(1+s))].sort(function(V,j){return V-j}),o=n[0],f=n[1],u=o;u<=f;u++)m=S.tick0+S.dtick*u,P.push(R(U(m),{color:S.gridcolor,width:S.gridwidth,dash:S.griddash}));for(u=o-1;u<f+1;u++)for(m=S.tick0+S.dtick*u,y=0;y<S.minorgridcount;y++)c=m+S.dtick*(y+1)/(S.minorgridcount+1),!(c<M[0]||c>M[M.length-1])&&x.push(R(U(c),{color:S.minorgridcolor,width:S.minorgridwidth,dash:S.minorgriddash}));S.startline&&E.push(R(U(M[0]),{color:S.startlinecolor,width:S.startlinewidth})),S.endline&&E.push(R(U(M[M.length-1]),{color:S.endlinecolor,width:S.endlinewidth}))}}},83311:function(W,H,e){var g=e(89298),R=e(1426).extendFlat;W.exports=function(C,T){var v,y,t,r,s,n=T._labels=[],o=T._gridlines;for(v=0;v<o.length;v++)s=o[v],["start","both"].indexOf(T.showticklabels)!==-1&&(y=g.tickText(T,s.value),R(y,{prefix:t,suffix:r,endAnchor:!0,xy:s.xy(0),dxy:s.dxy(0,0),axis:s.axis,length:s.crossAxis.length,font:s.axis.tickfont,isFirst:v===0,isLast:v===o.length-1}),n.push(y)),["end","both"].indexOf(T.showticklabels)!==-1&&(y=g.tickText(T,s.value),R(y,{endAnchor:!1,xy:s.xy(s.crossLength-1),dxy:s.dxy(s.crossLength-2,1),axis:s.axis,length:s.crossAxis.length,font:s.axis.tickfont,isFirst:v===0,isLast:v===o.length-1}),n.push(y))}},42048:function(W){var H=.5;W.exports=function(g,R,a,C){var T=g[0]-R[0],v=g[1]-R[1],y=a[0]-R[0],t=a[1]-R[1],r=Math.pow(T*T+v*v,H/2),s=Math.pow(y*y+t*t,H/2),n=(s*s*T-r*r*y)*C,o=(s*s*v-r*r*t)*C,f=s*(r+s)*3,u=r*(r+s)*3;return[[R[0]+(f&&n/f),R[1]+(f&&o/f)],[R[0]-(u&&n/u),R[1]-(u&&o/u)]]}},53824:function(W,H,e){var g=e(71828).isArrayOrTypedArray;W.exports=function(R,a,C){var T,v,y,t,r,s,n=[],o=g(R)?R.length:R,f=g(a)?a.length:a,u=g(R)?R:null,m=g(a)?a:null;u&&(y=(u.length-1)/(u[u.length-1]-u[0])/(o-1)),m&&(t=(m.length-1)/(m[m.length-1]-m[0])/(f-1));var c,A=1/0,h=-1/0;for(v=0;v<f;v++)for(n[v]=[],s=m?(m[v]-m[0])*t:v/(f-1),T=0;T<o;T++)r=u?(u[T]-u[0])*y:T/(o-1),c=r-s*C,A=Math.min(c,A),h=Math.max(c,h),n[v][T]=c;var l=1/(h-A),p=-A*l;for(v=0;v<f;v++)for(T=0;T<o;T++)n[v][T]=l*n[v][T]+p;return n}},45664:function(W,H,e){var g=e(42048),R=e(71828).ensureArray;function a(C,T,v){var y=-.5*v[0]+1.5*T[0],t=-.5*v[1]+1.5*T[1];return[(2*y+C[0])/3,(2*t+C[1])/3]}W.exports=function(T,v,y,t,r,s){var n,o,f,u,m,c,A,h,l,p,M=y[0].length,S=y.length,P=r?3*M-2:M,x=s?3*S-2:S;for(T=R(T,x),v=R(v,x),f=0;f<x;f++)T[f]=R(T[f],P),v[f]=R(v[f],P);for(o=0,u=0;o<S;o++,u+=s?3:1)for(m=T[u],c=v[u],A=y[o],h=t[o],n=0,f=0;n<M;n++,f+=r?3:1)m[f]=A[n],c[f]=h[n];if(r)for(o=0,u=0;o<S;o++,u+=s?3:1){for(n=1,f=3;n<M-1;n++,f+=3)l=g([y[o][n-1],t[o][n-1]],[y[o][n],t[o][n]],[y[o][n+1],t[o][n+1]],r),T[u][f-1]=l[0][0],v[u][f-1]=l[0][1],T[u][f+1]=l[1][0],v[u][f+1]=l[1][1];p=a([T[u][0],v[u][0]],[T[u][2],v[u][2]],[T[u][3],v[u][3]]),T[u][1]=p[0],v[u][1]=p[1],p=a([T[u][P-1],v[u][P-1]],[T[u][P-3],v[u][P-3]],[T[u][P-4],v[u][P-4]]),T[u][P-2]=p[0],v[u][P-2]=p[1]}if(s)for(f=0;f<P;f++){for(u=3;u<x-3;u+=3)l=g([T[u-3][f],v[u-3][f]],[T[u][f],v[u][f]],[T[u+3][f],v[u+3][f]],s),T[u-1][f]=l[0][0],v[u-1][f]=l[0][1],T[u+1][f]=l[1][0],v[u+1][f]=l[1][1];p=a([T[0][f],v[0][f]],[T[2][f],v[2][f]],[T[3][f],v[3][f]]),T[1][f]=p[0],v[1][f]=p[1],p=a([T[x-1][f],v[x-1][f]],[T[x-3][f],v[x-3][f]],[T[x-4][f],v[x-4][f]]),T[x-2][f]=p[0],v[x-2][f]=p[1]}if(r&&s)for(u=1;u<x;u+=(u+1)%3===0?2:1){for(f=3;f<P-3;f+=3)l=g([T[u][f-3],v[u][f-3]],[T[u][f],v[u][f]],[T[u][f+3],v[u][f+3]],r),T[u][f-1]=.5*(T[u][f-1]+l[0][0]),v[u][f-1]=.5*(v[u][f-1]+l[0][1]),T[u][f+1]=.5*(T[u][f+1]+l[1][0]),v[u][f+1]=.5*(v[u][f+1]+l[1][1]);p=a([T[u][0],v[u][0]],[T[u][2],v[u][2]],[T[u][3],v[u][3]]),T[u][1]=.5*(T[u][1]+p[0]),v[u][1]=.5*(v[u][1]+p[1]),p=a([T[u][P-1],v[u][P-1]],[T[u][P-3],v[u][P-3]],[T[u][P-4],v[u][P-4]]),T[u][P-2]=.5*(T[u][P-2]+p[0]),v[u][P-2]=.5*(v[u][P-2]+p[1])}return[T,v]}},35509:function(W){W.exports={RELATIVE_CULL_TOLERANCE:1e-6}},54495:function(W){W.exports=function(H,e,g){return e&&g?function(R,a,C,T,v){R||(R=[]);var y,t,r,s,n,o;a*=3,C*=3;var f=T*T,u=1-T,m=u*u,c=u*T*2,A=-3*m,h=3*(m-c),l=3*(c-f),p=3*f,M=v*v,S=M*v,P=1-v,x=P*P,E=x*P;for(o=0;o<H.length;o++)n=H[o],y=A*n[C][a]+h*n[C][a+1]+l*n[C][a+2]+p*n[C][a+3],t=A*n[C+1][a]+h*n[C+1][a+1]+l*n[C+1][a+2]+p*n[C+1][a+3],r=A*n[C+2][a]+h*n[C+2][a+1]+l*n[C+2][a+2]+p*n[C+2][a+3],s=A*n[C+3][a]+h*n[C+3][a+1]+l*n[C+3][a+2]+p*n[C+3][a+3],R[o]=E*y+3*(x*v*t+P*M*r)+S*s;return R}:e?function(R,a,C,T,v){R||(R=[]);var y,t,r,s;a*=3;var n=T*T,o=1-T,f=o*o,u=o*T*2,m=-3*f,c=3*(f-u),A=3*(u-n),h=3*n,l=1-v;for(r=0;r<H.length;r++)s=H[r],y=m*s[C][a]+c*s[C][a+1]+A*s[C][a+2]+h*s[C][a+3],t=m*s[C+1][a]+c*s[C+1][a+1]+A*s[C+1][a+2]+h*s[C+1][a+3],R[r]=l*y+v*t;return R}:g?function(R,a,C,T,v){R||(R=[]);var y,t,r,s,n,o;C*=3;var f=v*v,u=f*v,m=1-v,c=m*m,A=c*m;for(n=0;n<H.length;n++)o=H[n],y=o[C][a+1]-o[C][a],t=o[C+1][a+1]-o[C+1][a],r=o[C+2][a+1]-o[C+2][a],s=o[C+3][a+1]-o[C+3][a],R[n]=A*y+3*(c*v*t+m*f*r)+u*s;return R}:function(R,a,C,T,v){R||(R=[]);var y,t,r,s,n=1-v;for(r=0;r<H.length;r++)s=H[r],y=s[C][a+1]-s[C][a],t=s[C+1][a+1]-s[C+1][a],R[r]=n*y+v*t;return R}}},73057:function(W){W.exports=function(H,e,g){return e&&g?function(R,a,C,T,v){R||(R=[]);var y,t,r,s,n,o;a*=3,C*=3;var f=T*T,u=f*T,m=1-T,c=m*m,A=c*m,h=v*v,l=1-v,p=l*l,M=l*v*2,S=-3*p,P=3*(p-M),x=3*(M-h),E=3*h;for(o=0;o<H.length;o++)n=H[o],y=S*n[C][a]+P*n[C+1][a]+x*n[C+2][a]+E*n[C+3][a],t=S*n[C][a+1]+P*n[C+1][a+1]+x*n[C+2][a+1]+E*n[C+3][a+1],r=S*n[C][a+2]+P*n[C+1][a+2]+x*n[C+2][a+2]+E*n[C+3][a+2],s=S*n[C][a+3]+P*n[C+1][a+3]+x*n[C+2][a+3]+E*n[C+3][a+3],R[o]=A*y+3*(c*T*t+m*f*r)+u*s;return R}:e?function(R,a,C,T,v){R||(R=[]);var y,t,r,s,n,o;a*=3;var f=v*v,u=f*v,m=1-v,c=m*m,A=c*m;for(n=0;n<H.length;n++)o=H[n],y=o[C+1][a]-o[C][a],t=o[C+1][a+1]-o[C][a+1],r=o[C+1][a+2]-o[C][a+2],s=o[C+1][a+3]-o[C][a+3],R[n]=A*y+3*(c*v*t+m*f*r)+u*s;return R}:g?function(R,a,C,T,v){R||(R=[]);var y,t,r,s;C*=3;var n=1-T,o=v*v,f=1-v,u=f*f,m=f*v*2,c=-3*u,A=3*(u-m),h=3*(m-o),l=3*o;for(r=0;r<H.length;r++)s=H[r],y=c*s[C][a]+A*s[C+1][a]+h*s[C+2][a]+l*s[C+3][a],t=c*s[C][a+1]+A*s[C+1][a+1]+h*s[C+2][a+1]+l*s[C+3][a+1],R[r]=n*y+T*t;return R}:function(R,a,C,T,v){R||(R=[]);var y,t,r,s,n=1-T;for(r=0;r<H.length;r++)s=H[r],y=s[C+1][a]-s[C][a],t=s[C+1][a+1]-s[C][a+1],R[r]=n*y+T*t;return R}}},20349:function(W){W.exports=function(H,e,g,R,a){var C=e-2,T=g-2;return R&&a?function(v,y,t){v||(v=[]);var r,s,n,o,f,u,m=Math.max(0,Math.min(Math.floor(y),C)),c=Math.max(0,Math.min(Math.floor(t),T)),A=Math.max(0,Math.min(1,y-m)),h=Math.max(0,Math.min(1,t-c));m*=3,c*=3;var l=A*A,p=l*A,M=1-A,S=M*M,P=S*M,x=h*h,E=x*h,w=1-h,i=w*w,L=i*w;for(u=0;u<H.length;u++)f=H[u],r=P*f[c][m]+3*(S*A*f[c][m+1]+M*l*f[c][m+2])+p*f[c][m+3],s=P*f[c+1][m]+3*(S*A*f[c+1][m+1]+M*l*f[c+1][m+2])+p*f[c+1][m+3],n=P*f[c+2][m]+3*(S*A*f[c+2][m+1]+M*l*f[c+2][m+2])+p*f[c+2][m+3],o=P*f[c+3][m]+3*(S*A*f[c+3][m+1]+M*l*f[c+3][m+2])+p*f[c+3][m+3],v[u]=L*r+3*(i*h*s+w*x*n)+E*o;return v}:R?function(v,y,t){v||(v=[]);var r=Math.max(0,Math.min(Math.floor(y),C)),s=Math.max(0,Math.min(Math.floor(t),T)),n=Math.max(0,Math.min(1,y-r)),o=Math.max(0,Math.min(1,t-s)),f,u,m,c,A,h;r*=3;var l=n*n,p=l*n,M=1-n,S=M*M,P=S*M,x=1-o;for(A=0;A<H.length;A++)h=H[A],f=x*h[s][r]+o*h[s+1][r],u=x*h[s][r+1]+o*h[s+1][r+1],m=x*h[s][r+2]+o*h[s+1][r+1],c=x*h[s][r+3]+o*h[s+1][r+1],v[A]=P*f+3*(S*n*u+M*l*m)+p*c;return v}:a?function(v,y,t){v||(v=[]);var r=Math.max(0,Math.min(Math.floor(y),C)),s=Math.max(0,Math.min(Math.floor(t),T)),n=Math.max(0,Math.min(1,y-r)),o=Math.max(0,Math.min(1,t-s)),f,u,m,c,A,h;s*=3;var l=o*o,p=l*o,M=1-o,S=M*M,P=S*M,x=1-n;for(A=0;A<H.length;A++)h=H[A],f=x*h[s][r]+n*h[s][r+1],u=x*h[s+1][r]+n*h[s+1][r+1],m=x*h[s+2][r]+n*h[s+2][r+1],c=x*h[s+3][r]+n*h[s+3][r+1],v[A]=P*f+3*(S*o*u+M*l*m)+p*c;return v}:function(v,y,t){v||(v=[]);var r=Math.max(0,Math.min(Math.floor(y),C)),s=Math.max(0,Math.min(Math.floor(t),T)),n=Math.max(0,Math.min(1,y-r)),o=Math.max(0,Math.min(1,t-s)),f,u,m,c,A=1-o,h=1-n;for(m=0;m<H.length;m++)c=H[m],f=h*c[s][r]+n*c[s][r+1],u=h*c[s+1][r]+n*c[s+1][r+1],v[m]=A*f+o*u;return v}}},92087:function(W,H,e){var g=e(71828),R=e(19237),a=e(13145),C=e(99798),T=e(22399);W.exports=function(y,t,r,s){function n(u,m){return g.coerce(y,t,C,u,m)}t._clipPathId="clip"+t.uid+"carpet";var o=n("color",T.defaultLine);if(g.coerceFont(n,"font"),n("carpet"),a(y,t,s,n,o),!t.a||!t.b){t.visible=!1;return}t.a.length<3&&(t.aaxis.smoothing=0),t.b.length<3&&(t.baxis.smoothing=0);var f=R(y,t,n);f||(t.visible=!1),t._cheater&&n("cheaterslope")}},21462:function(W,H,e){W.exports={attributes:e(99798),supplyDefaults:e(92087),plot:e(89740),calc:e(25281),animatable:!0,isContainer:!0,moduleType:"trace",name:"carpet",basePlotModule:e(93612),categories:["cartesian","svg","carpet","carpetAxis","notLegendIsolatable","noMultiCategory","noHover","noSortingByValue"],meta:{}}},22882:function(W){W.exports=function(H,e){for(var g=H._fullData.length,R,a=0;a<g;a++){var C=H._fullData[a];if(C.index!==e.index&&C.type==="carpet"&&(R||(R=C),C.carpet===e.carpet))return C}return R}},67961:function(W){W.exports=function(e,g,R){if(e.length===0)return"";var a,C=[],T=R?3:1;for(a=0;a<e.length;a+=T)C.push(e[a]+","+g[a]),R&&a<e.length-T&&(C.push("C"),C.push([e[a+1]+","+g[a+1],e[a+2]+","+g[a+2]+" "].join(" ")));return C.join(R?"":"L")}},27669:function(W,H,e){var g=e(71828).isArrayOrTypedArray;W.exports=function(a,C,T){var v;for(g(a)?a.length>C.length&&(a=a.slice(0,C.length)):a=[],v=0;v<C.length;v++)a[v]=T(C[v]);return a}},11651:function(W){W.exports=function(e,g,R,a,C,T){var v=C[0]*e.dpdx(g),y=C[1]*e.dpdy(R),t=1,r=1;if(T){var s=Math.sqrt(C[0]*C[0]+C[1]*C[1]),n=Math.sqrt(T[0]*T[0]+T[1]*T[1]),o=(C[0]*T[0]+C[1]*T[1])/s/n;r=Math.max(0,o)}var f=Math.atan2(y,v)*180/Math.PI;return f<-90?(f+=180,t=-t):f>90&&(f-=180,t=-t),{angle:f,flip:t,p:e.c2p(a,g,R),offsetMultplier:r}}},89740:function(W,H,e){var g=e(39898),R=e(91424),a=e(27669),C=e(67961),T=e(11651),v=e(63893),y=e(71828),t=y.strRotate,r=y.strTranslate,s=e(18783);W.exports=function(l,p,M,S){var P=l._context.staticPlot,x=p.xaxis,E=p.yaxis,w=l._fullLayout,i=w._clips;y.makeTraceGroups(S,M,"trace").each(function(L){var b=g.select(this),O=L[0],_=O.trace,N=_.aaxis,z=_.baxis,B=y.ensureSingle(b,"g","minorlayer"),U=y.ensureSingle(b,"g","majorlayer"),F=y.ensureSingle(b,"g","boundarylayer"),V=y.ensureSingle(b,"g","labellayer");b.style("opacity",_.opacity),o(x,E,U,N,"a",N._gridlines,!0),o(x,E,U,z,"b",z._gridlines,!0),o(x,E,B,N,"a",N._minorgridlines,!0),o(x,E,B,z,"b",z._minorgridlines,!0),o(x,E,F,N,"a-boundary",N._boundarylines,P),o(x,E,F,z,"b-boundary",z._boundarylines,P);var j=f(l,x,E,_,O,V,N._labels,"a-label"),$=f(l,x,E,_,O,V,z._labels,"b-label");u(l,V,_,O,x,E,j,$),n(_,O,i,x,E)})};function n(h,l,p,M,S){var P,x,E,w,i=p.select("#"+h._clipPathId);i.size()||(i=p.append("clipPath").classed("carpetclip",!0));var L=y.ensureSingle(i,"path","carpetboundary"),b=l.clipsegments,O=[];for(w=0;w<b.length;w++)P=b[w],x=a([],P.x,M.c2p),E=a([],P.y,S.c2p),O.push(C(x,E,P.bicubic));var _="M"+O.join("L")+"Z";i.attr("id",h._clipPathId),L.attr("d",_)}function o(h,l,p,M,S,P,x){var E="const-"+S+"-lines",w=p.selectAll("."+E).data(P);w.enter().append("path").classed(E,!0).style("vector-effect",x?"none":"non-scaling-stroke"),w.each(function(i){var L=i,b=L.x,O=L.y,_=a([],b,h.c2p),N=a([],O,l.c2p),z="M"+C(_,N,L.smoothing),B=g.select(this);B.attr("d",z).style("stroke-width",L.width).style("stroke",L.color).style("stroke-dasharray",R.dashStyle(L.dash,L.width)).style("fill","none")}),w.exit().remove()}function f(h,l,p,M,S,P,x,E){var w=P.selectAll("text."+E).data(x);w.enter().append("text").classed(E,!0);var i=0,L={};return w.each(function(b,O){var _;if(b.axis.tickangle==="auto")_=T(M,l,p,b.xy,b.dxy);else{var N=(b.axis.tickangle+180)*Math.PI/180;_=T(M,l,p,b.xy,[Math.cos(N),Math.sin(N)])}O||(L={angle:_.angle,flip:_.flip});var z=(b.endAnchor?-1:1)*_.flip,B=g.select(this).attr({"text-anchor":z>0?"start":"end","data-notex":1}).call(R.font,b.font).text(b.text).call(v.convertToTspans,h),U=R.bBox(this);B.attr("transform",r(_.p[0],_.p[1])+t(_.angle)+r(b.axis.labelpadding*z,U.height*.3)),i=Math.max(i,U.width+b.axis.labelpadding)}),w.exit().remove(),L.maxExtent=i,L}function u(h,l,p,M,S,P,x,E){var w,i,L,b,O=y.aggNums(Math.min,null,p.a),_=y.aggNums(Math.max,null,p.a),N=y.aggNums(Math.min,null,p.b),z=y.aggNums(Math.max,null,p.b);w=.5*(O+_),i=N,L=p.ab2xy(w,i,!0),b=p.dxyda_rough(w,i),x.angle===void 0&&y.extendFlat(x,T(p,S,P,L,p.dxydb_rough(w,i))),A(h,l,p,M,L,b,p.aaxis,S,P,x,"a-title"),w=O,i=.5*(N+z),L=p.ab2xy(w,i,!0),b=p.dxydb_rough(w,i),E.angle===void 0&&y.extendFlat(E,T(p,S,P,L,p.dxyda_rough(w,i))),A(h,l,p,M,L,b,p.baxis,S,P,E,"b-title")}var m=s.LINE_SPACING,c=(1-s.MID_SHIFT)/m+1;function A(h,l,p,M,S,P,x,E,w,i,L){var b=[];x.title.text&&b.push(x.title.text);var O=l.selectAll("text."+L).data(b),_=i.maxExtent;O.enter().append("text").classed(L,!0),O.each(function(){var N=T(p,E,w,S,P);["start","both"].indexOf(x.showticklabels)===-1&&(_=0);var z=x.title.font.size;_+=z+x.title.offset;var B=i.angle+(i.flip<0?180:0),U=(B-N.angle+450)%360,F=U>90&&U<270,V=g.select(this);V.text(x.title.text).call(v.convertToTspans,h),F&&(_=(-v.lineCount(V)+c)*m*z-_),V.attr("transform",r(N.p[0],N.p[1])+t(N.angle)+r(0,_)).attr("text-anchor","middle").call(R.font,x.title.font)}),O.exit().remove()}},11435:function(W,H,e){var g=e(35509),R=e(65888).findBin,a=e(45664),C=e(20349),T=e(54495),v=e(73057);W.exports=function(t){var r=t._a,s=t._b,n=r.length,o=s.length,f=t.aaxis,u=t.baxis,m=r[0],c=r[n-1],A=s[0],h=s[o-1],l=r[r.length-1]-r[0],p=s[s.length-1]-s[0],M=l*g.RELATIVE_CULL_TOLERANCE,S=p*g.RELATIVE_CULL_TOLERANCE;m-=M,c+=M,A-=S,h+=S,t.isVisible=function(P,x){return P>m&&P<c&&x>A&&x<h},t.isOccluded=function(P,x){return P<m||P>c||x<A||x>h},t.setScale=function(){var P=t._x,x=t._y,E=a(t._xctrl,t._yctrl,P,x,f.smoothing,u.smoothing);t._xctrl=E[0],t._yctrl=E[1],t.evalxy=C([t._xctrl,t._yctrl],n,o,f.smoothing,u.smoothing),t.dxydi=T([t._xctrl,t._yctrl],f.smoothing,u.smoothing),t.dxydj=v([t._xctrl,t._yctrl],f.smoothing,u.smoothing)},t.i2a=function(P){var x=Math.max(0,Math.floor(P[0]),n-2),E=P[0]-x;return(1-E)*r[x]+E*r[x+1]},t.j2b=function(P){var x=Math.max(0,Math.floor(P[1]),n-2),E=P[1]-x;return(1-E)*s[x]+E*s[x+1]},t.ij2ab=function(P){return[t.i2a(P[0]),t.j2b(P[1])]},t.a2i=function(P){var x=Math.max(0,Math.min(R(P,r),n-2)),E=r[x],w=r[x+1];return Math.max(0,Math.min(n-1,x+(P-E)/(w-E)))},t.b2j=function(P){var x=Math.max(0,Math.min(R(P,s),o-2)),E=s[x],w=s[x+1];return Math.max(0,Math.min(o-1,x+(P-E)/(w-E)))},t.ab2ij=function(P){return[t.a2i(P[0]),t.b2j(P[1])]},t.i2c=function(P,x){return t.evalxy([],P,x)},t.ab2xy=function(P,x,E){if(!E&&(P<r[0]||P>r[n-1]|x<s[0]||x>s[o-1]))return[!1,!1];var w=t.a2i(P),i=t.b2j(x),L=t.evalxy([],w,i);if(E){var b=0,O=0,_=[],N,z,B,U;P<r[0]?(N=0,z=0,b=(P-r[0])/(r[1]-r[0])):P>r[n-1]?(N=n-2,z=1,b=(P-r[n-1])/(r[n-1]-r[n-2])):(N=Math.max(0,Math.min(n-2,Math.floor(w))),z=w-N),x<s[0]?(B=0,U=0,O=(x-s[0])/(s[1]-s[0])):x>s[o-1]?(B=o-2,U=1,O=(x-s[o-1])/(s[o-1]-s[o-2])):(B=Math.max(0,Math.min(o-2,Math.floor(i))),U=i-B),b&&(t.dxydi(_,N,B,z,U),L[0]+=_[0]*b,L[1]+=_[1]*b),O&&(t.dxydj(_,N,B,z,U),L[0]+=_[0]*O,L[1]+=_[1]*O)}return L},t.c2p=function(P,x,E){return[x.c2p(P[0]),E.c2p(P[1])]},t.p2x=function(P,x,E){return[x.p2c(P[0]),E.p2c(P[1])]},t.dadi=function(P){var x=Math.max(0,Math.min(r.length-2,P));return r[x+1]-r[x]},t.dbdj=function(P){var x=Math.max(0,Math.min(s.length-2,P));return s[x+1]-s[x]},t.dxyda=function(P,x,E,w){var i=t.dxydi(null,P,x,E,w),L=t.dadi(P,E);return[i[0]/L,i[1]/L]},t.dxydb=function(P,x,E,w){var i=t.dxydj(null,P,x,E,w),L=t.dbdj(x,w);return[i[0]/L,i[1]/L]},t.dxyda_rough=function(P,x,E){var w=l*(E||.1),i=t.ab2xy(P+w,x,!0),L=t.ab2xy(P-w,x,!0);return[(i[0]-L[0])*.5/w,(i[1]-L[1])*.5/w]},t.dxydb_rough=function(P,x,E){var w=p*(E||.1),i=t.ab2xy(P,x+w,!0),L=t.ab2xy(P,x-w,!0);return[(i[0]-L[0])*.5/w,(i[1]-L[1])*.5/w]},t.dpdx=function(P){return P._m},t.dpdy=function(P){return P._m}}},72505:function(W,H,e){var g=e(71828);W.exports=function(a,C,T){var v,y,t,r=[],s=[],n=a[0].length,o=a.length;function f($,ne){var oe=0,ce,Q=0;return $>0&&(ce=a[ne][$-1])!==void 0&&(Q++,oe+=ce),$<n-1&&(ce=a[ne][$+1])!==void 0&&(Q++,oe+=ce),ne>0&&(ce=a[ne-1][$])!==void 0&&(Q++,oe+=ce),ne<o-1&&(ce=a[ne+1][$])!==void 0&&(Q++,oe+=ce),oe/Math.max(1,Q)}var u=0;for(v=0;v<n;v++)for(y=0;y<o;y++)a[y][v]===void 0&&(r.push(v),s.push(y),a[y][v]=f(v,y)),u=Math.max(u,Math.abs(a[y][v]));if(!r.length)return a;var m,c,A,h,l,p,M,S,P,x,E,w=1e-5,i=0,L=100,b=0,O=r.length;do{for(i=0,t=0;t<O;t++){v=r[t],y=s[t];var _=0,N=0,z,B,U,F,V,j;v===0?(V=Math.min(n-1,2),U=C[V],F=C[1],z=a[y][V],B=a[y][1],N+=B+(B-z)*(C[0]-F)/(F-U),_++):v===n-1&&(V=Math.max(0,n-3),U=C[V],F=C[n-2],z=a[y][V],B=a[y][n-2],N+=B+(B-z)*(C[n-1]-F)/(F-U),_++),(v===0||v===n-1)&&y>0&&y<o-1&&(m=T[y+1]-T[y],c=T[y]-T[y-1],N+=(c*a[y+1][v]+m*a[y-1][v])/(c+m),_++),y===0?(j=Math.min(o-1,2),U=T[j],F=T[1],z=a[j][v],B=a[1][v],N+=B+(B-z)*(T[0]-F)/(F-U),_++):y===o-1&&(j=Math.max(0,o-3),U=T[j],F=T[o-2],z=a[j][v],B=a[o-2][v],N+=B+(B-z)*(T[o-1]-F)/(F-U),_++),(y===0||y===o-1)&&v>0&&v<n-1&&(m=C[v+1]-C[v],c=C[v]-C[v-1],N+=(c*a[y][v+1]+m*a[y][v-1])/(c+m),_++),_?N/=_:(A=C[v+1]-C[v],h=C[v]-C[v-1],l=T[y+1]-T[y],p=T[y]-T[y-1],M=A*h*(A+h),S=l*p*(l+p),N=(M*(p*a[y+1][v]+l*a[y-1][v])+S*(h*a[y][v+1]+A*a[y][v-1]))/(S*(h+A)+M*(p+l))),P=N-a[y][v],x=P/u,i+=x*x,E=_?0:.85,a[y][v]+=P*(1+E)}i=Math.sqrt(i)}while(b++<L&&i>w);return g.log("Smoother converged to",i,"after",b,"iterations"),a}},19237:function(W,H,e){var g=e(71828).isArray1D;W.exports=function(a,C,T){var v=T("x"),y=v&&v.length,t=T("y"),r=t&&t.length;if(!y&&!r)return!1;if(C._cheater=!v,(!y||g(v))&&(!r||g(t))){var s=y?v.length:1/0;r&&(s=Math.min(s,t.length)),C.a&&C.a.length&&(s=Math.min(s,C.a.length)),C.b&&C.b.length&&(s=Math.min(s,C.b.length)),C._length=s}else C._length=null;return!0}},69568:function(W,H,e){var g=e(5386).fF,R=e(19316),a=e(50693),C=e(9012),T=e(22399).defaultLine,v=e(1426).extendFlat,y=R.marker.line;W.exports=v({locations:{valType:"data_array",editType:"calc"},locationmode:R.locationmode,z:{valType:"data_array",editType:"calc"},geojson:v({},R.geojson,{}),featureidkey:R.featureidkey,text:v({},R.text,{}),hovertext:v({},R.hovertext,{}),marker:{line:{color:v({},y.color,{dflt:T}),width:v({},y.width,{dflt:1}),editType:"calc"},opacity:{valType:"number",arrayOk:!0,min:0,max:1,dflt:1,editType:"style"},editType:"calc"},selected:{marker:{opacity:R.selected.marker.opacity,editType:"plot"},editType:"plot"},unselected:{marker:{opacity:R.unselected.marker.opacity,editType:"plot"},editType:"plot"},hoverinfo:v({},C.hoverinfo,{editType:"calc",flags:["location","z","text","name"]}),hovertemplate:g(),showlegend:v({},C.showlegend,{dflt:!1})},a("",{cLetter:"z",editTypeOverride:"calc"}))},38675:function(W,H,e){var g=e(92770),R=e(50606).BADNUM,a=e(78803),C=e(75225),T=e(66279);function v(y){return y&&typeof y=="string"}W.exports=function(t,r){var s=r._length,n=new Array(s),o;r.geojson?o=function(A){return v(A)||g(A)}:o=v;for(var f=0;f<s;f++){var u=n[f]={},m=r.locations[f],c=r.z[f];o(m)&&g(c)?(u.loc=m,u.z=c):(u.loc=null,u.z=R),u.index=f}return C(n,r),a(t,r,{vals:r.z,containerStr:"",cLetter:"z"}),T(n,r),n}},61869:function(W,H,e){var g=e(71828),R=e(1586),a=e(69568);W.exports=function(T,v,y,t){function r(c,A){return g.coerce(T,v,a,c,A)}var s=r("locations"),n=r("z");if(!(s&&s.length&&g.isArrayOrTypedArray(n)&&n.length)){v.visible=!1;return}v._length=Math.min(s.length,n.length);var o=r("geojson"),f;(typeof o=="string"&&o!==""||g.isPlainObject(o))&&(f="geojson-id");var u=r("locationmode",f);u==="geojson-id"&&r("featureidkey"),r("text"),r("hovertext"),r("hovertemplate");var m=r("marker.line.width");m&&r("marker.line.color"),r("marker.opacity"),R(T,v,t,r,{prefix:"",cLetter:"z"}),g.coerceSelectionMarkerOpacity(v,r)}},92069:function(W){W.exports=function(e,g,R,a,C){e.location=g.location,e.z=g.z;var T=a[C];return T.fIn&&T.fIn.properties&&(e.properties=T.fIn.properties),e.ct=T.ct,e}},42300:function(W,H,e){var g=e(89298),R=e(69568),a=e(71828).fillText;W.exports=function(v,y,t){var r=v.cd,s=r[0].trace,n=v.subplot,o,f,u,m,c=[y,t],A=[y+360,t];for(f=0;f<r.length;f++)if(o=r[f],m=!1,o._polygons){for(u=0;u<o._polygons.length;u++)o._polygons[u].contains(c)&&(m=!m),o._polygons[u].contains(A)&&(m=!m);if(m)break}if(!(!m||!o))return v.x0=v.x1=v.xa.c2p(o.ct),v.y0=v.y1=v.ya.c2p(o.ct),v.index=o.index,v.location=o.loc,v.z=o.z,v.zLabel=g.tickText(n.mockAxis,n.mockAxis.c2l(o.z),"hover").text,v.hovertemplate=o.hovertemplate,C(v,s,o),[v]};function C(T,v,y){if(!v.hovertemplate){var t=y.hi||v.hoverinfo,r=String(y.loc),s=t==="all"?R.hoverinfo.flags:t.split("+"),n=s.indexOf("name")!==-1,o=s.indexOf("location")!==-1,f=s.indexOf("z")!==-1,u=s.indexOf("text")!==-1,m=!n&&o,c=[];m?T.nameOverride=r:(n&&(T.nameOverride=v.name),o&&c.push(r)),f&&c.push(T.zLabel),u&&a(y,v,c),T.extraText=c.join("<br>")}}},51319:function(W,H,e){W.exports={attributes:e(69568),supplyDefaults:e(61869),colorbar:e(61243),calc:e(38675),calcGeoJSON:e(99841).calcGeoJSON,plot:e(99841).plot,style:e(99636).style,styleOnSelect:e(99636).styleOnSelect,hoverPoints:e(42300),eventData:e(92069),selectPoints:e(81253),moduleType:"trace",name:"choropleth",basePlotModule:e(44622),categories:["geo","noOpacity","showLegend"],meta:{}}},99841:function(W,H,e){var g=e(39898),R=e(71828),a=e(41327),C=e(90973).getTopojsonFeatures,T=e(71739).findExtremes,v=e(99636).style;function y(r,s,n){var o=s.layers.backplot.select(".choroplethlayer");R.makeTraceGroups(o,n,"trace choropleth").each(function(f){var u=g.select(this),m=u.selectAll("path.choroplethlocation").data(R.identity);m.enter().append("path").classed("choroplethlocation",!0),m.exit().remove(),v(r,f)})}function t(r,s){for(var n=r[0].trace,o=s[n.geo],f=o._subplot,u=n.locationmode,m=n._length,c=u==="geojson-id"?a.extractTraceFeature(r):C(n,f.topojson),A=[],h=[],l=0;l<m;l++){var p=r[l],M=u==="geojson-id"?p.fOut:a.locationToFeature(u,p.loc,c);if(M){p.geojson=M,p.ct=M.properties.ct,p._polygons=a.feature2polygons(M);var S=a.computeBbox(M);A.push(S[0],S[2]),h.push(S[1],S[3])}else p.geojson=null}if(o.fitbounds==="geojson"&&u==="geojson-id"){var P=a.computeBbox(a.getTraceGeojson(n));A=[P[0],P[2]],h=[P[1],P[3]]}var x={padded:!0};n._extremes.lon=T(o.lonaxis._ax,A,x),n._extremes.lat=T(o.lataxis._ax,h,x)}W.exports={calcGeoJSON:t,plot:y}},81253:function(W){W.exports=function(e,g){var R=e.cd,a=e.xaxis,C=e.yaxis,T=[],v,y,t,r,s;if(g===!1)for(v=0;v<R.length;v++)R[v].selected=0;else for(v=0;v<R.length;v++)y=R[v],t=y.ct,t&&(r=a.c2p(t),s=C.c2p(t),g.contains([r,s],null,v,e)?(T.push({pointNumber:v,lon:t[0],lat:t[1]}),y.selected=1):y.selected=0);return T}},99636:function(W,H,e){var g=e(39898),R=e(7901),a=e(91424),C=e(21081);function T(t,r){r&&v(t,r)}function v(t,r){var s=r[0].trace,n=r[0].node3,o=n.selectAll(".choroplethlocation"),f=s.marker||{},u=f.line||{},m=C.makeColorScaleFuncFromTrace(s);o.each(function(c){g.select(this).attr("fill",m(c.z)).call(R.stroke,c.mlc||u.color).call(a.dashLine,"",c.mlw||u.width||0).style("opacity",f.opacity)}),a.selectedPointStyle(o,s)}function y(t,r){var s=r[0].node3,n=r[0].trace;n.selectedpoints?a.selectedPointStyle(s.selectAll(".choroplethlocation"),n):v(t,r)}W.exports={style:T,styleOnSelect:y}},64496:function(W,H,e){var g=e(69568),R=e(50693),a=e(5386).fF,C=e(9012),T=e(1426).extendFlat;W.exports=T({locations:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},geojson:{valType:"any",editType:"calc"},featureidkey:T({},g.featureidkey,{}),below:{valType:"string",editType:"plot"},text:g.text,hovertext:g.hovertext,marker:{line:{color:T({},g.marker.line.color,{editType:"plot"}),width:T({},g.marker.line.width,{editType:"plot"}),editType:"calc"},opacity:T({},g.marker.opacity,{editType:"plot"}),editType:"calc"},selected:{marker:{opacity:T({},g.selected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},unselected:{marker:{opacity:T({},g.unselected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},hoverinfo:g.hoverinfo,hovertemplate:a({},{keys:["properties"]}),showlegend:T({},C.showlegend,{dflt:!1})},R("",{cLetter:"z",editTypeOverride:"calc"}))},82004:function(W,H,e){var g=e(92770),R=e(71828),a=e(21081),C=e(91424),T=e(18214).makeBlank,v=e(41327);function y(r){var s=r[0].trace,n=s.visible===!0&&s._length!==0,o={layout:{visibility:"none"},paint:{}},f={layout:{visibility:"none"},paint:{}},u=s._opts={fill:o,line:f,geojson:T()};if(!n)return u;var m=v.extractTraceFeature(r);if(!m)return u;var c=a.makeColorScaleFuncFromTrace(s),A=s.marker,h=A.line||{},l;R.isArrayOrTypedArray(A.opacity)&&(l=function(i){var L=i.mo;return g(L)?+R.constrain(L,0,1):0});var p;R.isArrayOrTypedArray(h.color)&&(p=function(i){return i.mlc});var M;R.isArrayOrTypedArray(h.width)&&(M=function(i){return i.mlw});for(var S=0;S<r.length;S++){var P=r[S],x=P.fOut;if(x){var E=x.properties;E.fc=c(P.z),l&&(E.mo=l(P)),p&&(E.mlc=p(P)),M&&(E.mlw=M(P)),P.ct=E.ct,P._polygons=v.feature2polygons(x)}}var w=l?{type:"identity",property:"mo"}:A.opacity;return R.extendFlat(o.paint,{"fill-color":{type:"identity",property:"fc"},"fill-opacity":w}),R.extendFlat(f.paint,{"line-color":p?{type:"identity",property:"mlc"}:h.color,"line-width":M?{type:"identity",property:"mlw"}:h.width,"line-opacity":w}),o.layout.visibility="visible",f.layout.visibility="visible",u.geojson={type:"FeatureCollection",features:m},t(r),u}function t(r){var s=r[0].trace,n=s._opts,o;if(s.selectedpoints){for(var f=C.makeSelectedPointStyleFns(s),u=0;u<r.length;u++){var m=r[u];m.fOut&&(m.fOut.properties.mo2=f.selectedOpacityFn(m))}o={type:"identity",property:"mo2"}}else o=R.isArrayOrTypedArray(s.marker.opacity)?{type:"identity",property:"mo"}:s.marker.opacity;return R.extendFlat(n.fill.paint,{"fill-opacity":o}),R.extendFlat(n.line.paint,{"line-opacity":o}),n}W.exports={convert:y,convertOnSelect:t}},22654:function(W,H,e){var g=e(71828),R=e(1586),a=e(64496);W.exports=function(T,v,y,t){function r(u,m){return g.coerce(T,v,a,u,m)}var s=r("locations"),n=r("z"),o=r("geojson");if(!g.isArrayOrTypedArray(s)||!s.length||!g.isArrayOrTypedArray(n)||!n.length||!(typeof o=="string"&&o!==""||g.isPlainObject(o))){v.visible=!1;return}r("featureidkey"),v._length=Math.min(s.length,n.length),r("below"),r("text"),r("hovertext"),r("hovertemplate");var f=r("marker.line.width");f&&r("marker.line.color"),r("marker.opacity"),R(T,v,t,r,{prefix:"",cLetter:"z"}),g.coerceSelectionMarkerOpacity(v,r)}},57516:function(W,H,e){W.exports={attributes:e(64496),supplyDefaults:e(22654),colorbar:e(61243),calc:e(38675),plot:e(7852),hoverPoints:e(42300),eventData:e(92069),selectPoints:e(81253),styleOnSelect:function(g,R){if(R){var a=R[0].trace;a._glTrace.updateOnSelect(R)}},getBelow:function(g,R){for(var a=R.getMapLayers(),C=a.length-2;C>=0;C--){var T=a[C].id;if(typeof T=="string"&&T.indexOf("water")===0){for(var v=C+1;v<a.length;v++)if(T=a[v].id,typeof T=="string"&&T.indexOf("plotly-")===-1)return T}}},moduleType:"trace",name:"choroplethmapbox",basePlotModule:e(50101),categories:["mapbox","gl","noOpacity","showLegend"],meta:{hr_name:"choropleth_mapbox"}}},7852:function(W,H,e){var g=e(82004).convert,R=e(82004).convertOnSelect,a=e(77734).traceLayerPrefix;function C(v,y){this.type="choroplethmapbox",this.subplot=v,this.uid=y,this.sourceId="source-"+y,this.layerList=[["fill",a+y+"-fill"],["line",a+y+"-line"]],this.below=null}var T=C.prototype;T.update=function(v){this._update(g(v)),v[0].trace._glTrace=this},T.updateOnSelect=function(v){this._update(R(v))},T._update=function(v){var y=this.subplot,t=this.layerList,r=y.belowLookup["trace-"+this.uid];y.map.getSource(this.sourceId).setData(v.geojson),r!==this.below&&(this._removeLayers(),this._addLayers(v,r),this.below=r);for(var s=0;s<t.length;s++){var n=t[s],o=n[0],f=n[1],u=v[o];y.setOptions(f,"setLayoutProperty",u.layout),u.layout.visibility==="visible"&&y.setOptions(f,"setPaintProperty",u.paint)}},T._addLayers=function(v,y){for(var t=this.subplot,r=this.layerList,s=this.sourceId,n=0;n<r.length;n++){var o=r[n],f=o[0],u=v[f];t.addLayer({type:f,id:o[1],source:s,layout:u.layout,paint:u.paint},y)}},T._removeLayers=function(){for(var v=this.subplot.map,y=this.layerList,t=y.length-1;t>=0;t--)v.removeLayer(y[t][1])},T.dispose=function(){var v=this.subplot.map;this._removeLayers(),v.removeSource(this.sourceId)},W.exports=function(y,t){var r=t[0].trace,s=new C(y,r.uid),n=s.sourceId,o=g(t),f=s.below=y.belowLookup["trace-"+r.uid];return y.map.addSource(n,{type:"geojson",data:o.geojson}),s._addLayers(o,f),t[0].trace._glTrace=s,s}},12674:function(W,H,e){var g=e(50693),R=e(12663).axisHoverFormat,a=e(5386).fF,C=e(2418),T=e(9012),v=e(1426).extendFlat,y={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},sizemode:{valType:"enumerated",values:["scaled","absolute"],editType:"calc",dflt:"scaled"},sizeref:{valType:"number",editType:"calc",min:0},anchor:{valType:"enumerated",editType:"calc",values:["tip","tail","cm","center"],dflt:"cm"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:a({editType:"calc"},{keys:["norm"]}),uhoverformat:R("u",1),vhoverformat:R("v",1),whoverformat:R("w",1),xhoverformat:R("x"),yhoverformat:R("y"),zhoverformat:R("z"),showlegend:v({},T.showlegend,{dflt:!1})};v(y,g("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"}));var t=["opacity","lightposition","lighting"];t.forEach(function(r){y[r]=C[r]}),y.hoverinfo=v({},T.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","text","name"],dflt:"x+y+z+norm+text+name"}),y.transforms=void 0,W.exports=y},31371:function(W,H,e){var g=e(78803);W.exports=function(a,C){for(var T=C.u,v=C.v,y=C.w,t=Math.min(C.x.length,C.y.length,C.z.length,T.length,v.length,y.length),r=-1/0,s=1/0,n=0;n<t;n++){var o=T[n],f=v[n],u=y[n],m=Math.sqrt(o*o+f*f+u*u);r=Math.max(r,m),s=Math.min(s,m)}C._len=t,C._normMax=r,g(a,C,{vals:[s,r],containerStr:"",cLetter:"c"})}},5453:function(W,H,e){var g=e(9330).gl_cone3d,R=e(9330).gl_cone3d.createConeMesh,a=e(71828).simpleMap,C=e(81697).parseColorScale,T=e(21081).extractOpts,v=e(90060);function y(u,m){this.scene=u,this.uid=m,this.mesh=null,this.data=null}var t=y.prototype;t.handlePick=function(u){if(u.object===this.mesh){var m=u.index=u.data.index,c=this.data.x[m],A=this.data.y[m],h=this.data.z[m],l=this.data.u[m],p=this.data.v[m],M=this.data.w[m];u.traceCoordinate=[c,A,h,l,p,M,Math.sqrt(l*l+p*p+M*M)];var S=this.data.hovertext||this.data.text;return Array.isArray(S)&&S[m]!==void 0?u.textLabel=S[m]:S&&(u.textLabel=S),!0}};var r={xaxis:0,yaxis:1,zaxis:2},s={tip:1,tail:0,cm:.25,center:.5},n={tip:1,tail:1,cm:.75,center:.5};function o(u,m){var c=u.fullSceneLayout,A=u.dataScale,h={};function l(P,x){var E=c[x],w=A[r[x]];return a(P,function(i){return E.d2l(i)*w})}h.vectors=v(l(m.u,"xaxis"),l(m.v,"yaxis"),l(m.w,"zaxis"),m._len),h.positions=v(l(m.x,"xaxis"),l(m.y,"yaxis"),l(m.z,"zaxis"),m._len);var p=T(m);h.colormap=C(m),h.vertexIntensityBounds=[p.min/m._normMax,p.max/m._normMax],h.coneOffset=s[m.anchor],m.sizemode==="scaled"?h.coneSize=m.sizeref||.5:h.coneSize=m.sizeref&&m._normMax?m.sizeref/m._normMax:.5;var M=g(h),S=m.lightposition;return M.lightPosition=[S.x,S.y,S.z],M.ambient=m.lighting.ambient,M.diffuse=m.lighting.diffuse,M.specular=m.lighting.specular,M.roughness=m.lighting.roughness,M.fresnel=m.lighting.fresnel,M.opacity=m.opacity,m._pad=n[m.anchor]*M.vectorScale*M.coneScale*m._normMax,M}t.update=function(u){this.data=u;var m=o(this.scene,u);this.mesh.update(m)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function f(u,m){var c=u.glplot.gl,A=o(u,m),h=R(c,A),l=new y(u,m.uid);return l.mesh=h,l.data=m,h._trace=l,u.glplot.add(h),l}W.exports=f},91750:function(W,H,e){var g=e(71828),R=e(1586),a=e(12674);W.exports=function(T,v,y,t){function r(c,A){return g.coerce(T,v,a,c,A)}var s=r("u"),n=r("v"),o=r("w"),f=r("x"),u=r("y"),m=r("z");if(!s||!s.length||!n||!n.length||!o||!o.length||!f||!f.length||!u||!u.length||!m||!m.length){v.visible=!1;return}r("sizeref"),r("sizemode"),r("anchor"),r("lighting.ambient"),r("lighting.diffuse"),r("lighting.specular"),r("lighting.roughness"),r("lighting.fresnel"),r("lightposition.x"),r("lightposition.y"),r("lightposition.z"),R(T,v,t,r,{prefix:"",cLetter:"c"}),r("text"),r("hovertext"),r("hovertemplate"),r("uhoverformat"),r("vhoverformat"),r("whoverformat"),r("xhoverformat"),r("yhoverformat"),r("zhoverformat"),v._length=null}},98128:function(W,H,e){W.exports={moduleType:"trace",name:"cone",basePlotModule:e(58547),categories:["gl3d","showLegend"],attributes:e(12674),supplyDefaults:e(91750),colorbar:{min:"cmin",max:"cmax"},calc:e(31371),plot:e(5453),eventData:function(g,R){return g.norm=R.traceCoordinate[6],g},meta:{}}},70600:function(W,H,e){var g=e(21606),R=e(82196),a=e(12663),C=a.axisHoverFormat,T=a.descriptionOnlyNumbers,v=e(50693),y=e(79952).P,t=e(41940),r=e(1426).extendFlat,s=e(74808),n=s.COMPARISON_OPS2,o=s.INTERVAL_OPS,f=R.line;W.exports=r({z:g.z,x:g.x,x0:g.x0,dx:g.dx,y:g.y,y0:g.y0,dy:g.dy,xperiod:g.xperiod,yperiod:g.yperiod,xperiod0:R.xperiod0,yperiod0:R.yperiod0,xperiodalignment:g.xperiodalignment,yperiodalignment:g.yperiodalignment,text:g.text,hovertext:g.hovertext,transpose:g.transpose,xtype:g.xtype,ytype:g.ytype,xhoverformat:C("x"),yhoverformat:C("y"),zhoverformat:C("z",1),hovertemplate:g.hovertemplate,texttemplate:r({},g.texttemplate,{}),textfont:r({},g.textfont,{}),hoverongaps:g.hoverongaps,connectgaps:r({},g.connectgaps,{}),fillcolor:{valType:"color",editType:"calc"},autocontour:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"contours.start":void 0,"contours.end":void 0,"contours.size":void 0}},ncontours:{valType:"integer",dflt:15,min:1,editType:"calc"},contours:{type:{valType:"enumerated",values:["levels","constraint"],dflt:"levels",editType:"calc"},start:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},end:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},size:{valType:"number",dflt:null,min:0,editType:"plot",impliedEdits:{"^autocontour":!1}},coloring:{valType:"enumerated",values:["fill","heatmap","lines","none"],dflt:"fill",editType:"calc"},showlines:{valType:"boolean",dflt:!0,editType:"plot"},showlabels:{valType:"boolean",dflt:!1,editType:"plot"},labelfont:t({editType:"plot",colorEditType:"style"}),labelformat:{valType:"string",dflt:"",editType:"plot",description:T("contour label")},operation:{valType:"enumerated",values:[].concat(n).concat(o),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},editType:"calc",impliedEdits:{autocontour:!1}},line:{color:r({},f.color,{editType:"style+colorbars"}),width:{valType:"number",min:0,editType:"style+colorbars"},dash:y,smoothing:r({},f.smoothing,{}),editType:"plot"}},v("",{cLetter:"z",autoColorDflt:!1,editTypeOverride:"calc"}))},27529:function(W,H,e){var g=e(21081),R=e(90757),a=e(18670),C=e(53572);W.exports=function(v,y){var t=R(v,y),r=t[0].z;a(y,r);var s=y.contours,n=g.extractOpts(y),o;if(s.coloring==="heatmap"&&n.auto&&y.autocontour===!1){var f=s.start,u=C(s),m=s.size||1,c=Math.floor((u-f)/m)+1;isFinite(m)||(m=1,c=1);var A=f-m/2,h=A+c*m;o=[A,h]}else o=r;return g.calc(v,y,{vals:o,cLetter:"z"}),t}},20083:function(W){W.exports=function(H,e){var g=H[0],R=g.z,a;switch(e.type){case"levels":var C=Math.min(R[0][0],R[0][1]);for(a=0;a<H.length;a++){var T=H[a];T.prefixBoundary=!T.edgepaths.length&&(C>T.level||T.starts.length&&C===T.level)}break;case"constraint":if(g.prefixBoundary=!1,g.edgepaths.length)return;var v=g.x.length,y=g.y.length,t=-1/0,r=1/0;for(a=0;a<y;a++)r=Math.min(r,R[a][0]),r=Math.min(r,R[a][v-1]),t=Math.max(t,R[a][0]),t=Math.max(t,R[a][v-1]);for(a=1;a<v-1;a++)r=Math.min(r,R[0][a]),r=Math.min(r,R[y-1][a]),t=Math.max(t,R[0][a]),t=Math.max(t,R[y-1][a]);var s=e.value,n,o;switch(e._operation){case">":s>t&&(g.prefixBoundary=!0);break;case"<":(s<r||g.starts.length&&s===r)&&(g.prefixBoundary=!0);break;case"[]":n=Math.min(s[0],s[1]),o=Math.max(s[0],s[1]),(o<r||n>t||g.starts.length&&o===r)&&(g.prefixBoundary=!0);break;case"][":n=Math.min(s[0],s[1]),o=Math.max(s[0],s[1]),n<r&&o>t&&(g.prefixBoundary=!0);break}break}}},90654:function(W,H,e){var g=e(21081),R=e(86068),a=e(53572);function C(T,v,y){var t=v.contours,r=v.line,s=t.size||1,n=t.coloring,o=R(v,{isColorbar:!0});if(n==="heatmap"){var f=g.extractOpts(v);y._fillgradient=f.reversescale?g.flipScale(f.colorscale):f.colorscale,y._zrange=[f.min,f.max]}else n==="fill"&&(y._fillcolor=o);y._line={color:n==="lines"?o:r.color,width:t.showlines!==!1?r.width:0,dash:r.dash},y._levels={start:t.start,end:a(t),size:s}}W.exports={min:"zmin",max:"zmax",calc:C}},36914:function(W){W.exports={BOTTOMSTART:[1,9,13,104,713],TOPSTART:[4,6,7,104,713],LEFTSTART:[8,12,14,208,1114],RIGHTSTART:[2,3,11,208,1114],NEWDELTA:[null,[-1,0],[0,-1],[-1,0],[1,0],null,[0,-1],[-1,0],[0,1],[0,1],null,[0,1],[1,0],[1,0],[0,-1]],CHOOSESADDLE:{104:[4,1],208:[2,8],713:[7,13],1114:[11,14]},SADDLEREMAINDER:{1:4,2:8,4:1,7:13,8:2,11:14,13:7,14:11},LABELDISTANCE:2,LABELINCREASE:10,LABELMIN:3,LABELMAX:10,LABELOPTIMIZER:{EDGECOST:1,ANGLECOST:1,NEIGHBORCOST:5,SAMELEVELFACTOR:10,SAMELEVELDISTANCE:5,MAXCOST:100,INITIALSEARCHPOINTS:10,ITERATIONS:5}}},83179:function(W,H,e){var g=e(92770),R=e(14523),a=e(7901),C=a.addOpacity,T=a.opacity,v=e(74808),y=v.CONSTRAINT_REDUCTION,t=v.COMPARISON_OPS2;W.exports=function(n,o,f,u,m,c){var A=o.contours,h,l,p,M=f("contours.operation");if(A._operation=y[M],r(f,A),M==="="?h=A.showlines=!0:(h=f("contours.showlines"),p=f("fillcolor",C((n.line||{}).color||m,.5))),h){var S=p&&T(p)?C(o.fillcolor,1):m;l=f("line.color",S),f("line.width",2),f("line.dash")}f("line.smoothing"),R(f,u,l,c)};function r(s,n){var o;t.indexOf(n.operation)===-1?(s("contours.value",[0,1]),Array.isArray(n.value)?n.value.length>2?n.value=n.value.slice(2):n.length===0?n.value=[0,1]:n.length<2?(o=parseFloat(n.value[0]),n.value=[o,o+1]):n.value=[parseFloat(n.value[0]),parseFloat(n.value[1])]:g(n.value)&&(o=parseFloat(n.value),n.value=[o,o+1])):(s("contours.value",0),g(n.value)||(Array.isArray(n.value)?n.value=parseFloat(n.value[0]):n.value=0))}},64237:function(W,H,e){var g=e(74808),R=e(92770);W.exports={"[]":C("[]"),"][":C("]["),">":T(">"),"<":T("<"),"=":T("=")};function a(v,y){var t=Array.isArray(y),r;function s(n){return R(n)?+n:null}return g.COMPARISON_OPS2.indexOf(v)!==-1?r=s(t?y[0]:y):g.INTERVAL_OPS.indexOf(v)!==-1?r=t?[s(y[0]),s(y[1])]:[s(y),s(y)]:g.SET_OPS.indexOf(v)!==-1&&(r=t?y.map(s):[s(y)]),r}function C(v){return function(y){y=a(v,y);var t=Math.min(y[0],y[1]),r=Math.max(y[0],y[1]);return{start:t,end:r,size:r-t}}}function T(v){return function(y){return y=a(v,y),{start:y,end:1/0,size:1/0}}}},67217:function(W){W.exports=function(e,g,R,a){var C=a("contours.start"),T=a("contours.end"),v=C===!1||T===!1,y=R("contours.size"),t;v?t=g.autocontour=!0:t=R("autocontour",!1),(t||!y)&&R("ncontours")}},84857:function(W,H,e){var g=e(71828);W.exports=function(a,C){var T,v,y,t=function(n){return n.reverse()},r=function(n){return n};switch(C){case"=":case"<":return a;case">":for(a.length!==1&&g.warn("Contour data invalid for the specified inequality operation."),v=a[0],T=0;T<v.edgepaths.length;T++)v.edgepaths[T]=t(v.edgepaths[T]);for(T=0;T<v.paths.length;T++)v.paths[T]=t(v.paths[T]);for(T=0;T<v.starts.length;T++)v.starts[T]=t(v.starts[T]);return a;case"][":var s=t;t=r,r=s;case"[]":for(a.length!==2&&g.warn("Contour data invalid for the specified inequality range operation."),v=R(a[0]),y=R(a[1]),T=0;T<v.edgepaths.length;T++)v.edgepaths[T]=t(v.edgepaths[T]);for(T=0;T<v.paths.length;T++)v.paths[T]=t(v.paths[T]);for(T=0;T<v.starts.length;T++)v.starts[T]=t(v.starts[T]);for(;y.edgepaths.length;)v.edgepaths.push(r(y.edgepaths.shift()));for(;y.paths.length;)v.paths.push(r(y.paths.shift()));for(;y.starts.length;)v.starts.push(r(y.starts.shift()));return[v]}};function R(a){return g.extendFlat({},a,{edgepaths:g.extendDeep([],a.edgepaths),paths:g.extendDeep([],a.paths),starts:g.extendDeep([],a.starts)})}},13031:function(W,H,e){var g=e(71828),R=e(67684),a=e(73927),C=e(83179),T=e(67217),v=e(8724),y=e(58623),t=e(70600);W.exports=function(s,n,o,f){function u(h,l){return g.coerce(s,n,t,h,l)}function m(h){return g.coerce2(s,n,t,h)}var c=R(s,n,u,f);if(!c){n.visible=!1;return}a(s,n,f,u),u("xhoverformat"),u("yhoverformat"),u("text"),u("hovertext"),u("hoverongaps"),u("hovertemplate");var A=u("contours.type")==="constraint";u("connectgaps",g.isArray1D(n.z)),A?C(s,n,u,f,o):(T(s,n,u,m),v(s,n,u,f)),n.contours&&n.contours.coloring==="heatmap"&&y(u,f)}},87558:function(W,H,e){var g=e(71828),R=e(64237),a=e(53572);W.exports=function(T,v,y){for(var t=T.type==="constraint"?R[T._operation](T.value):T,r=t.size,s=[],n=a(t),o=y.trace._carpetTrace,f=o?{xaxis:o.aaxis,yaxis:o.baxis,x:y.a,y:y.b}:{xaxis:v.xaxis,yaxis:v.yaxis,x:y.x,y:y.y},u=t.start;u<n;u+=r)if(s.push(g.extendFlat({level:u,crossings:{},starts:[],edgepaths:[],paths:[],z:y.z,smoothing:y.trace.line.smoothing},f)),s.length>1e3){g.warn("Too many contours, clipping at 1000",T);break}return s}},53572:function(W){W.exports=function(e){return e.end+e.size/1e6}},81696:function(W,H,e){var g=e(71828),R=e(36914);W.exports=function(r,s,n){var o,f,u,m,c;for(s=s||.01,n=n||.01,u=0;u<r.length;u++){for(m=r[u],c=0;c<m.starts.length;c++)f=m.starts[c],T(m,f,"edge",s,n);for(o=0;Object.keys(m.crossings).length&&o<1e4;)o++,f=Object.keys(m.crossings)[0].split(",").map(Number),T(m,f,void 0,s,n);o===1e4&&g.log("Infinite loop in contour?")}};function a(t,r,s,n){return Math.abs(t[0]-r[0])<s&&Math.abs(t[1]-r[1])<n}function C(t,r){var s=t[2]-r[2],n=t[3]-r[3];return Math.sqrt(s*s+n*n)}function T(t,r,s,n,o){var f=r.join(","),u=t.crossings[f],m=v(u,s,r),c=[y(t,r,[-m[0],-m[1]])],A=t.z.length,h=t.z[0].length,l=r.slice(),p=m.slice(),M;for(M=0;M<1e4;M++){if(u>20?(u=R.CHOOSESADDLE[u][(m[0]||m[1])<0?0:1],t.crossings[f]=R.SADDLEREMAINDER[u]):delete t.crossings[f],m=R.NEWDELTA[u],!m){g.log("Found bad marching index:",u,r,t.level);break}c.push(y(t,r,m)),r[0]+=m[0],r[1]+=m[1],f=r.join(","),a(c[c.length-1],c[c.length-2],n,o)&&c.pop();var S=m[0]&&(r[0]<0||r[0]>h-2)||m[1]&&(r[1]<0||r[1]>A-2),P=r[0]===l[0]&&r[1]===l[1]&&m[0]===p[0]&&m[1]===p[1];if(P||s&&S)break;u=t.crossings[f]}M===1e4&&g.log("Infinite loop in contour?");var x=a(c[0],c[c.length-1],n,o),E=0,w=.2*t.smoothing,i=[],L=0,b,O,_,N,z,B,U,F,V,j,$;for(M=1;M<c.length;M++)U=C(c[M],c[M-1]),E+=U,i.push(U);var ne=E/i.length*w;function oe(Z){return c[Z%c.length]}for(M=c.length-2;M>=L;M--)if(b=i[M],b<ne){for(_=0,O=M-1;O>=L&&b+i[O]<ne;O--)b+=i[O];if(x&&M===c.length-2)for(_=0;_<O&&b+i[_]<ne;_++)b+=i[_];z=M-O+_+1,B=Math.floor((M+O+_+2)/2),!x&&M===c.length-2?N=c[c.length-1]:!x&&O===-1?N=c[0]:z%2?N=oe(B):N=[(oe(B)[0]+oe(B+1)[0])/2,(oe(B)[1]+oe(B+1)[1])/2],c.splice(O+1,M-O+1,N),M=O+1,_&&(L=_),x&&(M===c.length-2?c[_]=c[c.length-1]:M===0&&(c[c.length-1]=c[0]))}for(c.splice(0,L),M=0;M<c.length;M++)c[M].length=2;if(!(c.length<2))if(x)c.pop(),t.paths.push(c);else{s||g.log("Unclosed interior contour?",t.level,l.join(","),c.join("L"));var ce=!1;for(F=0;F<t.edgepaths.length;F++)if(j=t.edgepaths[F],!ce&&a(j[0],c[c.length-1],n,o)){c.pop(),ce=!0;var Q=!1;for(V=0;V<t.edgepaths.length;V++)if($=t.edgepaths[V],a($[$.length-1],c[0],n,o)){Q=!0,c.shift(),t.edgepaths.splice(F,1),V===F?t.paths.push(c.concat($)):(V>F&&V--,t.edgepaths[V]=$.concat(c,j));break}Q||(t.edgepaths[F]=c.concat(j))}for(F=0;F<t.edgepaths.length&&!ce;F++)j=t.edgepaths[F],a(j[j.length-1],c[0],n,o)&&(c.shift(),t.edgepaths[F]=j.concat(c),ce=!0);ce||t.edgepaths.push(c)}}function v(t,r,s){var n=0,o=0;return t>20&&r?t===208||t===1114?n=s[0]===0?1:-1:o=s[1]===0?1:-1:R.BOTTOMSTART.indexOf(t)!==-1?o=1:R.LEFTSTART.indexOf(t)!==-1?n=1:R.TOPSTART.indexOf(t)!==-1?o=-1:n=-1,[n,o]}function y(t,r,s){var n=r[0]+Math.max(s[0],0),o=r[1]+Math.max(s[1],0),f=t.z[o][n],u=t.xaxis,m=t.yaxis;if(s[1]){var c=(t.level-f)/(t.z[o][n+1]-f),A=(c!==1?(1-c)*u.c2l(t.x[n]):0)+(c!==0?c*u.c2l(t.x[n+1]):0);return[u.c2p(u.l2c(A),!0),m.c2p(t.y[o],!0),n+c,o]}else{var h=(t.level-f)/(t.z[o+1][n]-f),l=(h!==1?(1-h)*m.c2l(t.y[o]):0)+(h!==0?h*m.c2l(t.y[o+1]):0);return[u.c2p(t.x[n],!0),m.c2p(m.l2c(l),!0),n,o+h]}}},52421:function(W,H,e){var g=e(7901),R=e(46248);W.exports=function(C,T,v,y,t){t||(t={}),t.isContour=!0;var r=R(C,T,v,y,t);return r&&r.forEach(function(s){var n=s.trace;n.contours.type==="constraint"&&(n.fillcolor&&g.opacity(n.fillcolor)?s.color=g.addOpacity(n.fillcolor,1):n.contours.showlines&&g.opacity(n.line.color)&&(s.color=g.addOpacity(n.line.color,1)))}),r}},99442:function(W,H,e){W.exports={attributes:e(70600),supplyDefaults:e(13031),calc:e(27529),plot:e(29854).plot,style:e(84426),colorbar:e(90654),hoverPoints:e(52421),moduleType:"trace",name:"contour",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","contour","showLegend"],meta:{}}},14523:function(W,H,e){var g=e(71828);W.exports=function(a,C,T,v){v||(v={});var y=a("contours.showlabels");if(y){var t=C.font;g.coerceFont(a,"contours.labelfont",{family:t.family,size:t.size,color:T}),a("contours.labelformat")}v.hasHover!==!1&&a("zhoverformat")}},86068:function(W,H,e){var g=e(39898),R=e(21081),a=e(53572);W.exports=function(T){var v=T.contours,y=v.start,t=a(v),r=v.size||1,s=Math.floor((t-y)/r)+1,n=v.coloring==="lines"?0:1,o=R.extractOpts(T);isFinite(r)||(r=1,s=1);var f=o.reversescale?R.flipScale(o.colorscale):o.colorscale,u=f.length,m=new Array(u),c=new Array(u),A,h,l=o.min,p=o.max;if(v.coloring==="heatmap"){for(h=0;h<u;h++)A=f[h],m[h]=A[0]*(p-l)+l,c[h]=A[1];var M=g.extent([l,p,v.start,v.start+r*(s-1)]),S=M[l<p?0:1],P=M[l<p?1:0];S!==l&&(m.splice(0,0,S),c.splice(0,0,c[0])),P!==p&&(m.push(P),c.push(c[c.length-1]))}else{var x=T._input&&typeof T._input.zmin=="number"&&typeof T._input.zmax=="number";for(x&&(y<=l||t>=p)&&(y<=l&&(y=l),t>=p&&(t=p),s=Math.floor((t-y)/r)+1,n=0),h=0;h<u;h++)A=f[h],m[h]=(A[0]*(s+n-1)-n/2)*r+y,c[h]=A[1];(x||T.autocontour)&&(m[0]>l&&(m.unshift(l),c.unshift(c[0])),m[m.length-1]<p&&(m.push(p),c.push(c[c.length-1])))}return R.makeColorScaleFunc({domain:m,range:c},{noNumericCheck:!0})}},87678:function(W,H,e){var g=e(36914);W.exports=function(C){var T=C[0].z,v=T.length,y=T[0].length,t=v===2||y===2,r,s,n,o,f,u,m,c,A;for(s=0;s<v-1;s++)for(o=[],s===0&&(o=o.concat(g.BOTTOMSTART)),s===v-2&&(o=o.concat(g.TOPSTART)),r=0;r<y-1;r++)for(n=o.slice(),r===0&&(n=n.concat(g.LEFTSTART)),r===y-2&&(n=n.concat(g.RIGHTSTART)),f=r+","+s,u=[[T[s][r],T[s][r+1]],[T[s+1][r],T[s+1][r+1]]],A=0;A<C.length;A++)c=C[A],m=R(c.level,u),m&&(c.crossings[f]=m,n.indexOf(m)!==-1&&(c.starts.push([r,s]),t&&n.indexOf(m,n.indexOf(m)+1)!==-1&&c.starts.push([r,s])))};function R(a,C){var T=(C[0][0]>a?0:1)+(C[0][1]>a?0:2)+(C[1][1]>a?0:4)+(C[1][0]>a?0:8);if(T===5||T===10){var v=(C[0][0]+C[0][1]+C[1][0]+C[1][1])/4;return a>v?T===5?713:1114:T===5?104:208}return T===15?0:T}},29854:function(W,H,e){var g=e(39898),R=e(71828),a=e(91424),C=e(21081),T=e(63893),v=e(89298),y=e(21994),t=e(50347),r=e(87678),s=e(81696),n=e(87558),o=e(84857),f=e(20083),u=e(36914),m=u.LABELOPTIMIZER;H.plot=function(x,E,w,i){var L=E.xaxis,b=E.yaxis;R.makeTraceGroups(i,w,"contour").each(function(O){var _=g.select(this),N=O[0],z=N.trace,B=N.x,U=N.y,F=z.contours,V=n(F,E,N),j=R.ensureSingle(_,"g","heatmapcoloring"),$=[];F.coloring==="heatmap"&&($=[O]),t(x,E,$,j),r(V),s(V);var ne=L.c2p(B[0],!0),oe=L.c2p(B[B.length-1],!0),ce=b.c2p(U[0],!0),Q=b.c2p(U[U.length-1],!0),Z=[[ne,Q],[oe,Q],[oe,ce],[ne,ce]],K=V;F.type==="constraint"&&(K=o(V,F._operation)),c(_,Z,F),A(_,K,Z,F),l(_,V,x,N,F),M(_,E,x,N,Z)})};function c(P,x,E){var w=R.ensureSingle(P,"g","contourbg"),i=w.selectAll("path").data(E.coloring==="fill"?[0]:[]);i.enter().append("path"),i.exit().remove(),i.attr("d","M"+x.join("L")+"Z").style("stroke","none")}function A(P,x,E,w){var i=w.coloring==="fill"||w.type==="constraint"&&w._operation!=="=",L="M"+E.join("L")+"Z";i&&f(x,w);var b=R.ensureSingle(P,"g","contourfill"),O=b.selectAll("path").data(i?x:[]);O.enter().append("path"),O.exit().remove(),O.each(function(_){var N=(_.prefixBoundary?L:"")+h(_,E);N?g.select(this).attr("d",N).style("stroke","none"):g.select(this).remove()})}function h(P,x){var E="",w=0,i=P.edgepaths.map(function(ne,oe){return oe}),L=!0,b,O,_,N,z,B;function U(ne){return Math.abs(ne[1]-x[0][1])<.01}function F(ne){return Math.abs(ne[1]-x[2][1])<.01}function V(ne){return Math.abs(ne[0]-x[0][0])<.01}function j(ne){return Math.abs(ne[0]-x[2][0])<.01}for(;i.length;){for(B=a.smoothopen(P.edgepaths[w],P.smoothing),E+=L?B:B.replace(/^M/,"L"),i.splice(i.indexOf(w),1),b=P.edgepaths[w][P.edgepaths[w].length-1],N=-1,_=0;_<4;_++){if(!b){R.log("Missing end?",w,P);break}for(U(b)&&!j(b)?O=x[1]:V(b)?O=x[0]:F(b)?O=x[3]:j(b)&&(O=x[2]),z=0;z<P.edgepaths.length;z++){var $=P.edgepaths[z][0];Math.abs(b[0]-O[0])<.01?Math.abs(b[0]-$[0])<.01&&($[1]-b[1])*(O[1]-$[1])>=0&&(O=$,N=z):Math.abs(b[1]-O[1])<.01?Math.abs(b[1]-$[1])<.01&&($[0]-b[0])*(O[0]-$[0])>=0&&(O=$,N=z):R.log("endpt to newendpt is not vert. or horz.",b,O,$)}if(b=O,N>=0)break;E+="L"+O}if(N===P.edgepaths.length){R.log("unclosed perimeter path");break}w=N,L=i.indexOf(w)===-1,L&&(w=i[0],E+="Z")}for(w=0;w<P.paths.length;w++)E+=a.smoothclosed(P.paths[w],P.smoothing);return E}function l(P,x,E,w,i){var L=E._context.staticPlot,b=R.ensureSingle(P,"g","contourlines"),O=i.showlines!==!1,_=i.showlabels,N=O&&_,z=H.createLines(b,O||_,x,L),B=H.createLineClip(b,N,E,w.trace.uid),U=P.selectAll("g.contourlabels").data(_?[0]:[]);if(U.exit().remove(),U.enter().append("g").classed("contourlabels",!0),_){var F=[],V=[];R.clearLocationCache();var j=H.labelFormatter(E,w),$=a.tester.append("text").attr("data-notex",1).call(a.font,i.labelfont),ne=x[0].xaxis,oe=x[0].yaxis,ce=ne._length,Q=oe._length,Z=ne.range,K=oe.range,J=R.aggNums(Math.min,null,w.x),re=R.aggNums(Math.max,null,w.x),le=R.aggNums(Math.min,null,w.y),q=R.aggNums(Math.max,null,w.y),ee=Math.max(ne.c2p(J,!0),0),ue=Math.min(ne.c2p(re,!0),ce),se=Math.max(oe.c2p(q,!0),0),he=Math.min(oe.c2p(le,!0),Q),me={};Z[0]<Z[1]?(me.left=ee,me.right=ue):(me.left=ue,me.right=ee),K[0]<K[1]?(me.top=se,me.bottom=he):(me.top=he,me.bottom=se),me.middle=(me.top+me.bottom)/2,me.center=(me.left+me.right)/2,F.push([[me.left,me.top],[me.right,me.top],[me.right,me.bottom],[me.left,me.bottom]]);var Ce=Math.sqrt(ce*ce+Q*Q),Te=u.LABELDISTANCE*Ce/Math.max(1,x.length/u.LABELINCREASE);z.each(function(Oe){var Ne=H.calcTextOpts(Oe.level,j,$,E);g.select(this).selectAll("path").each(function(){var Le=this,be=R.getVisibleSegment(Le,me,Ne.height/2);if(be&&!(be.len<(Ne.width+Ne.height)*u.LABELMIN))for(var Ae=Math.min(Math.ceil(be.len/Te),u.LABELMAX),He=0;He<Ae;He++){var Ve=H.findBestTextLocation(Le,be,Ne,V,me);if(!Ve)break;H.addLabelData(Ve,Ne,V,F)}})}),$.remove(),H.drawLabels(U,V,E,B,N?F:null)}_&&!O&&z.remove()}H.createLines=function(P,x,E,w){var i=E[0].smoothing,L=P.selectAll("g.contourlevel").data(x?E:[]);if(L.exit().remove(),L.enter().append("g").classed("contourlevel",!0),x){var b=L.selectAll("path.openline").data(function(_){return _.pedgepaths||_.edgepaths});b.exit().remove(),b.enter().append("path").classed("openline",!0),b.attr("d",function(_){return a.smoothopen(_,i)}).style("stroke-miterlimit",1).style("vector-effect",w?"none":"non-scaling-stroke");var O=L.selectAll("path.closedline").data(function(_){return _.ppaths||_.paths});O.exit().remove(),O.enter().append("path").classed("closedline",!0),O.attr("d",function(_){return a.smoothclosed(_,i)}).style("stroke-miterlimit",1).style("vector-effect",w?"none":"non-scaling-stroke")}return L},H.createLineClip=function(P,x,E,w){var i=E._fullLayout._clips,L=x?"clipline"+w:null,b=i.selectAll("#"+L).data(x?[0]:[]);return b.exit().remove(),b.enter().append("clipPath").classed("contourlineclip",!0).attr("id",L),a.setClipUrl(P,L,E),b},H.labelFormatter=function(P,x){var E=P._fullLayout,w=x.trace,i=w.contours,L={type:"linear",_id:"ycontour",showexponent:"all",exponentformat:"B"};if(i.labelformat)L.tickformat=i.labelformat,y(L,E);else{var b=C.extractOpts(w);if(b&&b.colorbar&&b.colorbar._axis)L=b.colorbar._axis;else{if(i.type==="constraint"){var O=i.value;Array.isArray(O)?L.range=[O[0],O[O.length-1]]:L.range=[O,O]}else L.range=[i.start,i.end],L.nticks=(i.end-i.start)/i.size;L.range[0]===L.range[1]&&(L.range[1]+=L.range[0]||1),L.nticks||(L.nticks=1e3),y(L,E),v.prepTicks(L),L._tmin=null,L._tmax=null}}return function(_){return v.tickText(L,_).text}},H.calcTextOpts=function(P,x,E,w){var i=x(P);E.text(i).call(T.convertToTspans,w);var L=E.node(),b=a.bBox(L,!0);return{text:i,width:b.width,height:b.height,fontSize:+L.style["font-size"].replace("px",""),level:P,dy:(b.top+b.bottom)/2}},H.findBestTextLocation=function(P,x,E,w,i){var L=E.width,b,O,_,N,z;x.isClosed?(O=x.len/m.INITIALSEARCHPOINTS,b=x.min+O/2,_=x.max):(O=(x.len-L)/(m.INITIALSEARCHPOINTS+1),b=x.min+O+L/2,_=x.max-(O+L)/2);for(var B=1/0,U=0;U<m.ITERATIONS;U++){for(var F=b;F<_;F+=O){var V=R.getTextLocation(P,x.total,F,L),j=p(V,E,w,i);j<B&&(B=j,z=V,N=F)}if(B>m.MAXCOST*2)break;U&&(O/=2),b=N-O/2,_=b+O*1.5}if(B<=m.MAXCOST)return z};function p(P,x,E,w){var i=x.width/2,L=x.height/2,b=P.x,O=P.y,_=P.theta,N=Math.cos(_)*i,z=Math.sin(_)*i,B=(b>w.center?w.right-b:b-w.left)/(N+Math.abs(Math.sin(_)*L)),U=(O>w.middle?w.bottom-O:O-w.top)/(Math.abs(z)+Math.cos(_)*L);if(B<1||U<1)return 1/0;var F=m.EDGECOST*(1/(B-1)+1/(U-1));F+=m.ANGLECOST*_*_;for(var V=b-N,j=O-z,$=b+N,ne=O+z,oe=0;oe<E.length;oe++){var ce=E[oe],Q=Math.cos(ce.theta)*ce.width/2,Z=Math.sin(ce.theta)*ce.width/2,K=R.segmentDistance(V,j,$,ne,ce.x-Q,ce.y-Z,ce.x+Q,ce.y+Z)*2/(x.height+ce.height),J=ce.level===x.level,re=J?m.SAMELEVELDISTANCE:1;if(K<=re)return 1/0;var le=m.NEIGHBORCOST*(J?m.SAMELEVELFACTOR:1);F+=le/(K-re)}return F}H.addLabelData=function(P,x,E,w){var i=x.fontSize,L=x.width+i/3,b=Math.max(0,x.height-i/3),O=P.x,_=P.y,N=P.theta,z=Math.sin(N),B=Math.cos(N),U=function(V,j){return[O+V*B-j*z,_+V*z+j*B]},F=[U(-L/2,-b/2),U(-L/2,b/2),U(L/2,b/2),U(L/2,-b/2)];E.push({text:x.text,x:O,y:_,dy:x.dy,theta:N,level:x.level,width:L,height:b}),w.push(F)},H.drawLabels=function(P,x,E,w,i){var L=P.selectAll("text").data(x,function(N){return N.text+","+N.x+","+N.y+","+N.theta});if(L.exit().remove(),L.enter().append("text").attr({"data-notex":1,"text-anchor":"middle"}).each(function(N){var z=N.x+Math.sin(N.theta)*N.dy,B=N.y-Math.cos(N.theta)*N.dy;g.select(this).text(N.text).attr({x:z,y:B,transform:"rotate("+180*N.theta/Math.PI+" "+z+" "+B+")"}).call(T.convertToTspans,E)}),i){for(var b="",O=0;O<i.length;O++)b+="M"+i[O].join("L")+"Z";var _=R.ensureSingle(w,"path","");_.attr("d",b)}};function M(P,x,E,w,i){var L=w.trace,b=E._fullLayout._clips,O="clip"+L.uid,_=b.selectAll("#"+O).data(L.connectgaps?[]:[0]);if(_.enter().append("clipPath").classed("contourclip",!0).attr("id",O),_.exit().remove(),L.connectgaps===!1){var N={level:.9,crossings:{},starts:[],edgepaths:[],paths:[],xaxis:x.xaxis,yaxis:x.yaxis,x:w.x,y:w.y,z:S(w),smoothing:0};r([N]),s([N]),f([N],{type:"levels"});var z=R.ensureSingle(_,"path","");z.attr("d",(N.prefixBoundary?"M"+i.join("L")+"Z":"")+h(N,i))}else O=null;a.setClipUrl(P,O,E)}function S(P){var x=P.trace._emptypoints,E=[],w=P.z.length,i=P.z[0].length,L,b=[],O;for(L=0;L<i;L++)b.push(1);for(L=0;L<w;L++)E.push(b.slice());for(L=0;L<x.length;L++)O=x[L],E[O[0]][O[1]]=0;return P.zmask=E,E}},18670:function(W,H,e){var g=e(89298),R=e(71828);W.exports=function(T,v){var y=T.contours;if(T.autocontour){var t=T.zmin,r=T.zmax;(T.zauto||t===void 0)&&(t=R.aggNums(Math.min,null,v)),(T.zauto||r===void 0)&&(r=R.aggNums(Math.max,null,v));var s=a(t,r,T.ncontours);y.size=s.dtick,y.start=g.tickFirst(s),s.range.reverse(),y.end=g.tickFirst(s),y.start===t&&(y.start+=y.size),y.end===r&&(y.end-=y.size),y.start>y.end&&(y.start=y.end=(y.start+y.end)/2),T._input.contours||(T._input.contours={}),R.extendFlat(T._input.contours,{start:y.start,end:y.end,size:y.size}),T._input.autocontour=!0}else if(y.type!=="constraint"){var n=y.start,o=y.end,f=T._input.contours;if(n>o&&(y.start=f.start=o,o=y.end=f.end=n,n=y.start),!(y.size>0)){var u;n===o?u=1:u=a(n,o,T.ncontours).dtick,f.size=y.size=u}}};function a(C,T,v){var y={type:"linear",range:[C,T]};return g.autoTicks(y,(T-C)/(v||15)),y}},84426:function(W,H,e){var g=e(39898),R=e(91424),a=e(70035),C=e(86068);W.exports=function(v){var y=g.select(v).selectAll("g.contour");y.style("opacity",function(t){return t[0].trace.opacity}),y.each(function(t){var r=g.select(this),s=t[0].trace,n=s.contours,o=s.line,f=n.size||1,u=n.start,m=n.type==="constraint",c=!m&&n.coloring==="lines",A=!m&&n.coloring==="fill",h=c||A?C(s):null;r.selectAll("g.contourlevel").each(function(M){g.select(this).selectAll("path").call(R.lineGroupStyle,o.width,c?h(M.level):o.color,o.dash)});var l=n.labelfont;if(r.selectAll("g.contourlabels text").each(function(M){R.font(g.select(this),{family:l.family,size:l.size,color:l.color||(c?h(M.level):o.color)})}),m)r.selectAll("g.contourfill path").style("fill",s.fillcolor);else if(A){var p;r.selectAll("g.contourfill path").style("fill",function(M){return p===void 0&&(p=M.level),h(M.level+.5*f)}),p===void 0&&(p=u),r.selectAll("g.contourbg path").style("fill",h(p-.5*f))}}),a(v)}},8724:function(W,H,e){var g=e(1586),R=e(14523);W.exports=function(C,T,v,y,t){var r=v("contours.coloring"),s,n="";r==="fill"&&(s=v("contours.showlines")),s!==!1&&(r!=="lines"&&(n=v("line.color","#000")),v("line.width",.5),v("line.dash")),r!=="none"&&(C.showlegend!==!0&&(T.showlegend=!1),T._dfltShowLegend=!1,g(C,T,y,v,{prefix:"",cLetter:"z"})),v("line.smoothing"),R(v,y,n,t)}},88085:function(W,H,e){var g=e(21606),R=e(70600),a=e(50693),C=e(1426).extendFlat,T=R.contours;W.exports=C({carpet:{valType:"string",editType:"calc"},z:g.z,a:g.x,a0:g.x0,da:g.dx,b:g.y,b0:g.y0,db:g.dy,text:g.text,hovertext:g.hovertext,transpose:g.transpose,atype:g.xtype,btype:g.ytype,fillcolor:R.fillcolor,autocontour:R.autocontour,ncontours:R.ncontours,contours:{type:T.type,start:T.start,end:T.end,size:T.size,coloring:{valType:"enumerated",values:["fill","lines","none"],dflt:"fill",editType:"calc"},showlines:T.showlines,showlabels:T.showlabels,labelfont:T.labelfont,labelformat:T.labelformat,operation:T.operation,value:T.value,editType:"calc",impliedEdits:{autocontour:!1}},line:{color:R.line.color,width:R.line.width,dash:R.line.dash,smoothing:R.line.smoothing,editType:"plot"},transforms:void 0},a("",{cLetter:"z",autoColorDflt:!1}))},59885:function(W,H,e){var g=e(78803),R=e(71828),a=e(68296),C=e(4742),T=e(824),v=e(43907),y=e(70769),t=e(75005),r=e(22882),s=e(18670);W.exports=function(f,u){var m=u._carpetTrace=r(f,u);if(!(!m||!m.visible||m.visible==="legendonly")){if(!u.a||!u.b){var c=f.data[m.index],A=f.data[u.index];A.a||(A.a=c.a),A.b||(A.b=c.b),t(A,u,u._defaultColor,f._fullLayout)}var h=n(f,u);return s(u,u._z),h}};function n(o,f){var u=f._carpetTrace,m=u.aaxis,c=u.baxis,A,h,l,p,M,S,P;m._minDtick=0,c._minDtick=0,R.isArray1D(f.z)&&a(f,m,c,"a","b",["z"]),A=f._a=f._a||f.a,p=f._b=f._b||f.b,A=A?m.makeCalcdata(f,"_a"):[],p=p?c.makeCalcdata(f,"_b"):[],h=f.a0||0,l=f.da||1,M=f.b0||0,S=f.db||1,P=f._z=C(f._z||f.z,f.transpose),f._emptypoints=v(P),T(P,f._emptypoints);var x=R.maxRowLength(P),E=f.xtype==="scaled"?"":A,w=y(f,E,h,l,x,m),i=f.ytype==="scaled"?"":p,L=y(f,i,M,S,P.length,c),b={a:w,b:L,z:P};return f.contours.type==="levels"&&f.contours.coloring!=="none"&&g(o,f,{vals:P,containerStr:"",cLetter:"z"}),[b]}},75005:function(W,H,e){var g=e(71828),R=e(67684),a=e(88085),C=e(83179),T=e(67217),v=e(8724);W.exports=function(t,r,s,n){function o(c,A){return g.coerce(t,r,a,c,A)}function f(c){return g.coerce2(t,r,a,c)}if(o("carpet"),t.a&&t.b){var u=R(t,r,o,n,"a","b");if(!u){r.visible=!1;return}o("text");var m=o("contours.type")==="constraint";m?C(t,r,o,n,s,{hasHover:!1}):(T(t,r,o,f),v(t,r,o,n,{hasHover:!1}))}else r._defaultColor=s,r._length=null}},93740:function(W,H,e){W.exports={attributes:e(88085),supplyDefaults:e(75005),colorbar:e(90654),calc:e(59885),plot:e(51048),style:e(84426),moduleType:"trace",name:"contourcarpet",basePlotModule:e(93612),categories:["cartesian","svg","carpet","contour","symbols","showLegend","hasLines","carpetDependent","noHover","noSortingByValue"],meta:{}}},51048:function(W,H,e){var g=e(39898),R=e(27669),a=e(67961),C=e(91424),T=e(71828),v=e(87678),y=e(81696),t=e(29854),r=e(36914),s=e(84857),n=e(87558),o=e(20083),f=e(22882),u=e(4536);W.exports=function(E,w,i,L){var b=w.xaxis,O=w.yaxis;T.makeTraceGroups(L,i,"contour").each(function(_){var N=g.select(this),z=_[0],B=z.trace,U=B._carpetTrace=f(E,B),F=E.calcdata[U.index][0];if(!U.visible||U.visible==="legendonly")return;var V=z.a,j=z.b,$=B.contours,ne=n($,w,z),oe=$.type==="constraint",ce=$._operation,Q=oe?ce==="="?"lines":"fill":$.coloring;function Z(Ce){var Te=U.ab2xy(Ce[0],Ce[1],!0);return[b.c2p(Te[0]),O.c2p(Te[1])]}var K=[[V[0],j[j.length-1]],[V[V.length-1],j[j.length-1]],[V[V.length-1],j[0]],[V[0],j[0]]];v(ne);var J=(V[V.length-1]-V[0])*1e-8,re=(j[j.length-1]-j[0])*1e-8;y(ne,J,re);var le=ne;$.type==="constraint"&&(le=s(ne,ce)),m(ne,Z);var q,ee,ue,se,he=[];for(se=F.clipsegments.length-1;se>=0;se--)q=F.clipsegments[se],ee=R([],q.x,b.c2p),ue=R([],q.y,O.c2p),ee.reverse(),ue.reverse(),he.push(a(ee,ue,q.bicubic));var me="M"+he.join("L")+"Z";M(N,F.clipsegments,b,O,oe,Q),S(B,N,b,O,le,K,Z,U,F,Q,me),c(N,ne,E,z,$,w,U),C.setClipUrl(N,U._clipPathId,E)})};function m(x,E){var w,i,L,b,O,_,N,z,B;for(w=0;w<x.length;w++){for(b=x[w],O=b.pedgepaths=[],_=b.ppaths=[],i=0;i<b.edgepaths.length;i++){for(B=b.edgepaths[i],N=[],L=0;L<B.length;L++)N[L]=E(B[L]);O.push(N)}for(i=0;i<b.paths.length;i++){for(B=b.paths[i],z=[],L=0;L<B.length;L++)z[L]=E(B[L]);_.push(z)}}}function c(x,E,w,i,L,b,O){var _=w._context.staticPlot,N=T.ensureSingle(x,"g","contourlines"),z=L.showlines!==!1,B=L.showlabels,U=z&&B,F=t.createLines(N,z||B,E,_),V=t.createLineClip(N,U,w,i.trace.uid),j=x.selectAll("g.contourlabels").data(B?[0]:[]);if(j.exit().remove(),j.enter().append("g").classed("contourlabels",!0),B){var $=b.xaxis,ne=b.yaxis,oe=$._length,ce=ne._length,Q=[[[0,0],[oe,0],[oe,ce],[0,ce]]],Z=[];T.clearLocationCache();var K=t.labelFormatter(w,i),J=C.tester.append("text").attr("data-notex",1).call(C.font,L.labelfont),re={left:0,right:oe,center:oe/2,top:0,bottom:ce,middle:ce/2},le=Math.sqrt(oe*oe+ce*ce),q=r.LABELDISTANCE*le/Math.max(1,E.length/r.LABELINCREASE);F.each(function(ee){var ue=t.calcTextOpts(ee.level,K,J,w);g.select(this).selectAll("path").each(function(se){var he=this,me=T.getVisibleSegment(he,re,ue.height/2);if(me&&(A(he,se,ee,me,O,ue.height),!(me.len<(ue.width+ue.height)*r.LABELMIN)))for(var Ce=Math.min(Math.ceil(me.len/q),r.LABELMAX),Te=0;Te<Ce;Te++){var Oe=t.findBestTextLocation(he,me,ue,Z,re);if(!Oe)break;t.addLabelData(Oe,ue,Z,Q)}})}),J.remove(),t.drawLabels(j,Z,w,V,U?Q:null)}B&&!z&&F.remove()}function A(x,E,w,i,L,b){for(var O,_=0;_<w.pedgepaths.length;_++)E===w.pedgepaths[_]&&(O=w.edgepaths[_]);if(!O)return;var N=L.a[0],z=L.a[L.a.length-1],B=L.b[0],U=L.b[L.b.length-1];function F(oe,ce){var Q=0,Z,K=.1;return(Math.abs(oe[0]-N)<K||Math.abs(oe[0]-z)<K)&&(Z=l(L.dxydb_rough(oe[0],oe[1],K)),Q=Math.max(Q,b*p(ce,Z)/2)),(Math.abs(oe[1]-B)<K||Math.abs(oe[1]-U)<K)&&(Z=l(L.dxyda_rough(oe[0],oe[1],K)),Q=Math.max(Q,b*p(ce,Z)/2)),Q}var V=h(x,0,1),j=h(x,i.total,i.total-1),$=F(O[0],V),ne=i.total-F(O[O.length-1],j);i.min<$&&(i.min=$),i.max>ne&&(i.max=ne),i.len=i.max-i.min}function h(x,E,w){var i=x.getPointAtLength(E),L=x.getPointAtLength(w),b=L.x-i.x,O=L.y-i.y,_=Math.sqrt(b*b+O*O);return[b/_,O/_]}function l(x){var E=Math.sqrt(x[0]*x[0]+x[1]*x[1]);return[x[0]/E,x[1]/E]}function p(x,E){var w=Math.abs(x[0]*E[0]+x[1]*E[1]),i=Math.sqrt(1-w*w);return i/w}function M(x,E,w,i,L,b){var O,_,N,z,B=T.ensureSingle(x,"g","contourbg"),U=B.selectAll("path").data(b==="fill"&&!L?[0]:[]);U.enter().append("path"),U.exit().remove();var F=[];for(z=0;z<E.length;z++)O=E[z],_=R([],O.x,w.c2p),N=R([],O.y,i.c2p),F.push(a(_,N,O.bicubic));U.attr("d","M"+F.join("L")+"Z").style("stroke","none")}function S(x,E,w,i,L,b,O,_,N,z,B){var U=z==="fill";U&&o(L,x.contours);var F=T.ensureSingle(E,"g","contourfill"),V=F.selectAll("path").data(U?L:[]);V.enter().append("path"),V.exit().remove(),V.each(function(j){var $=(j.prefixBoundary?B:"")+P(x,j,b,O,_,N,w,i);$?g.select(this).attr("d",$).style("stroke","none"):g.select(this).remove()})}function P(x,E,w,i,L,b,O,_){var N,z="",B=E.edgepaths.map(function(ue,se){return se}),U=!0,F,V,j,$,ne,oe,ce=Math.abs(w[0][0]-w[2][0])*1e-4,Q=Math.abs(w[0][1]-w[2][1])*1e-4;function Z(ue){return Math.abs(ue[1]-w[0][1])<Q}function K(ue){return Math.abs(ue[1]-w[2][1])<Q}function J(ue){return Math.abs(ue[0]-w[0][0])<ce}function re(ue){return Math.abs(ue[0]-w[2][0])<ce}function le(ue,se){var he,me,Ce,Te,Oe="";for(Z(ue)&&!re(ue)||K(ue)&&!J(ue)?(Te=L.aaxis,Ce=u(L,b,[ue[0],se[0]],.5*(ue[1]+se[1]))):(Te=L.baxis,Ce=u(L,b,.5*(ue[0]+se[0]),[ue[1],se[1]])),he=1;he<Ce.length;he++)for(Oe+=Te.smoothing?"C":"L",me=0;me<Ce[he].length;me++){var Ne=Ce[he][me];Oe+=[O.c2p(Ne[0]),_.c2p(Ne[1])]+" "}return Oe}for(N=0,F=null;B.length;){var q=E.edgepaths[N][0];for(F&&(z+=le(F,q)),oe=C.smoothopen(E.edgepaths[N].map(i),E.smoothing),z+=U?oe:oe.replace(/^M/,"L"),B.splice(B.indexOf(N),1),F=E.edgepaths[N][E.edgepaths[N].length-1],$=-1,j=0;j<4;j++){if(!F){T.log("Missing end?",N,E);break}for(Z(F)&&!re(F)?V=w[1]:J(F)?V=w[0]:K(F)?V=w[3]:re(F)&&(V=w[2]),ne=0;ne<E.edgepaths.length;ne++){var ee=E.edgepaths[ne][0];Math.abs(F[0]-V[0])<ce?Math.abs(F[0]-ee[0])<ce&&(ee[1]-F[1])*(V[1]-ee[1])>=0&&(V=ee,$=ne):Math.abs(F[1]-V[1])<Q?Math.abs(F[1]-ee[1])<Q&&(ee[0]-F[0])*(V[0]-ee[0])>=0&&(V=ee,$=ne):T.log("endpt to newendpt is not vert. or horz.",F,V,ee)}if($>=0)break;z+=le(F,V),F=V}if($===E.edgepaths.length){T.log("unclosed perimeter path");break}N=$,U=B.indexOf(N)===-1,U&&(N=B[0],z+=le(F,V)+"Z",F=null)}for(N=0;N<E.paths.length;N++)z+=C.smoothclosed(E.paths[N].map(i),E.smoothing);return z}},64096:function(W,H,e){var g=e(50693),R=e(5386).fF,a=e(9012),C=e(99181),T=e(1426).extendFlat;W.exports=T({lon:C.lon,lat:C.lat,z:{valType:"data_array",editType:"calc"},radius:{valType:"number",editType:"plot",arrayOk:!0,min:1,dflt:30},below:{valType:"string",editType:"plot"},text:C.text,hovertext:C.hovertext,hoverinfo:T({},a.hoverinfo,{flags:["lon","lat","z","text","name"]}),hovertemplate:R(),showlegend:T({},a.showlegend,{dflt:!1})},g("",{cLetter:"z",editTypeOverride:"calc"}))},85070:function(W,H,e){var g=e(92770),R=e(71828).isArrayOrTypedArray,a=e(50606).BADNUM,C=e(78803),T=e(71828)._;W.exports=function(y,t){for(var r=t._length,s=new Array(r),n=t.z,o=R(n)&&n.length,f=0;f<r;f++){var u=s[f]={},m=t.lon[f],c=t.lat[f];if(u.lonlat=g(m)&&g(c)?[+m,+c]:[a,a],o){var A=n[f];u.z=g(A)?A:a}}return C(y,t,{vals:o?n:[0,1],containerStr:"",cLetter:"z"}),r&&(s[0].t={labels:{lat:T(y,"lat:")+" ",lon:T(y,"lon:")+" "}}),s}},52414:function(W,H,e){var g=e(92770),R=e(71828),a=e(7901),C=e(21081),T=e(50606).BADNUM,v=e(18214).makeBlank;W.exports=function(t){var r=t[0].trace,s=r.visible===!0&&r._length!==0,n={layout:{visibility:"none"},paint:{}},o=r._opts={heatmap:n,geojson:v()};if(!s)return o;var f=[],u,m=r.z,c=r.radius,A=R.isArrayOrTypedArray(m)&&m.length,h=R.isArrayOrTypedArray(c);for(u=0;u<t.length;u++){var l=t[u],p=l.lonlat;if(p[0]!==T){var M={};if(A){var S=l.z;M.z=S!==T?S:0}h&&(M.r=g(c[u])&&c[u]>0?+c[u]:0),f.push({type:"Feature",geometry:{type:"Point",coordinates:p},properties:M})}}var P=C.extractOpts(r),x=P.reversescale?C.flipScale(P.colorscale):P.colorscale,E=x[0][1],w=a.opacity(E)<1?E:a.addOpacity(E,0),i=["interpolate",["linear"],["heatmap-density"],0,w];for(u=1;u<x.length;u++)i.push(x[u][0],x[u][1]);var L=["interpolate",["linear"],["get","z"],P.min,0,P.max,1];return R.extendFlat(o.heatmap.paint,{"heatmap-weight":A?L:1/(P.max-P.min),"heatmap-color":i,"heatmap-radius":h?{type:"identity",property:"r"}:r.radius,"heatmap-opacity":r.opacity}),o.geojson={type:"FeatureCollection",features:f},o.heatmap.layout.visibility="visible",o}},79429:function(W,H,e){var g=e(71828),R=e(1586),a=e(64096);W.exports=function(T,v,y,t){function r(f,u){return g.coerce(T,v,a,f,u)}var s=r("lon")||[],n=r("lat")||[],o=Math.min(s.length,n.length);if(!o){v.visible=!1;return}v._length=o,r("z"),r("radius"),r("below"),r("text"),r("hovertext"),r("hovertemplate"),R(T,v,t,r,{prefix:"",cLetter:"z"})}},62474:function(W){W.exports=function(e,g){return e.lon=g.lon,e.lat=g.lat,e.z=g.z,e}},84684:function(W,H,e){var g=e(89298),R=e(28178).hoverPoints,a=e(28178).getExtraText;W.exports=function(T,v,y){var t=R(T,v,y);if(t){var r=t[0],s=r.cd,n=s[0].trace,o=s[r.index];if(delete r.color,"z"in o){var f=r.subplot.mockAxis;r.z=o.z,r.zLabel=g.tickText(f,f.c2l(o.z),"hover").text}return r.extraText=a(n,o,s[0].t.labels),[r]}}},93814:function(W,H,e){W.exports={attributes:e(64096),supplyDefaults:e(79429),colorbar:e(61243),formatLabels:e(15636),calc:e(85070),plot:e(7336),hoverPoints:e(84684),eventData:e(62474),getBelow:function(g,R){for(var a=R.getMapLayers(),C=0;C<a.length;C++){var T=a[C],v=T.id;if(T.type==="symbol"&&typeof v=="string"&&v.indexOf("plotly-")===-1)return v}},moduleType:"trace",name:"densitymapbox",basePlotModule:e(50101),categories:["mapbox","gl","showLegend"],meta:{hr_name:"density_mapbox"}}},7336:function(W,H,e){var g=e(52414),R=e(77734).traceLayerPrefix;function a(T,v){this.type="densitymapbox",this.subplot=T,this.uid=v,this.sourceId="source-"+v,this.layerList=[["heatmap",R+v+"-heatmap"]],this.below=null}var C=a.prototype;C.update=function(T){var v=this.subplot,y=this.layerList,t=g(T),r=v.belowLookup["trace-"+this.uid];v.map.getSource(this.sourceId).setData(t.geojson),r!==this.below&&(this._removeLayers(),this._addLayers(t,r),this.below=r);for(var s=0;s<y.length;s++){var n=y[s],o=n[0],f=n[1],u=t[o];v.setOptions(f,"setLayoutProperty",u.layout),u.layout.visibility==="visible"&&v.setOptions(f,"setPaintProperty",u.paint)}},C._addLayers=function(T,v){for(var y=this.subplot,t=this.layerList,r=this.sourceId,s=0;s<t.length;s++){var n=t[s],o=n[0],f=T[o];y.addLayer({type:o,id:n[1],source:r,layout:f.layout,paint:f.paint},v)}},C._removeLayers=function(){for(var T=this.subplot.map,v=this.layerList,y=v.length-1;y>=0;y--)T.removeLayer(v[y][1])},C.dispose=function(){var T=this.subplot.map;this._removeLayers(),T.removeSource(this.sourceId)},W.exports=function(v,y){var t=y[0].trace,r=new a(v,t.uid),s=r.sourceId,n=g(y),o=r.below=v.belowLookup["trace-"+t.uid];return v.map.addSource(s,{type:"geojson",data:n.geojson}),r._addLayers(n,o),r}},49789:function(W,H,e){var g=e(71828);W.exports=function(a,C){for(var T=0;T<a.length;T++)a[T].i=T;g.mergeArray(C.text,a,"tx"),g.mergeArray(C.hovertext,a,"htx");var v=C.marker;if(v){g.mergeArray(v.opacity,a,"mo"),g.mergeArray(v.color,a,"mc");var y=v.line;y&&(g.mergeArray(y.color,a,"mlc"),g.mergeArrayCastPositive(y.width,a,"mlw"))}}},1285:function(W,H,e){var g=e(1486),R=e(82196).line,a=e(9012),C=e(12663).axisHoverFormat,T=e(5386).fF,v=e(5386).si,y=e(18517),t=e(1426).extendFlat,r=e(7901);W.exports={x:g.x,x0:g.x0,dx:g.dx,y:g.y,y0:g.y0,dy:g.dy,xperiod:g.xperiod,yperiod:g.yperiod,xperiod0:g.xperiod0,yperiod0:g.yperiod0,xperiodalignment:g.xperiodalignment,yperiodalignment:g.yperiodalignment,xhoverformat:C("x"),yhoverformat:C("y"),hovertext:g.hovertext,hovertemplate:T({},{keys:y.eventDataKeys}),hoverinfo:t({},a.hoverinfo,{flags:["name","x","y","text","percent initial","percent previous","percent total"]}),textinfo:{valType:"flaglist",flags:["label","text","percent initial","percent previous","percent total","value"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:v({editType:"plot"},{keys:y.eventDataKeys.concat(["label","value"])}),text:g.text,textposition:g.textposition,insidetextanchor:t({},g.insidetextanchor,{dflt:"middle"}),textangle:t({},g.textangle,{dflt:0}),textfont:g.textfont,insidetextfont:g.insidetextfont,outsidetextfont:g.outsidetextfont,constraintext:g.constraintext,cliponaxis:g.cliponaxis,orientation:t({},g.orientation,{}),offset:t({},g.offset,{arrayOk:!1}),width:t({},g.width,{arrayOk:!1}),marker:s(),connector:{fillcolor:{valType:"color",editType:"style"},line:{color:t({},R.color,{dflt:r.defaultLine}),width:t({},R.width,{dflt:0,editType:"plot"}),dash:R.dash,editType:"style"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:g.offsetgroup,alignmentgroup:g.alignmentgroup};function s(){var n=t({},g.marker);return delete n.pattern,n}},9532:function(W,H,e){var g=e(89298),R=e(42973),a=e(49789),C=e(66279),T=e(50606).BADNUM;W.exports=function(t,r){var s=g.getFromId(t,r.xaxis||"x"),n=g.getFromId(t,r.yaxis||"y"),o,f,u,m,c,A,h,l;r.orientation==="h"?(o=s.makeCalcdata(r,"x"),u=n.makeCalcdata(r,"y"),m=R(r,n,"y",u),c=!!r.yperiodalignment,A="y"):(o=n.makeCalcdata(r,"y"),u=s.makeCalcdata(r,"x"),m=R(r,s,"x",u),c=!!r.xperiodalignment,A="x"),f=m.vals;var p=Math.min(f.length,o.length),M=new Array(p);for(r._base=[],h=0;h<p;h++){o[h]<0&&(o[h]=T);var S=!1;o[h]!==T&&h+1<p&&o[h+1]!==T&&(S=!0),l=M[h]={p:f[h],s:o[h],cNext:S},r._base[h]=-.5*l.s,c&&(M[h].orig_p=u[h],M[h][A+"End"]=m.ends[h],M[h][A+"Start"]=m.starts[h]),r.ids&&(l.id=String(r.ids[h])),h===0&&(M[0].vTotal=0),M[0].vTotal+=v(l.s),l.begR=v(l.s)/v(M[0].s)}var P;for(h=0;h<p;h++)l=M[h],l.s!==T&&(l.sumR=l.s/M[0].vTotal,l.difR=P!==void 0?l.s/P:1,P=l.s);return a(M,r),C(M,r),M};function v(y){return y===T?0:y}},18517:function(W){W.exports={eventDataKeys:["percentInitial","percentPrevious","percentTotal"]}},8984:function(W,H,e){var g=e(11661).setGroupPositions;W.exports=function(a,C){var T=a._fullLayout,v=a._fullData,y=a.calcdata,t=C.xaxis,r=C.yaxis,s=[],n=[],o=[],f,u;for(u=0;u<v.length;u++){var m=v[u],c=m.orientation==="h";m.visible===!0&&m.xaxis===t._id&&m.yaxis===r._id&&m.type==="funnel"&&(f=y[u],c?o.push(f):n.push(f),s.push(f))}var A={mode:T.funnelmode,norm:T.funnelnorm,gap:T.funnelgap,groupgap:T.funnelgroupgap};for(g(a,t,r,n,A),g(a,r,t,o,A),u=0;u<s.length;u++){f=s[u];for(var h=0;h<f.length;h++)h+1<f.length&&(f[h].nextP0=f[h+1].p0,f[h].nextS0=f[h+1].s0,f[h].nextP1=f[h+1].p1,f[h].nextS1=f[h+1].s1)}}},26199:function(W,H,e){var g=e(71828),R=e(26125),a=e(90769).handleText,C=e(67513),T=e(73927),v=e(1285),y=e(7901);function t(n,o,f,u){function m(S,P){return g.coerce(n,o,v,S,P)}var c=C(n,o,u,m);if(!c){o.visible=!1;return}T(n,o,u,m),m("xhoverformat"),m("yhoverformat"),m("orientation",o.y&&!o.x?"v":"h"),m("offset"),m("width");var A=m("text");m("hovertext"),m("hovertemplate");var h=m("textposition");a(n,o,u,m,h,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),o.textposition!=="none"&&!o.texttemplate&&m("textinfo",Array.isArray(A)?"text+value":"value");var l=m("marker.color",f);m("marker.line.color",y.defaultLine),m("marker.line.width");var p=m("connector.visible");if(p){m("connector.fillcolor",r(l));var M=m("connector.line.width");M&&(m("connector.line.color"),m("connector.line.dash"))}}function r(n){var o=g.isArrayOrTypedArray(n)?"#000":n;return y.addOpacity(o,.5*y.opacity(o))}function s(n,o){var f,u;function m(A){return g.coerce(u._input,u,v,A)}if(o.funnelmode==="group")for(var c=0;c<n.length;c++)u=n[c],f=u._input,R(f,u,o,m)}W.exports={supplyDefaults:t,crossTraceDefaults:s}},34598:function(W){W.exports=function(e,g){return e.x="xVal"in g?g.xVal:g.x,e.y="yVal"in g?g.yVal:g.y,"percentInitial"in g&&(e.percentInitial=g.percentInitial),"percentPrevious"in g&&(e.percentPrevious=g.percentPrevious),"percentTotal"in g&&(e.percentTotal=g.percentTotal),g.xa&&(e.xaxis=g.xa),g.ya&&(e.yaxis=g.ya),e}},63341:function(W,H,e){var g=e(7901).opacity,R=e(95423).hoverOnBars,a=e(71828).formatPercent;W.exports=function(v,y,t,r,s){var n=R(v,y,t,r,s);if(n){var o=n.cd,f=o[0].trace,u=f.orientation==="h",m=n.index,c=o[m],A=u?"x":"y";n[A+"LabelVal"]=c.s,n.percentInitial=c.begR,n.percentInitialLabel=a(c.begR,1),n.percentPrevious=c.difR,n.percentPreviousLabel=a(c.difR,1),n.percentTotal=c.sumR,n.percentTotalLabel=a(c.sumR,1);var h=c.hi||f.hoverinfo,l=[];if(h&&h!=="none"&&h!=="skip"){var p=h==="all",M=h.split("+"),S=function(P){return p||M.indexOf(P)!==-1};S("percent initial")&&l.push(n.percentInitialLabel+" of initial"),S("percent previous")&&l.push(n.percentPreviousLabel+" of previous"),S("percent total")&&l.push(n.percentTotalLabel+" of total")}return n.extraText=l.join("<br>"),n.color=C(f,c),[n]}};function C(T,v){var y=T.marker,t=v.mc||y.color,r=v.mlc||y.line.color,s=v.mlw||y.line.width;if(g(t))return t;if(g(r)&&s)return r}},51759:function(W,H,e){W.exports={attributes:e(1285),layoutAttributes:e(10440),supplyDefaults:e(26199).supplyDefaults,crossTraceDefaults:e(26199).crossTraceDefaults,supplyLayoutDefaults:e(93138),calc:e(9532),crossTraceCalc:e(8984),plot:e(80461),style:e(68266).style,hoverPoints:e(63341),eventData:e(34598),selectPoints:e(81974),moduleType:"trace",name:"funnel",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},10440:function(W){W.exports={funnelmode:{valType:"enumerated",values:["stack","group","overlay"],dflt:"stack",editType:"calc"},funnelgap:{valType:"number",min:0,max:1,editType:"calc"},funnelgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},93138:function(W,H,e){var g=e(71828),R=e(10440);W.exports=function(a,C,T){var v=!1;function y(s,n){return g.coerce(a,C,R,s,n)}for(var t=0;t<T.length;t++){var r=T[t];if(r.visible&&r.type==="funnel"){v=!0;break}}v&&(y("funnelmode"),y("funnelgap",.2),y("funnelgroupgap"))}},80461:function(W,H,e){var g=e(39898),R=e(71828),a=e(91424),C=e(50606).BADNUM,T=e(17295),v=e(72597).clearMinTextSize;W.exports=function(n,o,f,u){var m=n._fullLayout;v("funnel",m),y(n,o,f,u),t(n,o,f,u),T.plot(n,o,f,u,{mode:m.funnelmode,norm:m.funnelmode,gap:m.funnelgap,groupgap:m.funnelgroupgap})};function y(s,n,o,f){var u=n.xaxis,m=n.yaxis;R.makeTraceGroups(f,o,"trace bars").each(function(c){var A=g.select(this),h=c[0].trace,l=R.ensureSingle(A,"g","regions");if(!h.connector||!h.connector.visible){l.remove();return}var p=h.orientation==="h",M=l.selectAll("g.region").data(R.identity);M.enter().append("g").classed("region",!0),M.exit().remove();var S=M.size();M.each(function(P,x){if(!(x!==S-1&&!P.cNext)){var E=r(P,u,m,p),w=E[0],i=E[1],L="";w[0]!==C&&i[0]!==C&&w[1]!==C&&i[1]!==C&&w[2]!==C&&i[2]!==C&&w[3]!==C&&i[3]!==C&&(p?L+="M"+w[0]+","+i[1]+"L"+w[2]+","+i[2]+"H"+w[3]+"L"+w[1]+","+i[1]+"Z":L+="M"+w[1]+","+i[1]+"L"+w[2]+","+i[3]+"V"+i[2]+"L"+w[1]+","+i[0]+"Z"),L===""&&(L="M0,0Z"),R.ensureSingle(g.select(this),"path").attr("d",L).call(a.setClipUrl,n.layerClipId,s)}})})}function t(s,n,o,f){var u=n.xaxis,m=n.yaxis;R.makeTraceGroups(f,o,"trace bars").each(function(c){var A=g.select(this),h=c[0].trace,l=R.ensureSingle(A,"g","lines");if(!h.connector||!h.connector.visible||!h.connector.line.width){l.remove();return}var p=h.orientation==="h",M=l.selectAll("g.line").data(R.identity);M.enter().append("g").classed("line",!0),M.exit().remove();var S=M.size();M.each(function(P,x){if(!(x!==S-1&&!P.cNext)){var E=r(P,u,m,p),w=E[0],i=E[1],L="";w[3]!==void 0&&i[3]!==void 0&&(p?(L+="M"+w[0]+","+i[1]+"L"+w[2]+","+i[2],L+="M"+w[1]+","+i[1]+"L"+w[3]+","+i[2]):(L+="M"+w[1]+","+i[1]+"L"+w[2]+","+i[3],L+="M"+w[1]+","+i[0]+"L"+w[2]+","+i[2])),L===""&&(L="M0,0Z"),R.ensureSingle(g.select(this),"path").attr("d",L).call(a.setClipUrl,n.layerClipId,s)}})})}function r(s,n,o,f){var u=[],m=[],c=f?n:o,A=f?o:n;return u[0]=c.c2p(s.s0,!0),m[0]=A.c2p(s.p0,!0),u[1]=c.c2p(s.s1,!0),m[1]=A.c2p(s.p1,!0),u[2]=c.c2p(s.nextS0,!0),m[2]=A.c2p(s.nextP0,!0),u[3]=c.c2p(s.nextS1,!0),m[3]=A.c2p(s.nextP1,!0),f?[u,m]:[m,u]}},68266:function(W,H,e){var g=e(39898),R=e(91424),a=e(7901),C=e(37822).DESELECTDIM,T=e(16688),v=e(72597).resizeText,y=T.styleTextPoints;function t(r,s,n){var o=n||g.select(r).selectAll("g.funnellayer").selectAll("g.trace");v(r,o,"funnel"),o.style("opacity",function(f){return f[0].trace.opacity}),o.each(function(f){var u=g.select(this),m=f[0].trace;u.selectAll(".point > path").each(function(c){if(!c.isBlank){var A=m.marker;g.select(this).call(a.fill,c.mc||A.color).call(a.stroke,c.mlc||A.line.color).call(R.dashLine,A.line.dash,c.mlw||A.line.width).style("opacity",m.selectedpoints&&!c.selected?C:1)}}),y(u,m,r),u.selectAll(".regions").each(function(){g.select(this).selectAll("path").style("stroke-width",0).call(a.fill,m.connector.fillcolor)}),u.selectAll(".lines").each(function(){var c=m.connector.line;R.lineGroupStyle(g.select(this).selectAll("path"),c.width,c.color,c.dash)})})}W.exports={style:t}},86807:function(W,H,e){var g=e(34e3),R=e(9012),a=e(27670).Y,C=e(5386).fF,T=e(5386).si,v=e(1426).extendFlat;W.exports={labels:g.labels,label0:g.label0,dlabel:g.dlabel,values:g.values,marker:{colors:g.marker.colors,line:{color:v({},g.marker.line.color,{dflt:null}),width:v({},g.marker.line.width,{dflt:1}),editType:"calc"},pattern:g.marker.pattern,editType:"calc"},text:g.text,hovertext:g.hovertext,scalegroup:v({},g.scalegroup,{}),textinfo:v({},g.textinfo,{flags:["label","text","value","percent"]}),texttemplate:T({editType:"plot"},{keys:["label","color","value","text","percent"]}),hoverinfo:v({},R.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:C({},{keys:["label","color","value","text","percent"]}),textposition:v({},g.textposition,{values:["inside","none"],dflt:"inside"}),textfont:g.textfont,insidetextfont:g.insidetextfont,title:{text:g.title.text,font:g.title.font,position:v({},g.title.position,{values:["top left","top center","top right"],dflt:"top center"}),editType:"plot"},domain:a({name:"funnelarea",trace:!0,editType:"calc"}),aspectratio:{valType:"number",min:0,dflt:1,editType:"plot"},baseratio:{valType:"number",min:0,max:1,dflt:.333,editType:"plot"}}},6452:function(W,H,e){var g=e(74875);H.name="funnelarea",H.plot=function(R,a,C,T){g.plotBasePlot(H.name,R,a,C,T)},H.clean=function(R,a,C,T){g.cleanBasePlot(H.name,R,a,C,T)}},89574:function(W,H,e){var g=e(32354);function R(C,T){return g.calc(C,T)}function a(C){g.crossTraceCalc(C,{type:"funnelarea"})}W.exports={calc:R,crossTraceCalc:a}},86282:function(W,H,e){var g=e(71828),R=e(86807),a=e(27670).c,C=e(90769).handleText,T=e(37434).handleLabelsAndValues,v=e(37434).handleMarkerDefaults;W.exports=function(t,r,s,n){function o(S,P){return g.coerce(t,r,R,S,P)}var f=o("labels"),u=o("values"),m=T(f,u),c=m.len;if(r._hasLabels=m.hasLabels,r._hasValues=m.hasValues,!r._hasLabels&&r._hasValues&&(o("label0"),o("dlabel")),!c){r.visible=!1;return}r._length=c,v(t,r,n,o),o("scalegroup");var A=o("text"),h=o("texttemplate"),l;if(h||(l=o("textinfo",Array.isArray(A)?"text+percent":"percent")),o("hovertext"),o("hovertemplate"),h||l&&l!=="none"){var p=o("textposition");C(t,r,n,o,p,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1})}a(r,n,o);var M=o("title.text");M&&(o("title.position"),g.coerceFont(o,"title.font",n.font)),o("aspectratio"),o("baseratio")}},10421:function(W,H,e){W.exports={moduleType:"trace",name:"funnelarea",basePlotModule:e(6452),categories:["pie-like","funnelarea","showLegend"],attributes:e(86807),layoutAttributes:e(80097),supplyDefaults:e(86282),supplyLayoutDefaults:e(57402),calc:e(89574).calc,crossTraceCalc:e(89574).crossTraceCalc,plot:e(79187),style:e(71858),styleOne:e(63463),meta:{}}},80097:function(W,H,e){var g=e(92774).hiddenlabels;W.exports={hiddenlabels:g,funnelareacolorway:{valType:"colorlist",editType:"calc"},extendfunnelareacolors:{valType:"boolean",dflt:!0,editType:"calc"}}},57402:function(W,H,e){var g=e(71828),R=e(80097);W.exports=function(C,T){function v(y,t){return g.coerce(C,T,R,y,t)}v("hiddenlabels"),v("funnelareacolorway",T.colorway),v("extendfunnelareacolors")}},79187:function(W,H,e){var g=e(39898),R=e(91424),a=e(71828),C=a.strScale,T=a.strTranslate,v=e(63893),y=e(17295),t=y.toMoveInsideBar,r=e(72597),s=r.recordMinTextSize,n=r.clearMinTextSize,o=e(53581),f=e(14575),u=f.attachFxHandlers,m=f.determineInsideTextFont,c=f.layoutAreas,A=f.prerenderTitles,h=f.positionTitleOutside,l=f.formatSliceLabel;W.exports=function(x,E){var w=x._context.staticPlot,i=x._fullLayout;n("funnelarea",i),A(E,x),c(E,i._size),a.makeTraceGroups(i._funnelarealayer,E,"trace").each(function(L){var b=g.select(this),O=L[0],_=O.trace;S(L),b.each(function(){var N=g.select(this).selectAll("g.slice").data(L);N.enter().append("g").classed("slice",!0),N.exit().remove(),N.each(function(B,U){if(B.hidden){g.select(this).selectAll("path,g").remove();return}B.pointNumber=B.i,B.curveNumber=_.index;var F=O.cx,V=O.cy,j=g.select(this),$=j.selectAll("path.surface").data([B]);$.enter().append("path").classed("surface",!0).style({"pointer-events":w?"none":"all"}),j.call(u,x,L);var ne="M"+(F+B.TR[0])+","+(V+B.TR[1])+p(B.TR,B.BR)+p(B.BR,B.BL)+p(B.BL,B.TL)+"Z";$.attr("d",ne),l(x,B,O);var oe=o.castOption(_.textposition,B.pts),ce=j.selectAll("g.slicetext").data(B.text&&oe!=="none"?[0]:[]);ce.enter().append("g").classed("slicetext",!0),ce.exit().remove(),ce.each(function(){var Q=a.ensureSingle(g.select(this),"text","",function(ue){ue.attr("data-notex",1)}),Z=a.ensureUniformFontSize(x,m(_,B,i.font));Q.text(B.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(R.font,Z).call(v.convertToTspans,x);var K=R.bBox(Q.node()),J,re,le,q=Math.min(B.BL[1],B.BR[1])+V,ee=Math.max(B.TL[1],B.TR[1])+V;re=Math.max(B.TL[0],B.BL[0])+F,le=Math.min(B.TR[0],B.BR[0])+F,J=t(re,le,q,ee,K,{isHorizontal:!0,constrained:!0,angle:0,anchor:"middle"}),J.fontSize=Z.size,s(_.type,J,i),L[U].transform=J,a.setTransormAndDisplay(Q,J)})});var z=g.select(this).selectAll("g.titletext").data(_.title.text?[0]:[]);z.enter().append("g").classed("titletext",!0),z.exit().remove(),z.each(function(){var B=a.ensureSingle(g.select(this),"text","",function(V){V.attr("data-notex",1)}),U=_.title.text;_._meta&&(U=a.templateString(U,_._meta)),B.text(U).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(R.font,_.title.font).call(v.convertToTspans,x);var F=h(O,i._size);B.attr("transform",T(F.x,F.y)+C(Math.min(1,F.scale))+T(F.tx,F.ty))})})})};function p(P,x){var E=x[0]-P[0],w=x[1]-P[1];return"l"+E+","+w}function M(P,x){return[.5*(P[0]+x[0]),.5*(P[1]+x[1])]}function S(P){if(!P.length)return;var x=P[0],E=x.trace,w=E.aspectratio,i=E.baseratio;i>.999&&(i=.999);var L=Math.pow(i,2),b=x.vTotal,O=b*L/(1-L),_=b,N=O/b;function z(){var se=Math.sqrt(N);return{x:se,y:-se}}function B(){var se=z();return[se.x,se.y]}var U,F=[];F.push(B());var V,j;for(V=P.length-1;V>-1;V--)if(j=P[V],!j.hidden){var $=j.v/_;N+=$,F.push(B())}var ne=1/0,oe=-1/0;for(V=0;V<F.length;V++)U=F[V],ne=Math.min(ne,U[1]),oe=Math.max(oe,U[1]);for(V=0;V<F.length;V++)F[V][1]-=(oe+ne)/2;var ce=F[F.length-1][0],Q=x.r,Z=(oe-ne)/2,K=Q/ce,J=Q/Z*w;for(x.r=J*Z,V=0;V<F.length;V++)F[V][0]*=K,F[V][1]*=J;U=F[0];var re=[-U[0],U[1]],le=[U[0],U[1]],q=0;for(V=P.length-1;V>-1;V--)if(j=P[V],!j.hidden){q+=1;var ee=F[q][0],ue=F[q][1];j.TL=[-ee,ue],j.TR=[ee,ue],j.BL=re,j.BR=le,j.pxmid=M(j.TR,j.BR),re=j.TL,le=j.TR}}},71858:function(W,H,e){var g=e(39898),R=e(63463),a=e(72597).resizeText;W.exports=function(T){var v=T._fullLayout._funnelarealayer.selectAll(".trace");a(T,v,"funnelarea"),v.each(function(y){var t=y[0],r=t.trace,s=g.select(this);s.style({opacity:r.opacity}),s.selectAll("path.surface").each(function(n){g.select(this).call(R,n,r,T)})})}},21606:function(W,H,e){var g=e(82196),R=e(9012),a=e(41940),C=e(12663).axisHoverFormat,T=e(5386).fF,v=e(5386).si,y=e(50693),t=e(1426).extendFlat;W.exports=t({z:{valType:"data_array",editType:"calc"},x:t({},g.x,{impliedEdits:{xtype:"array"}}),x0:t({},g.x0,{impliedEdits:{xtype:"scaled"}}),dx:t({},g.dx,{impliedEdits:{xtype:"scaled"}}),y:t({},g.y,{impliedEdits:{ytype:"array"}}),y0:t({},g.y0,{impliedEdits:{ytype:"scaled"}}),dy:t({},g.dy,{impliedEdits:{ytype:"scaled"}}),xperiod:t({},g.xperiod,{impliedEdits:{xtype:"scaled"}}),yperiod:t({},g.yperiod,{impliedEdits:{ytype:"scaled"}}),xperiod0:t({},g.xperiod0,{impliedEdits:{xtype:"scaled"}}),yperiod0:t({},g.yperiod0,{impliedEdits:{ytype:"scaled"}}),xperiodalignment:t({},g.xperiodalignment,{impliedEdits:{xtype:"scaled"}}),yperiodalignment:t({},g.yperiodalignment,{impliedEdits:{ytype:"scaled"}}),text:{valType:"data_array",editType:"calc"},hovertext:{valType:"data_array",editType:"calc"},transpose:{valType:"boolean",dflt:!1,editType:"calc"},xtype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},ytype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},zsmooth:{valType:"enumerated",values:["fast","best",!1],dflt:!1,editType:"calc"},hoverongaps:{valType:"boolean",dflt:!0,editType:"none"},connectgaps:{valType:"boolean",editType:"calc"},xgap:{valType:"number",dflt:0,min:0,editType:"plot"},ygap:{valType:"number",dflt:0,min:0,editType:"plot"},xhoverformat:C("x"),yhoverformat:C("y"),zhoverformat:C("z",1),hovertemplate:T(),texttemplate:v({arrayOk:!1,editType:"plot"},{keys:["x","y","z","text"]}),textfont:a({editType:"plot",autoSize:!0,autoColor:!0,colorEditType:"style"}),showlegend:t({},R.showlegend,{dflt:!1})},{transforms:void 0},y("",{cLetter:"z",autoColorDflt:!1}))},90757:function(W,H,e){var g=e(73972),R=e(71828),a=e(89298),C=e(42973),T=e(17562),v=e(78803),y=e(68296),t=e(4742),r=e(824),s=e(43907),n=e(70769),o=e(50606).BADNUM;W.exports=function(c,A){var h=a.getFromId(c,A.xaxis||"x"),l=a.getFromId(c,A.yaxis||"y"),p=g.traceIs(A,"contour"),M=g.traceIs(A,"histogram"),S=g.traceIs(A,"gl2d"),P=p?"best":A.zsmooth,x,E,w,i,L,b,O,_,N,z,B;if(h._minDtick=0,l._minDtick=0,M)B=T(c,A),i=B.orig_x,x=B.x,E=B.x0,w=B.dx,_=B.orig_y,L=B.y,b=B.y0,O=B.dy,N=B.z;else{var U=A.z;R.isArray1D(U)?(y(A,h,l,"x","y",["z"]),x=A._x,L=A._y,U=A._z):(i=A.x?h.makeCalcdata(A,"x"):[],_=A.y?l.makeCalcdata(A,"y"):[],x=C(A,h,"x",i).vals,L=C(A,l,"y",_).vals,A._x=x,A._y=L),E=A.x0,w=A.dx,b=A.y0,O=A.dy,N=t(U,A,h,l)}(h.rangebreaks||l.rangebreaks)&&(N=u(x,L,N),M||(x=f(x),L=f(L),A._x=x,A._y=L)),!M&&(p||A.connectgaps)&&(A._emptypoints=s(N),r(N,A._emptypoints));function F(K){P=A._input.zsmooth=A.zsmooth=!1,R.warn('cannot use zsmooth: "fast": '+K)}function V(K){if(K.length>1){var J=(K[K.length-1]-K[0])/(K.length-1),re=Math.abs(J/100);for(z=0;z<K.length-1;z++)if(Math.abs(K[z+1]-K[z]-J)>re)return!1}return!0}A._islinear=!1,h.type==="log"||l.type==="log"?P==="fast"&&F("log axis found"):V(x)?V(L)?A._islinear=!0:P==="fast"&&F("y scale is not linear"):P==="fast"&&F("x scale is not linear");var j=R.maxRowLength(N),$=A.xtype==="scaled"?"":x,ne=n(A,$,E,w,j,h),oe=A.ytype==="scaled"?"":L,ce=n(A,oe,b,O,N.length,l);S||(A._extremes[h._id]=a.findExtremes(h,ne),A._extremes[l._id]=a.findExtremes(l,ce));var Q={x:ne,y:ce,z:N,text:A._text||A.text,hovertext:A._hovertext||A.hovertext};if(A.xperiodalignment&&i&&(Q.orig_x=i),A.yperiodalignment&&_&&(Q.orig_y=_),$&&$.length===ne.length-1&&(Q.xCenter=$),oe&&oe.length===ce.length-1&&(Q.yCenter=oe),M&&(Q.xRanges=B.xRanges,Q.yRanges=B.yRanges,Q.pts=B.pts),p||v(c,A,{vals:N,cLetter:"z"}),p&&A.contours&&A.contours.coloring==="heatmap"){var Z={type:A.type==="contour"?"heatmap":"histogram2d",xcalendar:A.xcalendar,ycalendar:A.ycalendar};Q.xfill=n(Z,$,E,w,j,h),Q.yfill=n(Z,oe,b,O,N.length,l)}return[Q]};function f(m){for(var c=[],A=m.length,h=0;h<A;h++){var l=m[h];l!==o&&c.push(l)}return c}function u(m,c,A){for(var h=[],l=-1,p=0;p<A.length;p++)if(c[p]!==o){l++,h[l]=[];for(var M=0;M<A[p].length;M++)m[M]!==o&&h[l].push(A[p][M])}return h}},4742:function(W,H,e){var g=e(92770),R=e(71828),a=e(50606).BADNUM;W.exports=function(T,v,y,t){var r,s,n,o,f,u;function m(M){if(g(M))return+M}if(v&&v.transpose){for(r=0,f=0;f<T.length;f++)r=Math.max(r,T[f].length);if(r===0)return!1;n=function(M){return M.length},o=function(M,S,P){return(M[P]||[])[S]}}else r=T.length,n=function(M,S){return M[S].length},o=function(M,S,P){return(M[S]||[])[P]};var c=function(M,S,P){return S===a||P===a?a:o(M,S,P)};function A(M){if(v&&v.type!=="carpet"&&v.type!=="contourcarpet"&&M&&M.type==="category"&&v["_"+M._id.charAt(0)].length){var S=M._id.charAt(0),P={},x=v["_"+S+"CategoryMap"]||v[S];for(f=0;f<x.length;f++)P[x[f]]=f;return function(E){var w=P[M._categories[E]];return w+1?w:a}}else return R.identity}var h=A(y),l=A(t);t&&t.type==="category"&&(r=t._categories.length);var p=new Array(r);for(f=0;f<r;f++)for(y&&y.type==="category"?s=y._categories.length:s=n(T,f),p[f]=new Array(s),u=0;u<s;u++)p[f][u]=m(c(T,l(f),h(u)));return p}},61243:function(W){W.exports={min:"zmin",max:"zmax"}},68296:function(W,H,e){var g=e(71828),R=e(50606).BADNUM,a=e(42973);W.exports=function(T,v,y,t,r,s){var n=T._length,o=v.makeCalcdata(T,t),f=y.makeCalcdata(T,r);o=a(T,v,t,o).vals,f=a(T,y,r,f).vals;var u=T.text,m=u!==void 0&&g.isArray1D(u),c=T.hovertext,A=c!==void 0&&g.isArray1D(c),h,l,p=g.distinctVals(o),M=p.vals,S=g.distinctVals(f),P=S.vals,x=[],E,w,i=P.length,L=M.length;for(h=0;h<s.length;h++)x[h]=g.init2dArray(i,L);m&&(E=g.init2dArray(i,L)),A&&(w=g.init2dArray(i,L));var b=g.init2dArray(i,L);for(h=0;h<n;h++)if(o[h]!==R&&f[h]!==R){var O=g.findBin(o[h]+p.minDiff/2,M),_=g.findBin(f[h]+S.minDiff/2,P);for(l=0;l<s.length;l++){var N=s[l],z=T[N],B=x[l];B[_][O]=z[h],b[_][O]=h}m&&(E[_][O]=u[h]),A&&(w[_][O]=c[h])}for(T["_"+t]=M,T["_"+r]=P,l=0;l<s.length;l++)T["_"+s[l]]=x[l];m&&(T._text=E),A&&(T._hovertext=w),v&&v.type==="category"&&(T["_"+t+"CategoryMap"]=M.map(function(U){return v._categories[U]})),y&&y.type==="category"&&(T["_"+r+"CategoryMap"]=P.map(function(U){return y._categories[U]})),T._after2before=b}},76382:function(W,H,e){var g=e(71828),R=e(67684),a=e(58623),C=e(73927),T=e(49901),v=e(1586),y=e(21606);W.exports=function(r,s,n,o){function f(m,c){return g.coerce(r,s,y,m,c)}var u=R(r,s,f,o);if(!u){s.visible=!1;return}C(r,s,o,f),f("xhoverformat"),f("yhoverformat"),f("text"),f("hovertext"),f("hovertemplate"),a(f,o),T(r,s,f,o),f("hoverongaps"),f("connectgaps",g.isArray1D(s.z)&&s.zsmooth!==!1),v(r,s,o,f,{prefix:"",cLetter:"z"})}},43907:function(W,H,e){var g=e(71828).maxRowLength;W.exports=function(a){var C=[],T={},v=[],y=a[0],t=[],r=[0,0,0],s=g(a),n,o,f,u,m,c,A,h;for(o=0;o<a.length;o++)for(n=t,t=y,y=a[o+1]||[],f=0;f<s;f++)t[f]===void 0&&(c=(t[f-1]!==void 0?1:0)+(t[f+1]!==void 0?1:0)+(n[f]!==void 0?1:0)+(y[f]!==void 0?1:0),c?(o===0&&c++,f===0&&c++,o===a.length-1&&c++,f===t.length-1&&c++,c<4&&(T[[o,f]]=[o,f,c]),C.push([o,f,c])):v.push([o,f]));for(;v.length;){for(A={},h=!1,m=v.length-1;m>=0;m--)u=v[m],o=u[0],f=u[1],c=((T[[o-1,f]]||r)[2]+(T[[o+1,f]]||r)[2]+(T[[o,f-1]]||r)[2]+(T[[o,f+1]]||r)[2])/20,c&&(A[u]=[o,f,c],v.splice(m,1),h=!0);if(!h)throw"findEmpties iterated with no new neighbors";for(u in A)T[u]=A[u],C.push(A[u])}return C.sort(function(l,p){return p[2]-l[2]})}},46248:function(W,H,e){var g=e(30211),R=e(71828),a=e(89298),C=e(21081).extractOpts;W.exports=function(v,y,t,r,s){s||(s={});var n=s.isContour,o=v.cd[0],f=o.trace,u=v.xa,m=v.ya,c=o.x,A=o.y,h=o.z,l=o.xCenter,p=o.yCenter,M=o.zmask,S=f.zhoverformat,P=c,x=A,E,w,i,L;if(v.index!==!1){try{i=Math.round(v.index[1]),L=Math.round(v.index[0])}catch{R.error("Error hovering on heatmap, pointNumber must be [row,col], found:",v.index);return}if(i<0||i>=h[0].length||L<0||L>h.length)return}else{if(g.inbox(y-c[0],y-c[c.length-1],0)>0||g.inbox(t-A[0],t-A[A.length-1],0)>0)return;if(n){var b;for(P=[2*c[0]-c[1]],b=1;b<c.length;b++)P.push((c[b]+c[b-1])/2);for(P.push([2*c[c.length-1]-c[c.length-2]]),x=[2*A[0]-A[1]],b=1;b<A.length;b++)x.push((A[b]+A[b-1])/2);x.push([2*A[A.length-1]-A[A.length-2]])}i=Math.max(0,Math.min(P.length-2,R.findBin(y,P))),L=Math.max(0,Math.min(x.length-2,R.findBin(t,x)))}var O=u.c2p(c[i]),_=u.c2p(c[i+1]),N=m.c2p(A[L]),z=m.c2p(A[L+1]),B,U;n?(B=o.orig_x||c,U=o.orig_y||A,_=O,E=B[i],z=N,w=U[L]):(B=o.orig_x||l||c,U=o.orig_y||p||A,E=l?B[i]:(B[i]+B[i+1])/2,w=p?U[L]:(U[L]+U[L+1])/2,u&&u.type==="category"&&(E=c[i]),m&&m.type==="category"&&(w=A[L]),f.zsmooth&&(O=_=u.c2p(E),N=z=m.c2p(w)));var F=h[L][i];if(M&&!M[L][i]&&(F=void 0),!(F===void 0&&!f.hoverongaps)){var V;Array.isArray(o.hovertext)&&Array.isArray(o.hovertext[L])?V=o.hovertext[L][i]:Array.isArray(o.text)&&Array.isArray(o.text[L])&&(V=o.text[L][i]);var j=C(f),$={type:"linear",range:[j.min,j.max],hoverformat:S,_separators:u._separators,_numFormat:u._numFormat},ne=a.tickText($,F,"hover").text;return[R.extendFlat(v,{index:f._after2before?f._after2before[L][i]:[L,i],distance:v.maxHoverDistance,spikeDistance:v.maxSpikeDistance,x0:O,x1:_,y0:N,y1:z,xLabelVal:E,yLabelVal:w,zLabelVal:F,zLabel:ne,text:V})]}}},92165:function(W,H,e){W.exports={attributes:e(21606),supplyDefaults:e(76382),calc:e(90757),plot:e(50347),colorbar:e(61243),style:e(70035),hoverPoints:e(46248),moduleType:"trace",name:"heatmap",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","showLegend"],meta:{}}},824:function(W,H,e){var g=e(71828),R=.01,a=[[-1,0],[1,0],[0,-1],[0,1]];function C(v){return .5-.25*Math.min(1,v*.5)}W.exports=function(y,t){var r=1,s;for(T(y,t),s=0;s<t.length&&!(t[s][2]<4);s++);for(t=t.slice(s),s=0;s<100&&r>R;s++)r=T(y,t,C(r));return r>R&&g.log("interp2d didn't converge quickly",r),y};function T(v,y,t){var r=0,s,n,o,f,u,m,c,A,h,l,p,M,S;for(f=0;f<y.length;f++){for(s=y[f],n=s[0],o=s[1],p=v[n][o],l=0,h=0,u=0;u<4;u++)m=a[u],c=v[n+m[0]],c&&(A=c[o+m[1]],A!==void 0&&(l===0?M=S=A:(M=Math.min(M,A),S=Math.max(S,A)),h++,l+=A));if(h===0)throw"iterateInterp2d order is wrong: no defined neighbors";v[n][o]=l/h,p===void 0?h<4&&(r=1):(v[n][o]=(1+t)*v[n][o]-t*p,S>M&&(r=Math.max(r,Math.abs(v[n][o]-p)/(S-M))))}return r}},58623:function(W,H,e){var g=e(71828);W.exports=function(a,C){a("texttemplate");var T=g.extendFlat({},C.font,{color:"auto",size:"auto"});g.coerceFont(a,"textfont",T)}},70769:function(W,H,e){var g=e(73972),R=e(71828).isArrayOrTypedArray;W.exports=function(C,T,v,y,t,r){var s=[],n=g.traceIs(C,"contour"),o=g.traceIs(C,"histogram"),f=g.traceIs(C,"gl2d"),u,m,c,A=R(T)&&T.length>1;if(A&&!o&&r.type!=="category"){var h=T.length;if(h<=t){if(n||f)s=T.slice(0,t);else if(t===1)s=[T[0]-.5,T[0]+.5];else{for(s=[1.5*T[0]-.5*T[1]],c=1;c<h;c++)s.push((T[c-1]+T[c])*.5);s.push(1.5*T[h-1]-.5*T[h-2])}if(h<t){var l=s[s.length-1],p=l-s[s.length-2];for(c=h;c<t;c++)l+=p,s.push(l)}}else return n?T.slice(0,t):T.slice(0,t+1)}else{var M=C[r._id.charAt(0)+"calendar"];if(o)u=r.r2c(v,0,M);else if(R(T)&&T.length===1)u=T[0];else if(v===void 0)u=0;else{var S=r.type==="log"?r.d2c:r.r2c;u=S(v,0,M)}for(m=y||1,c=n||f?0:-.5;c<t;c++)s.push(u+m*c)}return s}},50347:function(W,H,e){var g=e(39898),R=e(84267),a=e(73972),C=e(91424),T=e(89298),v=e(71828),y=e(63893),t=e(8225),r=e(7901),s=e(21081).extractOpts,n=e(21081).makeColorScaleFuncFromTrace,o=e(77922),f=e(18783),u=f.LINE_SPACING,m=e(3883),c=e(32396).STYLE,A="heatmap-label";function h(P){return P.selectAll("g."+A)}function l(P){h(P).remove()}W.exports=function(P,x,E,w){var i=x.xaxis,L=x.yaxis;v.makeTraceGroups(w,E,"hm").each(function(b){var O=g.select(this),_=b[0],N=_.trace,z=N.xgap||0,B=N.ygap||0,U=_.z,F=_.x,V=_.y,j=_.xCenter,$=_.yCenter,ne=a.traceIs(N,"contour"),oe=ne?"best":N.zsmooth,ce=U.length,Q=v.maxRowLength(U),Z=!1,K=!1,J,re,le,q,ee,ue,se,he;for(ue=0;J===void 0&&ue<F.length-1;)J=i.c2p(F[ue]),ue++;for(ue=F.length-1;re===void 0&&ue>0;)re=i.c2p(F[ue]),ue--;for(re<J&&(le=re,re=J,J=le,Z=!0),ue=0;q===void 0&&ue<V.length-1;)q=L.c2p(V[ue]),ue++;for(ue=V.length-1;ee===void 0&&ue>0;)ee=L.c2p(V[ue]),ue--;ee<q&&(le=q,q=ee,ee=le,K=!0),ne&&(j=F,$=V,F=_.xfill,V=_.yfill);var me="default";if(oe?me=oe==="best"?"smooth":"fast":N._islinear&&z===0&&B===0&&m()&&(me="fast"),me!=="fast"){var Ce=oe==="best"?0:.5;J=Math.max(-Ce*i._length,J),re=Math.min((1+Ce)*i._length,re),q=Math.max(-Ce*L._length,q),ee=Math.min((1+Ce)*L._length,ee)}var Te=Math.round(re-J),Oe=Math.round(ee-q),Ne=J>=i._length||re<=0||q>=L._length||ee<=0;if(Ne){var Le=O.selectAll("image").data([]);Le.exit().remove(),l(O);return}var be,Ae;me==="fast"?(be=Q,Ae=ce):(be=Te,Ae=Oe);var He=document.createElement("canvas");He.width=be,He.height=Ae;var Ve=He.getContext("2d",{willReadFrequently:!0}),ke=n(N,{noNumericCheck:!0,returnArray:!0}),Ge,it;me==="fast"?(Ge=Z?function(an){return Q-1-an}:v.identity,it=K?function(an){return ce-1-an}:v.identity):(Ge=function(an){return v.constrain(Math.round(i.c2p(F[an])-J),0,Te)},it=function(an){return v.constrain(Math.round(L.c2p(V[an])-q),0,Oe)});var et=it(0),tt=[et,et],at=Z?0:1,vt=K?0:1,yt=0,gt=0,Mt=0,Ct=0,Vt,Je,ze,_e,Be;function De(an,gn){if(an!==void 0){var mn=ke(an);return mn[0]=Math.round(mn[0]),mn[1]=Math.round(mn[1]),mn[2]=Math.round(mn[2]),yt+=gn,gt+=mn[0]*gn,Mt+=mn[1]*gn,Ct+=mn[2]*gn,mn}return[0,0,0,0]}function we(an,gn,mn,Rn){var zn=an[mn.bin0];if(zn===void 0)return De(void 0,1);var oa=an[mn.bin1],Zn=gn[mn.bin0],qn=gn[mn.bin1],Yn=oa-zn||0,Qn=Zn-zn||0,Tr;return oa===void 0?qn===void 0?Tr=0:Zn===void 0?Tr=2*(qn-zn):Tr=(2*qn-Zn-zn)*2/3:qn===void 0?Zn===void 0?Tr=0:Tr=(2*zn-oa-Zn)*2/3:Zn===void 0?Tr=(2*qn-oa-zn)*2/3:Tr=qn+zn-oa-Zn,De(zn+mn.frac*Yn+Rn.frac*(Qn+mn.frac*Tr))}if(me!=="default"){var xe=0,Ee;try{Ee=new Uint8Array(be*Ae*4)}catch{Ee=new Array(be*Ae*4)}if(me==="smooth"){var Pe=j||F,Ue=$||V,$e=new Array(Pe.length),qe=new Array(Ue.length),dt=new Array(Te),bt=j?M:p,Gt=$?M:p,Qt,At,zt;for(ue=0;ue<Pe.length;ue++)$e[ue]=Math.round(i.c2p(Pe[ue])-J);for(ue=0;ue<Ue.length;ue++)qe[ue]=Math.round(L.c2p(Ue[ue])-q);for(ue=0;ue<Te;ue++)dt[ue]=bt(ue,$e);for(se=0;se<Oe;se++)for(Qt=Gt(se,qe),At=U[Qt.bin0],zt=U[Qt.bin1],ue=0;ue<Te;ue++,xe+=4)Be=we(At,zt,dt[ue],Qt),S(Ee,xe,Be)}else for(se=0;se<ce;se++)for(_e=U[se],tt=it(se),ue=0;ue<Q;ue++)Be=De(_e[ue],1),xe=(tt*Q+Ge(ue))*4,S(Ee,xe,Be);var $t=Ve.createImageData(be,Ae);try{$t.data.set(Ee)}catch{var Ar=$t.data,ut=Ar.length;for(se=0;se<ut;se++)Ar[se]=Ee[se]}Ve.putImageData($t,0,0)}else{var Yt=Math.floor(z/2),Kt=Math.floor(B/2);for(se=0;se<ce;se++)if(_e=U[se],tt.reverse(),tt[vt]=it(se+1),!(tt[0]===tt[1]||tt[0]===void 0||tt[1]===void 0))for(Je=Ge(0),Vt=[Je,Je],ue=0;ue<Q;ue++)Vt.reverse(),Vt[at]=Ge(ue+1),!(Vt[0]===Vt[1]||Vt[0]===void 0||Vt[1]===void 0)&&(ze=_e[ue],Be=De(ze,(Vt[1]-Vt[0])*(tt[1]-tt[0])),Ve.fillStyle="rgba("+Be.join(",")+")",Ve.fillRect(Vt[0]+Yt,tt[0]+Kt,Vt[1]-Vt[0]-z,tt[1]-tt[0]-B))}gt=Math.round(gt/yt),Mt=Math.round(Mt/yt),Ct=Math.round(Ct/yt);var mr=R("rgb("+gt+","+Mt+","+Ct+")");P._hmpixcount=(P._hmpixcount||0)+yt,P._hmlumcount=(P._hmlumcount||0)+yt*mr.getLuminance();var ur=O.selectAll("image").data(b);ur.enter().append("svg:image").attr({xmlns:o.svg,preserveAspectRatio:"none"}),ur.attr({height:Oe,width:Te,x:J,y:q,"xlink:href":He.toDataURL("image/png")}),me==="fast"&&!oe&&ur.attr("style",c),l(O);var pt=N.texttemplate;if(pt){var st=s(N),xt={type:"linear",range:[st.min,st.max],_separators:i._separators,_numFormat:i._numFormat},St=N.type==="histogram2dcontour",Dt=N.type==="contour",Rt=Dt?1:0,Bt=Dt?ce-1:ce,Nt=Dt?1:0,Xt=Dt?Q-1:Q,lr=[];for(ue=Rt;ue<Bt;ue++){var sr;if(Dt)sr=_.y[ue];else if(St){if(ue===0||ue===ce-1)continue;sr=_.y[ue]}else if(_.yCenter)sr=_.yCenter[ue];else{if(ue+1===ce&&_.y[ue+1]===void 0)continue;sr=(_.y[ue]+_.y[ue+1])/2}var dr=Math.round(L.c2p(sr));if(!(0>dr||dr>L._length))for(se=Nt;se<Xt;se++){var je;if(Dt)je=_.x[se];else if(St){if(se===0||se===Q-1)continue;je=_.x[se]}else if(_.xCenter)je=_.xCenter[se];else{if(se+1===Q&&_.x[se+1]===void 0)continue;je=(_.x[se]+_.x[se+1])/2}var Ye=Math.round(i.c2p(je));if(!(0>Ye||Ye>i._length)){var It=t({x:je,y:sr},N,P._fullLayout);It.x=je,It.y=sr;var kt=_.z[ue][se];kt===void 0?(It.z="",It.zLabel=""):(It.z=kt,It.zLabel=T.tickText(xt,kt,"hover").text);var jt=_.text&&_.text[ue]&&_.text[ue][se];(jt===void 0||jt===!1)&&(jt=""),It.text=jt;var tr=v.texttemplateString(pt,It,P._fullLayout._d3locale,It,N._meta||{});if(tr){var or=tr.split("<br>"),rr=or.length,Ot=0;for(he=0;he<rr;he++)Ot=Math.max(Ot,or[he].length);lr.push({l:rr,c:Ot,t:tr,x:Ye,y:dr,z:kt})}}}}var hr=N.textfont,gr=hr.family,pr=hr.size,vr=P._fullLayout.font.size;if(!pr||pr==="auto"){var Vr=1/0,kr=1/0,_r=0,pn=0;for(he=0;he<lr.length;he++){var en=lr[he];if(_r=Math.max(_r,en.l),pn=Math.max(pn,en.c),he<lr.length-1){var Bn=lr[he+1],Tn=Math.abs(Bn.x-en.x),Mr=Math.abs(Bn.y-en.y);Tn&&(Vr=Math.min(Vr,Tn)),Mr&&(kr=Math.min(kr,Mr))}}!isFinite(Vr)||!isFinite(kr)?pr=vr:(Vr-=z,kr-=B,Vr/=pn,kr/=_r,Vr/=u/2,kr/=u,pr=Math.min(Math.floor(Vr),Math.floor(kr),vr))}if(pr<=0||!isFinite(pr))return;var Er=function(an){return an.x},Gr=function(an){return an.y-pr*(an.l*u/2-1)},Ur=h(O).data(lr);Ur.enter().append("g").classed(A,1).append("text").attr("text-anchor","middle").each(function(an){var gn=g.select(this),mn=hr.color;(!mn||mn==="auto")&&(mn=r.contrast("rgba("+ke(an.z).join()+")")),gn.attr("data-notex",1).call(y.positionText,Er(an),Gr(an)).call(C.font,gr,pr,mn).text(an.t).call(y.convertToTspans,P)})}})};function p(P,x){var E=x.length-2,w=v.constrain(v.findBin(P,x),0,E),i=x[w],L=x[w+1],b=v.constrain(w+(P-i)/(L-i)-.5,0,E),O=Math.round(b),_=Math.abs(b-O);return!b||b===E||!_?{bin0:O,bin1:O,frac:0}:{bin0:O,frac:_,bin1:Math.round(O+_/(b-O))}}function M(P,x){var E=x.length-1,w=v.constrain(v.findBin(P,x),0,E),i=x[w],L=x[w+1],b=(P-i)/(L-i)||0;return b<=0?{bin0:w,bin1:w,frac:0}:b<.5?{bin0:w,bin1:w+1,frac:b}:{bin0:w+1,bin1:w,frac:1-b}}function S(P,x,E){P[x]=E[0],P[x+1]=E[1],P[x+2]=E[2],P[x+3]=Math.round(E[3]*255)}},70035:function(W,H,e){var g=e(39898);W.exports=function(a){g.select(a).selectAll(".hm image").style("opacity",function(C){return C.trace.opacity})}},49901:function(W){W.exports=function(e,g,R){var a=R("zsmooth");a===!1&&(R("xgap"),R("ygap")),R("zhoverformat")}},67684:function(W,H,e){var g=e(92770),R=e(71828),a=e(73972);W.exports=function(y,t,r,s,n,o){var f=r("z");n=n||"x",o=o||"y";var u,m;if(f===void 0||!f.length)return 0;if(R.isArray1D(y.z)){u=r(n),m=r(o);var c=R.minRowLength(u),A=R.minRowLength(m);if(c===0||A===0)return 0;t._length=Math.min(c,A,f.length)}else{if(u=C(n,r),m=C(o,r),!T(f))return 0;r("transpose"),t._length=null}if(y.type==="heatmapgl")return!0;var h=a.getComponentMethod("calendars","handleTraceDefaults");return h(y,t,[n,o],s),!0};function C(v,y){var t=y(v),r=t?y(v+"type","array"):"scaled";return r==="scaled"&&(y(v+"0"),y("d"+v)),t}function T(v){for(var y=!0,t=!1,r=!1,s,n=0;n<v.length;n++){if(s=v[n],!R.isArrayOrTypedArray(s)){y=!1;break}s.length>0&&(t=!0);for(var o=0;o<s.length;o++)if(g(s[o])){r=!0;break}}return y&&t&&r}},16063:function(W,H,e){for(var g=e(21606),R=e(50693),a=e(1426).extendFlat,C=e(30962).overrideAll,T=["z","x","x0","dx","y","y0","dy","text","transpose","xtype","ytype"],v={},y=0;y<T.length;y++){var t=T[y];v[t]=g[t]}v.zsmooth={valType:"enumerated",values:["fast",!1],dflt:"fast",editType:"calc"},a(v,R("",{cLetter:"z",autoColorDflt:!1})),W.exports=C(v,"calc","nested")},59560:function(W,H,e){var g=e(9330).gl_heatmap2d,R=e(89298),a=e(78614);function C(t,r){this.scene=t,this.uid=r,this.type="heatmapgl",this.name="",this.hoverinfo="all",this.xData=[],this.yData=[],this.zData=[],this.textLabels=[],this.idToIndex=[],this.bounds=[0,0,0,0],this.options={zsmooth:"fast",z:[],x:[],y:[],shape:[0,0],colorLevels:[0],colorValues:[0,0,0,1]},this.heatmap=g(t.glplot,this.options),this.heatmap._trace=this}var T=C.prototype;T.handlePick=function(t){var r=this.options,s=r.shape,n=t.pointId,o=n%s[0],f=Math.floor(n/s[0]),u=n;return{trace:this,dataCoord:t.dataCoord,traceCoord:[r.x[o],r.y[f],r.z[u]],textLabel:this.textLabels[n],name:this.name,pointIndex:[f,o],hoverinfo:this.hoverinfo}},T.update=function(t,r){var s=r[0];this.index=t.index,this.name=t.name,this.hoverinfo=t.hoverinfo;var n=s.z;this.options.z=[].concat.apply([],n);var o=n[0].length,f=n.length;this.options.shape=[o,f],this.options.x=s.x,this.options.y=s.y,this.options.zsmooth=t.zsmooth;var u=v(t);this.options.colorLevels=u.colorLevels,this.options.colorValues=u.colorValues,this.textLabels=[].concat.apply([],t.text),this.heatmap.update(this.options);var m=this.scene.xaxis,c=this.scene.yaxis,A,h;t.zsmooth===!1&&(A={ppad:s.x[1]-s.x[0]},h={ppad:s.y[1]-s.y[0]}),t._extremes[m._id]=R.findExtremes(m,s.x,A),t._extremes[c._id]=R.findExtremes(c,s.y,h)},T.dispose=function(){this.heatmap.dispose()};function v(t){for(var r=t.colorscale,s=t.zmin,n=t.zmax,o=r.length,f=new Array(o),u=new Array(4*o),m=0;m<o;m++){var c=r[m],A=a(c[1]);f[m]=s+c[0]*(n-s);for(var h=0;h<4;h++)u[4*m+h]=A[h]}return{colorLevels:f,colorValues:u}}function y(t,r,s){var n=new C(t,r.uid);return n.update(r,s),n}W.exports=y},19600:function(W,H,e){var g=e(71828),R=e(67684),a=e(1586),C=e(16063);W.exports=function(v,y,t,r){function s(o,f){return g.coerce(v,y,C,o,f)}var n=R(v,y,s,r);if(!n){y.visible=!1;return}s("text"),s("zsmooth"),a(v,y,r,s,{prefix:"",cLetter:"z"})}},3325:function(W,H,e){W.exports={attributes:e(16063),supplyDefaults:e(19600),colorbar:e(61243),calc:e(90757),plot:e(59560),moduleType:"trace",name:"heatmapgl",basePlotModule:e(4796),categories:["gl","gl2d","2dMap"],meta:{}}},7745:function(W,H,e){var g=e(1486),R=e(12663).axisHoverFormat,a=e(5386).fF,C=e(5386).si,T=e(41940),v=e(17656),y=e(72406),t=e(1426).extendFlat;W.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},xhoverformat:R("x"),yhoverformat:R("y"),text:t({},g.text,{}),hovertext:t({},g.hovertext,{}),orientation:g.orientation,histfunc:{valType:"enumerated",values:["count","sum","avg","min","max"],dflt:"count",editType:"calc"},histnorm:{valType:"enumerated",values:["","percent","probability","density","probability density"],dflt:"",editType:"calc"},cumulative:{enabled:{valType:"boolean",dflt:!1,editType:"calc"},direction:{valType:"enumerated",values:["increasing","decreasing"],dflt:"increasing",editType:"calc"},currentbin:{valType:"enumerated",values:["include","exclude","half"],dflt:"include",editType:"calc"},editType:"calc"},nbinsx:{valType:"integer",min:0,dflt:0,editType:"calc"},xbins:v("x",!0),nbinsy:{valType:"integer",min:0,dflt:0,editType:"calc"},ybins:v("y",!0),autobinx:{valType:"boolean",dflt:null,editType:"calc"},autobiny:{valType:"boolean",dflt:null,editType:"calc"},bingroup:{valType:"string",dflt:"",editType:"calc"},hovertemplate:a({},{keys:y.eventDataKeys}),texttemplate:C({arrayOk:!1,editType:"plot"},{keys:["label","value"]}),textposition:t({},g.textposition,{arrayOk:!1}),textfont:T({arrayOk:!1,editType:"plot",colorEditType:"style"}),outsidetextfont:T({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextfont:T({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextanchor:g.insidetextanchor,textangle:g.textangle,cliponaxis:g.cliponaxis,constraintext:g.constraintext,marker:g.marker,offsetgroup:g.offsetgroup,alignmentgroup:g.alignmentgroup,selected:g.selected,unselected:g.unselected,_deprecated:{bardir:g._deprecated.bardir}}},42174:function(W){W.exports=function(e,g){for(var R=e.length,a=0,C=0;C<R;C++)g[C]?(e[C]/=g[C],a+=e[C]):e[C]=null;return a}},17656:function(W){W.exports=function(e,g){return{start:{valType:"any",editType:"calc"},end:{valType:"any",editType:"calc"},size:{valType:"any",editType:"calc"},editType:"calc"}}},59575:function(W,H,e){var g=e(92770);W.exports={count:function(R,a,C){return C[R]++,1},sum:function(R,a,C,T){var v=T[a];return g(v)?(v=Number(v),C[R]+=v,v):0},avg:function(R,a,C,T,v){var y=T[a];return g(y)&&(y=Number(y),C[R]+=y,v[R]++),0},min:function(R,a,C,T){var v=T[a];if(g(v))if(v=Number(v),g(C[R])){if(C[R]>v){var y=v-C[R];return C[R]=v,y}}else return C[R]=v,v;return 0},max:function(R,a,C,T){var v=T[a];if(g(v))if(v=Number(v),g(C[R])){if(C[R]<v){var y=v-C[R];return C[R]=v,y}}else return C[R]=v,v;return 0}}},40965:function(W,H,e){var g=e(50606),R=g.ONEAVGYEAR,a=g.ONEAVGMONTH,C=g.ONEDAY,T=g.ONEHOUR,v=g.ONEMIN,y=g.ONESEC,t=e(89298).tickIncrement;W.exports=function(u,m,c,A,h){var l=-1.1*m,p=-.1*m,M=u-p,S=c[0],P=c[1],x=Math.min(r(S+p,S+M,A,h),r(P+p,P+M,A,h)),E=Math.min(r(S+l,S+p,A,h),r(P+l,P+p,A,h)),w,i;if(x>E&&E<Math.abs(P-S)/4e3?(w=x,i=!1):(w=Math.min(x,E),i=!0),A.type==="date"&&w>C){var L=w===R?1:6,b=w===R?"M12":"M1";return function(O,_){var N=A.c2d(O,R,h),z=N.indexOf("-",L);z>0&&(N=N.substr(0,z));var B=A.d2c(N,0,h);if(B<O){var U=t(B,b,!1,h);(B+U)/2<O+u&&(B=U)}return _&&i?t(B,b,!0,h):B}}return function(O,_){var N=w*Math.round(O/w);return N+w/10<O&&N+w*.9<O+u&&(N+=w),_&&i&&(N-=w),N}};function r(f,u,m,c){if(f*u<=0)return 1/0;for(var A=Math.abs(u-f),h=m.type==="date",l=s(A,h),p=0;p<10;p++){var M=s(l*80,h);if(l===M)break;if(n(M,f,u,h,m,c))l=M;else break}return l}function s(f,u){return u&&f>y?f>C?f>R*1.1?R:f>a*1.1?a:C:f>T?T:f>v?v:y:Math.pow(10,Math.floor(Math.log(f)/Math.LN10))}function n(f,u,m,c,A,h){if(c&&f>C){var l=o(u,A,h),p=o(m,A,h),M=f===R?0:1;return l[M]!==p[M]}return Math.floor(m/f)-Math.floor(u/f)>.1}function o(f,u,m){var c=u.c2d(f,R,m).split("-");return c[0]===""&&(c.unshift(),c[0]="-"+c[0]),c}},72138:function(W,H,e){var g=e(92770),R=e(71828),a=e(73972),C=e(89298),T=e(75341),v=e(59575),y=e(36362),t=e(42174),r=e(40965);function s(m,c){var A=[],h=[],l=c.orientation==="h",p=C.getFromId(m,l?c.yaxis:c.xaxis),M=l?"y":"x",S={x:"y",y:"x"}[M],P=c[M+"calendar"],x=c.cumulative,E,w=n(m,c,p,M),i=w[0],L=w[1],b=typeof i.size=="string",O=[],_=b?O:i,N=[],z=[],B=[],U=0,F=c.histnorm,V=c.histfunc,j=F.indexOf("density")!==-1,$,ne,oe;x.enabled&&j&&(F=F.replace(/ ?density$/,""),j=!1);var ce=V==="max"||V==="min",Q=ce?null:0,Z=v.count,K=y[F],J=!1,re=function(Ve){return p.r2c(Ve,0,P)},le;for(R.isArrayOrTypedArray(c[S])&&V!=="count"&&(le=c[S],J=V==="avg",Z=v[V]),E=re(i.start),ne=re(i.end)+(E-C.tickIncrement(E,i.size,!1,P))/1e6;E<ne&&A.length<1e6&&($=C.tickIncrement(E,i.size,!1,P),A.push((E+$)/2),h.push(Q),B.push([]),O.push(E),j&&N.push(1/($-E)),J&&z.push(0),!($<=E));)E=$;O.push(E),!b&&p.type==="date"&&(_={start:re(_.start),end:re(_.end),size:_.size}),m._fullLayout._roundFnOpts||(m._fullLayout._roundFnOpts={});var q=c["_"+M+"bingroup"],ee={leftGap:1/0,rightGap:1/0};q&&(m._fullLayout._roundFnOpts[q]||(m._fullLayout._roundFnOpts[q]=ee),ee=m._fullLayout._roundFnOpts[q]);var ue=h.length,se=!0,he=ee.leftGap,me=ee.rightGap,Ce={};for(E=0;E<L.length;E++){var Te=L[E];oe=R.findBin(Te,_),oe>=0&&oe<ue&&(U+=Z(oe,E,h,le,z),se&&B[oe].length&&Te!==L[B[oe][0]]&&(se=!1),B[oe].push(E),Ce[E]=oe,he=Math.min(he,Te-O[oe]),me=Math.min(me,O[oe+1]-Te))}ee.leftGap=he,ee.rightGap=me;var Oe;se||(Oe=function(Ve,ke){return function(){var Ge=m._fullLayout._roundFnOpts[q];return r(Ge.leftGap,Ge.rightGap,O,p,P)(Ve,ke)}}),J&&(U=t(h,z)),K&&K(h,U,N),x.enabled&&u(h,x.direction,x.currentbin);var Ne=Math.min(A.length,h.length),Le=[],be=0,Ae=Ne-1;for(E=0;E<Ne;E++)if(h[E]){be=E;break}for(E=Ne-1;E>=be;E--)if(h[E]){Ae=E;break}for(E=be;E<=Ae;E++)if(g(A[E])&&g(h[E])){var He={p:A[E],s:h[E],b:0};x.enabled||(He.pts=B[E],se?He.ph0=He.ph1=B[E].length?L[B[E][0]]:A[E]:(c._computePh=!0,He.ph0=Oe(O[E]),He.ph1=Oe(O[E+1],!0))),Le.push(He)}return Le.length===1&&(Le[0].width1=C.tickIncrement(Le[0].p,i.size,!1,P)-Le[0].p),T(Le,c),R.isArrayOrTypedArray(c.selectedpoints)&&R.tagSelected(Le,c,Ce),Le}function n(m,c,A,h,l){var p=h+"bins",M=m._fullLayout,S=c["_"+h+"bingroup"],P=M._histogramBinOpts[S],x=M.barmode==="overlay",E,w,i,L,b,O,_,N=function(Te){return A.r2c(Te,0,L)},z=function(Te){return A.c2r(Te,0,L)},B=A.type==="date"?function(Te){return Te||Te===0?R.cleanDate(Te,null,L):null}:function(Te){return g(Te)?Number(Te):null};function U(Te,Oe,Ne){Oe[Te+"Found"]?(Oe[Te]=B(Oe[Te]),Oe[Te]===null&&(Oe[Te]=Ne[Te])):(O[Te]=Oe[Te]=Ne[Te],R.nestedProperty(w[0],p+"."+Te).set(Ne[Te]))}if(c["_"+h+"autoBinFinished"])delete c["_"+h+"autoBinFinished"];else{w=P.traces;var F=[],V=!0,j=!1,$=!1;for(E=0;E<w.length;E++)if(i=w[E],i.visible){var ne=P.dirs[E];b=i["_"+ne+"pos0"]=A.makeCalcdata(i,ne),F=R.concat(F,b),delete i["_"+h+"autoBinFinished"],c.visible===!0&&(V?V=!1:(delete i._autoBin,i["_"+h+"autoBinFinished"]=1),a.traceIs(i,"2dMap")&&(j=!0),i.type==="histogram2dcontour"&&($=!0))}L=w[0][h+"calendar"];var oe=C.autoBin(F,A,P.nbins,j,L,P.sizeFound&&P.size),ce=w[0]._autoBin={};if(O=ce[P.dirs[0]]={},$&&(P.size||(oe.start=z(C.tickIncrement(N(oe.start),oe.size,!0,L))),P.end===void 0&&(oe.end=z(C.tickIncrement(N(oe.end),oe.size,!1,L)))),x&&!a.traceIs(c,"2dMap")&&oe._dataSpan===0&&A.type!=="category"&&A.type!=="multicategory"&&c.bingroup===""&&typeof c.xbins>"u"){if(l)return[oe,b,!0];oe=o(m,c,A,h,p)}_=i.cumulative||{},_.enabled&&_.currentbin!=="include"&&(_.direction==="decreasing"?oe.start=z(C.tickIncrement(N(oe.start),oe.size,!0,L)):oe.end=z(C.tickIncrement(N(oe.end),oe.size,!1,L))),P.size=oe.size,P.sizeFound||(O.size=oe.size,R.nestedProperty(w[0],p+".size").set(oe.size)),U("start",P,oe),U("end",P,oe)}b=c["_"+h+"pos0"],delete c["_"+h+"pos0"];var Q=c._input[p]||{},Z=R.extendFlat({},P),K=P.start,J=A.r2l(Q.start),re=J!==void 0;if((P.startFound||re)&&J!==A.r2l(K)){var le=re?J:R.aggNums(Math.min,null,b),q={type:A.type==="category"||A.type==="multicategory"?"linear":A.type,r2l:A.r2l,dtick:P.size,tick0:K,calendar:L,range:[le,C.tickIncrement(le,P.size,!1,L)].map(A.l2r)},ee=C.tickFirst(q);ee>A.r2l(le)&&(ee=C.tickIncrement(ee,P.size,!0,L)),Z.start=A.l2r(ee),re||R.nestedProperty(c,p+".start").set(Z.start)}var ue=P.end,se=A.r2l(Q.end),he=se!==void 0;if((P.endFound||he)&&se!==A.r2l(ue)){var me=he?se:R.aggNums(Math.max,null,b);Z.end=A.l2r(me),he||R.nestedProperty(c,p+".start").set(Z.end)}var Ce="autobin"+h;return c._input[Ce]===!1&&(c._input[p]=R.extendFlat({},c[p]||{}),delete c._input[Ce],delete c[Ce]),[Z,b]}function o(m,c,A,h,l){var p=m._fullLayout,M=f(m,c),S=!1,P=1/0,x=[c],E,w,i;for(E=0;E<M.length;E++)if(w=M[E],w===c)S=!0;else if(!S)i=p._histogramBinOpts[w["_"+h+"bingroup"]],P=Math.min(P,i.size||w[l].size);else{var L=n(m,w,A,h,!0),b=L[0],O=L[2];w["_"+h+"autoBinFinished"]=1,w["_"+h+"pos0"]=L[1],O?x.push(w):P=Math.min(P,b.size)}var _=new Array(x.length);for(E=0;E<x.length;E++)for(var N=x[E]["_"+h+"pos0"],z=0;z<N.length;z++)if(N[z]!==void 0){_[E]=N[z];break}for(isFinite(P)||(P=R.distinctVals(_).minDiff),E=0;E<x.length;E++){w=x[E];var B=w[h+"calendar"],U={start:A.c2r(_[E]-P/2,0,B),end:A.c2r(_[E]+P/2,0,B),size:P};w._input[l]=w[l]=U,i=p._histogramBinOpts[w["_"+h+"bingroup"]],i&&R.extendFlat(i,U)}return c[l]}function f(m,c){for(var A=c.xaxis,h=c.yaxis,l=c.orientation,p=[],M=m._fullData,S=0;S<M.length;S++){var P=M[S];P.type==="histogram"&&P.visible===!0&&P.orientation===l&&P.xaxis===A&&P.yaxis===h&&p.push(P)}return p}function u(m,c,A){var h,l,p;function M(P){p=m[P],m[P]/=2}function S(P){l=m[P],m[P]=p+l/2,p+=l}if(A==="half")if(c==="increasing")for(M(0),h=1;h<m.length;h++)S(h);else for(M(m.length-1),h=m.length-2;h>=0;h--)S(h);else if(c==="increasing"){for(h=1;h<m.length;h++)m[h]+=m[h-1];A==="exclude"&&(m.unshift(0),m.pop())}else{for(h=m.length-2;h>=0;h--)m[h]+=m[h+1];A==="exclude"&&(m.push(0),m.shift())}}W.exports={calc:s,calcAllAutoBins:n}},72406:function(W){W.exports={eventDataKeys:["binNumber"]}},82222:function(W,H,e){var g=e(71828),R=e(41675),a=e(73972).traceIs,C=e(26125),T=g.nestedProperty,v=e(99082).getAxisGroup,y=[{aStr:{x:"xbins.start",y:"ybins.start"},name:"start"},{aStr:{x:"xbins.end",y:"ybins.end"},name:"end"},{aStr:{x:"xbins.size",y:"ybins.size"},name:"size"},{aStr:{x:"nbinsx",y:"nbinsy"},name:"nbins"}],t=["x","y"];W.exports=function(s,n){var o=n._histogramBinOpts={},f=[],u={},m=[],c,A,h,l,p,M,S;function P($,ne){return g.coerce(c._input,c,c._module.attributes,$,ne)}function x($){return $.orientation==="v"?"x":"y"}function E($,ne){var oe=R.getFromTrace({_fullLayout:n},$,ne);return oe.type}function w($,ne,oe){var ce=$.uid+"__"+oe;ne||(ne=ce);var Q=E($,oe),Z=$[oe+"calendar"]||"",K=o[ne],J=!0;K&&(Q===K.axType&&Z===K.calendar?(J=!1,K.traces.push($),K.dirs.push(oe)):(ne=ce,Q!==K.axType&&g.warn(["Attempted to group the bins of trace",$.index,"set on a","type:"+Q,"axis","with bins on","type:"+K.axType,"axis."].join(" ")),Z!==K.calendar&&g.warn(["Attempted to group the bins of trace",$.index,"set with a",Z,"calendar","with bins",K.calendar?"on a "+K.calendar+" calendar":"w/o a set calendar"].join(" ")))),J&&(o[ne]={traces:[$],dirs:[oe],axType:Q,calendar:$[oe+"calendar"]||""}),$["_"+oe+"bingroup"]=ne}for(p=0;p<s.length;p++)c=s[p],a(c,"histogram")&&(f.push(c),delete c._xautoBinFinished,delete c._yautoBinFinished,a(c,"2dMap")||C(c._input,c,n,P));var i=n._alignmentOpts||{};for(p=0;p<f.length;p++){if(c=f[p],h="",!a(c,"2dMap")){if(l=x(c),n.barmode==="group"&&c.alignmentgroup){var L=c[l+"axis"],b=v(n,L)+c.orientation;(i[b]||{})[c.alignmentgroup]&&(h=b)}!h&&n.barmode!=="overlay"&&(h=v(n,c.xaxis)+v(n,c.yaxis)+x(c))}h?(u[h]||(u[h]=[]),u[h].push(c)):m.push(c)}for(h in u){if(A=u[h],A.length===1){m.push(A[0]);continue}var O=!1;for(A.length&&(c=A[0],O=P("bingroup")),h=O||h,p=0;p<A.length;p++){c=A[p];var _=c._input.bingroup;_&&_!==h&&g.warn(["Trace",c.index,"must match","within bingroup",h+".","Ignoring its bingroup:",_,"setting."].join(" ")),c.bingroup=h,w(c,h,x(c))}}for(p=0;p<m.length;p++){c=m[p];var N=P("bingroup");if(a(c,"2dMap"))for(S=0;S<2;S++){l=t[S];var z=P(l+"bingroup",N?N+"__"+l:null);w(c,z,l)}else w(c,N,x(c))}for(h in o){var B=o[h];for(A=B.traces,M=0;M<y.length;M++){var U=y[M],F=U.name,V,j;if(!(F==="nbins"&&B.sizeFound)){for(p=0;p<A.length;p++){if(c=A[p],l=B.dirs[p],V=U.aStr[l],T(c._input,V).get()!==void 0){B[F]=P(V),B[F+"Found"]=!0;break}j=(c._autoBin||{})[l]||{},j[F]&&T(c,V).set(j[F])}if(F==="start"||F==="end")for(;p<A.length;p++)c=A[p],c["_"+l+"bingroup"]&&(j=(c._autoBin||{})[l]||{},P(V,j[F]));F==="nbins"&&!B.sizeFound&&!B.nbinsFound&&(c=A[0],B[F]=P(V))}}}}},11385:function(W,H,e){var g=e(73972),R=e(71828),a=e(7901),C=e(90769).handleText,T=e(98340),v=e(7745);W.exports=function(t,r,s,n){function o(E,w){return R.coerce(t,r,v,E,w)}var f=o("x"),u=o("y"),m=o("cumulative.enabled");m&&(o("cumulative.direction"),o("cumulative.currentbin")),o("text");var c=o("textposition");C(t,r,n,o,c,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),o("hovertext"),o("hovertemplate"),o("xhoverformat"),o("yhoverformat");var A=o("orientation",u&&!f?"h":"v"),h=A==="v"?"x":"y",l=A==="v"?"y":"x",p=f&&u?Math.min(R.minRowLength(f)&&R.minRowLength(u)):R.minRowLength(r[h]||[]);if(!p){r.visible=!1;return}r._length=p;var M=g.getComponentMethod("calendars","handleTraceDefaults");M(t,r,["x","y"],n);var S=r[l];S&&o("histfunc"),o("histnorm"),o("autobin"+h),T(t,r,o,s,n),R.coerceSelectionMarkerOpacity(r,o);var P=(r.marker.line||{}).color,x=g.getComponentMethod("errorbars","supplyDefaults");x(t,r,P||a.defaultLine,{axis:"y"}),x(t,r,P||a.defaultLine,{axis:"x",inherit:"y"})}},84402:function(W){W.exports=function(e,g,R,a,C){if(e.x="xVal"in g?g.xVal:g.x,e.y="yVal"in g?g.yVal:g.y,"zLabelVal"in g&&(e.z=g.zLabelVal),g.xa&&(e.xaxis=g.xa),g.ya&&(e.yaxis=g.ya),!(R.cumulative||{}).enabled){var T=Array.isArray(C)?a[0].pts[C[0]][C[1]]:a[C].pts;e.pointNumbers=T,e.binNumber=e.pointNumber,delete e.pointNumber,delete e.pointIndex;var v;if(R._indexToPoints){v=[];for(var y=0;y<T.length;y++)v=v.concat(R._indexToPoints[T[y]])}else v=T;e.pointIndices=v}return e}},76440:function(W,H,e){var g=e(95423).hoverPoints,R=e(89298).hoverLabelText;W.exports=function(C,T,v,y,t){var r=g(C,T,v,y,t);if(r){C=r[0];var s=C.cd[C.index],n=C.cd[0].trace;if(!n.cumulative.enabled){var o=n.orientation==="h"?"y":"x";C[o+"Label"]=R(C[o+"a"],[s.ph0,s.ph1],n[o+"hoverformat"])}return r}}},36071:function(W,H,e){W.exports={attributes:e(7745),layoutAttributes:e(43641),supplyDefaults:e(11385),crossTraceDefaults:e(82222),supplyLayoutDefaults:e(13957),calc:e(72138).calc,crossTraceCalc:e(11661).crossTraceCalc,plot:e(17295).plot,layerName:"barlayer",style:e(16688).style,styleOnSelect:e(16688).styleOnSelect,colorbar:e(4898),hoverPoints:e(76440),selectPoints:e(81974),eventData:e(84402),moduleType:"trace",name:"histogram",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","bar","histogram","oriented","errorBarsOK","showLegend"],meta:{}}},36362:function(W){W.exports={percent:function(H,e){for(var g=H.length,R=100/e,a=0;a<g;a++)H[a]*=R},probability:function(H,e){for(var g=H.length,R=0;R<g;R++)H[R]/=e},density:function(H,e,g,R){var a=H.length;R=R||1;for(var C=0;C<a;C++)H[C]*=g[C]*R},"probability density":function(H,e,g,R){var a=H.length;R&&(e/=R);for(var C=0;C<a;C++)H[C]*=g[C]/e}}},35361:function(W,H,e){var g=e(7745),R=e(17656),a=e(21606),C=e(9012),T=e(12663).axisHoverFormat,v=e(5386).fF,y=e(5386).si,t=e(50693),r=e(1426).extendFlat;W.exports=r({x:g.x,y:g.y,z:{valType:"data_array",editType:"calc"},marker:{color:{valType:"data_array",editType:"calc"},editType:"calc"},histnorm:g.histnorm,histfunc:g.histfunc,nbinsx:g.nbinsx,xbins:R("x"),nbinsy:g.nbinsy,ybins:R("y"),autobinx:g.autobinx,autobiny:g.autobiny,bingroup:r({},g.bingroup,{}),xbingroup:r({},g.bingroup,{}),ybingroup:r({},g.bingroup,{}),xgap:a.xgap,ygap:a.ygap,zsmooth:a.zsmooth,xhoverformat:T("x"),yhoverformat:T("y"),zhoverformat:T("z",1),hovertemplate:v({},{keys:"z"}),texttemplate:y({arrayOk:!1,editType:"plot"},{keys:"z"}),textfont:a.textfont,showlegend:r({},C.showlegend,{dflt:!1})},t("",{cLetter:"z",autoColorDflt:!1}))},17562:function(W,H,e){var g=e(71828),R=e(89298),a=e(59575),C=e(36362),T=e(42174),v=e(40965),y=e(72138).calcAllAutoBins;W.exports=function(o,f){var u=R.getFromId(o,f.xaxis),m=R.getFromId(o,f.yaxis),c=f.xcalendar,A=f.ycalendar,h=function(Be){return u.r2c(Be,0,c)},l=function(Be){return m.r2c(Be,0,A)},p=function(Be){return u.c2r(Be,0,c)},M=function(Be){return m.c2r(Be,0,A)},S,P,x,E,w=y(o,f,u,"x"),i=w[0],L=w[1],b=y(o,f,m,"y"),O=b[0],_=b[1],N=f._length;L.length>N&&L.splice(N,L.length-N),_.length>N&&_.splice(N,_.length-N);var z=[],B=[],U=[],F=typeof i.size=="string",V=typeof O.size=="string",j=[],$=[],ne=F?j:i,oe=V?$:O,ce=0,Q=[],Z=[],K=f.histnorm,J=f.histfunc,re=K.indexOf("density")!==-1,le=J==="max"||J==="min",q=le?null:0,ee=a.count,ue=C[K],se=!1,he=[],me=[],Ce="z"in f?f.z:"marker"in f&&Array.isArray(f.marker.color)?f.marker.color:"";Ce&&J!=="count"&&(se=J==="avg",ee=a[J]);var Te=i.size,Oe=h(i.start),Ne=h(i.end)+(Oe-R.tickIncrement(Oe,Te,!1,c))/1e6;for(S=Oe;S<Ne;S=R.tickIncrement(S,Te,!1,c))B.push(q),j.push(S),se&&U.push(0);j.push(S);var Le=B.length,be=(S-Oe)/Le,Ae=p(Oe+be/2),He=O.size,Ve=l(O.start),ke=l(O.end)+(Ve-R.tickIncrement(Ve,He,!1,A))/1e6;for(S=Ve;S<ke;S=R.tickIncrement(S,He,!1,A)){z.push(B.slice()),$.push(S);var Ge=new Array(Le);for(P=0;P<Le;P++)Ge[P]=[];Z.push(Ge),se&&Q.push(U.slice())}$.push(S);var it=z.length,et=(S-Ve)/it,tt=M(Ve+et/2);re&&(he=t(B.length,ne,be,F),me=t(z.length,oe,et,V)),!F&&u.type==="date"&&(ne=r(h,ne)),!V&&m.type==="date"&&(oe=r(l,oe));var at=!0,vt=!0,yt=new Array(Le),gt=new Array(it),Mt=1/0,Ct=1/0,Vt=1/0,Je=1/0;for(S=0;S<N;S++){var ze=L[S],_e=_[S];x=g.findBin(ze,ne),E=g.findBin(_e,oe),x>=0&&x<Le&&E>=0&&E<it&&(ce+=ee(x,S,z[E],Ce,Q[E]),Z[E][x].push(S),at&&(yt[x]===void 0?yt[x]=ze:yt[x]!==ze&&(at=!1)),vt&&(gt[E]===void 0?gt[E]=_e:gt[E]!==_e&&(vt=!1)),Mt=Math.min(Mt,ze-j[x]),Ct=Math.min(Ct,j[x+1]-ze),Vt=Math.min(Vt,_e-$[E]),Je=Math.min(Je,$[E+1]-_e))}if(se)for(E=0;E<it;E++)ce+=T(z[E],Q[E]);if(ue)for(E=0;E<it;E++)ue(z[E],ce,he,me[E]);return{x:L,xRanges:s(j,at&&yt,Mt,Ct,u,c),x0:Ae,dx:be,y:_,yRanges:s($,vt&&gt,Vt,Je,m,A),y0:tt,dy:et,z,pts:Z}};function t(n,o,f,u){var m=new Array(n),c;if(u)for(c=0;c<n;c++)m[c]=1/(o[c+1]-o[c]);else{var A=1/f;for(c=0;c<n;c++)m[c]=A}return m}function r(n,o){return{start:n(o.start),end:n(o.end),size:o.size}}function s(n,o,f,u,m,c){var A,h=n.length-1,l=new Array(h),p=v(f,u,n,m,c);for(A=0;A<h;A++){var M=(o||[])[A];l[A]=M===void 0?[p(n[A]),p(n[A+1],!0)]:[M,M]}return l}},93888:function(W,H,e){var g=e(71828),R=e(75238),a=e(49901),C=e(1586),T=e(58623),v=e(35361);W.exports=function(t,r,s,n){function o(f,u){return g.coerce(t,r,v,f,u)}R(t,r,o,n),r.visible!==!1&&(a(t,r,o,n),C(t,r,n,o,{prefix:"",cLetter:"z"}),o("hovertemplate"),T(o,n),o("xhoverformat"),o("yhoverformat"))}},76128:function(W,H,e){var g=e(46248),R=e(89298).hoverLabelText;W.exports=function(C,T,v,y,t){var r=g(C,T,v,y,t);if(r){C=r[0];var s=C.index,n=s[0],o=s[1],f=C.cd[0],u=f.trace,m=f.xRanges[o],c=f.yRanges[n];return C.xLabel=R(C.xa,[m[0],m[1]],u.xhoverformat),C.yLabel=R(C.ya,[c[0],c[1]],u.yhoverformat),r}}},43905:function(W,H,e){W.exports={attributes:e(35361),supplyDefaults:e(93888),crossTraceDefaults:e(82222),calc:e(90757),plot:e(50347),layerName:"heatmaplayer",colorbar:e(61243),style:e(70035),hoverPoints:e(76128),eventData:e(84402),moduleType:"trace",name:"histogram2d",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","histogram","showLegend"],meta:{}}},75238:function(W,H,e){var g=e(73972),R=e(71828);W.exports=function(C,T,v,y){var t=v("x"),r=v("y"),s=R.minRowLength(t),n=R.minRowLength(r);if(!s||!n){T.visible=!1;return}T._length=Math.min(s,n);var o=g.getComponentMethod("calendars","handleTraceDefaults");o(C,T,["x","y"],y);var f=v("z")||v("marker.color");f&&v("histfunc"),v("histnorm"),v("autobinx"),v("autobiny")}},99066:function(W,H,e){var g=e(35361),R=e(70600),a=e(50693),C=e(12663).axisHoverFormat,T=e(1426).extendFlat;W.exports=T({x:g.x,y:g.y,z:g.z,marker:g.marker,histnorm:g.histnorm,histfunc:g.histfunc,nbinsx:g.nbinsx,xbins:g.xbins,nbinsy:g.nbinsy,ybins:g.ybins,autobinx:g.autobinx,autobiny:g.autobiny,bingroup:g.bingroup,xbingroup:g.xbingroup,ybingroup:g.ybingroup,autocontour:R.autocontour,ncontours:R.ncontours,contours:R.contours,line:{color:R.line.color,width:T({},R.line.width,{dflt:.5}),dash:R.line.dash,smoothing:R.line.smoothing,editType:"plot"},xhoverformat:C("x"),yhoverformat:C("y"),zhoverformat:C("z",1),hovertemplate:g.hovertemplate,texttemplate:R.texttemplate,textfont:R.textfont},a("",{cLetter:"z",editTypeOverride:"calc"}))},62654:function(W,H,e){var g=e(71828),R=e(75238),a=e(67217),C=e(8724),T=e(58623),v=e(99066);W.exports=function(t,r,s,n){function o(u,m){return g.coerce(t,r,v,u,m)}function f(u){return g.coerce2(t,r,v,u)}R(t,r,o,n),r.visible!==!1&&(a(t,r,o,f),C(t,r,o,n),o("xhoverformat"),o("yhoverformat"),o("hovertemplate"),r.contours&&r.contours.coloring==="heatmap"&&T(o,n))}},35902:function(W,H,e){W.exports={attributes:e(99066),supplyDefaults:e(62654),crossTraceDefaults:e(82222),calc:e(27529),plot:e(29854).plot,layerName:"contourlayer",style:e(84426),colorbar:e(90654),hoverPoints:e(52421),moduleType:"trace",name:"histogram2dcontour",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","contour","histogram","showLegend"],meta:{}}},46291:function(W,H,e){var g=e(5386).fF,R=e(5386).si,a=e(50693),C=e(27670).Y,T=e(34e3),v=e(57564),y=e(45802),t=e(43473),r=e(1426).extendFlat,s=e(79952).u;W.exports={labels:v.labels,parents:v.parents,values:v.values,branchvalues:v.branchvalues,count:v.count,level:v.level,maxdepth:v.maxdepth,tiling:{orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"plot"},flip:y.tiling.flip,pad:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},marker:r({colors:v.marker.colors,line:v.marker.line,pattern:s,editType:"calc"},a("marker",{colorAttr:"colors",anim:!1})),leaf:v.leaf,pathbar:y.pathbar,text:T.text,textinfo:v.textinfo,texttemplate:R({editType:"plot"},{keys:t.eventDataKeys.concat(["label","value"])}),hovertext:T.hovertext,hoverinfo:v.hoverinfo,hovertemplate:g({},{keys:t.eventDataKeys}),textfont:T.textfont,insidetextfont:T.insidetextfont,outsidetextfont:y.outsidetextfont,textposition:y.textposition,sort:T.sort,root:v.root,domain:C({name:"icicle",trace:!0,editType:"calc"})}},96346:function(W,H,e){var g=e(74875);H.name="icicle",H.plot=function(R,a,C,T){g.plotBasePlot(H.name,R,a,C,T)},H.clean=function(R,a,C,T){g.cleanBasePlot(H.name,R,a,C,T)}},46584:function(W,H,e){var g=e(52147);H.y=function(R,a){return g.calc(R,a)},H.T=function(R){return g._runCrossTraceCalc("icicle",R)}},56524:function(W,H,e){var g=e(71828),R=e(46291),a=e(7901),C=e(27670).c,T=e(90769).handleText,v=e(97313).TEXTPAD,y=e(37434).handleMarkerDefaults,t=e(21081),r=t.hasColorscale,s=t.handleDefaults;W.exports=function(o,f,u,m){function c(x,E){return g.coerce(o,f,R,x,E)}var A=c("labels"),h=c("parents");if(!A||!A.length||!h||!h.length){f.visible=!1;return}var l=c("values");l&&l.length?c("branchvalues"):c("count"),c("level"),c("maxdepth"),c("tiling.orientation"),c("tiling.flip"),c("tiling.pad");var p=c("text");c("texttemplate"),f.texttemplate||c("textinfo",Array.isArray(p)?"text+label":"label"),c("hovertext"),c("hovertemplate");var M=c("pathbar.visible"),S="auto";T(o,f,m,c,S,{hasPathbar:M,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),c("textposition"),y(o,f,m,c);var P=f._hasColorscale=r(o,"marker","colors")||(o.marker||{}).coloraxis;P&&s(o,f,m,c,{prefix:"marker.",cLetter:"c"}),c("leaf.opacity",P?1:.7),f._hovered={marker:{line:{width:2,color:a.contrast(m.paper_bgcolor)}}},M&&(c("pathbar.thickness",f.pathbar.textfont.size+2*v),c("pathbar.side"),c("pathbar.edgeshape")),c("sort"),c("root.color"),C(f,m,c),f._length=null}},90666:function(W,H,e){var g=e(39898),R=e(71828),a=e(91424),C=e(63893),T=e(21538),v=e(82454).styleOne,y=e(43473),t=e(2791),r=e(83523),s=e(24714).formatSliceLabel,n=!1;W.exports=function(f,u,m,c,A){var h=A.width,l=A.height,p=A.viewX,M=A.viewY,S=A.pathSlice,P=A.toMoveInsideSlice,x=A.strTransform,E=A.hasTransition,w=A.handleSlicesExit,i=A.makeUpdateSliceInterpolator,L=A.makeUpdateTextInterpolator,b=A.prevEntry,O={},_=f._context.staticPlot,N=f._fullLayout,z=u[0],B=z.trace,U=B.textposition.indexOf("left")!==-1,F=B.textposition.indexOf("right")!==-1,V=B.textposition.indexOf("bottom")!==-1,j=T(m,[h,l],{flipX:B.tiling.flip.indexOf("x")>-1,flipY:B.tiling.flip.indexOf("y")>-1,orientation:B.tiling.orientation,pad:{inner:B.tiling.pad},maxDepth:B._maxDepth}),$=j.descendants(),ne=1/0,oe=-1/0;$.forEach(function(J){var re=J.depth;re>=B._maxDepth?(J.x0=J.x1=(J.x0+J.x1)/2,J.y0=J.y1=(J.y0+J.y1)/2):(ne=Math.min(ne,re),oe=Math.max(oe,re))}),c=c.data($,t.getPtId),B._maxVisibleLayers=isFinite(oe)?oe-ne+1:0,c.enter().append("g").classed("slice",!0),w(c,n,O,[h,l],S),c.order();var ce=null;if(E&&b){var Q=t.getPtId(b);c.each(function(J){ce===null&&t.getPtId(J)===Q&&(ce={x0:J.x0,x1:J.x1,y0:J.y0,y1:J.y1})})}var Z=function(){return ce||{x0:0,x1:h,y0:0,y1:l}},K=c;return E&&(K=K.transition().each("end",function(){var J=g.select(this);t.setSliceCursor(J,f,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),K.each(function(J){J._x0=p(J.x0),J._x1=p(J.x1),J._y0=M(J.y0),J._y1=M(J.y1),J._hoverX=p(J.x1-B.tiling.pad),J._hoverY=M(V?J.y1-B.tiling.pad/2:J.y0+B.tiling.pad/2);var re=g.select(this),le=R.ensureSingle(re,"path","surface",function(se){se.style("pointer-events",_?"none":"all")});E?le.transition().attrTween("d",function(se){var he=i(se,n,Z(),[h,l],{orientation:B.tiling.orientation,flipX:B.tiling.flip.indexOf("x")>-1,flipY:B.tiling.flip.indexOf("y")>-1});return function(me){return S(he(me))}}):le.attr("d",S),re.call(r,m,f,u,{styleOne:v,eventDataKeys:y.eventDataKeys,transitionTime:y.CLICK_TRANSITION_TIME,transitionEasing:y.CLICK_TRANSITION_EASING}).call(t.setSliceCursor,f,{isTransitioning:f._transitioning}),le.call(v,J,B,f,{hovered:!1}),J.x0===J.x1||J.y0===J.y1?J._text="":J._text=s(J,m,B,u,N)||"";var q=R.ensureSingle(re,"g","slicetext"),ee=R.ensureSingle(q,"text","",function(se){se.attr("data-notex",1)}),ue=R.ensureUniformFontSize(f,t.determineTextFont(B,J,N.font));ee.text(J._text||" ").classed("slicetext",!0).attr("text-anchor",F?"end":U?"start":"middle").call(a.font,ue).call(C.convertToTspans,f),J.textBB=a.bBox(ee.node()),J.transform=P(J,{fontSize:ue.size}),J.transform.fontSize=ue.size,E?ee.transition().attrTween("transform",function(se){var he=L(se,n,Z(),[h,l]);return function(me){return x(he(me))}}):ee.attr("transform",x(J))}),ce}},69816:function(W,H,e){W.exports={moduleType:"trace",name:"icicle",basePlotModule:e(96346),categories:[],animatable:!0,attributes:e(46291),layoutAttributes:e(92894),supplyDefaults:e(56524),supplyLayoutDefaults:e(21070),calc:e(46584).y,crossTraceCalc:e(46584).T,plot:e(85596),style:e(82454).style,colorbar:e(4898),meta:{}}},92894:function(W){W.exports={iciclecolorway:{valType:"colorlist",editType:"calc"},extendiciclecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},21070:function(W,H,e){var g=e(71828),R=e(92894);W.exports=function(C,T){function v(y,t){return g.coerce(C,T,R,y,t)}v("iciclecolorway",T.colorway),v("extendiciclecolors")}},21538:function(W,H,e){var g=e(674),R=e(14102);W.exports=function(C,T,v){var y=v.flipX,t=v.flipY,r=v.orientation==="h",s=v.maxDepth,n=T[0],o=T[1];s&&(n=(C.height+1)*T[0]/Math.min(C.height+1,s),o=(C.height+1)*T[1]/Math.min(C.height+1,s));var f=g.partition().padding(v.pad.inner).size(r?[T[1],n]:[T[0],o])(C);return(r||y||t)&&R(f,T,{swapXY:r,flipX:y,flipY:t}),f}},85596:function(W,H,e){var g=e(80694),R=e(90666);W.exports=function(C,T,v,y){return g(C,T,v,y,{type:"icicle",drawDescendants:R})}},82454:function(W,H,e){var g=e(39898),R=e(7901),a=e(71828),C=e(72597).resizeText,T=e(43467);function v(t){var r=t._fullLayout._iciclelayer.selectAll(".trace");C(t,r,"icicle"),r.each(function(s){var n=g.select(this),o=s[0],f=o.trace;n.style("opacity",f.opacity),n.selectAll("path.surface").each(function(u){g.select(this).call(y,u,f,t)})})}function y(t,r,s,n){var o=r.data.data,f=!r.children,u=o.i,m=a.castOption(s,u,"marker.line.color")||R.defaultLine,c=a.castOption(s,u,"marker.line.width")||0;t.call(T,r,s,n).style("stroke-width",c).call(R.stroke,m).style("opacity",f?s.leaf.opacity:null)}W.exports={style:v,styleOne:y}},17230:function(W,H,e){for(var g=e(9012),R=e(5386).fF,a=e(1426).extendFlat,C=e(51877).colormodel,T=["rgb","rgba","rgba256","hsl","hsla"],v=[],y=[],t=0;t<T.length;t++){var r=C[T[t]];v.push("For the `"+T[t]+"` colormodel, it is ["+(r.zminDflt||r.min).join(", ")+"]."),y.push("For the `"+T[t]+"` colormodel, it is ["+(r.zmaxDflt||r.max).join(", ")+"].")}W.exports=a({source:{valType:"string",editType:"calc"},z:{valType:"data_array",editType:"calc"},colormodel:{valType:"enumerated",values:T,editType:"calc"},zsmooth:{valType:"enumerated",values:["fast",!1],dflt:!1,editType:"plot"},zmin:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},zmax:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dx:{valType:"number",dflt:1,editType:"calc"},dy:{valType:"number",dflt:1,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"data_array",editType:"plot"},hoverinfo:a({},g.hoverinfo,{flags:["x","y","z","color","name","text"],dflt:"x+y+z+text+name"}),hovertemplate:R({},{keys:["z","color","colormodel"]}),transforms:void 0})},71113:function(W,H,e){var g=e(71828),R=e(51877),a=e(92770),C=e(89298),T=e(71828).maxRowLength,v=e(67395).A;W.exports=function(n,o){var f,u;if(o._hasZ)f=o.z.length,u=T(o.z);else if(o._hasSource){var m=v(o.source);f=m.height,u=m.width}var c=C.getFromId(n,o.xaxis||"x"),A=C.getFromId(n,o.yaxis||"y"),h=c.d2c(o.x0)-o.dx/2,l=A.d2c(o.y0)-o.dy/2,p,M=[h,h+u*o.dx],S=[l,l+f*o.dy];if(c&&c.type==="log")for(p=0;p<u;p++)M.push(h+p*o.dx);if(A&&A.type==="log")for(p=0;p<f;p++)S.push(l+p*o.dy);o._extremes[c._id]=C.findExtremes(c,M),o._extremes[A._id]=C.findExtremes(A,S),o._scaler=r(o);var P={x0:h,y0:l,z:o.z,w:u,h:f};return[P]};function y(s,n,o,f){return function(u){return g.constrain((u-s)*n,o,f)}}function t(s,n){return function(o){return g.constrain(o,s,n)}}function r(s){var n=R.colormodel[s.colormodel],o=n.colormodel||s.colormodel,f=o.length;s._sArray=[];for(var u=0;u<f;u++)n.min[u]!==s.zmin[u]||n.max[u]!==s.zmax[u]?s._sArray.push(y(s.zmin[u],(n.max[u]-n.min[u])/(s.zmax[u]-s.zmin[u]),n.min[u],n.max[u])):s._sArray.push(t(n.min[u],n.max[u]));return function(m){for(var c=m.slice(0,f),A=0;A<f;A++){var h=c[A];if(!a(h))return!1;c[A]=s._sArray[A](h)}return c}}},51877:function(W){W.exports={colormodel:{rgb:{min:[0,0,0],max:[255,255,255],fmt:function(H){return H.slice(0,3)},suffix:["","",""]},rgba:{min:[0,0,0,0],max:[255,255,255,1],fmt:function(H){return H.slice(0,4)},suffix:["","","",""]},rgba256:{colormodel:"rgba",zminDflt:[0,0,0,0],zmaxDflt:[255,255,255,255],min:[0,0,0,0],max:[255,255,255,1],fmt:function(H){return H.slice(0,4)},suffix:["","","",""]},hsl:{min:[0,0,0],max:[360,100,100],fmt:function(H){var e=H.slice(0,3);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["","%","%"]},hsla:{min:[0,0,0,0],max:[360,100,100,1],fmt:function(H){var e=H.slice(0,4);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["","%","%",""]}}}},13245:function(W,H,e){var g=e(71828),R=e(17230),a=e(51877),C=e(25095).IMAGE_URL_PREFIX;W.exports=function(v,y){function t(n,o){return g.coerce(v,y,R,n,o)}t("source"),y.source&&!y.source.match(C)&&delete y.source,y._hasSource=!!y.source;var r=t("z");if(y._hasZ=!(r===void 0||!r.length||!r[0]||!r[0].length),!y._hasZ&&!y._hasSource){y.visible=!1;return}t("x0"),t("y0"),t("dx"),t("dy");var s;y._hasZ?(t("colormodel","rgb"),s=a.colormodel[y.colormodel],t("zmin",s.zminDflt||s.min),t("zmax",s.zmaxDflt||s.max)):y._hasSource&&(y.colormodel="rgba256",s=a.colormodel[y.colormodel],y.zmin=s.zminDflt,y.zmax=s.zmaxDflt),t("zsmooth"),t("text"),t("hovertext"),t("hovertemplate"),y._length=null}},30835:function(W){W.exports=function(e,g){return"xVal"in g&&(e.x=g.xVal),"yVal"in g&&(e.y=g.yVal),g.xa&&(e.xaxis=g.xa),g.ya&&(e.yaxis=g.ya),e.color=g.color,e.colormodel=g.trace.colormodel,e.z||(e.z=g.color),e}},67395:function(W,H,e){var g=e(33575),R=e(25095).IMAGE_URL_PREFIX,a=e(12856).Buffer;H.A=function(C){var T=C.replace(R,""),v=new a(T,"base64");return g(v)}},28749:function(W,H,e){var g=e(30211),R=e(71828),a=e(51877);W.exports=function(T,v,y){var t=T.cd[0],r=t.trace,s=T.xa,n=T.ya;if(!(g.inbox(v-t.x0,v-(t.x0+t.w*r.dx),0)>0||g.inbox(y-t.y0,y-(t.y0+t.h*r.dy),0)>0)){var o=Math.floor((v-t.x0)/r.dx),f=Math.floor(Math.abs(y-t.y0)/r.dy),u;if(r._hasZ?u=t.z[f][o]:r._hasSource&&(u=r._canvas.el.getContext("2d",{willReadFrequently:!0}).getImageData(o,f,1,1).data),!!u){var m=t.hi||r.hoverinfo,c;if(m){var A=m.split("+");A.indexOf("all")!==-1&&(A=["color"]),A.indexOf("color")!==-1&&(c=!0)}var h=a.colormodel[r.colormodel],l=h.colormodel||r.colormodel,p=l.length,M=r._scaler(u),S=h.suffix,P=[];(r.hovertemplate||c)&&(P.push("["+[M[0]+S[0],M[1]+S[1],M[2]+S[2]].join(", ")),p===4&&P.push(", "+M[3]+S[3]),P.push("]"),P=P.join(""),T.extraText=l.toUpperCase()+": "+P);var x;Array.isArray(r.hovertext)&&Array.isArray(r.hovertext[f])?x=r.hovertext[f][o]:Array.isArray(r.text)&&Array.isArray(r.text[f])&&(x=r.text[f][o]);var E=n.c2p(t.y0+(f+.5)*r.dy),w=t.x0+(o+.5)*r.dx,i=t.y0+(f+.5)*r.dy,L="["+u.slice(0,r.colormodel.length).join(", ")+"]";return[R.extendFlat(T,{index:[f,o],x0:s.c2p(t.x0+o*r.dx),x1:s.c2p(t.x0+(o+1)*r.dx),y0:E,y1:E,color:M,xVal:w,xLabelVal:w,yVal:i,yLabelVal:i,zLabelVal:L,text:x,hovertemplateLabels:{zLabel:L,colorLabel:P,"color[0]Label":M[0]+S[0],"color[1]Label":M[1]+S[1],"color[2]Label":M[2]+S[2],"color[3]Label":M[3]+S[3]}})]}}}},94507:function(W,H,e){W.exports={attributes:e(17230),supplyDefaults:e(13245),calc:e(71113),plot:e(60775),style:e(12826),hoverPoints:e(28749),eventData:e(30835),moduleType:"trace",name:"image",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","noSortingByValue"],animatable:!1,meta:{}}},60775:function(W,H,e){var g=e(39898),R=e(71828),a=R.strTranslate,C=e(77922),T=e(51877),v=e(3883),y=e(32396).STYLE;W.exports=function(r,s,n,o){var f=s.xaxis,u=s.yaxis,m=!r._context._exportedPlot&&v();R.makeTraceGroups(o,n,"im").each(function(c){var A=g.select(this),h=c[0],l=h.trace,p=(l.zsmooth==="fast"||l.zsmooth===!1&&m)&&!l._hasZ&&l._hasSource&&f.type==="linear"&&u.type==="linear";l._realImage=p;var M=h.z,S=h.x0,P=h.y0,x=h.w,E=h.h,w=l.dx,i=l.dy,L,b,O,_,N,z;for(z=0;L===void 0&&z<x;)L=f.c2p(S+z*w),z++;for(z=x;b===void 0&&z>0;)b=f.c2p(S+z*w),z--;for(z=0;_===void 0&&z<E;)_=u.c2p(P+z*i),z++;for(z=E;N===void 0&&z>0;)N=u.c2p(P+z*i),z--;if(b<L&&(O=b,b=L,L=O),N<_&&(O=_,_=N,N=O),!p){var B=.5;L=Math.max(-B*f._length,L),b=Math.min((1+B)*f._length,b),_=Math.max(-B*u._length,_),N=Math.min((1+B)*u._length,N)}var U=Math.round(b-L),F=Math.round(N-_),V=U<=0||F<=0;if(V){var j=A.selectAll("image").data([]);j.exit().remove();return}function $(q){var ee=document.createElement("canvas");ee.width=U,ee.height=F;var ue=ee.getContext("2d",{willReadFrequently:!0}),se=function(Ve){return R.constrain(Math.round(f.c2p(S+Ve*w)-L),0,U)},he=function(Ve){return R.constrain(Math.round(u.c2p(P+Ve*i)-_),0,F)},me=T.colormodel[l.colormodel],Ce=me.colormodel||l.colormodel,Te=me.fmt,Oe;for(z=0;z<h.w;z++){var Ne=se(z),Le=se(z+1);if(!(Le===Ne||isNaN(Le)||isNaN(Ne)))for(var be=0;be<h.h;be++){var Ae=he(be),He=he(be+1);He===Ae||isNaN(He)||isNaN(Ae)||!q(z,be)||(Oe=l._scaler(q(z,be)),Oe?ue.fillStyle=Ce+"("+Te(Oe).join(",")+")":ue.fillStyle="rgba(0,0,0,0)",ue.fillRect(Ne,Ae,Le-Ne,He-Ae))}}return ee}var ne=A.selectAll("image").data([c]);ne.enter().append("svg:image").attr({xmlns:C.svg,preserveAspectRatio:"none"}),ne.exit().remove();var oe=l.zsmooth===!1?y:"";if(p){var ce=R.simpleMap(f.range,f.r2l),Q=R.simpleMap(u.range,u.r2l),Z=ce[1]<ce[0],K=Q[1]>Q[0];if(Z||K){var J=L+U/2,re=_+F/2;oe+="transform:"+a(J+"px",re+"px")+"scale("+(Z?-1:1)+","+(K?-1:1)+")"+a(-J+"px",-re+"px")+";"}}ne.attr("style",oe);var le=new Promise(function(q){if(l._hasZ)q();else if(l._hasSource)if(l._canvas&&l._canvas.el.width===x&&l._canvas.el.height===E&&l._canvas.source===l.source)q();else{var ee=document.createElement("canvas");ee.width=x,ee.height=E;var ue=ee.getContext("2d",{willReadFrequently:!0});l._image=l._image||new Image;var se=l._image;se.onload=function(){ue.drawImage(se,0,0),l._canvas={el:ee,source:l.source},q()},se.setAttribute("src",l.source)}}).then(function(){var q,ee;if(l._hasZ)ee=$(function(he,me){return M[me][he]}),q=ee.toDataURL("image/png");else if(l._hasSource)if(p)q=l.source;else{var ue=l._canvas.el.getContext("2d",{willReadFrequently:!0}),se=ue.getImageData(0,0,x,E).data;ee=$(function(he,me){var Ce=4*(me*x+he);return[se[Ce],se[Ce+1],se[Ce+2],se[Ce+3]]}),q=ee.toDataURL("image/png")}ne.attr({"xlink:href":q,height:F,width:U,x:L,y:_})});r._promises.push(le)})}},12826:function(W,H,e){var g=e(39898);W.exports=function(a){g.select(a).selectAll(".im image").style("opacity",function(C){return C[0].trace.opacity})}},54846:function(W,H,e){var g=e(1426).extendFlat,R=e(1426).extendDeep,a=e(30962).overrideAll,C=e(41940),T=e(22399),v=e(27670).Y,y=e(13838),t=e(44467).templatedArray,r=e(22372),s=e(12663).descriptionOnlyNumbers,n=C({editType:"plot",colorEditType:"plot"}),o={color:{valType:"color",editType:"plot"},line:{color:{valType:"color",dflt:T.defaultLine,editType:"plot"},width:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},thickness:{valType:"number",min:0,max:1,dflt:1,editType:"plot"},editType:"calc"},f={valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},u=t("step",R({},o,{range:f}));W.exports={mode:{valType:"flaglist",editType:"calc",flags:["number","delta","gauge"],dflt:"number"},value:{valType:"number",editType:"calc",anim:!0},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},domain:v({name:"indicator",trace:!0,editType:"calc"}),title:{text:{valType:"string",editType:"plot"},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},font:g({},n,{}),editType:"plot"},number:{valueformat:{valType:"string",dflt:"",editType:"plot",description:s("value")},font:g({},n,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"plot"},delta:{reference:{valType:"number",editType:"calc"},position:{valType:"enumerated",values:["top","bottom","left","right"],dflt:"bottom",editType:"plot"},relative:{valType:"boolean",editType:"plot",dflt:!1},valueformat:{valType:"string",editType:"plot",description:s("value")},increasing:{symbol:{valType:"string",dflt:r.INCREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:r.INCREASING.COLOR,editType:"plot"},editType:"plot"},decreasing:{symbol:{valType:"string",dflt:r.DECREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:r.DECREASING.COLOR,editType:"plot"},editType:"plot"},font:g({},n,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"calc"},gauge:{shape:{valType:"enumerated",editType:"plot",dflt:"angular",values:["angular","bullet"]},bar:R({},o,{color:{dflt:"green"}}),bgcolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:T.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:1,editType:"plot"},axis:a({range:f,visible:g({},y.visible,{dflt:!0}),tickmode:y.minor.tickmode,nticks:y.nticks,tick0:y.tick0,dtick:y.dtick,tickvals:y.tickvals,ticktext:y.ticktext,ticks:g({},y.ticks,{dflt:"outside"}),ticklen:y.ticklen,tickwidth:y.tickwidth,tickcolor:y.tickcolor,ticklabelstep:y.ticklabelstep,showticklabels:y.showticklabels,labelalias:y.labelalias,tickfont:C({}),tickangle:y.tickangle,tickformat:y.tickformat,tickformatstops:y.tickformatstops,tickprefix:y.tickprefix,showtickprefix:y.showtickprefix,ticksuffix:y.ticksuffix,showticksuffix:y.showticksuffix,separatethousands:y.separatethousands,exponentformat:y.exponentformat,minexponent:y.minexponent,showexponent:y.showexponent,editType:"plot"},"plot"),steps:u,threshold:{line:{color:g({},o.line.color,{}),width:g({},o.line.width,{dflt:1}),editType:"plot"},thickness:g({},o.thickness,{dflt:.85}),value:{valType:"number",editType:"calc",dflt:!1},editType:"plot"},editType:"plot"}}},15970:function(W,H,e){var g=e(74875);H.name="indicator",H.plot=function(R,a,C,T){g.plotBasePlot(H.name,R,a,C,T)},H.clean=function(R,a,C,T){g.cleanBasePlot(H.name,R,a,C,T)}},24667:function(W){function H(e,g){var R=[],a=g.value;typeof g._lastValue!="number"&&(g._lastValue=g.value);var C=g._lastValue,T=C;return g._hasDelta&&typeof g.delta.reference=="number"&&(T=g.delta.reference),R[0]={y:a,lastY:C,delta:a-T,relativeDelta:(a-T)/T},R}W.exports={calc:H}},84577:function(W){W.exports={defaultNumberFontSize:80,bulletNumberDomainSize:.25,bulletPadding:.025,innerRadius:.75,valueThickness:.5,titlePadding:5,horizontalPadding:10}},94425:function(W,H,e){var g=e(71828),R=e(54846),a=e(27670).c,C=e(44467),T=e(85501),v=e(84577),y=e(26218),t=e(38701),r=e(96115),s=e(89426);function n(f,u,m,c){function A(N,z){return g.coerce(f,u,R,N,z)}a(u,c,A),A("mode"),u._hasNumber=u.mode.indexOf("number")!==-1,u._hasDelta=u.mode.indexOf("delta")!==-1,u._hasGauge=u.mode.indexOf("gauge")!==-1;var h=A("value");u._range=[0,typeof h=="number"?1.5*h:1];var l=new Array(2),p;u._hasNumber&&(A("number.valueformat"),A("number.font.color",c.font.color),A("number.font.family",c.font.family),A("number.font.size"),u.number.font.size===void 0&&(u.number.font.size=v.defaultNumberFontSize,l[0]=!0),A("number.prefix"),A("number.suffix"),p=u.number.font.size);var M;u._hasDelta&&(A("delta.font.color",c.font.color),A("delta.font.family",c.font.family),A("delta.font.size"),u.delta.font.size===void 0&&(u.delta.font.size=(u._hasNumber?.5:1)*(p||v.defaultNumberFontSize),l[1]=!0),A("delta.reference",u.value),A("delta.relative"),A("delta.valueformat",u.delta.relative?"2%":""),A("delta.increasing.symbol"),A("delta.increasing.color"),A("delta.decreasing.symbol"),A("delta.decreasing.color"),A("delta.position"),A("delta.prefix"),A("delta.suffix"),M=u.delta.font.size),u._scaleNumbers=(!u._hasNumber||l[0])&&(!u._hasDelta||l[1])||!1,A("title.font.color",c.font.color),A("title.font.family",c.font.family),A("title.font.size",.25*(p||M||v.defaultNumberFontSize)),A("title.text");var S,P,x,E;function w(N,z){return g.coerce(S,P,R.gauge,N,z)}function i(N,z){return g.coerce(x,E,R.gauge.axis,N,z)}if(u._hasGauge){S=f.gauge,S||(S={}),P=C.newContainer(u,"gauge"),w("shape");var L=u._isBullet=u.gauge.shape==="bullet";L||A("title.align","center");var b=u._isAngular=u.gauge.shape==="angular";b||A("align","center"),w("bgcolor",c.paper_bgcolor),w("borderwidth"),w("bordercolor"),w("bar.color"),w("bar.line.color"),w("bar.line.width");var O=v.valueThickness*(u.gauge.shape==="bullet"?.5:1);w("bar.thickness",O),T(S,P,{name:"steps",handleItemDefaults:o}),w("threshold.value"),w("threshold.thickness"),w("threshold.line.width"),w("threshold.line.color"),x={},S&&(x=S.axis||{}),E=C.newContainer(P,"axis"),i("visible"),u._range=i("range",u._range);var _={outerTicks:!0};y(x,E,i,"linear"),s(x,E,i,"linear",_),r(x,E,i,"linear",_),t(x,E,i,_)}else A("title.align","center"),A("align","center"),u._isAngular=u._isBullet=!1;u._length=null}function o(f,u){function m(c,A){return g.coerce(f,u,R.gauge.steps,c,A)}m("color"),m("line.color"),m("line.width"),m("range"),m("thickness")}W.exports={supplyDefaults:n}},15154:function(W,H,e){W.exports={moduleType:"trace",name:"indicator",basePlotModule:e(15970),categories:["svg","noOpacity","noHover"],animatable:!0,attributes:e(54846),supplyDefaults:e(94425).supplyDefaults,calc:e(24667).calc,plot:e(75634),meta:{}}},75634:function(W,H,e){var g=e(39898),R=e(81684).sX,a=e(81684).k4,C=e(71828),T=C.strScale,v=C.strTranslate,y=C.rad2deg,t=e(18783).MID_SHIFT,r=e(91424),s=e(84577),n=e(63893),o=e(89298),f=e(71453),u=e(52830),m=e(13838),c=e(7901),A={left:"start",center:"middle",right:"end"},h={left:0,center:.5,right:1},l=/[yzafpnmkMGTPEZY]/;function p(_){return _&&_.duration>0}W.exports=function(N,z,B,U){var F=N._fullLayout,V;p(B)&&U&&(V=U()),C.makeTraceGroups(F._indicatorlayer,z,"trace").each(function(j){var $=j[0],ne=$.trace,oe=g.select(this),ce=ne._hasGauge,Q=ne._isAngular,Z=ne._isBullet,K=ne.domain,J={w:F._size.w*(K.x[1]-K.x[0]),h:F._size.h*(K.y[1]-K.y[0]),l:F._size.l+F._size.w*K.x[0],r:F._size.r+F._size.w*(1-K.x[1]),t:F._size.t+F._size.h*(1-K.y[1]),b:F._size.b+F._size.h*K.y[0]},re=J.l+J.w/2,le=J.t+J.h/2,q=Math.min(J.w/2,J.h),ee=s.innerRadius*q,ue,se,he,me=ne.align||"center";if(se=le,!ce)ue=J.l+h[me]*J.w,he=function(ke){return i(ke,J.w,J.h)};else if(Q&&(ue=re,se=le+q/2,he=function(ke){return L(ke,.9*ee)}),Z){var Ce=s.bulletPadding,Te=1-s.bulletNumberDomainSize+Ce;ue=J.l+(Te+(1-Te)*h[me])*J.w,he=function(ke){return i(ke,(s.bulletNumberDomainSize-Ce)*J.w,J.h)}}P(N,oe,j,{numbersX:ue,numbersY:se,numbersScaler:he,transitionOpts:B,onComplete:V});var Oe,Ne;ce&&(Oe={range:ne.gauge.axis.range,color:ne.gauge.bgcolor,line:{color:ne.gauge.bordercolor,width:0},thickness:1},Ne={range:ne.gauge.axis.range,color:"rgba(0, 0, 0, 0)",line:{color:ne.gauge.bordercolor,width:ne.gauge.borderwidth},thickness:1});var Le=oe.selectAll("g.angular").data(Q?j:[]);Le.exit().remove();var be=oe.selectAll("g.angularaxis").data(Q?j:[]);be.exit().remove(),Q&&S(N,oe,j,{radius:q,innerRadius:ee,gauge:Le,layer:be,size:J,gaugeBg:Oe,gaugeOutline:Ne,transitionOpts:B,onComplete:V});var Ae=oe.selectAll("g.bullet").data(Z?j:[]);Ae.exit().remove();var He=oe.selectAll("g.bulletaxis").data(Z?j:[]);He.exit().remove(),Z&&M(N,oe,j,{gauge:Ae,layer:He,size:J,gaugeBg:Oe,gaugeOutline:Ne,transitionOpts:B,onComplete:V});var Ve=oe.selectAll("text.title").data(j);Ve.exit().remove(),Ve.enter().append("text").classed("title",!0),Ve.attr("text-anchor",function(){return Z?A.right:A[ne.title.align]}).text(ne.title.text).call(r.font,ne.title.font).call(n.convertToTspans,N),Ve.attr("transform",function(){var ke=J.l+J.w*h[ne.title.align],Ge,it=s.titlePadding,et=r.bBox(Ve.node());if(ce){if(Q)if(ne.gauge.axis.visible){var tt=r.bBox(be.node());Ge=tt.top-it-et.bottom}else Ge=J.t+J.h/2-q/2-et.bottom-it;Z&&(Ge=se-(et.top+et.bottom)/2,ke=J.l-s.bulletPadding*J.w)}else Ge=ne._numbersTop-it-et.bottom;return v(ke,Ge)})})};function M(_,N,z,B){var U=z[0].trace,F=B.gauge,V=B.layer,j=B.gaugeBg,$=B.gaugeOutline,ne=B.size,oe=U.domain,ce=B.transitionOpts,Q=B.onComplete,Z,K,J,re,le;F.enter().append("g").classed("bullet",!0),F.attr("transform",v(ne.l,ne.t)),V.enter().append("g").classed("bulletaxis",!0).classed("crisp",!0),V.selectAll("g.xbulletaxistick,path,text").remove();var q=ne.h,ee=U.gauge.bar.thickness*q,ue=oe.x[0],se=oe.x[0]+(oe.x[1]-oe.x[0])*(U._hasNumber||U._hasDelta?1-s.bulletNumberDomainSize:1);Z=w(_,U.gauge.axis),Z._id="xbulletaxis",Z.domain=[ue,se],Z.setScale(),K=o.calcTicks(Z),J=o.makeTransTickFn(Z),re=o.getTickSigns(Z)[2],le=ne.t+ne.h,Z.visible&&(o.drawTicks(_,Z,{vals:Z.ticks==="inside"?o.clipEnds(Z,K):K,layer:V,path:o.makeTickPath(Z,le,re),transFn:J}),o.drawLabels(_,Z,{vals:K,layer:V,transFn:J,labelFns:o.makeLabelFns(Z,le)}));function he(be){be.attr("width",function(Ae){return Math.max(0,Z.c2p(Ae.range[1])-Z.c2p(Ae.range[0]))}).attr("x",function(Ae){return Z.c2p(Ae.range[0])}).attr("y",function(Ae){return .5*(1-Ae.thickness)*q}).attr("height",function(Ae){return Ae.thickness*q})}var me=[j].concat(U.gauge.steps),Ce=F.selectAll("g.bg-bullet").data(me);Ce.enter().append("g").classed("bg-bullet",!0).append("rect"),Ce.select("rect").call(he).call(x),Ce.exit().remove();var Te=F.selectAll("g.value-bullet").data([U.gauge.bar]);Te.enter().append("g").classed("value-bullet",!0).append("rect"),Te.select("rect").attr("height",ee).attr("y",(q-ee)/2).call(x),p(ce)?Te.select("rect").transition().duration(ce.duration).ease(ce.easing).each("end",function(){Q&&Q()}).each("interrupt",function(){Q&&Q()}).attr("width",Math.max(0,Z.c2p(Math.min(U.gauge.axis.range[1],z[0].y)))):Te.select("rect").attr("width",typeof z[0].y=="number"?Math.max(0,Z.c2p(Math.min(U.gauge.axis.range[1],z[0].y))):0),Te.exit().remove();var Oe=z.filter(function(){return U.gauge.threshold.value||U.gauge.threshold.value===0}),Ne=F.selectAll("g.threshold-bullet").data(Oe);Ne.enter().append("g").classed("threshold-bullet",!0).append("line"),Ne.select("line").attr("x1",Z.c2p(U.gauge.threshold.value)).attr("x2",Z.c2p(U.gauge.threshold.value)).attr("y1",(1-U.gauge.threshold.thickness)/2*q).attr("y2",(1-(1-U.gauge.threshold.thickness)/2)*q).call(c.stroke,U.gauge.threshold.line.color).style("stroke-width",U.gauge.threshold.line.width),Ne.exit().remove();var Le=F.selectAll("g.gauge-outline").data([$]);Le.enter().append("g").classed("gauge-outline",!0).append("rect"),Le.select("rect").call(he).call(x),Le.exit().remove()}function S(_,N,z,B){var U=z[0].trace,F=B.size,V=B.radius,j=B.innerRadius,$=B.gaugeBg,ne=B.gaugeOutline,oe=[F.l+F.w/2,F.t+F.h/2+V/2],ce=B.gauge,Q=B.layer,Z=B.transitionOpts,K=B.onComplete,J=Math.PI/2;function re(at){var vt=U.gauge.axis.range[0],yt=U.gauge.axis.range[1],gt=(at-vt)/(yt-vt)*Math.PI-J;return gt<-J?-J:gt>J?J:gt}function le(at){return g.svg.arc().innerRadius((j+V)/2-at/2*(V-j)).outerRadius((j+V)/2+at/2*(V-j)).startAngle(-J)}function q(at){at.attr("d",function(vt){return le(vt.thickness).startAngle(re(vt.range[0])).endAngle(re(vt.range[1]))()})}var ee,ue,se,he;ce.enter().append("g").classed("angular",!0),ce.attr("transform",v(oe[0],oe[1])),Q.enter().append("g").classed("angularaxis",!0).classed("crisp",!0),Q.selectAll("g.xangularaxistick,path,text").remove(),ee=w(_,U.gauge.axis),ee.type="linear",ee.range=U.gauge.axis.range,ee._id="xangularaxis",ee.ticklabeloverflow="allow",ee.setScale();var me=function(at){return(ee.range[0]-at.x)/(ee.range[1]-ee.range[0])*Math.PI+Math.PI},Ce={},Te=o.makeLabelFns(ee,0),Oe=Te.labelStandoff;Ce.xFn=function(at){var vt=me(at);return Math.cos(vt)*Oe},Ce.yFn=function(at){var vt=me(at),yt=Math.sin(vt)>0?.2:1;return-Math.sin(vt)*(Oe+at.fontSize*yt)+Math.abs(Math.cos(vt))*(at.fontSize*t)},Ce.anchorFn=function(at){var vt=me(at),yt=Math.cos(vt);return Math.abs(yt)<.1?"middle":yt>0?"start":"end"},Ce.heightFn=function(at,vt,yt){var gt=me(at);return-.5*(1+Math.sin(gt))*yt};var Ne=function(at){return v(oe[0]+V*Math.cos(at),oe[1]-V*Math.sin(at))};se=function(at){return Ne(me(at))};var Le=function(at){var vt=me(at);return Ne(vt)+"rotate("+-y(vt)+")"};if(ue=o.calcTicks(ee),he=o.getTickSigns(ee)[2],ee.visible){he=ee.ticks==="inside"?-1:1;var be=(ee.linewidth||1)/2;o.drawTicks(_,ee,{vals:ue,layer:Q,path:"M"+he*be+",0h"+he*ee.ticklen,transFn:Le}),o.drawLabels(_,ee,{vals:ue,layer:Q,transFn:se,labelFns:Ce})}var Ae=[$].concat(U.gauge.steps),He=ce.selectAll("g.bg-arc").data(Ae);He.enter().append("g").classed("bg-arc",!0).append("path"),He.select("path").call(q).call(x),He.exit().remove();var Ve=le(U.gauge.bar.thickness),ke=ce.selectAll("g.value-arc").data([U.gauge.bar]);ke.enter().append("g").classed("value-arc",!0).append("path");var Ge=ke.select("path");p(Z)?(Ge.transition().duration(Z.duration).ease(Z.easing).each("end",function(){K&&K()}).each("interrupt",function(){K&&K()}).attrTween("d",E(Ve,re(z[0].lastY),re(z[0].y))),U._lastValue=z[0].y):Ge.attr("d",typeof z[0].y=="number"?Ve.endAngle(re(z[0].y)):"M0,0Z"),Ge.call(x),ke.exit().remove(),Ae=[];var it=U.gauge.threshold.value;(it||it===0)&&Ae.push({range:[it,it],color:U.gauge.threshold.color,line:{color:U.gauge.threshold.line.color,width:U.gauge.threshold.line.width},thickness:U.gauge.threshold.thickness});var et=ce.selectAll("g.threshold-arc").data(Ae);et.enter().append("g").classed("threshold-arc",!0).append("path"),et.select("path").call(q).call(x),et.exit().remove();var tt=ce.selectAll("g.gauge-outline").data([ne]);tt.enter().append("g").classed("gauge-outline",!0).append("path"),tt.select("path").call(q).call(x),tt.exit().remove()}function P(_,N,z,B){var U=z[0].trace,F=B.numbersX,V=B.numbersY,j=U.align||"center",$=A[j],ne=B.transitionOpts,oe=B.onComplete,ce=C.ensureSingle(N,"g","numbers"),Q,Z,K,J=[];U._hasNumber&&J.push("number"),U._hasDelta&&(J.push("delta"),U.delta.position==="left"&&J.reverse());var re=ce.selectAll("text").data(J);re.enter().append("text"),re.attr("text-anchor",function(){return $}).attr("class",function(Ne){return Ne}).attr("x",null).attr("y",null).attr("dx",null).attr("dy",null),re.exit().remove();function le(Ne,Le,be,Ae){if(Ne.match("s")&&be>=0!=Ae>=0&&!Le(be).slice(-1).match(l)&&!Le(Ae).slice(-1).match(l)){var He=Ne.slice().replace("s","f").replace(/\d+/,function(ke){return parseInt(ke)-1}),Ve=w(_,{tickformat:He});return function(ke){return Math.abs(ke)<1?o.tickText(Ve,ke).text:Le(ke)}}else return Le}function q(){var Ne=w(_,{tickformat:U.number.valueformat},U._range);Ne.setScale(),o.prepTicks(Ne);var Le=function(ke){return o.tickText(Ne,ke).text},be=U.number.suffix,Ae=U.number.prefix,He=ce.select("text.number");function Ve(){var ke=typeof z[0].y=="number"?Ae+Le(z[0].y)+be:"-";He.text(ke).call(r.font,U.number.font).call(n.convertToTspans,_)}return p(ne)?He.transition().duration(ne.duration).ease(ne.easing).each("end",function(){Ve(),oe&&oe()}).each("interrupt",function(){Ve(),oe&&oe()}).attrTween("text",function(){var ke=g.select(this),Ge=a(z[0].lastY,z[0].y);U._lastValue=z[0].y;var it=le(U.number.valueformat,Le,z[0].lastY,z[0].y);return function(et){ke.text(Ae+it(Ge(et))+be)}}):Ve(),Q=b(Ae+Le(z[0].y)+be,U.number.font,$,_),He}function ee(){var Ne=w(_,{tickformat:U.delta.valueformat},U._range);Ne.setScale(),o.prepTicks(Ne);var Le=function(et){return o.tickText(Ne,et).text},be=U.delta.suffix,Ae=U.delta.prefix,He=function(et){var tt=U.delta.relative?et.relativeDelta:et.delta;return tt},Ve=function(et,tt){return et===0||typeof et!="number"||isNaN(et)?"-":(et>0?U.delta.increasing.symbol:U.delta.decreasing.symbol)+Ae+tt(et)+be},ke=function(et){return et.delta>=0?U.delta.increasing.color:U.delta.decreasing.color};U._deltaLastValue===void 0&&(U._deltaLastValue=He(z[0]));var Ge=ce.select("text.delta");Ge.call(r.font,U.delta.font).call(c.fill,ke({delta:U._deltaLastValue}));function it(){Ge.text(Ve(He(z[0]),Le)).call(c.fill,ke(z[0])).call(n.convertToTspans,_)}return p(ne)?Ge.transition().duration(ne.duration).ease(ne.easing).tween("text",function(){var et=g.select(this),tt=He(z[0]),at=U._deltaLastValue,vt=le(U.delta.valueformat,Le,at,tt),yt=a(at,tt);return U._deltaLastValue=tt,function(gt){et.text(Ve(yt(gt),vt)),et.call(c.fill,ke({delta:yt(gt)}))}}).each("end",function(){it(),oe&&oe()}).each("interrupt",function(){it(),oe&&oe()}):it(),Z=b(Ve(He(z[0]),Le),U.delta.font,$,_),Ge}var ue=U.mode+U.align,se;if(U._hasDelta&&(se=ee(),ue+=U.delta.position+U.delta.font.size+U.delta.font.family+U.delta.valueformat,ue+=U.delta.increasing.symbol+U.delta.decreasing.symbol,K=Z),U._hasNumber&&(q(),ue+=U.number.font.size+U.number.font.family+U.number.valueformat+U.number.suffix+U.number.prefix,K=Q),U._hasDelta&&U._hasNumber){var he=[(Q.left+Q.right)/2,(Q.top+Q.bottom)/2],me=[(Z.left+Z.right)/2,(Z.top+Z.bottom)/2],Ce,Te,Oe=.75*U.delta.font.size;U.delta.position==="left"&&(Ce=O(U,"deltaPos",0,-1*(Q.width*h[U.align]+Z.width*(1-h[U.align])+Oe),ue,Math.min),Te=he[1]-me[1],K={width:Q.width+Z.width+Oe,height:Math.max(Q.height,Z.height),left:Z.left+Ce,right:Q.right,top:Math.min(Q.top,Z.top+Te),bottom:Math.max(Q.bottom,Z.bottom+Te)}),U.delta.position==="right"&&(Ce=O(U,"deltaPos",0,Q.width*(1-h[U.align])+Z.width*h[U.align]+Oe,ue,Math.max),Te=he[1]-me[1],K={width:Q.width+Z.width+Oe,height:Math.max(Q.height,Z.height),left:Q.left,right:Z.right+Ce,top:Math.min(Q.top,Z.top+Te),bottom:Math.max(Q.bottom,Z.bottom+Te)}),U.delta.position==="bottom"&&(Ce=null,Te=Z.height,K={width:Math.max(Q.width,Z.width),height:Q.height+Z.height,left:Math.min(Q.left,Z.left),right:Math.max(Q.right,Z.right),top:Q.bottom-Q.height,bottom:Q.bottom+Z.height}),U.delta.position==="top"&&(Ce=null,Te=Q.top,K={width:Math.max(Q.width,Z.width),height:Q.height+Z.height,left:Math.min(Q.left,Z.left),right:Math.max(Q.right,Z.right),top:Q.bottom-Q.height-Z.height,bottom:Q.bottom}),se.attr({dx:Ce,dy:Te})}(U._hasNumber||U._hasDelta)&&ce.attr("transform",function(){var Ne=B.numbersScaler(K);ue+=Ne[2];var Le=O(U,"numbersScale",1,Ne[0],ue,Math.min),be;U._scaleNumbers||(Le=1),U._isAngular?be=V-Le*K.bottom:be=V-Le*(K.top+K.bottom)/2,U._numbersTop=Le*K.top+be;var Ae=K[j];j==="center"&&(Ae=(K.left+K.right)/2);var He=F-Le*Ae;return He=O(U,"numbersTranslate",0,He,ue,Math.max),v(He,be)+T(Le)})}function x(_){_.each(function(N){c.stroke(g.select(this),N.line.color)}).each(function(N){c.fill(g.select(this),N.color)}).style("stroke-width",function(N){return N.line.width})}function E(_,N,z){return function(){var B=R(N,z);return function(U){return _.endAngle(B(U))()}}}function w(_,N,z){var B=_._fullLayout,U=C.extendFlat({type:"linear",ticks:"outside",range:z,showline:!0},N),F={type:"linear",_id:"x"+N._id},V={letter:"x",font:B.font,noHover:!0,noTickson:!0};function j($,ne){return C.coerce(U,F,m,$,ne)}return f(U,F,j,V,B),u(U,F,j,V),F}function i(_,N,z){var B=Math.min(N/_.width,z/_.height);return[B,_,N+"x"+z]}function L(_,N){var z=Math.sqrt(_.width/2*(_.width/2)+_.height*_.height),B=N/z;return[B,_,N]}function b(_,N,z,B){var U=document.createElementNS("http://www.w3.org/2000/svg","text"),F=g.select(U);return F.text(_).attr("x",0).attr("y",0).attr("text-anchor",z).attr("data-unformatted",_).call(n.convertToTspans,B).call(r.font,N),r.bBox(F.node())}function O(_,N,z,B,U,F){var V="_cache"+N;_[V]&&_[V].key===U||(_[V]={key:U,value:z});var j=C.aggNums(F,null,[_[V].value,B],2);return _[V].value=j,j}},16249:function(W,H,e){var g=e(50693),R=e(12663).axisHoverFormat,a=e(5386).fF,C=e(2418),T=e(9012),v=e(1426).extendFlat,y=e(30962).overrideAll;function t(n){return{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}}}function r(n){return{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}}}var s=W.exports=y(v({x:{valType:"data_array"},y:{valType:"data_array"},z:{valType:"data_array"},value:{valType:"data_array"},isomin:{valType:"number"},isomax:{valType:"number"},surface:{show:{valType:"boolean",dflt:!0},count:{valType:"integer",dflt:2,min:1},fill:{valType:"number",min:0,max:1,dflt:1},pattern:{valType:"flaglist",flags:["A","B","C","D","E"],extras:["all","odd","even"],dflt:"all"}},spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:.15}},slices:{x:t(),y:t(),z:t()},caps:{x:r(),y:r(),z:r()},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:a(),xhoverformat:R("x"),yhoverformat:R("y"),zhoverformat:R("z"),valuehoverformat:R("value",1),showlegend:v({},T.showlegend,{dflt:!1})},g("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:C.opacity,lightposition:C.lightposition,lighting:C.lighting,flatshading:C.flatshading,contour:C.contour,hoverinfo:v({},T.hoverinfo)}),"calc","nested");s.flatshading.dflt=!0,s.lighting.facenormalsepsilon.dflt=0,s.x.editType=s.y.editType=s.z.editType=s.value.editType="calc+clearAxisTypes",s.transforms=void 0},56959:function(W,H,e){var g=e(78803),R=e(88489).processGrid,a=e(88489).filter;W.exports=function(T,v){v._len=Math.min(v.x.length,v.y.length,v.z.length,v.value.length),v._x=a(v.x,v._len),v._y=a(v.y,v._len),v._z=a(v.z,v._len),v._value=a(v.value,v._len);var y=R(v);v._gridFill=y.fill,v._Xs=y.Xs,v._Ys=y.Ys,v._Zs=y.Zs,v._len=y.len;for(var t=1/0,r=-1/0,s=0;s<v._len;s++){var n=v._value[s];t=Math.min(t,n),r=Math.max(r,n)}v._minValues=t,v._maxValues=r,v._vMin=v.isomin===void 0||v.isomin===null?t:v.isomin,v._vMax=v.isomax===void 0||v.isomin===null?r:v.isomax,g(T,v,{vals:[v._vMin,v._vMax],containerStr:"",cLetter:"c"})}},22674:function(W,H,e){var g=e(9330).gl_mesh3d,R=e(81697).parseColorScale,a=e(78614),C=e(21081).extractOpts,T=e(90060),v=function(o,f){for(var u=f.length-1;u>0;u--){var m=Math.min(f[u],f[u-1]),c=Math.max(f[u],f[u-1]);if(c>m&&m<o&&o<=c)return{id:u,distRatio:(c-o)/(c-m)}}return{id:0,distRatio:0}};function y(o,f,u){this.scene=o,this.uid=u,this.mesh=f,this.name="",this.data=null,this.showContour=!1}var t=y.prototype;t.handlePick=function(o){if(o.object===this.mesh){var f=o.data.index,u=this.data._meshX[f],m=this.data._meshY[f],c=this.data._meshZ[f],A=this.data._Ys.length,h=this.data._Zs.length,l=v(u,this.data._Xs).id,p=v(m,this.data._Ys).id,M=v(c,this.data._Zs).id,S=o.index=M+h*p+h*A*l;o.traceCoordinate=[this.data._meshX[S],this.data._meshY[S],this.data._meshZ[S],this.data._value[S]];var P=this.data.hovertext||this.data.text;return Array.isArray(P)&&P[S]!==void 0?o.textLabel=P[S]:P&&(o.textLabel=P),!0}},t.update=function(o){var f=this.scene,u=f.fullSceneLayout;this.data=s(o);function m(p,M,S,P){return M.map(function(x){return p.d2l(x,0,P)*S})}var c=T(m(u.xaxis,o._meshX,f.dataScale[0],o.xcalendar),m(u.yaxis,o._meshY,f.dataScale[1],o.ycalendar),m(u.zaxis,o._meshZ,f.dataScale[2],o.zcalendar)),A=T(o._meshI,o._meshJ,o._meshK),h={positions:c,cells:A,lightPosition:[o.lightposition.x,o.lightposition.y,o.lightposition.z],ambient:o.lighting.ambient,diffuse:o.lighting.diffuse,specular:o.lighting.specular,roughness:o.lighting.roughness,fresnel:o.lighting.fresnel,vertexNormalsEpsilon:o.lighting.vertexnormalsepsilon,faceNormalsEpsilon:o.lighting.facenormalsepsilon,opacity:o.opacity,contourEnable:o.contour.show,contourColor:a(o.contour.color).slice(0,3),contourWidth:o.contour.width,useFacetNormals:o.flatshading},l=C(o);h.vertexIntensity=o._meshIntensity,h.vertexIntensityBounds=[l.min,l.max],h.colormap=R(o),this.mesh.update(h)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};var r=["xyz","xzy","yxz","yzx","zxy","zyx"];function s(o){o._meshI=[],o._meshJ=[],o._meshK=[];var f=o.surface.show,u=o.spaceframe.show,m=o.surface.fill,c=o.spaceframe.fill,A=!1,h=!1,l=0,p,M,S=o._Xs,P=o._Ys,x=o._Zs,E=S.length,w=P.length,i=x.length,L=r.indexOf(o._gridFill.replace(/-/g,"").replace(/\+/g,"")),b=function(ze,_e,Be){switch(L){case 5:return Be+i*_e+i*w*ze;case 4:return Be+i*ze+i*E*_e;case 3:return _e+w*Be+w*i*ze;case 2:return _e+w*ze+w*E*Be;case 1:return ze+E*Be+E*i*_e;default:return ze+E*_e+E*w*Be}},O=o._minValues,_=o._maxValues,N=o._vMin,z=o._vMax,B,U,F,V;function j(ze,_e,Be){for(var De=V.length,we=M;we<De;we++)if(ze===B[we]&&_e===U[we]&&Be===F[we])return we;return-1}function $(){M=p}function ne(){B=[],U=[],F=[],V=[],p=0,$()}function oe(ze,_e,Be,De){return B.push(ze),U.push(_e),F.push(Be),V.push(De),p++,p-1}function ce(ze,_e,Be){return o._meshI.push(ze),o._meshJ.push(_e),o._meshK.push(Be),l++,l-1}function Q(ze,_e,Be){for(var De=[],we=0;we<ze.length;we++)De[we]=(ze[we]+_e[we]+Be[we])/3;return De}function Z(ze,_e,Be){for(var De=[],we=0;we<ze.length;we++)De[we]=ze[we]*(1-Be)+Be*_e[we];return De}var K;function J(ze){K=ze}function re(ze,_e){var Be=ze[0],De=ze[1],we=ze[2],xe=Q(Be,De,we),Ee=Math.sqrt(1-K),Pe=Z(xe,Be,Ee),Ue=Z(xe,De,Ee),$e=Z(xe,we,Ee),qe=_e[0],dt=_e[1],bt=_e[2];return{xyzv:[[Be,De,Ue],[Ue,Pe,Be],[De,we,$e],[$e,Ue,De],[we,Be,Pe],[Pe,$e,we]],abc:[[qe,dt,-1],[-1,-1,qe],[dt,bt,-1],[-1,-1,dt],[bt,qe,-1],[-1,-1,bt]]}}function le(ze,_e){return ze==="all"||ze===null?!0:ze.indexOf(_e)>-1}function q(ze,_e){return ze===null?_e:ze}function ee(ze,_e,Be){$();var De=[_e],we=[Be];if(K>=1)De=[_e],we=[Be];else if(K>0){var xe=re(_e,Be);De=xe.xyzv,we=xe.abc}for(var Ee=0;Ee<De.length;Ee++){_e=De[Ee],Be=we[Ee];for(var Pe=[],Ue=0;Ue<3;Ue++){var $e=_e[Ue][0],qe=_e[Ue][1],dt=_e[Ue][2],bt=_e[Ue][3],Gt=Be[Ue]>-1?Be[Ue]:j($e,qe,dt);Gt>-1?Pe[Ue]=Gt:Pe[Ue]=oe($e,qe,dt,q(ze,bt))}ce(Pe[0],Pe[1],Pe[2])}}function ue(ze,_e,Be){var De=function(we,xe,Ee){ee(ze,[_e[we],_e[xe],_e[Ee]],[Be[we],Be[xe],Be[Ee]])};De(0,1,2),De(2,3,0)}function se(ze,_e,Be){var De=function(we,xe,Ee){ee(ze,[_e[we],_e[xe],_e[Ee]],[Be[we],Be[xe],Be[Ee]])};De(0,1,2),De(3,0,1),De(2,3,0),De(1,2,3)}function he(ze,_e,Be,De){var we=ze[3];we<Be&&(we=Be),we>De&&(we=De);for(var xe=(ze[3]-we)/(ze[3]-_e[3]+1e-9),Ee=[],Pe=0;Pe<4;Pe++)Ee[Pe]=(1-xe)*ze[Pe]+xe*_e[Pe];return Ee}function me(ze,_e,Be){return ze>=_e&&ze<=Be}function Ce(ze){var _e=.001*(z-N);return ze>=N-_e&&ze<=z+_e}function Te(ze){for(var _e=[],Be=0;Be<4;Be++){var De=ze[Be];_e.push([o._x[De],o._y[De],o._z[De],o._value[De]])}return _e}var Oe=3;function Ne(ze,_e,Be,De,we,xe){xe||(xe=1),Be=[-1,-1,-1];var Ee=!1,Pe=[me(_e[0][3],De,we),me(_e[1][3],De,we),me(_e[2][3],De,we)];if(!Pe[0]&&!Pe[1]&&!Pe[2])return!1;var Ue=function(qe,dt,bt){return Ce(dt[0][3])&&Ce(dt[1][3])&&Ce(dt[2][3])?(ee(qe,dt,bt),!0):xe<Oe?Ne(qe,dt,bt,N,z,++xe):!1};if(Pe[0]&&Pe[1]&&Pe[2])return Ue(ze,_e,Be)||Ee;var $e=!1;return[[0,1,2],[2,0,1],[1,2,0]].forEach(function(qe){if(Pe[qe[0]]&&Pe[qe[1]]&&!Pe[qe[2]]){var dt=_e[qe[0]],bt=_e[qe[1]],Gt=_e[qe[2]],Qt=he(Gt,dt,De,we),At=he(Gt,bt,De,we);Ee=Ue(ze,[At,Qt,dt],[-1,-1,Be[qe[0]]])||Ee,Ee=Ue(ze,[dt,bt,At],[Be[qe[0]],Be[qe[1]],-1])||Ee,$e=!0}}),$e||[[0,1,2],[1,2,0],[2,0,1]].forEach(function(qe){if(Pe[qe[0]]&&!Pe[qe[1]]&&!Pe[qe[2]]){var dt=_e[qe[0]],bt=_e[qe[1]],Gt=_e[qe[2]],Qt=he(bt,dt,De,we),At=he(Gt,dt,De,we);Ee=Ue(ze,[At,Qt,dt],[-1,-1,Be[qe[0]]])||Ee,$e=!0}}),Ee}function Le(ze,_e,Be,De){var we=!1,xe=Te(_e),Ee=[me(xe[0][3],Be,De),me(xe[1][3],Be,De),me(xe[2][3],Be,De),me(xe[3][3],Be,De)];if(!Ee[0]&&!Ee[1]&&!Ee[2]&&!Ee[3])return we;if(Ee[0]&&Ee[1]&&Ee[2]&&Ee[3])return h&&(we=se(ze,xe,_e)||we),we;var Pe=!1;return[[0,1,2,3],[3,0,1,2],[2,3,0,1],[1,2,3,0]].forEach(function(Ue){if(Ee[Ue[0]]&&Ee[Ue[1]]&&Ee[Ue[2]]&&!Ee[Ue[3]]){var $e=xe[Ue[0]],qe=xe[Ue[1]],dt=xe[Ue[2]],bt=xe[Ue[3]];if(h)we=ee(ze,[$e,qe,dt],[_e[Ue[0]],_e[Ue[1]],_e[Ue[2]]])||we;else{var Gt=he(bt,$e,Be,De),Qt=he(bt,qe,Be,De),At=he(bt,dt,Be,De);we=ee(null,[Gt,Qt,At],[-1,-1,-1])||we}Pe=!0}}),Pe||([[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2],[0,2,3,1],[1,3,2,0]].forEach(function(Ue){if(Ee[Ue[0]]&&Ee[Ue[1]]&&!Ee[Ue[2]]&&!Ee[Ue[3]]){var $e=xe[Ue[0]],qe=xe[Ue[1]],dt=xe[Ue[2]],bt=xe[Ue[3]],Gt=he(dt,$e,Be,De),Qt=he(dt,qe,Be,De),At=he(bt,qe,Be,De),zt=he(bt,$e,Be,De);h?(we=ee(ze,[$e,zt,Gt],[_e[Ue[0]],-1,-1])||we,we=ee(ze,[qe,Qt,At],[_e[Ue[1]],-1,-1])||we):we=ue(null,[Gt,Qt,At,zt],[-1,-1,-1,-1])||we,Pe=!0}}),Pe)||[[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2]].forEach(function(Ue){if(Ee[Ue[0]]&&!Ee[Ue[1]]&&!Ee[Ue[2]]&&!Ee[Ue[3]]){var $e=xe[Ue[0]],qe=xe[Ue[1]],dt=xe[Ue[2]],bt=xe[Ue[3]],Gt=he(qe,$e,Be,De),Qt=he(dt,$e,Be,De),At=he(bt,$e,Be,De);h?(we=ee(ze,[$e,Gt,Qt],[_e[Ue[0]],-1,-1])||we,we=ee(ze,[$e,Qt,At],[_e[Ue[0]],-1,-1])||we,we=ee(ze,[$e,At,Gt],[_e[Ue[0]],-1,-1])||we):we=ee(null,[Gt,Qt,At],[-1,-1,-1])||we,Pe=!0}}),we}function be(ze,_e,Be,De,we,xe,Ee,Pe,Ue,$e,qe){var dt=!1;return A&&(le(ze,"A")&&(dt=Le(null,[_e,Be,De,xe],$e,qe)||dt),le(ze,"B")&&(dt=Le(null,[Be,De,we,Ue],$e,qe)||dt),le(ze,"C")&&(dt=Le(null,[Be,xe,Ee,Ue],$e,qe)||dt),le(ze,"D")&&(dt=Le(null,[De,xe,Pe,Ue],$e,qe)||dt),le(ze,"E")&&(dt=Le(null,[Be,De,xe,Ue],$e,qe)||dt)),h&&(dt=Le(ze,[Be,De,xe,Ue],$e,qe)||dt),dt}function Ae(ze,_e,Be,De,we,xe,Ee,Pe){return[Pe[0]===!0?!0:Ne(ze,Te([_e,Be,De]),[_e,Be,De],xe,Ee),Pe[1]===!0?!0:Ne(ze,Te([De,we,_e]),[De,we,_e],xe,Ee)]}function He(ze,_e,Be,De,we,xe,Ee,Pe,Ue){return Pe?Ae(ze,_e,Be,we,De,xe,Ee,Ue):Ae(ze,Be,we,De,_e,xe,Ee,Ue)}function Ve(ze,_e,Be,De,we,xe,Ee){var Pe=!1,Ue,$e,qe,dt,bt=function(){Pe=Ne(ze,[Ue,$e,qe],[-1,-1,-1],we,xe)||Pe,Pe=Ne(ze,[qe,dt,Ue],[-1,-1,-1],we,xe)||Pe},Gt=Ee[0],Qt=Ee[1],At=Ee[2];return Gt&&(Ue=Z(Te([b(_e,Be-0,De-0)])[0],Te([b(_e-1,Be-0,De-0)])[0],Gt),$e=Z(Te([b(_e,Be-0,De-1)])[0],Te([b(_e-1,Be-0,De-1)])[0],Gt),qe=Z(Te([b(_e,Be-1,De-1)])[0],Te([b(_e-1,Be-1,De-1)])[0],Gt),dt=Z(Te([b(_e,Be-1,De-0)])[0],Te([b(_e-1,Be-1,De-0)])[0],Gt),bt()),Qt&&(Ue=Z(Te([b(_e-0,Be,De-0)])[0],Te([b(_e-0,Be-1,De-0)])[0],Qt),$e=Z(Te([b(_e-0,Be,De-1)])[0],Te([b(_e-0,Be-1,De-1)])[0],Qt),qe=Z(Te([b(_e-1,Be,De-1)])[0],Te([b(_e-1,Be-1,De-1)])[0],Qt),dt=Z(Te([b(_e-1,Be,De-0)])[0],Te([b(_e-1,Be-1,De-0)])[0],Qt),bt()),At&&(Ue=Z(Te([b(_e-0,Be-0,De)])[0],Te([b(_e-0,Be-0,De-1)])[0],At),$e=Z(Te([b(_e-0,Be-1,De)])[0],Te([b(_e-0,Be-1,De-1)])[0],At),qe=Z(Te([b(_e-1,Be-1,De)])[0],Te([b(_e-1,Be-1,De-1)])[0],At),dt=Z(Te([b(_e-1,Be-0,De)])[0],Te([b(_e-1,Be-0,De-1)])[0],At),bt()),Pe}function ke(ze,_e,Be,De,we,xe,Ee,Pe,Ue,$e,qe,dt){var bt=ze;return dt?(A&&ze==="even"&&(bt=null),be(bt,_e,Be,De,we,xe,Ee,Pe,Ue,$e,qe)):(A&&ze==="odd"&&(bt=null),be(bt,Ue,Pe,Ee,xe,we,De,Be,_e,$e,qe))}function Ge(ze,_e,Be,De,we){for(var xe=[],Ee=0,Pe=0;Pe<_e.length;Pe++)for(var Ue=_e[Pe],$e=1;$e<i;$e++)for(var qe=1;qe<w;qe++)xe.push(He(ze,b(Ue,qe-1,$e-1),b(Ue,qe-1,$e),b(Ue,qe,$e-1),b(Ue,qe,$e),Be,De,(Ue+qe+$e)%2,we&&we[Ee]?we[Ee]:[])),Ee++;return xe}function it(ze,_e,Be,De,we){for(var xe=[],Ee=0,Pe=0;Pe<_e.length;Pe++)for(var Ue=_e[Pe],$e=1;$e<E;$e++)for(var qe=1;qe<i;qe++)xe.push(He(ze,b($e-1,Ue,qe-1),b($e,Ue,qe-1),b($e-1,Ue,qe),b($e,Ue,qe),Be,De,($e+Ue+qe)%2,we&&we[Ee]?we[Ee]:[])),Ee++;return xe}function et(ze,_e,Be,De,we){for(var xe=[],Ee=0,Pe=0;Pe<_e.length;Pe++)for(var Ue=_e[Pe],$e=1;$e<w;$e++)for(var qe=1;qe<E;qe++)xe.push(He(ze,b(qe-1,$e-1,Ue),b(qe-1,$e,Ue),b(qe,$e-1,Ue),b(qe,$e,Ue),Be,De,(qe+$e+Ue)%2,we&&we[Ee]?we[Ee]:[])),Ee++;return xe}function tt(ze,_e,Be){for(var De=1;De<i;De++)for(var we=1;we<w;we++)for(var xe=1;xe<E;xe++)ke(ze,b(xe-1,we-1,De-1),b(xe-1,we-1,De),b(xe-1,we,De-1),b(xe-1,we,De),b(xe,we-1,De-1),b(xe,we-1,De),b(xe,we,De-1),b(xe,we,De),_e,Be,(xe+we+De)%2)}function at(ze,_e,Be){h=!0,tt(ze,_e,Be),h=!1}function vt(ze,_e,Be){A=!0,tt(ze,_e,Be),A=!1}function yt(ze,_e,Be,De,we,xe){for(var Ee=[],Pe=0,Ue=0;Ue<_e.length;Ue++)for(var $e=_e[Ue],qe=1;qe<i;qe++)for(var dt=1;dt<w;dt++)Ee.push(Ve(ze,$e,dt,qe,Be,De,we[Ue],xe&&xe[Pe]?xe[Pe]:[])),Pe++;return Ee}function gt(ze,_e,Be,De,we,xe){for(var Ee=[],Pe=0,Ue=0;Ue<_e.length;Ue++)for(var $e=_e[Ue],qe=1;qe<E;qe++)for(var dt=1;dt<i;dt++)Ee.push(Ve(ze,qe,$e,dt,Be,De,we[Ue],xe&&xe[Pe]?xe[Pe]:[])),Pe++;return Ee}function Mt(ze,_e,Be,De,we,xe){for(var Ee=[],Pe=0,Ue=0;Ue<_e.length;Ue++)for(var $e=_e[Ue],qe=1;qe<w;qe++)for(var dt=1;dt<E;dt++)Ee.push(Ve(ze,dt,qe,$e,Be,De,we[Ue],xe&&xe[Pe]?xe[Pe]:[])),Pe++;return Ee}function Ct(ze,_e){for(var Be=[],De=ze;De<_e;De++)Be.push(De);return Be}function Vt(){for(var ze=0;ze<E;ze++)for(var _e=0;_e<w;_e++)for(var Be=0;Be<i;Be++){var De=b(ze,_e,Be);oe(o._x[De],o._y[De],o._z[De],o._value[De])}}function Je(){ne(),Vt();var ze=null;if(u&&c&&(J(c),at(ze,N,z)),f&&m){J(m);for(var _e=o.surface.pattern,Be=o.surface.count,De=0;De<Be;De++){var we=Be===1?.5:De/(Be-1),xe=(1-we)*N+we*z,Ee=Math.abs(xe-O),Pe=Math.abs(xe-_),Ue=Ee>Pe?[O,xe]:[xe,_];vt(_e,Ue[0],Ue[1])}}var $e=[[Math.min(N,_),Math.max(N,_)],[Math.min(O,z),Math.max(O,z)]];["x","y","z"].forEach(function(qe){for(var dt=[],bt=0;bt<$e.length;bt++){var Gt=0,Qt=$e[bt][0],At=$e[bt][1],zt=o.slices[qe];if(zt.show&&zt.fill){J(zt.fill);var $t=[],Ar=[],ut=[];if(zt.locations.length)for(var Yt=0;Yt<zt.locations.length;Yt++){var Kt=v(zt.locations[Yt],qe==="x"?S:qe==="y"?P:x);Kt.distRatio===0?$t.push(Kt.id):Kt.id>0&&(Ar.push(Kt.id),qe==="x"?ut.push([Kt.distRatio,0,0]):qe==="y"?ut.push([0,Kt.distRatio,0]):ut.push([0,0,Kt.distRatio]))}else qe==="x"?$t=Ct(1,E-1):qe==="y"?$t=Ct(1,w-1):$t=Ct(1,i-1);Ar.length>0&&(qe==="x"?dt[Gt]=yt(ze,Ar,Qt,At,ut,dt[Gt]):qe==="y"?dt[Gt]=gt(ze,Ar,Qt,At,ut,dt[Gt]):dt[Gt]=Mt(ze,Ar,Qt,At,ut,dt[Gt]),Gt++),$t.length>0&&(qe==="x"?dt[Gt]=Ge(ze,$t,Qt,At,dt[Gt]):qe==="y"?dt[Gt]=it(ze,$t,Qt,At,dt[Gt]):dt[Gt]=et(ze,$t,Qt,At,dt[Gt]),Gt++)}var mr=o.caps[qe];mr.show&&mr.fill&&(J(mr.fill),qe==="x"?dt[Gt]=Ge(ze,[0,E-1],Qt,At,dt[Gt]):qe==="y"?dt[Gt]=it(ze,[0,w-1],Qt,At,dt[Gt]):dt[Gt]=et(ze,[0,i-1],Qt,At,dt[Gt]),Gt++)}}),l===0&&ne(),o._meshX=B,o._meshY=U,o._meshZ=F,o._meshIntensity=V,o._Xs=S,o._Ys=P,o._Zs=x}return Je(),o}function n(o,f){var u=o.glplot.gl,m=g({gl:u}),c=new y(o,m,f.uid);return m._trace=c,c.update(f),o.glplot.add(m),c}W.exports={findNearestOnAxis:v,generateIsoMeshes:s,createIsosurfaceTrace:n}},82738:function(W,H,e){var g=e(71828),R=e(73972),a=e(16249),C=e(1586);function T(y,t,r,s){function n(o,f){return g.coerce(y,t,a,o,f)}v(y,t,r,s,n)}function v(y,t,r,s,n){var o=n("isomin"),f=n("isomax");f!=null&&o!==void 0&&o!==null&&o>f&&(t.isomin=null,t.isomax=null);var u=n("x"),m=n("y"),c=n("z"),A=n("value");if(!u||!u.length||!m||!m.length||!c||!c.length||!A||!A.length){t.visible=!1;return}var h=R.getComponentMethod("calendars","handleTraceDefaults");h(y,t,["x","y","z"],s),n("valuehoverformat"),["x","y","z"].forEach(function(S){n(S+"hoverformat");var P="caps."+S,x=n(P+".show");x&&n(P+".fill");var E="slices."+S,w=n(E+".show");w&&(n(E+".fill"),n(E+".locations"))});var l=n("spaceframe.show");l&&n("spaceframe.fill");var p=n("surface.show");p&&(n("surface.count"),n("surface.fill"),n("surface.pattern"));var M=n("contour.show");M&&(n("contour.color"),n("contour.width")),["text","hovertext","hovertemplate","lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","opacity"].forEach(function(S){n(S)}),C(y,t,s,n,{prefix:"",cLetter:"c"}),t._length=null}W.exports={supplyDefaults:T,supplyIsoDefaults:v}},64943:function(W,H,e){W.exports={attributes:e(16249),supplyDefaults:e(82738).supplyDefaults,calc:e(56959),colorbar:{min:"cmin",max:"cmax"},plot:e(22674).createIsosurfaceTrace,moduleType:"trace",name:"isosurface",basePlotModule:e(58547),categories:["gl3d","showLegend"],meta:{}}},2418:function(W,H,e){var g=e(50693),R=e(12663).axisHoverFormat,a=e(5386).fF,C=e(54532),T=e(9012),v=e(1426).extendFlat;W.exports=v({x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},i:{valType:"data_array",editType:"calc"},j:{valType:"data_array",editType:"calc"},k:{valType:"data_array",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:a({editType:"calc"}),xhoverformat:R("x"),yhoverformat:R("y"),zhoverformat:R("z"),delaunayaxis:{valType:"enumerated",values:["x","y","z"],dflt:"z",editType:"calc"},alphahull:{valType:"number",dflt:-1,editType:"calc"},intensity:{valType:"data_array",editType:"calc"},intensitymode:{valType:"enumerated",values:["vertex","cell"],dflt:"vertex",editType:"calc"},color:{valType:"color",editType:"calc"},vertexcolor:{valType:"data_array",editType:"calc"},facecolor:{valType:"data_array",editType:"calc"},transforms:void 0},g("",{colorAttr:"`intensity`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:C.opacity,flatshading:{valType:"boolean",dflt:!1,editType:"calc"},contour:{show:v({},C.contours.x.show,{}),color:C.contours.x.color,width:C.contours.x.width,editType:"calc"},lightposition:{x:v({},C.lightposition.x,{dflt:1e5}),y:v({},C.lightposition.y,{dflt:1e5}),z:v({},C.lightposition.z,{dflt:0}),editType:"calc"},lighting:v({vertexnormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-12,editType:"calc"},facenormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-6,editType:"calc"},editType:"calc"},C.lighting),hoverinfo:v({},T.hoverinfo,{editType:"calc"}),showlegend:v({},T.showlegend,{dflt:!1})})},82932:function(W,H,e){var g=e(78803);W.exports=function(a,C){C.intensity&&g(a,C,{vals:C.intensity,containerStr:"",cLetter:"c"})}},91134:function(W,H,e){var g=e(9330).gl_mesh3d,R=e(9330).delaunay_triangulate,a=e(9330).alpha_shape,C=e(9330).convex_hull,T=e(81697).parseColorScale,v=e(78614),y=e(21081).extractOpts,t=e(90060);function r(A,h,l){this.scene=A,this.uid=l,this.mesh=h,this.name="",this.color="#fff",this.data=null,this.showContour=!1}var s=r.prototype;s.handlePick=function(A){if(A.object===this.mesh){var h=A.index=A.data.index;A.data._cellCenter?A.traceCoordinate=A.data.dataCoordinate:A.traceCoordinate=[this.data.x[h],this.data.y[h],this.data.z[h]];var l=this.data.hovertext||this.data.text;return Array.isArray(l)&&l[h]!==void 0?A.textLabel=l[h]:l&&(A.textLabel=l),!0}};function n(A){for(var h=[],l=A.length,p=0;p<l;p++)h[p]=v(A[p]);return h}function o(A,h,l,p){for(var M=[],S=h.length,P=0;P<S;P++)M[P]=A.d2l(h[P],0,p)*l;return M}function f(A){for(var h=[],l=A.length,p=0;p<l;p++)h[p]=Math.round(A[p]);return h}function u(A,h){for(var l=["x","y","z"].indexOf(A),p=[],M=h.length,S=0;S<M;S++)p[S]=[h[S][(l+1)%3],h[S][(l+2)%3]];return R(p)}function m(A,h){for(var l=A.length,p=0;p<l;p++)if(A[p]<=-.5||A[p]>=h-.5)return!1;return!0}s.update=function(A){var h=this.scene,l=h.fullSceneLayout;this.data=A;var p=A.x.length,M=t(o(l.xaxis,A.x,h.dataScale[0],A.xcalendar),o(l.yaxis,A.y,h.dataScale[1],A.ycalendar),o(l.zaxis,A.z,h.dataScale[2],A.zcalendar)),S;if(A.i&&A.j&&A.k){if(A.i.length!==A.j.length||A.j.length!==A.k.length||!m(A.i,p)||!m(A.j,p)||!m(A.k,p))return;S=t(f(A.i),f(A.j),f(A.k))}else A.alphahull===0?S=C(M):A.alphahull>0?S=a(A.alphahull,M):S=u(A.delaunayaxis,M);var P={positions:M,cells:S,lightPosition:[A.lightposition.x,A.lightposition.y,A.lightposition.z],ambient:A.lighting.ambient,diffuse:A.lighting.diffuse,specular:A.lighting.specular,roughness:A.lighting.roughness,fresnel:A.lighting.fresnel,vertexNormalsEpsilon:A.lighting.vertexnormalsepsilon,faceNormalsEpsilon:A.lighting.facenormalsepsilon,opacity:A.opacity,contourEnable:A.contour.show,contourColor:v(A.contour.color).slice(0,3),contourWidth:A.contour.width,useFacetNormals:A.flatshading};if(A.intensity){var x=y(A);this.color="#fff";var E=A.intensitymode;P[E+"Intensity"]=A.intensity,P[E+"IntensityBounds"]=[x.min,x.max],P.colormap=T(A)}else A.vertexcolor?(this.color=A.vertexcolor[0],P.vertexColors=n(A.vertexcolor)):A.facecolor?(this.color=A.facecolor[0],P.cellColors=n(A.facecolor)):(this.color=A.color,P.meshColor=v(A.color));this.mesh.update(P)},s.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function c(A,h){var l=A.glplot.gl,p=g({gl:l}),M=new r(A,p,h.uid);return p._trace=M,M.update(h),A.glplot.add(p),M}W.exports=c},58669:function(W,H,e){var g=e(73972),R=e(71828),a=e(1586),C=e(2418);W.exports=function(v,y,t,r){function s(m,c){return R.coerce(v,y,C,m,c)}function n(m){var c=m.map(function(A){var h=s(A);return h&&R.isArrayOrTypedArray(h)?h:null});return c.every(function(A){return A&&A.length===c[0].length})&&c}var o=n(["x","y","z"]);if(!o){y.visible=!1;return}if(n(["i","j","k"]),y.i&&(!y.j||!y.k)||y.j&&(!y.k||!y.i)||y.k&&(!y.i||!y.j)){y.visible=!1;return}var f=g.getComponentMethod("calendars","handleTraceDefaults");f(v,y,["x","y","z"],r),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","alphahull","delaunayaxis","opacity"].forEach(function(m){s(m)});var u=s("contour.show");u&&(s("contour.color"),s("contour.width")),"intensity"in v?(s("intensity"),s("intensitymode"),a(v,y,r,s,{prefix:"",cLetter:"c"})):(y.showscale=!1,"facecolor"in v?s("facecolor"):"vertexcolor"in v?s("vertexcolor"):s("color",t)),s("text"),s("hovertext"),s("hovertemplate"),s("xhoverformat"),s("yhoverformat"),s("zhoverformat"),y._length=null}},21164:function(W,H,e){W.exports={attributes:e(2418),supplyDefaults:e(58669),calc:e(82932),colorbar:{min:"cmin",max:"cmax"},plot:e(91134),moduleType:"trace",name:"mesh3d",basePlotModule:e(58547),categories:["gl3d","showLegend"],meta:{}}},2522:function(W,H,e){var g=e(71828).extendFlat,R=e(82196),a=e(12663).axisHoverFormat,C=e(79952).P,T=e(77914),v=e(22372),y=v.INCREASING.COLOR,t=v.DECREASING.COLOR,r=R.line;function s(n){return{line:{color:g({},r.color,{dflt:n}),width:r.width,dash:C,editType:"style"},editType:"style"}}W.exports={xperiod:R.xperiod,xperiod0:R.xperiod0,xperiodalignment:R.xperiodalignment,xhoverformat:a("x"),yhoverformat:a("y"),x:{valType:"data_array",editType:"calc+clearAxisTypes"},open:{valType:"data_array",editType:"calc"},high:{valType:"data_array",editType:"calc"},low:{valType:"data_array",editType:"calc"},close:{valType:"data_array",editType:"calc"},line:{width:g({},r.width,{}),dash:g({},C,{}),editType:"style"},increasing:s(y),decreasing:s(t),text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},tickwidth:{valType:"number",min:0,max:.5,dflt:.3,editType:"calc"},hoverlabel:g({},T.hoverlabel,{split:{valType:"boolean",dflt:!1,editType:"style"}})}},3485:function(W,H,e){var g=e(71828),R=g._,a=e(89298),C=e(42973),T=e(50606).BADNUM;function v(s,n){var o=a.getFromId(s,n.xaxis),f=a.getFromId(s,n.yaxis),u=r(s,o,n),m=n._minDiff;n._minDiff=null;var c=n._origX;n._origX=null;var A=n._xcalc;n._xcalc=null;var h=t(s,n,c,A,f,y);return n._extremes[o._id]=a.findExtremes(o,A,{vpad:m/2}),h.length?(g.extendFlat(h[0].t,{wHover:m/2,tickLen:u}),h):[{t:{empty:!0}}]}function y(s,n,o,f){return{o:s,h:n,l:o,c:f}}function t(s,n,o,f,u,m){for(var c=u.makeCalcdata(n,"open"),A=u.makeCalcdata(n,"high"),h=u.makeCalcdata(n,"low"),l=u.makeCalcdata(n,"close"),p=Array.isArray(n.text),M=Array.isArray(n.hovertext),S=!0,P=null,x=!!n.xperiodalignment,E=[],w=0;w<f.length;w++){var i=f[w],L=c[w],b=A[w],O=h[w],_=l[w];if(i!==T&&L!==T&&b!==T&&O!==T&&_!==T){_===L?P!==null&&_!==P&&(S=_>P):S=_>L,P=_;var N=m(L,b,O,_);N.pos=i,N.yc=(L+_)/2,N.i=w,N.dir=S?"increasing":"decreasing",N.x=N.pos,N.y=[O,b],x&&(N.orig_p=o[w]),p&&(N.tx=n.text[w]),M&&(N.htx=n.hovertext[w]),E.push(N)}else E.push({pos:i,empty:!0})}return n._extremes[u._id]=a.findExtremes(u,g.concat(h,A),{padded:!0}),E.length&&(E[0].t={labels:{open:R(s,"open:")+" ",high:R(s,"high:")+" ",low:R(s,"low:")+" ",close:R(s,"close:")+" "}}),E}function r(s,n,o){var f=o._minDiff;if(!f){var u=s._fullData,m=[];f=1/0;var c;for(c=0;c<u.length;c++){var A=u[c];if(A.type==="ohlc"&&A.visible===!0&&A.xaxis===n._id){m.push(A);var h=n.makeCalcdata(A,"x");A._origX=h;var l=C(o,n,"x",h).vals;A._xcalc=l;var p=g.distinctVals(l).minDiff;p&&isFinite(p)&&(f=Math.min(f,p))}}for(f===1/0&&(f=1),c=0;c<m.length;c++)m[c]._minDiff=f}return f*o.tickwidth}W.exports={calc:v,calcCommon:t}},16169:function(W,H,e){var g=e(71828),R=e(14555),a=e(73927),C=e(2522);W.exports=function(y,t,r,s){function n(f,u){return g.coerce(y,t,C,f,u)}var o=R(y,t,n,s);if(!o){t.visible=!1;return}a(y,t,s,n,{x:!0}),n("xhoverformat"),n("yhoverformat"),n("line.width"),n("line.dash"),T(y,t,n,"increasing"),T(y,t,n,"decreasing"),n("text"),n("hovertext"),n("tickwidth"),s._requestRangeslider[t.xaxis]=!0};function T(v,y,t,r){t(r+".line.color"),t(r+".line.width",y.line.width),t(r+".line.dash",y.line.dash)}},66449:function(W,H,e){var g=e(89298),R=e(71828),a=e(30211),C=e(7901),T=e(71828).fillText,v=e(22372),y={increasing:v.INCREASING.SYMBOL,decreasing:v.DECREASING.SYMBOL};function t(o,f,u,m){var c=o.cd,A=c[0].trace;return A.hoverlabel.split?s(o,f,u,m):n(o,f,u,m)}function r(o,f,u,m){var c=o.cd,A=o.xa,h=c[0].trace,l=c[0].t,p=h.type,M=p==="ohlc"?"l":"min",S=p==="ohlc"?"h":"max",P,x,E=l.bPos||0,w=function(j){return j.pos+E-f},i=l.bdPos||l.tickLen,L=l.wHover,b=Math.min(1,i/Math.abs(A.r2c(A.range[1])-A.r2c(A.range[0])));P=o.maxHoverDistance-b,x=o.maxSpikeDistance-b;function O(j){var $=w(j);return a.inbox($-L,$+L,P)}function _(j){var $=j[M],ne=j[S];return $===ne||a.inbox($-u,ne-u,P)}function N(j){return(O(j)+_(j))/2}var z=a.getDistanceFunction(m,O,_,N);if(a.getClosest(c,z,o),o.index===!1)return null;var B=c[o.index];if(B.empty)return null;var U=B.dir,F=h[U],V=F.line.color;return C.opacity(V)&&F.line.width?o.color=V:o.color=F.fillcolor,o.x0=A.c2p(B.pos+E-i,!0),o.x1=A.c2p(B.pos+E+i,!0),o.xLabelVal=B.orig_p!==void 0?B.orig_p:B.pos,o.spikeDistance=N(B)*x/P,o.xSpike=A.c2p(B.pos,!0),o}function s(o,f,u,m){var c=o.cd,A=o.ya,h=c[0].trace,l=c[0].t,p=[],M=r(o,f,u,m);if(!M)return[];var S=M.index,P=c[S],x=P.hi||h.hoverinfo,E=x.split("+"),w=x==="all",i=w||E.indexOf("y")!==-1;if(!i)return[];for(var L=["high","open","close","low"],b={},O=0;O<L.length;O++){var _=L[O],N=h[_][M.index],z=A.c2p(N,!0),B;N in b?(B=b[N],B.yLabel+="<br>"+l.labels[_]+g.hoverLabelText(A,N,h.yhoverformat)):(B=R.extendFlat({},M),B.y0=B.y1=z,B.yLabelVal=N,B.yLabel=l.labels[_]+g.hoverLabelText(A,N,h.yhoverformat),B.name="",p.push(B),b[N]=B)}return p}function n(o,f,u,m){var c=o.cd,A=o.ya,h=c[0].trace,l=c[0].t,p=r(o,f,u,m);if(!p)return[];var M=p.index,S=c[M],P=p.index=S.i,x=S.dir;function E(N){return l.labels[N]+g.hoverLabelText(A,h[N][P],h.yhoverformat)}var w=S.hi||h.hoverinfo,i=w.split("+"),L=w==="all",b=L||i.indexOf("y")!==-1,O=L||i.indexOf("text")!==-1,_=b?[E("open"),E("high"),E("low"),E("close")+"  "+y[x]]:[];return O&&T(S,h,_),p.extraText=_.join("<br>"),p.y0=p.y1=A.c2p(S.yc,!0),[p]}W.exports={hoverPoints:t,hoverSplit:s,hoverOnPoints:n}},54186:function(W,H,e){W.exports={moduleType:"trace",name:"ohlc",basePlotModule:e(93612),categories:["cartesian","svg","showLegend"],meta:{},attributes:e(2522),supplyDefaults:e(16169),calc:e(3485).calc,plot:e(72314),style:e(53101),hoverPoints:e(66449).hoverPoints,selectPoints:e(67324)}},14555:function(W,H,e){var g=e(73972),R=e(71828);W.exports=function(C,T,v,y){var t=v("x"),r=v("open"),s=v("high"),n=v("low"),o=v("close");v("hoverlabel.split");var f=g.getComponentMethod("calendars","handleTraceDefaults");if(f(C,T,["x"],y),!!(r&&s&&n&&o)){var u=Math.min(r.length,s.length,n.length,o.length);return t&&(u=Math.min(u,R.minRowLength(t))),T._length=u,u}}},72314:function(W,H,e){var g=e(39898),R=e(71828);W.exports=function(C,T,v,y){var t=T.yaxis,r=T.xaxis,s=!!r.rangebreaks;R.makeTraceGroups(y,v,"trace ohlc").each(function(n){var o=g.select(this),f=n[0],u=f.t,m=f.trace;if(m.visible!==!0||u.empty){o.remove();return}var c=u.tickLen,A=o.selectAll("path").data(R.identity);A.enter().append("path"),A.exit().remove(),A.attr("d",function(h){if(h.empty)return"M0,0Z";var l=r.c2p(h.pos-c,!0),p=r.c2p(h.pos+c,!0),M=s?(l+p)/2:r.c2p(h.pos,!0),S=t.c2p(h.o,!0),P=t.c2p(h.h,!0),x=t.c2p(h.l,!0),E=t.c2p(h.c,!0);return"M"+l+","+S+"H"+M+"M"+M+","+P+"V"+x+"M"+p+","+E+"H"+M})})}},67324:function(W){W.exports=function(e,g){var R=e.cd,a=e.xaxis,C=e.yaxis,T=[],v,y=R[0].t.bPos||0;if(g===!1)for(v=0;v<R.length;v++)R[v].selected=0;else for(v=0;v<R.length;v++){var t=R[v];g.contains([a.c2p(t.pos+y),C.c2p(t.yc)],null,t.i,e)?(T.push({pointNumber:t.i,x:a.c2d(t.pos),y:C.c2d(t.yc)}),t.selected=1):t.selected=0}return T}},53101:function(W,H,e){var g=e(39898),R=e(91424),a=e(7901);W.exports=function(T,v,y){var t=y||g.select(T).selectAll("g.ohlclayer").selectAll("g.trace");t.style("opacity",function(r){return r[0].trace.opacity}),t.each(function(r){var s=r[0].trace;g.select(this).selectAll("path").each(function(n){if(!n.empty){var o=s[n.dir].line;g.select(this).style("fill","none").call(a.stroke,o.color).call(R.dashLine,o.dash,o.width).style("opacity",s.selectedpoints&&!n.selected?.3:1)}})})}},99506:function(W,H,e){var g=e(1426).extendFlat,R=e(9012),a=e(41940),C=e(50693),T=e(5386).fF,v=e(27670).Y,y=g({editType:"calc"},C("line",{editTypeOverride:"calc"}),{shape:{valType:"enumerated",values:["linear","hspline"],dflt:"linear",editType:"plot"},hovertemplate:T({editType:"plot",arrayOk:!1},{keys:["count","probability"]})});W.exports={domain:v({name:"parcats",trace:!0,editType:"calc"}),hoverinfo:g({},R.hoverinfo,{flags:["count","probability"],editType:"plot",arrayOk:!1}),hoveron:{valType:"enumerated",values:["category","color","dimension"],dflt:"category",editType:"plot"},hovertemplate:T({editType:"plot",arrayOk:!1},{keys:["count","probability","category","categorycount","colorcount","bandcolorcount"]}),arrangement:{valType:"enumerated",values:["perpendicular","freeform","fixed"],dflt:"perpendicular",editType:"plot"},bundlecolors:{valType:"boolean",dflt:!0,editType:"plot"},sortpaths:{valType:"enumerated",values:["forward","backward"],dflt:"forward",editType:"plot"},labelfont:a({editType:"calc"}),tickfont:a({editType:"calc"}),dimensions:{_isLinkedToArray:"dimension",label:{valType:"string",editType:"calc"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},values:{valType:"data_array",dflt:[],editType:"calc"},displayindex:{valType:"integer",editType:"calc"},editType:"calc",visible:{valType:"boolean",dflt:!0,editType:"calc"}},line:y,counts:{valType:"number",min:0,dflt:1,arrayOk:!0,editType:"calc"},customdata:void 0,hoverlabel:void 0,ids:void 0,legend:void 0,legendgroup:void 0,legendrank:void 0,opacity:void 0,selectedpoints:void 0,showlegend:void 0}},27677:function(W,H,e){var g=e(27659).a0,R=e(45784),a="parcats";H.name=a,H.plot=function(C,T,v,y){var t=g(C.calcdata,a);if(t.length){var r=t[0];R(C,r,v,y)}},H.clean=function(C,T,v,y){var t=y._has&&y._has("parcats"),r=T._has&&T._has("parcats");t&&!r&&y._paperdiv.selectAll(".parcats").remove()}},28699:function(W,H,e){var g=e(28984).wrap,R=e(52075).hasColorscale,a=e(78803),C=e(75744),T=e(91424),v=e(71828),y=e(92770);W.exports=function(l,p){var M=v.filterVisible(p.dimensions);if(M.length===0)return[];var S=M.map(function(Q){var Z;if(Q.categoryorder==="trace")Z=null;else if(Q.categoryorder==="array")Z=Q.categoryarray;else{Z=C(Q.values);for(var K=!0,J=0;J<Z.length;J++)if(!y(Z[J])){K=!1;break}Z.sort(K?v.sorterAsc:void 0),Q.categoryorder==="category descending"&&(Z=Z.reverse())}return u(Q.values,Z)}),P,x,E;v.isArrayOrTypedArray(p.counts)?P=p.counts:P=[p.counts],m(M),M.forEach(function(Q,Z){c(Q,S[Z])});var w=p.line,i;w?(R(p,"line")&&a(l,p,{vals:p.line.color,containerStr:"line",cLetter:"c"}),i=T.tryColorscale(w)):i=v.identity;function L(Q){var Z,K;return v.isArrayOrTypedArray(w.color)?(Z=w.color[Q%w.color.length],K=Z):Z=w.color,{color:i(Z),rawColor:K}}var b=M[0].values.length,O={},_=S.map(function(Q){return Q.inds});E=0;var N,z;for(N=0;N<b;N++){var B=[];for(z=0;z<_.length;z++)B.push(_[z][N]);x=P[N%P.length],E+=x;var U=L(N),F=B+"-"+U.rawColor;O[F]===void 0&&(O[F]=o(B,U.color,U.rawColor)),f(O[F],N,x)}var V=M.map(function(Q,Z){return r(Z,Q._index,Q._displayindex,Q.label,E)});for(N=0;N<b;N++)for(x=P[N%P.length],z=0;z<V.length;z++){var j=V[z].containerInd,$=S[z].inds[N],ne=V[z].categories;if(ne[$]===void 0){var oe=p.dimensions[j]._categoryarray[$],ce=p.dimensions[j]._ticktext[$];ne[$]=s(z,$,oe,ce)}n(ne[$],N,x)}return g(t(V,O,E))};function t(h,l,p){var M=h.map(function(S){return S.categories.length}).reduce(function(S,P){return Math.max(S,P)});return{dimensions:h,paths:l,trace:void 0,maxCats:M,count:p}}function r(h,l,p,M,S){return{dimensionInd:h,containerInd:l,displayInd:p,dimensionLabel:M,count:S,categories:[],dragX:null}}function s(h,l,p,M){return{dimensionInd:h,categoryInd:l,categoryValue:p,displayInd:l,categoryLabel:M,valueInds:[],count:0,dragY:null}}function n(h,l,p){h.valueInds.push(l),h.count+=p}function o(h,l,p){return{categoryInds:h,color:l,rawColor:p,valueInds:[],count:0}}function f(h,l,p){h.valueInds.push(l),h.count+=p}function u(h,l){l==null?l=[]:l=l.map(function(i){return i});var p={},M={},S=[];l.forEach(function(i,L){p[i]=0,M[i]=L});for(var P=0;P<h.length;P++){var x=h[P],E;p[x]===void 0?(p[x]=1,E=l.push(x)-1,M[x]=E):(p[x]++,E=M[x]),S.push(E)}var w=l.map(function(i){return p[i]});return{uniqueValues:l,uniqueCounts:w,inds:S}}function m(h){var l=h.map(function(M){return M.displayindex}),p;if(A(l))for(p=0;p<h.length;p++)h[p]._displayindex=h[p].displayindex;else for(p=0;p<h.length;p++)h[p]._displayindex=p}function c(h,l){h._categoryarray=l.uniqueValues,h.ticktext===null||h.ticktext===void 0?h._ticktext=[]:h._ticktext=h.ticktext.slice();for(var p=h._ticktext.length;p<l.uniqueValues.length;p++)h._ticktext.push(l.uniqueValues[p])}function A(h){for(var l=new Array(h.length),p=0;p<h.length;p++){if(h[p]<0||h[p]>=h.length||l[h[p]]!==void 0)return!1;l[h[p]]=!0}return!0}},14647:function(W,H,e){var g=e(71828),R=e(52075).hasColorscale,a=e(1586),C=e(27670).c,T=e(85501),v=e(99506),y=e(94397);function t(s,n,o,f,u){u("line.shape"),u("line.hovertemplate");var m=u("line.color",f.colorway[0]);if(R(s,"line")&&g.isArrayOrTypedArray(m)){if(m.length)return u("line.colorscale"),a(s,n,f,u,{prefix:"line.",cLetter:"c"}),m.length;n.line.color=o}return 1/0}function r(s,n){function o(l,p){return g.coerce(s,n,v.dimensions,l,p)}var f=o("values"),u=o("visible");if(f&&f.length||(u=n.visible=!1),u){o("label"),o("displayindex",n._index);var m=s.categoryarray,c=Array.isArray(m)&&m.length>0,A;c&&(A="array");var h=o("categoryorder",A);h==="array"?(o("categoryarray"),o("ticktext")):(delete s.categoryarray,delete s.ticktext),!c&&h==="array"&&(n.categoryorder="trace")}}W.exports=function(n,o,f,u){function m(p,M){return g.coerce(n,o,v,p,M)}var c=T(n,o,{name:"dimensions",handleItemDefaults:r}),A=t(n,o,f,u,m);C(o,u,m),(!Array.isArray(c)||!c.length)&&(o.visible=!1),y(o,c,"values",A),m("hoveron"),m("hovertemplate"),m("arrangement"),m("bundlecolors"),m("sortpaths"),m("counts");var h={family:u.font.family,size:Math.round(u.font.size),color:u.font.color};g.coerceFont(m,"labelfont",h);var l={family:u.font.family,size:Math.round(u.font.size/1.2),color:u.font.color};g.coerceFont(m,"tickfont",l)}},94873:function(W,H,e){W.exports={attributes:e(99506),supplyDefaults:e(14647),calc:e(28699),plot:e(45784),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcats",basePlotModule:e(27677),categories:["noOpacity"],meta:{}}},45460:function(W,H,e){var g=e(39898),R=e(81684).k4,a=e(72391),C=e(30211),T=e(71828),v=T.strTranslate,y=e(91424),t=e(84267),r=e(63893);function s(J,re,le,q){var ee=re._context.staticPlot,ue=J.map(oe.bind(0,re,le)),se=q.selectAll("g.parcatslayer").data([null]);se.enter().append("g").attr("class","parcatslayer").style("pointer-events",ee?"none":"all");var he=se.selectAll("g.trace.parcats").data(ue,n),me=he.enter().append("g").attr("class","trace parcats");he.attr("transform",function(Ge){return v(Ge.x,Ge.y)}),me.append("g").attr("class","paths");var Ce=he.select("g.paths"),Te=Ce.selectAll("path.path").data(function(Ge){return Ge.paths},n);Te.attr("fill",function(Ge){return Ge.model.color});var Oe=Te.enter().append("path").attr("class","path").attr("stroke-opacity",0).attr("fill",function(Ge){return Ge.model.color}).attr("fill-opacity",0);l(Oe),Te.attr("d",function(Ge){return Ge.svgD}),Oe.empty()||Te.sort(f),Te.exit().remove(),Te.on("mouseover",u).on("mouseout",m).on("click",h),me.append("g").attr("class","dimensions");var Ne=he.select("g.dimensions"),Le=Ne.selectAll("g.dimension").data(function(Ge){return Ge.dimensions},n);Le.enter().append("g").attr("class","dimension"),Le.attr("transform",function(Ge){return v(Ge.x,0)}),Le.exit().remove();var be=Le.selectAll("g.category").data(function(Ge){return Ge.categories},n),Ae=be.enter().append("g").attr("class","category");be.attr("transform",function(Ge){return v(0,Ge.y)}),Ae.append("rect").attr("class","catrect").attr("pointer-events","none"),be.select("rect.catrect").attr("fill","none").attr("width",function(Ge){return Ge.width}).attr("height",function(Ge){return Ge.height}),S(Ae);var He=be.selectAll("rect.bandrect").data(function(Ge){return Ge.bands},n);He.each(function(){T.raiseToTop(this)}),He.attr("fill",function(Ge){return Ge.color});var Ve=He.enter().append("rect").attr("class","bandrect").attr("stroke-opacity",0).attr("fill",function(Ge){return Ge.color}).attr("fill-opacity",0);He.attr("fill",function(Ge){return Ge.color}).attr("width",function(Ge){return Ge.width}).attr("height",function(Ge){return Ge.height}).attr("y",function(Ge){return Ge.y}).attr("cursor",function(Ge){return Ge.parcatsViewModel.arrangement==="fixed"?"default":Ge.parcatsViewModel.arrangement==="perpendicular"?"ns-resize":"move"}),x(Ve),He.exit().remove(),Ae.append("text").attr("class","catlabel").attr("pointer-events","none");var ke=re._fullLayout.paper_bgcolor;be.select("text.catlabel").attr("text-anchor",function(Ge){return o(Ge)?"start":"end"}).attr("alignment-baseline","middle").style("text-shadow",r.makeTextShadow(ke)).style("fill","rgb(0, 0, 0)").attr("x",function(Ge){return o(Ge)?Ge.width+5:-5}).attr("y",function(Ge){return Ge.height/2}).text(function(Ge){return Ge.model.categoryLabel}).each(function(Ge){y.font(g.select(this),Ge.parcatsViewModel.categorylabelfont),r.convertToTspans(g.select(this),re)}),Ae.append("text").attr("class","dimlabel"),be.select("text.dimlabel").attr("text-anchor","middle").attr("alignment-baseline","baseline").attr("cursor",function(Ge){return Ge.parcatsViewModel.arrangement==="fixed"?"default":"ew-resize"}).attr("x",function(Ge){return Ge.width/2}).attr("y",-5).text(function(Ge,it){return it===0?Ge.parcatsViewModel.model.dimensions[Ge.model.dimensionInd].dimensionLabel:null}).each(function(Ge){y.font(g.select(this),Ge.parcatsViewModel.labelfont)}),be.selectAll("rect.bandrect").on("mouseover",z).on("mouseout",B),be.exit().remove(),Le.call(g.behavior.drag().origin(function(Ge){return{x:Ge.x,y:0}}).on("dragstart",U).on("drag",F).on("dragend",V)),he.each(function(Ge){Ge.traceSelection=g.select(this),Ge.pathSelection=g.select(this).selectAll("g.paths").selectAll("path.path"),Ge.dimensionSelection=g.select(this).selectAll("g.dimensions").selectAll("g.dimension")}),he.exit().remove()}W.exports=function(J,re,le,q){s(le,J,q,re)};function n(J){return J.key}function o(J){var re=J.parcatsViewModel.dimensions.length,le=J.parcatsViewModel.dimensions[re-1].model.dimensionInd;return J.model.dimensionInd===le}function f(J,re){return J.model.rawColor>re.model.rawColor?1:J.model.rawColor<re.model.rawColor?-1:0}function u(J){if(!J.parcatsViewModel.dragDimension&&J.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){T.raiseToTop(this),p(g.select(this));var re=c(J),le=A(J);if(J.parcatsViewModel.graphDiv.emit("plotly_hover",{points:re,event:g.event,constraints:le}),J.parcatsViewModel.hoverinfoItems.indexOf("none")===-1){var q=g.mouse(this)[0],ee=J.parcatsViewModel.graphDiv,ue=J.parcatsViewModel.trace,se=ee._fullLayout,he=se._paperdiv.node().getBoundingClientRect(),me=J.parcatsViewModel.graphDiv.getBoundingClientRect(),Ce,Te,Oe;for(Oe=0;Oe<J.leftXs.length-1;Oe++)if(J.leftXs[Oe]+J.dimWidths[Oe]-2<=q&&q<=J.leftXs[Oe+1]+2){var Ne=J.parcatsViewModel.dimensions[Oe],Le=J.parcatsViewModel.dimensions[Oe+1];Ce=(Ne.x+Ne.width+Le.x)/2,Te=(J.topYs[Oe]+J.topYs[Oe+1]+J.height)/2;break}var be=J.parcatsViewModel.x+Ce,Ae=J.parcatsViewModel.y+Te,He=t.mostReadable(J.model.color,["black","white"]),Ve=J.model.count,ke=Ve/J.parcatsViewModel.model.count,Ge={countLabel:Ve,probabilityLabel:ke.toFixed(3)},it=[];J.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&it.push(["Count:",Ge.countLabel].join(" ")),J.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&it.push(["P:",Ge.probabilityLabel].join(" "));var et=it.join("<br>"),tt=g.mouse(ee)[0];C.loneHover({trace:ue,x:be-he.left+me.left,y:Ae-he.top+me.top,text:et,color:J.model.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:10,fontColor:He,idealAlign:tt<be?"right":"left",hovertemplate:(ue.line||{}).hovertemplate,hovertemplateLabels:Ge,eventData:[{data:ue._input,fullData:ue,count:Ve,probability:ke}]},{container:se._hoverlayer.node(),outerContainer:se._paper.node(),gd:ee})}}}function m(J){if(!J.parcatsViewModel.dragDimension&&(l(g.select(this)),C.loneUnhover(J.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()),J.parcatsViewModel.pathSelection.sort(f),J.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1)){var re=c(J),le=A(J);J.parcatsViewModel.graphDiv.emit("plotly_unhover",{points:re,event:g.event,constraints:le})}}function c(J){for(var re=[],le=j(J.parcatsViewModel),q=0;q<J.model.valueInds.length;q++){var ee=J.model.valueInds[q];re.push({curveNumber:le,pointNumber:ee})}return re}function A(J){for(var re={},le=J.parcatsViewModel.model.dimensions,q=0;q<le.length;q++){var ee=le[q],ue=ee.categories[J.model.categoryInds[q]];re[ee.containerInd]=ue.categoryValue}return J.model.rawColor!==void 0&&(re.color=J.model.rawColor),re}function h(J){if(J.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){var re=c(J),le=A(J);J.parcatsViewModel.graphDiv.emit("plotly_click",{points:re,event:g.event,constraints:le})}}function l(J){J.attr("fill",function(re){return re.model.color}).attr("fill-opacity",.6).attr("stroke","lightgray").attr("stroke-width",.2).attr("stroke-opacity",1)}function p(J){J.attr("fill-opacity",.8).attr("stroke",function(re){return t.mostReadable(re.model.color,["black","white"])}).attr("stroke-width",.3)}function M(J){J.select("rect.catrect").attr("stroke","black").attr("stroke-width",2.5)}function S(J){J.select("rect.catrect").attr("stroke","black").attr("stroke-width",1).attr("stroke-opacity",1)}function P(J){J.attr("stroke","black").attr("stroke-width",1.5)}function x(J){J.attr("stroke","black").attr("stroke-width",.2).attr("stroke-opacity",1).attr("fill-opacity",1)}function E(J){var re=J.parcatsViewModel.pathSelection,le=J.categoryViewModel.model.dimensionInd,q=J.categoryViewModel.model.categoryInd;return re.filter(function(ee){return ee.model.categoryInds[le]===q&&ee.model.color===J.color})}function w(J){var re=g.select(J.parentNode).selectAll("rect.bandrect");re.each(function(le){var q=E(le);p(q),q.each(function(){T.raiseToTop(this)})}),M(g.select(J.parentNode))}function i(J){var re=g.select(J).datum(),le=E(re);p(le),le.each(function(){T.raiseToTop(this)}),g.select(J.parentNode).selectAll("rect.bandrect").filter(function(q){return q.color===re.color}).each(function(){T.raiseToTop(this),P(g.select(this))})}function L(J,re,le){var q=g.select(J).datum(),ee=q.categoryViewModel.model,ue=q.parcatsViewModel.graphDiv,se=g.select(J.parentNode).selectAll("rect.bandrect"),he=[];se.each(function(Ce){var Te=E(Ce);Te.each(function(Oe){Array.prototype.push.apply(he,c(Oe))})});var me={};me[ee.dimensionInd]=ee.categoryValue,ue.emit(re,{points:he,event:le,constraints:me})}function b(J,re,le){var q=g.select(J).datum(),ee=q.categoryViewModel.model,ue=q.parcatsViewModel.graphDiv,se=E(q),he=[];se.each(function(Ce){Array.prototype.push.apply(he,c(Ce))});var me={};me[ee.dimensionInd]=ee.categoryValue,q.rawColor!==void 0&&(me.color=q.rawColor),ue.emit(re,{points:he,event:le,constraints:me})}function O(J,re,le){J._fullLayout._calcInverseTransform(J);var q=J._fullLayout._invScaleX,ee=J._fullLayout._invScaleY,ue=g.select(le.parentNode).select("rect.catrect"),se=ue.node().getBoundingClientRect(),he=ue.datum(),me=he.parcatsViewModel,Ce=me.model.dimensions[he.model.dimensionInd],Te=me.trace,Oe=se.top+se.height/2,Ne,Le;me.dimensions.length>1&&Ce.displayInd===me.dimensions.length-1?(Ne=se.left,Le="left"):(Ne=se.left+se.width,Le="right");var be=he.model.count,Ae=he.model.categoryLabel,He=be/he.parcatsViewModel.model.count,Ve={countLabel:be,categoryLabel:Ae,probabilityLabel:He.toFixed(3)},ke=[];he.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&ke.push(["Count:",Ve.countLabel].join(" ")),he.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&ke.push(["P("+Ve.categoryLabel+"):",Ve.probabilityLabel].join(" "));var Ge=ke.join("<br>");return{trace:Te,x:q*(Ne-re.left),y:ee*(Oe-re.top),text:Ge,color:"lightgray",borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:12,fontColor:"black",idealAlign:Le,hovertemplate:Te.hovertemplate,hovertemplateLabels:Ve,eventData:[{data:Te._input,fullData:Te,count:be,category:Ae,probability:He}]}}function _(J,re,le){var q=[];return g.select(le.parentNode.parentNode).selectAll("g.category").select("rect.catrect").each(function(){var ee=this;q.push(O(J,re,ee))}),q}function N(J,re,le){J._fullLayout._calcInverseTransform(J);var q=J._fullLayout._invScaleX,ee=J._fullLayout._invScaleY,ue=le.getBoundingClientRect(),se=g.select(le).datum(),he=se.categoryViewModel,me=he.parcatsViewModel,Ce=me.model.dimensions[he.model.dimensionInd],Te=me.trace,Oe=ue.y+ue.height/2,Ne,Le;me.dimensions.length>1&&Ce.displayInd===me.dimensions.length-1?(Ne=ue.left,Le="left"):(Ne=ue.left+ue.width,Le="right");var be=he.model.categoryLabel,Ae=se.parcatsViewModel.model.count,He=0;se.categoryViewModel.bands.forEach(function(gt){gt.color===se.color&&(He+=gt.count)});var Ve=he.model.count,ke=0;me.pathSelection.each(function(gt){gt.model.color===se.color&&(ke+=gt.model.count)});var Ge=He/Ae,it=He/ke,et=He/Ve,tt={countLabel:Ae,categoryLabel:be,probabilityLabel:Ge.toFixed(3)},at=[];he.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&at.push(["Count:",tt.countLabel].join(" ")),he.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&(at.push("P(color  "+be+"): "+tt.probabilityLabel),at.push("P("+be+" | color): "+it.toFixed(3)),at.push("P(color | "+be+"): "+et.toFixed(3)));var vt=at.join("<br>"),yt=t.mostReadable(se.color,["black","white"]);return{trace:Te,x:q*(Ne-re.left),y:ee*(Oe-re.top),text:vt,color:se.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontColor:yt,fontSize:10,idealAlign:Le,hovertemplate:Te.hovertemplate,hovertemplateLabels:tt,eventData:[{data:Te._input,fullData:Te,category:be,count:Ae,probability:Ge,categorycount:Ve,colorcount:ke,bandcolorcount:He}]}}function z(J){if(!J.parcatsViewModel.dragDimension&&J.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){var re=g.mouse(this)[1];if(re<-1)return;var le=J.parcatsViewModel.graphDiv,q=le._fullLayout,ee=q._paperdiv.node().getBoundingClientRect(),ue=J.parcatsViewModel.hoveron,se=this;if(ue==="color"?(i(se),b(se,"plotly_hover",g.event)):(w(se),L(se,"plotly_hover",g.event)),J.parcatsViewModel.hoverinfoItems.indexOf("none")===-1){var he;ue==="category"?he=O(le,ee,se):ue==="color"?he=N(le,ee,se):ue==="dimension"&&(he=_(le,ee,se)),he&&C.loneHover(he,{container:q._hoverlayer.node(),outerContainer:q._paper.node(),gd:le})}}}function B(J){var re=J.parcatsViewModel;if(!re.dragDimension&&(l(re.pathSelection),S(re.dimensionSelection.selectAll("g.category")),x(re.dimensionSelection.selectAll("g.category").selectAll("rect.bandrect")),C.loneUnhover(re.graphDiv._fullLayout._hoverlayer.node()),re.pathSelection.sort(f),re.hoverinfoItems.indexOf("skip")===-1)){var le=J.parcatsViewModel.hoveron,q=this;le==="color"?b(q,"plotly_unhover",g.event):L(q,"plotly_unhover",g.event)}}function U(J){J.parcatsViewModel.arrangement!=="fixed"&&(J.dragDimensionDisplayInd=J.model.displayInd,J.initialDragDimensionDisplayInds=J.parcatsViewModel.model.dimensions.map(function(re){return re.displayInd}),J.dragHasMoved=!1,J.dragCategoryDisplayInd=null,g.select(this).selectAll("g.category").select("rect.catrect").each(function(re){var le=g.mouse(this)[0],q=g.mouse(this)[1];-2<=le&&le<=re.width+2&&-2<=q&&q<=re.height+2&&(J.dragCategoryDisplayInd=re.model.displayInd,J.initialDragCategoryDisplayInds=J.model.categories.map(function(ee){return ee.displayInd}),re.model.dragY=re.y,T.raiseToTop(this.parentNode),g.select(this.parentNode).selectAll("rect.bandrect").each(function(ee){ee.y<q&&q<=ee.y+ee.height&&(J.potentialClickBand=this)}))}),J.parcatsViewModel.dragDimension=J,C.loneUnhover(J.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()))}function F(J){if(J.parcatsViewModel.arrangement!=="fixed"&&(J.dragHasMoved=!0,J.dragDimensionDisplayInd!==null)){var re=J.dragDimensionDisplayInd,le=re-1,q=re+1,ee=J.parcatsViewModel.dimensions[re];if(J.dragCategoryDisplayInd!==null){var ue=ee.categories[J.dragCategoryDisplayInd];ue.model.dragY+=g.event.dy;var se=ue.model.dragY,he=ue.model.displayInd,me=ee.categories,Ce=me[he-1],Te=me[he+1];Ce!==void 0&&se<Ce.y+Ce.height/2&&(ue.model.displayInd=Ce.model.displayInd,Ce.model.displayInd=he),Te!==void 0&&se+ue.height>Te.y+Te.height/2&&(ue.model.displayInd=Te.model.displayInd,Te.model.displayInd=he),J.dragCategoryDisplayInd=ue.model.displayInd}if(J.dragCategoryDisplayInd===null||J.parcatsViewModel.arrangement==="freeform"){ee.model.dragX=g.event.x;var Oe=J.parcatsViewModel.dimensions[le],Ne=J.parcatsViewModel.dimensions[q];Oe!==void 0&&ee.model.dragX<Oe.x+Oe.width&&(ee.model.displayInd=Oe.model.displayInd,Oe.model.displayInd=re),Ne!==void 0&&ee.model.dragX+ee.width>Ne.x&&(ee.model.displayInd=Ne.model.displayInd,Ne.model.displayInd=J.dragDimensionDisplayInd),J.dragDimensionDisplayInd=ee.model.displayInd}Z(J.parcatsViewModel),Q(J.parcatsViewModel),ne(J.parcatsViewModel),$(J.parcatsViewModel)}}function V(J){if(J.parcatsViewModel.arrangement!=="fixed"&&J.dragDimensionDisplayInd!==null){g.select(this).selectAll("text").attr("font-weight","normal");var re={},le=j(J.parcatsViewModel),q=J.parcatsViewModel.model.dimensions.map(function(Ne){return Ne.displayInd}),ee=J.initialDragDimensionDisplayInds.some(function(Ne,Le){return Ne!==q[Le]});ee&&q.forEach(function(Ne,Le){var be=J.parcatsViewModel.model.dimensions[Le].containerInd;re["dimensions["+be+"].displayindex"]=Ne});var ue=!1;if(J.dragCategoryDisplayInd!==null){var se=J.model.categories.map(function(Ne){return Ne.displayInd});if(ue=J.initialDragCategoryDisplayInds.some(function(Ne,Le){return Ne!==se[Le]}),ue){var he=J.model.categories.slice().sort(function(Ne,Le){return Ne.displayInd-Le.displayInd}),me=he.map(function(Ne){return Ne.categoryValue}),Ce=he.map(function(Ne){return Ne.categoryLabel});re["dimensions["+J.model.containerInd+"].categoryarray"]=[me],re["dimensions["+J.model.containerInd+"].ticktext"]=[Ce],re["dimensions["+J.model.containerInd+"].categoryorder"]="array"}}if(J.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1&&!J.dragHasMoved&&J.potentialClickBand&&(J.parcatsViewModel.hoveron==="color"?b(J.potentialClickBand,"plotly_click",g.event.sourceEvent):L(J.potentialClickBand,"plotly_click",g.event.sourceEvent)),J.model.dragX=null,J.dragCategoryDisplayInd!==null){var Te=J.parcatsViewModel.dimensions[J.dragDimensionDisplayInd].categories[J.dragCategoryDisplayInd];Te.model.dragY=null,J.dragCategoryDisplayInd=null}J.dragDimensionDisplayInd=null,J.parcatsViewModel.dragDimension=null,J.dragHasMoved=null,J.potentialClickBand=null,Z(J.parcatsViewModel),Q(J.parcatsViewModel);var Oe=g.transition().duration(300).ease("cubic-in-out");Oe.each(function(){ne(J.parcatsViewModel,!0),$(J.parcatsViewModel,!0)}).each("end",function(){(ee||ue)&&a.restyle(J.parcatsViewModel.graphDiv,re,[le])})}}function j(J){for(var re,le=J.graphDiv._fullData,q=0;q<le.length;q++)if(J.key===le[q].uid){re=q;break}return re}function $(J,re){re===void 0&&(re=!1);function le(q){return re?q.transition():q}J.pathSelection.data(function(q){return q.paths},n),le(J.pathSelection).attr("d",function(q){return q.svgD})}function ne(J,re){re===void 0&&(re=!1);function le(me){return re?me.transition():me}J.dimensionSelection.data(function(me){return me.dimensions},n);var q=J.dimensionSelection.selectAll("g.category").data(function(me){return me.categories},n);le(J.dimensionSelection).attr("transform",function(me){return v(me.x,0)}),le(q).attr("transform",function(me){return v(0,me.y)});var ee=q.select(".dimlabel");ee.text(function(me,Ce){return Ce===0?me.parcatsViewModel.model.dimensions[me.model.dimensionInd].dimensionLabel:null});var ue=q.select(".catlabel");ue.attr("text-anchor",function(me){return o(me)?"start":"end"}).attr("x",function(me){return o(me)?me.width+5:-5}).each(function(me){var Ce,Te;o(me)?(Ce=me.width+5,Te="start"):(Ce=-5,Te="end"),g.select(this).selectAll("tspan").attr("x",Ce).attr("text-anchor",Te)});var se=q.selectAll("rect.bandrect").data(function(me){return me.bands},n),he=se.enter().append("rect").attr("class","bandrect").attr("cursor","move").attr("stroke-opacity",0).attr("fill",function(me){return me.color}).attr("fill-opacity",0);se.attr("fill",function(me){return me.color}).attr("width",function(me){return me.width}).attr("height",function(me){return me.height}).attr("y",function(me){return me.y}),x(he),se.each(function(){T.raiseToTop(this)}),se.exit().remove()}function oe(J,re,le){var q=le[0],ee=re.margin||{l:80,r:80,t:100,b:80},ue=q.trace,se=ue.domain,he=re.width,me=re.height,Ce=Math.floor(he*(se.x[1]-se.x[0])),Te=Math.floor(me*(se.y[1]-se.y[0])),Oe=se.x[0]*he+ee.l,Ne=re.height-se.y[1]*re.height+ee.t,Le=ue.line.shape,be;ue.hoverinfo==="all"?be=["count","probability"]:be=(ue.hoverinfo||"").split("+");var Ae={trace:ue,key:ue.uid,model:q,x:Oe,y:Ne,width:Ce,height:Te,hoveron:ue.hoveron,hoverinfoItems:be,arrangement:ue.arrangement,bundlecolors:ue.bundlecolors,sortpaths:ue.sortpaths,labelfont:ue.labelfont,categorylabelfont:ue.tickfont,pathShape:Le,dragDimension:null,margin:ee,paths:[],dimensions:[],graphDiv:J,traceSelection:null,pathSelection:null,dimensionSelection:null};return q.dimensions&&(Z(Ae),Q(Ae)),Ae}function ce(J,re,le,q,ee){var ue=[],se=[],he,me;for(me=0;me<le.length-1;me++)he=R(le[me]+J[me],J[me+1]),ue.push(he(ee)),se.push(he(1-ee));var Ce="M "+J[0]+","+re[0];for(Ce+="l"+le[0]+",0 ",me=1;me<le.length;me++)Ce+="C"+ue[me-1]+","+re[me-1]+" "+se[me-1]+","+re[me]+" "+J[me]+","+re[me],Ce+="l"+le[me]+",0 ";for(Ce+="l0,"+q+" ",Ce+="l -"+le[le.length-1]+",0 ",me=le.length-2;me>=0;me--)Ce+="C"+se[me]+","+(re[me+1]+q)+" "+ue[me]+","+(re[me]+q)+" "+(J[me]+le[me])+","+(re[me]+q),Ce+="l-"+le[me]+",0 ";return Ce+="Z",Ce}function Q(J){var re=J.dimensions,le=J.model,q=re.map(function(Vt){return Vt.categories.map(function(Je){return Je.y})}),ee=J.model.dimensions.map(function(Vt){return Vt.categories.map(function(Je){return Je.displayInd})}),ue=J.model.dimensions.map(function(Vt){return Vt.displayInd}),se=J.dimensions.map(function(Vt){return Vt.model.dimensionInd}),he=re.map(function(Vt){return Vt.x}),me=re.map(function(Vt){return Vt.width}),Ce=[];for(var Te in le.paths)le.paths.hasOwnProperty(Te)&&Ce.push(le.paths[Te]);function Oe(Vt){var Je=Vt.categoryInds.map(function(_e,Be){return ee[Be][_e]}),ze=se.map(function(_e){return Je[_e]});return ze}Ce.sort(function(Vt,Je){var ze=Oe(Vt),_e=Oe(Je);return J.sortpaths==="backward"&&(ze.reverse(),_e.reverse()),ze.push(Vt.valueInds[0]),_e.push(Je.valueInds[0]),J.bundlecolors&&(ze.unshift(Vt.rawColor),_e.unshift(Je.rawColor)),ze<_e?-1:ze>_e?1:0});for(var Ne=new Array(Ce.length),Le=re[0].model.count,be=re[0].categories.map(function(Vt){return Vt.height}).reduce(function(Vt,Je){return Vt+Je}),Ae=0;Ae<Ce.length;Ae++){var He=Ce[Ae],Ve;Le>0?Ve=be*(He.count/Le):Ve=0;for(var ke=new Array(q.length),Ge=0;Ge<He.categoryInds.length;Ge++){var it=He.categoryInds[Ge],et=ee[Ge][it],tt=ue[Ge];ke[tt]=q[tt][et],q[tt][et]+=Ve;var at=J.dimensions[tt].categories[et],vt=at.bands.length,yt=at.bands[vt-1];if(yt===void 0||He.rawColor!==yt.rawColor){var gt=yt===void 0?0:yt.y+yt.height;at.bands.push({key:gt,color:He.color,rawColor:He.rawColor,height:Ve,width:at.width,count:He.count,y:gt,categoryViewModel:at,parcatsViewModel:J})}else{var Mt=at.bands[vt-1];Mt.height+=Ve,Mt.count+=He.count}}var Ct;J.pathShape==="hspline"?Ct=ce(he,ke,me,Ve,.5):Ct=ce(he,ke,me,Ve,0),Ne[Ae]={key:He.valueInds[0],model:He,height:Ve,leftXs:he,topYs:ke,dimWidths:me,svgD:Ct,parcatsViewModel:J}}J.paths=Ne}function Z(J){var re=J.model.dimensions.map(function(se){return{displayInd:se.displayInd,dimensionInd:se.dimensionInd}});re.sort(function(se,he){return se.displayInd-he.displayInd});var le=[];for(var q in re){var ee=re[q].dimensionInd,ue=J.model.dimensions[ee];le.push(K(J,ue))}J.dimensions=le}function K(J,re){var le=40,q=16,ee=J.model.dimensions.length,ue=re.displayInd,se,he,me;ee>1?se=(J.width-2*le-q)/(ee-1):se=0,he=le,me=he+se*ue;var Ce=[],Te=J.model.maxCats,Oe=re.categories.length,Ne=8,Le=re.count,be=J.height-Ne*(Te-1),Ae,He,Ve,ke,Ge,it=(Te-Oe)*Ne/2,et=re.categories.map(function(tt){return{displayInd:tt.displayInd,categoryInd:tt.categoryInd}});for(et.sort(function(tt,at){return tt.displayInd-at.displayInd}),Ge=0;Ge<Oe;Ge++)ke=et[Ge].categoryInd,He=re.categories[ke],Le>0?Ae=He.count/Le*be:Ae=0,Ve={key:He.valueInds[0],model:He,width:q,height:Ae,y:He.dragY!==null?He.dragY:it,bands:[],parcatsViewModel:J},it=it+Ae+Ne,Ce.push(Ve);return{key:re.dimensionInd,x:re.dragX!==null?re.dragX:me,y:0,width:q,model:re,categories:Ce,parcatsViewModel:J,dragCategoryDisplayInd:null,dragDimensionDisplayInd:null,initialDragDimensionDisplayInds:null,initialDragCategoryDisplayInds:null,dragHasMoved:null,potentialClickBand:null}}},45784:function(W,H,e){var g=e(45460);W.exports=function(a,C,T,v){var y=a._fullLayout,t=y._paper,r=y._size;g(a,t,C,{width:r.w,height:r.h,margin:{t:r.t,r:r.r,b:r.b,l:r.l}},T,v)}},73362:function(W,H,e){var g=e(50693),R=e(13838),a=e(41940),C=e(27670).Y,T=e(1426).extendFlat,v=e(44467).templatedArray;W.exports={domain:C({name:"parcoords",trace:!0,editType:"plot"}),labelangle:{valType:"angle",dflt:0,editType:"plot"},labelside:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},labelfont:a({editType:"plot"}),tickfont:a({editType:"plot"}),rangefont:a({editType:"plot"}),dimensions:v("dimension",{label:{valType:"string",editType:"plot"},tickvals:T({},R.tickvals,{editType:"plot"}),ticktext:T({},R.ticktext,{editType:"plot"}),tickformat:T({},R.tickformat,{editType:"plot"}),visible:{valType:"boolean",dflt:!0,editType:"plot"},range:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},constraintrange:{valType:"info_array",freeLength:!0,dimensions:"1-2",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},multiselect:{valType:"boolean",dflt:!0,editType:"plot"},values:{valType:"data_array",editType:"calc"},editType:"calc"}),line:T({editType:"calc"},g("line",{colorscaleDflt:"Viridis",autoColorDflt:!1,editTypeOverride:"calc"})),unselected:{line:{color:{valType:"color",dflt:"#7f7f7f",editType:"plot"},opacity:{valType:"number",min:0,max:1,dflt:"auto",editType:"plot"},editType:"plot"},editType:"plot"}}},57920:function(W,H,e){var g=e(25706),R=e(39898),a=e(28984).keyFun,C=e(28984).repeat,T=e(71828).sorterAsc,v=e(71828).strTranslate,y=g.bar.snapRatio;function t(V,j){return V*(1-y)+j*y}var r=g.bar.snapClose;function s(V,j){return V*(1-r)+j*r}function n(V,j,$,ne){if(o($,ne))return $;var oe=V?-1:1,ce=0,Q=j.length-1;if(oe<0){var Z=ce;ce=Q,Q=Z}for(var K=j[ce],J=K,re=ce;oe*re<oe*Q;re+=oe){var le=re+oe,q=j[le];if(oe*$<oe*s(K,q))return t(K,J);if(oe*$<oe*q||le===Q)return t(q,K);J=K,K=q}}function o(V,j){for(var $=0;$<j.length;$++)if(V>=j[$][0]&&V<=j[$][1])return!0;return!1}function f(V){V.attr("x",-g.bar.captureWidth/2).attr("width",g.bar.captureWidth)}function u(V){V.attr("visibility","visible").style("visibility","visible").attr("fill","yellow").attr("opacity",0)}function m(V){if(!V.brush.filterSpecified)return"0,"+V.height;for(var j=c(V.brush.filter.getConsolidated(),V.height),$=[0],ne,oe,ce,Q=j.length?j[0][0]:null,Z=0;Z<j.length;Z++)ne=j[Z],oe=ne[1]-ne[0],$.push(Q),$.push(oe),ce=Z+1,ce<j.length&&(Q=j[ce][0]-ne[1]);return $.push(V.height),$}function c(V,j){return V.map(function($){return $.map(function(ne){return Math.max(0,ne*j)}).sort(T)})}function A(V,j){var $=g.bar.handleHeight;if(!(j>V[1]+$||j<V[0]-$))return j>=.9*V[1]+.1*V[0]?"n":j<=.9*V[0]+.1*V[1]?"s":"ns"}function h(){R.select(document.body).style("cursor",null)}function l(V){V.attr("stroke-dasharray",m)}function p(V,j){var $=R.select(V).selectAll(".highlight, .highlight-shadow"),ne=j?$.transition().duration(g.bar.snapDuration).each("end",j):$;l(ne)}function M(V,j){var $=V.brush,ne=$.filterSpecified,oe=NaN,ce={},Q;if(ne){var Z=V.height,K=$.filter.getConsolidated(),J=c(K,Z),re=NaN,le=NaN,q=NaN;for(Q=0;Q<=J.length;Q++){var ee=J[Q];if(ee&&ee[0]<=j&&j<=ee[1]){re=Q;break}else if(le=Q?Q-1:NaN,ee&&ee[0]>j){q=Q;break}}if(oe=re,isNaN(oe)&&(isNaN(le)||isNaN(q)?oe=isNaN(le)?q:le:oe=j-J[le][1]<J[q][0]-j?le:q),!isNaN(oe)){var ue=J[oe],se=A(ue,j);se&&(ce.interval=K[oe],ce.intervalPix=ue,ce.region=se)}}if(V.ordinal&&!ce.region){var he=V.unitTickvals,me=V.unitToPaddedPx.invert(j);for(Q=0;Q<he.length;Q++){var Ce=[he[Math.max(Q-1,0)]*.25+he[Q]*.75,he[Math.min(Q+1,he.length-1)]*.25+he[Q]*.75];if(me>=Ce[0]&&me<=Ce[1]){ce.clickableOrdinalRange=Ce;break}}}return ce}function S(V,j){R.event.sourceEvent.stopPropagation();var $=j.height-R.mouse(V)[1]-2*g.verticalPadding,ne=j.unitToPaddedPx.invert($),oe=j.brush,ce=M(j,$),Q=ce.interval,Z=oe.svgBrush;if(Z.wasDragged=!1,Z.grabbingBar=ce.region==="ns",Z.grabbingBar){var K=Q.map(j.unitToPaddedPx);Z.grabPoint=$-K[0]-g.verticalPadding,Z.barLength=K[1]-K[0]}Z.clickableOrdinalRange=ce.clickableOrdinalRange,Z.stayingIntervals=j.multiselect&&oe.filterSpecified?oe.filter.getConsolidated():[],Q&&(Z.stayingIntervals=Z.stayingIntervals.filter(function(J){return J[0]!==Q[0]&&J[1]!==Q[1]})),Z.startExtent=ce.region?Q[ce.region==="s"?1:0]:ne,j.parent.inBrushDrag=!0,Z.brushStartCallback()}function P(V,j){R.event.sourceEvent.stopPropagation();var $=j.height-R.mouse(V)[1]-2*g.verticalPadding,ne=j.brush.svgBrush;ne.wasDragged=!0,ne._dragging=!0,ne.grabbingBar?ne.newExtent=[$-ne.grabPoint,$+ne.barLength-ne.grabPoint].map(j.unitToPaddedPx.invert):ne.newExtent=[ne.startExtent,j.unitToPaddedPx.invert($)].sort(T),j.brush.filterSpecified=!0,ne.extent=ne.stayingIntervals.concat([ne.newExtent]),ne.brushCallback(j),p(V.parentNode)}function x(V,j){var $=j.brush,ne=$.filter,oe=$.svgBrush;oe._dragging||(E(V,j),P(V,j),j.brush.svgBrush.wasDragged=!1),oe._dragging=!1;var ce=R.event;ce.sourceEvent.stopPropagation();var Q=oe.grabbingBar;if(oe.grabbingBar=!1,oe.grabLocation=void 0,j.parent.inBrushDrag=!1,h(),!oe.wasDragged){oe.wasDragged=void 0,oe.clickableOrdinalRange?$.filterSpecified&&j.multiselect?oe.extent.push(oe.clickableOrdinalRange):(oe.extent=[oe.clickableOrdinalRange],$.filterSpecified=!0):Q?(oe.extent=oe.stayingIntervals,oe.extent.length===0&&_($)):_($),oe.brushCallback(j),p(V.parentNode),oe.brushEndCallback($.filterSpecified?ne.getConsolidated():[]);return}var Z=function(){ne.set(ne.getConsolidated())};if(j.ordinal){var K=j.unitTickvals;K[K.length-1]<K[0]&&K.reverse(),oe.newExtent=[n(0,K,oe.newExtent[0],oe.stayingIntervals),n(1,K,oe.newExtent[1],oe.stayingIntervals)];var J=oe.newExtent[1]>oe.newExtent[0];oe.extent=oe.stayingIntervals.concat(J?[oe.newExtent]:[]),oe.extent.length||_($),oe.brushCallback(j),J?p(V.parentNode,Z):(Z(),p(V.parentNode))}else Z();oe.brushEndCallback($.filterSpecified?ne.getConsolidated():[])}function E(V,j){var $=j.height-R.mouse(V)[1]-2*g.verticalPadding,ne=M(j,$),oe="crosshair";ne.clickableOrdinalRange?oe="pointer":ne.region&&(oe=ne.region+"-resize"),R.select(document.body).style("cursor",oe)}function w(V){V.on("mousemove",function(j){R.event.preventDefault(),j.parent.inBrushDrag||E(this,j)}).on("mouseleave",function(j){j.parent.inBrushDrag||h()}).call(R.behavior.drag().on("dragstart",function(j){S(this,j)}).on("drag",function(j){P(this,j)}).on("dragend",function(j){x(this,j)}))}function i(V,j){return V[0]-j[0]}function L(V,j,$){var ne=$._context.staticPlot,oe=V.selectAll(".background").data(C);oe.enter().append("rect").classed("background",!0).call(f).call(u).style("pointer-events",ne?"none":"auto").attr("transform",v(0,g.verticalPadding)),oe.call(w).attr("height",function(Z){return Z.height-g.verticalPadding});var ce=V.selectAll(".highlight-shadow").data(C);ce.enter().append("line").classed("highlight-shadow",!0).attr("x",-g.bar.width/2).attr("stroke-width",g.bar.width+g.bar.strokeWidth).attr("stroke",j).attr("opacity",g.bar.strokeOpacity).attr("stroke-linecap","butt"),ce.attr("y1",function(Z){return Z.height}).call(l);var Q=V.selectAll(".highlight").data(C);Q.enter().append("line").classed("highlight",!0).attr("x",-g.bar.width/2).attr("stroke-width",g.bar.width-g.bar.strokeWidth).attr("stroke",g.bar.fillColor).attr("opacity",g.bar.fillOpacity).attr("stroke-linecap","butt"),Q.attr("y1",function(Z){return Z.height}).call(l)}function b(V,j,$){var ne=V.selectAll("."+g.cn.axisBrush).data(C,a);ne.enter().append("g").classed(g.cn.axisBrush,!0),L(ne,j,$)}function O(V){return V.svgBrush.extent.map(function(j){return j.slice()})}function _(V){V.filterSpecified=!1,V.svgBrush.extent=[[-1/0,1/0]]}function N(V){return function($){var ne=$.brush,oe=O(ne),ce=oe.slice();ne.filter.set(ce),V()}}function z(V){for(var j=V.slice(),$=[],ne,oe=j.shift();oe;){for(ne=oe.slice();(oe=j.shift())&&oe[0]<=ne[1];)ne[1]=Math.max(ne[1],oe[1]);$.push(ne)}return $.length===1&&$[0][0]>$[0][1]&&($=[]),$}function B(){var V=[],j,$;return{set:function(ne){V=ne.map(function(oe){return oe.slice().sort(T)}).sort(i),V.length===1&&V[0][0]===-1/0&&V[0][1]===1/0&&(V=[[0,-1]]),j=z(V),$=V.reduce(function(oe,ce){return[Math.min(oe[0],ce[0]),Math.max(oe[1],ce[1])]},[1/0,-1/0])},get:function(){return V.slice()},getConsolidated:function(){return j},getBounds:function(){return $}}}function U(V,j,$,ne,oe,ce){var Q=B();return Q.set($),{filter:Q,filterSpecified:j,svgBrush:{extent:[],brushStartCallback:ne,brushCallback:N(oe),brushEndCallback:ce}}}function F(V,j){if(Array.isArray(V[0])?(V=V.map(function(ne){return ne.sort(T)}),j.multiselect?V=z(V.sort(i)):V=[V[0]]):V=[V.sort(T)],j.tickvals){var $=j.tickvals.slice().sort(T);if(V=V.map(function(ne){var oe=[n(0,$,ne[0],[]),n(1,$,ne[1],[])];if(oe[1]>oe[0])return oe}).filter(function(ne){return ne}),!V.length)return}return V.length>1?V:V[0]}W.exports={makeBrush:U,ensureAxisBrush:b,cleanRanges:F}},71791:function(W,H,e){W.exports={attributes:e(73362),supplyDefaults:e(3633),calc:e(24639),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcoords",basePlotModule:e(49351),categories:["gl","regl","noOpacity","noHover"],meta:{}}},49351:function(W,H,e){var g=e(39898),R=e(27659).a0,a=e(21341),C=e(77922);H.name="parcoords",H.plot=function(T){var v=R(T.calcdata,"parcoords")[0];v.length&&a(T,v)},H.clean=function(T,v,y,t){var r=t._has&&t._has("parcoords"),s=v._has&&v._has("parcoords");r&&!s&&(t._paperdiv.selectAll(".parcoords").remove(),t._glimages.selectAll("*").remove())},H.toSVG=function(T){var v=T._fullLayout._glimages,y=g.select(T).selectAll(".svg-container"),t=y.filter(function(s,n){return n===y.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function r(){var s=this,n=s.toDataURL("image/png"),o=v.append("svg:image");o.attr({xmlns:C.svg,"xlink:href":n,preserveAspectRatio:"none",x:0,y:0,width:s.style.width,height:s.style.height})}t.each(r),window.setTimeout(function(){g.selectAll("#filterBarPattern").attr("id","filterBarPattern")},60)}},24639:function(W,H,e){var g=e(71828).isArrayOrTypedArray,R=e(21081),a=e(28984).wrap;W.exports=function(v,y){var t,r;return R.hasColorscale(y,"line")&&g(y.line.color)?(t=y.line.color,r=R.extractOpts(y.line).colorscale,R.calc(v,y,{vals:t,containerStr:"line",cLetter:"c"})):(t=C(y._length),r=[[0,y.line.color],[1,y.line.color]]),a({lineColor:t,cscale:r})};function C(T){for(var v=new Array(T),y=0;y<T;y++)v[y]=.5;return v}},25706:function(W){W.exports={maxDimensionCount:60,overdrag:45,verticalPadding:2,tickDistance:50,canvasPixelRatio:1,blockLineCount:5e3,layers:["contextLineLayer","focusLineLayer","pickLineLayer"],axisTitleOffset:28,axisExtentOffset:10,bar:{width:4,captureWidth:10,fillColor:"magenta",fillOpacity:1,snapDuration:150,snapRatio:.25,snapClose:.01,strokeOpacity:1,strokeWidth:1,handleHeight:8,handleOpacity:1,handleOverlap:0},cn:{axisExtentText:"axis-extent-text",parcoordsLineLayers:"parcoords-line-layers",parcoordsLineLayer:"parcoords-lines",parcoords:"parcoords",parcoordsControlView:"parcoords-control-view",yAxis:"y-axis",axisOverlays:"axis-overlays",axis:"axis",axisHeading:"axis-heading",axisTitle:"axis-title",axisExtent:"axis-extent",axisExtentTop:"axis-extent-top",axisExtentTopText:"axis-extent-top-text",axisExtentBottom:"axis-extent-bottom",axisExtentBottomText:"axis-extent-bottom-text",axisBrush:"axis-brush"},id:{filterBarPattern:"filter-bar-pattern"}}},3633:function(W,H,e){var g=e(71828),R=e(52075).hasColorscale,a=e(1586),C=e(27670).c,T=e(85501),v=e(89298),y=e(73362),t=e(57920),r=e(25706).maxDimensionCount,s=e(94397);function n(f,u,m,c,A){var h=A("line.color",m);if(R(f,"line")&&g.isArrayOrTypedArray(h)){if(h.length)return A("line.colorscale"),a(f,u,c,A,{prefix:"line.",cLetter:"c"}),h.length;u.line.color=m}return 1/0}function o(f,u,m,c){function A(S,P){return g.coerce(f,u,y.dimensions,S,P)}var h=A("values"),l=A("visible");if(h&&h.length||(l=u.visible=!1),l){A("label"),A("tickvals"),A("ticktext"),A("tickformat");var p=A("range");u._ax={_id:"y",type:"linear",showexponent:"all",exponentformat:"B",range:p},v.setConvert(u._ax,c.layout),A("multiselect");var M=A("constraintrange");M&&(u.constraintrange=t.cleanRanges(M,u))}}W.exports=function(u,m,c,A){function h(P,x){return g.coerce(u,m,y,P,x)}var l=u.dimensions;Array.isArray(l)&&l.length>r&&(g.log("parcoords traces support up to "+r+" dimensions at the moment"),l.splice(r));var p=T(u,m,{name:"dimensions",layout:A,handleItemDefaults:o}),M=n(u,m,c,A,h);C(m,A,h),(!Array.isArray(p)||!p.length)&&(m.visible=!1),s(m,p,"values",M);var S={family:A.font.family,size:Math.round(A.font.size/1.2),color:A.font.color};g.coerceFont(h,"labelfont",S),g.coerceFont(h,"tickfont",S),g.coerceFont(h,"rangefont",S),h("labelangle"),h("labelside"),h("unselected.line.color"),h("unselected.line.opacity")}},1602:function(W,H,e){var g=e(71828).isTypedArray;H.convertTypedArray=function(R){return g(R)?Array.prototype.slice.call(R):R},H.isOrdinal=function(R){return!!R.tickvals},H.isVisible=function(R){return R.visible||!("visible"in R)}},67618:function(W,H,e){var g=e(71791);g.plot=e(21341),W.exports=g},83398:function(W,H,e){var g=e(56068),R=g([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor;

attribute vec4 p01_04, p05_08, p09_12, p13_16,
               p17_20, p21_24, p25_28, p29_32,
               p33_36, p37_40, p41_44, p45_48,
               p49_52, p53_56, p57_60, colors;

uniform mat4 dim0A, dim1A, dim0B, dim1B, dim0C, dim1C, dim0D, dim1D,
             loA, hiA, loB, hiB, loC, hiC, loD, hiD;

uniform vec2 resolution, viewBoxPos, viewBoxSize;
uniform float maskHeight;
uniform float drwLayer; // 0: context, 1: focus, 2: pick
uniform vec4 contextColor;
uniform sampler2D maskTexture, palette;

bool isPick    = (drwLayer > 1.5);
bool isContext = (drwLayer < 0.5);

const vec4 ZEROS = vec4(0.0, 0.0, 0.0, 0.0);
const vec4 UNITS = vec4(1.0, 1.0, 1.0, 1.0);

float val(mat4 p, mat4 v) {
    return dot(matrixCompMult(p, v) * UNITS, UNITS);
}

float axisY(float ratio, mat4 A, mat4 B, mat4 C, mat4 D) {
    float y1 = val(A, dim0A) + val(B, dim0B) + val(C, dim0C) + val(D, dim0D);
    float y2 = val(A, dim1A) + val(B, dim1B) + val(C, dim1C) + val(D, dim1D);
    return y1 * (1.0 - ratio) + y2 * ratio;
}

int iMod(int a, int b) {
    return a - b * (a / b);
}

bool fOutside(float p, float lo, float hi) {
    return (lo < hi) && (lo > p || p > hi);
}

bool vOutside(vec4 p, vec4 lo, vec4 hi) {
    return (
        fOutside(p[0], lo[0], hi[0]) ||
        fOutside(p[1], lo[1], hi[1]) ||
        fOutside(p[2], lo[2], hi[2]) ||
        fOutside(p[3], lo[3], hi[3])
    );
}

bool mOutside(mat4 p, mat4 lo, mat4 hi) {
    return (
        vOutside(p[0], lo[0], hi[0]) ||
        vOutside(p[1], lo[1], hi[1]) ||
        vOutside(p[2], lo[2], hi[2]) ||
        vOutside(p[3], lo[3], hi[3])
    );
}

bool outsideBoundingBox(mat4 A, mat4 B, mat4 C, mat4 D) {
    return mOutside(A, loA, hiA) ||
           mOutside(B, loB, hiB) ||
           mOutside(C, loC, hiC) ||
           mOutside(D, loD, hiD);
}

bool outsideRasterMask(mat4 A, mat4 B, mat4 C, mat4 D) {
    mat4 pnts[4];
    pnts[0] = A;
    pnts[1] = B;
    pnts[2] = C;
    pnts[3] = D;

    for(int i = 0; i < 4; ++i) {
        for(int j = 0; j < 4; ++j) {
            for(int k = 0; k < 4; ++k) {
                if(0 == iMod(
                    int(255.0 * texture2D(maskTexture,
                        vec2(
                            (float(i * 2 + j / 2) + 0.5) / 8.0,
                            (pnts[i][j][k] * (maskHeight - 1.0) + 1.0) / maskHeight
                        ))[3]
                    ) / int(pow(2.0, float(iMod(j * 4 + k, 8)))),
                    2
                )) return true;
            }
        }
    }
    return false;
}

vec4 position(bool isContext, float v, mat4 A, mat4 B, mat4 C, mat4 D) {
    float x = 0.5 * sign(v) + 0.5;
    float y = axisY(x, A, B, C, D);
    float z = 1.0 - abs(v);

    z += isContext ? 0.0 : 2.0 * float(
        outsideBoundingBox(A, B, C, D) ||
        outsideRasterMask(A, B, C, D)
    );

    return vec4(
        2.0 * (vec2(x, y) * viewBoxSize + viewBoxPos) / resolution - 1.0,
        z,
        1.0
    );
}

void main() {
    mat4 A = mat4(p01_04, p05_08, p09_12, p13_16);
    mat4 B = mat4(p17_20, p21_24, p25_28, p29_32);
    mat4 C = mat4(p33_36, p37_40, p41_44, p45_48);
    mat4 D = mat4(p49_52, p53_56, p57_60, ZEROS);

    float v = colors[3];

    gl_Position = position(isContext, v, A, B, C, D);

    fragColor =
        isContext ? vec4(contextColor) :
        isPick ? vec4(colors.rgb, 1.0) : texture2D(palette, vec2(abs(v), 0.5));
}
`]),a=g([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
    gl_FragColor = fragColor;
}
`]),C=e(25706).maxDimensionCount,T=e(71828),v=1e-6,y=2048,t=new Uint8Array(4),r=new Uint8Array(4),s={shape:[256,1],format:"rgba",type:"uint8",mag:"nearest",min:"nearest"};function n(E){E.read({x:0,y:0,width:1,height:1,data:t})}function o(E,w,i,L,b){var O=E._gl;O.enable(O.SCISSOR_TEST),O.scissor(w,i,L,b),E.clear({color:[0,0,0,0],depth:1})}function f(E,w,i,L,b,O){var _=O.key;function N(z){var B=Math.min(L,b-z*L);z===0&&(window.cancelAnimationFrame(i.currentRafs[_]),delete i.currentRafs[_],o(E,O.scissorX,O.scissorY,O.scissorWidth,O.viewBoxSize[1])),!i.clearOnly&&(O.count=2*B,O.offset=2*z*L,w(O),z*L+B<b&&(i.currentRafs[_]=window.requestAnimationFrame(function(){N(z+1)})),i.drawCompleted=!1)}i.drawCompleted||(n(E),i.drawCompleted=!0),N(0)}function u(E){return Math.max(v,Math.min(1-v,E))}function m(E,w){for(var i=new Array(256),L=0;L<256;L++)i[L]=E(L/255).concat(w);return i}function c(E,w){return(E>>>8*w)%256/255}function A(E,w,i){for(var L=new Array(E*(C+4)),b=0,O=0;O<E;O++){for(var _=0;_<C;_++)L[b++]=_<w.length?w[_].paddedUnitValues[O]:.5;L[b++]=c(O,2),L[b++]=c(O,1),L[b++]=c(O,0),L[b++]=u(i[O])}return L}function h(E,w,i){for(var L=new Array(w*8),b=0,O=0;O<w;O++)for(var _=0;_<2;_++)for(var N=0;N<4;N++){var z=E*4+N,B=i[O*64+z];z===63&&_===0&&(B*=-1),L[b++]=B}return L}function l(E){var w="0"+E;return w.substr(w.length-2)}function p(E){return E<C?"p"+l(E+1)+"_"+l(E+4):"colors"}function M(E,w,i){for(var L=0;L<=C;L+=4)E[p(L)](h(L/4,w,i))}function S(E){for(var w={},i=0;i<=C;i+=4)w[p(i)]=E.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)});return w}function P(E,w,i,L,b,O,_,N,z,B,U,F,V,j){for(var $=[[],[]],ne=0;ne<64;ne++)$[0][ne]=ne===b?1:0,$[1][ne]=ne===O?1:0;_*=j,N*=j,z*=j,B*=j;var oe=E.lines.canvasOverdrag*j,ce=E.domain,Q=E.canvasWidth*j,Z=E.canvasHeight*j,K=E.pad.l*j,J=E.pad.b*j,re=E.layoutHeight*j,le=E.layoutWidth*j,q=E.deselectedLines.color,ee=E.deselectedLines.opacity,ue=T.extendFlat({key:U,resolution:[Q,Z],viewBoxPos:[_+oe,N],viewBoxSize:[z,B],i0:b,i1:O,dim0A:$[0].slice(0,16),dim0B:$[0].slice(16,32),dim0C:$[0].slice(32,48),dim0D:$[0].slice(48,64),dim1A:$[1].slice(0,16),dim1B:$[1].slice(16,32),dim1C:$[1].slice(32,48),dim1D:$[1].slice(48,64),drwLayer:F,contextColor:[q[0]/255,q[1]/255,q[2]/255,ee!=="auto"?q[3]*ee:Math.max(1/255,Math.pow(1/E.lines.color.length,1/3))],scissorX:(L===w?0:_+oe)+(K-oe)+le*ce.x[0],scissorWidth:(L===i?Q-_+oe:z+.5)+(L===w?_+oe:0),scissorY:N+J+re*ce.y[0],scissorHeight:B,viewportX:K-oe+le*ce.x[0],viewportY:J+re*ce.y[0],viewportWidth:Q,viewportHeight:Z},V);return ue}function x(E){var w=y-1,i=Math.max(0,Math.floor(E[0]*w),0),L=Math.min(w,Math.ceil(E[1]*w),w);return[Math.min(i,L),Math.max(i,L)]}W.exports=function(E,w){var i=w.context,L=w.pick,b=w.regl,O=b._gl,_=O.getParameter(O.ALIASED_LINE_WIDTH_RANGE),N=Math.max(_[0],Math.min(_[1],w.viewModel.plotGlPixelRatio)),z={currentRafs:{},drawCompleted:!0,clearOnly:!1},B,U,F,V,j=S(b),$,ne=b.texture(s),oe=[];Q(w);var ce=b({profile:!1,blend:{enable:i,func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:1,dstAlpha:1},equation:{rgb:"add",alpha:"add"},color:[0,0,0,0]},depth:{enable:!i,mask:!0,func:"less",range:[0,1]},cull:{enable:!0,face:"back"},scissor:{enable:!0,box:{x:b.prop("scissorX"),y:b.prop("scissorY"),width:b.prop("scissorWidth"),height:b.prop("scissorHeight")}},viewport:{x:b.prop("viewportX"),y:b.prop("viewportY"),width:b.prop("viewportWidth"),height:b.prop("viewportHeight")},dither:!1,vert:R,frag:a,primitive:"lines",lineWidth:N,attributes:j,uniforms:{resolution:b.prop("resolution"),viewBoxPos:b.prop("viewBoxPos"),viewBoxSize:b.prop("viewBoxSize"),dim0A:b.prop("dim0A"),dim1A:b.prop("dim1A"),dim0B:b.prop("dim0B"),dim1B:b.prop("dim1B"),dim0C:b.prop("dim0C"),dim1C:b.prop("dim1C"),dim0D:b.prop("dim0D"),dim1D:b.prop("dim1D"),loA:b.prop("loA"),hiA:b.prop("hiA"),loB:b.prop("loB"),hiB:b.prop("hiB"),loC:b.prop("loC"),hiC:b.prop("hiC"),loD:b.prop("loD"),hiD:b.prop("hiD"),palette:ne,contextColor:b.prop("contextColor"),maskTexture:b.prop("maskTexture"),drwLayer:b.prop("drwLayer"),maskHeight:b.prop("maskHeight")},offset:b.prop("offset"),count:b.prop("count")});function Q(q){B=q.model,U=q.viewModel,F=U.dimensions.slice(),V=F[0]?F[0].values.length:0;var ee=B.lines,ue=L?ee.color.map(function(he,me){return me/ee.color.length}):ee.color,se=A(V,F,ue);M(j,V,se),!i&&!L&&(ne=b.texture(T.extendFlat({data:m(B.unitToColor,255)},s)))}function Z(q){var ee,ue,se,he=[[],[]];for(se=0;se<64;se++){var me=!q&&se<F.length?F[se].brush.filter.getBounds():[-1/0,1/0];he[0][se]=me[0],he[1][se]=me[1]}var Ce=y*8,Te=new Array(Ce);for(ee=0;ee<Ce;ee++)Te[ee]=255;if(!q)for(ee=0;ee<F.length;ee++){var Oe=ee%8,Ne=(ee-Oe)/8,Le=Math.pow(2,Oe),be=F[ee],Ae=be.brush.filter.get();if(!(Ae.length<2)){var He=x(Ae[0])[1];for(ue=1;ue<Ae.length;ue++){var Ve=x(Ae[ue]);for(se=He+1;se<Ve[0];se++)Te[se*8+Ne]&=~Le;He=Math.max(He,Ve[1])}}}var ke={shape:[8,y],format:"alpha",type:"uint8",mag:"nearest",min:"nearest",data:Te};return $?$(ke):$=b.texture(ke),{maskTexture:$,maskHeight:y,loA:he[0].slice(0,16),loB:he[0].slice(16,32),loC:he[0].slice(32,48),loD:he[0].slice(48,64),hiA:he[1].slice(0,16),hiB:he[1].slice(16,32),hiC:he[1].slice(32,48),hiD:he[1].slice(48,64)}}function K(q,ee,ue){var se=q.length,he,me,Ce,Te=1/0,Oe=-1/0;for(he=0;he<se;he++)q[he].dim0.canvasX<Te&&(Te=q[he].dim0.canvasX,me=he),q[he].dim1.canvasX>Oe&&(Oe=q[he].dim1.canvasX,Ce=he);se===0&&o(b,0,0,B.canvasWidth,B.canvasHeight);var Ne=Z(i);for(he=0;he<se;he++){var Le=q[he],be=Le.dim0.crossfilterDimensionIndex,Ae=Le.dim1.crossfilterDimensionIndex,He=Le.canvasX,Ve=Le.canvasY,ke=He+Le.panelSizeX,Ge=Le.plotGlPixelRatio;if(ee||!oe[be]||oe[be][0]!==He||oe[be][1]!==ke){oe[be]=[He,ke];var it=P(B,me,Ce,he,be,Ae,He,Ve,Le.panelSizeX,Le.panelSizeY,Le.dim0.crossfilterDimensionIndex,i?0:L?2:1,Ne,Ge);z.clearOnly=ue;var et=ee?B.lines.blockLineCount:V;f(b,ce,z,et,V,it)}}}function J(q,ee){return b.read({x:q,y:ee,width:1,height:1,data:r}),r}function re(q,ee,ue,se){var he=new Uint8Array(4*ue*se);return b.read({x:q,y:ee,width:ue,height:se,data:he}),he}function le(){E.style["pointer-events"]="none",ne.destroy(),$&&$.destroy();for(var q in j)j[q].destroy()}return{render:K,readPixel:J,readPixels:re,destroy:le,update:Q}}},94397:function(W){W.exports=function(H,e,g,R){R||(R=1/0);var a,C;for(a=0;a<e.length;a++)C=e[a],C.visible&&(R=Math.min(R,C[g].length));for(R===1/0&&(R=0),H._length=R,a=0;a<e.length;a++)C=e[a],C.visible&&(C._length=R);return R}},17171:function(W,H,e){var g=e(39898),R=e(71828),a=R.numberFormat,C=e(36652),T=e(89298),v=R.strRotate,y=R.strTranslate,t=e(63893),r=e(91424),s=e(21081),n=e(28984),o=n.keyFun,f=n.repeat,u=n.unwrap,m=e(1602),c=e(25706),A=e(57920),h=e(83398);function l($,ne,oe){return R.aggNums($,null,ne,oe)}function p($,ne){return S(l(Math.min,$,ne),l(Math.max,$,ne))}function M($){var ne=$.range;return ne?S(ne[0],ne[1]):p($.values,$._length)}function S($,ne){return(isNaN($)||!isFinite($))&&($=0),(isNaN(ne)||!isFinite(ne))&&(ne=0),$===ne&&($===0?($-=1,ne+=1):($*=.9,ne*=1.1)),[$,ne]}function P($,ne){return ne?function(oe,ce){var Q=ne[ce];return Q??$(oe)}:$}function x($,ne,oe,ce,Q){var Z=M(oe);return ce?g.scale.ordinal().domain(ce.map(P(a(oe.tickformat),Q))).range(ce.map(function(K){var J=(K-Z[0])/(Z[1]-Z[0]);return $-ne+J*(2*ne-$)})):g.scale.linear().domain(Z).range([$-ne,ne])}function E($,ne){return g.scale.linear().range([ne,$-ne])}function w($,ne){return g.scale.linear().domain(M($)).range([ne,1-ne])}function i($){if($.tickvals){var ne=M($);return g.scale.ordinal().domain($.tickvals).range($.tickvals.map(function(oe){return(oe-ne[0])/(ne[1]-ne[0])}))}}function L($){var ne=$.map(function(Z){return Z[0]}),oe=$.map(function(Z){var K=C(Z[1]);return g.rgb("rgb("+K[0]+","+K[1]+","+K[2]+")")}),ce=function(Z){return function(K){return K[Z]}},Q="rgb".split("").map(function(Z){return g.scale.linear().clamp(!0).domain(ne).range(oe.map(ce(Z)))});return function(Z){return Q.map(function(K){return K(Z)})}}function b($){return $.dimensions.some(function(ne){return ne.brush.filterSpecified})}function O($,ne,oe){var ce=u(ne),Q=ce.trace,Z=m.convertTypedArray(ce.lineColor),K=Q.line,J={color:C(Q.unselected.line.color),opacity:Q.unselected.line.opacity},re=s.extractOpts(K),le=re.reversescale?s.flipScale(ce.cscale):ce.cscale,q=Q.domain,ee=Q.dimensions,ue=$.width,se=Q.labelangle,he=Q.labelside,me=Q.labelfont,Ce=Q.tickfont,Te=Q.rangefont,Oe=R.extendDeepNoArrays({},K,{color:Z.map(g.scale.linear().domain(M({values:Z,range:[re.min,re.max],_length:Q._length}))),blockLineCount:c.blockLineCount,canvasOverdrag:c.overdrag*c.canvasPixelRatio}),Ne=Math.floor(ue*(q.x[1]-q.x[0])),Le=Math.floor($.height*(q.y[1]-q.y[0])),be=$.margin||{l:80,r:80,t:100,b:80},Ae=Ne,He=Le;return{key:oe,colCount:ee.filter(m.isVisible).length,dimensions:ee,tickDistance:c.tickDistance,unitToColor:L(le),lines:Oe,deselectedLines:J,labelAngle:se,labelSide:he,labelFont:me,tickFont:Ce,rangeFont:Te,layoutWidth:ue,layoutHeight:$.height,domain:q,translateX:q.x[0]*ue,translateY:$.height-q.y[1]*$.height,pad:be,canvasWidth:Ae*c.canvasPixelRatio+2*Oe.canvasOverdrag,canvasHeight:He*c.canvasPixelRatio,width:Ae,height:He,canvasPixelRatio:c.canvasPixelRatio}}function _($,ne,oe){var ce=oe.width,Q=oe.height,Z=oe.dimensions,K=oe.canvasPixelRatio,J=function(ue){return ce*ue/Math.max(1,oe.colCount-1)},re=c.verticalPadding/Q,le=E(Q,c.verticalPadding),q={key:oe.key,xScale:J,model:oe,inBrushDrag:!1},ee={};return q.dimensions=Z.filter(m.isVisible).map(function(ue,se){var he=w(ue,re),me=ee[ue.label];ee[ue.label]=(me||0)+1;var Ce=ue.label+(me?"__"+me:""),Te=ue.constraintrange,Oe=Te&&Te.length;Oe&&!Array.isArray(Te[0])&&(Te=[Te]);var Ne=Oe?Te.map(function(tt){return tt.map(he)}):[[-1/0,1/0]],Le=function(){var tt=q;tt.focusLayer&&tt.focusLayer.render(tt.panels,!0);var at=b(tt);!$.contextShown()&&at?(tt.contextLayer&&tt.contextLayer.render(tt.panels,!0),$.contextShown(!0)):$.contextShown()&&!at&&(tt.contextLayer&&tt.contextLayer.render(tt.panels,!0,!0),$.contextShown(!1))},be=ue.values;be.length>ue._length&&(be=be.slice(0,ue._length));var Ae=ue.tickvals,He;function Ve(tt,at){return{val:tt,text:He[at]}}function ke(tt,at){return tt.val-at.val}if(Array.isArray(Ae)&&Ae.length){He=ue.ticktext,!Array.isArray(He)||!He.length?He=Ae.map(a(ue.tickformat)):He.length>Ae.length?He=He.slice(0,Ae.length):Ae.length>He.length&&(Ae=Ae.slice(0,He.length));for(var Ge=1;Ge<Ae.length;Ge++)if(Ae[Ge]<Ae[Ge-1]){for(var it=Ae.map(Ve).sort(ke),et=0;et<Ae.length;et++)Ae[et]=it[et].val,He[et]=it[et].text;break}}else Ae=void 0;return be=m.convertTypedArray(be),{key:Ce,label:ue.label,tickFormat:ue.tickformat,tickvals:Ae,ticktext:He,ordinal:m.isOrdinal(ue),multiselect:ue.multiselect,xIndex:se,crossfilterDimensionIndex:se,visibleIndex:ue._index,height:Q,values:be,paddedUnitValues:be.map(he),unitTickvals:Ae&&Ae.map(he),xScale:J,x:J(se),canvasX:J(se)*K,unitToPaddedPx:le,domainScale:x(Q,c.verticalPadding,ue,Ae,He),ordinalScale:i(ue),parent:q,model:oe,brush:A.makeBrush($,Oe,Ne,function(){$.linePickActive(!1)},Le,function(tt){if(q.focusLayer.render(q.panels,!0),q.pickLayer&&q.pickLayer.render(q.panels,!0),$.linePickActive(!0),ne&&ne.filterChanged){var at=he.invert,vt=tt.map(function(yt){return yt.map(at).sort(R.sorterAsc)}).sort(function(yt,gt){return yt[0]-gt[0]});ne.filterChanged(q.key,ue._index,vt)}})}}),q}function N($){$.classed(c.cn.axisExtentText,!0).attr("text-anchor","middle").style("cursor","default")}function z(){var $=!0,ne=!1;return{linePickActive:function(oe){return arguments.length?$=!!oe:$},contextShown:function(oe){return arguments.length?ne=!!oe:ne}}}function B($,ne){var oe=ne==="top"?1:-1,ce=$*Math.PI/180,Q=Math.sin(ce),Z=Math.cos(ce);return{dir:oe,dx:Q,dy:Z,degrees:$}}function U($,ne,oe){for(var ce=ne.panels||(ne.panels=[]),Q=$.data(),Z=0;Z<Q.length-1;Z++){var K=ce[Z]||(ce[Z]={}),J=Q[Z],re=Q[Z+1];K.dim0=J,K.dim1=re,K.canvasX=J.canvasX,K.panelSizeX=re.canvasX-J.canvasX,K.panelSizeY=ne.model.canvasHeight,K.y=0,K.canvasY=0,K.plotGlPixelRatio=oe}}function F($){for(var ne=0;ne<$.length;ne++)for(var oe=0;oe<$[ne].length;oe++)for(var ce=$[ne][oe].trace,Q=ce.dimensions,Z=0;Z<Q.length;Z++){var K=Q[Z].values,J=Q[Z]._ax;J&&(J.range?J.range=S(J.range[0],J.range[1]):J.range=p(K,ce._length),J.dtick||(J.dtick=.01*(Math.abs(J.range[1]-J.range[0])||1)),J.tickformat=Q[Z].tickformat,T.calcTicks(J),J.cleanRange())}}function V($,ne){return T.tickText($._ax,ne,!1).text}function j($,ne){if($.ordinal)return"";var oe=$.domainScale.domain(),ce=oe[ne?oe.length-1:0];return V($.model.dimensions[$.visibleIndex],ce)}W.exports=function(ne,oe,ce,Q){var Z=ne._context.staticPlot,K=ne._fullLayout,J=K._toppaper,re=K._glcontainer,le=ne._context.plotGlPixelRatio,q=ne._fullLayout.paper_bgcolor;F(oe);var ee=z(),ue=oe.filter(function(et){return u(et).trace.visible}).map(O.bind(0,ce)).map(_.bind(0,ee,Q));re.each(function(et,tt){return R.extendFlat(et,ue[tt])});var se=re.selectAll(".gl-canvas").each(function(et){et.viewModel=ue[0],et.viewModel.plotGlPixelRatio=le,et.viewModel.paperColor=q,et.model=et.viewModel?et.viewModel.model:null}),he=null,me=se.filter(function(et){return et.pick});me.style("pointer-events",Z?"none":"auto").on("mousemove",function(et){if(ee.linePickActive()&&et.lineLayer&&Q&&Q.hover){var tt=g.event,at=this.width,vt=this.height,yt=g.mouse(this),gt=yt[0],Mt=yt[1];if(gt<0||Mt<0||gt>=at||Mt>=vt)return;var Ct=et.lineLayer.readPixel(gt,vt-1-Mt),Vt=Ct[3]!==0,Je=Vt?Ct[2]+256*(Ct[1]+256*Ct[0]):null,ze={x:gt,y:Mt,clientX:tt.clientX,clientY:tt.clientY,dataIndex:et.model.key,curveNumber:Je};Je!==he&&(Vt?Q.hover(ze):Q.unhover&&Q.unhover(ze),he=Je)}}),se.style("opacity",function(et){return et.pick?0:1}),J.style("background","rgba(255, 255, 255, 0)");var Ce=J.selectAll("."+c.cn.parcoords).data(ue,o);Ce.exit().remove(),Ce.enter().append("g").classed(c.cn.parcoords,!0).style("shape-rendering","crispEdges").style("pointer-events","none"),Ce.attr("transform",function(et){return y(et.model.translateX,et.model.translateY)});var Te=Ce.selectAll("."+c.cn.parcoordsControlView).data(f,o);Te.enter().append("g").classed(c.cn.parcoordsControlView,!0),Te.attr("transform",function(et){return y(et.model.pad.l,et.model.pad.t)});var Oe=Te.selectAll("."+c.cn.yAxis).data(function(et){return et.dimensions},o);Oe.enter().append("g").classed(c.cn.yAxis,!0),Te.each(function(et){U(Oe,et,le)}),se.each(function(et){if(et.viewModel){!et.lineLayer||Q?et.lineLayer=h(this,et):et.lineLayer.update(et),(et.key||et.key===0)&&(et.viewModel[et.key]=et.lineLayer);var tt=!et.context||Q;et.lineLayer.render(et.viewModel.panels,tt)}}),Oe.attr("transform",function(et){return y(et.xScale(et.xIndex),0)}),Oe.call(g.behavior.drag().origin(function(et){return et}).on("drag",function(et){var tt=et.parent;ee.linePickActive(!1),et.x=Math.max(-c.overdrag,Math.min(et.model.width+c.overdrag,g.event.x)),et.canvasX=et.x*et.model.canvasPixelRatio,Oe.sort(function(at,vt){return at.x-vt.x}).each(function(at,vt){at.xIndex=vt,at.x=et===at?at.x:at.xScale(at.xIndex),at.canvasX=at.x*at.model.canvasPixelRatio}),U(Oe,tt,le),Oe.filter(function(at){return Math.abs(et.xIndex-at.xIndex)!==0}).attr("transform",function(at){return y(at.xScale(at.xIndex),0)}),g.select(this).attr("transform",y(et.x,0)),Oe.each(function(at,vt,yt){yt===et.parent.key&&(tt.dimensions[vt]=at)}),tt.contextLayer&&tt.contextLayer.render(tt.panels,!1,!b(tt)),tt.focusLayer.render&&tt.focusLayer.render(tt.panels)}).on("dragend",function(et){var tt=et.parent;et.x=et.xScale(et.xIndex),et.canvasX=et.x*et.model.canvasPixelRatio,U(Oe,tt,le),g.select(this).attr("transform",function(at){return y(at.x,0)}),tt.contextLayer&&tt.contextLayer.render(tt.panels,!1,!b(tt)),tt.focusLayer&&tt.focusLayer.render(tt.panels),tt.pickLayer&&tt.pickLayer.render(tt.panels,!0),ee.linePickActive(!0),Q&&Q.axesMoved&&Q.axesMoved(tt.key,tt.dimensions.map(function(at){return at.crossfilterDimensionIndex}))})),Oe.exit().remove();var Ne=Oe.selectAll("."+c.cn.axisOverlays).data(f,o);Ne.enter().append("g").classed(c.cn.axisOverlays,!0),Ne.selectAll("."+c.cn.axis).remove();var Le=Ne.selectAll("."+c.cn.axis).data(f,o);Le.enter().append("g").classed(c.cn.axis,!0),Le.each(function(et){var tt=et.model.height/et.model.tickDistance,at=et.domainScale,vt=at.domain();g.select(this).call(g.svg.axis().orient("left").tickSize(4).outerTickSize(2).ticks(tt,et.tickFormat).tickValues(et.ordinal?vt:null).tickFormat(function(yt){return m.isOrdinal(et)?yt:V(et.model.dimensions[et.visibleIndex],yt)}).scale(at)),r.font(Le.selectAll("text"),et.model.tickFont)}),Le.selectAll(".domain, .tick>line").attr("fill","none").attr("stroke","black").attr("stroke-opacity",.25).attr("stroke-width","1px"),Le.selectAll("text").style("text-shadow",t.makeTextShadow(q)).style("cursor","default");var be=Ne.selectAll("."+c.cn.axisHeading).data(f,o);be.enter().append("g").classed(c.cn.axisHeading,!0);var Ae=be.selectAll("."+c.cn.axisTitle).data(f,o);Ae.enter().append("text").classed(c.cn.axisTitle,!0).attr("text-anchor","middle").style("cursor","ew-resize").style("pointer-events",Z?"none":"auto"),Ae.text(function(et){return et.label}).each(function(et){var tt=g.select(this);r.font(tt,et.model.labelFont),t.convertToTspans(tt,ne)}).attr("transform",function(et){var tt=B(et.model.labelAngle,et.model.labelSide),at=c.axisTitleOffset;return(tt.dir>0?"":y(0,2*at+et.model.height))+v(tt.degrees)+y(-at*tt.dx,-at*tt.dy)}).attr("text-anchor",function(et){var tt=B(et.model.labelAngle,et.model.labelSide),at=Math.abs(tt.dx),vt=Math.abs(tt.dy);return 2*at>vt?tt.dir*tt.dx<0?"start":"end":"middle"});var He=Ne.selectAll("."+c.cn.axisExtent).data(f,o);He.enter().append("g").classed(c.cn.axisExtent,!0);var Ve=He.selectAll("."+c.cn.axisExtentTop).data(f,o);Ve.enter().append("g").classed(c.cn.axisExtentTop,!0),Ve.attr("transform",y(0,-c.axisExtentOffset));var ke=Ve.selectAll("."+c.cn.axisExtentTopText).data(f,o);ke.enter().append("text").classed(c.cn.axisExtentTopText,!0).call(N),ke.text(function(et){return j(et,!0)}).each(function(et){r.font(g.select(this),et.model.rangeFont)});var Ge=He.selectAll("."+c.cn.axisExtentBottom).data(f,o);Ge.enter().append("g").classed(c.cn.axisExtentBottom,!0),Ge.attr("transform",function(et){return y(0,et.model.height+c.axisExtentOffset)});var it=Ge.selectAll("."+c.cn.axisExtentBottomText).data(f,o);it.enter().append("text").classed(c.cn.axisExtentBottomText,!0).attr("dy","0.75em").call(N),it.text(function(et){return j(et,!1)}).each(function(et){r.font(g.select(this),et.model.rangeFont)}),A.ensureAxisBrush(Ne,q,ne)}},21341:function(W,H,e){var g=e(17171),R=e(79749),a=e(1602).isVisible,C={};function T(t,r,s){var n=r.indexOf(s),o=t.indexOf(n);return o===-1&&(o+=r.length),o}function v(t,r){return function(n,o){return T(t,r,n)-T(t,r,o)}}var y=W.exports=function(r,s){var n=r._fullLayout,o=R(r,[],C);if(o){var f={},u={},m={},c={},A=n._size;s.forEach(function(S,P){var x=S[0].trace;m[P]=x.index;var E=c[P]=x._fullInput.index;f[P]=r.data[E].dimensions,u[P]=r.data[E].dimensions.slice()});var h=function(S,P,x){var E=u[S][P],w=x.map(function(N){return N.slice()}),i="dimensions["+P+"].constraintrange",L=n._tracePreGUI[r._fullData[m[S]]._fullInput.uid];if(L[i]===void 0){var b=E.constraintrange;L[i]=b||null}var O=r._fullData[m[S]].dimensions[P];w.length?(w.length===1&&(w=w[0]),E.constraintrange=w,O.constraintrange=w.slice(),w=[w]):(delete E.constraintrange,delete O.constraintrange,w=null);var _={};_[i]=w,r.emit("plotly_restyle",[_,[c[S]]])},l=function(S){r.emit("plotly_hover",S)},p=function(S){r.emit("plotly_unhover",S)},M=function(S,P){var x=v(P,u[S].filter(a));f[S].sort(x),u[S].filter(function(E){return!a(E)}).sort(function(E){return u[S].indexOf(E)}).forEach(function(E){f[S].splice(f[S].indexOf(E),1),f[S].splice(u[S].indexOf(E),0,E)}),r.emit("plotly_restyle",[{dimensions:[f[S]]},[c[S]]])};g(r,s,{width:A.w,height:A.h,margin:{t:A.t,r:A.r,b:A.b,l:A.l}},{filterChanged:h,hover:l,unhover:p,axesMoved:M})}};y.reglPrecompiled=C},34e3:function(W,H,e){var g=e(9012),R=e(27670).Y,a=e(41940),C=e(22399),T=e(5386).fF,v=e(5386).si,y=e(1426).extendFlat,t=e(79952).u,r=a({editType:"plot",arrayOk:!0,colorEditType:"plot"});W.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:C.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},pattern:t,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:y({},g.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:T({},{keys:["label","color","value","percent","text"]}),texttemplate:v({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:y({},r,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:y({},r,{}),outsidetextfont:y({},r,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:y({},r,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:R({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:y({},r,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},13584:function(W,H,e){var g=e(74875);H.name="pie",H.plot=function(R,a,C,T){g.plotBasePlot(H.name,R,a,C,T)},H.clean=function(R,a,C,T){g.cleanBasePlot(H.name,R,a,C,T)}},32354:function(W,H,e){var g=e(92770),R=e(84267),a=e(7901),C={};function T(r,s){var n=[],o=r._fullLayout,f=o.hiddenlabels||[],u=s.labels,m=s.marker.colors||[],c=s.values,A=s._length,h=s._hasValues&&A,l,p;if(s.dlabel)for(u=new Array(A),l=0;l<A;l++)u[l]=String(s.label0+l*s.dlabel);var M={},S=v(o["_"+s.type+"colormap"]),P=0,x=!1;for(l=0;l<A;l++){var E,w,i;if(h){if(E=c[l],!g(E))continue;E=+E}else E=1;w=u[l],(w===void 0||w==="")&&(w=l),w=String(w);var L=M[w];L===void 0?(M[w]=n.length,i=f.indexOf(w)!==-1,i||(P+=E),n.push({v:E,label:w,color:S(m[l],w),i:l,pts:[l],hidden:i})):(x=!0,p=n[L],p.v+=E,p.pts.push(l),p.hidden||(P+=E),p.color===!1&&m[l]&&(p.color=S(m[l],w)))}n=n.filter(function(O){return O.v>=0});var b=s.type==="funnelarea"?x:s.sort;return b&&n.sort(function(O,_){return _.v-O.v}),n[0]&&(n[0].vTotal=P),n}function v(r){return function(n,o){return!n||(n=R(n),!n.isValid())?!1:(n=a.addOpacity(n,n.getAlpha()),r[o]||(r[o]=n),n)}}function y(r,s){var n=(s||{}).type;n||(n="pie");var o=r._fullLayout,f=r.calcdata,u=o[n+"colorway"],m=o["_"+n+"colormap"];o["extend"+n+"colors"]&&(u=t(u,C));for(var c=0,A=0;A<f.length;A++){var h=f[A],l=h[0].trace.type;if(l===n)for(var p=0;p<h.length;p++){var M=h[p];M.color===!1&&(m[M.label]?M.color=m[M.label]:(m[M.label]=M.color=u[c%u.length],c++))}}}function t(r,s){var n,o=JSON.stringify(r),f=s[o];if(!f){for(f=r.slice(),n=0;n<r.length;n++)f.push(R(r[n]).lighten(20).toHexString());for(n=0;n<r.length;n++)f.push(R(r[n]).darken(20).toHexString());s[o]=f}return f}W.exports={calc:T,crossTraceCalc:y,makePullColorFn:v,generateExtendedColors:t}},37434:function(W,H,e){var g=e(92770),R=e(71828),a=e(34e3),C=e(27670).c,T=e(90769).handleText,v=e(71828).coercePattern;function y(s,n){var o=Array.isArray(s),f=R.isArrayOrTypedArray(n),u=Math.min(o?s.length:1/0,f?n.length:1/0);if(isFinite(u)||(u=0),u&&f){for(var m,c=0;c<u;c++){var A=n[c];if(g(A)&&A>0){m=!0;break}}m||(u=0)}return{hasLabels:o,hasValues:f,len:u}}function t(s,n,o,f,u){var m=f("marker.line.width");m&&f("marker.line.color",u?void 0:o.paper_bgcolor);var c=f("marker.colors");v(f,"marker.pattern",c),s.marker&&!n.marker.pattern.fgcolor&&(n.marker.pattern.fgcolor=s.marker.colors),n.marker.pattern.bgcolor||(n.marker.pattern.bgcolor=o.paper_bgcolor)}function r(s,n,o,f){function u(L,b){return R.coerce(s,n,a,L,b)}var m=u("labels"),c=u("values"),A=y(m,c),h=A.len;if(n._hasLabels=A.hasLabels,n._hasValues=A.hasValues,!n._hasLabels&&n._hasValues&&(u("label0"),u("dlabel")),!h){n.visible=!1;return}n._length=h,t(s,n,f,u,!0),u("scalegroup");var l=u("text"),p=u("texttemplate"),M;if(p||(M=u("textinfo",Array.isArray(l)?"text+percent":"percent")),u("hovertext"),u("hovertemplate"),p||M&&M!=="none"){var S=u("textposition");T(s,n,f,u,S,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1});var P=Array.isArray(S)||S==="auto",x=P||S==="outside";x&&u("automargin"),(S==="inside"||S==="auto"||Array.isArray(S))&&u("insidetextorientation")}C(n,f,u);var E=u("hole"),w=u("title.text");if(w){var i=u("title.position",E?"middle center":"top center");!E&&i==="middle center"&&(n.title.position="top center"),R.coerceFont(u,"title.font",f.font)}u("sort"),u("direction"),u("rotation"),u("pull")}W.exports={handleLabelsAndValues:y,handleMarkerDefaults:t,supplyDefaults:r}},20007:function(W,H,e){var g=e(23469).appendArrayMultiPointValues;W.exports=function(a,C){var T={curveNumber:C.index,pointNumbers:a.pts,data:C._input,fullData:C,label:a.label,color:a.color,value:a.v,percent:a.percent,text:a.text,bbox:a.bbox,v:a.v};return a.pts.length===1&&(T.pointNumber=T.i=a.pts[0]),g(T,C,a.pts),C.type==="funnelarea"&&(delete T.v,delete T.i),T}},22209:function(W,H,e){var g=e(91424),R=e(7901);W.exports=function(C,T,v,y){var t=v.marker.pattern;t&&t.shape?g.pointStyle(C,v,y,T):R.fill(C,T.color)}},53581:function(W,H,e){var g=e(71828);function R(a){return a.indexOf("e")!==-1?a.replace(/[.]?0+e/,"e"):a.indexOf(".")!==-1?a.replace(/[.]?0+$/,""):a}H.formatPiePercent=function(C,T){var v=R((C*100).toPrecision(3));return g.numSeparate(v,T)+"%"},H.formatPieValue=function(C,T){var v=R(C.toPrecision(10));return g.numSeparate(v,T)},H.getFirstFilled=function(C,T){if(Array.isArray(C))for(var v=0;v<T.length;v++){var y=C[T[v]];if(y||y===0||y==="")return y}},H.castOption=function(C,T){if(Array.isArray(C))return H.getFirstFilled(C,T);if(C)return C},H.getRotationAngle=function(a){return(a==="auto"?0:a)*Math.PI/180}},58810:function(W,H,e){W.exports={attributes:e(34e3),supplyDefaults:e(37434).supplyDefaults,supplyLayoutDefaults:e(92097),layoutAttributes:e(92774),calc:e(32354).calc,crossTraceCalc:e(32354).crossTraceCalc,plot:e(14575).plot,style:e(68357),styleOne:e(63463),moduleType:"trace",name:"pie",basePlotModule:e(13584),categories:["pie-like","pie","showLegend"],meta:{}}},92774:function(W){W.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},92097:function(W,H,e){var g=e(71828),R=e(92774);W.exports=function(C,T){function v(y,t){return g.coerce(C,T,R,y,t)}v("hiddenlabels"),v("piecolorway",T.colorway),v("extendpiecolors")}},14575:function(W,H,e){var g=e(39898),R=e(74875),a=e(30211),C=e(7901),T=e(91424),v=e(71828),y=v.strScale,t=v.strTranslate,r=e(63893),s=e(72597),n=s.recordMinTextSize,o=s.clearMinTextSize,f=e(97313).TEXTPAD,u=e(53581),m=e(20007),c=e(71828).isValidTextValue;function A(Z,K){var J=Z._context.staticPlot,re=Z._fullLayout,le=re._size;o("pie",re),S(K,Z),j(K,le);var q=v.makeTraceGroups(re._pielayer,K,"trace").each(function(ee){var ue=g.select(this),se=ee[0],he=se.trace;ne(ee),ue.attr("stroke-linejoin","round"),ue.each(function(){var me=g.select(this).selectAll("g.slice").data(ee);me.enter().append("g").classed("slice",!0),me.exit().remove();var Ce=[[[],[]],[[],[]]],Te=!1;me.each(function(ke,Ge){if(ke.hidden){g.select(this).selectAll("path,g").remove();return}ke.pointNumber=ke.i,ke.curveNumber=he.index,Ce[ke.pxmid[1]<0?0:1][ke.pxmid[0]<0?0:1].push(ke);var it=se.cx,et=se.cy,tt=g.select(this),at=tt.selectAll("path.surface").data([ke]);if(at.enter().append("path").classed("surface",!0).style({"pointer-events":J?"none":"all"}),tt.call(l,Z,ee),he.pull){var vt=+u.castOption(he.pull,ke.pts)||0;vt>0&&(it+=vt*ke.pxmid[0],et+=vt*ke.pxmid[1])}ke.cxFinal=it,ke.cyFinal=et;function yt(_e,Be,De,we){var xe=we*(Be[0]-_e[0]),Ee=we*(Be[1]-_e[1]);return"a"+we*se.r+","+we*se.r+" 0 "+ke.largeArc+(De?" 1 ":" 0 ")+xe+","+Ee}var gt=he.hole;if(ke.v===se.vTotal){var Mt="M"+(it+ke.px0[0])+","+(et+ke.px0[1])+yt(ke.px0,ke.pxmid,!0,1)+yt(ke.pxmid,ke.px0,!0,1)+"Z";gt?at.attr("d","M"+(it+gt*ke.px0[0])+","+(et+gt*ke.px0[1])+yt(ke.px0,ke.pxmid,!1,gt)+yt(ke.pxmid,ke.px0,!1,gt)+"Z"+Mt):at.attr("d",Mt)}else{var Ct=yt(ke.px0,ke.px1,!0,1);if(gt){var Vt=1-gt;at.attr("d","M"+(it+gt*ke.px1[0])+","+(et+gt*ke.px1[1])+yt(ke.px1,ke.px0,!1,gt)+"l"+Vt*ke.px0[0]+","+Vt*ke.px0[1]+Ct+"Z")}else at.attr("d","M"+it+","+et+"l"+ke.px0[0]+","+ke.px0[1]+Ct+"Z")}ce(Z,ke,se);var Je=u.castOption(he.textposition,ke.pts),ze=tt.selectAll("g.slicetext").data(ke.text&&Je!=="none"?[0]:[]);ze.enter().append("g").classed("slicetext",!0),ze.exit().remove(),ze.each(function(){var _e=v.ensureSingle(g.select(this),"text","",function($e){$e.attr("data-notex",1)}),Be=v.ensureUniformFontSize(Z,Je==="outside"?p(he,ke,re.font):M(he,ke,re.font));_e.text(ke.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(T.font,Be).call(r.convertToTspans,Z);var De=T.bBox(_e.node()),we;if(Je==="outside")we=_(De,ke);else if(we=P(De,ke,se),Je==="auto"&&we.scale<1){var xe=v.ensureUniformFontSize(Z,he.outsidetextfont);_e.call(T.font,xe),De=T.bBox(_e.node()),we=_(De,ke)}var Ee=we.textPosAngle,Pe=Ee===void 0?ke.pxmid:oe(se.r,Ee);if(we.targetX=it+Pe[0]*we.rCenter+(we.x||0),we.targetY=et+Pe[1]*we.rCenter+(we.y||0),Q(we,De),we.outside){var Ue=we.targetY;ke.yLabelMin=Ue-De.height/2,ke.yLabelMid=Ue,ke.yLabelMax=Ue+De.height/2,ke.labelExtraX=0,ke.labelExtraY=0,Te=!0}we.fontSize=Be.size,n(he.type,we,re),ee[Ge].transform=we,v.setTransormAndDisplay(_e,we)})});var Oe=g.select(this).selectAll("g.titletext").data(he.title.text?[0]:[]);if(Oe.enter().append("g").classed("titletext",!0),Oe.exit().remove(),Oe.each(function(){var ke=v.ensureSingle(g.select(this),"text","",function(et){et.attr("data-notex",1)}),Ge=he.title.text;he._meta&&(Ge=v.templateString(Ge,he._meta)),ke.text(Ge).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(T.font,he.title.font).call(r.convertToTspans,Z);var it;he.title.position==="middle center"?it=N(se):it=z(se,le),ke.attr("transform",t(it.x,it.y)+y(Math.min(1,it.scale))+t(it.tx,it.ty))}),Te&&V(Ce,he),h(me,he),Te&&he.automargin){var Ne=T.bBox(ue.node()),Le=he.domain,be=le.w*(Le.x[1]-Le.x[0]),Ae=le.h*(Le.y[1]-Le.y[0]),He=(.5*be-se.r)/le.w,Ve=(.5*Ae-se.r)/le.h;R.autoMargin(Z,"pie."+he.uid+".automargin",{xl:Le.x[0]-He,xr:Le.x[1]+He,yb:Le.y[0]-Ve,yt:Le.y[1]+Ve,l:Math.max(se.cx-se.r-Ne.left,0),r:Math.max(Ne.right-(se.cx+se.r),0),b:Math.max(Ne.bottom-(se.cy+se.r),0),t:Math.max(se.cy-se.r-Ne.top,0),pad:5})}})});setTimeout(function(){q.selectAll("tspan").each(function(){var ee=g.select(this);ee.attr("dy")&&ee.attr("dy",ee.attr("dy"))})},0)}function h(Z,K){Z.each(function(J){var re=g.select(this);if(!J.labelExtraX&&!J.labelExtraY){re.select("path.textline").remove();return}var le=re.select("g.slicetext text");J.transform.targetX+=J.labelExtraX,J.transform.targetY+=J.labelExtraY,v.setTransormAndDisplay(le,J.transform);var q=J.cxFinal+J.pxmid[0],ee=J.cyFinal+J.pxmid[1],ue="M"+q+","+ee,se=(J.yLabelMax-J.yLabelMin)*(J.pxmid[0]<0?-1:1)/4;if(J.labelExtraX){var he=J.labelExtraX*J.pxmid[1]/J.pxmid[0],me=J.yLabelMid+J.labelExtraY-(J.cyFinal+J.pxmid[1]);Math.abs(he)>Math.abs(me)?ue+="l"+me*J.pxmid[0]/J.pxmid[1]+","+me+"H"+(q+J.labelExtraX+se):ue+="l"+J.labelExtraX+","+he+"v"+(me-he)+"h"+se}else ue+="V"+(J.yLabelMid+J.labelExtraY)+"h"+se;v.ensureSingle(re,"path","textline").call(C.stroke,K.outsidetextfont.color).attr({"stroke-width":Math.min(2,K.outsidetextfont.size/8),d:ue,fill:"none"})})}function l(Z,K,J){var re=J[0],le=re.cx,q=re.cy,ee=re.trace,ue=ee.type==="funnelarea";"_hasHoverLabel"in ee||(ee._hasHoverLabel=!1),"_hasHoverEvent"in ee||(ee._hasHoverEvent=!1),Z.on("mouseover",function(se){var he=K._fullLayout,me=K._fullData[ee.index];if(!(K._dragging||he.hovermode===!1)){var Ce=me.hoverinfo;if(Array.isArray(Ce)&&(Ce=a.castHoverinfo({hoverinfo:[u.castOption(Ce,se.pts)],_module:ee._module},he,0)),Ce==="all"&&(Ce="label+text+value+percent+name"),me.hovertemplate||Ce!=="none"&&Ce!=="skip"&&Ce){var Te=se.rInscribed||0,Oe=le+se.pxmid[0]*(1-Te),Ne=q+se.pxmid[1]*(1-Te),Le=he.separators,be=[];if(Ce&&Ce.indexOf("label")!==-1&&be.push(se.label),se.text=u.castOption(me.hovertext||me.text,se.pts),Ce&&Ce.indexOf("text")!==-1){var Ae=se.text;v.isValidTextValue(Ae)&&be.push(Ae)}se.value=se.v,se.valueLabel=u.formatPieValue(se.v,Le),Ce&&Ce.indexOf("value")!==-1&&be.push(se.valueLabel),se.percent=se.v/re.vTotal,se.percentLabel=u.formatPiePercent(se.percent,Le),Ce&&Ce.indexOf("percent")!==-1&&be.push(se.percentLabel);var He=me.hoverlabel,Ve=He.font,ke=[];a.loneHover({trace:ee,x0:Oe-Te*re.r,x1:Oe+Te*re.r,y:Ne,_x0:ue?le+se.TL[0]:Oe-Te*re.r,_x1:ue?le+se.TR[0]:Oe+Te*re.r,_y0:ue?q+se.TL[1]:Ne-Te*re.r,_y1:ue?q+se.BL[1]:Ne+Te*re.r,text:be.join("<br>"),name:me.hovertemplate||Ce.indexOf("name")!==-1?me.name:void 0,idealAlign:se.pxmid[0]<0?"left":"right",color:u.castOption(He.bgcolor,se.pts)||se.color,borderColor:u.castOption(He.bordercolor,se.pts),fontFamily:u.castOption(Ve.family,se.pts),fontSize:u.castOption(Ve.size,se.pts),fontColor:u.castOption(Ve.color,se.pts),nameLength:u.castOption(He.namelength,se.pts),textAlign:u.castOption(He.align,se.pts),hovertemplate:u.castOption(me.hovertemplate,se.pts),hovertemplateLabels:se,eventData:[m(se,me)]},{container:he._hoverlayer.node(),outerContainer:he._paper.node(),gd:K,inOut_bbox:ke}),se.bbox=ke[0],ee._hasHoverLabel=!0}ee._hasHoverEvent=!0,K.emit("plotly_hover",{points:[m(se,me)],event:g.event})}}),Z.on("mouseout",function(se){var he=K._fullLayout,me=K._fullData[ee.index],Ce=g.select(this).datum();ee._hasHoverEvent&&(se.originalEvent=g.event,K.emit("plotly_unhover",{points:[m(Ce,me)],event:g.event}),ee._hasHoverEvent=!1),ee._hasHoverLabel&&(a.loneUnhover(he._hoverlayer.node()),ee._hasHoverLabel=!1)}),Z.on("click",function(se){var he=K._fullLayout,me=K._fullData[ee.index];K._dragging||he.hovermode===!1||(K._hoverdata=[m(se,me)],a.click(K,g.event))})}function p(Z,K,J){var re=u.castOption(Z.outsidetextfont.color,K.pts)||u.castOption(Z.textfont.color,K.pts)||J.color,le=u.castOption(Z.outsidetextfont.family,K.pts)||u.castOption(Z.textfont.family,K.pts)||J.family,q=u.castOption(Z.outsidetextfont.size,K.pts)||u.castOption(Z.textfont.size,K.pts)||J.size;return{color:re,family:le,size:q}}function M(Z,K,J){var re=u.castOption(Z.insidetextfont.color,K.pts);!re&&Z._input.textfont&&(re=u.castOption(Z._input.textfont.color,K.pts));var le=u.castOption(Z.insidetextfont.family,K.pts)||u.castOption(Z.textfont.family,K.pts)||J.family,q=u.castOption(Z.insidetextfont.size,K.pts)||u.castOption(Z.textfont.size,K.pts)||J.size;return{color:re||C.contrast(K.color),family:le,size:q}}function S(Z,K){for(var J,re,le=0;le<Z.length;le++)if(J=Z[le][0],re=J.trace,re.title.text){var q=re.title.text;re._meta&&(q=v.templateString(q,re._meta));var ee=T.tester.append("text").attr("data-notex",1).text(q).call(T.font,re.title.font).call(r.convertToTspans,K),ue=T.bBox(ee.node(),!0);J.titleBox={width:ue.width,height:ue.height},ee.remove()}}function P(Z,K,J){var re=J.r||K.rpx1,le=K.rInscribed,q=K.startangle===K.stopangle;if(q)return{rCenter:1-le,scale:0,rotate:0,textPosAngle:0};var ee=K.ring,ue=ee===1&&Math.abs(K.startangle-K.stopangle)===Math.PI*2,se=K.halfangle,he=K.midangle,me=J.trace.insidetextorientation,Ce=me==="horizontal",Te=me==="tangential",Oe=me==="radial",Ne=me==="auto",Le=[],be;if(!Ne){var Ae=function(tt,at){if(x(K,tt)){var vt=Math.abs(tt-K.startangle),yt=Math.abs(tt-K.stopangle),gt=vt<yt?vt:yt;at==="tan"?be=w(Z,re,ee,gt,0):be=E(Z,re,ee,gt,Math.PI/2),be.textPosAngle=tt,Le.push(be)}},He;if(Ce||Te){for(He=4;He>=-4;He-=2)Ae(Math.PI*He,"tan");for(He=4;He>=-4;He-=2)Ae(Math.PI*(He+1),"tan")}if(Ce||Oe){for(He=4;He>=-4;He-=2)Ae(Math.PI*(He+1.5),"rad");for(He=4;He>=-4;He-=2)Ae(Math.PI*(He+.5),"rad")}}if(ue||Ne||Ce){var Ve=Math.sqrt(Z.width*Z.width+Z.height*Z.height);if(be={scale:le*re*2/Ve,rCenter:1-le,rotate:0},be.textPosAngle=(K.startangle+K.stopangle)/2,be.scale>=1)return be;Le.push(be)}(Ne||Oe)&&(be=E(Z,re,ee,se,he),be.textPosAngle=(K.startangle+K.stopangle)/2,Le.push(be)),(Ne||Te)&&(be=w(Z,re,ee,se,he),be.textPosAngle=(K.startangle+K.stopangle)/2,Le.push(be));for(var ke=0,Ge=0,it=0;it<Le.length;it++){var et=Le[it].scale;if(Ge<et&&(Ge=et,ke=it),!Ne&&Ge>=1)break}return Le[ke]}function x(Z,K){var J=Z.startangle,re=Z.stopangle;return J>K&&K>re||J<K&&K<re}function E(Z,K,J,re,le){K=Math.max(0,K-2*f);var q=Z.width/Z.height,ee=b(q,re,K,J);return{scale:ee*2/Z.height,rCenter:i(q,ee/K),rotate:L(le)}}function w(Z,K,J,re,le){K=Math.max(0,K-2*f);var q=Z.height/Z.width,ee=b(q,re,K,J);return{scale:ee*2/Z.width,rCenter:i(q,ee/K),rotate:L(le+Math.PI/2)}}function i(Z,K){return Math.cos(K)-Z*K}function L(Z){return(180/Math.PI*Z+720)%180-90}function b(Z,K,J,re){var le=Z+1/(2*Math.tan(K));return J*Math.min(1/(Math.sqrt(le*le+.5)+le),re/(Math.sqrt(Z*Z+re/2)+Z))}function O(Z,K){return Z.v===K.vTotal&&!K.trace.hole?1:Math.min(1/(1+1/Math.sin(Z.halfangle)),Z.ring/2)}function _(Z,K){var J=K.pxmid[0],re=K.pxmid[1],le=Z.width/2,q=Z.height/2;return J<0&&(le*=-1),re<0&&(q*=-1),{scale:1,rCenter:1,rotate:0,x:le+Math.abs(q)*(le>0?1:-1)/2,y:q/(1+J*J/(re*re)),outside:!0}}function N(Z){var K=Math.sqrt(Z.titleBox.width*Z.titleBox.width+Z.titleBox.height*Z.titleBox.height);return{x:Z.cx,y:Z.cy,scale:Z.trace.hole*Z.r*2/K,tx:0,ty:-Z.titleBox.height/2+Z.trace.title.font.size}}function z(Z,K){var J=1,re=1,le,q=Z.trace,ee={x:Z.cx,y:Z.cy},ue={tx:0,ty:0};ue.ty+=q.title.font.size,le=F(q),q.title.position.indexOf("top")!==-1?(ee.y-=(1+le)*Z.r,ue.ty-=Z.titleBox.height):q.title.position.indexOf("bottom")!==-1&&(ee.y+=(1+le)*Z.r);var se=B(Z.r,Z.trace.aspectratio),he=K.w*(q.domain.x[1]-q.domain.x[0])/2;return q.title.position.indexOf("left")!==-1?(he=he+se,ee.x-=(1+le)*se,ue.tx+=Z.titleBox.width/2):q.title.position.indexOf("center")!==-1?he*=2:q.title.position.indexOf("right")!==-1&&(he=he+se,ee.x+=(1+le)*se,ue.tx-=Z.titleBox.width/2),J=he/Z.titleBox.width,re=U(Z,K)/Z.titleBox.height,{x:ee.x,y:ee.y,scale:Math.min(J,re),tx:ue.tx,ty:ue.ty}}function B(Z,K){return Z/(K===void 0?1:K)}function U(Z,K){var J=Z.trace,re=K.h*(J.domain.y[1]-J.domain.y[0]);return Math.min(Z.titleBox.height,re/2)}function F(Z){var K=Z.pull;if(!K)return 0;var J;if(Array.isArray(K))for(K=0,J=0;J<Z.pull.length;J++)Z.pull[J]>K&&(K=Z.pull[J]);return K}function V(Z,K){var J,re,le,q,ee,ue,se,he,me,Ce,Te,Oe,Ne;function Le(Ve,ke){return Ve.pxmid[1]-ke.pxmid[1]}function be(Ve,ke){return ke.pxmid[1]-Ve.pxmid[1]}function Ae(Ve,ke){ke||(ke={});var Ge=ke.labelExtraY+(re?ke.yLabelMax:ke.yLabelMin),it=re?Ve.yLabelMin:Ve.yLabelMax,et=re?Ve.yLabelMax:Ve.yLabelMin,tt=Ve.cyFinal+ee(Ve.px0[1],Ve.px1[1]),at=Ge-it,vt,yt,gt,Mt,Ct,Vt;if(at*se>0&&(Ve.labelExtraY=at),!!Array.isArray(K.pull))for(yt=0;yt<Ce.length;yt++)gt=Ce[yt],!(gt===Ve||(u.castOption(K.pull,Ve.pts)||0)>=(u.castOption(K.pull,gt.pts)||0))&&((Ve.pxmid[1]-gt.pxmid[1])*se>0?(Mt=gt.cyFinal+ee(gt.px0[1],gt.px1[1]),at=Mt-it-Ve.labelExtraY,at*se>0&&(Ve.labelExtraY+=at)):(et+Ve.labelExtraY-tt)*se>0&&(vt=3*ue*Math.abs(yt-Ce.indexOf(Ve)),Ct=gt.cxFinal+q(gt.px0[0],gt.px1[0]),Vt=Ct+vt-(Ve.cxFinal+Ve.pxmid[0])-Ve.labelExtraX,Vt*ue>0&&(Ve.labelExtraX+=Vt)))}for(re=0;re<2;re++)for(le=re?Le:be,ee=re?Math.max:Math.min,se=re?1:-1,J=0;J<2;J++){for(q=J?Math.max:Math.min,ue=J?1:-1,he=Z[re][J],he.sort(le),me=Z[1-re][J],Ce=me.concat(he),Oe=[],Te=0;Te<he.length;Te++)he[Te].yLabelMid!==void 0&&Oe.push(he[Te]);for(Ne=!1,Te=0;re&&Te<me.length;Te++)if(me[Te].yLabelMid!==void 0){Ne=me[Te];break}for(Te=0;Te<Oe.length;Te++){var He=Te&&Oe[Te-1];Ne&&!Te&&(He=Ne),Ae(Oe[Te],He)}}}function j(Z,K){for(var J=[],re=0;re<Z.length;re++){var le=Z[re][0],q=le.trace,ee=q.domain,ue=K.w*(ee.x[1]-ee.x[0]),se=K.h*(ee.y[1]-ee.y[0]);q.title.text&&q.title.position!=="middle center"&&(se-=U(le,K));var he=ue/2,me=se/2;q.type==="funnelarea"&&!q.scalegroup&&(me/=q.aspectratio),le.r=Math.min(he,me)/(1+F(q)),le.cx=K.l+K.w*(q.domain.x[1]+q.domain.x[0])/2,le.cy=K.t+K.h*(1-q.domain.y[0])-se/2,q.title.text&&q.title.position.indexOf("bottom")!==-1&&(le.cy-=U(le,K)),q.scalegroup&&J.indexOf(q.scalegroup)===-1&&J.push(q.scalegroup)}$(Z,J)}function $(Z,K){for(var J,re,le,q=0;q<K.length;q++){var ee=1/0,ue=K[q];for(re=0;re<Z.length;re++)if(J=Z[re][0],le=J.trace,le.scalegroup===ue){var se;if(le.type==="pie")se=J.r*J.r;else if(le.type==="funnelarea"){var he,me;le.aspectratio>1?(he=J.r,me=he/le.aspectratio):(me=J.r,he=me*le.aspectratio),he*=(1+le.baseratio)/2,se=he*me}ee=Math.min(ee,se/J.vTotal)}for(re=0;re<Z.length;re++)if(J=Z[re][0],le=J.trace,le.scalegroup===ue){var Ce=ee*J.vTotal;le.type==="funnelarea"&&(Ce/=(1+le.baseratio)/2,Ce/=le.aspectratio),J.r=Math.sqrt(Ce)}}}function ne(Z){var K=Z[0],J=K.r,re=K.trace,le=u.getRotationAngle(re.rotation),q=2*Math.PI/K.vTotal,ee="px0",ue="px1",se,he,me;if(re.direction==="counterclockwise"){for(se=0;se<Z.length&&Z[se].hidden;se++);if(se===Z.length)return;le+=q*Z[se].v,q*=-1,ee="px1",ue="px0"}for(me=oe(J,le),se=0;se<Z.length;se++)he=Z[se],!he.hidden&&(he[ee]=me,he.startangle=le,le+=q*he.v/2,he.pxmid=oe(J,le),he.midangle=le,le+=q*he.v/2,me=oe(J,le),he.stopangle=le,he[ue]=me,he.largeArc=he.v>K.vTotal/2?1:0,he.halfangle=Math.PI*Math.min(he.v/K.vTotal,.5),he.ring=1-re.hole,he.rInscribed=O(he,K))}function oe(Z,K){return[Z*Math.sin(K),-Z*Math.cos(K)]}function ce(Z,K,J){var re=Z._fullLayout,le=J.trace,q=le.texttemplate,ee=le.textinfo;if(!q&&ee&&ee!=="none"){var ue=ee.split("+"),se=function(ke){return ue.indexOf(ke)!==-1},he=se("label"),me=se("text"),Ce=se("value"),Te=se("percent"),Oe=re.separators,Ne;if(Ne=he?[K.label]:[],me){var Le=u.getFirstFilled(le.text,K.pts);c(Le)&&Ne.push(Le)}Ce&&Ne.push(u.formatPieValue(K.v,Oe)),Te&&Ne.push(u.formatPiePercent(K.v/J.vTotal,Oe)),K.text=Ne.join("<br>")}function be(ke){return{label:ke.label,value:ke.v,valueLabel:u.formatPieValue(ke.v,re.separators),percent:ke.v/J.vTotal,percentLabel:u.formatPiePercent(ke.v/J.vTotal,re.separators),color:ke.color,text:ke.text,customdata:v.castOption(le,ke.i,"customdata")}}if(q){var Ae=v.castOption(le,K.i,"texttemplate");if(!Ae)K.text="";else{var He=be(K),Ve=u.getFirstFilled(le.text,K.pts);(c(Ve)||Ve==="")&&(He.text=Ve),K.text=v.texttemplateString(Ae,He,Z._fullLayout._d3locale,He,le._meta||{})}}}function Q(Z,K){var J=Z.rotate*Math.PI/180,re=Math.cos(J),le=Math.sin(J),q=(K.left+K.right)/2,ee=(K.top+K.bottom)/2;Z.textX=q*re-ee*le,Z.textY=q*le+ee*re,Z.noCenter=!0}W.exports={plot:A,formatSliceLabel:ce,transformInsideText:P,determineInsideTextFont:M,positionTitleOutside:z,prerenderTitles:S,layoutAreas:j,attachFxHandlers:l,computeTransform:Q}},68357:function(W,H,e){var g=e(39898),R=e(63463),a=e(72597).resizeText;W.exports=function(T){var v=T._fullLayout._pielayer.selectAll(".trace");a(T,v,"pie"),v.each(function(y){var t=y[0],r=t.trace,s=g.select(this);s.style({opacity:r.opacity}),s.selectAll("path.surface").each(function(n){g.select(this).call(R,n,r,T)})})}},63463:function(W,H,e){var g=e(7901),R=e(53581).castOption,a=e(22209);W.exports=function(T,v,y,t){var r=y.marker.line,s=R(r.color,v.pts)||g.defaultLine,n=R(r.width,v.pts)||0;T.call(a,v,y,t).style("stroke-width",n).call(g.stroke,s)}},10959:function(W,H,e){var g=e(82196);W.exports={x:g.x,y:g.y,xy:{valType:"data_array",editType:"calc"},indices:{valType:"data_array",editType:"calc"},xbounds:{valType:"data_array",editType:"calc"},ybounds:{valType:"data_array",editType:"calc"},text:g.text,marker:{color:{valType:"color",arrayOk:!1,editType:"calc"},opacity:{valType:"number",min:0,max:1,dflt:1,arrayOk:!1,editType:"calc"},blend:{valType:"boolean",dflt:null,editType:"calc"},sizemin:{valType:"number",min:.1,max:2,dflt:.5,editType:"calc"},sizemax:{valType:"number",min:.1,dflt:20,editType:"calc"},border:{color:{valType:"color",arrayOk:!1,editType:"calc"},arearatio:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},editType:"calc"},editType:"calc"},transforms:void 0}},42743:function(W,H,e){var g=e(9330).gl_pointcloud2d,R=e(78614),a=e(71739).findExtremes,C=e(34603);function T(t,r){this.scene=t,this.uid=r,this.type="pointcloud",this.pickXData=[],this.pickYData=[],this.xData=[],this.yData=[],this.textLabels=[],this.color="rgb(0, 0, 0)",this.name="",this.hoverinfo="all",this.idToIndex=new Int32Array(0),this.bounds=[0,0,0,0],this.pointcloudOptions={positions:new Float32Array(0),idToIndex:this.idToIndex,sizemin:.5,sizemax:12,color:[0,0,0,1],areaRatio:1,borderColor:[0,0,0,1]},this.pointcloud=g(t.glplot,this.pointcloudOptions),this.pointcloud._trace=this}var v=T.prototype;v.handlePick=function(t){var r=this.idToIndex[t.pointId];return{trace:this,dataCoord:t.dataCoord,traceCoord:this.pickXYData?[this.pickXYData[r*2],this.pickXYData[r*2+1]]:[this.pickXData[r],this.pickYData[r]],textLabel:Array.isArray(this.textLabels)?this.textLabels[r]:this.textLabels,color:this.color,name:this.name,pointIndex:r,hoverinfo:this.hoverinfo}},v.update=function(t){this.index=t.index,this.textLabels=t.text,this.name=t.name,this.hoverinfo=t.hoverinfo,this.bounds=[1/0,1/0,-1/0,-1/0],this.updateFast(t),this.color=C(t,{})},v.updateFast=function(t){var r=this.xData=this.pickXData=t.x,s=this.yData=this.pickYData=t.y,n=this.pickXYData=t.xy,o=t.xbounds&&t.ybounds,f=t.indices,u,m,c,A=this.bounds,h,l,p;if(n){if(c=n,u=n.length>>>1,o)A[0]=t.xbounds[0],A[2]=t.xbounds[1],A[1]=t.ybounds[0],A[3]=t.ybounds[1];else for(p=0;p<u;p++)h=c[p*2],l=c[p*2+1],h<A[0]&&(A[0]=h),h>A[2]&&(A[2]=h),l<A[1]&&(A[1]=l),l>A[3]&&(A[3]=l);if(f)m=f;else for(m=new Int32Array(u),p=0;p<u;p++)m[p]=p}else for(u=r.length,c=new Float32Array(2*u),m=new Int32Array(u),p=0;p<u;p++)h=r[p],l=s[p],m[p]=p,c[p*2]=h,c[p*2+1]=l,h<A[0]&&(A[0]=h),h>A[2]&&(A[2]=h),l<A[1]&&(A[1]=l),l>A[3]&&(A[3]=l);this.idToIndex=m,this.pointcloudOptions.idToIndex=m,this.pointcloudOptions.positions=c;var M=R(t.marker.color),S=R(t.marker.border.color),P=t.opacity*t.marker.opacity;M[3]*=P,this.pointcloudOptions.color=M;var x=t.marker.blend;if(x===null){var E=100;x=r.length<E||s.length<E}this.pointcloudOptions.blend=x,S[3]*=P,this.pointcloudOptions.borderColor=S;var w=t.marker.sizemin,i=Math.max(t.marker.sizemax,t.marker.sizemin);this.pointcloudOptions.sizeMin=w,this.pointcloudOptions.sizeMax=i,this.pointcloudOptions.areaRatio=t.marker.border.arearatio,this.pointcloud.update(this.pointcloudOptions);var L=this.scene.xaxis,b=this.scene.yaxis,O=i/2||.5;t._extremes[L._id]=a(L,[A[0],A[2]],{ppad:O}),t._extremes[b._id]=a(b,[A[1],A[3]],{ppad:O})},v.dispose=function(){this.pointcloud.dispose()};function y(t,r){var s=new T(t,r.uid);return s.update(r),s}W.exports=y},33876:function(W,H,e){var g=e(71828),R=e(10959);W.exports=function(C,T,v){function y(t,r){return g.coerce(C,T,R,t,r)}y("x"),y("y"),y("xbounds"),y("ybounds"),C.xy&&C.xy instanceof Float32Array&&(T.xy=C.xy),C.indices&&C.indices instanceof Int32Array&&(T.indices=C.indices),y("text"),y("marker.color",v),y("marker.opacity"),y("marker.blend"),y("marker.sizemin"),y("marker.sizemax"),y("marker.border.color",v),y("marker.border.arearatio"),T._length=null}},20593:function(W,H,e){W.exports={attributes:e(10959),supplyDefaults:e(33876),calc:e(36563),plot:e(42743),moduleType:"trace",name:"pointcloud",basePlotModule:e(4796),categories:["gl","gl2d","showLegend"],meta:{}}},39953:function(W,H,e){var g=e(41940),R=e(9012),a=e(22399),C=e(77914),T=e(27670).Y,v=e(5386).fF,y=e(50693),t=e(44467).templatedArray,r=e(12663).descriptionOnlyNumbers,s=e(1426).extendFlat,n=e(30962).overrideAll,o=W.exports=n({hoverinfo:s({},R.hoverinfo,{flags:[],arrayOk:!1}),hoverlabel:C.hoverlabel,domain:T({name:"sankey",trace:!0}),orientation:{valType:"enumerated",values:["v","h"],dflt:"h"},valueformat:{valType:"string",dflt:".3s",description:r("value")},valuesuffix:{valType:"string",dflt:""},arrangement:{valType:"enumerated",values:["snap","perpendicular","freeform","fixed"],dflt:"snap"},textfont:g({}),customdata:void 0,node:{label:{valType:"data_array",dflt:[]},groups:{valType:"info_array",impliedEdits:{x:[],y:[]},dimensions:2,freeLength:!0,dflt:[],items:{valType:"number",editType:"calc"}},x:{valType:"data_array",dflt:[]},y:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:a.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:.5,arrayOk:!0}},pad:{valType:"number",arrayOk:!1,min:0,dflt:20},thickness:{valType:"number",arrayOk:!1,min:1,dflt:20},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:C.hoverlabel,hovertemplate:v({},{keys:["value","label"]})},link:{arrowlen:{valType:"number",min:0,dflt:0},label:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:a.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:0,arrayOk:!0}},source:{valType:"data_array",dflt:[]},target:{valType:"data_array",dflt:[]},value:{valType:"data_array",dflt:[]},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:C.hoverlabel,hovertemplate:v({},{keys:["value","label"]}),colorscales:t("concentrationscales",{editType:"calc",label:{valType:"string",editType:"calc",dflt:""},cmax:{valType:"number",editType:"calc",dflt:1},cmin:{valType:"number",editType:"calc",dflt:0},colorscale:s(y().colorscale,{dflt:[[0,"white"],[1,"black"]]})})}},"calc","nested");o.transforms=void 0},75536:function(W,H,e){var g=e(30962).overrideAll,R=e(27659).a0,a=e(60436),C=e(528),T=e(6964),v=e(28569),y=e(47322).prepSelect,t=e(71828),r=e(73972),s="sankey";H.name=s,H.baseLayoutAttrOverrides=g({hoverlabel:C.hoverlabel},"plot","nested"),H.plot=function(o){var f=R(o.calcdata,s)[0];a(o,f),H.updateFx(o)},H.clean=function(o,f,u,m){var c=m._has&&m._has(s),A=f._has&&f._has(s);c&&!A&&(m._paperdiv.selectAll(".sankey").remove(),m._paperdiv.selectAll(".bgsankey").remove())},H.updateFx=function(o){for(var f=0;f<o._fullData.length;f++)n(o,f)};function n(o,f){var u=o._fullData[f],m=o._fullLayout,c=m.dragmode,A=m.dragmode==="pan"?"move":"crosshair",h=u._bgRect;if(h&&!(c==="pan"||c==="zoom")){T(h,A);var l={_id:"x",c2p:t.identity,_offset:u._sankey.translateX,_length:u._sankey.width},p={_id:"y",c2p:t.identity,_offset:u._sankey.translateY,_length:u._sankey.height},M={gd:o,element:h.node(),plotinfo:{id:f,xaxis:l,yaxis:p,fillRangeItems:t.noop},subplot:f,xaxes:[l],yaxes:[p],doneFnCompleted:function(S){var P=o._fullData[f],x,E=P.node.groups.slice(),w=[];function i(_){for(var N=P._sankey.graph.nodes,z=0;z<N.length;z++)if(N[z].pointNumber===_)return N[z]}for(var L=0;L<S.length;L++){var b=i(S[L].pointNumber);if(b)if(b.group){for(var O=0;O<b.childrenNodes.length;O++)w.push(b.childrenNodes[O].pointNumber);E[b.pointNumber-P.node._count]=!1}else w.push(b.pointNumber)}x=E.filter(Boolean).concat([w]),r.call("_guiRestyle",o,{"node.groups":[x]},f)}};M.prepFn=function(S,P,x){y(S,P,x,M,c)},v.init(M)}}},92930:function(W,H,e){var g=e(68664),R=e(71828),a=e(28984).wrap,C=R.isArrayOrTypedArray,T=R.isIndex,v=e(21081);function y(r){var s=r.node,n=r.link,o=[],f=C(n.color),u=C(n.customdata),m={},c={},A=n.colorscales.length,h;for(h=0;h<A;h++){var l=n.colorscales[h],p=v.extractScale(l,{cLetter:"c"}),M=v.makeColorScaleFunc(p);c[l.label]=M}var S=0;for(h=0;h<n.value.length;h++)n.source[h]>S&&(S=n.source[h]),n.target[h]>S&&(S=n.target[h]);var P=S+1;r.node._count=P;var x,E=r.node.groups,w={};for(h=0;h<E.length;h++){var i=E[h];for(x=0;x<i.length;x++){var L=i[x],b=P+h;w.hasOwnProperty(L)?R.warn("Node "+L+" is already part of a group."):w[L]=b}}var O={source:[],target:[]};for(h=0;h<n.value.length;h++){var _=n.value[h],N=n.source[h],z=n.target[h];if(_>0&&T(N,P)&&T(z,P)&&!(w.hasOwnProperty(N)&&w.hasOwnProperty(z)&&w[N]===w[z])){w.hasOwnProperty(z)&&(z=w[z]),w.hasOwnProperty(N)&&(N=w[N]),N=+N,z=+z,m[N]=m[z]=!0;var B="";n.label&&n.label[h]&&(B=n.label[h]);var U=null;B&&c.hasOwnProperty(B)&&(U=c[B]),o.push({pointNumber:h,label:B,color:f?n.color[h]:n.color,customdata:u?n.customdata[h]:n.customdata,concentrationscale:U,source:N,target:z,value:+_}),O.source.push(N),O.target.push(z)}}var F=P+E.length,V=C(s.color),j=C(s.customdata),$=[];for(h=0;h<F;h++)if(m[h]){var ne=s.label[h];$.push({group:h>P-1,childrenNodes:[],pointNumber:h,label:ne,color:V?s.color[h]:s.color,customdata:j?s.customdata[h]:s.customdata})}var oe=!1;return t(F,O.source,O.target)&&(oe=!0),{circular:oe,links:o,nodes:$,groups:E,groupLookup:w}}function t(r,s,n){for(var o=R.init2dArray(r,0),f=0;f<Math.min(s.length,n.length);f++)if(R.isIndex(s[f],r)&&R.isIndex(n[f],r)){if(s[f]===n[f])return!0;o[s[f]].push(n[f])}var u=g(o);return u.components.some(function(m){return m.length>1})}W.exports=function(s,n){var o=y(n);return a({circular:o.circular,_nodes:o.nodes,_links:o.links,_groups:o.groups,_groupLookup:o.groupLookup})}},85247:function(W){W.exports={nodeTextOffsetHorizontal:4,nodeTextOffsetVertical:3,nodePadAcross:10,sankeyIterations:50,forceIterations:5,forceTicksPerFrame:10,duration:500,ease:"linear",cn:{sankey:"sankey",sankeyLinks:"sankey-links",sankeyLink:"sankey-link",sankeyNodeSet:"sankey-node-set",sankeyNode:"sankey-node",nodeRect:"node-rect",nodeLabel:"node-label"}}},26857:function(W,H,e){var g=e(71828),R=e(39953),a=e(7901),C=e(84267),T=e(27670).c,v=e(38048),y=e(44467),t=e(85501);W.exports=function(n,o,f,u){function m(i,L){return g.coerce(n,o,R,i,L)}var c=g.extendDeep(u.hoverlabel,n.hoverlabel),A=n.node,h=y.newContainer(o,"node");function l(i,L){return g.coerce(A,h,R.node,i,L)}l("label"),l("groups"),l("x"),l("y"),l("pad"),l("thickness"),l("line.color"),l("line.width"),l("hoverinfo",n.hoverinfo),v(A,h,l,c),l("hovertemplate");var p=u.colorway,M=function(i){return p[i%p.length]};l("color",h.label.map(function(i,L){return a.addOpacity(M(L),.8)})),l("customdata");var S=n.link||{},P=y.newContainer(o,"link");function x(i,L){return g.coerce(S,P,R.link,i,L)}x("label"),x("arrowlen"),x("source"),x("target"),x("value"),x("line.color"),x("line.width"),x("hoverinfo",n.hoverinfo),v(S,P,x,c),x("hovertemplate");var E=C(u.paper_bgcolor).getLuminance()<.333?"rgba(255, 255, 255, 0.6)":"rgba(0, 0, 0, 0.2)";x("color",g.repeat(E,P.value.length)),x("customdata"),t(S,P,{name:"colorscales",handleItemDefaults:r}),T(o,u,m),m("orientation"),m("valueformat"),m("valuesuffix");var w;h.x.length&&h.y.length&&(w="freeform"),m("arrangement",w),g.coerceFont(m,"textfont",g.extendFlat({},u.font)),o._length=null};function r(s,n){function o(f,u){return g.coerce(s,n,R.link.colorscales,f,u)}o("label"),o("cmin"),o("cmax"),o("colorscale")}},29396:function(W,H,e){W.exports={attributes:e(39953),supplyDefaults:e(26857),calc:e(92930),plot:e(60436),moduleType:"trace",name:"sankey",basePlotModule:e(75536),selectPoints:e(84564),categories:["noOpacity"],meta:{}}},60436:function(W,H,e){var g=e(39898),R=e(71828),a=R.numberFormat,C=e(3393),T=e(30211),v=e(7901),y=e(85247).cn,t=R._;function r(p){return p!==""}function s(p,M){return p.filter(function(S){return S.key===M.traceId})}function n(p,M){g.select(p).select("path").style("fill-opacity",M),g.select(p).select("rect").style("fill-opacity",M)}function o(p){g.select(p).select("text.name").style("fill","black")}function f(p){return function(M){return p.node.sourceLinks.indexOf(M.link)!==-1||p.node.targetLinks.indexOf(M.link)!==-1}}function u(p){return function(M){return M.node.sourceLinks.indexOf(p.link)!==-1||M.node.targetLinks.indexOf(p.link)!==-1}}function m(p,M,S){M&&S&&s(S,M).selectAll("."+y.sankeyLink).filter(f(M)).call(A.bind(0,M,S,!1))}function c(p,M,S){M&&S&&s(S,M).selectAll("."+y.sankeyLink).filter(f(M)).call(h.bind(0,M,S,!1))}function A(p,M,S,P){var x=P.datum().link.label;P.style("fill-opacity",function(E){if(!E.link.concentrationscale)return .4}),x&&s(M,p).selectAll("."+y.sankeyLink).filter(function(E){return E.link.label===x}).style("fill-opacity",function(E){if(!E.link.concentrationscale)return .4}),S&&s(M,p).selectAll("."+y.sankeyNode).filter(u(p)).call(m)}function h(p,M,S,P){var x=P.datum().link.label;P.style("fill-opacity",function(E){return E.tinyColorAlpha}),x&&s(M,p).selectAll("."+y.sankeyLink).filter(function(E){return E.link.label===x}).style("fill-opacity",function(E){return E.tinyColorAlpha}),S&&s(M,p).selectAll(y.sankeyNode).filter(u(p)).call(c)}function l(p,M){var S=p.hoverlabel||{},P=R.nestedProperty(S,M).get();return Array.isArray(P)?!1:P}W.exports=function(M,S){for(var P=M._fullLayout,x=P._paper,E=P._size,w=0;w<M._fullData.length;w++)if(M._fullData[w].visible&&M._fullData[w].type===y.sankey&&!M._fullData[w]._viewInitial){var i=M._fullData[w].node;M._fullData[w]._viewInitial={node:{groups:i.groups.slice(),x:i.x.slice(),y:i.y.slice()}}}var L=function(oe,ce){var Q=ce.link;Q.originalEvent=g.event,M._hoverdata=[Q],T.click(M,{target:!0})},b=function(oe,ce,Q){M._fullLayout.hovermode!==!1&&(g.select(oe).call(A.bind(0,ce,Q,!0)),ce.link.trace.link.hoverinfo!=="skip"&&(ce.link.fullData=ce.link.trace,M.emit("plotly_hover",{event:g.event,points:[ce.link]})))},O=t(M,"source:")+" ",_=t(M,"target:")+" ",N=t(M,"concentration:")+" ",z=t(M,"incoming flow count:")+" ",B=t(M,"outgoing flow count:")+" ",U=function(oe,ce){if(M._fullLayout.hovermode===!1)return;var Q=ce.link.trace.link;if(Q.hoverinfo==="none"||Q.hoverinfo==="skip")return;var Z=[];function K(se){var he,me;se.circular?(he=(se.circularPathData.leftInnerExtent+se.circularPathData.rightInnerExtent)/2,me=se.circularPathData.verticalFullExtent):(he=(se.source.x1+se.target.x0)/2,me=(se.y0+se.y1)/2);var Ce=[he,me];return se.trace.orientation==="v"&&Ce.reverse(),Ce[0]+=ce.parent.translateX,Ce[1]+=ce.parent.translateY,Ce}for(var J=0,re=0;re<ce.flow.links.length;re++){var le=ce.flow.links[re];if(!(M._fullLayout.hovermode==="closest"&&ce.link.pointNumber!==le.pointNumber)){ce.link.pointNumber===le.pointNumber&&(J=re),le.fullData=le.trace,Q=ce.link.trace.link;var q=K(le),ee={valueLabel:a(ce.valueFormat)(le.value)+ce.valueSuffix};Z.push({x:q[0],y:q[1],name:ee.valueLabel,text:[le.label||"",O+le.source.label,_+le.target.label,le.concentrationscale?N+a("%0.2f")(le.flow.labelConcentration):""].filter(r).join("<br>"),color:l(Q,"bgcolor")||v.addOpacity(le.color,1),borderColor:l(Q,"bordercolor"),fontFamily:l(Q,"font.family"),fontSize:l(Q,"font.size"),fontColor:l(Q,"font.color"),nameLength:l(Q,"namelength"),textAlign:l(Q,"align"),idealAlign:g.event.x<q[0]?"right":"left",hovertemplate:Q.hovertemplate,hovertemplateLabels:ee,eventData:[le]})}}var ue=T.loneHover(Z,{container:P._hoverlayer.node(),outerContainer:P._paper.node(),gd:M,anchorIndex:J});ue.each(function(){var se=this;ce.link.concentrationscale||n(se,.65),o(se)})},F=function(oe,ce,Q){M._fullLayout.hovermode!==!1&&(g.select(oe).call(h.bind(0,ce,Q,!0)),ce.link.trace.link.hoverinfo!=="skip"&&(ce.link.fullData=ce.link.trace,M.emit("plotly_unhover",{event:g.event,points:[ce.link]})),T.loneUnhover(P._hoverlayer.node()))},V=function(oe,ce,Q){var Z=ce.node;Z.originalEvent=g.event,M._hoverdata=[Z],g.select(oe).call(c,ce,Q),T.click(M,{target:!0})},j=function(oe,ce,Q){M._fullLayout.hovermode!==!1&&(g.select(oe).call(m,ce,Q),ce.node.trace.node.hoverinfo!=="skip"&&(ce.node.fullData=ce.node.trace,M.emit("plotly_hover",{event:g.event,points:[ce.node]})))},$=function(oe,ce){if(M._fullLayout.hovermode!==!1){var Q=ce.node.trace.node;if(!(Q.hoverinfo==="none"||Q.hoverinfo==="skip")){var Z=g.select(oe).select("."+y.nodeRect),K=M._fullLayout._paperdiv.node().getBoundingClientRect(),J=Z.node().getBoundingClientRect(),re=J.left-2-K.left,le=J.right+2-K.left,q=J.top+J.height/4-K.top,ee={valueLabel:a(ce.valueFormat)(ce.node.value)+ce.valueSuffix};ce.node.fullData=ce.node.trace,M._fullLayout._calcInverseTransform(M);var ue=M._fullLayout._invScaleX,se=M._fullLayout._invScaleY,he=T.loneHover({x0:ue*re,x1:ue*le,y:se*q,name:a(ce.valueFormat)(ce.node.value)+ce.valueSuffix,text:[ce.node.label,z+ce.node.targetLinks.length,B+ce.node.sourceLinks.length].filter(r).join("<br>"),color:l(Q,"bgcolor")||ce.tinyColorHue,borderColor:l(Q,"bordercolor"),fontFamily:l(Q,"font.family"),fontSize:l(Q,"font.size"),fontColor:l(Q,"font.color"),nameLength:l(Q,"namelength"),textAlign:l(Q,"align"),idealAlign:"left",hovertemplate:Q.hovertemplate,hovertemplateLabels:ee,eventData:[ce.node]},{container:P._hoverlayer.node(),outerContainer:P._paper.node(),gd:M});n(he,.85),o(he)}}},ne=function(oe,ce,Q){M._fullLayout.hovermode!==!1&&(g.select(oe).call(c,ce,Q),ce.node.trace.node.hoverinfo!=="skip"&&(ce.node.fullData=ce.node.trace,M.emit("plotly_unhover",{event:g.event,points:[ce.node]})),T.loneUnhover(P._hoverlayer.node()))};C(M,x,S,{width:E.w,height:E.h,margin:{t:E.t,r:E.r,b:E.b,l:E.l}},{linkEvents:{hover:b,follow:U,unhover:F,select:L},nodeEvents:{hover:j,follow:$,unhover:ne,select:V}})}},3393:function(W,H,e){var g=e(49887),R=e(81684).k4,a=e(39898),C=e(30838),T=e(86781),v=e(85247),y=e(84267),t=e(7901),r=e(91424),s=e(71828),n=s.strTranslate,o=s.strRotate,f=e(28984),u=f.keyFun,m=f.repeat,c=f.unwrap,A=e(63893),h=e(73972),l=e(18783),p=l.CAP_SHIFT,M=l.LINE_SPACING,S=3;function P(K,J,re){var le=c(J),q=le.trace,ee=q.domain,ue=q.orientation==="h",se=q.node.pad,he=q.node.thickness,me=K.width*(ee.x[1]-ee.x[0]),Ce=K.height*(ee.y[1]-ee.y[0]),Te=le._nodes,Oe=le._links,Ne=le.circular,Le;Ne?Le=T.sankeyCircular().circularLinkGap(0):Le=C.sankey(),Le.iterations(v.sankeyIterations).size(ue?[me,Ce]:[Ce,me]).nodeWidth(he).nodePadding(se).nodeId(function(Ct){return Ct.pointNumber}).nodes(Te).links(Oe);var be=Le();Le.nodePadding()<se&&s.warn("node.pad was reduced to ",Le.nodePadding()," to fit within the figure.");var Ae,He,Ve;for(var ke in le._groupLookup){var Ge=parseInt(le._groupLookup[ke]),it;for(Ae=0;Ae<be.nodes.length;Ae++)if(be.nodes[Ae].pointNumber===Ge){it=be.nodes[Ae];break}if(it){var et={pointNumber:parseInt(ke),x0:it.x0,x1:it.x1,y0:it.y0,y1:it.y1,partOfGroup:!0,sourceLinks:[],targetLinks:[]};be.nodes.unshift(et),it.childrenNodes.unshift(et)}}function tt(){for(Ae=0;Ae<be.nodes.length;Ae++){var Ct=be.nodes[Ae],Vt={},Je,ze;for(He=0;He<Ct.targetLinks.length;He++)ze=Ct.targetLinks[He],Je=ze.source.pointNumber+":"+ze.target.pointNumber,Vt.hasOwnProperty(Je)||(Vt[Je]=[]),Vt[Je].push(ze);var _e=Object.keys(Vt);for(He=0;He<_e.length;He++){Je=_e[He];var Be=Vt[Je],De=0,we={};for(Ve=0;Ve<Be.length;Ve++)ze=Be[Ve],we[ze.label]||(we[ze.label]=0),we[ze.label]+=ze.value,De+=ze.value;for(Ve=0;Ve<Be.length;Ve++)ze=Be[Ve],ze.flow={value:De,labelConcentration:we[ze.label]/De,concentration:ze.value/De,links:Be},ze.concentrationscale&&(ze.color=y(ze.concentrationscale(ze.flow.labelConcentration)))}var xe=0;for(He=0;He<Ct.sourceLinks.length;He++)xe+=Ct.sourceLinks[He].value;for(He=0;He<Ct.sourceLinks.length;He++)ze=Ct.sourceLinks[He],ze.concentrationOut=ze.value/xe;var Ee=0;for(He=0;He<Ct.targetLinks.length;He++)Ee+=Ct.targetLinks[He].value;for(He=0;He<Ct.targetLinks.length;He++)ze=Ct.targetLinks[He],ze.concenrationIn=ze.value/Ee}}tt();function at(Ct){Ct.forEach(function(Vt){var Je,ze,_e=0,Be=Vt.length,De;for(Vt.sort(function(we,xe){return we.y0-xe.y0}),De=0;De<Be;++De)Je=Vt[De],Je.y0>=_e||(ze=_e-Je.y0,ze>1e-6&&(Je.y0+=ze,Je.y1+=ze)),_e=Je.y1+se})}function vt(Ct){var Vt=Ct.map(function(xe,Ee){return{x0:xe.x0,index:Ee}}).sort(function(xe,Ee){return xe.x0-Ee.x0}),Je=[],ze=-1,_e,Be=-1/0,De;for(Ae=0;Ae<Vt.length;Ae++){var we=Ct[Vt[Ae].index];we.x0>Be+he&&(ze+=1,_e=we.x0),Be=we.x0,Je[ze]||(Je[ze]=[]),Je[ze].push(we),De=_e-we.x0,we.x0+=De,we.x1+=De}return Je}if(q.node.x.length&&q.node.y.length){for(Ae=0;Ae<Math.min(q.node.x.length,q.node.y.length,be.nodes.length);Ae++)if(q.node.x[Ae]&&q.node.y[Ae]){var yt=[q.node.x[Ae]*me,q.node.y[Ae]*Ce];be.nodes[Ae].x0=yt[0]-he/2,be.nodes[Ae].x1=yt[0]+he/2;var gt=be.nodes[Ae].y1-be.nodes[Ae].y0;be.nodes[Ae].y0=yt[1]-gt/2,be.nodes[Ae].y1=yt[1]+gt/2}if(q.arrangement==="snap"){Te=be.nodes;var Mt=vt(Te);at(Mt)}Le.update(be)}return{circular:Ne,key:re,trace:q,guid:s.randstr(),horizontal:ue,width:me,height:Ce,nodePad:q.node.pad,nodeLineColor:q.node.line.color,nodeLineWidth:q.node.line.width,linkLineColor:q.link.line.color,linkLineWidth:q.link.line.width,linkArrowLength:q.link.arrowlen,valueFormat:q.valueformat,valueSuffix:q.valuesuffix,textFont:q.textfont,translateX:ee.x[0]*K.width+K.margin.l,translateY:K.height-ee.y[1]*K.height+K.margin.t,dragParallel:ue?Ce:me,dragPerpendicular:ue?me:Ce,arrangement:q.arrangement,sankey:Le,graph:be,forceLayouts:{},interactionState:{dragInProgress:!1,hovered:!1}}}function x(K,J,re){var le=y(J.color),q=J.source.label+"|"+J.target.label,ee=q+"__"+re;return J.trace=K.trace,J.curveNumber=K.trace.index,{circular:K.circular,key:ee,traceId:K.key,pointNumber:J.pointNumber,link:J,tinyColorHue:t.tinyRGB(le),tinyColorAlpha:le.getAlpha(),linkPath:w,linkLineColor:K.linkLineColor,linkLineWidth:K.linkLineWidth,linkArrowLength:K.linkArrowLength,valueFormat:K.valueFormat,valueSuffix:K.valueSuffix,sankey:K.sankey,parent:K,interactionState:K.interactionState,flow:J.flow}}function E(K,J){var re="",le=K.width/2,q=K.circularPathData;return K.circularLinkType==="top"?re="M "+(q.targetX-J)+" "+(q.targetY+le)+" L"+(q.rightInnerExtent-J)+" "+(q.targetY+le)+"A"+(q.rightLargeArcRadius+le)+" "+(q.rightSmallArcRadius+le)+" 0 0 1 "+(q.rightFullExtent-le-J)+" "+(q.targetY-q.rightSmallArcRadius)+"L"+(q.rightFullExtent-le-J)+" "+q.verticalRightInnerExtent+"A"+(q.rightLargeArcRadius+le)+" "+(q.rightLargeArcRadius+le)+" 0 0 1 "+(q.rightInnerExtent-J)+" "+(q.verticalFullExtent-le)+"L"+q.leftInnerExtent+" "+(q.verticalFullExtent-le)+"A"+(q.leftLargeArcRadius+le)+" "+(q.leftLargeArcRadius+le)+" 0 0 1 "+(q.leftFullExtent+le)+" "+q.verticalLeftInnerExtent+"L"+(q.leftFullExtent+le)+" "+(q.sourceY-q.leftSmallArcRadius)+"A"+(q.leftLargeArcRadius+le)+" "+(q.leftSmallArcRadius+le)+" 0 0 1 "+q.leftInnerExtent+" "+(q.sourceY+le)+"L"+q.sourceX+" "+(q.sourceY+le)+"L"+q.sourceX+" "+(q.sourceY-le)+"L"+q.leftInnerExtent+" "+(q.sourceY-le)+"A"+(q.leftLargeArcRadius-le)+" "+(q.leftSmallArcRadius-le)+" 0 0 0 "+(q.leftFullExtent-le)+" "+(q.sourceY-q.leftSmallArcRadius)+"L"+(q.leftFullExtent-le)+" "+q.verticalLeftInnerExtent+"A"+(q.leftLargeArcRadius-le)+" "+(q.leftLargeArcRadius-le)+" 0 0 0 "+q.leftInnerExtent+" "+(q.verticalFullExtent+le)+"L"+(q.rightInnerExtent-J)+" "+(q.verticalFullExtent+le)+"A"+(q.rightLargeArcRadius-le)+" "+(q.rightLargeArcRadius-le)+" 0 0 0 "+(q.rightFullExtent+le-J)+" "+q.verticalRightInnerExtent+"L"+(q.rightFullExtent+le-J)+" "+(q.targetY-q.rightSmallArcRadius)+"A"+(q.rightLargeArcRadius-le)+" "+(q.rightSmallArcRadius-le)+" 0 0 0 "+(q.rightInnerExtent-J)+" "+(q.targetY-le)+"L"+(q.targetX-J)+" "+(q.targetY-le)+(J>0?"L"+q.targetX+" "+q.targetY:"")+"Z":re="M "+(q.targetX-J)+" "+(q.targetY-le)+" L"+(q.rightInnerExtent-J)+" "+(q.targetY-le)+"A"+(q.rightLargeArcRadius+le)+" "+(q.rightSmallArcRadius+le)+" 0 0 0 "+(q.rightFullExtent-le-J)+" "+(q.targetY+q.rightSmallArcRadius)+"L"+(q.rightFullExtent-le-J)+" "+q.verticalRightInnerExtent+"A"+(q.rightLargeArcRadius+le)+" "+(q.rightLargeArcRadius+le)+" 0 0 0 "+(q.rightInnerExtent-J)+" "+(q.verticalFullExtent+le)+"L"+q.leftInnerExtent+" "+(q.verticalFullExtent+le)+"A"+(q.leftLargeArcRadius+le)+" "+(q.leftLargeArcRadius+le)+" 0 0 0 "+(q.leftFullExtent+le)+" "+q.verticalLeftInnerExtent+"L"+(q.leftFullExtent+le)+" "+(q.sourceY+q.leftSmallArcRadius)+"A"+(q.leftLargeArcRadius+le)+" "+(q.leftSmallArcRadius+le)+" 0 0 0 "+q.leftInnerExtent+" "+(q.sourceY-le)+"L"+q.sourceX+" "+(q.sourceY-le)+"L"+q.sourceX+" "+(q.sourceY+le)+"L"+q.leftInnerExtent+" "+(q.sourceY+le)+"A"+(q.leftLargeArcRadius-le)+" "+(q.leftSmallArcRadius-le)+" 0 0 1 "+(q.leftFullExtent-le)+" "+(q.sourceY+q.leftSmallArcRadius)+"L"+(q.leftFullExtent-le)+" "+q.verticalLeftInnerExtent+"A"+(q.leftLargeArcRadius-le)+" "+(q.leftLargeArcRadius-le)+" 0 0 1 "+q.leftInnerExtent+" "+(q.verticalFullExtent-le)+"L"+(q.rightInnerExtent-J)+" "+(q.verticalFullExtent-le)+"A"+(q.rightLargeArcRadius-le)+" "+(q.rightLargeArcRadius-le)+" 0 0 1 "+(q.rightFullExtent+le-J)+" "+q.verticalRightInnerExtent+"L"+(q.rightFullExtent+le-J)+" "+(q.targetY+q.rightSmallArcRadius)+"A"+(q.rightLargeArcRadius-le)+" "+(q.rightSmallArcRadius-le)+" 0 0 1 "+(q.rightInnerExtent-J)+" "+(q.targetY+le)+"L"+(q.targetX-J)+" "+(q.targetY+le)+(J>0?"L"+q.targetX+" "+q.targetY:"")+"Z",re}function w(){var K=.5;function J(re){var le=re.linkArrowLength;if(re.link.circular)return E(re.link,le);var q=Math.abs((re.link.target.x0-re.link.source.x1)/2);le>q&&(le=q);var ee=re.link.source.x1,ue=re.link.target.x0-le,se=R(ee,ue),he=se(K),me=se(1-K),Ce=re.link.y0-re.link.width/2,Te=re.link.y0+re.link.width/2,Oe=re.link.y1-re.link.width/2,Ne=re.link.y1+re.link.width/2,Le="M"+ee+","+Ce,be="C"+he+","+Ce+" "+me+","+Oe+" "+ue+","+Oe,Ae="C"+me+","+Ne+" "+he+","+Te+" "+ee+","+Te,He=le>0?"L"+(ue+le)+","+(Oe+re.link.width/2):"";return He+="L"+ue+","+Ne,Le+be+He+Ae+"Z"}return J}function i(K,J){var re=y(J.color),le=v.nodePadAcross,q=K.nodePad/2;J.dx=J.x1-J.x0,J.dy=J.y1-J.y0;var ee=J.dx,ue=Math.max(.5,J.dy),se="node_"+J.pointNumber;return J.group&&(se=s.randstr()),J.trace=K.trace,J.curveNumber=K.trace.index,{index:J.pointNumber,key:se,partOfGroup:J.partOfGroup||!1,group:J.group,traceId:K.key,trace:K.trace,node:J,nodePad:K.nodePad,nodeLineColor:K.nodeLineColor,nodeLineWidth:K.nodeLineWidth,textFont:K.textFont,size:K.horizontal?K.height:K.width,visibleWidth:Math.ceil(ee),visibleHeight:ue,zoneX:-le,zoneY:-q,zoneWidth:ee+2*le,zoneHeight:ue+2*q,labelY:K.horizontal?J.dy/2+1:J.dx/2+1,left:J.originalLayer===1,sizeAcross:K.width,forceLayouts:K.forceLayouts,horizontal:K.horizontal,darkBackground:re.getBrightness()<=128,tinyColorHue:t.tinyRGB(re),tinyColorAlpha:re.getAlpha(),valueFormat:K.valueFormat,valueSuffix:K.valueSuffix,sankey:K.sankey,graph:K.graph,arrangement:K.arrangement,uniqueNodeLabelPathId:[K.guid,K.key,se].join("_"),interactionState:K.interactionState,figure:K}}function L(K){K.attr("transform",function(J){return n(J.node.x0.toFixed(3),J.node.y0.toFixed(3))})}function b(K){K.call(L)}function O(K,J){K.call(b),J.attr("d",w())}function _(K){K.attr("width",function(J){return J.node.x1-J.node.x0}).attr("height",function(J){return J.visibleHeight})}function N(K){return K.link.width>1||K.linkLineWidth>0}function z(K){var J=n(K.translateX,K.translateY);return J+(K.horizontal?"matrix(1 0 0 1 0 0)":"matrix(0 1 1 0 0 0)")}function B(K,J,re){K.on(".basic",null).on("mouseover.basic",function(le){!le.interactionState.dragInProgress&&!le.partOfGroup&&(re.hover(this,le,J),le.interactionState.hovered=[this,le])}).on("mousemove.basic",function(le){!le.interactionState.dragInProgress&&!le.partOfGroup&&(re.follow(this,le),le.interactionState.hovered=[this,le])}).on("mouseout.basic",function(le){!le.interactionState.dragInProgress&&!le.partOfGroup&&(re.unhover(this,le,J),le.interactionState.hovered=!1)}).on("click.basic",function(le){le.interactionState.hovered&&(re.unhover(this,le,J),le.interactionState.hovered=!1),!le.interactionState.dragInProgress&&!le.partOfGroup&&re.select(this,le,J)})}function U(K,J,re,le){var q=a.behavior.drag().origin(function(ee){return{x:ee.node.x0+ee.visibleWidth/2,y:ee.node.y0+ee.visibleHeight/2}}).on("dragstart",function(ee){if(ee.arrangement!=="fixed"&&(s.ensureSingle(le._fullLayout._infolayer,"g","dragcover",function(se){le._fullLayout._dragCover=se}),s.raiseToTop(this),ee.interactionState.dragInProgress=ee.node,oe(ee.node),ee.interactionState.hovered&&(re.nodeEvents.unhover.apply(0,ee.interactionState.hovered),ee.interactionState.hovered=!1),ee.arrangement==="snap")){var ue=ee.traceId+"|"+ee.key;ee.forceLayouts[ue]?ee.forceLayouts[ue].alpha(1):F(K,ue,ee),V(K,J,ee,ue,le)}}).on("drag",function(ee){if(ee.arrangement!=="fixed"){var ue=a.event.x,se=a.event.y;ee.arrangement==="snap"?(ee.node.x0=ue-ee.visibleWidth/2,ee.node.x1=ue+ee.visibleWidth/2,ee.node.y0=se-ee.visibleHeight/2,ee.node.y1=se+ee.visibleHeight/2):(ee.arrangement==="freeform"&&(ee.node.x0=ue-ee.visibleWidth/2,ee.node.x1=ue+ee.visibleWidth/2),se=Math.max(0,Math.min(ee.size-ee.visibleHeight/2,se)),ee.node.y0=se-ee.visibleHeight/2,ee.node.y1=se+ee.visibleHeight/2),oe(ee.node),ee.arrangement!=="snap"&&(ee.sankey.update(ee.graph),O(K.filter(ce(ee)),J))}}).on("dragend",function(ee){if(ee.arrangement!=="fixed"){ee.interactionState.dragInProgress=!1;for(var ue=0;ue<ee.node.childrenNodes.length;ue++)ee.node.childrenNodes[ue].x=ee.node.x,ee.node.childrenNodes[ue].y=ee.node.y;ee.arrangement!=="snap"&&$(ee,le)}});K.on(".drag",null).call(q)}function F(K,J,re,le){Q(re.graph.nodes);var q=re.graph.nodes.filter(function(ee){return ee.originalX===re.node.originalX}).filter(function(ee){return!ee.partOfGroup});re.forceLayouts[J]=g.forceSimulation(q).alphaDecay(0).force("collide",g.forceCollide().radius(function(ee){return ee.dy/2+re.nodePad/2}).strength(1).iterations(v.forceIterations)).force("constrain",j(K,J,q,re)).stop()}function V(K,J,re,le,q){window.requestAnimationFrame(function ee(){var ue;for(ue=0;ue<v.forceTicksPerFrame;ue++)re.forceLayouts[le].tick();var se=re.graph.nodes;if(Z(se),re.sankey.update(re.graph),O(K.filter(ce(re)),J),re.forceLayouts[le].alpha()>0)window.requestAnimationFrame(ee);else{var he=re.node.originalX;re.node.x0=he-re.visibleWidth/2,re.node.x1=he+re.visibleWidth/2,$(re,q)}})}function j(K,J,re,le){return function(){for(var ee=0,ue=0;ue<re.length;ue++){var se=re[ue];se===le.interactionState.dragInProgress?(se.x=se.lastDraggedX,se.y=se.lastDraggedY):(se.vx=(se.originalX-se.x)/v.forceTicksPerFrame,se.y=Math.min(le.size-se.dy/2,Math.max(se.dy/2,se.y))),ee=Math.max(ee,Math.abs(se.vx),Math.abs(se.vy))}!le.interactionState.dragInProgress&&ee<.1&&le.forceLayouts[J].alpha()>0&&le.forceLayouts[J].alpha(0)}}function $(K,J){for(var re=[],le=[],q=0;q<K.graph.nodes.length;q++){var ee=(K.graph.nodes[q].x0+K.graph.nodes[q].x1)/2,ue=(K.graph.nodes[q].y0+K.graph.nodes[q].y1)/2;re.push(ee/K.figure.width),le.push(ue/K.figure.height)}h.call("_guiRestyle",J,{"node.x":[re],"node.y":[le]},K.trace.index).then(function(){J._fullLayout._dragCover&&J._fullLayout._dragCover.remove()})}function ne(K){var J=[],re;for(re=0;re<K.length;re++)K[re].originalX=(K[re].x0+K[re].x1)/2,K[re].originalY=(K[re].y0+K[re].y1)/2,J.indexOf(K[re].originalX)===-1&&J.push(K[re].originalX);for(J.sort(function(le,q){return le-q}),re=0;re<K.length;re++)K[re].originalLayerIndex=J.indexOf(K[re].originalX),K[re].originalLayer=K[re].originalLayerIndex/(J.length-1)}function oe(K){K.lastDraggedX=K.x0+K.dx/2,K.lastDraggedY=K.y0+K.dy/2}function ce(K){return function(J){return J.node.originalX===K.node.originalX}}function Q(K){for(var J=0;J<K.length;J++)K[J].y=(K[J].y0+K[J].y1)/2,K[J].x=(K[J].x0+K[J].x1)/2}function Z(K){for(var J=0;J<K.length;J++)K[J].y0=K[J].y-K[J].dy/2,K[J].y1=K[J].y0+K[J].dy,K[J].x0=K[J].x-K[J].dx/2,K[J].x1=K[J].x0+K[J].dx}W.exports=function(K,J,re,le,q){var ee=K._context.staticPlot,ue=!1;s.ensureSingle(K._fullLayout._infolayer,"g","first-render",function(){ue=!0});var se=K._fullLayout._dragCover,he=re.filter(function(Ae){return c(Ae).trace.visible}).map(P.bind(null,le)),me=J.selectAll("."+v.cn.sankey).data(he,u);me.exit().remove(),me.enter().append("g").classed(v.cn.sankey,!0).style("box-sizing","content-box").style("position","absolute").style("left",0).style("shape-rendering","geometricPrecision").style("pointer-events",ee?"none":"auto").attr("transform",z),me.each(function(Ae,He){K._fullData[He]._sankey=Ae;var Ve="bgsankey-"+Ae.trace.uid+"-"+He;s.ensureSingle(K._fullLayout._draggers,"rect",Ve),K._fullData[He]._bgRect=a.select("."+Ve),K._fullData[He]._bgRect.style("pointer-events",ee?"none":"all").attr("width",Ae.width).attr("height",Ae.height).attr("x",Ae.translateX).attr("y",Ae.translateY).classed("bgsankey",!0).style({fill:"transparent","stroke-width":0})}),me.transition().ease(v.ease).duration(v.duration).attr("transform",z);var Ce=me.selectAll("."+v.cn.sankeyLinks).data(m,u);Ce.enter().append("g").classed(v.cn.sankeyLinks,!0).style("fill","none");var Te=Ce.selectAll("."+v.cn.sankeyLink).data(function(Ae){var He=Ae.graph.links;return He.filter(function(Ve){return Ve.value}).map(x.bind(null,Ae))},u);Te.enter().append("path").classed(v.cn.sankeyLink,!0).call(B,me,q.linkEvents),Te.style("stroke",function(Ae){return N(Ae)?t.tinyRGB(y(Ae.linkLineColor)):Ae.tinyColorHue}).style("stroke-opacity",function(Ae){return N(Ae)?t.opacity(Ae.linkLineColor):Ae.tinyColorAlpha}).style("fill",function(Ae){return Ae.tinyColorHue}).style("fill-opacity",function(Ae){return Ae.tinyColorAlpha}).style("stroke-width",function(Ae){return N(Ae)?Ae.linkLineWidth:1}).attr("d",w()),Te.style("opacity",function(){return K._context.staticPlot||ue||se?1:0}).transition().ease(v.ease).duration(v.duration).style("opacity",1),Te.exit().transition().ease(v.ease).duration(v.duration).style("opacity",0).remove();var Oe=me.selectAll("."+v.cn.sankeyNodeSet).data(m,u);Oe.enter().append("g").classed(v.cn.sankeyNodeSet,!0),Oe.style("cursor",function(Ae){switch(Ae.arrangement){case"fixed":return"default";case"perpendicular":return"ns-resize";default:return"move"}});var Ne=Oe.selectAll("."+v.cn.sankeyNode).data(function(Ae){var He=Ae.graph.nodes;return ne(He),He.map(i.bind(null,Ae))},u);Ne.enter().append("g").classed(v.cn.sankeyNode,!0).call(L).style("opacity",function(Ae){return(K._context.staticPlot||ue)&&!Ae.partOfGroup?1:0}),Ne.call(B,me,q.nodeEvents).call(U,Te,q,K),Ne.transition().ease(v.ease).duration(v.duration).call(L).style("opacity",function(Ae){return Ae.partOfGroup?0:1}),Ne.exit().transition().ease(v.ease).duration(v.duration).style("opacity",0).remove();var Le=Ne.selectAll("."+v.cn.nodeRect).data(m);Le.enter().append("rect").classed(v.cn.nodeRect,!0).call(_),Le.style("stroke-width",function(Ae){return Ae.nodeLineWidth}).style("stroke",function(Ae){return t.tinyRGB(y(Ae.nodeLineColor))}).style("stroke-opacity",function(Ae){return t.opacity(Ae.nodeLineColor)}).style("fill",function(Ae){return Ae.tinyColorHue}).style("fill-opacity",function(Ae){return Ae.tinyColorAlpha}),Le.transition().ease(v.ease).duration(v.duration).call(_);var be=Ne.selectAll("."+v.cn.nodeLabel).data(m);be.enter().append("text").classed(v.cn.nodeLabel,!0).style("cursor","default"),be.attr("data-notex",1).text(function(Ae){return Ae.node.label}).each(function(Ae){var He=a.select(this);r.font(He,Ae.textFont),A.convertToTspans(He,K)}).style("text-shadow",A.makeTextShadow(K._fullLayout.paper_bgcolor)).attr("text-anchor",function(Ae){return Ae.horizontal&&Ae.left?"end":"start"}).attr("transform",function(Ae){var He=a.select(this),Ve=A.lineCount(He),ke=Ae.textFont.size*((Ve-1)*M-p),Ge=Ae.nodeLineWidth/2+S,it=((Ae.horizontal?Ae.visibleHeight:Ae.visibleWidth)-ke)/2;Ae.horizontal&&(Ae.left?Ge=-Ge:Ge+=Ae.visibleWidth);var et=Ae.horizontal?"":"scale(-1,1)"+o(90);return n(Ae.horizontal?Ge:it,Ae.horizontal?it:Ge)+et}),be.transition().ease(v.ease).duration(v.duration)}},84564:function(W){W.exports=function(e,g){for(var R=e.cd,a=[],C=R[0].trace,T=C._sankey.graph.nodes,v=0;v<T.length;v++){var y=T[v];if(!y.partOfGroup){var t=[(y.x0+y.x1)/2,(y.y0+y.y1)/2];C.orientation==="v"&&t.reverse(),g&&g.contains(t,!1,v,e)&&a.push({pointNumber:y.pointNumber})}}return a}},75225:function(W,H,e){var g=e(71828);W.exports=function(a,C){for(var T=0;T<a.length;T++)a[T].i=T;g.mergeArray(C.text,a,"tx"),g.mergeArray(C.texttemplate,a,"txt"),g.mergeArray(C.hovertext,a,"htx"),g.mergeArray(C.customdata,a,"data"),g.mergeArray(C.textposition,a,"tp"),C.textfont&&(g.mergeArrayCastPositive(C.textfont.size,a,"ts"),g.mergeArray(C.textfont.color,a,"tc"),g.mergeArray(C.textfont.family,a,"tf"));var v=C.marker;if(v){g.mergeArrayCastPositive(v.size,a,"ms"),g.mergeArrayCastPositive(v.opacity,a,"mo"),g.mergeArray(v.symbol,a,"mx"),g.mergeArray(v.angle,a,"ma"),g.mergeArray(v.standoff,a,"mf"),g.mergeArray(v.color,a,"mc");var y=v.line;v.line&&(g.mergeArray(y.color,a,"mlc"),g.mergeArrayCastPositive(y.width,a,"mlw"));var t=v.gradient;t&&t.type!=="none"&&(g.mergeArray(t.type,a,"mgt"),g.mergeArray(t.color,a,"mgc"))}}},82196:function(W,H,e){var g=e(12663).axisHoverFormat,R=e(5386).si,a=e(5386).fF,C=e(50693),T=e(41940),v=e(79952).P,y=e(79952).u,t=e(91424),r=e(47581),s=e(1426).extendFlat;function n(u){return{valType:"any",dflt:0,editType:"calc"}}function o(u){return{valType:"any",editType:"calc"}}function f(u){return{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"}}W.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:n(),yperiod:n(),xperiod0:o(),yperiod0:o(),xperiodalignment:f(),yperiodalignment:f(),xhoverformat:g("x"),yhoverformat:g("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:R({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:a({},{keys:r.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:s({},v,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:{valType:"color",editType:"style",anim:!0},fillpattern:y,marker:s({symbol:{valType:"enumerated",values:t.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:s({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},C("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},C("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:T({editType:"calc",colorEditType:"style",arrayOk:!0})}},47761:function(W,H,e){var g=e(92770),R=e(71828),a=e(89298),C=e(42973),T=e(50606).BADNUM,v=e(34098),y=e(36922),t=e(75225),r=e(66279);function s(c,A){var h=c._fullLayout,l=A._xA=a.getFromId(c,A.xaxis||"x","x"),p=A._yA=a.getFromId(c,A.yaxis||"y","y"),M=l.makeCalcdata(A,"x"),S=p.makeCalcdata(A,"y"),P=C(A,l,"x",M),x=C(A,p,"y",S),E=P.vals,w=x.vals,i=A._length,L=new Array(i),b=A.ids,O=m(A,h,l,p),_=!1,N,z,B,U,F,V;f(h,A);var j="x",$="y",ne;if(O)R.pushUnique(O.traceIndices,A._expandedIndex),N=O.orientation==="v",N?($="s",ne="x"):(j="s",ne="y"),F=O.stackgaps==="interpolate";else{var oe=o(A,i);n(c,A,l,p,E,w,oe)}var ce=!!A.xperiodalignment,Q=!!A.yperiodalignment;for(z=0;z<i;z++){var Z=L[z]={},K=g(E[z]),J=g(w[z]);K&&J?(Z[j]=E[z],Z[$]=w[z],ce&&(Z.orig_x=M[z],Z.xEnd=P.ends[z],Z.xStart=P.starts[z]),Q&&(Z.orig_y=S[z],Z.yEnd=x.ends[z],Z.yStart=x.starts[z])):O&&(N?K:J)?(Z[ne]=N?E[z]:w[z],Z.gap=!0,F?(Z.s=T,_=!0):Z.s=0):Z[j]=Z[$]=T,b&&(Z.id=String(b[z]))}if(t(L,A),y(c,A),r(L,A),O){for(z=0;z<L.length;)L[z][ne]===T?L.splice(z,1):z++;if(R.sort(L,function(ee,ue){return ee[ne]-ue[ne]||ee.i-ue.i}),_){for(z=0;z<L.length-1&&L[z].gap;)z++;for(V=L[z].s,V||(V=L[z].s=0),B=0;B<z;B++)L[B].s=V;for(U=L.length-1;U>z&&L[U].gap;)U--;for(V=L[U].s,B=L.length-1;B>U;B--)L[B].s=V;for(;z<U;)if(z++,L[z].gap){for(B=z+1;L[B].gap;)B++;for(var re=L[z-1][ne],le=L[z-1].s,q=(L[B].s-le)/(L[B][ne]-re);z<B;)L[z].s=le+(L[z][ne]-re)*q,z++}}}return L}function n(c,A,h,l,p,M,S){var P=A._length,x=c._fullLayout,E=h._id,w=l._id,i=x._firstScatter[u(A)]===A.uid,L=(m(A,x,h,l)||{}).orientation,b=A.fill;h._minDtick=0,l._minDtick=0;var O={padded:!0},_={padded:!0};S&&(O.ppad=_.ppad=S);var N=P<2||p[0]!==p[P-1]||M[0]!==M[P-1];N&&(b==="tozerox"||b==="tonextx"&&(i||L==="h"))?O.tozero=!0:!(A.error_y||{}).visible&&(b==="tonexty"||b==="tozeroy"||!v.hasMarkers(A)&&!v.hasText(A))&&(O.padded=!1,O.ppad=0),N&&(b==="tozeroy"||b==="tonexty"&&(i||L==="v"))?_.tozero=!0:(b==="tonextx"||b==="tozerox")&&(_.padded=!1),E&&(A._extremes[E]=a.findExtremes(h,p,O)),w&&(A._extremes[w]=a.findExtremes(l,M,_))}function o(c,A){if(v.hasMarkers(c)){var h=c.marker,l=1.6*(c.marker.sizeref||1),p;if(c.marker.sizemode==="area"?p=function(E){return Math.max(Math.sqrt((E||0)/l),3)}:p=function(E){return Math.max((E||0)/l,3)},R.isArrayOrTypedArray(h.size)){var M={type:"linear"};a.setConvert(M);for(var S=M.makeCalcdata(c.marker,"size"),P=new Array(A),x=0;x<A;x++)P[x]=p(S[x]);return P}else return p(h.size)}}function f(c,A){var h=u(A),l=c._firstScatter;l[h]||(l[h]=A.uid)}function u(c){var A=c.stackgroup;return c.xaxis+c.yaxis+c.type+(A?"-"+A:"")}function m(c,A,h,l){var p=c.stackgroup;if(p){var M=A._scatterStackOpts[h._id+l._id][p],S=M.orientation==="v"?l:h;if(S.type==="linear"||S.type==="log")return M}}W.exports={calc:s,calcMarkerSize:o,calcAxisExpansion:n,setFirstScatter:f,getStackOpts:m}},66279:function(W,H,e){var g=e(71828);W.exports=function(a,C){g.isArrayOrTypedArray(C.selectedpoints)&&g.tagSelected(a,C)}},36922:function(W,H,e){var g=e(52075).hasColorscale,R=e(78803),a=e(34098);W.exports=function(T,v){a.hasLines(v)&&g(v,"line")&&R(T,v,{vals:v.line.color,containerStr:"line",cLetter:"c"}),a.hasMarkers(v)&&(g(v,"marker")&&R(T,v,{vals:v.marker.color,containerStr:"marker",cLetter:"c"}),g(v,"marker.line")&&R(T,v,{vals:v.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},47581:function(W){W.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},72626:function(W,H,e){var g=e(47761),R=e(11661).setGroupPositions;function a(v,y){for(var t=y.xaxis,r=y.yaxis,s=v._fullLayout,n=v._fullData,o=v.calcdata,f=[],u=[],m=0;m<n.length;m++){var c=n[m];c.visible===!0&&c.type==="scatter"&&c.xaxis===t._id&&c.yaxis===r._id&&(c.orientation==="h"?f.push(o[m]):c.orientation==="v"&&u.push(o[m]))}var A={mode:s.scattermode,gap:s.scattergap};R(v,t,r,u,A),R(v,r,t,f,A)}W.exports=function(y,t){y._fullLayout.scattermode==="group"&&a(y,t);var r=t.xaxis,s=t.yaxis,n=r._id+s._id,o=y._fullLayout._scatterStackOpts[n];if(o){var f=y.calcdata,u,m,c,A,h,l,p,M,S,P,x,E,w,i,L;for(var b in o){P=o[b];var O=P.traceIndices;if(O.length){for(x=P.stackgaps==="interpolate",E=P.groupnorm,P.orientation==="v"?(w="x",i="y"):(w="y",i="x"),L=new Array(O.length),u=0;u<L.length;u++)L[u]=!1;l=f[O[0]];var _=new Array(l.length);for(u=0;u<l.length;u++)_[u]=l[u][w];for(u=1;u<O.length;u++){for(h=f[O[u]],m=c=0;m<h.length;m++){for(p=h[m][w];p>_[c]&&c<_.length;c++)C(h,m,_[c],u,L,x,w),m++;if(p!==_[c]){for(A=0;A<u;A++)C(f[O[A]],c,p,A,L,x,w);_.splice(c,0,p)}c++}for(;c<_.length;c++)C(h,m,_[c],u,L,x,w),m++}var N=_.length;for(m=0;m<l.length;m++){for(M=l[m][i]=l[m].s,u=1;u<O.length;u++)h=f[O[u]],h[0].trace._rawLength=h[0].trace._length,h[0].trace._length=N,M+=h[m].s,h[m][i]=M;if(E)for(S=(E==="fraction"?M:M/100)||1,u=0;u<O.length;u++){var z=f[O[u]][m];z[i]/=S,z.sNorm=z.s/S}}for(u=0;u<O.length;u++){h=f[O[u]];var B=h[0].trace,U=g.calcMarkerSize(B,B._rawLength),F=Array.isArray(U);if(U&&L[u]||F){var V=U;for(U=new Array(N),m=0;m<N;m++)U[m]=h[m].gap?0:F?V[h[m].i]:V}var j=new Array(N),$=new Array(N);for(m=0;m<N;m++)j[m]=h[m].x,$[m]=h[m].y;g.calcAxisExpansion(y,B,r,s,j,$,U),h[0].t.orientation=P.orientation}}}}};function C(v,y,t,r,s,n,o){s[r]=!0;var f={i:null,gap:!0,s:0};if(f[o]=t,v.splice(y,0,f),y&&t===v[y-1][o]){var u=v[y-1];f.s=u.s,f.i=u.i,f.gap=u.gap}else n&&(f.s=T(v,y,t,o));y||(v[0].t=v[1].t,v[0].trace=v[1].trace,delete v[1].t,delete v[1].trace)}function T(v,y,t,r){var s=v[y-1],n=v[y+1];return n?s?s.s+(n.s-s.s)*(t-s[r])/(n[r]-s[r]):n.s:s.s}},34936:function(W,H,e){var g=e(71828),R=e(26125),a=e(82196);W.exports=function(T,v){var y,t,r;function s(m){return g.coerce(t._input,t,a,m)}if(v.scattermode==="group")for(r=0;r<T.length;r++)t=T[r],t.type==="scatter"&&(y=t._input,R(y,t,v,s));for(r=0;r<T.length;r++){var n=T[r];if(n.type==="scatter"){var o=n.fill;if(!(o==="none"||o==="toself")&&(n.opacity=void 0,o==="tonexty"||o==="tonextx"))for(var f=r-1;f>=0;f--){var u=T[f];if(u.type==="scatter"&&u.xaxis===n.xaxis&&u.yaxis===n.yaxis){u.opacity=void 0;break}}}}}},17438:function(W,H,e){var g=e(71828),R=e(73972),a=e(82196),C=e(47581),T=e(34098),v=e(67513),y=e(73927),t=e(565),r=e(49508),s=e(11058),n=e(94039),o=e(82410),f=e(28908),u=e(71828).coercePattern;W.exports=function(c,A,h,l){function p(L,b){return g.coerce(c,A,a,L,b)}var M=v(c,A,l,p);if(M||(A.visible=!1),!!A.visible){y(c,A,l,p),p("xhoverformat"),p("yhoverformat");var S=t(c,A,l,p);l.scattermode==="group"&&A.orientation===void 0&&p("orientation","v");var P=!S&&M<C.PTS_LINESONLY?"lines+markers":"lines";p("text"),p("hovertext"),p("mode",P),T.hasLines(A)&&(s(c,A,h,l,p,{backoff:!0}),n(c,A,p),p("connectgaps"),p("line.simplify")),T.hasMarkers(A)&&r(c,A,h,l,p,{gradient:!0}),T.hasText(A)&&(p("texttemplate"),o(c,A,l,p));var x=[];(T.hasMarkers(A)||T.hasText(A))&&(p("cliponaxis"),p("marker.maxdisplayed"),x.push("points")),p("fill",S?S.fillDflt:"none"),A.fill!=="none"&&(f(c,A,h,p),T.hasLines(A)||n(c,A,p),u(p,"fillpattern",A.fillcolor,!1));var E=(A.line||{}).color,w=(A.marker||{}).color;(A.fill==="tonext"||A.fill==="toself")&&x.push("fills"),p("hoveron",x.join("+")||"points"),A.hoveron!=="fills"&&p("hovertemplate");var i=R.getComponentMethod("errorbars","supplyDefaults");i(c,A,E||w||h,{axis:"y"}),i(c,A,E||w||h,{axis:"x",inherit:"y"}),g.coerceSelectionMarkerOpacity(A,p)}}},28908:function(W,H,e){var g=e(7901),R=e(71828).isArrayOrTypedArray;W.exports=function(C,T,v,y){var t=!1;if(T.marker){var r=T.marker.color,s=(T.marker.line||{}).color;r&&!R(r)?t=r:s&&!R(s)&&(t=s)}y("fillcolor",g.addOpacity((T.line||{}).color||t||v,.5))}},8225:function(W,H,e){var g=e(89298);W.exports=function(a,C,T){var v={},y={_fullLayout:T},t=g.getFromTrace(y,C,"x"),r=g.getFromTrace(y,C,"y"),s=a.orig_x;s===void 0&&(s=a.x);var n=a.orig_y;return n===void 0&&(n=a.y),v.xLabel=g.tickText(t,t.c2l(s),!0).text,v.yLabel=g.tickText(r,r.c2l(n),!0).text,v}},34603:function(W,H,e){var g=e(7901),R=e(34098);W.exports=function(C,T){var v,y;if(C.mode==="lines")return v=C.line.color,v&&g.opacity(v)?v:C.fillcolor;if(C.mode==="none")return C.fill?C.fillcolor:"";var t=T.mcc||(C.marker||{}).color,r=T.mlcc||((C.marker||{}).line||{}).color;return y=t&&g.opacity(t)?t:r&&g.opacity(r)&&(T.mlw||((C.marker||{}).line||{}).width)?r:"",y?g.opacity(y)<.3?g.addOpacity(y,.3):y:(v=(C.line||{}).color,v&&g.opacity(v)&&R.hasLines(C)&&C.line.width?v:C.fillcolor)}},26125:function(W,H,e){var g=e(99082).getAxisGroup;W.exports=function(a,C,T,v){var y=C.orientation,t=C[{v:"x",h:"y"}[y]+"axis"],r=g(T,t)+y,s=T._alignmentOpts||{},n=v("alignmentgroup"),o=s[r];o||(o=s[r]={});var f=o[n];f?f.traces.push(C):f=o[n]={traces:[C],alignmentIndex:Object.keys(o).length,offsetGroups:{}};var u=v("offsetgroup"),m=f.offsetGroups,c=m[u];u&&(c||(c=m[u]={offsetIndex:Object.keys(m).length}),C._offsetIndex=c.offsetIndex)}},33720:function(W,H,e){var g=e(71828),R=e(30211),a=e(73972),C=e(34603),T=e(7901),v=g.fillText;W.exports=function(t,r,s,n){var o=t.cd,f=o[0].trace,u=t.xa,m=t.ya,c=u.c2p(r),A=m.c2p(s),h=[c,A],l=f.hoveron||"",p=f.mode.indexOf("markers")!==-1?3:.5,M=!!f.xperiodalignment,S=!!f.yperiodalignment;if(l.indexOf("points")!==-1){var P=function(he){if(M){var me=u.c2p(he.xStart),Ce=u.c2p(he.xEnd);return c>=Math.min(me,Ce)&&c<=Math.max(me,Ce)?0:1/0}var Te=Math.max(3,he.mrc||0),Oe=1-1/Te,Ne=Math.abs(u.c2p(he.x)-c);return Ne<Te?Oe*Ne/Te:Ne-Te+Oe},x=function(he){if(S){var me=m.c2p(he.yStart),Ce=m.c2p(he.yEnd);return A>=Math.min(me,Ce)&&A<=Math.max(me,Ce)?0:1/0}var Te=Math.max(3,he.mrc||0),Oe=1-1/Te,Ne=Math.abs(m.c2p(he.y)-A);return Ne<Te?Oe*Ne/Te:Ne-Te+Oe},E=function(he){var me=Math.max(p,he.mrc||0),Ce=u.c2p(he.x)-c,Te=m.c2p(he.y)-A;return Math.max(Math.sqrt(Ce*Ce+Te*Te)-me,1-p/me)},w=R.getDistanceFunction(n,P,x,E);if(R.getClosest(o,w,t),t.index!==!1){var i=o[t.index],L=u.c2p(i.x,!0),b=m.c2p(i.y,!0),O=i.mrc||1;t.index=i.i;var _=o[0].t.orientation,N=_&&(i.sNorm||i.s),z=_==="h"?N:i.orig_x!==void 0?i.orig_x:i.x,B=_==="v"?N:i.orig_y!==void 0?i.orig_y:i.y;return g.extendFlat(t,{color:C(f,i),x0:L-O,x1:L+O,xLabelVal:z,y0:b-O,y1:b+O,yLabelVal:B,spikeDistance:E(i),hovertemplate:f.hovertemplate}),v(i,f,t),a.getComponentMethod("errorbars","hoverInfo")(i,f,t),[t]}}if(l.indexOf("fills")!==-1&&f._polygons){var U=f._polygons,F=[],V=!1,j=1/0,$=-1/0,ne=1/0,oe=-1/0,ce,Q,Z,K,J,re,le,q,ee;for(ce=0;ce<U.length;ce++)Z=U[ce],Z.contains(h)&&(V=!V,F.push(Z),ne=Math.min(ne,Z.ymin),oe=Math.max(oe,Z.ymax));if(V){ne=Math.max(ne,0),oe=Math.min(oe,m._length);var ue=(ne+oe)/2;for(ce=0;ce<F.length;ce++)for(K=F[ce].pts,Q=1;Q<K.length;Q++)q=K[Q-1][1],ee=K[Q][1],q>ue!=ee>=ue&&(re=K[Q-1][0],le=K[Q][0],ee-q&&(J=re+(le-re)*(ue-q)/(ee-q),j=Math.min(j,J),$=Math.max($,J)));j=Math.max(j,0),$=Math.min($,u._length);var se=T.defaultLine;return T.opacity(f.fillcolor)?se=f.fillcolor:T.opacity((f.line||{}).color)&&(se=f.line.color),g.extendFlat(t,{distance:t.maxHoverDistance,x0:j,x1:$,y0:ue,y1:ue,color:se,hovertemplate:!1}),delete t.index,f.text&&!Array.isArray(f.text)?t.text=String(f.text):t.text=f.name,[t]}}}},67368:function(W,H,e){var g=e(34098);W.exports={hasLines:g.hasLines,hasMarkers:g.hasMarkers,hasText:g.hasText,isBubble:g.isBubble,attributes:e(82196),layoutAttributes:e(21479),supplyDefaults:e(17438),crossTraceDefaults:e(34936),supplyLayoutDefaults:e(79334),calc:e(47761).calc,crossTraceCalc:e(72626),arraysToCalcdata:e(75225),plot:e(32663),colorbar:e(4898),formatLabels:e(8225),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(33720),selectPoints:e(98002),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:e(93612),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},21479:function(W){W.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}},79334:function(W,H,e){var g=e(71828),R=e(21479);W.exports=function(a,C){function T(y,t){return g.coerce(a,C,R,y,t)}var v=C.barmode==="group";C.scattermode==="group"&&T("scattergap",v?C.bargap:.2)}},11058:function(W,H,e){var g=e(71828).isArrayOrTypedArray,R=e(52075).hasColorscale,a=e(1586);W.exports=function(T,v,y,t,r,s){s||(s={});var n=(T.marker||{}).color;if(r("line.color",y),R(T,"line"))a(T,v,t,r,{prefix:"line.",cLetter:"c"});else{var o=(g(n)?!1:n)||y;r("line.color",o)}r("line.width"),s.noDash||r("line.dash"),s.backoff&&r("line.backoff")}},34621:function(W,H,e){var g=e(91424),R=e(50606),a=R.BADNUM,C=R.LOG_CLIP,T=C+.5,v=C-.5,y=e(71828),t=y.segmentsIntersect,r=y.constrain,s=e(47581);W.exports=function(o,f){var u=f.trace||{},m=f.xaxis,c=f.yaxis,A=m.type==="log",h=c.type==="log",l=m._length,p=c._length,M=f.backoff,S=u.marker,P=f.connectGaps,x=f.baseTolerance,E=f.shape,w=E==="linear",i=u.fill&&u.fill!=="none",L=[],b=s.minTolerance,O=o.length,_=new Array(O),N=0,z,B,U,F,V,j,$,ne,oe,ce,Q,Z,K,J,re,le;function q(dt){var bt=o[dt];if(!bt)return!1;var Gt=f.linearized?m.l2p(bt.x):m.c2p(bt.x),Qt=f.linearized?c.l2p(bt.y):c.c2p(bt.y);if(Gt===a){if(A&&(Gt=m.c2p(bt.x,!0)),Gt===a)return!1;h&&Qt===a&&(Gt*=Math.abs(m._m*p*(m._m>0?T:v)/(c._m*l*(c._m>0?T:v)))),Gt*=1e3}if(Qt===a){if(h&&(Qt=c.c2p(bt.y,!0)),Qt===a)return!1;Qt*=1e3}return[Gt,Qt]}function ee(dt,bt,Gt,Qt){var At=Gt-dt,zt=Qt-bt,$t=.5-dt,Ar=.5-bt,ut=At*At+zt*zt,Yt=At*$t+zt*Ar;if(Yt>0&&Yt<ut){var Kt=$t*zt-Ar*At;if(Kt*Kt<ut)return!0}}var ue,se;function he(dt,bt){var Gt=dt[0]/l,Qt=dt[1]/p,At=Math.max(0,-Gt,Gt-1,-Qt,Qt-1);return At&&ue!==void 0&&ee(Gt,Qt,ue,se)&&(At=0),At&&bt&&ee(Gt,Qt,bt[0]/l,bt[1]/p)&&(At=0),(1+s.toleranceGrowth*At)*x}function me(dt,bt){var Gt=dt[0]-bt[0],Qt=dt[1]-bt[1];return Math.sqrt(Gt*Gt+Qt*Qt)}var Ce=s.maxScreensAway,Te=-l*Ce,Oe=l*(1+Ce),Ne=-p*Ce,Le=p*(1+Ce),be=[[Te,Ne,Oe,Ne],[Oe,Ne,Oe,Le],[Oe,Le,Te,Le],[Te,Le,Te,Ne]],Ae,He,Ve,ke,Ge,it;function et(dt,bt){for(var Gt=[],Qt=0,At=0;At<4;At++){var zt=be[At],$t=t(dt[0],dt[1],bt[0],bt[1],zt[0],zt[1],zt[2],zt[3]);$t&&(!Qt||Math.abs($t.x-Gt[0][0])>1||Math.abs($t.y-Gt[0][1])>1)&&($t=[$t.x,$t.y],Qt&&me($t,dt)<me(Gt[0],dt)?Gt.unshift($t):Gt.push($t),Qt++)}return Gt}function tt(dt){if(dt[0]<Te||dt[0]>Oe||dt[1]<Ne||dt[1]>Le)return[r(dt[0],Te,Oe),r(dt[1],Ne,Le)]}function at(dt,bt){if(dt[0]===bt[0]&&(dt[0]===Te||dt[0]===Oe)||dt[1]===bt[1]&&(dt[1]===Ne||dt[1]===Le))return!0}function vt(dt,bt){var Gt=[],Qt=tt(dt),At=tt(bt);return Qt&&At&&at(Qt,At)||(Qt&&Gt.push(Qt),At&&Gt.push(At)),Gt}function yt(dt,bt,Gt){return function(Qt,At){var zt=tt(Qt),$t=tt(At),Ar=[];if(zt&&$t&&at(zt,$t))return Ar;zt&&Ar.push(zt),$t&&Ar.push($t);var ut=2*y.constrain((Qt[dt]+At[dt])/2,bt,Gt)-((zt||Qt)[dt]+($t||At)[dt]);if(ut){var Yt;zt&&$t?Yt=ut>0==zt[dt]>$t[dt]?zt:$t:Yt=zt||$t,Yt[dt]+=ut}return Ar}}var gt;E==="linear"||E==="spline"?gt=et:E==="hv"||E==="vh"?gt=vt:E==="hvh"?gt=yt(0,Te,Oe):E==="vhv"&&(gt=yt(1,Ne,Le));function Mt(dt,bt){var Gt=bt[0]-dt[0],Qt=(bt[1]-dt[1])/Gt,At=(dt[1]*bt[0]-bt[1]*dt[0])/Gt;return At>0?[Qt>0?Te:Oe,Le]:[Qt>0?Oe:Te,Ne]}function Ct(dt){var bt=dt[0],Gt=dt[1],Qt=bt===_[N-1][0],At=Gt===_[N-1][1];if(!(Qt&&At))if(N>1){var zt=bt===_[N-2][0],$t=Gt===_[N-2][1];Qt&&(bt===Te||bt===Oe)&&zt?$t?N--:_[N-1]=dt:At&&(Gt===Ne||Gt===Le)&&$t?zt?N--:_[N-1]=dt:_[N++]=dt}else _[N++]=dt}function Vt(dt){_[N-1][0]!==dt[0]&&_[N-1][1]!==dt[1]&&Ct([Ve,ke]),Ct(dt),Ge=null,Ve=ke=0}var Je=y.isArrayOrTypedArray(S);function ze(dt){if(dt&&M&&(dt.i=z,dt.d=o,dt.trace=u,dt.marker=Je?S[dt.i]:S,dt.backoff=M),ue=dt[0]/l,se=dt[1]/p,Ae=dt[0]<Te?Te:dt[0]>Oe?Oe:0,He=dt[1]<Ne?Ne:dt[1]>Le?Le:0,Ae||He){if(!N)_[N++]=[Ae||dt[0],He||dt[1]];else if(Ge){var bt=gt(Ge,dt);bt.length>1&&(Vt(bt[0]),_[N++]=bt[1])}else it=gt(_[N-1],dt)[0],_[N++]=it;var Gt=_[N-1];Ae&&He&&(Gt[0]!==Ae||Gt[1]!==He)?(Ge&&(Ve!==Ae&&ke!==He?Ct(Ve&&ke?Mt(Ge,dt):[Ve||Ae,ke||He]):Ve&&ke&&Ct([Ve,ke])),Ct([Ae,He])):Ve-Ae&&ke-He&&Ct([Ae||Ve,He||ke]),Ge=dt,Ve=Ae,ke=He}else Ge&&Vt(gt(Ge,dt)[0]),_[N++]=dt}for(z=0;z<O;z++)if(B=q(z),!!B){for(N=0,Ge=null,ze(B),z++;z<O;z++){if(F=q(z),!F){if(P)continue;break}if(!w||!f.simplify){ze(F);continue}var _e=q(z+1);if(ce=me(F,B),!(!(i&&(N===0||N===O-1))&&ce<he(F,_e)*b)){for(ne=[(F[0]-B[0])/ce,(F[1]-B[1])/ce],V=B,Q=ce,Z=J=re=0,$=!1,U=F,z++;z<o.length;z++){if(j=_e,_e=q(z+1),!j){if(P)continue;break}if(oe=[j[0]-B[0],j[1]-B[1]],le=oe[0]*ne[1]-oe[1]*ne[0],J=Math.min(J,le),re=Math.max(re,le),re-J>he(j,_e))break;U=j,K=oe[0]*ne[0]+oe[1]*ne[1],K>Q?(Q=K,F=j,$=!1):K<Z&&(Z=K,V=j,$=!0)}if($?(ze(F),U!==V&&ze(V)):(V!==B&&ze(V),U!==F&&ze(F)),ze(U),z>=o.length||!j)break;ze(j),B=j}}Ge&&Ct([Ve||Ge[0],ke||Ge[1]]),L.push(_.slice(0,N))}var Be=E.slice(E.length-1);if(M&&Be!=="h"&&Be!=="v"){for(var De=!1,we=-1,xe=[],Ee=0;Ee<L.length;Ee++)for(var Pe=0;Pe<L[Ee].length-1;Pe++){var Ue=L[Ee][Pe],$e=L[Ee][Pe+1],qe=g.applyBackoff($e,Ue);(qe[0]!==$e[0]||qe[1]!==$e[1])&&(De=!0),xe[we+1]||(we++,xe[we]=[Ue,[qe[0],qe[1]]])}return De?xe:L}return L}},94039:function(W){W.exports=function(e,g,R){var a=R("line.shape");a==="spline"&&R("line.smoothing")}},68687:function(W){var H={tonextx:1,tonexty:1,tonext:1};W.exports=function(g,R,a){var C,T,v,y,t,r={},s=!1,n=-1,o=0,f=-1;for(T=0;T<a.length;T++)C=a[T][0].trace,v=C.stackgroup||"",v?v in r?t=r[v]:(t=r[v]=o,o++):C.fill in H&&f>=0?t=f:(t=f=o,o++),t<n&&(s=!0),C._groupIndex=n=t;var u=a.slice();s&&u.sort(function(c,A){var h=c[0].trace,l=A[0].trace;return h._groupIndex-l._groupIndex||h.index-l.index});var m={};for(T=0;T<u.length;T++)C=u[T][0].trace,v=C.stackgroup||"",C.visible===!0?(C._nexttrace=null,C.fill in H&&(y=m[v],C._prevtrace=y||null,y&&(y._nexttrace=C)),C._ownfill=C.fill&&(C.fill.substr(0,6)==="tozero"||C.fill==="toself"||C.fill.substr(0,2)==="to"&&!C._prevtrace),m[v]=C):C._prevtrace=C._nexttrace=C._ownfill=null;return u}},39984:function(W,H,e){var g=e(92770);W.exports=function(a,C){C||(C=2);var T=a.marker,v=T.sizeref||1,y=T.sizemin||0,t=T.sizemode==="area"?function(r){return Math.sqrt(r/v)}:function(r){return r/v};return function(r){var s=t(r/C);return g(s)&&s>0?Math.max(s,y):0}}},4898:function(W){W.exports={container:"marker",min:"cmin",max:"cmax"}},49508:function(W,H,e){var g=e(7901),R=e(52075).hasColorscale,a=e(1586),C=e(34098);W.exports=function(v,y,t,r,s,n){var o=C.isBubble(v),f=(v.line||{}).color,u;if(n=n||{},f&&(t=f),s("marker.symbol"),s("marker.opacity",o?.7:1),s("marker.size"),n.noAngle||(s("marker.angle"),n.noAngleRef||s("marker.angleref"),n.noStandOff||s("marker.standoff")),s("marker.color",t),R(v,"marker")&&a(v,y,r,s,{prefix:"marker.",cLetter:"c"}),n.noSelect||(s("selected.marker.color"),s("unselected.marker.color"),s("selected.marker.size"),s("unselected.marker.size")),n.noLine||(f&&!Array.isArray(f)&&y.marker.color!==f?u=f:o?u=g.background:u=g.defaultLine,s("marker.line.color",u),R(v,"marker.line")&&a(v,y,r,s,{prefix:"marker.line.",cLetter:"c"}),s("marker.line.width",o?1:0)),o&&(s("marker.sizeref"),s("marker.sizemin"),s("marker.sizemode")),n.gradient){var m=s("marker.gradient.type");m!=="none"&&s("marker.gradient.color")}}},73927:function(W,H,e){var g=e(71828).dateTick0,R=e(50606),a=R.ONEWEEK;function C(T,v){return T%a===0?g(v,1):g(v,0)}W.exports=function(v,y,t,r,s){if(s||(s={x:!0,y:!0}),s.x){var n=r("xperiod");n&&(r("xperiod0",C(n,y.xcalendar)),r("xperiodalignment"))}if(s.y){var o=r("yperiod");o&&(r("yperiod0",C(o,y.ycalendar)),r("yperiodalignment"))}}},32663:function(W,H,e){var g=e(39898),R=e(73972),a=e(71828),C=a.ensureSingle,T=a.identity,v=e(91424),y=e(34098),t=e(34621),r=e(68687),s=e(61082).tester;W.exports=function(m,c,A,h,l,p){var M,S,P=!l,x=!!l&&l.duration>0,E=r(m,c,A);if(M=h.selectAll("g.trace").data(E,function(i){return i[0].trace.uid}),M.enter().append("g").attr("class",function(i){return"trace scatter trace"+i[0].trace.uid}).style("stroke-miterlimit",2),M.order(),n(m,M,c),x){p&&(S=p());var w=g.transition().duration(l.duration).ease(l.easing).each("end",function(){S&&S()}).each("interrupt",function(){S&&S()});w.each(function(){h.selectAll("g.trace").each(function(i,L){o(m,L,c,i,E,this,l)})})}else M.each(function(i,L){o(m,L,c,i,E,this,l)});P&&M.exit().remove(),h.selectAll("path:not([d])").remove()};function n(u,m,c){m.each(function(A){var h=C(g.select(this),"g","fills");v.setClipUrl(h,c.layerClipId,u);var l=A[0].trace,p=[];l._ownfill&&p.push("_ownFill"),l._nexttrace&&p.push("_nextFill");var M=h.selectAll("g").data(p,T);M.enter().append("g"),M.exit().each(function(S){l[S]=null}).remove(),M.order().each(function(S){l[S]=C(g.select(this),"path","js-fill")})})}function o(u,m,c,A,h,l,p){var M=u._context.staticPlot,S;f(u,m,c,A,h);var P=!!p&&p.duration>0;function x(ke){return P?ke.transition():ke}var E=c.xaxis,w=c.yaxis,i=A[0].trace,L=i.line,b=g.select(l),O=C(b,"g","errorbars"),_=C(b,"g","lines"),N=C(b,"g","points"),z=C(b,"g","text");if(R.getComponentMethod("errorbars","plot")(u,O,c,p),i.visible!==!0)return;x(b).style("opacity",i.opacity);var B,U,F=i.fill.charAt(i.fill.length-1);F!=="x"&&F!=="y"&&(F=""),A[0][c.isRangePlot?"nodeRangePlot3":"node3"]=b;var V="",j=[],$=i._prevtrace;$&&(V=$._prevRevpath||"",U=$._nextFill,j=$._polygons);var ne,oe,ce="",Q="",Z,K,J,re,le,q,ee,ue=[],se=a.noop;if(B=i._ownFill,y.hasLines(i)||i.fill!=="none"){for(U&&U.datum(A),["hv","vh","hvh","vhv"].indexOf(L.shape)!==-1?(Z=v.steps(L.shape),K=v.steps(L.shape.split("").reverse().join(""))):L.shape==="spline"?Z=K=function(ke){var Ge=ke[ke.length-1];return ke.length>1&&ke[0][0]===Ge[0]&&ke[0][1]===Ge[1]?v.smoothclosed(ke.slice(1),L.smoothing):v.smoothopen(ke,L.smoothing)}:Z=K=function(ke){return"M"+ke.join("L")},J=function(ke){return K(ke.reverse())},ue=t(A,{xaxis:E,yaxis:w,trace:i,connectGaps:i.connectgaps,baseTolerance:Math.max(L.width||1,3)/4,shape:L.shape,backoff:L.backoff,simplify:L.simplify,fill:i.fill}),ee=i._polygons=new Array(ue.length),S=0;S<ue.length;S++)i._polygons[S]=s(ue[S]);ue.length&&(re=ue[0][0],le=ue[ue.length-1],q=le[le.length-1]),se=function(ke){return function(Ge){if(ne=Z(Ge),oe=J(Ge),ce?F?(ce+="L"+ne.substr(1),Q=oe+("L"+Q.substr(1))):(ce+="Z"+ne,Q=oe+"Z"+Q):(ce=ne,Q=oe),y.hasLines(i)){var it=g.select(this);if(it.datum(A),ke)x(it.style("opacity",0).attr("d",ne).call(v.lineGroupStyle)).style("opacity",1);else{var et=x(it);et.attr("d",ne),v.singleLineStyle(A,et)}}}}}var he=_.selectAll(".js-line").data(ue);x(he.exit()).style("opacity",0).remove(),he.each(se(!1)),he.enter().append("path").classed("js-line",!0).style("vector-effect",M?"none":"non-scaling-stroke").call(v.lineGroupStyle).each(se(!0)),v.setClipUrl(he,c.layerClipId,u);function me(ke){x(ke).attr("d","M0,0Z")}ue.length?(B?(B.datum(A),re&&q&&(F?(F==="y"?re[1]=q[1]=w.c2p(0,!0):F==="x"&&(re[0]=q[0]=E.c2p(0,!0)),x(B).attr("d","M"+q+"L"+re+"L"+ce.substr(1)).call(v.singleFillStyle,u)):x(B).attr("d",ce+"Z").call(v.singleFillStyle,u))):U&&(i.fill.substr(0,6)==="tonext"&&ce&&V?(i.fill==="tonext"?x(U).attr("d",ce+"Z"+V+"Z").call(v.singleFillStyle,u):x(U).attr("d",ce+"L"+V.substr(1)+"Z").call(v.singleFillStyle,u),i._polygons=i._polygons.concat(j)):(me(U),i._polygons=null)),i._prevRevpath=Q,i._prevPolygons=ee):(B?me(B):U&&me(U),i._polygons=i._prevRevpath=i._prevPolygons=null);function Ce(ke){return ke.filter(function(Ge){return!Ge.gap&&Ge.vis})}function Te(ke){return ke.filter(function(Ge){return Ge.vis})}function Oe(ke){return ke.filter(function(Ge){return!Ge.gap})}function Ne(ke){return ke.id}function Le(ke){if(ke.ids)return Ne}function be(){return!1}function Ae(ke,Ge,it){var et,tt,at,vt=it[0].trace,yt=y.hasMarkers(vt),gt=y.hasText(vt),Mt=Le(vt),Ct=be,Vt=be;if(yt||gt){var Je=T,ze=vt.stackgroup,_e=ze&&u._fullLayout._scatterStackOpts[E._id+w._id][ze].stackgaps==="infer zero";vt.marker.maxdisplayed||vt._needsCull?Je=_e?Te:Ce:ze&&!_e&&(Je=Oe),yt&&(Ct=Je),gt&&(Vt=Je)}tt=ke.selectAll("path.point"),et=tt.data(Ct,Mt);var Be=et.enter().append("path").classed("point",!0);P&&Be.call(v.pointStyle,vt,u).call(v.translatePoints,E,w).style("opacity",0).transition().style("opacity",1),et.order();var De;yt&&(De=v.makePointStyleFns(vt)),et.each(function(we){var xe=g.select(this),Ee=x(xe);at=v.translatePoint(we,Ee,E,w),at?(v.singlePointStyle(we,Ee,vt,De,u),c.layerClipId&&v.hideOutsideRangePoint(we,Ee,E,w,vt.xcalendar,vt.ycalendar),vt.customdata&&xe.classed("plotly-customdata",we.data!==null&&we.data!==void 0)):Ee.remove()}),P?et.exit().transition().style("opacity",0).remove():et.exit().remove(),tt=Ge.selectAll("g"),et=tt.data(Vt,Mt),et.enter().append("g").classed("textpoint",!0).append("text"),et.order(),et.each(function(we){var xe=g.select(this),Ee=x(xe.select("text"));at=v.translatePoint(we,Ee,E,w),at?c.layerClipId&&v.hideOutsideRangePoint(we,xe,E,w,vt.xcalendar,vt.ycalendar):xe.remove()}),et.selectAll("text").call(v.textPointStyle,vt,u).each(function(we){var xe=E.c2p(we.x),Ee=w.c2p(we.y);g.select(this).selectAll("tspan.line").each(function(){x(g.select(this)).attr({x:xe,y:Ee})})}),et.exit().remove()}N.datum(A),z.datum(A),Ae(N,z,A);var He=i.cliponaxis===!1,Ve=He?null:c.layerClipId;v.setClipUrl(N,Ve,u),v.setClipUrl(z,Ve,u)}function f(u,m,c,A,h){var l=c.xaxis,p=c.yaxis,M=g.extent(a.simpleMap(l.range,l.r2c)),S=g.extent(a.simpleMap(p.range,p.r2c)),P=A[0].trace;if(y.hasMarkers(P)){var x=P.marker.maxdisplayed;if(x!==0){var E=A.filter(function(b){return b.x>=M[0]&&b.x<=M[1]&&b.y>=S[0]&&b.y<=S[1]}),w=Math.ceil(E.length/x),i=0;h.forEach(function(b,O){var _=b[0].trace;y.hasMarkers(_)&&_.marker.maxdisplayed>0&&O<m&&i++});var L=Math.round(i*w/3+Math.floor(i/3)*w/7.1);A.forEach(function(b){delete b.vis}),E.forEach(function(b,O){Math.round((O+L)%w)===0&&(b.vis=!0)})}}}},98002:function(W,H,e){var g=e(34098);W.exports=function(a,C){var T=a.cd,v=a.xaxis,y=a.yaxis,t=[],r=T[0].trace,s,n,o,f,u=!g.hasMarkers(r)&&!g.hasText(r);if(u)return[];if(C===!1)for(s=0;s<T.length;s++)T[s].selected=0;else for(s=0;s<T.length;s++)n=T[s],o=v.c2p(n.x),f=y.c2p(n.y),n.i!==null&&C.contains([o,f],!1,s,a)?(t.push({pointNumber:n.i,x:v.c2d(n.x),y:y.c2d(n.y)}),n.selected=1):n.selected=0;return t}},565:function(W){var H=["orientation","groupnorm","stackgaps"];W.exports=function(g,R,a,C){var T=a._scatterStackOpts,v=C("stackgroup");if(v){var y=R.xaxis+R.yaxis,t=T[y];t||(t=T[y]={});var r=t[v],s=!1;r?r.traces.push(R):(r=t[v]={traceIndices:[],traces:[R]},s=!0);for(var n={orientation:R.x&&!R.y?"h":"v"},o=0;o<H.length;o++){var f=H[o],u=f+"Found";if(!r[u]){var m=g[f]!==void 0,c=f==="orientation";if((m||s)&&(r[f]=C(f,n[f]),c&&(r.fillDflt=r[f]==="h"?"tonextx":"tonexty"),m&&(r[u]=!0,!s&&(delete r.traces[0][f],c))))for(var A=0;A<r.traces.length-1;A++){var h=r.traces[A];h._input.fill!==h.fill&&(h.fill=r.fillDflt)}}}return r}}},16296:function(W,H,e){var g=e(39898),R=e(91424),a=e(73972);function C(t){var r=g.select(t).selectAll("g.trace.scatter");r.style("opacity",function(s){return s[0].trace.opacity}),r.selectAll("g.points").each(function(s){var n=g.select(this),o=s.trace||s[0].trace;T(n,o,t)}),r.selectAll("g.text").each(function(s){var n=g.select(this),o=s.trace||s[0].trace;v(n,o,t)}),r.selectAll("g.trace path.js-line").call(R.lineGroupStyle),r.selectAll("g.trace path.js-fill").call(R.fillGroupStyle,t),a.getComponentMethod("errorbars","style")(r)}function T(t,r,s){R.pointStyle(t.selectAll("path.point"),r,s)}function v(t,r,s){R.textPointStyle(t.selectAll("text"),r,s)}function y(t,r,s){var n=r[0].trace;n.selectedpoints?(R.selectedPointStyle(s.selectAll("path.point"),n),R.selectedTextStyle(s.selectAll("text"),n)):(T(s,n,t),v(s,n,t))}W.exports={style:C,stylePoints:T,styleText:v,styleOnSelect:y}},34098:function(W,H,e){var g=e(71828);W.exports={hasLines:function(R){return R.visible&&R.mode&&R.mode.indexOf("lines")!==-1},hasMarkers:function(R){return R.visible&&(R.mode&&R.mode.indexOf("markers")!==-1||R.type==="splom")},hasText:function(R){return R.visible&&R.mode&&R.mode.indexOf("text")!==-1},isBubble:function(R){return g.isPlainObject(R.marker)&&g.isArrayOrTypedArray(R.marker.size)}}},82410:function(W,H,e){var g=e(71828);W.exports=function(R,a,C,T,v){v=v||{},T("textposition"),g.coerceFont(T,"textfont",v.font||C.font),v.noSelect||(T("selected.textfont.color"),T("unselected.textfont.color"))}},67513:function(W,H,e){var g=e(71828),R=e(73972);W.exports=function(C,T,v,y){var t=y("x"),r=y("y"),s,n=R.getComponentMethod("calendars","handleTraceDefaults");if(n(C,T,["x","y"],v),t){var o=g.minRowLength(t);r?s=Math.min(o,g.minRowLength(r)):(s=o,y("y0"),y("dy"))}else{if(!r)return 0;s=g.minRowLength(r),y("x0"),y("dx")}return T._length=s,s}},44542:function(W,H,e){var g=e(82196),R=e(50693),a=e(12663).axisHoverFormat,C=e(5386).fF,T=e(5386).si,v=e(9012),y=e(29659),t=e(87381),r=e(1426).extendFlat,s=e(30962).overrideAll,n=e(78607),o=g.line,f=g.marker,u=f.line,m=r({width:o.width,dash:{valType:"enumerated",values:n(y),dflt:"solid"}},R("line"));function c(h){return{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:.6666666666666666}}}var A=W.exports=s({x:g.x,y:g.y,z:{valType:"data_array"},text:r({},g.text,{}),texttemplate:T({},{}),hovertext:r({},g.hovertext,{}),hovertemplate:C(),xhoverformat:a("x"),yhoverformat:a("y"),zhoverformat:a("z"),mode:r({},g.mode,{dflt:"lines+markers"}),surfaceaxis:{valType:"enumerated",values:[-1,0,1,2],dflt:-1},surfacecolor:{valType:"color"},projection:{x:c(),y:c(),z:c()},connectgaps:g.connectgaps,line:m,marker:r({symbol:{valType:"enumerated",values:n(t),dflt:"circle",arrayOk:!0},size:r({},f.size,{dflt:8}),sizeref:f.sizeref,sizemin:f.sizemin,sizemode:f.sizemode,opacity:r({},f.opacity,{arrayOk:!1}),colorbar:f.colorbar,line:r({width:r({},u.width,{arrayOk:!1})},R("marker.line"))},R("marker")),textposition:r({},g.textposition,{dflt:"top center"}),textfont:{color:g.textfont.color,size:g.textfont.size,family:r({},g.textfont.family,{arrayOk:!1})},opacity:v.opacity,hoverinfo:r({},v.hoverinfo)},"calc","nested");A.x.editType=A.y.editType=A.z.editType="calc+clearAxisTypes"},36563:function(W,H,e){var g=e(75225),R=e(36922);W.exports=function(C,T){var v=[{x:!1,y:!1,trace:T,t:{}}];return g(v,T),R(C,T),v}},67336:function(W,H,e){var g=e(73972);function R(T,v,y,t){if(!v||!v.visible)return null;for(var r=g.getComponentMethod("errorbars","makeComputeError")(v),s=new Array(T.length),n=0;n<T.length;n++){var o=r(+T[n],n);if(t.type==="log"){var f=t.c2l(T[n]),u=T[n]-o[0],m=T[n]+o[1];if(s[n]=[(t.c2l(u,!0)-f)*y,(t.c2l(m,!0)-f)*y],u>0){var c=t.c2l(u);t._lowerLogErrorBound||(t._lowerLogErrorBound=c),t._lowerErrorBound=Math.min(t._lowerLogErrorBound,c)}}else s[n]=[-o[0]*y,o[1]*y]}return s}function a(T){for(var v=0;v<T.length;v++)if(T[v])return T[v].length;return 0}function C(T,v,y){var t=[R(T.x,T.error_x,v[0],y.xaxis),R(T.y,T.error_y,v[1],y.yaxis),R(T.z,T.error_z,v[2],y.zaxis)],r=a(t);if(r===0)return null;for(var s=new Array(r),n=0;n<r;n++){for(var o=[[0,0,0],[0,0,0]],f=0;f<3;f++)if(t[f])for(var u=0;u<2;u++)o[u][f]=t[f][n][u];s[n]=o}return s}W.exports=C},58925:function(W,H,e){var g=e(9330).gl_line3d,R=e(9330).gl_scatter3d,a=e(9330).gl_error3d,C=e(9330).gl_mesh3d,T=e(9330).delaunay_triangulate,v=e(71828),y=e(78614),t=e(81697).formatColor,r=e(39984),s=e(29659),n=e(87381),o=e(89298),f=e(23469).appendArrayPointValue,u=e(67336);function m(b,O){this.scene=b,this.uid=O,this.linePlot=null,this.scatterPlot=null,this.errorBars=null,this.textMarkers=null,this.delaunayMesh=null,this.color=null,this.mode="",this.dataPoints=[],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.textLabels=null,this.data=null}var c=m.prototype;c.handlePick=function(b){if(b.object&&(b.object===this.linePlot||b.object===this.delaunayMesh||b.object===this.textMarkers||b.object===this.scatterPlot)){var O=b.index=b.data.index;return b.object.highlight&&b.object.highlight(null),this.scatterPlot&&(b.object=this.scatterPlot,this.scatterPlot.highlight(b.data)),b.textLabel="",this.textLabels&&(Array.isArray(this.textLabels)?(this.textLabels[O]||this.textLabels[O]===0)&&(b.textLabel=this.textLabels[O]):b.textLabel=this.textLabels),b.traceCoordinate=[this.data.x[O],this.data.y[O],this.data.z[O]],!0}};function A(b,O,_){var N=(_+1)%3,z=(_+2)%3,B=[],U=[],F;for(F=0;F<b.length;++F){var V=b[F];isNaN(V[N])||!isFinite(V[N])||isNaN(V[z])||!isFinite(V[z])||(B.push([V[N],V[z]]),U.push(F))}var j=T(B);for(F=0;F<j.length;++F)for(var $=j[F],ne=0;ne<$.length;++ne)$[ne]=U[$[ne]];return{positions:b,cells:j,meshColor:O}}function h(b){for(var O=[0,0,0],_=[[0,0,0],[0,0,0],[0,0,0]],N=[1,1,1],z=0;z<3;z++){var B=b[z];B&&B.copy_zstyle!==!1&&b[2].visible!==!1&&(B=b[2]),!(!B||!B.visible)&&(O[z]=B.width/2,_[z]=y(B.color),N[z]=B.thickness)}return{capSize:O,color:_,lineWidth:N}}function l(b){return b==null?0:b.indexOf("left")>-1?-1:b.indexOf("right")>-1?1:0}function p(b){return b==null?0:b.indexOf("top")>-1?-1:b.indexOf("bottom")>-1?1:0}function M(b){var O=0,_=0,N=[O,_];if(Array.isArray(b))for(var z=0;z<b.length;z++)N[z]=[O,_],b[z]&&(N[z][0]=l(b[z]),N[z][1]=p(b[z]));else N[0]=l(b),N[1]=p(b);return N}function S(b,O){return O(b*4)}function P(b){return n[b]}function x(b,O,_,N,z){var B=null;if(v.isArrayOrTypedArray(b)){B=[];for(var U=0;U<O;U++)b[U]===void 0?B[U]=N:B[U]=_(b[U],z)}else B=_(b,v.identity);return B}function E(b,O){var _=[],N=b.fullSceneLayout,z=b.dataScale,B=N.xaxis,U=N.yaxis,F=N.zaxis,V=O.marker,j=O.line,$=O.x||[],ne=O.y||[],oe=O.z||[],ce=$.length,Q=O.xcalendar,Z=O.ycalendar,K=O.zcalendar,J,re,le,q,ee,ue;for(ee=0;ee<ce;ee++)J=B.d2l($[ee],0,Q)*z[0],re=U.d2l(ne[ee],0,Z)*z[1],le=F.d2l(oe[ee],0,K)*z[2],_[ee]=[J,re,le];if(Array.isArray(O.text))ue=O.text;else if(O.text!==void 0)for(ue=new Array(ce),ee=0;ee<ce;ee++)ue[ee]=O.text;function se(et,tt){var at=N[et];return o.tickText(at,at.d2l(tt),!0).text}var he=O.texttemplate;if(he){var me=b.fullLayout,Ce=me._d3locale,Te=Array.isArray(he),Oe=Te?Math.min(he.length,ce):ce,Ne=Te?function(et){return he[et]}:function(){return he};for(ue=new Array(Oe),ee=0;ee<Oe;ee++){var Le={x:$[ee],y:ne[ee],z:oe[ee]},be={xLabel:se("xaxis",$[ee]),yLabel:se("yaxis",ne[ee]),zLabel:se("zaxis",oe[ee])},Ae={};f(Ae,O,ee);var He=O._meta||{};ue[ee]=v.texttemplateString(Ne(ee),be,Ce,Ae,Le,He)}}if(q={position:_,mode:O.mode,text:ue},"line"in O&&(q.lineColor=t(j,1,ce),q.lineWidth=j.width,q.lineDashes=j.dash),"marker"in O){var Ve=r(O);q.scatterColor=t(V,1,ce),q.scatterSize=x(V.size,ce,S,20,Ve),q.scatterMarker=x(V.symbol,ce,P,""),q.scatterLineWidth=V.line.width,q.scatterLineColor=t(V.line,1,ce),q.scatterAngle=0}"textposition"in O&&(q.textOffset=M(O.textposition),q.textColor=t(O.textfont,1,ce),q.textSize=x(O.textfont.size,ce,v.identity,12),q.textFont=O.textfont.family,q.textAngle=0);var ke=["x","y","z"];for(q.project=[!1,!1,!1],q.projectScale=[1,1,1],q.projectOpacity=[1,1,1],ee=0;ee<3;++ee){var Ge=O.projection[ke[ee]];(q.project[ee]=Ge.show)&&(q.projectOpacity[ee]=Ge.opacity,q.projectScale[ee]=Ge.scale)}q.errorBounds=u(O,z,N);var it=h([O.error_x,O.error_y,O.error_z]);return q.errorColor=it.color,q.errorLineWidth=it.lineWidth,q.errorCapSize=it.capSize,q.delaunayAxis=O.surfaceaxis,q.delaunayColor=y(O.surfacecolor),q}function w(b){if(v.isArrayOrTypedArray(b)){var O=b[0];return v.isArrayOrTypedArray(O)&&(b=O),"rgb("+b.slice(0,3).map(function(_){return Math.round(_*255)})+")"}return null}function i(b){return v.isArrayOrTypedArray(b)?b.length===4&&typeof b[0]=="number"?w(b):b.map(w):null}c.update=function(b){var O=this.scene.glplot.gl,_,N,z,B,U=s.solid;this.data=b;var F=E(this.scene,b);"mode"in F&&(this.mode=F.mode),"lineDashes"in F&&F.lineDashes in s&&(U=s[F.lineDashes]),this.color=i(F.scatterColor)||i(F.lineColor),this.dataPoints=F.position,_={gl:this.scene.glplot.gl,position:F.position,color:F.lineColor,lineWidth:F.lineWidth||1,dashes:U[0],dashScale:U[1],opacity:b.opacity,connectGaps:b.connectgaps},this.mode.indexOf("lines")!==-1?this.linePlot?this.linePlot.update(_):(this.linePlot=g(_),this.linePlot._trace=this,this.scene.glplot.add(this.linePlot)):this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose(),this.linePlot=null);var V=b.opacity;if(b.marker&&b.marker.opacity!==void 0&&(V*=b.marker.opacity),N={gl:this.scene.glplot.gl,position:F.position,color:F.scatterColor,size:F.scatterSize,glyph:F.scatterMarker,opacity:V,orthographic:!0,lineWidth:F.scatterLineWidth,lineColor:F.scatterLineColor,project:F.project,projectScale:F.projectScale,projectOpacity:F.projectOpacity},this.mode.indexOf("markers")!==-1?this.scatterPlot?this.scatterPlot.update(N):(this.scatterPlot=R(N),this.scatterPlot._trace=this,this.scatterPlot.highlightScale=1,this.scene.glplot.add(this.scatterPlot)):this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose(),this.scatterPlot=null),B={gl:this.scene.glplot.gl,position:F.position,glyph:F.text,color:F.textColor,size:F.textSize,angle:F.textAngle,alignment:F.textOffset,font:F.textFont,orthographic:!0,lineWidth:0,project:!1,opacity:b.opacity},this.textLabels=b.hovertext||b.text,this.mode.indexOf("text")!==-1?this.textMarkers?this.textMarkers.update(B):(this.textMarkers=R(B),this.textMarkers._trace=this,this.textMarkers.highlightScale=1,this.scene.glplot.add(this.textMarkers)):this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose(),this.textMarkers=null),z={gl:this.scene.glplot.gl,position:F.position,color:F.errorColor,error:F.errorBounds,lineWidth:F.errorLineWidth,capSize:F.errorCapSize,opacity:b.opacity},this.errorBars?F.errorBounds?this.errorBars.update(z):(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose(),this.errorBars=null):F.errorBounds&&(this.errorBars=a(z),this.errorBars._trace=this,this.scene.glplot.add(this.errorBars)),F.delaunayAxis>=0){var j=A(F.position,F.delaunayColor,F.delaunayAxis);j.opacity=b.opacity,this.delaunayMesh?this.delaunayMesh.update(j):(j.gl=O,this.delaunayMesh=C(j),this.delaunayMesh._trace=this,this.scene.glplot.add(this.delaunayMesh))}else this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose(),this.delaunayMesh=null)},c.dispose=function(){this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose()),this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose()),this.errorBars&&(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose()),this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose()),this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose())};function L(b,O){var _=new m(b,O.uid);return _.update(O),_}W.exports=L},21428:function(W,H,e){var g=e(73972),R=e(71828),a=e(34098),C=e(49508),T=e(11058),v=e(82410),y=e(44542);W.exports=function(s,n,o,f){function u(S,P){return R.coerce(s,n,y,S,P)}var m=t(s,n,u,f);if(!m){n.visible=!1;return}u("text"),u("hovertext"),u("hovertemplate"),u("xhoverformat"),u("yhoverformat"),u("zhoverformat"),u("mode"),a.hasLines(n)&&(u("connectgaps"),T(s,n,o,f,u)),a.hasMarkers(n)&&C(s,n,o,f,u,{noSelect:!0,noAngle:!0}),a.hasText(n)&&(u("texttemplate"),v(s,n,f,u,{noSelect:!0}));var c=(n.line||{}).color,A=(n.marker||{}).color;u("surfaceaxis")>=0&&u("surfacecolor",c||A);for(var h=["x","y","z"],l=0;l<3;++l){var p="projection."+h[l];u(p+".show")&&(u(p+".opacity"),u(p+".scale"))}var M=g.getComponentMethod("errorbars","supplyDefaults");M(s,n,c||A||o,{axis:"z"}),M(s,n,c||A||o,{axis:"y",inherit:"z"}),M(s,n,c||A||o,{axis:"x",inherit:"z"})};function t(r,s,n,o){var f=0,u=n("x"),m=n("y"),c=n("z"),A=g.getComponentMethod("calendars","handleTraceDefaults");return A(r,s,["x","y","z"],o),u&&m&&c&&(f=Math.min(u.length,m.length,c.length),s._length=s._xlength=s._ylength=s._zlength=f),f}},13551:function(W,H,e){W.exports={plot:e(58925),attributes:e(44542),markerSymbols:e(87381),supplyDefaults:e(21428),colorbar:[{container:"marker",min:"cmin",max:"cmax"},{container:"line",min:"cmin",max:"cmax"}],calc:e(36563),moduleType:"trace",name:"scatter3d",basePlotModule:e(58547),categories:["gl3d","symbols","showLegend","scatter-like"],meta:{}}},97001:function(W,H,e){var g=e(82196),R=e(9012),a=e(5386).fF,C=e(5386).si,T=e(50693),v=e(1426).extendFlat,y=g.marker,t=g.line,r=y.line;W.exports={carpet:{valType:"string",editType:"calc"},a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},mode:v({},g.mode,{dflt:"markers"}),text:v({},g.text,{}),texttemplate:C({editType:"plot"},{keys:["a","b","text"]}),hovertext:v({},g.hovertext,{}),line:{color:t.color,width:t.width,dash:t.dash,backoff:t.backoff,shape:v({},t.shape,{values:["linear","spline"]}),smoothing:t.smoothing,editType:"calc"},connectgaps:g.connectgaps,fill:v({},g.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:g.fillcolor,marker:v({symbol:y.symbol,opacity:y.opacity,maxdisplayed:y.maxdisplayed,angle:y.angle,angleref:y.angleref,standoff:y.standoff,size:y.size,sizeref:y.sizeref,sizemin:y.sizemin,sizemode:y.sizemode,line:v({width:r.width,editType:"calc"},T("marker.line")),gradient:y.gradient,editType:"calc"},T("marker")),textfont:g.textfont,textposition:g.textposition,selected:g.selected,unselected:g.unselected,hoverinfo:v({},R.hoverinfo,{flags:["a","b","text","name"]}),hoveron:g.hoveron,hovertemplate:a()}},34618:function(W,H,e){var g=e(92770),R=e(36922),a=e(75225),C=e(66279),T=e(47761).calcMarkerSize,v=e(22882);W.exports=function(t,r){var s=r._carpetTrace=v(t,r);if(!(!s||!s.visible||s.visible==="legendonly")){var n;r.xaxis=s.xaxis,r.yaxis=s.yaxis;var o=r._length,f=new Array(o),u,m,c=!1;for(n=0;n<o;n++)if(u=r.a[n],m=r.b[n],g(u)&&g(m)){var A=s.ab2xy(+u,+m,!0),h=s.isVisible(+u,+m);h||(c=!0),f[n]={x:A[0],y:A[1],a:u,b:m,vis:h}}else f[n]={x:!1,y:!1};return r._needsCull=c,f[0].carpet=s,f[0].trace=r,T(r,o),R(t,r),a(f,r),C(f,r),f}}},98965:function(W,H,e){var g=e(71828),R=e(47581),a=e(34098),C=e(49508),T=e(11058),v=e(94039),y=e(82410),t=e(28908),r=e(97001);W.exports=function(n,o,f,u){function m(S,P){return g.coerce(n,o,r,S,P)}m("carpet"),o.xaxis="x",o.yaxis="y";var c=m("a"),A=m("b"),h=Math.min(c.length,A.length);if(!h){o.visible=!1;return}o._length=h,m("text"),m("texttemplate"),m("hovertext");var l=h<R.PTS_LINESONLY?"lines+markers":"lines";m("mode",l),a.hasLines(o)&&(T(n,o,f,u,m,{backoff:!0}),v(n,o,m),m("connectgaps")),a.hasMarkers(o)&&C(n,o,f,u,m,{gradient:!0}),a.hasText(o)&&y(n,o,u,m);var p=[];(a.hasMarkers(o)||a.hasText(o))&&(m("marker.maxdisplayed"),p.push("points")),m("fill"),o.fill!=="none"&&(t(n,o,f,m),a.hasLines(o)||v(n,o,m)),(o.fill==="tonext"||o.fill==="toself")&&p.push("fills");var M=m("hoveron",p.join("+")||"points");M!=="fills"&&m("hovertemplate"),g.coerceSelectionMarkerOpacity(o,m)}},16165:function(W){W.exports=function(e,g,R,a,C){var T=a[C];return e.a=T.a,e.b=T.b,e.y=T.y,e}},48953:function(W){W.exports=function(e,g){var R={},a=g._carpet,C=a.ab2ij([e.a,e.b]),T=Math.floor(C[0]),v=C[0]-T,y=Math.floor(C[1]),t=C[1]-y,r=a.evalxy([],T,y,v,t);return R.yLabel=r[1].toFixed(3),R}},22931:function(W,H,e){var g=e(33720),R=e(71828).fillText;W.exports=function(C,T,v,y){var t=g(C,T,v,y);if(!t||t[0].index===!1)return;var r=t[0];if(r.index===void 0){var s=1-r.y0/C.ya._length,n=C.xa._length,o=n*s/2,f=n-o;return r.x0=Math.max(Math.min(r.x0,f),o),r.x1=Math.max(Math.min(r.x1,f),o),t}var u=r.cd[r.index];r.a=u.a,r.b=u.b,r.xLabelVal=void 0,r.yLabelVal=void 0;var m=r.trace,c=m._carpet,A=m._module.formatLabels(u,m);r.yLabel=A.yLabel,delete r.text;var h=[];function l(S,P){var x;S.labelprefix&&S.labelprefix.length>0?x=S.labelprefix.replace(/ = $/,""):x=S._hovertitle,h.push(x+": "+P.toFixed(3)+S.labelsuffix)}if(!m.hovertemplate){var p=u.hi||m.hoverinfo,M=p.split("+");M.indexOf("all")!==-1&&(M=["a","b","text"]),M.indexOf("a")!==-1&&l(c.aaxis,u.a),M.indexOf("b")!==-1&&l(c.baxis,u.b),h.push("y: "+r.yLabel),M.indexOf("text")!==-1&&R(u,m,h),r.extraText=h.join("<br>")}return t}},46858:function(W,H,e){W.exports={attributes:e(97001),supplyDefaults:e(98965),colorbar:e(4898),formatLabels:e(48953),calc:e(34618),plot:e(1913),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(22931),selectPoints:e(98002),eventData:e(16165),moduleType:"trace",name:"scattercarpet",basePlotModule:e(93612),categories:["svg","carpet","symbols","showLegend","carpetDependent","zoomScale"],meta:{}}},1913:function(W,H,e){var g=e(32663),R=e(89298),a=e(91424);W.exports=function(T,v,y,t){var r,s,n,o=y[0][0].carpet,f=R.getFromId(T,o.xaxis||"x"),u=R.getFromId(T,o.yaxis||"y"),m={xaxis:f,yaxis:u,plot:v.plot};for(r=0;r<y.length;r++)s=y[r][0].trace,s._xA=f,s._yA=u;for(g(T,m,y,t),r=0;r<y.length;r++)s=y[r][0].trace,n=t.selectAll("g.trace"+s.uid+" .js-line"),a.setClipUrl(n,y[r][0].carpet._clipPathId,T)}},19316:function(W,H,e){var g=e(5386).fF,R=e(5386).si,a=e(82196),C=e(9012),T=e(50693),v=e(79952).P,y=e(1426).extendFlat,t=e(30962).overrideAll,r=a.marker,s=a.line,n=r.line;W.exports=t({lon:{valType:"data_array"},lat:{valType:"data_array"},locations:{valType:"data_array"},locationmode:{valType:"enumerated",values:["ISO-3","USA-states","country names","geojson-id"],dflt:"ISO-3"},geojson:{valType:"any",editType:"calc"},featureidkey:{valType:"string",editType:"calc",dflt:"id"},mode:y({},a.mode,{dflt:"markers"}),text:y({},a.text,{}),texttemplate:R({editType:"plot"},{keys:["lat","lon","location","text"]}),hovertext:y({},a.hovertext,{}),textfont:a.textfont,textposition:a.textposition,line:{color:s.color,width:s.width,dash:v},connectgaps:a.connectgaps,marker:y({symbol:r.symbol,opacity:r.opacity,angle:r.angle,angleref:y({},r.angleref,{values:["previous","up","north"]}),standoff:r.standoff,size:r.size,sizeref:r.sizeref,sizemin:r.sizemin,sizemode:r.sizemode,colorbar:r.colorbar,line:y({width:n.width},T("marker.line")),gradient:r.gradient},T("marker")),fill:{valType:"enumerated",values:["none","toself"],dflt:"none"},fillcolor:a.fillcolor,selected:a.selected,unselected:a.unselected,hoverinfo:y({},C.hoverinfo,{flags:["lon","lat","location","text","name"]}),hovertemplate:g()},"calc","nested")},84622:function(W,H,e){var g=e(92770),R=e(50606).BADNUM,a=e(36922),C=e(75225),T=e(66279),v=e(71828)._;function y(t){return t&&typeof t=="string"}W.exports=function(r,s){var n=Array.isArray(s.locations),o=n?s.locations.length:s._length,f=new Array(o),u;s.geojson?u=function(p){return y(p)||g(p)}:u=y;for(var m=0;m<o;m++){var c=f[m]={};if(n){var A=s.locations[m];c.loc=u(A)?A:null}else{var h=s.lon[m],l=s.lat[m];g(h)&&g(l)?c.lonlat=[+h,+l]:c.lonlat=[R,R]}}return C(f,s),a(r,s),T(f,s),o&&(f[0].t={labels:{lat:v(r,"lat:")+" ",lon:v(r,"lon:")+" "}}),f}},10659:function(W,H,e){var g=e(71828),R=e(34098),a=e(49508),C=e(11058),T=e(82410),v=e(28908),y=e(19316);W.exports=function(r,s,n,o){function f(M,S){return g.coerce(r,s,y,M,S)}var u=f("locations"),m;if(u&&u.length){var c=f("geojson"),A;(typeof c=="string"&&c!==""||g.isPlainObject(c))&&(A="geojson-id");var h=f("locationmode",A);h==="geojson-id"&&f("featureidkey"),m=u.length}else{var l=f("lon")||[],p=f("lat")||[];m=Math.min(l.length,p.length)}if(!m){s.visible=!1;return}s._length=m,f("text"),f("hovertext"),f("hovertemplate"),f("mode"),R.hasLines(s)&&(C(r,s,n,o,f),f("connectgaps")),R.hasMarkers(s)&&a(r,s,n,o,f,{gradient:!0}),R.hasText(s)&&(f("texttemplate"),T(r,s,o,f)),f("fill"),s.fill!=="none"&&v(r,s,n,f),g.coerceSelectionMarkerOpacity(s,f)}},84084:function(W){W.exports=function(e,g,R,a,C){e.lon=g.lon,e.lat=g.lat,e.location=g.loc?g.loc:null;var T=a[C];return T.fIn&&T.fIn.properties&&(e.properties=T.fIn.properties),e}},82719:function(W,H,e){var g=e(89298);W.exports=function(a,C,T){var v={},y=T[C.geo]._subplot,t=y.mockAxis,r=a.lonlat;return v.lonLabel=g.tickText(t,t.c2l(r[0]),!0).text,v.latLabel=g.tickText(t,t.c2l(r[1]),!0).text,v}},14977:function(W,H,e){var g=e(30211),R=e(50606).BADNUM,a=e(34603),C=e(71828).fillText,T=e(19316);W.exports=function(t,r,s){var n=t.cd,o=n[0].trace,f=t.xa,u=t.ya,m=t.subplot,c=m.projection.isLonLatOverEdges,A=m.project;function h(E){var w=E.lonlat;if(w[0]===R||c(w))return 1/0;var i=A(w),L=A([r,s]),b=Math.abs(i[0]-L[0]),O=Math.abs(i[1]-L[1]),_=Math.max(3,E.mrc||0);return Math.max(Math.sqrt(b*b+O*O)-_,1-3/_)}if(g.getClosest(n,h,t),t.index!==!1){var l=n[t.index],p=l.lonlat,M=[f.c2p(p),u.c2p(p)],S=l.mrc||1;t.x0=M[0]-S,t.x1=M[0]+S,t.y0=M[1]-S,t.y1=M[1]+S,t.loc=l.loc,t.lon=p[0],t.lat=p[1];var P={};P[o.geo]={_subplot:m};var x=o._module.formatLabels(l,o,P);return t.lonLabel=x.lonLabel,t.latLabel=x.latLabel,t.color=a(o,l),t.extraText=v(o,l,t,n[0].t.labels),t.hovertemplate=o.hovertemplate,[t]}};function v(y,t,r,s){if(y.hovertemplate)return;var n=t.hi||y.hoverinfo,o=n==="all"?T.hoverinfo.flags:n.split("+"),f=o.indexOf("location")!==-1&&Array.isArray(y.locations),u=o.indexOf("lon")!==-1,m=o.indexOf("lat")!==-1,c=o.indexOf("text")!==-1,A=[];function h(l){return l+""}return f?A.push(t.loc):u&&m?A.push("("+h(r.latLabel)+", "+h(r.lonLabel)+")"):u?A.push(s.lon+h(r.lonLabel)):m&&A.push(s.lat+h(r.latLabel)),c&&C(t,y,A),A.join("<br>")}},17988:function(W,H,e){W.exports={attributes:e(19316),supplyDefaults:e(10659),colorbar:e(4898),formatLabels:e(82719),calc:e(84622),calcGeoJSON:e(89171).calcGeoJSON,plot:e(89171).plot,style:e(33095),styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(14977),eventData:e(84084),selectPoints:e(20548),moduleType:"trace",name:"scattergeo",basePlotModule:e(44622),categories:["geo","symbols","showLegend","scatter-like"],meta:{}}},89171:function(W,H,e){var g=e(39898),R=e(71828),a=e(90973).getTopojsonFeatures,C=e(18214),T=e(41327),v=e(71739).findExtremes,y=e(50606).BADNUM,t=e(47761).calcMarkerSize,r=e(34098),s=e(33095);function n(f,u,m){var c=u.layers.frontplot.select(".scatterlayer"),A=R.makeTraceGroups(c,m,"trace scattergeo");function h(l,p){l.lonlat[0]===y&&g.select(p).remove()}A.selectAll("*").remove(),A.each(function(l){var p=g.select(this),M=l[0].trace;if(r.hasLines(M)||M.fill!=="none"){var S=C.calcTraceToLineCoords(l),P=M.fill!=="none"?C.makePolygon(S):C.makeLine(S);p.selectAll("path.js-line").data([{geojson:P,trace:M}]).enter().append("path").classed("js-line",!0).style("stroke-miterlimit",2)}r.hasMarkers(M)&&p.selectAll("path.point").data(R.identity).enter().append("path").classed("point",!0).each(function(x){h(x,this)}),r.hasText(M)&&p.selectAll("g").data(R.identity).enter().append("g").append("text").each(function(x){h(x,this)}),s(f,l)})}function o(f,u){var m=f[0].trace,c=u[m.geo],A=c._subplot,h=m._length,l,p;if(Array.isArray(m.locations)){var M=m.locationmode,S=M==="geojson-id"?T.extractTraceFeature(f):a(m,A.topojson);for(l=0;l<h;l++){p=f[l];var P=M==="geojson-id"?p.fOut:T.locationToFeature(M,p.loc,S);p.lonlat=P?P.properties.ct:[y,y]}}var x={padded:!0},E,w;if(c.fitbounds==="geojson"&&m.locationmode==="geojson-id"){var i=T.computeBbox(T.getTraceGeojson(m));E=[i[0],i[2]],w=[i[1],i[3]]}else{for(E=new Array(h),w=new Array(h),l=0;l<h;l++)p=f[l],E[l]=p.lonlat[0],w[l]=p.lonlat[1];x.ppad=t(m,h)}m._extremes.lon=v(c.lonaxis._ax,E,x),m._extremes.lat=v(c.lataxis._ax,w,x)}W.exports={calcGeoJSON:o,plot:n}},20548:function(W,H,e){var g=e(34098),R=e(50606).BADNUM;W.exports=function(C,T){var v=C.cd,y=C.xaxis,t=C.yaxis,r=[],s=v[0].trace,n,o,f,u,m,c=!g.hasMarkers(s)&&!g.hasText(s);if(c)return[];if(T===!1)for(m=0;m<v.length;m++)v[m].selected=0;else for(m=0;m<v.length;m++)n=v[m],o=n.lonlat,o[0]!==R&&(f=y.c2p(o),u=t.c2p(o),T.contains([f,u],null,m,C)?(r.push({pointNumber:m,lon:o[0],lat:o[1]}),n.selected=1):n.selected=0);return r}},33095:function(W,H,e){var g=e(39898),R=e(91424),a=e(7901),C=e(16296),T=C.stylePoints,v=C.styleText;W.exports=function(r,s){s&&y(r,s)};function y(t,r){var s=r[0].trace,n=r[0].node3;n.style("opacity",r[0].trace.opacity),T(n,s,t),v(n,s,t),n.selectAll("path.js-line").style("fill","none").each(function(o){var f=g.select(this),u=o.trace,m=u.line||{};f.call(a.stroke,m.color).call(R.dashLine,m.dash||"",m.width||0),u.fill!=="none"&&f.call(a.fill,u.fillcolor)})}},42341:function(W,H,e){var g=e(9012),R=e(82196),a=e(12663).axisHoverFormat,C=e(50693),T=e(78607),v=e(1426).extendFlat,y=e(30962).overrideAll,t=e(78232).DASHES,r=R.line,s=R.marker,n=s.line,o=W.exports=y({x:R.x,x0:R.x0,dx:R.dx,y:R.y,y0:R.y0,dy:R.dy,xperiod:R.xperiod,yperiod:R.yperiod,xperiod0:R.xperiod0,yperiod0:R.yperiod0,xperiodalignment:R.xperiodalignment,yperiodalignment:R.yperiodalignment,xhoverformat:a("x"),yhoverformat:a("y"),text:R.text,hovertext:R.hovertext,textposition:R.textposition,textfont:R.textfont,mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"]},line:{color:r.color,width:r.width,shape:{valType:"enumerated",values:["linear","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},dash:{valType:"enumerated",values:T(t),dflt:"solid"}},marker:v({},C("marker"),{symbol:s.symbol,angle:s.angle,size:s.size,sizeref:s.sizeref,sizemin:s.sizemin,sizemode:s.sizemode,opacity:s.opacity,colorbar:s.colorbar,line:v({},C("marker.line"),{width:n.width})}),connectgaps:R.connectgaps,fill:v({},R.fill,{dflt:"none"}),fillcolor:R.fillcolor,selected:{marker:R.selected.marker,textfont:R.selected.textfont},unselected:{marker:R.unselected.marker,textfont:R.unselected.textfont},opacity:g.opacity},"calc","nested");o.x.editType=o.y.editType=o.x0.editType=o.y0.editType="calc+clearAxisTypes",o.hovertemplate=R.hovertemplate,o.texttemplate=R.texttemplate},72156:function(W,H,e){var g=e(20794);W.exports={moduleType:"trace",name:"scattergl",basePlotModule:e(93612),categories:["gl","regl","cartesian","symbols","errorBarsOK","showLegend","scatter-like"],attributes:e(42341),supplyDefaults:e(47148),crossTraceDefaults:e(34936),colorbar:e(4898),formatLabels:e(68101),calc:e(45032),hoverPoints:g.hoverPoints,selectPoints:e(58147),meta:{}}},45032:function(W,H,e){var g=e(88294),R=e(71828),a=e(41675),C=e(71739).findExtremes,T=e(42973),v=e(47761),y=v.calcMarkerSize,t=v.calcAxisExpansion,r=v.setFirstScatter,s=e(36922),n=e(19635),o=e(38967),f=e(50606).BADNUM,u=e(78232).TOO_MANY_POINTS;W.exports=function(h,l){var p=h._fullLayout,M=l._xA=a.getFromId(h,l.xaxis,"x"),S=l._yA=a.getFromId(h,l.yaxis,"y"),P=p._plots[l.xaxis+l.yaxis],x=l._length,E=x>=u,w=x*2,i={},L,b=M.makeCalcdata(l,"x"),O=S.makeCalcdata(l,"y"),_=T(l,M,"x",b),N=T(l,S,"y",O),z=_.vals,B=N.vals;l._x=z,l._y=B,l.xperiodalignment&&(l._origX=b,l._xStarts=_.starts,l._xEnds=_.ends),l.yperiodalignment&&(l._origY=O,l._yStarts=N.starts,l._yEnds=N.ends);var U=new Array(w),F=new Array(x);for(L=0;L<x;L++)U[L*2]=z[L]===f?NaN:z[L],U[L*2+1]=B[L]===f?NaN:B[L],F[L]=L;if(M.type==="log")for(L=0;L<w;L+=2)U[L]=M.c2l(U[L]);if(S.type==="log")for(L=1;L<w;L+=2)U[L]=S.c2l(U[L]);E&&M.type!=="log"&&S.type!=="log"?i.tree=g(U):i.ids=F,s(h,l);var V=c(h,P,l,U,z,B),j=o(h,P);r(p,l);var $;return E?V.marker&&($=V.marker.sizeAvg||Math.max(V.marker.size,3)):$=y(l,x),t(h,l,M,S,z,B,$),V.errorX&&m(l,M,V.errorX),V.errorY&&m(l,S,V.errorY),V.fill&&!j.fill2d&&(j.fill2d=!0),V.marker&&!j.scatter2d&&(j.scatter2d=!0),V.line&&!j.line2d&&(j.line2d=!0),(V.errorX||V.errorY)&&!j.error2d&&(j.error2d=!0),V.text&&!j.glText&&(j.glText=!0),V.marker&&(V.marker.snap=x),j.lineOptions.push(V.line),j.errorXOptions.push(V.errorX),j.errorYOptions.push(V.errorY),j.fillOptions.push(V.fill),j.markerOptions.push(V.marker),j.markerSelectedOptions.push(V.markerSel),j.markerUnselectedOptions.push(V.markerUnsel),j.textOptions.push(V.text),j.textSelectedOptions.push(V.textSel),j.textUnselectedOptions.push(V.textUnsel),j.selectBatch.push([]),j.unselectBatch.push([]),i._scene=j,i.index=j.count,i.x=z,i.y=B,i.positions=U,j.count++,[{x:!1,y:!1,t:i,trace:l}]};function m(A,h,l){var p=A._extremes[h._id],M=C(h,l._bnds,{padded:!0});p.min=p.min.concat(M.min),p.max=p.max.concat(M.max)}function c(A,h,l,p,M,S){var P=n.style(A,l);if(P.marker&&(P.marker.positions=p),P.line&&p.length>1&&R.extendFlat(P.line,n.linePositions(A,l,p)),P.errorX||P.errorY){var x=n.errorBarPositions(A,l,p,M,S);P.errorX&&R.extendFlat(P.errorX,x.x),P.errorY&&R.extendFlat(P.errorY,x.y)}return P.text&&(R.extendFlat(P.text,{positions:p},n.textPosition(A,l,P.text,P.marker)),R.extendFlat(P.textSel,{positions:p},n.textPosition(A,l,P.text,P.markerSel)),R.extendFlat(P.textUnsel,{positions:p},n.textPosition(A,l,P.text,P.markerUnsel))),P}},78232:function(W){var H=20;W.exports={TOO_MANY_POINTS:1e5,SYMBOL_SDF_SIZE:200,SYMBOL_SIZE:H,SYMBOL_STROKE:H/20,DOT_RE:/-dot/,OPEN_RE:/-open/,DASHES:{solid:[1],dot:[1,1],dash:[4,1],longdash:[8,1],dashdot:[4,1,1,1],longdashdot:[8,1,1,1]}}},19635:function(W,H,e){var g=e(92770),R=e(82019),a=e(25075),C=e(73972),T=e(71828),v=e(91424),y=e(41675),t=e(81697).formatColor,r=e(34098),s=e(39984),n=e(68645),o=e(78232),f=e(37822).DESELECTDIM,u={start:1,left:1,end:-1,right:-1,middle:0,center:0,bottom:1,top:-1},m=e(23469).appendArrayPointValue;function c(_,N){var z,B={marker:void 0,markerSel:void 0,markerUnsel:void 0,line:void 0,fill:void 0,errorX:void 0,errorY:void 0,text:void 0,textSel:void 0,textUnsel:void 0},U=_._context.plotGlPixelRatio;if(N.visible!==!0)return B;if(r.hasText(N)&&(B.text=A(_,N),B.textSel=p(_,N,N.selected),B.textUnsel=p(_,N,N.unselected)),r.hasMarkers(N)&&(B.marker=h(_,N),B.markerSel=l(_,N,N.selected),B.markerUnsel=l(_,N,N.unselected),!N.unselected&&T.isArrayOrTypedArray(N.marker.opacity))){var F=N.marker.opacity;for(B.markerUnsel.opacity=new Array(F.length),z=0;z<F.length;z++)B.markerUnsel.opacity[z]=f*F[z]}if(r.hasLines(N)){B.line={overlay:!0,thickness:N.line.width*U,color:N.line.color,opacity:N.opacity};var V=(o.DASHES[N.line.dash]||[1]).slice();for(z=0;z<V.length;++z)V[z]*=N.line.width*U;B.line.dashes=V}return N.error_x&&N.error_x.visible&&(B.errorX=M(N,N.error_x,U)),N.error_y&&N.error_y.visible&&(B.errorY=M(N,N.error_y,U)),N.fill&&N.fill!=="none"&&(B.fill={closed:!0,fill:N.fillcolor,thickness:0}),B}function A(_,N){var z=_._fullLayout,B=N._length,U=N.textfont,F=N.textposition,V=Array.isArray(F)?F:[F],j=U.color,$=U.size,ne=U.family,oe={},ce,Q=_._context.plotGlPixelRatio,Z=N.texttemplate;if(Z){oe.text=[];var K=z._d3locale,J=Array.isArray(Z),re=J?Math.min(Z.length,B):B,le=J?function(Ce){return Z[Ce]}:function(){return Z};for(ce=0;ce<re;ce++){var q={i:ce},ee=N._module.formatLabels(q,N,z),ue={};m(ue,N,ce);var se=N._meta||{};oe.text.push(T.texttemplateString(le(ce),ee,K,ue,q,se))}}else Array.isArray(N.text)&&N.text.length<B?oe.text=N.text.slice():oe.text=N.text;if(Array.isArray(oe.text))for(ce=oe.text.length;ce<B;ce++)oe.text[ce]="";for(oe.opacity=N.opacity,oe.font={},oe.align=[],oe.baseline=[],ce=0;ce<V.length;ce++){var he=V[ce].split(/\s+/);switch(he[1]){case"left":oe.align.push("right");break;case"right":oe.align.push("left");break;default:oe.align.push(he[1])}switch(he[0]){case"top":oe.baseline.push("bottom");break;case"bottom":oe.baseline.push("top");break;default:oe.baseline.push(he[0])}}if(Array.isArray(j))for(oe.color=new Array(B),ce=0;ce<B;ce++)oe.color[ce]=j[ce];else oe.color=j;if(T.isArrayOrTypedArray($)||Array.isArray(ne))for(oe.font=new Array(B),ce=0;ce<B;ce++){var me=oe.font[ce]={};me.size=(T.isTypedArray($)?$[ce]:Array.isArray($)?g($[ce])?$[ce]:0:$)*Q,me.family=Array.isArray(ne)?ne[ce]:ne}else oe.font={size:$*Q,family:ne};return oe}function h(_,N){var z=N._length,B=N.marker,U={},F,V=T.isArrayOrTypedArray(B.symbol),j=T.isArrayOrTypedArray(B.angle),$=T.isArrayOrTypedArray(B.color),ne=T.isArrayOrTypedArray(B.line.color),oe=T.isArrayOrTypedArray(B.opacity),ce=T.isArrayOrTypedArray(B.size),Q=T.isArrayOrTypedArray(B.line.width),Z;if(V||(Z=n.isOpenSymbol(B.symbol)),V||$||ne||oe||j){U.symbols=new Array(z),U.angles=new Array(z),U.colors=new Array(z),U.borderColors=new Array(z);var K=B.symbol,J=B.angle,re=t(B,B.opacity,z),le=t(B.line,B.opacity,z);if(!Array.isArray(le[0])){var q=le;for(le=Array(z),F=0;F<z;F++)le[F]=q}if(!Array.isArray(re[0])){var ee=re;for(re=Array(z),F=0;F<z;F++)re[F]=ee}if(!Array.isArray(K)){var ue=K;for(K=Array(z),F=0;F<z;F++)K[F]=ue}if(!Array.isArray(J)){var se=J;for(J=Array(z),F=0;F<z;F++)J[F]=se}for(U.symbols=K,U.angles=J,U.colors=re,U.borderColors=le,F=0;F<z;F++)V&&(Z=n.isOpenSymbol(B.symbol[F])),Z&&(le[F]=re[F].slice(),re[F]=re[F].slice(),re[F][3]=0);for(U.opacity=N.opacity,U.markers=new Array(z),F=0;F<z;F++)U.markers[F]=i({mx:U.symbols[F],ma:U.angles[F]},N)}else Z?(U.color=a(B.color,"uint8"),U.color[3]=0,U.borderColor=a(B.color,"uint8")):(U.color=a(B.color,"uint8"),U.borderColor=a(B.line.color,"uint8")),U.opacity=N.opacity*B.opacity,U.marker=i({mx:B.symbol,ma:B.angle},N);var he=1,me=s(N,he),Ce;if(ce||Q){var Te=U.sizes=new Array(z),Oe=U.borderSizes=new Array(z),Ne=0,Le;if(ce){for(F=0;F<z;F++)Te[F]=me(B.size[F]),Ne+=Te[F];Le=Ne/z}else for(Ce=me(B.size),F=0;F<z;F++)Te[F]=Ce;if(Q)for(F=0;F<z;F++)Oe[F]=B.line.width[F];else for(Ce=B.line.width,F=0;F<z;F++)Oe[F]=Ce;U.sizeAvg=Le}else U.size=me(B&&B.size||10),U.borderSizes=me(B.line.width);return U}function l(_,N,z){var B=N.marker,U={};return z&&(z.marker&&z.marker.symbol?U=h(_,T.extendFlat({},B,z.marker)):z.marker&&(z.marker.size&&(U.size=z.marker.size),z.marker.color&&(U.colors=z.marker.color),z.marker.opacity!==void 0&&(U.opacity=z.marker.opacity))),U}function p(_,N,z){var B={};if(!z)return B;if(z.textfont){var U={opacity:1,text:N.text,texttemplate:N.texttemplate,textposition:N.textposition,textfont:T.extendFlat({},N.textfont)};z.textfont&&T.extendFlat(U.textfont,z.textfont),B=A(_,U)}return B}function M(_,N,z){var B={capSize:N.width*2*z,lineWidth:N.thickness*z,color:N.color};return N.copy_ystyle&&(B=_.error_y),B}var S=o.SYMBOL_SDF_SIZE,P=o.SYMBOL_SIZE,x=o.SYMBOL_STROKE,E={},w=v.symbolFuncs[0](P*.05);function i(_,N){var z=_.mx;if(z==="circle")return null;var B,U,F=v.symbolNumber(z),V=v.symbolFuncs[F%100],j=!!v.symbolNoDot[F%100],$=!!v.symbolNoFill[F%100],ne=n.isDotSymbol(z);if(_.ma&&(z+="_"+_.ma),E[z])return E[z];var oe=v.getMarkerAngle(_,N);return ne&&!j?B=V(P*1.1,oe)+w:B=V(P,oe),U=R(B,{w:S,h:S,viewBox:[-P,-P,P,P],stroke:$?x:-x}),E[z]=U,U||null}function L(_,N,z){var B=z.length,U=B/2,F,V;if(r.hasLines(N)&&U)if(N.line.shape==="hv"){for(F=[],V=0;V<U-1;V++)isNaN(z[V*2])||isNaN(z[V*2+1])?F.push(NaN,NaN,NaN,NaN):(F.push(z[V*2],z[V*2+1]),!isNaN(z[V*2+2])&&!isNaN(z[V*2+3])?F.push(z[V*2+2],z[V*2+1]):F.push(NaN,NaN));F.push(z[B-2],z[B-1])}else if(N.line.shape==="hvh"){for(F=[],V=0;V<U-1;V++)if(isNaN(z[V*2])||isNaN(z[V*2+1])||isNaN(z[V*2+2])||isNaN(z[V*2+3]))!isNaN(z[V*2])&&!isNaN(z[V*2+1])?F.push(z[V*2],z[V*2+1]):F.push(NaN,NaN),F.push(NaN,NaN);else{var j=(z[V*2]+z[V*2+2])/2;F.push(z[V*2],z[V*2+1],j,z[V*2+1],j,z[V*2+3])}F.push(z[B-2],z[B-1])}else if(N.line.shape==="vhv"){for(F=[],V=0;V<U-1;V++)if(isNaN(z[V*2])||isNaN(z[V*2+1])||isNaN(z[V*2+2])||isNaN(z[V*2+3]))!isNaN(z[V*2])&&!isNaN(z[V*2+1])?F.push(z[V*2],z[V*2+1]):F.push(NaN,NaN),F.push(NaN,NaN);else{var $=(z[V*2+1]+z[V*2+3])/2;F.push(z[V*2],z[V*2+1],z[V*2],$,z[V*2+2],$)}F.push(z[B-2],z[B-1])}else if(N.line.shape==="vh"){for(F=[],V=0;V<U-1;V++)isNaN(z[V*2])||isNaN(z[V*2+1])?F.push(NaN,NaN,NaN,NaN):(F.push(z[V*2],z[V*2+1]),!isNaN(z[V*2+2])&&!isNaN(z[V*2+3])?F.push(z[V*2],z[V*2+3]):F.push(NaN,NaN));F.push(z[B-2],z[B-1])}else F=z;var ne=!1;for(V=0;V<F.length;V++)if(isNaN(F[V])){ne=!0;break}var oe=ne||F.length>o.TOO_MANY_POINTS||r.hasMarkers(N)?"rect":"round";if(ne&&N.connectgaps){var ce=F[0],Q=F[1];for(V=0;V<F.length;V+=2)isNaN(F[V])||isNaN(F[V+1])?(F[V]=ce,F[V+1]=Q):(ce=F[V],Q=F[V+1])}return{join:oe,positions:F}}function b(_,N,z,B,U){var F=C.getComponentMethod("errorbars","makeComputeError"),V=y.getFromId(_,N.xaxis,"x"),j=y.getFromId(_,N.yaxis,"y"),$=z.length/2,ne={};function oe(ce,Q){var Z=Q._id.charAt(0),K=N["error_"+Z];if(K&&K.visible&&(Q.type==="linear"||Q.type==="log")){for(var J=F(K),re={x:0,y:1}[Z],le={x:[0,1,2,3],y:[2,3,0,1]}[Z],q=new Float64Array(4*$),ee=1/0,ue=-1/0,se=0,he=0;se<$;se++,he+=4){var me=ce[se];if(g(me)){var Ce=z[se*2+re],Te=J(me,se),Oe=Te[0],Ne=Te[1];if(g(Oe)&&g(Ne)){var Le=me-Oe,be=me+Ne;q[he+le[0]]=Ce-Q.c2l(Le),q[he+le[1]]=Q.c2l(be)-Ce,q[he+le[2]]=0,q[he+le[3]]=0,ee=Math.min(ee,me-Oe),ue=Math.max(ue,me+Ne)}}}ne[Z]={positions:z,errors:q,_bnds:[ee,ue]}}}return oe(B,V),oe(U,j),ne}function O(_,N,z,B){var U=N._length,F={},V;if(r.hasMarkers(N)){var j=z.font,$=z.align,ne=z.baseline;for(F.offset=new Array(U),V=0;V<U;V++){var oe=B.sizes?B.sizes[V]:B.size,ce=Array.isArray(j)?j[V].size:j.size,Q=Array.isArray($)?$.length>1?$[V]:$[0]:$,Z=Array.isArray(ne)?ne.length>1?ne[V]:ne[0]:ne,K=u[Q],J=u[Z],re=oe?oe/.8+1:0,le=-J*re-J*.5;F.offset[V]=[K*re/ce,le/ce]}}return F}W.exports={style:c,markerStyle:h,markerSelection:l,linePositions:L,errorBarPositions:b,textPosition:O}},47148:function(W,H,e){var g=e(71828),R=e(73972),a=e(68645),C=e(42341),T=e(47581),v=e(34098),y=e(67513),t=e(73927),r=e(49508),s=e(11058),n=e(28908),o=e(82410);W.exports=function(u,m,c,A){function h(w,i){return g.coerce(u,m,C,w,i)}var l=u.marker?a.isOpenSymbol(u.marker.symbol):!1,p=v.isBubble(u),M=y(u,m,A,h);if(!M){m.visible=!1;return}t(u,m,A,h),h("xhoverformat"),h("yhoverformat");var S=M<T.PTS_LINESONLY?"lines+markers":"lines";h("text"),h("hovertext"),h("hovertemplate"),h("mode",S),v.hasLines(m)&&(h("connectgaps"),s(u,m,c,A,h),h("line.shape")),v.hasMarkers(m)&&(r(u,m,c,A,h,{noAngleRef:!0,noStandOff:!0}),h("marker.line.width",l||p?1:0)),v.hasText(m)&&(h("texttemplate"),o(u,m,A,h));var P=(m.line||{}).color,x=(m.marker||{}).color;h("fill"),m.fill!=="none"&&n(u,m,c,h);var E=R.getComponentMethod("errorbars","supplyDefaults");E(u,m,P||x||c,{axis:"y"}),E(u,m,P||x||c,{axis:"x",inherit:"y"}),g.coerceSelectionMarkerOpacity(m,h)}},5345:function(W,H,e){var g=e(71828),R=e(7901),a=e(37822).DESELECTDIM;function C(T){var v=T[0],y=v.trace,t=v.t,r=t._scene,s=t.index,n=r.selectBatch[s],o=r.unselectBatch[s],f=r.textOptions[s],u=r.textSelectedOptions[s]||{},m=r.textUnselectedOptions[s]||{},c=g.extendFlat({},f),A,h;if(n.length||o.length){var l=u.color,p=m.color,M=f.color,S=Array.isArray(M);for(c.color=new Array(y._length),A=0;A<n.length;A++)h=n[A],c.color[h]=l||(S?M[h]:M);for(A=0;A<o.length;A++){h=o[A];var P=S?M[h]:M;c.color[h]=p||(l?P:R.addOpacity(P,a))}}r.glText[s].update(c)}W.exports={styleTextSelection:C}},68101:function(W,H,e){var g=e(8225);W.exports=function(a,C,T){var v=a.i;return"x"in a||(a.x=C._x[v]),"y"in a||(a.y=C._y[v]),g(a,C,T)}},68645:function(W,H,e){var g=e(78232);H.isOpenSymbol=function(R){return typeof R=="string"?g.OPEN_RE.test(R):R%200>100},H.isDotSymbol=function(R){return typeof R=="string"?g.DOT_RE.test(R):R>200}},20794:function(W,H,e){var g=e(73972),R=e(71828),a=e(34603);function C(v,y,t,r){var s=v.cd,n=s[0].t,o=s[0].trace,f=v.xa,u=v.ya,m=n.x,c=n.y,A=f.c2p(y),h=u.c2p(t),l=v.distance,p;if(n.tree){var M=f.p2c(A-l),S=f.p2c(A+l),P=u.p2c(h-l),x=u.p2c(h+l);r==="x"?p=n.tree.range(Math.min(M,S),Math.min(u._rl[0],u._rl[1]),Math.max(M,S),Math.max(u._rl[0],u._rl[1])):p=n.tree.range(Math.min(M,S),Math.min(P,x),Math.max(M,S),Math.max(P,x))}else p=n.ids;var E,w,i,L,b,O,_,N,z,B=l;if(r==="x"){var U=!!o.xperiodalignment,F=!!o.yperiodalignment;for(b=0;b<p.length;b++){if(E=p[b],i=m[E],O=Math.abs(f.c2p(i)-A),U){var V=f.c2p(o._xStarts[E]),j=f.c2p(o._xEnds[E]);O=A>=Math.min(V,j)&&A<=Math.max(V,j)?0:1/0}if(O<B){if(B=O,L=c[E],_=u.c2p(L)-h,F){var $=u.c2p(o._yStarts[E]),ne=u.c2p(o._yEnds[E]);_=h>=Math.min($,ne)&&h<=Math.max($,ne)?0:1/0}z=Math.sqrt(O*O+_*_),w=p[b]}}}else for(b=p.length-1;b>-1;b--)E=p[b],i=m[E],L=c[E],O=f.c2p(i)-A,_=u.c2p(L)-h,N=Math.sqrt(O*O+_*_),N<B&&(B=z=N,w=E);return v.index=w,v.distance=B,v.dxy=z,w===void 0?[v]:[T(v,m,c,o)]}function T(v,y,t,r){var s=v.xa,n=v.ya,o=v.distance,f=v.dxy,u=v.index,m={pointNumber:u,x:y[u],y:t[u]};m.tx=Array.isArray(r.text)?r.text[u]:r.text,m.htx=Array.isArray(r.hovertext)?r.hovertext[u]:r.hovertext,m.data=Array.isArray(r.customdata)?r.customdata[u]:r.customdata,m.tp=Array.isArray(r.textposition)?r.textposition[u]:r.textposition;var c=r.textfont;c&&(m.ts=R.isArrayOrTypedArray(c.size)?c.size[u]:c.size,m.tc=Array.isArray(c.color)?c.color[u]:c.color,m.tf=Array.isArray(c.family)?c.family[u]:c.family);var A=r.marker;A&&(m.ms=R.isArrayOrTypedArray(A.size)?A.size[u]:A.size,m.mo=R.isArrayOrTypedArray(A.opacity)?A.opacity[u]:A.opacity,m.mx=R.isArrayOrTypedArray(A.symbol)?A.symbol[u]:A.symbol,m.ma=R.isArrayOrTypedArray(A.angle)?A.angle[u]:A.angle,m.mc=R.isArrayOrTypedArray(A.color)?A.color[u]:A.color);var h=A&&A.line;h&&(m.mlc=Array.isArray(h.color)?h.color[u]:h.color,m.mlw=R.isArrayOrTypedArray(h.width)?h.width[u]:h.width);var l=A&&A.gradient;l&&l.type!=="none"&&(m.mgt=Array.isArray(l.type)?l.type[u]:l.type,m.mgc=Array.isArray(l.color)?l.color[u]:l.color);var p=s.c2p(m.x,!0),M=n.c2p(m.y,!0),S=m.mrc||1,P=r.hoverlabel;P&&(m.hbg=Array.isArray(P.bgcolor)?P.bgcolor[u]:P.bgcolor,m.hbc=Array.isArray(P.bordercolor)?P.bordercolor[u]:P.bordercolor,m.hts=R.isArrayOrTypedArray(P.font.size)?P.font.size[u]:P.font.size,m.htc=Array.isArray(P.font.color)?P.font.color[u]:P.font.color,m.htf=Array.isArray(P.font.family)?P.font.family[u]:P.font.family,m.hnl=R.isArrayOrTypedArray(P.namelength)?P.namelength[u]:P.namelength);var x=r.hoverinfo;x&&(m.hi=Array.isArray(x)?x[u]:x);var E=r.hovertemplate;E&&(m.ht=Array.isArray(E)?E[u]:E);var w={};w[v.index]=m;var i=r._origX,L=r._origY,b=R.extendFlat({},v,{color:a(r,m),x0:p-S,x1:p+S,xLabelVal:i?i[u]:m.x,y0:M-S,y1:M+S,yLabelVal:L?L[u]:m.y,cd:w,distance:o,spikeDistance:f,hovertemplate:m.ht});return m.htx?b.text=m.htx:m.tx?b.text=m.tx:r.text&&(b.text=r.text),R.fillText(m,r,b),g.getComponentMethod("errorbars","hoverInfo")(m,r,b),b}W.exports={hoverPoints:C,calcHover:T}},68868:function(W,H,e){var g=e(72156);g.plot=e(26787),W.exports=g},26787:function(W,H,e){var g=e(11870),R=e(46075),a=e(3593),C=e(42505),T=e(71828),v=e(64505).selectMode,y=e(79749),t=e(34098),r=e(68687),s=e(5345).styleTextSelection,n={};function o(u,m,c,A){var h=u._size,l=u.width*A,p=u.height*A,M=h.l*A,S=h.b*A,P=h.r*A,x=h.t*A,E=h.w*A,w=h.h*A;return[M+m.domain[0]*E,S+c.domain[0]*w,l-P-(1-m.domain[1])*E,p-x-(1-c.domain[1])*w]}var f=W.exports=function(m,c,A){if(A.length){var h=m._fullLayout,l=c._scene,p=c.xaxis,M=c.yaxis,S,P;if(l){var x=y(m,["ANGLE_instanced_arrays","OES_element_index_uint"],n);if(!x){l.init();return}var E=l.count,w=h._glcanvas.data()[0].regl;if(r(m,c,A),l.dirty){if(l.error2d===!0&&(l.error2d=a(w)),l.line2d===!0&&(l.line2d=R(w)),l.scatter2d===!0&&(l.scatter2d=g(w)),l.fill2d===!0&&(l.fill2d=R(w)),l.glText===!0)for(l.glText=new Array(E),S=0;S<E;S++)l.glText[S]=new C(w);if(l.glText){if(E>l.glText.length){var i=E-l.glText.length;for(S=0;S<i;S++)l.glText.push(new C(w))}else if(E<l.glText.length){var L=l.glText.length-E,b=l.glText.splice(E,L);b.forEach(function(q){q.destroy()})}for(S=0;S<E;S++)l.glText[S].update(l.textOptions[S])}if(l.line2d&&(l.line2d.update(l.lineOptions),l.lineOptions=l.lineOptions.map(function(q){if(q&&q.positions){for(var ee=q.positions,ue=0;ue<ee.length&&(isNaN(ee[ue])||isNaN(ee[ue+1]));)ue+=2;for(var se=ee.length-2;se>ue&&(isNaN(ee[se])||isNaN(ee[se+1]));)se-=2;q.positions=ee.slice(ue,se+2)}return q}),l.line2d.update(l.lineOptions)),l.error2d){var O=(l.errorXOptions||[]).concat(l.errorYOptions||[]);l.error2d.update(O)}l.scatter2d&&l.scatter2d.update(l.markerOptions),l.fillOrder=T.repeat(null,E),l.fill2d&&(l.fillOptions=l.fillOptions.map(function(q,ee){var ue=A[ee];if(!(!q||!ue||!ue[0]||!ue[0].trace)){var se=ue[0],he=se.trace,me=se.t,Ce=l.lineOptions[ee],Te,Oe,Ne=[];he._ownfill&&Ne.push(ee),he._nexttrace&&Ne.push(ee+1),Ne.length&&(l.fillOrder[ee]=Ne);var Le=[],be=Ce&&Ce.positions||me.positions,Ae,He;if(he.fill==="tozeroy"){for(Ae=0;Ae<be.length&&isNaN(be[Ae+1]);)Ae+=2;for(He=be.length-2;He>Ae&&isNaN(be[He+1]);)He-=2;be[Ae+1]!==0&&(Le=[be[Ae],0]),Le=Le.concat(be.slice(Ae,He+2)),be[He+1]!==0&&(Le=Le.concat([be[He],0]))}else if(he.fill==="tozerox"){for(Ae=0;Ae<be.length&&isNaN(be[Ae]);)Ae+=2;for(He=be.length-2;He>Ae&&isNaN(be[He]);)He-=2;be[Ae]!==0&&(Le=[0,be[Ae+1]]),Le=Le.concat(be.slice(Ae,He+2)),be[He]!==0&&(Le=Le.concat([0,be[He+1]]))}else if(he.fill==="toself"||he.fill==="tonext"){for(Le=[],Te=0,q.splitNull=!0,Oe=0;Oe<be.length;Oe+=2)(isNaN(be[Oe])||isNaN(be[Oe+1]))&&(Le=Le.concat(be.slice(Te,Oe)),Le.push(be[Te],be[Te+1]),Le.push(null,null),Te=Oe+2);Le=Le.concat(be.slice(Te)),Te&&Le.push(be[Te],be[Te+1])}else{var Ve=he._nexttrace;if(Ve){var ke=l.lineOptions[ee+1];if(ke){var Ge=ke.positions;if(he.fill==="tonexty"){for(Le=be.slice(),ee=Math.floor(Ge.length/2);ee--;){var it=Ge[ee*2],et=Ge[ee*2+1];isNaN(it)||isNaN(et)||Le.push(it,et)}q.fill=Ve.fillcolor}}}}if(he._prevtrace&&he._prevtrace.fill==="tonext"){var tt=l.lineOptions[ee-1].positions,at=Le.length/2;Te=at;var vt=[Te];for(Oe=0;Oe<tt.length;Oe+=2)(isNaN(tt[Oe])||isNaN(tt[Oe+1]))&&(vt.push(Oe/2+at+1),Te=Oe+2);Le=Le.concat(tt),q.hole=vt}return q.fillmode=he.fill,q.opacity=he.opacity,q.positions=Le,q}}),l.fill2d.update(l.fillOptions))}var _=h.dragmode,N=v(_),z=h.clickmode.indexOf("select")>-1;for(S=0;S<E;S++){var B=A[S][0],U=B.trace,F=B.t,V=F.index,j=U._length,$=F.x,ne=F.y;if(U.selectedpoints||N||z){if(N||(N=!0),U.selectedpoints){var oe=l.selectBatch[V]=T.selIndices2selPoints(U),ce={};for(P=0;P<oe.length;P++)ce[oe[P]]=1;var Q=[];for(P=0;P<j;P++)ce[P]||Q.push(P);l.unselectBatch[V]=Q}var Z=F.xpx=new Array(j),K=F.ypx=new Array(j);for(P=0;P<j;P++)Z[P]=p.c2p($[P]),K[P]=M.c2p(ne[P])}else F.xpx=F.ypx=null}if(N){if(l.select2d||(l.select2d=g(h._glcanvas.data()[1].regl)),l.scatter2d){var J=new Array(E);for(S=0;S<E;S++)J[S]=l.selectBatch[S].length||l.unselectBatch[S].length?l.markerUnselectedOptions[S]:{};l.scatter2d.update(J)}l.select2d&&(l.select2d.update(l.markerOptions),l.select2d.update(l.markerSelectedOptions)),l.glText&&A.forEach(function(q){var ee=((q||[])[0]||{}).trace||{};t.hasText(ee)&&s(q)})}else l.scatter2d&&l.scatter2d.update(l.markerOptions);var re={viewport:o(h,p,M,m._context.plotGlPixelRatio),range:[(p._rl||p.range)[0],(M._rl||M.range)[0],(p._rl||p.range)[1],(M._rl||M.range)[1]]},le=T.repeat(re,l.count);l.fill2d&&l.fill2d.update(le),l.line2d&&l.line2d.update(le),l.error2d&&l.error2d.update(le.concat(le)),l.scatter2d&&l.scatter2d.update(le),l.select2d&&l.select2d.update(le),l.glText&&l.glText.forEach(function(q){q.update(re)})}}};f.reglPrecompiled=n},38967:function(W,H,e){var g=e(71828);W.exports=function(a,C){var T=C._scene,v={count:0,dirty:!0,lineOptions:[],fillOptions:[],markerOptions:[],markerSelectedOptions:[],markerUnselectedOptions:[],errorXOptions:[],errorYOptions:[],textOptions:[],textSelectedOptions:[],textUnselectedOptions:[],selectBatch:[],unselectBatch:[]},y={fill2d:!1,scatter2d:!1,error2d:!1,line2d:!1,glText:!1,select2d:!1};return C._scene||(T=C._scene={},T.init=function(){g.extendFlat(T,y,v)},T.init(),T.update=function(r){var s=g.repeat(r,T.count);if(T.fill2d&&T.fill2d.update(s),T.scatter2d&&T.scatter2d.update(s),T.line2d&&T.line2d.update(s),T.error2d&&T.error2d.update(s.concat(s)),T.select2d&&T.select2d.update(s),T.glText)for(var n=0;n<T.count;n++)T.glText[n].update(r)},T.draw=function(){for(var r=T.count,s=T.fill2d,n=T.error2d,o=T.line2d,f=T.scatter2d,u=T.glText,m=T.select2d,c=T.selectBatch,A=T.unselectBatch,h=0;h<r;h++){if(s&&T.fillOrder[h]&&s.draw(T.fillOrder[h]),o&&T.lineOptions[h]&&o.draw(h),n&&(T.errorXOptions[h]&&n.draw(h),T.errorYOptions[h]&&n.draw(h+r)),f&&T.markerOptions[h])if(A[h].length){var l=g.repeat([],T.count);l[h]=A[h],f.draw(l)}else c[h].length||f.draw(h);u[h]&&T.textOptions[h]&&u[h].render()}m&&m.draw(c),T.dirty=!1},T.destroy=function(){T.fill2d&&T.fill2d.destroy&&T.fill2d.destroy(),T.scatter2d&&T.scatter2d.destroy&&T.scatter2d.destroy(),T.error2d&&T.error2d.destroy&&T.error2d.destroy(),T.line2d&&T.line2d.destroy&&T.line2d.destroy(),T.select2d&&T.select2d.destroy&&T.select2d.destroy(),T.glText&&T.glText.forEach(function(r){r.destroy&&r.destroy()}),T.lineOptions=null,T.fillOptions=null,T.markerOptions=null,T.markerSelectedOptions=null,T.markerUnselectedOptions=null,T.errorXOptions=null,T.errorYOptions=null,T.textOptions=null,T.textSelectedOptions=null,T.textUnselectedOptions=null,T.selectBatch=null,T.unselectBatch=null,C._scene=null}),T.dirty||g.extendFlat(T,v),T}},58147:function(W,H,e){var g=e(34098),R=e(5345).styleTextSelection;W.exports=function(C,T){var v=C.cd,y=C.xaxis,t=C.yaxis,r=[],s=v[0].trace,n=v[0].t,o=s._length,f=n.x,u=n.y,m=n._scene,c=n.index;if(!m)return r;var A=g.hasText(s),h=g.hasMarkers(s),l=!h&&!A;if(s.visible!==!0||l)return r;var p=[],M=[];if(T!==!1&&!T.degenerate)for(var S=0;S<o;S++)T.contains([n.xpx[S],n.ypx[S]],!1,S,C)?(p.push(S),r.push({pointNumber:S,x:y.c2d(f[S]),y:t.c2d(u[S])})):M.push(S);if(h){var P=m.scatter2d;if(!p.length&&!M.length){var x=new Array(m.count);x[c]=m.markerOptions[c],P.update.apply(P,x)}else if(!m.selectBatch[c].length&&!m.unselectBatch[c].length){var E=new Array(m.count);E[c]=m.markerUnselectedOptions[c],P.update.apply(P,E)}}return m.selectBatch[c]=p,m.unselectBatch[c]=M,A&&R(v),r}},99181:function(W,H,e){var g=e(5386).fF,R=e(5386).si,a=e(19316),C=e(82196),T=e(23585),v=e(9012),y=e(50693),t=e(1426).extendFlat,r=e(30962).overrideAll,s=e(23585),n=a.line,o=a.marker;W.exports=r({lon:a.lon,lat:a.lat,cluster:{enabled:{valType:"boolean"},maxzoom:t({},s.layers.maxzoom,{}),step:{valType:"number",arrayOk:!0,dflt:-1,min:-1},size:{valType:"number",arrayOk:!0,dflt:20,min:0},color:{valType:"color",arrayOk:!0},opacity:t({},o.opacity,{dflt:1})},mode:t({},C.mode,{dflt:"markers"}),text:t({},C.text,{}),texttemplate:R({editType:"plot"},{keys:["lat","lon","text"]}),hovertext:t({},C.hovertext,{}),line:{color:n.color,width:n.width},connectgaps:C.connectgaps,marker:t({symbol:{valType:"string",dflt:"circle",arrayOk:!0},angle:{valType:"number",dflt:"auto",arrayOk:!0},allowoverlap:{valType:"boolean",dflt:!1},opacity:o.opacity,size:o.size,sizeref:o.sizeref,sizemin:o.sizemin,sizemode:o.sizemode},y("marker")),fill:a.fill,fillcolor:C.fillcolor,textfont:T.layers.symbol.textfont,textposition:T.layers.symbol.textposition,below:{valType:"string"},selected:{marker:C.selected.marker},unselected:{marker:C.unselected.marker},hoverinfo:t({},v.hoverinfo,{flags:["lon","lat","text","name"]}),hovertemplate:g()},"calc","nested")},15790:function(W,H,e){var g=e(92770),R=e(71828),a=e(50606).BADNUM,C=e(18214),T=e(21081),v=e(91424),y=e(39984),t=e(34098),r=e(13056),s=e(23469).appendArrayPointValue,n=e(63893).NEWLINES,o=e(63893).BR_TAG_ALL;W.exports=function(M,S){var P=S[0].trace,x=P.visible===!0&&P._length!==0,E=P.fill!=="none",w=t.hasLines(P),i=t.hasMarkers(P),L=t.hasText(P),b=i&&P.marker.symbol==="circle",O=i&&P.marker.symbol!=="circle",_=P.cluster&&P.cluster.enabled,N=f("fill"),z=f("line"),B=f("circle"),U=f("symbol"),F={fill:N,line:z,circle:B,symbol:U};if(!x)return F;var V;if((E||w)&&(V=C.calcTraceToLineCoords(S)),E&&(N.geojson=C.makePolygon(V),N.layout.visibility="visible",R.extendFlat(N.paint,{"fill-color":P.fillcolor})),w&&(z.geojson=C.makeLine(V),z.layout.visibility="visible",R.extendFlat(z.paint,{"line-width":P.line.width,"line-color":P.line.color,"line-opacity":P.opacity})),b){var j=u(S);B.geojson=j.geojson,B.layout.visibility="visible",_&&(B.filter=["!",["has","point_count"]],F.cluster={type:"circle",filter:["has","point_count"],layout:{visibility:"visible"},paint:{"circle-color":l(P.cluster.color,P.cluster.step),"circle-radius":l(P.cluster.size,P.cluster.step),"circle-opacity":l(P.cluster.opacity,P.cluster.step)}},F.clusterCount={type:"symbol",filter:["has","point_count"],paint:{},layout:{"text-field":"{point_count_abbreviated}","text-font":["Open Sans Regular","Arial Unicode MS Regular"],"text-size":12}}),R.extendFlat(B.paint,{"circle-color":j.mcc,"circle-radius":j.mrc,"circle-opacity":j.mo})}if(b&&_&&(B.filter=["!",["has","point_count"]]),(O||L)&&(U.geojson=m(S,M),R.extendFlat(U.layout,{visibility:"visible","icon-image":"{symbol}-15","text-field":"{text}"}),O&&(R.extendFlat(U.layout,{"icon-size":P.marker.size/10}),"angle"in P.marker&&P.marker.angle!=="auto"&&R.extendFlat(U.layout,{"icon-rotate":{type:"identity",property:"angle"},"icon-rotation-alignment":"map"}),U.layout["icon-allow-overlap"]=P.marker.allowoverlap,R.extendFlat(U.paint,{"icon-opacity":P.opacity*P.marker.opacity,"icon-color":P.marker.color})),L)){var $=(P.marker||{}).size,ne=r(P.textposition,$);R.extendFlat(U.layout,{"text-size":P.textfont.size,"text-anchor":ne.anchor,"text-offset":ne.offset,"text-font":P.textfont.family.split(", ")}),R.extendFlat(U.paint,{"text-color":P.textfont.color,"text-opacity":P.opacity})}return F};function f(p){return{type:p,geojson:C.makeBlank(),layout:{visibility:"none"},filter:null,paint:{}}}function u(p){var M=p[0].trace,S=M.marker,P=M.selectedpoints,x=R.isArrayOrTypedArray(S.color),E=R.isArrayOrTypedArray(S.size),w=R.isArrayOrTypedArray(S.opacity),i;function L($){return M.opacity*$}function b($){return $/2}var O;x&&(T.hasColorscale(M,"marker")?O=T.makeColorScaleFuncFromTrace(S):O=R.identity);var _;E&&(_=y(M));var N;w&&(N=function($){var ne=g($)?+R.constrain($,0,1):0;return L(ne)});var z=[];for(i=0;i<p.length;i++){var B=p[i],U=B.lonlat;if(!h(U)){var F={};O&&(F.mcc=B.mcc=O(B.mc)),_&&(F.mrc=B.mrc=_(B.ms)),N&&(F.mo=N(B.mo)),P&&(F.selected=B.selected||0),z.push({type:"Feature",id:i+1,geometry:{type:"Point",coordinates:U},properties:F})}}var V;if(P)for(V=v.makeSelectedPointStyleFns(M),i=0;i<z.length;i++){var j=z[i].properties;V.selectedOpacityFn&&(j.mo=L(V.selectedOpacityFn(j))),V.selectedColorFn&&(j.mcc=V.selectedColorFn(j)),V.selectedSizeFn&&(j.mrc=V.selectedSizeFn(j))}return{geojson:{type:"FeatureCollection",features:z},mcc:x||V&&V.selectedColorFn?{type:"identity",property:"mcc"}:S.color,mrc:E||V&&V.selectedSizeFn?{type:"identity",property:"mrc"}:b(S.size),mo:w||V&&V.selectedOpacityFn?{type:"identity",property:"mo"}:L(S.opacity)}}function m(p,M){for(var S=M._fullLayout,P=p[0].trace,x=P.marker||{},E=x.symbol,w=x.angle,i=E!=="circle"?c(E):A,L=w!=="auto"?c(w,!0):A,b=t.hasText(P)?c(P.text):A,O=[],_=0;_<p.length;_++){var N=p[_];if(!h(N.lonlat)){var z=P.texttemplate,B;if(z){var U=Array.isArray(z)?z[_]||"":z,F=P._module.formatLabels(N,P,S),V={};s(V,P,N.i);var j=P._meta||{};B=R.texttemplateString(U,F,S._d3locale,V,N,j)}else B=b(_);B&&(B=B.replace(n,"").replace(o,`
`)),O.push({type:"Feature",geometry:{type:"Point",coordinates:N.lonlat},properties:{symbol:i(_),angle:L(_),text:B}})}}return{type:"FeatureCollection",features:O}}function c(p,M){return R.isArrayOrTypedArray(p)?M?function(S){return g(p[S])?+p[S]:0}:function(S){return p[S]}:p?function(){return p}:A}function A(){return""}function h(p){return p[0]===a}function l(p,M){var S;if(R.isArrayOrTypedArray(p)&&R.isArrayOrTypedArray(M)){S=["step",["get","point_count"],p[0]];for(var P=1;P<p.length;P++)S.push(M[P-1],p[P])}else S=p;return S}},76645:function(W,H,e){var g=e(71828),R=e(34098),a=e(49508),C=e(11058),T=e(82410),v=e(28908),y=e(99181),t=["Metropolis Black Italic","Metropolis Black","Metropolis Bold Italic","Metropolis Bold","Metropolis Extra Bold Italic","Metropolis Extra Bold","Metropolis Extra Light Italic","Metropolis Extra Light","Metropolis Light Italic","Metropolis Light","Metropolis Medium Italic","Metropolis Medium","Metropolis Regular Italic","Metropolis Regular","Metropolis Semi Bold Italic","Metropolis Semi Bold","Metropolis Thin Italic","Metropolis Thin","Open Sans Bold Italic","Open Sans Bold","Open Sans Extra Bold Italic","Open Sans Extra Bold","Open Sans Italic","Open Sans Light Italic","Open Sans Light","Open Sans Regular","Open Sans Semibold Italic","Open Sans Semibold","Klokantech Noto Sans Bold","Klokantech Noto Sans CJK Bold","Klokantech Noto Sans CJK Regular","Klokantech Noto Sans Italic","Klokantech Noto Sans Regular"];W.exports=function(n,o,f,u){function m(E,w){return g.coerce(n,o,y,E,w)}function c(E,w){return g.coerce2(n,o,y,E,w)}var A=r(n,o,m);if(!A){o.visible=!1;return}if(m("text"),m("texttemplate"),m("hovertext"),m("hovertemplate"),m("mode"),m("below"),R.hasLines(o)&&(C(n,o,f,u,m,{noDash:!0}),m("connectgaps")),R.hasMarkers(o)){a(n,o,f,u,m,{noLine:!0,noAngle:!0}),m("marker.allowoverlap"),m("marker.angle");var h=o.marker;h.symbol!=="circle"&&(g.isArrayOrTypedArray(h.size)&&(h.size=h.size[0]),g.isArrayOrTypedArray(h.color)&&(h.color=h.color[0]))}var l=c("cluster.maxzoom"),p=c("cluster.step"),M=c("cluster.color",o.marker&&o.marker.color||f),S=c("cluster.size"),P=c("cluster.opacity"),x=l!==!1||p!==!1||M!==!1||S!==!1||P!==!1;m("cluster.enabled",x),R.hasText(o)&&T(n,o,u,m,{noSelect:!0,font:{family:t.indexOf(u.font.family)!==-1?u.font.family:"Open Sans Regular",size:u.font.size,color:u.font.color}}),m("fill"),o.fill!=="none"&&v(n,o,f,m),g.coerceSelectionMarkerOpacity(o,m)};function r(s,n,o){var f=o("lon")||[],u=o("lat")||[],m=Math.min(f.length,u.length);return n._length=m,m}},53353:function(W){W.exports=function(e,g){return e.lon=g.lon,e.lat=g.lat,e}},15636:function(W,H,e){var g=e(89298);W.exports=function(a,C,T){var v={},y=T[C.subplot]._subplot,t=y.mockAxis,r=a.lonlat;return v.lonLabel=g.tickText(t,t.c2l(r[0]),!0).text,v.latLabel=g.tickText(t,t.c2l(r[1]),!0).text,v}},28178:function(W,H,e){var g=e(30211),R=e(71828),a=e(34603),C=R.fillText,T=e(50606).BADNUM,v=e(77734).traceLayerPrefix;function y(r,s,n){var o=r.cd,f=o[0].trace,u=r.xa,m=r.ya,c=r.subplot,A=[],h=v+f.uid+"-circle",l=f.cluster&&f.cluster.enabled;if(l){var p=c.map.queryRenderedFeatures(null,{layers:[h]});A=p.map(function(z){return z.id})}var M=s>=0?Math.floor((s+180)/360):Math.ceil((s-180)/360),S=M*360,P=s-S;function x(z){var B=z.lonlat;if(B[0]===T||l&&A.indexOf(z.i+1)===-1)return 1/0;var U=R.modHalf(B[0],360),F=B[1],V=c.project([U,F]),j=V.x-u.c2p([P,F]),$=V.y-m.c2p([U,n]),ne=Math.max(3,z.mrc||0);return Math.max(Math.sqrt(j*j+$*$)-ne,1-3/ne)}if(g.getClosest(o,x,r),r.index!==!1){var E=o[r.index],w=E.lonlat,i=[R.modHalf(w[0],360)+S,w[1]],L=u.c2p(i),b=m.c2p(i),O=E.mrc||1;r.x0=L-O,r.x1=L+O,r.y0=b-O,r.y1=b+O;var _={};_[f.subplot]={_subplot:c};var N=f._module.formatLabels(E,f,_);return r.lonLabel=N.lonLabel,r.latLabel=N.latLabel,r.color=a(f,E),r.extraText=t(f,E,o[0].t.labels),r.hovertemplate=f.hovertemplate,[r]}}function t(r,s,n){if(r.hovertemplate)return;var o=s.hi||r.hoverinfo,f=o.split("+"),u=f.indexOf("all")!==-1,m=f.indexOf("lon")!==-1,c=f.indexOf("lat")!==-1,A=s.lonlat,h=[];function l(p){return p+""}return u||m&&c?h.push("("+l(A[1])+", "+l(A[0])+")"):m?h.push(n.lon+l(A[0])):c&&h.push(n.lat+l(A[1])),(u||f.indexOf("text")!==-1)&&C(s,r,h),h.join("<br>")}W.exports={hoverPoints:y,getExtraText:t}},20467:function(W,H,e){W.exports={attributes:e(99181),supplyDefaults:e(76645),colorbar:e(4898),formatLabels:e(15636),calc:e(84622),plot:e(86951),hoverPoints:e(28178).hoverPoints,eventData:e(53353),selectPoints:e(86387),styleOnSelect:function(g,R){if(R){var a=R[0].trace;a._glTrace.update(R)}},moduleType:"trace",name:"scattermapbox",basePlotModule:e(50101),categories:["mapbox","gl","symbols","showLegend","scatter-like"],meta:{}}},86951:function(W,H,e){var g=e(71828),R=e(15790),a=e(77734).traceLayerPrefix,C={cluster:["cluster","clusterCount","circle"],nonCluster:["fill","line","circle","symbol"]};function T(y,t,r,s){this.type="scattermapbox",this.subplot=y,this.uid=t,this.clusterEnabled=r,this.isHidden=s,this.sourceIds={fill:"source-"+t+"-fill",line:"source-"+t+"-line",circle:"source-"+t+"-circle",symbol:"source-"+t+"-symbol",cluster:"source-"+t+"-circle",clusterCount:"source-"+t+"-circle"},this.layerIds={fill:a+t+"-fill",line:a+t+"-line",circle:a+t+"-circle",symbol:a+t+"-symbol",cluster:a+t+"-cluster",clusterCount:a+t+"-cluster-count"},this.below=null}var v=T.prototype;v.addSource=function(y,t,r){var s={type:"geojson",data:t.geojson};r&&r.enabled&&g.extendFlat(s,{cluster:!0,clusterMaxZoom:r.maxzoom});var n=this.subplot.map.getSource(this.sourceIds[y]);n?n.setData(t.geojson):this.subplot.map.addSource(this.sourceIds[y],s)},v.setSourceData=function(y,t){this.subplot.map.getSource(this.sourceIds[y]).setData(t.geojson)},v.addLayer=function(y,t,r){var s={type:t.type,id:this.layerIds[y],source:this.sourceIds[y],layout:t.layout,paint:t.paint};t.filter&&(s.filter=t.filter);for(var n=this.layerIds[y],o,f=this.subplot.getMapLayers(),u=0;u<f.length;u++)if(f[u].id===n){o=!0;break}o?(this.subplot.setOptions(n,"setLayoutProperty",s.layout),s.layout.visibility==="visible"&&this.subplot.setOptions(n,"setPaintProperty",s.paint)):this.subplot.addLayer(s,r)},v.update=function(t){var r=t[0].trace,s=this.subplot,n=s.map,o=R(s.gd,t),f=s.belowLookup["trace-"+this.uid],u=!!(r.cluster&&r.cluster.enabled),m=!!this.clusterEnabled,c=this;function A(w){w||c.addSource("circle",o.circle,r.cluster);for(var i=C.cluster,L=0;L<i.length;L++){var b=i[L],O=o[b];c.addLayer(b,O,f)}}function h(w){for(var i=C.cluster,L=i.length-1;L>=0;L--){var b=i[L];n.removeLayer(c.layerIds[b])}w||n.removeSource(c.sourceIds.circle)}function l(w){for(var i=C.nonCluster,L=0;L<i.length;L++){var b=i[L],O=o[b];w||c.addSource(b,O),c.addLayer(b,O,f)}}function p(w){for(var i=C.nonCluster,L=i.length-1;L>=0;L--){var b=i[L];n.removeLayer(c.layerIds[b]),w||n.removeSource(c.sourceIds[b])}}function M(w){m?h(w):p(w)}function S(w){u?A(w):l(w)}function P(){for(var w=u?C.cluster:C.nonCluster,i=0;i<w.length;i++){var L=w[i],b=o[L];b&&(s.setOptions(c.layerIds[L],"setLayoutProperty",b.layout),b.layout.visibility==="visible"&&(L!=="cluster"&&c.setSourceData(L,b),s.setOptions(c.layerIds[L],"setPaintProperty",b.paint)))}}var x=this.isHidden,E=r.visible!==!0;E?x||M():x?E||S():m!==u?(M(),S()):(this.below!==f&&(M(!0),S(!0)),P()),this.clusterEnabled=u,this.isHidden=E,this.below=f,t[0].trace._glTrace=this},v.dispose=function(){for(var t=this.subplot.map,r=this.clusterEnabled?C.cluster:C.nonCluster,s=r.length-1;s>=0;s--){var n=r[s];t.removeLayer(this.layerIds[n]),t.removeSource(this.sourceIds[n])}},W.exports=function(t,r){var s=r[0].trace,n=s.cluster&&s.cluster.enabled,o=s.visible!==!0,f=new T(t,s.uid,n,o),u=R(t.gd,r),m=f.below=t.belowLookup["trace-"+s.uid],c,A,h;if(n)for(f.addSource("circle",u.circle,s.cluster),c=0;c<C.cluster.length;c++)A=C.cluster[c],h=u[A],f.addLayer(A,h,m);else for(c=0;c<C.nonCluster.length;c++)A=C.nonCluster[c],h=u[A],f.addSource(A,h,s.cluster),f.addLayer(A,h,m);return r[0].trace._glTrace=f,f}},86387:function(W,H,e){var g=e(71828),R=e(34098),a=e(50606).BADNUM;W.exports=function(T,v){var y=T.cd,t=T.xaxis,r=T.yaxis,s=[],n=y[0].trace,o;if(!R.hasMarkers(n))return[];if(v===!1)for(o=0;o<y.length;o++)y[o].selected=0;else for(o=0;o<y.length;o++){var f=y[o],u=f.lonlat;if(u[0]!==a){var m=[g.modHalf(u[0],360),u[1]],c=[t.c2p(m),r.c2p(m)];v.contains(c,null,o,T)?(s.push({pointNumber:o,lon:u[0],lat:u[1]}),f.selected=1):f.selected=0}}return s}},81245:function(W,H,e){var g=e(5386).fF,R=e(5386).si,a=e(1426).extendFlat,C=e(82196),T=e(9012),v=C.line;W.exports={mode:C.mode,r:{valType:"data_array",editType:"calc+clearAxisTypes"},theta:{valType:"data_array",editType:"calc+clearAxisTypes"},r0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dr:{valType:"number",dflt:1,editType:"calc"},theta0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dtheta:{valType:"number",editType:"calc"},thetaunit:{valType:"enumerated",values:["radians","degrees","gradians"],dflt:"degrees",editType:"calc+clearAxisTypes"},text:C.text,texttemplate:R({editType:"plot"},{keys:["r","theta","text"]}),hovertext:C.hovertext,line:{color:v.color,width:v.width,dash:v.dash,backoff:v.backoff,shape:a({},v.shape,{values:["linear","spline"]}),smoothing:v.smoothing,editType:"calc"},connectgaps:C.connectgaps,marker:C.marker,cliponaxis:a({},C.cliponaxis,{dflt:!1}),textposition:C.textposition,textfont:C.textfont,fill:a({},C.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:C.fillcolor,hoverinfo:a({},T.hoverinfo,{flags:["r","theta","text","name"]}),hoveron:C.hoveron,hovertemplate:g(),selected:C.selected,unselected:C.unselected}},26442:function(W,H,e){var g=e(92770),R=e(50606).BADNUM,a=e(89298),C=e(36922),T=e(75225),v=e(66279),y=e(47761).calcMarkerSize;W.exports=function(r,s){for(var n=r._fullLayout,o=s.subplot,f=n[o].radialaxis,u=n[o].angularaxis,m=f.makeCalcdata(s,"r"),c=u.makeCalcdata(s,"theta"),A=s._length,h=new Array(A),l=0;l<A;l++){var p=m[l],M=c[l],S=h[l]={};g(p)&&g(M)?(S.r=p,S.theta=M):S.r=R}var P=y(s,A);return s._extremes.x=a.findExtremes(f,m,{ppad:P}),C(r,s),T(h,s),v(h,s),h}},22184:function(W,H,e){var g=e(71828),R=e(34098),a=e(49508),C=e(11058),T=e(94039),v=e(82410),y=e(28908),t=e(47581).PTS_LINESONLY,r=e(81245);function s(o,f,u,m){function c(l,p){return g.coerce(o,f,r,l,p)}var A=n(o,f,m,c);if(!A){f.visible=!1;return}c("thetaunit"),c("mode",A<t?"lines+markers":"lines"),c("text"),c("hovertext"),f.hoveron!=="fills"&&c("hovertemplate"),R.hasLines(f)&&(C(o,f,u,m,c,{backoff:!0}),T(o,f,c),c("connectgaps")),R.hasMarkers(f)&&a(o,f,u,m,c,{gradient:!0}),R.hasText(f)&&(c("texttemplate"),v(o,f,m,c));var h=[];(R.hasMarkers(f)||R.hasText(f))&&(c("cliponaxis"),c("marker.maxdisplayed"),h.push("points")),c("fill"),f.fill!=="none"&&(y(o,f,u,c),R.hasLines(f)||T(o,f,c)),(f.fill==="tonext"||f.fill==="toself")&&h.push("fills"),c("hoveron",h.join("+")||"points"),g.coerceSelectionMarkerOpacity(f,c)}function n(o,f,u,m){var c=m("r"),A=m("theta"),h;if(c)A?h=Math.min(c.length,A.length):(h=c.length,m("theta0"),m("dtheta"));else{if(!A)return 0;h=f.theta.length,m("r0"),m("dr")}return f._length=h,h}W.exports={handleRThetaDefaults:n,supplyDefaults:s}},98608:function(W,H,e){var g=e(71828),R=e(89298);W.exports=function(C,T,v){var y={},t=v[T.subplot]._subplot,r,s;t?(r=t.radialAxis,s=t.angularAxis):(t=v[T.subplot],r=t.radialaxis,s=t.angularaxis);var n=r.c2l(C.r);y.rLabel=R.tickText(r,n,!0).text;var o=s.thetaunit==="degrees"?g.rad2deg(C.theta):C.theta;return y.thetaLabel=R.tickText(s,o,!0).text,y}},59150:function(W,H,e){var g=e(33720);function R(C,T,v,y){var t=g(C,T,v,y);if(!(!t||t[0].index===!1)){var r=t[0];if(r.index===void 0)return t;var s=C.subplot,n=r.cd[r.index],o=r.trace;if(s.isPtInside(n))return r.xLabelVal=void 0,r.yLabelVal=void 0,a(n,o,s,r),r.hovertemplate=o.hovertemplate,t}}function a(C,T,v,y){var t=v.radialAxis,r=v.angularAxis;t._hovertitle="r",r._hovertitle="";var s={};s[T.subplot]={_subplot:v};var n=T._module.formatLabels(C,T,s);y.rLabel=n.rLabel,y.thetaLabel=n.thetaLabel;var o=C.hi||T.hoverinfo,f=[];function u(c,A){f.push(c._hovertitle+": "+A)}if(!T.hovertemplate){var m=o.split("+");m.indexOf("all")!==-1&&(m=["r","theta","text"]),m.indexOf("r")!==-1&&u(t,y.rLabel),m.indexOf("theta")!==-1&&u(r,y.thetaLabel),m.indexOf("text")!==-1&&y.text&&(f.push(y.text),delete y.text),y.extraText=f.join("<br>")}}W.exports={hoverPoints:R,makeHoverPointText:a}},91271:function(W,H,e){W.exports={moduleType:"trace",name:"scatterpolar",basePlotModule:e(23580),categories:["polar","symbols","showLegend","scatter-like"],attributes:e(81245),supplyDefaults:e(22184).supplyDefaults,colorbar:e(4898),formatLabels:e(98608),calc:e(26442),plot:e(45162),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(59150).hoverPoints,selectPoints:e(98002),meta:{}}},45162:function(W,H,e){var g=e(32663),R=e(50606).BADNUM;W.exports=function(C,T,v){for(var y=T.layers.frontplot.select("g.scatterlayer"),t=T.xaxis,r=T.yaxis,s={xaxis:t,yaxis:r,plot:T.framework,layerClipId:T._hasClipOnAxisFalse?T.clipIds.forTraces:null},n=T.radialAxis,o=T.angularAxis,f=0;f<v.length;f++)for(var u=v[f],m=0;m<u.length;m++){m===0&&(u[0].trace._xA=t,u[0].trace._yA=r);var c=u[m],A=c.r;if(A===R)c.x=c.y=R;else{var h=n.c2g(A),l=o.c2g(c.theta);c.x=h*Math.cos(l),c.y=h*Math.sin(l)}}g(C,s,v,y)}},53286:function(W,H,e){var g=e(81245),R=e(42341),a=e(5386).si;W.exports={mode:g.mode,r:g.r,theta:g.theta,r0:g.r0,dr:g.dr,theta0:g.theta0,dtheta:g.dtheta,thetaunit:g.thetaunit,text:g.text,texttemplate:a({editType:"plot"},{keys:["r","theta","text"]}),hovertext:g.hovertext,hovertemplate:g.hovertemplate,line:R.line,connectgaps:R.connectgaps,marker:R.marker,fill:R.fill,fillcolor:R.fillcolor,textposition:R.textposition,textfont:R.textfont,hoverinfo:g.hoverinfo,selected:g.selected,unselected:g.unselected}},65746:function(W,H,e){W.exports={moduleType:"trace",name:"scatterpolargl",basePlotModule:e(23580),categories:["gl","regl","polar","symbols","showLegend","scatter-like"],attributes:e(53286),supplyDefaults:e(75485),colorbar:e(4898),formatLabels:e(46255),calc:e(37499),hoverPoints:e(29347).hoverPoints,selectPoints:e(58147),meta:{}}},37499:function(W,H,e){var g=e(36922),R=e(47761).calcMarkerSize,a=e(19635),C=e(89298),T=e(78232).TOO_MANY_POINTS;W.exports=function(y,t){var r=y._fullLayout,s=t.subplot,n=r[s].radialaxis,o=r[s].angularaxis,f=t._r=n.makeCalcdata(t,"r"),u=t._theta=o.makeCalcdata(t,"theta"),m=t._length,c={};m<f.length&&(f=f.slice(0,m)),m<u.length&&(u=u.slice(0,m)),c.r=f,c.theta=u,g(y,t);var A=c.opts=a.style(y,t),h;return m<T?h=R(t,m):A.marker&&(h=2*(A.marker.sizeAvg||Math.max(A.marker.size,3))),t._extremes.x=C.findExtremes(n,f,{ppad:h}),[{x:!1,y:!1,t:c,trace:t}]}},75485:function(W,H,e){var g=e(71828),R=e(34098),a=e(22184).handleRThetaDefaults,C=e(49508),T=e(11058),v=e(82410),y=e(28908),t=e(47581).PTS_LINESONLY,r=e(53286);W.exports=function(n,o,f,u){function m(A,h){return g.coerce(n,o,r,A,h)}var c=a(n,o,u,m);if(!c){o.visible=!1;return}m("thetaunit"),m("mode",c<t?"lines+markers":"lines"),m("text"),m("hovertext"),o.hoveron!=="fills"&&m("hovertemplate"),R.hasLines(o)&&(T(n,o,f,u,m),m("connectgaps")),R.hasMarkers(o)&&C(n,o,f,u,m,{noAngleRef:!0,noStandOff:!0}),R.hasText(o)&&(m("texttemplate"),v(n,o,u,m)),m("fill"),o.fill!=="none"&&y(n,o,f,m),g.coerceSelectionMarkerOpacity(o,m)}},46255:function(W,H,e){var g=e(98608);W.exports=function(a,C,T){var v=a.i;return"r"in a||(a.r=C._r[v]),"theta"in a||(a.theta=C._theta[v]),g(a,C,T)}},29347:function(W,H,e){var g=e(20794),R=e(59150).makeHoverPointText;function a(C,T,v,y){var t=C.cd,r=t[0].t,s=r.r,n=r.theta,o=g.hoverPoints(C,T,v,y);if(!(!o||o[0].index===!1)){var f=o[0];if(f.index===void 0)return o;var u=C.subplot,m=f.cd[f.index],c=f.trace;if(m.r=s[f.index],m.theta=n[f.index],!!u.isPtInside(m))return f.xLabelVal=void 0,f.yLabelVal=void 0,R(m,c,u,f),o}}W.exports={hoverPoints:a}},21461:function(W,H,e){var g=e(65746);g.plot=e(49741),W.exports=g},49741:function(W,H,e){var g=e(88294),R=e(92770),a=e(26787),C=e(38967),T=e(19635),v=e(71828),y=e(78232).TOO_MANY_POINTS,t={};W.exports=function(s,n,o){if(o.length){var f=n.radialAxis,u=n.angularAxis,m=C(s,n);return o.forEach(function(c){if(!(!c||!c[0]||!c[0].trace)){var A=c[0],h=A.trace,l=A.t,p=h._length,M=l.r,S=l.theta,P=l.opts,x,E=M.slice(),w=S.slice();for(x=0;x<M.length;x++)n.isPtInside({r:M[x],theta:S[x]})||(E[x]=NaN,w[x]=NaN);var i=new Array(p*2),L=Array(p),b=Array(p);for(x=0;x<p;x++){var O=E[x],_,N;if(R(O)){var z=f.c2g(O),B=u.c2g(w[x],h.thetaunit);_=z*Math.cos(B),N=z*Math.sin(B)}else _=N=NaN;L[x]=i[x*2]=_,b[x]=i[x*2+1]=N}l.tree=g(i),P.marker&&p>=y&&(P.marker.cluster=l.tree),P.marker&&(P.markerSel.positions=P.markerUnsel.positions=P.marker.positions=i),P.line&&i.length>1&&v.extendFlat(P.line,T.linePositions(s,h,i)),P.text&&(v.extendFlat(P.text,{positions:i},T.textPosition(s,h,P.text,P.marker)),v.extendFlat(P.textSel,{positions:i},T.textPosition(s,h,P.text,P.markerSel)),v.extendFlat(P.textUnsel,{positions:i},T.textPosition(s,h,P.text,P.markerUnsel))),P.fill&&!m.fill2d&&(m.fill2d=!0),P.marker&&!m.scatter2d&&(m.scatter2d=!0),P.line&&!m.line2d&&(m.line2d=!0),P.text&&!m.glText&&(m.glText=!0),m.lineOptions.push(P.line),m.fillOptions.push(P.fill),m.markerOptions.push(P.marker),m.markerSelectedOptions.push(P.markerSel),m.markerUnselectedOptions.push(P.markerUnsel),m.textOptions.push(P.text),m.textSelectedOptions.push(P.textSel),m.textUnselectedOptions.push(P.textUnsel),m.selectBatch.push([]),m.unselectBatch.push([]),l.x=L,l.y=b,l.rawx=L,l.rawy=b,l.r=M,l.theta=S,l.positions=i,l._scene=m,l.index=m.count,m.count++}}),a(s,n,o)}},W.exports.reglPrecompiled=t},48300:function(W,H,e){var g=e(5386).fF,R=e(5386).si,a=e(1426).extendFlat,C=e(82196),T=e(9012),v=C.line;W.exports={mode:C.mode,real:{valType:"data_array",editType:"calc+clearAxisTypes"},imag:{valType:"data_array",editType:"calc+clearAxisTypes"},text:C.text,texttemplate:R({editType:"plot"},{keys:["real","imag","text"]}),hovertext:C.hovertext,line:{color:v.color,width:v.width,dash:v.dash,backoff:v.backoff,shape:a({},v.shape,{values:["linear","spline"]}),smoothing:v.smoothing,editType:"calc"},connectgaps:C.connectgaps,marker:C.marker,cliponaxis:a({},C.cliponaxis,{dflt:!1}),textposition:C.textposition,textfont:C.textfont,fill:a({},C.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:C.fillcolor,hoverinfo:a({},T.hoverinfo,{flags:["real","imag","text","name"]}),hoveron:C.hoveron,hovertemplate:g(),selected:C.selected,unselected:C.unselected}},30621:function(W,H,e){var g=e(92770),R=e(50606).BADNUM,a=e(36922),C=e(75225),T=e(66279),v=e(47761).calcMarkerSize;W.exports=function(t,r){for(var s=t._fullLayout,n=r.subplot,o=s[n].realaxis,f=s[n].imaginaryaxis,u=o.makeCalcdata(r,"real"),m=f.makeCalcdata(r,"imag"),c=r._length,A=new Array(c),h=0;h<c;h++){var l=u[h],p=m[h],M=A[h]={};g(l)&&g(p)?(M.real=l,M.imag=p):M.real=R}return v(r,c),a(t,r),C(A,r),T(A,r),A}},65269:function(W,H,e){var g=e(71828),R=e(34098),a=e(49508),C=e(11058),T=e(94039),v=e(82410),y=e(28908),t=e(47581).PTS_LINESONLY,r=e(48300);W.exports=function(o,f,u,m){function c(l,p){return g.coerce(o,f,r,l,p)}var A=s(o,f,m,c);if(!A){f.visible=!1;return}c("mode",A<t?"lines+markers":"lines"),c("text"),c("hovertext"),f.hoveron!=="fills"&&c("hovertemplate"),R.hasLines(f)&&(C(o,f,u,m,c,{backoff:!0}),T(o,f,c),c("connectgaps")),R.hasMarkers(f)&&a(o,f,u,m,c,{gradient:!0}),R.hasText(f)&&(c("texttemplate"),v(o,f,m,c));var h=[];(R.hasMarkers(f)||R.hasText(f))&&(c("cliponaxis"),c("marker.maxdisplayed"),h.push("points")),c("fill"),f.fill!=="none"&&(y(o,f,u,c),R.hasLines(f)||T(o,f,c)),(f.fill==="tonext"||f.fill==="toself")&&h.push("fills"),c("hoveron",h.join("+")||"points"),g.coerceSelectionMarkerOpacity(f,c)};function s(n,o,f,u){var m=u("real"),c=u("imag"),A;return m&&c&&(A=Math.min(m.length,c.length)),o._length=A,A}},62047:function(W,H,e){var g=e(89298);W.exports=function(a,C,T){var v={},y=T[C.subplot]._subplot;return v.realLabel=g.tickText(y.radialAxis,a.real,!0).text,v.imagLabel=g.tickText(y.angularAxis,a.imag,!0).text,v}},11350:function(W,H,e){var g=e(33720);function R(C,T,v,y){var t=g(C,T,v,y);if(!(!t||t[0].index===!1)){var r=t[0];if(r.index===void 0)return t;var s=C.subplot,n=r.cd[r.index],o=r.trace;if(s.isPtInside(n))return r.xLabelVal=void 0,r.yLabelVal=void 0,a(n,o,s,r),r.hovertemplate=o.hovertemplate,t}}function a(C,T,v,y){var t=v.radialAxis,r=v.angularAxis;t._hovertitle="real",r._hovertitle="imag";var s={};s[T.subplot]={_subplot:v};var n=T._module.formatLabels(C,T,s);y.realLabel=n.realLabel,y.imagLabel=n.imagLabel;var o=C.hi||T.hoverinfo,f=[];function u(c,A){f.push(c._hovertitle+": "+A)}if(!T.hovertemplate){var m=o.split("+");m.indexOf("all")!==-1&&(m=["real","imag","text"]),m.indexOf("real")!==-1&&u(t,y.realLabel),m.indexOf("imag")!==-1&&u(r,y.imagLabel),m.indexOf("text")!==-1&&y.text&&(f.push(y.text),delete y.text),y.extraText=f.join("<br>")}}W.exports={hoverPoints:R,makeHoverPointText:a}},85956:function(W,H,e){W.exports={moduleType:"trace",name:"scattersmith",basePlotModule:e(7504),categories:["smith","symbols","showLegend","scatter-like"],attributes:e(48300),supplyDefaults:e(65269),colorbar:e(4898),formatLabels:e(62047),calc:e(30621),plot:e(12480),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(11350).hoverPoints,selectPoints:e(98002),meta:{}}},12480:function(W,H,e){var g=e(32663),R=e(50606).BADNUM,a=e(23893),C=a.smith;W.exports=function(v,y,t){for(var r=y.layers.frontplot.select("g.scatterlayer"),s=y.xaxis,n=y.yaxis,o={xaxis:s,yaxis:n,plot:y.framework,layerClipId:y._hasClipOnAxisFalse?y.clipIds.forTraces:null},f=0;f<t.length;f++)for(var u=t[f],m=0;m<u.length;m++){m===0&&(u[0].trace._xA=s,u[0].trace._yA=n);var c=u[m],A=c.real;if(A===R)c.x=c.y=R;else{var h=C([A,c.imag]);c.x=h[0],c.y=h[1]}}g(v,o,t,r)}},50413:function(W,H,e){var g=e(5386).fF,R=e(5386).si,a=e(82196),C=e(9012),T=e(50693),v=e(79952).P,y=e(1426).extendFlat,t=a.marker,r=a.line,s=t.line;W.exports={a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},c:{valType:"data_array",editType:"calc"},sum:{valType:"number",dflt:0,min:0,editType:"calc"},mode:y({},a.mode,{dflt:"markers"}),text:y({},a.text,{}),texttemplate:R({editType:"plot"},{keys:["a","b","c","text"]}),hovertext:y({},a.hovertext,{}),line:{color:r.color,width:r.width,dash:v,backoff:r.backoff,shape:y({},r.shape,{values:["linear","spline"]}),smoothing:r.smoothing,editType:"calc"},connectgaps:a.connectgaps,cliponaxis:a.cliponaxis,fill:y({},a.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:a.fillcolor,marker:y({symbol:t.symbol,opacity:t.opacity,angle:t.angle,angleref:t.angleref,standoff:t.standoff,maxdisplayed:t.maxdisplayed,size:t.size,sizeref:t.sizeref,sizemin:t.sizemin,sizemode:t.sizemode,line:y({width:s.width,editType:"calc"},T("marker.line")),gradient:t.gradient,editType:"calc"},T("marker")),textfont:a.textfont,textposition:a.textposition,selected:a.selected,unselected:a.unselected,hoverinfo:y({},C.hoverinfo,{flags:["a","b","c","text","name"]}),hoveron:a.hoveron,hovertemplate:g()}},54337:function(W,H,e){var g=e(92770),R=e(36922),a=e(75225),C=e(66279),T=e(47761).calcMarkerSize,v=["a","b","c"],y={a:["b","c"],b:["a","c"],c:["a","b"]};W.exports=function(r,s){var n=r._fullLayout[s.subplot],o=n.sum,f=s.sum||o,u={a:s.a,b:s.b,c:s.c},m,c,A,h,l,p;for(m=0;m<v.length;m++)if(A=v[m],!u[A]){for(l=u[y[A][0]],p=u[y[A][1]],h=new Array(l.length),c=0;c<l.length;c++)h[c]=f-l[c]-p[c];u[A]=h}var M=s._length,S=new Array(M),P,x,E,w,i,L;for(m=0;m<M;m++)P=u.a[m],x=u.b[m],E=u.c[m],g(P)&&g(x)&&g(E)?(P=+P,x=+x,E=+E,w=o/(P+x+E),w!==1&&(P*=w,x*=w,E*=w),L=P,i=E-x,S[m]={x:i,y:L,a:P,b:x,c:E}):S[m]={x:!1,y:!1};return T(s,M),R(r,s),a(S,s),C(S,s),S}},46008:function(W,H,e){var g=e(71828),R=e(47581),a=e(34098),C=e(49508),T=e(11058),v=e(94039),y=e(82410),t=e(28908),r=e(50413);W.exports=function(n,o,f,u){function m(S,P){return g.coerce(n,o,r,S,P)}var c=m("a"),A=m("b"),h=m("c"),l;if(c?(l=c.length,A?(l=Math.min(l,A.length),h&&(l=Math.min(l,h.length))):h?l=Math.min(l,h.length):l=0):A&&h&&(l=Math.min(A.length,h.length)),!l){o.visible=!1;return}o._length=l,m("sum"),m("text"),m("hovertext"),o.hoveron!=="fills"&&m("hovertemplate");var p=l<R.PTS_LINESONLY?"lines+markers":"lines";m("mode",p),a.hasLines(o)&&(T(n,o,f,u,m,{backoff:!0}),v(n,o,m),m("connectgaps")),a.hasMarkers(o)&&C(n,o,f,u,m,{gradient:!0}),a.hasText(o)&&(m("texttemplate"),y(n,o,u,m));var M=[];(a.hasMarkers(o)||a.hasText(o))&&(m("cliponaxis"),m("marker.maxdisplayed"),M.push("points")),m("fill"),o.fill!=="none"&&(t(n,o,f,m),a.hasLines(o)||v(n,o,m)),(o.fill==="tonext"||o.fill==="toself")&&M.push("fills"),m("hoveron",M.join("+")||"points"),g.coerceSelectionMarkerOpacity(o,m)}},4524:function(W){W.exports=function(e,g,R,a,C){if(g.xa&&(e.xaxis=g.xa),g.ya&&(e.yaxis=g.ya),a[C]){var T=a[C];e.a=T.a,e.b=T.b,e.c=T.c}else e.a=g.a,e.b=g.b,e.c=g.c;return e}},93645:function(W,H,e){var g=e(89298);W.exports=function(a,C,T){var v={},y=T[C.subplot]._subplot;return v.aLabel=g.tickText(y.aaxis,a.a,!0).text,v.bLabel=g.tickText(y.baxis,a.b,!0).text,v.cLabel=g.tickText(y.caxis,a.c,!0).text,v}},47250:function(W,H,e){var g=e(33720);W.exports=function(a,C,T,v){var y=g(a,C,T,v);if(!y||y[0].index===!1)return;var t=y[0];if(t.index===void 0){var r=1-t.y0/a.ya._length,s=a.xa._length,n=s*r/2,o=s-n;return t.x0=Math.max(Math.min(t.x0,o),n),t.x1=Math.max(Math.min(t.x1,o),n),y}var f=t.cd[t.index],u=t.trace,m=t.subplot;t.a=f.a,t.b=f.b,t.c=f.c,t.xLabelVal=void 0,t.yLabelVal=void 0;var c={};c[u.subplot]={_subplot:m};var A=u._module.formatLabels(f,u,c);t.aLabel=A.aLabel,t.bLabel=A.bLabel,t.cLabel=A.cLabel;var h=f.hi||u.hoverinfo,l=[];function p(S,P){l.push(S._hovertitle+": "+P)}if(!u.hovertemplate){var M=h.split("+");M.indexOf("all")!==-1&&(M=["a","b","c"]),M.indexOf("a")!==-1&&p(m.aaxis,t.aLabel),M.indexOf("b")!==-1&&p(m.baxis,t.bLabel),M.indexOf("c")!==-1&&p(m.caxis,t.cLabel)}return t.extraText=l.join("<br>"),t.hovertemplate=u.hovertemplate,y}},52979:function(W,H,e){W.exports={attributes:e(50413),supplyDefaults:e(46008),colorbar:e(4898),formatLabels:e(93645),calc:e(54337),plot:e(7507),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(47250),selectPoints:e(98002),eventData:e(4524),moduleType:"trace",name:"scatterternary",basePlotModule:e(61639),categories:["ternary","symbols","showLegend","scatter-like"],meta:{}}},7507:function(W,H,e){var g=e(32663);W.exports=function(a,C,T){var v=C.plotContainer;v.select(".scatterlayer").selectAll("*").remove();for(var y=C.xaxis,t=C.yaxis,r={xaxis:y,yaxis:t,plot:v,layerClipId:C._hasClipOnAxisFalse?C.clipIdRelative:null},s=C.layers.frontplot.select("g.scatterlayer"),n=0;n<T.length;n++){var o=T[n];o.length&&(o[0].trace._xA=y,o[0].trace._yA=t)}g(a,r,T,s)}},46880:function(W,H,e){var g=e(82196),R=e(50693),a=e(12663).axisHoverFormat,C=e(5386).fF,T=e(42341),v=e(85555).idRegex,y=e(44467).templatedArray,t=e(1426).extendFlat,r=g.marker,s=r.line,n=t(R("marker.line",{editTypeOverride:"calc"}),{width:t({},s.width,{editType:"calc"}),editType:"calc"}),o=t(R("marker"),{symbol:r.symbol,angle:r.angle,size:t({},r.size,{editType:"markerSize"}),sizeref:r.sizeref,sizemin:r.sizemin,sizemode:r.sizemode,opacity:r.opacity,colorbar:r.colorbar,line:n,editType:"calc"});o.color.editType=o.cmin.editType=o.cmax.editType="style";function f(u){return{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"subplotid",regex:v[u],editType:"plot"}}}W.exports={dimensions:y("dimension",{visible:{valType:"boolean",dflt:!0,editType:"calc"},label:{valType:"string",editType:"calc"},values:{valType:"data_array",editType:"calc+clearAxisTypes"},axis:{type:{valType:"enumerated",values:["linear","log","date","category"],editType:"calc+clearAxisTypes"},matches:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc+clearAxisTypes"},editType:"calc+clearAxisTypes"}),text:t({},T.text,{}),hovertext:t({},T.hovertext,{}),hovertemplate:C(),xhoverformat:a("x"),yhoverformat:a("y"),marker:o,xaxes:f("x"),yaxes:f("y"),diagonal:{visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},showupperhalf:{valType:"boolean",dflt:!0,editType:"calc"},showlowerhalf:{valType:"boolean",dflt:!0,editType:"calc"},selected:{marker:T.selected.marker,editType:"calc"},unselected:{marker:T.unselected.marker,editType:"calc"},opacity:T.opacity}},65017:function(W,H,e){var g=e(73972),R=e(83312);W.exports={moduleType:"trace",name:"splom",categories:["gl","regl","cartesian","symbols","showLegend","scatter-like"],attributes:e(46880),supplyDefaults:e(25784),colorbar:e(4898),calc:e(87625),plot:e(79410),hoverPoints:e(8567).hoverPoints,selectPoints:e(8689),editStyle:e(28801),meta:{}},g.register(R)},16947:function(W,H,e){var g=e(46075),R=e(73972),a=e(79749),C=e(27659).a0,T=e(93612),v=e(41675).getFromId,y=e(89298).shouldShowZeroLine,t="splom",r={};function s(c){var A=c._fullLayout,h=R.getModule(t),l=C(c.calcdata,h)[0],p=a(c,["ANGLE_instanced_arrays","OES_element_index_uint"],r);p&&(A._hasOnlyLargeSploms&&f(c),h.plot(c,{},l))}function n(c){var A=c.calcdata,h=c._fullLayout;h._hasOnlyLargeSploms&&f(c);for(var l=0;l<A.length;l++){var p=A[l][0],M=p.trace,S=h._splomScenes[M.uid];M.type==="splom"&&S&&S.matrix&&o(c,M,S)}}function o(c,A,h){for(var l=h.matrixOptions.data.length,p=A._visibleDims,M=h.viewOpts.ranges=new Array(l),S=0;S<p.length;S++){var P=p[S],x=M[S]=new Array(4),E=v(c,A._diag[P][0]);E&&(x[0]=E.r2l(E.range[0]),x[2]=E.r2l(E.range[1]));var w=v(c,A._diag[P][1]);w&&(x[1]=w.r2l(w.range[0]),x[3]=w.r2l(w.range[1]))}h.selectBatch.length||h.unselectBatch.length?h.matrix.update({ranges:M},{ranges:M}):h.matrix.update({ranges:M})}function f(c){var A=c._fullLayout,h=A._glcanvas.data()[0].regl,l=A._splomGrid;l||(l=A._splomGrid=g(h)),l.update(u(c))}function u(c){var A=c._context.plotGlPixelRatio,h=c._fullLayout,l=h._size,p=[0,0,h.width*A,h.height*A],M={},S;function P(j,$,ne,oe,ce,Q){ne*=A,oe*=A,ce*=A,Q*=A;var Z=$[j+"color"],K=$[j+"width"],J=String(Z+K);J in M?M[J].data.push(NaN,NaN,ne,oe,ce,Q):M[J]={data:[ne,oe,ce,Q],join:"rect",thickness:K*A,color:Z,viewport:p,range:p,overlay:!1}}for(S in h._splomSubplots){var x=h._plots[S],E=x.xaxis,w=x.yaxis,i=E._gridVals,L=w._gridVals,b=E._offset,O=E._length,_=w._length,N=l.b+w.domain[0]*l.h,z=-w._m,B=-z*w.r2l(w.range[0],w.calendar),U,F;if(E.showgrid)for(S=0;S<i.length;S++)U=b+E.l2p(i[S].x),P("grid",E,U,N,U,N+_);if(w.showgrid)for(S=0;S<L.length;S++)F=N+B+z*L[S].x,P("grid",w,b,F,b+O,F);y(c,E,w)&&(U=b+E.l2p(0),P("zeroline",E,U,N,U,N+_)),y(c,w,E)&&(F=N+B+0,P("zeroline",w,b,F,b+O,F))}var V=[];for(S in M)V.push(M[S]);return V}function m(c,A,h,l){var p={},M;if(l._splomScenes){for(M=0;M<c.length;M++){var S=c[M];S.type==="splom"&&(p[S.uid]=1)}for(M=0;M<h.length;M++){var P=h[M];if(!p[P.uid]){var x=l._splomScenes[P.uid];x&&x.destroy&&x.destroy(),l._splomScenes[P.uid]=null,delete l._splomScenes[P.uid]}}}Object.keys(l._splomScenes||{}).length===0&&delete l._splomScenes,l._splomGrid&&!A._hasOnlyLargeSploms&&l._hasOnlyLargeSploms&&(l._splomGrid.destroy(),l._splomGrid=null,delete l._splomGrid),T.clean(c,A,h,l)}W.exports={name:t,attr:T.attr,attrRegex:T.attrRegex,layoutAttributes:T.layoutAttributes,supplyLayoutDefaults:T.supplyLayoutDefaults,drawFramework:T.drawFramework,plot:s,drag:n,updateGrid:f,clean:m,updateFx:T.updateFx,toSVG:T.toSVG,reglPrecompiled:r}},87625:function(W,H,e){var g=e(71828),R=e(41675),a=e(47761).calcMarkerSize,C=e(47761).calcAxisExpansion,T=e(36922),v=e(19635).markerSelection,y=e(19635).markerStyle,t=e(10164),r=e(50606).BADNUM,s=e(78232).TOO_MANY_POINTS;W.exports=function(o,f){var u=f.dimensions,m=f._length,c={},A=c.cdata=[],h=c.data=[],l=f._visibleDims=[],p,M,S,P,x;function E(O,_){for(var N=O.makeCalcdata({v:_.values,vcalendar:f.calendar},"v"),z=0;z<N.length;z++)N[z]=N[z]===r?NaN:N[z];A.push(N),h.push(O.type==="log"?g.simpleMap(N,O.c2l):N)}for(p=0;p<u.length;p++)if(S=u[p],S.visible){if(P=R.getFromId(o,f._diag[p][0]),x=R.getFromId(o,f._diag[p][1]),P&&x&&P.type!==x.type){g.log("Skipping splom dimension "+p+" with conflicting axis types");continue}P?(E(P,S),x&&x.type==="category"&&(x._categories=P._categories.slice())):E(x,S),l.push(p)}T(o,f),g.extendFlat(c,y(o,f));var w=A.length,i=w*m>s,L;for(i?L=c.sizeAvg||Math.max(c.size,3):L=a(f,m),M=0;M<l.length;M++)p=l[M],S=u[p],P=R.getFromId(o,f._diag[p][0])||{},x=R.getFromId(o,f._diag[p][1])||{},C(o,f,P,x,A[M],A[M],L);var b=t(o,f);return b.matrix||(b.matrix=!0),b.matrixOptions=c,b.selectedOptions=v(o,f,f.selected),b.unselectedOptions=v(o,f,f.unselected),[{x:!1,y:!1,t:{},trace:f}]}},25784:function(W,H,e){var g=e(71828),R=e(85501),a=e(46880),C=e(34098),T=e(49508),v=e(94397),y=e(68645).isOpenSymbol;W.exports=function(n,o,f,u){function m(P,x){return g.coerce(n,o,a,P,x)}var c=R(n,o,{name:"dimensions",handleItemDefaults:t}),A=m("diagonal.visible"),h=m("showupperhalf"),l=m("showlowerhalf"),p=v(o,c,"values");if(!p||!A&&!h&&!l){o.visible=!1;return}m("text"),m("hovertext"),m("hovertemplate"),m("xhoverformat"),m("yhoverformat"),T(n,o,f,u,m,{noAngleRef:!0,noStandOff:!0});var M=y(o.marker.symbol),S=C.isBubble(o);m("marker.line.width",M||S?1:0),r(n,o,u,m),g.coerceSelectionMarkerOpacity(o,m)};function t(s,n){function o(u,m){return g.coerce(s,n,a.dimensions,u,m)}o("label");var f=o("values");f&&f.length?o("visible"):n.visible=!1,o("axis.type"),o("axis.matches")}function r(s,n,o,f){var u=n.dimensions,m=u.length,c=n.showupperhalf,A=n.showlowerhalf,h=n.diagonal.visible,l,p,M=new Array(m),S=new Array(m);for(l=0;l<m;l++){var P=l?l+1:"";M[l]="x"+P,S[l]="y"+P}var x=f("xaxes",M),E=f("yaxes",S),w=n._diag=new Array(m);n._xaxes={},n._yaxes={};var i=[],L=[];function b(j,$,ne,oe){if(j){var ce=j.charAt(0),Q=o._splomAxes[ce];if(n["_"+ce+"axes"][j]=1,oe.push(j),!(j in Q)){var Z=Q[j]={};ne&&(Z.label=ne.label||"",ne.visible&&ne.axis&&(ne.axis.type&&(Z.type=ne.axis.type),ne.axis.matches&&(Z.matches=$)))}}}var O=!h&&!A,_=!h&&!c;for(n._axesDim={},l=0;l<m;l++){var N=u[l],z=l===0,B=l===m-1,U=z&&O||B&&_?void 0:x[l],F=z&&_||B&&O?void 0:E[l];b(U,F,N,i),b(F,U,N,L),w[l]=[U,F],n._axesDim[U]=l,n._axesDim[F]=l}for(l=0;l<i.length;l++)for(p=0;p<L.length;p++){var V=i[l]+L[p];(l>p&&c||l<p&&A||l===p&&(h||!A||!c))&&(o._splomSubplots[V]=1)}(!A||!h&&c&&A)&&(o._splomGridDflt.xside="bottom",o._splomGridDflt.yside="left")}},28801:function(W,H,e){var g=e(71828),R=e(36922),a=e(19635).markerStyle;W.exports=function(T,v){var y=v.trace,t=T._fullLayout._splomScenes[y.uid];if(t){R(T,y),g.extendFlat(t.matrixOptions,a(T,y));var r=g.extendFlat({},t.matrixOptions,t.viewOpts);t.matrix.update(r,null)}}},35948:function(W,H){H.getDimIndex=function(g,R){for(var a=R._id,C=a.charAt(0),T={x:0,y:1}[C],v=g._visibleDims,y=0;y<v.length;y++){var t=v[y];if(g._diag[t][T]===a)return y}return!1}},8567:function(W,H,e){var g=e(35948),R=e(20794).calcHover;function a(C,T,v){var y=C.cd,t=y[0].trace,r=C.scene,s=r.matrixOptions.cdata,n=C.xa,o=C.ya,f=n.c2p(T),u=o.c2p(v),m=C.distance,c=g.getDimIndex(t,n),A=g.getDimIndex(t,o);if(c===!1||A===!1)return[C];for(var h=s[c],l=s[A],p,M,S=m,P=0;P<h.length;P++){var x=h[P],E=l[P],w=n.c2p(x)-f,i=o.c2p(E)-u,L=Math.sqrt(w*w+i*i);L<S&&(S=M=L,p=P)}return C.index=p,C.distance=S,C.dxy=M,p===void 0?[C]:[R(C,h,l,t)]}W.exports={hoverPoints:a}},6419:function(W,H,e){var g=e(65017);g.basePlotModule=e(16947),W.exports=g},79410:function(W,H,e){var g=e(60487),R=e(71828),a=e(41675),C=e(64505).selectMode;W.exports=function(y,t,r){if(r.length)for(var s=0;s<r.length;s++)T(y,r[s][0])};function T(v,y){var t=v._fullLayout,r=t._size,s=y.trace,n=y.t,o=t._splomScenes[s.uid],f=o.matrixOptions,u=f.cdata,m=t._glcanvas.data()[0].regl,c=t.dragmode,A,h,l,p,M;if(u.length!==0){f.lower=s.showupperhalf,f.upper=s.showlowerhalf,f.diagonal=s.diagonal.visible;var S=s._visibleDims,P=u.length,x=o.viewOpts={};for(x.ranges=new Array(P),x.domains=new Array(P),M=0;M<S.length;M++){l=S[M];var E=x.ranges[M]=new Array(4),w=x.domains[M]=new Array(4);A=a.getFromId(v,s._diag[l][0]),A&&(E[0]=A._rl[0],E[2]=A._rl[1],w[0]=A.domain[0],w[2]=A.domain[1]),h=a.getFromId(v,s._diag[l][1]),h&&(E[1]=h._rl[0],E[3]=h._rl[1],w[1]=h.domain[0],w[3]=h.domain[1])}var i=v._context.plotGlPixelRatio,L=r.l*i,b=r.b*i,O=r.w*i,_=r.h*i;x.viewport=[L,b,O+L,_+b],o.matrix===!0&&(o.matrix=g(m));var N=t.clickmode.indexOf("select")>-1,z=C(c)||!!s.selectedpoints||N,B=!0;if(z){var U=s._length;if(s.selectedpoints){o.selectBatch=s.selectedpoints;var F=s.selectedpoints,V={};for(l=0;l<F.length;l++)V[F[l]]=!0;var j=[];for(l=0;l<U;l++)V[l]||j.push(l);o.unselectBatch=j}var $=n.xpx=new Array(P),ne=n.ypx=new Array(P);for(M=0;M<S.length;M++){if(l=S[M],A=a.getFromId(v,s._diag[l][0]),A)for($[M]=new Array(U),p=0;p<U;p++)$[M][p]=A.c2p(u[M][p]);if(h=a.getFromId(v,s._diag[l][1]),h)for(ne[M]=new Array(U),p=0;p<U;p++)ne[M][p]=h.c2p(u[M][p])}if(o.selectBatch.length||o.unselectBatch.length){var oe=R.extendFlat({},f,o.unselectedOptions,x),ce=R.extendFlat({},f,o.selectedOptions,x);o.matrix.update(oe,ce),B=!1}}else n.xpx=n.ypx=null;if(B){var Q=R.extendFlat({},f,x);o.matrix.update(Q,null)}}}},10164:function(W,H,e){var g=e(71828);W.exports=function(a,C){var T=a._fullLayout,v=C.uid,y=T._splomScenes;y||(y=T._splomScenes={});var t={dirty:!0,selectBatch:[],unselectBatch:[]},r={matrix:!1,selectBatch:[],unselectBatch:[]},s=y[C.uid];return s||(s=y[v]=g.extendFlat({},t,r),s.draw=function(){s.matrix&&s.matrix.draw&&(s.selectBatch.length||s.unselectBatch.length?s.matrix.draw(s.unselectBatch,s.selectBatch):s.matrix.draw()),s.dirty=!1},s.destroy=function(){s.matrix&&s.matrix.destroy&&s.matrix.destroy(),s.matrixOptions=null,s.selectBatch=null,s.unselectBatch=null,s=null}),s.dirty||g.extendFlat(s,t),s}},8689:function(W,H,e){var g=e(71828),R=g.pushUnique,a=e(34098),C=e(35948);W.exports=function(v,y){var t=v.cd,r=t[0].trace,s=t[0].t,n=v.scene,o=n.matrixOptions.cdata,f=v.xaxis,u=v.yaxis,m=[];if(!n)return m;var c=!a.hasMarkers(r)&&!a.hasText(r);if(r.visible!==!0||c)return m;var A=C.getDimIndex(r,f),h=C.getDimIndex(r,u);if(A===!1||h===!1)return m;var l=s.xpx[A],p=s.ypx[h],M=o[A],S=o[h],P=(v.scene.selectBatch||[]).slice(),x=[];if(y!==!1&&!y.degenerate)for(var E=0;E<M.length;E++)y.contains([l[E],p[E]],null,E,v)?(m.push({pointNumber:E,x:M[E],y:S[E]}),R(P,E)):P.indexOf(E)!==-1?R(P,E):x.push(E);var w=n.matrixOptions;return!P.length&&!x.length?n.matrix.update(w,null):!n.selectBatch.length&&!n.unselectBatch.length&&n.matrix.update(n.unselectedOptions,g.extendFlat({},w,n.selectedOptions,n.viewOpts)),n.selectBatch=P,n.unselectBatch=x,m}},21850:function(W,H,e){var g=e(50693),R=e(12663).axisHoverFormat,a=e(5386).fF,C=e(2418),T=e(9012),v=e(1426).extendFlat,y={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},starts:{x:{valType:"data_array",editType:"calc"},y:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},editType:"calc"},maxdisplayed:{valType:"integer",min:0,dflt:1e3,editType:"calc"},sizeref:{valType:"number",editType:"calc",min:0,dflt:1},text:{valType:"string",dflt:"",editType:"calc"},hovertext:{valType:"string",dflt:"",editType:"calc"},hovertemplate:a({editType:"calc"},{keys:["tubex","tubey","tubez","tubeu","tubev","tubew","norm","divergence"]}),uhoverformat:R("u",1),vhoverformat:R("v",1),whoverformat:R("w",1),xhoverformat:R("x"),yhoverformat:R("y"),zhoverformat:R("z"),showlegend:v({},T.showlegend,{dflt:!1})};v(y,g("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"}));var t=["opacity","lightposition","lighting"];t.forEach(function(r){y[r]=C[r]}),y.hoverinfo=v({},T.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","divergence","text","name"],dflt:"x+y+z+norm+text+name"}),y.transforms=void 0,W.exports=y},88489:function(W,H,e){var g=e(71828),R=e(78803);function a(y,t){t._len=Math.min(t.u.length,t.v.length,t.w.length,t.x.length,t.y.length,t.z.length),t._u=v(t.u,t._len),t._v=v(t.v,t._len),t._w=v(t.w,t._len),t._x=v(t.x,t._len),t._y=v(t.y,t._len),t._z=v(t.z,t._len);var r=C(t);t._gridFill=r.fill,t._Xs=r.Xs,t._Ys=r.Ys,t._Zs=r.Zs,t._len=r.len;var s=0,n,o,f;t.starts&&(n=v(t.starts.x||[]),o=v(t.starts.y||[]),f=v(t.starts.z||[]),s=Math.min(n.length,o.length,f.length)),t._startsX=n||[],t._startsY=o||[],t._startsZ=f||[];var u=0,m=1/0,c;for(c=0;c<t._len;c++){var A=t._u[c],h=t._v[c],l=t._w[c],p=Math.sqrt(A*A+h*h+l*l);u=Math.max(u,p),m=Math.min(m,p)}for(R(y,t,{vals:[m,u],containerStr:"",cLetter:"c"}),c=0;c<s;c++){var M=n[c];r.xMax=Math.max(r.xMax,M),r.xMin=Math.min(r.xMin,M);var S=o[c];r.yMax=Math.max(r.yMax,S),r.yMin=Math.min(r.yMin,S);var P=f[c];r.zMax=Math.max(r.zMax,P),r.zMin=Math.min(r.zMin,P)}t._slen=s,t._normMax=u,t._xbnds=[r.xMin,r.xMax],t._ybnds=[r.yMin,r.yMax],t._zbnds=[r.zMin,r.zMax]}function C(y){var t=y._x,r=y._y,s=y._z,n=y._len,o,f,u,m=-1/0,c=1/0,A=-1/0,h=1/0,l=-1/0,p=1/0,M="",S,P,x,E,w,i,L,b,O;for(n&&(E=t[0],i=r[0],b=s[0]),n>1&&(w=t[n-1],L=r[n-1],O=s[n-1]),o=0;o<n;o++)m=Math.max(m,t[o]),c=Math.min(c,t[o]),A=Math.max(A,r[o]),h=Math.min(h,r[o]),l=Math.max(l,s[o]),p=Math.min(p,s[o]),!S&&t[o]!==E&&(S=!0,M+="x"),!P&&r[o]!==i&&(P=!0,M+="y"),!x&&s[o]!==b&&(x=!0,M+="z");S||(M+="x"),P||(M+="y"),x||(M+="z");var _=T(y._x),N=T(y._y),z=T(y._z);M=M.replace("x",(E>w?"-":"+")+"x"),M=M.replace("y",(i>L?"-":"+")+"y"),M=M.replace("z",(b>O?"-":"+")+"z");var B=function(){n=0,_=[],N=[],z=[]};(!n||n<_.length*N.length*z.length)&&B();var U=function(he){return he==="x"?t:he==="y"?r:s},F=function(he){return he==="x"?_:he==="y"?N:z},V=function(he){return he[n-1]<he[0]?-1:1},j=U(M[1]),$=U(M[3]),ne=U(M[5]),oe=F(M[1]).length,ce=F(M[3]).length,Q=F(M[5]).length,Z=!1,K=function(he,me,Ce){return oe*(ce*he+me)+Ce},J=V(U(M[1])),re=V(U(M[3])),le=V(U(M[5]));for(o=0;o<Q-1;o++){for(f=0;f<ce-1;f++){for(u=0;u<oe-1;u++){var q=K(o,f,u),ee=K(o,f,u+1),ue=K(o,f+1,u),se=K(o+1,f,u);if((!(j[q]*J<j[ee]*J)||!($[q]*re<$[ue]*re)||!(ne[q]*le<ne[se]*le))&&(Z=!0),Z)break}if(Z)break}if(Z)break}return Z&&(g.warn("Encountered arbitrary coordinates! Unable to input data grid."),B()),{xMin:c,yMin:h,zMin:p,xMax:m,yMax:A,zMax:l,Xs:_,Ys:N,Zs:z,len:n,fill:M}}function T(y){return g.distinctVals(y).vals}function v(y,t){if(t===void 0&&(t=y.length),g.isTypedArray(y))return y.subarray(0,t);for(var r=[],s=0;s<t;s++)r[s]=+y[s];return r}W.exports={calc:a,filter:v,processGrid:C}},90154:function(W,H,e){var g=e(9330).gl_streamtube3d,R=g.createTubeMesh,a=e(71828),C=e(81697).parseColorScale,T=e(21081).extractOpts,v=e(90060),y={xaxis:0,yaxis:1,zaxis:2};function t(u,m){this.scene=u,this.uid=m,this.mesh=null,this.data=null}var r=t.prototype;r.handlePick=function(u){var m=this.scene.fullSceneLayout,c=this.scene.dataScale;function A(p,M){var S=m[M],P=c[y[M]];return S.l2c(p)/P}if(u.object===this.mesh){var h=u.data.position,l=u.data.velocity;return u.traceCoordinate=[A(h[0],"xaxis"),A(h[1],"yaxis"),A(h[2],"zaxis"),A(l[0],"xaxis"),A(l[1],"yaxis"),A(l[2],"zaxis"),u.data.intensity*this.data._normMax,u.data.divergence],u.textLabel=this.data.hovertext||this.data.text,!0}};function s(u){var m=u.length,c;return m>2?c=u.slice(1,m-1):m===2?c=[(u[0]+u[1])/2]:c=u,c}function n(u){var m=u.length;return m===1?[.5,.5]:[u[1]-u[0],u[m-1]-u[m-2]]}function o(u,m){var c=u.fullSceneLayout,A=u.dataScale,h=m._len,l={};function p(ce,Q){var Z=c[Q],K=A[y[Q]];return a.simpleMap(ce,function(J){return Z.d2l(J)*K})}if(l.vectors=v(p(m._u,"xaxis"),p(m._v,"yaxis"),p(m._w,"zaxis"),h),!h)return{positions:[],cells:[]};var M=p(m._Xs,"xaxis"),S=p(m._Ys,"yaxis"),P=p(m._Zs,"zaxis");l.meshgrid=[M,S,P],l.gridFill=m._gridFill;var x=m._slen;if(x)l.startingPositions=v(p(m._startsX,"xaxis"),p(m._startsY,"yaxis"),p(m._startsZ,"zaxis"));else{for(var E=S[0],w=s(M),i=s(P),L=new Array(w.length*i.length),b=0,O=0;O<w.length;O++)for(var _=0;_<i.length;_++)L[b++]=[w[O],E,i[_]];l.startingPositions=L}l.colormap=C(m),l.tubeSize=m.sizeref,l.maxLength=m.maxdisplayed;var N=p(m._xbnds,"xaxis"),z=p(m._ybnds,"yaxis"),B=p(m._zbnds,"zaxis"),U=n(M),F=n(S),V=n(P),j=[[N[0]-U[0],z[0]-F[0],B[0]-V[0]],[N[1]+U[1],z[1]+F[1],B[1]+V[1]]],$=g(l,j),ne=T(m);$.vertexIntensityBounds=[ne.min/m._normMax,ne.max/m._normMax];var oe=m.lightposition;return $.lightPosition=[oe.x,oe.y,oe.z],$.ambient=m.lighting.ambient,$.diffuse=m.lighting.diffuse,$.specular=m.lighting.specular,$.roughness=m.lighting.roughness,$.fresnel=m.lighting.fresnel,$.opacity=m.opacity,m._pad=$.tubeScale*m.sizeref*2,$}r.update=function(u){this.data=u;var m=o(this.scene,u);this.mesh.update(m)},r.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function f(u,m){var c=u.glplot.gl,A=o(u,m),h=R(c,A),l=new t(u,m.uid);return l.mesh=h,l.data=m,h._trace=l,u.glplot.add(h),l}W.exports=f},22459:function(W,H,e){var g=e(71828),R=e(1586),a=e(21850);W.exports=function(T,v,y,t){function r(c,A){return g.coerce(T,v,a,c,A)}var s=r("u"),n=r("v"),o=r("w"),f=r("x"),u=r("y"),m=r("z");if(!s||!s.length||!n||!n.length||!o||!o.length||!f||!f.length||!u||!u.length||!m||!m.length){v.visible=!1;return}r("starts.x"),r("starts.y"),r("starts.z"),r("maxdisplayed"),r("sizeref"),r("lighting.ambient"),r("lighting.diffuse"),r("lighting.specular"),r("lighting.roughness"),r("lighting.fresnel"),r("lightposition.x"),r("lightposition.y"),r("lightposition.z"),R(T,v,t,r,{prefix:"",cLetter:"c"}),r("text"),r("hovertext"),r("hovertemplate"),r("uhoverformat"),r("vhoverformat"),r("whoverformat"),r("xhoverformat"),r("yhoverformat"),r("zhoverformat"),v._length=null}},61510:function(W,H,e){W.exports={moduleType:"trace",name:"streamtube",basePlotModule:e(58547),categories:["gl3d","showLegend"],attributes:e(21850),supplyDefaults:e(22459),colorbar:{min:"cmin",max:"cmax"},calc:e(88489).calc,plot:e(90154),eventData:function(g,R){return g.tubex=g.x,g.tubey=g.y,g.tubez=g.z,g.tubeu=R.traceCoordinate[3],g.tubev=R.traceCoordinate[4],g.tubew=R.traceCoordinate[5],g.norm=R.traceCoordinate[6],g.divergence=R.traceCoordinate[7],delete g.x,delete g.y,delete g.z,g},meta:{}}},57564:function(W,H,e){var g=e(9012),R=e(5386).fF,a=e(5386).si,C=e(50693),T=e(27670).Y,v=e(34e3),y=e(7055),t=e(1426).extendFlat,r=e(79952).u;W.exports={labels:{valType:"data_array",editType:"calc"},parents:{valType:"data_array",editType:"calc"},values:{valType:"data_array",editType:"calc"},branchvalues:{valType:"enumerated",values:["remainder","total"],dflt:"remainder",editType:"calc"},count:{valType:"flaglist",flags:["branches","leaves"],dflt:"leaves",editType:"calc"},level:{valType:"any",editType:"plot",anim:!0},maxdepth:{valType:"integer",editType:"plot",dflt:-1},marker:t({colors:{valType:"data_array",editType:"calc"},line:{color:t({},v.marker.line.color,{dflt:null}),width:t({},v.marker.line.width,{dflt:1}),editType:"calc"},pattern:r,editType:"calc"},C("marker",{colorAttr:"colors",anim:!1})),leaf:{opacity:{valType:"number",editType:"style",min:0,max:1},editType:"plot"},text:v.text,textinfo:{valType:"flaglist",flags:["label","text","value","current path","percent root","percent entry","percent parent"],extras:["none"],editType:"plot"},texttemplate:a({editType:"plot"},{keys:y.eventDataKeys.concat(["label","value"])}),hovertext:v.hovertext,hoverinfo:t({},g.hoverinfo,{flags:["label","text","value","name","current path","percent root","percent entry","percent parent"],dflt:"label+text+value+name"}),hovertemplate:R({},{keys:y.eventDataKeys}),textfont:v.textfont,insidetextorientation:v.insidetextorientation,insidetextfont:v.insidetextfont,outsidetextfont:t({},v.outsidetextfont,{}),rotation:{valType:"angle",dflt:0,editType:"plot"},sort:v.sort,root:{color:{valType:"color",editType:"calc",dflt:"rgba(0,0,0,0)"},editType:"calc"},domain:T({name:"sunburst",trace:!0,editType:"calc"})}},66888:function(W,H,e){var g=e(74875);H.name="sunburst",H.plot=function(R,a,C,T){g.plotBasePlot(H.name,R,a,C,T)},H.clean=function(R,a,C,T){g.cleanBasePlot(H.name,R,a,C,T)}},52147:function(W,H,e){var g=e(674),R=e(92770),a=e(71828),C=e(21081).makeColorScaleFuncFromTrace,T=e(32354).makePullColorFn,v=e(32354).generateExtendedColors,y=e(21081).calc,t=e(50606).ALMOST_EQUAL,r={},s={},n={};H.calc=function(f,u){var m=f._fullLayout,c=u.ids,A=a.isArrayOrTypedArray(c),h=u.labels,l=u.parents,p=u.values,M=a.isArrayOrTypedArray(p),S=[],P={},x={},E=function(J,re){P[J]?P[J].push(re):P[J]=[re],x[re]=1},w=function(J){return J||typeof J=="number"},i=function(J){return!M||R(p[J])&&p[J]>=0},L,b,O;A?(L=Math.min(c.length,l.length),b=function(J){return w(c[J])&&i(J)},O=function(J){return String(c[J])}):(L=Math.min(h.length,l.length),b=function(J){return w(h[J])&&i(J)},O=function(J){return String(h[J])}),M&&(L=Math.min(L,p.length));for(var _=0;_<L;_++)if(b(_)){var N=O(_),z=w(l[_])?String(l[_]):"",B={i:_,id:N,pid:z,label:w(h[_])?String(h[_]):""};M&&(B.v=+p[_]),S.push(B),E(z,N)}if(P[""]){if(P[""].length>1){for(var V=a.randstr(),j=0;j<S.length;j++)S[j].pid===""&&(S[j].pid=V);S.unshift({hasMultipleRoots:!0,id:V,pid:"",label:""})}}else{var U=[],F;for(F in P)x[F]||U.push(F);if(U.length===1)F=U[0],S.unshift({hasImpliedRoot:!0,id:F,pid:"",label:F});else return a.warn(["Multiple implied roots, cannot build",u.type,"hierarchy of",u.name+".","These roots include:",U.join(", ")].join(" "))}var $;try{$=g.stratify().id(function(J){return J.id}).parentId(function(J){return J.pid})(S)}catch(J){return a.warn(["Failed to build",u.type,"hierarchy of",u.name+".","Error:",J.message].join(" "))}var ne=g.hierarchy($),oe=!1;if(M)switch(u.branchvalues){case"remainder":ne.sum(function(J){return J.data.v});break;case"total":ne.each(function(J){var re=J.data.data,le=re.v;if(J.children){var q=J.children.reduce(function(ee,ue){return ee+ue.data.data.v},0);if((re.hasImpliedRoot||re.hasMultipleRoots)&&(le=q),le<q*t)return oe=!0,a.warn(["Total value for node",J.data.data.id,"of",u.name,"is smaller than the sum of its children.",`
parent value =`,le,`
children sum =`,q].join(" "))}J.value=le});break}else o(ne,u,{branches:u.count.indexOf("branches")!==-1,leaves:u.count.indexOf("leaves")!==-1});if(!oe){u.sort&&ne.sort(function(J,re){return re.value-J.value});var ce,Q,Z=u.marker.colors||[],K=!!Z.length;return u._hasColorscale?(K||(Z=M?u.values:u._values),y(f,u,{vals:Z,containerStr:"marker",cLetter:"c"}),Q=C(u.marker)):ce=T(m["_"+u.type+"colormap"]),ne.each(function(J){var re=J.data.data;re.color=u._hasColorscale?Q(Z[re.i]):ce(Z[re.i],re.id)}),S[0].hierarchy=ne,S}},H._runCrossTraceCalc=function(f,u){var m=u._fullLayout,c=u.calcdata,A=m[f+"colorway"],h=m["_"+f+"colormap"];m["extend"+f+"colors"]&&(A=v(A,f==="icicle"?n:f==="treemap"?s:r));var l=0,p;function M(E){var w=E.data.data,i=w.id;w.color===!1&&(h[i]?w.color=h[i]:E.parent?E.parent.parent?w.color=E.parent.data.data.color:(h[i]=w.color=A[l%A.length],l++):w.color=p)}for(var S=0;S<c.length;S++){var P=c[S],x=P[0];x.trace.type===f&&x.hierarchy&&(p=x.trace.root.color,x.hierarchy.each(M))}},H.crossTraceCalc=function(f){return H._runCrossTraceCalc("sunburst",f)};function o(f,u,m){var c=0,A=f.children;if(A){for(var h=A.length,l=0;l<h;l++)c+=o(A[l],u,m);m.branches&&c++}else m.leaves&&c++;return f.value=f.data.data.value=c,u._values||(u._values=[]),u._values[f.data.data.i]=c,c}},7055:function(W){W.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"linear",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"]}},17094:function(W,H,e){var g=e(71828),R=e(57564),a=e(27670).c,C=e(90769).handleText,T=e(37434).handleMarkerDefaults,v=e(21081),y=v.hasColorscale,t=v.handleDefaults;W.exports=function(s,n,o,f){function u(M,S){return g.coerce(s,n,R,M,S)}var m=u("labels"),c=u("parents");if(!m||!m.length||!c||!c.length){n.visible=!1;return}var A=u("values");A&&A.length?u("branchvalues"):u("count"),u("level"),u("maxdepth"),T(s,n,f,u);var h=n._hasColorscale=y(s,"marker","colors")||(s.marker||{}).coloraxis;h&&t(s,n,f,u,{prefix:"marker.",cLetter:"c"}),u("leaf.opacity",h?1:.7);var l=u("text");u("texttemplate"),n.texttemplate||u("textinfo",Array.isArray(l)?"text+label":"label"),u("hovertext"),u("hovertemplate");var p="auto";C(s,n,f,u,p,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),u("insidetextorientation"),u("sort"),u("rotation"),u("root.color"),a(n,f,u),n._length=null}},43467:function(W,H,e){var g=e(91424),R=e(7901);W.exports=function(C,T,v,y,t){var r=T.data.data,s=r.i,n=t||r.color;if(s>=0){T.i=r.i;var o=v.marker;o.pattern?(!o.colors||!o.pattern.shape)&&(o.color=n,T.color=n):(o.color=n,T.color=n),g.pointStyle(C,v,y,T)}else R.fill(C,n)}},83523:function(W,H,e){var g=e(39898),R=e(73972),a=e(23469).appendArrayPointValue,C=e(30211),T=e(71828),v=e(11086),y=e(2791),t=e(53581),r=t.formatPieValue;W.exports=function(o,f,u,m,c){var A=m[0],h=A.trace,l=A.hierarchy,p=h.type==="sunburst",M=h.type==="treemap"||h.type==="icicle";"_hasHoverLabel"in h||(h._hasHoverLabel=!1),"_hasHoverEvent"in h||(h._hasHoverEvent=!1);var S=function(E){var w=u._fullLayout;if(!(u._dragging||w.hovermode===!1)){var i=u._fullData[h.index],L=E.data.data,b=L.i,O=y.isHierarchyRoot(E),_=y.getParent(l,E),N=y.getValue(E),z=function(ee){return T.castOption(i,b,ee)},B=z("hovertemplate"),U=C.castHoverinfo(i,w,b),F=w.separators,V;if(B||U&&U!=="none"&&U!=="skip"){var j,$;p&&(j=A.cx+E.pxmid[0]*(1-E.rInscribed),$=A.cy+E.pxmid[1]*(1-E.rInscribed)),M&&(j=E._hoverX,$=E._hoverY);var ne={},oe=[],ce=[],Q=function(ee){return oe.indexOf(ee)!==-1};U&&(oe=U==="all"?i._module.attributes.hoverinfo.flags:U.split("+")),ne.label=L.label,Q("label")&&ne.label&&ce.push(ne.label),L.hasOwnProperty("v")&&(ne.value=L.v,ne.valueLabel=r(ne.value,F),Q("value")&&ce.push(ne.valueLabel)),ne.currentPath=E.currentPath=y.getPath(E.data),Q("current path")&&!O&&ce.push(ne.currentPath);var Z,K=[],J=function(){K.indexOf(Z)===-1&&(ce.push(Z),K.push(Z))};ne.percentParent=E.percentParent=N/y.getValue(_),ne.parent=E.parentString=y.getPtLabel(_),Q("percent parent")&&(Z=y.formatPercent(ne.percentParent,F)+" of "+ne.parent,J()),ne.percentEntry=E.percentEntry=N/y.getValue(f),ne.entry=E.entry=y.getPtLabel(f),Q("percent entry")&&!O&&!E.onPathbar&&(Z=y.formatPercent(ne.percentEntry,F)+" of "+ne.entry,J()),ne.percentRoot=E.percentRoot=N/y.getValue(l),ne.root=E.root=y.getPtLabel(l),Q("percent root")&&!O&&(Z=y.formatPercent(ne.percentRoot,F)+" of "+ne.root,J()),ne.text=z("hovertext")||z("text"),Q("text")&&(Z=ne.text,T.isValidTextValue(Z)&&ce.push(Z)),V=[s(E,i,c.eventDataKeys)];var re={trace:i,y:$,_x0:E._x0,_x1:E._x1,_y0:E._y0,_y1:E._y1,text:ce.join("<br>"),name:B||Q("name")?i.name:void 0,color:z("hoverlabel.bgcolor")||L.color,borderColor:z("hoverlabel.bordercolor"),fontFamily:z("hoverlabel.font.family"),fontSize:z("hoverlabel.font.size"),fontColor:z("hoverlabel.font.color"),nameLength:z("hoverlabel.namelength"),textAlign:z("hoverlabel.align"),hovertemplate:B,hovertemplateLabels:ne,eventData:V};p&&(re.x0=j-E.rInscribed*E.rpx1,re.x1=j+E.rInscribed*E.rpx1,re.idealAlign=E.pxmid[0]<0?"left":"right"),M&&(re.x=j,re.idealAlign=j<0?"left":"right");var le=[];C.loneHover(re,{container:w._hoverlayer.node(),outerContainer:w._paper.node(),gd:u,inOut_bbox:le}),V[0].bbox=le[0],h._hasHoverLabel=!0}if(M){var q=o.select("path.surface");c.styleOne(q,E,i,u,{hovered:!0})}h._hasHoverEvent=!0,u.emit("plotly_hover",{points:V||[s(E,i,c.eventDataKeys)],event:g.event})}},P=function(E){var w=u._fullLayout,i=u._fullData[h.index],L=g.select(this).datum();if(h._hasHoverEvent&&(E.originalEvent=g.event,u.emit("plotly_unhover",{points:[s(L,i,c.eventDataKeys)],event:g.event}),h._hasHoverEvent=!1),h._hasHoverLabel&&(C.loneUnhover(w._hoverlayer.node()),h._hasHoverLabel=!1),M){var b=o.select("path.surface");c.styleOne(b,L,i,u,{hovered:!1})}},x=function(E){var w=u._fullLayout,i=u._fullData[h.index],L=p&&(y.isHierarchyRoot(E)||y.isLeaf(E)),b=y.getPtId(E),O=y.isEntry(E)?y.findEntryWithChild(l,b):y.findEntryWithLevel(l,b),_=y.getPtId(O),N={points:[s(E,i,c.eventDataKeys)],event:g.event};L||(N.nextLevel=_);var z=v.triggerHandler(u,"plotly_"+h.type+"click",N);if(z!==!1&&w.hovermode&&(u._hoverdata=[s(E,i,c.eventDataKeys)],C.click(u,g.event)),!L&&z!==!1&&!u._dragging&&!u._transitioning){R.call("_storeDirectGUIEdit",i,w._tracePreGUI[i.uid],{level:i.level});var B={data:[{level:_}],traces:[h.index]},U={frame:{redraw:!1,duration:c.transitionTime},transition:{duration:c.transitionTime,easing:c.transitionEasing},mode:"immediate",fromcurrent:!0};C.loneUnhover(w._hoverlayer.node()),R.call("animate",u,B,U)}};o.on("mouseover",S),o.on("mouseout",P),o.on("click",x)};function s(n,o,f){for(var u=n.data.data,m={curveNumber:o.index,pointNumber:u.i,data:o._input,fullData:o},c=0;c<f.length;c++){var A=f[c];A in n&&(m[A]=n[A])}return"parentString"in n&&!y.isHierarchyRoot(n)&&(m.parent=n.parentString),a(m,o,u.i),m}},2791:function(W,H,e){var g=e(71828),R=e(7901),a=e(6964),C=e(53581);H.findEntryWithLevel=function(t,r){var s;return r&&t.eachAfter(function(n){if(H.getPtId(n)===r)return s=n.copy()}),s||t},H.findEntryWithChild=function(t,r){var s;return t.eachAfter(function(n){for(var o=n.children||[],f=0;f<o.length;f++){var u=o[f];if(H.getPtId(u)===r)return s=n.copy()}}),s||t},H.isEntry=function(t){return!t.parent},H.isLeaf=function(t){return!t.children},H.getPtId=function(t){return t.data.data.id},H.getPtLabel=function(t){return t.data.data.label},H.getValue=function(t){return t.value},H.isHierarchyRoot=function(t){return y(t)===""},H.setSliceCursor=function(t,r,s){var n=s.isTransitioning;if(!n){var o=t.datum();n=s.hideOnRoot&&H.isHierarchyRoot(o)||s.hideOnLeaves&&H.isLeaf(o)}a(t,n?null:"pointer")};function T(t,r,s){return{color:H.getOutsideTextFontKey("color",t,r,s),family:H.getOutsideTextFontKey("family",t,r,s),size:H.getOutsideTextFontKey("size",t,r,s)}}function v(t,r,s,n){var o=(n||{}).onPathbar,f=r.data.data,u=f.i,m=g.castOption(t,u,(o?"pathbar.textfont":"insidetextfont")+".color");return!m&&t._input.textfont&&(m=g.castOption(t._input,u,"textfont.color")),{color:m||R.contrast(f.color),family:H.getInsideTextFontKey("family",t,r,s,n),size:H.getInsideTextFontKey("size",t,r,s,n)}}H.getInsideTextFontKey=function(t,r,s,n,o){var f=(o||{}).onPathbar,u=f?"pathbar.textfont":"insidetextfont",m=s.data.data.i;return g.castOption(r,m,u+"."+t)||g.castOption(r,m,"textfont."+t)||n.size},H.getOutsideTextFontKey=function(t,r,s,n){var o=s.data.data.i;return g.castOption(r,o,"outsidetextfont."+t)||g.castOption(r,o,"textfont."+t)||n.size},H.isOutsideText=function(t,r){return!t._hasColorscale&&H.isHierarchyRoot(r)},H.determineTextFont=function(t,r,s,n){return H.isOutsideText(t,r)?T(t,r,s):v(t,r,s,n)},H.hasTransition=function(t){return!!(t&&t.duration>0)},H.getMaxDepth=function(t){return t.maxdepth>=0?t.maxdepth:1/0},H.isHeader=function(t,r){return!(H.isLeaf(t)||t.depth===r._maxDepth-1)};function y(t){return t.data.data.pid}H.getParent=function(t,r){return H.findEntryWithLevel(t,y(r))},H.listPath=function(t,r){var s=t.parent;if(!s)return[];var n=r?[s.data[r]]:[s];return H.listPath(s,r).concat(n)},H.getPath=function(t){return H.listPath(t,"label").join("/")+"/"},H.formatValue=C.formatPieValue,H.formatPercent=function(t,r){var s=g.formatPercent(t,0);return s==="0%"&&(s=C.formatPiePercent(t,r)),s}},87619:function(W,H,e){W.exports={moduleType:"trace",name:"sunburst",basePlotModule:e(66888),categories:[],animatable:!0,attributes:e(57564),layoutAttributes:e(2654),supplyDefaults:e(17094),supplyLayoutDefaults:e(57034),calc:e(52147).calc,crossTraceCalc:e(52147).crossTraceCalc,plot:e(24714).plot,style:e(29969).style,colorbar:e(4898),meta:{}}},2654:function(W){W.exports={sunburstcolorway:{valType:"colorlist",editType:"calc"},extendsunburstcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},57034:function(W,H,e){var g=e(71828),R=e(2654);W.exports=function(C,T){function v(y,t){return g.coerce(C,T,R,y,t)}v("sunburstcolorway",T.colorway),v("extendsunburstcolors")}},24714:function(W,H,e){var g=e(39898),R=e(674),a=e(81684).sX,C=e(91424),T=e(71828),v=e(63893),y=e(72597),t=y.recordMinTextSize,r=y.clearMinTextSize,s=e(14575),n=e(53581).getRotationAngle,o=s.computeTransform,f=s.transformInsideText,u=e(29969).styleOne,m=e(16688).resizeText,c=e(83523),A=e(7055),h=e(2791);H.plot=function(x,E,w,i){var L=x._fullLayout,b=L._sunburstlayer,O,_,N=!w,z=!L.uniformtext.mode&&h.hasTransition(w);if(r("sunburst",L),O=b.selectAll("g.trace.sunburst").data(E,function(U){return U[0].trace.uid}),O.enter().append("g").classed("trace",!0).classed("sunburst",!0).attr("stroke-linejoin","round"),O.order(),z){i&&(_=i());var B=g.transition().duration(w.duration).ease(w.easing).each("end",function(){_&&_()}).each("interrupt",function(){_&&_()});B.each(function(){b.selectAll("g.trace").each(function(U){l(x,U,this,w)})})}else O.each(function(U){l(x,U,this,w)}),L.uniformtext.mode&&m(x,L._sunburstlayer.selectAll(".trace"),"sunburst");N&&O.exit().remove()};function l(x,E,w,i){var L=x._context.staticPlot,b=x._fullLayout,O=!b.uniformtext.mode&&h.hasTransition(i),_=g.select(w),N=_.selectAll("g.slice"),z=E[0],B=z.trace,U=z.hierarchy,F=h.findEntryWithLevel(U,B.level),V=h.getMaxDepth(B),j=b._size,$=B.domain,ne=j.w*($.x[1]-$.x[0]),oe=j.h*($.y[1]-$.y[0]),ce=.5*Math.min(ne,oe),Q=z.cx=j.l+j.w*($.x[1]+$.x[0])/2,Z=z.cy=j.t+j.h*(1-$.y[0])-oe/2;if(!F)return N.remove();var K=null,J={};O&&N.each(function(Ge){J[h.getPtId(Ge)]={rpx0:Ge.rpx0,rpx1:Ge.rpx1,x0:Ge.x0,x1:Ge.x1,transform:Ge.transform},!K&&h.isEntry(Ge)&&(K=Ge)});var re=p(F).descendants(),le=F.height+1,q=0,ee=V;z.hasMultipleRoots&&h.isHierarchyRoot(F)&&(re=re.slice(1),le-=1,q=1,ee+=1),re=re.filter(function(Ge){return Ge.y1<=ee});var ue=n(B.rotation);ue&&re.forEach(function(Ge){Ge.x0+=ue,Ge.x1+=ue});var se=Math.min(le,V),he=function(Ge){return(Ge-q)/se*ce},me=function(Ge,it){return[Ge*Math.cos(it),-Ge*Math.sin(it)]},Ce=function(Ge){return T.pathAnnulus(Ge.rpx0,Ge.rpx1,Ge.x0,Ge.x1,Q,Z)},Te=function(Ge){return Q+S(Ge)[0]*(Ge.transform.rCenter||0)+(Ge.transform.x||0)},Oe=function(Ge){return Z+S(Ge)[1]*(Ge.transform.rCenter||0)+(Ge.transform.y||0)};N=N.data(re,h.getPtId),N.enter().append("g").classed("slice",!0),O?N.exit().transition().each(function(){var Ge=g.select(this),it=Ge.select("path.surface");it.transition().attrTween("d",function(tt){var at=Ae(tt);return function(vt){return Ce(at(vt))}});var et=Ge.select("g.slicetext");et.attr("opacity",0)}).remove():N.exit().remove(),N.order();var Ne=null;if(O&&K){var Le=h.getPtId(K);N.each(function(Ge){Ne===null&&h.getPtId(Ge)===Le&&(Ne=Ge.x1)})}var be=N;O&&(be=be.transition().each("end",function(){var Ge=g.select(this);h.setSliceCursor(Ge,x,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:!1})})),be.each(function(Ge){var it=g.select(this),et=T.ensureSingle(it,"path","surface",function(Mt){Mt.style("pointer-events",L?"none":"all")});Ge.rpx0=he(Ge.y0),Ge.rpx1=he(Ge.y1),Ge.xmid=(Ge.x0+Ge.x1)/2,Ge.pxmid=me(Ge.rpx1,Ge.xmid),Ge.midangle=-(Ge.xmid-Math.PI/2),Ge.startangle=-(Ge.x0-Math.PI/2),Ge.stopangle=-(Ge.x1-Math.PI/2),Ge.halfangle=.5*Math.min(T.angleDelta(Ge.x0,Ge.x1)||Math.PI,Math.PI),Ge.ring=1-Ge.rpx0/Ge.rpx1,Ge.rInscribed=M(Ge),O?et.transition().attrTween("d",function(Mt){var Ct=He(Mt);return function(Vt){return Ce(Ct(Vt))}}):et.attr("d",Ce),it.call(c,F,x,E,{eventDataKeys:A.eventDataKeys,transitionTime:A.CLICK_TRANSITION_TIME,transitionEasing:A.CLICK_TRANSITION_EASING}).call(h.setSliceCursor,x,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:x._transitioning}),et.call(u,Ge,B,x);var tt=T.ensureSingle(it,"g","slicetext"),at=T.ensureSingle(tt,"text","",function(Mt){Mt.attr("data-notex",1)}),vt=T.ensureUniformFontSize(x,h.determineTextFont(B,Ge,b.font));at.text(H.formatSliceLabel(Ge,F,B,E,b)).classed("slicetext",!0).attr("text-anchor","middle").call(C.font,vt).call(v.convertToTspans,x);var yt=C.bBox(at.node());Ge.transform=f(yt,Ge,z),Ge.transform.targetX=Te(Ge),Ge.transform.targetY=Oe(Ge);var gt=function(Mt,Ct){var Vt=Mt.transform;return o(Vt,Ct),Vt.fontSize=vt.size,t(B.type,Vt,b),T.getTextTransform(Vt)};O?at.transition().attrTween("transform",function(Mt){var Ct=Ve(Mt);return function(Vt){return gt(Ct(Vt),yt)}}):at.attr("transform",gt(Ge,yt))});function Ae(Ge){var it=h.getPtId(Ge),et=J[it],tt=J[h.getPtId(F)],at;if(tt){var vt=(Ge.x1>tt.x1?2*Math.PI:0)+ue;at=Ge.rpx1<tt.rpx1?{x0:Ge.x0,x1:Ge.x1,rpx0:0,rpx1:0}:{x0:vt,x1:vt,rpx0:Ge.rpx0,rpx1:Ge.rpx1}}else{var yt,gt=h.getPtId(Ge.parent);N.each(function(ze){if(h.getPtId(ze)===gt)return yt=ze});var Mt=yt.children,Ct;Mt.forEach(function(ze,_e){if(h.getPtId(ze)===it)return Ct=_e});var Vt=Mt.length,Je=a(yt.x0,yt.x1);at={rpx0:ce,rpx1:ce,x0:Je(Ct/Vt),x1:Je((Ct+1)/Vt)}}return a(et,at)}function He(Ge){var it=J[h.getPtId(Ge)],et,tt={x0:Ge.x0,x1:Ge.x1,rpx0:Ge.rpx0,rpx1:Ge.rpx1};if(it)et=it;else if(K)if(Ge.parent)if(Ne){var at=(Ge.x1>Ne?2*Math.PI:0)+ue;et={x0:at,x1:at}}else et={rpx0:ce,rpx1:ce},T.extendFlat(et,ke(Ge));else et={rpx0:0,rpx1:0};else et={x0:ue,x1:ue};return a(et,tt)}function Ve(Ge){var it=J[h.getPtId(Ge)],et,tt=Ge.transform;if(it)et=it;else if(et={rpx1:Ge.rpx1,transform:{textPosAngle:tt.textPosAngle,scale:0,rotate:tt.rotate,rCenter:tt.rCenter,x:tt.x,y:tt.y}},K)if(Ge.parent)if(Ne){var at=Ge.x1>Ne?2*Math.PI:0;et.x0=et.x1=at}else T.extendFlat(et,ke(Ge));else et.x0=et.x1=ue;else et.x0=et.x1=ue;var vt=a(et.transform.textPosAngle,Ge.transform.textPosAngle),yt=a(et.rpx1,Ge.rpx1),gt=a(et.x0,Ge.x0),Mt=a(et.x1,Ge.x1),Ct=a(et.transform.scale,tt.scale),Vt=a(et.transform.rotate,tt.rotate),Je=tt.rCenter===0?3:et.transform.rCenter===0?1/3:1,ze=a(et.transform.rCenter,tt.rCenter),_e=function(Be){return ze(Math.pow(Be,Je))};return function(Be){var De=yt(Be),we=gt(Be),xe=Mt(Be),Ee=_e(Be),Pe=me(De,(we+xe)/2),Ue=vt(Be),$e={pxmid:Pe,rpx1:De,transform:{textPosAngle:Ue,rCenter:Ee,x:tt.x,y:tt.y}};return t(B.type,tt,b),{transform:{targetX:Te($e),targetY:Oe($e),scale:Ct(Be),rotate:Vt(Be),rCenter:Ee}}}}function ke(Ge){var it=Ge.parent,et=J[h.getPtId(it)],tt={};if(et){var at=it.children,vt=at.indexOf(Ge),yt=at.length,gt=a(et.x0,et.x1);tt.x0=gt(vt/yt),tt.x1=gt(vt/yt)}else tt.x0=tt.x1=0;return tt}}function p(x){return R.partition().size([2*Math.PI,x.height+1])(x)}H.formatSliceLabel=function(x,E,w,i,L){var b=w.texttemplate,O=w.textinfo;if(!b&&(!O||O==="none"))return"";var _=L.separators,N=i[0],z=x.data.data,B=N.hierarchy,U=h.isHierarchyRoot(x),F=h.getParent(B,x),V=h.getValue(x);if(!b){var j=O.split("+"),$=function(q){return j.indexOf(q)!==-1},ne=[],oe;if($("label")&&z.label&&ne.push(z.label),z.hasOwnProperty("v")&&$("value")&&ne.push(h.formatValue(z.v,_)),!U){$("current path")&&ne.push(h.getPath(x.data));var ce=0;$("percent parent")&&ce++,$("percent entry")&&ce++,$("percent root")&&ce++;var Q=ce>1;if(ce){var Z,K=function(q){oe=h.formatPercent(Z,_),Q&&(oe+=" of "+q),ne.push(oe)};$("percent parent")&&!U&&(Z=V/h.getValue(F),K("parent")),$("percent entry")&&(Z=V/h.getValue(E),K("entry")),$("percent root")&&(Z=V/h.getValue(B),K("root"))}}return $("text")&&(oe=T.castOption(w,z.i,"text"),T.isValidTextValue(oe)&&ne.push(oe)),ne.join("<br>")}var J=T.castOption(w,z.i,"texttemplate");if(!J)return"";var re={};z.label&&(re.label=z.label),z.hasOwnProperty("v")&&(re.value=z.v,re.valueLabel=h.formatValue(z.v,_)),re.currentPath=h.getPath(x.data),U||(re.percentParent=V/h.getValue(F),re.percentParentLabel=h.formatPercent(re.percentParent,_),re.parent=h.getPtLabel(F)),re.percentEntry=V/h.getValue(E),re.percentEntryLabel=h.formatPercent(re.percentEntry,_),re.entry=h.getPtLabel(E),re.percentRoot=V/h.getValue(B),re.percentRootLabel=h.formatPercent(re.percentRoot,_),re.root=h.getPtLabel(B),z.hasOwnProperty("color")&&(re.color=z.color);var le=T.castOption(w,z.i,"text");return(T.isValidTextValue(le)||le==="")&&(re.text=le),re.customdata=T.castOption(w,z.i,"customdata"),T.texttemplateString(J,re,L._d3locale,re,w._meta||{})};function M(x){return x.rpx0===0&&T.isFullCircle([x.x0,x.x1])?1:Math.max(0,Math.min(1/(1+1/Math.sin(x.halfangle)),x.ring/2))}function S(x){return P(x.rpx1,x.transform.textPosAngle)}function P(x,E){return[x*Math.sin(E),-x*Math.cos(E)]}},29969:function(W,H,e){var g=e(39898),R=e(7901),a=e(71828),C=e(72597).resizeText,T=e(43467);function v(t){var r=t._fullLayout._sunburstlayer.selectAll(".trace");C(t,r,"sunburst"),r.each(function(s){var n=g.select(this),o=s[0],f=o.trace;n.style("opacity",f.opacity),n.selectAll("path.surface").each(function(u){g.select(this).call(y,u,f,t)})})}function y(t,r,s,n){var o=r.data.data,f=!r.children,u=o.i,m=a.castOption(s,u,"marker.line.color")||R.defaultLine,c=a.castOption(s,u,"marker.line.width")||0;t.call(T,r,s,n).style("stroke-width",c).call(R.stroke,m).style("opacity",f?s.leaf.opacity:null)}W.exports={style:v,styleOne:y}},54532:function(W,H,e){var g=e(7901),R=e(50693),a=e(12663).axisHoverFormat,C=e(5386).fF,T=e(9012),v=e(1426).extendFlat,y=e(30962).overrideAll;function t(n){return{valType:"boolean",dflt:!1}}function r(n){return{show:{valType:"boolean",dflt:!1},start:{valType:"number",dflt:null,editType:"plot"},end:{valType:"number",dflt:null,editType:"plot"},size:{valType:"number",dflt:null,min:0,editType:"plot"},project:{x:t(),y:t(),z:t()},color:{valType:"color",dflt:g.defaultLine},usecolormap:{valType:"boolean",dflt:!1},width:{valType:"number",min:1,max:16,dflt:2},highlight:{valType:"boolean",dflt:!0},highlightcolor:{valType:"color",dflt:g.defaultLine},highlightwidth:{valType:"number",min:1,max:16,dflt:2}}}var s=W.exports=y(v({z:{valType:"data_array"},x:{valType:"data_array"},y:{valType:"data_array"},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:C(),xhoverformat:a("x"),yhoverformat:a("y"),zhoverformat:a("z"),connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},surfacecolor:{valType:"data_array"}},R("",{colorAttr:"z or surfacecolor",showScaleDflt:!0,autoColorDflt:!1,editTypeOverride:"calc"}),{contours:{x:r(),y:r(),z:r()},hidesurface:{valType:"boolean",dflt:!1},lightposition:{x:{valType:"number",min:-1e5,max:1e5,dflt:10},y:{valType:"number",min:-1e5,max:1e5,dflt:1e4},z:{valType:"number",min:-1e5,max:1e5,dflt:0}},lighting:{ambient:{valType:"number",min:0,max:1,dflt:.8},diffuse:{valType:"number",min:0,max:1,dflt:.8},specular:{valType:"number",min:0,max:2,dflt:.05},roughness:{valType:"number",min:0,max:1,dflt:.5},fresnel:{valType:"number",min:0,max:5,dflt:.2}},opacity:{valType:"number",min:0,max:1,dflt:1},opacityscale:{valType:"any",editType:"calc"},_deprecated:{zauto:v({},R.zauto,{}),zmin:v({},R.zmin,{}),zmax:v({},R.zmax,{})},hoverinfo:v({},T.hoverinfo),showlegend:v({},T.showlegend,{dflt:!1})}),"calc","nested");s.x.editType=s.y.editType=s.z.editType="calc+clearAxisTypes",s.transforms=void 0},18396:function(W,H,e){var g=e(78803);W.exports=function(a,C){C.surfacecolor?g(a,C,{vals:C.surfacecolor,containerStr:"",cLetter:"c"}):g(a,C,{vals:C.z,containerStr:"",cLetter:"c"})}},43768:function(W,H,e){var g=e(9330).gl_surface3d,R=e(9330).ndarray,a=e(9330).ndarray_linear_interpolate.d2,C=e(824),T=e(43907),v=e(71828).isArrayOrTypedArray,y=e(81697).parseColorScale,t=e(78614),r=e(21081).extractOpts;function s(i,L,b){this.scene=i,this.uid=b,this.surface=L,this.data=null,this.showContour=[!1,!1,!1],this.contourStart=[null,null,null],this.contourEnd=[null,null,null],this.contourSize=[0,0,0],this.minValues=[1/0,1/0,1/0],this.maxValues=[-1/0,-1/0,-1/0],this.dataScaleX=1,this.dataScaleY=1,this.refineData=!0,this.objectOffset=[0,0,0]}var n=s.prototype;n.getXat=function(i,L,b,O){var _=v(this.data.x)?v(this.data.x[0])?this.data.x[L][i]:this.data.x[i]:i;return b===void 0?_:O.d2l(_,0,b)},n.getYat=function(i,L,b,O){var _=v(this.data.y)?v(this.data.y[0])?this.data.y[L][i]:this.data.y[L]:L;return b===void 0?_:O.d2l(_,0,b)},n.getZat=function(i,L,b,O){var _=this.data.z[L][i];return _===null&&this.data.connectgaps&&this.data._interpolatedZ&&(_=this.data._interpolatedZ[L][i]),b===void 0?_:O.d2l(_,0,b)},n.handlePick=function(i){if(i.object===this.surface){var L=(i.data.index[0]-1)/this.dataScaleX-1,b=(i.data.index[1]-1)/this.dataScaleY-1,O=Math.max(Math.min(Math.round(L),this.data.z[0].length-1),0),_=Math.max(Math.min(Math.round(b),this.data._ylength-1),0);i.index=[O,_],i.traceCoordinate=[this.getXat(O,_),this.getYat(O,_),this.getZat(O,_)],i.dataCoordinate=[this.getXat(O,_,this.data.xcalendar,this.scene.fullSceneLayout.xaxis),this.getYat(O,_,this.data.ycalendar,this.scene.fullSceneLayout.yaxis),this.getZat(O,_,this.data.zcalendar,this.scene.fullSceneLayout.zaxis)];for(var N=0;N<3;N++){var z=i.dataCoordinate[N];z!=null&&(i.dataCoordinate[N]*=this.scene.dataScale[N])}var B=this.data.hovertext||this.data.text;return Array.isArray(B)&&B[_]&&B[_][O]!==void 0?i.textLabel=B[_][O]:B?i.textLabel=B:i.textLabel="",i.data.dataCoordinate=i.dataCoordinate.slice(),this.surface.highlight(i.data),this.scene.glplot.spikes.position=i.dataCoordinate,!0}};function o(i){var L=i[0].rgb,b=i[i.length-1].rgb;return L[0]===b[0]&&L[1]===b[1]&&L[2]===b[2]&&L[3]===b[3]}var f=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999];function u(i,L){if(i<L)return 0;for(var b=0;Math.floor(i%L)===0;)i/=L,b++;return b}function m(i){for(var L=[],b=0;b<f.length;b++){var O=f[b];L.push(u(i,O))}return L}function c(i){for(var L=m(i),b=i,O=0;O<f.length;O++)if(L[O]>0){b=f[O];break}return b}function A(i,L){if(!(i<1||L<1)){for(var b=m(i),O=m(L),_=1,N=0;N<f.length;N++)_*=Math.pow(f[N],Math.max(b[N],O[N]));return _}}function h(i){if(i.length!==0){for(var L=1,b=0;b<i.length;b++)L=A(L,i[b]);return L}}n.calcXnums=function(i){var L,b=[];for(L=1;L<i;L++){var O=this.getXat(L-1,0),_=this.getXat(L,0);_!==O&&O!==void 0&&O!==null&&_!==void 0&&_!==null?b[L-1]=Math.abs(_-O):b[L-1]=0}var N=0;for(L=1;L<i;L++)N+=b[L-1];for(L=1;L<i;L++)b[L-1]===0?b[L-1]=1:b[L-1]=Math.round(N/b[L-1]);return b},n.calcYnums=function(i){var L,b=[];for(L=1;L<i;L++){var O=this.getYat(0,L-1),_=this.getYat(0,L);_!==O&&O!==void 0&&O!==null&&_!==void 0&&_!==null?b[L-1]=Math.abs(_-O):b[L-1]=0}var N=0;for(L=1;L<i;L++)N+=b[L-1];for(L=1;L<i;L++)b[L-1]===0?b[L-1]=1:b[L-1]=Math.round(N/b[L-1]);return b};var l=[1,2,4,6,12,24,36,48,60,120,180,240,360,720,840,1260],p=l[9],M=l[13];n.estimateScale=function(i,L){for(var b=L===0?this.calcXnums(i):this.calcYnums(i),O=1+h(b);O<p;)O*=2;for(;O>M;)O--,O/=c(O),O++,O<p&&(O=M);var _=Math.round(O/i);return _>1?_:1};function S(i,L,b){var O=b[8]+b[2]*L[0]+b[5]*L[1];return i[0]=(b[6]+b[0]*L[0]+b[3]*L[1])/O,i[1]=(b[7]+b[1]*L[0]+b[4]*L[1])/O,i}function P(i,L,b){return x(i,L,S,b),i}function x(i,L,b,O){for(var _=[0,0],N=i.shape[0],z=i.shape[1],B=0;B<N;B++)for(var U=0;U<z;U++)b(_,[B,U],O),i.set(B,U,a(L,_[0],_[1]));return i}n.refineCoords=function(i){for(var L=this.dataScaleX,b=this.dataScaleY,O=i[0].shape[0],_=i[0].shape[1],N=Math.floor(i[0].shape[0]*L+1)|0,z=Math.floor(i[0].shape[1]*b+1)|0,B=1+O+1,U=1+_+1,F=R(new Float32Array(B*U),[B,U]),V=[1/L,0,0,0,1/b,0,0,0,1],j=0;j<i.length;++j){this.surface.padField(F,i[j]);var $=R(new Float32Array(N*z),[N,z]);P($,F,V),i[j]=$}};function E(i,L){for(var b=!1,O=0;O<i.length;O++)if(L===i[O]){b=!0;break}b===!1&&i.push(L)}n.setContourLevels=function(){var i=[[],[],[]],L=[!1,!1,!1],b=!1,O,_,N;for(O=0;O<3;++O)if(this.showContour[O]&&(b=!0,this.contourSize[O]>0&&this.contourStart[O]!==null&&this.contourEnd[O]!==null&&this.contourEnd[O]>this.contourStart[O]))for(L[O]=!0,_=this.contourStart[O];_<this.contourEnd[O];_+=this.contourSize[O])N=_*this.scene.dataScale[O],E(i[O],N);if(b){var z=[[],[],[]];for(O=0;O<3;++O)this.showContour[O]&&(z[O]=L[O]?i[O]:this.scene.contourLevels[O]);this.surface.update({levels:z})}},n.update=function(i){var L=this.scene,b=L.fullSceneLayout,O=this.surface,_=y(i),N=L.dataScale,z=i.z[0].length,B=i._ylength,U=L.contourLevels;this.data=i;var F,V,j,$,ne=[];for(F=0;F<3;F++)for(ne[F]=[],V=0;V<z;V++)ne[F][V]=[];for(V=0;V<z;V++)for(j=0;j<B;j++)ne[0][V][j]=this.getXat(V,j,i.xcalendar,b.xaxis),ne[1][V][j]=this.getYat(V,j,i.ycalendar,b.yaxis),ne[2][V][j]=this.getZat(V,j,i.zcalendar,b.zaxis);if(i.connectgaps)for(i._emptypoints=T(ne[2]),C(ne[2],i._emptypoints),i._interpolatedZ=[],V=0;V<z;V++)for(i._interpolatedZ[V]=[],j=0;j<B;j++)i._interpolatedZ[V][j]=ne[2][V][j];for(F=0;F<3;F++)for(V=0;V<z;V++)for(j=0;j<B;j++)$=ne[F][V][j],$==null?ne[F][V][j]=NaN:$=ne[F][V][j]*=N[F];for(F=0;F<3;F++)for(V=0;V<z;V++)for(j=0;j<B;j++)$=ne[F][V][j],$!=null&&(this.minValues[F]>$&&(this.minValues[F]=$),this.maxValues[F]<$&&(this.maxValues[F]=$));for(F=0;F<3;F++)this.objectOffset[F]=.5*(this.minValues[F]+this.maxValues[F]);for(F=0;F<3;F++)for(V=0;V<z;V++)for(j=0;j<B;j++)$=ne[F][V][j],$!=null&&(ne[F][V][j]-=this.objectOffset[F]);var oe=[R(new Float32Array(z*B),[z,B]),R(new Float32Array(z*B),[z,B]),R(new Float32Array(z*B),[z,B])];for(F=0;F<3;F++)for(V=0;V<z;V++)for(j=0;j<B;j++)oe[F].set(V,j,ne[F][V][j]);ne=[];var ce={colormap:_,levels:[[],[],[]],showContour:[!0,!0,!0],showSurface:!i.hidesurface,contourProject:[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],contourWidth:[1,1,1],contourColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],contourTint:[1,1,1],dynamicColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],dynamicWidth:[1,1,1],dynamicTint:[1,1,1],opacityscale:i.opacityscale,opacity:i.opacity},Q=r(i);if(ce.intensityBounds=[Q.min,Q.max],i.surfacecolor){var Z=R(new Float32Array(z*B),[z,B]);for(V=0;V<z;V++)for(j=0;j<B;j++)Z.set(V,j,i.surfacecolor[j][V]);oe.push(Z)}else ce.intensityBounds[0]*=N[2],ce.intensityBounds[1]*=N[2];(M<oe[0].shape[0]||M<oe[0].shape[1])&&(this.refineData=!1),this.refineData===!0&&(this.dataScaleX=this.estimateScale(oe[0].shape[0],0),this.dataScaleY=this.estimateScale(oe[0].shape[1],1),(this.dataScaleX!==1||this.dataScaleY!==1)&&this.refineCoords(oe)),i.surfacecolor&&(ce.intensity=oe.pop());var K=[!0,!0,!0],J=["x","y","z"];for(F=0;F<3;++F){var re=i.contours[J[F]];K[F]=re.highlight,ce.showContour[F]=re.show||re.highlight,ce.showContour[F]&&(ce.contourProject[F]=[re.project.x,re.project.y,re.project.z],re.show?(this.showContour[F]=!0,ce.levels[F]=U[F],O.highlightColor[F]=ce.contourColor[F]=t(re.color),re.usecolormap?O.highlightTint[F]=ce.contourTint[F]=0:O.highlightTint[F]=ce.contourTint[F]=1,ce.contourWidth[F]=re.width,this.contourStart[F]=re.start,this.contourEnd[F]=re.end,this.contourSize[F]=re.size):(this.showContour[F]=!1,this.contourStart[F]=null,this.contourEnd[F]=null,this.contourSize[F]=0),re.highlight&&(ce.dynamicColor[F]=t(re.highlightcolor),ce.dynamicWidth[F]=re.highlightwidth))}o(_)&&(ce.vertexColor=!0),ce.objectOffset=this.objectOffset,ce.coords=oe,O.update(ce),O.visible=i.visible,O.enableDynamic=K,O.enableHighlight=K,O.snapToData=!0,"lighting"in i&&(O.ambientLight=i.lighting.ambient,O.diffuseLight=i.lighting.diffuse,O.specularLight=i.lighting.specular,O.roughness=i.lighting.roughness,O.fresnel=i.lighting.fresnel),"lightposition"in i&&(O.lightPosition=[i.lightposition.x,i.lightposition.y,i.lightposition.z])},n.dispose=function(){this.scene.glplot.remove(this.surface),this.surface.dispose()};function w(i,L){var b=i.glplot.gl,O=g({gl:b}),_=new s(i,O,L.uid);return O._trace=_,_.update(L),i.glplot.add(O),_}W.exports=w},91831:function(W,H,e){var g=e(73972),R=e(71828),a=e(1586),C=e(54532),T=.1;function v(n,o){for(var f=[],u=32,m=0;m<u;m++){var c=m/(u-1),A=o+(1-o)*(1-Math.pow(Math.sin(n*c*Math.PI),2));f.push([c,Math.max(0,Math.min(1,A))])}return f}function y(n){var o=0;if(!Array.isArray(n)||n.length<2||!n[0]||!n[n.length-1]||+n[0][0]!=0||+n[n.length-1][0]!=1)return!1;for(var f=0;f<n.length;f++){var u=n[f];if(u.length!==2||+u[0]<o)return!1;o=+u[0]}return!0}function t(n,o,f,u){var m,c;function A(i,L){return R.coerce(n,o,C,i,L)}var h=A("x"),l=A("y"),p=A("z");if(!p||!p.length||h&&h.length<1||l&&l.length<1){o.visible=!1;return}o._xlength=Array.isArray(h)&&R.isArrayOrTypedArray(h[0])?p.length:p[0].length,o._ylength=p.length;var M=g.getComponentMethod("calendars","handleTraceDefaults");M(n,o,["x","y","z"],u),A("text"),A("hovertext"),A("hovertemplate"),A("xhoverformat"),A("yhoverformat"),A("zhoverformat"),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lightposition.x","lightposition.y","lightposition.z","hidesurface","connectgaps","opacity"].forEach(function(i){A(i)});var S=A("surfacecolor"),P=["x","y","z"];for(m=0;m<3;++m){var x="contours."+P[m],E=A(x+".show"),w=A(x+".highlight");if(E||w)for(c=0;c<3;++c)A(x+".project."+P[c]);E&&(A(x+".color"),A(x+".width"),A(x+".usecolormap")),w&&(A(x+".highlightcolor"),A(x+".highlightwidth")),A(x+".start"),A(x+".end"),A(x+".size")}S||(s(n,"zmin","cmin"),s(n,"zmax","cmax"),s(n,"zauto","cauto")),a(n,o,u,A,{prefix:"",cLetter:"c"}),r(n,o,u,A),o._length=null}function r(n,o,f,u){var m=u("opacityscale");m==="max"?o.opacityscale=[[0,T],[1,1]]:m==="min"?o.opacityscale=[[0,1],[1,T]]:m==="extremes"?o.opacityscale=v(1,T):y(m)||(o.opacityscale=void 0)}function s(n,o,f){o in n&&!(f in n)&&(n[f]=n[o])}W.exports={supplyDefaults:t,opacityscaleDefaults:r}},93601:function(W,H,e){W.exports={attributes:e(54532),supplyDefaults:e(91831).supplyDefaults,colorbar:{min:"cmin",max:"cmax"},calc:e(18396),plot:e(43768),moduleType:"trace",name:"surface",basePlotModule:e(58547),categories:["gl3d","2dMap","showLegend"],meta:{}}},44464:function(W,H,e){var g=e(50215),R=e(1426).extendFlat,a=e(30962).overrideAll,C=e(41940),T=e(27670).Y,v=e(12663).descriptionOnlyNumbers,y=W.exports=a({domain:T({name:"table",trace:!0}),columnwidth:{valType:"number",arrayOk:!0,dflt:null},columnorder:{valType:"data_array"},header:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:v("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:28},align:R({},g.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:R({},C({arrayOk:!0}))},cells:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:v("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:20},align:R({},g.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:R({},C({arrayOk:!0}))}},"calc","from-root");y.transforms=void 0},99469:function(W,H,e){var g=e(27659).a0,R=e(36736),a="table";H.name=a,H.plot=function(C){var T=g(C.calcdata,a)[0];T.length&&R(C,T)},H.clean=function(C,T,v,y){var t=y._has&&y._has(a),r=T._has&&T._has(a);t&&!r&&y._paperdiv.selectAll(".table").remove()}},76333:function(W,H,e){var g=e(28984).wrap;W.exports=function(){return g({})}},49850:function(W){W.exports={cellPad:8,columnExtentOffset:10,columnTitleOffset:28,emptyHeaderHeight:16,latexCheck:/^\$.*\$$/,goldenRatio:1.618,lineBreaker:"<br>",maxDimensionCount:60,overdrag:45,releaseTransitionDuration:120,releaseTransitionEase:"cubic-out",scrollbarCaptureWidth:18,scrollbarHideDelay:1e3,scrollbarHideDuration:1e3,scrollbarOffset:5,scrollbarWidth:8,transitionDuration:100,transitionEase:"cubic-out",uplift:5,wrapSpacer:" ",wrapSplitCharacter:" ",cn:{table:"table",tableControlView:"table-control-view",scrollBackground:"scroll-background",yColumn:"y-column",columnBlock:"column-block",scrollAreaClip:"scroll-area-clip",scrollAreaClipRect:"scroll-area-clip-rect",columnBoundary:"column-boundary",columnBoundaryClippath:"column-boundary-clippath",columnBoundaryRect:"column-boundary-rect",columnCells:"column-cells",columnCell:"column-cell",cellRect:"cell-rect",cellText:"cell-text",cellTextHolder:"cell-text-holder",scrollbarKit:"scrollbar-kit",scrollbar:"scrollbar",scrollbarSlider:"scrollbar-slider",scrollbarGlyph:"scrollbar-glyph",scrollbarCaptureZone:"scrollbar-capture-zone"}}},51018:function(W,H,e){var g=e(49850),R=e(1426).extendFlat,a=e(92770);W.exports=function(f,u){var m=v(u.cells.values),c=function(V){return V.slice(u.header.values.length,V.length)},A=v(u.header.values);A.length&&!A[0].length&&(A[0]=[""],A=v(A));var h=A.concat(c(m).map(function(){return y((A[0]||[""]).length)})),l=u.domain,p=Math.floor(f._fullLayout._size.w*(l.x[1]-l.x[0])),M=Math.floor(f._fullLayout._size.h*(l.y[1]-l.y[0])),S=u.header.values.length?h[0].map(function(){return u.header.height}):[g.emptyHeaderHeight],P=m.length?m[0].map(function(){return u.cells.height}):[],x=S.reduce(T,0),E=M-x,w=E+g.uplift,i=s(P,w),L=s(S,x),b=r(L,[]),O=r(i,b),_={},N=u._fullInput.columnorder.concat(c(m.map(function(V,j){return j}))),z=h.map(function(V,j){var $=Array.isArray(u.columnwidth)?u.columnwidth[Math.min(j,u.columnwidth.length-1)]:u.columnwidth;return a($)?Number($):1}),B=z.reduce(T,0);z=z.map(function(V){return V/B*p});var U=Math.max(C(u.header.line.width),C(u.cells.line.width)),F={key:u.uid+f._context.staticPlot,translateX:l.x[0]*f._fullLayout._size.w,translateY:f._fullLayout._size.h*(1-l.y[1]),size:f._fullLayout._size,width:p,maxLineWidth:U,height:M,columnOrder:N,groupHeight:M,rowBlocks:O,headerRowBlocks:b,scrollY:0,cells:R({},u.cells,{values:m}),headerCells:R({},u.header,{values:h}),gdColumns:h.map(function(V){return V[0]}),gdColumnsOriginalOrder:h.map(function(V){return V[0]}),prevPages:[0,0],scrollbarState:{scrollbarScrollInProgress:!1},columns:h.map(function(V,j){var $=_[V];_[V]=($||0)+1;var ne=V+"__"+_[V];return{key:ne,label:V,specIndex:j,xIndex:N[j],xScale:t,x:void 0,calcdata:void 0,columnWidth:z[j]}})};return F.columns.forEach(function(V){V.calcdata=F,V.x=t(V)}),F};function C(o){if(Array.isArray(o)){for(var f=0,u=0;u<o.length;u++)f=Math.max(f,C(o[u]));return f}return o}function T(o,f){return o+f}function v(o){var f=o.slice(),u=1/0,m=0,c;for(c=0;c<f.length;c++)Array.isArray(f[c])||(f[c]=[f[c]]),u=Math.min(u,f[c].length),m=Math.max(m,f[c].length);if(u!==m)for(c=0;c<f.length;c++){var A=m-f[c].length;A&&(f[c]=f[c].concat(y(A)))}return f}function y(o){for(var f=new Array(o),u=0;u<o;u++)f[u]="";return f}function t(o){return o.calcdata.columns.reduce(function(f,u){return u.xIndex<o.xIndex?f+u.columnWidth:f},0)}function r(o,f){var u=Object.keys(o);return u.map(function(m){return R({},o[m],{auxiliaryBlocks:f})})}function s(o,f){for(var u={},m,c=0,A=0,h=n(),l=0,p=0,M=0;M<o.length;M++)m=o[M],h.rows.push({rowIndex:M,rowHeight:m}),A+=m,(A>=f||M===o.length-1)&&(u[c]=h,h.key=p++,h.firstRowIndex=l,h.lastRowIndex=M,h=n(),c+=A,l=M+1,A=0);return u}function n(){return{firstRowIndex:null,lastRowIndex:null,rows:[]}}},56269:function(W,H,e){var g=e(1426).extendFlat;H.splitToPanels=function(a){var C=[0,0],T=g({},a,{key:"header",type:"header",page:0,prevPages:C,currentRepaint:[null,null],dragHandle:!0,values:a.calcdata.headerCells.values[a.specIndex],rowBlocks:a.calcdata.headerRowBlocks,calcdata:g({},a.calcdata,{cells:a.calcdata.headerCells})}),v=g({},a,{key:"cells1",type:"cells",page:0,prevPages:C,currentRepaint:[null,null],dragHandle:!1,values:a.calcdata.cells.values[a.specIndex],rowBlocks:a.calcdata.rowBlocks}),y=g({},a,{key:"cells2",type:"cells",page:1,prevPages:C,currentRepaint:[null,null],dragHandle:!1,values:a.calcdata.cells.values[a.specIndex],rowBlocks:a.calcdata.rowBlocks});return[v,y,T]},H.splitToCells=function(a){var C=R(a);return(a.values||[]).slice(C[0],C[1]).map(function(T,v){var y=typeof T=="string"&&T.match(/[<$&> ]/)?"_keybuster_"+Math.random():"";return{keyWithinBlock:v+y,key:C[0]+v,column:a,calcdata:a.calcdata,page:a.page,rowBlocks:a.rowBlocks,value:T}})};function R(a){var C=a.rowBlocks[a.page],T=C?C.rows[0].rowIndex:0,v=C?T+C.rows.length:0;return[T,v]}},39754:function(W,H,e){var g=e(71828),R=e(44464),a=e(27670).c;function C(T,v){for(var y=T.columnorder||[],t=T.header.values.length,r=y.slice(0,t),s=r.slice().sort(function(f,u){return f-u}),n=r.map(function(f){return s.indexOf(f)}),o=n.length;o<t;o++)n.push(o);v("columnorder",n)}W.exports=function(v,y,t,r){function s(n,o){return g.coerce(v,y,R,n,o)}a(y,r,s),s("columnwidth"),s("header.values"),s("header.format"),s("header.align"),s("header.prefix"),s("header.suffix"),s("header.height"),s("header.line.width"),s("header.line.color"),s("header.fill.color"),g.coerceFont(s,"header.font",g.extendFlat({},r.font)),C(y,s),s("cells.values"),s("cells.format"),s("cells.align"),s("cells.prefix"),s("cells.suffix"),s("cells.height"),s("cells.line.width"),s("cells.line.color"),s("cells.fill.color"),g.coerceFont(s,"cells.font",g.extendFlat({},r.font)),y._length=null}},96595:function(W,H,e){W.exports={attributes:e(44464),supplyDefaults:e(39754),calc:e(76333),plot:e(36736),moduleType:"trace",name:"table",basePlotModule:e(99469),categories:["noOpacity"],meta:{}}},36736:function(W,H,e){var g=e(49850),R=e(39898),a=e(71828),C=a.numberFormat,T=e(28984),v=e(91424),y=e(63893),t=e(71828).raiseToTop,r=e(71828).strTranslate,s=e(71828).cancelTransition,n=e(51018),o=e(56269),f=e(7901);W.exports=function(ue,se){var he=!ue._context.staticPlot,me=ue._fullLayout._paper.selectAll("."+g.cn.table).data(se.map(function(tt){var at=T.unwrap(tt),vt=at.trace;return n(ue,vt)}),T.keyFun);me.exit().remove(),me.enter().append("g").classed(g.cn.table,!0).attr("overflow","visible").style("box-sizing","content-box").style("position","absolute").style("left",0).style("overflow","visible").style("shape-rendering","crispEdges").style("pointer-events","all"),me.attr("width",function(tt){return tt.width+tt.size.l+tt.size.r}).attr("height",function(tt){return tt.height+tt.size.t+tt.size.b}).attr("transform",function(tt){return r(tt.translateX,tt.translateY)});var Ce=me.selectAll("."+g.cn.tableControlView).data(T.repeat,T.keyFun),Te=Ce.enter().append("g").classed(g.cn.tableControlView,!0).style("box-sizing","content-box");if(he){var Oe="onwheel"in document?"wheel":"mousewheel";Te.on("mousemove",function(tt){Ce.filter(function(at){return tt===at}).call(h,ue)}).on(Oe,function(tt){if(!tt.scrollbarState.wheeling){tt.scrollbarState.wheeling=!0;var at=tt.scrollY+R.event.deltaY,vt=$(ue,Ce,null,at)(tt);vt||(R.event.stopPropagation(),R.event.preventDefault()),tt.scrollbarState.wheeling=!1}}).call(h,ue,!0)}Ce.attr("transform",function(tt){return r(tt.size.l,tt.size.t)});var Ne=Ce.selectAll("."+g.cn.scrollBackground).data(T.repeat,T.keyFun);Ne.enter().append("rect").classed(g.cn.scrollBackground,!0).attr("fill","none"),Ne.attr("width",function(tt){return tt.width}).attr("height",function(tt){return tt.height}),Ce.each(function(tt){v.setClipUrl(R.select(this),m(ue,tt),ue)});var Le=Ce.selectAll("."+g.cn.yColumn).data(function(tt){return tt.columns},T.keyFun);Le.enter().append("g").classed(g.cn.yColumn,!0),Le.exit().remove(),Le.attr("transform",function(tt){return r(tt.x,0)}),he&&Le.call(R.behavior.drag().origin(function(tt){var at=R.select(this);return z(at,tt,-g.uplift),t(this),tt.calcdata.columnDragInProgress=!0,h(Ce.filter(function(vt){return tt.calcdata.key===vt.key}),ue),tt}).on("drag",function(tt){var at=R.select(this),vt=function(Mt){return(tt===Mt?R.event.x:Mt.x)+Mt.columnWidth/2};tt.x=Math.max(-g.overdrag,Math.min(tt.calcdata.width+g.overdrag-tt.columnWidth,R.event.x));var yt=A(Le).filter(function(Mt){return Mt.calcdata.key===tt.calcdata.key}),gt=yt.sort(function(Mt,Ct){return vt(Mt)-vt(Ct)});gt.forEach(function(Mt,Ct){Mt.xIndex=Ct,Mt.x=tt===Mt?Mt.x:Mt.xScale(Mt)}),Le.filter(function(Mt){return tt!==Mt}).transition().ease(g.transitionEase).duration(g.transitionDuration).attr("transform",function(Mt){return r(Mt.x,0)}),at.call(s).attr("transform",r(tt.x,-g.uplift))}).on("dragend",function(tt){var at=R.select(this),vt=tt.calcdata;tt.x=tt.xScale(tt),tt.calcdata.columnDragInProgress=!1,z(at,tt,0),_(ue,vt,vt.columns.map(function(yt){return yt.xIndex}))})),Le.each(function(tt){v.setClipUrl(R.select(this),c(ue,tt),ue)});var be=Le.selectAll("."+g.cn.columnBlock).data(o.splitToPanels,T.keyFun);be.enter().append("g").classed(g.cn.columnBlock,!0).attr("id",function(tt){return tt.key}),be.style("cursor",function(tt){return tt.dragHandle?"ew-resize":tt.calcdata.scrollbarState.barWiggleRoom?"ns-resize":"default"});var Ae=be.filter(U),He=be.filter(B);he&&He.call(R.behavior.drag().origin(function(tt){return R.event.stopPropagation(),tt}).on("drag",$(ue,Ce,-1)).on("dragend",function(){})),l(ue,Ce,Ae,be),l(ue,Ce,He,be);var Ve=Ce.selectAll("."+g.cn.scrollAreaClip).data(T.repeat,T.keyFun);Ve.enter().append("clipPath").classed(g.cn.scrollAreaClip,!0).attr("id",function(tt){return m(ue,tt)});var ke=Ve.selectAll("."+g.cn.scrollAreaClipRect).data(T.repeat,T.keyFun);ke.enter().append("rect").classed(g.cn.scrollAreaClipRect,!0).attr("x",-g.overdrag).attr("y",-g.uplift).attr("fill","none"),ke.attr("width",function(tt){return tt.width+2*g.overdrag}).attr("height",function(tt){return tt.height+g.uplift});var Ge=Le.selectAll("."+g.cn.columnBoundary).data(T.repeat,T.keyFun);Ge.enter().append("g").classed(g.cn.columnBoundary,!0);var it=Le.selectAll("."+g.cn.columnBoundaryClippath).data(T.repeat,T.keyFun);it.enter().append("clipPath").classed(g.cn.columnBoundaryClippath,!0),it.attr("id",function(tt){return c(ue,tt)});var et=it.selectAll("."+g.cn.columnBoundaryRect).data(T.repeat,T.keyFun);et.enter().append("rect").classed(g.cn.columnBoundaryRect,!0).attr("fill","none"),et.attr("width",function(tt){return tt.columnWidth+2*u(tt)}).attr("height",function(tt){return tt.calcdata.height+2*u(tt)+g.uplift}).attr("x",function(tt){return-u(tt)}).attr("y",function(tt){return-u(tt)}),j(null,He,Ce)};function u(ee){return Math.ceil(ee.calcdata.maxLineWidth/2)}function m(ee,ue){return"clip"+ee._fullLayout._uid+"_scrollAreaBottomClip_"+ue.key}function c(ee,ue){return"clip"+ee._fullLayout._uid+"_columnBoundaryClippath_"+ue.calcdata.key+"_"+ue.specIndex}function A(ee){return[].concat.apply([],ee.map(function(ue){return ue})).map(function(ue){return ue.__data__})}function h(ee,ue,se){function he(Le){var be=Le.rowBlocks;return K(be,be.length-1)+(be.length?J(be[be.length-1],1/0):1)}var me=ee.selectAll("."+g.cn.scrollbarKit).data(T.repeat,T.keyFun);me.enter().append("g").classed(g.cn.scrollbarKit,!0).style("shape-rendering","geometricPrecision"),me.each(function(Le){var be=Le.scrollbarState;be.totalHeight=he(Le),be.scrollableAreaHeight=Le.groupHeight-F(Le),be.currentlyVisibleHeight=Math.min(be.totalHeight,be.scrollableAreaHeight),be.ratio=be.currentlyVisibleHeight/be.totalHeight,be.barLength=Math.max(be.ratio*be.currentlyVisibleHeight,g.goldenRatio*g.scrollbarWidth),be.barWiggleRoom=be.currentlyVisibleHeight-be.barLength,be.wiggleRoom=Math.max(0,be.totalHeight-be.scrollableAreaHeight),be.topY=be.barWiggleRoom===0?0:Le.scrollY/be.wiggleRoom*be.barWiggleRoom,be.bottomY=be.topY+be.barLength,be.dragMultiplier=be.wiggleRoom/be.barWiggleRoom}).attr("transform",function(Le){var be=Le.width+g.scrollbarWidth/2+g.scrollbarOffset;return r(be,F(Le))});var Ce=me.selectAll("."+g.cn.scrollbar).data(T.repeat,T.keyFun);Ce.enter().append("g").classed(g.cn.scrollbar,!0);var Te=Ce.selectAll("."+g.cn.scrollbarSlider).data(T.repeat,T.keyFun);Te.enter().append("g").classed(g.cn.scrollbarSlider,!0),Te.attr("transform",function(Le){return r(0,Le.scrollbarState.topY||0)});var Oe=Te.selectAll("."+g.cn.scrollbarGlyph).data(T.repeat,T.keyFun);Oe.enter().append("line").classed(g.cn.scrollbarGlyph,!0).attr("stroke","black").attr("stroke-width",g.scrollbarWidth).attr("stroke-linecap","round").attr("y1",g.scrollbarWidth/2),Oe.attr("y2",function(Le){return Le.scrollbarState.barLength-g.scrollbarWidth/2}).attr("stroke-opacity",function(Le){return Le.columnDragInProgress||!Le.scrollbarState.barWiggleRoom||se?0:.4}),Oe.transition().delay(0).duration(0),Oe.transition().delay(g.scrollbarHideDelay).duration(g.scrollbarHideDuration).attr("stroke-opacity",0);var Ne=Ce.selectAll("."+g.cn.scrollbarCaptureZone).data(T.repeat,T.keyFun);Ne.enter().append("line").classed(g.cn.scrollbarCaptureZone,!0).attr("stroke","white").attr("stroke-opacity",.01).attr("stroke-width",g.scrollbarCaptureWidth).attr("stroke-linecap","butt").attr("y1",0).on("mousedown",function(Le){var be=R.event.y,Ae=this.getBoundingClientRect(),He=Le.scrollbarState,Ve=be-Ae.top,ke=R.scale.linear().domain([0,He.scrollableAreaHeight]).range([0,He.totalHeight]).clamp(!0);He.topY<=Ve&&Ve<=He.bottomY||$(ue,ee,null,ke(Ve-He.barLength/2))(Le)}).call(R.behavior.drag().origin(function(Le){return R.event.stopPropagation(),Le.scrollbarState.scrollbarScrollInProgress=!0,Le}).on("drag",$(ue,ee)).on("dragend",function(){})),Ne.attr("y2",function(Le){return Le.scrollbarState.scrollableAreaHeight}),ue._context.staticPlot&&(Oe.remove(),Ne.remove())}function l(ee,ue,se,he){var me=p(se),Ce=M(me);E(Ce);var Te=S(Ce);i(Te);var Oe=x(Ce),Ne=P(Oe);w(Ne),L(Ne,ue,he,ee),Z(Ce)}function p(ee){var ue=ee.selectAll("."+g.cn.columnCells).data(T.repeat,T.keyFun);return ue.enter().append("g").classed(g.cn.columnCells,!0),ue.exit().remove(),ue}function M(ee){var ue=ee.selectAll("."+g.cn.columnCell).data(o.splitToCells,function(se){return se.keyWithinBlock});return ue.enter().append("g").classed(g.cn.columnCell,!0),ue.exit().remove(),ue}function S(ee){var ue=ee.selectAll("."+g.cn.cellRect).data(T.repeat,function(se){return se.keyWithinBlock});return ue.enter().append("rect").classed(g.cn.cellRect,!0),ue}function P(ee){var ue=ee.selectAll("."+g.cn.cellText).data(T.repeat,function(se){return se.keyWithinBlock});return ue.enter().append("text").classed(g.cn.cellText,!0).style("cursor",function(){return"auto"}).on("mousedown",function(){R.event.stopPropagation()}),ue}function x(ee){var ue=ee.selectAll("."+g.cn.cellTextHolder).data(T.repeat,function(se){return se.keyWithinBlock});return ue.enter().append("g").classed(g.cn.cellTextHolder,!0).style("shape-rendering","geometricPrecision"),ue}function E(ee){ee.each(function(ue,se){var he=ue.calcdata.cells.font,me=ue.column.specIndex,Ce={size:N(he.size,me,se),color:N(he.color,me,se),family:N(he.family,me,se)};ue.rowNumber=ue.key,ue.align=N(ue.calcdata.cells.align,me,se),ue.cellBorderWidth=N(ue.calcdata.cells.line.width,me,se),ue.font=Ce})}function w(ee){ee.each(function(ue){v.font(R.select(this),ue.font)})}function i(ee){ee.attr("width",function(ue){return ue.column.columnWidth}).attr("stroke-width",function(ue){return ue.cellBorderWidth}).each(function(ue){var se=R.select(this);f.stroke(se,N(ue.calcdata.cells.line.color,ue.column.specIndex,ue.rowNumber)),f.fill(se,N(ue.calcdata.cells.fill.color,ue.column.specIndex,ue.rowNumber))})}function L(ee,ue,se,he){ee.text(function(me){var Ce=me.column.specIndex,Te=me.rowNumber,Oe=me.value,Ne=typeof Oe=="string",Le=Ne&&Oe.match(/<br>/i),be=!Ne||Le;me.mayHaveMarkup=Ne&&Oe.match(/[<&>]/);var Ae=b(Oe);me.latex=Ae;var He=Ae?"":N(me.calcdata.cells.prefix,Ce,Te)||"",Ve=Ae?"":N(me.calcdata.cells.suffix,Ce,Te)||"",ke=Ae?null:N(me.calcdata.cells.format,Ce,Te)||null,Ge=He+(ke?C(ke)(me.value):me.value)+Ve,it;me.wrappingNeeded=!me.wrapped&&!be&&!Ae&&(it=O(Ge)),me.cellHeightMayIncrease=Le||Ae||me.mayHaveMarkup||(it===void 0?O(Ge):it),me.needsConvertToTspans=me.mayHaveMarkup||me.wrappingNeeded||me.latex;var et;if(me.wrappingNeeded){var tt=g.wrapSplitCharacter===" "?Ge.replace(/<a href=/ig,"<a_href="):Ge,at=tt.split(g.wrapSplitCharacter),vt=g.wrapSplitCharacter===" "?at.map(function(yt){return yt.replace(/<a_href=/ig,"<a href=")}):at;me.fragments=vt.map(function(yt){return{text:yt,width:null}}),me.fragments.push({fragment:g.wrapSpacer,width:null}),et=vt.join(g.lineBreaker)+g.lineBreaker+g.wrapSpacer}else delete me.fragments,et=Ge;return et}).attr("dy",function(me){return me.needsConvertToTspans?0:"0.75em"}).each(function(me){var Ce=this,Te=R.select(Ce),Oe=me.wrappingNeeded?oe:ce;me.needsConvertToTspans?y.convertToTspans(Te,he,Oe(se,Ce,ue,he,me)):R.select(Ce.parentNode).attr("transform",function(Ne){return r(Q(Ne),g.cellPad)}).attr("text-anchor",function(Ne){return{left:"start",center:"middle",right:"end"}[Ne.align]})})}function b(ee){return typeof ee=="string"&&ee.match(g.latexCheck)}function O(ee){return ee.indexOf(g.wrapSplitCharacter)!==-1}function _(ee,ue,se){var he=ue.gdColumnsOriginalOrder;ue.gdColumns.sort(function(me,Ce){return se[he.indexOf(me)]-se[he.indexOf(Ce)]}),ue.columnorder=se,ee.emit("plotly_restyle")}function N(ee,ue,se){if(Array.isArray(ee)){var he=ee[Math.min(ue,ee.length-1)];return Array.isArray(he)?he[Math.min(se,he.length-1)]:he}else return ee}function z(ee,ue,se){ee.transition().ease(g.releaseTransitionEase).duration(g.releaseTransitionDuration).attr("transform",r(ue.x,se))}function B(ee){return ee.type==="cells"}function U(ee){return ee.type==="header"}function F(ee){var ue=ee.rowBlocks.length?ee.rowBlocks[0].auxiliaryBlocks:[];return ue.reduce(function(se,he){return se+J(he,1/0)},0)}function V(ee,ue,se){for(var he=[],me=0,Ce=0;Ce<ee.length;Ce++){for(var Te=ee[Ce],Oe=Te.rows,Ne=0,Le=0;Le<Oe.length;Le++)Ne+=Oe[Le].rowHeight;Te.allRowsHeight=Ne;var be=me+Ne,Ae=ue,He=Ae+se;Ae<be&&He>me&&he.push(Ce),me+=Ne}return he}function j(ee,ue,se){var he=A(ue)[0];if(he!==void 0){var me=he.rowBlocks,Ce=he.calcdata,Te=K(me,me.length),Oe=he.calcdata.groupHeight-F(he),Ne=Ce.scrollY=Math.max(0,Math.min(Te-Oe,Ce.scrollY)),Le=V(me,Ne,Oe);Le.length===1&&(Le[0]===me.length-1?Le.unshift(Le[0]-1):Le.push(Le[0]+1)),Le[0]%2&&Le.reverse(),ue.each(function(be,Ae){be.page=Le[Ae],be.scrollY=Ne}),ue.attr("transform",function(be){var Ae=K(be.rowBlocks,be.page)-be.scrollY;return r(0,Ae)}),ee&&(ne(ee,se,ue,Le,he.prevPages,he,0),ne(ee,se,ue,Le,he.prevPages,he,1),h(se,ee))}}function $(ee,ue,se,he){return function(Ce){var Te=Ce.calcdata?Ce.calcdata:Ce,Oe=ue.filter(function(Ae){return Te.key===Ae.key}),Ne=se||Te.scrollbarState.dragMultiplier,Le=Te.scrollY;Te.scrollY=he===void 0?Te.scrollY+Ne*R.event.dy:he;var be=Oe.selectAll("."+g.cn.yColumn).selectAll("."+g.cn.columnBlock).filter(B);return j(ee,be,Oe),Te.scrollY===Le}}function ne(ee,ue,se,he,me,Ce,Te){var Oe=he[Te]!==me[Te];Oe&&(clearTimeout(Ce.currentRepaint[Te]),Ce.currentRepaint[Te]=setTimeout(function(){var Ne=se.filter(function(Le,be){return be===Te&&he[be]!==me[be]});l(ee,ue,Ne,se),me[Te]=he[Te]}))}function oe(ee,ue,se,he){return function(){var Ce=R.select(ue.parentNode);Ce.each(function(Te){var Oe=Te.fragments;Ce.selectAll("tspan.line").each(function(Ge,it){Oe[it].width=this.getComputedTextLength()});var Ne=Oe[Oe.length-1].width,Le=Oe.slice(0,-1),be=[],Ae,He,Ve=0,ke=Te.column.columnWidth-2*g.cellPad;for(Te.value="";Le.length;)Ae=Le.shift(),He=Ae.width+Ne,Ve+He>ke&&(Te.value+=be.join(g.wrapSpacer)+g.lineBreaker,be=[],Ve=0),be.push(Ae.text),Ve+=He;Ve&&(Te.value+=be.join(g.wrapSpacer)),Te.wrapped=!0}),Ce.selectAll("tspan.line").remove(),L(Ce.select("."+g.cn.cellText),se,ee,he),R.select(ue.parentNode.parentNode).call(Z)}}function ce(ee,ue,se,he,me){return function(){if(!me.settledY){var Te=R.select(ue.parentNode),Oe=le(me),Ne=me.key-Oe.firstRowIndex,Le=Oe.rows[Ne].rowHeight,be=me.cellHeightMayIncrease?ue.parentNode.getBoundingClientRect().height+2*g.cellPad:Le,Ae=Math.max(be,Le),He=Ae-Oe.rows[Ne].rowHeight;He&&(Oe.rows[Ne].rowHeight=Ae,ee.selectAll("."+g.cn.columnCell).call(Z),j(null,ee.filter(B),0),h(se,he,!0)),Te.attr("transform",function(){var Ve=this,ke=Ve.parentNode,Ge=ke.getBoundingClientRect(),it=R.select(Ve.parentNode).select("."+g.cn.cellRect).node().getBoundingClientRect(),et=Ve.transform.baseVal.consolidate(),tt=it.top-Ge.top+(et?et.matrix.f:g.cellPad);return r(Q(me,R.select(Ve.parentNode).select("."+g.cn.cellTextHolder).node().getBoundingClientRect().width),tt)}),me.settledY=!0}}}function Q(ee,ue){switch(ee.align){case"left":return g.cellPad;case"right":return ee.column.columnWidth-(ue||0)-g.cellPad;case"center":return(ee.column.columnWidth-(ue||0))/2;default:return g.cellPad}}function Z(ee){ee.attr("transform",function(ue){var se=ue.rowBlocks[0].auxiliaryBlocks.reduce(function(Te,Oe){return Te+J(Oe,1/0)},0),he=le(ue),me=J(he,ue.key),Ce=me+se;return r(0,Ce)}).selectAll("."+g.cn.cellRect).attr("height",function(ue){return q(le(ue),ue.key).rowHeight})}function K(ee,ue){for(var se=0,he=ue-1;he>=0;he--)se+=re(ee[he]);return se}function J(ee,ue){for(var se=0,he=0;he<ee.rows.length&&ee.rows[he].rowIndex<ue;he++)se+=ee.rows[he].rowHeight;return se}function re(ee){var ue=ee.allRowsHeight;if(ue!==void 0)return ue;for(var se=0,he=0;he<ee.rows.length;he++)se+=ee.rows[he].rowHeight;return ee.allRowsHeight=se,se}function le(ee){return ee.rowBlocks[ee.page]}function q(ee,ue){return ee.rows[ue-ee.firstRowIndex]}},45802:function(W,H,e){var g=e(5386).fF,R=e(5386).si,a=e(50693),C=e(27670).Y,T=e(34e3),v=e(57564),y=e(43473),t=e(1426).extendFlat,r=e(79952).u;W.exports={labels:v.labels,parents:v.parents,values:v.values,branchvalues:v.branchvalues,count:v.count,level:v.level,maxdepth:v.maxdepth,tiling:{packing:{valType:"enumerated",values:["squarify","binary","dice","slice","slice-dice","dice-slice"],dflt:"squarify",editType:"plot"},squarifyratio:{valType:"number",min:1,dflt:1,editType:"plot"},flip:{valType:"flaglist",flags:["x","y"],dflt:"",editType:"plot"},pad:{valType:"number",min:0,dflt:3,editType:"plot"},editType:"calc"},marker:t({pad:{t:{valType:"number",min:0,editType:"plot"},l:{valType:"number",min:0,editType:"plot"},r:{valType:"number",min:0,editType:"plot"},b:{valType:"number",min:0,editType:"plot"},editType:"calc"},colors:v.marker.colors,pattern:r,depthfade:{valType:"enumerated",values:[!0,!1,"reversed"],editType:"style"},line:v.marker.line,cornerradius:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},a("marker",{colorAttr:"colors",anim:!1})),pathbar:{visible:{valType:"boolean",dflt:!0,editType:"plot"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},edgeshape:{valType:"enumerated",values:[">","<","|","/","\\"],dflt:">",editType:"plot"},thickness:{valType:"number",min:12,editType:"plot"},textfont:t({},T.textfont,{}),editType:"calc"},text:T.text,textinfo:v.textinfo,texttemplate:R({editType:"plot"},{keys:y.eventDataKeys.concat(["label","value"])}),hovertext:T.hovertext,hoverinfo:v.hoverinfo,hovertemplate:g({},{keys:y.eventDataKeys}),textfont:T.textfont,insidetextfont:T.insidetextfont,outsidetextfont:t({},T.outsidetextfont,{}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"top left",editType:"plot"},sort:T.sort,root:v.root,domain:C({name:"treemap",trace:!0,editType:"calc"})}},78018:function(W,H,e){var g=e(74875);H.name="treemap",H.plot=function(R,a,C,T){g.plotBasePlot(H.name,R,a,C,T)},H.clean=function(R,a,C,T){g.cleanBasePlot(H.name,R,a,C,T)}},65039:function(W,H,e){var g=e(52147);H.y=function(R,a){return g.calc(R,a)},H.T=function(R){return g._runCrossTraceCalc("treemap",R)}},43473:function(W){W.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"poly",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"],gapWithPathbar:1}},91174:function(W,H,e){var g=e(71828),R=e(45802),a=e(7901),C=e(27670).c,T=e(90769).handleText,v=e(97313).TEXTPAD,y=e(37434).handleMarkerDefaults,t=e(21081),r=t.hasColorscale,s=t.handleDefaults;W.exports=function(o,f,u,m){function c(i,L){return g.coerce(o,f,R,i,L)}var A=c("labels"),h=c("parents");if(!A||!A.length||!h||!h.length){f.visible=!1;return}var l=c("values");l&&l.length?c("branchvalues"):c("count"),c("level"),c("maxdepth");var p=c("tiling.packing");p==="squarify"&&c("tiling.squarifyratio"),c("tiling.flip"),c("tiling.pad");var M=c("text");c("texttemplate"),f.texttemplate||c("textinfo",Array.isArray(M)?"text+label":"label"),c("hovertext"),c("hovertemplate");var S=c("pathbar.visible"),P="auto";T(o,f,m,c,P,{hasPathbar:S,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),c("textposition");var x=f.textposition.indexOf("bottom")!==-1;y(o,f,m,c);var E=f._hasColorscale=r(o,"marker","colors")||(o.marker||{}).coloraxis;E?s(o,f,m,c,{prefix:"marker.",cLetter:"c"}):c("marker.depthfade",!(f.marker.colors||[]).length);var w=f.textfont.size*2;c("marker.pad.t",x?w/4:w),c("marker.pad.l",w/4),c("marker.pad.r",w/4),c("marker.pad.b",x?w:w/4),c("marker.cornerradius"),f._hovered={marker:{line:{width:2,color:a.contrast(m.paper_bgcolor)}}},S&&(c("pathbar.thickness",f.pathbar.textfont.size+2*v),c("pathbar.side"),c("pathbar.edgeshape")),c("sort"),c("root.color"),C(f,m,c),f._length=null}},80694:function(W,H,e){var g=e(39898),R=e(2791),a=e(72597),C=a.clearMinTextSize,T=e(16688).resizeText,v=e(46650);W.exports=function(t,r,s,n,o){var f=o.type,u=o.drawDescendants,m=t._fullLayout,c=m["_"+f+"layer"],A,h,l=!s;if(C(f,m),A=c.selectAll("g.trace."+f).data(r,function(M){return M[0].trace.uid}),A.enter().append("g").classed("trace",!0).classed(f,!0),A.order(),!m.uniformtext.mode&&R.hasTransition(s)){n&&(h=n());var p=g.transition().duration(s.duration).ease(s.easing).each("end",function(){h&&h()}).each("interrupt",function(){h&&h()});p.each(function(){c.selectAll("g.trace").each(function(M){v(t,M,this,s,u)})})}else A.each(function(M){v(t,M,this,s,u)}),m.uniformtext.mode&&T(t,c.selectAll(".trace"),f);l&&A.exit().remove()}},66209:function(W,H,e){var g=e(39898),R=e(71828),a=e(91424),C=e(63893),T=e(37210),v=e(96362).styleOne,y=e(43473),t=e(2791),r=e(83523),s=!0;W.exports=function(o,f,u,m,c){var A=c.barDifY,h=c.width,l=c.height,p=c.viewX,M=c.viewY,S=c.pathSlice,P=c.toMoveInsideSlice,x=c.strTransform,E=c.hasTransition,w=c.handleSlicesExit,i=c.makeUpdateSliceInterpolator,L=c.makeUpdateTextInterpolator,b={},O=o._context.staticPlot,_=o._fullLayout,N=f[0],z=N.trace,B=N.hierarchy,U=h/z._entryDepth,F=t.listPath(u.data,"id"),V=T(B.copy(),[h,l],{packing:"dice",pad:{inner:0,top:0,left:0,right:0,bottom:0}}).descendants();V=V.filter(function($){var ne=F.indexOf($.data.id);return ne===-1?!1:($.x0=U*ne,$.x1=U*(ne+1),$.y0=A,$.y1=A+l,$.onPathbar=!0,!0)}),V.reverse(),m=m.data(V,t.getPtId),m.enter().append("g").classed("pathbar",!0),w(m,s,b,[h,l],S),m.order();var j=m;E&&(j=j.transition().each("end",function(){var $=g.select(this);t.setSliceCursor($,o,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:!1})})),j.each(function($){$._x0=p($.x0),$._x1=p($.x1),$._y0=M($.y0),$._y1=M($.y1),$._hoverX=p($.x1-Math.min(h,l)/2),$._hoverY=M($.y1-l/2);var ne=g.select(this),oe=R.ensureSingle(ne,"path","surface",function(K){K.style("pointer-events",O?"none":"all")});E?oe.transition().attrTween("d",function(K){var J=i(K,s,b,[h,l]);return function(re){return S(J(re))}}):oe.attr("d",S),ne.call(r,u,o,f,{styleOne:v,eventDataKeys:y.eventDataKeys,transitionTime:y.CLICK_TRANSITION_TIME,transitionEasing:y.CLICK_TRANSITION_EASING}).call(t.setSliceCursor,o,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:o._transitioning}),oe.call(v,$,z,o,{hovered:!1}),$._text=(t.getPtLabel($)||"").split("<br>").join(" ")||"";var ce=R.ensureSingle(ne,"g","slicetext"),Q=R.ensureSingle(ce,"text","",function(K){K.attr("data-notex",1)}),Z=R.ensureUniformFontSize(o,t.determineTextFont(z,$,_.font,{onPathbar:!0}));Q.text($._text||" ").classed("slicetext",!0).attr("text-anchor","start").call(a.font,Z).call(C.convertToTspans,o),$.textBB=a.bBox(Q.node()),$.transform=P($,{fontSize:Z.size,onPathbar:!0}),$.transform.fontSize=Z.size,E?Q.transition().attrTween("transform",function(K){var J=L(K,s,b,[h,l]);return function(re){return x(J(re))}}):Q.attr("transform",x($))})}},52583:function(W,H,e){var g=e(39898),R=e(71828),a=e(91424),C=e(63893),T=e(37210),v=e(96362).styleOne,y=e(43473),t=e(2791),r=e(83523),s=e(24714).formatSliceLabel,n=!1;W.exports=function(f,u,m,c,A){var h=A.width,l=A.height,p=A.viewX,M=A.viewY,S=A.pathSlice,P=A.toMoveInsideSlice,x=A.strTransform,E=A.hasTransition,w=A.handleSlicesExit,i=A.makeUpdateSliceInterpolator,L=A.makeUpdateTextInterpolator,b=A.prevEntry,O={},_=f._context.staticPlot,N=f._fullLayout,z=u[0],B=z.trace,U=B.textposition.indexOf("left")!==-1,F=B.textposition.indexOf("right")!==-1,V=B.textposition.indexOf("bottom")!==-1,j=!V&&!B.marker.pad.t||V&&!B.marker.pad.b,$=T(m,[h,l],{packing:B.tiling.packing,squarifyratio:B.tiling.squarifyratio,flipX:B.tiling.flip.indexOf("x")>-1,flipY:B.tiling.flip.indexOf("y")>-1,pad:{inner:B.tiling.pad,top:B.marker.pad.t,left:B.marker.pad.l,right:B.marker.pad.r,bottom:B.marker.pad.b}}),ne=$.descendants(),oe=1/0,ce=-1/0;ne.forEach(function(re){var le=re.depth;le>=B._maxDepth?(re.x0=re.x1=(re.x0+re.x1)/2,re.y0=re.y1=(re.y0+re.y1)/2):(oe=Math.min(oe,le),ce=Math.max(ce,le))}),c=c.data(ne,t.getPtId),B._maxVisibleLayers=isFinite(ce)?ce-oe+1:0,c.enter().append("g").classed("slice",!0),w(c,n,O,[h,l],S),c.order();var Q=null;if(E&&b){var Z=t.getPtId(b);c.each(function(re){Q===null&&t.getPtId(re)===Z&&(Q={x0:re.x0,x1:re.x1,y0:re.y0,y1:re.y1})})}var K=function(){return Q||{x0:0,x1:h,y0:0,y1:l}},J=c;return E&&(J=J.transition().each("end",function(){var re=g.select(this);t.setSliceCursor(re,f,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),J.each(function(re){var le=t.isHeader(re,B);re._x0=p(re.x0),re._x1=p(re.x1),re._y0=M(re.y0),re._y1=M(re.y1),re._hoverX=p(re.x1-B.marker.pad.r),re._hoverY=M(V?re.y1-B.marker.pad.b/2:re.y0+B.marker.pad.t/2);var q=g.select(this),ee=R.ensureSingle(q,"path","surface",function(me){me.style("pointer-events",_?"none":"all")});E?ee.transition().attrTween("d",function(me){var Ce=i(me,n,K(),[h,l]);return function(Te){return S(Ce(Te))}}):ee.attr("d",S),q.call(r,m,f,u,{styleOne:v,eventDataKeys:y.eventDataKeys,transitionTime:y.CLICK_TRANSITION_TIME,transitionEasing:y.CLICK_TRANSITION_EASING}).call(t.setSliceCursor,f,{isTransitioning:f._transitioning}),ee.call(v,re,B,f,{hovered:!1}),re.x0===re.x1||re.y0===re.y1?re._text="":le?re._text=j?"":t.getPtLabel(re)||"":re._text=s(re,m,B,u,N)||"";var ue=R.ensureSingle(q,"g","slicetext"),se=R.ensureSingle(ue,"text","",function(me){me.attr("data-notex",1)}),he=R.ensureUniformFontSize(f,t.determineTextFont(B,re,N.font));se.text(re._text||" ").classed("slicetext",!0).attr("text-anchor",F?"end":U||le?"start":"middle").call(a.font,he).call(C.convertToTspans,f),re.textBB=a.bBox(se.node()),re.transform=P(re,{fontSize:he.size,isHeader:le}),re.transform.fontSize=he.size,E?se.transition().attrTween("transform",function(me){var Ce=L(me,n,K(),[h,l]);return function(Te){return x(Ce(Te))}}):se.attr("transform",x(re))}),Q}},14102:function(W){W.exports=function H(e,g,R){var a;R.swapXY&&(a=e.x0,e.x0=e.y0,e.y0=a,a=e.x1,e.x1=e.y1,e.y1=a),R.flipX&&(a=e.x0,e.x0=g[0]-e.x1,e.x1=g[0]-a),R.flipY&&(a=e.y0,e.y0=g[1]-e.y1,e.y1=g[1]-a);var C=e.children;if(C)for(var T=0;T<C.length;T++)H(C[T],g,R)}},70954:function(W,H,e){W.exports={moduleType:"trace",name:"treemap",basePlotModule:e(78018),categories:[],animatable:!0,attributes:e(45802),layoutAttributes:e(55479),supplyDefaults:e(91174),supplyLayoutDefaults:e(77182),calc:e(65039).y,crossTraceCalc:e(65039).T,plot:e(5893),style:e(96362).style,colorbar:e(4898),meta:{}}},55479:function(W){W.exports={treemapcolorway:{valType:"colorlist",editType:"calc"},extendtreemapcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},77182:function(W,H,e){var g=e(71828),R=e(55479);W.exports=function(C,T){function v(y,t){return g.coerce(C,T,R,y,t)}v("treemapcolorway",T.colorway),v("extendtreemapcolors")}},37210:function(W,H,e){var g=e(674),R=e(14102);W.exports=function(T,v,y){var t=y.flipX,r=y.flipY,s=y.packing==="dice-slice",n=y.pad[r?"bottom":"top"],o=y.pad[t?"right":"left"],f=y.pad[t?"left":"right"],u=y.pad[r?"top":"bottom"],m;s&&(m=o,o=n,n=m,m=f,f=u,u=m);var c=g.treemap().tile(a(y.packing,y.squarifyratio)).paddingInner(y.pad.inner).paddingLeft(o).paddingRight(f).paddingTop(n).paddingBottom(u).size(s?[v[1],v[0]]:v)(T);return(s||t||r)&&R(c,v,{swapXY:s,flipX:t,flipY:r}),c};function a(C,T){switch(C){case"squarify":return g.treemapSquarify.ratio(T);case"binary":return g.treemapBinary;case"dice":return g.treemapDice;case"slice":return g.treemapSlice;default:return g.treemapSliceDice}}},5893:function(W,H,e){var g=e(80694),R=e(52583);W.exports=function(C,T,v,y){return g(C,T,v,y,{type:"treemap",drawDescendants:R})}},46650:function(W,H,e){var g=e(39898),R=e(81684).sX,a=e(2791),C=e(71828),T=e(97313).TEXTPAD,v=e(17295),y=v.toMoveInsideBar,t=e(72597),r=t.recordMinTextSize,s=e(43473),n=e(66209);function o(f){return a.isHierarchyRoot(f)?"":a.getPtId(f)}W.exports=function(u,m,c,A,h){var l=u._fullLayout,p=m[0],M=p.trace,S=M.type,P=S==="icicle",x=p.hierarchy,E=a.findEntryWithLevel(x,M.level),w=g.select(c),i=w.selectAll("g.pathbar"),L=w.selectAll("g.slice");if(!E){i.remove(),L.remove();return}var b=a.isHierarchyRoot(E),O=!l.uniformtext.mode&&a.hasTransition(A),_=a.getMaxDepth(M),N=function(Je){return Je.data.depth-E.data.depth<_},z=l._size,B=M.domain,U=z.w*(B.x[1]-B.x[0]),F=z.h*(B.y[1]-B.y[0]),V=U,j=M.pathbar.thickness,$=M.marker.line.width+s.gapWithPathbar,ne=M.pathbar.visible?M.pathbar.side.indexOf("bottom")>-1?F+$:-(j+$):0,oe={x0:V,x1:V,y0:ne,y1:ne+j},ce=function(Je,ze,_e){var Be=M.tiling.pad,De=function(Pe){return Pe-Be<=ze.x0},we=function(Pe){return Pe+Be>=ze.x1},xe=function(Pe){return Pe-Be<=ze.y0},Ee=function(Pe){return Pe+Be>=ze.y1};return Je.x0===ze.x0&&Je.x1===ze.x1&&Je.y0===ze.y0&&Je.y1===ze.y1?{x0:Je.x0,x1:Je.x1,y0:Je.y0,y1:Je.y1}:{x0:De(Je.x0-Be)?0:we(Je.x0-Be)?_e[0]:Je.x0,x1:De(Je.x1+Be)?0:we(Je.x1+Be)?_e[0]:Je.x1,y0:xe(Je.y0-Be)?0:Ee(Je.y0-Be)?_e[1]:Je.y0,y1:xe(Je.y1+Be)?0:Ee(Je.y1+Be)?_e[1]:Je.y1}},Q=null,Z={},K={},J=null,re=function(Je,ze){return ze?Z[o(Je)]:K[o(Je)]},le=function(Je,ze,_e,Be){if(ze)return Z[o(x)]||oe;var De=K[M.level]||_e;return N(Je)?ce(Je,De,Be):{}};p.hasMultipleRoots&&b&&_++,M._maxDepth=_,M._backgroundColor=l.paper_bgcolor,M._entryDepth=E.data.depth,M._atRootLevel=b;var q=-U/2+z.l+z.w*(B.x[1]+B.x[0])/2,ee=-F/2+z.t+z.h*(1-(B.y[1]+B.y[0])/2),ue=function(Je){return q+Je},se=function(Je){return ee+Je},he=se(0),me=ue(0),Ce=function(Je){return me+Je},Te=function(Je){return he+Je};function Oe(Je,ze){return Je+","+ze}var Ne=Ce(0),Le=function(Je){Je.x=Math.max(Ne,Je.x)},be=M.pathbar.edgeshape,Ae=function(Je){var ze=Ce(Math.max(Math.min(Je.x0,Je.x0),0)),_e=Ce(Math.min(Math.max(Je.x1,Je.x1),V)),Be=Te(Je.y0),De=Te(Je.y1),we=j/2,xe={},Ee={};xe.x=ze,Ee.x=_e,xe.y=Ee.y=(Be+De)/2;var Pe={x:ze,y:Be},Ue={x:_e,y:Be},$e={x:_e,y:De},qe={x:ze,y:De};return be===">"?(Pe.x-=we,Ue.x-=we,$e.x-=we,qe.x-=we):be==="/"?($e.x-=we,qe.x-=we,xe.x-=we/2,Ee.x-=we/2):be==="\\"?(Pe.x-=we,Ue.x-=we,xe.x-=we/2,Ee.x-=we/2):be==="<"&&(xe.x-=we,Ee.x-=we),Le(Pe),Le(qe),Le(xe),Le(Ue),Le($e),Le(Ee),"M"+Oe(Pe.x,Pe.y)+"L"+Oe(Ue.x,Ue.y)+"L"+Oe(Ee.x,Ee.y)+"L"+Oe($e.x,$e.y)+"L"+Oe(qe.x,qe.y)+"L"+Oe(xe.x,xe.y)+"Z"},He=M[P?"tiling":"marker"].pad,Ve=function(Je){return M.textposition.indexOf(Je)!==-1},ke=Ve("top"),Ge=Ve("left"),it=Ve("right"),et=Ve("bottom"),tt=function(Je){var ze=ue(Je.x0),_e=ue(Je.x1),Be=se(Je.y0),De=se(Je.y1),we=_e-ze,xe=De-Be;if(!we||!xe)return"";var Ee=M.marker.cornerradius||0,Pe=Math.min(Ee,we/2,xe/2);Pe&&Je.data&&Je.data.data&&Je.data.data.label&&(ke&&(Pe=Math.min(Pe,He.t)),Ge&&(Pe=Math.min(Pe,He.l)),it&&(Pe=Math.min(Pe,He.r)),et&&(Pe=Math.min(Pe,He.b)));var Ue=function($e,qe){return Pe?"a"+Oe(Pe,Pe)+" 0 0 1 "+Oe($e,qe):""};return"M"+Oe(ze,Be+Pe)+Ue(Pe,-Pe)+"L"+Oe(_e-Pe,Be)+Ue(Pe,Pe)+"L"+Oe(_e,De-Pe)+Ue(-Pe,Pe)+"L"+Oe(ze+Pe,De)+Ue(-Pe,-Pe)+"Z"},at=function(Je,ze){var _e=Je.x0,Be=Je.x1,De=Je.y0,we=Je.y1,xe=Je.textBB,Ee=ke||ze.isHeader&&!et,Pe=Ee?"start":et?"end":"middle",Ue=Ve("right"),$e=Ve("left")||ze.onPathbar,qe=$e?-1:Ue?1:0;if(ze.isHeader){if(_e+=(P?He:He.l)-T,Be-=(P?He:He.r)-T,_e>=Be){var dt=(_e+Be)/2;_e=dt,Be=dt}var bt;et?(bt=we-(P?He:He.b),De<bt&&bt<we&&(De=bt)):(bt=De+(P?He:He.t),De<bt&&bt<we&&(we=bt))}var Gt=y(_e,Be,De,we,xe,{isHorizontal:!1,constrained:!0,angle:0,anchor:Pe,leftToRight:qe});return Gt.fontSize=ze.fontSize,Gt.targetX=ue(Gt.targetX),Gt.targetY=se(Gt.targetY),isNaN(Gt.targetX)||isNaN(Gt.targetY)?{}:(_e!==Be&&De!==we&&r(M.type,Gt,l),{scale:Gt.scale,rotate:Gt.rotate,textX:Gt.textX,textY:Gt.textY,anchorX:Gt.anchorX,anchorY:Gt.anchorY,targetX:Gt.targetX,targetY:Gt.targetY})},vt=function(Je,ze){for(var _e,Be=0,De=Je;!_e&&Be<_;)Be++,De=De.parent,De?_e=re(De,ze):Be=_;return _e||{}},yt=function(Je,ze,_e,Be){var De=re(Je,ze),we;if(ze)we=oe;else{var xe=re(E,ze);xe?we=ce(Je,xe,Be):we={}}return R(De,we)},gt=function(Je,ze,_e,Be,De){var we=re(Je,ze),xe;if(we)xe=we;else if(ze)xe=oe;else if(Q)if(Je.parent){var Ee=J||_e;Ee&&!ze?xe=ce(Je,Ee,Be):(xe={},C.extendFlat(xe,vt(Je,ze)))}else xe=C.extendFlat({},Je),P&&(De.orientation==="h"?De.flipX?xe.x0=Je.x1:xe.x1=0:De.flipY?xe.y0=Je.y1:xe.y1=0);else xe={};return R(xe,{x0:Je.x0,x1:Je.x1,y0:Je.y0,y1:Je.y1})},Mt=function(Je,ze,_e,Be){var De=re(Je,ze),we={},xe=le(Je,ze,_e,Be);C.extendFlat(we,{transform:at({x0:xe.x0,x1:xe.x1,y0:xe.y0,y1:xe.y1,textBB:Je.textBB,_text:Je._text},{isHeader:a.isHeader(Je,M)})}),De?we=De:Je.parent&&C.extendFlat(we,vt(Je,ze));var Ee=Je.transform;return Je.x0!==Je.x1&&Je.y0!==Je.y1&&r(M.type,Ee,l),R(we,{transform:{scale:Ee.scale,rotate:Ee.rotate,textX:Ee.textX,textY:Ee.textY,anchorX:Ee.anchorX,anchorY:Ee.anchorY,targetX:Ee.targetX,targetY:Ee.targetY}})},Ct=function(Je,ze,_e,Be,De){var we=Be[0],xe=Be[1];O?Je.exit().transition().each(function(){var Ee=g.select(this),Pe=Ee.select("path.surface");Pe.transition().attrTween("d",function($e){var qe=yt($e,ze,_e,[we,xe]);return function(dt){return De(qe(dt))}});var Ue=Ee.select("g.slicetext");Ue.attr("opacity",0)}).remove():Je.exit().remove()},Vt=function(Je){var ze=Je.transform;return Je.x0!==Je.x1&&Je.y0!==Je.y1&&r(M.type,ze,l),C.getTextTransform({textX:ze.textX,textY:ze.textY,anchorX:ze.anchorX,anchorY:ze.anchorY,targetX:ze.targetX,targetY:ze.targetY,scale:ze.scale,rotate:ze.rotate})};O&&(i.each(function(Je){Z[o(Je)]={x0:Je.x0,x1:Je.x1,y0:Je.y0,y1:Je.y1},Je.transform&&(Z[o(Je)].transform={textX:Je.transform.textX,textY:Je.transform.textY,anchorX:Je.transform.anchorX,anchorY:Je.transform.anchorY,targetX:Je.transform.targetX,targetY:Je.transform.targetY,scale:Je.transform.scale,rotate:Je.transform.rotate})}),L.each(function(Je){K[o(Je)]={x0:Je.x0,x1:Je.x1,y0:Je.y0,y1:Je.y1},Je.transform&&(K[o(Je)].transform={textX:Je.transform.textX,textY:Je.transform.textY,anchorX:Je.transform.anchorX,anchorY:Je.transform.anchorY,targetX:Je.transform.targetX,targetY:Je.transform.targetY,scale:Je.transform.scale,rotate:Je.transform.rotate}),!Q&&a.isEntry(Je)&&(Q=Je)})),J=h(u,m,E,L,{width:U,height:F,viewX:ue,viewY:se,pathSlice:tt,toMoveInsideSlice:at,prevEntry:Q,makeUpdateSliceInterpolator:gt,makeUpdateTextInterpolator:Mt,handleSlicesExit:Ct,hasTransition:O,strTransform:Vt}),M.pathbar.visible?n(u,m,E,i,{barDifY:ne,width:V,height:j,viewX:Ce,viewY:Te,pathSlice:Ae,toMoveInsideSlice:at,makeUpdateSliceInterpolator:gt,makeUpdateTextInterpolator:Mt,handleSlicesExit:Ct,hasTransition:O,strTransform:Vt}):i.remove()}},96362:function(W,H,e){var g=e(39898),R=e(7901),a=e(71828),C=e(2791),T=e(72597).resizeText,v=e(43467);function y(r){var s=r._fullLayout._treemaplayer.selectAll(".trace");T(r,s,"treemap"),s.each(function(n){var o=g.select(this),f=n[0],u=f.trace;o.style("opacity",u.opacity),o.selectAll("path.surface").each(function(m){g.select(this).call(t,m,u,r,{hovered:!1})})})}function t(r,s,n,o,f){var u=(f||{}).hovered,m=s.data.data,c=m.i,A,h,l=m.color,p=C.isHierarchyRoot(s),M=1;if(u)A=n._hovered.marker.line.color,h=n._hovered.marker.line.width;else if(p&&l===n.root.color)M=100,A="rgba(0,0,0,0)",h=0;else if(A=a.castOption(n,c,"marker.line.color")||R.defaultLine,h=a.castOption(n,c,"marker.line.width")||0,!n._hasColorscale&&!s.onPathbar){var S=n.marker.depthfade;if(S){var P=R.combine(R.addOpacity(n._backgroundColor,.75),l),x;if(S===!0){var E=C.getMaxDepth(n);isFinite(E)?C.isLeaf(s)?x=0:x=n._maxVisibleLayers-(s.data.depth-n._entryDepth):x=s.data.height+1}else x=s.data.depth-n._entryDepth,n._atRootLevel||x++;if(x>0)for(var w=0;w<x;w++){var i=.5*w/x;l=R.combine(R.addOpacity(P,i),l)}}}r.call(v,s,n,o,l).style("stroke-width",h).call(R.stroke,A).style("opacity",M)}W.exports={style:y,styleOne:t}},68875:function(W,H,e){var g=e(53522),R=e(1426).extendFlat,a=e(12663).axisHoverFormat;W.exports={y:g.y,x:g.x,x0:g.x0,y0:g.y0,xhoverformat:a("x"),yhoverformat:a("y"),name:R({},g.name,{}),orientation:R({},g.orientation,{}),bandwidth:{valType:"number",min:0,editType:"calc"},scalegroup:{valType:"string",dflt:"",editType:"calc"},scalemode:{valType:"enumerated",values:["width","count"],dflt:"width",editType:"calc"},spanmode:{valType:"enumerated",values:["soft","hard","manual"],dflt:"soft",editType:"calc"},span:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:g.fillcolor,points:R({},g.boxpoints,{}),jitter:R({},g.jitter,{}),pointpos:R({},g.pointpos,{}),width:R({},g.width,{}),marker:g.marker,text:g.text,hovertext:g.hovertext,hovertemplate:g.hovertemplate,quartilemethod:g.quartilemethod,box:{visible:{valType:"boolean",dflt:!1,editType:"plot"},width:{valType:"number",min:0,max:1,dflt:.25,editType:"plot"},fillcolor:{valType:"color",editType:"style"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"style"},editType:"plot"},meanline:{visible:{valType:"boolean",dflt:!1,editType:"plot"},color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"plot"},side:{valType:"enumerated",values:["both","positive","negative"],dflt:"both",editType:"calc"},offsetgroup:g.offsetgroup,alignmentgroup:g.alignmentgroup,selected:g.selected,unselected:g.unselected,hoveron:{valType:"flaglist",flags:["violins","points","kde"],dflt:"violins+points+kde",extras:["all"],editType:"style"}}},38603:function(W,H,e){var g=e(71828),R=e(89298),a=e(48518),C=e(60168),T=e(50606).BADNUM;W.exports=function(s,n){var o=a(s,n);if(o[0].t.empty)return o;for(var f=s._fullLayout,u=R.getFromId(s,n[n.orientation==="h"?"xaxis":"yaxis"]),m=1/0,c=-1/0,A=0,h=0,l=0;l<o.length;l++){var p=o[l],M=p.pts.map(C.extractVal),S=p.bandwidth=y(n,p,M),P=p.span=t(n,p,u,S);if(p.min===p.max&&S===0)P=p.span=[p.min,p.max],p.density=[{v:1,t:P[0]}],p.bandwidth=S,A=Math.max(A,1);else{var x=P[1]-P[0],E=Math.ceil(x/(S/3)),w=x/E;if(!isFinite(w)||!isFinite(E))return g.error("Something went wrong with computing the violin span"),o[0].t.empty=!0,o;var i=C.makeKDE(p,n,M);p.density=new Array(E);for(var L=0,b=P[0];b<P[1]+w/2;L++,b+=w){var O=i(b);p.density[L]={v:O,t:b},A=Math.max(A,O)}}h=Math.max(h,M.length),m=Math.min(m,P[0]),c=Math.max(c,P[1])}var _=R.findExtremes(u,[m,c],{padded:!0});if(n._extremes[u._id]=_,n.width)o[0].t.maxKDE=A;else{var N=f._violinScaleGroupStats,z=n.scalegroup,B=N[z];B?(B.maxKDE=Math.max(B.maxKDE,A),B.maxCount=Math.max(B.maxCount,h)):N[z]={maxKDE:A,maxCount:h}}return o[0].t.labels.kde=g._(s,"kde:"),o};function v(r,s,n){var o=Math.min(s,n/1.349);return 1.059*o*Math.pow(r,-.2)}function y(r,s,n){var o=s.max-s.min;if(!o)return r.bandwidth?r.bandwidth:0;if(r.bandwidth)return Math.max(r.bandwidth,o/1e4);var f=n.length,u=g.stdev(n,f-1,s.mean);return Math.max(v(f,u,s.q3-s.q1),o/100)}function t(r,s,n,o){var f=r.spanmode,u=r.span||[],m=[s.min,s.max],c=[s.min-2*o,s.max+2*o],A;function h(p){var M=u[p],S=n.type==="multicategory"?n.r2c(M):n.d2c(M,0,r[s.valLetter+"calendar"]);return S===T?c[p]:S}f==="soft"?A=c:f==="hard"?A=m:A=[h(0),h(1)];var l={type:"linear",range:A};return R.setConvert(l),l.cleanRange(),A}},86403:function(W,H,e){var g=e(37188).setPositionOffset,R=["v","h"];W.exports=function(C,T){for(var v=C.calcdata,y=T.xaxis,t=T.yaxis,r=0;r<R.length;r++){for(var s=R[r],n=s==="h"?t:y,o=[],f=0;f<v.length;f++){var u=v[f],m=u[0].t,c=u[0].trace;c.visible===!0&&c.type==="violin"&&!m.empty&&c.orientation===s&&c.xaxis===y._id&&c.yaxis===t._id&&o.push(f)}g("violin",C,o,n)}}},15899:function(W,H,e){var g=e(71828),R=e(7901),a=e(36411),C=e(68875);W.exports=function(v,y,t,r){function s(w,i){return g.coerce(v,y,C,w,i)}function n(w,i){return g.coerce2(v,y,C,w,i)}if(a.handleSampleDefaults(v,y,s,r),y.visible!==!1){s("bandwidth"),s("side");var o=s("width");o||(s("scalegroup",y.name),s("scalemode"));var f=s("span"),u;Array.isArray(f)&&(u="manual"),s("spanmode",u);var m=s("line.color",(v.marker||{}).color||t),c=s("line.width"),A=s("fillcolor",R.addOpacity(y.line.color,.5));a.handlePointsDefaults(v,y,s,{prefix:""});var h=n("box.width"),l=n("box.fillcolor",A),p=n("box.line.color",m),M=n("box.line.width",c),S=s("box.visible",!!(h||l||p||M));S||(y.box={visible:!1});var P=n("meanline.color",m),x=n("meanline.width",c),E=s("meanline.visible",!!(P||x));E||(y.meanline={visible:!1}),s("quartilemethod")}}},60168:function(W,H,e){var g=e(71828),R={gaussian:function(a){return 1/Math.sqrt(2*Math.PI)*Math.exp(-.5*a*a)}};H.makeKDE=function(a,C,T){var v=T.length,y=R.gaussian,t=a.bandwidth,r=1/(v*t);return function(s){for(var n=0,o=0;o<v;o++)n+=y((s-T[o])/t);return r*n}},H.getPositionOnKdePath=function(a,C,T){var v,y;C.orientation==="h"?(v="y",y="x"):(v="x",y="y");var t=g.findPointOnPath(a.path,T,y,{pathLength:a.pathLength}),r=a.posCenterPx,s=t[v],n=C.side==="both"?2*r-s:r;return[s,n]},H.getKdeValue=function(a,C,T){var v=a.pts.map(H.extractVal),y=H.makeKDE(a,C,v);return y(T)/a.posDensityScale},H.extractVal=function(a){return a.v}},57634:function(W,H,e){var g=e(7901),R=e(71828),a=e(89298),C=e(41868),T=e(60168);W.exports=function(y,t,r,s,n){n||(n={});var o=n.hoverLayer,f=y.cd,u=f[0].trace,m=u.hoveron,c=m.indexOf("violins")!==-1,A=m.indexOf("kde")!==-1,h=[],l,p;if(c||A){var M=C.hoverOnBoxes(y,t,r,s);if(A&&M.length>0){var S=y.xa,P=y.ya,x,E,w,i,L;u.orientation==="h"?(L=t,x="y",w=P,E="x",i=S):(L=r,x="x",w=S,E="y",i=P);var b=f[y.index];if(L>=b.span[0]&&L<=b.span[1]){var O=R.extendFlat({},y),_=i.c2p(L,!0),N=T.getKdeValue(b,u,L),z=T.getPositionOnKdePath(b,u,_),B=w._offset,U=w._length;O[x+"0"]=z[0],O[x+"1"]=z[1],O[E+"0"]=O[E+"1"]=_,O[E+"Label"]=E+": "+a.hoverLabelText(i,L,u[E+"hoverformat"])+", "+f[0].t.labels.kde+" "+N.toFixed(3);for(var F=0,V=0;V<M.length;V++)if(M[V].attr==="med"){F=V;break}O.spikeDistance=M[F].spikeDistance;var j=x+"Spike";O[j]=M[F][j],M[F].spikeDistance=void 0,M[F][j]=void 0,O.hovertemplate=!1,h.push(O),p={},p[x+"1"]=R.constrain(B+z[0],B,B+U),p[x+"2"]=R.constrain(B+z[1],B,B+U),p[E+"1"]=p[E+"2"]=i._offset+_}}c&&(h=h.concat(M))}m.indexOf("points")!==-1&&(l=C.hoverOnPoints(y,t,r));var $=o.selectAll(".violinline-"+u.uid).data(p?[0]:[]);return $.enter().append("line").classed("violinline-"+u.uid,!0).attr("stroke-width",1.5),$.exit().remove(),$.attr(p).call(g.stroke,y.color),s==="closest"?l?[l]:h:(l&&h.push(l),h)}},47462:function(W,H,e){W.exports={attributes:e(68875),layoutAttributes:e(9228),supplyDefaults:e(15899),crossTraceDefaults:e(36411).crossTraceDefaults,supplyLayoutDefaults:e(33598),calc:e(38603),crossTraceCalc:e(86403),plot:e(28443),style:e(31847),styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(57634),selectPoints:e(24626),moduleType:"trace",name:"violin",basePlotModule:e(93612),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","violinLayout","zoomScale"],meta:{}}},9228:function(W,H,e){var g=e(40094),R=e(71828).extendFlat;W.exports={violinmode:R({},g.boxmode,{}),violingap:R({},g.boxgap,{}),violingroupgap:R({},g.boxgroupgap,{})}},33598:function(W,H,e){var g=e(71828),R=e(9228),a=e(4199);W.exports=function(T,v,y){function t(r,s){return g.coerce(T,v,R,r,s)}a._supply(T,v,y,t,"violin")}},28443:function(W,H,e){var g=e(39898),R=e(71828),a=e(91424),C=e(86047),T=e(34621),v=e(60168);W.exports=function(t,r,s,n){var o=t._context.staticPlot,f=t._fullLayout,u=r.xaxis,m=r.yaxis;function c(A,h){var l=T(A,{xaxis:u,yaxis:m,trace:h,connectGaps:!0,baseTolerance:.75,shape:"spline",simplify:!0,linearized:!0});return a.smoothopen(l[0],1)}R.makeTraceGroups(n,s,"trace violins").each(function(A){var h=g.select(this),l=A[0],p=l.t,M=l.trace;if(M.visible!==!0||p.empty){h.remove();return}var S=p.bPos,P=p.bdPos,x=r[p.valLetter+"axis"],E=r[p.posLetter+"axis"],w=M.side==="both",i=w||M.side==="positive",L=w||M.side==="negative",b=h.selectAll("path.violin").data(R.identity);b.enter().append("path").style("vector-effect",o?"none":"non-scaling-stroke").attr("class","violin"),b.exit().remove(),b.each(function(V){var j=g.select(this),$=V.density,ne=$.length,oe=E.c2l(V.pos+S,!0),ce=E.l2p(oe),Q;if(M.width)Q=p.maxKDE/P;else{var Z=f._violinScaleGroupStats[M.scalegroup];Q=M.scalemode==="count"?Z.maxKDE/P*(Z.maxCount/V.pts.length):Z.maxKDE/P}var K,J,re,le,q,ee,ue;if(i){for(ee=new Array(ne),le=0;le<ne;le++)ue=ee[le]={},ue[p.posLetter]=oe+$[le].v/Q,ue[p.valLetter]=x.c2l($[le].t,!0);K=c(ee,M)}if(L){for(ee=new Array(ne),q=0,le=ne-1;q<ne;q++,le--)ue=ee[q]={},ue[p.posLetter]=oe-$[le].v/Q,ue[p.valLetter]=x.c2l($[le].t,!0);J=c(ee,M)}if(w)re=K+"L"+J.substr(1)+"Z";else{var se=[ce,x.c2p($[0].t)],he=[ce,x.c2p($[ne-1].t)];M.orientation==="h"&&(se.reverse(),he.reverse()),i?re="M"+se+"L"+K.substr(1)+"L"+he:re="M"+he+"L"+J.substr(1)+"L"+se}j.attr("d",re),V.posCenterPx=ce,V.posDensityScale=Q*P,V.path=j.node(),V.pathLength=V.path.getTotalLength()/(w?2:1)});var O=M.box,_=O.width,N=(O.line||{}).width,z,B;w?(z=P*_,B=0):i?(z=[0,P*_/2],B=N*{x:1,y:-1}[p.posLetter]):(z=[P*_/2,0],B=N*{x:-1,y:1}[p.posLetter]),C.plotBoxAndWhiskers(h,{pos:E,val:x},M,{bPos:S,bdPos:z,bPosPxOffset:B}),C.plotBoxMean(h,{pos:E,val:x},M,{bPos:S,bdPos:z,bPosPxOffset:B});var U;!M.box.visible&&M.meanline.visible&&(U=R.identity);var F=h.selectAll("path.meanline").data(U||[]);F.enter().append("path").attr("class","meanline").style("fill","none").style("vector-effect",o?"none":"non-scaling-stroke"),F.exit().remove(),F.each(function(V){var j=x.c2p(V.mean,!0),$=v.getPositionOnKdePath(V,M,j);g.select(this).attr("d",M.orientation==="h"?"M"+j+","+$[0]+"V"+$[1]:"M"+$[0]+","+j+"H"+$[1])}),C.plotPoints(h,{x:u,y:m},M,p)})}},31847:function(W,H,e){var g=e(39898),R=e(7901),a=e(16296).stylePoints;W.exports=function(T){var v=g.select(T).selectAll("g.trace.violins");v.style("opacity",function(y){return y[0].trace.opacity}),v.each(function(y){var t=y[0].trace,r=g.select(this),s=t.box||{},n=s.line||{},o=t.meanline||{},f=o.width;r.selectAll("path.violin").style("stroke-width",t.line.width+"px").call(R.stroke,t.line.color).call(R.fill,t.fillcolor),r.selectAll("path.box").style("stroke-width",n.width+"px").call(R.stroke,n.color).call(R.fill,s.fillcolor);var u={"stroke-width":f+"px","stroke-dasharray":2*f+"px,"+f+"px"};r.selectAll("path.mean").style(u).call(R.stroke,o.color),r.selectAll("path.meanline").style(u).call(R.stroke,o.color),a(r,t,T)})}},16336:function(W,H,e){var g=e(50693),R=e(16249),a=e(54532),C=e(9012),T=e(1426).extendFlat,v=e(30962).overrideAll,y=W.exports=v(T({x:R.x,y:R.y,z:R.z,value:R.value,isomin:R.isomin,isomax:R.isomax,surface:R.surface,spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:1}},slices:R.slices,caps:R.caps,text:R.text,hovertext:R.hovertext,xhoverformat:R.xhoverformat,yhoverformat:R.yhoverformat,zhoverformat:R.zhoverformat,valuehoverformat:R.valuehoverformat,hovertemplate:R.hovertemplate},g("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{colorbar:R.colorbar,opacity:R.opacity,opacityscale:a.opacityscale,lightposition:R.lightposition,lighting:R.lighting,flatshading:R.flatshading,contour:R.contour,hoverinfo:T({},C.hoverinfo),showlegend:T({},C.showlegend,{dflt:!1})}),"calc","nested");y.x.editType=y.y.editType=y.z.editType=y.value.editType="calc+clearAxisTypes",y.transforms=void 0},64809:function(W,H,e){var g=e(9330).gl_mesh3d,R=e(81697).parseColorScale,a=e(78614),C=e(21081).extractOpts,T=e(90060),v=e(22674).findNearestOnAxis,y=e(22674).generateIsoMeshes;function t(n,o,f){this.scene=n,this.uid=f,this.mesh=o,this.name="",this.data=null,this.showContour=!1}var r=t.prototype;r.handlePick=function(n){if(n.object===this.mesh){var o=n.data.index,f=this.data._meshX[o],u=this.data._meshY[o],m=this.data._meshZ[o],c=this.data._Ys.length,A=this.data._Zs.length,h=v(f,this.data._Xs).id,l=v(u,this.data._Ys).id,p=v(m,this.data._Zs).id,M=n.index=p+A*l+A*c*h;n.traceCoordinate=[this.data._meshX[M],this.data._meshY[M],this.data._meshZ[M],this.data._value[M]];var S=this.data.hovertext||this.data.text;return Array.isArray(S)&&S[M]!==void 0?n.textLabel=S[M]:S&&(n.textLabel=S),!0}},r.update=function(n){var o=this.scene,f=o.fullSceneLayout;this.data=y(n);function u(l,p,M,S){return p.map(function(P){return l.d2l(P,0,S)*M})}var m=T(u(f.xaxis,n._meshX,o.dataScale[0],n.xcalendar),u(f.yaxis,n._meshY,o.dataScale[1],n.ycalendar),u(f.zaxis,n._meshZ,o.dataScale[2],n.zcalendar)),c=T(n._meshI,n._meshJ,n._meshK),A={positions:m,cells:c,lightPosition:[n.lightposition.x,n.lightposition.y,n.lightposition.z],ambient:n.lighting.ambient,diffuse:n.lighting.diffuse,specular:n.lighting.specular,roughness:n.lighting.roughness,fresnel:n.lighting.fresnel,vertexNormalsEpsilon:n.lighting.vertexnormalsepsilon,faceNormalsEpsilon:n.lighting.facenormalsepsilon,opacity:n.opacity,opacityscale:n.opacityscale,contourEnable:n.contour.show,contourColor:a(n.contour.color).slice(0,3),contourWidth:n.contour.width,useFacetNormals:n.flatshading},h=C(n);A.vertexIntensity=n._meshIntensity,A.vertexIntensityBounds=[h.min,h.max],A.colormap=R(n),this.mesh.update(A)},r.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function s(n,o){var f=n.glplot.gl,u=g({gl:f}),m=new t(n,u,o.uid);return u._trace=m,m.update(o),n.glplot.add(u),m}W.exports=s},47651:function(W,H,e){var g=e(71828),R=e(16336),a=e(82738).supplyIsoDefaults,C=e(91831).opacityscaleDefaults;W.exports=function(v,y,t,r){function s(n,o){return g.coerce(v,y,R,n,o)}a(v,y,t,r,s),C(v,y,r,s)}},17659:function(W,H,e){W.exports={attributes:e(16336),supplyDefaults:e(47651),calc:e(56959),colorbar:{min:"cmin",max:"cmax"},plot:e(64809),moduleType:"trace",name:"volume",basePlotModule:e(58547),categories:["gl3d","showLegend"],meta:{}}},43037:function(W,H,e){var g=e(1486),R=e(82196).line,a=e(9012),C=e(12663).axisHoverFormat,T=e(5386).fF,v=e(5386).si,y=e(48334),t=e(1426).extendFlat,r=e(7901);function s(n){return{marker:{color:t({},g.marker.color,{arrayOk:!1,editType:"style"}),line:{color:t({},g.marker.line.color,{arrayOk:!1,editType:"style"}),width:t({},g.marker.line.width,{arrayOk:!1,editType:"style"}),editType:"style"},editType:"style"},editType:"style"}}W.exports={measure:{valType:"data_array",dflt:[],editType:"calc"},base:{valType:"number",dflt:null,arrayOk:!1,editType:"calc"},x:g.x,x0:g.x0,dx:g.dx,y:g.y,y0:g.y0,dy:g.dy,xperiod:g.xperiod,yperiod:g.yperiod,xperiod0:g.xperiod0,yperiod0:g.yperiod0,xperiodalignment:g.xperiodalignment,yperiodalignment:g.yperiodalignment,xhoverformat:C("x"),yhoverformat:C("y"),hovertext:g.hovertext,hovertemplate:T({},{keys:y.eventDataKeys}),hoverinfo:t({},a.hoverinfo,{flags:["name","x","y","text","initial","delta","final"]}),textinfo:{valType:"flaglist",flags:["label","text","initial","delta","final"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:v({editType:"plot"},{keys:y.eventDataKeys.concat(["label"])}),text:g.text,textposition:g.textposition,insidetextanchor:g.insidetextanchor,textangle:g.textangle,textfont:g.textfont,insidetextfont:g.insidetextfont,outsidetextfont:g.outsidetextfont,constraintext:g.constraintext,cliponaxis:g.cliponaxis,orientation:g.orientation,offset:g.offset,width:g.width,increasing:s(),decreasing:s(),totals:s(),connector:{line:{color:t({},R.color,{dflt:r.defaultLine}),width:t({},R.width,{editType:"plot"}),dash:R.dash,editType:"plot"},mode:{valType:"enumerated",values:["spanning","between"],dflt:"between",editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:g.offsetgroup,alignmentgroup:g.alignmentgroup}},52752:function(W,H,e){var g=e(89298),R=e(42973),a=e(71828).mergeArray,C=e(66279),T=e(50606).BADNUM;function v(t){return t==="a"||t==="absolute"}function y(t){return t==="t"||t==="total"}W.exports=function(r,s){var n=g.getFromId(r,s.xaxis||"x"),o=g.getFromId(r,s.yaxis||"y"),f,u,m,c,A,h;s.orientation==="h"?(f=n.makeCalcdata(s,"x"),m=o.makeCalcdata(s,"y"),c=R(s,o,"y",m),A=!!s.yperiodalignment,h="y"):(f=o.makeCalcdata(s,"y"),m=n.makeCalcdata(s,"x"),c=R(s,n,"x",m),A=!!s.xperiodalignment,h="x"),u=c.vals;for(var l=Math.min(u.length,f.length),p=new Array(l),M=0,S,P=!1,x=0;x<l;x++){var E=f[x]||0,w=!1;(f[x]!==T||y(s.measure[x])||v(s.measure[x]))&&x+1<l&&(f[x+1]!==T||y(s.measure[x+1])||v(s.measure[x+1]))&&(w=!0);var i=p[x]={i:x,p:u[x],s:E,rawS:E,cNext:w};v(s.measure[x])?(M=i.s,i.isSum=!0,i.dir="totals",i.s=M):y(s.measure[x])?(i.isSum=!0,i.dir="totals",i.s=M):(i.isSum=!1,i.dir=i.rawS<0?"decreasing":"increasing",S=i.s,i.s=M+S,M+=S),i.dir==="totals"&&(P=!0),A&&(p[x].orig_p=m[x],p[x][h+"End"]=c.ends[x],p[x][h+"Start"]=c.starts[x]),s.ids&&(i.id=String(s.ids[x])),i.v=(s.base||0)+M}return p.length&&(p[0].hasTotals=P),a(s.text,p,"tx"),a(s.hovertext,p,"htx"),C(p,s),p}},48334:function(W){W.exports={eventDataKeys:["initial","delta","final"]}},70766:function(W,H,e){var g=e(11661).setGroupPositions;W.exports=function(a,C){var T=a._fullLayout,v=a._fullData,y=a.calcdata,t=C.xaxis,r=C.yaxis,s=[],n=[],o=[],f,u;for(u=0;u<v.length;u++){var m=v[u];m.visible===!0&&m.xaxis===t._id&&m.yaxis===r._id&&m.type==="waterfall"&&(f=y[u],m.orientation==="h"?o.push(f):n.push(f),s.push(f))}var c={mode:T.waterfallmode,norm:T.waterfallnorm,gap:T.waterfallgap,groupgap:T.waterfallgroupgap};for(g(a,t,r,n,c),g(a,r,t,o,c),u=0;u<s.length;u++){f=s[u];for(var A=0;A<f.length;A++){var h=f[A];h.isSum===!1&&(h.s0+=A===0?0:f[A-1].s),A+1<f.length&&(f[A].nextP0=f[A+1].p0,f[A].nextS0=f[A+1].s0)}}}},83266:function(W,H,e){var g=e(71828),R=e(26125),a=e(90769).handleText,C=e(67513),T=e(73927),v=e(43037),y=e(7901),t=e(22372),r=t.INCREASING.COLOR,s=t.DECREASING.COLOR,n="#4499FF";function o(m,c,A){m(c+".marker.color",A),m(c+".marker.line.color",y.defaultLine),m(c+".marker.line.width")}function f(m,c,A,h){function l(x,E){return g.coerce(m,c,v,x,E)}var p=C(m,c,h,l);if(!p){c.visible=!1;return}T(m,c,h,l),l("xhoverformat"),l("yhoverformat"),l("measure"),l("orientation",c.x&&!c.y?"h":"v"),l("base"),l("offset"),l("width"),l("text"),l("hovertext"),l("hovertemplate");var M=l("textposition");a(m,c,h,l,M,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),c.textposition!=="none"&&(l("texttemplate"),c.texttemplate||l("textinfo")),o(l,"increasing",r),o(l,"decreasing",s),o(l,"totals",n);var S=l("connector.visible");if(S){l("connector.mode");var P=l("connector.line.width");P&&(l("connector.line.color"),l("connector.line.dash"))}}function u(m,c){var A,h;function l(M){return g.coerce(h._input,h,v,M)}if(c.waterfallmode==="group")for(var p=0;p<m.length;p++)h=m[p],A=h._input,R(A,h,c,l)}W.exports={supplyDefaults:f,crossTraceDefaults:u}},58593:function(W){W.exports=function(e,g){return e.x="xVal"in g?g.xVal:g.x,e.y="yVal"in g?g.yVal:g.y,"initial"in g&&(e.initial=g.initial),"delta"in g&&(e.delta=g.delta),"final"in g&&(e.final=g.final),g.xa&&(e.xaxis=g.xa),g.ya&&(e.yaxis=g.ya),e}},61326:function(W,H,e){var g=e(89298).hoverLabelText,R=e(7901).opacity,a=e(95423).hoverOnBars,C=e(22372),T={increasing:C.INCREASING.SYMBOL,decreasing:C.DECREASING.SYMBOL};W.exports=function(t,r,s,n,o){var f=a(t,r,s,n,o);if(!f)return;var u=f.cd,m=u[0].trace,c=m.orientation==="h",A=c?"x":"y",h=c?t.xa:t.ya;function l(b){return g(h,b,m[A+"hoverformat"])}var p=f.index,M=u[p],S=M.isSum?M.b+M.s:M.rawS;f.initial=M.b+M.s-S,f.delta=S,f.final=f.initial+f.delta;var P=l(Math.abs(f.delta));f.deltaLabel=S<0?"("+P+")":P,f.finalLabel=l(f.final),f.initialLabel=l(f.initial);var x=M.hi||m.hoverinfo,E=[];if(x&&x!=="none"&&x!=="skip"){var w=x==="all",i=x.split("+"),L=function(b){return w||i.indexOf(b)!==-1};M.isSum||(L("final")&&(c?!L("x"):!L("y"))&&E.push(f.finalLabel),L("delta")&&(S<0?E.push(f.deltaLabel+" "+T.decreasing):E.push(f.deltaLabel+" "+T.increasing)),L("initial")&&E.push("Initial: "+f.initialLabel))}return E.length&&(f.extraText=E.join("<br>")),f.color=v(m,M),[f]};function v(y,t){var r=y[t.dir].marker,s=r.color,n=r.line.color,o=r.line.width;if(R(s))return s;if(R(n)&&o)return n}},19990:function(W,H,e){W.exports={attributes:e(43037),layoutAttributes:e(13494),supplyDefaults:e(83266).supplyDefaults,crossTraceDefaults:e(83266).crossTraceDefaults,supplyLayoutDefaults:e(5176),calc:e(52752),crossTraceCalc:e(70766),plot:e(30436),style:e(55750).style,hoverPoints:e(61326),eventData:e(58593),selectPoints:e(81974),moduleType:"trace",name:"waterfall",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},13494:function(W){W.exports={waterfallmode:{valType:"enumerated",values:["group","overlay"],dflt:"group",editType:"calc"},waterfallgap:{valType:"number",min:0,max:1,editType:"calc"},waterfallgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},5176:function(W,H,e){var g=e(71828),R=e(13494);W.exports=function(a,C,T){var v=!1;function y(s,n){return g.coerce(a,C,R,s,n)}for(var t=0;t<T.length;t++){var r=T[t];if(r.visible&&r.type==="waterfall"){v=!0;break}}v&&(y("waterfallmode"),y("waterfallgap",.2),y("waterfallgroupgap"))}},30436:function(W,H,e){var g=e(39898),R=e(71828),a=e(91424),C=e(50606).BADNUM,T=e(17295),v=e(72597).clearMinTextSize;W.exports=function(s,n,o,f){var u=s._fullLayout;v("waterfall",u),T.plot(s,n,o,f,{mode:u.waterfallmode,norm:u.waterfallmode,gap:u.waterfallgap,groupgap:u.waterfallgroupgap}),y(s,n,o,f)};function y(r,s,n,o){var f=s.xaxis,u=s.yaxis;R.makeTraceGroups(o,n,"trace bars").each(function(m){var c=g.select(this),A=m[0].trace,h=R.ensureSingle(c,"g","lines");if(!A.connector||!A.connector.visible){h.remove();return}var l=A.orientation==="h",p=A.connector.mode,M=h.selectAll("g.line").data(R.identity);M.enter().append("g").classed("line",!0),M.exit().remove();var S=M.size();M.each(function(P,x){if(!(x!==S-1&&!P.cNext)){var E=t(P,f,u,l),w=E[0],i=E[1],L="";w[0]!==C&&i[0]!==C&&w[1]!==C&&i[1]!==C&&(p==="spanning"&&!P.isSum&&x>0&&(l?L+="M"+w[0]+","+i[1]+"V"+i[0]:L+="M"+w[1]+","+i[0]+"H"+w[0]),p!=="between"&&(P.isSum||x<S-1)&&(l?L+="M"+w[1]+","+i[0]+"V"+i[1]:L+="M"+w[0]+","+i[1]+"H"+w[1]),w[2]!==C&&i[2]!==C&&(l?L+="M"+w[1]+","+i[1]+"V"+i[2]:L+="M"+w[1]+","+i[1]+"H"+w[2])),L===""&&(L="M0,0Z"),R.ensureSingle(g.select(this),"path").attr("d",L).call(a.setClipUrl,s.layerClipId,r)}})})}function t(r,s,n,o){var f=[],u=[],m=o?s:n,c=o?n:s;return f[0]=m.c2p(r.s0,!0),u[0]=c.c2p(r.p0,!0),f[1]=m.c2p(r.s1,!0),u[1]=c.c2p(r.p1,!0),f[2]=m.c2p(r.nextS0,!0),u[2]=c.c2p(r.nextP0,!0),o?[f,u]:[u,f]}},55750:function(W,H,e){var g=e(39898),R=e(91424),a=e(7901),C=e(37822).DESELECTDIM,T=e(16688),v=e(72597).resizeText,y=T.styleTextPoints;function t(r,s,n){var o=n||g.select(r).selectAll("g.waterfalllayer").selectAll("g.trace");v(r,o,"waterfall"),o.style("opacity",function(f){return f[0].trace.opacity}),o.each(function(f){var u=g.select(this),m=f[0].trace;u.selectAll(".point > path").each(function(c){if(!c.isBlank){var A=m[c.dir].marker;g.select(this).call(a.fill,A.color).call(a.stroke,A.line.color).call(R.dashLine,A.line.dash,A.line.width).style("opacity",m.selectedpoints&&!c.selected?C:1)}}),y(u,m,r),u.selectAll(".lines").each(function(){var c=m.connector.line;R.lineGroupStyle(g.select(this).selectAll("path"),c.width,c.color,c.dash)})})}W.exports={style:t}},82887:function(W,H,e){var g=e(89298),R=e(71828),a=e(86281),C=e(79344).p,T=e(50606).BADNUM;H.moduleType="transform",H.name="aggregate";var v=H.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},y=v.aggregations;H.supplyDefaults=function(f,u){var m={},c;function A(b,O){return R.coerce(f,m,v,b,O)}var h=A("enabled");if(!h)return m;var l=a.findArrayAttributes(u),p={};for(c=0;c<l.length;c++)p[l[c]]=1;var M=A("groups");if(!Array.isArray(M)){if(!p[M])return m.enabled=!1,m;p[M]=0}var S=f.aggregations||[],P=m.aggregations=new Array(S.length),x;function E(b,O){return R.coerce(S[c],x,y,b,O)}for(c=0;c<S.length;c++){x={_index:c};var w=E("target"),i=E("func"),L=E("enabled");L&&w&&(p[w]||i==="count"&&p[w]===void 0)?(i==="stddev"&&E("funcmode"),p[w]=0,P[c]=x):P[c]={enabled:!1,_index:c}}for(c=0;c<l.length;c++)p[l[c]]&&P.push({target:l[c],func:y.func.dflt,enabled:!0,_index:-1});return m},H.calcTransform=function(f,u,m){if(m.enabled){var c=m.groups,A=R.getTargetArray(u,{target:c});if(A){var h,l,p,M,S={},P={},x=[],E=C(u.transforms,m),w=A.length;for(u._length&&(w=Math.min(w,u._length)),h=0;h<w;h++)l=A[h],p=S[l],p===void 0?(S[l]=x.length,M=[h],x.push(M),P[S[l]]=E(h)):(x[p].push(h),P[S[l]]=(P[S[l]]||[]).concat(E(h)));m._indexToPoints=P;var i=m.aggregations;for(h=0;h<i.length;h++)t(f,u,x,i[h]);typeof c=="string"&&t(f,u,x,{target:c,func:"first",enabled:!0}),u._length=x.length}}};function t(f,u,m,c){if(c.enabled){for(var A=c.target,h=R.nestedProperty(u,A),l=h.get(),p=g.getDataConversions(f,u,A,l),M=r(c,p),S=new Array(m.length),P=0;P<m.length;P++)S[P]=M(l,m[P]);h.set(S),c.func==="count"&&R.pushUnique(u._arrayAttrs,A)}}function r(f,u){var m=f.func,c=u.d2c,A=u.c2d;switch(m){case"count":return s;case"first":return n;case"last":return o;case"sum":return function(h,l){for(var p=0,M=0;M<l.length;M++){var S=c(h[l[M]]);S!==T&&(p+=S)}return A(p)};case"avg":return function(h,l){for(var p=0,M=0,S=0;S<l.length;S++){var P=c(h[l[S]]);P!==T&&(p+=P,M++)}return M?A(p/M):T};case"min":return function(h,l){for(var p=1/0,M=0;M<l.length;M++){var S=c(h[l[M]]);S!==T&&(p=Math.min(p,S))}return p===1/0?T:A(p)};case"max":return function(h,l){for(var p=-1/0,M=0;M<l.length;M++){var S=c(h[l[M]]);S!==T&&(p=Math.max(p,S))}return p===-1/0?T:A(p)};case"range":return function(h,l){for(var p=1/0,M=-1/0,S=0;S<l.length;S++){var P=c(h[l[S]]);P!==T&&(p=Math.min(p,P),M=Math.max(M,P))}return M===-1/0||p===1/0?T:A(M-p)};case"change":return function(h,l){var p=c(h[l[0]]),M=c(h[l[l.length-1]]);return p===T||M===T?T:A(M-p)};case"median":return function(h,l){for(var p=[],M=0;M<l.length;M++){var S=c(h[l[M]]);S!==T&&p.push(S)}if(!p.length)return T;p.sort(R.sorterAsc);var P=(p.length-1)/2;return A((p[Math.floor(P)]+p[Math.ceil(P)])/2)};case"mode":return function(h,l){for(var p={},M=0,S=T,P=0;P<l.length;P++){var x=c(h[l[P]]);if(x!==T){var E=p[x]=(p[x]||0)+1;E>M&&(M=E,S=x)}}return M?A(S):T};case"rms":return function(h,l){for(var p=0,M=0,S=0;S<l.length;S++){var P=c(h[l[S]]);P!==T&&(p+=P*P,M++)}return M?A(Math.sqrt(p/M)):T};case"stddev":return function(h,l){var p=0,M=0,S=1,P=T,x;for(x=0;x<l.length&&P===T;x++)P=c(h[l[x]]);if(P===T)return T;for(;x<l.length;x++){var E=c(h[l[x]]);if(E!==T){var w=E-P;p+=w,M+=w*w,S++}}var i=f.funcmode==="sample"?S-1:S;return i?Math.sqrt((M-p*p/S)/i):0}}}function s(f,u){return u.length}function n(f,u){return f[u[0]]}function o(f,u){return f[u[u.length-1]]}},14382:function(W,H,e){var g=e(71828),R=e(73972),a=e(89298),C=e(79344).p,T=e(74808),v=T.COMPARISON_OPS,y=T.INTERVAL_OPS,t=T.SET_OPS;H.moduleType="transform",H.name="filter",H.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(v).concat(y).concat(t),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},H.supplyDefaults=function(s){var n={};function o(c,A){return g.coerce(s,n,H.attributes,c,A)}var f=o("enabled");if(f){var u=o("target");if(g.isArrayOrTypedArray(u)&&u.length===0)return n.enabled=!1,n;o("preservegaps"),o("operation"),o("value");var m=R.getComponentMethod("calendars","handleDefaults");m(s,n,"valuecalendar",null),m(s,n,"targetcalendar",null)}return n},H.calcTransform=function(s,n,o){if(!o.enabled)return;var f=g.getTargetArray(n,o);if(!f)return;var u=o.target,m=f.length;n._length&&(m=Math.min(m,n._length));var c=o.targetcalendar,A=n._arrayAttrs,h=o.preservegaps;if(typeof u=="string"){var l=g.nestedProperty(n,u+"calendar").get();l&&(c=l)}var p=a.getDataToCoordFunc(s,n,u,f),M=r(o,p,c),S={},P={},x=0;function E(_,N){for(var z=0;z<A.length;z++){var B=g.nestedProperty(n,A[z]);_(B,N)}}var w,i;h?(w=function(_){S[_.astr]=g.extendDeep([],_.get()),_.set(new Array(m))},i=function(_,N){var z=S[_.astr][N];_.get()[N]=z}):(w=function(_){S[_.astr]=g.extendDeep([],_.get()),_.set([])},i=function(_,N){var z=S[_.astr][N];_.get().push(z)}),E(w);for(var L=C(n.transforms,o),b=0;b<m;b++){var O=M(f[b]);O?(E(i,b),P[x++]=L(b)):h&&x++}o._indexToPoints=P,n._length=x};function r(s,n,o){var f=s.operation,u=s.value,m=Array.isArray(u);function c(p){return p.indexOf(f)!==-1}var A=function(p){return n(p,0,s.valuecalendar)},h=function(p){return n(p,0,o)},l;switch(c(v)?l=A(m?u[0]:u):c(y)?l=m?[A(u[0]),A(u[1])]:[A(u),A(u)]:c(t)&&(l=m?u.map(A):[A(u)]),f){case"=":return function(p){return h(p)===l};case"!=":return function(p){return h(p)!==l};case"<":return function(p){return h(p)<l};case"<=":return function(p){return h(p)<=l};case">":return function(p){return h(p)>l};case">=":return function(p){return h(p)>=l};case"[]":return function(p){var M=h(p);return M>=l[0]&&M<=l[1]};case"()":return function(p){var M=h(p);return M>l[0]&&M<l[1]};case"[)":return function(p){var M=h(p);return M>=l[0]&&M<l[1]};case"(]":return function(p){var M=h(p);return M>l[0]&&M<=l[1]};case"][":return function(p){var M=h(p);return M<=l[0]||M>=l[1]};case")(":return function(p){var M=h(p);return M<l[0]||M>l[1]};case"](":return function(p){var M=h(p);return M<=l[0]||M>l[1]};case")[":return function(p){var M=h(p);return M<l[0]||M>=l[1]};case"{}":return function(p){return l.indexOf(h(p))!==-1};case"}{":return function(p){return l.indexOf(h(p))===-1}}}},43102:function(W,H,e){var g=e(71828),R=e(86281),a=e(74875),C=e(79344).p;H.moduleType="transform",H.name="groupby",H.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},H.supplyDefaults=function(v,y,t){var r,s={};function n(A,h){return g.coerce(v,s,H.attributes,A,h)}var o=n("enabled");if(!o)return s;n("groups"),n("nameformat",t._dataLength>1?"%{group} (%{trace})":"%{group}");var f=v.styles,u=s.styles=[];if(f)for(r=0;r<f.length;r++){var m=u[r]={};g.coerce(f[r],u[r],H.attributes.styles,"target");var c=g.coerce(f[r],u[r],H.attributes.styles,"value");g.isPlainObject(c)?m.value=g.extendDeep({},c):c&&delete m.value}return s},H.transform=function(v,y){var t,r,s,n=[];for(r=0;r<v.length;r++)for(t=T(v[r],y),s=0;s<t.length;s++)n.push(t[s]);return n};function T(v,y){var t,r,s,n,o,f,u,m,c,A,h=y.transform,l=y.transformIndex,p=v.transforms[l].groups,M=C(v.transforms,h);if(!g.isArrayOrTypedArray(p)||p.length===0)return[v];var S=g.filterUnique(p),P=new Array(S.length),x=p.length,E=R.findArrayAttributes(v),w=h.styles||[],i={};for(t=0;t<w.length;t++)i[w[t].target]=w[t].value;h.styles&&(A=g.keyedContainer(h,"styles","target","value.name"));var L={},b={};for(t=0;t<S.length;t++){f=S[t],L[f]=t,b[f]=0,u=P[t]=g.extendDeepNoArrays({},v),u._group=f,u.transforms[l]._indexToPoints={};var O=null;for(A&&(O=A.get(f)),O||O===""?u.name=O:u.name=g.templateString(h.nameformat,{trace:v.name,group:f}),m=u.transforms,u.transforms=[],r=0;r<m.length;r++)u.transforms[r]=g.extendDeepNoArrays({},m[r]);for(r=0;r<E.length;r++)g.nestedProperty(u,E[r]).set([])}for(s=0;s<E.length;s++){for(n=E[s],r=0,c=[];r<S.length;r++)c[r]=g.nestedProperty(P[r],n).get();for(o=g.nestedProperty(v,n).get(),r=0;r<x;r++)c[L[p[r]]].push(o[r])}for(r=0;r<x;r++){u=P[L[p[r]]];var _=u.transforms[l]._indexToPoints;_[b[p[r]]]=M(r),b[p[r]]++}for(t=0;t<S.length;t++)f=S[t],u=P[t],a.clearExpandedTraceDefaultColors(u),u=g.extendDeepNoArrays(u,i[f]||{});return P}},79344:function(W,H){H.p=function(e,g){for(var R,a,C=0;C<e.length&&(R=e[C],R!==g);C++)!R._indexToPoints||R.enabled===!1||(a=R._indexToPoints);var T=a?function(v){return a[v]}:function(v){return[v]};return T}},32275:function(W,H,e){var g=e(71828),R=e(89298),a=e(79344).p,C=e(50606).BADNUM;H.moduleType="transform",H.name="sort",H.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},H.supplyDefaults=function(y){var t={};function r(n,o){return g.coerce(y,t,H.attributes,n,o)}var s=r("enabled");return s&&(r("target"),r("order")),t},H.calcTransform=function(y,t,r){if(r.enabled){var s=g.getTargetArray(t,r);if(s){var n=r.target,o=s.length;t._length&&(o=Math.min(o,t._length));var f=t._arrayAttrs,u=R.getDataToCoordFunc(y,t,n,s),m=T(r,s,u,o),c=a(t.transforms,r),A={},h,l;for(h=0;h<f.length;h++){var p=g.nestedProperty(t,f[h]),M=p.get(),S=new Array(o);for(l=0;l<o;l++)S[l]=M[m[l]];p.set(S)}for(l=0;l<o;l++)A[l]=c(m[l]);r._indexToPoints=A,t._length=o}}};function T(y,t,r,s){var n=new Array(s),o=new Array(s),f;for(f=0;f<s;f++)n[f]={v:t[f],i:f};for(n.sort(v(y,r)),f=0;f<s;f++)o[f]=n[f].i;return o}function v(y,t){switch(y.order){case"ascending":return function(r,s){var n=t(r.v),o=t(s.v);return n===C?1:o===C?-1:n-o};case"descending":return function(r,s){var n=t(r.v),o=t(s.v);return n===C?1:o===C?-1:o-n}}}},11506:function(W,H){H.version="2.27.1"},9330:function(W,H,e){var g=e(90386);(function(a,C){W.exports=C()})(self,function(){return function(){var R={7386:function(v,y,t){v.exports={alpha_shape:t(2350),convex_hull:t(5537),delaunay_triangulate:t(4419),gl_cone3d:t(1140),gl_error3d:t(3110),gl_heatmap2d:t(6386),gl_line3d:t(6086),gl_mesh3d:t(8116),gl_plot2d:t(2117),gl_plot3d:t(1059),gl_pointcloud2d:t(8271),gl_scatter3d:t(2182),gl_select_box:t(6623),gl_spikes2d:t(3050),gl_streamtube3d:t(7307),gl_surface3d:t(3754),ndarray:t(5050),ndarray_linear_interpolate:t(3581)}},2146:function(v,y,t){/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*/function r(we,xe){if(!(we instanceof xe))throw new TypeError("Cannot call a class as a function")}function s(we,xe){for(var Ee=0;Ee<xe.length;Ee++){var Pe=xe[Ee];Pe.enumerable=Pe.enumerable||!1,Pe.configurable=!0,"value"in Pe&&(Pe.writable=!0),Object.defineProperty(we,Pe.key,Pe)}}function n(we,xe,Ee){return xe&&s(we.prototype,xe),Ee&&s(we,Ee),Object.defineProperty(we,"prototype",{writable:!1}),we}function o(we,xe){if(typeof xe!="function"&&xe!==null)throw new TypeError("Super expression must either be null or a function");we.prototype=Object.create(xe&&xe.prototype,{constructor:{value:we,writable:!0,configurable:!0}}),Object.defineProperty(we,"prototype",{writable:!1}),xe&&f(we,xe)}function f(we,xe){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Pe,Ue){return Pe.__proto__=Ue,Pe},f(we,xe)}function u(we){var xe=A();return function(){var Pe=h(we),Ue;if(xe){var $e=h(this).constructor;Ue=Reflect.construct(Pe,arguments,$e)}else Ue=Pe.apply(this,arguments);return m(this,Ue)}}function m(we,xe){if(xe&&(l(xe)==="object"||typeof xe=="function"))return xe;if(xe!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return c(we)}function c(we){if(we===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return we}function A(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function h(we){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Ee){return Ee.__proto__||Object.getPrototypeOf(Ee)},h(we)}function l(we){"@babel/helpers - typeof";return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(xe){return typeof xe}:function(xe){return xe&&typeof Symbol=="function"&&xe.constructor===Symbol&&xe!==Symbol.prototype?"symbol":typeof xe},l(we)}var p=t(3910),M=t(3187),S=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;y.lW=w,y.h2=50;var P=2147483647;w.TYPED_ARRAY_SUPPORT=x(),!w.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function x(){try{var we=new Uint8Array(1),xe={foo:function(){return 42}};return Object.setPrototypeOf(xe,Uint8Array.prototype),Object.setPrototypeOf(we,xe),we.foo()===42}catch{return!1}}Object.defineProperty(w.prototype,"parent",{enumerable:!0,get:function(){if(w.isBuffer(this))return this.buffer}}),Object.defineProperty(w.prototype,"offset",{enumerable:!0,get:function(){if(w.isBuffer(this))return this.byteOffset}});function E(we){if(we>P)throw new RangeError('The value "'+we+'" is invalid for option "size"');var xe=new Uint8Array(we);return Object.setPrototypeOf(xe,w.prototype),xe}function w(we,xe,Ee){if(typeof we=="number"){if(typeof xe=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return O(we)}return i(we,xe,Ee)}w.poolSize=8192;function i(we,xe,Ee){if(typeof we=="string")return _(we,xe);if(ArrayBuffer.isView(we))return z(we);if(we==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+l(we));if(Je(we,ArrayBuffer)||we&&Je(we.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Je(we,SharedArrayBuffer)||we&&Je(we.buffer,SharedArrayBuffer)))return B(we,xe,Ee);if(typeof we=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Pe=we.valueOf&&we.valueOf();if(Pe!=null&&Pe!==we)return w.from(Pe,xe,Ee);var Ue=U(we);if(Ue)return Ue;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof we[Symbol.toPrimitive]=="function")return w.from(we[Symbol.toPrimitive]("string"),xe,Ee);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+l(we))}w.from=function(we,xe,Ee){return i(we,xe,Ee)},Object.setPrototypeOf(w.prototype,Uint8Array.prototype),Object.setPrototypeOf(w,Uint8Array);function L(we){if(typeof we!="number")throw new TypeError('"size" argument must be of type number');if(we<0)throw new RangeError('The value "'+we+'" is invalid for option "size"')}function b(we,xe,Ee){return L(we),we<=0?E(we):xe!==void 0?typeof Ee=="string"?E(we).fill(xe,Ee):E(we).fill(xe):E(we)}w.alloc=function(we,xe,Ee){return b(we,xe,Ee)};function O(we){return L(we),E(we<0?0:F(we)|0)}w.allocUnsafe=function(we){return O(we)},w.allocUnsafeSlow=function(we){return O(we)};function _(we,xe){if((typeof xe!="string"||xe==="")&&(xe="utf8"),!w.isEncoding(xe))throw new TypeError("Unknown encoding: "+xe);var Ee=V(we,xe)|0,Pe=E(Ee),Ue=Pe.write(we,xe);return Ue!==Ee&&(Pe=Pe.slice(0,Ue)),Pe}function N(we){for(var xe=we.length<0?0:F(we.length)|0,Ee=E(xe),Pe=0;Pe<xe;Pe+=1)Ee[Pe]=we[Pe]&255;return Ee}function z(we){if(Je(we,Uint8Array)){var xe=new Uint8Array(we);return B(xe.buffer,xe.byteOffset,xe.byteLength)}return N(we)}function B(we,xe,Ee){if(xe<0||we.byteLength<xe)throw new RangeError('"offset" is outside of buffer bounds');if(we.byteLength<xe+(Ee||0))throw new RangeError('"length" is outside of buffer bounds');var Pe;return xe===void 0&&Ee===void 0?Pe=new Uint8Array(we):Ee===void 0?Pe=new Uint8Array(we,xe):Pe=new Uint8Array(we,xe,Ee),Object.setPrototypeOf(Pe,w.prototype),Pe}function U(we){if(w.isBuffer(we)){var xe=F(we.length)|0,Ee=E(xe);return Ee.length===0||we.copy(Ee,0,0,xe),Ee}if(we.length!==void 0)return typeof we.length!="number"||ze(we.length)?E(0):N(we);if(we.type==="Buffer"&&Array.isArray(we.data))return N(we.data)}function F(we){if(we>=P)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+P.toString(16)+" bytes");return we|0}w.isBuffer=function(xe){return xe!=null&&xe._isBuffer===!0&&xe!==w.prototype},w.compare=function(xe,Ee){if(Je(xe,Uint8Array)&&(xe=w.from(xe,xe.offset,xe.byteLength)),Je(Ee,Uint8Array)&&(Ee=w.from(Ee,Ee.offset,Ee.byteLength)),!w.isBuffer(xe)||!w.isBuffer(Ee))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(xe===Ee)return 0;for(var Pe=xe.length,Ue=Ee.length,$e=0,qe=Math.min(Pe,Ue);$e<qe;++$e)if(xe[$e]!==Ee[$e]){Pe=xe[$e],Ue=Ee[$e];break}return Pe<Ue?-1:Ue<Pe?1:0},w.isEncoding=function(xe){switch(String(xe).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},w.concat=function(xe,Ee){if(!Array.isArray(xe))throw new TypeError('"list" argument must be an Array of Buffers');if(xe.length===0)return w.alloc(0);var Pe;if(Ee===void 0)for(Ee=0,Pe=0;Pe<xe.length;++Pe)Ee+=xe[Pe].length;var Ue=w.allocUnsafe(Ee),$e=0;for(Pe=0;Pe<xe.length;++Pe){var qe=xe[Pe];if(Je(qe,Uint8Array))$e+qe.length>Ue.length?(w.isBuffer(qe)||(qe=w.from(qe)),qe.copy(Ue,$e)):Uint8Array.prototype.set.call(Ue,qe,$e);else if(w.isBuffer(qe))qe.copy(Ue,$e);else throw new TypeError('"list" argument must be an Array of Buffers');$e+=qe.length}return Ue};function V(we,xe){if(w.isBuffer(we))return we.length;if(ArrayBuffer.isView(we)||Je(we,ArrayBuffer))return we.byteLength;if(typeof we!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+l(we));var Ee=we.length,Pe=arguments.length>2&&arguments[2]===!0;if(!Pe&&Ee===0)return 0;for(var Ue=!1;;)switch(xe){case"ascii":case"latin1":case"binary":return Ee;case"utf8":case"utf-8":return yt(we).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ee*2;case"hex":return Ee>>>1;case"base64":return Ct(we).length;default:if(Ue)return Pe?-1:yt(we).length;xe=(""+xe).toLowerCase(),Ue=!0}}w.byteLength=V;function j(we,xe,Ee){var Pe=!1;if((xe===void 0||xe<0)&&(xe=0),xe>this.length||((Ee===void 0||Ee>this.length)&&(Ee=this.length),Ee<=0)||(Ee>>>=0,xe>>>=0,Ee<=xe))return"";for(we||(we="utf8");;)switch(we){case"hex":return he(this,xe,Ee);case"utf8":case"utf-8":return le(this,xe,Ee);case"ascii":return ue(this,xe,Ee);case"latin1":case"binary":return se(this,xe,Ee);case"base64":return re(this,xe,Ee);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return me(this,xe,Ee);default:if(Pe)throw new TypeError("Unknown encoding: "+we);we=(we+"").toLowerCase(),Pe=!0}}w.prototype._isBuffer=!0;function $(we,xe,Ee){var Pe=we[xe];we[xe]=we[Ee],we[Ee]=Pe}w.prototype.swap16=function(){var xe=this.length;if(xe%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Ee=0;Ee<xe;Ee+=2)$(this,Ee,Ee+1);return this},w.prototype.swap32=function(){var xe=this.length;if(xe%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Ee=0;Ee<xe;Ee+=4)$(this,Ee,Ee+3),$(this,Ee+1,Ee+2);return this},w.prototype.swap64=function(){var xe=this.length;if(xe%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Ee=0;Ee<xe;Ee+=8)$(this,Ee,Ee+7),$(this,Ee+1,Ee+6),$(this,Ee+2,Ee+5),$(this,Ee+3,Ee+4);return this},w.prototype.toString=function(){var xe=this.length;return xe===0?"":arguments.length===0?le(this,0,xe):j.apply(this,arguments)},w.prototype.toLocaleString=w.prototype.toString,w.prototype.equals=function(xe){if(!w.isBuffer(xe))throw new TypeError("Argument must be a Buffer");return this===xe?!0:w.compare(this,xe)===0},w.prototype.inspect=function(){var xe="",Ee=y.h2;return xe=this.toString("hex",0,Ee).replace(/(.{2})/g,"$1 ").trim(),this.length>Ee&&(xe+=" ... "),"<Buffer "+xe+">"},S&&(w.prototype[S]=w.prototype.inspect),w.prototype.compare=function(xe,Ee,Pe,Ue,$e){if(Je(xe,Uint8Array)&&(xe=w.from(xe,xe.offset,xe.byteLength)),!w.isBuffer(xe))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+l(xe));if(Ee===void 0&&(Ee=0),Pe===void 0&&(Pe=xe?xe.length:0),Ue===void 0&&(Ue=0),$e===void 0&&($e=this.length),Ee<0||Pe>xe.length||Ue<0||$e>this.length)throw new RangeError("out of range index");if(Ue>=$e&&Ee>=Pe)return 0;if(Ue>=$e)return-1;if(Ee>=Pe)return 1;if(Ee>>>=0,Pe>>>=0,Ue>>>=0,$e>>>=0,this===xe)return 0;for(var qe=$e-Ue,dt=Pe-Ee,bt=Math.min(qe,dt),Gt=this.slice(Ue,$e),Qt=xe.slice(Ee,Pe),At=0;At<bt;++At)if(Gt[At]!==Qt[At]){qe=Gt[At],dt=Qt[At];break}return qe<dt?-1:dt<qe?1:0};function ne(we,xe,Ee,Pe,Ue){if(we.length===0)return-1;if(typeof Ee=="string"?(Pe=Ee,Ee=0):Ee>2147483647?Ee=2147483647:Ee<-2147483648&&(Ee=-2147483648),Ee=+Ee,ze(Ee)&&(Ee=Ue?0:we.length-1),Ee<0&&(Ee=we.length+Ee),Ee>=we.length){if(Ue)return-1;Ee=we.length-1}else if(Ee<0)if(Ue)Ee=0;else return-1;if(typeof xe=="string"&&(xe=w.from(xe,Pe)),w.isBuffer(xe))return xe.length===0?-1:oe(we,xe,Ee,Pe,Ue);if(typeof xe=="number")return xe=xe&255,typeof Uint8Array.prototype.indexOf=="function"?Ue?Uint8Array.prototype.indexOf.call(we,xe,Ee):Uint8Array.prototype.lastIndexOf.call(we,xe,Ee):oe(we,[xe],Ee,Pe,Ue);throw new TypeError("val must be string, number or Buffer")}function oe(we,xe,Ee,Pe,Ue){var $e=1,qe=we.length,dt=xe.length;if(Pe!==void 0&&(Pe=String(Pe).toLowerCase(),Pe==="ucs2"||Pe==="ucs-2"||Pe==="utf16le"||Pe==="utf-16le")){if(we.length<2||xe.length<2)return-1;$e=2,qe/=2,dt/=2,Ee/=2}function bt($t,Ar){return $e===1?$t[Ar]:$t.readUInt16BE(Ar*$e)}var Gt;if(Ue){var Qt=-1;for(Gt=Ee;Gt<qe;Gt++)if(bt(we,Gt)===bt(xe,Qt===-1?0:Gt-Qt)){if(Qt===-1&&(Qt=Gt),Gt-Qt+1===dt)return Qt*$e}else Qt!==-1&&(Gt-=Gt-Qt),Qt=-1}else for(Ee+dt>qe&&(Ee=qe-dt),Gt=Ee;Gt>=0;Gt--){for(var At=!0,zt=0;zt<dt;zt++)if(bt(we,Gt+zt)!==bt(xe,zt)){At=!1;break}if(At)return Gt}return-1}w.prototype.includes=function(xe,Ee,Pe){return this.indexOf(xe,Ee,Pe)!==-1},w.prototype.indexOf=function(xe,Ee,Pe){return ne(this,xe,Ee,Pe,!0)},w.prototype.lastIndexOf=function(xe,Ee,Pe){return ne(this,xe,Ee,Pe,!1)};function ce(we,xe,Ee,Pe){Ee=Number(Ee)||0;var Ue=we.length-Ee;Pe?(Pe=Number(Pe),Pe>Ue&&(Pe=Ue)):Pe=Ue;var $e=xe.length;Pe>$e/2&&(Pe=$e/2);var qe;for(qe=0;qe<Pe;++qe){var dt=parseInt(xe.substr(qe*2,2),16);if(ze(dt))return qe;we[Ee+qe]=dt}return qe}function Q(we,xe,Ee,Pe){return Vt(yt(xe,we.length-Ee),we,Ee,Pe)}function Z(we,xe,Ee,Pe){return Vt(gt(xe),we,Ee,Pe)}function K(we,xe,Ee,Pe){return Vt(Ct(xe),we,Ee,Pe)}function J(we,xe,Ee,Pe){return Vt(Mt(xe,we.length-Ee),we,Ee,Pe)}w.prototype.write=function(xe,Ee,Pe,Ue){if(Ee===void 0)Ue="utf8",Pe=this.length,Ee=0;else if(Pe===void 0&&typeof Ee=="string")Ue=Ee,Pe=this.length,Ee=0;else if(isFinite(Ee))Ee=Ee>>>0,isFinite(Pe)?(Pe=Pe>>>0,Ue===void 0&&(Ue="utf8")):(Ue=Pe,Pe=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var $e=this.length-Ee;if((Pe===void 0||Pe>$e)&&(Pe=$e),xe.length>0&&(Pe<0||Ee<0)||Ee>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ue||(Ue="utf8");for(var qe=!1;;)switch(Ue){case"hex":return ce(this,xe,Ee,Pe);case"utf8":case"utf-8":return Q(this,xe,Ee,Pe);case"ascii":case"latin1":case"binary":return Z(this,xe,Ee,Pe);case"base64":return K(this,xe,Ee,Pe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return J(this,xe,Ee,Pe);default:if(qe)throw new TypeError("Unknown encoding: "+Ue);Ue=(""+Ue).toLowerCase(),qe=!0}},w.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function re(we,xe,Ee){return xe===0&&Ee===we.length?p.fromByteArray(we):p.fromByteArray(we.slice(xe,Ee))}function le(we,xe,Ee){Ee=Math.min(we.length,Ee);for(var Pe=[],Ue=xe;Ue<Ee;){var $e=we[Ue],qe=null,dt=$e>239?4:$e>223?3:$e>191?2:1;if(Ue+dt<=Ee){var bt=void 0,Gt=void 0,Qt=void 0,At=void 0;switch(dt){case 1:$e<128&&(qe=$e);break;case 2:bt=we[Ue+1],(bt&192)===128&&(At=($e&31)<<6|bt&63,At>127&&(qe=At));break;case 3:bt=we[Ue+1],Gt=we[Ue+2],(bt&192)===128&&(Gt&192)===128&&(At=($e&15)<<12|(bt&63)<<6|Gt&63,At>2047&&(At<55296||At>57343)&&(qe=At));break;case 4:bt=we[Ue+1],Gt=we[Ue+2],Qt=we[Ue+3],(bt&192)===128&&(Gt&192)===128&&(Qt&192)===128&&(At=($e&15)<<18|(bt&63)<<12|(Gt&63)<<6|Qt&63,At>65535&&At<1114112&&(qe=At))}}qe===null?(qe=65533,dt=1):qe>65535&&(qe-=65536,Pe.push(qe>>>10&1023|55296),qe=56320|qe&1023),Pe.push(qe),Ue+=dt}return ee(Pe)}var q=4096;function ee(we){var xe=we.length;if(xe<=q)return String.fromCharCode.apply(String,we);for(var Ee="",Pe=0;Pe<xe;)Ee+=String.fromCharCode.apply(String,we.slice(Pe,Pe+=q));return Ee}function ue(we,xe,Ee){var Pe="";Ee=Math.min(we.length,Ee);for(var Ue=xe;Ue<Ee;++Ue)Pe+=String.fromCharCode(we[Ue]&127);return Pe}function se(we,xe,Ee){var Pe="";Ee=Math.min(we.length,Ee);for(var Ue=xe;Ue<Ee;++Ue)Pe+=String.fromCharCode(we[Ue]);return Pe}function he(we,xe,Ee){var Pe=we.length;(!xe||xe<0)&&(xe=0),(!Ee||Ee<0||Ee>Pe)&&(Ee=Pe);for(var Ue="",$e=xe;$e<Ee;++$e)Ue+=_e[we[$e]];return Ue}function me(we,xe,Ee){for(var Pe=we.slice(xe,Ee),Ue="",$e=0;$e<Pe.length-1;$e+=2)Ue+=String.fromCharCode(Pe[$e]+Pe[$e+1]*256);return Ue}w.prototype.slice=function(xe,Ee){var Pe=this.length;xe=~~xe,Ee=Ee===void 0?Pe:~~Ee,xe<0?(xe+=Pe,xe<0&&(xe=0)):xe>Pe&&(xe=Pe),Ee<0?(Ee+=Pe,Ee<0&&(Ee=0)):Ee>Pe&&(Ee=Pe),Ee<xe&&(Ee=xe);var Ue=this.subarray(xe,Ee);return Object.setPrototypeOf(Ue,w.prototype),Ue};function Ce(we,xe,Ee){if(we%1!==0||we<0)throw new RangeError("offset is not uint");if(we+xe>Ee)throw new RangeError("Trying to access beyond buffer length")}w.prototype.readUintLE=w.prototype.readUIntLE=function(xe,Ee,Pe){xe=xe>>>0,Ee=Ee>>>0,Pe||Ce(xe,Ee,this.length);for(var Ue=this[xe],$e=1,qe=0;++qe<Ee&&($e*=256);)Ue+=this[xe+qe]*$e;return Ue},w.prototype.readUintBE=w.prototype.readUIntBE=function(xe,Ee,Pe){xe=xe>>>0,Ee=Ee>>>0,Pe||Ce(xe,Ee,this.length);for(var Ue=this[xe+--Ee],$e=1;Ee>0&&($e*=256);)Ue+=this[xe+--Ee]*$e;return Ue},w.prototype.readUint8=w.prototype.readUInt8=function(xe,Ee){return xe=xe>>>0,Ee||Ce(xe,1,this.length),this[xe]},w.prototype.readUint16LE=w.prototype.readUInt16LE=function(xe,Ee){return xe=xe>>>0,Ee||Ce(xe,2,this.length),this[xe]|this[xe+1]<<8},w.prototype.readUint16BE=w.prototype.readUInt16BE=function(xe,Ee){return xe=xe>>>0,Ee||Ce(xe,2,this.length),this[xe]<<8|this[xe+1]},w.prototype.readUint32LE=w.prototype.readUInt32LE=function(xe,Ee){return xe=xe>>>0,Ee||Ce(xe,4,this.length),(this[xe]|this[xe+1]<<8|this[xe+2]<<16)+this[xe+3]*16777216},w.prototype.readUint32BE=w.prototype.readUInt32BE=function(xe,Ee){return xe=xe>>>0,Ee||Ce(xe,4,this.length),this[xe]*16777216+(this[xe+1]<<16|this[xe+2]<<8|this[xe+3])},w.prototype.readBigUInt64LE=Be(function(xe){xe=xe>>>0,et(xe,"offset");var Ee=this[xe],Pe=this[xe+7];(Ee===void 0||Pe===void 0)&&tt(xe,this.length-8);var Ue=Ee+this[++xe]*Math.pow(2,8)+this[++xe]*Math.pow(2,16)+this[++xe]*Math.pow(2,24),$e=this[++xe]+this[++xe]*Math.pow(2,8)+this[++xe]*Math.pow(2,16)+Pe*Math.pow(2,24);return BigInt(Ue)+(BigInt($e)<<BigInt(32))}),w.prototype.readBigUInt64BE=Be(function(xe){xe=xe>>>0,et(xe,"offset");var Ee=this[xe],Pe=this[xe+7];(Ee===void 0||Pe===void 0)&&tt(xe,this.length-8);var Ue=Ee*Math.pow(2,24)+this[++xe]*Math.pow(2,16)+this[++xe]*Math.pow(2,8)+this[++xe],$e=this[++xe]*Math.pow(2,24)+this[++xe]*Math.pow(2,16)+this[++xe]*Math.pow(2,8)+Pe;return(BigInt(Ue)<<BigInt(32))+BigInt($e)}),w.prototype.readIntLE=function(xe,Ee,Pe){xe=xe>>>0,Ee=Ee>>>0,Pe||Ce(xe,Ee,this.length);for(var Ue=this[xe],$e=1,qe=0;++qe<Ee&&($e*=256);)Ue+=this[xe+qe]*$e;return $e*=128,Ue>=$e&&(Ue-=Math.pow(2,8*Ee)),Ue},w.prototype.readIntBE=function(xe,Ee,Pe){xe=xe>>>0,Ee=Ee>>>0,Pe||Ce(xe,Ee,this.length);for(var Ue=Ee,$e=1,qe=this[xe+--Ue];Ue>0&&($e*=256);)qe+=this[xe+--Ue]*$e;return $e*=128,qe>=$e&&(qe-=Math.pow(2,8*Ee)),qe},w.prototype.readInt8=function(xe,Ee){return xe=xe>>>0,Ee||Ce(xe,1,this.length),this[xe]&128?(255-this[xe]+1)*-1:this[xe]},w.prototype.readInt16LE=function(xe,Ee){xe=xe>>>0,Ee||Ce(xe,2,this.length);var Pe=this[xe]|this[xe+1]<<8;return Pe&32768?Pe|4294901760:Pe},w.prototype.readInt16BE=function(xe,Ee){xe=xe>>>0,Ee||Ce(xe,2,this.length);var Pe=this[xe+1]|this[xe]<<8;return Pe&32768?Pe|4294901760:Pe},w.prototype.readInt32LE=function(xe,Ee){return xe=xe>>>0,Ee||Ce(xe,4,this.length),this[xe]|this[xe+1]<<8|this[xe+2]<<16|this[xe+3]<<24},w.prototype.readInt32BE=function(xe,Ee){return xe=xe>>>0,Ee||Ce(xe,4,this.length),this[xe]<<24|this[xe+1]<<16|this[xe+2]<<8|this[xe+3]},w.prototype.readBigInt64LE=Be(function(xe){xe=xe>>>0,et(xe,"offset");var Ee=this[xe],Pe=this[xe+7];(Ee===void 0||Pe===void 0)&&tt(xe,this.length-8);var Ue=this[xe+4]+this[xe+5]*Math.pow(2,8)+this[xe+6]*Math.pow(2,16)+(Pe<<24);return(BigInt(Ue)<<BigInt(32))+BigInt(Ee+this[++xe]*Math.pow(2,8)+this[++xe]*Math.pow(2,16)+this[++xe]*Math.pow(2,24))}),w.prototype.readBigInt64BE=Be(function(xe){xe=xe>>>0,et(xe,"offset");var Ee=this[xe],Pe=this[xe+7];(Ee===void 0||Pe===void 0)&&tt(xe,this.length-8);var Ue=(Ee<<24)+this[++xe]*Math.pow(2,16)+this[++xe]*Math.pow(2,8)+this[++xe];return(BigInt(Ue)<<BigInt(32))+BigInt(this[++xe]*Math.pow(2,24)+this[++xe]*Math.pow(2,16)+this[++xe]*Math.pow(2,8)+Pe)}),w.prototype.readFloatLE=function(xe,Ee){return xe=xe>>>0,Ee||Ce(xe,4,this.length),M.read(this,xe,!0,23,4)},w.prototype.readFloatBE=function(xe,Ee){return xe=xe>>>0,Ee||Ce(xe,4,this.length),M.read(this,xe,!1,23,4)},w.prototype.readDoubleLE=function(xe,Ee){return xe=xe>>>0,Ee||Ce(xe,8,this.length),M.read(this,xe,!0,52,8)},w.prototype.readDoubleBE=function(xe,Ee){return xe=xe>>>0,Ee||Ce(xe,8,this.length),M.read(this,xe,!1,52,8)};function Te(we,xe,Ee,Pe,Ue,$e){if(!w.isBuffer(we))throw new TypeError('"buffer" argument must be a Buffer instance');if(xe>Ue||xe<$e)throw new RangeError('"value" argument is out of bounds');if(Ee+Pe>we.length)throw new RangeError("Index out of range")}w.prototype.writeUintLE=w.prototype.writeUIntLE=function(xe,Ee,Pe,Ue){if(xe=+xe,Ee=Ee>>>0,Pe=Pe>>>0,!Ue){var $e=Math.pow(2,8*Pe)-1;Te(this,xe,Ee,Pe,$e,0)}var qe=1,dt=0;for(this[Ee]=xe&255;++dt<Pe&&(qe*=256);)this[Ee+dt]=xe/qe&255;return Ee+Pe},w.prototype.writeUintBE=w.prototype.writeUIntBE=function(xe,Ee,Pe,Ue){if(xe=+xe,Ee=Ee>>>0,Pe=Pe>>>0,!Ue){var $e=Math.pow(2,8*Pe)-1;Te(this,xe,Ee,Pe,$e,0)}var qe=Pe-1,dt=1;for(this[Ee+qe]=xe&255;--qe>=0&&(dt*=256);)this[Ee+qe]=xe/dt&255;return Ee+Pe},w.prototype.writeUint8=w.prototype.writeUInt8=function(xe,Ee,Pe){return xe=+xe,Ee=Ee>>>0,Pe||Te(this,xe,Ee,1,255,0),this[Ee]=xe&255,Ee+1},w.prototype.writeUint16LE=w.prototype.writeUInt16LE=function(xe,Ee,Pe){return xe=+xe,Ee=Ee>>>0,Pe||Te(this,xe,Ee,2,65535,0),this[Ee]=xe&255,this[Ee+1]=xe>>>8,Ee+2},w.prototype.writeUint16BE=w.prototype.writeUInt16BE=function(xe,Ee,Pe){return xe=+xe,Ee=Ee>>>0,Pe||Te(this,xe,Ee,2,65535,0),this[Ee]=xe>>>8,this[Ee+1]=xe&255,Ee+2},w.prototype.writeUint32LE=w.prototype.writeUInt32LE=function(xe,Ee,Pe){return xe=+xe,Ee=Ee>>>0,Pe||Te(this,xe,Ee,4,4294967295,0),this[Ee+3]=xe>>>24,this[Ee+2]=xe>>>16,this[Ee+1]=xe>>>8,this[Ee]=xe&255,Ee+4},w.prototype.writeUint32BE=w.prototype.writeUInt32BE=function(xe,Ee,Pe){return xe=+xe,Ee=Ee>>>0,Pe||Te(this,xe,Ee,4,4294967295,0),this[Ee]=xe>>>24,this[Ee+1]=xe>>>16,this[Ee+2]=xe>>>8,this[Ee+3]=xe&255,Ee+4};function Oe(we,xe,Ee,Pe,Ue){it(xe,Pe,Ue,we,Ee,7);var $e=Number(xe&BigInt(4294967295));we[Ee++]=$e,$e=$e>>8,we[Ee++]=$e,$e=$e>>8,we[Ee++]=$e,$e=$e>>8,we[Ee++]=$e;var qe=Number(xe>>BigInt(32)&BigInt(4294967295));return we[Ee++]=qe,qe=qe>>8,we[Ee++]=qe,qe=qe>>8,we[Ee++]=qe,qe=qe>>8,we[Ee++]=qe,Ee}function Ne(we,xe,Ee,Pe,Ue){it(xe,Pe,Ue,we,Ee,7);var $e=Number(xe&BigInt(4294967295));we[Ee+7]=$e,$e=$e>>8,we[Ee+6]=$e,$e=$e>>8,we[Ee+5]=$e,$e=$e>>8,we[Ee+4]=$e;var qe=Number(xe>>BigInt(32)&BigInt(4294967295));return we[Ee+3]=qe,qe=qe>>8,we[Ee+2]=qe,qe=qe>>8,we[Ee+1]=qe,qe=qe>>8,we[Ee]=qe,Ee+8}w.prototype.writeBigUInt64LE=Be(function(xe){var Ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Oe(this,xe,Ee,BigInt(0),BigInt("0xffffffffffffffff"))}),w.prototype.writeBigUInt64BE=Be(function(xe){var Ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Ne(this,xe,Ee,BigInt(0),BigInt("0xffffffffffffffff"))}),w.prototype.writeIntLE=function(xe,Ee,Pe,Ue){if(xe=+xe,Ee=Ee>>>0,!Ue){var $e=Math.pow(2,8*Pe-1);Te(this,xe,Ee,Pe,$e-1,-$e)}var qe=0,dt=1,bt=0;for(this[Ee]=xe&255;++qe<Pe&&(dt*=256);)xe<0&&bt===0&&this[Ee+qe-1]!==0&&(bt=1),this[Ee+qe]=(xe/dt>>0)-bt&255;return Ee+Pe},w.prototype.writeIntBE=function(xe,Ee,Pe,Ue){if(xe=+xe,Ee=Ee>>>0,!Ue){var $e=Math.pow(2,8*Pe-1);Te(this,xe,Ee,Pe,$e-1,-$e)}var qe=Pe-1,dt=1,bt=0;for(this[Ee+qe]=xe&255;--qe>=0&&(dt*=256);)xe<0&&bt===0&&this[Ee+qe+1]!==0&&(bt=1),this[Ee+qe]=(xe/dt>>0)-bt&255;return Ee+Pe},w.prototype.writeInt8=function(xe,Ee,Pe){return xe=+xe,Ee=Ee>>>0,Pe||Te(this,xe,Ee,1,127,-128),xe<0&&(xe=255+xe+1),this[Ee]=xe&255,Ee+1},w.prototype.writeInt16LE=function(xe,Ee,Pe){return xe=+xe,Ee=Ee>>>0,Pe||Te(this,xe,Ee,2,32767,-32768),this[Ee]=xe&255,this[Ee+1]=xe>>>8,Ee+2},w.prototype.writeInt16BE=function(xe,Ee,Pe){return xe=+xe,Ee=Ee>>>0,Pe||Te(this,xe,Ee,2,32767,-32768),this[Ee]=xe>>>8,this[Ee+1]=xe&255,Ee+2},w.prototype.writeInt32LE=function(xe,Ee,Pe){return xe=+xe,Ee=Ee>>>0,Pe||Te(this,xe,Ee,4,2147483647,-2147483648),this[Ee]=xe&255,this[Ee+1]=xe>>>8,this[Ee+2]=xe>>>16,this[Ee+3]=xe>>>24,Ee+4},w.prototype.writeInt32BE=function(xe,Ee,Pe){return xe=+xe,Ee=Ee>>>0,Pe||Te(this,xe,Ee,4,2147483647,-2147483648),xe<0&&(xe=4294967295+xe+1),this[Ee]=xe>>>24,this[Ee+1]=xe>>>16,this[Ee+2]=xe>>>8,this[Ee+3]=xe&255,Ee+4},w.prototype.writeBigInt64LE=Be(function(xe){var Ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Oe(this,xe,Ee,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),w.prototype.writeBigInt64BE=Be(function(xe){var Ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Ne(this,xe,Ee,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Le(we,xe,Ee,Pe,Ue,$e){if(Ee+Pe>we.length)throw new RangeError("Index out of range");if(Ee<0)throw new RangeError("Index out of range")}function be(we,xe,Ee,Pe,Ue){return xe=+xe,Ee=Ee>>>0,Ue||Le(we,xe,Ee,4),M.write(we,xe,Ee,Pe,23,4),Ee+4}w.prototype.writeFloatLE=function(xe,Ee,Pe){return be(this,xe,Ee,!0,Pe)},w.prototype.writeFloatBE=function(xe,Ee,Pe){return be(this,xe,Ee,!1,Pe)};function Ae(we,xe,Ee,Pe,Ue){return xe=+xe,Ee=Ee>>>0,Ue||Le(we,xe,Ee,8),M.write(we,xe,Ee,Pe,52,8),Ee+8}w.prototype.writeDoubleLE=function(xe,Ee,Pe){return Ae(this,xe,Ee,!0,Pe)},w.prototype.writeDoubleBE=function(xe,Ee,Pe){return Ae(this,xe,Ee,!1,Pe)},w.prototype.copy=function(xe,Ee,Pe,Ue){if(!w.isBuffer(xe))throw new TypeError("argument should be a Buffer");if(Pe||(Pe=0),!Ue&&Ue!==0&&(Ue=this.length),Ee>=xe.length&&(Ee=xe.length),Ee||(Ee=0),Ue>0&&Ue<Pe&&(Ue=Pe),Ue===Pe||xe.length===0||this.length===0)return 0;if(Ee<0)throw new RangeError("targetStart out of bounds");if(Pe<0||Pe>=this.length)throw new RangeError("Index out of range");if(Ue<0)throw new RangeError("sourceEnd out of bounds");Ue>this.length&&(Ue=this.length),xe.length-Ee<Ue-Pe&&(Ue=xe.length-Ee+Pe);var $e=Ue-Pe;return this===xe&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Ee,Pe,Ue):Uint8Array.prototype.set.call(xe,this.subarray(Pe,Ue),Ee),$e},w.prototype.fill=function(xe,Ee,Pe,Ue){if(typeof xe=="string"){if(typeof Ee=="string"?(Ue=Ee,Ee=0,Pe=this.length):typeof Pe=="string"&&(Ue=Pe,Pe=this.length),Ue!==void 0&&typeof Ue!="string")throw new TypeError("encoding must be a string");if(typeof Ue=="string"&&!w.isEncoding(Ue))throw new TypeError("Unknown encoding: "+Ue);if(xe.length===1){var $e=xe.charCodeAt(0);(Ue==="utf8"&&$e<128||Ue==="latin1")&&(xe=$e)}}else typeof xe=="number"?xe=xe&255:typeof xe=="boolean"&&(xe=Number(xe));if(Ee<0||this.length<Ee||this.length<Pe)throw new RangeError("Out of range index");if(Pe<=Ee)return this;Ee=Ee>>>0,Pe=Pe===void 0?this.length:Pe>>>0,xe||(xe=0);var qe;if(typeof xe=="number")for(qe=Ee;qe<Pe;++qe)this[qe]=xe;else{var dt=w.isBuffer(xe)?xe:w.from(xe,Ue),bt=dt.length;if(bt===0)throw new TypeError('The value "'+xe+'" is invalid for argument "value"');for(qe=0;qe<Pe-Ee;++qe)this[qe+Ee]=dt[qe%bt]}return this};var He={};function Ve(we,xe,Ee){He[we]=function(Pe){o($e,Pe);var Ue=u($e);function $e(){var qe;return r(this,$e),qe=Ue.call(this),Object.defineProperty(c(qe),"message",{value:xe.apply(c(qe),arguments),writable:!0,configurable:!0}),qe.name="".concat(qe.name," [").concat(we,"]"),qe.stack,delete qe.name,qe}return n($e,[{key:"code",get:function(){return we},set:function(dt){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:dt,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(we,"]: ").concat(this.message)}}]),$e}(Ee)}Ve("ERR_BUFFER_OUT_OF_BOUNDS",function(we){return we?"".concat(we," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),Ve("ERR_INVALID_ARG_TYPE",function(we,xe){return'The "'.concat(we,'" argument must be of type number. Received type ').concat(l(xe))},TypeError),Ve("ERR_OUT_OF_RANGE",function(we,xe,Ee){var Pe='The value of "'.concat(we,'" is out of range.'),Ue=Ee;return Number.isInteger(Ee)&&Math.abs(Ee)>Math.pow(2,32)?Ue=ke(String(Ee)):typeof Ee=="bigint"&&(Ue=String(Ee),(Ee>Math.pow(BigInt(2),BigInt(32))||Ee<-Math.pow(BigInt(2),BigInt(32)))&&(Ue=ke(Ue)),Ue+="n"),Pe+=" It must be ".concat(xe,". Received ").concat(Ue),Pe},RangeError);function ke(we){for(var xe="",Ee=we.length,Pe=we[0]==="-"?1:0;Ee>=Pe+4;Ee-=3)xe="_".concat(we.slice(Ee-3,Ee)).concat(xe);return"".concat(we.slice(0,Ee)).concat(xe)}function Ge(we,xe,Ee){et(xe,"offset"),(we[xe]===void 0||we[xe+Ee]===void 0)&&tt(xe,we.length-(Ee+1))}function it(we,xe,Ee,Pe,Ue,$e){if(we>Ee||we<xe){var qe=typeof xe=="bigint"?"n":"",dt;throw $e>3?xe===0||xe===BigInt(0)?dt=">= 0".concat(qe," and < 2").concat(qe," ** ").concat(($e+1)*8).concat(qe):dt=">= -(2".concat(qe," ** ").concat(($e+1)*8-1).concat(qe,") and < 2 ** ")+"".concat(($e+1)*8-1).concat(qe):dt=">= ".concat(xe).concat(qe," and <= ").concat(Ee).concat(qe),new He.ERR_OUT_OF_RANGE("value",dt,we)}Ge(Pe,Ue,$e)}function et(we,xe){if(typeof we!="number")throw new He.ERR_INVALID_ARG_TYPE(xe,"number",we)}function tt(we,xe,Ee){throw Math.floor(we)!==we?(et(we,Ee),new He.ERR_OUT_OF_RANGE(Ee||"offset","an integer",we)):xe<0?new He.ERR_BUFFER_OUT_OF_BOUNDS:new He.ERR_OUT_OF_RANGE(Ee||"offset",">= ".concat(Ee?1:0," and <= ").concat(xe),we)}var at=/[^+/0-9A-Za-z-_]/g;function vt(we){if(we=we.split("=")[0],we=we.trim().replace(at,""),we.length<2)return"";for(;we.length%4!==0;)we=we+"=";return we}function yt(we,xe){xe=xe||1/0;for(var Ee,Pe=we.length,Ue=null,$e=[],qe=0;qe<Pe;++qe){if(Ee=we.charCodeAt(qe),Ee>55295&&Ee<57344){if(!Ue){if(Ee>56319){(xe-=3)>-1&&$e.push(239,191,189);continue}else if(qe+1===Pe){(xe-=3)>-1&&$e.push(239,191,189);continue}Ue=Ee;continue}if(Ee<56320){(xe-=3)>-1&&$e.push(239,191,189),Ue=Ee;continue}Ee=(Ue-55296<<10|Ee-56320)+65536}else Ue&&(xe-=3)>-1&&$e.push(239,191,189);if(Ue=null,Ee<128){if((xe-=1)<0)break;$e.push(Ee)}else if(Ee<2048){if((xe-=2)<0)break;$e.push(Ee>>6|192,Ee&63|128)}else if(Ee<65536){if((xe-=3)<0)break;$e.push(Ee>>12|224,Ee>>6&63|128,Ee&63|128)}else if(Ee<1114112){if((xe-=4)<0)break;$e.push(Ee>>18|240,Ee>>12&63|128,Ee>>6&63|128,Ee&63|128)}else throw new Error("Invalid code point")}return $e}function gt(we){for(var xe=[],Ee=0;Ee<we.length;++Ee)xe.push(we.charCodeAt(Ee)&255);return xe}function Mt(we,xe){for(var Ee,Pe,Ue,$e=[],qe=0;qe<we.length&&!((xe-=2)<0);++qe)Ee=we.charCodeAt(qe),Pe=Ee>>8,Ue=Ee%256,$e.push(Ue),$e.push(Pe);return $e}function Ct(we){return p.toByteArray(vt(we))}function Vt(we,xe,Ee,Pe){var Ue;for(Ue=0;Ue<Pe&&!(Ue+Ee>=xe.length||Ue>=we.length);++Ue)xe[Ue+Ee]=we[Ue];return Ue}function Je(we,xe){return we instanceof xe||we!=null&&we.constructor!=null&&we.constructor.name!=null&&we.constructor.name===xe.name}function ze(we){return we!==we}var _e=function(){for(var we="0123456789abcdef",xe=new Array(256),Ee=0;Ee<16;++Ee)for(var Pe=Ee*16,Ue=0;Ue<16;++Ue)xe[Pe+Ue]=we[Ee]+we[Ue];return xe}();function Be(we){return typeof BigInt>"u"?De:we}function De(){throw new Error("BigInt not supported")}},2321:function(v){v.exports=s,v.exports.isMobile=s,v.exports.default=s;var y=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,t=/CrOS/,r=/android|ipad|playbook|silk/i;function s(n){n||(n={});var o=n.ua;if(!o&&typeof navigator<"u"&&(o=navigator.userAgent),o&&o.headers&&typeof o.headers["user-agent"]=="string"&&(o=o.headers["user-agent"]),typeof o!="string")return!1;var f=y.test(o)&&!t.test(o)||!!n.tablet&&r.test(o);return!f&&n.tablet&&n.featureDetect&&navigator&&navigator.maxTouchPoints>1&&o.indexOf("Macintosh")!==-1&&o.indexOf("Safari")!==-1&&(f=!0),f}},3910:function(v,y){y.byteLength=m,y.toByteArray=A,y.fromByteArray=p;for(var t=[],r=[],s=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,f=n.length;o<f;++o)t[o]=n[o],r[n.charCodeAt(o)]=o;r[45]=62,r[95]=63;function u(M){var S=M.length;if(S%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var P=M.indexOf("=");P===-1&&(P=S);var x=P===S?0:4-P%4;return[P,x]}function m(M){var S=u(M),P=S[0],x=S[1];return(P+x)*3/4-x}function c(M,S,P){return(S+P)*3/4-P}function A(M){var S,P=u(M),x=P[0],E=P[1],w=new s(c(M,x,E)),i=0,L=E>0?x-4:x,b;for(b=0;b<L;b+=4)S=r[M.charCodeAt(b)]<<18|r[M.charCodeAt(b+1)]<<12|r[M.charCodeAt(b+2)]<<6|r[M.charCodeAt(b+3)],w[i++]=S>>16&255,w[i++]=S>>8&255,w[i++]=S&255;return E===2&&(S=r[M.charCodeAt(b)]<<2|r[M.charCodeAt(b+1)]>>4,w[i++]=S&255),E===1&&(S=r[M.charCodeAt(b)]<<10|r[M.charCodeAt(b+1)]<<4|r[M.charCodeAt(b+2)]>>2,w[i++]=S>>8&255,w[i++]=S&255),w}function h(M){return t[M>>18&63]+t[M>>12&63]+t[M>>6&63]+t[M&63]}function l(M,S,P){for(var x,E=[],w=S;w<P;w+=3)x=(M[w]<<16&16711680)+(M[w+1]<<8&65280)+(M[w+2]&255),E.push(h(x));return E.join("")}function p(M){for(var S,P=M.length,x=P%3,E=[],w=16383,i=0,L=P-x;i<L;i+=w)E.push(l(M,i,i+w>L?L:i+w));return x===1?(S=M[P-1],E.push(t[S>>2]+t[S<<4&63]+"==")):x===2&&(S=(M[P-2]<<8)+M[P-1],E.push(t[S>>10]+t[S>>4&63]+t[S<<2&63]+"=")),E.join("")}},3187:function(v,y){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */y.read=function(t,r,s,n,o){var f,u,m=o*8-n-1,c=(1<<m)-1,A=c>>1,h=-7,l=s?o-1:0,p=s?-1:1,M=t[r+l];for(l+=p,f=M&(1<<-h)-1,M>>=-h,h+=m;h>0;f=f*256+t[r+l],l+=p,h-=8);for(u=f&(1<<-h)-1,f>>=-h,h+=n;h>0;u=u*256+t[r+l],l+=p,h-=8);if(f===0)f=1-A;else{if(f===c)return u?NaN:(M?-1:1)*(1/0);u=u+Math.pow(2,n),f=f-A}return(M?-1:1)*u*Math.pow(2,f-n)},y.write=function(t,r,s,n,o,f){var u,m,c,A=f*8-o-1,h=(1<<A)-1,l=h>>1,p=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,M=n?0:f-1,S=n?1:-1,P=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(m=isNaN(r)?1:0,u=h):(u=Math.floor(Math.log(r)/Math.LN2),r*(c=Math.pow(2,-u))<1&&(u--,c*=2),u+l>=1?r+=p/c:r+=p*Math.pow(2,1-l),r*c>=2&&(u++,c/=2),u+l>=h?(m=0,u=h):u+l>=1?(m=(r*c-1)*Math.pow(2,o),u=u+l):(m=r*Math.pow(2,l-1)*Math.pow(2,o),u=0));o>=8;t[s+M]=m&255,M+=S,m/=256,o-=8);for(u=u<<o|m,A+=o;A>0;t[s+M]=u&255,M+=S,u/=256,A-=8);t[s+M-S]|=P*128}},1152:function(v,y,t){v.exports=u;var r=t(3440),s=t(7774),n=t(9298);function o(m,c){this._controllerNames=Object.keys(m),this._controllerList=this._controllerNames.map(function(A){return m[A]}),this._mode=c,this._active=m[c],this._active||(this._mode="turntable",this._active=m.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}var f=o.prototype;f.flush=function(m){for(var c=this._controllerList,A=0;A<c.length;++A)c[A].flush(m)},f.idle=function(m){for(var c=this._controllerList,A=0;A<c.length;++A)c[A].idle(m)},f.lookAt=function(m,c,A,h){for(var l=this._controllerList,p=0;p<l.length;++p)l[p].lookAt(m,c,A,h)},f.rotate=function(m,c,A,h){for(var l=this._controllerList,p=0;p<l.length;++p)l[p].rotate(m,c,A,h)},f.pan=function(m,c,A,h){for(var l=this._controllerList,p=0;p<l.length;++p)l[p].pan(m,c,A,h)},f.translate=function(m,c,A,h){for(var l=this._controllerList,p=0;p<l.length;++p)l[p].translate(m,c,A,h)},f.setMatrix=function(m,c){for(var A=this._controllerList,h=0;h<A.length;++h)A[h].setMatrix(m,c)},f.setDistanceLimits=function(m,c){for(var A=this._controllerList,h=0;h<A.length;++h)A[h].setDistanceLimits(m,c)},f.setDistance=function(m,c){for(var A=this._controllerList,h=0;h<A.length;++h)A[h].setDistance(m,c)},f.recalcMatrix=function(m){this._active.recalcMatrix(m)},f.getDistance=function(m){return this._active.getDistance(m)},f.getDistanceLimits=function(m){return this._active.getDistanceLimits(m)},f.lastT=function(){return this._active.lastT()},f.setMode=function(m){if(m!==this._mode){var c=this._controllerNames.indexOf(m);if(!(c<0)){var A=this._active,h=this._controllerList[c],l=Math.max(A.lastT(),h.lastT());A.recalcMatrix(l),h.setMatrix(l,A.computedMatrix),this._active=h,this._mode=m,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},f.getMode=function(){return this._mode};function u(m){m=m||{};var c=m.eye||[0,0,1],A=m.center||[0,0,0],h=m.up||[0,1,0],l=m.distanceLimits||[0,1/0],p=m.mode||"turntable",M=r(),S=s(),P=n();return M.setDistanceLimits(l[0],l[1]),M.lookAt(0,c,A,h),S.setDistanceLimits(l[0],l[1]),S.lookAt(0,c,A,h),P.setDistanceLimits(l[0],l[1]),P.lookAt(0,c,A,h),new o({turntable:M,orbit:S,matrix:P},p)}},8126:function(v,y,t){var r=typeof WeakMap>"u"?t(5346):WeakMap,s=t(5827),n=t(2944),o=new r;function f(u){var m=o.get(u),c=m&&(m._triangleBuffer.handle||m._triangleBuffer.buffer);if(!c||!u.isBuffer(c)){var A=s(u,new Float32Array([-1,-1,-1,4,4,-1]));m=n(u,[{buffer:A,type:u.FLOAT,size:2}]),m._triangleBuffer=A,o.set(u,m)}m.bind(),u.drawArrays(u.TRIANGLES,0,3),m.unbind()}v.exports=f},8008:function(v,y,t){var r=t(4930);v.exports=s;function s(n,o,f){o=typeof o=="number"?o:1,f=f||": ";var u=n.split(/\r?\n/),m=String(u.length+o-1).length;return u.map(function(c,A){var h=A+o,l=String(h).length,p=r(h,m-l);return p+f+c}).join(`
`)}},2153:function(v,y,t){v.exports=n;var r=t(417);function s(o,f){for(var u=new Array(f+1),m=0;m<o.length;++m)u[m]=o[m];for(var m=0;m<=o.length;++m){for(var c=o.length;c<=f;++c){for(var A=new Array(f),h=0;h<f;++h)A[h]=Math.pow(c+1-m,h);u[c]=A}var l=r.apply(void 0,u);if(l)return!0}return!1}function n(o){var f=o.length;if(f===0)return[];if(f===1)return[0];for(var u=o[0].length,m=[o[0]],c=[0],A=1;A<f;++A){if(m.push(o[A]),!s(m,u)){m.pop();continue}if(c.push(A),c.length===u+1)return c}return c}},4653:function(v,y,t){v.exports=n;var r=t(4419),s=t(1778);function n(o,f){return r(f).filter(function(u){for(var m=new Array(u.length),c=0;c<u.length;++c)m[c]=f[u[c]];return s(m)*o<1})}},2350:function(v,y,t){v.exports=n;var r=t(4653),s=t(8691);function n(o,f){return s(r(o,f))}},7896:function(v){v.exports=function(t){return atob(t)}},957:function(v,y,t){v.exports=n;var r=t(6606);function s(o){for(var f=0,u=0;u<o.length;++u)f+=o[u];return f}function n(o,f){for(var u=f.length,m=new Array(u+1),c=0;c<u;++c){for(var A=new Array(u+1),h=0;h<=u;++h)A[h]=o[h][c];m[c]=A}m[u]=new Array(u+1);for(var c=0;c<=u;++c)m[u][c]=1;for(var l=new Array(u+1),c=0;c<u;++c)l[c]=f[c];l[u]=1;var p=r(m,l),M=s(p[u+1]);M===0&&(M=1);for(var S=new Array(u+1),c=0;c<=u;++c)S[c]=s(p[c])/M;return S}},1539:function(v,y,t){var r=t(8524);v.exports=s;function s(n,o){return r(n[0].mul(o[1]).add(o[0].mul(n[1])),n[1].mul(o[1]))}},8846:function(v){v.exports=y;function y(t,r){return t[0].mul(r[1]).cmp(r[0].mul(t[1]))}},9189:function(v,y,t){var r=t(8524);v.exports=s;function s(n,o){return r(n[0].mul(o[1]),n[1].mul(o[0]))}},5125:function(v,y,t){var r=t(234),s=t(3218),n=t(5514),o=t(2813),f=t(8524),u=t(9189);v.exports=m;function m(c,A){if(r(c))return A?u(c,m(A)):[c[0].clone(),c[1].clone()];var h=0,l,p;if(s(c))l=c.clone();else if(typeof c=="string")l=o(c);else{if(c===0)return[n(0),n(1)];if(c===Math.floor(c))l=n(c);else{for(;c!==Math.floor(c);)c=c*Math.pow(2,256),h-=256;l=n(c)}}if(r(A))l.mul(A[1]),p=A[0].clone();else if(s(A))p=A.clone();else if(typeof A=="string")p=o(A);else if(!A)p=n(1);else if(A===Math.floor(A))p=n(A);else{for(;A!==Math.floor(A);)A=A*Math.pow(2,256),h+=256;p=n(A)}return h>0?l=l.ushln(h):h<0&&(p=p.ushln(-h)),f(l,p)}},234:function(v,y,t){var r=t(3218);v.exports=s;function s(n){return Array.isArray(n)&&n.length===2&&r(n[0])&&r(n[1])}},4275:function(v,y,t){var r=t(1928);v.exports=s;function s(n){return n.cmp(new r(0))}},9958:function(v,y,t){var r=t(4275);v.exports=s;function s(n){var o=n.length,f=n.words,u=0;if(o===1)u=f[0];else if(o===2)u=f[0]+f[1]*67108864;else for(var m=0;m<o;m++){var c=f[m];u+=c*Math.pow(67108864,m)}return r(n)*u}},1112:function(v,y,t){var r=t(8362),s=t(2288).countTrailingZeros;v.exports=n;function n(o){var f=s(r.lo(o));if(f<32)return f;var u=s(r.hi(o));return u>20?52:u+32}},3218:function(v,y,t){t(1928),v.exports=r;function r(s){return s&&typeof s=="object"&&!!s.words}},5514:function(v,y,t){var r=t(1928),s=t(8362);v.exports=n;function n(o){var f=s.exponent(o);return f<52?new r(o):new r(o*Math.pow(2,52-f)).ushln(f-52)}},8524:function(v,y,t){var r=t(5514),s=t(4275);v.exports=n;function n(o,f){var u=s(o),m=s(f);if(u===0)return[r(0),r(1)];if(m===0)return[r(0),r(0)];m<0&&(o=o.neg(),f=f.neg());var c=o.gcd(f);return c.cmpn(1)?[o.div(c),f.div(c)]:[o,f]}},2813:function(v,y,t){var r=t(1928);v.exports=s;function s(n){return new r(n)}},3962:function(v,y,t){var r=t(8524);v.exports=s;function s(n,o){return r(n[0].mul(o[0]),n[1].mul(o[1]))}},4951:function(v,y,t){var r=t(4275);v.exports=s;function s(n){return r(n[0])*r(n[1])}},4354:function(v,y,t){var r=t(8524);v.exports=s;function s(n,o){return r(n[0].mul(o[1]).sub(n[1].mul(o[0])),n[1].mul(o[1]))}},7999:function(v,y,t){var r=t(9958),s=t(1112);v.exports=n;function n(o){var f=o[0],u=o[1];if(f.cmpn(0)===0)return 0;var m=f.abs().divmod(u.abs()),c=m.div,A=r(c),h=m.mod,l=f.negative!==u.negative?-1:1;if(h.cmpn(0)===0)return l*A;if(A){var p=s(A)+4,M=r(h.ushln(p).divRound(u));return l*(A+M*Math.pow(2,-p))}else{var S=u.bitLength()-h.bitLength()+53,M=r(h.ushln(S).divRound(u));return S<1023?l*M*Math.pow(2,-S):(M*=Math.pow(2,-1023),l*M*Math.pow(2,1023-S))}}},5070:function(v){function y(f,u,m,c,A){for(var h=A+1;c<=A;){var l=c+A>>>1,p=f[l],M=m!==void 0?m(p,u):p-u;M>=0?(h=l,A=l-1):c=l+1}return h}function t(f,u,m,c,A){for(var h=A+1;c<=A;){var l=c+A>>>1,p=f[l],M=m!==void 0?m(p,u):p-u;M>0?(h=l,A=l-1):c=l+1}return h}function r(f,u,m,c,A){for(var h=c-1;c<=A;){var l=c+A>>>1,p=f[l],M=m!==void 0?m(p,u):p-u;M<0?(h=l,c=l+1):A=l-1}return h}function s(f,u,m,c,A){for(var h=c-1;c<=A;){var l=c+A>>>1,p=f[l],M=m!==void 0?m(p,u):p-u;M<=0?(h=l,c=l+1):A=l-1}return h}function n(f,u,m,c,A){for(;c<=A;){var h=c+A>>>1,l=f[h],p=m!==void 0?m(l,u):l-u;if(p===0)return h;p<=0?c=h+1:A=h-1}return-1}function o(f,u,m,c,A,h){return typeof m=="function"?h(f,u,m,c===void 0?0:c|0,A===void 0?f.length-1:A|0):h(f,u,void 0,m===void 0?0:m|0,c===void 0?f.length-1:c|0)}v.exports={ge:function(f,u,m,c,A){return o(f,u,m,c,A,y)},gt:function(f,u,m,c,A){return o(f,u,m,c,A,t)},lt:function(f,u,m,c,A){return o(f,u,m,c,A,r)},le:function(f,u,m,c,A){return o(f,u,m,c,A,s)},eq:function(f,u,m,c,A){return o(f,u,m,c,A,n)}}},2288:function(v,y){"use restrict";var t=32;y.INT_BITS=t,y.INT_MAX=2147483647,y.INT_MIN=-1<<t-1,y.sign=function(n){return(n>0)-(n<0)},y.abs=function(n){var o=n>>t-1;return(n^o)-o},y.min=function(n,o){return o^(n^o)&-(n<o)},y.max=function(n,o){return n^(n^o)&-(n<o)},y.isPow2=function(n){return!(n&n-1)&&!!n},y.log2=function(n){var o,f;return o=(n>65535)<<4,n>>>=o,f=(n>255)<<3,n>>>=f,o|=f,f=(n>15)<<2,n>>>=f,o|=f,f=(n>3)<<1,n>>>=f,o|=f,o|n>>1},y.log10=function(n){return n>=1e9?9:n>=1e8?8:n>=1e7?7:n>=1e6?6:n>=1e5?5:n>=1e4?4:n>=1e3?3:n>=100?2:n>=10?1:0},y.popCount=function(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),(n+(n>>>4)&252645135)*16843009>>>24};function r(n){var o=32;return n&=-n,n&&o--,n&65535&&(o-=16),n&16711935&&(o-=8),n&252645135&&(o-=4),n&858993459&&(o-=2),n&1431655765&&(o-=1),o}y.countTrailingZeros=r,y.nextPow2=function(n){return n+=n===0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n+1},y.prevPow2=function(n){return n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n-(n>>>1)},y.parity=function(n){return n^=n>>>16,n^=n>>>8,n^=n>>>4,n&=15,27030>>>n&1};var s=new Array(256);(function(n){for(var o=0;o<256;++o){var f=o,u=o,m=7;for(f>>>=1;f;f>>>=1)u<<=1,u|=f&1,--m;n[o]=u<<m&255}})(s),y.reverse=function(n){return s[n&255]<<24|s[n>>>8&255]<<16|s[n>>>16&255]<<8|s[n>>>24&255]},y.interleave2=function(n,o){return n&=65535,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,o&=65535,o=(o|o<<8)&16711935,o=(o|o<<4)&252645135,o=(o|o<<2)&858993459,o=(o|o<<1)&1431655765,n|o<<1},y.deinterleave2=function(n,o){return n=n>>>o&1431655765,n=(n|n>>>1)&858993459,n=(n|n>>>2)&252645135,n=(n|n>>>4)&16711935,n=(n|n>>>16)&65535,n<<16>>16},y.interleave3=function(n,o,f){return n&=1023,n=(n|n<<16)&4278190335,n=(n|n<<8)&251719695,n=(n|n<<4)&3272356035,n=(n|n<<2)&1227133513,o&=1023,o=(o|o<<16)&4278190335,o=(o|o<<8)&251719695,o=(o|o<<4)&3272356035,o=(o|o<<2)&1227133513,n|=o<<1,f&=1023,f=(f|f<<16)&4278190335,f=(f|f<<8)&251719695,f=(f|f<<4)&3272356035,f=(f|f<<2)&1227133513,n|f<<2},y.deinterleave3=function(n,o){return n=n>>>o&1227133513,n=(n|n>>>2)&3272356035,n=(n|n>>>4)&251719695,n=(n|n>>>8)&4278190335,n=(n|n>>>16)&1023,n<<22>>22},y.nextCombination=function(n){var o=n|n-1;return o+1|(~o&-~o)-1>>>r(n)+1}},1928:function(v,y,t){v=t.nmd(v),function(r,s){function n(U,F){if(!U)throw new Error(F||"Assertion failed")}function o(U,F){U.super_=F;var V=function(){};V.prototype=F.prototype,U.prototype=new V,U.prototype.constructor=U}function f(U,F,V){if(f.isBN(U))return U;this.negative=0,this.words=null,this.length=0,this.red=null,U!==null&&((F==="le"||F==="be")&&(V=F,F=10),this._init(U||0,F||10,V||"be"))}typeof r=="object"?r.exports=f:s.BN=f,f.BN=f,f.wordSize=26;var u;try{typeof window<"u"&&typeof window.Buffer<"u"?u=window.Buffer:u=t(6601).Buffer}catch{}f.isBN=function(F){return F instanceof f?!0:F!==null&&typeof F=="object"&&F.constructor.wordSize===f.wordSize&&Array.isArray(F.words)},f.max=function(F,V){return F.cmp(V)>0?F:V},f.min=function(F,V){return F.cmp(V)<0?F:V},f.prototype._init=function(F,V,j){if(typeof F=="number")return this._initNumber(F,V,j);if(typeof F=="object")return this._initArray(F,V,j);V==="hex"&&(V=16),n(V===(V|0)&&V>=2&&V<=36),F=F.toString().replace(/\s+/g,"");var $=0;F[0]==="-"&&($++,this.negative=1),$<F.length&&(V===16?this._parseHex(F,$,j):(this._parseBase(F,V,$),j==="le"&&this._initArray(this.toArray(),V,j)))},f.prototype._initNumber=function(F,V,j){F<0&&(this.negative=1,F=-F),F<67108864?(this.words=[F&67108863],this.length=1):F<4503599627370496?(this.words=[F&67108863,F/67108864&67108863],this.length=2):(n(F<9007199254740992),this.words=[F&67108863,F/67108864&67108863,1],this.length=3),j==="le"&&this._initArray(this.toArray(),V,j)},f.prototype._initArray=function(F,V,j){if(n(typeof F.length=="number"),F.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(F.length/3),this.words=new Array(this.length);for(var $=0;$<this.length;$++)this.words[$]=0;var ne,oe,ce=0;if(j==="be")for($=F.length-1,ne=0;$>=0;$-=3)oe=F[$]|F[$-1]<<8|F[$-2]<<16,this.words[ne]|=oe<<ce&67108863,this.words[ne+1]=oe>>>26-ce&67108863,ce+=24,ce>=26&&(ce-=26,ne++);else if(j==="le")for($=0,ne=0;$<F.length;$+=3)oe=F[$]|F[$+1]<<8|F[$+2]<<16,this.words[ne]|=oe<<ce&67108863,this.words[ne+1]=oe>>>26-ce&67108863,ce+=24,ce>=26&&(ce-=26,ne++);return this.strip()};function m(U,F){var V=U.charCodeAt(F);return V>=65&&V<=70?V-55:V>=97&&V<=102?V-87:V-48&15}function c(U,F,V){var j=m(U,V);return V-1>=F&&(j|=m(U,V-1)<<4),j}f.prototype._parseHex=function(F,V,j){this.length=Math.ceil((F.length-V)/6),this.words=new Array(this.length);for(var $=0;$<this.length;$++)this.words[$]=0;var ne=0,oe=0,ce;if(j==="be")for($=F.length-1;$>=V;$-=2)ce=c(F,V,$)<<ne,this.words[oe]|=ce&67108863,ne>=18?(ne-=18,oe+=1,this.words[oe]|=ce>>>26):ne+=8;else{var Q=F.length-V;for($=Q%2===0?V+1:V;$<F.length;$+=2)ce=c(F,V,$)<<ne,this.words[oe]|=ce&67108863,ne>=18?(ne-=18,oe+=1,this.words[oe]|=ce>>>26):ne+=8}this.strip()};function A(U,F,V,j){for(var $=0,ne=Math.min(U.length,V),oe=F;oe<ne;oe++){var ce=U.charCodeAt(oe)-48;$*=j,ce>=49?$+=ce-49+10:ce>=17?$+=ce-17+10:$+=ce}return $}f.prototype._parseBase=function(F,V,j){this.words=[0],this.length=1;for(var $=0,ne=1;ne<=67108863;ne*=V)$++;$--,ne=ne/V|0;for(var oe=F.length-j,ce=oe%$,Q=Math.min(oe,oe-ce)+j,Z=0,K=j;K<Q;K+=$)Z=A(F,K,K+$,V),this.imuln(ne),this.words[0]+Z<67108864?this.words[0]+=Z:this._iaddn(Z);if(ce!==0){var J=1;for(Z=A(F,K,F.length,V),K=0;K<ce;K++)J*=V;this.imuln(J),this.words[0]+Z<67108864?this.words[0]+=Z:this._iaddn(Z)}this.strip()},f.prototype.copy=function(F){F.words=new Array(this.length);for(var V=0;V<this.length;V++)F.words[V]=this.words[V];F.length=this.length,F.negative=this.negative,F.red=this.red},f.prototype.clone=function(){var F=new f(null);return this.copy(F),F},f.prototype._expand=function(F){for(;this.length<F;)this.words[this.length++]=0;return this},f.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},f.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},f.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];f.prototype.toString=function(F,V){F=F||10,V=V|0||1;var j;if(F===16||F==="hex"){j="";for(var $=0,ne=0,oe=0;oe<this.length;oe++){var ce=this.words[oe],Q=((ce<<$|ne)&16777215).toString(16);ne=ce>>>24-$&16777215,ne!==0||oe!==this.length-1?j=h[6-Q.length]+Q+j:j=Q+j,$+=2,$>=26&&($-=26,oe--)}for(ne!==0&&(j=ne.toString(16)+j);j.length%V!==0;)j="0"+j;return this.negative!==0&&(j="-"+j),j}if(F===(F|0)&&F>=2&&F<=36){var Z=l[F],K=p[F];j="";var J=this.clone();for(J.negative=0;!J.isZero();){var re=J.modn(K).toString(F);J=J.idivn(K),J.isZero()?j=re+j:j=h[Z-re.length]+re+j}for(this.isZero()&&(j="0"+j);j.length%V!==0;)j="0"+j;return this.negative!==0&&(j="-"+j),j}n(!1,"Base should be between 2 and 36")},f.prototype.toNumber=function(){var F=this.words[0];return this.length===2?F+=this.words[1]*67108864:this.length===3&&this.words[2]===1?F+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-F:F},f.prototype.toJSON=function(){return this.toString(16)},f.prototype.toBuffer=function(F,V){return n(typeof u<"u"),this.toArrayLike(u,F,V)},f.prototype.toArray=function(F,V){return this.toArrayLike(Array,F,V)},f.prototype.toArrayLike=function(F,V,j){var $=this.byteLength(),ne=j||Math.max(1,$);n($<=ne,"byte array longer than desired length"),n(ne>0,"Requested array length <= 0"),this.strip();var oe=V==="le",ce=new F(ne),Q,Z,K=this.clone();if(oe){for(Z=0;!K.isZero();Z++)Q=K.andln(255),K.iushrn(8),ce[Z]=Q;for(;Z<ne;Z++)ce[Z]=0}else{for(Z=0;Z<ne-$;Z++)ce[Z]=0;for(Z=0;!K.isZero();Z++)Q=K.andln(255),K.iushrn(8),ce[ne-Z-1]=Q}return ce},Math.clz32?f.prototype._countBits=function(F){return 32-Math.clz32(F)}:f.prototype._countBits=function(F){var V=F,j=0;return V>=4096&&(j+=13,V>>>=13),V>=64&&(j+=7,V>>>=7),V>=8&&(j+=4,V>>>=4),V>=2&&(j+=2,V>>>=2),j+V},f.prototype._zeroBits=function(F){if(F===0)return 26;var V=F,j=0;return V&8191||(j+=13,V>>>=13),V&127||(j+=7,V>>>=7),V&15||(j+=4,V>>>=4),V&3||(j+=2,V>>>=2),V&1||j++,j},f.prototype.bitLength=function(){var F=this.words[this.length-1],V=this._countBits(F);return(this.length-1)*26+V};function M(U){for(var F=new Array(U.bitLength()),V=0;V<F.length;V++){var j=V/26|0,$=V%26;F[V]=(U.words[j]&1<<$)>>>$}return F}f.prototype.zeroBits=function(){if(this.isZero())return 0;for(var F=0,V=0;V<this.length;V++){var j=this._zeroBits(this.words[V]);if(F+=j,j!==26)break}return F},f.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},f.prototype.toTwos=function(F){return this.negative!==0?this.abs().inotn(F).iaddn(1):this.clone()},f.prototype.fromTwos=function(F){return this.testn(F-1)?this.notn(F).iaddn(1).ineg():this.clone()},f.prototype.isNeg=function(){return this.negative!==0},f.prototype.neg=function(){return this.clone().ineg()},f.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},f.prototype.iuor=function(F){for(;this.length<F.length;)this.words[this.length++]=0;for(var V=0;V<F.length;V++)this.words[V]=this.words[V]|F.words[V];return this.strip()},f.prototype.ior=function(F){return n((this.negative|F.negative)===0),this.iuor(F)},f.prototype.or=function(F){return this.length>F.length?this.clone().ior(F):F.clone().ior(this)},f.prototype.uor=function(F){return this.length>F.length?this.clone().iuor(F):F.clone().iuor(this)},f.prototype.iuand=function(F){var V;this.length>F.length?V=F:V=this;for(var j=0;j<V.length;j++)this.words[j]=this.words[j]&F.words[j];return this.length=V.length,this.strip()},f.prototype.iand=function(F){return n((this.negative|F.negative)===0),this.iuand(F)},f.prototype.and=function(F){return this.length>F.length?this.clone().iand(F):F.clone().iand(this)},f.prototype.uand=function(F){return this.length>F.length?this.clone().iuand(F):F.clone().iuand(this)},f.prototype.iuxor=function(F){var V,j;this.length>F.length?(V=this,j=F):(V=F,j=this);for(var $=0;$<j.length;$++)this.words[$]=V.words[$]^j.words[$];if(this!==V)for(;$<V.length;$++)this.words[$]=V.words[$];return this.length=V.length,this.strip()},f.prototype.ixor=function(F){return n((this.negative|F.negative)===0),this.iuxor(F)},f.prototype.xor=function(F){return this.length>F.length?this.clone().ixor(F):F.clone().ixor(this)},f.prototype.uxor=function(F){return this.length>F.length?this.clone().iuxor(F):F.clone().iuxor(this)},f.prototype.inotn=function(F){n(typeof F=="number"&&F>=0);var V=Math.ceil(F/26)|0,j=F%26;this._expand(V),j>0&&V--;for(var $=0;$<V;$++)this.words[$]=~this.words[$]&67108863;return j>0&&(this.words[$]=~this.words[$]&67108863>>26-j),this.strip()},f.prototype.notn=function(F){return this.clone().inotn(F)},f.prototype.setn=function(F,V){n(typeof F=="number"&&F>=0);var j=F/26|0,$=F%26;return this._expand(j+1),V?this.words[j]=this.words[j]|1<<$:this.words[j]=this.words[j]&~(1<<$),this.strip()},f.prototype.iadd=function(F){var V;if(this.negative!==0&&F.negative===0)return this.negative=0,V=this.isub(F),this.negative^=1,this._normSign();if(this.negative===0&&F.negative!==0)return F.negative=0,V=this.isub(F),F.negative=1,V._normSign();var j,$;this.length>F.length?(j=this,$=F):(j=F,$=this);for(var ne=0,oe=0;oe<$.length;oe++)V=(j.words[oe]|0)+($.words[oe]|0)+ne,this.words[oe]=V&67108863,ne=V>>>26;for(;ne!==0&&oe<j.length;oe++)V=(j.words[oe]|0)+ne,this.words[oe]=V&67108863,ne=V>>>26;if(this.length=j.length,ne!==0)this.words[this.length]=ne,this.length++;else if(j!==this)for(;oe<j.length;oe++)this.words[oe]=j.words[oe];return this},f.prototype.add=function(F){var V;return F.negative!==0&&this.negative===0?(F.negative=0,V=this.sub(F),F.negative^=1,V):F.negative===0&&this.negative!==0?(this.negative=0,V=F.sub(this),this.negative=1,V):this.length>F.length?this.clone().iadd(F):F.clone().iadd(this)},f.prototype.isub=function(F){if(F.negative!==0){F.negative=0;var V=this.iadd(F);return F.negative=1,V._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(F),this.negative=1,this._normSign();var j=this.cmp(F);if(j===0)return this.negative=0,this.length=1,this.words[0]=0,this;var $,ne;j>0?($=this,ne=F):($=F,ne=this);for(var oe=0,ce=0;ce<ne.length;ce++)V=($.words[ce]|0)-(ne.words[ce]|0)+oe,oe=V>>26,this.words[ce]=V&67108863;for(;oe!==0&&ce<$.length;ce++)V=($.words[ce]|0)+oe,oe=V>>26,this.words[ce]=V&67108863;if(oe===0&&ce<$.length&&$!==this)for(;ce<$.length;ce++)this.words[ce]=$.words[ce];return this.length=Math.max(this.length,ce),$!==this&&(this.negative=1),this.strip()},f.prototype.sub=function(F){return this.clone().isub(F)};function S(U,F,V){V.negative=F.negative^U.negative;var j=U.length+F.length|0;V.length=j,j=j-1|0;var $=U.words[0]|0,ne=F.words[0]|0,oe=$*ne,ce=oe&67108863,Q=oe/67108864|0;V.words[0]=ce;for(var Z=1;Z<j;Z++){for(var K=Q>>>26,J=Q&67108863,re=Math.min(Z,F.length-1),le=Math.max(0,Z-U.length+1);le<=re;le++){var q=Z-le|0;$=U.words[q]|0,ne=F.words[le]|0,oe=$*ne+J,K+=oe/67108864|0,J=oe&67108863}V.words[Z]=J|0,Q=K|0}return Q!==0?V.words[Z]=Q|0:V.length--,V.strip()}var P=function(F,V,j){var $=F.words,ne=V.words,oe=j.words,ce=0,Q,Z,K,J=$[0]|0,re=J&8191,le=J>>>13,q=$[1]|0,ee=q&8191,ue=q>>>13,se=$[2]|0,he=se&8191,me=se>>>13,Ce=$[3]|0,Te=Ce&8191,Oe=Ce>>>13,Ne=$[4]|0,Le=Ne&8191,be=Ne>>>13,Ae=$[5]|0,He=Ae&8191,Ve=Ae>>>13,ke=$[6]|0,Ge=ke&8191,it=ke>>>13,et=$[7]|0,tt=et&8191,at=et>>>13,vt=$[8]|0,yt=vt&8191,gt=vt>>>13,Mt=$[9]|0,Ct=Mt&8191,Vt=Mt>>>13,Je=ne[0]|0,ze=Je&8191,_e=Je>>>13,Be=ne[1]|0,De=Be&8191,we=Be>>>13,xe=ne[2]|0,Ee=xe&8191,Pe=xe>>>13,Ue=ne[3]|0,$e=Ue&8191,qe=Ue>>>13,dt=ne[4]|0,bt=dt&8191,Gt=dt>>>13,Qt=ne[5]|0,At=Qt&8191,zt=Qt>>>13,$t=ne[6]|0,Ar=$t&8191,ut=$t>>>13,Yt=ne[7]|0,Kt=Yt&8191,mr=Yt>>>13,ur=ne[8]|0,pt=ur&8191,st=ur>>>13,xt=ne[9]|0,St=xt&8191,Dt=xt>>>13;j.negative=F.negative^V.negative,j.length=19,Q=Math.imul(re,ze),Z=Math.imul(re,_e),Z=Z+Math.imul(le,ze)|0,K=Math.imul(le,_e);var Rt=(ce+Q|0)+((Z&8191)<<13)|0;ce=(K+(Z>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,Q=Math.imul(ee,ze),Z=Math.imul(ee,_e),Z=Z+Math.imul(ue,ze)|0,K=Math.imul(ue,_e),Q=Q+Math.imul(re,De)|0,Z=Z+Math.imul(re,we)|0,Z=Z+Math.imul(le,De)|0,K=K+Math.imul(le,we)|0;var Bt=(ce+Q|0)+((Z&8191)<<13)|0;ce=(K+(Z>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,Q=Math.imul(he,ze),Z=Math.imul(he,_e),Z=Z+Math.imul(me,ze)|0,K=Math.imul(me,_e),Q=Q+Math.imul(ee,De)|0,Z=Z+Math.imul(ee,we)|0,Z=Z+Math.imul(ue,De)|0,K=K+Math.imul(ue,we)|0,Q=Q+Math.imul(re,Ee)|0,Z=Z+Math.imul(re,Pe)|0,Z=Z+Math.imul(le,Ee)|0,K=K+Math.imul(le,Pe)|0;var Nt=(ce+Q|0)+((Z&8191)<<13)|0;ce=(K+(Z>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,Q=Math.imul(Te,ze),Z=Math.imul(Te,_e),Z=Z+Math.imul(Oe,ze)|0,K=Math.imul(Oe,_e),Q=Q+Math.imul(he,De)|0,Z=Z+Math.imul(he,we)|0,Z=Z+Math.imul(me,De)|0,K=K+Math.imul(me,we)|0,Q=Q+Math.imul(ee,Ee)|0,Z=Z+Math.imul(ee,Pe)|0,Z=Z+Math.imul(ue,Ee)|0,K=K+Math.imul(ue,Pe)|0,Q=Q+Math.imul(re,$e)|0,Z=Z+Math.imul(re,qe)|0,Z=Z+Math.imul(le,$e)|0,K=K+Math.imul(le,qe)|0;var Xt=(ce+Q|0)+((Z&8191)<<13)|0;ce=(K+(Z>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,Q=Math.imul(Le,ze),Z=Math.imul(Le,_e),Z=Z+Math.imul(be,ze)|0,K=Math.imul(be,_e),Q=Q+Math.imul(Te,De)|0,Z=Z+Math.imul(Te,we)|0,Z=Z+Math.imul(Oe,De)|0,K=K+Math.imul(Oe,we)|0,Q=Q+Math.imul(he,Ee)|0,Z=Z+Math.imul(he,Pe)|0,Z=Z+Math.imul(me,Ee)|0,K=K+Math.imul(me,Pe)|0,Q=Q+Math.imul(ee,$e)|0,Z=Z+Math.imul(ee,qe)|0,Z=Z+Math.imul(ue,$e)|0,K=K+Math.imul(ue,qe)|0,Q=Q+Math.imul(re,bt)|0,Z=Z+Math.imul(re,Gt)|0,Z=Z+Math.imul(le,bt)|0,K=K+Math.imul(le,Gt)|0;var lr=(ce+Q|0)+((Z&8191)<<13)|0;ce=(K+(Z>>>13)|0)+(lr>>>26)|0,lr&=67108863,Q=Math.imul(He,ze),Z=Math.imul(He,_e),Z=Z+Math.imul(Ve,ze)|0,K=Math.imul(Ve,_e),Q=Q+Math.imul(Le,De)|0,Z=Z+Math.imul(Le,we)|0,Z=Z+Math.imul(be,De)|0,K=K+Math.imul(be,we)|0,Q=Q+Math.imul(Te,Ee)|0,Z=Z+Math.imul(Te,Pe)|0,Z=Z+Math.imul(Oe,Ee)|0,K=K+Math.imul(Oe,Pe)|0,Q=Q+Math.imul(he,$e)|0,Z=Z+Math.imul(he,qe)|0,Z=Z+Math.imul(me,$e)|0,K=K+Math.imul(me,qe)|0,Q=Q+Math.imul(ee,bt)|0,Z=Z+Math.imul(ee,Gt)|0,Z=Z+Math.imul(ue,bt)|0,K=K+Math.imul(ue,Gt)|0,Q=Q+Math.imul(re,At)|0,Z=Z+Math.imul(re,zt)|0,Z=Z+Math.imul(le,At)|0,K=K+Math.imul(le,zt)|0;var sr=(ce+Q|0)+((Z&8191)<<13)|0;ce=(K+(Z>>>13)|0)+(sr>>>26)|0,sr&=67108863,Q=Math.imul(Ge,ze),Z=Math.imul(Ge,_e),Z=Z+Math.imul(it,ze)|0,K=Math.imul(it,_e),Q=Q+Math.imul(He,De)|0,Z=Z+Math.imul(He,we)|0,Z=Z+Math.imul(Ve,De)|0,K=K+Math.imul(Ve,we)|0,Q=Q+Math.imul(Le,Ee)|0,Z=Z+Math.imul(Le,Pe)|0,Z=Z+Math.imul(be,Ee)|0,K=K+Math.imul(be,Pe)|0,Q=Q+Math.imul(Te,$e)|0,Z=Z+Math.imul(Te,qe)|0,Z=Z+Math.imul(Oe,$e)|0,K=K+Math.imul(Oe,qe)|0,Q=Q+Math.imul(he,bt)|0,Z=Z+Math.imul(he,Gt)|0,Z=Z+Math.imul(me,bt)|0,K=K+Math.imul(me,Gt)|0,Q=Q+Math.imul(ee,At)|0,Z=Z+Math.imul(ee,zt)|0,Z=Z+Math.imul(ue,At)|0,K=K+Math.imul(ue,zt)|0,Q=Q+Math.imul(re,Ar)|0,Z=Z+Math.imul(re,ut)|0,Z=Z+Math.imul(le,Ar)|0,K=K+Math.imul(le,ut)|0;var dr=(ce+Q|0)+((Z&8191)<<13)|0;ce=(K+(Z>>>13)|0)+(dr>>>26)|0,dr&=67108863,Q=Math.imul(tt,ze),Z=Math.imul(tt,_e),Z=Z+Math.imul(at,ze)|0,K=Math.imul(at,_e),Q=Q+Math.imul(Ge,De)|0,Z=Z+Math.imul(Ge,we)|0,Z=Z+Math.imul(it,De)|0,K=K+Math.imul(it,we)|0,Q=Q+Math.imul(He,Ee)|0,Z=Z+Math.imul(He,Pe)|0,Z=Z+Math.imul(Ve,Ee)|0,K=K+Math.imul(Ve,Pe)|0,Q=Q+Math.imul(Le,$e)|0,Z=Z+Math.imul(Le,qe)|0,Z=Z+Math.imul(be,$e)|0,K=K+Math.imul(be,qe)|0,Q=Q+Math.imul(Te,bt)|0,Z=Z+Math.imul(Te,Gt)|0,Z=Z+Math.imul(Oe,bt)|0,K=K+Math.imul(Oe,Gt)|0,Q=Q+Math.imul(he,At)|0,Z=Z+Math.imul(he,zt)|0,Z=Z+Math.imul(me,At)|0,K=K+Math.imul(me,zt)|0,Q=Q+Math.imul(ee,Ar)|0,Z=Z+Math.imul(ee,ut)|0,Z=Z+Math.imul(ue,Ar)|0,K=K+Math.imul(ue,ut)|0,Q=Q+Math.imul(re,Kt)|0,Z=Z+Math.imul(re,mr)|0,Z=Z+Math.imul(le,Kt)|0,K=K+Math.imul(le,mr)|0;var je=(ce+Q|0)+((Z&8191)<<13)|0;ce=(K+(Z>>>13)|0)+(je>>>26)|0,je&=67108863,Q=Math.imul(yt,ze),Z=Math.imul(yt,_e),Z=Z+Math.imul(gt,ze)|0,K=Math.imul(gt,_e),Q=Q+Math.imul(tt,De)|0,Z=Z+Math.imul(tt,we)|0,Z=Z+Math.imul(at,De)|0,K=K+Math.imul(at,we)|0,Q=Q+Math.imul(Ge,Ee)|0,Z=Z+Math.imul(Ge,Pe)|0,Z=Z+Math.imul(it,Ee)|0,K=K+Math.imul(it,Pe)|0,Q=Q+Math.imul(He,$e)|0,Z=Z+Math.imul(He,qe)|0,Z=Z+Math.imul(Ve,$e)|0,K=K+Math.imul(Ve,qe)|0,Q=Q+Math.imul(Le,bt)|0,Z=Z+Math.imul(Le,Gt)|0,Z=Z+Math.imul(be,bt)|0,K=K+Math.imul(be,Gt)|0,Q=Q+Math.imul(Te,At)|0,Z=Z+Math.imul(Te,zt)|0,Z=Z+Math.imul(Oe,At)|0,K=K+Math.imul(Oe,zt)|0,Q=Q+Math.imul(he,Ar)|0,Z=Z+Math.imul(he,ut)|0,Z=Z+Math.imul(me,Ar)|0,K=K+Math.imul(me,ut)|0,Q=Q+Math.imul(ee,Kt)|0,Z=Z+Math.imul(ee,mr)|0,Z=Z+Math.imul(ue,Kt)|0,K=K+Math.imul(ue,mr)|0,Q=Q+Math.imul(re,pt)|0,Z=Z+Math.imul(re,st)|0,Z=Z+Math.imul(le,pt)|0,K=K+Math.imul(le,st)|0;var Ye=(ce+Q|0)+((Z&8191)<<13)|0;ce=(K+(Z>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,Q=Math.imul(Ct,ze),Z=Math.imul(Ct,_e),Z=Z+Math.imul(Vt,ze)|0,K=Math.imul(Vt,_e),Q=Q+Math.imul(yt,De)|0,Z=Z+Math.imul(yt,we)|0,Z=Z+Math.imul(gt,De)|0,K=K+Math.imul(gt,we)|0,Q=Q+Math.imul(tt,Ee)|0,Z=Z+Math.imul(tt,Pe)|0,Z=Z+Math.imul(at,Ee)|0,K=K+Math.imul(at,Pe)|0,Q=Q+Math.imul(Ge,$e)|0,Z=Z+Math.imul(Ge,qe)|0,Z=Z+Math.imul(it,$e)|0,K=K+Math.imul(it,qe)|0,Q=Q+Math.imul(He,bt)|0,Z=Z+Math.imul(He,Gt)|0,Z=Z+Math.imul(Ve,bt)|0,K=K+Math.imul(Ve,Gt)|0,Q=Q+Math.imul(Le,At)|0,Z=Z+Math.imul(Le,zt)|0,Z=Z+Math.imul(be,At)|0,K=K+Math.imul(be,zt)|0,Q=Q+Math.imul(Te,Ar)|0,Z=Z+Math.imul(Te,ut)|0,Z=Z+Math.imul(Oe,Ar)|0,K=K+Math.imul(Oe,ut)|0,Q=Q+Math.imul(he,Kt)|0,Z=Z+Math.imul(he,mr)|0,Z=Z+Math.imul(me,Kt)|0,K=K+Math.imul(me,mr)|0,Q=Q+Math.imul(ee,pt)|0,Z=Z+Math.imul(ee,st)|0,Z=Z+Math.imul(ue,pt)|0,K=K+Math.imul(ue,st)|0,Q=Q+Math.imul(re,St)|0,Z=Z+Math.imul(re,Dt)|0,Z=Z+Math.imul(le,St)|0,K=K+Math.imul(le,Dt)|0;var It=(ce+Q|0)+((Z&8191)<<13)|0;ce=(K+(Z>>>13)|0)+(It>>>26)|0,It&=67108863,Q=Math.imul(Ct,De),Z=Math.imul(Ct,we),Z=Z+Math.imul(Vt,De)|0,K=Math.imul(Vt,we),Q=Q+Math.imul(yt,Ee)|0,Z=Z+Math.imul(yt,Pe)|0,Z=Z+Math.imul(gt,Ee)|0,K=K+Math.imul(gt,Pe)|0,Q=Q+Math.imul(tt,$e)|0,Z=Z+Math.imul(tt,qe)|0,Z=Z+Math.imul(at,$e)|0,K=K+Math.imul(at,qe)|0,Q=Q+Math.imul(Ge,bt)|0,Z=Z+Math.imul(Ge,Gt)|0,Z=Z+Math.imul(it,bt)|0,K=K+Math.imul(it,Gt)|0,Q=Q+Math.imul(He,At)|0,Z=Z+Math.imul(He,zt)|0,Z=Z+Math.imul(Ve,At)|0,K=K+Math.imul(Ve,zt)|0,Q=Q+Math.imul(Le,Ar)|0,Z=Z+Math.imul(Le,ut)|0,Z=Z+Math.imul(be,Ar)|0,K=K+Math.imul(be,ut)|0,Q=Q+Math.imul(Te,Kt)|0,Z=Z+Math.imul(Te,mr)|0,Z=Z+Math.imul(Oe,Kt)|0,K=K+Math.imul(Oe,mr)|0,Q=Q+Math.imul(he,pt)|0,Z=Z+Math.imul(he,st)|0,Z=Z+Math.imul(me,pt)|0,K=K+Math.imul(me,st)|0,Q=Q+Math.imul(ee,St)|0,Z=Z+Math.imul(ee,Dt)|0,Z=Z+Math.imul(ue,St)|0,K=K+Math.imul(ue,Dt)|0;var kt=(ce+Q|0)+((Z&8191)<<13)|0;ce=(K+(Z>>>13)|0)+(kt>>>26)|0,kt&=67108863,Q=Math.imul(Ct,Ee),Z=Math.imul(Ct,Pe),Z=Z+Math.imul(Vt,Ee)|0,K=Math.imul(Vt,Pe),Q=Q+Math.imul(yt,$e)|0,Z=Z+Math.imul(yt,qe)|0,Z=Z+Math.imul(gt,$e)|0,K=K+Math.imul(gt,qe)|0,Q=Q+Math.imul(tt,bt)|0,Z=Z+Math.imul(tt,Gt)|0,Z=Z+Math.imul(at,bt)|0,K=K+Math.imul(at,Gt)|0,Q=Q+Math.imul(Ge,At)|0,Z=Z+Math.imul(Ge,zt)|0,Z=Z+Math.imul(it,At)|0,K=K+Math.imul(it,zt)|0,Q=Q+Math.imul(He,Ar)|0,Z=Z+Math.imul(He,ut)|0,Z=Z+Math.imul(Ve,Ar)|0,K=K+Math.imul(Ve,ut)|0,Q=Q+Math.imul(Le,Kt)|0,Z=Z+Math.imul(Le,mr)|0,Z=Z+Math.imul(be,Kt)|0,K=K+Math.imul(be,mr)|0,Q=Q+Math.imul(Te,pt)|0,Z=Z+Math.imul(Te,st)|0,Z=Z+Math.imul(Oe,pt)|0,K=K+Math.imul(Oe,st)|0,Q=Q+Math.imul(he,St)|0,Z=Z+Math.imul(he,Dt)|0,Z=Z+Math.imul(me,St)|0,K=K+Math.imul(me,Dt)|0;var jt=(ce+Q|0)+((Z&8191)<<13)|0;ce=(K+(Z>>>13)|0)+(jt>>>26)|0,jt&=67108863,Q=Math.imul(Ct,$e),Z=Math.imul(Ct,qe),Z=Z+Math.imul(Vt,$e)|0,K=Math.imul(Vt,qe),Q=Q+Math.imul(yt,bt)|0,Z=Z+Math.imul(yt,Gt)|0,Z=Z+Math.imul(gt,bt)|0,K=K+Math.imul(gt,Gt)|0,Q=Q+Math.imul(tt,At)|0,Z=Z+Math.imul(tt,zt)|0,Z=Z+Math.imul(at,At)|0,K=K+Math.imul(at,zt)|0,Q=Q+Math.imul(Ge,Ar)|0,Z=Z+Math.imul(Ge,ut)|0,Z=Z+Math.imul(it,Ar)|0,K=K+Math.imul(it,ut)|0,Q=Q+Math.imul(He,Kt)|0,Z=Z+Math.imul(He,mr)|0,Z=Z+Math.imul(Ve,Kt)|0,K=K+Math.imul(Ve,mr)|0,Q=Q+Math.imul(Le,pt)|0,Z=Z+Math.imul(Le,st)|0,Z=Z+Math.imul(be,pt)|0,K=K+Math.imul(be,st)|0,Q=Q+Math.imul(Te,St)|0,Z=Z+Math.imul(Te,Dt)|0,Z=Z+Math.imul(Oe,St)|0,K=K+Math.imul(Oe,Dt)|0;var tr=(ce+Q|0)+((Z&8191)<<13)|0;ce=(K+(Z>>>13)|0)+(tr>>>26)|0,tr&=67108863,Q=Math.imul(Ct,bt),Z=Math.imul(Ct,Gt),Z=Z+Math.imul(Vt,bt)|0,K=Math.imul(Vt,Gt),Q=Q+Math.imul(yt,At)|0,Z=Z+Math.imul(yt,zt)|0,Z=Z+Math.imul(gt,At)|0,K=K+Math.imul(gt,zt)|0,Q=Q+Math.imul(tt,Ar)|0,Z=Z+Math.imul(tt,ut)|0,Z=Z+Math.imul(at,Ar)|0,K=K+Math.imul(at,ut)|0,Q=Q+Math.imul(Ge,Kt)|0,Z=Z+Math.imul(Ge,mr)|0,Z=Z+Math.imul(it,Kt)|0,K=K+Math.imul(it,mr)|0,Q=Q+Math.imul(He,pt)|0,Z=Z+Math.imul(He,st)|0,Z=Z+Math.imul(Ve,pt)|0,K=K+Math.imul(Ve,st)|0,Q=Q+Math.imul(Le,St)|0,Z=Z+Math.imul(Le,Dt)|0,Z=Z+Math.imul(be,St)|0,K=K+Math.imul(be,Dt)|0;var or=(ce+Q|0)+((Z&8191)<<13)|0;ce=(K+(Z>>>13)|0)+(or>>>26)|0,or&=67108863,Q=Math.imul(Ct,At),Z=Math.imul(Ct,zt),Z=Z+Math.imul(Vt,At)|0,K=Math.imul(Vt,zt),Q=Q+Math.imul(yt,Ar)|0,Z=Z+Math.imul(yt,ut)|0,Z=Z+Math.imul(gt,Ar)|0,K=K+Math.imul(gt,ut)|0,Q=Q+Math.imul(tt,Kt)|0,Z=Z+Math.imul(tt,mr)|0,Z=Z+Math.imul(at,Kt)|0,K=K+Math.imul(at,mr)|0,Q=Q+Math.imul(Ge,pt)|0,Z=Z+Math.imul(Ge,st)|0,Z=Z+Math.imul(it,pt)|0,K=K+Math.imul(it,st)|0,Q=Q+Math.imul(He,St)|0,Z=Z+Math.imul(He,Dt)|0,Z=Z+Math.imul(Ve,St)|0,K=K+Math.imul(Ve,Dt)|0;var rr=(ce+Q|0)+((Z&8191)<<13)|0;ce=(K+(Z>>>13)|0)+(rr>>>26)|0,rr&=67108863,Q=Math.imul(Ct,Ar),Z=Math.imul(Ct,ut),Z=Z+Math.imul(Vt,Ar)|0,K=Math.imul(Vt,ut),Q=Q+Math.imul(yt,Kt)|0,Z=Z+Math.imul(yt,mr)|0,Z=Z+Math.imul(gt,Kt)|0,K=K+Math.imul(gt,mr)|0,Q=Q+Math.imul(tt,pt)|0,Z=Z+Math.imul(tt,st)|0,Z=Z+Math.imul(at,pt)|0,K=K+Math.imul(at,st)|0,Q=Q+Math.imul(Ge,St)|0,Z=Z+Math.imul(Ge,Dt)|0,Z=Z+Math.imul(it,St)|0,K=K+Math.imul(it,Dt)|0;var Ot=(ce+Q|0)+((Z&8191)<<13)|0;ce=(K+(Z>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,Q=Math.imul(Ct,Kt),Z=Math.imul(Ct,mr),Z=Z+Math.imul(Vt,Kt)|0,K=Math.imul(Vt,mr),Q=Q+Math.imul(yt,pt)|0,Z=Z+Math.imul(yt,st)|0,Z=Z+Math.imul(gt,pt)|0,K=K+Math.imul(gt,st)|0,Q=Q+Math.imul(tt,St)|0,Z=Z+Math.imul(tt,Dt)|0,Z=Z+Math.imul(at,St)|0,K=K+Math.imul(at,Dt)|0;var hr=(ce+Q|0)+((Z&8191)<<13)|0;ce=(K+(Z>>>13)|0)+(hr>>>26)|0,hr&=67108863,Q=Math.imul(Ct,pt),Z=Math.imul(Ct,st),Z=Z+Math.imul(Vt,pt)|0,K=Math.imul(Vt,st),Q=Q+Math.imul(yt,St)|0,Z=Z+Math.imul(yt,Dt)|0,Z=Z+Math.imul(gt,St)|0,K=K+Math.imul(gt,Dt)|0;var gr=(ce+Q|0)+((Z&8191)<<13)|0;ce=(K+(Z>>>13)|0)+(gr>>>26)|0,gr&=67108863,Q=Math.imul(Ct,St),Z=Math.imul(Ct,Dt),Z=Z+Math.imul(Vt,St)|0,K=Math.imul(Vt,Dt);var pr=(ce+Q|0)+((Z&8191)<<13)|0;return ce=(K+(Z>>>13)|0)+(pr>>>26)|0,pr&=67108863,oe[0]=Rt,oe[1]=Bt,oe[2]=Nt,oe[3]=Xt,oe[4]=lr,oe[5]=sr,oe[6]=dr,oe[7]=je,oe[8]=Ye,oe[9]=It,oe[10]=kt,oe[11]=jt,oe[12]=tr,oe[13]=or,oe[14]=rr,oe[15]=Ot,oe[16]=hr,oe[17]=gr,oe[18]=pr,ce!==0&&(oe[19]=ce,j.length++),j};Math.imul||(P=S);function x(U,F,V){V.negative=F.negative^U.negative,V.length=U.length+F.length;for(var j=0,$=0,ne=0;ne<V.length-1;ne++){var oe=$;$=0;for(var ce=j&67108863,Q=Math.min(ne,F.length-1),Z=Math.max(0,ne-U.length+1);Z<=Q;Z++){var K=ne-Z,J=U.words[K]|0,re=F.words[Z]|0,le=J*re,q=le&67108863;oe=oe+(le/67108864|0)|0,q=q+ce|0,ce=q&67108863,oe=oe+(q>>>26)|0,$+=oe>>>26,oe&=67108863}V.words[ne]=ce,j=oe,oe=$}return j!==0?V.words[ne]=j:V.length--,V.strip()}function E(U,F,V){var j=new w;return j.mulp(U,F,V)}f.prototype.mulTo=function(F,V){var j,$=this.length+F.length;return this.length===10&&F.length===10?j=P(this,F,V):$<63?j=S(this,F,V):$<1024?j=x(this,F,V):j=E(this,F,V),j};function w(U,F){this.x=U,this.y=F}w.prototype.makeRBT=function(F){for(var V=new Array(F),j=f.prototype._countBits(F)-1,$=0;$<F;$++)V[$]=this.revBin($,j,F);return V},w.prototype.revBin=function(F,V,j){if(F===0||F===j-1)return F;for(var $=0,ne=0;ne<V;ne++)$|=(F&1)<<V-ne-1,F>>=1;return $},w.prototype.permute=function(F,V,j,$,ne,oe){for(var ce=0;ce<oe;ce++)$[ce]=V[F[ce]],ne[ce]=j[F[ce]]},w.prototype.transform=function(F,V,j,$,ne,oe){this.permute(oe,F,V,j,$,ne);for(var ce=1;ce<ne;ce<<=1)for(var Q=ce<<1,Z=Math.cos(2*Math.PI/Q),K=Math.sin(2*Math.PI/Q),J=0;J<ne;J+=Q)for(var re=Z,le=K,q=0;q<ce;q++){var ee=j[J+q],ue=$[J+q],se=j[J+q+ce],he=$[J+q+ce],me=re*se-le*he;he=re*he+le*se,se=me,j[J+q]=ee+se,$[J+q]=ue+he,j[J+q+ce]=ee-se,$[J+q+ce]=ue-he,q!==Q&&(me=Z*re-K*le,le=Z*le+K*re,re=me)}},w.prototype.guessLen13b=function(F,V){var j=Math.max(V,F)|1,$=j&1,ne=0;for(j=j/2|0;j;j=j>>>1)ne++;return 1<<ne+1+$},w.prototype.conjugate=function(F,V,j){if(!(j<=1))for(var $=0;$<j/2;$++){var ne=F[$];F[$]=F[j-$-1],F[j-$-1]=ne,ne=V[$],V[$]=-V[j-$-1],V[j-$-1]=-ne}},w.prototype.normalize13b=function(F,V){for(var j=0,$=0;$<V/2;$++){var ne=Math.round(F[2*$+1]/V)*8192+Math.round(F[2*$]/V)+j;F[$]=ne&67108863,ne<67108864?j=0:j=ne/67108864|0}return F},w.prototype.convert13b=function(F,V,j,$){for(var ne=0,oe=0;oe<V;oe++)ne=ne+(F[oe]|0),j[2*oe]=ne&8191,ne=ne>>>13,j[2*oe+1]=ne&8191,ne=ne>>>13;for(oe=2*V;oe<$;++oe)j[oe]=0;n(ne===0),n((ne&-8192)===0)},w.prototype.stub=function(F){for(var V=new Array(F),j=0;j<F;j++)V[j]=0;return V},w.prototype.mulp=function(F,V,j){var $=2*this.guessLen13b(F.length,V.length),ne=this.makeRBT($),oe=this.stub($),ce=new Array($),Q=new Array($),Z=new Array($),K=new Array($),J=new Array($),re=new Array($),le=j.words;le.length=$,this.convert13b(F.words,F.length,ce,$),this.convert13b(V.words,V.length,K,$),this.transform(ce,oe,Q,Z,$,ne),this.transform(K,oe,J,re,$,ne);for(var q=0;q<$;q++){var ee=Q[q]*J[q]-Z[q]*re[q];Z[q]=Q[q]*re[q]+Z[q]*J[q],Q[q]=ee}return this.conjugate(Q,Z,$),this.transform(Q,Z,le,oe,$,ne),this.conjugate(le,oe,$),this.normalize13b(le,$),j.negative=F.negative^V.negative,j.length=F.length+V.length,j.strip()},f.prototype.mul=function(F){var V=new f(null);return V.words=new Array(this.length+F.length),this.mulTo(F,V)},f.prototype.mulf=function(F){var V=new f(null);return V.words=new Array(this.length+F.length),E(this,F,V)},f.prototype.imul=function(F){return this.clone().mulTo(F,this)},f.prototype.imuln=function(F){n(typeof F=="number"),n(F<67108864);for(var V=0,j=0;j<this.length;j++){var $=(this.words[j]|0)*F,ne=($&67108863)+(V&67108863);V>>=26,V+=$/67108864|0,V+=ne>>>26,this.words[j]=ne&67108863}return V!==0&&(this.words[j]=V,this.length++),this},f.prototype.muln=function(F){return this.clone().imuln(F)},f.prototype.sqr=function(){return this.mul(this)},f.prototype.isqr=function(){return this.imul(this.clone())},f.prototype.pow=function(F){var V=M(F);if(V.length===0)return new f(1);for(var j=this,$=0;$<V.length&&V[$]===0;$++,j=j.sqr());if(++$<V.length)for(var ne=j.sqr();$<V.length;$++,ne=ne.sqr())V[$]!==0&&(j=j.mul(ne));return j},f.prototype.iushln=function(F){n(typeof F=="number"&&F>=0);var V=F%26,j=(F-V)/26,$=67108863>>>26-V<<26-V,ne;if(V!==0){var oe=0;for(ne=0;ne<this.length;ne++){var ce=this.words[ne]&$,Q=(this.words[ne]|0)-ce<<V;this.words[ne]=Q|oe,oe=ce>>>26-V}oe&&(this.words[ne]=oe,this.length++)}if(j!==0){for(ne=this.length-1;ne>=0;ne--)this.words[ne+j]=this.words[ne];for(ne=0;ne<j;ne++)this.words[ne]=0;this.length+=j}return this.strip()},f.prototype.ishln=function(F){return n(this.negative===0),this.iushln(F)},f.prototype.iushrn=function(F,V,j){n(typeof F=="number"&&F>=0);var $;V?$=(V-V%26)/26:$=0;var ne=F%26,oe=Math.min((F-ne)/26,this.length),ce=67108863^67108863>>>ne<<ne,Q=j;if($-=oe,$=Math.max(0,$),Q){for(var Z=0;Z<oe;Z++)Q.words[Z]=this.words[Z];Q.length=oe}if(oe!==0)if(this.length>oe)for(this.length-=oe,Z=0;Z<this.length;Z++)this.words[Z]=this.words[Z+oe];else this.words[0]=0,this.length=1;var K=0;for(Z=this.length-1;Z>=0&&(K!==0||Z>=$);Z--){var J=this.words[Z]|0;this.words[Z]=K<<26-ne|J>>>ne,K=J&ce}return Q&&K!==0&&(Q.words[Q.length++]=K),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},f.prototype.ishrn=function(F,V,j){return n(this.negative===0),this.iushrn(F,V,j)},f.prototype.shln=function(F){return this.clone().ishln(F)},f.prototype.ushln=function(F){return this.clone().iushln(F)},f.prototype.shrn=function(F){return this.clone().ishrn(F)},f.prototype.ushrn=function(F){return this.clone().iushrn(F)},f.prototype.testn=function(F){n(typeof F=="number"&&F>=0);var V=F%26,j=(F-V)/26,$=1<<V;if(this.length<=j)return!1;var ne=this.words[j];return!!(ne&$)},f.prototype.imaskn=function(F){n(typeof F=="number"&&F>=0);var V=F%26,j=(F-V)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=j)return this;if(V!==0&&j++,this.length=Math.min(j,this.length),V!==0){var $=67108863^67108863>>>V<<V;this.words[this.length-1]&=$}return this.strip()},f.prototype.maskn=function(F){return this.clone().imaskn(F)},f.prototype.iaddn=function(F){return n(typeof F=="number"),n(F<67108864),F<0?this.isubn(-F):this.negative!==0?this.length===1&&(this.words[0]|0)<F?(this.words[0]=F-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(F),this.negative=1,this):this._iaddn(F)},f.prototype._iaddn=function(F){this.words[0]+=F;for(var V=0;V<this.length&&this.words[V]>=67108864;V++)this.words[V]-=67108864,V===this.length-1?this.words[V+1]=1:this.words[V+1]++;return this.length=Math.max(this.length,V+1),this},f.prototype.isubn=function(F){if(n(typeof F=="number"),n(F<67108864),F<0)return this.iaddn(-F);if(this.negative!==0)return this.negative=0,this.iaddn(F),this.negative=1,this;if(this.words[0]-=F,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var V=0;V<this.length&&this.words[V]<0;V++)this.words[V]+=67108864,this.words[V+1]-=1;return this.strip()},f.prototype.addn=function(F){return this.clone().iaddn(F)},f.prototype.subn=function(F){return this.clone().isubn(F)},f.prototype.iabs=function(){return this.negative=0,this},f.prototype.abs=function(){return this.clone().iabs()},f.prototype._ishlnsubmul=function(F,V,j){var $=F.length+j,ne;this._expand($);var oe,ce=0;for(ne=0;ne<F.length;ne++){oe=(this.words[ne+j]|0)+ce;var Q=(F.words[ne]|0)*V;oe-=Q&67108863,ce=(oe>>26)-(Q/67108864|0),this.words[ne+j]=oe&67108863}for(;ne<this.length-j;ne++)oe=(this.words[ne+j]|0)+ce,ce=oe>>26,this.words[ne+j]=oe&67108863;if(ce===0)return this.strip();for(n(ce===-1),ce=0,ne=0;ne<this.length;ne++)oe=-(this.words[ne]|0)+ce,ce=oe>>26,this.words[ne]=oe&67108863;return this.negative=1,this.strip()},f.prototype._wordDiv=function(F,V){var j=this.length-F.length,$=this.clone(),ne=F,oe=ne.words[ne.length-1]|0,ce=this._countBits(oe);j=26-ce,j!==0&&(ne=ne.ushln(j),$.iushln(j),oe=ne.words[ne.length-1]|0);var Q=$.length-ne.length,Z;if(V!=="mod"){Z=new f(null),Z.length=Q+1,Z.words=new Array(Z.length);for(var K=0;K<Z.length;K++)Z.words[K]=0}var J=$.clone()._ishlnsubmul(ne,1,Q);J.negative===0&&($=J,Z&&(Z.words[Q]=1));for(var re=Q-1;re>=0;re--){var le=($.words[ne.length+re]|0)*67108864+($.words[ne.length+re-1]|0);for(le=Math.min(le/oe|0,67108863),$._ishlnsubmul(ne,le,re);$.negative!==0;)le--,$.negative=0,$._ishlnsubmul(ne,1,re),$.isZero()||($.negative^=1);Z&&(Z.words[re]=le)}return Z&&Z.strip(),$.strip(),V!=="div"&&j!==0&&$.iushrn(j),{div:Z||null,mod:$}},f.prototype.divmod=function(F,V,j){if(n(!F.isZero()),this.isZero())return{div:new f(0),mod:new f(0)};var $,ne,oe;return this.negative!==0&&F.negative===0?(oe=this.neg().divmod(F,V),V!=="mod"&&($=oe.div.neg()),V!=="div"&&(ne=oe.mod.neg(),j&&ne.negative!==0&&ne.iadd(F)),{div:$,mod:ne}):this.negative===0&&F.negative!==0?(oe=this.divmod(F.neg(),V),V!=="mod"&&($=oe.div.neg()),{div:$,mod:oe.mod}):this.negative&F.negative?(oe=this.neg().divmod(F.neg(),V),V!=="div"&&(ne=oe.mod.neg(),j&&ne.negative!==0&&ne.isub(F)),{div:oe.div,mod:ne}):F.length>this.length||this.cmp(F)<0?{div:new f(0),mod:this}:F.length===1?V==="div"?{div:this.divn(F.words[0]),mod:null}:V==="mod"?{div:null,mod:new f(this.modn(F.words[0]))}:{div:this.divn(F.words[0]),mod:new f(this.modn(F.words[0]))}:this._wordDiv(F,V)},f.prototype.div=function(F){return this.divmod(F,"div",!1).div},f.prototype.mod=function(F){return this.divmod(F,"mod",!1).mod},f.prototype.umod=function(F){return this.divmod(F,"mod",!0).mod},f.prototype.divRound=function(F){var V=this.divmod(F);if(V.mod.isZero())return V.div;var j=V.div.negative!==0?V.mod.isub(F):V.mod,$=F.ushrn(1),ne=F.andln(1),oe=j.cmp($);return oe<0||ne===1&&oe===0?V.div:V.div.negative!==0?V.div.isubn(1):V.div.iaddn(1)},f.prototype.modn=function(F){n(F<=67108863);for(var V=(1<<26)%F,j=0,$=this.length-1;$>=0;$--)j=(V*j+(this.words[$]|0))%F;return j},f.prototype.idivn=function(F){n(F<=67108863);for(var V=0,j=this.length-1;j>=0;j--){var $=(this.words[j]|0)+V*67108864;this.words[j]=$/F|0,V=$%F}return this.strip()},f.prototype.divn=function(F){return this.clone().idivn(F)},f.prototype.egcd=function(F){n(F.negative===0),n(!F.isZero());var V=this,j=F.clone();V.negative!==0?V=V.umod(F):V=V.clone();for(var $=new f(1),ne=new f(0),oe=new f(0),ce=new f(1),Q=0;V.isEven()&&j.isEven();)V.iushrn(1),j.iushrn(1),++Q;for(var Z=j.clone(),K=V.clone();!V.isZero();){for(var J=0,re=1;!(V.words[0]&re)&&J<26;++J,re<<=1);if(J>0)for(V.iushrn(J);J-- >0;)($.isOdd()||ne.isOdd())&&($.iadd(Z),ne.isub(K)),$.iushrn(1),ne.iushrn(1);for(var le=0,q=1;!(j.words[0]&q)&&le<26;++le,q<<=1);if(le>0)for(j.iushrn(le);le-- >0;)(oe.isOdd()||ce.isOdd())&&(oe.iadd(Z),ce.isub(K)),oe.iushrn(1),ce.iushrn(1);V.cmp(j)>=0?(V.isub(j),$.isub(oe),ne.isub(ce)):(j.isub(V),oe.isub($),ce.isub(ne))}return{a:oe,b:ce,gcd:j.iushln(Q)}},f.prototype._invmp=function(F){n(F.negative===0),n(!F.isZero());var V=this,j=F.clone();V.negative!==0?V=V.umod(F):V=V.clone();for(var $=new f(1),ne=new f(0),oe=j.clone();V.cmpn(1)>0&&j.cmpn(1)>0;){for(var ce=0,Q=1;!(V.words[0]&Q)&&ce<26;++ce,Q<<=1);if(ce>0)for(V.iushrn(ce);ce-- >0;)$.isOdd()&&$.iadd(oe),$.iushrn(1);for(var Z=0,K=1;!(j.words[0]&K)&&Z<26;++Z,K<<=1);if(Z>0)for(j.iushrn(Z);Z-- >0;)ne.isOdd()&&ne.iadd(oe),ne.iushrn(1);V.cmp(j)>=0?(V.isub(j),$.isub(ne)):(j.isub(V),ne.isub($))}var J;return V.cmpn(1)===0?J=$:J=ne,J.cmpn(0)<0&&J.iadd(F),J},f.prototype.gcd=function(F){if(this.isZero())return F.abs();if(F.isZero())return this.abs();var V=this.clone(),j=F.clone();V.negative=0,j.negative=0;for(var $=0;V.isEven()&&j.isEven();$++)V.iushrn(1),j.iushrn(1);do{for(;V.isEven();)V.iushrn(1);for(;j.isEven();)j.iushrn(1);var ne=V.cmp(j);if(ne<0){var oe=V;V=j,j=oe}else if(ne===0||j.cmpn(1)===0)break;V.isub(j)}while(!0);return j.iushln($)},f.prototype.invm=function(F){return this.egcd(F).a.umod(F)},f.prototype.isEven=function(){return(this.words[0]&1)===0},f.prototype.isOdd=function(){return(this.words[0]&1)===1},f.prototype.andln=function(F){return this.words[0]&F},f.prototype.bincn=function(F){n(typeof F=="number");var V=F%26,j=(F-V)/26,$=1<<V;if(this.length<=j)return this._expand(j+1),this.words[j]|=$,this;for(var ne=$,oe=j;ne!==0&&oe<this.length;oe++){var ce=this.words[oe]|0;ce+=ne,ne=ce>>>26,ce&=67108863,this.words[oe]=ce}return ne!==0&&(this.words[oe]=ne,this.length++),this},f.prototype.isZero=function(){return this.length===1&&this.words[0]===0},f.prototype.cmpn=function(F){var V=F<0;if(this.negative!==0&&!V)return-1;if(this.negative===0&&V)return 1;this.strip();var j;if(this.length>1)j=1;else{V&&(F=-F),n(F<=67108863,"Number is too big");var $=this.words[0]|0;j=$===F?0:$<F?-1:1}return this.negative!==0?-j|0:j},f.prototype.cmp=function(F){if(this.negative!==0&&F.negative===0)return-1;if(this.negative===0&&F.negative!==0)return 1;var V=this.ucmp(F);return this.negative!==0?-V|0:V},f.prototype.ucmp=function(F){if(this.length>F.length)return 1;if(this.length<F.length)return-1;for(var V=0,j=this.length-1;j>=0;j--){var $=this.words[j]|0,ne=F.words[j]|0;if($!==ne){$<ne?V=-1:$>ne&&(V=1);break}}return V},f.prototype.gtn=function(F){return this.cmpn(F)===1},f.prototype.gt=function(F){return this.cmp(F)===1},f.prototype.gten=function(F){return this.cmpn(F)>=0},f.prototype.gte=function(F){return this.cmp(F)>=0},f.prototype.ltn=function(F){return this.cmpn(F)===-1},f.prototype.lt=function(F){return this.cmp(F)===-1},f.prototype.lten=function(F){return this.cmpn(F)<=0},f.prototype.lte=function(F){return this.cmp(F)<=0},f.prototype.eqn=function(F){return this.cmpn(F)===0},f.prototype.eq=function(F){return this.cmp(F)===0},f.red=function(F){return new z(F)},f.prototype.toRed=function(F){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),F.convertTo(this)._forceRed(F)},f.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},f.prototype._forceRed=function(F){return this.red=F,this},f.prototype.forceRed=function(F){return n(!this.red,"Already a number in reduction context"),this._forceRed(F)},f.prototype.redAdd=function(F){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,F)},f.prototype.redIAdd=function(F){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,F)},f.prototype.redSub=function(F){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,F)},f.prototype.redISub=function(F){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,F)},f.prototype.redShl=function(F){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,F)},f.prototype.redMul=function(F){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,F),this.red.mul(this,F)},f.prototype.redIMul=function(F){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,F),this.red.imul(this,F)},f.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},f.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},f.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},f.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},f.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},f.prototype.redPow=function(F){return n(this.red&&!F.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,F)};var i={k256:null,p224:null,p192:null,p25519:null};function L(U,F){this.name=U,this.p=new f(F,16),this.n=this.p.bitLength(),this.k=new f(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}L.prototype._tmp=function(){var F=new f(null);return F.words=new Array(Math.ceil(this.n/13)),F},L.prototype.ireduce=function(F){var V=F,j;do this.split(V,this.tmp),V=this.imulK(V),V=V.iadd(this.tmp),j=V.bitLength();while(j>this.n);var $=j<this.n?-1:V.ucmp(this.p);return $===0?(V.words[0]=0,V.length=1):$>0?V.isub(this.p):V.strip!==void 0?V.strip():V._strip(),V},L.prototype.split=function(F,V){F.iushrn(this.n,0,V)},L.prototype.imulK=function(F){return F.imul(this.k)};function b(){L.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(b,L),b.prototype.split=function(F,V){for(var j=4194303,$=Math.min(F.length,9),ne=0;ne<$;ne++)V.words[ne]=F.words[ne];if(V.length=$,F.length<=9){F.words[0]=0,F.length=1;return}var oe=F.words[9];for(V.words[V.length++]=oe&j,ne=10;ne<F.length;ne++){var ce=F.words[ne]|0;F.words[ne-10]=(ce&j)<<4|oe>>>22,oe=ce}oe>>>=22,F.words[ne-10]=oe,oe===0&&F.length>10?F.length-=10:F.length-=9},b.prototype.imulK=function(F){F.words[F.length]=0,F.words[F.length+1]=0,F.length+=2;for(var V=0,j=0;j<F.length;j++){var $=F.words[j]|0;V+=$*977,F.words[j]=V&67108863,V=$*64+(V/67108864|0)}return F.words[F.length-1]===0&&(F.length--,F.words[F.length-1]===0&&F.length--),F};function O(){L.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(O,L);function _(){L.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(_,L);function N(){L.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(N,L),N.prototype.imulK=function(F){for(var V=0,j=0;j<F.length;j++){var $=(F.words[j]|0)*19+V,ne=$&67108863;$>>>=26,F.words[j]=ne,V=$}return V!==0&&(F.words[F.length++]=V),F},f._prime=function(F){if(i[F])return i[F];var V;if(F==="k256")V=new b;else if(F==="p224")V=new O;else if(F==="p192")V=new _;else if(F==="p25519")V=new N;else throw new Error("Unknown prime "+F);return i[F]=V,V};function z(U){if(typeof U=="string"){var F=f._prime(U);this.m=F.p,this.prime=F}else n(U.gtn(1),"modulus must be greater than 1"),this.m=U,this.prime=null}z.prototype._verify1=function(F){n(F.negative===0,"red works only with positives"),n(F.red,"red works only with red numbers")},z.prototype._verify2=function(F,V){n((F.negative|V.negative)===0,"red works only with positives"),n(F.red&&F.red===V.red,"red works only with red numbers")},z.prototype.imod=function(F){return this.prime?this.prime.ireduce(F)._forceRed(this):F.umod(this.m)._forceRed(this)},z.prototype.neg=function(F){return F.isZero()?F.clone():this.m.sub(F)._forceRed(this)},z.prototype.add=function(F,V){this._verify2(F,V);var j=F.add(V);return j.cmp(this.m)>=0&&j.isub(this.m),j._forceRed(this)},z.prototype.iadd=function(F,V){this._verify2(F,V);var j=F.iadd(V);return j.cmp(this.m)>=0&&j.isub(this.m),j},z.prototype.sub=function(F,V){this._verify2(F,V);var j=F.sub(V);return j.cmpn(0)<0&&j.iadd(this.m),j._forceRed(this)},z.prototype.isub=function(F,V){this._verify2(F,V);var j=F.isub(V);return j.cmpn(0)<0&&j.iadd(this.m),j},z.prototype.shl=function(F,V){return this._verify1(F),this.imod(F.ushln(V))},z.prototype.imul=function(F,V){return this._verify2(F,V),this.imod(F.imul(V))},z.prototype.mul=function(F,V){return this._verify2(F,V),this.imod(F.mul(V))},z.prototype.isqr=function(F){return this.imul(F,F.clone())},z.prototype.sqr=function(F){return this.mul(F,F)},z.prototype.sqrt=function(F){if(F.isZero())return F.clone();var V=this.m.andln(3);if(n(V%2===1),V===3){var j=this.m.add(new f(1)).iushrn(2);return this.pow(F,j)}for(var $=this.m.subn(1),ne=0;!$.isZero()&&$.andln(1)===0;)ne++,$.iushrn(1);n(!$.isZero());var oe=new f(1).toRed(this),ce=oe.redNeg(),Q=this.m.subn(1).iushrn(1),Z=this.m.bitLength();for(Z=new f(2*Z*Z).toRed(this);this.pow(Z,Q).cmp(ce)!==0;)Z.redIAdd(ce);for(var K=this.pow(Z,$),J=this.pow(F,$.addn(1).iushrn(1)),re=this.pow(F,$),le=ne;re.cmp(oe)!==0;){for(var q=re,ee=0;q.cmp(oe)!==0;ee++)q=q.redSqr();n(ee<le);var ue=this.pow(K,new f(1).iushln(le-ee-1));J=J.redMul(ue),K=ue.redSqr(),re=re.redMul(K),le=ee}return J},z.prototype.invm=function(F){var V=F._invmp(this.m);return V.negative!==0?(V.negative=0,this.imod(V).redNeg()):this.imod(V)},z.prototype.pow=function(F,V){if(V.isZero())return new f(1).toRed(this);if(V.cmpn(1)===0)return F.clone();var j=4,$=new Array(1<<j);$[0]=new f(1).toRed(this),$[1]=F;for(var ne=2;ne<$.length;ne++)$[ne]=this.mul($[ne-1],F);var oe=$[0],ce=0,Q=0,Z=V.bitLength()%26;for(Z===0&&(Z=26),ne=V.length-1;ne>=0;ne--){for(var K=V.words[ne],J=Z-1;J>=0;J--){var re=K>>J&1;if(oe!==$[0]&&(oe=this.sqr(oe)),re===0&&ce===0){Q=0;continue}ce<<=1,ce|=re,Q++,!(Q!==j&&(ne!==0||J!==0))&&(oe=this.mul(oe,$[ce]),Q=0,ce=0)}Z=26}return oe},z.prototype.convertTo=function(F){var V=F.umod(this.m);return V===F?V.clone():V},z.prototype.convertFrom=function(F){var V=F.clone();return V.red=null,V},f.mont=function(F){return new B(F)};function B(U){z.call(this,U),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new f(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(B,z),B.prototype.convertTo=function(F){return this.imod(F.ushln(this.shift))},B.prototype.convertFrom=function(F){var V=this.imod(F.mul(this.rinv));return V.red=null,V},B.prototype.imul=function(F,V){if(F.isZero()||V.isZero())return F.words[0]=0,F.length=1,F;var j=F.imul(V),$=j.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ne=j.isub($).iushrn(this.shift),oe=ne;return ne.cmp(this.m)>=0?oe=ne.isub(this.m):ne.cmpn(0)<0&&(oe=ne.iadd(this.m)),oe._forceRed(this)},B.prototype.mul=function(F,V){if(F.isZero()||V.isZero())return new f(0)._forceRed(this);var j=F.mul(V),$=j.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),ne=j.isub($).iushrn(this.shift),oe=ne;return ne.cmp(this.m)>=0?oe=ne.isub(this.m):ne.cmpn(0)<0&&(oe=ne.iadd(this.m)),oe._forceRed(this)},B.prototype.invm=function(F){var V=this.imod(F._invmp(this.m).mul(this.r2));return V._forceRed(this)}}(v,this)},2692:function(v){v.exports=y;function y(t){var r,s,n,o=t.length,f=0;for(r=0;r<o;++r)f+=t[r].length;var u=new Array(f),m=0;for(r=0;r<o;++r){var c=t[r],A=c.length;for(s=0;s<A;++s){var h=u[m++]=new Array(A-1),l=0;for(n=0;n<A;++n)n!==s&&(h[l++]=c[n]);if(s&1){var p=h[1];h[1]=h[0],h[0]=p}}}return u}},2569:function(v,y,t){v.exports=l;var r=t(5306),s=t(1390),n=t(2337);function o(p,M){for(var S=0;S<p;++S)if(!(M[S]<=M[S+p]))return!0;return!1}function f(p,M,S,P){for(var x=0,E=0,w=0,i=p.length;w<i;++w){var L=p[w];if(!o(M,L)){for(var b=0;b<2*M;++b)S[x++]=L[b];P[E++]=w}}return E}function u(p,M,S,P){var x=p.length,E=M.length;if(!(x<=0||E<=0)){var w=p[0].length>>>1;if(!(w<=0)){var i,L=r.mallocDouble(2*w*x),b=r.mallocInt32(x);if(x=f(p,w,L,b),x>0){if(w===1&&P)s.init(x),i=s.sweepComplete(w,S,0,x,L,b,0,x,L,b);else{var O=r.mallocDouble(2*w*E),_=r.mallocInt32(E);E=f(M,w,O,_),E>0&&(s.init(x+E),w===1?i=s.sweepBipartite(w,S,0,x,L,b,0,E,O,_):i=n(w,S,P,x,L,b,E,O,_),r.free(O),r.free(_))}r.free(L),r.free(b)}return i}}}var m;function c(p,M){m.push([p,M])}function A(p){return m=[],u(p,p,c,!0),m}function h(p,M){return m=[],u(p,M,c,!1),m}function l(p,M,S){switch(arguments.length){case 1:return A(p);case 2:return typeof M=="function"?u(p,p,M,!0):h(p,M);case 3:return u(p,M,S,!1);default:throw new Error("box-intersect: Invalid arguments")}}},7333:function(v,y){function t(){function n(u,m,c,A,h,l,p,M,S,P,x){for(var E=2*u,w=A,i=E*A;w<h;++w,i+=E){var L=l[m+i],b=l[m+i+u],O=p[w];e:for(var _=M,N=E*M;_<S;++_,N+=E){var z=P[m+N],B=P[m+N+u],U=x[_];if(!(B<L||b<z)){for(var F=m+1;F<u;++F){var V=l[F+i],j=l[F+u+i],$=P[F+N],ne=P[F+u+N];if(j<$||ne<V)continue e}var oe=c(O,U);if(oe!==void 0)return oe}}}}function o(u,m,c,A,h,l,p,M,S,P,x){for(var E=2*u,w=M,i=E*M;w<S;++w,i+=E){var L=P[m+i],b=P[m+i+u],O=x[w];e:for(var _=A,N=E*A;_<h;++_,N+=E){var z=l[m+N],B=l[m+N+u],U=p[_];if(!(b<z||B<L)){for(var F=m+1;F<u;++F){var V=l[F+N],j=l[F+u+N],$=P[F+i],ne=P[F+u+i];if(j<$||ne<V)continue e}var oe=c(U,O);if(oe!==void 0)return oe}}}}function f(u,m,c,A,h,l,p,M,S,P,x){return h-A>S-M?n(u,m,c,A,h,l,p,M,S,P,x):o(u,m,c,A,h,l,p,M,S,P,x)}return f}function r(){function n(c,A,h,l,p,M,S,P,x,E,w){for(var i=2*c,L=l,b=i*l;L<p;++L,b+=i){var O=M[A+b],_=M[A+b+c],N=S[L];e:for(var z=P,B=i*P;z<x;++z,B+=i){var U=E[A+B],F=w[z];if(!(U<=O||_<U)){for(var V=A+1;V<c;++V){var j=M[V+b],$=M[V+c+b],ne=E[V+B],oe=E[V+c+B];if($<ne||oe<j)continue e}var ce=h(F,N);if(ce!==void 0)return ce}}}}function o(c,A,h,l,p,M,S,P,x,E,w){for(var i=2*c,L=l,b=i*l;L<p;++L,b+=i){var O=M[A+b],_=M[A+b+c],N=S[L];e:for(var z=P,B=i*P;z<x;++z,B+=i){var U=E[A+B],F=w[z];if(!(U<O||_<U)){for(var V=A+1;V<c;++V){var j=M[V+b],$=M[V+c+b],ne=E[V+B],oe=E[V+c+B];if($<ne||oe<j)continue e}var ce=h(N,F);if(ce!==void 0)return ce}}}}function f(c,A,h,l,p,M,S,P,x,E,w){for(var i=2*c,L=P,b=i*P;L<x;++L,b+=i){var O=E[A+b],_=w[L];e:for(var N=l,z=i*l;N<p;++N,z+=i){var B=M[A+z],U=M[A+z+c],F=S[N];if(!(O<=B||U<O)){for(var V=A+1;V<c;++V){var j=M[V+z],$=M[V+c+z],ne=E[V+b],oe=E[V+c+b];if($<ne||oe<j)continue e}var ce=h(_,F);if(ce!==void 0)return ce}}}}function u(c,A,h,l,p,M,S,P,x,E,w){for(var i=2*c,L=P,b=i*P;L<x;++L,b+=i){var O=E[A+b],_=w[L];e:for(var N=l,z=i*l;N<p;++N,z+=i){var B=M[A+z],U=M[A+z+c],F=S[N];if(!(O<B||U<O)){for(var V=A+1;V<c;++V){var j=M[V+z],$=M[V+c+z],ne=E[V+b],oe=E[V+c+b];if($<ne||oe<j)continue e}var ce=h(F,_);if(ce!==void 0)return ce}}}}function m(c,A,h,l,p,M,S,P,x,E,w,i){return M-p>E-x?l?n(c,A,h,p,M,S,P,x,E,w,i):o(c,A,h,p,M,S,P,x,E,w,i):l?f(c,A,h,p,M,S,P,x,E,w,i):u(c,A,h,p,M,S,P,x,E,w,i)}return m}function s(n){return n?t():r()}y.partial=s(!1),y.full=s(!0)},2337:function(v,y,t){v.exports=U;var r=t(5306),s=t(2288),n=t(7333),o=n.partial,f=n.full,u=t(1390),m=t(2464),c=t(122),A=128,h=1<<22,l=1<<22,p=c("!(lo>=p0)&&!(p1>=hi)"),M=c("lo===p0"),S=c("lo<p0"),P=c("hi<=p0"),x=c("lo<=p0&&p0<=hi"),E=c("lo<p0&&p0<=hi"),w=6,i=2,L=1024,b=r.mallocInt32(L),O=r.mallocDouble(L);function _(F,V){var j=8*s.log2(V+1)*(F+1)|0,$=s.nextPow2(w*j);b.length<$&&(r.free(b),b=r.mallocInt32($));var ne=s.nextPow2(i*j);O.length<ne&&(r.free(O),O=r.mallocDouble(ne))}function N(F,V,j,$,ne,oe,ce,Q,Z){var K=w*F;b[K]=V,b[K+1]=j,b[K+2]=$,b[K+3]=ne,b[K+4]=oe,b[K+5]=ce;var J=i*F;O[J]=Q,O[J+1]=Z}function z(F,V,j,$,ne,oe,ce,Q,Z,K,J){var re=2*F,le=Z*re,q=K[le+V];e:for(var ee=ne,ue=ne*re;ee<oe;++ee,ue+=re){var se=ce[ue+V],he=ce[ue+V+F];if(!(q<se||he<q)&&!($&&q===se)){for(var me=Q[ee],Ce=V+1;Ce<F;++Ce){var se=ce[ue+Ce],he=ce[ue+Ce+F],Te=K[le+Ce],Oe=K[le+Ce+F];if(he<Te||Oe<se)continue e}var Ne;if($?Ne=j(J,me):Ne=j(me,J),Ne!==void 0)return Ne}}}function B(F,V,j,$,ne,oe,ce,Q,Z,K){var J=2*F,re=Q*J,le=Z[re+V];e:for(var q=$,ee=$*J;q<ne;++q,ee+=J){var ue=ce[q];if(ue!==K){var se=oe[ee+V],he=oe[ee+V+F];if(!(le<se||he<le)){for(var me=V+1;me<F;++me){var se=oe[ee+me],he=oe[ee+me+F],Ce=Z[re+me],Te=Z[re+me+F];if(he<Ce||Te<se)continue e}var Oe=j(ue,K);if(Oe!==void 0)return Oe}}}}function U(F,V,j,$,ne,oe,ce,Q,Z){_(F,$+ce);var K=0,J=2*F,re;for(N(K++,0,0,$,0,ce,j?16:0,-1/0,1/0),j||N(K++,0,0,ce,0,$,1,-1/0,1/0);K>0;){K-=1;var le=K*w,q=b[le],ee=b[le+1],ue=b[le+2],se=b[le+3],he=b[le+4],me=b[le+5],Ce=K*i,Te=O[Ce],Oe=O[Ce+1],Ne=me&1,Le=!!(me&16),be=ne,Ae=oe,He=Q,Ve=Z;if(Ne&&(be=Q,Ae=Z,He=ne,Ve=oe),!(me&2&&(ue=S(F,q,ee,ue,be,Ae,Oe),ee>=ue))&&!(me&4&&(ee=P(F,q,ee,ue,be,Ae,Te),ee>=ue))){var ke=ue-ee,Ge=he-se;if(Le){if(F*ke*(ke+Ge)<l){if(re=u.scanComplete(F,q,V,ee,ue,be,Ae,se,he,He,Ve),re!==void 0)return re;continue}}else if(F*Math.min(ke,Ge)<A){if(re=o(F,q,V,Ne,ee,ue,be,Ae,se,he,He,Ve),re!==void 0)return re;continue}else if(F*ke*Ge<h){if(re=u.scanBipartite(F,q,V,Ne,ee,ue,be,Ae,se,he,He,Ve),re!==void 0)return re;continue}var it=p(F,q,ee,ue,be,Ae,Te,Oe);if(ee<it)if(F*(it-ee)<A){if(re=f(F,q+1,V,ee,it,be,Ae,se,he,He,Ve),re!==void 0)return re}else if(q===F-2){if(Ne?re=u.sweepBipartite(F,V,se,he,He,Ve,ee,it,be,Ae):re=u.sweepBipartite(F,V,ee,it,be,Ae,se,he,He,Ve),re!==void 0)return re}else N(K++,q+1,ee,it,se,he,Ne,-1/0,1/0),N(K++,q+1,se,he,ee,it,Ne^1,-1/0,1/0);if(it<ue){var et=m(F,q,se,he,He,Ve),tt=He[J*et+q],at=M(F,q,et,he,He,Ve,tt);if(at<he&&N(K++,q,it,ue,at,he,(Ne|4)+(Le?16:0),tt,Oe),se<et&&N(K++,q,it,ue,se,et,(Ne|2)+(Le?16:0),Te,tt),et+1===at){if(Le?re=B(F,q,V,it,ue,be,Ae,et,He,Ve[et]):re=z(F,q,V,Ne,it,ue,be,Ae,et,He,Ve[et]),re!==void 0)return re}else if(et<at){var vt;if(Le){if(vt=x(F,q,it,ue,be,Ae,tt),it<vt){var yt=M(F,q,it,vt,be,Ae,tt);if(q===F-2){if(it<yt&&(re=u.sweepComplete(F,V,it,yt,be,Ae,et,at,He,Ve),re!==void 0)||yt<vt&&(re=u.sweepBipartite(F,V,yt,vt,be,Ae,et,at,He,Ve),re!==void 0))return re}else it<yt&&N(K++,q+1,it,yt,et,at,16,-1/0,1/0),yt<vt&&(N(K++,q+1,yt,vt,et,at,0,-1/0,1/0),N(K++,q+1,et,at,yt,vt,1,-1/0,1/0))}}else Ne?vt=E(F,q,it,ue,be,Ae,tt):vt=x(F,q,it,ue,be,Ae,tt),it<vt&&(q===F-2?Ne?re=u.sweepBipartite(F,V,et,at,He,Ve,it,vt,be,Ae):re=u.sweepBipartite(F,V,it,vt,be,Ae,et,at,He,Ve):(N(K++,q+1,it,vt,et,at,Ne,-1/0,1/0),N(K++,q+1,et,at,it,vt,Ne^1,-1/0,1/0)))}}}}}},2464:function(v,y,t){v.exports=f;var r=t(122),s=r("lo<p0"),n=8;function o(u,m,c,A,h,l){for(var p=2*u,M=p*(c+1)+m,S=c+1;S<A;++S,M+=p)for(var P=h[M],x=S,E=p*(S-1);x>c&&h[E+m]>P;--x,E-=p){for(var w=E,i=E+p,L=0;L<p;++L,++w,++i){var b=h[w];h[w]=h[i],h[i]=b}var O=l[x];l[x]=l[x-1],l[x-1]=O}}function f(u,m,c,A,h,l){if(A<=c+1)return c;for(var p=c,M=A,S=A+c>>>1,P=2*u,x=S,E=h[P*S+m];p<M;){if(M-p<n){o(u,m,p,M,h,l),E=h[P*S+m];break}var w=M-p,i=Math.random()*w+p|0,L=h[P*i+m],b=Math.random()*w+p|0,O=h[P*b+m],_=Math.random()*w+p|0,N=h[P*_+m];L<=O?N>=O?(x=b,E=O):L>=N?(x=i,E=L):(x=_,E=N):O>=N?(x=b,E=O):N>=L?(x=i,E=L):(x=_,E=N);for(var U=P*(M-1),F=P*x,z=0;z<P;++z,++U,++F){var B=h[U];h[U]=h[F],h[F]=B}var V=l[M-1];l[M-1]=l[x],l[x]=V,x=s(u,m,p,M-1,h,l,E);for(var U=P*(M-1),F=P*x,z=0;z<P;++z,++U,++F){var B=h[U];h[U]=h[F],h[F]=B}var V=l[M-1];if(l[M-1]=l[x],l[x]=V,S<x){for(M=x-1;p<M&&h[P*(M-1)+m]===E;)M-=1;M+=1}else if(x<S)for(p=x+1;p<M&&h[P*p+m]===E;)p+=1;else break}return s(u,m,c,S,h,l,h[P*S+m])}},122:function(v){v.exports=t;var y={"lo===p0":r,"lo<p0":s,"lo<=p0":n,"hi<=p0":o,"lo<p0&&p0<=hi":u,"lo<=p0&&p0<=hi":f,"!(lo>=p0)&&!(p1>=hi)":m};function t(c){return y[c]}function r(c,A,h,l,p,M,S){for(var P=2*c,x=P*h,E=x,w=h,i=A,L=c+A,b=h;l>b;++b,x+=P){var O=p[x+i];if(O===S)if(w===b)w+=1,E+=P;else{for(var _=0;P>_;++_){var N=p[x+_];p[x+_]=p[E],p[E++]=N}var z=M[b];M[b]=M[w],M[w++]=z}}return w}function s(c,A,h,l,p,M,S){for(var P=2*c,x=P*h,E=x,w=h,i=A,L=c+A,b=h;l>b;++b,x+=P){var O=p[x+i];if(O<S)if(w===b)w+=1,E+=P;else{for(var _=0;P>_;++_){var N=p[x+_];p[x+_]=p[E],p[E++]=N}var z=M[b];M[b]=M[w],M[w++]=z}}return w}function n(c,A,h,l,p,M,S){for(var P=2*c,x=P*h,E=x,w=h,i=A,L=c+A,b=h;l>b;++b,x+=P){var O=p[x+L];if(O<=S)if(w===b)w+=1,E+=P;else{for(var _=0;P>_;++_){var N=p[x+_];p[x+_]=p[E],p[E++]=N}var z=M[b];M[b]=M[w],M[w++]=z}}return w}function o(c,A,h,l,p,M,S){for(var P=2*c,x=P*h,E=x,w=h,i=A,L=c+A,b=h;l>b;++b,x+=P){var O=p[x+L];if(O<=S)if(w===b)w+=1,E+=P;else{for(var _=0;P>_;++_){var N=p[x+_];p[x+_]=p[E],p[E++]=N}var z=M[b];M[b]=M[w],M[w++]=z}}return w}function f(c,A,h,l,p,M,S){for(var P=2*c,x=P*h,E=x,w=h,i=A,L=c+A,b=h;l>b;++b,x+=P){var O=p[x+i],_=p[x+L];if(O<=S&&S<=_)if(w===b)w+=1,E+=P;else{for(var N=0;P>N;++N){var z=p[x+N];p[x+N]=p[E],p[E++]=z}var B=M[b];M[b]=M[w],M[w++]=B}}return w}function u(c,A,h,l,p,M,S){for(var P=2*c,x=P*h,E=x,w=h,i=A,L=c+A,b=h;l>b;++b,x+=P){var O=p[x+i],_=p[x+L];if(O<S&&S<=_)if(w===b)w+=1,E+=P;else{for(var N=0;P>N;++N){var z=p[x+N];p[x+N]=p[E],p[E++]=z}var B=M[b];M[b]=M[w],M[w++]=B}}return w}function m(c,A,h,l,p,M,S,P){for(var x=2*c,E=x*h,w=E,i=h,L=A,b=c+A,O=h;l>O;++O,E+=x){var _=p[E+L],N=p[E+b];if(!(_>=S)&&!(P>=N))if(i===O)i+=1,w+=x;else{for(var z=0;x>z;++z){var B=p[E+z];p[E+z]=p[w],p[w++]=B}var U=M[O];M[O]=M[i],M[i++]=U}}return i}},309:function(v){v.exports=t;var y=32;function t(A,h){h<=4*y?r(0,h-1,A):c(0,h-1,A)}function r(A,h,l){for(var p=2*(A+1),M=A+1;M<=h;++M){for(var S=l[p++],P=l[p++],x=M,E=p-2;x-- >A;){var w=l[E-2],i=l[E-1];if(w<S)break;if(w===S&&i<P)break;l[E]=w,l[E+1]=i,E-=2}l[E]=S,l[E+1]=P}}function s(A,h,l){A*=2,h*=2;var p=l[A],M=l[A+1];l[A]=l[h],l[A+1]=l[h+1],l[h]=p,l[h+1]=M}function n(A,h,l){A*=2,h*=2,l[A]=l[h],l[A+1]=l[h+1]}function o(A,h,l,p){A*=2,h*=2,l*=2;var M=p[A],S=p[A+1];p[A]=p[h],p[A+1]=p[h+1],p[h]=p[l],p[h+1]=p[l+1],p[l]=M,p[l+1]=S}function f(A,h,l,p,M){A*=2,h*=2,M[A]=M[h],M[h]=l,M[A+1]=M[h+1],M[h+1]=p}function u(A,h,l){A*=2,h*=2;var p=l[A],M=l[h];return p<M?!1:p===M?l[A+1]>l[h+1]:!0}function m(A,h,l,p){A*=2;var M=p[A];return M<h?!0:M===h?p[A+1]<l:!1}function c(A,h,l){var p=(h-A+1)/6|0,M=A+p,S=h-p,P=A+h>>1,x=P-p,E=P+p,w=M,i=x,L=P,b=E,O=S,_=A+1,N=h-1,z=0;u(w,i,l)&&(z=w,w=i,i=z),u(b,O,l)&&(z=b,b=O,O=z),u(w,L,l)&&(z=w,w=L,L=z),u(i,L,l)&&(z=i,i=L,L=z),u(w,b,l)&&(z=w,w=b,b=z),u(L,b,l)&&(z=L,L=b,b=z),u(i,O,l)&&(z=i,i=O,O=z),u(i,L,l)&&(z=i,i=L,L=z),u(b,O,l)&&(z=b,b=O,O=z);for(var B=l[2*i],U=l[2*i+1],F=l[2*b],V=l[2*b+1],j=2*w,$=2*L,ne=2*O,oe=2*M,ce=2*P,Q=2*S,Z=0;Z<2;++Z){var K=l[j+Z],J=l[$+Z],re=l[ne+Z];l[oe+Z]=K,l[ce+Z]=J,l[Q+Z]=re}n(x,A,l),n(E,h,l);for(var le=_;le<=N;++le)if(m(le,B,U,l))le!==_&&s(le,_,l),++_;else if(!m(le,F,V,l))for(;;)if(m(N,F,V,l)){m(N,B,U,l)?(o(le,_,N,l),++_,--N):(s(le,N,l),--N);break}else{if(--N<le)break;continue}f(A,_-1,B,U,l),f(h,N+1,F,V,l),_-2-A<=y?r(A,_-2,l):c(A,_-2,l),h-(N+2)<=y?r(N+2,h,l):c(N+2,h,l),N-_<=y?r(_,N,l):c(_,N,l)}},1390:function(v,y,t){v.exports={init:M,sweepBipartite:x,sweepComplete:E,scanBipartite:w,scanComplete:i};var r=t(5306),s=t(2288),n=t(309),o=1<<28,f=1024,u=r.mallocInt32(f),m=r.mallocInt32(f),c=r.mallocInt32(f),A=r.mallocInt32(f),h=r.mallocInt32(f),l=r.mallocInt32(f),p=r.mallocDouble(f*8);function M(L){var b=s.nextPow2(L);u.length<b&&(r.free(u),u=r.mallocInt32(b)),m.length<b&&(r.free(m),m=r.mallocInt32(b)),c.length<b&&(r.free(c),c=r.mallocInt32(b)),A.length<b&&(r.free(A),A=r.mallocInt32(b)),h.length<b&&(r.free(h),h=r.mallocInt32(b)),l.length<b&&(r.free(l),l=r.mallocInt32(b));var O=8*b;p.length<O&&(r.free(p),p=r.mallocDouble(O))}function S(L,b,O,_){var N=b[_],z=L[O-1];L[N]=z,b[z]=N}function P(L,b,O,_){L[O]=_,b[_]=O}function x(L,b,O,_,N,z,B,U,F,V){for(var j=0,$=2*L,ne=L-1,oe=$-1,ce=O;ce<_;++ce){var Q=z[ce],Z=$*ce;p[j++]=N[Z+ne],p[j++]=-(Q+1),p[j++]=N[Z+oe],p[j++]=Q}for(var ce=B;ce<U;++ce){var Q=V[ce]+o,K=$*ce;p[j++]=F[K+ne],p[j++]=-Q,p[j++]=F[K+oe],p[j++]=Q}var J=j>>>1;n(p,J);for(var re=0,le=0,ce=0;ce<J;++ce){var q=p[2*ce+1]|0;if(q>=o)q=q-o|0,S(c,A,le--,q);else if(q>=0)S(u,m,re--,q);else if(q<=-o){q=-q-o|0;for(var ee=0;ee<re;++ee){var ue=b(u[ee],q);if(ue!==void 0)return ue}P(c,A,le++,q)}else{q=-q-1|0;for(var ee=0;ee<le;++ee){var ue=b(q,c[ee]);if(ue!==void 0)return ue}P(u,m,re++,q)}}}function E(L,b,O,_,N,z,B,U,F,V){for(var j=0,$=2*L,ne=L-1,oe=$-1,ce=O;ce<_;++ce){var Q=z[ce]+1<<1,Z=$*ce;p[j++]=N[Z+ne],p[j++]=-Q,p[j++]=N[Z+oe],p[j++]=Q}for(var ce=B;ce<U;++ce){var Q=V[ce]+1<<1,K=$*ce;p[j++]=F[K+ne],p[j++]=-Q|1,p[j++]=F[K+oe],p[j++]=Q|1}var J=j>>>1;n(p,J);for(var re=0,le=0,q=0,ce=0;ce<J;++ce){var ee=p[2*ce+1]|0,ue=ee&1;if(ce<J-1&&ee>>1===p[2*ce+3]>>1&&(ue=2,ce+=1),ee<0){for(var se=-(ee>>1)-1,he=0;he<q;++he){var me=b(h[he],se);if(me!==void 0)return me}if(ue!==0)for(var he=0;he<re;++he){var me=b(u[he],se);if(me!==void 0)return me}if(ue!==1)for(var he=0;he<le;++he){var me=b(c[he],se);if(me!==void 0)return me}ue===0?P(u,m,re++,se):ue===1?P(c,A,le++,se):ue===2&&P(h,l,q++,se)}else{var se=(ee>>1)-1;ue===0?S(u,m,re--,se):ue===1?S(c,A,le--,se):ue===2&&S(h,l,q--,se)}}}function w(L,b,O,_,N,z,B,U,F,V,j,$){var ne=0,oe=2*L,ce=b,Q=b+L,Z=1,K=1;_?K=o:Z=o;for(var J=N;J<z;++J){var re=J+Z,le=oe*J;p[ne++]=B[le+ce],p[ne++]=-re,p[ne++]=B[le+Q],p[ne++]=re}for(var J=F;J<V;++J){var re=J+K,q=oe*J;p[ne++]=j[q+ce],p[ne++]=-re}var ee=ne>>>1;n(p,ee);for(var ue=0,J=0;J<ee;++J){var se=p[2*J+1]|0;if(se<0){var re=-se,he=!1;if(re>=o?(he=!_,re-=o):(he=!!_,re-=1),he)P(u,m,ue++,re);else{var me=$[re],Ce=oe*re,Te=j[Ce+b+1],Oe=j[Ce+b+1+L];e:for(var Ne=0;Ne<ue;++Ne){var Le=u[Ne],be=oe*Le;if(!(Oe<B[be+b+1]||B[be+b+1+L]<Te)){for(var Ae=b+2;Ae<L;++Ae)if(j[Ce+Ae+L]<B[be+Ae]||B[be+Ae+L]<j[Ce+Ae])continue e;var He=U[Le],Ve;if(_?Ve=O(me,He):Ve=O(He,me),Ve!==void 0)return Ve}}}}else S(u,m,ue--,se-Z)}}function i(L,b,O,_,N,z,B,U,F,V,j){for(var $=0,ne=2*L,oe=b,ce=b+L,Q=_;Q<N;++Q){var Z=Q+o,K=ne*Q;p[$++]=z[K+oe],p[$++]=-Z,p[$++]=z[K+ce],p[$++]=Z}for(var Q=U;Q<F;++Q){var Z=Q+1,J=ne*Q;p[$++]=V[J+oe],p[$++]=-Z}var re=$>>>1;n(p,re);for(var le=0,Q=0;Q<re;++Q){var q=p[2*Q+1]|0;if(q<0){var Z=-q;if(Z>=o)u[le++]=Z-o;else{Z-=1;var ee=j[Z],ue=ne*Z,se=V[ue+b+1],he=V[ue+b+1+L];e:for(var me=0;me<le;++me){var Ce=u[me],Te=B[Ce];if(Te===ee)break;var Oe=ne*Ce;if(!(he<z[Oe+b+1]||z[Oe+b+1+L]<se)){for(var Ne=b+2;Ne<L;++Ne)if(V[ue+Ne+L]<z[Oe+Ne]||z[Oe+Ne+L]<V[ue+Ne])continue e;var Le=O(Te,ee);if(Le!==void 0)return Le}}}}else{for(var Z=q-o,me=le-1;me>=0;--me)if(u[me]===Z){for(var Ne=me+1;Ne<le;++Ne)u[Ne-1]=u[Ne];break}--le}}}},7761:function(v,y,t){var r=t(9971),s=t(743),n=t(2161),o=t(7098);v.exports=A;function f(h){return[Math.min(h[0],h[1]),Math.max(h[0],h[1])]}function u(h,l){return h[0]-l[0]||h[1]-l[1]}function m(h){return h.map(f).sort(u)}function c(h,l,p){return l in h?h[l]:p}function A(h,l,p){Array.isArray(l)?(p=p||{},l=l||[]):(p=l||{},l=[]);var M=!!c(p,"delaunay",!0),S=!!c(p,"interior",!0),P=!!c(p,"exterior",!0),x=!!c(p,"infinity",!1);if(!S&&!P||h.length===0)return[];var E=r(h,l);if(M||S!==P||x){for(var w=s(h.length,m(l)),i=0;i<E.length;++i){var L=E[i];w.addTriangle(L[0],L[1],L[2])}return M&&n(h,w),P?S?x?o(w,0,x):w.cells():o(w,1,x):o(w,-1)}else return E}},2161:function(v,y,t){var r=t(2227)[4];t(5070),v.exports=n;function s(o,f,u,m,c,A){var h=f.opposite(m,c);if(!(h<0)){if(c<m){var l=m;m=c,c=l,l=A,A=h,h=l}f.isConstraint(m,c)||r(o[m],o[c],o[A],o[h])<0&&u.push(m,c)}}function n(o,f){for(var u=[],m=o.length,c=f.stars,A=0;A<m;++A)for(var h=c[A],l=1;l<h.length;l+=2){var p=h[l];if(!(p<A)&&!f.isConstraint(A,p)){for(var M=h[l-1],S=-1,P=1;P<h.length;P+=2)if(h[P-1]===p){S=h[P];break}S<0||r(o[A],o[p],o[M],o[S])<0&&u.push(A,p)}}for(;u.length>0;){for(var p=u.pop(),A=u.pop(),M=-1,S=-1,h=c[A],x=1;x<h.length;x+=2){var E=h[x-1],w=h[x];E===p?S=w:w===p&&(M=E)}M<0||S<0||r(o[A],o[p],o[M],o[S])>=0||(f.flip(A,p),s(o,f,u,M,A,S),s(o,f,u,A,S,M),s(o,f,u,S,p,M),s(o,f,u,p,M,S))}}},7098:function(v,y,t){var r=t(5070);v.exports=m;function s(c,A,h,l,p,M,S){this.cells=c,this.neighbor=A,this.flags=l,this.constraint=h,this.active=p,this.next=M,this.boundary=S}var n=s.prototype;function o(c,A){return c[0]-A[0]||c[1]-A[1]||c[2]-A[2]}n.locate=function(){var c=[0,0,0];return function(A,h,l){var p=A,M=h,S=l;return h<l?h<A&&(p=h,M=l,S=A):l<A&&(p=l,M=A,S=h),p<0?-1:(c[0]=p,c[1]=M,c[2]=S,r.eq(this.cells,c,o))}}();function f(c,A){for(var h=c.cells(),l=h.length,p=0;p<l;++p){var M=h[p],S=M[0],P=M[1],x=M[2];P<x?P<S&&(M[0]=P,M[1]=x,M[2]=S):x<S&&(M[0]=x,M[1]=S,M[2]=P)}h.sort(o);for(var E=new Array(l),p=0;p<E.length;++p)E[p]=0;var w=[],i=[],L=new Array(3*l),b=new Array(3*l),O=null;A&&(O=[]);for(var _=new s(h,L,b,E,w,i,O),p=0;p<l;++p)for(var M=h[p],N=0;N<3;++N){var S=M[N],P=M[(N+1)%3],z=L[3*p+N]=_.locate(P,S,c.opposite(P,S)),B=b[3*p+N]=c.isConstraint(S,P);z<0&&(B?i.push(p):(w.push(p),E[p]=1),A&&O.push([P,S,-1]))}return _}function u(c,A,h){for(var l=0,p=0;p<c.length;++p)A[p]===h&&(c[l++]=c[p]);return c.length=l,c}function m(c,A,h){var l=f(c,h);if(A===0)return h?l.cells.concat(l.boundary):l.cells;for(var p=1,M=l.active,S=l.next,P=l.flags,x=l.cells,E=l.constraint,w=l.neighbor;M.length>0||S.length>0;){for(;M.length>0;){var i=M.pop();if(P[i]!==-p){P[i]=p,x[i];for(var L=0;L<3;++L){var b=w[3*i+L];b>=0&&P[b]===0&&(E[3*i+L]?S.push(b):(M.push(b),P[b]=p))}}}var O=S;S=M,M=O,S.length=0,p=-p}var _=u(x,P,A);return h?_.concat(l.boundary):_}},9971:function(v,y,t){var r=t(5070),s=t(417)[3],n=0,o=1,f=2;v.exports=S;function u(P,x,E,w,i){this.a=P,this.b=x,this.idx=E,this.lowerIds=w,this.upperIds=i}function m(P,x,E,w){this.a=P,this.b=x,this.type=E,this.idx=w}function c(P,x){var E=P.a[0]-x.a[0]||P.a[1]-x.a[1]||P.type-x.type;return E||P.type!==n&&(E=s(P.a,P.b,x.b),E)?E:P.idx-x.idx}function A(P,x){return s(P.a,P.b,x)}function h(P,x,E,w,i){for(var L=r.lt(x,w,A),b=r.gt(x,w,A),O=L;O<b;++O){for(var _=x[O],N=_.lowerIds,B=N.length;B>1&&s(E[N[B-2]],E[N[B-1]],w)>0;)P.push([N[B-1],N[B-2],i]),B-=1;N.length=B,N.push(i);for(var z=_.upperIds,B=z.length;B>1&&s(E[z[B-2]],E[z[B-1]],w)<0;)P.push([z[B-2],z[B-1],i]),B-=1;z.length=B,z.push(i)}}function l(P,x){var E;return P.a[0]<x.a[0]?E=s(P.a,P.b,x.a):E=s(x.b,x.a,P.a),E||(x.b[0]<P.b[0]?E=s(P.a,P.b,x.b):E=s(x.b,x.a,P.b),E||P.idx-x.idx)}function p(P,x,E){var w=r.le(P,E,l),i=P[w],L=i.upperIds,b=L[L.length-1];i.upperIds=[b],P.splice(w+1,0,new u(E.a,E.b,E.idx,[b],L))}function M(P,x,E){var w=E.a;E.a=E.b,E.b=w;var i=r.eq(P,E,l),L=P[i],b=P[i-1];b.upperIds=L.upperIds,P.splice(i,1)}function S(P,x){for(var E=P.length,w=x.length,i=[],L=0;L<E;++L)i.push(new m(P[L],null,n,L));for(var L=0;L<w;++L){var b=x[L],O=P[b[0]],_=P[b[1]];O[0]<_[0]?i.push(new m(O,_,f,L),new m(_,O,o,L)):O[0]>_[0]&&i.push(new m(_,O,f,L),new m(O,_,o,L))}i.sort(c);for(var N=i[0].a[0]-(1+Math.abs(i[0].a[0]))*Math.pow(2,-52),z=[new u([N,1],[N,0],-1,[],[])],B=[],L=0,U=i.length;L<U;++L){var F=i[L],V=F.type;V===n?h(B,z,P,F.a,F.idx):V===f?p(z,P,F):M(z,P,F)}return B}},743:function(v,y,t){var r=t(5070);v.exports=f;function s(u,m){this.stars=u,this.edges=m}var n=s.prototype;function o(u,m,c){for(var A=1,h=u.length;A<h;A+=2)if(u[A-1]===m&&u[A]===c){u[A-1]=u[h-2],u[A]=u[h-1],u.length=h-2;return}}n.isConstraint=function(){var u=[0,0];function m(c,A){return c[0]-A[0]||c[1]-A[1]}return function(c,A){return u[0]=Math.min(c,A),u[1]=Math.max(c,A),r.eq(this.edges,u,m)>=0}}(),n.removeTriangle=function(u,m,c){var A=this.stars;o(A[u],m,c),o(A[m],c,u),o(A[c],u,m)},n.addTriangle=function(u,m,c){var A=this.stars;A[u].push(m,c),A[m].push(c,u),A[c].push(u,m)},n.opposite=function(u,m){for(var c=this.stars[m],A=1,h=c.length;A<h;A+=2)if(c[A]===u)return c[A-1];return-1},n.flip=function(u,m){var c=this.opposite(u,m),A=this.opposite(m,u);this.removeTriangle(u,m,c),this.removeTriangle(m,u,A),this.addTriangle(u,A,c),this.addTriangle(m,c,A)},n.edges=function(){for(var u=this.stars,m=[],c=0,A=u.length;c<A;++c)for(var h=u[c],l=0,p=h.length;l<p;l+=2)m.push([h[l],h[l+1]]);return m},n.cells=function(){for(var u=this.stars,m=[],c=0,A=u.length;c<A;++c)for(var h=u[c],l=0,p=h.length;l<p;l+=2){var M=h[l],S=h[l+1];c<Math.min(M,S)&&m.push([c,M,S])}return m};function f(u,m){for(var c=new Array(u),A=0;A<u;++A)c[A]=[];return new s(c,m)}},9887:function(v){v.exports=y;function y(t){for(var r=1,s=1;s<t.length;++s)for(var n=0;n<s;++n)if(t[s]<t[n])r=-r;else if(t[n]===t[s])return 0;return r}},9243:function(v,y,t){var r=t(3094),s=t(6606);function n(u,m){for(var c=0,A=u.length,h=0;h<A;++h)c+=u[h]*m[h];return c}function o(u){var m=u.length;if(m===0)return[];u[0].length;var c=r([u.length+1,u.length+1],1),A=r([u.length+1],1);c[m][m]=0;for(var h=0;h<m;++h){for(var l=0;l<=h;++l)c[l][h]=c[h][l]=2*n(u[h],u[l]);A[h]=n(u[h],u[h])}for(var p=s(c,A),M=0,S=p[m+1],h=0;h<S.length;++h)M+=S[h];for(var P=new Array(m),h=0;h<m;++h){for(var S=p[h],x=0,l=0;l<S.length;++l)x+=S[l];P[h]=x/M}return P}function f(u){if(u.length===0)return[];for(var m=u[0].length,c=r([m]),A=o(u),h=0;h<u.length;++h)for(var l=0;l<m;++l)c[l]+=u[h][l]*A[h];return c}f.barycenetric=o,v.exports=f},1778:function(v,y,t){v.exports=s;var r=t(9243);function s(n){for(var o=r(n),f=0,u=0;u<n.length;++u)for(var m=n[u],c=0;c<o.length;++c)f+=Math.pow(m[c]-o[c],2);return Math.sqrt(f/n.length)}},197:function(v,y,t){v.exports=O;var r=t(1731),s=t(2569),n=t(4434),o=t(5125),f=t(8846),u=t(7999),m=t(2826),c=t(8551),A=t(5528);function h(_){var N=u(_);return[c(N,-1/0),c(N,1/0)]}function l(_,N){for(var z=new Array(N.length),B=0;B<N.length;++B){var U=N[B],F=_[U[0]],V=_[U[1]];z[B]=[c(Math.min(F[0],V[0]),-1/0),c(Math.min(F[1],V[1]),-1/0),c(Math.max(F[0],V[0]),1/0),c(Math.max(F[1],V[1]),1/0)]}return z}function p(_){for(var N=new Array(_.length),z=0;z<_.length;++z){var B=_[z];N[z]=[c(B[0],-1/0),c(B[1],-1/0),c(B[0],1/0),c(B[1],1/0)]}return N}function M(_,N,z){var B=[];return s(z,function(U,F){var V=N[U],j=N[F];if(!(V[0]===j[0]||V[0]===j[1]||V[1]===j[0]||V[1]===j[1])){var $=_[V[0]],ne=_[V[1]],oe=_[j[0]],ce=_[j[1]];n($,ne,oe,ce)&&B.push([U,F])}}),B}function S(_,N,z,B){var U=[];return s(z,B,function(F,V){var j=N[F];if(!(j[0]===V||j[1]===V)){var $=_[V],ne=_[j[0]],oe=_[j[1]];n(ne,oe,$,$)&&U.push([F,V])}}),U}function P(_,N,z,B,U){var F,V,j=_.map(function(Ce){return[o(Ce[0]),o(Ce[1])]});for(F=0;F<z.length;++F){var $=z[F];V=$[0];var ne=$[1],oe=N[V],ce=N[ne],Q=A(m(_[oe[0]]),m(_[oe[1]]),m(_[ce[0]]),m(_[ce[1]]));if(Q){var Z=_.length;_.push([u(Q[0]),u(Q[1])]),j.push(Q),B.push([V,Z],[ne,Z])}}for(B.sort(function(Ce,Te){if(Ce[0]!==Te[0])return Ce[0]-Te[0];var Oe=j[Ce[1]],Ne=j[Te[1]];return f(Oe[0],Ne[0])||f(Oe[1],Ne[1])}),F=B.length-1;F>=0;--F){var K=B[F];V=K[0];var J=N[V],re=J[0],le=J[1],q=_[re],ee=_[le];if((q[0]-ee[0]||q[1]-ee[1])<0){var ue=re;re=le,le=ue}J[0]=re;var se=J[1]=K[1],he;for(U&&(he=J[2]);F>0&&B[F-1][0]===V;){var K=B[--F],me=K[1];U?N.push([se,me,he]):N.push([se,me]),se=me}U?N.push([se,le,he]):N.push([se,le])}return j}function x(_,N,z){for(var B=N.length,U=new r(B),F=[],V=0;V<N.length;++V){var j=N[V],$=h(j[0]),ne=h(j[1]);F.push([c($[0],-1/0),c(ne[0],-1/0),c($[1],1/0),c(ne[1],1/0)])}s(F,function(K,J){U.link(K,J)});for(var oe=!0,ce=new Array(B),V=0;V<B;++V){var Q=U.find(V);Q!==V&&(oe=!1,_[Q]=[Math.min(_[V][0],_[Q][0]),Math.min(_[V][1],_[Q][1])])}if(oe)return null;for(var Z=0,V=0;V<B;++V){var Q=U.find(V);Q===V?(ce[V]=Z,_[Z++]=_[V]):ce[V]=-1}_.length=Z;for(var V=0;V<B;++V)ce[V]<0&&(ce[V]=ce[U.find(V)]);return ce}function E(_,N){return _[0]-N[0]||_[1]-N[1]}function w(_,N){var z=_[0]-N[0]||_[1]-N[1];return z||(_[2]<N[2]?-1:_[2]>N[2]?1:0)}function i(_,N,z){if(_.length!==0){if(N)for(var B=0;B<_.length;++B){var U=_[B],F=N[U[0]],V=N[U[1]];U[0]=Math.min(F,V),U[1]=Math.max(F,V)}else for(var B=0;B<_.length;++B){var U=_[B],F=U[0],V=U[1];U[0]=Math.min(F,V),U[1]=Math.max(F,V)}z?_.sort(w):_.sort(E);for(var j=1,B=1;B<_.length;++B){var $=_[B-1],ne=_[B];ne[0]===$[0]&&ne[1]===$[1]&&(!z||ne[2]===$[2])||(_[j++]=ne)}_.length=j}}function L(_,N,z){var B=x(_,[],p(_));return i(N,B,z),!!B}function b(_,N,z){var B=l(_,N),U=M(_,N,B),F=p(_),V=S(_,N,B,F),j=P(_,N,U,V,z),$=x(_,j);return i(N,$,z),$?!0:U.length>0||V.length>0}function O(_,N,z){var B;if(z){B=N;for(var U=new Array(N.length),F=0;F<N.length;++F){var V=N[F];U[F]=[V[0],V[1],z[F]]}N=U}for(var j=L(_,N,!!z);b(_,N,!!z);)j=!0;if(z&&j){B.length=0,z.length=0;for(var F=0;F<N.length;++F){var V=N[F];B.push([V[0],V[1]]),z.push(V[2])}}return j}},5528:function(v,y,t){v.exports=A;var r=t(3962),s=t(9189),n=t(4354),o=t(4951),f=t(6695),u=t(7584),m=t(4469);function c(h,l){return n(r(h[0],l[1]),r(h[1],l[0]))}function A(h,l,p,M){var S=f(l,h),P=f(M,p),x=c(S,P);if(o(x)===0)return null;var E=f(h,p),w=c(P,E),i=s(w,x),L=m(S,i),b=u(h,L);return b}},5692:function(v){v.exports={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}},9156:function(v,y,t){var r=t(5692),s=t(3578);v.exports=n;function n(m){var c,A,h,l,p,M,S,P,i,x,E;if(m||(m={}),P=(m.nshades||72)-1,S=m.format||"hex",M=m.colormap,M||(M="jet"),typeof M=="string"){if(M=M.toLowerCase(),!r[M])throw Error(M+" not a supported colorscale");p=r[M]}else if(Array.isArray(M))p=M.slice();else throw Error("unsupported colormap option",M);if(p.length>P+1)throw new Error(M+" map requires nshades to be at least size "+p.length);Array.isArray(m.alpha)?m.alpha.length!==2?x=[1,1]:x=m.alpha.slice():typeof m.alpha=="number"?x=[m.alpha,m.alpha]:x=[1,1],c=p.map(function(O){return Math.round(O.index*P)}),x[0]=Math.min(Math.max(x[0],0),1),x[1]=Math.min(Math.max(x[1],0),1);var w=p.map(function(O,_){var N=p[_].index,z=p[_].rgb.slice();return z.length===4&&z[3]>=0&&z[3]<=1||(z[3]=x[0]+(x[1]-x[0])*N),z}),i=[];for(E=0;E<c.length-1;++E){l=c[E+1]-c[E],A=w[E],h=w[E+1];for(var L=0;L<l;L++){var b=L/l;i.push([Math.round(s(A[0],h[0],b)),Math.round(s(A[1],h[1],b)),Math.round(s(A[2],h[2],b)),s(A[3],h[3],b)])}}return i.push(p[p.length-1].rgb.concat(x[1])),S==="hex"?i=i.map(f):S==="rgbaString"?i=i.map(u):S==="float"&&(i=i.map(o)),i}function o(m){return[m[0]/255,m[1]/255,m[2]/255,m[3]]}function f(m){for(var c,A="#",h=0;h<3;++h)c=m[h],c=c.toString(16),A+=("00"+c).substr(c.length);return A}function u(m){return"rgba("+m.join(",")+")"}},9398:function(v,y,t){v.exports=m;var r=t(417),s=t(7538),n=t(87),o=t(2019),f=t(9662);function u(c,A,h){var l=n(c[0],-A[0]),p=n(c[1],-A[1]),M=n(h[0],-A[0]),S=n(h[1],-A[1]),P=f(o(l,M),o(p,S));return P[P.length-1]>=0}function m(c,A,h,l){var p=r(A,h,l);if(p===0){var M=s(r(c,A,h)),S=s(r(c,A,l));if(M===S){if(M===0){var P=u(c,A,h),x=u(c,A,l);return P===x?0:P?1:-1}return 0}else{if(S===0)return M>0||u(c,A,l)?-1:1;if(M===0)return S>0||u(c,A,h)?1:-1}return s(S-M)}var E=r(c,A,h);if(E>0)return p>0&&r(c,A,l)>0?1:-1;if(E<0)return p>0||r(c,A,l)>0?1:-1;var w=r(c,A,l);return w>0||u(c,A,h)?1:-1}},7538:function(v){v.exports=function(t){return t<0?-1:t>0?1:0}},9209:function(v){v.exports=r;var y=Math.min;function t(s,n){return s-n}function r(s,n){var o=s.length,f=s.length-n.length;if(f)return f;switch(o){case 0:return 0;case 1:return s[0]-n[0];case 2:return s[0]+s[1]-n[0]-n[1]||y(s[0],s[1])-y(n[0],n[1]);case 3:var u=s[0]+s[1],m=n[0]+n[1];if(f=u+s[2]-(m+n[2]),f)return f;var c=y(s[0],s[1]),A=y(n[0],n[1]);return y(c,s[2])-y(A,n[2])||y(c+s[2],u)-y(A+n[2],m);case 4:var h=s[0],l=s[1],p=s[2],M=s[3],S=n[0],P=n[1],x=n[2],E=n[3];return h+l+p+M-(S+P+x+E)||y(h,l,p,M)-y(S,P,x,E,S)||y(h+l,h+p,h+M,l+p,l+M,p+M)-y(S+P,S+x,S+E,P+x,P+E,x+E)||y(h+l+p,h+l+M,h+p+M,l+p+M)-y(S+P+x,S+P+E,S+x+E,P+x+E);default:for(var w=s.slice().sort(t),i=n.slice().sort(t),L=0;L<o;++L)if(f=w[L]-i[L],f)return f;return 0}}},1284:function(v,y,t){var r=t(9209),s=t(9887);v.exports=n;function n(o,f){return r(o,f)||s(o)-s(f)}},5537:function(v,y,t){var r=t(8950),s=t(8722),n=t(3332);v.exports=o;function o(f){var u=f.length;if(u===0)return[];if(u===1)return[[0]];var m=f[0].length;return m===0?[]:m===1?r(f):m===2?s(f):n(f,m)}},8950:function(v){v.exports=y;function y(t){for(var r=0,s=0,n=1;n<t.length;++n)t[n][0]<t[r][0]&&(r=n),t[n][0]>t[s][0]&&(s=n);return r<s?[[r],[s]]:r>s?[[s],[r]]:[[r]]}},8722:function(v,y,t){v.exports=s;var r=t(3266);function s(n){var o=r(n),f=o.length;if(f<=2)return[];for(var u=new Array(f),m=o[f-1],c=0;c<f;++c){var A=o[c];u[c]=[m,A],m=A}return u}},3332:function(v,y,t){v.exports=f;var r=t(2183),s=t(2153);function n(u,m){for(var c=u.length,A=new Array(c),h=0;h<m.length;++h)A[h]=u[m[h]];for(var l=m.length,h=0;h<c;++h)m.indexOf(h)<0&&(A[l++]=u[h]);return A}function o(u,m){for(var c=u.length,A=m.length,h=0;h<c;++h)for(var l=u[h],p=0;p<l.length;++p){var M=l[p];if(M<A)l[p]=m[M];else{M=M-A;for(var S=0;S<A;++S)M>=m[S]&&(M+=1);l[p]=M}}return u}function f(u,m){try{return r(u,!0)}catch{var c=s(u);if(c.length<=m)return[];var A=n(u,c),h=r(A,!0);return o(h,c)}}},9680:function(v){function y(r,s,n,o,f,u){var m=6*f*f-6*f,c=3*f*f-4*f+1,A=-6*f*f+6*f,h=3*f*f-2*f;if(r.length){u||(u=new Array(r.length));for(var l=r.length-1;l>=0;--l)u[l]=m*r[l]+c*s[l]+A*n[l]+h*o[l];return u}return m*r+c*s+A*n[l]+h*o}function t(r,s,n,o,f,u){var m=f-1,c=f*f,A=m*m,h=(1+2*f)*A,l=f*A,p=c*(3-2*f),M=c*m;if(r.length){u||(u=new Array(r.length));for(var S=r.length-1;S>=0;--S)u[S]=h*r[S]+l*s[S]+p*n[S]+M*o[S];return u}return h*r+l*s+p*n+M*o}v.exports=t,v.exports.derivative=y},4419:function(v,y,t){var r=t(2183),s=t(1215);v.exports=u;function n(m,c){this.point=m,this.index=c}function o(m,c){for(var A=m.point,h=c.point,l=A.length,p=0;p<l;++p){var M=h[p]-A[p];if(M)return M}return 0}function f(m,c,A){if(m===1)return A?[[-1,0]]:[];var h=c.map(function(P,x){return[P[0],x]});h.sort(function(P,x){return P[0]-x[0]});for(var l=new Array(m-1),p=1;p<m;++p){var M=h[p-1],S=h[p];l[p-1]=[M[1],S[1]]}return A&&l.push([-1,l[0][1]],[l[m-1][1],-1]),l}function u(m,c){var A=m.length;if(A===0)return[];var h=m[0].length;if(h<1)return[];if(h===1)return f(A,m,c);for(var l=new Array(A),p=1,M=0;M<A;++M){for(var S=m[M],P=new Array(h+1),x=0,E=0;E<h;++E){var w=S[E];P[E]=w,x+=w*w}P[h]=x,l[M]=new n(P,M),p=Math.max(x,p)}s(l,o),A=l.length;for(var i=new Array(A+h+1),L=new Array(A+h+1),b=(h+1)*(h+1)*p,O=new Array(h+1),M=0;M<=h;++M)O[M]=0;O[h]=b,i[0]=O.slice(),L[0]=-1;for(var M=0;M<=h;++M){var P=O.slice();P[M]=1,i[M+1]=P,L[M+1]=-1}for(var M=0;M<A;++M){var _=l[M];i[M+h+1]=_.point,L[M+h+1]=_.index}var N=r(i,!1);if(c?N=N.filter(function(z){for(var B=0,U=0;U<=h;++U){var F=L[z[U]];if(F<0&&++B>=2)return!1;z[U]=F}return!0}):N=N.filter(function(z){for(var B=0;B<=h;++B){var U=L[z[B]];if(U<0)return!1;z[B]=U}return!0}),h&1)for(var M=0;M<N.length;++M){var _=N[M],P=_[0];_[0]=_[1],_[1]=P}return N}},8362:function(v){var y=!1;if(typeof Float64Array<"u"){var t=new Float64Array(1),r=new Uint32Array(t.buffer);if(t[0]=1,y=!0,r[1]===1072693248){let n=function(u,m){return r[0]=u,r[1]=m,t[0]},o=function(u){return t[0]=u,r[0]},f=function(u){return t[0]=u,r[1]};v.exports=function(m){return t[0]=m,[r[0],r[1]]},v.exports.pack=n,v.exports.lo=o,v.exports.hi=f}else if(r[0]===1072693248){let n=function(u,m){return r[1]=u,r[0]=m,t[0]},o=function(u){return t[0]=u,r[1]},f=function(u){return t[0]=u,r[0]};v.exports=function(m){return t[0]=m,[r[1],r[0]]},v.exports.pack=n,v.exports.lo=o,v.exports.hi=f}else y=!1}if(!y){let n=function(u,m){return s.writeUInt32LE(u,0,!0),s.writeUInt32LE(m,4,!0),s.readDoubleLE(0,!0)},o=function(u){return s.writeDoubleLE(u,0,!0),s.readUInt32LE(0,!0)},f=function(u){return s.writeDoubleLE(u,0,!0),s.readUInt32LE(4,!0)};var s=new Buffer(8);v.exports=function(m){return s.writeDoubleLE(m,0,!0),[s.readUInt32LE(0,!0),s.readUInt32LE(4,!0)]},v.exports.pack=n,v.exports.lo=o,v.exports.hi=f}v.exports.sign=function(n){return v.exports.hi(n)>>>31},v.exports.exponent=function(n){var o=v.exports.hi(n);return(o<<1>>>21)-1023},v.exports.fraction=function(n){var o=v.exports.lo(n),f=v.exports.hi(n),u=f&(1<<20)-1;return f&2146435072&&(u+=1048576),[o,u]},v.exports.denormalized=function(n){var o=v.exports.hi(n);return!(o&2146435072)}},3094:function(v){function y(s,n,o){var f=s[o]|0;if(f<=0)return[];var u=new Array(f),m;if(o===s.length-1)for(m=0;m<f;++m)u[m]=n;else for(m=0;m<f;++m)u[m]=y(s,n,o+1);return u}function t(s,n){var o,f;for(o=new Array(s),f=0;f<s;++f)o[f]=n;return o}function r(s,n){switch(typeof n>"u"&&(n=0),typeof s){case"number":if(s>0)return t(s|0,n);break;case"object":if(typeof s.length=="number")return y(s,n,0);break}return[]}v.exports=r},8348:function(v,y,t){v.exports=s;var r=t(1215);function s(n,o){var f=n.length;if(typeof o!="number"){o=0;for(var u=0;u<f;++u){var m=n[u];o=Math.max(o,m[0],m[1])}o=(o|0)+1}o=o|0;for(var c=new Array(o),u=0;u<o;++u)c[u]=[];for(var u=0;u<f;++u){var m=n[u];c[m[0]].push(m[1]),c[m[1]].push(m[0])}for(var A=0;A<o;++A)r(c[A],function(h,l){return h-l});return c}},5795:function(v){v.exports=y;function y(t,r,s){var n=r||0,o=s||1;return[[t[12]+t[0],t[13]+t[1],t[14]+t[2],t[15]+t[3]],[t[12]-t[0],t[13]-t[1],t[14]-t[2],t[15]-t[3]],[t[12]+t[4],t[13]+t[5],t[14]+t[6],t[15]+t[7]],[t[12]-t[4],t[13]-t[5],t[14]-t[6],t[15]-t[7]],[n*t[12]+t[8],n*t[13]+t[9],n*t[14]+t[10],n*t[15]+t[11]],[o*t[12]-t[8],o*t[13]-t[9],o*t[14]-t[10],o*t[15]-t[11]]]}},8444:function(v,y,t){v.exports=m;var r=t(9680),s=t(5070);function n(c,A,h){return Math.min(A,Math.max(c,h))}function o(c,A,h){this.dimension=c.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var l=0;l<this.dimension;++l)this.bounds[0][l]=-1/0,this.bounds[1][l]=1/0;this._state=c.slice().reverse(),this._velocity=A.slice().reverse(),this._time=[h],this._scratch=[c.slice(),c.slice(),c.slice(),c.slice(),c.slice()]}var f=o.prototype;f.flush=function(c){var A=s.gt(this._time,c)-1;A<=0||(this._time.splice(0,A),this._state.splice(0,A*this.dimension),this._velocity.splice(0,A*this.dimension))},f.curve=function(c){var A=this._time,h=A.length,l=s.le(A,c),p=this._scratch[0],M=this._state,S=this._velocity,P=this.dimension,x=this.bounds;if(l<0)for(var E=P-1,w=0;w<P;++w,--E)p[w]=M[E];else if(l>=h-1)for(var E=M.length-1,i=c-A[h-1],w=0;w<P;++w,--E)p[w]=M[E]+i*S[E];else{for(var E=P*(l+1)-1,L=A[l],b=A[l+1],O=b-L||1,_=this._scratch[1],N=this._scratch[2],z=this._scratch[3],B=this._scratch[4],U=!0,w=0;w<P;++w,--E)_[w]=M[E],z[w]=S[E]*O,N[w]=M[E+P],B[w]=S[E+P]*O,U=U&&_[w]===N[w]&&z[w]===B[w]&&z[w]===0;if(U)for(var w=0;w<P;++w)p[w]=_[w];else r(_,z,N,B,(c-L)/O,p)}for(var F=x[0],V=x[1],w=0;w<P;++w)p[w]=n(F[w],V[w],p[w]);return p},f.dcurve=function(c){var A=this._time,h=A.length,l=s.le(A,c),p=this._scratch[0],M=this._state,S=this._velocity,P=this.dimension;if(l>=h-1){var x=M.length-1;c-A[h-1];for(var E=0;E<P;++E,--x)p[E]=S[x]}else{for(var x=P*(l+1)-1,w=A[l],i=A[l+1],L=i-w||1,b=this._scratch[1],O=this._scratch[2],_=this._scratch[3],N=this._scratch[4],z=!0,E=0;E<P;++E,--x)b[E]=M[x],_[E]=S[x]*L,O[E]=M[x+P],N[E]=S[x+P]*L,z=z&&b[E]===O[E]&&_[E]===N[E]&&_[E]===0;if(z)for(var E=0;E<P;++E)p[E]=0;else{r.derivative(b,_,O,N,(c-w)/L,p);for(var E=0;E<P;++E)p[E]/=L}}return p},f.lastT=function(){var c=this._time;return c[c.length-1]},f.stable=function(){for(var c=this._velocity,A=c.length,h=this.dimension-1;h>=0;--h)if(c[--A])return!1;return!0},f.jump=function(c){var A=this.lastT(),h=this.dimension;if(!(c<A||arguments.length!==h+1)){var l=this._state,p=this._velocity,M=l.length-this.dimension,S=this.bounds,P=S[0],x=S[1];this._time.push(A,c);for(var E=0;E<2;++E)for(var w=0;w<h;++w)l.push(l[M++]),p.push(0);this._time.push(c);for(var w=h;w>0;--w)l.push(n(P[w-1],x[w-1],arguments[w])),p.push(0)}},f.push=function(c){var A=this.lastT(),h=this.dimension;if(!(c<A||arguments.length!==h+1)){var l=this._state,p=this._velocity,M=l.length-this.dimension,S=c-A,P=this.bounds,x=P[0],E=P[1],w=S>1e-6?1/S:0;this._time.push(c);for(var i=h;i>0;--i){var L=n(x[i-1],E[i-1],arguments[i]);l.push(L),p.push((L-l[M++])*w)}}},f.set=function(c){var A=this.dimension;if(!(c<this.lastT()||arguments.length!==A+1)){var h=this._state,l=this._velocity,p=this.bounds,M=p[0],S=p[1];this._time.push(c);for(var P=A;P>0;--P)h.push(n(M[P-1],S[P-1],arguments[P])),l.push(0)}},f.move=function(c){var A=this.lastT(),h=this.dimension;if(!(c<=A||arguments.length!==h+1)){var l=this._state,p=this._velocity,M=l.length-this.dimension,S=this.bounds,P=S[0],x=S[1],E=c-A,w=E>1e-6?1/E:0;this._time.push(c);for(var i=h;i>0;--i){var L=arguments[i];l.push(n(P[i-1],x[i-1],l[M++]+L)),p.push(L*w)}}},f.idle=function(c){var A=this.lastT();if(!(c<A)){var h=this.dimension,l=this._state,p=this._velocity,M=l.length-h,S=this.bounds,P=S[0],x=S[1],E=c-A;this._time.push(c);for(var w=h-1;w>=0;--w)l.push(n(P[w],x[w],l[M]+E*p[M])),p.push(0),M+=1}};function u(c){for(var A=new Array(c),h=0;h<c;++h)A[h]=0;return A}function m(c,A,h){switch(arguments.length){case 0:return new o([0],[0],0);case 1:if(typeof c=="number"){var l=u(c);return new o(l,l,0)}else return new o(c,u(c.length),0);case 2:if(typeof A=="number"){var l=u(c.length);return new o(c,l,+A)}else h=0;case 3:if(c.length!==A.length)throw new Error("state and velocity lengths must match");return new o(c,A,h)}}},7080:function(v){v.exports=P;var y=0,t=1;function r(x,E,w,i,L,b){this._color=x,this.key=E,this.value=w,this.left=i,this.right=L,this._count=b}function s(x){return new r(x._color,x.key,x.value,x.left,x.right,x._count)}function n(x,E){return new r(x,E.key,E.value,E.left,E.right,E._count)}function o(x){x._count=1+(x.left?x.left._count:0)+(x.right?x.right._count:0)}function f(x,E){this._compare=x,this.root=E}var u=f.prototype;Object.defineProperty(u,"keys",{get:function(){var x=[];return this.forEach(function(E,w){x.push(E)}),x}}),Object.defineProperty(u,"values",{get:function(){var x=[];return this.forEach(function(E,w){x.push(w)}),x}}),Object.defineProperty(u,"length",{get:function(){return this.root?this.root._count:0}}),u.insert=function(x,E){for(var w=this._compare,i=this.root,L=[],b=[];i;){var O=w(x,i.key);L.push(i),b.push(O),O<=0?i=i.left:i=i.right}L.push(new r(y,x,E,null,null,1));for(var _=L.length-2;_>=0;--_){var i=L[_];b[_]<=0?L[_]=new r(i._color,i.key,i.value,L[_+1],i.right,i._count+1):L[_]=new r(i._color,i.key,i.value,i.left,L[_+1],i._count+1)}for(var _=L.length-1;_>1;--_){var N=L[_-1],i=L[_];if(N._color===t||i._color===t)break;var z=L[_-2];if(z.left===N)if(N.left===i){var B=z.right;if(B&&B._color===y)N._color=t,z.right=n(t,B),z._color=y,_-=1;else{if(z._color=y,z.left=N.right,N._color=t,N.right=z,L[_-2]=N,L[_-1]=i,o(z),o(N),_>=3){var U=L[_-3];U.left===z?U.left=N:U.right=N}break}}else{var B=z.right;if(B&&B._color===y)N._color=t,z.right=n(t,B),z._color=y,_-=1;else{if(N.right=i.left,z._color=y,z.left=i.right,i._color=t,i.left=N,i.right=z,L[_-2]=i,L[_-1]=N,o(z),o(N),o(i),_>=3){var U=L[_-3];U.left===z?U.left=i:U.right=i}break}}else if(N.right===i){var B=z.left;if(B&&B._color===y)N._color=t,z.left=n(t,B),z._color=y,_-=1;else{if(z._color=y,z.right=N.left,N._color=t,N.left=z,L[_-2]=N,L[_-1]=i,o(z),o(N),_>=3){var U=L[_-3];U.right===z?U.right=N:U.left=N}break}}else{var B=z.left;if(B&&B._color===y)N._color=t,z.left=n(t,B),z._color=y,_-=1;else{if(N.left=i.right,z._color=y,z.right=i.left,i._color=t,i.right=N,i.left=z,L[_-2]=i,L[_-1]=N,o(z),o(N),o(i),_>=3){var U=L[_-3];U.right===z?U.right=i:U.left=i}break}}}return L[0]._color=t,new f(w,L[0])};function m(x,E){if(E.left){var w=m(x,E.left);if(w)return w}var w=x(E.key,E.value);if(w)return w;if(E.right)return m(x,E.right)}function c(x,E,w,i){var L=E(x,i.key);if(L<=0){if(i.left){var b=c(x,E,w,i.left);if(b)return b}var b=w(i.key,i.value);if(b)return b}if(i.right)return c(x,E,w,i.right)}function A(x,E,w,i,L){var b=w(x,L.key),O=w(E,L.key),_;if(b<=0&&(L.left&&(_=A(x,E,w,i,L.left),_)||O>0&&(_=i(L.key,L.value),_)))return _;if(O>0&&L.right)return A(x,E,w,i,L.right)}u.forEach=function(E,w,i){if(this.root)switch(arguments.length){case 1:return m(E,this.root);case 2:return c(w,this._compare,E,this.root);case 3:return this._compare(w,i)>=0?void 0:A(w,i,this._compare,E,this.root)}},Object.defineProperty(u,"begin",{get:function(){for(var x=[],E=this.root;E;)x.push(E),E=E.left;return new h(this,x)}}),Object.defineProperty(u,"end",{get:function(){for(var x=[],E=this.root;E;)x.push(E),E=E.right;return new h(this,x)}}),u.at=function(x){if(x<0)return new h(this,[]);for(var E=this.root,w=[];;){if(w.push(E),E.left){if(x<E.left._count){E=E.left;continue}x-=E.left._count}if(!x)return new h(this,w);if(x-=1,E.right){if(x>=E.right._count)break;E=E.right}else break}return new h(this,[])},u.ge=function(x){for(var E=this._compare,w=this.root,i=[],L=0;w;){var b=E(x,w.key);i.push(w),b<=0&&(L=i.length),b<=0?w=w.left:w=w.right}return i.length=L,new h(this,i)},u.gt=function(x){for(var E=this._compare,w=this.root,i=[],L=0;w;){var b=E(x,w.key);i.push(w),b<0&&(L=i.length),b<0?w=w.left:w=w.right}return i.length=L,new h(this,i)},u.lt=function(x){for(var E=this._compare,w=this.root,i=[],L=0;w;){var b=E(x,w.key);i.push(w),b>0&&(L=i.length),b<=0?w=w.left:w=w.right}return i.length=L,new h(this,i)},u.le=function(x){for(var E=this._compare,w=this.root,i=[],L=0;w;){var b=E(x,w.key);i.push(w),b>=0&&(L=i.length),b<0?w=w.left:w=w.right}return i.length=L,new h(this,i)},u.find=function(x){for(var E=this._compare,w=this.root,i=[];w;){var L=E(x,w.key);if(i.push(w),L===0)return new h(this,i);L<=0?w=w.left:w=w.right}return new h(this,[])},u.remove=function(x){var E=this.find(x);return E?E.remove():this},u.get=function(x){for(var E=this._compare,w=this.root;w;){var i=E(x,w.key);if(i===0)return w.value;i<=0?w=w.left:w=w.right}};function h(x,E){this.tree=x,this._stack=E}var l=h.prototype;Object.defineProperty(l,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(l,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),l.clone=function(){return new h(this.tree,this._stack.slice())};function p(x,E){x.key=E.key,x.value=E.value,x.left=E.left,x.right=E.right,x._color=E._color,x._count=E._count}function M(x){for(var E,w,i,L,b=x.length-1;b>=0;--b){if(E=x[b],b===0){E._color=t;return}if(w=x[b-1],w.left===E){if(i=w.right,i.right&&i.right._color===y){if(i=w.right=s(i),L=i.right=s(i.right),w.right=i.left,i.left=w,i.right=L,i._color=w._color,E._color=t,w._color=t,L._color=t,o(w),o(i),b>1){var O=x[b-2];O.left===w?O.left=i:O.right=i}x[b-1]=i;return}else if(i.left&&i.left._color===y){if(i=w.right=s(i),L=i.left=s(i.left),w.right=L.left,i.left=L.right,L.left=w,L.right=i,L._color=w._color,w._color=t,i._color=t,E._color=t,o(w),o(i),o(L),b>1){var O=x[b-2];O.left===w?O.left=L:O.right=L}x[b-1]=L;return}if(i._color===t)if(w._color===y){w._color=t,w.right=n(y,i);return}else{w.right=n(y,i);continue}else{if(i=s(i),w.right=i.left,i.left=w,i._color=w._color,w._color=y,o(w),o(i),b>1){var O=x[b-2];O.left===w?O.left=i:O.right=i}x[b-1]=i,x[b]=w,b+1<x.length?x[b+1]=E:x.push(E),b=b+2}}else{if(i=w.left,i.left&&i.left._color===y){if(i=w.left=s(i),L=i.left=s(i.left),w.left=i.right,i.right=w,i.left=L,i._color=w._color,E._color=t,w._color=t,L._color=t,o(w),o(i),b>1){var O=x[b-2];O.right===w?O.right=i:O.left=i}x[b-1]=i;return}else if(i.right&&i.right._color===y){if(i=w.left=s(i),L=i.right=s(i.right),w.left=L.right,i.right=L.left,L.right=w,L.left=i,L._color=w._color,w._color=t,i._color=t,E._color=t,o(w),o(i),o(L),b>1){var O=x[b-2];O.right===w?O.right=L:O.left=L}x[b-1]=L;return}if(i._color===t)if(w._color===y){w._color=t,w.left=n(y,i);return}else{w.left=n(y,i);continue}else{if(i=s(i),w.left=i.right,i.right=w,i._color=w._color,w._color=y,o(w),o(i),b>1){var O=x[b-2];O.right===w?O.right=i:O.left=i}x[b-1]=i,x[b]=w,b+1<x.length?x[b+1]=E:x.push(E),b=b+2}}}}l.remove=function(){var x=this._stack;if(x.length===0)return this.tree;var E=new Array(x.length),w=x[x.length-1];E[E.length-1]=new r(w._color,w.key,w.value,w.left,w.right,w._count);for(var i=x.length-2;i>=0;--i){var w=x[i];w.left===x[i+1]?E[i]=new r(w._color,w.key,w.value,E[i+1],w.right,w._count):E[i]=new r(w._color,w.key,w.value,w.left,E[i+1],w._count)}if(w=E[E.length-1],w.left&&w.right){var L=E.length;for(w=w.left;w.right;)E.push(w),w=w.right;var b=E[L-1];E.push(new r(w._color,b.key,b.value,w.left,w.right,w._count)),E[L-1].key=w.key,E[L-1].value=w.value;for(var i=E.length-2;i>=L;--i)w=E[i],E[i]=new r(w._color,w.key,w.value,w.left,E[i+1],w._count);E[L-1].left=E[L]}if(w=E[E.length-1],w._color===y){var O=E[E.length-2];O.left===w?O.left=null:O.right===w&&(O.right=null),E.pop();for(var i=0;i<E.length;++i)E[i]._count--;return new f(this.tree._compare,E[0])}else if(w.left||w.right){w.left?p(w,w.left):w.right&&p(w,w.right),w._color=t;for(var i=0;i<E.length-1;++i)E[i]._count--;return new f(this.tree._compare,E[0])}else{if(E.length===1)return new f(this.tree._compare,null);for(var i=0;i<E.length;++i)E[i]._count--;var _=E[E.length-2];M(E),_.left===w?_.left=null:_.right=null}return new f(this.tree._compare,E[0])},Object.defineProperty(l,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(l,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(l,"index",{get:function(){var x=0,E=this._stack;if(E.length===0){var w=this.tree.root;return w?w._count:0}else E[E.length-1].left&&(x=E[E.length-1].left._count);for(var i=E.length-2;i>=0;--i)E[i+1]===E[i].right&&(++x,E[i].left&&(x+=E[i].left._count));return x},enumerable:!0}),l.next=function(){var x=this._stack;if(x.length!==0){var E=x[x.length-1];if(E.right)for(E=E.right;E;)x.push(E),E=E.left;else for(x.pop();x.length>0&&x[x.length-1].right===E;)E=x[x.length-1],x.pop()}},Object.defineProperty(l,"hasNext",{get:function(){var x=this._stack;if(x.length===0)return!1;if(x[x.length-1].right)return!0;for(var E=x.length-1;E>0;--E)if(x[E-1].left===x[E])return!0;return!1}}),l.update=function(x){var E=this._stack;if(E.length===0)throw new Error("Can't update empty node!");var w=new Array(E.length),i=E[E.length-1];w[w.length-1]=new r(i._color,i.key,x,i.left,i.right,i._count);for(var L=E.length-2;L>=0;--L)i=E[L],i.left===E[L+1]?w[L]=new r(i._color,i.key,i.value,w[L+1],i.right,i._count):w[L]=new r(i._color,i.key,i.value,i.left,w[L+1],i._count);return new f(this.tree._compare,w[0])},l.prev=function(){var x=this._stack;if(x.length!==0){var E=x[x.length-1];if(E.left)for(E=E.left;E;)x.push(E),E=E.right;else for(x.pop();x.length>0&&x[x.length-1].left===E;)E=x[x.length-1],x.pop()}},Object.defineProperty(l,"hasPrev",{get:function(){var x=this._stack;if(x.length===0)return!1;if(x[x.length-1].left)return!0;for(var E=x.length-1;E>0;--E)if(x[E-1].right===x[E])return!0;return!1}});function S(x,E){return x<E?-1:x>E?1:0}function P(x){return new f(x||S,null)}},7453:function(v,y,t){v.exports=i;var r=t(9557),s=t(1681),n=t(1011),o=t(2864),f=t(8468),u=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);function m(L,b){return L[0]=b[0],L[1]=b[1],L[2]=b[2],L}function c(L){this.gl=L,this.pixelRatio=1,this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.autoTicks=!0,this.tickSpacing=[1,1,1],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickAlign=["auto","auto","auto"],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[10,10,10],this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]},this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont="sans-serif",this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelAlign=["auto","auto","auto"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[10,10,10],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[0,0,0],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!1,!1,!1],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._firstInit=!0,this._text=null,this._lines=null,this._background=n(L)}var A=c.prototype;A.update=function(L){L=L||{};function b(oe,ce,Q){if(Q in L){var Z=L[Q],K=this[Q],J;(oe?Array.isArray(Z)&&Array.isArray(Z[0]):Array.isArray(Z))?this[Q]=J=[ce(Z[0]),ce(Z[1]),ce(Z[2])]:this[Q]=J=[ce(Z),ce(Z),ce(Z)];for(var re=0;re<3;++re)if(J[re]!==K[re])return!0}return!1}var O=b.bind(this,!1,Number),_=b.bind(this,!1,Boolean),N=b.bind(this,!1,String),z=b.bind(this,!0,function(oe){if(Array.isArray(oe)){if(oe.length===3)return[+oe[0],+oe[1],+oe[2],1];if(oe.length===4)return[+oe[0],+oe[1],+oe[2],+oe[3]]}return[0,0,0,1]}),B,U=!1,F=!1;if("bounds"in L)for(var V=L.bounds,j=0;j<2;++j)for(var $=0;$<3;++$)V[j][$]!==this.bounds[j][$]&&(F=!0),this.bounds[j][$]=V[j][$];if("ticks"in L){B=L.ticks,U=!0,this.autoTicks=!1;for(var j=0;j<3;++j)this.tickSpacing[j]=0}else O("tickSpacing")&&(this.autoTicks=!0,F=!0);if(this._firstInit&&("ticks"in L||"tickSpacing"in L||(this.autoTicks=!0),F=!0,U=!0,this._firstInit=!1),F&&this.autoTicks&&(B=f.create(this.bounds,this.tickSpacing),U=!0),U){for(var j=0;j<3;++j)B[j].sort(function(ce,Q){return ce.x-Q.x});f.equal(B,this.ticks)?U=!1:this.ticks=B}_("tickEnable"),N("tickFont")&&(U=!0),O("tickSize"),O("tickAngle"),O("tickPad"),z("tickColor");var ne=N("labels");N("labelFont")&&(ne=!0),_("labelEnable"),O("labelSize"),O("labelPad"),z("labelColor"),_("lineEnable"),_("lineMirror"),O("lineWidth"),z("lineColor"),_("lineTickEnable"),_("lineTickMirror"),O("lineTickLength"),O("lineTickWidth"),z("lineTickColor"),_("gridEnable"),O("gridWidth"),z("gridColor"),_("zeroEnable"),z("zeroLineColor"),O("zeroLineWidth"),_("backgroundEnable"),z("backgroundColor"),this._text?this._text&&(ne||U)&&this._text.update(this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont):this._text=r(this.gl,this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont),this._lines&&U&&(this._lines.dispose(),this._lines=null),this._lines||(this._lines=s(this.gl,this.bounds,this.ticks))};function h(){this.primalOffset=[0,0,0],this.primalMinor=[0,0,0],this.mirrorOffset=[0,0,0],this.mirrorMinor=[0,0,0]}var l=[new h,new h,new h];function p(L,b,O,_,N){for(var z=L.primalOffset,B=L.primalMinor,U=L.mirrorOffset,F=L.mirrorMinor,V=_[b],j=0;j<3;++j)if(b!==j){var $=z,ne=U,oe=B,ce=F;V&1<<j&&($=U,ne=z,oe=F,ce=B),$[j]=O[0][j],ne[j]=O[1][j],N[j]>0?(oe[j]=-1,ce[j]=0):(oe[j]=0,ce[j]=1)}}var M=[0,0,0],S={model:u,view:u,projection:u,_ortho:!1};A.isOpaque=function(){return!0},A.isTransparent=function(){return!1},A.drawTransparent=function(L){};var P=0,x=[0,0,0],E=[0,0,0],w=[0,0,0];A.draw=function(L){L=L||S;for(var K=this.gl,b=L.model||u,O=L.view||u,_=L.projection||u,N=this.bounds,z=L._ortho||!1,B=o(b,O,_,N,z),U=B.cubeEdges,F=B.axis,V=O[12],j=O[13],$=O[14],ne=O[15],oe=z?2:1,ce=oe*this.pixelRatio*(_[3]*V+_[7]*j+_[11]*$+_[15]*ne)/K.drawingBufferHeight,Q=0;Q<3;++Q)this.lastCubeProps.cubeEdges[Q]=U[Q],this.lastCubeProps.axis[Q]=F[Q];for(var Z=l,Q=0;Q<3;++Q)p(l[Q],Q,this.bounds,U,F);for(var K=this.gl,J=M,Q=0;Q<3;++Q)this.backgroundEnable[Q]?J[Q]=F[Q]:J[Q]=0;this._background.draw(b,O,_,N,J,this.backgroundColor),this._lines.bind(b,O,_,this);for(var Q=0;Q<3;++Q){var re=[0,0,0];F[Q]>0?re[Q]=N[1][Q]:re[Q]=N[0][Q];for(var le=0;le<2;++le){var q=(Q+1+le)%3,ee=(Q+1+(le^1))%3;this.gridEnable[q]&&this._lines.drawGrid(q,ee,this.bounds,re,this.gridColor[q],this.gridWidth[q]*this.pixelRatio)}for(var le=0;le<2;++le){var q=(Q+1+le)%3,ee=(Q+1+(le^1))%3;this.zeroEnable[ee]&&Math.min(N[0][ee],N[1][ee])<=0&&Math.max(N[0][ee],N[1][ee])>=0&&this._lines.drawZero(q,ee,this.bounds,re,this.zeroLineColor[ee],this.zeroLineWidth[ee]*this.pixelRatio)}}for(var Q=0;Q<3;++Q){this.lineEnable[Q]&&this._lines.drawAxisLine(Q,this.bounds,Z[Q].primalOffset,this.lineColor[Q],this.lineWidth[Q]*this.pixelRatio),this.lineMirror[Q]&&this._lines.drawAxisLine(Q,this.bounds,Z[Q].mirrorOffset,this.lineColor[Q],this.lineWidth[Q]*this.pixelRatio);for(var ue=m(x,Z[Q].primalMinor),se=m(E,Z[Q].mirrorMinor),he=this.lineTickLength,le=0;le<3;++le){var me=ce/b[5*le];ue[le]*=he[le]*me,se[le]*=he[le]*me}this.lineTickEnable[Q]&&this._lines.drawAxisTicks(Q,Z[Q].primalOffset,ue,this.lineTickColor[Q],this.lineTickWidth[Q]*this.pixelRatio),this.lineTickMirror[Q]&&this._lines.drawAxisTicks(Q,Z[Q].mirrorOffset,se,this.lineTickColor[Q],this.lineTickWidth[Q]*this.pixelRatio)}this._lines.unbind(),this._text.bind(b,O,_,this.pixelRatio);var Ce,Te=.5,Oe,Ne;function Le(Ge){Ne=[0,0,0],Ne[Ge]=1}function be(Ge,it,et){var tt=(Ge+1)%3,at=(Ge+2)%3,vt=it[tt],yt=it[at],gt=et[tt],Mt=et[at];if(vt>0&&Mt>0){Le(tt);return}else if(vt>0&&Mt<0){Le(tt);return}else if(vt<0&&Mt>0){Le(tt);return}else if(vt<0&&Mt<0){Le(tt);return}else if(yt>0&&gt>0){Le(at);return}else if(yt>0&&gt<0){Le(at);return}else if(yt<0&&gt>0){Le(at);return}else if(yt<0&&gt<0){Le(at);return}}for(var Q=0;Q<3;++Q){for(var Ae=Z[Q].primalMinor,He=Z[Q].mirrorMinor,Ve=m(w,Z[Q].primalOffset),le=0;le<3;++le)this.lineTickEnable[Q]&&(Ve[le]+=ce*Ae[le]*Math.max(this.lineTickLength[le],0)/b[5*le]);var ke=[0,0,0];if(ke[Q]=1,this.tickEnable[Q]){this.tickAngle[Q]===-3600?(this.tickAngle[Q]=0,this.tickAlign[Q]="auto"):this.tickAlign[Q]=-1,Oe=1,Ce=[this.tickAlign[Q],Te,Oe],Ce[0]==="auto"?Ce[0]=P:Ce[0]=parseInt(""+Ce[0]),Ne=[0,0,0],be(Q,Ae,He);for(var le=0;le<3;++le)Ve[le]+=ce*Ae[le]*this.tickPad[le]/b[5*le];this._text.drawTicks(Q,this.tickSize[Q],this.tickAngle[Q],Ve,this.tickColor[Q],ke,Ne,Ce)}if(this.labelEnable[Q]){Oe=0,Ne=[0,0,0],this.labels[Q].length>4&&(Le(Q),Oe=1),Ce=[this.labelAlign[Q],Te,Oe],Ce[0]==="auto"?Ce[0]=P:Ce[0]=parseInt(""+Ce[0]);for(var le=0;le<3;++le)Ve[le]+=ce*Ae[le]*this.labelPad[le]/b[5*le];Ve[Q]+=.5*(N[0][Q]+N[1][Q]),this._text.drawLabel(Q,this.labelSize[Q],this.labelAngle[Q],Ve,this.labelColor[Q],[0,0,0],Ne,Ce)}}this._text.unbind()},A.dispose=function(){this._text.dispose(),this._lines.dispose(),this._background.dispose(),this._lines=null,this._text=null,this._background=null,this.gl=null};function i(L,b){var O=new c(L);return O.update(b),O}},1011:function(v,y,t){v.exports=u;var r=t(5827),s=t(2944),n=t(1943).bg;function o(m,c,A,h){this.gl=m,this.buffer=c,this.vao=A,this.shader=h}var f=o.prototype;f.draw=function(m,c,A,h,l,p){for(var M=!1,S=0;S<3;++S)M=M||l[S];if(M){var P=this.gl;P.enable(P.POLYGON_OFFSET_FILL),P.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:m,view:c,projection:A,bounds:h,enable:l,colors:p},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),this.vao.unbind(),P.disable(P.POLYGON_OFFSET_FILL)}},f.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function u(m){for(var c=[],A=[],h=0,l=0;l<3;++l)for(var p=(l+1)%3,M=(l+2)%3,S=[0,0,0],P=[0,0,0],x=-1;x<=1;x+=2){A.push(h,h+2,h+1,h+1,h+2,h+3),S[l]=x,P[l]=x;for(var E=-1;E<=1;E+=2){S[p]=E;for(var w=-1;w<=1;w+=2)S[M]=w,c.push(S[0],S[1],S[2],P[0],P[1],P[2]),h+=1}var i=p;p=M,M=i}var L=r(m,new Float32Array(c)),b=r(m,new Uint16Array(A),m.ELEMENT_ARRAY_BUFFER),O=s(m,[{buffer:L,type:m.FLOAT,size:3,offset:0,stride:24},{buffer:L,type:m.FLOAT,size:3,offset:12,stride:24}],b),_=n(m);return _.attributes.position.location=0,_.attributes.normal.location=1,new o(m,L,O,_)}},2864:function(v,y,t){v.exports=x;var r=t(2288),s=t(104),n=t(4670),o=t(417),f=new Array(16),u=new Array(8),m=new Array(8),c=new Array(3),A=[0,0,0];(function(){for(var E=0;E<8;++E)u[E]=[1,1,1,1],m[E]=[1,1,1]})();function h(E,w,i){for(var L=0;L<4;++L){E[L]=i[12+L];for(var b=0;b<3;++b)E[L]+=w[b]*i[4*b+L]}}var l=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]];function p(E){for(var w=0;w<l.length;++w)if(E=n.positive(E,l[w]),E.length<3)return 0;for(var i=E[0],L=i[0]/i[3],b=i[1]/i[3],O=0,w=1;w+1<E.length;++w){var _=E[w],N=E[w+1],z=_[0]/_[3],B=_[1]/_[3],U=N[0]/N[3],F=N[1]/N[3],V=z-L,j=B-b,$=U-L,ne=F-b;O+=Math.abs(V*ne-j*$)}return O}var M=[1,1,1],S=[0,0,0],P={cubeEdges:M,axis:S};function x(E,w,i,L,b){s(f,w,E),s(f,i,f);for(var O=0,_=0;_<2;++_){c[2]=L[_][2];for(var N=0;N<2;++N){c[1]=L[N][1];for(var z=0;z<2;++z)c[0]=L[z][0],h(u[O],c,f),O+=1}}for(var B=-1,_=0;_<8;++_){for(var U=u[_][3],F=0;F<3;++F)m[_][F]=u[_][F]/U;b&&(m[_][2]*=-1),U<0&&(B<0||m[_][2]<m[B][2])&&(B=_)}if(B<0){B=0;for(var V=0;V<3;++V){for(var j=(V+2)%3,$=(V+1)%3,ne=-1,oe=-1,ce=0;ce<2;++ce){var Q=ce<<V,Z=Q+(ce<<j)+(1-ce<<$),K=Q+(1-ce<<j)+(ce<<$);o(m[Q],m[Z],m[K],A)<0||(ce?ne=1:oe=1)}if(ne<0||oe<0){oe>ne&&(B|=1<<V);continue}for(var ce=0;ce<2;++ce){var Q=ce<<V,Z=Q+(ce<<j)+(1-ce<<$),K=Q+(1-ce<<j)+(ce<<$),J=p([u[Q],u[Z],u[K],u[Q+(1<<j)+(1<<$)]]);ce?ne=J:oe=J}if(oe>ne){B|=1<<V;continue}}}for(var re=7^B,le=-1,_=0;_<8;++_)_===B||_===re||(le<0||m[le][1]>m[_][1])&&(le=_);for(var q=-1,_=0;_<3;++_){var ee=le^1<<_;if(!(ee===B||ee===re)){q<0&&(q=ee);var $=m[ee];$[0]<m[q][0]&&(q=ee)}}for(var ue=-1,_=0;_<3;++_){var ee=le^1<<_;if(!(ee===B||ee===re||ee===q)){ue<0&&(ue=ee);var $=m[ee];$[0]>m[ue][0]&&(ue=ee)}}var se=M;se[0]=se[1]=se[2]=0,se[r.log2(q^le)]=le&q,se[r.log2(le^ue)]=le&ue;var he=ue^7;he===B||he===re?(he=q^7,se[r.log2(ue^he)]=he&ue):se[r.log2(q^he)]=he&q;for(var me=S,Ce=B,V=0;V<3;++V)Ce&1<<V?me[V]=-1:me[V]=1;return P}},1681:function(v,y,t){v.exports=M;var r=t(5827),s=t(2944),n=t(1943).j,o=[0,0,0],f=[0,0,0],u=[0,0,0],m=[0,0,0],c=[1,1];function A(S){return S[0]=S[1]=S[2]=0,S}function h(S,P){return S[0]=P[0],S[1]=P[1],S[2]=P[2],S}function l(S,P,x,E,w,i,L,b){this.gl=S,this.vertBuffer=P,this.vao=x,this.shader=E,this.tickCount=w,this.tickOffset=i,this.gridCount=L,this.gridOffset=b}var p=l.prototype;p.bind=function(S,P,x){this.shader.bind(),this.shader.uniforms.model=S,this.shader.uniforms.view=P,this.shader.uniforms.projection=x,c[0]=this.gl.drawingBufferWidth,c[1]=this.gl.drawingBufferHeight,this.shader.uniforms.screenShape=c,this.vao.bind()},p.unbind=function(){this.vao.unbind()},p.drawAxisLine=function(S,P,x,E,w){var i=A(f);this.shader.uniforms.majorAxis=f,i[S]=P[1][S]-P[0][S],this.shader.uniforms.minorAxis=i;var L=h(m,x);L[S]+=P[0][S],this.shader.uniforms.offset=L,this.shader.uniforms.lineWidth=w,this.shader.uniforms.color=E;var b=A(u);b[(S+2)%3]=1,this.shader.uniforms.screenAxis=b,this.vao.draw(this.gl.TRIANGLES,6);var b=A(u);b[(S+1)%3]=1,this.shader.uniforms.screenAxis=b,this.vao.draw(this.gl.TRIANGLES,6)},p.drawAxisTicks=function(S,P,x,E,w){if(this.tickCount[S]){var i=A(o);i[S]=1,this.shader.uniforms.majorAxis=i,this.shader.uniforms.offset=P,this.shader.uniforms.minorAxis=x,this.shader.uniforms.color=E,this.shader.uniforms.lineWidth=w;var L=A(u);L[S]=1,this.shader.uniforms.screenAxis=L,this.vao.draw(this.gl.TRIANGLES,this.tickCount[S],this.tickOffset[S])}},p.drawGrid=function(S,P,x,E,w,i){if(this.gridCount[S]){var L=A(f);L[P]=x[1][P]-x[0][P],this.shader.uniforms.minorAxis=L;var b=h(m,E);b[P]+=x[0][P],this.shader.uniforms.offset=b;var O=A(o);O[S]=1,this.shader.uniforms.majorAxis=O;var _=A(u);_[S]=1,this.shader.uniforms.screenAxis=_,this.shader.uniforms.lineWidth=i,this.shader.uniforms.color=w,this.vao.draw(this.gl.TRIANGLES,this.gridCount[S],this.gridOffset[S])}},p.drawZero=function(S,P,x,E,w,i){var L=A(f);this.shader.uniforms.majorAxis=L,L[S]=x[1][S]-x[0][S],this.shader.uniforms.minorAxis=L;var b=h(m,E);b[S]+=x[0][S],this.shader.uniforms.offset=b;var O=A(u);O[P]=1,this.shader.uniforms.screenAxis=O,this.shader.uniforms.lineWidth=i,this.shader.uniforms.color=w,this.vao.draw(this.gl.TRIANGLES,6)},p.dispose=function(){this.vao.dispose(),this.vertBuffer.dispose(),this.shader.dispose()};function M(S,P,x){var E=[],w=[0,0,0],i=[0,0,0],L=[0,0,0],b=[0,0,0];E.push(0,0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var O=0;O<3;++O){for(var z=E.length/3|0,_=0;_<x[O].length;++_){var N=+x[O][_].x;E.push(N,0,1,N,1,1,N,0,-1,N,0,-1,N,1,1,N,1,-1)}var U=E.length/3|0;w[O]=z,i[O]=U-z;for(var z=E.length/3|0,B=0;B<x[O].length;++B){var N=+x[O][B].x;E.push(N,0,1,N,1,1,N,0,-1,N,0,-1,N,1,1,N,1,-1)}var U=E.length/3|0;L[O]=z,b[O]=U-z}var F=r(S,new Float32Array(E)),V=s(S,[{buffer:F,type:S.FLOAT,size:3,stride:0,offset:0}]),j=n(S);return j.attributes.position.location=0,new l(S,F,V,j,i,w,b,L)}},1943:function(v,y,t){var r=t(6832),s=t(5158),n=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, majorAxis, minorAxis, screenAxis;
uniform float lineWidth;
uniform vec2 screenShape;

vec3 project(vec3 p) {
  vec4 pp = projection * view * model * vec4(p, 1.0);
  return pp.xyz / max(pp.w, 0.0001);
}

void main() {
  vec3 major = position.x * majorAxis;
  vec3 minor = position.y * minorAxis;

  vec3 vPosition = major + minor + offset;
  vec3 pPosition = project(vPosition);
  vec3 offset = project(vPosition + screenAxis * position.z);

  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;

  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);
}
`]),o=r([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);y.j=function(A){return s(A,n,o,null,[{name:"position",type:"vec3"}])};var f=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, axis, alignDir, alignOpt;
uniform float scale, angle, pixelScale;
uniform vec2 resolution;

vec3 project(vec3 p) {
  vec4 pp = projection * view * model * vec4(p, 1.0);
  return pp.xyz / max(pp.w, 0.0001);
}

float computeViewAngle(vec3 a, vec3 b) {
  vec3 A = project(a);
  vec3 B = project(b);

  return atan(
    (B.y - A.y) * resolution.y,
    (B.x - A.x) * resolution.x
  );
}

const float PI = 3.141592;
const float TWO_PI = 2.0 * PI;
const float HALF_PI = 0.5 * PI;
const float ONE_AND_HALF_PI = 1.5 * PI;

int option = int(floor(alignOpt.x + 0.001));
float hv_ratio =       alignOpt.y;
bool enableAlign =    (alignOpt.z != 0.0);

float mod_angle(float a) {
  return mod(a, PI);
}

float positive_angle(float a) {
  return mod_angle((a < 0.0) ?
    a + TWO_PI :
    a
  );
}

float look_upwards(float a) {
  float b = positive_angle(a);
  return ((b > HALF_PI) && (b <= ONE_AND_HALF_PI)) ?
    b - PI :
    b;
}

float look_horizontal_or_vertical(float a, float ratio) {
  // ratio controls the ratio between being horizontal to (vertical + horizontal)
  // if ratio is set to 0.5 then it is 50%, 50%.
  // when using a higher ratio e.g. 0.75 the result would
  // likely be more horizontal than vertical.

  float b = positive_angle(a);

  return
    (b < (      ratio) * HALF_PI) ? 0.0 :
    (b < (2.0 - ratio) * HALF_PI) ? -HALF_PI :
    (b < (2.0 + ratio) * HALF_PI) ? 0.0 :
    (b < (4.0 - ratio) * HALF_PI) ? HALF_PI :
                                    0.0;
}

float roundTo(float a, float b) {
  return float(b * floor((a + 0.5 * b) / b));
}

float look_round_n_directions(float a, int n) {
  float b = positive_angle(a);
  float div = TWO_PI / float(n);
  float c = roundTo(b, div);
  return look_upwards(c);
}

float applyAlignOption(float rawAngle, float delta) {
  return
    (option >  2) ? look_round_n_directions(rawAngle + delta, option) :       // option 3-n: round to n directions
    (option == 2) ? look_horizontal_or_vertical(rawAngle + delta, hv_ratio) : // horizontal or vertical
    (option == 1) ? rawAngle + delta :       // use free angle, and flip to align with one direction of the axis
    (option == 0) ? look_upwards(rawAngle) : // use free angle, and stay upwards
    (option ==-1) ? 0.0 :                    // useful for backward compatibility, all texts remains horizontal
                    rawAngle;                // otherwise return back raw input angle
}

bool isAxisTitle = (axis.x == 0.0) &&
                   (axis.y == 0.0) &&
                   (axis.z == 0.0);

void main() {
  //Compute world offset
  float axisDistance = position.z;
  vec3 dataPosition = axisDistance * axis + offset;

  float beta = angle; // i.e. user defined attributes for each tick

  float axisAngle;
  float clipAngle;
  float flip;

  if (enableAlign) {
    axisAngle = (isAxisTitle) ? HALF_PI :
                      computeViewAngle(dataPosition, dataPosition + axis);
    clipAngle = computeViewAngle(dataPosition, dataPosition + alignDir);

    axisAngle += (sin(axisAngle) < 0.0) ? PI : 0.0;
    clipAngle += (sin(clipAngle) < 0.0) ? PI : 0.0;

    flip = (dot(vec2(cos(axisAngle), sin(axisAngle)),
                vec2(sin(clipAngle),-cos(clipAngle))) > 0.0) ? 1.0 : 0.0;

    beta += applyAlignOption(clipAngle, flip * PI);
  }

  //Compute plane offset
  vec2 planeCoord = position.xy * pixelScale;

  mat2 planeXform = scale * mat2(
     cos(beta), sin(beta),
    -sin(beta), cos(beta)
  );

  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;

  //Compute clip position
  vec3 clipPosition = project(dataPosition);

  //Apply text offset in clip coordinates
  clipPosition += vec3(viewOffset, 0.0);

  //Done
  gl_Position = vec4(clipPosition, 1.0);
}`]),u=r([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);y.f=function(A){return s(A,f,u,null,[{name:"position",type:"vec3"}])};var m=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec3 normal;

uniform mat4 model, view, projection;
uniform vec3 enable;
uniform vec3 bounds[2];

varying vec3 colorChannel;

void main() {

  vec3 signAxis = sign(bounds[1] - bounds[0]);

  vec3 realNormal = signAxis * normal;

  if(dot(realNormal, enable) > 0.0) {
    vec3 minRange = min(bounds[0], bounds[1]);
    vec3 maxRange = max(bounds[0], bounds[1]);
    vec3 nPosition = mix(minRange, maxRange, 0.5 * (position + 1.0));
    gl_Position = projection * view * model * vec4(nPosition, 1.0);
  } else {
    gl_Position = vec4(0,0,0,0);
  }

  colorChannel = abs(realNormal);
}`]),c=r([`precision highp float;
#define GLSLIFY 1

uniform vec4 colors[3];

varying vec3 colorChannel;

void main() {
  gl_FragColor = colorChannel.x * colors[0] +
                 colorChannel.y * colors[1] +
                 colorChannel.z * colors[2];
}`]);y.bg=function(A){return s(A,m,c,null,[{name:"position",type:"vec3"},{name:"normal",type:"vec3"}])}},9557:function(v,y,t){v.exports=p;var r=t(5827),s=t(2944),n=t(875),o=t(1943).f,f=window||g.global||{},u=f.__TEXT_CACHE||{};f.__TEXT_CACHE={};var m=3;function c(M,S,P,x){this.gl=M,this.shader=S,this.buffer=P,this.vao=x,this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}var A=c.prototype,h=[0,0];A.bind=function(M,S,P,x){this.vao.bind(),this.shader.bind();var E=this.shader.uniforms;E.model=M,E.view=S,E.projection=P,E.pixelScale=x,h[0]=this.gl.drawingBufferWidth,h[1]=this.gl.drawingBufferHeight,this.shader.uniforms.resolution=h},A.unbind=function(){this.vao.unbind()},A.update=function(M,S,P,x,E){var w=[];function i(F,V,j,$,ne,oe){var ce=u[j];ce||(ce=u[j]={});var Q=ce[V];Q||(Q=ce[V]=l(V,{triangles:!0,font:j,textAlign:"center",textBaseline:"middle",lineSpacing:ne,styletags:oe}));for(var Z=($||12)/12,K=Q.positions,J=Q.cells,re=0,le=J.length;re<le;++re)for(var q=J[re],ee=2;ee>=0;--ee){var ue=K[q[ee]];w.push(Z*ue[0],-Z*ue[1],F)}}for(var L=[0,0,0],b=[0,0,0],O=[0,0,0],_=[0,0,0],N=1.25,z={breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},B=0;B<3;++B){O[B]=w.length/m|0,i(.5*(M[0][B]+M[1][B]),S[B],P[B],12,N,z),_[B]=(w.length/m|0)-O[B],L[B]=w.length/m|0;for(var U=0;U<x[B].length;++U)x[B][U].text&&i(x[B][U].x,x[B][U].text,x[B][U].font||E,x[B][U].fontSize||12,N,z);b[B]=(w.length/m|0)-L[B]}this.buffer.update(w),this.tickOffset=L,this.tickCount=b,this.labelOffset=O,this.labelCount=_},A.drawTicks=function(M,S,P,x,E,w,i,L){this.tickCount[M]&&(this.shader.uniforms.axis=w,this.shader.uniforms.color=E,this.shader.uniforms.angle=P,this.shader.uniforms.scale=S,this.shader.uniforms.offset=x,this.shader.uniforms.alignDir=i,this.shader.uniforms.alignOpt=L,this.vao.draw(this.gl.TRIANGLES,this.tickCount[M],this.tickOffset[M]))},A.drawLabel=function(M,S,P,x,E,w,i,L){this.labelCount[M]&&(this.shader.uniforms.axis=w,this.shader.uniforms.color=E,this.shader.uniforms.angle=P,this.shader.uniforms.scale=S,this.shader.uniforms.offset=x,this.shader.uniforms.alignDir=i,this.shader.uniforms.alignOpt=L,this.vao.draw(this.gl.TRIANGLES,this.labelCount[M],this.labelOffset[M]))},A.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()};function l(M,S){try{return n(M,S)}catch(P){return console.warn('error vectorizing text:"'+M+'" error:',P),{cells:[],positions:[]}}}function p(M,S,P,x,E,w){var i=r(M),L=s(M,[{buffer:i,size:3}]),b=o(M);b.attributes.position.location=0;var O=new c(M,b,i,L);return O.update(S,P,x,E,w),O}},8468:function(v,y){y.create=r,y.equal=s;function t(n,o){var f=n+"",u=f.indexOf("."),m=0;u>=0&&(m=f.length-u-1);var c=Math.pow(10,m),A=Math.round(n*o*c),h=A+"";if(h.indexOf("e")>=0)return h;var l=A/c,p=A%c;A<0?(l=-Math.ceil(l)|0,p=-p|0):(l=Math.floor(l)|0,p=p|0);var M=""+l;if(A<0&&(M="-"+M),m){for(var S=""+p;S.length<m;)S="0"+S;return M+"."+S}else return M}function r(n,o){for(var f=[],u=0;u<3;++u){var m=[];.5*(n[0][u]+n[1][u]);for(var c=0;c*o[u]<=n[1][u];++c)m.push({x:c*o[u],text:t(o[u],c)});for(var c=-1;c*o[u]>=n[0][u];--c)m.push({x:c*o[u],text:t(o[u],c)});f.push(m)}return f}function s(n,o){for(var f=0;f<3;++f){if(n[f].length!==o[f].length)return!1;for(var u=0;u<n[f].length;++u){var m=n[f][u],c=o[f][u];if(m.x!==c.x||m.text!==c.text||m.font!==c.font||m.fontColor!==c.fontColor||m.fontSize!==c.fontSize||m.dx!==c.dx||m.dy!==c.dy)return!1}}return!0}},2771:function(v,y,t){v.exports=P;var r=t(5795),s=t(4670),n=t(2864),o=t(104),f=t(2142),u=t(6342),m=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),c=new Float32Array(16);function A(x,E,w){this.lo=x,this.hi=E,this.pixelsPerDataUnit=w}var h=[0,0,0,1],l=[0,0,0,1];function p(x,E,w,i,L){for(var b=0;b<3;++b){for(var O=h,_=l,N=0;N<3;++N)_[N]=O[N]=w[N];_[3]=O[3]=1,_[b]+=1,u(_,_,E),_[3]<0&&(x[b]=1/0),O[b]-=1,u(O,O,E),O[3]<0&&(x[b]=1/0);var z=(O[0]/O[3]-_[0]/_[3])*i,B=(O[1]/O[3]-_[1]/_[3])*L;x[b]=.25*Math.sqrt(z*z+B*B)}return x}var M=[new A(1/0,-1/0,1/0),new A(1/0,-1/0,1/0),new A(1/0,-1/0,1/0)],S=[0,0,0];function P(x,E,w,i,B){var b=E.model||m,O=E.view||m,_=E.projection||m,N=E._ortho||!1,z=x.bounds,B=B||n(b,O,_,z,N),U=B.axis;o(c,O,b),o(c,_,c);for(var F=M,V=0;V<3;++V)F[V].lo=1/0,F[V].hi=-1/0,F[V].pixelsPerDataUnit=1/0;var j=r(f(c,c));f(c,c);for(var $=0;$<3;++$){var ne=($+1)%3,oe=($+2)%3,ce=S;e:for(var V=0;V<2;++V){var Q=[];if(U[$]<0!=!!V){ce[$]=z[V][$];for(var Z=0;Z<2;++Z){ce[ne]=z[Z^V][ne];for(var K=0;K<2;++K)ce[oe]=z[K^Z^V][oe],Q.push(ce.slice())}for(var J=N?5:4,Z=J;Z===J;++Z){if(Q.length===0)continue e;Q=s.positive(Q,j[Z])}for(var Z=0;Z<Q.length;++Z)for(var oe=Q[Z],re=p(S,c,oe,w,i),K=0;K<3;++K)F[K].lo=Math.min(F[K].lo,oe[K]),F[K].hi=Math.max(F[K].hi,oe[K]),K!==$&&(F[K].pixelsPerDataUnit=Math.min(F[K].pixelsPerDataUnit,Math.abs(re[K])))}}}return F}},5827:function(v,y,t){var r=t(5306),s=t(7498),n=t(5050),o=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"];function f(l,p,M,S,P){this.gl=l,this.type=p,this.handle=M,this.length=S,this.usage=P}var u=f.prototype;u.bind=function(){this.gl.bindBuffer(this.type,this.handle)},u.unbind=function(){this.gl.bindBuffer(this.type,null)},u.dispose=function(){this.gl.deleteBuffer(this.handle)};function m(l,p,M,S,P,x){var E=P.length*P.BYTES_PER_ELEMENT;if(x<0)return l.bufferData(p,P,S),E;if(E+x>M)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return l.bufferSubData(p,x,P),M}function c(l,p){for(var M=r.malloc(l.length,p),S=l.length,P=0;P<S;++P)M[P]=l[P];return M}function A(l,p){for(var M=1,S=p.length-1;S>=0;--S){if(p[S]!==M)return!1;M*=l[S]}return!0}u.update=function(l,p){if(typeof p!="number"&&(p=-1),this.bind(),typeof l=="object"&&typeof l.shape<"u"){var M=l.dtype;if(o.indexOf(M)<0&&(M="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER){var S=gl.getExtension("OES_element_index_uint");S&&M!=="uint16"?M="uint32":M="uint16"}if(M===l.dtype&&A(l.shape,l.stride))l.offset===0&&l.data.length===l.shape[0]?this.length=m(this.gl,this.type,this.length,this.usage,l.data,p):this.length=m(this.gl,this.type,this.length,this.usage,l.data.subarray(l.offset,l.shape[0]),p);else{var P=r.malloc(l.size,M),x=n(P,l.shape);s.assign(x,l),p<0?this.length=m(this.gl,this.type,this.length,this.usage,P,p):this.length=m(this.gl,this.type,this.length,this.usage,P.subarray(0,l.size),p),r.free(P)}}else if(Array.isArray(l)){var E;this.type===this.gl.ELEMENT_ARRAY_BUFFER?E=c(l,"uint16"):E=c(l,"float32"),p<0?this.length=m(this.gl,this.type,this.length,this.usage,E,p):this.length=m(this.gl,this.type,this.length,this.usage,E.subarray(0,l.length),p),r.free(E)}else if(typeof l=="object"&&typeof l.length=="number")this.length=m(this.gl,this.type,this.length,this.usage,l,p);else if(typeof l=="number"||l===void 0){if(p>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");l=l|0,l<=0&&(l=1),this.gl.bufferData(this.type,l|0,this.usage),this.length=l}else throw new Error("gl-buffer: Invalid data type")};function h(l,p,M,S){if(M=M||l.ARRAY_BUFFER,S=S||l.DYNAMIC_DRAW,M!==l.ARRAY_BUFFER&&M!==l.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(S!==l.DYNAMIC_DRAW&&S!==l.STATIC_DRAW&&S!==l.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var P=l.createBuffer(),x=new f(l,M,P,0,S);return x.update(p),x}v.exports=h},1140:function(v,y,t){var r=t(2858);v.exports=function(n,o){var f=n.positions,u=n.vectors,m={positions:[],vertexIntensity:[],vertexIntensityBounds:n.vertexIntensityBounds,vectors:[],cells:[],coneOffset:n.coneOffset,colormap:n.colormap};if(n.positions.length===0)return o&&(o[0]=[0,0,0],o[1]=[0,0,0]),m;for(var c=0,A=1/0,h=-1/0,l=1/0,p=-1/0,M=1/0,S=-1/0,P=null,x=null,E=[],w=1/0,i=!1,L=0;L<f.length;L++){var b=f[L];A=Math.min(b[0],A),h=Math.max(b[0],h),l=Math.min(b[1],l),p=Math.max(b[1],p),M=Math.min(b[2],M),S=Math.max(b[2],S);var O=u[L];if(r.length(O)>c&&(c=r.length(O)),L){var _=2*r.distance(P,b)/(r.length(x)+r.length(O));_?(w=Math.min(w,_),i=!1):i=!0}i||(P=b,x=O),E.push(O)}var N=[A,l,M],z=[h,p,S];o&&(o[0]=N,o[1]=z),c===0&&(c=1);var B=1/c;isFinite(w)||(w=1),m.vectorScale=w;var U=n.coneSize||.5;n.absoluteConeSize&&(U=n.absoluteConeSize*B),m.coneScale=U;for(var L=0,F=0;L<f.length;L++)for(var b=f[L],V=b[0],j=b[1],$=b[2],ne=E[L],oe=r.length(ne)*B,ce=0,Q=8;ce<Q;ce++){m.positions.push([V,j,$,F++]),m.positions.push([V,j,$,F++]),m.positions.push([V,j,$,F++]),m.positions.push([V,j,$,F++]),m.positions.push([V,j,$,F++]),m.positions.push([V,j,$,F++]),m.vectors.push(ne),m.vectors.push(ne),m.vectors.push(ne),m.vectors.push(ne),m.vectors.push(ne),m.vectors.push(ne),m.vertexIntensity.push(oe,oe,oe),m.vertexIntensity.push(oe,oe,oe);var Z=m.positions.length;m.cells.push([Z-6,Z-5,Z-4],[Z-3,Z-2,Z-1])}return m};var s=t(7234);v.exports.createMesh=t(5028),v.exports.createConeMesh=function(n,o){return v.exports.createMesh(n,o,{shaders:s,traceType:"cone"})}},5028:function(v,y,t){var r=t(5158),s=t(5827),n=t(2944),o=t(8931),f=t(104),u=t(7437),m=t(5050),c=t(9156),A=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function h(E,w,i,L,b,O,_,N,z,B,U){this.gl=E,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=w,this.dirty=!0,this.triShader=i,this.pickShader=L,this.trianglePositions=b,this.triangleVectors=O,this.triangleColors=N,this.triangleUVs=z,this.triangleIds=_,this.triangleVAO=B,this.triangleCount=0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.traceType=U,this.tubeScale=1,this.coneScale=2,this.vectorScale=1,this.coneOffset=.25,this._model=A,this._view=A,this._projection=A,this._resolution=[1,1]}var l=h.prototype;l.isOpaque=function(){return this.opacity>=1},l.isTransparent=function(){return this.opacity<1},l.pickSlots=1,l.setPickBase=function(E){this.pickId=E};function p(E){for(var w=c({colormap:E,nshades:256,format:"rgba"}),i=new Uint8Array(256*4),L=0;L<256;++L){for(var b=w[L],O=0;O<3;++O)i[4*L+O]=b[O];i[4*L+3]=b[3]*255}return m(i,[256,256,4],[4,0,1])}function M(E){for(var w=E.length,i=new Array(w),L=0;L<w;++L)i[L]=E[L][2];return i}l.update=function(E){E=E||{};var w=this.gl;this.dirty=!0,"lightPosition"in E&&(this.lightPosition=E.lightPosition),"opacity"in E&&(this.opacity=E.opacity),"ambient"in E&&(this.ambientLight=E.ambient),"diffuse"in E&&(this.diffuseLight=E.diffuse),"specular"in E&&(this.specularLight=E.specular),"roughness"in E&&(this.roughness=E.roughness),"fresnel"in E&&(this.fresnel=E.fresnel),E.tubeScale!==void 0&&(this.tubeScale=E.tubeScale),E.vectorScale!==void 0&&(this.vectorScale=E.vectorScale),E.coneScale!==void 0&&(this.coneScale=E.coneScale),E.coneOffset!==void 0&&(this.coneOffset=E.coneOffset),E.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=w.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=w.LINEAR,this.texture.setPixels(p(E.colormap)),this.texture.generateMipmap());var i=E.cells,L=E.positions,b=E.vectors;if(!(!L||!i||!b)){var O=[],_=[],N=[],z=[],B=[];this.cells=i,this.positions=L,this.vectors=b;var U=E.meshColor||[1,1,1,1],F=E.vertexIntensity,V=1/0,j=-1/0;if(F)if(E.vertexIntensityBounds)V=+E.vertexIntensityBounds[0],j=+E.vertexIntensityBounds[1];else for(var $=0;$<F.length;++$){var ne=F[$];V=Math.min(V,ne),j=Math.max(j,ne)}else for(var $=0;$<L.length;++$){var ne=L[$][2];V=Math.min(V,ne),j=Math.max(j,ne)}F?this.intensity=F:this.intensity=M(L),this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var $=0;$<L.length;++$)for(var oe=L[$],ce=0;ce<3;++ce)isNaN(oe[ce])||!isFinite(oe[ce])||(this.bounds[0][ce]=Math.min(this.bounds[0][ce],oe[ce]),this.bounds[1][ce]=Math.max(this.bounds[1][ce],oe[ce]));var Q=0;e:for(var $=0;$<i.length;++$){var Z=i[$];switch(Z.length){case 3:for(var ce=0;ce<3;++ce)for(var K=Z[ce],oe=L[K],J=0;J<3;++J)if(isNaN(oe[J])||!isFinite(oe[J]))continue e;for(var ce=0;ce<3;++ce){var K=Z[2-ce],oe=L[K];O.push(oe[0],oe[1],oe[2],oe[3]);var re=b[K];_.push(re[0],re[1],re[2],re[3]||0);var le=U;le.length===3?N.push(le[0],le[1],le[2],1):N.push(le[0],le[1],le[2],le[3]);var q;F?q=[(F[K]-V)/(j-V),0]:q=[(oe[2]-V)/(j-V),0],z.push(q[0],q[1]),B.push($)}Q+=1;break}}this.triangleCount=Q,this.trianglePositions.update(O),this.triangleVectors.update(_),this.triangleColors.update(N),this.triangleUVs.update(z),this.triangleIds.update(new Uint32Array(B))}},l.drawTransparent=l.draw=function(E){E=E||{};for(var w=this.gl,i=E.model||A,L=E.view||A,b=E.projection||A,O=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],_=0;_<3;++_)O[0][_]=Math.max(O[0][_],this.clipBounds[0][_]),O[1][_]=Math.min(O[1][_],this.clipBounds[1][_]);var N={model:i,view:L,projection:b,inverseModel:A.slice(),clipBounds:O,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],opacity:this.opacity,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,texture:0};N.inverseModel=u(N.inverseModel,N.model),w.disable(w.CULL_FACE),this.texture.bind(0);var z=new Array(16);f(z,N.view,N.model),f(z,N.projection,z),u(z,z);for(var _=0;_<3;++_)N.eyePosition[_]=z[12+_]/z[15];for(var B=z[15],_=0;_<3;++_)B+=this.lightPosition[_]*z[4*_+3];for(var _=0;_<3;++_){for(var U=z[12+_],F=0;F<3;++F)U+=z[4*F+_]*this.lightPosition[F];N.lightPosition[_]=U/B}if(this.triangleCount>0){var V=this.triShader;V.bind(),V.uniforms=N,this.triangleVAO.bind(),w.drawArrays(w.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}},l.drawPick=function(E){E=E||{};for(var w=this.gl,i=E.model||A,L=E.view||A,b=E.projection||A,O=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],_=0;_<3;++_)O[0][_]=Math.max(O[0][_],this.clipBounds[0][_]),O[1][_]=Math.min(O[1][_],this.clipBounds[1][_]);this._model=[].slice.call(i),this._view=[].slice.call(L),this._projection=[].slice.call(b),this._resolution=[w.drawingBufferWidth,w.drawingBufferHeight];var N={model:i,view:L,projection:b,clipBounds:O,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,pickId:this.pickId/255},z=this.pickShader;z.bind(),z.uniforms=N,this.triangleCount>0&&(this.triangleVAO.bind(),w.drawArrays(w.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind())},l.pick=function(E){if(!E||E.id!==this.pickId)return null;var w=E.value[0]+256*E.value[1]+65536*E.value[2],i=this.cells[w],L=this.positions[i[1]].slice(0,3),b={position:L,dataCoordinate:L,index:Math.floor(i[1]/48)};return this.traceType==="cone"?b.index=Math.floor(i[1]/48):this.traceType==="streamtube"&&(b.intensity=this.intensity[i[1]],b.velocity=this.vectors[i[1]].slice(0,3),b.divergence=this.vectors[i[1]][3],b.index=w),b},l.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.pickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleVectors.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleIds.dispose()};function S(E,w){var i=r(E,w.meshShader.vertex,w.meshShader.fragment,null,w.meshShader.attributes);return i.attributes.position.location=0,i.attributes.color.location=2,i.attributes.uv.location=3,i.attributes.vector.location=4,i}function P(E,w){var i=r(E,w.pickShader.vertex,w.pickShader.fragment,null,w.pickShader.attributes);return i.attributes.position.location=0,i.attributes.id.location=1,i.attributes.vector.location=4,i}function x(E,w,i){var L=i.shaders;arguments.length===1&&(w=E,E=w.gl);var b=S(E,L),O=P(E,L),_=o(E,m(new Uint8Array([255,255,255,255]),[1,1,4]));_.generateMipmap(),_.minFilter=E.LINEAR_MIPMAP_LINEAR,_.magFilter=E.LINEAR;var N=s(E),z=s(E),B=s(E),U=s(E),F=s(E),V=n(E,[{buffer:N,type:E.FLOAT,size:4},{buffer:F,type:E.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:B,type:E.FLOAT,size:4},{buffer:U,type:E.FLOAT,size:2},{buffer:z,type:E.FLOAT,size:4}]),j=new h(E,_,b,O,N,z,F,B,U,V,i.traceType||"cone");return j.update(w),j}v.exports=x},7234:function(v,y,t){var r=t(6832),s=r([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec3 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, coneScale, coneOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * conePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(conePosition, 1.0);
  vec4 t_position  = view * conePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = conePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),n=r([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),o=r([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float vectorScale, coneScale, coneOffset;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector.xyz), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);
  gl_Position = projection * view * conePosition;
  f_id        = id;
  f_position  = position.xyz;
}
`]),f=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);y.meshShader={vertex:s,fragment:n,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec3"}]},y.pickShader={vertex:o,fragment:f,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec3"}]}},1950:function(v){v.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},6603:function(v,y,t){var r=t(1950);v.exports=function(n){return r[n]}},3110:function(v,y,t){v.exports=h;var r=t(5827),s=t(2944),n=t(7667),o=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function f(l,p,M,S){this.gl=l,this.shader=S,this.buffer=p,this.vao=M,this.pixelRatio=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lineWidth=[1,1,1],this.capSize=[10,10,10],this.lineCount=[0,0,0],this.lineOffset=[0,0,0],this.opacity=1,this.hasAlpha=!1}var u=f.prototype;u.isOpaque=function(){return!this.hasAlpha},u.isTransparent=function(){return this.hasAlpha},u.drawTransparent=u.draw=function(l){var p=this.gl,M=this.shader.uniforms;this.shader.bind();var S=M.view=l.view||o,P=M.projection=l.projection||o;M.model=l.model||o,M.clipBounds=this.clipBounds,M.opacity=this.opacity;var x=S[12],E=S[13],w=S[14],i=S[15],L=l._ortho||!1,b=L?2:1,O=b*this.pixelRatio*(P[3]*x+P[7]*E+P[11]*w+P[15]*i)/p.drawingBufferHeight;this.vao.bind();for(var _=0;_<3;++_)p.lineWidth(this.lineWidth[_]*this.pixelRatio),M.capSize=this.capSize[_]*O,this.lineCount[_]&&p.drawArrays(p.LINES,this.lineOffset[_],this.lineCount[_]);this.vao.unbind()};function m(l,p){for(var M=0;M<3;++M)l[0][M]=Math.min(l[0][M],p[M]),l[1][M]=Math.max(l[1][M],p[M])}var c=function(){for(var l=new Array(3),p=0;p<3;++p){for(var M=[],S=1;S<=2;++S)for(var P=-1;P<=1;P+=2){var x=(S+p)%3,E=[0,0,0];E[x]=P,M.push(E)}l[p]=M}return l}();function A(l,p,M,S){for(var P=c[S],x=0;x<P.length;++x){var E=P[x];l.push(p[0],p[1],p[2],M[0],M[1],M[2],M[3],E[0],E[1],E[2])}return P.length}u.update=function(l){l=l||{},"lineWidth"in l&&(this.lineWidth=l.lineWidth,Array.isArray(this.lineWidth)||(this.lineWidth=[this.lineWidth,this.lineWidth,this.lineWidth])),"capSize"in l&&(this.capSize=l.capSize,Array.isArray(this.capSize)||(this.capSize=[this.capSize,this.capSize,this.capSize])),this.hasAlpha=!1,"opacity"in l&&(this.opacity=+l.opacity,this.opacity<1&&(this.hasAlpha=!0));var p=l.color||[[0,0,0],[0,0,0],[0,0,0]],M=l.position,S=l.error;if(Array.isArray(p[0])||(p=[p,p,p]),M&&S){var P=[],x=M.length,E=0;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.lineCount=[0,0,0];for(var w=0;w<3;++w){this.lineOffset[w]=E;e:for(var i=0;i<x;++i){for(var L=M[i],b=0;b<3;++b)if(isNaN(L[b])||!isFinite(L[b]))continue e;var O=S[i],_=p[w];if(Array.isArray(_[0])&&(_=p[i]),_.length===3?_=[_[0],_[1],_[2],1]:_.length===4&&(_=[_[0],_[1],_[2],_[3]],!this.hasAlpha&&_[3]<1&&(this.hasAlpha=!0)),!(isNaN(O[0][w])||isNaN(O[1][w]))){if(O[0][w]<0){var N=L.slice();N[w]+=O[0][w],P.push(L[0],L[1],L[2],_[0],_[1],_[2],_[3],0,0,0,N[0],N[1],N[2],_[0],_[1],_[2],_[3],0,0,0),m(this.bounds,N),E+=2+A(P,N,_,w)}if(O[1][w]>0){var N=L.slice();N[w]+=O[1][w],P.push(L[0],L[1],L[2],_[0],_[1],_[2],_[3],0,0,0,N[0],N[1],N[2],_[0],_[1],_[2],_[3],0,0,0),m(this.bounds,N),E+=2+A(P,N,_,w)}}}this.lineCount[w]=E-this.lineOffset[w]}this.buffer.update(P)}},u.dispose=function(){this.shader.dispose(),this.buffer.dispose(),this.vao.dispose()};function h(l){var p=l.gl,M=r(p),S=s(p,[{buffer:M,type:p.FLOAT,size:3,offset:0,stride:40},{buffer:M,type:p.FLOAT,size:4,offset:12,stride:40},{buffer:M,type:p.FLOAT,size:3,offset:28,stride:40}]),P=n(p);P.attributes.position.location=0,P.attributes.color.location=1,P.attributes.offset.location=2;var x=new f(p,M,S,P);return x.update(l),x}},7667:function(v,y,t){var r=t(6832),s=t(5158),n=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, offset;
attribute vec4 color;
uniform mat4 model, view, projection;
uniform float capSize;
varying vec4 fragColor;
varying vec3 fragPosition;

void main() {
  vec4 worldPosition  = model * vec4(position, 1.0);
  worldPosition       = (worldPosition / worldPosition.w) + vec4(capSize * offset, 0.0);
  gl_Position         = projection * view * worldPosition;
  fragColor           = color;
  fragPosition        = position;
}`]),o=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float opacity;
varying vec3 fragPosition;
varying vec4 fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], fragPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  gl_FragColor = opacity * fragColor;
}`]);v.exports=function(f){return s(f,n,o,null,[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"offset",type:"vec3"}])}},4234:function(v,y,t){var r=t(8931);v.exports=E;var s=null,n,o,f,u;function m(w){var i=w.getParameter(w.FRAMEBUFFER_BINDING),L=w.getParameter(w.RENDERBUFFER_BINDING),b=w.getParameter(w.TEXTURE_BINDING_2D);return[i,L,b]}function c(w,i){w.bindFramebuffer(w.FRAMEBUFFER,i[0]),w.bindRenderbuffer(w.RENDERBUFFER,i[1]),w.bindTexture(w.TEXTURE_2D,i[2])}function A(w,i){var L=w.getParameter(i.MAX_COLOR_ATTACHMENTS_WEBGL);s=new Array(L+1);for(var b=0;b<=L;++b){for(var O=new Array(L),_=0;_<b;++_)O[_]=w.COLOR_ATTACHMENT0+_;for(var _=b;_<L;++_)O[_]=w.NONE;s[b]=O}}function h(w){switch(w){case n:throw new Error("gl-fbo: Framebuffer unsupported");case o:throw new Error("gl-fbo: Framebuffer incomplete attachment");case f:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case u:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function l(w,i,L,b,O,_){if(!b)return null;var N=r(w,i,L,O,b);return N.magFilter=w.NEAREST,N.minFilter=w.NEAREST,N.mipSamples=1,N.bind(),w.framebufferTexture2D(w.FRAMEBUFFER,_,w.TEXTURE_2D,N.handle,0),N}function p(w,i,L,b,O){var _=w.createRenderbuffer();return w.bindRenderbuffer(w.RENDERBUFFER,_),w.renderbufferStorage(w.RENDERBUFFER,b,i,L),w.framebufferRenderbuffer(w.FRAMEBUFFER,O,w.RENDERBUFFER,_),_}function M(w){var i=m(w.gl),L=w.gl,b=w.handle=L.createFramebuffer(),O=w._shape[0],_=w._shape[1],N=w.color.length,z=w._ext,B=w._useStencil,U=w._useDepth,F=w._colorType;L.bindFramebuffer(L.FRAMEBUFFER,b);for(var V=0;V<N;++V)w.color[V]=l(L,O,_,F,L.RGBA,L.COLOR_ATTACHMENT0+V);N===0?(w._color_rb=p(L,O,_,L.RGBA4,L.COLOR_ATTACHMENT0),z&&z.drawBuffersWEBGL(s[0])):N>1&&z.drawBuffersWEBGL(s[N]);var j=L.getExtension("WEBGL_depth_texture");j?B?w.depth=l(L,O,_,j.UNSIGNED_INT_24_8_WEBGL,L.DEPTH_STENCIL,L.DEPTH_STENCIL_ATTACHMENT):U&&(w.depth=l(L,O,_,L.UNSIGNED_SHORT,L.DEPTH_COMPONENT,L.DEPTH_ATTACHMENT)):U&&B?w._depth_rb=p(L,O,_,L.DEPTH_STENCIL,L.DEPTH_STENCIL_ATTACHMENT):U?w._depth_rb=p(L,O,_,L.DEPTH_COMPONENT16,L.DEPTH_ATTACHMENT):B&&(w._depth_rb=p(L,O,_,L.STENCIL_INDEX,L.STENCIL_ATTACHMENT));var $=L.checkFramebufferStatus(L.FRAMEBUFFER);if($!==L.FRAMEBUFFER_COMPLETE){w._destroyed=!0,L.bindFramebuffer(L.FRAMEBUFFER,null),L.deleteFramebuffer(w.handle),w.handle=null,w.depth&&(w.depth.dispose(),w.depth=null),w._depth_rb&&(L.deleteRenderbuffer(w._depth_rb),w._depth_rb=null);for(var V=0;V<w.color.length;++V)w.color[V].dispose(),w.color[V]=null;w._color_rb&&(L.deleteRenderbuffer(w._color_rb),w._color_rb=null),c(L,i),h($)}c(L,i)}function S(w,i,L,b,O,_,N,z){this.gl=w,this._shape=[i|0,L|0],this._destroyed=!1,this._ext=z,this.color=new Array(O);for(var B=0;B<O;++B)this.color[B]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=b,this._useDepth=_,this._useStencil=N;var U=this,F=[i|0,L|0];Object.defineProperties(F,{0:{get:function(){return U._shape[0]},set:function(V){return U.width=V}},1:{get:function(){return U._shape[1]},set:function(V){return U.height=V}}}),this._shapeVector=F,M(this)}var P=S.prototype;function x(w,i,L){if(w._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(!(w._shape[0]===i&&w._shape[1]===L)){var b=w.gl,O=b.getParameter(b.MAX_RENDERBUFFER_SIZE);if(i<0||i>O||L<0||L>O)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");w._shape[0]=i,w._shape[1]=L;for(var _=m(b),N=0;N<w.color.length;++N)w.color[N].shape=w._shape;w._color_rb&&(b.bindRenderbuffer(b.RENDERBUFFER,w._color_rb),b.renderbufferStorage(b.RENDERBUFFER,b.RGBA4,w._shape[0],w._shape[1])),w.depth&&(w.depth.shape=w._shape),w._depth_rb&&(b.bindRenderbuffer(b.RENDERBUFFER,w._depth_rb),w._useDepth&&w._useStencil?b.renderbufferStorage(b.RENDERBUFFER,b.DEPTH_STENCIL,w._shape[0],w._shape[1]):w._useDepth?b.renderbufferStorage(b.RENDERBUFFER,b.DEPTH_COMPONENT16,w._shape[0],w._shape[1]):w._useStencil&&b.renderbufferStorage(b.RENDERBUFFER,b.STENCIL_INDEX,w._shape[0],w._shape[1])),b.bindFramebuffer(b.FRAMEBUFFER,w.handle);var z=b.checkFramebufferStatus(b.FRAMEBUFFER);z!==b.FRAMEBUFFER_COMPLETE&&(w.dispose(),c(b,_),h(z)),c(b,_)}}Object.defineProperties(P,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(w){if(Array.isArray(w)||(w=[w|0,w|0]),w.length!==2)throw new Error("gl-fbo: Shape vector must be length 2");var i=w[0]|0,L=w[1]|0;return x(this,i,L),[i,L]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(w){return w=w|0,x(this,w,this._shape[1]),w},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(w){return w=w|0,x(this,this._shape[0],w),w},enumerable:!1}}),P.bind=function(){if(!this._destroyed){var w=this.gl;w.bindFramebuffer(w.FRAMEBUFFER,this.handle),w.viewport(0,0,this._shape[0],this._shape[1])}},P.dispose=function(){if(!this._destroyed){this._destroyed=!0;var w=this.gl;w.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(w.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var i=0;i<this.color.length;++i)this.color[i].dispose(),this.color[i]=null;this._color_rb&&(w.deleteRenderbuffer(this._color_rb),this._color_rb=null)}};function E(w,i,L,b){n||(n=w.FRAMEBUFFER_UNSUPPORTED,o=w.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,f=w.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,u=w.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var O=w.getExtension("WEBGL_draw_buffers");if(!s&&O&&A(w,O),Array.isArray(i)&&(b=L,L=i[1]|0,i=i[0]|0),typeof i!="number")throw new Error("gl-fbo: Missing shape parameter");var _=w.getParameter(w.MAX_RENDERBUFFER_SIZE);if(i<0||i>_||L<0||L>_)throw new Error("gl-fbo: Parameters are too large for FBO");b=b||{};var N=1;if("color"in b){if(N=Math.max(b.color|0,0),N<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(N>1)if(O){if(N>w.getParameter(O.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+N+" draw buffers")}else throw new Error("gl-fbo: Multiple draw buffer extension not supported")}var z=w.UNSIGNED_BYTE,B=w.getExtension("OES_texture_float");if(b.float&&N>0){if(!B)throw new Error("gl-fbo: Context does not support floating point textures");z=w.FLOAT}else b.preferFloat&&N>0&&B&&(z=w.FLOAT);var U=!0;"depth"in b&&(U=!!b.depth);var F=!1;return"stencil"in b&&(F=!!b.stencil),new S(w,i,L,z,N,U,F,O)}},3530:function(v,y,t){var r=t(8974).sprintf,s=t(6603),n=t(9365),o=t(8008);v.exports=f;function f(u,m,c){var A=n(m)||"of unknown name (see npm glsl-shader-name)",h="unknown type";c!==void 0&&(h=c===s.FRAGMENT_SHADER?"fragment":"vertex");for(var l=r(`Error compiling %s shader %s:
`,h,A),p=r("%s%s",l,u),M=u.split(`
`),S={},P=0;P<M.length;P++){var x=M[P];if(!(x===""||x==="\0")){var E=parseInt(x.split(":")[2]);if(isNaN(E))throw new Error(r("Could not parse error: %s",x));S[E]=x}}for(var w=o(m).split(`
`),P=0;P<w.length;P++)if(!(!S[P+3]&&!S[P+2]&&!S[P+1])){var i=w[P];if(l+=i+`
`,S[P+1]){var L=S[P+1];L=L.substr(L.split(":",3).join(":").length+1).trim(),l+=r(`^^^ %s

`,L)}}return{long:l.trim(),short:p.trim()}}},6386:function(v,y,t){v.exports=h;var r=t(5070),s=t(9560),n=t(5306),o=t(5158),f=t(5827),u=t(1292);function m(l,p,M,S,P,x,E){this.plot=l,this.shader=p,this.pickShader=M,this.positionBuffer=S,this.weightBuffer=P,this.colorBuffer=x,this.idBuffer=E,this.xData=[],this.yData=[],this.shape=[0,0],this.bounds=[1/0,1/0,-1/0,-1/0],this.pickOffset=0}var c=m.prototype,A=[0,0,1,0,0,1,1,0,1,1,0,1];c.draw=function(){var l=[1,0,0,0,1,0,0,0,1];return function(){var p=this.plot,M=this.shader,S=this.bounds,P=this.numVertices;if(!(P<=0)){var x=p.gl,E=p.dataBox,w=S[2]-S[0],i=S[3]-S[1],L=E[2]-E[0],b=E[3]-E[1];l[0]=2*w/L,l[4]=2*i/b,l[6]=2*(S[0]-E[0])/L-1,l[7]=2*(S[1]-E[1])/b-1,M.bind();var O=M.uniforms;O.viewTransform=l,O.shape=this.shape;var _=M.attributes;this.positionBuffer.bind(),_.position.pointer(),this.weightBuffer.bind(),_.weight.pointer(x.UNSIGNED_BYTE,!1),this.colorBuffer.bind(),_.color.pointer(x.UNSIGNED_BYTE,!0),x.drawArrays(x.TRIANGLES,0,P)}}}(),c.drawPick=function(){var l=[1,0,0,0,1,0,0,0,1],p=[0,0,0,0];return function(M){var S=this.plot,P=this.pickShader,x=this.bounds,E=this.numVertices;if(!(E<=0)){var w=S.gl,i=S.dataBox,L=x[2]-x[0],b=x[3]-x[1],O=i[2]-i[0],_=i[3]-i[1];l[0]=2*L/O,l[4]=2*b/_,l[6]=2*(x[0]-i[0])/O-1,l[7]=2*(x[1]-i[1])/_-1;for(var N=0;N<4;++N)p[N]=M>>N*8&255;this.pickOffset=M,P.bind();var z=P.uniforms;z.viewTransform=l,z.pickOffset=p,z.shape=this.shape;var B=P.attributes;return this.positionBuffer.bind(),B.position.pointer(),this.weightBuffer.bind(),B.weight.pointer(w.UNSIGNED_BYTE,!1),this.idBuffer.bind(),B.pickId.pointer(w.UNSIGNED_BYTE,!1),w.drawArrays(w.TRIANGLES,0,E),M+this.shape[0]*this.shape[1]}}}(),c.pick=function(l,p,M){var S=this.pickOffset,P=this.shape[0]*this.shape[1];if(M<S||M>=S+P)return null;var x=M-S,E=this.xData,w=this.yData;return{object:this,pointId:x,dataCoord:[E[x%this.shape[0]],w[x/this.shape[0]|0]]}},c.update=function(l){l=l||{};var p=l.shape||[0,0],M=l.x||s(p[0]),S=l.y||s(p[1]),P=l.z||new Float32Array(p[0]*p[1]),x=l.zsmooth!==!1;this.xData=M,this.yData=S;var E=l.colorLevels||[0],w=l.colorValues||[0,0,0,1],i=E.length,L=this.bounds,b,O,_,N;x?(b=L[0]=M[0],O=L[1]=S[0],_=L[2]=M[M.length-1],N=L[3]=S[S.length-1]):(b=L[0]=M[0]+(M[1]-M[0])/2,O=L[1]=S[0]+(S[1]-S[0])/2,_=L[2]=M[M.length-1]+(M[M.length-1]-M[M.length-2])/2,N=L[3]=S[S.length-1]+(S[S.length-1]-S[S.length-2])/2);var z=1/(_-b),B=1/(N-O),U=p[0],F=p[1];this.shape=[U,F];var V=(x?(U-1)*(F-1):U*F)*(A.length>>>1);this.numVertices=V;for(var j=n.mallocUint8(V*4),$=n.mallocFloat32(V*2),ne=n.mallocUint8(V*2),oe=n.mallocUint32(V),ce=0,Q=x?U-1:U,Z=x?F-1:F,K=0;K<Z;++K){var J,re;x?(J=B*(S[K]-O),re=B*(S[K+1]-O)):(J=K<F-1?B*(S[K]-(S[K+1]-S[K])/2-O):B*(S[K]-(S[K]-S[K-1])/2-O),re=K<F-1?B*(S[K]+(S[K+1]-S[K])/2-O):B*(S[K]+(S[K]-S[K-1])/2-O));for(var le=0;le<Q;++le){var q,ee;x?(q=z*(M[le]-b),ee=z*(M[le+1]-b)):(q=le<U-1?z*(M[le]-(M[le+1]-M[le])/2-b):z*(M[le]-(M[le]-M[le-1])/2-b),ee=le<U-1?z*(M[le]+(M[le+1]-M[le])/2-b):z*(M[le]+(M[le]-M[le-1])/2-b));for(var ue=0;ue<A.length;ue+=2){var se=A[ue],he=A[ue+1],me=x?(K+he)*U+(le+se):K*U+le,Ce=P[me],Te=r.le(E,Ce),Oe,Ne,Le,be;if(Te<0)Oe=w[0],Ne=w[1],Le=w[2],be=w[3];else if(Te===i-1)Oe=w[4*i-4],Ne=w[4*i-3],Le=w[4*i-2],be=w[4*i-1];else{var Ae=(Ce-E[Te])/(E[Te+1]-E[Te]),He=1-Ae,Ve=4*Te,ke=4*(Te+1);Oe=He*w[Ve]+Ae*w[ke],Ne=He*w[Ve+1]+Ae*w[ke+1],Le=He*w[Ve+2]+Ae*w[ke+2],be=He*w[Ve+3]+Ae*w[ke+3]}j[4*ce]=255*Oe,j[4*ce+1]=255*Ne,j[4*ce+2]=255*Le,j[4*ce+3]=255*be,$[2*ce]=q*.5+ee*.5,$[2*ce+1]=J*.5+re*.5,ne[2*ce]=se,ne[2*ce+1]=he,oe[ce]=K*U+le,ce+=1}}}this.positionBuffer.update($),this.weightBuffer.update(ne),this.colorBuffer.update(j),this.idBuffer.update(oe),n.free($),n.free(j),n.free(ne),n.free(oe)},c.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.positionBuffer.dispose(),this.weightBuffer.dispose(),this.colorBuffer.dispose(),this.idBuffer.dispose(),this.plot.removeObject(this)};function h(l,p){var M=l.gl,S=o(M,u.vertex,u.fragment),P=o(M,u.pickVertex,u.pickFragment),x=f(M),E=f(M),w=f(M),i=f(M),L=new m(l,S,P,x,E,w,i);return L.update(p),l.addObject(L),L}},1292:function(v,y,t){var r=t(6832);v.exports={fragment:r([`precision lowp float;
#define GLSLIFY 1
varying vec4 fragColor;
void main() {
  gl_FragColor = vec4(fragColor.rgb * fragColor.a, fragColor.a);
}
`]),vertex:r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 color;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragColor;

void main() {
  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  fragColor = color;
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`]),pickFragment:r([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;
varying vec2 vWeight;

uniform vec2 shape;
uniform vec4 pickOffset;

void main() {
  vec2 d = step(.5, vWeight);
  vec4 id = fragId + pickOffset;
  id.x += d.x + d.y*shape.x;

  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  gl_FragColor = id/255.;
}
`]),pickVertex:r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragId;
varying vec2 vWeight;

void main() {
  vWeight = weight;

  fragId = pickId;

  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`])}},248:function(v,y,t){var r=t(6832),s=t(5158),n=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, nextPosition;
attribute float arcLength, lineWidth;
attribute vec4 color;

uniform vec2 screenShape;
uniform float pixelRatio;
uniform mat4 model, view, projection;

varying vec4 fragColor;
varying vec3 worldPosition;
varying float pixelArcLength;

vec4 project(vec3 p) {
  return projection * view * model * vec4(p, 1.0);
}

void main() {
  vec4 startPoint = project(position);
  vec4 endPoint   = project(nextPosition);

  vec2 A = startPoint.xy / startPoint.w;
  vec2 B =   endPoint.xy /   endPoint.w;

  float clipAngle = atan(
    (B.y - A.y) * screenShape.y,
    (B.x - A.x) * screenShape.x
  );

  vec2 offset = 0.5 * pixelRatio * lineWidth * vec2(
    sin(clipAngle),
    -cos(clipAngle)
  ) / screenShape;

  gl_Position = vec4(startPoint.xy + startPoint.w * offset, startPoint.zw);

  worldPosition = position;
  pixelArcLength = arcLength;
  fragColor = color;
}
`]),o=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3      clipBounds[2];
uniform sampler2D dashTexture;
uniform float     dashScale;
uniform float     opacity;

varying vec3    worldPosition;
varying float   pixelArcLength;
varying vec4    fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], worldPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  float dashWeight = texture2D(dashTexture, vec2(dashScale * pixelArcLength, 0)).r;
  if(dashWeight < 0.5) {
    discard;
  }
  gl_FragColor = fragColor * opacity;
}
`]),f=r([`precision highp float;
#define GLSLIFY 1

#define FLOAT_MAX  1.70141184e38
#define FLOAT_MIN  1.17549435e-38

// https://github.com/mikolalysenko/glsl-read-float/blob/master/index.glsl
vec4 packFloat(float v) {
  float av = abs(v);

  //Handle special cases
  if(av < FLOAT_MIN) {
    return vec4(0.0, 0.0, 0.0, 0.0);
  } else if(v > FLOAT_MAX) {
    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;
  } else if(v < -FLOAT_MAX) {
    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;
  }

  vec4 c = vec4(0,0,0,0);

  //Compute exponent and mantissa
  float e = floor(log2(av));
  float m = av * pow(2.0, -e) - 1.0;

  //Unpack mantissa
  c[1] = floor(128.0 * m);
  m -= c[1] / 128.0;
  c[2] = floor(32768.0 * m);
  m -= c[2] / 32768.0;
  c[3] = floor(8388608.0 * m);

  //Unpack exponent
  float ebias = e + 127.0;
  c[0] = floor(ebias / 2.0);
  ebias -= c[0] * 2.0;
  c[1] += floor(ebias) * 128.0;

  //Unpack sign bit
  c[0] += 128.0 * step(0.0, -v);

  //Scale back to range
  return c / 255.0;
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform float pickId;
uniform vec3 clipBounds[2];

varying vec3 worldPosition;
varying float pixelArcLength;
varying vec4 fragColor;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], worldPosition)) discard;

  gl_FragColor = vec4(pickId/255.0, packFloat(pixelArcLength).xyz);
}`]),u=[{name:"position",type:"vec3"},{name:"nextPosition",type:"vec3"},{name:"arcLength",type:"float"},{name:"lineWidth",type:"float"},{name:"color",type:"vec4"}];y.createShader=function(m){return s(m,n,o,null,u)},y.createPickShader=function(m){return s(m,n,f,null,u)}},6086:function(v,y,t){v.exports=w;var r=t(5827),s=t(2944),n=t(8931),o=new Uint8Array(4),f=new Float32Array(o.buffer);function u(i,L,b,O){return o[0]=O,o[1]=b,o[2]=L,o[3]=i,f[0]}var m=t(5070),c=t(5050),A=t(248),h=A.createShader,l=A.createPickShader,p=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function M(i,L){for(var b=0,O=0;O<3;++O){var _=i[O]-L[O];b+=_*_}return Math.sqrt(b)}function S(i){for(var L=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],b=0;b<3;++b)L[0][b]=Math.max(i[0][b],L[0][b]),L[1][b]=Math.min(i[1][b],L[1][b]);return L}function P(i,L,b,O){this.arcLength=i,this.position=L,this.index=b,this.dataCoordinate=O}function x(i,L,b,O,_,N){this.gl=i,this.shader=L,this.pickShader=b,this.buffer=O,this.vao=_,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.points=[],this.arcLength=[],this.vertexCount=0,this.bounds=[[0,0,0],[0,0,0]],this.pickId=0,this.lineWidth=1,this.texture=N,this.dashScale=1,this.opacity=1,this.hasAlpha=!1,this.dirty=!0,this.pixelRatio=1}var E=x.prototype;E.isTransparent=function(){return this.hasAlpha},E.isOpaque=function(){return!this.hasAlpha},E.pickSlots=1,E.setPickBase=function(i){this.pickId=i},E.drawTransparent=E.draw=function(i){if(this.vertexCount){var L=this.gl,b=this.shader,O=this.vao;b.bind(),b.uniforms={model:i.model||p,view:i.view||p,projection:i.projection||p,clipBounds:S(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[L.drawingBufferWidth,L.drawingBufferHeight],pixelRatio:this.pixelRatio},O.bind(),O.draw(L.TRIANGLE_STRIP,this.vertexCount),O.unbind()}},E.drawPick=function(i){if(this.vertexCount){var L=this.gl,b=this.pickShader,O=this.vao;b.bind(),b.uniforms={model:i.model||p,view:i.view||p,projection:i.projection||p,pickId:this.pickId,clipBounds:S(this.clipBounds),screenShape:[L.drawingBufferWidth,L.drawingBufferHeight],pixelRatio:this.pixelRatio},O.bind(),O.draw(L.TRIANGLE_STRIP,this.vertexCount),O.unbind()}},E.update=function(i){var L,b;this.dirty=!0;var O=!!i.connectGaps;"dashScale"in i&&(this.dashScale=i.dashScale),this.hasAlpha=!1,"opacity"in i&&(this.opacity=+i.opacity,this.opacity<1&&(this.hasAlpha=!0));var _=[],N=[],z=[],B=0,U=0,F=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],V=i.position||i.positions;if(V){var j=i.color||i.colors||[0,0,0,1],$=i.lineWidth||1,ne=!1;e:for(L=1;L<V.length;++L){var oe=V[L-1],ce=V[L];for(N.push(B),z.push(oe.slice()),b=0;b<3;++b){if(isNaN(oe[b])||isNaN(ce[b])||!isFinite(oe[b])||!isFinite(ce[b])){if(!O&&_.length>0){for(var Q=0;Q<24;++Q)_.push(_[_.length-12]);U+=2,ne=!0}continue e}F[0][b]=Math.min(F[0][b],oe[b],ce[b]),F[1][b]=Math.max(F[1][b],oe[b],ce[b])}var Z,K;Array.isArray(j[0])?(Z=j.length>L-1?j[L-1]:j.length>0?j[j.length-1]:[0,0,0,1],K=j.length>L?j[L]:j.length>0?j[j.length-1]:[0,0,0,1]):Z=K=j,Z.length===3&&(Z=[Z[0],Z[1],Z[2],1]),K.length===3&&(K=[K[0],K[1],K[2],1]),!this.hasAlpha&&Z[3]<1&&(this.hasAlpha=!0);var J;Array.isArray($)?J=$.length>L-1?$[L-1]:$.length>0?$[$.length-1]:[0,0,0,1]:J=$;var re=B;if(B+=M(oe,ce),ne){for(b=0;b<2;++b)_.push(oe[0],oe[1],oe[2],ce[0],ce[1],ce[2],re,J,Z[0],Z[1],Z[2],Z[3]);U+=2,ne=!1}_.push(oe[0],oe[1],oe[2],ce[0],ce[1],ce[2],re,J,Z[0],Z[1],Z[2],Z[3],oe[0],oe[1],oe[2],ce[0],ce[1],ce[2],re,-J,Z[0],Z[1],Z[2],Z[3],ce[0],ce[1],ce[2],oe[0],oe[1],oe[2],B,-J,K[0],K[1],K[2],K[3],ce[0],ce[1],ce[2],oe[0],oe[1],oe[2],B,J,K[0],K[1],K[2],K[3]),U+=4}}if(this.buffer.update(_),N.push(B),z.push(V[V.length-1].slice()),this.bounds=F,this.vertexCount=U,this.points=z,this.arcLength=N,"dashes"in i){var le=i.dashes,q=le.slice();for(q.unshift(0),L=1;L<q.length;++L)q[L]=q[L-1]+q[L];var ee=c(new Array(256*4),[256,1,4]);for(L=0;L<256;++L){for(b=0;b<4;++b)ee.set(L,0,b,0);m.le(q,q[q.length-1]*L/255)&1?ee.set(L,0,0,0):ee.set(L,0,0,255)}this.texture.setPixels(ee)}},E.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()},E.pick=function(i){if(!i||i.id!==this.pickId)return null;var L=u(i.value[0],i.value[1],i.value[2],0),b=m.le(this.arcLength,L);if(b<0)return null;if(b===this.arcLength.length-1)return new P(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),b);for(var O=this.points[b],_=this.points[Math.min(b+1,this.points.length-1)],N=(L-this.arcLength[b])/(this.arcLength[b+1]-this.arcLength[b]),z=1-N,B=[0,0,0],U=0;U<3;++U)B[U]=z*O[U]+N*_[U];var F=Math.min(N<.5?b:b+1,this.points.length-1);return new P(L,B,F,this.points[F])};function w(i){var L=i.gl||i.scene&&i.scene.gl,b=h(L);b.attributes.position.location=0,b.attributes.nextPosition.location=1,b.attributes.arcLength.location=2,b.attributes.lineWidth.location=3,b.attributes.color.location=4;var O=l(L);O.attributes.position.location=0,O.attributes.nextPosition.location=1,O.attributes.arcLength.location=2,O.attributes.lineWidth.location=3,O.attributes.color.location=4;for(var _=r(L),N=s(L,[{buffer:_,size:3,offset:0,stride:48},{buffer:_,size:3,offset:12,stride:48},{buffer:_,size:1,offset:24,stride:48},{buffer:_,size:1,offset:28,stride:48},{buffer:_,size:4,offset:32,stride:48}]),z=c(new Array(256*4),[256,1,4]),B=0;B<1024;++B)z.data[B]=255;var U=n(L,z);U.wrap=L.REPEAT;var F=new x(L,b,O,_,N,U);return F.update(i),F}},7332:function(v){v.exports=y;function y(t){var r=new Float32Array(16);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[8]=t[8],r[9]=t[9],r[10]=t[10],r[11]=t[11],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15],r}},9823:function(v){v.exports=y;function y(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},7787:function(v){v.exports=y;function y(t){var r=t[0],s=t[1],n=t[2],o=t[3],f=t[4],u=t[5],m=t[6],c=t[7],A=t[8],h=t[9],l=t[10],p=t[11],M=t[12],S=t[13],P=t[14],x=t[15],E=r*u-s*f,w=r*m-n*f,i=r*c-o*f,L=s*m-n*u,b=s*c-o*u,O=n*c-o*m,_=A*S-h*M,N=A*P-l*M,z=A*x-p*M,B=h*P-l*S,U=h*x-p*S,F=l*x-p*P;return E*F-w*U+i*B+L*z-b*N+O*_}},5950:function(v){v.exports=y;function y(t,r){var s=r[0],n=r[1],o=r[2],f=r[3],u=s+s,m=n+n,c=o+o,A=s*u,h=n*u,l=n*m,p=o*u,M=o*m,S=o*c,P=f*u,x=f*m,E=f*c;return t[0]=1-l-S,t[1]=h+E,t[2]=p-x,t[3]=0,t[4]=h-E,t[5]=1-A-S,t[6]=M+P,t[7]=0,t[8]=p+x,t[9]=M-P,t[10]=1-A-l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},7280:function(v){v.exports=y;function y(t,r,s){var n=r[0],o=r[1],f=r[2],u=r[3],m=n+n,c=o+o,A=f+f,h=n*m,l=n*c,p=n*A,M=o*c,S=o*A,P=f*A,x=u*m,E=u*c,w=u*A;return t[0]=1-(M+P),t[1]=l+w,t[2]=p-E,t[3]=0,t[4]=l-w,t[5]=1-(h+P),t[6]=S+x,t[7]=0,t[8]=p+E,t[9]=S-x,t[10]=1-(h+M),t[11]=0,t[12]=s[0],t[13]=s[1],t[14]=s[2],t[15]=1,t}},9947:function(v){v.exports=y;function y(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},7437:function(v){v.exports=y;function y(t,r){var s=r[0],n=r[1],o=r[2],f=r[3],u=r[4],m=r[5],c=r[6],A=r[7],h=r[8],l=r[9],p=r[10],M=r[11],S=r[12],P=r[13],x=r[14],E=r[15],w=s*m-n*u,i=s*c-o*u,L=s*A-f*u,b=n*c-o*m,O=n*A-f*m,_=o*A-f*c,N=h*P-l*S,z=h*x-p*S,B=h*E-M*S,U=l*x-p*P,F=l*E-M*P,V=p*E-M*x,j=w*V-i*F+L*U+b*B-O*z+_*N;return j?(j=1/j,t[0]=(m*V-c*F+A*U)*j,t[1]=(o*F-n*V-f*U)*j,t[2]=(P*_-x*O+E*b)*j,t[3]=(p*O-l*_-M*b)*j,t[4]=(c*B-u*V-A*z)*j,t[5]=(s*V-o*B+f*z)*j,t[6]=(x*L-S*_-E*i)*j,t[7]=(h*_-p*L+M*i)*j,t[8]=(u*F-m*B+A*N)*j,t[9]=(n*B-s*F-f*N)*j,t[10]=(S*O-P*L+E*w)*j,t[11]=(l*L-h*O-M*w)*j,t[12]=(m*z-u*U-c*N)*j,t[13]=(s*U-n*z+o*N)*j,t[14]=(P*i-S*b-x*w)*j,t[15]=(h*b-l*i+p*w)*j,t):null}},3012:function(v,y,t){var r=t(9947);v.exports=s;function s(n,o,f,u){var m,c,A,h,l,p,M,S,P,x,E=o[0],w=o[1],i=o[2],L=u[0],b=u[1],O=u[2],_=f[0],N=f[1],z=f[2];return Math.abs(E-_)<1e-6&&Math.abs(w-N)<1e-6&&Math.abs(i-z)<1e-6?r(n):(M=E-_,S=w-N,P=i-z,x=1/Math.sqrt(M*M+S*S+P*P),M*=x,S*=x,P*=x,m=b*P-O*S,c=O*M-L*P,A=L*S-b*M,x=Math.sqrt(m*m+c*c+A*A),x?(x=1/x,m*=x,c*=x,A*=x):(m=0,c=0,A=0),h=S*A-P*c,l=P*m-M*A,p=M*c-S*m,x=Math.sqrt(h*h+l*l+p*p),x?(x=1/x,h*=x,l*=x,p*=x):(h=0,l=0,p=0),n[0]=m,n[1]=h,n[2]=M,n[3]=0,n[4]=c,n[5]=l,n[6]=S,n[7]=0,n[8]=A,n[9]=p,n[10]=P,n[11]=0,n[12]=-(m*E+c*w+A*i),n[13]=-(h*E+l*w+p*i),n[14]=-(M*E+S*w+P*i),n[15]=1,n)}},104:function(v){v.exports=y;function y(t,r,s){var n=r[0],o=r[1],f=r[2],u=r[3],m=r[4],c=r[5],A=r[6],h=r[7],l=r[8],p=r[9],M=r[10],S=r[11],P=r[12],x=r[13],E=r[14],w=r[15],i=s[0],L=s[1],b=s[2],O=s[3];return t[0]=i*n+L*m+b*l+O*P,t[1]=i*o+L*c+b*p+O*x,t[2]=i*f+L*A+b*M+O*E,t[3]=i*u+L*h+b*S+O*w,i=s[4],L=s[5],b=s[6],O=s[7],t[4]=i*n+L*m+b*l+O*P,t[5]=i*o+L*c+b*p+O*x,t[6]=i*f+L*A+b*M+O*E,t[7]=i*u+L*h+b*S+O*w,i=s[8],L=s[9],b=s[10],O=s[11],t[8]=i*n+L*m+b*l+O*P,t[9]=i*o+L*c+b*p+O*x,t[10]=i*f+L*A+b*M+O*E,t[11]=i*u+L*h+b*S+O*w,i=s[12],L=s[13],b=s[14],O=s[15],t[12]=i*n+L*m+b*l+O*P,t[13]=i*o+L*c+b*p+O*x,t[14]=i*f+L*A+b*M+O*E,t[15]=i*u+L*h+b*S+O*w,t}},5268:function(v){v.exports=y;function y(t,r,s,n,o,f,u){var m=1/(r-s),c=1/(n-o),A=1/(f-u);return t[0]=-2*m,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*c,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*A,t[11]=0,t[12]=(r+s)*m,t[13]=(o+n)*c,t[14]=(u+f)*A,t[15]=1,t}},1120:function(v){v.exports=y;function y(t,r,s,n,o){var f=1/Math.tan(r/2),u=1/(n-o);return t[0]=f/s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=f,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(o+n)*u,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*o*n*u,t[15]=0,t}},4422:function(v){v.exports=y;function y(t,r,s,n){var o=n[0],f=n[1],u=n[2],m=Math.sqrt(o*o+f*f+u*u),c,A,h,l,p,M,S,P,x,E,w,i,L,b,O,_,N,z,B,U,F,V,j,$;return Math.abs(m)<1e-6?null:(m=1/m,o*=m,f*=m,u*=m,c=Math.sin(s),A=Math.cos(s),h=1-A,l=r[0],p=r[1],M=r[2],S=r[3],P=r[4],x=r[5],E=r[6],w=r[7],i=r[8],L=r[9],b=r[10],O=r[11],_=o*o*h+A,N=f*o*h+u*c,z=u*o*h-f*c,B=o*f*h-u*c,U=f*f*h+A,F=u*f*h+o*c,V=o*u*h+f*c,j=f*u*h-o*c,$=u*u*h+A,t[0]=l*_+P*N+i*z,t[1]=p*_+x*N+L*z,t[2]=M*_+E*N+b*z,t[3]=S*_+w*N+O*z,t[4]=l*B+P*U+i*F,t[5]=p*B+x*U+L*F,t[6]=M*B+E*U+b*F,t[7]=S*B+w*U+O*F,t[8]=l*V+P*j+i*$,t[9]=p*V+x*j+L*$,t[10]=M*V+E*j+b*$,t[11]=S*V+w*j+O*$,r!==t&&(t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t)}},6109:function(v){v.exports=y;function y(t,r,s){var n=Math.sin(s),o=Math.cos(s),f=r[4],u=r[5],m=r[6],c=r[7],A=r[8],h=r[9],l=r[10],p=r[11];return r!==t&&(t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[4]=f*o+A*n,t[5]=u*o+h*n,t[6]=m*o+l*n,t[7]=c*o+p*n,t[8]=A*o-f*n,t[9]=h*o-u*n,t[10]=l*o-m*n,t[11]=p*o-c*n,t}},7115:function(v){v.exports=y;function y(t,r,s){var n=Math.sin(s),o=Math.cos(s),f=r[0],u=r[1],m=r[2],c=r[3],A=r[8],h=r[9],l=r[10],p=r[11];return r!==t&&(t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[0]=f*o-A*n,t[1]=u*o-h*n,t[2]=m*o-l*n,t[3]=c*o-p*n,t[8]=f*n+A*o,t[9]=u*n+h*o,t[10]=m*n+l*o,t[11]=c*n+p*o,t}},5240:function(v){v.exports=y;function y(t,r,s){var n=Math.sin(s),o=Math.cos(s),f=r[0],u=r[1],m=r[2],c=r[3],A=r[4],h=r[5],l=r[6],p=r[7];return r!==t&&(t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[0]=f*o+A*n,t[1]=u*o+h*n,t[2]=m*o+l*n,t[3]=c*o+p*n,t[4]=A*o-f*n,t[5]=h*o-u*n,t[6]=l*o-m*n,t[7]=p*o-c*n,t}},3668:function(v){v.exports=y;function y(t,r,s){var n=s[0],o=s[1],f=s[2];return t[0]=r[0]*n,t[1]=r[1]*n,t[2]=r[2]*n,t[3]=r[3]*n,t[4]=r[4]*o,t[5]=r[5]*o,t[6]=r[6]*o,t[7]=r[7]*o,t[8]=r[8]*f,t[9]=r[9]*f,t[10]=r[10]*f,t[11]=r[11]*f,t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t}},998:function(v){v.exports=y;function y(t,r,s){var n=s[0],o=s[1],f=s[2],u,m,c,A,h,l,p,M,S,P,x,E;return r===t?(t[12]=r[0]*n+r[4]*o+r[8]*f+r[12],t[13]=r[1]*n+r[5]*o+r[9]*f+r[13],t[14]=r[2]*n+r[6]*o+r[10]*f+r[14],t[15]=r[3]*n+r[7]*o+r[11]*f+r[15]):(u=r[0],m=r[1],c=r[2],A=r[3],h=r[4],l=r[5],p=r[6],M=r[7],S=r[8],P=r[9],x=r[10],E=r[11],t[0]=u,t[1]=m,t[2]=c,t[3]=A,t[4]=h,t[5]=l,t[6]=p,t[7]=M,t[8]=S,t[9]=P,t[10]=x,t[11]=E,t[12]=u*n+h*o+S*f+r[12],t[13]=m*n+l*o+P*f+r[13],t[14]=c*n+p*o+x*f+r[14],t[15]=A*n+M*o+E*f+r[15]),t}},2142:function(v){v.exports=y;function y(t,r){if(t===r){var s=r[1],n=r[2],o=r[3],f=r[6],u=r[7],m=r[11];t[1]=r[4],t[2]=r[8],t[3]=r[12],t[4]=s,t[6]=r[9],t[7]=r[13],t[8]=n,t[9]=f,t[11]=r[14],t[12]=o,t[13]=u,t[14]=m}else t[0]=r[0],t[1]=r[4],t[2]=r[8],t[3]=r[12],t[4]=r[1],t[5]=r[5],t[6]=r[9],t[7]=r[13],t[8]=r[2],t[9]=r[6],t[10]=r[10],t[11]=r[14],t[12]=r[3],t[13]=r[7],t[14]=r[11],t[15]=r[15];return t}},4340:function(v,y,t){var r=t(957),s=t(7309);v.exports=m;function n(c,A){for(var h=[0,0,0,0],l=0;l<4;++l)for(var p=0;p<4;++p)h[p]+=c[4*l+p]*A[l];return h}function o(c,A,h,l,p){for(var M=n(l,n(h,n(A,[c[0],c[1],c[2],1]))),S=0;S<3;++S)M[S]/=M[3];return[.5*p[0]*(1+M[0]),.5*p[1]*(1-M[1])]}function f(c,A){if(c.length===2){for(var h=0,l=0,p=0;p<2;++p)h+=Math.pow(A[p]-c[0][p],2),l+=Math.pow(A[p]-c[1][p],2);return h=Math.sqrt(h),l=Math.sqrt(l),h+l<1e-6?[1,0]:[l/(h+l),h/(l+h)]}else if(c.length===3){var M=[0,0];return s(c[0],c[1],c[2],A,M),r(c,M)}return[]}function u(c,A){for(var h=[0,0,0],l=0;l<c.length;++l)for(var p=c[l],M=A[l],S=0;S<3;++S)h[S]+=M*p[S];return h}function m(c,A,h,l,p,M){if(c.length===1)return[0,c[0].slice()];for(var S=new Array(c.length),P=0;P<c.length;++P)S[P]=o(c[P],h,l,p,M);for(var x=0,E=1/0,P=0;P<S.length;++P){for(var w=0,i=0;i<2;++i)w+=Math.pow(S[P][i]-A[i],2);w<E&&(E=w,x=P)}for(var L=f(S,A),b=0,P=0;P<3;++P){if(L[P]<-.001||L[P]>1.0001)return null;b+=L[P]}return Math.abs(b-1)>.001?null:[x,u(c,L),L]}},2056:function(v,y,t){var r=t(6832),s=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, normal;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model
           , view
           , projection
           , inverseModel;
uniform vec3 eyePosition
           , lightPosition;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

vec4 project(vec3 p) {
  return projection * view * model * vec4(p, 1.0);
}

void main() {
  gl_Position      = project(position);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * vec4(position , 1.0);
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal  = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  f_color          = color;
  f_data           = position;
  f_uv             = uv;
}
`]),n=r([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

//#pragma glslify: beckmann = require(glsl-specular-beckmann) // used in gl-surface3d

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness
            , fresnel
            , kambient
            , kdiffuse
            , kspecular;
uniform sampler2D texture;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (f_color.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], f_data)
  ) discard;

  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  //float specular = max(0.0, beckmann(L, V, N, roughness)); // used in gl-surface3d

  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = vec4(f_color.rgb, 1.0) * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * f_color.a;
}
`]),o=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model, view, projection;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
  f_color = color;
  f_data  = position;
  f_uv    = uv;
}`]),f=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_data)) discard;

  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),u=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;
attribute float pointSize;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0 ,0.0 ,0.0);
  } else {
    gl_Position = projection * view * model * vec4(position, 1.0);
  }
  gl_PointSize = pointSize;
  f_color = color;
  f_uv = uv;
}`]),m=r([`precision highp float;
#define GLSLIFY 1

uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  vec2 pointR = gl_PointCoord.xy - vec2(0.5, 0.5);
  if(dot(pointR, pointR) > 0.25) {
    discard;
  }
  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),c=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 id;

uniform mat4 model, view, projection;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
  f_id        = id;
  f_position  = position;
}`]),A=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]),h=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3  position;
attribute float pointSize;
attribute vec4  id;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0, 0.0, 0.0);
  } else {
    gl_Position  = projection * view * model * vec4(position, 1.0);
    gl_PointSize = pointSize;
  }
  f_id         = id;
  f_position   = position;
}`]),l=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
}`]),p=r([`precision highp float;
#define GLSLIFY 1

uniform vec3 contourColor;

void main() {
  gl_FragColor = vec4(contourColor, 1.0);
}
`]);y.meshShader={vertex:s,fragment:n,attributes:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},y.wireShader={vertex:o,fragment:f,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},y.pointShader={vertex:u,fragment:m,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"pointSize",type:"float"}]},y.pickShader={vertex:c,fragment:A,attributes:[{name:"position",type:"vec3"},{name:"id",type:"vec4"}]},y.pointPickShader={vertex:h,fragment:A,attributes:[{name:"position",type:"vec3"},{name:"pointSize",type:"float"},{name:"id",type:"vec4"}]},y.contourShader={vertex:l,fragment:p,attributes:[{name:"position",type:"vec3"}]}},8116:function(v,y,t){var r=1e-6,s=1e-6,n=t(5158),o=t(5827),f=t(2944),u=t(8931),m=t(115),c=t(104),A=t(7437),h=t(5050),l=t(9156),p=t(7212),M=t(5306),S=t(2056),P=t(4340),x=S.meshShader,E=S.wireShader,w=S.pointShader,i=S.pickShader,L=S.pointPickShader,b=S.contourShader,O=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function _(Q,Z,K,J,re,le,q,ee,ue,se,he,me,Ce,Te,Oe,Ne,Le,be,Ae,He,Ve,ke,Ge,it,et,tt,at){this.gl=Q,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=Z,this.dirty=!0,this.triShader=K,this.lineShader=J,this.pointShader=re,this.pickShader=le,this.pointPickShader=q,this.contourShader=ee,this.trianglePositions=ue,this.triangleColors=he,this.triangleNormals=Ce,this.triangleUVs=me,this.triangleIds=se,this.triangleVAO=Te,this.triangleCount=0,this.lineWidth=1,this.edgePositions=Oe,this.edgeColors=Le,this.edgeUVs=be,this.edgeIds=Ne,this.edgeVAO=Ae,this.edgeCount=0,this.pointPositions=He,this.pointColors=ke,this.pointUVs=Ge,this.pointSizes=it,this.pointIds=Ve,this.pointVAO=et,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=tt,this.contourVAO=at,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickVertex=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.hasAlpha=!1,this.opacityscale=!1,this._model=O,this._view=O,this._projection=O,this._resolution=[1,1]}var N=_.prototype;N.isOpaque=function(){return!this.hasAlpha},N.isTransparent=function(){return this.hasAlpha},N.pickSlots=1,N.setPickBase=function(Q){this.pickId=Q};function z(Q,Z){if(!Z||!Z.length)return 1;for(var K=0;K<Z.length;++K){if(Z.length<2)return 1;if(Z[K][0]===Q)return Z[K][1];if(Z[K][0]>Q&&K>0){var J=(Z[K][0]-Q)/(Z[K][0]-Z[K-1][0]);return Z[K][1]*(1-J)+J*Z[K-1][1]}}return 1}function B(Q,Z){for(var K=l({colormap:Q,nshades:256,format:"rgba"}),J=new Uint8Array(256*4),re=0;re<256;++re){for(var le=K[re],q=0;q<3;++q)J[4*re+q]=le[q];Z?J[4*re+3]=255*z(re/255,Z):J[4*re+3]=255*le[3]}return h(J,[256,256,4],[4,0,1])}function U(Q){for(var Z=Q.length,K=new Array(Z),J=0;J<Z;++J)K[J]=Q[J][2];return K}N.highlight=function(Q){if(!Q||!this.contourEnable){this.contourCount=0;return}for(var Z=p(this.cells,this.intensity,Q.intensity),K=Z.cells,J=Z.vertexIds,re=Z.vertexWeights,le=K.length,q=M.mallocFloat32(2*3*le),ee=0,ue=0;ue<le;++ue)for(var se=K[ue],he=0;he<2;++he){var me=se[0];se.length===2&&(me=se[he]);for(var Ce=J[me][0],Te=J[me][1],Oe=re[me],Ne=1-Oe,Le=this.positions[Ce],be=this.positions[Te],Ae=0;Ae<3;++Ae)q[ee++]=Oe*Le[Ae]+Ne*be[Ae]}this.contourCount=ee/3|0,this.contourPositions.update(q.subarray(0,ee)),M.free(q)},N.update=function(Q){Q=Q||{};var Z=this.gl;this.dirty=!0,"contourEnable"in Q&&(this.contourEnable=Q.contourEnable),"contourColor"in Q&&(this.contourColor=Q.contourColor),"lineWidth"in Q&&(this.lineWidth=Q.lineWidth),"lightPosition"in Q&&(this.lightPosition=Q.lightPosition),this.hasAlpha=!1,"opacity"in Q&&(this.opacity=Q.opacity,this.opacity<1&&(this.hasAlpha=!0)),"opacityscale"in Q&&(this.opacityscale=Q.opacityscale,this.hasAlpha=!0),"ambient"in Q&&(this.ambientLight=Q.ambient),"diffuse"in Q&&(this.diffuseLight=Q.diffuse),"specular"in Q&&(this.specularLight=Q.specular),"roughness"in Q&&(this.roughness=Q.roughness),"fresnel"in Q&&(this.fresnel=Q.fresnel),Q.texture?(this.texture.dispose(),this.texture=u(Z,Q.texture)):Q.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=Z.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=Z.LINEAR,this.texture.setPixels(B(Q.colormap,this.opacityscale)),this.texture.generateMipmap());var K=Q.cells,J=Q.positions;if(!(!J||!K)){var re=[],le=[],q=[],ee=[],ue=[],se=[],he=[],me=[],Ce=[],Te=[],Oe=[],Ne=[],Le=[],be=[];this.cells=K,this.positions=J;var Ae=Q.vertexNormals,He=Q.cellNormals,Ve=Q.vertexNormalsEpsilon===void 0?r:Q.vertexNormalsEpsilon,ke=Q.faceNormalsEpsilon===void 0?s:Q.faceNormalsEpsilon;Q.useFacetNormals&&!He&&(He=m.faceNormals(K,J,ke)),!He&&!Ae&&(Ae=m.vertexNormals(K,J,Ve));var Ge=Q.vertexColors,it=Q.cellColors,et=Q.meshColor||[1,1,1,1],tt=Q.vertexUVs,at=Q.vertexIntensity,vt=Q.cellUVs,yt=Q.cellIntensity,gt=1/0,Mt=-1/0;if(!tt&&!vt)if(at)if(Q.vertexIntensityBounds)gt=+Q.vertexIntensityBounds[0],Mt=+Q.vertexIntensityBounds[1];else for(var Ct=0;Ct<at.length;++Ct){var Vt=at[Ct];gt=Math.min(gt,Vt),Mt=Math.max(Mt,Vt)}else if(yt)if(Q.cellIntensityBounds)gt=+Q.cellIntensityBounds[0],Mt=+Q.cellIntensityBounds[1];else for(var Ct=0;Ct<yt.length;++Ct){var Vt=yt[Ct];gt=Math.min(gt,Vt),Mt=Math.max(Mt,Vt)}else for(var Ct=0;Ct<J.length;++Ct){var Vt=J[Ct][2];gt=Math.min(gt,Vt),Mt=Math.max(Mt,Vt)}at?this.intensity=at:yt?this.intensity=yt:this.intensity=U(J),this.pickVertex=!(yt||it);var Je=Q.pointSizes,ze=Q.pointSize||1;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var Ct=0;Ct<J.length;++Ct)for(var _e=J[Ct],Be=0;Be<3;++Be)isNaN(_e[Be])||!isFinite(_e[Be])||(this.bounds[0][Be]=Math.min(this.bounds[0][Be],_e[Be]),this.bounds[1][Be]=Math.max(this.bounds[1][Be],_e[Be]));var De=0,we=0,xe=0;e:for(var Ct=0;Ct<K.length;++Ct){var Ee=K[Ct];switch(Ee.length){case 1:for(var Pe=Ee[0],_e=J[Pe],Be=0;Be<3;++Be)if(isNaN(_e[Be])||!isFinite(_e[Be]))continue e;Te.push(_e[0],_e[1],_e[2]);var Ue;Ge?Ue=Ge[Pe]:it?Ue=it[Ct]:Ue=et,this.opacityscale&&at?le.push(Ue[0],Ue[1],Ue[2],this.opacity*z((at[Pe]-gt)/(Mt-gt),this.opacityscale)):Ue.length===3?Oe.push(Ue[0],Ue[1],Ue[2],this.opacity):(Oe.push(Ue[0],Ue[1],Ue[2],Ue[3]*this.opacity),Ue[3]<1&&(this.hasAlpha=!0));var $e;tt?$e=tt[Pe]:at?$e=[(at[Pe]-gt)/(Mt-gt),0]:vt?$e=vt[Ct]:yt?$e=[(yt[Ct]-gt)/(Mt-gt),0]:$e=[(_e[2]-gt)/(Mt-gt),0],Ne.push($e[0],$e[1]),Je?Le.push(Je[Pe]):Le.push(ze),be.push(Ct),xe+=1;break;case 2:for(var Be=0;Be<2;++Be)for(var Pe=Ee[Be],_e=J[Pe],qe=0;qe<3;++qe)if(isNaN(_e[qe])||!isFinite(_e[qe]))continue e;for(var Be=0;Be<2;++Be){var Pe=Ee[Be],_e=J[Pe];se.push(_e[0],_e[1],_e[2]);var Ue;Ge?Ue=Ge[Pe]:it?Ue=it[Ct]:Ue=et,this.opacityscale&&at?le.push(Ue[0],Ue[1],Ue[2],this.opacity*z((at[Pe]-gt)/(Mt-gt),this.opacityscale)):Ue.length===3?he.push(Ue[0],Ue[1],Ue[2],this.opacity):(he.push(Ue[0],Ue[1],Ue[2],Ue[3]*this.opacity),Ue[3]<1&&(this.hasAlpha=!0));var $e;tt?$e=tt[Pe]:at?$e=[(at[Pe]-gt)/(Mt-gt),0]:vt?$e=vt[Ct]:yt?$e=[(yt[Ct]-gt)/(Mt-gt),0]:$e=[(_e[2]-gt)/(Mt-gt),0],me.push($e[0],$e[1]),Ce.push(Ct)}we+=1;break;case 3:for(var Be=0;Be<3;++Be)for(var Pe=Ee[Be],_e=J[Pe],qe=0;qe<3;++qe)if(isNaN(_e[qe])||!isFinite(_e[qe]))continue e;for(var Be=0;Be<3;++Be){var Pe=Ee[2-Be],_e=J[Pe];re.push(_e[0],_e[1],_e[2]);var Ue;Ge?Ue=Ge[Pe]:it?Ue=it[Ct]:Ue=et,Ue?this.opacityscale&&at?le.push(Ue[0],Ue[1],Ue[2],this.opacity*z((at[Pe]-gt)/(Mt-gt),this.opacityscale)):Ue.length===3?le.push(Ue[0],Ue[1],Ue[2],this.opacity):(le.push(Ue[0],Ue[1],Ue[2],Ue[3]*this.opacity),Ue[3]<1&&(this.hasAlpha=!0)):le.push(.5,.5,.5,1);var $e;tt?$e=tt[Pe]:at?$e=[(at[Pe]-gt)/(Mt-gt),0]:vt?$e=vt[Ct]:yt?$e=[(yt[Ct]-gt)/(Mt-gt),0]:$e=[(_e[2]-gt)/(Mt-gt),0],ee.push($e[0],$e[1]);var dt;Ae?dt=Ae[Pe]:dt=He[Ct],q.push(dt[0],dt[1],dt[2]),ue.push(Ct)}De+=1;break}}this.pointCount=xe,this.edgeCount=we,this.triangleCount=De,this.pointPositions.update(Te),this.pointColors.update(Oe),this.pointUVs.update(Ne),this.pointSizes.update(Le),this.pointIds.update(new Uint32Array(be)),this.edgePositions.update(se),this.edgeColors.update(he),this.edgeUVs.update(me),this.edgeIds.update(new Uint32Array(Ce)),this.trianglePositions.update(re),this.triangleColors.update(le),this.triangleUVs.update(ee),this.triangleNormals.update(q),this.triangleIds.update(new Uint32Array(ue))}},N.drawTransparent=N.draw=function(Q){Q=Q||{};for(var Z=this.gl,K=Q.model||O,J=Q.view||O,re=Q.projection||O,le=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],q=0;q<3;++q)le[0][q]=Math.max(le[0][q],this.clipBounds[0][q]),le[1][q]=Math.min(le[1][q],this.clipBounds[1][q]);var ee={model:K,view:J,projection:re,inverseModel:O.slice(),clipBounds:le,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],contourColor:this.contourColor,texture:0};ee.inverseModel=A(ee.inverseModel,ee.model),Z.disable(Z.CULL_FACE),this.texture.bind(0);var ue=new Array(16);c(ue,ee.view,ee.model),c(ue,ee.projection,ue),A(ue,ue);for(var q=0;q<3;++q)ee.eyePosition[q]=ue[12+q]/ue[15];for(var se=ue[15],q=0;q<3;++q)se+=this.lightPosition[q]*ue[4*q+3];for(var q=0;q<3;++q){for(var he=ue[12+q],me=0;me<3;++me)he+=ue[4*me+q]*this.lightPosition[me];ee.lightPosition[q]=he/se}if(this.triangleCount>0){var Ce=this.triShader;Ce.bind(),Ce.uniforms=ee,this.triangleVAO.bind(),Z.drawArrays(Z.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}if(this.edgeCount>0&&this.lineWidth>0){var Ce=this.lineShader;Ce.bind(),Ce.uniforms=ee,this.edgeVAO.bind(),Z.lineWidth(this.lineWidth*this.pixelRatio),Z.drawArrays(Z.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()}if(this.pointCount>0){var Ce=this.pointShader;Ce.bind(),Ce.uniforms=ee,this.pointVAO.bind(),Z.drawArrays(Z.POINTS,0,this.pointCount),this.pointVAO.unbind()}if(this.contourEnable&&this.contourCount>0&&this.contourLineWidth>0){var Ce=this.contourShader;Ce.bind(),Ce.uniforms=ee,this.contourVAO.bind(),Z.drawArrays(Z.LINES,0,this.contourCount),this.contourVAO.unbind()}},N.drawPick=function(Q){Q=Q||{};for(var Z=this.gl,K=Q.model||O,J=Q.view||O,re=Q.projection||O,le=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],q=0;q<3;++q)le[0][q]=Math.max(le[0][q],this.clipBounds[0][q]),le[1][q]=Math.min(le[1][q],this.clipBounds[1][q]);this._model=[].slice.call(K),this._view=[].slice.call(J),this._projection=[].slice.call(re),this._resolution=[Z.drawingBufferWidth,Z.drawingBufferHeight];var ee={model:K,view:J,projection:re,clipBounds:le,pickId:this.pickId/255},ue=this.pickShader;if(ue.bind(),ue.uniforms=ee,this.triangleCount>0&&(this.triangleVAO.bind(),Z.drawArrays(Z.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()),this.edgeCount>0&&(this.edgeVAO.bind(),Z.lineWidth(this.lineWidth*this.pixelRatio),Z.drawArrays(Z.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()),this.pointCount>0){var ue=this.pointPickShader;ue.bind(),ue.uniforms=ee,this.pointVAO.bind(),Z.drawArrays(Z.POINTS,0,this.pointCount),this.pointVAO.unbind()}},N.pick=function(Q){if(!Q||Q.id!==this.pickId)return null;for(var Z=Q.value[0]+256*Q.value[1]+65536*Q.value[2],K=this.cells[Z],J=this.positions,re=new Array(K.length),le=0;le<K.length;++le)re[le]=J[K[le]];var q=Q.coord[0],ee=Q.coord[1];if(!this.pickVertex){var ue=this.positions[K[0]],se=this.positions[K[1]],he=this.positions[K[2]],me=[(ue[0]+se[0]+he[0])/3,(ue[1]+se[1]+he[1])/3,(ue[2]+se[2]+he[2])/3];return{_cellCenter:!0,position:[q,ee],index:Z,cell:K,cellId:Z,intensity:this.intensity[Z],dataCoordinate:me}}var Ce=P(re,[q*this.pixelRatio,this._resolution[1]-ee*this.pixelRatio],this._model,this._view,this._projection,this._resolution);if(!Ce)return null;for(var Te=Ce[2],Oe=0,le=0;le<K.length;++le)Oe+=Te[le]*this.intensity[K[le]];return{position:Ce[1],index:K[Ce[0]],cell:K,cellId:Z,intensity:Oe,dataCoordinate:this.positions[K[Ce[0]]]}},N.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.lineShader.dispose(),this.pointShader.dispose(),this.pickShader.dispose(),this.pointPickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose(),this.contourShader.dispose()};function F(Q){var Z=n(Q,x.vertex,x.fragment);return Z.attributes.position.location=0,Z.attributes.color.location=2,Z.attributes.uv.location=3,Z.attributes.normal.location=4,Z}function V(Q){var Z=n(Q,E.vertex,E.fragment);return Z.attributes.position.location=0,Z.attributes.color.location=2,Z.attributes.uv.location=3,Z}function j(Q){var Z=n(Q,w.vertex,w.fragment);return Z.attributes.position.location=0,Z.attributes.color.location=2,Z.attributes.uv.location=3,Z.attributes.pointSize.location=4,Z}function $(Q){var Z=n(Q,i.vertex,i.fragment);return Z.attributes.position.location=0,Z.attributes.id.location=1,Z}function ne(Q){var Z=n(Q,L.vertex,L.fragment);return Z.attributes.position.location=0,Z.attributes.id.location=1,Z.attributes.pointSize.location=4,Z}function oe(Q){var Z=n(Q,b.vertex,b.fragment);return Z.attributes.position.location=0,Z}function ce(Q,Z){arguments.length===1&&(Z=Q,Q=Z.gl);var K=Q.getExtension("OES_standard_derivatives")||Q.getExtension("MOZ_OES_standard_derivatives")||Q.getExtension("WEBKIT_OES_standard_derivatives");if(!K)throw new Error("derivatives not supported");var J=F(Q),re=V(Q),le=j(Q),q=$(Q),ee=ne(Q),ue=oe(Q),se=u(Q,h(new Uint8Array([255,255,255,255]),[1,1,4]));se.generateMipmap(),se.minFilter=Q.LINEAR_MIPMAP_LINEAR,se.magFilter=Q.LINEAR;var he=o(Q),me=o(Q),Ce=o(Q),Te=o(Q),Oe=o(Q),Ne=f(Q,[{buffer:he,type:Q.FLOAT,size:3},{buffer:Oe,type:Q.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:me,type:Q.FLOAT,size:4},{buffer:Ce,type:Q.FLOAT,size:2},{buffer:Te,type:Q.FLOAT,size:3}]),Le=o(Q),be=o(Q),Ae=o(Q),He=o(Q),Ve=f(Q,[{buffer:Le,type:Q.FLOAT,size:3},{buffer:He,type:Q.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:be,type:Q.FLOAT,size:4},{buffer:Ae,type:Q.FLOAT,size:2}]),ke=o(Q),Ge=o(Q),it=o(Q),et=o(Q),tt=o(Q),at=f(Q,[{buffer:ke,type:Q.FLOAT,size:3},{buffer:tt,type:Q.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:Ge,type:Q.FLOAT,size:4},{buffer:it,type:Q.FLOAT,size:2},{buffer:et,type:Q.FLOAT,size:1}]),vt=o(Q),yt=f(Q,[{buffer:vt,type:Q.FLOAT,size:3}]),gt=new _(Q,se,J,re,le,q,ee,ue,he,Oe,me,Ce,Te,Ne,Le,He,be,Ae,Ve,ke,tt,Ge,it,et,at,vt,yt);return gt.update(Z),gt}v.exports=ce},4554:function(v,y,t){v.exports=u;var r=t(5827),s=t(5158),n=t(2709);function o(m,c,A){this.plot=m,this.vbo=c,this.shader=A}var f=o.prototype;f.bind=function(){var m=this.shader;this.vbo.bind(),this.shader.bind(),m.attributes.coord.pointer(),m.uniforms.screenBox=this.plot.screenBox},f.drawBox=function(){var m=[0,0],c=[0,0];return function(A,h,l,p,M){var S=this.plot,P=this.shader,x=S.gl;m[0]=A,m[1]=h,c[0]=l,c[1]=p,P.uniforms.lo=m,P.uniforms.hi=c,P.uniforms.color=M,x.drawArrays(x.TRIANGLE_STRIP,0,4)}}(),f.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function u(m){var c=m.gl,A=r(c,[0,0,0,1,1,0,1,1]),h=s(c,n.boxVert,n.lineFrag);return new o(m,A,h)}},3016:function(v,y,t){v.exports=c;var r=t(5827),s=t(5158),n=t(5070),o=t(2709);function f(A,h,l,p){this.plot=A,this.vbo=h,this.shader=l,this.tickShader=p,this.ticks=[[],[]]}function u(A,h){return A-h}var m=f.prototype;m.draw=function(){var A=[0,0],h=[0,0],l=[0,0];return function(){for(var p=this.plot,M=this.vbo,S=this.shader,P=this.ticks,x=p.gl,E=p._tickBounds,w=p.dataBox,i=p.viewBox,L=p.gridLineWidth,b=p.gridLineColor,O=p.gridLineEnable,_=p.pixelRatio,N=0;N<2;++N){var z=E[N],B=E[N+2],U=B-z,F=.5*(w[N+2]+w[N]),V=w[N+2]-w[N];h[N]=2*U/V,A[N]=2*(z-F)/V}S.bind(),M.bind(),S.attributes.dataCoord.pointer(),S.uniforms.dataShift=A,S.uniforms.dataScale=h;for(var j=0,N=0;N<2;++N){l[0]=l[1]=0,l[N]=1,S.uniforms.dataAxis=l,S.uniforms.lineWidth=L[N]/(i[N+2]-i[N])*_,S.uniforms.color=b[N];var $=P[N].length*6;O[N]&&$&&x.drawArrays(x.TRIANGLES,j,$),j+=$}}}(),m.drawTickMarks=function(){var A=[0,0],h=[0,0],l=[1,0],p=[0,1],M=[0,0],S=[0,0];return function(){for(var P=this.plot,x=this.vbo,E=this.tickShader,w=this.ticks,i=P.gl,L=P._tickBounds,b=P.dataBox,O=P.viewBox,_=P.pixelRatio,N=P.screenBox,z=N[2]-N[0],B=N[3]-N[1],U=O[2]-O[0],F=O[3]-O[1],V=0;V<2;++V){var j=L[V],$=L[V+2],ne=$-j,oe=.5*(b[V+2]+b[V]),ce=b[V+2]-b[V];h[V]=2*ne/ce,A[V]=2*(j-oe)/ce}h[0]*=U/z,A[0]*=U/z,h[1]*=F/B,A[1]*=F/B,E.bind(),x.bind(),E.attributes.dataCoord.pointer();var Q=E.uniforms;Q.dataShift=A,Q.dataScale=h;var Z=P.tickMarkLength,K=P.tickMarkWidth,J=P.tickMarkColor,re=0,le=w[0].length*6,q=Math.min(n.ge(w[0],(b[0]-L[0])/(L[2]-L[0]),u),w[0].length),ee=Math.min(n.gt(w[0],(b[2]-L[0])/(L[2]-L[0]),u),w[0].length),ue=re+6*q,se=6*Math.max(0,ee-q),he=Math.min(n.ge(w[1],(b[1]-L[1])/(L[3]-L[1]),u),w[1].length),me=Math.min(n.gt(w[1],(b[3]-L[1])/(L[3]-L[1]),u),w[1].length),Ce=le+6*he,Te=6*Math.max(0,me-he);M[0]=2*(O[0]-Z[1])/z-1,M[1]=(O[3]+O[1])/B-1,S[0]=Z[1]*_/z,S[1]=K[1]*_/B,Te&&(Q.color=J[1],Q.tickScale=S,Q.dataAxis=p,Q.screenOffset=M,i.drawArrays(i.TRIANGLES,Ce,Te)),M[0]=(O[2]+O[0])/z-1,M[1]=2*(O[1]-Z[0])/B-1,S[0]=K[0]*_/z,S[1]=Z[0]*_/B,se&&(Q.color=J[0],Q.tickScale=S,Q.dataAxis=l,Q.screenOffset=M,i.drawArrays(i.TRIANGLES,ue,se)),M[0]=2*(O[2]+Z[3])/z-1,M[1]=(O[3]+O[1])/B-1,S[0]=Z[3]*_/z,S[1]=K[3]*_/B,Te&&(Q.color=J[3],Q.tickScale=S,Q.dataAxis=p,Q.screenOffset=M,i.drawArrays(i.TRIANGLES,Ce,Te)),M[0]=(O[2]+O[0])/z-1,M[1]=2*(O[3]+Z[2])/B-1,S[0]=K[2]*_/z,S[1]=Z[2]*_/B,se&&(Q.color=J[2],Q.tickScale=S,Q.dataAxis=l,Q.screenOffset=M,i.drawArrays(i.TRIANGLES,ue,se))}}(),m.update=function(){var A=[1,1,-1,-1,1,-1],h=[1,-1,1,1,-1,-1];return function(l){var p=l.ticks,M=l.bounds,S=new Float32Array(6*3*(p[0].length+p[1].length));this.plot.zeroLineEnable;for(var P=0,x=[[],[]],E=0;E<2;++E)for(var w=x[E],i=p[E],L=M[E],b=M[E+2],O=0;O<i.length;++O){var _=(i[O].x-L)/(b-L);w.push(_);for(var N=0;N<6;++N)S[P++]=_,S[P++]=A[N],S[P++]=h[N]}this.ticks=x,this.vbo.update(S)}}(),m.dispose=function(){this.vbo.dispose(),this.shader.dispose(),this.tickShader.dispose()};function c(A){var h=A.gl,l=r(h),p=s(h,o.gridVert,o.gridFrag),M=s(h,o.tickVert,o.gridFrag),S=new f(A,l,p,M);return S}},1154:function(v,y,t){v.exports=u;var r=t(5827),s=t(5158),n=t(2709);function o(m,c,A){this.plot=m,this.vbo=c,this.shader=A}var f=o.prototype;f.bind=function(){var m=this.shader;this.vbo.bind(),this.shader.bind(),m.attributes.coord.pointer(),m.uniforms.screenBox=this.plot.screenBox},f.drawLine=function(){var m=[0,0],c=[0,0];return function(A,h,l,p,M,S){var P=this.plot,x=this.shader,E=P.gl;m[0]=A,m[1]=h,c[0]=l,c[1]=p,x.uniforms.start=m,x.uniforms.end=c,x.uniforms.width=M*P.pixelRatio,x.uniforms.color=S,E.drawArrays(E.TRIANGLE_STRIP,0,4)}}(),f.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function u(m){var c=m.gl,A=r(c,[-1,-1,-1,1,1,-1,1,1]),h=s(c,n.lineVert,n.lineFrag),l=new o(m,A,h);return l}},2709:function(v,y,t){var r=t(6832),s=r([`precision lowp float;
#define GLSLIFY 1
uniform vec4 color;
void main() {
  gl_FragColor = vec4(color.xyz * color.w, color.w);
}
`]);v.exports={lineVert:r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 start, end;
uniform float width;

vec2 perp(vec2 v) {
  return vec2(v.y, -v.x);
}

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  vec2 delta = normalize(perp(start - end));
  vec2 offset = mix(start, end, 0.5 * (coord.y+1.0));
  gl_Position = vec4(screen(offset + 0.5 * width * delta * coord.x), 0, 1);
}
`]),lineFrag:s,textVert:r([`#define GLSLIFY 1
attribute vec3 textCoordinate;

uniform vec2 dataScale, dataShift, dataAxis, screenOffset, textScale;
uniform float angle;

void main() {
  float dataOffset  = textCoordinate.z;
  vec2 glyphOffset  = textCoordinate.xy;
  mat2 glyphMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));
  vec2 screenCoordinate = dataAxis * (dataScale * dataOffset + dataShift) +
    glyphMatrix * glyphOffset * textScale + screenOffset;
  gl_Position = vec4(screenCoordinate, 0, 1);
}
`]),textFrag:s,gridVert:r([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale;
uniform float lineWidth;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  pos += 10.0 * dataCoord.y * vec2(dataAxis.y, -dataAxis.x) + dataCoord.z * lineWidth;
  gl_Position = vec4(pos, 0, 1);
}
`]),gridFrag:s,boxVert:r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 lo, hi;

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  gl_Position = vec4(screen(mix(lo, hi, coord)), 0, 1);
}
`]),tickVert:r([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale, screenOffset, tickScale;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  gl_Position = vec4(pos + tickScale*dataCoord.yz + screenOffset, 0, 1);
}
`])}},5613:function(v,y,t){v.exports=c;var r=t(5827),s=t(5158),n=t(6946),o=t(5070),f=t(2709);function u(A,h,l){this.plot=A,this.vbo=h,this.shader=l,this.tickOffset=[[],[]],this.tickX=[[],[]],this.labelOffset=[0,0],this.labelCount=[0,0]}var m=u.prototype;m.drawTicks=function(){var A=[0,0],h=[0,0],l=[0,0];return function(p){var M=this.plot,S=this.shader,P=this.tickX[p],x=this.tickOffset[p],E=M.gl,w=M.viewBox,i=M.dataBox,L=M.screenBox,b=M.pixelRatio,O=M.tickEnable,_=M.tickPad,N=M.tickColor,z=M.tickAngle,B=M.labelEnable,U=M.labelPad,F=M.labelColor,V=M.labelAngle,j=this.labelOffset[p],$=this.labelCount[p],ne=o.lt(P,i[p]),oe=o.le(P,i[p+2]);A[0]=A[1]=0,A[p]=1,h[p]=(w[2+p]+w[p])/(L[2+p]-L[p])-1;var ce=2/L[2+(p^1)]-L[p^1];h[p^1]=ce*w[p^1]-1,O[p]&&(h[p^1]-=ce*b*_[p],ne<oe&&x[oe]>x[ne]&&(S.uniforms.dataAxis=A,S.uniforms.screenOffset=h,S.uniforms.color=N[p],S.uniforms.angle=z[p],E.drawArrays(E.TRIANGLES,x[ne],x[oe]-x[ne]))),B[p]&&$&&(h[p^1]-=ce*b*U[p],S.uniforms.dataAxis=l,S.uniforms.screenOffset=h,S.uniforms.color=F[p],S.uniforms.angle=V[p],E.drawArrays(E.TRIANGLES,j,$)),h[p^1]=ce*w[2+(p^1)]-1,O[p+2]&&(h[p^1]+=ce*b*_[p+2],ne<oe&&x[oe]>x[ne]&&(S.uniforms.dataAxis=A,S.uniforms.screenOffset=h,S.uniforms.color=N[p+2],S.uniforms.angle=z[p+2],E.drawArrays(E.TRIANGLES,x[ne],x[oe]-x[ne]))),B[p+2]&&$&&(h[p^1]+=ce*b*U[p+2],S.uniforms.dataAxis=l,S.uniforms.screenOffset=h,S.uniforms.color=F[p+2],S.uniforms.angle=V[p+2],E.drawArrays(E.TRIANGLES,j,$))}}(),m.drawTitle=function(){var A=[0,0],h=[0,0];return function(){var l=this.plot,p=this.shader,M=l.gl,S=l.screenBox,P=l.titleCenter,x=l.titleAngle,E=l.titleColor,w=l.pixelRatio;if(this.titleCount){for(var i=0;i<2;++i)h[i]=2*(P[i]*w-S[i])/(S[2+i]-S[i])-1;p.bind(),p.uniforms.dataAxis=A,p.uniforms.screenOffset=h,p.uniforms.angle=x,p.uniforms.color=E,M.drawArrays(M.TRIANGLES,this.titleOffset,this.titleCount)}}}(),m.bind=function(){var A=[0,0],h=[0,0],l=[0,0];return function(){var p=this.plot,M=this.shader,S=p._tickBounds,P=p.dataBox,x=p.screenBox,E=p.viewBox;M.bind();for(var w=0;w<2;++w){var i=S[w],L=S[w+2],b=L-i,O=.5*(P[w+2]+P[w]),_=P[w+2]-P[w],N=E[w],z=E[w+2],B=z-N,U=x[w],F=x[w+2],V=F-U;h[w]=2*b/_*B/V,A[w]=2*(i-O)/_*B/V}l[1]=2*p.pixelRatio/(x[3]-x[1]),l[0]=l[1]*(x[3]-x[1])/(x[2]-x[0]),M.uniforms.dataScale=h,M.uniforms.dataShift=A,M.uniforms.textScale=l,this.vbo.bind(),M.attributes.textCoordinate.pointer()}}(),m.update=function(A){var h=[],l=A.ticks,p=A.bounds,M,S,P,x,E;for(E=0;E<2;++E){var w=[Math.floor(h.length/3)],i=[-1/0],L=l[E];for(M=0;M<L.length;++M){var b=L[M],O=b.x,_=b.text,N=b.font||"sans-serif";x=b.fontSize||12;for(var z=1/(p[E+2]-p[E]),B=p[E],U=_.split(`
`),F=0;F<U.length;F++)for(P=n(N,U[F]).data,S=0;S<P.length;S+=2)h.push(P[S]*x,-P[S+1]*x-F*x*1.2,(O-B)*z);w.push(Math.floor(h.length/3)),i.push(O)}this.tickOffset[E]=w,this.tickX[E]=i}for(E=0;E<2;++E){for(this.labelOffset[E]=Math.floor(h.length/3),P=n(A.labelFont[E],A.labels[E],{textAlign:"center"}).data,x=A.labelSize[E],M=0;M<P.length;M+=2)h.push(P[M]*x,-P[M+1]*x,0);this.labelCount[E]=Math.floor(h.length/3)-this.labelOffset[E]}for(this.titleOffset=Math.floor(h.length/3),P=n(A.titleFont,A.title).data,x=A.titleSize,M=0;M<P.length;M+=2)h.push(P[M]*x,-P[M+1]*x,0);this.titleCount=Math.floor(h.length/3)-this.titleOffset,this.vbo.update(h)},m.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function c(A){var h=A.gl,l=r(h),p=s(h,f.textVert,f.textFrag),M=new u(A,l,p);return M}},2117:function(v,y,t){v.exports=h;var r=t(2611),s=t(3016),n=t(5613),o=t(1154),f=t(4554);function u(l,p){this.gl=l,this.pickBuffer=p,this.screenBox=[0,0,l.drawingBufferWidth,l.drawingBufferHeight],this.viewBox=[0,0,0,0],this.dataBox=[-10,-10,10,10],this.gridLineEnable=[!0,!0],this.gridLineWidth=[1,1],this.gridLineColor=[[0,0,0,1],[0,0,0,1]],this.pixelRatio=1,this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickEnable=[!0,!0,!0,!0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[15,15,15,15],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelEnable=[!0,!0,!0,!0],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.titleCenter=[0,0],this.titleEnable=!0,this.titleAngle=0,this.titleColor=[0,0,0,1],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[4,4],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderLineEnable=[!0,!0,!0,!0],this.borderLineWidth=[2,2,2,2],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.grid=null,this.text=null,this.line=null,this.box=null,this.objects=[],this.overlays=[],this._tickBounds=[1/0,1/0,-1/0,-1/0],this.static=!1,this.dirty=!1,this.pickDirty=!1,this.pickDelay=120,this.pickRadius=10,this._pickTimeout=null,this._drawPick=this.drawPick.bind(this),this._depthCounter=0}var m=u.prototype;m.setDirty=function(){this.dirty=this.pickDirty=!0},m.setOverlayDirty=function(){this.dirty=!0},m.nextDepthValue=function(){return this._depthCounter++/65536},m.draw=function(){return function(){var l=this.gl,p=this.screenBox,M=this.viewBox,S=this.dataBox,P=this.pixelRatio,x=this.grid,E=this.line,w=this.text,i=this.objects;if(this._depthCounter=0,this.pickDirty&&(this._pickTimeout&&clearTimeout(this._pickTimeout),this.pickDirty=!1,this._pickTimeout=setTimeout(this._drawPick,this.pickDelay)),!!this.dirty){if(this.dirty=!1,l.bindFramebuffer(l.FRAMEBUFFER,null),l.enable(l.SCISSOR_TEST),l.disable(l.DEPTH_TEST),l.depthFunc(l.LESS),l.depthMask(!1),l.enable(l.BLEND),l.blendEquation(l.FUNC_ADD,l.FUNC_ADD),l.blendFunc(l.ONE,l.ONE_MINUS_SRC_ALPHA),this.borderColor){l.scissor(p[0],p[1],p[2]-p[0],p[3]-p[1]);var L=this.borderColor;l.clearColor(L[0]*L[3],L[1]*L[3],L[2]*L[3],L[3]),l.clear(l.COLOR_BUFFER_BIT|l.DEPTH_BUFFER_BIT)}l.scissor(M[0],M[1],M[2]-M[0],M[3]-M[1]),l.viewport(M[0],M[1],M[2]-M[0],M[3]-M[1]);var b=this.backgroundColor;l.clearColor(b[0]*b[3],b[1]*b[3],b[2]*b[3],b[3]),l.clear(l.COLOR_BUFFER_BIT),x.draw();var O=this.zeroLineEnable,_=this.zeroLineColor,N=this.zeroLineWidth;if(O[0]||O[1]){E.bind();for(var z=0;z<2;++z)if(!(!O[z]||!(S[z]<=0&&S[z+2]>=0))){var B=p[z]-S[z]*(p[z+2]-p[z])/(S[z+2]-S[z]);z===0?E.drawLine(B,p[1],B,p[3],N[z],_[z]):E.drawLine(p[0],B,p[2],B,N[z],_[z])}}for(var z=0;z<i.length;++z)i[z].draw();l.viewport(p[0],p[1],p[2]-p[0],p[3]-p[1]),l.scissor(p[0],p[1],p[2]-p[0],p[3]-p[1]),this.grid.drawTickMarks(),E.bind();var U=this.borderLineEnable,F=this.borderLineWidth,V=this.borderLineColor;U[1]&&E.drawLine(M[0],M[1]-.5*F[1]*P,M[0],M[3]+.5*F[3]*P,F[1],V[1]),U[0]&&E.drawLine(M[0]-.5*F[0]*P,M[1],M[2]+.5*F[2]*P,M[1],F[0],V[0]),U[3]&&E.drawLine(M[2],M[1]-.5*F[1]*P,M[2],M[3]+.5*F[3]*P,F[3],V[3]),U[2]&&E.drawLine(M[0]-.5*F[0]*P,M[3],M[2]+.5*F[2]*P,M[3],F[2],V[2]),w.bind();for(var z=0;z<2;++z)w.drawTicks(z);this.titleEnable&&w.drawTitle();for(var j=this.overlays,z=0;z<j.length;++z)j[z].draw();l.disable(l.SCISSOR_TEST),l.disable(l.BLEND),l.depthMask(!0)}}}(),m.drawPick=function(){return function(){if(!this.static){var l=this.pickBuffer;this.gl,this._pickTimeout=null,l.begin();for(var p=1,M=this.objects,S=0;S<M.length;++S)p=M[S].drawPick(p);l.end()}}}(),m.pick=function(){return function(l,p){if(!this.static){var M=this.pixelRatio,S=this.pickPixelRatio,P=this.viewBox,x=Math.round((l-P[0]/M)*S)|0,E=Math.round((p-P[1]/M)*S)|0,w=this.pickBuffer.query(x,E,this.pickRadius);if(!w)return null;for(var i=w.id+(w.value[0]<<8)+(w.value[1]<<16)+(w.value[2]<<24),L=this.objects,b=0;b<L.length;++b){var O=L[b].pick(x,E,i);if(O)return O}return null}}}();function c(l){for(var p=l.slice(),M=0;M<p.length;++M)p[M]=p[M].slice();return p}function A(l,p){return l.x-p.x}m.setScreenBox=function(l){var p=this.screenBox,M=this.pixelRatio;p[0]=Math.round(l[0]*M)|0,p[1]=Math.round(l[1]*M)|0,p[2]=Math.round(l[2]*M)|0,p[3]=Math.round(l[3]*M)|0,this.setDirty()},m.setDataBox=function(l){var p=this.dataBox,M=p[0]!==l[0]||p[1]!==l[1]||p[2]!==l[2]||p[3]!==l[3];M&&(p[0]=l[0],p[1]=l[1],p[2]=l[2],p[3]=l[3],this.setDirty())},m.setViewBox=function(l){var p=this.pixelRatio,M=this.viewBox;M[0]=Math.round(l[0]*p)|0,M[1]=Math.round(l[1]*p)|0,M[2]=Math.round(l[2]*p)|0,M[3]=Math.round(l[3]*p)|0;var S=this.pickPixelRatio;this.pickBuffer.shape=[Math.round((l[2]-l[0])*S)|0,Math.round((l[3]-l[1])*S)|0],this.setDirty()},m.update=function(l){l=l||{};var p=this.gl;this.pixelRatio=l.pixelRatio||1;var M=this.pixelRatio;this.pickPixelRatio=Math.max(M,1),this.setScreenBox(l.screenBox||[0,0,p.drawingBufferWidth/M,p.drawingBufferHeight/M]),this.screenBox,this.setViewBox(l.viewBox||[.125*(this.screenBox[2]-this.screenBox[0])/M,.125*(this.screenBox[3]-this.screenBox[1])/M,.875*(this.screenBox[2]-this.screenBox[0])/M,.875*(this.screenBox[3]-this.screenBox[1])/M]);var S=this.viewBox,P=(S[2]-S[0])/(S[3]-S[1]);this.setDataBox(l.dataBox||[-10,-10/P,10,10/P]),this.borderColor=l.borderColor!==!1?(l.borderColor||[0,0,0,0]).slice():!1,this.backgroundColor=(l.backgroundColor||[0,0,0,0]).slice(),this.gridLineEnable=(l.gridLineEnable||[!0,!0]).slice(),this.gridLineWidth=(l.gridLineWidth||[1,1]).slice(),this.gridLineColor=c(l.gridLineColor||[[.5,.5,.5,1],[.5,.5,.5,1]]),this.zeroLineEnable=(l.zeroLineEnable||[!0,!0]).slice(),this.zeroLineWidth=(l.zeroLineWidth||[4,4]).slice(),this.zeroLineColor=c(l.zeroLineColor||[[0,0,0,1],[0,0,0,1]]),this.tickMarkLength=(l.tickMarkLength||[0,0,0,0]).slice(),this.tickMarkWidth=(l.tickMarkWidth||[0,0,0,0]).slice(),this.tickMarkColor=c(l.tickMarkColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.titleCenter=(l.titleCenter||[.5*(S[0]+S[2])/M,(S[3]+120)/M]).slice(),this.titleEnable=!("titleEnable"in l)||!!l.titleEnable,this.titleAngle=l.titleAngle||0,this.titleColor=(l.titleColor||[0,0,0,1]).slice(),this.labelPad=(l.labelPad||[15,15,15,15]).slice(),this.labelAngle=(l.labelAngle||[0,Math.PI/2,0,3*Math.PI/2]).slice(),this.labelEnable=(l.labelEnable||[!0,!0,!0,!0]).slice(),this.labelColor=c(l.labelColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.tickPad=(l.tickPad||[15,15,15,15]).slice(),this.tickAngle=(l.tickAngle||[0,0,0,0]).slice(),this.tickEnable=(l.tickEnable||[!0,!0,!0,!0]).slice(),this.tickColor=c(l.tickColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.borderLineEnable=(l.borderLineEnable||[!0,!0,!0,!0]).slice(),this.borderLineWidth=(l.borderLineWidth||[2,2,2,2]).slice(),this.borderLineColor=c(l.borderLineColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]);var x=l.ticks||[[],[]],E=this._tickBounds;E[0]=E[1]=1/0,E[2]=E[3]=-1/0;for(var w=0;w<2;++w){var i=x[w].slice(0);i.length!==0&&(i.sort(A),E[w]=Math.min(E[w],i[0].x),E[w+2]=Math.max(E[w+2],i[i.length-1].x))}this.grid.update({bounds:E,ticks:x}),this.text.update({bounds:E,ticks:x,labels:l.labels||["x","y"],labelSize:l.labelSize||[12,12],labelFont:l.labelFont||["sans-serif","sans-serif"],title:l.title||"",titleSize:l.titleSize||18,titleFont:l.titleFont||"sans-serif"}),this.static=!!l.static,this.setDirty()},m.dispose=function(){this.box.dispose(),this.grid.dispose(),this.text.dispose(),this.line.dispose();for(var l=this.objects.length-1;l>=0;--l)this.objects[l].dispose();this.objects.length=0;for(var l=this.overlays.length-1;l>=0;--l)this.overlays[l].dispose();this.overlays.length=0,this.gl=null},m.addObject=function(l){this.objects.indexOf(l)<0&&(this.objects.push(l),this.setDirty())},m.removeObject=function(l){for(var p=this.objects,M=0;M<p.length;++M)if(p[M]===l){p.splice(M,1),this.setDirty();break}},m.addOverlay=function(l){this.overlays.indexOf(l)<0&&(this.overlays.push(l),this.setOverlayDirty())},m.removeOverlay=function(l){for(var p=this.overlays,M=0;M<p.length;++M)if(p[M]===l){p.splice(M,1),this.setOverlayDirty();break}};function h(l){var p=l.gl,M=r(p,[p.drawingBufferWidth,p.drawingBufferHeight]),S=new u(p,M);return S.grid=s(S),S.text=n(S),S.line=o(S),S.box=f(S),S.update(l),S}},4296:function(v,y,t){v.exports=m;var r=t(8161),s=t(1152),n=t(6145),o=t(6475),f=t(2565),u=t(5233);function m(c,A){c=c||document.body,A=A||{};var h=[.01,1/0];"distanceLimits"in A&&(h[0]=A.distanceLimits[0],h[1]=A.distanceLimits[1]),"zoomMin"in A&&(h[0]=A.zoomMin),"zoomMax"in A&&(h[1]=A.zoomMax);var l=s({center:A.center||[0,0,0],up:A.up||[0,1,0],eye:A.eye||[0,0,10],mode:A.mode||"orbit",distanceLimits:h}),p=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],M=0,S=c.clientWidth,P=c.clientHeight,x={keyBindingMode:"rotate",enableWheel:!0,view:l,element:c,delay:A.delay||16,rotateSpeed:A.rotateSpeed||1,zoomSpeed:A.zoomSpeed||1,translateSpeed:A.translateSpeed||1,flipX:!!A.flipX,flipY:!!A.flipY,modes:l.modes,_ortho:A._ortho||A.projection&&A.projection.type==="orthographic"||!1,tick:function(){var E=r(),w=this.delay,i=E-2*w;l.idle(E-w),l.recalcMatrix(i),l.flush(E-(100+w*2));for(var L=!0,b=l.computedMatrix,O=0;O<16;++O)L=L&&p[O]===b[O],p[O]=b[O];var _=c.clientWidth===S&&c.clientHeight===P;return S=c.clientWidth,P=c.clientHeight,L?!_:(M=Math.exp(l.computedRadius[0]),!0)},lookAt:function(E,w,i){l.lookAt(l.lastT(),E,w,i)},rotate:function(E,w,i){l.rotate(l.lastT(),E,w,i)},pan:function(E,w,i){l.pan(l.lastT(),E,w,i)},translate:function(E,w,i){l.translate(l.lastT(),E,w,i)}};return Object.defineProperties(x,{matrix:{get:function(){return l.computedMatrix},set:function(E){return l.setMatrix(l.lastT(),E),l.computedMatrix},enumerable:!0},mode:{get:function(){return l.getMode()},set:function(E){var w=l.computedUp.slice(),i=l.computedEye.slice(),L=l.computedCenter.slice();if(l.setMode(E),E==="turntable"){var b=r();l._active.lookAt(b,i,L,w),l._active.lookAt(b+500,i,L,[0,0,1]),l._active.flush(b)}return l.getMode()},enumerable:!0},center:{get:function(){return l.computedCenter},set:function(E){return l.lookAt(l.lastT(),null,E),l.computedCenter},enumerable:!0},eye:{get:function(){return l.computedEye},set:function(E){return l.lookAt(l.lastT(),E),l.computedEye},enumerable:!0},up:{get:function(){return l.computedUp},set:function(E){return l.lookAt(l.lastT(),null,null,E),l.computedUp},enumerable:!0},distance:{get:function(){return M},set:function(E){return l.setDistance(l.lastT(),E),E},enumerable:!0},distanceLimits:{get:function(){return l.getDistanceLimits(h)},set:function(E){return l.setDistanceLimits(E),E},enumerable:!0}}),c.addEventListener("contextmenu",function(E){return E.preventDefault(),!1}),x._lastX=-1,x._lastY=-1,x._lastMods={shift:!1,control:!1,alt:!1,meta:!1},x.enableMouseListeners=function(){x.mouseListener=n(c,E),c.addEventListener("touchstart",function(w){var i=f(w.changedTouches[0],c);E(0,i[0],i[1],x._lastMods),E(1,i[0],i[1],x._lastMods)},u?{passive:!0}:!1),c.addEventListener("touchmove",function(w){var i=f(w.changedTouches[0],c);E(1,i[0],i[1],x._lastMods),w.preventDefault()},u?{passive:!1}:!1),c.addEventListener("touchend",function(w){E(0,x._lastX,x._lastY,x._lastMods)},u?{passive:!0}:!1);function E(w,i,L,b){var O=x.keyBindingMode;if(O!==!1){var _=O==="rotate",N=O==="pan",z=O==="zoom",B=!!b.control,U=!!b.alt,F=!!b.shift,V=!!(w&1),j=!!(w&2),$=!!(w&4),ne=1/c.clientHeight,oe=ne*(i-x._lastX),ce=ne*(L-x._lastY),Q=x.flipX?1:-1,Z=x.flipY?1:-1,K=Math.PI*x.rotateSpeed,J=r();if(x._lastX!==-1&&x._lastY!==-1&&((_&&V&&!B&&!U&&!F||V&&!B&&!U&&F)&&l.rotate(J,Q*K*oe,-Z*K*ce,0),(N&&V&&!B&&!U&&!F||j||V&&B&&!U&&!F)&&l.pan(J,-x.translateSpeed*oe*M,x.translateSpeed*ce*M,0),z&&V&&!B&&!U&&!F||$||V&&!B&&U&&!F)){var re=-x.zoomSpeed*ce/window.innerHeight*(J-l.lastT())*100;l.pan(J,0,0,M*(Math.exp(re)-1))}return x._lastX=i,x._lastY=L,x._lastMods=b,!0}}x.wheelListener=o(c,function(w,i){if(x.keyBindingMode!==!1&&x.enableWheel){var L=x.flipX?1:-1,b=x.flipY?1:-1,O=r();if(Math.abs(w)>Math.abs(i))l.rotate(O,0,0,-w*L*Math.PI*x.rotateSpeed/window.innerWidth);else if(!x._ortho){var _=-x.zoomSpeed*b*i/window.innerHeight*(O-l.lastT())/20;l.pan(O,0,0,M*(Math.exp(_)-1))}}},!0)},x.enableMouseListeners(),x}},8245:function(v,y,t){var r=t(6832),s=t(5158),n=r([`precision mediump float;
#define GLSLIFY 1
attribute vec2 position;
varying vec2 uv;
void main() {
  uv = position;
  gl_Position = vec4(position, 0, 1);
}`]),o=r([`precision mediump float;
#define GLSLIFY 1

uniform sampler2D accumBuffer;
varying vec2 uv;

void main() {
  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));
  gl_FragColor = min(vec4(1,1,1,1), accum);
}`]);v.exports=function(f){return s(f,n,o,null,[{name:"position",type:"vec2"}])}},1059:function(v,y,t){var r=t(4296),s=t(7453),n=t(2771),o=t(6496),f=t(2611),u=t(4234),m=t(8126),c=t(6145),A=t(1120),h=t(5268),l=t(8245),p=t(2321)({tablet:!0,featureDetect:!0});v.exports={createScene:E,createCamera:r};function M(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null}function S(i,L){var b=null;try{b=i.getContext("webgl",L),b||(b=i.getContext("experimental-webgl",L))}catch{return null}return b}function P(i){var L=Math.round(Math.log(Math.abs(i))/Math.log(10));if(L<0){var b=Math.round(Math.pow(10,-L));return Math.ceil(i*b)/b}else if(L>0){var b=Math.round(Math.pow(10,L));return Math.ceil(i/b)*b}return Math.ceil(i)}function x(i){return typeof i=="boolean"?i:!0}function E(i){i=i||{},i.camera=i.camera||{};var L=i.canvas;if(!L)if(L=document.createElement("canvas"),i.container){var b=i.container;b.appendChild(L)}else document.body.appendChild(L);var O=i.gl;if(O||(i.glOptions&&(p=!!i.glOptions.preserveDrawingBuffer),O=S(L,i.glOptions||{premultipliedAlpha:!0,antialias:!0,preserveDrawingBuffer:p})),!O)throw new Error("webgl not supported");var _=i.bounds||[[-10,-10,-10],[10,10,10]],N=new M,z=u(O,O.drawingBufferWidth,O.drawingBufferHeight,{preferFloat:!p}),B=l(O),U=i.cameraObject&&i.cameraObject._ortho===!0||i.camera.projection&&i.camera.projection.type==="orthographic"||!1,F={eye:i.camera.eye||[2,0,0],center:i.camera.center||[0,0,0],up:i.camera.up||[0,1,0],zoomMin:i.camera.zoomMax||.1,zoomMax:i.camera.zoomMin||100,mode:i.camera.mode||"turntable",_ortho:U},V=i.axes||{},j=s(O,V);j.enable=!V.disable;var $=i.spikes||{},ne=o(O,$),oe=[],ce=[],Q=[],Z=[],K=!0,q=!0,J=new Array(16),re=new Array(16),le={view:null,projection:J,model:re,_ortho:!1},q=!0,ee=[O.drawingBufferWidth,O.drawingBufferHeight],ue=i.cameraObject||r(L,F),se={gl:O,contextLost:!1,pixelRatio:i.pixelRatio||1,canvas:L,selection:N,camera:ue,axes:j,axesPixels:null,spikes:ne,bounds:_,objects:oe,shape:ee,aspect:i.aspectRatio||[1,1,1],pickRadius:i.pickRadius||10,zNear:i.zNear||.01,zFar:i.zFar||1e3,fovy:i.fovy||Math.PI/4,clearColor:i.clearColor||[0,0,0,0],autoResize:x(i.autoResize),autoBounds:x(i.autoBounds),autoScale:!!i.autoScale,autoCenter:x(i.autoCenter),clipToBounds:x(i.clipToBounds),snapToData:!!i.snapToData,onselect:i.onselect||null,onrender:i.onrender||null,onclick:i.onclick||null,cameraParams:le,oncontextloss:null,mouseListener:null,_stopped:!1,getAspectratio:function(){return{x:this.aspect[0],y:this.aspect[1],z:this.aspect[2]}},setAspectratio:function(He){this.aspect[0]=He.x,this.aspect[1]=He.y,this.aspect[2]=He.z,q=!0},setBounds:function(He,Ve){this.bounds[0][He]=Ve.min,this.bounds[1][He]=Ve.max},setClearColor:function(He){this.clearColor=He},clearRGBA:function(){this.gl.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},he=[O.drawingBufferWidth/se.pixelRatio|0,O.drawingBufferHeight/se.pixelRatio|0];function me(){if(!se._stopped&&se.autoResize){var He=L.parentNode,Ve=1,ke=1;He&&He!==document.body?(Ve=He.clientWidth,ke=He.clientHeight):(Ve=window.innerWidth,ke=window.innerHeight);var Ge=Math.ceil(Ve*se.pixelRatio)|0,it=Math.ceil(ke*se.pixelRatio)|0;if(Ge!==L.width||it!==L.height){L.width=Ge,L.height=it;var et=L.style;et.position=et.position||"absolute",et.left="0px",et.top="0px",et.width=Ve+"px",et.height=ke+"px",K=!0}}}se.autoResize&&me(),window.addEventListener("resize",me);function Ce(){for(var He=oe.length,Ve=Z.length,ke=0;ke<Ve;++ke)Q[ke]=0;e:for(var ke=0;ke<He;++ke){var Ge=oe[ke],it=Ge.pickSlots;if(!it){ce[ke]=-1;continue}for(var et=0;et<Ve;++et)if(Q[et]+it<255){ce[ke]=et,Ge.setPickBase(Q[et]+1),Q[et]+=it;continue e}var tt=f(O,ee);ce[ke]=Ve,Z.push(tt),Q.push(it),Ge.setPickBase(1),Ve+=1}for(;Ve>0&&Q[Ve-1]===0;)Q.pop(),Z.pop().dispose()}se.update=function(He){se._stopped||(K=!0,q=!0)},se.add=function(He){se._stopped||(He.axes=j,oe.push(He),ce.push(-1),K=!0,q=!0,Ce())},se.remove=function(He){if(!se._stopped){var Ve=oe.indexOf(He);Ve<0||(oe.splice(Ve,1),ce.pop(),K=!0,q=!0,Ce())}},se.dispose=function(){if(!se._stopped&&(se._stopped=!0,window.removeEventListener("resize",me),L.removeEventListener("webglcontextlost",Te),se.mouseListener.enabled=!1,!se.contextLost)){j.dispose(),ne.dispose();for(var He=0;He<oe.length;++He)oe[He].dispose();z.dispose();for(var He=0;He<Z.length;++He)Z[He].dispose();B.dispose(),O=null,j=null,ne=null,oe=[]}},se._mouseRotating=!1,se._prevButtons=0,se.enableMouseListeners=function(){se.mouseListener=c(L,function(He,Ve,ke){if(!se._stopped){var Ge=Z.length,it=oe.length,et=N.object;N.distance=1/0,N.mouse[0]=Ve,N.mouse[1]=ke,N.object=null,N.screen=null,N.dataCoordinate=N.dataPosition=null;var tt=!1;if(He&&se._prevButtons)se._mouseRotating=!0;else{se._mouseRotating&&(q=!0),se._mouseRotating=!1;for(var at=0;at<Ge;++at){var vt=Z[at].query(Ve,he[1]-ke-1,se.pickRadius);if(vt){if(vt.distance>N.distance)continue;for(var yt=0;yt<it;++yt){var gt=oe[yt];if(ce[yt]===at){var Mt=gt.pick(vt);Mt&&(N.buttons=He,N.screen=vt.coord,N.distance=vt.distance,N.object=gt,N.index=Mt.distance,N.dataPosition=Mt.position,N.dataCoordinate=Mt.dataCoordinate,N.data=Mt,tt=!0)}}}}}et&&et!==N.object&&(et.highlight&&et.highlight(null),K=!0),N.object&&(N.object.highlight&&N.object.highlight(N.data),K=!0),tt=tt||N.object!==et,tt&&se.onselect&&se.onselect(N),He&1&&!(se._prevButtons&1)&&se.onclick&&se.onclick(N),se._prevButtons=He}})};function Te(){if(se.contextLost)return!0;O.isContextLost()&&(se.contextLost=!0,se.mouseListener.enabled=!1,se.selection.object=null,se.oncontextloss&&se.oncontextloss())}L.addEventListener("webglcontextlost",Te);function Oe(){if(!Te()){O.colorMask(!0,!0,!0,!0),O.depthMask(!0),O.disable(O.BLEND),O.enable(O.DEPTH_TEST),O.depthFunc(O.LEQUAL);for(var He=oe.length,Ve=Z.length,ke=0;ke<Ve;++ke){var Ge=Z[ke];Ge.shape=he,Ge.begin();for(var it=0;it<He;++it)if(ce[it]===ke){var et=oe[it];et.drawPick&&(et.pixelRatio=1,et.drawPick(le))}Ge.end()}}}var Ne=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],Le=[Ne[0].slice(),Ne[1].slice()];function be(){if(!Te()){me();var He=se.camera.tick();le.view=se.camera.matrix,K=K||He,q=q||He,j.pixelRatio=se.pixelRatio,ne.pixelRatio=se.pixelRatio;var Ve=oe.length,ke=Ne[0],Ge=Ne[1];ke[0]=ke[1]=ke[2]=1/0,Ge[0]=Ge[1]=Ge[2]=-1/0;for(var it=0;it<Ve;++it){var et=oe[it];et.pixelRatio=se.pixelRatio,et.axes=se.axes,K=K||!!et.dirty,q=q||!!et.dirty;var tt=et.bounds;if(tt)for(var at=tt[0],vt=tt[1],yt=0;yt<3;++yt)ke[yt]=Math.min(ke[yt],at[yt]),Ge[yt]=Math.max(Ge[yt],vt[yt])}var gt=se.bounds;if(se.autoBounds)for(var yt=0;yt<3;++yt){if(Ge[yt]<ke[yt])ke[yt]=-1,Ge[yt]=1;else{ke[yt]===Ge[yt]&&(ke[yt]-=1,Ge[yt]+=1);var Mt=.05*(Ge[yt]-ke[yt]);ke[yt]=ke[yt]-Mt,Ge[yt]=Ge[yt]+Mt}gt[0][yt]=ke[yt],gt[1][yt]=Ge[yt]}for(var Ct=!1,yt=0;yt<3;++yt)Ct=Ct||Le[0][yt]!==gt[0][yt]||Le[1][yt]!==gt[1][yt],Le[0][yt]=gt[0][yt],Le[1][yt]=gt[1][yt];if(q=q||Ct,K=K||Ct,!!K){if(Ct){for(var Vt=[0,0,0],it=0;it<3;++it)Vt[it]=P((gt[1][it]-gt[0][it])/10);j.autoTicks?j.update({bounds:gt,tickSpacing:Vt}):j.update({bounds:gt})}var Je=O.drawingBufferWidth,ze=O.drawingBufferHeight;ee[0]=Je,ee[1]=ze,he[0]=Math.max(Je/se.pixelRatio,1)|0,he[1]=Math.max(ze/se.pixelRatio,1)|0,w(se,U);for(var it=0;it<Ve;++it){var et=oe[it];et.axesBounds=gt,se.clipToBounds&&(et.clipBounds=gt)}N.object&&(se.snapToData?ne.position=N.dataCoordinate:ne.position=N.dataPosition,ne.bounds=gt),q&&(q=!1,Oe()),se.axesPixels=n(se.axes,le,Je,ze),se.onrender&&se.onrender(),O.bindFramebuffer(O.FRAMEBUFFER,null),O.viewport(0,0,Je,ze),se.clearRGBA(),O.depthMask(!0),O.colorMask(!0,!0,!0,!0),O.enable(O.DEPTH_TEST),O.depthFunc(O.LEQUAL),O.disable(O.BLEND),O.disable(O.CULL_FACE);var _e=!1;j.enable&&(_e=_e||j.isTransparent(),j.draw(le)),ne.axes=j,N.object&&ne.draw(le),O.disable(O.CULL_FACE);for(var it=0;it<Ve;++it){var et=oe[it];et.axes=j,et.pixelRatio=se.pixelRatio,et.isOpaque&&et.isOpaque()&&et.draw(le),et.isTransparent&&et.isTransparent()&&(_e=!0)}if(_e){z.shape=ee,z.bind(),O.clear(O.DEPTH_BUFFER_BIT),O.colorMask(!1,!1,!1,!1),O.depthMask(!0),O.depthFunc(O.LESS),j.enable&&j.isTransparent()&&j.drawTransparent(le);for(var it=0;it<Ve;++it){var et=oe[it];et.isOpaque&&et.isOpaque()&&et.draw(le)}O.enable(O.BLEND),O.blendEquation(O.FUNC_ADD),O.blendFunc(O.ONE,O.ONE_MINUS_SRC_ALPHA),O.colorMask(!0,!0,!0,!0),O.depthMask(!1),O.clearColor(0,0,0,0),O.clear(O.COLOR_BUFFER_BIT),j.isTransparent()&&j.drawTransparent(le);for(var it=0;it<Ve;++it){var et=oe[it];et.isTransparent&&et.isTransparent()&&et.drawTransparent(le)}O.bindFramebuffer(O.FRAMEBUFFER,null),O.blendFunc(O.ONE,O.ONE_MINUS_SRC_ALPHA),O.disable(O.DEPTH_TEST),B.bind(),z.color[0].bind(0),B.uniforms.accumBuffer=0,m(O),O.disable(O.BLEND)}K=!1;for(var it=0;it<Ve;++it)oe[it].dirty=!1}}}function Ae(){se._stopped||se.contextLost||(be(),requestAnimationFrame(Ae))}return se.enableMouseListeners(),Ae(),se.redraw=function(){se._stopped||(K=!0,be())},se}function w(i,L){var b=i.bounds,O=i.cameraParams,_=O.projection,N=O.model,z=i.gl.drawingBufferWidth,B=i.gl.drawingBufferHeight,U=i.zNear,F=i.zFar,V=i.fovy,j=z/B;L?(h(_,-j,j,-1,1,U,F),O._ortho=!0):(A(_,V,j,U,F),O._ortho=!1);for(var $=0;$<16;++$)N[$]=0;N[15]=1;for(var ne=0,$=0;$<3;++$)ne=Math.max(ne,b[1][$]-b[0][$]);for(var $=0;$<3;++$)i.autoScale?N[5*$]=i.aspect[$]/(b[1][$]-b[0][$]):N[5*$]=1/ne,i.autoCenter&&(N[12+$]=-N[5*$]*.5*(b[0][$]+b[1][$]))}},8023:function(v,y,t){var r=t(6832);y.pointVertex=r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;

uniform mat3 matrix;
uniform float pointSize;
uniform float pointCloud;

highp float rand(vec2 co) {
  highp float a = 12.9898;
  highp float b = 78.233;
  highp float c = 43758.5453;
  highp float d = dot(co.xy, vec2(a, b));
  highp float e = mod(d, 3.14);
  return fract(sin(e) * c);
}

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
    // if we don't jitter the point size a bit, overall point cloud
    // saturation 'jumps' on zooming, which is disturbing and confusing
  gl_PointSize = pointSize * ((19.5 + rand(position)) / 20.0);
  if(pointCloud != 0.0) { // pointCloud is truthy
    // get the same square surface as circle would be
    gl_PointSize *= 0.886;
  }
}`]),y.pointFragment=r([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color, borderColor;
uniform float centerFraction;
uniform float pointCloud;

void main() {
  float radius;
  vec4 baseColor;
  if(pointCloud != 0.0) { // pointCloud is truthy
    if(centerFraction == 1.0) {
      gl_FragColor = color;
    } else {
      gl_FragColor = mix(borderColor, color, centerFraction);
    }
  } else {
    radius = length(2.0 * gl_PointCoord.xy - 1.0);
    if(radius > 1.0) {
      discard;
    }
    baseColor = mix(borderColor, color, step(radius, centerFraction));
    gl_FragColor = vec4(baseColor.rgb * baseColor.a, baseColor.a);
  }
}
`]),y.pickVertex=r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;

uniform mat3 matrix;
uniform float pointSize;
uniform vec4 pickOffset;

varying vec4 fragId;

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
  gl_PointSize = pointSize;

  vec4 id = pickId + pickOffset;
  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  fragId = id;
}
`]),y.pickFragment=r([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;

void main() {
  float radius = length(2.0 * gl_PointCoord.xy - 1.0);
  if(radius > 1.0) {
    discard;
  }
  gl_FragColor = fragId / 255.0;
}
`])},8271:function(v,y,t){var r=t(5158),s=t(5827),n=t(5306),o=t(8023);v.exports=c;function f(A,h,l,p,M){this.plot=A,this.offsetBuffer=h,this.pickBuffer=l,this.shader=p,this.pickShader=M,this.sizeMin=.5,this.sizeMinCap=2,this.sizeMax=20,this.areaRatio=1,this.pointCount=0,this.color=[1,0,0,1],this.borderColor=[0,0,0,1],this.blend=!1,this.pickOffset=0,this.points=null}var u=f.prototype;u.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.offsetBuffer.dispose(),this.pickBuffer.dispose(),this.plot.removeObject(this)},u.update=function(A){var h;A=A||{};function l(w,i){return w in A?A[w]:i}this.sizeMin=l("sizeMin",.5),this.sizeMax=l("sizeMax",20),this.color=l("color",[1,0,0,1]).slice(),this.areaRatio=l("areaRatio",1),this.borderColor=l("borderColor",[0,0,0,1]).slice(),this.blend=l("blend",!1);var p=A.positions.length>>>1,M=A.positions instanceof Float32Array,S=A.idToIndex instanceof Int32Array&&A.idToIndex.length>=p,P=A.positions,x=M?P:n.mallocFloat32(P.length),E=S?A.idToIndex:n.mallocInt32(p);if(M||x.set(P),!S)for(x.set(P),h=0;h<p;h++)E[h]=h;this.points=P,this.offsetBuffer.update(x),this.pickBuffer.update(E),M||n.free(x),S||n.free(E),this.pointCount=p,this.pickOffset=0};function m(A,h){var l=0,p=A.length>>>1,M;for(M=0;M<p;M++){var S=A[M*2],P=A[M*2+1];S>=h[0]&&S<=h[2]&&P>=h[1]&&P<=h[3]&&l++}return l}u.unifiedDraw=function(){var A=[1,0,0,0,1,0,0,0,1],h=[0,0,0,0];return function(l){var p=l!==void 0,M=p?this.pickShader:this.shader,S=this.plot.gl,P=this.plot.dataBox;if(this.pointCount===0)return l;var x=P[2]-P[0],E=P[3]-P[1],w=m(this.points,P),i=this.plot.pickPixelRatio*Math.max(Math.min(this.sizeMinCap,this.sizeMin),Math.min(this.sizeMax,this.sizeMax/Math.pow(w,.33333)));A[0]=2/x,A[4]=2/E,A[6]=-2*P[0]/x-1,A[7]=-2*P[1]/E-1,this.offsetBuffer.bind(),M.bind(),M.attributes.position.pointer(),M.uniforms.matrix=A,M.uniforms.color=this.color,M.uniforms.borderColor=this.borderColor,M.uniforms.pointCloud=i<5,M.uniforms.pointSize=i,M.uniforms.centerFraction=Math.min(1,Math.max(0,Math.sqrt(1-this.areaRatio))),p&&(h[0]=l&255,h[1]=l>>8&255,h[2]=l>>16&255,h[3]=l>>24&255,this.pickBuffer.bind(),M.attributes.pickId.pointer(S.UNSIGNED_BYTE),M.uniforms.pickOffset=h,this.pickOffset=l);var L=S.getParameter(S.BLEND),b=S.getParameter(S.DITHER);return L&&!this.blend&&S.disable(S.BLEND),b&&S.disable(S.DITHER),S.drawArrays(S.POINTS,0,this.pointCount),L&&!this.blend&&S.enable(S.BLEND),b&&S.enable(S.DITHER),l+this.pointCount}}(),u.draw=u.unifiedDraw,u.drawPick=u.unifiedDraw,u.pick=function(A,h,l){var p=this.pickOffset,M=this.pointCount;if(l<p||l>=p+M)return null;var S=l-p,P=this.points;return{object:this,pointId:S,dataCoord:[P[2*S],P[2*S+1]]}};function c(A,h){var l=A.gl,p=s(l),M=s(l),S=r(l,o.pointVertex,o.pointFragment),P=r(l,o.pickVertex,o.pickFragment),x=new f(A,p,M,S,P);return x.update(h),A.addObject(x),x}},6093:function(v){v.exports=y;function y(t,r,s,n){var o=r[0],f=r[1],u=r[2],m=r[3],c=s[0],A=s[1],h=s[2],l=s[3],p,M,S,P,x;return M=o*c+f*A+u*h+m*l,M<0&&(M=-M,c=-c,A=-A,h=-h,l=-l),1-M>1e-6?(p=Math.acos(M),S=Math.sin(p),P=Math.sin((1-n)*p)/S,x=Math.sin(n*p)/S):(P=1-n,x=n),t[0]=P*o+x*c,t[1]=P*f+x*A,t[2]=P*u+x*h,t[3]=P*m+x*l,t}},8240:function(v){v.exports=function(y){return!y&&y!==0?"":y.toString()}},4123:function(v,y,t){var r=t(875);v.exports=n;var s={};function n(o,f,u){var m=s[f];if(m||(m=s[f]={}),o in m)return m[o];var c={textAlign:"center",textBaseline:"middle",lineHeight:1,font:f,lineSpacing:1.25,styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}};c.triangles=!0;var A=r(o,c);c.triangles=!1;var h=r(o,c),l,p;if(u&&u!==1){for(l=0;l<A.positions.length;++l)for(p=0;p<A.positions[l].length;++p)A.positions[l][p]/=u;for(l=0;l<h.positions.length;++l)for(p=0;p<h.positions[l].length;++p)h.positions[l][p]/=u}var M=[[1/0,1/0],[-1/0,-1/0]],S=h.positions.length;for(l=0;l<S;++l){var P=h.positions[l];for(p=0;p<2;++p)M[0][p]=Math.min(M[0][p],P[p]),M[1][p]=Math.max(M[1][p],P[p])}return m[o]=[A,h,M]}},9282:function(v,y,t){var r=t(5158),s=t(6832),n=s([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform vec4 highlightId;
uniform float highlightScale;
uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = 1.0;
    if(distance(highlightId, id) < 0.0001) {
      scale = highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1);
    vec4 viewPosition = view * worldPosition;
    viewPosition = viewPosition / viewPosition.w;
    vec4 clipPosition = projection * (viewPosition + scale * vec4(glyph.x, -glyph.y, 0, 0));

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),o=s([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float highlightScale, pixelRatio;
uniform vec4 highlightId;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = pixelRatio;
    if(distance(highlightId.bgr, id.bgr) < 0.001) {
      scale *= highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1.0);
    vec4 viewPosition = view * worldPosition;
    vec4 clipPosition = projection * viewPosition;
    clipPosition /= clipPosition.w;

    gl_Position = clipPosition + vec4(screenSize * scale * vec2(glyph.x, -glyph.y), 0.0, 0.0);
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),f=s([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform float highlightScale;
uniform vec4 highlightId;
uniform vec3 axes[2];
uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float scale, pixelRatio;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float lscale = pixelRatio * scale;
    if(distance(highlightId, id) < 0.0001) {
      lscale *= highlightScale;
    }

    vec4 clipCenter   = projection * view * model * vec4(position, 1);
    vec3 dataPosition = position + 0.5*lscale*(axes[0] * glyph.x + axes[1] * glyph.y) * clipCenter.w * screenSize.y;
    vec4 clipPosition = projection * view * model * vec4(dataPosition, 1);

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = dataPosition;
  }
}
`]),u=s([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float opacity;

varying vec4 interpColor;
varying vec3 dataCoordinate;

void main() {
  if (
    outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate) ||
    interpColor.a * opacity == 0.
  ) discard;
  gl_FragColor = interpColor * opacity;
}
`]),m=s([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float pickGroup;

varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate)) discard;

  gl_FragColor = vec4(pickGroup, pickId.bgr);
}`]),c=[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"glyph",type:"vec2"},{name:"id",type:"vec4"}],A={vertex:n,fragment:u,attributes:c},h={vertex:o,fragment:u,attributes:c},l={vertex:f,fragment:u,attributes:c},p={vertex:n,fragment:m,attributes:c},M={vertex:o,fragment:m,attributes:c},S={vertex:f,fragment:m,attributes:c};function P(x,E){var w=r(x,E),i=w.attributes;return i.position.location=0,i.color.location=1,i.glyph.location=2,i.id.location=3,w}y.createPerspective=function(x){return P(x,A)},y.createOrtho=function(x){return P(x,h)},y.createProject=function(x){return P(x,l)},y.createPickPerspective=function(x){return P(x,p)},y.createPickOrtho=function(x){return P(x,M)},y.createPickProject=function(x){return P(x,S)}},2182:function(v,y,t){var r=t(3596),s=t(5827),n=t(2944),o=t(5306),f=t(104),u=t(9282),m=t(4123),c=t(8240),A=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];v.exports=ce;function h(Q,Z){var K=Q[0],J=Q[1],re=Q[2],le=Q[3];return Q[0]=Z[0]*K+Z[4]*J+Z[8]*re+Z[12]*le,Q[1]=Z[1]*K+Z[5]*J+Z[9]*re+Z[13]*le,Q[2]=Z[2]*K+Z[6]*J+Z[10]*re+Z[14]*le,Q[3]=Z[3]*K+Z[7]*J+Z[11]*re+Z[15]*le,Q}function l(Q,Z,K,J){return h(J,J),h(J,J),h(J,J)}function p(Q,Z){this.index=Q,this.dataCoordinate=this.position=Z}function M(Q){return Q===!0||Q>1?1:Q}function S(Q,Z,K,J,re,le,q,ee,ue,se,he,me){this.gl=Q,this.pixelRatio=1,this.shader=Z,this.orthoShader=K,this.projectShader=J,this.pointBuffer=re,this.colorBuffer=le,this.glyphBuffer=q,this.idBuffer=ee,this.vao=ue,this.vertexCount=0,this.lineVertexCount=0,this.opacity=1,this.hasAlpha=!1,this.lineWidth=0,this.projectScale=[.6666666666666666,.6666666666666666,.6666666666666666],this.projectOpacity=[1,1,1],this.projectHasAlpha=!1,this.pickId=0,this.pickPerspectiveShader=se,this.pickOrthoShader=he,this.pickProjectShader=me,this.points=[],this._selectResult=new p(0,[0,0,0]),this.useOrtho=!0,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.axesProject=[!0,!0,!0],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.highlightId=[1,1,1,1],this.highlightScale=2,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.dirty=!0}var P=S.prototype;P.pickSlots=1,P.setPickBase=function(Q){this.pickId=Q},P.isTransparent=function(){if(this.hasAlpha)return!0;for(var Q=0;Q<3;++Q)if(this.axesProject[Q]&&this.projectHasAlpha)return!0;return!1},P.isOpaque=function(){if(!this.hasAlpha)return!0;for(var Q=0;Q<3;++Q)if(this.axesProject[Q]&&!this.projectHasAlpha)return!0;return!1};var x=[0,0],E=[0,0,0],w=[0,0,0],i=[0,0,0,1],L=[0,0,0,1],b=A.slice(),O=[0,0,0],_=[[0,0,0],[0,0,0]];function N(Q){return Q[0]=Q[1]=Q[2]=0,Q}function z(Q,Z){return Q[0]=Z[0],Q[1]=Z[1],Q[2]=Z[2],Q[3]=1,Q}function B(Q,Z,K,J){return Q[0]=Z[0],Q[1]=Z[1],Q[2]=Z[2],Q[K]=J,Q}function U(Q){for(var Z=_,K=0;K<2;++K)for(var J=0;J<3;++J)Z[K][J]=Math.max(Math.min(Q[K][J],1e8),-1e8);return Z}function F(Q,Z,K,J){var re=Z.axesProject,le=Z.gl,q=Q.uniforms,ee=K.model||A,ue=K.view||A,se=K.projection||A,he=Z.axesBounds,me=U(Z.clipBounds),Ce;Z.axes&&Z.axes.lastCubeProps?Ce=Z.axes.lastCubeProps.axis:Ce=[1,1,1],x[0]=2/le.drawingBufferWidth,x[1]=2/le.drawingBufferHeight,Q.bind(),q.view=ue,q.projection=se,q.screenSize=x,q.highlightId=Z.highlightId,q.highlightScale=Z.highlightScale,q.clipBounds=me,q.pickGroup=Z.pickId/255,q.pixelRatio=J;for(var Te=0;Te<3;++Te)if(re[Te]){q.scale=Z.projectScale[Te],q.opacity=Z.projectOpacity[Te];for(var Oe=b,Ne=0;Ne<16;++Ne)Oe[Ne]=0;for(var Ne=0;Ne<4;++Ne)Oe[5*Ne]=1;Oe[5*Te]=0,Ce[Te]<0?Oe[12+Te]=he[0][Te]:Oe[12+Te]=he[1][Te],f(Oe,ee,Oe),q.model=Oe;var Le=(Te+1)%3,be=(Te+2)%3,Ae=N(E),He=N(w);Ae[Le]=1,He[be]=1;var Ve=l(se,ue,ee,z(i,Ae)),ke=l(se,ue,ee,z(L,He));if(Math.abs(Ve[1])>Math.abs(ke[1])){var Ge=Ve;Ve=ke,ke=Ge,Ge=Ae,Ae=He,He=Ge;var it=Le;Le=be,be=it}Ve[0]<0&&(Ae[Le]=-1),ke[1]>0&&(He[be]=-1);for(var et=0,tt=0,Ne=0;Ne<4;++Ne)et+=Math.pow(ee[4*Le+Ne],2),tt+=Math.pow(ee[4*be+Ne],2);Ae[Le]/=Math.sqrt(et),He[be]/=Math.sqrt(tt),q.axes[0]=Ae,q.axes[1]=He,q.fragClipBounds[0]=B(O,me[0],Te,-1e8),q.fragClipBounds[1]=B(O,me[1],Te,1e8),Z.vao.bind(),Z.vao.draw(le.TRIANGLES,Z.vertexCount),Z.lineWidth>0&&(le.lineWidth(Z.lineWidth*J),Z.vao.draw(le.LINES,Z.lineVertexCount,Z.vertexCount)),Z.vao.unbind()}}var V=[-1e8,-1e8,-1e8],j=[1e8,1e8,1e8],$=[V,j];function ne(Q,Z,K,J,re,le,q){var ee=K.gl;if((le===K.projectHasAlpha||q)&&F(Z,K,J,re),le===K.hasAlpha||q){Q.bind();var ue=Q.uniforms;ue.model=J.model||A,ue.view=J.view||A,ue.projection=J.projection||A,x[0]=2/ee.drawingBufferWidth,x[1]=2/ee.drawingBufferHeight,ue.screenSize=x,ue.highlightId=K.highlightId,ue.highlightScale=K.highlightScale,ue.fragClipBounds=$,ue.clipBounds=K.axes.bounds,ue.opacity=K.opacity,ue.pickGroup=K.pickId/255,ue.pixelRatio=re,K.vao.bind(),K.vao.draw(ee.TRIANGLES,K.vertexCount),K.lineWidth>0&&(ee.lineWidth(K.lineWidth*re),K.vao.draw(ee.LINES,K.lineVertexCount,K.vertexCount)),K.vao.unbind()}}P.draw=function(Q){var Z=this.useOrtho?this.orthoShader:this.shader;ne(Z,this.projectShader,this,Q,this.pixelRatio,!1,!1)},P.drawTransparent=function(Q){var Z=this.useOrtho?this.orthoShader:this.shader;ne(Z,this.projectShader,this,Q,this.pixelRatio,!0,!1)},P.drawPick=function(Q){var Z=this.useOrtho?this.pickOrthoShader:this.pickPerspectiveShader;ne(Z,this.pickProjectShader,this,Q,1,!0,!0)},P.pick=function(Q){if(!Q||Q.id!==this.pickId)return null;var Z=Q.value[2]+(Q.value[1]<<8)+(Q.value[0]<<16);if(Z>=this.pointCount||Z<0)return null;var K=this.points[Z],J=this._selectResult;J.index=Z;for(var re=0;re<3;++re)J.position[re]=J.dataCoordinate[re]=K[re];return J},P.highlight=function(Q){if(!Q)this.highlightId=[1,1,1,1];else{var Z=Q.index,K=Z&255,J=Z>>8&255,re=Z>>16&255;this.highlightId=[K/255,J/255,re/255,0]}};function oe(Q,Z,K,J){var re;Array.isArray(Q)?Z<Q.length?re=Q[Z]:re=void 0:re=Q,re=c(re);var le=!0;r(re)&&(re="",le=!1);var q=m(re,K,J);return{mesh:q[0],lines:q[1],bounds:q[2],visible:le}}P.update=function(Q){if(Q=Q||{},"perspective"in Q&&(this.useOrtho=!Q.perspective),"orthographic"in Q&&(this.useOrtho=!!Q.orthographic),"lineWidth"in Q&&(this.lineWidth=Q.lineWidth),"project"in Q)if(Array.isArray(Q.project))this.axesProject=Q.project;else{var Z=!!Q.project;this.axesProject=[Z,Z,Z]}if("projectScale"in Q)if(Array.isArray(Q.projectScale))this.projectScale=Q.projectScale.slice();else{var K=+Q.projectScale;this.projectScale=[K,K,K]}if(this.projectHasAlpha=!1,"projectOpacity"in Q){if(Array.isArray(Q.projectOpacity))this.projectOpacity=Q.projectOpacity.slice();else{var K=+Q.projectOpacity;this.projectOpacity=[K,K,K]}for(var J=0;J<3;++J)this.projectOpacity[J]=M(this.projectOpacity[J]),this.projectOpacity[J]<1&&(this.projectHasAlpha=!0)}this.hasAlpha=!1,"opacity"in Q&&(this.opacity=M(Q.opacity),this.opacity<1&&(this.hasAlpha=!0)),this.dirty=!0;var re=Q.position,le=Q.font||"normal",q=Q.alignment||[0,0],ee,ue;if(q.length===2)ee=q[0],ue=q[1];else{ee=[],ue=[];for(var J=0;J<q.length;++J)ee[J]=q[J][0],ue[J]=q[J][1]}var se=[1/0,1/0,1/0],he=[-1/0,-1/0,-1/0],me=Q.glyph,Ce=Q.color,Te=Q.size,Oe=Q.angle,Ne=Q.lineColor,Le=-1,be=0,Ae=0,He=0;if(re.length){He=re.length;e:for(var J=0;J<He;++J){for(var Ve=re[J],ke=0;ke<3;++ke)if(isNaN(Ve[ke])||!isFinite(Ve[ke]))continue e;var Ge=oe(me,J,le,this.pixelRatio),it=Ge.mesh,et=Ge.lines,tt=Ge.bounds;be+=it.cells.length*3,Ae+=et.edges.length*2}}var at=be+Ae,vt=o.mallocFloat(3*at),yt=o.mallocFloat(4*at),gt=o.mallocFloat(2*at),Mt=o.mallocUint32(at);if(at>0){var Ct=0,Vt=be,Je=[0,0,0,1],ze=[0,0,0,1],_e=Array.isArray(Ce)&&Array.isArray(Ce[0]),Be=Array.isArray(Ne)&&Array.isArray(Ne[0]);e:for(var J=0;J<He;++J){Le+=1;for(var Ve=re[J],ke=0;ke<3;++ke){if(isNaN(Ve[ke])||!isFinite(Ve[ke]))continue e;he[ke]=Math.max(he[ke],Ve[ke]),se[ke]=Math.min(se[ke],Ve[ke])}var Ge=oe(me,J,le,this.pixelRatio),it=Ge.mesh,et=Ge.lines,tt=Ge.bounds,De=Ge.visible;if(!De)Je=[1,1,1,0];else if(Array.isArray(Ce)){var we;if(_e?J<Ce.length?we=Ce[J]:we=[0,0,0,0]:we=Ce,we.length===3){for(var ke=0;ke<3;++ke)Je[ke]=we[ke];Je[3]=1}else if(we.length===4){for(var ke=0;ke<4;++ke)Je[ke]=we[ke];!this.hasAlpha&&we[3]<1&&(this.hasAlpha=!0)}}else Je[0]=Je[1]=Je[2]=0,Je[3]=1;if(!De)ze=[1,1,1,0];else if(Array.isArray(Ne)){var we;if(Be?J<Ne.length?we=Ne[J]:we=[0,0,0,0]:we=Ne,we.length===3){for(var ke=0;ke<3;++ke)ze[ke]=we[ke];ze[ke]=1}else if(we.length===4){for(var ke=0;ke<4;++ke)ze[ke]=we[ke];!this.hasAlpha&&we[3]<1&&(this.hasAlpha=!0)}}else ze[0]=ze[1]=ze[2]=0,ze[3]=1;var xe=.5;De?Array.isArray(Te)?J<Te.length?xe=+Te[J]:xe=12:Te?xe=+Te:this.useOrtho&&(xe=12):xe=0;var Ee=0;Array.isArray(Oe)?J<Oe.length?Ee=+Oe[J]:Ee=0:Oe&&(Ee=+Oe);for(var Pe=Math.cos(Ee),Ue=Math.sin(Ee),Ve=re[J],ke=0;ke<3;++ke)he[ke]=Math.max(he[ke],Ve[ke]),se[ke]=Math.min(se[ke],Ve[ke]);var $e=ee,qe=ue,$e=0;Array.isArray(ee)?J<ee.length?$e=ee[J]:$e=0:ee&&($e=ee);var qe=0;Array.isArray(ue)?J<ue.length?qe=ue[J]:qe=0:ue&&(qe=ue),$e*=$e>0?1-tt[0][0]:$e<0?1+tt[1][0]:1,qe*=qe>0?1-tt[0][1]:qe<0?1+tt[1][1]:1;for(var dt=[$e,qe],zt=it.cells||[],$t=it.positions||[],ke=0;ke<zt.length;++ke)for(var bt=zt[ke],Gt=0;Gt<3;++Gt){for(var Qt=0;Qt<3;++Qt)vt[3*Ct+Qt]=Ve[Qt];for(var Qt=0;Qt<4;++Qt)yt[4*Ct+Qt]=Je[Qt];Mt[Ct]=Le;var At=$t[bt[Gt]];gt[2*Ct]=xe*(Pe*At[0]-Ue*At[1]+dt[0]),gt[2*Ct+1]=xe*(Ue*At[0]+Pe*At[1]+dt[1]),Ct+=1}for(var zt=et.edges,$t=et.positions,ke=0;ke<zt.length;++ke)for(var bt=zt[ke],Gt=0;Gt<2;++Gt){for(var Qt=0;Qt<3;++Qt)vt[3*Vt+Qt]=Ve[Qt];for(var Qt=0;Qt<4;++Qt)yt[4*Vt+Qt]=ze[Qt];Mt[Vt]=Le;var At=$t[bt[Gt]];gt[2*Vt]=xe*(Pe*At[0]-Ue*At[1]+dt[0]),gt[2*Vt+1]=xe*(Ue*At[0]+Pe*At[1]+dt[1]),Vt+=1}}}this.bounds=[se,he],this.points=re,this.pointCount=re.length,this.vertexCount=be,this.lineVertexCount=Ae,this.pointBuffer.update(vt),this.colorBuffer.update(yt),this.glyphBuffer.update(gt),this.idBuffer.update(Mt),o.free(vt),o.free(yt),o.free(gt),o.free(Mt)},P.dispose=function(){this.shader.dispose(),this.orthoShader.dispose(),this.pickPerspectiveShader.dispose(),this.pickOrthoShader.dispose(),this.vao.dispose(),this.pointBuffer.dispose(),this.colorBuffer.dispose(),this.glyphBuffer.dispose(),this.idBuffer.dispose()};function ce(Q){var Z=Q.gl,K=u.createPerspective(Z),J=u.createOrtho(Z),re=u.createProject(Z),le=u.createPickPerspective(Z),q=u.createPickOrtho(Z),ee=u.createPickProject(Z),ue=s(Z),se=s(Z),he=s(Z),me=s(Z),Ce=n(Z,[{buffer:ue,size:3,type:Z.FLOAT},{buffer:se,size:4,type:Z.FLOAT},{buffer:he,size:2,type:Z.FLOAT},{buffer:me,size:4,type:Z.UNSIGNED_BYTE,normalized:!0}]),Te=new S(Z,K,J,re,ue,se,he,me,Ce,le,q,ee);return Te.update(Q),Te}},1884:function(v,y,t){var r=t(6832);y.boxVertex=r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 vertex;

uniform vec2 cornerA, cornerB;

void main() {
  gl_Position = vec4(mix(cornerA, cornerB, vertex), 0, 1);
}
`]),y.boxFragment=r([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color;

void main() {
  gl_FragColor = color;
}
`])},6623:function(v,y,t){var r=t(5158),s=t(5827),n=t(1884);v.exports=u;function o(m,c,A){this.plot=m,this.boxBuffer=c,this.boxShader=A,this.enabled=!0,this.selectBox=[1/0,1/0,-1/0,-1/0],this.borderColor=[0,0,0,1],this.innerFill=!1,this.innerColor=[0,0,0,.25],this.outerFill=!0,this.outerColor=[0,0,0,.5],this.borderWidth=10}var f=o.prototype;f.draw=function(){if(this.enabled){var m=this.plot,c=this.selectBox,A=this.borderWidth;this.innerFill;var h=this.innerColor;this.outerFill;var l=this.outerColor,p=this.borderColor,M=m.box,S=m.screenBox,P=m.dataBox,x=m.viewBox,E=m.pixelRatio,w=(c[0]-P[0])*(x[2]-x[0])/(P[2]-P[0])+x[0],i=(c[1]-P[1])*(x[3]-x[1])/(P[3]-P[1])+x[1],L=(c[2]-P[0])*(x[2]-x[0])/(P[2]-P[0])+x[0],b=(c[3]-P[1])*(x[3]-x[1])/(P[3]-P[1])+x[1];if(w=Math.max(w,x[0]),i=Math.max(i,x[1]),L=Math.min(L,x[2]),b=Math.min(b,x[3]),!(L<w||b<i)){M.bind();var O=S[2]-S[0],_=S[3]-S[1];if(this.outerFill&&(M.drawBox(0,0,O,i,l),M.drawBox(0,i,w,b,l),M.drawBox(0,b,O,_,l),M.drawBox(L,i,O,b,l)),this.innerFill&&M.drawBox(w,i,L,b,h),A>0){var N=A*E;M.drawBox(w-N,i-N,L+N,i+N,p),M.drawBox(w-N,b-N,L+N,b+N,p),M.drawBox(w-N,i-N,w+N,b+N,p),M.drawBox(L-N,i-N,L+N,b+N,p)}}}},f.update=function(m){m=m||{},this.innerFill=!!m.innerFill,this.outerFill=!!m.outerFill,this.innerColor=(m.innerColor||[0,0,0,.5]).slice(),this.outerColor=(m.outerColor||[0,0,0,.5]).slice(),this.borderColor=(m.borderColor||[0,0,0,1]).slice(),this.borderWidth=m.borderWidth||0,this.selectBox=(m.selectBox||this.selectBox).slice()},f.dispose=function(){this.boxBuffer.dispose(),this.boxShader.dispose(),this.plot.removeOverlay(this)};function u(m,c){var A=m.gl,h=s(A,[0,0,0,1,1,0,1,1]),l=r(A,n.boxVertex,n.boxFragment),p=new o(m,h,l);return p.update(c),m.addOverlay(p),p}},2611:function(v,y,t){v.exports=A;var r=t(4234),s=t(5306),n=t(5050),o=t(2288).nextPow2,f=function(h,l,p){for(var M=1e8,S=-1,P=-1,x=h.shape[0],E=h.shape[1],w=0;w<x;w++)for(var i=0;i<E;i++){var L=h.get(w,i,0),b=h.get(w,i,1),O=h.get(w,i,2),_=h.get(w,i,3);if(L<255||b<255||O<255||_<255){var N=l-w,z=p-i,B=N*N+z*z;B<M&&(M=B,S=w,P=i)}}return[S,P,M]};function u(h,l,p,M,S){this.coord=[h,l],this.id=p,this.value=M,this.distance=S}function m(h,l,p){this.gl=h,this.fbo=l,this.buffer=p,this._readTimeout=null;var M=this;this._readCallback=function(){M.gl&&(l.bind(),h.readPixels(0,0,l.shape[0],l.shape[1],h.RGBA,h.UNSIGNED_BYTE,M.buffer),M._readTimeout=null)}}var c=m.prototype;Object.defineProperty(c,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(h){if(this.gl){this.fbo.shape=h;var l=this.fbo.shape[0],p=this.fbo.shape[1];if(p*l*4>this.buffer.length){s.free(this.buffer);for(var M=this.buffer=s.mallocUint8(o(p*l*4)),S=0;S<p*l*4;++S)M[S]=255}return h}}}),c.begin=function(){var h=this.gl;this.shape,h&&(this.fbo.bind(),h.clearColor(1,1,1,1),h.clear(h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT))},c.end=function(){var h=this.gl;h&&(h.bindFramebuffer(h.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},c.query=function(h,l,p){if(!this.gl)return null;var M=this.fbo.shape.slice();h=h|0,l=l|0,typeof p!="number"&&(p=1);var S=Math.min(Math.max(h-p,0),M[0])|0,P=Math.min(Math.max(h+p,0),M[0])|0,x=Math.min(Math.max(l-p,0),M[1])|0,E=Math.min(Math.max(l+p,0),M[1])|0;if(P<=S||E<=x)return null;var w=[P-S,E-x],i=n(this.buffer,[w[0],w[1],4],[4,M[0]*4,1],4*(S+M[0]*x)),L=f(i.hi(w[0],w[1],1),p,p),b=L[0],O=L[1];if(b<0||Math.pow(this.radius,2)<L[2])return null;var _=i.get(b,O,0),N=i.get(b,O,1),z=i.get(b,O,2),B=i.get(b,O,3);return new u(b+S|0,O+x|0,_,[N,z,B],Math.sqrt(L[2]))},c.dispose=function(){this.gl&&(this.fbo.dispose(),s.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))};function A(h,l){var p=l[0],M=l[1],S={},P=r(h,p,M,S),x=s.mallocUint8(p*M*4);return new m(h,P,x)}},5158:function(v,y,t){var r=t(9016),s=t(4280),n=t(3984),o=t(1628),f=t(2631),u=t(9068);function m(l){this.gl=l,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var c=m.prototype;c.bind=function(){this.program||this._relink();var l,p=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),M=this.gl.lastAttribCount;if(p>M)for(l=M;l<p;l++)this.gl.enableVertexAttribArray(l);else if(M>p)for(l=p;l<M;l++)this.gl.disableVertexAttribArray(l);this.gl.lastAttribCount=p,this.gl.useProgram(this.program)},c.dispose=function(){for(var l=this.gl.lastAttribCount,p=0;p<l;p++)this.gl.disableVertexAttribArray(p);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null};function A(l,p){return l.name<p.name?-1:1}c.update=function(l,p,M,S){if(!p||arguments.length===1){var P=l;l=P.vertex,p=P.fragment,M=P.uniforms,S=P.attributes}var x=this,E=x.gl,w=x._vref;x._vref=o.shader(E,E.VERTEX_SHADER,l),w&&w.dispose(),x.vertShader=x._vref.shader;var i=this._fref;if(x._fref=o.shader(E,E.FRAGMENT_SHADER,p),i&&i.dispose(),x.fragShader=x._fref.shader,!M||!S){var L=E.createProgram();if(E.attachShader(L,x.fragShader),E.attachShader(L,x.vertShader),E.linkProgram(L),!E.getProgramParameter(L,E.LINK_STATUS)){var b=E.getProgramInfoLog(L);throw new u(b,"Error linking program:"+b)}M=M||f.uniforms(E,L),S=S||f.attributes(E,L),E.deleteProgram(L)}S=S.slice(),S.sort(A);var O=[],_=[],N=[],z;for(z=0;z<S.length;++z){var B=S[z];if(B.type.indexOf("mat")>=0){for(var U=B.type.charAt(B.type.length-1)|0,F=new Array(U),V=0;V<U;++V)F[V]=N.length,_.push(B.name+"["+V+"]"),typeof B.location=="number"?N.push(B.location+V):Array.isArray(B.location)&&B.location.length===U&&typeof B.location[V]=="number"?N.push(B.location[V]|0):N.push(-1);O.push({name:B.name,type:B.type,locations:F})}else O.push({name:B.name,type:B.type,locations:[N.length]}),_.push(B.name),typeof B.location=="number"?N.push(B.location|0):N.push(-1)}var j=0;for(z=0;z<N.length;++z)if(N[z]<0){for(;N.indexOf(j)>=0;)j+=1;N[z]=j}var $=new Array(M.length);function ne(){x.program=o.program(E,x._vref,x._fref,_,N);for(var oe=0;oe<M.length;++oe)$[oe]=E.getUniformLocation(x.program,M[oe].name)}ne(),x._relink=ne,x.types={uniforms:n(M),attributes:n(S)},x.attributes=s(E,x,O,N),Object.defineProperty(x,"uniforms",r(E,x,M,$))};function h(l,p,M,S,P){var x=new m(l);return x.update(p,M,S,P),x}v.exports=h},9068:function(v){function y(t,r,s){this.shortMessage=r||"",this.longMessage=s||"",this.rawError=t||"",this.message="gl-shader: "+(r||t||"")+(s?`
`+s:""),this.stack=new Error().stack}y.prototype=new Error,y.prototype.name="GLError",y.prototype.constructor=y,v.exports=y},4280:function(v,y,t){v.exports=m;var r=t(9068);function s(c,A,h,l,p,M){this._gl=c,this._wrapper=A,this._index=h,this._locations=l,this._dimension=p,this._constFunc=M}var n=s.prototype;n.pointer=function(A,h,l,p){var M=this,S=M._gl,P=M._locations[M._index];S.vertexAttribPointer(P,M._dimension,A||S.FLOAT,!!h,l||0,p||0),S.enableVertexAttribArray(P)},n.set=function(c,A,h,l){return this._constFunc(this._locations[this._index],c,A,h,l)},Object.defineProperty(n,"location",{get:function(){return this._locations[this._index]},set:function(c){return c!==this._locations[this._index]&&(this._locations[this._index]=c|0,this._wrapper.program=null),c|0}});var o=[function(c,A,h){return h.length===void 0?c.vertexAttrib1f(A,h):c.vertexAttrib1fv(A,h)},function(c,A,h,l){return h.length===void 0?c.vertexAttrib2f(A,h,l):c.vertexAttrib2fv(A,h)},function(c,A,h,l,p){return h.length===void 0?c.vertexAttrib3f(A,h,l,p):c.vertexAttrib3fv(A,h)},function(c,A,h,l,p,M){return h.length===void 0?c.vertexAttrib4f(A,h,l,p,M):c.vertexAttrib4fv(A,h)}];function f(c,A,h,l,p,M,S){var P=o[p],x=new s(c,A,h,l,p,P);Object.defineProperty(M,S,{set:function(E){return c.disableVertexAttribArray(l[h]),P(c,l[h],E),E},get:function(){return x},enumerable:!0})}function u(c,A,h,l,p,M,S){for(var P=new Array(p),x=new Array(p),E=0;E<p;++E)f(c,A,h[E],l,p,P,E),x[E]=P[E];Object.defineProperty(P,"location",{set:function(L){if(Array.isArray(L))for(var b=0;b<p;++b)x[b].location=L[b];else for(var b=0;b<p;++b)x[b].location=L+b;return L},get:function(){for(var L=new Array(p),b=0;b<p;++b)L[b]=l[h[b]];return L},enumerable:!0}),P.pointer=function(L,b,O,_){L=L||c.FLOAT,b=!!b,O=O||p*p,_=_||0;for(var N=0;N<p;++N){var z=l[h[N]];c.vertexAttribPointer(z,p,L,b,O,_+N*p),c.enableVertexAttribArray(z)}};var w=new Array(p),i=c["vertexAttrib"+p+"fv"];Object.defineProperty(M,S,{set:function(L){for(var b=0;b<p;++b){var O=l[h[b]];if(c.disableVertexAttribArray(O),Array.isArray(L[0]))i.call(c,O,L[b]);else{for(var _=0;_<p;++_)w[_]=L[p*b+_];i.call(c,O,w)}}return L},get:function(){return P},enumerable:!0})}function m(c,A,h,l){for(var p={},M=0,S=h.length;M<S;++M){var P=h[M],x=P.name,E=P.type,w=P.locations;switch(E){case"bool":case"int":case"float":f(c,A,w[0],l,1,p,x);break;default:if(E.indexOf("vec")>=0){var i=E.charCodeAt(E.length-1)-48;if(i<2||i>4)throw new r("","Invalid data type for attribute "+x+": "+E);f(c,A,w[0],l,i,p,x)}else if(E.indexOf("mat")>=0){var i=E.charCodeAt(E.length-1)-48;if(i<2||i>4)throw new r("","Invalid data type for attribute "+x+": "+E);u(c,A,w,l,i,p,x)}else throw new r("","Unknown data type for attribute "+x+": "+E);break}}return p}},9016:function(v,y,t){var r=t(3984),s=t(9068);v.exports=f;function n(u){return function(){return u}}function o(u,m){for(var c=new Array(u),A=0;A<u;++A)c[A]=m;return c}function f(u,m,c,A){function h(E){return function(w,i,L){return w.getUniform(i.program,L[E])}}function l(E){return function(i){for(var L=p("",E),b=0;b<L.length;++b){var O=L[b],_=O[0],N=O[1];if(A[N]){var z=i;if(typeof _=="string"&&(_.indexOf(".")===0||_.indexOf("[")===0)){var B=_;if(_.indexOf(".")===0&&(B=_.slice(1)),B.indexOf("]")===B.length-1){var U=B.indexOf("["),F=B.slice(0,U),V=B.slice(U+1,B.length-1);z=F?i[F][V]:i[V]}else z=i[B]}var j=c[N].type,$;switch(j){case"bool":case"int":case"sampler2D":case"samplerCube":u.uniform1i(A[N],z);break;case"float":u.uniform1f(A[N],z);break;default:var ne=j.indexOf("vec");if(0<=ne&&ne<=1&&j.length===4+ne){if($=j.charCodeAt(j.length-1)-48,$<2||$>4)throw new s("","Invalid data type");switch(j.charAt(0)){case"b":case"i":u["uniform"+$+"iv"](A[N],z);break;case"v":u["uniform"+$+"fv"](A[N],z);break;default:throw new s("","Unrecognized data type for vector "+name+": "+j)}}else if(j.indexOf("mat")===0&&j.length===4){if($=j.charCodeAt(j.length-1)-48,$<2||$>4)throw new s("","Invalid uniform dimension type for matrix "+name+": "+j);u["uniformMatrix"+$+"fv"](A[N],!1,z);break}else throw new s("","Unknown uniform data type for "+name+": "+j)}}}}}function p(E,w){if(typeof w!="object")return[[E,w]];var i=[];for(var L in w){var b=w[L],O=E;parseInt(L)+""===L?O+="["+L+"]":O+="."+L,typeof b=="object"?i.push.apply(i,p(O,b)):i.push([O,b])}return i}function M(E){switch(E){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":return 0;case"float":return 0;default:var w=E.indexOf("vec");if(0<=w&&w<=1&&E.length===4+w){var i=E.charCodeAt(E.length-1)-48;if(i<2||i>4)throw new s("","Invalid data type");return E.charAt(0)==="b"?o(i,!1):o(i,0)}else if(E.indexOf("mat")===0&&E.length===4){var i=E.charCodeAt(E.length-1)-48;if(i<2||i>4)throw new s("","Invalid uniform dimension type for matrix "+name+": "+E);return o(i*i,0)}else throw new s("","Unknown uniform data type for "+name+": "+E)}}function S(E,w,i){if(typeof i=="object"){var L=P(i);Object.defineProperty(E,w,{get:n(L),set:l(i),enumerable:!0,configurable:!1})}else A[i]?Object.defineProperty(E,w,{get:h(i),set:l(i),enumerable:!0,configurable:!1}):E[w]=M(c[i].type)}function P(E){var w;if(Array.isArray(E)){w=new Array(E.length);for(var i=0;i<E.length;++i)S(w,i,E[i])}else{w={};for(var L in E)S(w,L,E[L])}return w}var x=r(c,!0);return{get:n(P(x)),set:l(x),enumerable:!0,configurable:!0}}},3984:function(v){v.exports=y;function y(t,r){for(var s={},n=0;n<t.length;++n)for(var o=t[n].name,f=o.split("."),u=s,m=0;m<f.length;++m){var c=f[m].split("[");if(c.length>1){c[0]in u||(u[c[0]]=[]),u=u[c[0]];for(var A=1;A<c.length;++A){var h=parseInt(c[A]);A<c.length-1||m<f.length-1?(h in u||(A<c.length-1?u[h]=[]:u[h]={}),u=u[h]):r?u[h]=n:u[h]=t[n].type}}else m<f.length-1?(c[0]in u||(u[c[0]]={}),u=u[c[0]]):r?u[c[0]]=n:u[c[0]]=t[n].type}return s}},2631:function(v,y){y.uniforms=n,y.attributes=o;var t={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},r=null;function s(f,u){if(!r){var m=Object.keys(t);r={};for(var c=0;c<m.length;++c){var A=m[c];r[f[A]]=t[A]}}return r[u]}function n(f,u){for(var m=f.getProgramParameter(u,f.ACTIVE_UNIFORMS),c=[],A=0;A<m;++A){var h=f.getActiveUniform(u,A);if(h){var l=s(f,h.type);if(h.size>1)for(var p=0;p<h.size;++p)c.push({name:h.name.replace("[0]","["+p+"]"),type:l});else c.push({name:h.name,type:l})}}return c}function o(f,u){for(var m=f.getProgramParameter(u,f.ACTIVE_ATTRIBUTES),c=[],A=0;A<m;++A){var h=f.getActiveAttrib(u,A);h&&c.push({name:h.name,type:s(f,h.type)})}return c}},1628:function(v,y,t){y.shader=p,y.program=M;var r=t(9068),s=t(3530),n=typeof WeakMap>"u"?t(4037):WeakMap,o=new n,f=0;function u(S,P,x,E,w,i,L){this.id=S,this.src=P,this.type=x,this.shader=E,this.count=i,this.programs=[],this.cache=L}u.prototype.dispose=function(){if(--this.count===0){for(var S=this.cache,P=S.gl,x=this.programs,E=0,w=x.length;E<w;++E){var i=S.programs[x[E]];i&&(delete S.programs[E],P.deleteProgram(i))}P.deleteShader(this.shader),delete S.shaders[this.type===P.FRAGMENT_SHADER|0][this.src]}};function m(S){this.gl=S,this.shaders=[{},{}],this.programs={}}var c=m.prototype;function A(S,P,x){var E=S.createShader(P);if(S.shaderSource(E,x),S.compileShader(E),!S.getShaderParameter(E,S.COMPILE_STATUS)){var w=S.getShaderInfoLog(E);try{var i=s(w,x,P)}catch(L){throw console.warn("Failed to format compiler error: "+L),new r(w,`Error compiling shader:
`+w)}throw new r(w,i.short,i.long)}return E}c.getShaderReference=function(S,P){var x=this.gl,E=this.shaders[S===x.FRAGMENT_SHADER|0],w=E[P];if(!w||!x.isShader(w.shader)){var i=A(x,S,P);w=E[P]=new u(f++,P,S,i,[],1,this)}else w.count+=1;return w};function h(S,P,x,E,w){var i=S.createProgram();S.attachShader(i,P),S.attachShader(i,x);for(var L=0;L<E.length;++L)S.bindAttribLocation(i,w[L],E[L]);if(S.linkProgram(i),!S.getProgramParameter(i,S.LINK_STATUS)){var b=S.getProgramInfoLog(i);throw new r(b,"Error linking program: "+b)}return i}c.getProgram=function(S,P,x,E){var w=[S.id,P.id,x.join(":"),E.join(":")].join("@"),i=this.programs[w];return(!i||!this.gl.isProgram(i))&&(this.programs[w]=i=h(this.gl,S.shader,P.shader,x,E),S.programs.push(w),P.programs.push(w)),i};function l(S){var P=o.get(S);return P||(P=new m(S),o.set(S,P)),P}function p(S,P,x){return l(S).getShaderReference(P,x)}function M(S,P,x,E,w){return l(S).getProgram(P,x,E,w)}},3050:function(v){v.exports=r;function y(s){this.plot=s,this.enable=[!0,!0,!1,!1],this.width=[1,1,1,1],this.color=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.center=[1/0,1/0]}var t=y.prototype;t.update=function(s){s=s||{},this.enable=(s.enable||[!0,!0,!1,!1]).slice(),this.width=(s.width||[1,1,1,1]).slice(),this.color=(s.color||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]).map(function(n){return n.slice()}),this.center=(s.center||[1/0,1/0]).slice(),this.plot.setOverlayDirty()},t.draw=function(){var s=this.enable,n=this.width,o=this.color,f=this.center,u=this.plot,m=u.line,c=u.dataBox,A=u.viewBox;if(m.bind(),c[0]<=f[0]&&f[0]<=c[2]&&c[1]<=f[1]&&f[1]<=c[3]){var h=A[0]+(f[0]-c[0])/(c[2]-c[0])*(A[2]-A[0]),l=A[1]+(f[1]-c[1])/(c[3]-c[1])*(A[3]-A[1]);s[0]&&m.drawLine(h,l,A[0],l,n[0],o[0]),s[1]&&m.drawLine(h,l,h,A[1],n[1],o[1]),s[2]&&m.drawLine(h,l,A[2],l,n[2],o[2]),s[3]&&m.drawLine(h,l,h,A[3],n[3],o[3])}},t.dispose=function(){this.plot.removeOverlay(this)};function r(s,n){var o=new y(s);return o.update(n),s.addOverlay(o),o}},3540:function(v,y,t){var r=t(6832),s=t(5158),n=r([`precision mediump float;
#define GLSLIFY 1

attribute vec3 position, color;
attribute float weight;

uniform mat4 model, view, projection;
uniform vec3 coordinates[3];
uniform vec4 colors[3];
uniform vec2 screenShape;
uniform float lineWidth;

varying vec4 fragColor;

void main() {
  vec3 vertexPosition = mix(coordinates[0],
    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));

  vec4 clipPos = projection * view * model * vec4(vertexPosition, 1.0);
  vec2 clipOffset = (projection * view * model * vec4(color, 0.0)).xy;
  vec2 delta = weight * clipOffset * screenShape;
  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;

  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);
  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];
}
`]),o=r([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
  gl_FragColor = fragColor;
}`]);v.exports=function(f){return s(f,n,o,null,[{name:"position",type:"vec3"},{name:"color",type:"vec3"},{name:"weight",type:"float"}])}},6496:function(v,y,t){var r=t(5827),s=t(2944),n=t(3540);v.exports=h;var o=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function f(l,p,M,S){this.gl=l,this.buffer=p,this.vao=M,this.shader=S,this.pixelRatio=1,this.bounds=[[-1e3,-1e3,-1e3],[1e3,1e3,1e3]],this.position=[0,0,0],this.lineWidth=[2,2,2],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.enabled=[!0,!0,!0],this.drawSides=[!0,!0,!0],this.axes=null}var u=f.prototype,m=[0,0,0],c=[0,0,0],A=[0,0];u.isTransparent=function(){return!1},u.drawTransparent=function(l){},u.draw=function(l){var p=this.gl,M=this.vao,S=this.shader;M.bind(),S.bind();var P=l.model||o,x=l.view||o,E=l.projection||o,w;this.axes&&(w=this.axes.lastCubeProps.axis);for(var i=m,L=c,b=0;b<3;++b)w&&w[b]<0?(i[b]=this.bounds[0][b],L[b]=this.bounds[1][b]):(i[b]=this.bounds[1][b],L[b]=this.bounds[0][b]);A[0]=p.drawingBufferWidth,A[1]=p.drawingBufferHeight,S.uniforms.model=P,S.uniforms.view=x,S.uniforms.projection=E,S.uniforms.coordinates=[this.position,i,L],S.uniforms.colors=this.colors,S.uniforms.screenShape=A;for(var b=0;b<3;++b)S.uniforms.lineWidth=this.lineWidth[b]*this.pixelRatio,this.enabled[b]&&(M.draw(p.TRIANGLES,6,6*b),this.drawSides[b]&&M.draw(p.TRIANGLES,12,18+12*b));M.unbind()},u.update=function(l){l&&("bounds"in l&&(this.bounds=l.bounds),"position"in l&&(this.position=l.position),"lineWidth"in l&&(this.lineWidth=l.lineWidth),"colors"in l&&(this.colors=l.colors),"enabled"in l&&(this.enabled=l.enabled),"drawSides"in l&&(this.drawSides=l.drawSides))},u.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function h(l,p){var M=[];function S(i,L,b,O,_,N){var z=[i,L,b,0,0,0,1];z[O+3]=1,z[O]=_,M.push.apply(M,z),z[6]=-1,M.push.apply(M,z),z[O]=N,M.push.apply(M,z),M.push.apply(M,z),z[6]=1,M.push.apply(M,z),z[O]=_,M.push.apply(M,z)}S(0,0,0,0,0,1),S(0,0,0,1,0,1),S(0,0,0,2,0,1),S(1,0,0,1,-1,1),S(1,0,0,2,-1,1),S(0,1,0,0,-1,1),S(0,1,0,2,-1,1),S(0,0,1,0,-1,1),S(0,0,1,1,-1,1);var P=r(l,M),x=s(l,[{type:l.FLOAT,buffer:P,size:3,offset:0,stride:28},{type:l.FLOAT,buffer:P,size:3,offset:12,stride:28},{type:l.FLOAT,buffer:P,size:1,offset:24,stride:28}]),E=n(l);E.attributes.position.location=0,E.attributes.color.location=1,E.attributes.weight.location=2;var w=new f(l,P,x,E);return w.update(p),w}},9578:function(v,y,t){var r=t(6832),s=r([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, tubeScale;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * tubePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(tubePosition, 1.0);
  vec4 t_position  = view * tubePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = tubePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),n=r([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),o=r([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float tubeScale;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  gl_Position = projection * view * tubePosition;
  f_id        = id;
  f_position  = position.xyz;
}
`]),f=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);y.meshShader={vertex:s,fragment:n,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec4"}]},y.pickShader={vertex:o,fragment:f,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec4"}]}},7307:function(v,y,t){var r=t(2858),s=t(4020),n=["xyz","xzy","yxz","yzx","zxy","zyx"],o=function(M,S,P,x){for(var E=M.points,w=M.velocities,i=M.divergences,L=[],b=[],O=[],_=[],N=[],z=[],B=0,U=0,F=s.create(),V=s.create(),j=8,$=0;$<E.length;$++){var ne=E[$],oe=w[$],ce=i[$];S===0&&(ce=P*.05),U=r.length(oe)/x,F=s.create(),r.copy(F,oe),F[3]=ce;for(var Q=0;Q<j;Q++)N[Q]=[ne[0],ne[1],ne[2],Q];if(_.length>0)for(var Q=0;Q<j;Q++){var Z=(Q+1)%j;L.push(_[Q],N[Q],N[Z],N[Z],_[Z],_[Q]),O.push(V,F,F,F,V,V),z.push(B,U,U,U,B,B);var K=L.length;b.push([K-6,K-5,K-4],[K-3,K-2,K-1])}var J=_;_=N,N=J;var re=V;V=F,F=re;var le=B;B=U,U=le}return{positions:L,cells:b,vectors:O,vertexIntensity:z}},f=function(M,S,P,x){for(var E=0,w=0;w<M.length;w++)for(var i=M[w].velocities,L=0;L<i.length;L++)E=Math.max(E,r.length(i[L]));for(var b=M.map(function($){return o($,P,x,E)}),O=[],_=[],N=[],z=[],w=0;w<b.length;w++){var B=b[w],U=O.length;O=O.concat(B.positions),N=N.concat(B.vectors),z=z.concat(B.vertexIntensity);for(var L=0;L<B.cells.length;L++){var F=B.cells[L],V=[];_.push(V);for(var j=0;j<F.length;j++)V.push(F[j]+U)}}return{positions:O,cells:_,vectors:N,vertexIntensity:z,colormap:S}},u=function(M,S){var P=M.length,x;for(x=0;x<P;x++){var E=M[x];if(E===S)return x;if(E>S)return x-1}return x},m=function(M,S,P){return M<S?S:M>P?P:M},c=function(M,S,P){var x=S.vectors,E=S.meshgrid,w=M[0],i=M[1],L=M[2],b=E[0].length,O=E[1].length,_=E[2].length,N=u(E[0],w),z=u(E[1],i),B=u(E[2],L),U=N+1,F=z+1,V=B+1;if(N=m(N,0,b-1),U=m(U,0,b-1),z=m(z,0,O-1),F=m(F,0,O-1),B=m(B,0,_-1),V=m(V,0,_-1),N<0||z<0||B<0||U>b-1||F>O-1||V>_-1)return r.create();var j=E[0][N],$=E[0][U],ne=E[1][z],oe=E[1][F],ce=E[2][B],Q=E[2][V],Z=(w-j)/($-j),K=(i-ne)/(oe-ne),J=(L-ce)/(Q-ce);isFinite(Z)||(Z=.5),isFinite(K)||(K=.5),isFinite(J)||(J=.5);var re,le,q,ee,ue,se;switch(P.reversedX&&(N=b-1-N,U=b-1-U),P.reversedY&&(z=O-1-z,F=O-1-F),P.reversedZ&&(B=_-1-B,V=_-1-V),P.filled){case 5:ue=B,se=V,q=z*_,ee=F*_,re=N*_*O,le=U*_*O;break;case 4:ue=B,se=V,re=N*_,le=U*_,q=z*_*b,ee=F*_*b;break;case 3:q=z,ee=F,ue=B*O,se=V*O,re=N*O*_,le=U*O*_;break;case 2:q=z,ee=F,re=N*O,le=U*O,ue=B*O*b,se=V*O*b;break;case 1:re=N,le=U,ue=B*b,se=V*b,q=z*b*_,ee=F*b*_;break;default:re=N,le=U,q=z*b,ee=F*b,ue=B*b*O,se=V*b*O;break}var he=x[re+q+ue],me=x[re+q+se],Ce=x[re+ee+ue],Te=x[re+ee+se],Oe=x[le+q+ue],Ne=x[le+q+se],Le=x[le+ee+ue],be=x[le+ee+se],Ae=r.create(),He=r.create(),Ve=r.create(),ke=r.create();r.lerp(Ae,he,Oe,Z),r.lerp(He,me,Ne,Z),r.lerp(Ve,Ce,Le,Z),r.lerp(ke,Te,be,Z);var Ge=r.create(),it=r.create();r.lerp(Ge,Ae,Ve,K),r.lerp(it,He,ke,K);var et=r.create();return r.lerp(et,Ge,it,J),et},A=function(M){var S=1/0;M.sort(function(w,i){return w-i});for(var P=M.length,x=1;x<P;x++){var E=Math.abs(M[x]-M[x-1]);E<S&&(S=E)}return S},h=function(M){for(var S=[],P=[],x=[],E={},w={},i={},L=M.length,b=0;b<L;b++){var O=M[b],_=O[0],N=O[1],z=O[2];E[_]||(S.push(_),E[_]=!0),w[N]||(P.push(N),w[N]=!0),i[z]||(x.push(z),i[z]=!0)}var B=A(S),U=A(P),F=A(x),V=Math.min(B,U,F);return isFinite(V)?V:1};v.exports=function(M,S){var P=M.startingPositions,x=M.maxLength||1e3,E=M.tubeSize||1,w=M.absoluteTubeSize,i=M.gridFill||"+x+y+z",L={};i.indexOf("-x")!==-1&&(L.reversedX=!0),i.indexOf("-y")!==-1&&(L.reversedY=!0),i.indexOf("-z")!==-1&&(L.reversedZ=!0),L.filled=n.indexOf(i.replace(/-/g,"").replace(/\+/g,""));var b=M.getVelocity||function(Ne){return c(Ne,M,L)},O=M.getDivergence||function(Ne,Le){var be=r.create(),Ae=1e-4;r.add(be,Ne,[Ae,0,0]);var He=b(be);r.subtract(He,He,Le),r.scale(He,He,1/Ae),r.add(be,Ne,[0,Ae,0]);var Ve=b(be);r.subtract(Ve,Ve,Le),r.scale(Ve,Ve,1/Ae),r.add(be,Ne,[0,0,Ae]);var ke=b(be);return r.subtract(ke,ke,Le),r.scale(ke,ke,1/Ae),r.add(be,He,Ve),r.add(be,be,ke),be},_=[],N=S[0][0],z=S[0][1],B=S[0][2],U=S[1][0],F=S[1][1],V=S[1][2],j=function(Ne){var Le=Ne[0],be=Ne[1],Ae=Ne[2];return!(Le<N||Le>U||be<z||be>F||Ae<B||Ae>V)},$=r.distance(S[0],S[1]),ne=10*$/x,oe=ne*ne,ce=1,Q=0,Z=P.length;Z>1&&(ce=h(P));for(var K=0;K<Z;K++){var J=r.create();r.copy(J,P[K]);var re=[J],le=[],q=b(J),ee=J;le.push(q);var ue=[],se=O(J,q),he=r.length(se);isFinite(he)&&he>Q&&(Q=he),ue.push(he),_.push({points:re,velocities:le,divergences:ue});for(var me=0;me<x*100&&re.length<x&&j(J);){me++;var Ce=r.clone(q),Te=r.squaredLength(Ce);if(Te===0)break;if(Te>oe&&r.scale(Ce,Ce,ne/Math.sqrt(Te)),r.add(Ce,Ce,J),q=b(Ce),r.squaredDistance(ee,Ce)-oe>-1e-4*oe){re.push(Ce),ee=Ce,le.push(q);var se=O(Ce,q),he=r.length(se);isFinite(he)&&he>Q&&(Q=he),ue.push(he)}J=Ce}}var Oe=f(_,M.colormap,Q,ce);return w?Oe.tubeScale=w:(Q===0&&(Q=1),Oe.tubeScale=E*.5*ce/Q),Oe};var l=t(9578),p=t(1140).createMesh;v.exports.createTubeMesh=function(M,S){return p(M,S,{shaders:l,traceType:"streamtube"})}},9054:function(v,y,t){var r=t(5158),s=t(6832),n=s([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute vec3 f;
attribute vec3 normal;

uniform vec3 objectOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 lightPosition, eyePosition;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 localCoordinate = vec3(uv.zw, f.x);
  worldCoordinate = objectOffset + localCoordinate;
  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);
  vec4 clipPosition = projection * view * worldPosition;
  gl_Position = clipPosition;
  kill = f.y;
  value = f.z;
  planeCoordinate = uv.xy;

  vColor = texture2D(colormap, vec2(value, value));

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * worldPosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  lightDirection = lightPosition - cameraCoordinate.xyz;
  eyeDirection   = eyePosition - cameraCoordinate.xyz;
  surfaceNormal  = normalize((vec4(normal,0) * inverseModel).xyz);
}
`]),o=s([`precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float beckmannSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness) {
  return beckmannDistribution(dot(surfaceNormal, normalize(lightDirection + viewDirection)), roughness);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 lowerBound, upperBound;
uniform float contourTint;
uniform vec4 contourColor;
uniform sampler2D colormap;
uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform float vertexColor;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  if (
    kill > 0.0 ||
    vColor.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], worldCoordinate)
  ) discard;

  vec3 N = normalize(surfaceNormal);
  vec3 V = normalize(eyeDirection);
  vec3 L = normalize(lightDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = max(beckmannSpecular(L, V, N, roughness), 0.);
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  //decide how to interpolate color  in vertex or in fragment
  vec4 surfaceColor =
    step(vertexColor, .5) * texture2D(colormap, vec2(value, value)) +
    step(.5, vertexColor) * vColor;

  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = mix(litColor, contourColor, contourTint) * opacity;
}
`]),f=s([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute float f;

uniform vec3 objectOffset;
uniform mat3 permutation;
uniform mat4 model, view, projection;
uniform float height, zOffset;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 dataCoordinate = permutation * vec3(uv.xy, height);
  worldCoordinate = objectOffset + dataCoordinate;
  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);

  vec4 clipPosition = projection * view * worldPosition;
  clipPosition.z += zOffset;

  gl_Position = clipPosition;
  value = f + objectOffset.z;
  kill = -1.0;
  planeCoordinate = uv.zw;

  vColor = texture2D(colormap, vec2(value, value));

  //Don't do lighting for contours
  surfaceNormal   = vec3(1,0,0);
  eyeDirection    = vec3(0,1,0);
  lightDirection  = vec3(0,0,1);
}
`]),u=s([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec2 shape;
uniform vec3 clipBounds[2];
uniform float pickId;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 surfaceNormal;

vec2 splitFloat(float v) {
  float vh = 255.0 * v;
  float upper = floor(vh);
  float lower = fract(vh);
  return vec2(upper / 255.0, floor(lower * 16.0) / 16.0);
}

void main() {
  if ((kill > 0.0) ||
      (outOfRange(clipBounds[0], clipBounds[1], worldCoordinate))) discard;

  vec2 ux = splitFloat(planeCoordinate.x / shape.x);
  vec2 uy = splitFloat(planeCoordinate.y / shape.y);
  gl_FragColor = vec4(pickId, ux.x, uy.x, ux.y + (uy.y/16.0));
}
`]);y.createShader=function(m){var c=r(m,n,o,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c.attributes.normal.location=2,c},y.createPickShader=function(m){var c=r(m,n,u,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c.attributes.normal.location=2,c},y.createContourShader=function(m){var c=r(m,f,o,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c},y.createPickContourShader=function(m){var c=r(m,f,u,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c}},3754:function(v,y,t){v.exports=le;var r=t(2288),s=t(5827),n=t(2944),o=t(8931),f=t(5306),u=t(9156),m=t(7498),c=t(7382),A=t(5050),h=t(4162),l=t(104),p=t(7437),M=t(5070),S=t(9144),P=t(9054),x=P.createShader,E=P.createContourShader,w=P.createPickShader,i=P.createPickContourShader,L=4*10,b=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],O=[[0,0],[0,1],[1,0],[1,1],[1,0],[0,1]],_=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];(function(){for(var q=0;q<3;++q){var ee=_[q],ue=(q+1)%3,se=(q+2)%3;ee[ue+0]=1,ee[se+3]=1,ee[q+6]=1}})();function N(q,ee,ue,se,he){this.position=q,this.index=ee,this.uv=ue,this.level=se,this.dataCoordinate=he}var z=256;function B(q,ee,ue,se,he,me,Ce,Te,Oe,Ne,Le,be,Ae,He,Ve){this.gl=q,this.shape=ee,this.bounds=ue,this.objectOffset=Ve,this.intensityBounds=[],this._shader=se,this._pickShader=he,this._coordinateBuffer=me,this._vao=Ce,this._colorMap=Te,this._contourShader=Oe,this._contourPickShader=Ne,this._contourBuffer=Le,this._contourVAO=be,this._contourOffsets=[[],[],[]],this._contourCounts=[[],[],[]],this._vertexCount=0,this._pickResult=new N([0,0,0],[0,0],[0,0],[0,0,0],[0,0,0]),this._dynamicBuffer=Ae,this._dynamicVAO=He,this._dynamicOffsets=[0,0,0],this._dynamicCounts=[0,0,0],this.contourWidth=[1,1,1],this.contourLevels=[[1],[1],[1]],this.contourTint=[0,0,0],this.contourColor=[[.5,.5,.5,1],[.5,.5,.5,1],[.5,.5,.5,1]],this.showContour=!0,this.showSurface=!0,this.enableHighlight=[!0,!0,!0],this.highlightColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.highlightTint=[1,1,1],this.highlightLevel=[-1,-1,-1],this.enableDynamic=[!0,!0,!0],this.dynamicLevel=[NaN,NaN,NaN],this.dynamicColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.dynamicTint=[1,1,1],this.dynamicWidth=[1,1,1],this.axesBounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.surfaceProject=[!1,!1,!1],this.contourProject=[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.colorBounds=[!1,!1],this._field=[A(f.mallocFloat(1024),[0,0]),A(f.mallocFloat(1024),[0,0]),A(f.mallocFloat(1024),[0,0])],this.pickId=1,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.snapToData=!1,this.pixelRatio=1,this.opacity=1,this.lightPosition=[10,1e4,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.vertexColor=0,this.dirty=!0}var U=B.prototype;U.genColormap=function(q,ee){var ue=!1,se=c([u({colormap:q,nshades:z,format:"rgba"}).map(function(he,me){var Ce=ee?F(me/255,ee):he[3];return Ce<1&&(ue=!0),[he[0],he[1],he[2],255*Ce]})]);return m.divseq(se,255),this.hasAlphaScale=ue,se},U.isTransparent=function(){return this.opacity<1||this.hasAlphaScale},U.isOpaque=function(){return!this.isTransparent()},U.pickSlots=1,U.setPickBase=function(q){this.pickId=q};function F(q,ee){if(!ee||!ee.length)return 1;for(var ue=0;ue<ee.length;++ue){if(ee.length<2)return 1;if(ee[ue][0]===q)return ee[ue][1];if(ee[ue][0]>q&&ue>0){var se=(ee[ue][0]-q)/(ee[ue][0]-ee[ue-1][0]);return ee[ue][1]*(1-se)+se*ee[ue-1][1]}}return 1}var V=[0,0,0],j={showSurface:!1,showContour:!1,projections:[b.slice(),b.slice(),b.slice()],clipBounds:[[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]]]};function $(q,ee){var ue,se,he,me=ee.axes&&ee.axes.lastCubeProps.axis||V,Ce=ee.showSurface,Te=ee.showContour;for(ue=0;ue<3;++ue)for(Ce=Ce||ee.surfaceProject[ue],se=0;se<3;++se)Te=Te||ee.contourProject[ue][se];for(ue=0;ue<3;++ue){var Oe=j.projections[ue];for(se=0;se<16;++se)Oe[se]=0;for(se=0;se<4;++se)Oe[5*se]=1;Oe[5*ue]=0,Oe[12+ue]=ee.axesBounds[+(me[ue]>0)][ue],l(Oe,q.model,Oe);var Ne=j.clipBounds[ue];for(he=0;he<2;++he)for(se=0;se<3;++se)Ne[he][se]=q.clipBounds[he][se];Ne[0][ue]=-1e8,Ne[1][ue]=1e8}return j.showSurface=Ce,j.showContour=Te,j}var ne={model:b,view:b,projection:b,inverseModel:b.slice(),lowerBound:[0,0,0],upperBound:[0,0,0],colorMap:0,clipBounds:[[0,0,0],[0,0,0]],height:0,contourTint:0,contourColor:[0,0,0,1],permutation:[1,0,0,0,1,0,0,0,1],zOffset:-1e-4,objectOffset:[0,0,0],kambient:1,kdiffuse:1,kspecular:1,lightPosition:[1e3,1e3,1e3],eyePosition:[0,0,0],roughness:1,fresnel:1,opacity:1,vertexColor:0},oe=b.slice(),ce=[1,0,0,0,1,0,0,0,1];function Q(q,ee){q=q||{};var ue=this.gl;ue.disable(ue.CULL_FACE),this._colorMap.bind(0);var se=ne;se.model=q.model||b,se.view=q.view||b,se.projection=q.projection||b,se.lowerBound=[this.bounds[0][0],this.bounds[0][1],this.colorBounds[0]||this.bounds[0][2]],se.upperBound=[this.bounds[1][0],this.bounds[1][1],this.colorBounds[1]||this.bounds[1][2]],se.objectOffset=this.objectOffset,se.contourColor=this.contourColor[0],se.inverseModel=p(se.inverseModel,se.model);for(var he=0;he<2;++he)for(var me=se.clipBounds[he],Ce=0;Ce<3;++Ce)me[Ce]=Math.min(Math.max(this.clipBounds[he][Ce],-1e8),1e8);se.kambient=this.ambientLight,se.kdiffuse=this.diffuseLight,se.kspecular=this.specularLight,se.roughness=this.roughness,se.fresnel=this.fresnel,se.opacity=this.opacity,se.height=0,se.permutation=ce,se.vertexColor=this.vertexColor;var Te=oe;for(l(Te,se.view,se.model),l(Te,se.projection,Te),p(Te,Te),he=0;he<3;++he)se.eyePosition[he]=Te[12+he]/Te[15];var Oe=Te[15];for(he=0;he<3;++he)Oe+=this.lightPosition[he]*Te[4*he+3];for(he=0;he<3;++he){var Ne=Te[12+he];for(Ce=0;Ce<3;++Ce)Ne+=Te[4*Ce+he]*this.lightPosition[Ce];se.lightPosition[he]=Ne/Oe}var Le=$(se,this);if(Le.showSurface){for(this._shader.bind(),this._shader.uniforms=se,this._vao.bind(),this.showSurface&&this._vertexCount&&this._vao.draw(ue.TRIANGLES,this._vertexCount),he=0;he<3;++he)!this.surfaceProject[he]||!this.vertexCount||(this._shader.uniforms.model=Le.projections[he],this._shader.uniforms.clipBounds=Le.clipBounds[he],this._vao.draw(ue.TRIANGLES,this._vertexCount));this._vao.unbind()}if(Le.showContour){var be=this._contourShader;se.kambient=1,se.kdiffuse=0,se.kspecular=0,se.opacity=1,be.bind(),be.uniforms=se;var Ae=this._contourVAO;for(Ae.bind(),he=0;he<3;++he)for(be.uniforms.permutation=_[he],ue.lineWidth(this.contourWidth[he]*this.pixelRatio),Ce=0;Ce<this.contourLevels[he].length;++Ce)Ce===this.highlightLevel[he]?(be.uniforms.contourColor=this.highlightColor[he],be.uniforms.contourTint=this.highlightTint[he]):(Ce===0||Ce-1===this.highlightLevel[he])&&(be.uniforms.contourColor=this.contourColor[he],be.uniforms.contourTint=this.contourTint[he]),this._contourCounts[he][Ce]&&(be.uniforms.height=this.contourLevels[he][Ce],Ae.draw(ue.LINES,this._contourCounts[he][Ce],this._contourOffsets[he][Ce]));for(he=0;he<3;++he)for(be.uniforms.model=Le.projections[he],be.uniforms.clipBounds=Le.clipBounds[he],Ce=0;Ce<3;++Ce)if(this.contourProject[he][Ce]){be.uniforms.permutation=_[Ce],ue.lineWidth(this.contourWidth[Ce]*this.pixelRatio);for(var He=0;He<this.contourLevels[Ce].length;++He)He===this.highlightLevel[Ce]?(be.uniforms.contourColor=this.highlightColor[Ce],be.uniforms.contourTint=this.highlightTint[Ce]):(He===0||He-1===this.highlightLevel[Ce])&&(be.uniforms.contourColor=this.contourColor[Ce],be.uniforms.contourTint=this.contourTint[Ce]),this._contourCounts[Ce][He]&&(be.uniforms.height=this.contourLevels[Ce][He],Ae.draw(ue.LINES,this._contourCounts[Ce][He],this._contourOffsets[Ce][He]))}for(Ae.unbind(),Ae=this._dynamicVAO,Ae.bind(),he=0;he<3;++he)if(this._dynamicCounts[he]!==0)for(be.uniforms.model=se.model,be.uniforms.clipBounds=se.clipBounds,be.uniforms.permutation=_[he],ue.lineWidth(this.dynamicWidth[he]*this.pixelRatio),be.uniforms.contourColor=this.dynamicColor[he],be.uniforms.contourTint=this.dynamicTint[he],be.uniforms.height=this.dynamicLevel[he],Ae.draw(ue.LINES,this._dynamicCounts[he],this._dynamicOffsets[he]),Ce=0;Ce<3;++Ce)this.contourProject[Ce][he]&&(be.uniforms.model=Le.projections[Ce],be.uniforms.clipBounds=Le.clipBounds[Ce],Ae.draw(ue.LINES,this._dynamicCounts[he],this._dynamicOffsets[he]));Ae.unbind()}}U.draw=function(q){return Q.call(this,q,!1)},U.drawTransparent=function(q){return Q.call(this,q,!0)};var Z={model:b,view:b,projection:b,inverseModel:b,clipBounds:[[0,0,0],[0,0,0]],height:0,shape:[0,0],pickId:0,lowerBound:[0,0,0],upperBound:[0,0,0],zOffset:0,objectOffset:[0,0,0],permutation:[1,0,0,0,1,0,0,0,1],lightPosition:[0,0,0],eyePosition:[0,0,0]};U.drawPick=function(q){q=q||{};var ee=this.gl;ee.disable(ee.CULL_FACE);var ue=Z;ue.model=q.model||b,ue.view=q.view||b,ue.projection=q.projection||b,ue.shape=this._field[2].shape,ue.pickId=this.pickId/255,ue.lowerBound=this.bounds[0],ue.upperBound=this.bounds[1],ue.objectOffset=this.objectOffset,ue.permutation=ce;for(var se=0;se<2;++se)for(var he=ue.clipBounds[se],me=0;me<3;++me)he[me]=Math.min(Math.max(this.clipBounds[se][me],-1e8),1e8);var Ce=$(ue,this);if(Ce.showSurface){for(this._pickShader.bind(),this._pickShader.uniforms=ue,this._vao.bind(),this._vao.draw(ee.TRIANGLES,this._vertexCount),se=0;se<3;++se)this.surfaceProject[se]&&(this._pickShader.uniforms.model=Ce.projections[se],this._pickShader.uniforms.clipBounds=Ce.clipBounds[se],this._vao.draw(ee.TRIANGLES,this._vertexCount));this._vao.unbind()}if(Ce.showContour){var Te=this._contourPickShader;Te.bind(),Te.uniforms=ue;var Oe=this._contourVAO;for(Oe.bind(),me=0;me<3;++me)for(ee.lineWidth(this.contourWidth[me]*this.pixelRatio),Te.uniforms.permutation=_[me],se=0;se<this.contourLevels[me].length;++se)this._contourCounts[me][se]&&(Te.uniforms.height=this.contourLevels[me][se],Oe.draw(ee.LINES,this._contourCounts[me][se],this._contourOffsets[me][se]));for(se=0;se<3;++se)for(Te.uniforms.model=Ce.projections[se],Te.uniforms.clipBounds=Ce.clipBounds[se],me=0;me<3;++me)if(this.contourProject[se][me]){Te.uniforms.permutation=_[me],ee.lineWidth(this.contourWidth[me]*this.pixelRatio);for(var Ne=0;Ne<this.contourLevels[me].length;++Ne)this._contourCounts[me][Ne]&&(Te.uniforms.height=this.contourLevels[me][Ne],Oe.draw(ee.LINES,this._contourCounts[me][Ne],this._contourOffsets[me][Ne]))}Oe.unbind()}},U.pick=function(q){if(!q||q.id!==this.pickId)return null;var ee=this._field[2].shape,ue=this._pickResult,se=ee[0]*(q.value[0]+(q.value[2]>>4)/16)/255,he=Math.floor(se),me=se-he,Ce=ee[1]*(q.value[1]+(q.value[2]&15)/16)/255,Te=Math.floor(Ce),Oe=Ce-Te;he+=1,Te+=1;var Ne=ue.position;Ne[0]=Ne[1]=Ne[2]=0;for(var Le=0;Le<2;++Le)for(var be=Le?me:1-me,Ae=0;Ae<2;++Ae)for(var He=Ae?Oe:1-Oe,Ve=he+Le,ke=Te+Ae,Ge=be*He,it=0;it<3;++it)Ne[it]+=this._field[it].get(Ve,ke)*Ge;for(var et=this._pickResult.level,tt=0;tt<3;++tt)if(et[tt]=M.le(this.contourLevels[tt],Ne[tt]),et[tt]<0)this.contourLevels[tt].length>0&&(et[tt]=0);else if(et[tt]<this.contourLevels[tt].length-1){var at=this.contourLevels[tt][et[tt]],vt=this.contourLevels[tt][et[tt]+1];Math.abs(at-Ne[tt])>Math.abs(vt-Ne[tt])&&(et[tt]+=1)}for(ue.index[0]=me<.5?he:he+1,ue.index[1]=Oe<.5?Te:Te+1,ue.uv[0]=se/ee[0],ue.uv[1]=Ce/ee[1],it=0;it<3;++it)ue.dataCoordinate[it]=this._field[it].get(ue.index[0],ue.index[1]);return ue},U.padField=function(q,ee){var ue=ee.shape.slice(),se=q.shape.slice();m.assign(q.lo(1,1).hi(ue[0],ue[1]),ee),m.assign(q.lo(1).hi(ue[0],1),ee.hi(ue[0],1)),m.assign(q.lo(1,se[1]-1).hi(ue[0],1),ee.lo(0,ue[1]-1).hi(ue[0],1)),m.assign(q.lo(0,1).hi(1,ue[1]),ee.hi(1)),m.assign(q.lo(se[0]-1,1).hi(1,ue[1]),ee.lo(ue[0]-1)),q.set(0,0,ee.get(0,0)),q.set(0,se[1]-1,ee.get(0,ue[1]-1)),q.set(se[0]-1,0,ee.get(ue[0]-1,0)),q.set(se[0]-1,se[1]-1,ee.get(ue[0]-1,ue[1]-1))};function K(q,ee){return Array.isArray(q)?[ee(q[0]),ee(q[1]),ee(q[2])]:[ee(q),ee(q),ee(q)]}function J(q){return Array.isArray(q)?q.length===3?[q[0],q[1],q[2],1]:[q[0],q[1],q[2],q[3]]:[0,0,0,1]}function re(q){if(Array.isArray(q)){if(Array.isArray(q))return[J(q[0]),J(q[1]),J(q[2])];var ee=J(q);return[ee.slice(),ee.slice(),ee.slice()]}}U.update=function(q){q=q||{},this.objectOffset=q.objectOffset||this.objectOffset,this.dirty=!0,"contourWidth"in q&&(this.contourWidth=K(q.contourWidth,Number)),"showContour"in q&&(this.showContour=K(q.showContour,Boolean)),"showSurface"in q&&(this.showSurface=!!q.showSurface),"contourTint"in q&&(this.contourTint=K(q.contourTint,Boolean)),"contourColor"in q&&(this.contourColor=re(q.contourColor)),"contourProject"in q&&(this.contourProject=K(q.contourProject,function(kt){return K(kt,Boolean)})),"surfaceProject"in q&&(this.surfaceProject=q.surfaceProject),"dynamicColor"in q&&(this.dynamicColor=re(q.dynamicColor)),"dynamicTint"in q&&(this.dynamicTint=K(q.dynamicTint,Number)),"dynamicWidth"in q&&(this.dynamicWidth=K(q.dynamicWidth,Number)),"opacity"in q&&(this.opacity=q.opacity),"opacityscale"in q&&(this.opacityscale=q.opacityscale),"colorBounds"in q&&(this.colorBounds=q.colorBounds),"vertexColor"in q&&(this.vertexColor=q.vertexColor?1:0),"colormap"in q&&this._colorMap.setPixels(this.genColormap(q.colormap,this.opacityscale));var ee=q.field||q.coords&&q.coords[2]||null,ue=!1;if(ee||(this._field[2].shape[0]||this._field[2].shape[2]?ee=this._field[2].lo(1,1).hi(this._field[2].shape[0]-2,this._field[2].shape[1]-2):ee=this._field[2].hi(0,0)),"field"in q||"coords"in q){var se=(ee.shape[0]+2)*(ee.shape[1]+2);se>this._field[2].data.length&&(f.freeFloat(this._field[2].data),this._field[2].data=f.mallocFloat(r.nextPow2(se))),this._field[2]=A(this._field[2].data,[ee.shape[0]+2,ee.shape[1]+2]),this.padField(this._field[2],ee),this.shape=ee.shape.slice();for(var he=this.shape,me=0;me<2;++me)this._field[2].size>this._field[me].data.length&&(f.freeFloat(this._field[me].data),this._field[me].data=f.mallocFloat(this._field[2].size)),this._field[me]=A(this._field[me].data,[he[0]+2,he[1]+2]);if(q.coords){var Ce=q.coords;if(!Array.isArray(Ce)||Ce.length!==3)throw new Error("gl-surface: invalid coordinates for x/y");for(me=0;me<2;++me){var Te=Ce[me];for(Ae=0;Ae<2;++Ae)if(Te.shape[Ae]!==he[Ae])throw new Error("gl-surface: coords have incorrect shape");this.padField(this._field[me],Te)}}else if(q.ticks){var Oe=q.ticks;if(!Array.isArray(Oe)||Oe.length!==2)throw new Error("gl-surface: invalid ticks");for(me=0;me<2;++me){var Ne=Oe[me];if((Array.isArray(Ne)||Ne.length)&&(Ne=A(Ne)),Ne.shape[0]!==he[me])throw new Error("gl-surface: invalid tick length");var Le=A(Ne.data,he);Le.stride[me]=Ne.stride[0],Le.stride[me^1]=0,this.padField(this._field[me],Le)}}else{for(me=0;me<2;++me){var be=[0,0];be[me]=1,this._field[me]=A(this._field[me].data,[he[0]+2,he[1]+2],be,0)}this._field[0].set(0,0,0);for(var Ae=0;Ae<he[0];++Ae)this._field[0].set(Ae+1,0,Ae);for(this._field[0].set(he[0]+1,0,he[0]-1),this._field[1].set(0,0,0),Ae=0;Ae<he[1];++Ae)this._field[1].set(0,Ae+1,Ae);this._field[1].set(0,he[1]+1,he[1]-1)}var He=this._field,Ve=A(f.mallocFloat(He[2].size*3*2),[3,he[0]+2,he[1]+2,2]);for(me=0;me<3;++me)S(Ve.pick(me),He[me],"mirror");var ke=A(f.mallocFloat(He[2].size*3),[he[0]+2,he[1]+2,3]);for(me=0;me<he[0]+2;++me)for(Ae=0;Ae<he[1]+2;++Ae){var Ge=Ve.get(0,me,Ae,0),it=Ve.get(0,me,Ae,1),et=Ve.get(1,me,Ae,0),tt=Ve.get(1,me,Ae,1),at=Ve.get(2,me,Ae,0),vt=Ve.get(2,me,Ae,1),yt=et*vt-tt*at,gt=at*it-vt*Ge,Mt=Ge*tt-it*et,Ct=Math.sqrt(yt*yt+gt*gt+Mt*Mt);Ct<1e-8?(Ct=Math.max(Math.abs(yt),Math.abs(gt),Math.abs(Mt)),Ct<1e-8?(Mt=1,gt=yt=0,Ct=1):Ct=1/Ct):Ct=1/Math.sqrt(Ct),ke.set(me,Ae,0,yt*Ct),ke.set(me,Ae,1,gt*Ct),ke.set(me,Ae,2,Mt*Ct)}f.free(Ve.data);var Vt=[1/0,1/0,1/0],Je=[-1/0,-1/0,-1/0],ze=1/0,_e=-1/0,Be=(he[0]-1)*(he[1]-1)*6,De=f.mallocFloat(r.nextPow2(10*Be)),we=0,xe=0;for(me=0;me<he[0]-1;++me)e:for(Ae=0;Ae<he[1]-1;++Ae){for(var Ee=0;Ee<2;++Ee)for(var Pe=0;Pe<2;++Pe)for(var Ue=0;Ue<3;++Ue){var $e=this._field[Ue].get(1+me+Ee,1+Ae+Pe);if(isNaN($e)||!isFinite($e))continue e}for(Ue=0;Ue<6;++Ue){var qe=me+O[Ue][0],dt=Ae+O[Ue][1],bt=this._field[0].get(qe+1,dt+1),Gt=this._field[1].get(qe+1,dt+1);$e=this._field[2].get(qe+1,dt+1),yt=ke.get(qe+1,dt+1,0),gt=ke.get(qe+1,dt+1,1),Mt=ke.get(qe+1,dt+1,2),q.intensity&&(Qt=q.intensity.get(qe,dt));var Qt=q.intensity?q.intensity.get(qe,dt):$e+this.objectOffset[2];De[we++]=qe,De[we++]=dt,De[we++]=bt,De[we++]=Gt,De[we++]=$e,De[we++]=0,De[we++]=Qt,De[we++]=yt,De[we++]=gt,De[we++]=Mt,Vt[0]=Math.min(Vt[0],bt+this.objectOffset[0]),Vt[1]=Math.min(Vt[1],Gt+this.objectOffset[1]),Vt[2]=Math.min(Vt[2],$e+this.objectOffset[2]),ze=Math.min(ze,Qt),Je[0]=Math.max(Je[0],bt+this.objectOffset[0]),Je[1]=Math.max(Je[1],Gt+this.objectOffset[1]),Je[2]=Math.max(Je[2],$e+this.objectOffset[2]),_e=Math.max(_e,Qt),xe+=1}}for(q.intensityBounds&&(ze=+q.intensityBounds[0],_e=+q.intensityBounds[1]),me=6;me<we;me+=10)De[me]=(De[me]-ze)/(_e-ze);this._vertexCount=xe,this._coordinateBuffer.update(De.subarray(0,we)),f.freeFloat(De),f.free(ke.data),this.bounds=[Vt,Je],this.intensity=q.intensity||this._field[2],(this.intensityBounds[0]!==ze||this.intensityBounds[1]!==_e)&&(ue=!0),this.intensityBounds=[ze,_e]}if("levels"in q){var At=q.levels;for(Array.isArray(At[0])?At=At.slice():At=[[],[],At],me=0;me<3;++me)At[me]=At[me].slice(),At[me].sort(function(kt,jt){return kt-jt});for(me=0;me<3;++me)for(Ae=0;Ae<At[me].length;++Ae)At[me][Ae]-=this.objectOffset[me];e:for(me=0;me<3;++me){if(At[me].length!==this.contourLevels[me].length){ue=!0;break}for(Ae=0;Ae<At[me].length;++Ae)if(At[me][Ae]!==this.contourLevels[me][Ae]){ue=!0;break e}}this.contourLevels=At}if(ue){He=this._field,he=this.shape;for(var zt=[],$t=0;$t<3;++$t){var Ar=this.contourLevels[$t],ut=[],Yt=[],Kt=[0,0,0];for(me=0;me<Ar.length;++me){var mr=h(this._field[$t],Ar[me]);ut.push(zt.length/5|0),xe=0;e:for(Ae=0;Ae<mr.cells.length;++Ae){var ur=mr.cells[Ae];for(Ue=0;Ue<2;++Ue){var pt=mr.positions[ur[Ue]],st=pt[0],xt=Math.floor(st)|0,St=st-xt,Dt=pt[1],Rt=Math.floor(Dt)|0,Bt=Dt-Rt,Nt=!1;t:for(var Xt=0;Xt<3;++Xt){Kt[Xt]=0;var lr=($t+Xt+1)%3;for(Ee=0;Ee<2;++Ee){var sr=Ee?St:1-St;for(qe=Math.min(Math.max(xt+Ee,0),he[0])|0,Pe=0;Pe<2;++Pe){var dr=Pe?Bt:1-Bt;if(dt=Math.min(Math.max(Rt+Pe,0),he[1])|0,Xt<2?$e=this._field[lr].get(qe,dt):$e=(this.intensity.get(qe,dt)-this.intensityBounds[0])/(this.intensityBounds[1]-this.intensityBounds[0]),!isFinite($e)||isNaN($e)){Nt=!0;break t}var je=sr*dr;Kt[Xt]+=je*$e}}}if(!Nt)zt.push(Kt[0],Kt[1],pt[0],pt[1],Kt[2]),xe+=1;else{if(Ue>0){for(var Ye=0;Ye<5;++Ye)zt.pop();xe-=1}continue e}}}Yt.push(xe)}this._contourOffsets[$t]=ut,this._contourCounts[$t]=Yt}var It=f.mallocFloat(zt.length);for(me=0;me<zt.length;++me)It[me]=zt[me];this._contourBuffer.update(It),f.freeFloat(It)}},U.dispose=function(){this._shader.dispose(),this._vao.dispose(),this._coordinateBuffer.dispose(),this._colorMap.dispose(),this._contourBuffer.dispose(),this._contourVAO.dispose(),this._contourShader.dispose(),this._contourPickShader.dispose(),this._dynamicBuffer.dispose(),this._dynamicVAO.dispose();for(var q=0;q<3;++q)f.freeFloat(this._field[q].data)},U.highlight=function(q){var ee;if(!q){this._dynamicCounts=[0,0,0],this.dyanamicLevel=[NaN,NaN,NaN],this.highlightLevel=[-1,-1,-1];return}for(ee=0;ee<3;++ee)this.enableHighlight[ee]?this.highlightLevel[ee]=q.level[ee]:this.highlightLevel[ee]=-1;var ue;for(this.snapToData?ue=q.dataCoordinate:ue=q.position,ee=0;ee<3;++ee)ue[ee]-=this.objectOffset[ee];if(!((!this.enableDynamic[0]||ue[0]===this.dynamicLevel[0])&&(!this.enableDynamic[1]||ue[1]===this.dynamicLevel[1])&&(!this.enableDynamic[2]||ue[2]===this.dynamicLevel[2]))){for(var se=0,he=this.shape,me=f.mallocFloat(12*he[0]*he[1]),Ce=0;Ce<3;++Ce){if(!this.enableDynamic[Ce]){this.dynamicLevel[Ce]=NaN,this._dynamicCounts[Ce]=0;continue}this.dynamicLevel[Ce]=ue[Ce];var Te=(Ce+1)%3,Oe=(Ce+2)%3,Ne=this._field[Ce],Le=this._field[Te],be=this._field[Oe],Ae=h(Ne,ue[Ce]),He=Ae.cells,Ve=Ae.positions;for(this._dynamicOffsets[Ce]=se,ee=0;ee<He.length;++ee)for(var ke=He[ee],Ge=0;Ge<2;++Ge){var it=Ve[ke[Ge]],et=+it[0],tt=et|0,at=Math.min(tt+1,he[0])|0,vt=et-tt,yt=1-vt,gt=+it[1],Mt=gt|0,Ct=Math.min(Mt+1,he[1])|0,Vt=gt-Mt,Je=1-Vt,ze=yt*Je,_e=yt*Vt,Be=vt*Je,De=vt*Vt,we=ze*Le.get(tt,Mt)+_e*Le.get(tt,Ct)+Be*Le.get(at,Mt)+De*Le.get(at,Ct),xe=ze*be.get(tt,Mt)+_e*be.get(tt,Ct)+Be*be.get(at,Mt)+De*be.get(at,Ct);if(isNaN(we)||isNaN(xe)){Ge&&(se-=1);break}me[2*se+0]=we,me[2*se+1]=xe,se+=1}this._dynamicCounts[Ce]=se-this._dynamicOffsets[Ce]}this._dynamicBuffer.update(me.subarray(0,2*se)),f.freeFloat(me)}};function le(q){var ee=q.gl,ue=x(ee),se=w(ee),he=E(ee),me=i(ee),Ce=s(ee),Te=n(ee,[{buffer:Ce,size:4,stride:L,offset:0},{buffer:Ce,size:3,stride:L,offset:16},{buffer:Ce,size:3,stride:L,offset:28}]),Oe=s(ee),Ne=n(ee,[{buffer:Oe,size:4,stride:20,offset:0},{buffer:Oe,size:1,stride:20,offset:16}]),Le=s(ee),be=n(ee,[{buffer:Le,size:2,type:ee.FLOAT}]),Ae=o(ee,1,z,ee.RGBA,ee.UNSIGNED_BYTE);Ae.minFilter=ee.LINEAR,Ae.magFilter=ee.LINEAR;var He=new B(ee,[0,0],[[0,0,0],[0,0,0]],ue,se,Ce,Te,Ae,he,me,Oe,Ne,Le,be,[0,0,0]),Ve={levels:[[],[],[]]};for(var ke in q)Ve[ke]=q[ke];return Ve.colormap=Ve.colormap||"jet",He.update(Ve),He}},8931:function(v,y,t){var r=t(5050),s=t(7498),n=t(5306);v.exports=i;var o=null,f=null,u=null;function m(L){o=[L.LINEAR,L.NEAREST_MIPMAP_LINEAR,L.LINEAR_MIPMAP_NEAREST,L.LINEAR_MIPMAP_NEAREST],f=[L.NEAREST,L.LINEAR,L.NEAREST_MIPMAP_NEAREST,L.NEAREST_MIPMAP_LINEAR,L.LINEAR_MIPMAP_NEAREST,L.LINEAR_MIPMAP_LINEAR],u=[L.REPEAT,L.CLAMP_TO_EDGE,L.MIRRORED_REPEAT]}function c(L){return typeof HTMLCanvasElement<"u"&&L instanceof HTMLCanvasElement||typeof HTMLImageElement<"u"&&L instanceof HTMLImageElement||typeof HTMLVideoElement<"u"&&L instanceof HTMLVideoElement||typeof ImageData<"u"&&L instanceof ImageData}var A=function(L,b){s.muls(L,b,255)};function h(L,b,O){var _=L.gl,N=_.getParameter(_.MAX_TEXTURE_SIZE);if(b<0||b>N||O<0||O>N)throw new Error("gl-texture2d: Invalid texture size");return L._shape=[b,O],L.bind(),_.texImage2D(_.TEXTURE_2D,0,L.format,b,O,0,L.format,L.type,null),L._mipLevels=[0],L}function l(L,b,O,_,N,z){this.gl=L,this.handle=b,this.format=N,this.type=z,this._shape=[O,_],this._mipLevels=[0],this._magFilter=L.NEAREST,this._minFilter=L.NEAREST,this._wrapS=L.CLAMP_TO_EDGE,this._wrapT=L.CLAMP_TO_EDGE,this._anisoSamples=1;var B=this,U=[this._wrapS,this._wrapT];Object.defineProperties(U,[{get:function(){return B._wrapS},set:function(V){return B.wrapS=V}},{get:function(){return B._wrapT},set:function(V){return B.wrapT=V}}]),this._wrapVector=U;var F=[this._shape[0],this._shape[1]];Object.defineProperties(F,[{get:function(){return B._shape[0]},set:function(V){return B.width=V}},{get:function(){return B._shape[1]},set:function(V){return B.height=V}}]),this._shapeVector=F}var p=l.prototype;Object.defineProperties(p,{minFilter:{get:function(){return this._minFilter},set:function(L){this.bind();var b=this.gl;if(this.type===b.FLOAT&&o.indexOf(L)>=0&&(b.getExtension("OES_texture_float_linear")||(L=b.NEAREST)),f.indexOf(L)<0)throw new Error("gl-texture2d: Unknown filter mode "+L);return b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,L),this._minFilter=L}},magFilter:{get:function(){return this._magFilter},set:function(L){this.bind();var b=this.gl;if(this.type===b.FLOAT&&o.indexOf(L)>=0&&(b.getExtension("OES_texture_float_linear")||(L=b.NEAREST)),f.indexOf(L)<0)throw new Error("gl-texture2d: Unknown filter mode "+L);return b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,L),this._magFilter=L}},mipSamples:{get:function(){return this._anisoSamples},set:function(L){var b=this._anisoSamples;if(this._anisoSamples=Math.max(L,1)|0,b!==this._anisoSamples){var O=this.gl.getExtension("EXT_texture_filter_anisotropic");O&&this.gl.texParameterf(this.gl.TEXTURE_2D,O.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(L){if(this.bind(),u.indexOf(L)<0)throw new Error("gl-texture2d: Unknown wrap mode "+L);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,L),this._wrapS=L}},wrapT:{get:function(){return this._wrapT},set:function(L){if(this.bind(),u.indexOf(L)<0)throw new Error("gl-texture2d: Unknown wrap mode "+L);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,L),this._wrapT=L}},wrap:{get:function(){return this._wrapVector},set:function(L){if(Array.isArray(L)||(L=[L,L]),L.length!==2)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var b=0;b<2;++b)if(u.indexOf(L[b])<0)throw new Error("gl-texture2d: Unknown wrap mode "+L);this._wrapS=L[0],this._wrapT=L[1];var O=this.gl;return this.bind(),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_WRAP_S,this._wrapS),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_WRAP_T,this._wrapT),L}},shape:{get:function(){return this._shapeVector},set:function(L){if(!Array.isArray(L))L=[L|0,L|0];else if(L.length!==2)throw new Error("gl-texture2d: Invalid texture shape");return h(this,L[0]|0,L[1]|0),[L[0]|0,L[1]|0]}},width:{get:function(){return this._shape[0]},set:function(L){return L=L|0,h(this,L,this._shape[1]),L}},height:{get:function(){return this._shape[1]},set:function(L){return L=L|0,h(this,this._shape[0],L),L}}}),p.bind=function(L){var b=this.gl;return L!==void 0&&b.activeTexture(b.TEXTURE0+(L|0)),b.bindTexture(b.TEXTURE_2D,this.handle),L!==void 0?L|0:b.getParameter(b.ACTIVE_TEXTURE)-b.TEXTURE0},p.dispose=function(){this.gl.deleteTexture(this.handle)},p.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var L=Math.min(this._shape[0],this._shape[1]),b=0;L>0;++b,L>>>=1)this._mipLevels.indexOf(b)<0&&this._mipLevels.push(b)},p.setPixels=function(L,b,O,_){var N=this.gl;this.bind(),Array.isArray(b)?(_=O,O=b[1]|0,b=b[0]|0):(b=b||0,O=O||0),_=_||0;var z=c(L)?L:L.raw;if(z){var B=this._mipLevels.indexOf(_)<0;B?(N.texImage2D(N.TEXTURE_2D,0,this.format,this.format,this.type,z),this._mipLevels.push(_)):N.texSubImage2D(N.TEXTURE_2D,_,b,O,this.format,this.type,z)}else if(L.shape&&L.stride&&L.data){if(L.shape.length<2||b+L.shape[1]>this._shape[1]>>>_||O+L.shape[0]>this._shape[0]>>>_||b<0||O<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");S(N,b,O,_,this.format,this.type,this._mipLevels,L)}else throw new Error("gl-texture2d: Unsupported data type")};function M(L,b){return L.length===3?b[2]===1&&b[1]===L[0]*L[2]&&b[0]===L[2]:b[0]===1&&b[1]===L[0]}function S(L,b,O,_,N,z,B,U){var F=U.dtype,V=U.shape.slice();if(V.length<2||V.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var j=0,$=0,ne=M(V,U.stride.slice());if(F==="float32"?j=L.FLOAT:F==="float64"?(j=L.FLOAT,ne=!1,F="float32"):F==="uint8"?j=L.UNSIGNED_BYTE:(j=L.UNSIGNED_BYTE,ne=!1,F="uint8"),V.length===2)$=L.LUMINANCE,V=[V[0],V[1],1],U=r(U.data,V,[U.stride[0],U.stride[1],1],U.offset);else if(V.length===3){if(V[2]===1)$=L.ALPHA;else if(V[2]===2)$=L.LUMINANCE_ALPHA;else if(V[2]===3)$=L.RGB;else if(V[2]===4)$=L.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");V[2]}else throw new Error("gl-texture2d: Invalid shape for texture");if(($===L.LUMINANCE||$===L.ALPHA)&&(N===L.LUMINANCE||N===L.ALPHA)&&($=N),$!==N)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var oe=U.size,ce=B.indexOf(_)<0;if(ce&&B.push(_),j===z&&ne)U.offset===0&&U.data.length===oe?ce?L.texImage2D(L.TEXTURE_2D,_,N,V[0],V[1],0,N,z,U.data):L.texSubImage2D(L.TEXTURE_2D,_,b,O,V[0],V[1],N,z,U.data):ce?L.texImage2D(L.TEXTURE_2D,_,N,V[0],V[1],0,N,z,U.data.subarray(U.offset,U.offset+oe)):L.texSubImage2D(L.TEXTURE_2D,_,b,O,V[0],V[1],N,z,U.data.subarray(U.offset,U.offset+oe));else{var Q;z===L.FLOAT?Q=n.mallocFloat32(oe):Q=n.mallocUint8(oe);var Z=r(Q,V,[V[2],V[2]*V[0],1]);j===L.FLOAT&&z===L.UNSIGNED_BYTE?A(Z,U):s.assign(Z,U),ce?L.texImage2D(L.TEXTURE_2D,_,N,V[0],V[1],0,N,z,Q.subarray(0,oe)):L.texSubImage2D(L.TEXTURE_2D,_,b,O,V[0],V[1],N,z,Q.subarray(0,oe)),z===L.FLOAT?n.freeFloat32(Q):n.freeUint8(Q)}}function P(L){var b=L.createTexture();return L.bindTexture(L.TEXTURE_2D,b),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_MIN_FILTER,L.NEAREST),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_MAG_FILTER,L.NEAREST),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_WRAP_S,L.CLAMP_TO_EDGE),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_WRAP_T,L.CLAMP_TO_EDGE),b}function x(L,b,O,_,N){var z=L.getParameter(L.MAX_TEXTURE_SIZE);if(b<0||b>z||O<0||O>z)throw new Error("gl-texture2d: Invalid texture shape");if(N===L.FLOAT&&!L.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var B=P(L);return L.texImage2D(L.TEXTURE_2D,0,_,b,O,0,_,N,null),new l(L,B,b,O,_,N)}function E(L,b,O,_,N,z){var B=P(L);return L.texImage2D(L.TEXTURE_2D,0,N,N,z,b),new l(L,B,O,_,N,z)}function w(L,b){var O=b.dtype,_=b.shape.slice(),N=L.getParameter(L.MAX_TEXTURE_SIZE);if(_[0]<0||_[0]>N||_[1]<0||_[1]>N)throw new Error("gl-texture2d: Invalid texture size");var z=M(_,b.stride.slice()),B=0;O==="float32"?B=L.FLOAT:O==="float64"?(B=L.FLOAT,z=!1,O="float32"):O==="uint8"?B=L.UNSIGNED_BYTE:(B=L.UNSIGNED_BYTE,z=!1,O="uint8");var U=0;if(_.length===2)U=L.LUMINANCE,_=[_[0],_[1],1],b=r(b.data,_,[b.stride[0],b.stride[1],1],b.offset);else if(_.length===3)if(_[2]===1)U=L.ALPHA;else if(_[2]===2)U=L.LUMINANCE_ALPHA;else if(_[2]===3)U=L.RGB;else if(_[2]===4)U=L.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");else throw new Error("gl-texture2d: Invalid shape for texture");B===L.FLOAT&&!L.getExtension("OES_texture_float")&&(B=L.UNSIGNED_BYTE,z=!1);var F,V,j=b.size;if(z)b.offset===0&&b.data.length===j?F=b.data:F=b.data.subarray(b.offset,b.offset+j);else{var $=[_[2],_[2]*_[0],1];V=n.malloc(j,O);var ne=r(V,_,$,0);(O==="float32"||O==="float64")&&B===L.UNSIGNED_BYTE?A(ne,b):s.assign(ne,b),F=V.subarray(0,j)}var oe=P(L);return L.texImage2D(L.TEXTURE_2D,0,U,_[0],_[1],0,U,B,F),z||n.free(V),new l(L,oe,_[0],_[1],U,B)}function i(L){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(o||m(L),typeof arguments[1]=="number")return x(L,arguments[1],arguments[2],arguments[3]||L.RGBA,arguments[4]||L.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return x(L,arguments[1][0]|0,arguments[1][1]|0,arguments[2]||L.RGBA,arguments[3]||L.UNSIGNED_BYTE);if(typeof arguments[1]=="object"){var b=arguments[1],O=c(b)?b:b.raw;if(O)return E(L,O,b.width|0,b.height|0,arguments[2]||L.RGBA,arguments[3]||L.UNSIGNED_BYTE);if(b.shape&&b.data&&b.stride)return w(L,b)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")}},3056:function(v){function y(t,r,s){r?r.bind():t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null);var n=t.getParameter(t.MAX_VERTEX_ATTRIBS)|0;if(s){if(s.length>n)throw new Error("gl-vao: Too many vertex attributes");for(var o=0;o<s.length;++o){var f=s[o];if(f.buffer){var u=f.buffer,m=f.size||4,c=f.type||t.FLOAT,A=!!f.normalized,h=f.stride||0,l=f.offset||0;u.bind(),t.enableVertexAttribArray(o),t.vertexAttribPointer(o,m,c,A,h,l)}else{if(typeof f=="number")t.vertexAttrib1f(o,f);else if(f.length===1)t.vertexAttrib1f(o,f[0]);else if(f.length===2)t.vertexAttrib2f(o,f[0],f[1]);else if(f.length===3)t.vertexAttrib3f(o,f[0],f[1],f[2]);else if(f.length===4)t.vertexAttrib4f(o,f[0],f[1],f[2],f[3]);else throw new Error("gl-vao: Invalid vertex attribute");t.disableVertexAttribArray(o)}}for(;o<n;++o)t.disableVertexAttribArray(o)}else{t.bindBuffer(t.ARRAY_BUFFER,null);for(var o=0;o<n;++o)t.disableVertexAttribArray(o)}}v.exports=y},7220:function(v,y,t){var r=t(3056);function s(o){this.gl=o,this._elements=null,this._attributes=null,this._elementsType=o.UNSIGNED_SHORT}s.prototype.bind=function(){r(this.gl,this._elements,this._attributes)},s.prototype.update=function(o,f,u){this._elements=f,this._attributes=o,this._elementsType=u||this.gl.UNSIGNED_SHORT},s.prototype.dispose=function(){},s.prototype.unbind=function(){},s.prototype.draw=function(o,f,u){u=u||0;var m=this.gl;this._elements?m.drawElements(o,f,this._elementsType,u):m.drawArrays(o,u,f)};function n(o){return new s(o)}v.exports=n},3778:function(v,y,t){var r=t(3056);function s(f,u,m,c,A,h){this.location=f,this.dimension=u,this.a=m,this.b=c,this.c=A,this.d=h}s.prototype.bind=function(f){switch(this.dimension){case 1:f.vertexAttrib1f(this.location,this.a);break;case 2:f.vertexAttrib2f(this.location,this.a,this.b);break;case 3:f.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:f.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d);break}};function n(f,u,m){this.gl=f,this._ext=u,this.handle=m,this._attribs=[],this._useElements=!1,this._elementsType=f.UNSIGNED_SHORT}n.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var f=0;f<this._attribs.length;++f)this._attribs[f].bind(this.gl)},n.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},n.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},n.prototype.update=function(f,u,m){if(this.bind(),r(this.gl,u,f),this.unbind(),this._attribs.length=0,f)for(var c=0;c<f.length;++c){var A=f[c];typeof A=="number"?this._attribs.push(new s(c,1,A)):Array.isArray(A)&&this._attribs.push(new s(c,A.length,A[0],A[1],A[2],A[3]))}this._useElements=!!u,this._elementsType=m||this.gl.UNSIGNED_SHORT},n.prototype.draw=function(f,u,m){m=m||0;var c=this.gl;this._useElements?c.drawElements(f,u,this._elementsType,m):c.drawArrays(f,m,u)};function o(f,u){return new n(f,u,u.createVertexArrayOES())}v.exports=o},2944:function(v,y,t){var r=t(3778),s=t(7220);function n(f){this.bindVertexArrayOES=f.bindVertexArray.bind(f),this.createVertexArrayOES=f.createVertexArray.bind(f),this.deleteVertexArrayOES=f.deleteVertexArray.bind(f)}function o(f,u,m,c){var A=f.createVertexArray?new n(f):f.getExtension("OES_vertex_array_object"),h;return A?h=r(f,A):h=s(f),h.update(u,m,c),h}v.exports=o},2598:function(v){v.exports=y;function y(t,r,s){return t[0]=r[0]+s[0],t[1]=r[1]+s[1],t[2]=r[2]+s[2],t}},5879:function(v,y,t){v.exports=o;var r=t(5415),s=t(899),n=t(9305);function o(f,u){var m=r(f[0],f[1],f[2]),c=r(u[0],u[1],u[2]);s(m,m),s(c,c);var A=n(m,c);return A>1?0:Math.acos(A)}},8827:function(v){v.exports=y;function y(t,r){return t[0]=Math.ceil(r[0]),t[1]=Math.ceil(r[1]),t[2]=Math.ceil(r[2]),t}},7622:function(v){v.exports=y;function y(t){var r=new Float32Array(3);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r}},8782:function(v){v.exports=y;function y(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t}},8501:function(v){v.exports=y;function y(){var t=new Float32Array(3);return t[0]=0,t[1]=0,t[2]=0,t}},903:function(v){v.exports=y;function y(t,r,s){var n=r[0],o=r[1],f=r[2],u=s[0],m=s[1],c=s[2];return t[0]=o*c-f*m,t[1]=f*u-n*c,t[2]=n*m-o*u,t}},5981:function(v,y,t){v.exports=t(8288)},8288:function(v){v.exports=y;function y(t,r){var s=r[0]-t[0],n=r[1]-t[1],o=r[2]-t[2];return Math.sqrt(s*s+n*n+o*o)}},8629:function(v,y,t){v.exports=t(7979)},7979:function(v){v.exports=y;function y(t,r,s){return t[0]=r[0]/s[0],t[1]=r[1]/s[1],t[2]=r[2]/s[2],t}},9305:function(v){v.exports=y;function y(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]}},154:function(v){v.exports=1e-6},4932:function(v,y,t){v.exports=s;var r=t(154);function s(n,o){var f=n[0],u=n[1],m=n[2],c=o[0],A=o[1],h=o[2];return Math.abs(f-c)<=r*Math.max(1,Math.abs(f),Math.abs(c))&&Math.abs(u-A)<=r*Math.max(1,Math.abs(u),Math.abs(A))&&Math.abs(m-h)<=r*Math.max(1,Math.abs(m),Math.abs(h))}},5777:function(v){v.exports=y;function y(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]}},3306:function(v){v.exports=y;function y(t,r){return t[0]=Math.floor(r[0]),t[1]=Math.floor(r[1]),t[2]=Math.floor(r[2]),t}},7447:function(v,y,t){v.exports=s;var r=t(8501)();function s(n,o,f,u,m,c){var A,h;for(o||(o=3),f||(f=0),u?h=Math.min(u*o+f,n.length):h=n.length,A=f;A<h;A+=o)r[0]=n[A],r[1]=n[A+1],r[2]=n[A+2],m(r,r,c),n[A]=r[0],n[A+1]=r[1],n[A+2]=r[2];return n}},5415:function(v){v.exports=y;function y(t,r,s){var n=new Float32Array(3);return n[0]=t,n[1]=r,n[2]=s,n}},2858:function(v,y,t){v.exports={EPSILON:t(154),create:t(8501),clone:t(7622),angle:t(5879),fromValues:t(5415),copy:t(8782),set:t(831),equals:t(4932),exactEquals:t(5777),add:t(2598),subtract:t(911),sub:t(8921),multiply:t(105),mul:t(5733),divide:t(7979),div:t(8629),min:t(3605),max:t(1716),floor:t(3306),ceil:t(8827),round:t(1624),scale:t(5685),scaleAndAdd:t(6722),distance:t(8288),dist:t(5981),squaredDistance:t(6403),sqrDist:t(5294),length:t(4693),len:t(1468),squaredLength:t(4337),sqrLen:t(3303),negate:t(435),inverse:t(2073),normalize:t(899),dot:t(9305),cross:t(903),lerp:t(1868),random:t(6660),transformMat4:t(3255),transformMat3:t(9908),transformQuat:t(6568),rotateX:t(392),rotateY:t(3222),rotateZ:t(3388),forEach:t(7447)}},2073:function(v){v.exports=y;function y(t,r){return t[0]=1/r[0],t[1]=1/r[1],t[2]=1/r[2],t}},1468:function(v,y,t){v.exports=t(4693)},4693:function(v){v.exports=y;function y(t){var r=t[0],s=t[1],n=t[2];return Math.sqrt(r*r+s*s+n*n)}},1868:function(v){v.exports=y;function y(t,r,s,n){var o=r[0],f=r[1],u=r[2];return t[0]=o+n*(s[0]-o),t[1]=f+n*(s[1]-f),t[2]=u+n*(s[2]-u),t}},1716:function(v){v.exports=y;function y(t,r,s){return t[0]=Math.max(r[0],s[0]),t[1]=Math.max(r[1],s[1]),t[2]=Math.max(r[2],s[2]),t}},3605:function(v){v.exports=y;function y(t,r,s){return t[0]=Math.min(r[0],s[0]),t[1]=Math.min(r[1],s[1]),t[2]=Math.min(r[2],s[2]),t}},5733:function(v,y,t){v.exports=t(105)},105:function(v){v.exports=y;function y(t,r,s){return t[0]=r[0]*s[0],t[1]=r[1]*s[1],t[2]=r[2]*s[2],t}},435:function(v){v.exports=y;function y(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t}},899:function(v){v.exports=y;function y(t,r){var s=r[0],n=r[1],o=r[2],f=s*s+n*n+o*o;return f>0&&(f=1/Math.sqrt(f),t[0]=r[0]*f,t[1]=r[1]*f,t[2]=r[2]*f),t}},6660:function(v){v.exports=y;function y(t,r){r=r||1;var s=Math.random()*2*Math.PI,n=Math.random()*2-1,o=Math.sqrt(1-n*n)*r;return t[0]=Math.cos(s)*o,t[1]=Math.sin(s)*o,t[2]=n*r,t}},392:function(v){v.exports=y;function y(t,r,s,n){var o=s[1],f=s[2],u=r[1]-o,m=r[2]-f,c=Math.sin(n),A=Math.cos(n);return t[0]=r[0],t[1]=o+u*A-m*c,t[2]=f+u*c+m*A,t}},3222:function(v){v.exports=y;function y(t,r,s,n){var o=s[0],f=s[2],u=r[0]-o,m=r[2]-f,c=Math.sin(n),A=Math.cos(n);return t[0]=o+m*c+u*A,t[1]=r[1],t[2]=f+m*A-u*c,t}},3388:function(v){v.exports=y;function y(t,r,s,n){var o=s[0],f=s[1],u=r[0]-o,m=r[1]-f,c=Math.sin(n),A=Math.cos(n);return t[0]=o+u*A-m*c,t[1]=f+u*c+m*A,t[2]=r[2],t}},1624:function(v){v.exports=y;function y(t,r){return t[0]=Math.round(r[0]),t[1]=Math.round(r[1]),t[2]=Math.round(r[2]),t}},5685:function(v){v.exports=y;function y(t,r,s){return t[0]=r[0]*s,t[1]=r[1]*s,t[2]=r[2]*s,t}},6722:function(v){v.exports=y;function y(t,r,s,n){return t[0]=r[0]+s[0]*n,t[1]=r[1]+s[1]*n,t[2]=r[2]+s[2]*n,t}},831:function(v){v.exports=y;function y(t,r,s,n){return t[0]=r,t[1]=s,t[2]=n,t}},5294:function(v,y,t){v.exports=t(6403)},3303:function(v,y,t){v.exports=t(4337)},6403:function(v){v.exports=y;function y(t,r){var s=r[0]-t[0],n=r[1]-t[1],o=r[2]-t[2];return s*s+n*n+o*o}},4337:function(v){v.exports=y;function y(t){var r=t[0],s=t[1],n=t[2];return r*r+s*s+n*n}},8921:function(v,y,t){v.exports=t(911)},911:function(v){v.exports=y;function y(t,r,s){return t[0]=r[0]-s[0],t[1]=r[1]-s[1],t[2]=r[2]-s[2],t}},9908:function(v){v.exports=y;function y(t,r,s){var n=r[0],o=r[1],f=r[2];return t[0]=n*s[0]+o*s[3]+f*s[6],t[1]=n*s[1]+o*s[4]+f*s[7],t[2]=n*s[2]+o*s[5]+f*s[8],t}},3255:function(v){v.exports=y;function y(t,r,s){var n=r[0],o=r[1],f=r[2],u=s[3]*n+s[7]*o+s[11]*f+s[15];return u=u||1,t[0]=(s[0]*n+s[4]*o+s[8]*f+s[12])/u,t[1]=(s[1]*n+s[5]*o+s[9]*f+s[13])/u,t[2]=(s[2]*n+s[6]*o+s[10]*f+s[14])/u,t}},6568:function(v){v.exports=y;function y(t,r,s){var n=r[0],o=r[1],f=r[2],u=s[0],m=s[1],c=s[2],A=s[3],h=A*n+m*f-c*o,l=A*o+c*n-u*f,p=A*f+u*o-m*n,M=-u*n-m*o-c*f;return t[0]=h*A+M*-u+l*-c-p*-m,t[1]=l*A+M*-m+p*-u-h*-c,t[2]=p*A+M*-c+h*-m-l*-u,t}},3433:function(v){v.exports=y;function y(t,r,s){return t[0]=r[0]+s[0],t[1]=r[1]+s[1],t[2]=r[2]+s[2],t[3]=r[3]+s[3],t}},1413:function(v){v.exports=y;function y(t){var r=new Float32Array(4);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r}},3470:function(v){v.exports=y;function y(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t}},5313:function(v){v.exports=y;function y(){var t=new Float32Array(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}},5446:function(v){v.exports=y;function y(t,r){var s=r[0]-t[0],n=r[1]-t[1],o=r[2]-t[2],f=r[3]-t[3];return Math.sqrt(s*s+n*n+o*o+f*f)}},205:function(v){v.exports=y;function y(t,r,s){return t[0]=r[0]/s[0],t[1]=r[1]/s[1],t[2]=r[2]/s[2],t[3]=r[3]/s[3],t}},4242:function(v){v.exports=y;function y(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]+t[3]*r[3]}},5680:function(v){v.exports=y;function y(t,r,s,n){var o=new Float32Array(4);return o[0]=t,o[1]=r,o[2]=s,o[3]=n,o}},4020:function(v,y,t){v.exports={create:t(5313),clone:t(1413),fromValues:t(5680),copy:t(3470),set:t(6453),add:t(3433),subtract:t(2705),multiply:t(746),divide:t(205),min:t(2170),max:t(3030),scale:t(5510),scaleAndAdd:t(4224),distance:t(5446),squaredDistance:t(1542),length:t(8177),squaredLength:t(9037),negate:t(6459),inverse:t(8057),normalize:t(381),dot:t(4242),lerp:t(8746),random:t(3770),transformMat4:t(6342),transformQuat:t(5022)}},8057:function(v){v.exports=y;function y(t,r){return t[0]=1/r[0],t[1]=1/r[1],t[2]=1/r[2],t[3]=1/r[3],t}},8177:function(v){v.exports=y;function y(t){var r=t[0],s=t[1],n=t[2],o=t[3];return Math.sqrt(r*r+s*s+n*n+o*o)}},8746:function(v){v.exports=y;function y(t,r,s,n){var o=r[0],f=r[1],u=r[2],m=r[3];return t[0]=o+n*(s[0]-o),t[1]=f+n*(s[1]-f),t[2]=u+n*(s[2]-u),t[3]=m+n*(s[3]-m),t}},3030:function(v){v.exports=y;function y(t,r,s){return t[0]=Math.max(r[0],s[0]),t[1]=Math.max(r[1],s[1]),t[2]=Math.max(r[2],s[2]),t[3]=Math.max(r[3],s[3]),t}},2170:function(v){v.exports=y;function y(t,r,s){return t[0]=Math.min(r[0],s[0]),t[1]=Math.min(r[1],s[1]),t[2]=Math.min(r[2],s[2]),t[3]=Math.min(r[3],s[3]),t}},746:function(v){v.exports=y;function y(t,r,s){return t[0]=r[0]*s[0],t[1]=r[1]*s[1],t[2]=r[2]*s[2],t[3]=r[3]*s[3],t}},6459:function(v){v.exports=y;function y(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t[3]=-r[3],t}},381:function(v){v.exports=y;function y(t,r){var s=r[0],n=r[1],o=r[2],f=r[3],u=s*s+n*n+o*o+f*f;return u>0&&(u=1/Math.sqrt(u),t[0]=s*u,t[1]=n*u,t[2]=o*u,t[3]=f*u),t}},3770:function(v,y,t){var r=t(381),s=t(5510);v.exports=n;function n(o,f){return f=f||1,o[0]=Math.random(),o[1]=Math.random(),o[2]=Math.random(),o[3]=Math.random(),r(o,o),s(o,o,f),o}},5510:function(v){v.exports=y;function y(t,r,s){return t[0]=r[0]*s,t[1]=r[1]*s,t[2]=r[2]*s,t[3]=r[3]*s,t}},4224:function(v){v.exports=y;function y(t,r,s,n){return t[0]=r[0]+s[0]*n,t[1]=r[1]+s[1]*n,t[2]=r[2]+s[2]*n,t[3]=r[3]+s[3]*n,t}},6453:function(v){v.exports=y;function y(t,r,s,n,o){return t[0]=r,t[1]=s,t[2]=n,t[3]=o,t}},1542:function(v){v.exports=y;function y(t,r){var s=r[0]-t[0],n=r[1]-t[1],o=r[2]-t[2],f=r[3]-t[3];return s*s+n*n+o*o+f*f}},9037:function(v){v.exports=y;function y(t){var r=t[0],s=t[1],n=t[2],o=t[3];return r*r+s*s+n*n+o*o}},2705:function(v){v.exports=y;function y(t,r,s){return t[0]=r[0]-s[0],t[1]=r[1]-s[1],t[2]=r[2]-s[2],t[3]=r[3]-s[3],t}},6342:function(v){v.exports=y;function y(t,r,s){var n=r[0],o=r[1],f=r[2],u=r[3];return t[0]=s[0]*n+s[4]*o+s[8]*f+s[12]*u,t[1]=s[1]*n+s[5]*o+s[9]*f+s[13]*u,t[2]=s[2]*n+s[6]*o+s[10]*f+s[14]*u,t[3]=s[3]*n+s[7]*o+s[11]*f+s[15]*u,t}},5022:function(v){v.exports=y;function y(t,r,s){var n=r[0],o=r[1],f=r[2],u=s[0],m=s[1],c=s[2],A=s[3],h=A*n+m*f-c*o,l=A*o+c*n-u*f,p=A*f+u*o-m*n,M=-u*n-m*o-c*f;return t[0]=h*A+M*-u+l*-c-p*-m,t[1]=l*A+M*-m+p*-u-h*-c,t[2]=p*A+M*-c+h*-m-l*-u,t[3]=r[3],t}},9365:function(v,y,t){var r=t(8096),s=t(7896);v.exports=n;function n(o){for(var f=Array.isArray(o)?o:r(o),u=0;u<f.length;u++){var m=f[u];if(m.type==="preprocessor"){var c=m.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(c&&c[2]){var A=c[1],h=c[2];return(A?s(h):h).trim()}}}}},3193:function(v,y,t){v.exports=b;var r=t(399),s=t(9746),n=t(9525),o=t(9458),f=t(3585),u=999,m=9999,c=0,A=1,h=2,l=3,p=4,M=5,S=6,P=7,x=8,E=9,w=10,i=11,L=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"];function b(O){var _=0,N=0,z=u,B,U,F=[],V=[],j=1,$=0,ne=0,oe=!1,ce=!1,Q="",Z;O=O||{};var K=n,J=r;O.version==="300 es"&&(K=f,J=o);for(var re={},le={},_=0;_<K.length;_++)re[K[_]]=!0;for(var _=0;_<J.length;_++)le[J[_]]=!0;return function(Ve){return V=[],Ve!==null?ee(Ve):ue()};function q(Ve){Ve.length&&V.push({type:L[z],data:Ve,position:ne,line:j,column:$})}function ee(Ve){_=0,Ve.toString&&(Ve=Ve.toString()),Q+=Ve.replace(/\r\n/g,`
`),Z=Q.length;for(var ke;B=Q[_],_<Z;){switch(ke=_,z){case c:_=Te();break;case A:_=Ce();break;case h:_=me();break;case l:_=Oe();break;case p:_=be();break;case i:_=Le();break;case M:_=Ae();break;case m:_=He();break;case E:_=he();break;case u:_=se();break}if(ke!==_)switch(Q[ke]){case`
`:$=0,++j;break;default:++$;break}}return N+=_,Q=Q.slice(_),V}function ue(Ve){return F.length&&q(F.join("")),z=w,q("(eof)"),V}function se(){return F=F.length?[]:F,U==="/"&&B==="*"?(ne=N+_-1,z=c,U=B,_+1):U==="/"&&B==="/"?(ne=N+_-1,z=A,U=B,_+1):B==="#"?(z=h,ne=N+_,_):/\s/.test(B)?(z=E,ne=N+_,_):(oe=/\d/.test(B),ce=/[^\w_]/.test(B),ne=N+_,z=oe?p:ce?l:m,_)}function he(){return/[^\s]/g.test(B)?(q(F.join("")),z=u,_):(F.push(B),U=B,_+1)}function me(){return(B==="\r"||B===`
`)&&U!=="\\"?(q(F.join("")),z=u,_):(F.push(B),U=B,_+1)}function Ce(){return me()}function Te(){return B==="/"&&U==="*"?(F.push(B),q(F.join("")),z=u,_+1):(F.push(B),U=B,_+1)}function Oe(){if(U==="."&&/\d/.test(B))return z=M,_;if(U==="/"&&B==="*")return z=c,_;if(U==="/"&&B==="/")return z=A,_;if(B==="."&&F.length){for(;Ne(F););return z=M,_}if(B===";"||B===")"||B==="("){if(F.length)for(;Ne(F););return q(B),z=u,_+1}var Ve=F.length===2&&B!=="=";if(/[\w_\d\s]/.test(B)||Ve){for(;Ne(F););return z=u,_}return F.push(B),U=B,_+1}function Ne(Ve){var ke=0,Ge,it;do{if(Ge=s.indexOf(Ve.slice(0,Ve.length+ke).join("")),it=s[Ge],Ge===-1){if(ke--+Ve.length>0)continue;it=Ve.slice(0,1).join("")}return q(it),ne+=it.length,F=F.slice(it.length),F.length}while(!0)}function Le(){return/[^a-fA-F0-9]/.test(B)?(q(F.join("")),z=u,_):(F.push(B),U=B,_+1)}function be(){return B==="."||/[eE]/.test(B)?(F.push(B),z=M,U=B,_+1):B==="x"&&F.length===1&&F[0]==="0"?(z=i,F.push(B),U=B,_+1):/[^\d]/.test(B)?(q(F.join("")),z=u,_):(F.push(B),U=B,_+1)}function Ae(){return B==="f"&&(F.push(B),U=B,_+=1),/[eE]/.test(B)||(B==="-"||B==="+")&&/[eE]/.test(U)?(F.push(B),U=B,_+1):/[^\d]/.test(B)?(q(F.join("")),z=u,_):(F.push(B),U=B,_+1)}function He(){if(/[^\d\w_]/.test(B)){var Ve=F.join("");return le[Ve]?z=x:re[Ve]?z=P:z=S,q(F.join("")),z=u,_}return F.push(B),U=B,_+1}}},3585:function(v,y,t){var r=t(9525);r=r.slice().filter(function(s){return!/^(gl\_|texture)/.test(s)}),v.exports=r.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},9525:function(v){v.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},9458:function(v,y,t){var r=t(399);v.exports=r.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},399:function(v){v.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},9746:function(v){v.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},8096:function(v,y,t){var r=t(3193);v.exports=s;function s(n,o){var f=r(o),u=[];return u=u.concat(f(n)),u=u.concat(f(null)),u}},6832:function(v){v.exports=function(y){typeof y=="string"&&(y=[y]);for(var t=[].slice.call(arguments,1),r=[],s=0;s<y.length-1;s++)r.push(y[s],t[s]||"");return r.push(y[s]),r.join("")}},5233:function(v,y,t){var r=t(4846);function s(){var n=!1;try{var o=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("test",null,o),window.removeEventListener("test",null,o)}catch{n=!1}return n}v.exports=r&&s()},2183:function(v,y,t){v.exports=l;var r=t(417),s=t(8211).H;function n(p,M,S){this.vertices=p,this.adjacent=M,this.boundary=S,this.lastVisited=-1}n.prototype.flip=function(){var p=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=p;var M=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=M};function o(p,M,S){this.vertices=p,this.cell=M,this.index=S}function f(p,M){return s(p.vertices,M.vertices)}function u(p){return function(){var M=this.tuple;return p.apply(this,M)}}function m(p){var M=r[p+1];return M||(M=r),u(M)}var c=[];function A(p,M,S){this.dimension=p,this.vertices=M,this.simplices=S,this.interior=S.filter(function(E){return!E.boundary}),this.tuple=new Array(p+1);for(var P=0;P<=p;++P)this.tuple[P]=this.vertices[P];var x=c[p];x||(x=c[p]=m(p)),this.orient=x}var h=A.prototype;h.handleBoundaryDegeneracy=function(p,M){var S=this.dimension,P=this.vertices.length-1,x=this.tuple,E=this.vertices,w=[p];for(p.lastVisited=-P;w.length>0;){p=w.pop();for(var i=p.adjacent,L=0;L<=S;++L){var b=i[L];if(!(!b.boundary||b.lastVisited<=-P)){for(var O=b.vertices,_=0;_<=S;++_){var N=O[_];N<0?x[_]=M:x[_]=E[N]}var z=this.orient();if(z>0)return b;b.lastVisited=-P,z===0&&w.push(b)}}}return null},h.walk=function(p,M){var S=this.vertices.length-1,P=this.dimension,x=this.vertices,E=this.tuple,w=M?this.interior.length*Math.random()|0:this.interior.length-1,i=this.interior[w];e:for(;!i.boundary;){for(var L=i.vertices,b=i.adjacent,O=0;O<=P;++O)E[O]=x[L[O]];i.lastVisited=S;for(var O=0;O<=P;++O){var _=b[O];if(!(_.lastVisited>=S)){var N=E[O];E[O]=p;var z=this.orient();if(E[O]=N,z<0){i=_;continue e}else _.boundary?_.lastVisited=-S:_.lastVisited=S}}return}return i},h.addPeaks=function(p,M){var S=this.vertices.length-1,P=this.dimension,x=this.vertices,E=this.tuple,w=this.interior,i=this.simplices,L=[M];M.lastVisited=S,M.vertices[M.vertices.indexOf(-1)]=S,M.boundary=!1,w.push(M);for(var b=[];L.length>0;){var M=L.pop(),O=M.vertices,_=M.adjacent,N=O.indexOf(S);if(!(N<0)){for(var z=0;z<=P;++z)if(z!==N){var B=_[z];if(!(!B.boundary||B.lastVisited>=S)){var U=B.vertices;if(B.lastVisited!==-S){for(var F=0,V=0;V<=P;++V)U[V]<0?(F=V,E[V]=p):E[V]=x[U[V]];var j=this.orient();if(j>0){U[F]=S,B.boundary=!1,w.push(B),L.push(B),B.lastVisited=S;continue}else B.lastVisited=-S}var $=B.adjacent,ne=O.slice(),oe=_.slice(),ce=new n(ne,oe,!0);i.push(ce);var Q=$.indexOf(M);if(!(Q<0)){$[Q]=ce,oe[N]=B,ne[z]=-1,oe[z]=M,_[z]=ce,ce.flip();for(var V=0;V<=P;++V){var Z=ne[V];if(!(Z<0||Z===S)){for(var K=new Array(P-1),J=0,re=0;re<=P;++re){var le=ne[re];le<0||re===V||(K[J++]=le)}b.push(new o(K,ce,V))}}}}}}}b.sort(f);for(var z=0;z+1<b.length;z+=2){var q=b[z],ee=b[z+1],ue=q.index,se=ee.index;ue<0||se<0||(q.cell.adjacent[q.index]=ee.cell,ee.cell.adjacent[ee.index]=q.cell)}},h.insert=function(p,M){var S=this.vertices;S.push(p);var P=this.walk(p,M);if(P){for(var x=this.dimension,E=this.tuple,w=0;w<=x;++w){var i=P.vertices[w];i<0?E[w]=p:E[w]=S[i]}var L=this.orient(E);L<0||L===0&&(P=this.handleBoundaryDegeneracy(P,p),!P)||this.addPeaks(p,P)}},h.boundary=function(){for(var p=this.dimension,M=[],S=this.simplices,P=S.length,x=0;x<P;++x){var E=S[x];if(E.boundary){for(var w=new Array(p),i=E.vertices,L=0,b=0,O=0;O<=p;++O)i[O]>=0?w[L++]=i[O]:b=O&1;if(b===(p&1)){var _=w[0];w[0]=w[1],w[1]=_}M.push(w)}}return M};function l(p,M){var S=p.length;if(S===0)throw new Error("Must have at least d+1 points");var P=p[0].length;if(S<=P)throw new Error("Must input at least d+1 points");var x=p.slice(0,P+1),E=r.apply(void 0,x);if(E===0)throw new Error("Input not in general position");for(var w=new Array(P+1),i=0;i<=P;++i)w[i]=i;E<0&&(w[0]=1,w[1]=0);for(var L=new n(w,new Array(P+1),!1),b=L.adjacent,O=new Array(P+2),i=0;i<=P;++i){for(var _=w.slice(),N=0;N<=P;++N)N===i&&(_[N]=-1);var z=_[0];_[0]=_[1],_[1]=z;var B=new n(_,new Array(P+1),!0);b[i]=B,O[i]=B}O[P+1]=L;for(var i=0;i<=P;++i)for(var _=b[i].vertices,U=b[i].adjacent,N=0;N<=P;++N){var F=_[N];if(F<0){U[N]=L;continue}for(var V=0;V<=P;++V)b[V].vertices.indexOf(F)<0&&(U[N]=b[V])}for(var j=new A(P,x,O),$=!!M,i=P+1;i<S;++i)j.insert(p[i],$);return j.boundary()}},9014:function(v,y,t){var r=t(5070),s=0,n=1,o=2;v.exports=L;function f(b,O,_,N,z){this.mid=b,this.left=O,this.right=_,this.leftPoints=N,this.rightPoints=z,this.count=(O?O.count:0)+(_?_.count:0)+N.length}var u=f.prototype;function m(b,O){b.mid=O.mid,b.left=O.left,b.right=O.right,b.leftPoints=O.leftPoints,b.rightPoints=O.rightPoints,b.count=O.count}function c(b,O){var _=E(O);b.mid=_.mid,b.left=_.left,b.right=_.right,b.leftPoints=_.leftPoints,b.rightPoints=_.rightPoints,b.count=_.count}function A(b,O){var _=b.intervals([]);_.push(O),c(b,_)}function h(b,O){var _=b.intervals([]),N=_.indexOf(O);return N<0?s:(_.splice(N,1),c(b,_),n)}u.intervals=function(b){return b.push.apply(b,this.leftPoints),this.left&&this.left.intervals(b),this.right&&this.right.intervals(b),b},u.insert=function(b){var O=this.count-this.leftPoints.length;if(this.count+=1,b[1]<this.mid)this.left?4*(this.left.count+1)>3*(O+1)?A(this,b):this.left.insert(b):this.left=E([b]);else if(b[0]>this.mid)this.right?4*(this.right.count+1)>3*(O+1)?A(this,b):this.right.insert(b):this.right=E([b]);else{var _=r.ge(this.leftPoints,b,P),N=r.ge(this.rightPoints,b,x);this.leftPoints.splice(_,0,b),this.rightPoints.splice(N,0,b)}},u.remove=function(b){var O=this.count-this.leftPoints;if(b[1]<this.mid){if(!this.left)return s;var _=this.right?this.right.count:0;if(4*_>3*(O-1))return h(this,b);var N=this.left.remove(b);return N===o?(this.left=null,this.count-=1,n):(N===n&&(this.count-=1),N)}else if(b[0]>this.mid){if(!this.right)return s;var z=this.left?this.left.count:0;if(4*z>3*(O-1))return h(this,b);var N=this.right.remove(b);return N===o?(this.right=null,this.count-=1,n):(N===n&&(this.count-=1),N)}else{if(this.count===1)return this.leftPoints[0]===b?o:s;if(this.leftPoints.length===1&&this.leftPoints[0]===b){if(this.left&&this.right){for(var B=this,U=this.left;U.right;)B=U,U=U.right;if(B===this)U.right=this.right;else{var F=this.left,N=this.right;B.count-=U.count,B.right=U.left,U.left=F,U.right=N}m(this,U),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?m(this,this.left):m(this,this.right);return n}for(var F=r.ge(this.leftPoints,b,P);F<this.leftPoints.length&&this.leftPoints[F][0]===b[0];++F)if(this.leftPoints[F]===b){this.count-=1,this.leftPoints.splice(F,1);for(var N=r.ge(this.rightPoints,b,x);N<this.rightPoints.length&&this.rightPoints[N][1]===b[1];++N)if(this.rightPoints[N]===b)return this.rightPoints.splice(N,1),n}return s}};function l(b,O,_){for(var N=0;N<b.length&&b[N][0]<=O;++N){var z=_(b[N]);if(z)return z}}function p(b,O,_){for(var N=b.length-1;N>=0&&b[N][1]>=O;--N){var z=_(b[N]);if(z)return z}}function M(b,O){for(var _=0;_<b.length;++_){var N=O(b[_]);if(N)return N}}u.queryPoint=function(b,O){if(b<this.mid){if(this.left){var _=this.left.queryPoint(b,O);if(_)return _}return l(this.leftPoints,b,O)}else if(b>this.mid){if(this.right){var _=this.right.queryPoint(b,O);if(_)return _}return p(this.rightPoints,b,O)}else return M(this.leftPoints,O)},u.queryInterval=function(b,O,_){if(b<this.mid&&this.left){var N=this.left.queryInterval(b,O,_);if(N)return N}if(O>this.mid&&this.right){var N=this.right.queryInterval(b,O,_);if(N)return N}return O<this.mid?l(this.leftPoints,O,_):b>this.mid?p(this.rightPoints,b,_):M(this.leftPoints,_)};function S(b,O){return b-O}function P(b,O){var _=b[0]-O[0];return _||b[1]-O[1]}function x(b,O){var _=b[1]-O[1];return _||b[0]-O[0]}function E(b){if(b.length===0)return null;for(var O=[],_=0;_<b.length;++_)O.push(b[_][0],b[_][1]);O.sort(S);for(var N=O[O.length>>1],z=[],B=[],U=[],_=0;_<b.length;++_){var F=b[_];F[1]<N?z.push(F):N<F[0]?B.push(F):U.push(F)}var V=U,j=U.slice();return V.sort(P),j.sort(x),new f(N,E(z),E(B),V,j)}function w(b){this.root=b}var i=w.prototype;i.insert=function(b){this.root?this.root.insert(b):this.root=new f(b[0],null,null,[b],[b])},i.remove=function(b){if(this.root){var O=this.root.remove(b);return O===o&&(this.root=null),O!==s}return!1},i.queryPoint=function(b,O){if(this.root)return this.root.queryPoint(b,O)},i.queryInterval=function(b,O,_){if(b<=O&&this.root)return this.root.queryInterval(b,O,_)},Object.defineProperty(i,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(i,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});function L(b){return!b||b.length===0?new w(null):new w(E(b))}},9560:function(v){function y(t){for(var r=new Array(t),s=0;s<t;++s)r[s]=s;return r}v.exports=y},4846:function(v){v.exports=!0},4780:function(v){/*!
* Determine if an object is a Buffer
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*/v.exports=function(r){return r!=null&&(y(r)||t(r)||!!r._isBuffer)};function y(r){return!!r.constructor&&typeof r.constructor.isBuffer=="function"&&r.constructor.isBuffer(r)}function t(r){return typeof r.readFloatLE=="function"&&typeof r.slice=="function"&&y(r.slice(0,0))}},3596:function(v){v.exports=function(y){for(var t=y.length,r,s=0;s<t;s++)if(r=y.charCodeAt(s),(r<9||r>13)&&r!==32&&r!==133&&r!==160&&r!==5760&&r!==6158&&(r<8192||r>8205)&&r!==8232&&r!==8233&&r!==8239&&r!==8287&&r!==8288&&r!==12288&&r!==65279)return!1;return!0}},3578:function(v){function y(t,r,s){return t*(1-s)+r*s}v.exports=y},7191:function(v,y,t){var r=t(4690),s=t(9823),n=t(7332),o=t(7787),f=t(7437),u=t(2142),m={length:t(4693),normalize:t(899),dot:t(9305),cross:t(903)},c=s(),A=s(),h=[0,0,0,0],l=[[0,0,0],[0,0,0],[0,0,0]],p=[0,0,0];v.exports=function(E,w,i,L,b,O){if(w||(w=[0,0,0]),i||(i=[0,0,0]),L||(L=[0,0,0]),b||(b=[0,0,0,1]),O||(O=[0,0,0,1]),!r(c,E)||(n(A,c),A[3]=0,A[7]=0,A[11]=0,A[15]=1,Math.abs(o(A)<1e-8)))return!1;var _=c[3],N=c[7],z=c[11],B=c[12],U=c[13],F=c[14],V=c[15];if(_!==0||N!==0||z!==0){h[0]=_,h[1]=N,h[2]=z,h[3]=V;var j=f(A,A);if(!j)return!1;u(A,A),M(b,h,A)}else b[0]=b[1]=b[2]=0,b[3]=1;if(w[0]=B,w[1]=U,w[2]=F,S(l,c),i[0]=m.length(l[0]),m.normalize(l[0],l[0]),L[0]=m.dot(l[0],l[1]),P(l[1],l[1],l[0],1,-L[0]),i[1]=m.length(l[1]),m.normalize(l[1],l[1]),L[0]/=i[1],L[1]=m.dot(l[0],l[2]),P(l[2],l[2],l[0],1,-L[1]),L[2]=m.dot(l[1],l[2]),P(l[2],l[2],l[1],1,-L[2]),i[2]=m.length(l[2]),m.normalize(l[2],l[2]),L[1]/=i[2],L[2]/=i[2],m.cross(p,l[1],l[2]),m.dot(l[0],p)<0)for(var $=0;$<3;$++)i[$]*=-1,l[$][0]*=-1,l[$][1]*=-1,l[$][2]*=-1;return O[0]=.5*Math.sqrt(Math.max(1+l[0][0]-l[1][1]-l[2][2],0)),O[1]=.5*Math.sqrt(Math.max(1-l[0][0]+l[1][1]-l[2][2],0)),O[2]=.5*Math.sqrt(Math.max(1-l[0][0]-l[1][1]+l[2][2],0)),O[3]=.5*Math.sqrt(Math.max(1+l[0][0]+l[1][1]+l[2][2],0)),l[2][1]>l[1][2]&&(O[0]=-O[0]),l[0][2]>l[2][0]&&(O[1]=-O[1]),l[1][0]>l[0][1]&&(O[2]=-O[2]),!0};function M(x,E,w){var i=E[0],L=E[1],b=E[2],O=E[3];return x[0]=w[0]*i+w[4]*L+w[8]*b+w[12]*O,x[1]=w[1]*i+w[5]*L+w[9]*b+w[13]*O,x[2]=w[2]*i+w[6]*L+w[10]*b+w[14]*O,x[3]=w[3]*i+w[7]*L+w[11]*b+w[15]*O,x}function S(x,E){x[0][0]=E[0],x[0][1]=E[1],x[0][2]=E[2],x[1][0]=E[4],x[1][1]=E[5],x[1][2]=E[6],x[2][0]=E[8],x[2][1]=E[9],x[2][2]=E[10]}function P(x,E,w,i,L){x[0]=E[0]*i+w[0]*L,x[1]=E[1]*i+w[1]*L,x[2]=E[2]*i+w[2]*L}},4690:function(v){v.exports=function(t,r){var s=r[15];if(s===0)return!1;for(var n=1/s,o=0;o<16;o++)t[o]=r[o]*n;return!0}},7649:function(v,y,t){var r=t(1868),s=t(1102),n=t(7191),o=t(7787),f=t(1116),u=h(),m=h(),c=h();v.exports=A;function A(M,S,P,x){if(o(S)===0||o(P)===0)return!1;var E=n(S,u.translate,u.scale,u.skew,u.perspective,u.quaternion),w=n(P,m.translate,m.scale,m.skew,m.perspective,m.quaternion);return!E||!w?!1:(r(c.translate,u.translate,m.translate,x),r(c.skew,u.skew,m.skew,x),r(c.scale,u.scale,m.scale,x),r(c.perspective,u.perspective,m.perspective,x),f(c.quaternion,u.quaternion,m.quaternion,x),s(M,c.translate,c.scale,c.skew,c.perspective,c.quaternion),!0)}function h(){return{translate:l(),scale:l(1),skew:l(),perspective:p(),quaternion:p()}}function l(M){return[M||0,M||0,M||0]}function p(){return[0,0,0,1]}},1102:function(v,y,t){var r={identity:t(9947),translate:t(998),multiply:t(104),create:t(9823),scale:t(3668),fromRotationTranslation:t(7280)};r.create();var s=r.create();v.exports=function(o,f,u,m,c,A){return r.identity(o),r.fromRotationTranslation(o,A,f),o[3]=c[0],o[7]=c[1],o[11]=c[2],o[15]=c[3],r.identity(s),m[2]!==0&&(s[9]=m[2],r.multiply(o,o,s)),m[1]!==0&&(s[9]=0,s[8]=m[1],r.multiply(o,o,s)),m[0]!==0&&(s[8]=0,s[4]=m[0],r.multiply(o,o,s)),r.scale(o,o,u),o}},9298:function(v,y,t){var r=t(5070),s=t(7649),n=t(7437),o=t(6109),f=t(7115),u=t(5240),m=t(3012),c=t(998);t(3668);var A=t(899),h=[0,0,0];v.exports=S;function l(P){this._components=P.slice(),this._time=[0],this.prevMatrix=P.slice(),this.nextMatrix=P.slice(),this.computedMatrix=P.slice(),this.computedInverse=P.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-1/0,1/0]}var p=l.prototype;p.recalcMatrix=function(P){var x=this._time,E=r.le(x,P),w=this.computedMatrix;if(!(E<0)){var i=this._components;if(E===x.length-1)for(var L=16*E,b=0;b<16;++b)w[b]=i[L++];else{for(var O=x[E+1]-x[E],L=16*E,_=this.prevMatrix,N=!0,b=0;b<16;++b)_[b]=i[L++];for(var z=this.nextMatrix,b=0;b<16;++b)z[b]=i[L++],N=N&&_[b]===z[b];if(O<1e-6||N)for(var b=0;b<16;++b)w[b]=_[b];else s(w,_,z,(P-x[E])/O)}var B=this.computedUp;B[0]=w[1],B[1]=w[5],B[2]=w[9],A(B,B);var U=this.computedInverse;n(U,w);var F=this.computedEye,V=U[15];F[0]=U[12]/V,F[1]=U[13]/V,F[2]=U[14]/V;for(var j=this.computedCenter,$=Math.exp(this.computedRadius[0]),b=0;b<3;++b)j[b]=F[b]-w[2+4*b]*$}},p.idle=function(P){if(!(P<this.lastT())){for(var x=this._components,E=x.length-16,w=0;w<16;++w)x.push(x[E++]);this._time.push(P)}},p.flush=function(P){var x=r.gt(this._time,P)-2;x<0||(this._time.splice(0,x),this._components.splice(0,16*x))},p.lastT=function(){return this._time[this._time.length-1]},p.lookAt=function(P,x,E,w){this.recalcMatrix(P),x=x||this.computedEye,E=E||h,w=w||this.computedUp,this.setMatrix(P,m(this.computedMatrix,x,E,w));for(var i=0,L=0;L<3;++L)i+=Math.pow(E[L]-x[L],2);i=Math.log(Math.sqrt(i)),this.computedRadius[0]=i},p.rotate=function(P,x,E,w){this.recalcMatrix(P);var i=this.computedInverse;x&&f(i,i,x),E&&o(i,i,E),w&&u(i,i,w),this.setMatrix(P,n(this.computedMatrix,i))};var M=[0,0,0];p.pan=function(P,x,E,w){M[0]=-(x||0),M[1]=-(E||0),M[2]=-(w||0),this.recalcMatrix(P);var i=this.computedInverse;c(i,i,M),this.setMatrix(P,n(i,i))},p.translate=function(P,x,E,w){M[0]=x||0,M[1]=E||0,M[2]=w||0,this.recalcMatrix(P);var i=this.computedMatrix;c(i,i,M),this.setMatrix(P,i)},p.setMatrix=function(P,x){if(!(P<this.lastT())){this._time.push(P);for(var E=0;E<16;++E)this._components.push(x[E])}},p.setDistance=function(P,x){this.computedRadius[0]=x},p.setDistanceLimits=function(P,x){var E=this._limits;E[0]=P,E[1]=x},p.getDistanceLimits=function(P){var x=this._limits;return P?(P[0]=x[0],P[1]=x[1],P):x};function S(P){P=P||{};var x=P.matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return new l(x)}},3266:function(v,y,t){v.exports=s;var r=t(417)[3];function s(n){var o=n.length;if(o<3){for(var p=new Array(o),f=0;f<o;++f)p[f]=f;return o===2&&n[0][0]===n[1][0]&&n[0][1]===n[1][1]?[0]:p}for(var u=new Array(o),f=0;f<o;++f)u[f]=f;u.sort(function(x,E){var w=n[x][0]-n[E][0];return w||n[x][1]-n[E][1]});for(var m=[u[0],u[1]],c=[u[0],u[1]],f=2;f<o;++f){for(var A=u[f],h=n[A],l=m.length;l>1&&r(n[m[l-2]],n[m[l-1]],h)<=0;)l-=1,m.pop();for(m.push(A),l=c.length;l>1&&r(n[c[l-2]],n[c[l-1]],h)>=0;)l-=1,c.pop();c.push(A)}for(var p=new Array(c.length+m.length-2),M=0,f=0,S=m.length;f<S;++f)p[M++]=m[f];for(var P=c.length-2;P>0;--P)p[M++]=c[P];return p}},6145:function(v,y,t){v.exports=s;var r=t(4110);function s(n,o){o||(o=n,n=window);var f=0,u=0,m=0,c={shift:!1,alt:!1,control:!1,meta:!1},A=!1;function h(b){var O=!1;return"altKey"in b&&(O=O||b.altKey!==c.alt,c.alt=!!b.altKey),"shiftKey"in b&&(O=O||b.shiftKey!==c.shift,c.shift=!!b.shiftKey),"ctrlKey"in b&&(O=O||b.ctrlKey!==c.control,c.control=!!b.ctrlKey),"metaKey"in b&&(O=O||b.metaKey!==c.meta,c.meta=!!b.metaKey),O}function l(b,O){var _=r.x(O),N=r.y(O);"buttons"in O&&(b=O.buttons|0),(b!==f||_!==u||N!==m||h(O))&&(f=b|0,u=_||0,m=N||0,o&&o(f,u,m,c))}function p(b){l(0,b)}function M(){(f||u||m||c.shift||c.alt||c.meta||c.control)&&(u=m=0,f=0,c.shift=c.alt=c.control=c.meta=!1,o&&o(0,0,0,c))}function S(b){h(b)&&o&&o(f,u,m,c)}function P(b){r.buttons(b)===0?l(0,b):l(f,b)}function x(b){l(f|r.buttons(b),b)}function E(b){l(f&~r.buttons(b),b)}function w(){A||(A=!0,n.addEventListener("mousemove",P),n.addEventListener("mousedown",x),n.addEventListener("mouseup",E),n.addEventListener("mouseleave",p),n.addEventListener("mouseenter",p),n.addEventListener("mouseout",p),n.addEventListener("mouseover",p),n.addEventListener("blur",M),n.addEventListener("keyup",S),n.addEventListener("keydown",S),n.addEventListener("keypress",S),n!==window&&(window.addEventListener("blur",M),window.addEventListener("keyup",S),window.addEventListener("keydown",S),window.addEventListener("keypress",S)))}function i(){A&&(A=!1,n.removeEventListener("mousemove",P),n.removeEventListener("mousedown",x),n.removeEventListener("mouseup",E),n.removeEventListener("mouseleave",p),n.removeEventListener("mouseenter",p),n.removeEventListener("mouseout",p),n.removeEventListener("mouseover",p),n.removeEventListener("blur",M),n.removeEventListener("keyup",S),n.removeEventListener("keydown",S),n.removeEventListener("keypress",S),n!==window&&(window.removeEventListener("blur",M),window.removeEventListener("keyup",S),window.removeEventListener("keydown",S),window.removeEventListener("keypress",S)))}w();var L={element:n};return Object.defineProperties(L,{enabled:{get:function(){return A},set:function(b){b?w():i()},enumerable:!0},buttons:{get:function(){return f},enumerable:!0},x:{get:function(){return u},enumerable:!0},y:{get:function(){return m},enumerable:!0},mods:{get:function(){return c},enumerable:!0}}),L}},2565:function(v){var y={left:0,top:0};v.exports=t;function t(s,n,o){n=n||s.currentTarget||s.srcElement,Array.isArray(o)||(o=[0,0]);var f=s.clientX||0,u=s.clientY||0,m=r(n);return o[0]=f-m.left,o[1]=u-m.top,o}function r(s){return s===window||s===document||s===document.body?y:s.getBoundingClientRect()}},4110:function(v,y){function t(o){if(typeof o=="object"){if("buttons"in o)return o.buttons;if("which"in o){var f=o.which;if(f===2)return 4;if(f===3)return 2;if(f>0)return 1<<f-1}else if("button"in o){var f=o.button;if(f===1)return 4;if(f===2)return 2;if(f>=0)return 1<<f}}return 0}y.buttons=t;function r(o){return o.target||o.srcElement||window}y.element=r;function s(o){if(typeof o=="object"){if("offsetX"in o)return o.offsetX;var f=r(o),u=f.getBoundingClientRect();return o.clientX-u.left}return 0}y.x=s;function n(o){if(typeof o=="object"){if("offsetY"in o)return o.offsetY;var f=r(o),u=f.getBoundingClientRect();return o.clientY-u.top}return 0}y.y=n},6475:function(v,y,t){var r=t(14);v.exports=s;function s(n,o,f){typeof n=="function"&&(f=!!o,o=n,n=window);var u=r("ex",n),m=function(c){f&&c.preventDefault();var A=c.deltaX||0,h=c.deltaY||0,l=c.deltaZ||0,p=c.deltaMode,M=1;switch(p){case 1:M=u;break;case 2:M=window.innerHeight;break}if(A*=M,h*=M,l*=M,A||h||l)return o(A,h,l,c)};return n.addEventListener("wheel",m),m}},9284:function(v,y,t){var r=t(5306);v.exports=o;var s={"false,0,1":function(u,m,c,A,h){return function(p,M,S,P){var x=p.shape[0]|0,E=p.shape[1]|0,w=p.data,i=p.offset|0,L=p.stride[0]|0,b=p.stride[1]|0,O=i,_,N=-L|0,z=0,B=-b|0,U=0,F=-L-b|0,V=0,j=L|0,$=b-L*x|0,ne=0,oe=0,ce=0,Q=2*x|0,Z=A(Q),K=A(Q),J=0,re=0,le=-1,q=-1,ee=0,ue=-x|0,se=x|0,he=0,me=-x-1|0,Ce=x-1|0,Te=0,Oe=0,Ne=0;for(ne=0;ne<x;++ne)Z[J++]=c(w[O],M,S,P),O+=j;if(O+=$,E>0){if(oe=1,Z[J++]=c(w[O],M,S,P),O+=j,x>0)for(ne=1,_=w[O],re=Z[J]=c(_,M,S,P),ee=Z[J+le],he=Z[J+ue],Te=Z[J+me],(re!==ee||re!==he||re!==Te)&&(z=w[O+N],U=w[O+B],V=w[O+F],u(ne,oe,_,z,U,V,re,ee,he,Te,M,S,P),Oe=K[J]=ce++),J+=1,O+=j,ne=2;ne<x;++ne)_=w[O],re=Z[J]=c(_,M,S,P),ee=Z[J+le],he=Z[J+ue],Te=Z[J+me],(re!==ee||re!==he||re!==Te)&&(z=w[O+N],U=w[O+B],V=w[O+F],u(ne,oe,_,z,U,V,re,ee,he,Te,M,S,P),Oe=K[J]=ce++,Te!==ee&&m(K[J+le],Oe,V,z,Te,ee,M,S,P)),J+=1,O+=j;for(O+=$,J=0,Ne=le,le=q,q=Ne,Ne=ue,ue=se,se=Ne,Ne=me,me=Ce,Ce=Ne,oe=2;oe<E;++oe){if(Z[J++]=c(w[O],M,S,P),O+=j,x>0)for(ne=1,_=w[O],re=Z[J]=c(_,M,S,P),ee=Z[J+le],he=Z[J+ue],Te=Z[J+me],(re!==ee||re!==he||re!==Te)&&(z=w[O+N],U=w[O+B],V=w[O+F],u(ne,oe,_,z,U,V,re,ee,he,Te,M,S,P),Oe=K[J]=ce++,Te!==he&&m(K[J+ue],Oe,U,V,he,Te,M,S,P)),J+=1,O+=j,ne=2;ne<x;++ne)_=w[O],re=Z[J]=c(_,M,S,P),ee=Z[J+le],he=Z[J+ue],Te=Z[J+me],(re!==ee||re!==he||re!==Te)&&(z=w[O+N],U=w[O+B],V=w[O+F],u(ne,oe,_,z,U,V,re,ee,he,Te,M,S,P),Oe=K[J]=ce++,Te!==he&&m(K[J+ue],Oe,U,V,he,Te,M,S,P),Te!==ee&&m(K[J+le],Oe,V,z,Te,ee,M,S,P)),J+=1,O+=j;oe&1&&(J=0),Ne=le,le=q,q=Ne,Ne=ue,ue=se,se=Ne,Ne=me,me=Ce,Ce=Ne,O+=$}}h(K),h(Z)}},"false,1,0":function(u,m,c,A,h){return function(p,M,S,P){var x=p.shape[0]|0,E=p.shape[1]|0,w=p.data,i=p.offset|0,L=p.stride[0]|0,b=p.stride[1]|0,O=i,_,N=-L|0,z=0,B=-b|0,U=0,F=-L-b|0,V=0,j=b|0,$=L-b*E|0,ne=0,oe=0,ce=0,Q=2*E|0,Z=A(Q),K=A(Q),J=0,re=0,le=-1,q=-1,ee=0,ue=-E|0,se=E|0,he=0,me=-E-1|0,Ce=E-1|0,Te=0,Oe=0,Ne=0;for(oe=0;oe<E;++oe)Z[J++]=c(w[O],M,S,P),O+=j;if(O+=$,x>0){if(ne=1,Z[J++]=c(w[O],M,S,P),O+=j,E>0)for(oe=1,_=w[O],re=Z[J]=c(_,M,S,P),he=Z[J+ue],ee=Z[J+le],Te=Z[J+me],(re!==he||re!==ee||re!==Te)&&(z=w[O+N],U=w[O+B],V=w[O+F],u(ne,oe,_,z,U,V,re,he,ee,Te,M,S,P),Oe=K[J]=ce++),J+=1,O+=j,oe=2;oe<E;++oe)_=w[O],re=Z[J]=c(_,M,S,P),he=Z[J+ue],ee=Z[J+le],Te=Z[J+me],(re!==he||re!==ee||re!==Te)&&(z=w[O+N],U=w[O+B],V=w[O+F],u(ne,oe,_,z,U,V,re,he,ee,Te,M,S,P),Oe=K[J]=ce++,Te!==ee&&m(K[J+le],Oe,U,V,ee,Te,M,S,P)),J+=1,O+=j;for(O+=$,J=0,Ne=ue,ue=se,se=Ne,Ne=le,le=q,q=Ne,Ne=me,me=Ce,Ce=Ne,ne=2;ne<x;++ne){if(Z[J++]=c(w[O],M,S,P),O+=j,E>0)for(oe=1,_=w[O],re=Z[J]=c(_,M,S,P),he=Z[J+ue],ee=Z[J+le],Te=Z[J+me],(re!==he||re!==ee||re!==Te)&&(z=w[O+N],U=w[O+B],V=w[O+F],u(ne,oe,_,z,U,V,re,he,ee,Te,M,S,P),Oe=K[J]=ce++,Te!==he&&m(K[J+ue],Oe,V,z,Te,he,M,S,P)),J+=1,O+=j,oe=2;oe<E;++oe)_=w[O],re=Z[J]=c(_,M,S,P),he=Z[J+ue],ee=Z[J+le],Te=Z[J+me],(re!==he||re!==ee||re!==Te)&&(z=w[O+N],U=w[O+B],V=w[O+F],u(ne,oe,_,z,U,V,re,he,ee,Te,M,S,P),Oe=K[J]=ce++,Te!==ee&&m(K[J+le],Oe,U,V,ee,Te,M,S,P),Te!==he&&m(K[J+ue],Oe,V,z,Te,he,M,S,P)),J+=1,O+=j;ne&1&&(J=0),Ne=ue,ue=se,se=Ne,Ne=le,le=q,q=Ne,Ne=me,me=Ce,Ce=Ne,O+=$}}h(K),h(Z)}}};function n(f,u,m,c,A,h){var l=[h,A].join(","),p=s[l];return p(f,u,m,r.mallocUint32,r.freeUint32)}function o(f){function u(M){throw new Error("ndarray-extract-contour: "+M)}typeof f!="object"&&u("Must specify arguments");var m=f.order;Array.isArray(m)||u("Must specify order");var c=f.arrayArguments||1;c<1&&u("Must have at least one array argument");var A=f.scalarArguments||0;A<0&&u("Scalar arg count must be > 0"),typeof f.vertex!="function"&&u("Must specify vertex creation function"),typeof f.cell!="function"&&u("Must specify cell creation function"),typeof f.phase!="function"&&u("Must specify phase function");for(var h=f.getters||[],l=new Array(c),p=0;p<c;++p)h.indexOf(p)>=0?l[p]=!0:l[p]=!1;return n(f.vertex,f.cell,f.phase,A,m,l)}},9144:function(v,y,t){var r=t(3094),s={zero:function(S,P,x,E){var w=S[0],i=x[0];E|=0;var L=0,b=i;for(L=0;L<w;++L)P[E]=0,E+=b},fdTemplate1:function(S,P,x,E,w,i,L){var b=S[0],O=x[0],_=i[0],N=-1*O,z=O;E|=0,L|=0;var B=0,U=O,F=_;for(B=0;B<b;++B)w[L]=.5*(P[E+N]-P[E+z]),E+=U,L+=F},fdTemplate2:function(S,P,x,E,w,i,L,b,O,_){var N=S[0],z=S[1],B=x[0],U=x[1],F=i[0],V=i[1],j=O[0],$=O[1],ne=-1*B,oe=B,ce=-1*U,Q=U;E|=0,L|=0,_|=0;var Z=0,K=0,J=U,re=B-z*U,le=V,q=F-z*V,ee=$,ue=j-z*$;for(K=0;K<N;++K){for(Z=0;Z<z;++Z)w[L]=.5*(P[E+ne]-P[E+oe]),b[_]=.5*(P[E+ce]-P[E+Q]),E+=J,L+=le,_+=ee;E+=re,L+=q,_+=ue}}},n={cdiff:function(S){var P={};return function(E,w,i){var L=E.dtype,b=E.order,O=w.dtype,_=w.order,N=i.dtype,z=i.order,B=[L,b.join(),O,_.join(),N,z.join()].join(),U=P[B];return U||(P[B]=U=S([L,b,O,_,N,z])),U(E.shape.slice(0),E.data,E.stride,E.offset|0,w.data,w.stride,w.offset|0,i.data,i.stride,i.offset|0)}},zero:function(S){var P={};return function(E){var w=E.dtype,i=E.order,L=[w,i.join()].join(),b=P[L];return b||(P[L]=b=S([w,i])),b(E.shape.slice(0),E.data,E.stride,E.offset|0)}},fdTemplate1:function(S){var P={};return function(E,w){var i=E.dtype,L=E.order,b=w.dtype,O=w.order,_=[i,L.join(),b,O.join()].join(),N=P[_];return N||(P[_]=N=S([i,L,b,O])),N(E.shape.slice(0),E.data,E.stride,E.offset|0,w.data,w.stride,w.offset|0)}},fdTemplate2:function(S){var P={};return function(E,w,i){var L=E.dtype,b=E.order,O=w.dtype,_=w.order,N=i.dtype,z=i.order,B=[L,b.join(),O,_.join(),N,z.join()].join(),U=P[B];return U||(P[B]=U=S([L,b,O,_,N,z])),U(E.shape.slice(0),E.data,E.stride,E.offset|0,w.data,w.stride,w.offset|0,i.data,i.stride,i.offset|0)}}};function o(S){var P=n[S.funcName];return P(f.bind(void 0,S))}function f(S){return s[S.funcName]}function u(S){return o({funcName:S.funcName})}var m={},c={},A=u({funcName:"cdiff"}),h=u({funcName:"zero"});function l(S){return S in m?m[S]:m[S]=u({funcName:"fdTemplate"+S})}function p(S,P,x,E){return function(w,i){var L=i.shape.slice();return L[0]>2&&L[1]>2&&E(i.pick(-1,-1).lo(1,1).hi(L[0]-2,L[1]-2),w.pick(-1,-1,0).lo(1,1).hi(L[0]-2,L[1]-2),w.pick(-1,-1,1).lo(1,1).hi(L[0]-2,L[1]-2)),L[1]>2&&(x(i.pick(0,-1).lo(1).hi(L[1]-2),w.pick(0,-1,1).lo(1).hi(L[1]-2)),P(w.pick(0,-1,0).lo(1).hi(L[1]-2))),L[1]>2&&(x(i.pick(L[0]-1,-1).lo(1).hi(L[1]-2),w.pick(L[0]-1,-1,1).lo(1).hi(L[1]-2)),P(w.pick(L[0]-1,-1,0).lo(1).hi(L[1]-2))),L[0]>2&&(x(i.pick(-1,0).lo(1).hi(L[0]-2),w.pick(-1,0,0).lo(1).hi(L[0]-2)),P(w.pick(-1,0,1).lo(1).hi(L[0]-2))),L[0]>2&&(x(i.pick(-1,L[1]-1).lo(1).hi(L[0]-2),w.pick(-1,L[1]-1,0).lo(1).hi(L[0]-2)),P(w.pick(-1,L[1]-1,1).lo(1).hi(L[0]-2))),w.set(0,0,0,0),w.set(0,0,1,0),w.set(L[0]-1,0,0,0),w.set(L[0]-1,0,1,0),w.set(0,L[1]-1,0,0),w.set(0,L[1]-1,1,0),w.set(L[0]-1,L[1]-1,0,0),w.set(L[0]-1,L[1]-1,1,0),w}}function M(S){var P=S.join(),L=c[P];if(L)return L;for(var x=S.length,E=[A,h],w=1;w<=x;++w)E.push(l(w));var i=p,L=i.apply(void 0,E);return c[P]=L,L}v.exports=function(P,x,E){if(Array.isArray(E)||(typeof E=="string"?E=r(x.dimension,E):E=r(x.dimension,"clamp")),x.size===0)return P;if(x.dimension===0)return P.set(0),P;var w=M(E);return w(P,x)}},3581:function(v){function y(o,f){var u=Math.floor(f),m=f-u,c=0<=u&&u<o.shape[0],A=0<=u+1&&u+1<o.shape[0],h=c?+o.get(u):0,l=A?+o.get(u+1):0;return(1-m)*h+m*l}function t(o,f,u){var m=Math.floor(f),c=f-m,A=0<=m&&m<o.shape[0],h=0<=m+1&&m+1<o.shape[0],l=Math.floor(u),p=u-l,M=0<=l&&l<o.shape[1],S=0<=l+1&&l+1<o.shape[1],P=A&&M?o.get(m,l):0,x=A&&S?o.get(m,l+1):0,E=h&&M?o.get(m+1,l):0,w=h&&S?o.get(m+1,l+1):0;return(1-p)*((1-c)*P+c*E)+p*((1-c)*x+c*w)}function r(o,f,u,m){var c=Math.floor(f),A=f-c,h=0<=c&&c<o.shape[0],l=0<=c+1&&c+1<o.shape[0],p=Math.floor(u),M=u-p,S=0<=p&&p<o.shape[1],P=0<=p+1&&p+1<o.shape[1],x=Math.floor(m),E=m-x,w=0<=x&&x<o.shape[2],i=0<=x+1&&x+1<o.shape[2],L=h&&S&&w?o.get(c,p,x):0,b=h&&P&&w?o.get(c,p+1,x):0,O=l&&S&&w?o.get(c+1,p,x):0,_=l&&P&&w?o.get(c+1,p+1,x):0,N=h&&S&&i?o.get(c,p,x+1):0,z=h&&P&&i?o.get(c,p+1,x+1):0,B=l&&S&&i?o.get(c+1,p,x+1):0,U=l&&P&&i?o.get(c+1,p+1,x+1):0;return(1-E)*((1-M)*((1-A)*L+A*O)+M*((1-A)*b+A*_))+E*((1-M)*((1-A)*N+A*B)+M*((1-A)*z+A*U))}function s(o){var f=o.shape.length|0,u=new Array(f),m=new Array(f),c=new Array(f),A=new Array(f),h,l;for(h=0;h<f;++h)l=+arguments[h+1],u[h]=Math.floor(l),m[h]=l-u[h],c[h]=0<=u[h]&&u[h]<o.shape[h],A[h]=0<=u[h]+1&&u[h]+1<o.shape[h];var p=0,M,S,P;e:for(h=0;h<1<<f;++h){for(S=1,P=o.offset,M=0;M<f;++M)if(h&1<<M){if(!A[M])continue e;S*=m[M],P+=o.stride[M]*(u[M]+1)}else{if(!c[M])continue e;S*=1-m[M],P+=o.stride[M]*u[M]}p+=S*o.data[P]}return p}function n(o,f,u,m){switch(o.shape.length){case 0:return 0;case 1:return y(o,f);case 2:return t(o,f,u);case 3:return r(o,f,u,m);default:return s.apply(void 0,arguments)}}v.exports=n,v.exports.d1=y,v.exports.d2=t,v.exports.d3=r},7498:function(v,y){var t={"float64,2,1,0":function(){return function(c,A,h,l,p){var M=c[0],S=c[1],P=c[2],x=h[0],E=h[1],w=h[2];l|=0;var i=0,L=0,b=0,O=w,_=E-P*w,N=x-S*E;for(b=0;b<M;++b){for(L=0;L<S;++L){for(i=0;i<P;++i)A[l]/=p,l+=O;l+=_}l+=N}}},"uint8,2,0,1,float64,2,1,0":function(){return function(c,A,h,l,p,M,S,P){var x=c[0],E=c[1],w=c[2],i=h[0],L=h[1],b=h[2],O=M[0],_=M[1],N=M[2];l|=0,S|=0;for(var z=l,B=S,U=c[0]|0;U>0;){U<64?(x=U,U=0):(x=64,U-=64);for(var F=c[1]|0;F>0;){F<64?(E=F,F=0):(E=64,F-=64),l=z+U*i+F*L,S=B+U*O+F*_;var V=0,j=0,$=0,ne=b,oe=i-w*b,ce=L-x*i,Q=N,Z=O-w*N,K=_-x*O;for($=0;$<E;++$){for(j=0;j<x;++j){for(V=0;V<w;++V)A[l]=p[S]*P,l+=ne,S+=Q;l+=oe,S+=Z}l+=ce,S+=K}}}}},"float32,1,0,float32,1,0":function(){return function(c,A,h,l,p,M,S){var P=c[0],x=c[1],E=h[0],w=h[1],i=M[0],L=M[1];l|=0,S|=0;var b=0,O=0,_=w,N=E-x*w,z=L,B=i-x*L;for(O=0;O<P;++O){for(b=0;b<x;++b)A[l]=p[S],l+=_,S+=z;l+=N,S+=B}}},"float32,1,0,float32,0,1":function(){return function(c,A,h,l,p,M,S){var P=c[0],x=c[1],E=h[0],w=h[1],i=M[0],L=M[1];l|=0,S|=0;for(var b=l,O=S,_=c[1]|0;_>0;){_<64?(x=_,_=0):(x=64,_-=64);for(var N=c[0]|0;N>0;){N<64?(P=N,N=0):(P=64,N-=64),l=b+_*w+N*E,S=O+_*L+N*i;var z=0,B=0,U=w,F=E-x*w,V=L,j=i-x*L;for(B=0;B<P;++B){for(z=0;z<x;++z)A[l]=p[S],l+=U,S+=V;l+=F,S+=j}}}}},"uint8,2,0,1,uint8,1,2,0":function(){return function(c,A,h,l,p,M,S){var P=c[0],x=c[1],E=c[2],w=h[0],i=h[1],L=h[2],b=M[0],O=M[1],_=M[2];l|=0,S|=0;for(var N=l,z=S,B=c[2]|0;B>0;){B<64?(E=B,B=0):(E=64,B-=64);for(var U=c[0]|0;U>0;){U<64?(P=U,U=0):(P=64,U-=64);for(var F=c[1]|0;F>0;){F<64?(x=F,F=0):(x=64,F-=64),l=N+B*L+U*w+F*i,S=z+B*_+U*b+F*O;var V=0,j=0,$=0,ne=L,oe=w-E*L,ce=i-P*w,Q=_,Z=b-E*_,K=O-P*b;for($=0;$<x;++$){for(j=0;j<P;++j){for(V=0;V<E;++V)A[l]=p[S],l+=ne,S+=Q;l+=oe,S+=Z}l+=ce,S+=K}}}}}},"uint8,2,0,1,array,2,0,1":function(){return function(c,A,h,l,p,M,S){var P=c[0],x=c[1],E=c[2],w=h[0],i=h[1],L=h[2],b=M[0],O=M[1],_=M[2];l|=0,S|=0;var N=0,z=0,B=0,U=L,F=w-E*L,V=i-P*w,j=_,$=b-E*_,ne=O-P*b;for(B=0;B<x;++B){for(z=0;z<P;++z){for(N=0;N<E;++N)A[l]=p[S],l+=U,S+=j;l+=F,S+=$}l+=V,S+=ne}}}};function r(m,c){var A=c.join(","),h=t[A];return h()}var s=r,n={mul:function(m){var c={};return function(h,l,p){var M=h.dtype,S=h.order,P=l.dtype,x=l.order,E=p.dtype,w=p.order,i=[M,S.join(),P,x.join(),E,w.join()].join(),L=c[i];return L||(c[i]=L=m([M,S,P,x,E,w])),L(h.shape.slice(0),h.data,h.stride,h.offset|0,l.data,l.stride,l.offset|0,p.data,p.stride,p.offset|0)}},muls:function(m){var c={};return function(h,l,p){var M=h.dtype,S=h.order,P=l.dtype,x=l.order,E=[M,S.join(),P,x.join()].join(),w=c[E];return w||(c[E]=w=m([M,S,P,x])),w(h.shape.slice(0),h.data,h.stride,h.offset|0,l.data,l.stride,l.offset|0,p)}},mulseq:function(m){var c={};return function(h,l){var p=h.dtype,M=h.order,S=[p,M.join()].join(),P=c[S];return P||(c[S]=P=m([p,M])),P(h.shape.slice(0),h.data,h.stride,h.offset|0,l)}},div:function(m){var c={};return function(h,l,p){var M=h.dtype,S=h.order,P=l.dtype,x=l.order,E=p.dtype,w=p.order,i=[M,S.join(),P,x.join(),E,w.join()].join(),L=c[i];return L||(c[i]=L=m([M,S,P,x,E,w])),L(h.shape.slice(0),h.data,h.stride,h.offset|0,l.data,l.stride,l.offset|0,p.data,p.stride,p.offset|0)}},divs:function(m){var c={};return function(h,l,p){var M=h.dtype,S=h.order,P=l.dtype,x=l.order,E=[M,S.join(),P,x.join()].join(),w=c[E];return w||(c[E]=w=m([M,S,P,x])),w(h.shape.slice(0),h.data,h.stride,h.offset|0,l.data,l.stride,l.offset|0,p)}},divseq:function(m){var c={};return function(h,l){var p=h.dtype,M=h.order,S=[p,M.join()].join(),P=c[S];return P||(c[S]=P=m([p,M])),P(h.shape.slice(0),h.data,h.stride,h.offset|0,l)}},assign:function(m){var c={};return function(h,l){var p=h.dtype,M=h.order,S=l.dtype,P=l.order,x=[p,M.join(),S,P.join()].join(),E=c[x];return E||(c[x]=E=m([p,M,S,P])),E(h.shape.slice(0),h.data,h.stride,h.offset|0,l.data,l.stride,l.offset|0)}}};function o(m){var c=n[m.funcName];return c(s.bind(void 0,m))}function f(m){return o({funcName:m.funcName})}var u={mul:"*",div:"/"};(function(){for(var m in u)y[m]=f({funcName:m}),y[m+"s"]=f({funcName:m+"s"}),y[m+"seq"]=f({funcName:m+"seq"})})(),y.assign=f({funcName:"assign"})},7382:function(v,y,t){var r=t(5050),s=t(9262);v.exports=function(o,f){for(var u=[],m=o,c=1;Array.isArray(m);)u.push(m.length),c*=m.length,m=m[0];return u.length===0?r():(f||(f=r(new Float64Array(c),u)),s(f,o),f)}},9262:function(v){function y(){return function(f,u,m,c,A){var h=f[0],l=f[1],p=f[2],M=m[0],S=m[1],P=m[2],x=[0,0,0];c|=0;var E=0,w=0,i=0,L=P,b=S-p*P,O=M-l*S;for(i=0;i<h;++i){for(w=0;w<l;++w){for(E=0;E<p;++E){{var _=A,N;for(N=0;N<x.length-1;++N)_=_[x[N]];u[c]=_[x[x.length-1]]}c+=L,++x[2]}c+=b,x[2]-=p,++x[1]}c+=O,x[1]-=l,++x[0]}}}function t(){return y()}var r=t;function s(f){var u={};return function(c,A){var h=c.dtype,l=c.order,p=[h,l.join()].join(),M=u[p];return M||(u[p]=M=f([h,l])),M(c.shape.slice(0),c.data,c.stride,c.offset|0,A)}}function n(f){return s(r.bind(void 0,f))}function o(f){return n({funcName:f.funcName})}v.exports=o({funcName:"convert"})},8139:function(v,y,t){var r=t(5306);function s(A){switch(A){case"uint32":return[r.mallocUint32,r.freeUint32];default:return null}}var n={"uint32,1,0":function(A,h){return function(p,M,S,P,x,E,w,i,L,b,O){var _,N,z,B=p*x+P,U,F=A(i),V,j,$,ne;for(_=p+1;_<=M;++_){for(N=_,B+=x,z=B,V=0,j=B,U=0;U<i;++U)F[V++]=S[j],j+=L;e:for(;N-- >p;){V=0,j=z-x;t:for(U=0;U<i;++U){if($=S[j],ne=F[V],$<ne)break e;if($>ne)break t;j+=b,V+=O}for(V=z,j=z-x,U=0;U<i;++U)S[V]=S[j],V+=L,j+=L;z-=x}for(V=z,j=0,U=0;U<i;++U)S[V]=F[j++],V+=L}h(F)}}};function o(A,h){var l=s(h),p=[h,A].join(","),M=n[p];return l?M(l[0],l[1]):M()}var f={"uint32,1,0":function(A,h,l){return function p(M,S,P,x,E,w,i,L,b,O,_){var N=(S-M+1)/6|0,z=M+N,B=S-N,U=M+S>>1,F=U-N,V=U+N,j=z,$=F,ne=U,oe=V,ce=B,Q=M+1,Z=S-1,K=!0,J,re,le,q,ee,ue,se,he,me,Ce=0,Te=0,Oe=0,Ne,Le,be,Ae,He,Ve,ke,Ge,it,et,tt,at,vt,yt,gt,Mt,Ct=L,Vt=h(Ct),Je=h(Ct);Le=E*j,be=E*$,Mt=x;e:for(Ne=0;Ne<L;++Ne){if(se=Le+Mt,he=be+Mt,Oe=P[se]-P[he],Oe>0){re=j,j=$,$=re;break e}if(Oe<0)break e;Mt+=O}Le=E*oe,be=E*ce,Mt=x;e:for(Ne=0;Ne<L;++Ne){if(se=Le+Mt,he=be+Mt,Oe=P[se]-P[he],Oe>0){re=oe,oe=ce,ce=re;break e}if(Oe<0)break e;Mt+=O}Le=E*j,be=E*ne,Mt=x;e:for(Ne=0;Ne<L;++Ne){if(se=Le+Mt,he=be+Mt,Oe=P[se]-P[he],Oe>0){re=j,j=ne,ne=re;break e}if(Oe<0)break e;Mt+=O}Le=E*$,be=E*ne,Mt=x;e:for(Ne=0;Ne<L;++Ne){if(se=Le+Mt,he=be+Mt,Oe=P[se]-P[he],Oe>0){re=$,$=ne,ne=re;break e}if(Oe<0)break e;Mt+=O}Le=E*j,be=E*oe,Mt=x;e:for(Ne=0;Ne<L;++Ne){if(se=Le+Mt,he=be+Mt,Oe=P[se]-P[he],Oe>0){re=j,j=oe,oe=re;break e}if(Oe<0)break e;Mt+=O}Le=E*ne,be=E*oe,Mt=x;e:for(Ne=0;Ne<L;++Ne){if(se=Le+Mt,he=be+Mt,Oe=P[se]-P[he],Oe>0){re=ne,ne=oe,oe=re;break e}if(Oe<0)break e;Mt+=O}Le=E*$,be=E*ce,Mt=x;e:for(Ne=0;Ne<L;++Ne){if(se=Le+Mt,he=be+Mt,Oe=P[se]-P[he],Oe>0){re=$,$=ce,ce=re;break e}if(Oe<0)break e;Mt+=O}Le=E*$,be=E*ne,Mt=x;e:for(Ne=0;Ne<L;++Ne){if(se=Le+Mt,he=be+Mt,Oe=P[se]-P[he],Oe>0){re=$,$=ne,ne=re;break e}if(Oe<0)break e;Mt+=O}Le=E*oe,be=E*ce,Mt=x;e:for(Ne=0;Ne<L;++Ne){if(se=Le+Mt,he=be+Mt,Oe=P[se]-P[he],Oe>0){re=oe,oe=ce,ce=re;break e}if(Oe<0)break e;Mt+=O}for(Le=E*j,be=E*$,Ae=E*ne,He=E*oe,Ve=E*ce,ke=E*z,Ge=E*U,it=E*B,gt=0,Mt=x,Ne=0;Ne<L;++Ne)se=Le+Mt,he=be+Mt,me=Ae+Mt,et=He+Mt,tt=Ve+Mt,at=ke+Mt,vt=Ge+Mt,yt=it+Mt,Vt[gt]=P[he],Je[gt]=P[et],K=K&&Vt[gt]===Je[gt],le=P[se],q=P[me],ee=P[tt],P[at]=le,P[vt]=q,P[yt]=ee,++gt,Mt+=b;for(Le=E*F,be=E*M,Mt=x,Ne=0;Ne<L;++Ne)se=Le+Mt,he=be+Mt,P[se]=P[he],Mt+=b;for(Le=E*V,be=E*S,Mt=x,Ne=0;Ne<L;++Ne)se=Le+Mt,he=be+Mt,P[se]=P[he],Mt+=b;if(K)for(ue=Q;ue<=Z;++ue){se=x+ue*E,gt=0;e:for(Ne=0;Ne<L;++Ne){if(Oe=P[se]-Vt[gt],Oe!==0)break e;gt+=_,se+=O}if(Oe!==0)if(Oe<0){if(ue!==Q)for(Le=E*ue,be=E*Q,Mt=x,Ne=0;Ne<L;++Ne)se=Le+Mt,he=be+Mt,J=P[se],P[se]=P[he],P[he]=J,Mt+=b;++Q}else for(;;){se=x+Z*E,gt=0;e:for(Ne=0;Ne<L;++Ne){if(Oe=P[se]-Vt[gt],Oe!==0)break e;gt+=_,se+=O}if(Oe>0)Z--;else if(Oe<0){for(Le=E*ue,be=E*Q,Ae=E*Z,Mt=x,Ne=0;Ne<L;++Ne)se=Le+Mt,he=be+Mt,me=Ae+Mt,J=P[se],P[se]=P[he],P[he]=P[me],P[me]=J,Mt+=b;++Q,--Z;break}else{for(Le=E*ue,be=E*Z,Mt=x,Ne=0;Ne<L;++Ne)se=Le+Mt,he=be+Mt,J=P[se],P[se]=P[he],P[he]=J,Mt+=b;--Z;break}}}else for(ue=Q;ue<=Z;++ue){se=x+ue*E,gt=0;e:for(Ne=0;Ne<L;++Ne){if(Ce=P[se]-Vt[gt],Ce!==0)break e;gt+=_,se+=O}if(Ce<0){if(ue!==Q)for(Le=E*ue,be=E*Q,Mt=x,Ne=0;Ne<L;++Ne)se=Le+Mt,he=be+Mt,J=P[se],P[se]=P[he],P[he]=J,Mt+=b;++Q}else{se=x+ue*E,gt=0;e:for(Ne=0;Ne<L;++Ne){if(Te=P[se]-Je[gt],Te!==0)break e;gt+=_,se+=O}if(Te>0)for(;;){se=x+Z*E,gt=0;e:for(Ne=0;Ne<L;++Ne){if(Oe=P[se]-Je[gt],Oe!==0)break e;gt+=_,se+=O}if(Oe>0){if(--Z<ue)break;continue}else{se=x+Z*E,gt=0;e:for(Ne=0;Ne<L;++Ne){if(Oe=P[se]-Vt[gt],Oe!==0)break e;gt+=_,se+=O}if(Oe<0){for(Le=E*ue,be=E*Q,Ae=E*Z,Mt=x,Ne=0;Ne<L;++Ne)se=Le+Mt,he=be+Mt,me=Ae+Mt,J=P[se],P[se]=P[he],P[he]=P[me],P[me]=J,Mt+=b;++Q,--Z}else{for(Le=E*ue,be=E*Z,Mt=x,Ne=0;Ne<L;++Ne)se=Le+Mt,he=be+Mt,J=P[se],P[se]=P[he],P[he]=J,Mt+=b;--Z}break}}}}for(Le=E*M,be=E*(Q-1),gt=0,Mt=x,Ne=0;Ne<L;++Ne)se=Le+Mt,he=be+Mt,P[se]=P[he],P[he]=Vt[gt],++gt,Mt+=b;for(Le=E*S,be=E*(Z+1),gt=0,Mt=x,Ne=0;Ne<L;++Ne)se=Le+Mt,he=be+Mt,P[se]=P[he],P[he]=Je[gt],++gt,Mt+=b;if(Q-2-M<=32?A(M,Q-2,P,x,E,w,i,L,b,O,_):p(M,Q-2,P,x,E,w,i,L,b,O,_),S-(Z+2)<=32?A(Z+2,S,P,x,E,w,i,L,b,O,_):p(Z+2,S,P,x,E,w,i,L,b,O,_),K){l(Vt),l(Je);return}if(Q<z&&Z>B){e:for(;;){for(se=x+Q*E,gt=0,Mt=x,Ne=0;Ne<L;++Ne){if(P[se]!==Vt[gt])break e;++gt,se+=b}++Q}e:for(;;){for(se=x+Z*E,gt=0,Mt=x,Ne=0;Ne<L;++Ne){if(P[se]!==Je[gt])break e;++gt,se+=b}--Z}for(ue=Q;ue<=Z;++ue){se=x+ue*E,gt=0;e:for(Ne=0;Ne<L;++Ne){if(Ce=P[se]-Vt[gt],Ce!==0)break e;gt+=_,se+=O}if(Ce===0){if(ue!==Q)for(Le=E*ue,be=E*Q,Mt=x,Ne=0;Ne<L;++Ne)se=Le+Mt,he=be+Mt,J=P[se],P[se]=P[he],P[he]=J,Mt+=b;++Q}else{se=x+ue*E,gt=0;e:for(Ne=0;Ne<L;++Ne){if(Te=P[se]-Je[gt],Te!==0)break e;gt+=_,se+=O}if(Te===0)for(;;){se=x+Z*E,gt=0;e:for(Ne=0;Ne<L;++Ne){if(Oe=P[se]-Je[gt],Oe!==0)break e;gt+=_,se+=O}if(Oe===0){if(--Z<ue)break;continue}else{se=x+Z*E,gt=0;e:for(Ne=0;Ne<L;++Ne){if(Oe=P[se]-Vt[gt],Oe!==0)break e;gt+=_,se+=O}if(Oe<0){for(Le=E*ue,be=E*Q,Ae=E*Z,Mt=x,Ne=0;Ne<L;++Ne)se=Le+Mt,he=be+Mt,me=Ae+Mt,J=P[se],P[se]=P[he],P[he]=P[me],P[me]=J,Mt+=b;++Q,--Z}else{for(Le=E*ue,be=E*Z,Mt=x,Ne=0;Ne<L;++Ne)se=Le+Mt,he=be+Mt,J=P[se],P[se]=P[he],P[he]=J,Mt+=b;--Z}break}}}}}l(Vt),l(Je),Z-Q<=32?A(Q,Z,P,x,E,w,i,L,b,O,_):p(Q,Z,P,x,E,w,i,L,b,O,_)}}};function u(A,h,l){var p=s(h),M=[h,A].join(","),S=f[M];return A.length>1&&p?S(l,p[0],p[1]):S(l)}var m={"uint32,1,0":function(A,h){return function(l){var p=l.data,M=l.offset|0,S=l.shape,P=l.stride,x=P[0]|0,E=S[0]|0,w=P[1]|0,i=S[1]|0,L=w,b=w,O=1;E<=32?A(0,E-1,p,M,x,w,E,i,L,b,O):h(0,E-1,p,M,x,w,E,i,L,b,O)}}};function c(A,h){var l=[h,A].join(","),p=m[l],M=o(A,h),S=u(A,h,M);return p(M,S)}v.exports=c},8729:function(v,y,t){var r=t(8139),s={};function n(o){var f=o.order,u=o.dtype,m=[f,u],c=m.join(":"),A=s[c];return A||(s[c]=A=r(f,u)),A(o),o}v.exports=n},5050:function(v,y,t){var r=t(4780),s=typeof Float64Array<"u";function n(h,l){return h[0]-l[0]}function o(){var h=this.stride,l=new Array(h.length),p;for(p=0;p<l.length;++p)l[p]=[Math.abs(h[p]),p];l.sort(n);var M=new Array(l.length);for(p=0;p<M.length;++p)M[p]=l[p][1];return M}var f={T:function(h){function l(M){this.data=M}var p=l.prototype;return p.dtype=h,p.index=function(){return-1},p.size=0,p.dimension=-1,p.shape=p.stride=p.order=[],p.lo=p.hi=p.transpose=p.step=function(){return new l(this.data)},p.get=p.set=function(){},p.pick=function(){return null},function(S){return new l(S)}},0:function(h,l){function p(S,P){this.data=S,this.offset=P}var M=p.prototype;return M.dtype=h,M.index=function(){return this.offset},M.dimension=0,M.size=1,M.shape=M.stride=M.order=[],M.lo=M.hi=M.transpose=M.step=function(){return new p(this.data,this.offset)},M.pick=function(){return l(this.data)},M.valueOf=M.get=function(){return h==="generic"?this.data.get(this.offset):this.data[this.offset]},M.set=function(P){return h==="generic"?this.data.set(this.offset,P):this.data[this.offset]=P},function(P,x,E,w){return new p(P,w)}},1:function(h,l,p){function M(P,x,E,w){this.data=P,this.shape=[x],this.stride=[E],this.offset=w|0}var S=M.prototype;return S.dtype=h,S.dimension=1,Object.defineProperty(S,"size",{get:function(){return this.shape[0]}}),S.order=[0],S.set=function(x,E){return h==="generic"?this.data.set(this.offset+this.stride[0]*x,E):this.data[this.offset+this.stride[0]*x]=E},S.get=function(x){return h==="generic"?this.data.get(this.offset+this.stride[0]*x):this.data[this.offset+this.stride[0]*x]},S.index=function(x){return this.offset+this.stride[0]*x},S.hi=function(x){return new M(this.data,typeof x!="number"||x<0?this.shape[0]:x|0,this.stride[0],this.offset)},S.lo=function(x){var E=this.offset,w=0,i=this.shape[0],L=this.stride[0];return typeof x=="number"&&x>=0&&(w=x|0,E+=L*w,i-=w),new M(this.data,i,L,E)},S.step=function(x){var E=this.shape[0],w=this.stride[0],i=this.offset,L=0,b=Math.ceil;return typeof x=="number"&&(L=x|0,L<0?(i+=w*(E-1),E=b(-E/L)):E=b(E/L),w*=L),new M(this.data,E,w,i)},S.transpose=function(x){x=x===void 0?0:x|0;var E=this.shape,w=this.stride;return new M(this.data,E[x],w[x],this.offset)},S.pick=function(x){var E=[],w=[],i=this.offset;typeof x=="number"&&x>=0?i=i+this.stride[0]*x|0:(E.push(this.shape[0]),w.push(this.stride[0]));var L=l[E.length+1];return L(this.data,E,w,i)},function(x,E,w,i){return new M(x,E[0],w[0],i)}},2:function(h,l,p){function M(P,x,E,w,i,L){this.data=P,this.shape=[x,E],this.stride=[w,i],this.offset=L|0}var S=M.prototype;return S.dtype=h,S.dimension=2,Object.defineProperty(S,"size",{get:function(){return this.shape[0]*this.shape[1]}}),Object.defineProperty(S,"order",{get:function(){return Math.abs(this.stride[0])>Math.abs(this.stride[1])?[1,0]:[0,1]}}),S.set=function(x,E,w){return h==="generic"?this.data.set(this.offset+this.stride[0]*x+this.stride[1]*E,w):this.data[this.offset+this.stride[0]*x+this.stride[1]*E]=w},S.get=function(x,E){return h==="generic"?this.data.get(this.offset+this.stride[0]*x+this.stride[1]*E):this.data[this.offset+this.stride[0]*x+this.stride[1]*E]},S.index=function(x,E){return this.offset+this.stride[0]*x+this.stride[1]*E},S.hi=function(x,E){return new M(this.data,typeof x!="number"||x<0?this.shape[0]:x|0,typeof E!="number"||E<0?this.shape[1]:E|0,this.stride[0],this.stride[1],this.offset)},S.lo=function(x,E){var w=this.offset,i=0,L=this.shape[0],b=this.shape[1],O=this.stride[0],_=this.stride[1];return typeof x=="number"&&x>=0&&(i=x|0,w+=O*i,L-=i),typeof E=="number"&&E>=0&&(i=E|0,w+=_*i,b-=i),new M(this.data,L,b,O,_,w)},S.step=function(x,E){var w=this.shape[0],i=this.shape[1],L=this.stride[0],b=this.stride[1],O=this.offset,_=0,N=Math.ceil;return typeof x=="number"&&(_=x|0,_<0?(O+=L*(w-1),w=N(-w/_)):w=N(w/_),L*=_),typeof E=="number"&&(_=E|0,_<0?(O+=b*(i-1),i=N(-i/_)):i=N(i/_),b*=_),new M(this.data,w,i,L,b,O)},S.transpose=function(x,E){x=x===void 0?0:x|0,E=E===void 0?1:E|0;var w=this.shape,i=this.stride;return new M(this.data,w[x],w[E],i[x],i[E],this.offset)},S.pick=function(x,E){var w=[],i=[],L=this.offset;typeof x=="number"&&x>=0?L=L+this.stride[0]*x|0:(w.push(this.shape[0]),i.push(this.stride[0])),typeof E=="number"&&E>=0?L=L+this.stride[1]*E|0:(w.push(this.shape[1]),i.push(this.stride[1]));var b=l[w.length+1];return b(this.data,w,i,L)},function(x,E,w,i){return new M(x,E[0],E[1],w[0],w[1],i)}},3:function(h,l,p){function M(P,x,E,w,i,L,b,O){this.data=P,this.shape=[x,E,w],this.stride=[i,L,b],this.offset=O|0}var S=M.prototype;return S.dtype=h,S.dimension=3,Object.defineProperty(S,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]}}),Object.defineProperty(S,"order",{get:function(){var x=Math.abs(this.stride[0]),E=Math.abs(this.stride[1]),w=Math.abs(this.stride[2]);return x>E?E>w?[2,1,0]:x>w?[1,2,0]:[1,0,2]:x>w?[2,0,1]:w>E?[0,1,2]:[0,2,1]}}),S.set=function(x,E,w,i){return h==="generic"?this.data.set(this.offset+this.stride[0]*x+this.stride[1]*E+this.stride[2]*w,i):this.data[this.offset+this.stride[0]*x+this.stride[1]*E+this.stride[2]*w]=i},S.get=function(x,E,w){return h==="generic"?this.data.get(this.offset+this.stride[0]*x+this.stride[1]*E+this.stride[2]*w):this.data[this.offset+this.stride[0]*x+this.stride[1]*E+this.stride[2]*w]},S.index=function(x,E,w){return this.offset+this.stride[0]*x+this.stride[1]*E+this.stride[2]*w},S.hi=function(x,E,w){return new M(this.data,typeof x!="number"||x<0?this.shape[0]:x|0,typeof E!="number"||E<0?this.shape[1]:E|0,typeof w!="number"||w<0?this.shape[2]:w|0,this.stride[0],this.stride[1],this.stride[2],this.offset)},S.lo=function(x,E,w){var i=this.offset,L=0,b=this.shape[0],O=this.shape[1],_=this.shape[2],N=this.stride[0],z=this.stride[1],B=this.stride[2];return typeof x=="number"&&x>=0&&(L=x|0,i+=N*L,b-=L),typeof E=="number"&&E>=0&&(L=E|0,i+=z*L,O-=L),typeof w=="number"&&w>=0&&(L=w|0,i+=B*L,_-=L),new M(this.data,b,O,_,N,z,B,i)},S.step=function(x,E,w){var i=this.shape[0],L=this.shape[1],b=this.shape[2],O=this.stride[0],_=this.stride[1],N=this.stride[2],z=this.offset,B=0,U=Math.ceil;return typeof x=="number"&&(B=x|0,B<0?(z+=O*(i-1),i=U(-i/B)):i=U(i/B),O*=B),typeof E=="number"&&(B=E|0,B<0?(z+=_*(L-1),L=U(-L/B)):L=U(L/B),_*=B),typeof w=="number"&&(B=w|0,B<0?(z+=N*(b-1),b=U(-b/B)):b=U(b/B),N*=B),new M(this.data,i,L,b,O,_,N,z)},S.transpose=function(x,E,w){x=x===void 0?0:x|0,E=E===void 0?1:E|0,w=w===void 0?2:w|0;var i=this.shape,L=this.stride;return new M(this.data,i[x],i[E],i[w],L[x],L[E],L[w],this.offset)},S.pick=function(x,E,w){var i=[],L=[],b=this.offset;typeof x=="number"&&x>=0?b=b+this.stride[0]*x|0:(i.push(this.shape[0]),L.push(this.stride[0])),typeof E=="number"&&E>=0?b=b+this.stride[1]*E|0:(i.push(this.shape[1]),L.push(this.stride[1])),typeof w=="number"&&w>=0?b=b+this.stride[2]*w|0:(i.push(this.shape[2]),L.push(this.stride[2]));var O=l[i.length+1];return O(this.data,i,L,b)},function(x,E,w,i){return new M(x,E[0],E[1],E[2],w[0],w[1],w[2],i)}},4:function(h,l,p){function M(P,x,E,w,i,L,b,O,_,N){this.data=P,this.shape=[x,E,w,i],this.stride=[L,b,O,_],this.offset=N|0}var S=M.prototype;return S.dtype=h,S.dimension=4,Object.defineProperty(S,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]}}),Object.defineProperty(S,"order",{get:p}),S.set=function(x,E,w,i,L){return h==="generic"?this.data.set(this.offset+this.stride[0]*x+this.stride[1]*E+this.stride[2]*w+this.stride[3]*i,L):this.data[this.offset+this.stride[0]*x+this.stride[1]*E+this.stride[2]*w+this.stride[3]*i]=L},S.get=function(x,E,w,i){return h==="generic"?this.data.get(this.offset+this.stride[0]*x+this.stride[1]*E+this.stride[2]*w+this.stride[3]*i):this.data[this.offset+this.stride[0]*x+this.stride[1]*E+this.stride[2]*w+this.stride[3]*i]},S.index=function(x,E,w,i){return this.offset+this.stride[0]*x+this.stride[1]*E+this.stride[2]*w+this.stride[3]*i},S.hi=function(x,E,w,i){return new M(this.data,typeof x!="number"||x<0?this.shape[0]:x|0,typeof E!="number"||E<0?this.shape[1]:E|0,typeof w!="number"||w<0?this.shape[2]:w|0,typeof i!="number"||i<0?this.shape[3]:i|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.offset)},S.lo=function(x,E,w,i){var L=this.offset,b=0,O=this.shape[0],_=this.shape[1],N=this.shape[2],z=this.shape[3],B=this.stride[0],U=this.stride[1],F=this.stride[2],V=this.stride[3];return typeof x=="number"&&x>=0&&(b=x|0,L+=B*b,O-=b),typeof E=="number"&&E>=0&&(b=E|0,L+=U*b,_-=b),typeof w=="number"&&w>=0&&(b=w|0,L+=F*b,N-=b),typeof i=="number"&&i>=0&&(b=i|0,L+=V*b,z-=b),new M(this.data,O,_,N,z,B,U,F,V,L)},S.step=function(x,E,w,i){var L=this.shape[0],b=this.shape[1],O=this.shape[2],_=this.shape[3],N=this.stride[0],z=this.stride[1],B=this.stride[2],U=this.stride[3],F=this.offset,V=0,j=Math.ceil;return typeof x=="number"&&(V=x|0,V<0?(F+=N*(L-1),L=j(-L/V)):L=j(L/V),N*=V),typeof E=="number"&&(V=E|0,V<0?(F+=z*(b-1),b=j(-b/V)):b=j(b/V),z*=V),typeof w=="number"&&(V=w|0,V<0?(F+=B*(O-1),O=j(-O/V)):O=j(O/V),B*=V),typeof i=="number"&&(V=i|0,V<0?(F+=U*(_-1),_=j(-_/V)):_=j(_/V),U*=V),new M(this.data,L,b,O,_,N,z,B,U,F)},S.transpose=function(x,E,w,i){x=x===void 0?0:x|0,E=E===void 0?1:E|0,w=w===void 0?2:w|0,i=i===void 0?3:i|0;var L=this.shape,b=this.stride;return new M(this.data,L[x],L[E],L[w],L[i],b[x],b[E],b[w],b[i],this.offset)},S.pick=function(x,E,w,i){var L=[],b=[],O=this.offset;typeof x=="number"&&x>=0?O=O+this.stride[0]*x|0:(L.push(this.shape[0]),b.push(this.stride[0])),typeof E=="number"&&E>=0?O=O+this.stride[1]*E|0:(L.push(this.shape[1]),b.push(this.stride[1])),typeof w=="number"&&w>=0?O=O+this.stride[2]*w|0:(L.push(this.shape[2]),b.push(this.stride[2])),typeof i=="number"&&i>=0?O=O+this.stride[3]*i|0:(L.push(this.shape[3]),b.push(this.stride[3]));var _=l[L.length+1];return _(this.data,L,b,O)},function(x,E,w,i){return new M(x,E[0],E[1],E[2],E[3],w[0],w[1],w[2],w[3],i)}},5:function(l,p,M){function S(x,E,w,i,L,b,O,_,N,z,B,U){this.data=x,this.shape=[E,w,i,L,b],this.stride=[O,_,N,z,B],this.offset=U|0}var P=S.prototype;return P.dtype=l,P.dimension=5,Object.defineProperty(P,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]*this.shape[4]}}),Object.defineProperty(P,"order",{get:M}),P.set=function(E,w,i,L,b,O){return l==="generic"?this.data.set(this.offset+this.stride[0]*E+this.stride[1]*w+this.stride[2]*i+this.stride[3]*L+this.stride[4]*b,O):this.data[this.offset+this.stride[0]*E+this.stride[1]*w+this.stride[2]*i+this.stride[3]*L+this.stride[4]*b]=O},P.get=function(E,w,i,L,b){return l==="generic"?this.data.get(this.offset+this.stride[0]*E+this.stride[1]*w+this.stride[2]*i+this.stride[3]*L+this.stride[4]*b):this.data[this.offset+this.stride[0]*E+this.stride[1]*w+this.stride[2]*i+this.stride[3]*L+this.stride[4]*b]},P.index=function(E,w,i,L,b){return this.offset+this.stride[0]*E+this.stride[1]*w+this.stride[2]*i+this.stride[3]*L+this.stride[4]*b},P.hi=function(E,w,i,L,b){return new S(this.data,typeof E!="number"||E<0?this.shape[0]:E|0,typeof w!="number"||w<0?this.shape[1]:w|0,typeof i!="number"||i<0?this.shape[2]:i|0,typeof L!="number"||L<0?this.shape[3]:L|0,typeof b!="number"||b<0?this.shape[4]:b|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.stride[4],this.offset)},P.lo=function(E,w,i,L,b){var O=this.offset,_=0,N=this.shape[0],z=this.shape[1],B=this.shape[2],U=this.shape[3],F=this.shape[4],V=this.stride[0],j=this.stride[1],$=this.stride[2],ne=this.stride[3],oe=this.stride[4];return typeof E=="number"&&E>=0&&(_=E|0,O+=V*_,N-=_),typeof w=="number"&&w>=0&&(_=w|0,O+=j*_,z-=_),typeof i=="number"&&i>=0&&(_=i|0,O+=$*_,B-=_),typeof L=="number"&&L>=0&&(_=L|0,O+=ne*_,U-=_),typeof b=="number"&&b>=0&&(_=b|0,O+=oe*_,F-=_),new S(this.data,N,z,B,U,F,V,j,$,ne,oe,O)},P.step=function(E,w,i,L,b){var O=this.shape[0],_=this.shape[1],N=this.shape[2],z=this.shape[3],B=this.shape[4],U=this.stride[0],F=this.stride[1],V=this.stride[2],j=this.stride[3],$=this.stride[4],ne=this.offset,oe=0,ce=Math.ceil;return typeof E=="number"&&(oe=E|0,oe<0?(ne+=U*(O-1),O=ce(-O/oe)):O=ce(O/oe),U*=oe),typeof w=="number"&&(oe=w|0,oe<0?(ne+=F*(_-1),_=ce(-_/oe)):_=ce(_/oe),F*=oe),typeof i=="number"&&(oe=i|0,oe<0?(ne+=V*(N-1),N=ce(-N/oe)):N=ce(N/oe),V*=oe),typeof L=="number"&&(oe=L|0,oe<0?(ne+=j*(z-1),z=ce(-z/oe)):z=ce(z/oe),j*=oe),typeof b=="number"&&(oe=b|0,oe<0?(ne+=$*(B-1),B=ce(-B/oe)):B=ce(B/oe),$*=oe),new S(this.data,O,_,N,z,B,U,F,V,j,$,ne)},P.transpose=function(E,w,i,L,b){E=E===void 0?0:E|0,w=w===void 0?1:w|0,i=i===void 0?2:i|0,L=L===void 0?3:L|0,b=b===void 0?4:b|0;var O=this.shape,_=this.stride;return new S(this.data,O[E],O[w],O[i],O[L],O[b],_[E],_[w],_[i],_[L],_[b],this.offset)},P.pick=function(E,w,i,L,b){var O=[],_=[],N=this.offset;typeof E=="number"&&E>=0?N=N+this.stride[0]*E|0:(O.push(this.shape[0]),_.push(this.stride[0])),typeof w=="number"&&w>=0?N=N+this.stride[1]*w|0:(O.push(this.shape[1]),_.push(this.stride[1])),typeof i=="number"&&i>=0?N=N+this.stride[2]*i|0:(O.push(this.shape[2]),_.push(this.stride[2])),typeof L=="number"&&L>=0?N=N+this.stride[3]*L|0:(O.push(this.shape[3]),_.push(this.stride[3])),typeof b=="number"&&b>=0?N=N+this.stride[4]*b|0:(O.push(this.shape[4]),_.push(this.stride[4]));var z=p[O.length+1];return z(this.data,O,_,N)},function(E,w,i,L){return new S(E,w[0],w[1],w[2],w[3],w[4],i[0],i[1],i[2],i[3],i[4],L)}}};function u(h,l){var p=l===-1?"T":String(l),M=f[p];return l===-1?M(h):l===0?M(h,c[h][0]):M(h,c[h],o)}function m(h){if(r(h))return"buffer";if(s)switch(Object.prototype.toString.call(h)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(h)?"array":"generic"}var c={generic:[],buffer:[],array:[],float32:[],float64:[],int8:[],int16:[],int32:[],uint8_clamped:[],uint8:[],uint16:[],uint32:[],bigint64:[],biguint64:[]};function A(h,l,p,M){if(h===void 0){var i=c.array[0];return i([])}else typeof h=="number"&&(h=[h]);l===void 0&&(l=[h.length]);var S=l.length;if(p===void 0){p=new Array(S);for(var P=S-1,x=1;P>=0;--P)p[P]=x,x*=l[P]}if(M===void 0){M=0;for(var P=0;P<S;++P)p[P]<0&&(M-=(l[P]-1)*p[P])}for(var E=m(h),w=c[E];w.length<=S+1;)w.push(u(E,w.length-1));var i=w[S+1];return i(h,l,p,M)}v.exports=A},8551:function(v,y,t){var r=t(8362),s=Math.pow(2,-1074),n=-1>>>0;v.exports=o;function o(f,u){if(isNaN(f)||isNaN(u))return NaN;if(f===u)return f;if(f===0)return u<0?-s:s;var m=r.hi(f),c=r.lo(f);return u>f==f>0?c===n?(m+=1,c=0):c+=1:c===0?(c=n,m-=1):c-=1,r.pack(c,m)}},115:function(v,y){var t=1e-6,r=1e-6;y.vertexNormals=function(s,n,o){for(var f=n.length,u=new Array(f),m=o===void 0?t:o,c=0;c<f;++c)u[c]=[0,0,0];for(var c=0;c<s.length;++c)for(var A=s[c],h=0,l=A[A.length-1],p=A[0],M=0;M<A.length;++M){h=l,l=p,p=A[(M+1)%A.length];for(var S=n[h],P=n[l],x=n[p],E=new Array(3),w=0,i=new Array(3),L=0,b=0;b<3;++b)E[b]=S[b]-P[b],w+=E[b]*E[b],i[b]=x[b]-P[b],L+=i[b]*i[b];if(w*L>m)for(var O=u[l],_=1/Math.sqrt(w*L),b=0;b<3;++b){var N=(b+1)%3,z=(b+2)%3;O[b]+=_*(i[N]*E[z]-i[z]*E[N])}}for(var c=0;c<f;++c){for(var O=u[c],B=0,b=0;b<3;++b)B+=O[b]*O[b];if(B>m)for(var _=1/Math.sqrt(B),b=0;b<3;++b)O[b]*=_;else for(var b=0;b<3;++b)O[b]=0}return u},y.faceNormals=function(s,n,o){for(var f=s.length,u=new Array(f),m=o===void 0?r:o,c=0;c<f;++c){for(var A=s[c],h=new Array(3),l=0;l<3;++l)h[l]=n[A[l]];for(var p=new Array(3),M=new Array(3),l=0;l<3;++l)p[l]=h[1][l]-h[0][l],M[l]=h[2][l]-h[0][l];for(var S=new Array(3),P=0,l=0;l<3;++l){var x=(l+1)%3,E=(l+2)%3;S[l]=p[x]*M[E]-p[E]*M[x],P+=S[l]*S[l]}P>m?P=1/Math.sqrt(P):P=0;for(var l=0;l<3;++l)S[l]*=P;u[c]=S}return u}},567:function(v){v.exports=y;function y(t,r,s,n,o,f,u,m,c,A){var h=r+f+A;if(l>0){var l=Math.sqrt(h+1);t[0]=.5*(u-c)/l,t[1]=.5*(m-n)/l,t[2]=.5*(s-f)/l,t[3]=.5*l}else{var p=Math.max(r,f,A),l=Math.sqrt(2*p-h+1);r>=p?(t[0]=.5*l,t[1]=.5*(o+s)/l,t[2]=.5*(m+n)/l,t[3]=.5*(u-c)/l):f>=p?(t[0]=.5*(s+o)/l,t[1]=.5*l,t[2]=.5*(c+u)/l,t[3]=.5*(m-n)/l):(t[0]=.5*(n+m)/l,t[1]=.5*(u+c)/l,t[2]=.5*l,t[3]=.5*(s-o)/l)}return t}},7774:function(v,y,t){v.exports=l;var r=t(8444),s=t(3012),n=t(5950),o=t(7437),f=t(567);function u(p,M,S){return Math.sqrt(Math.pow(p,2)+Math.pow(M,2)+Math.pow(S,2))}function m(p,M,S,P){return Math.sqrt(Math.pow(p,2)+Math.pow(M,2)+Math.pow(S,2)+Math.pow(P,2))}function c(p,M){var S=M[0],P=M[1],x=M[2],E=M[3],w=m(S,P,x,E);w>1e-6?(p[0]=S/w,p[1]=P/w,p[2]=x/w,p[3]=E/w):(p[0]=p[1]=p[2]=0,p[3]=1)}function A(p,M,S){this.radius=r([S]),this.center=r(M),this.rotation=r(p),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}var h=A.prototype;h.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},h.recalcMatrix=function(p){this.radius.curve(p),this.center.curve(p),this.rotation.curve(p);var M=this.computedRotation;c(M,M);var S=this.computedMatrix;n(S,M);var P=this.computedCenter,x=this.computedEye,E=this.computedUp,w=Math.exp(this.computedRadius[0]);x[0]=P[0]+w*S[2],x[1]=P[1]+w*S[6],x[2]=P[2]+w*S[10],E[0]=S[1],E[1]=S[5],E[2]=S[9];for(var i=0;i<3;++i){for(var L=0,b=0;b<3;++b)L+=S[i+4*b]*x[b];S[12+i]=-L}},h.getMatrix=function(p,M){this.recalcMatrix(p);var S=this.computedMatrix;if(M){for(var P=0;P<16;++P)M[P]=S[P];return M}return S},h.idle=function(p){this.center.idle(p),this.radius.idle(p),this.rotation.idle(p)},h.flush=function(p){this.center.flush(p),this.radius.flush(p),this.rotation.flush(p)},h.pan=function(p,M,S,P){M=M||0,S=S||0,P=P||0,this.recalcMatrix(p);var x=this.computedMatrix,E=x[1],w=x[5],i=x[9],L=u(E,w,i);E/=L,w/=L,i/=L;var b=x[0],O=x[4],_=x[8],N=b*E+O*w+_*i;b-=E*N,O-=w*N,_-=i*N;var z=u(b,O,_);b/=z,O/=z,_/=z,x[2],x[6],x[10];var B=b*M+E*S,U=O*M+w*S,F=_*M+i*S;this.center.move(p,B,U,F);var V=Math.exp(this.computedRadius[0]);V=Math.max(1e-4,V+P),this.radius.set(p,Math.log(V))},h.rotate=function(p,M,S,P){this.recalcMatrix(p),M=M||0,S=S||0;var x=this.computedMatrix,E=x[0],w=x[4],i=x[8],L=x[1],b=x[5],O=x[9],_=x[2],N=x[6],z=x[10],B=M*E+S*L,U=M*w+S*b,F=M*i+S*O,V=-(N*F-z*U),j=-(z*B-_*F),$=-(_*U-N*B),ne=Math.sqrt(Math.max(0,1-Math.pow(V,2)-Math.pow(j,2)-Math.pow($,2))),oe=m(V,j,$,ne);oe>1e-6?(V/=oe,j/=oe,$/=oe,ne/=oe):(V=j=$=0,ne=1);var ce=this.computedRotation,Q=ce[0],Z=ce[1],K=ce[2],J=ce[3],re=Q*ne+J*V+Z*$-K*j,le=Z*ne+J*j+K*V-Q*$,q=K*ne+J*$+Q*j-Z*V,ee=J*ne-Q*V-Z*j-K*$;if(P){V=_,j=N,$=z;var ue=Math.sin(P)/u(V,j,$);V*=ue,j*=ue,$*=ue,ne=Math.cos(M),re=re*ne+ee*V+le*$-q*j,le=le*ne+ee*j+q*V-re*$,q=q*ne+ee*$+re*j-le*V,ee=ee*ne-re*V-le*j-q*$}var se=m(re,le,q,ee);se>1e-6?(re/=se,le/=se,q/=se,ee/=se):(re=le=q=0,ee=1),this.rotation.set(p,re,le,q,ee)},h.lookAt=function(p,M,S,P){this.recalcMatrix(p),S=S||this.computedCenter,M=M||this.computedEye,P=P||this.computedUp;var x=this.computedMatrix;s(x,M,S,P);var E=this.computedRotation;f(E,x[0],x[1],x[2],x[4],x[5],x[6],x[8],x[9],x[10]),c(E,E),this.rotation.set(p,E[0],E[1],E[2],E[3]);for(var w=0,i=0;i<3;++i)w+=Math.pow(S[i]-M[i],2);this.radius.set(p,.5*Math.log(Math.max(w,1e-6))),this.center.set(p,S[0],S[1],S[2])},h.translate=function(p,M,S,P){this.center.move(p,M||0,S||0,P||0)},h.setMatrix=function(p,M){var S=this.computedRotation;f(S,M[0],M[1],M[2],M[4],M[5],M[6],M[8],M[9],M[10]),c(S,S),this.rotation.set(p,S[0],S[1],S[2],S[3]);var P=this.computedMatrix;o(P,M);var x=P[15];if(Math.abs(x)>1e-6){var E=P[12]/x,w=P[13]/x,i=P[14]/x;this.recalcMatrix(p);var L=Math.exp(this.computedRadius[0]);this.center.set(p,E-P[2]*L,w-P[6]*L,i-P[10]*L),this.radius.idle(p)}else this.center.idle(p),this.radius.idle(p)},h.setDistance=function(p,M){M>0&&this.radius.set(p,Math.log(M))},h.setDistanceLimits=function(p,M){p>0?p=Math.log(p):p=-1/0,M>0?M=Math.log(M):M=1/0,M=Math.max(M,p),this.radius.bounds[0][0]=p,this.radius.bounds[1][0]=M},h.getDistanceLimits=function(p){var M=this.radius.bounds;return p?(p[0]=Math.exp(M[0][0]),p[1]=Math.exp(M[1][0]),p):[Math.exp(M[0][0]),Math.exp(M[1][0])]},h.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},h.fromJSON=function(p){var M=this.lastT(),S=p.center;S&&this.center.set(M,S[0],S[1],S[2]);var P=p.rotation;P&&this.rotation.set(M,P[0],P[1],P[2],P[3]);var x=p.distance;x&&x>0&&this.radius.set(M,Math.log(x)),this.setDistanceLimits(p.zoomMin,p.zoomMax)};function l(p){p=p||{};var M=p.center||[0,0,0],S=p.rotation||[0,0,0,1],P=p.radius||1;M=[].slice.call(M,0,3),S=[].slice.call(S,0,4),c(S,S);var x=new A(S,M,Math.log(P));return x.setDistanceLimits(p.zoomMin,p.zoomMax),("eye"in p||"up"in p)&&x.lookAt(0,p.eye,p.center,p.up),x}},4930:function(v,y,t){/*!
* pad-left <https://github.com/jonschlinkert/pad-left>
*
* Copyright (c) 2014-2015, Jon Schlinkert.
* Licensed under the MIT license.
*/var r=t(6184);v.exports=function(n,o,f){return f=typeof f<"u"?f+"":" ",r(f,o)+n}},4405:function(v){v.exports=function(t,r){r||(r=[0,""]),t=String(t);var s=parseFloat(t,10);return r[0]=s,r[1]=t.match(/[\d.\-\+]*\s*(.*)/)[1]||"",r}},4166:function(v,y,t){v.exports=s;var r=t(9398);function s(n,o){for(var f=o.length|0,u=n.length,m=[new Array(f),new Array(f)],c=0;c<f;++c)m[0][c]=[],m[1][c]=[];for(var c=0;c<u;++c){var A=n[c];m[0][A[0]].push(A),m[1][A[1]].push(A)}for(var h=[],c=0;c<f;++c)m[0][c].length+m[1][c].length===0&&h.push([c]);function l(w,i){var L=m[i][w[i]];L.splice(L.indexOf(w),1)}function p(w,i,L){for(var b,O,_,N=0;N<2;++N)if(m[N][i].length>0){b=m[N][i][0],_=N;break}O=b[_^1];for(var z=0;z<2;++z)for(var B=m[z][i],U=0;U<B.length;++U){var F=B[U],V=F[z^1],j=r(o[w],o[i],o[O],o[V]);j>0&&(b=F,O=V,_=z)}return L||b&&l(b,_),O}function M(w,i){var L=m[i][w][0],b=[w];l(L,i);for(var O=L[i^1];;){for(;O!==w;)b.push(O),O=p(b[b.length-2],O,!1);if(m[0][w].length+m[1][w].length===0)break;var _=b[b.length-1],N=w,z=b[1],B=p(_,N,!0);if(r(o[_],o[N],o[z],o[B])<0)break;b.push(w),O=p(_,N)}return b}function S(w,i){return i[1]===i[i.length-1]}for(var c=0;c<f;++c)for(var P=0;P<2;++P){for(var x=[];m[P][c].length>0;){m[0][c].length;var E=M(c,P);S(x,E)?x.push.apply(x,E):(x.length>0&&h.push(x),x=E)}x.length>0&&h.push(x)}return h}},3959:function(v,y,t){v.exports=s;var r=t(8348);function s(n,o){for(var f=r(n,o.length),u=new Array(o.length),m=new Array(o.length),c=[],A=0;A<o.length;++A){var h=f[A].length;m[A]=h,u[A]=!0,h<=1&&c.push(A)}for(;c.length>0;){var l=c.pop();u[l]=!1;for(var p=f[l],A=0;A<p.length;++A){var M=p[A];--m[M]===0&&c.push(M)}}for(var S=new Array(o.length),P=[],A=0;A<o.length;++A)if(u[A]){var l=P.length;S[A]=l,P.push(o[A])}else S[A]=-1;for(var x=[],A=0;A<n.length;++A){var E=n[A];u[E[0]]&&u[E[1]]&&x.push([S[E[0]],S[E[1]]])}return[x,P]}},8040:function(v,y,t){v.exports=h;var r=t(8348),s=t(4166),n=t(211),o=t(9660),f=t(9662),u=t(1215),m=t(3959);function c(l,p){for(var M=new Array(l),S=0;S<l;++S)M[S]=p;return M}function A(l){for(var p=new Array(l),M=0;M<l;++M)p[M]=[];return p}function h(l,p){var ee=m(l,p);l=ee[0],p=ee[1];var M=p.length;l.length;for(var S=r(l,p.length),P=0;P<M;++P)if(S[P].length%2===1)throw new Error("planar-graph-to-polyline: graph must be manifold");var x=s(l,p);function E(Oe){for(var Ne=Oe.length,Le=[0],be=0;be<Ne;++be){var Ae=p[Oe[be]],He=p[Oe[(be+1)%Ne]],Ve=o(-Ae[0],Ae[1]),ke=o(-Ae[0],He[1]),Ge=o(He[0],Ae[1]),it=o(He[0],He[1]);Le=f(Le,f(f(Ve,ke),f(Ge,it)))}return Le[Le.length-1]>0}x=x.filter(E);for(var w=x.length,i=new Array(w),L=new Array(w),P=0;P<w;++P){i[P]=P;var b=new Array(w),O=x[P].map(function(Ne){return p[Ne]}),_=n([O]),N=0;e:for(var z=0;z<w;++z)if(b[z]=0,P!==z){for(var B=x[z],U=B.length,F=0;F<U;++F){var V=_(p[B[F]]);if(V!==0){V<0&&(b[z]=1,N+=1);continue e}}b[z]=1,N+=1}L[P]=[N,P,b]}L.sort(function(Oe,Ne){return Ne[0]-Oe[0]});for(var P=0;P<w;++P)for(var b=L[P],j=b[1],$=b[2],z=0;z<w;++z)$[z]&&(i[z]=j);for(var ne=A(w),P=0;P<w;++P)ne[P].push(i[P]),ne[i[P]].push(P);for(var oe={},ce=c(M,!1),P=0;P<w;++P)for(var B=x[P],U=B.length,z=0;z<U;++z){var Q=B[z],Z=B[(z+1)%U],K=Math.min(Q,Z)+":"+Math.max(Q,Z);if(K in oe){var J=oe[K];ne[J].push(P),ne[P].push(J),ce[Q]=ce[Z]=!0}else oe[K]=P}function re(Oe){for(var Ne=Oe.length,Le=0;Le<Ne;++Le)if(!ce[Oe[Le]])return!1;return!0}for(var le=[],q=c(w,-1),P=0;P<w;++P)i[P]===P&&!re(x[P])?(le.push(P),q[P]=0):q[P]=-1;for(var ee=[];le.length>0;){var ue=le.pop(),se=ne[ue];u(se,function(Oe,Ne){return Oe-Ne});var he=se.length,me=q[ue],Ce;if(me===0){var B=x[ue];Ce=[B]}for(var P=0;P<he;++P){var Te=se[P];if(!(q[Te]>=0)&&(q[Te]=me^1,le.push(Te),me===0)){var B=x[Te];re(B)||(B.reverse(),Ce.push(B))}}me===0&&ee.push(Ce)}return ee}},211:function(v,y,t){v.exports=p;var r=t(417)[3],s=t(4385),n=t(9014),o=t(5070);function f(){return!0}function u(M){return function(S,P){var x=M[S];return x?!!x.queryPoint(P,f):!1}}function m(M){for(var S={},P=0;P<M.length;++P){var x=M[P],E=x[0][0],w=x[0][1],i=x[1][1],L=[Math.min(w,i),Math.max(w,i)];E in S?S[E].push(L):S[E]=[L]}for(var b={},O=Object.keys(S),P=0;P<O.length;++P){var _=S[O[P]];b[O[P]]=n(_)}return u(b)}function c(M,S){return function(P){var x=o.le(S,P[0]);if(x<0)return 1;var E=M[x];if(!E)if(x>0&&S[x]===P[0])E=M[x-1];else return 1;for(var w=1;E;){var i=E.key,L=r(P,i[0],i[1]);if(i[0][0]<i[1][0])if(L<0)E=E.left;else if(L>0)w=-1,E=E.right;else return 0;else if(L>0)E=E.left;else if(L<0)w=1,E=E.right;else return 0}return w}}function A(M){return 1}function h(M){return function(P){return M(P[0],P[1])?0:1}}function l(M,S){return function(x){return M(x[0],x[1])?0:S(x)}}function p(M){for(var S=M.length,P=[],x=[],E=0;E<S;++E)for(var w=M[E],i=w.length,L=i-1,b=0;b<i;L=b++){var O=w[L],_=w[b];O[0]===_[0]?x.push([O,_]):P.push([O,_])}if(P.length===0)return x.length===0?A:h(m(x));var N=s(P),z=c(N.slabs,N.coordinates);return x.length===0?z:l(m(x),z)}},7309:function(v){var y=new Float64Array(4),t=new Float64Array(4),r=new Float64Array(4);function s(n,o,f,u,m){y.length<u.length&&(y=new Float64Array(u.length),t=new Float64Array(u.length),r=new Float64Array(u.length));for(var c=0;c<u.length;++c)y[c]=n[c]-u[c],t[c]=o[c]-n[c],r[c]=f[c]-n[c];for(var A=0,h=0,l=0,p=0,M=0,S=0,c=0;c<u.length;++c){var P=t[c],x=r[c],E=y[c];A+=P*P,h+=P*x,l+=x*x,p+=E*P,M+=E*x,S+=E*E}var w=Math.abs(A*l-h*h),i=h*M-l*p,L=h*p-A*M,b;if(i+L<=w)if(i<0)L<0&&p<0?(L=0,-p>=A?(i=1,b=A+2*p+S):(i=-p/A,b=p*i+S)):(i=0,M>=0?(L=0,b=S):-M>=l?(L=1,b=l+2*M+S):(L=-M/l,b=M*L+S));else if(L<0)L=0,p>=0?(i=0,b=S):-p>=A?(i=1,b=A+2*p+S):(i=-p/A,b=p*i+S);else{var O=1/w;i*=O,L*=O,b=i*(A*i+h*L+2*p)+L*(h*i+l*L+2*M)+S}else{var _,N,z,B;i<0?(_=h+p,N=l+M,N>_?(z=N-_,B=A-2*h+l,z>=B?(i=1,L=0,b=A+2*p+S):(i=z/B,L=1-i,b=i*(A*i+h*L+2*p)+L*(h*i+l*L+2*M)+S)):(i=0,N<=0?(L=1,b=l+2*M+S):M>=0?(L=0,b=S):(L=-M/l,b=M*L+S))):L<0?(_=h+M,N=A+p,N>_?(z=N-_,B=A-2*h+l,z>=B?(L=1,i=0,b=l+2*M+S):(L=z/B,i=1-L,b=i*(A*i+h*L+2*p)+L*(h*i+l*L+2*M)+S)):(L=0,N<=0?(i=1,b=A+2*p+S):p>=0?(i=0,b=S):(i=-p/A,b=p*i+S))):(z=l+M-h-p,z<=0?(i=0,L=1,b=l+2*M+S):(B=A-2*h+l,z>=B?(i=1,L=0,b=A+2*p+S):(i=z/B,L=1-i,b=i*(A*i+h*L+2*p)+L*(h*i+l*L+2*M)+S)))}for(var U=1-i-L,c=0;c<u.length;++c)m[c]=U*n[c]+i*o[c]+L*f[c];return b<0?0:b}v.exports=s},1116:function(v,y,t){v.exports=t(6093)},7584:function(v,y,t){var r=t(1539);v.exports=s;function s(n,o){for(var f=n.length,u=new Array(f),m=0;m<f;++m)u[m]=r(n[m],o[m]);return u}},2826:function(v,y,t){v.exports=s;var r=t(5125);function s(n){for(var o=new Array(n.length),f=0;f<n.length;++f)o[f]=r(n[f]);return o}},4469:function(v,y,t){var r=t(5125),s=t(3962);v.exports=n;function n(o,f){for(var u=r(f),m=o.length,c=new Array(m),A=0;A<m;++A)c[A]=s(o[A],u);return c}},6695:function(v,y,t){var r=t(4354);v.exports=s;function s(n,o){for(var f=n.length,u=new Array(f),m=0;m<f;++m)u[m]=r(n[m],o[m]);return u}},7037:function(v,y,t){var r=t(9209),s=t(1284),n=t(9887);v.exports=o;function o(f){f.sort(s);for(var u=f.length,m=0,c=0;c<u;++c){var A=f[c],h=n(A);if(h!==0){if(m>0){var l=f[m-1];if(r(A,l)===0&&n(l)!==h){m-=1;continue}}f[m++]=A}}return f.length=m,f}},6184:function(v){/*!
* repeat-string <https://github.com/jonschlinkert/repeat-string>
*
* Copyright (c) 2014-2015, Jon Schlinkert.
* Licensed under the MIT License.
*/var y="",t;v.exports=r;function r(s,n){if(typeof s!="string")throw new TypeError("expected a string");if(n===1)return s;if(n===2)return s+s;var o=s.length*n;if(t!==s||typeof t>"u")t=s,y="";else if(y.length>=o)return y.substr(0,o);for(;o>y.length&&n>1;)n&1&&(y+=s),n>>=1,s+=s;return y+=s,y=y.substr(0,o),y}},8161:function(v,y,t){v.exports=t.g.performance&&t.g.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}},402:function(v){v.exports=y;function y(t){for(var r=t.length,s=t[t.length-1],n=r,o=r-2;o>=0;--o){var f=s,u=t[o];s=f+u;var m=s-f,c=u-m;c&&(t[--n]=s,s=c)}for(var A=0,o=n;o<r;++o){var f=t[o],u=s;s=f+u;var m=s-f,c=u-m;c&&(t[A++]=c)}return t[A++]=s,t.length=A,t}},8167:function(v,y,t){var r=t(9660),s=t(9662),n=t(8289),o=t(402),f=6;function u(S,P,x,E){return function(i){return E(S(x(i[0][0],i[1][1]),x(-i[0][1],i[1][0])))}}function m(S,P,x,E){return function(i){return E(S(P(S(x(i[1][1],i[2][2]),x(-i[1][2],i[2][1])),i[0][0]),S(P(S(x(i[1][0],i[2][2]),x(-i[1][2],i[2][0])),-i[0][1]),P(S(x(i[1][0],i[2][1]),x(-i[1][1],i[2][0])),i[0][2]))))}}function c(S,P,x,E){return function(i){return E(S(S(P(S(P(S(x(i[2][2],i[3][3]),x(-i[2][3],i[3][2])),i[1][1]),S(P(S(x(i[2][1],i[3][3]),x(-i[2][3],i[3][1])),-i[1][2]),P(S(x(i[2][1],i[3][2]),x(-i[2][2],i[3][1])),i[1][3]))),i[0][0]),P(S(P(S(x(i[2][2],i[3][3]),x(-i[2][3],i[3][2])),i[1][0]),S(P(S(x(i[2][0],i[3][3]),x(-i[2][3],i[3][0])),-i[1][2]),P(S(x(i[2][0],i[3][2]),x(-i[2][2],i[3][0])),i[1][3]))),-i[0][1])),S(P(S(P(S(x(i[2][1],i[3][3]),x(-i[2][3],i[3][1])),i[1][0]),S(P(S(x(i[2][0],i[3][3]),x(-i[2][3],i[3][0])),-i[1][1]),P(S(x(i[2][0],i[3][1]),x(-i[2][1],i[3][0])),i[1][3]))),i[0][2]),P(S(P(S(x(i[2][1],i[3][2]),x(-i[2][2],i[3][1])),i[1][0]),S(P(S(x(i[2][0],i[3][2]),x(-i[2][2],i[3][0])),-i[1][1]),P(S(x(i[2][0],i[3][1]),x(-i[2][1],i[3][0])),i[1][2]))),-i[0][3]))))}}function A(S,P,x,E){return function(i){return E(S(S(P(S(S(P(S(P(S(x(i[3][3],i[4][4]),x(-i[3][4],i[4][3])),i[2][2]),S(P(S(x(i[3][2],i[4][4]),x(-i[3][4],i[4][2])),-i[2][3]),P(S(x(i[3][2],i[4][3]),x(-i[3][3],i[4][2])),i[2][4]))),i[1][1]),P(S(P(S(x(i[3][3],i[4][4]),x(-i[3][4],i[4][3])),i[2][1]),S(P(S(x(i[3][1],i[4][4]),x(-i[3][4],i[4][1])),-i[2][3]),P(S(x(i[3][1],i[4][3]),x(-i[3][3],i[4][1])),i[2][4]))),-i[1][2])),S(P(S(P(S(x(i[3][2],i[4][4]),x(-i[3][4],i[4][2])),i[2][1]),S(P(S(x(i[3][1],i[4][4]),x(-i[3][4],i[4][1])),-i[2][2]),P(S(x(i[3][1],i[4][2]),x(-i[3][2],i[4][1])),i[2][4]))),i[1][3]),P(S(P(S(x(i[3][2],i[4][3]),x(-i[3][3],i[4][2])),i[2][1]),S(P(S(x(i[3][1],i[4][3]),x(-i[3][3],i[4][1])),-i[2][2]),P(S(x(i[3][1],i[4][2]),x(-i[3][2],i[4][1])),i[2][3]))),-i[1][4]))),i[0][0]),P(S(S(P(S(P(S(x(i[3][3],i[4][4]),x(-i[3][4],i[4][3])),i[2][2]),S(P(S(x(i[3][2],i[4][4]),x(-i[3][4],i[4][2])),-i[2][3]),P(S(x(i[3][2],i[4][3]),x(-i[3][3],i[4][2])),i[2][4]))),i[1][0]),P(S(P(S(x(i[3][3],i[4][4]),x(-i[3][4],i[4][3])),i[2][0]),S(P(S(x(i[3][0],i[4][4]),x(-i[3][4],i[4][0])),-i[2][3]),P(S(x(i[3][0],i[4][3]),x(-i[3][3],i[4][0])),i[2][4]))),-i[1][2])),S(P(S(P(S(x(i[3][2],i[4][4]),x(-i[3][4],i[4][2])),i[2][0]),S(P(S(x(i[3][0],i[4][4]),x(-i[3][4],i[4][0])),-i[2][2]),P(S(x(i[3][0],i[4][2]),x(-i[3][2],i[4][0])),i[2][4]))),i[1][3]),P(S(P(S(x(i[3][2],i[4][3]),x(-i[3][3],i[4][2])),i[2][0]),S(P(S(x(i[3][0],i[4][3]),x(-i[3][3],i[4][0])),-i[2][2]),P(S(x(i[3][0],i[4][2]),x(-i[3][2],i[4][0])),i[2][3]))),-i[1][4]))),-i[0][1])),S(P(S(S(P(S(P(S(x(i[3][3],i[4][4]),x(-i[3][4],i[4][3])),i[2][1]),S(P(S(x(i[3][1],i[4][4]),x(-i[3][4],i[4][1])),-i[2][3]),P(S(x(i[3][1],i[4][3]),x(-i[3][3],i[4][1])),i[2][4]))),i[1][0]),P(S(P(S(x(i[3][3],i[4][4]),x(-i[3][4],i[4][3])),i[2][0]),S(P(S(x(i[3][0],i[4][4]),x(-i[3][4],i[4][0])),-i[2][3]),P(S(x(i[3][0],i[4][3]),x(-i[3][3],i[4][0])),i[2][4]))),-i[1][1])),S(P(S(P(S(x(i[3][1],i[4][4]),x(-i[3][4],i[4][1])),i[2][0]),S(P(S(x(i[3][0],i[4][4]),x(-i[3][4],i[4][0])),-i[2][1]),P(S(x(i[3][0],i[4][1]),x(-i[3][1],i[4][0])),i[2][4]))),i[1][3]),P(S(P(S(x(i[3][1],i[4][3]),x(-i[3][3],i[4][1])),i[2][0]),S(P(S(x(i[3][0],i[4][3]),x(-i[3][3],i[4][0])),-i[2][1]),P(S(x(i[3][0],i[4][1]),x(-i[3][1],i[4][0])),i[2][3]))),-i[1][4]))),i[0][2]),S(P(S(S(P(S(P(S(x(i[3][2],i[4][4]),x(-i[3][4],i[4][2])),i[2][1]),S(P(S(x(i[3][1],i[4][4]),x(-i[3][4],i[4][1])),-i[2][2]),P(S(x(i[3][1],i[4][2]),x(-i[3][2],i[4][1])),i[2][4]))),i[1][0]),P(S(P(S(x(i[3][2],i[4][4]),x(-i[3][4],i[4][2])),i[2][0]),S(P(S(x(i[3][0],i[4][4]),x(-i[3][4],i[4][0])),-i[2][2]),P(S(x(i[3][0],i[4][2]),x(-i[3][2],i[4][0])),i[2][4]))),-i[1][1])),S(P(S(P(S(x(i[3][1],i[4][4]),x(-i[3][4],i[4][1])),i[2][0]),S(P(S(x(i[3][0],i[4][4]),x(-i[3][4],i[4][0])),-i[2][1]),P(S(x(i[3][0],i[4][1]),x(-i[3][1],i[4][0])),i[2][4]))),i[1][2]),P(S(P(S(x(i[3][1],i[4][2]),x(-i[3][2],i[4][1])),i[2][0]),S(P(S(x(i[3][0],i[4][2]),x(-i[3][2],i[4][0])),-i[2][1]),P(S(x(i[3][0],i[4][1]),x(-i[3][1],i[4][0])),i[2][2]))),-i[1][4]))),-i[0][3]),P(S(S(P(S(P(S(x(i[3][2],i[4][3]),x(-i[3][3],i[4][2])),i[2][1]),S(P(S(x(i[3][1],i[4][3]),x(-i[3][3],i[4][1])),-i[2][2]),P(S(x(i[3][1],i[4][2]),x(-i[3][2],i[4][1])),i[2][3]))),i[1][0]),P(S(P(S(x(i[3][2],i[4][3]),x(-i[3][3],i[4][2])),i[2][0]),S(P(S(x(i[3][0],i[4][3]),x(-i[3][3],i[4][0])),-i[2][2]),P(S(x(i[3][0],i[4][2]),x(-i[3][2],i[4][0])),i[2][3]))),-i[1][1])),S(P(S(P(S(x(i[3][1],i[4][3]),x(-i[3][3],i[4][1])),i[2][0]),S(P(S(x(i[3][0],i[4][3]),x(-i[3][3],i[4][0])),-i[2][1]),P(S(x(i[3][0],i[4][1]),x(-i[3][1],i[4][0])),i[2][3]))),i[1][2]),P(S(P(S(x(i[3][1],i[4][2]),x(-i[3][2],i[4][1])),i[2][0]),S(P(S(x(i[3][0],i[4][2]),x(-i[3][2],i[4][0])),-i[2][1]),P(S(x(i[3][0],i[4][1]),x(-i[3][1],i[4][0])),i[2][2]))),-i[1][3]))),i[0][4])))))}}function h(S){var P=S===2?u:S===3?m:S===4?c:S===5?A:void 0;return P(s,n,r,o)}var l=[function(){return[0]},function(P){return[P[0][0]]}];function p(S,P,x,E,w,i,L,b){return function(_){switch(_.length){case 0:return S(_);case 1:return P(_);case 2:return x(_);case 3:return E(_);case 4:return w(_);case 5:return i(_)}var N=L[_.length];return N||(N=L[_.length]=b(_.length)),N(_)}}function M(){for(;l.length<f;)l.push(h(l.length));v.exports=p.apply(void 0,l.concat([l,h]));for(var S=0;S<l.length;++S)v.exports[S]=l[S]}M()},9130:function(v,y,t){var r=t(9660),s=t(9662);v.exports=n;function n(o,f){for(var u=r(o[0],f[0]),m=1;m<o.length;++m)u=s(u,r(o[m],f[m]));return u}},2227:function(v,y,t){var r=t(9660),s=t(9662),n=t(4078),o=t(8289),f=6;function u(w){var i=w===3?h:w===4?l:w===5?p:M;return i(s,n,r,o)}function m(){return 0}function c(){return 0}function A(){return 0}function h(w,i,L,b){function O(_,N,z){var B=L(_[0],_[0]),U=b(B,N[0]),F=b(B,z[0]),V=L(N[0],N[0]),j=b(V,_[0]),$=b(V,z[0]),ne=L(z[0],z[0]),oe=b(ne,_[0]),ce=b(ne,N[0]),Q=w(i(ce,$),i(j,U)),Z=i(oe,F),K=i(Q,Z);return K[K.length-1]}return O}function l(w,i,L,b){function O(_,N,z,B){var U=w(L(_[0],_[0]),L(_[1],_[1])),F=b(U,N[0]),V=b(U,z[0]),j=b(U,B[0]),$=w(L(N[0],N[0]),L(N[1],N[1])),ne=b($,_[0]),oe=b($,z[0]),ce=b($,B[0]),Q=w(L(z[0],z[0]),L(z[1],z[1])),Z=b(Q,_[0]),K=b(Q,N[0]),J=b(Q,B[0]),re=w(L(B[0],B[0]),L(B[1],B[1])),le=b(re,_[0]),q=b(re,N[0]),ee=b(re,z[0]),ue=w(w(b(i(ee,J),N[1]),w(b(i(q,ce),-z[1]),b(i(K,oe),B[1]))),w(b(i(q,ce),_[1]),w(b(i(le,j),-N[1]),b(i(ne,F),B[1])))),se=w(w(b(i(ee,J),_[1]),w(b(i(le,j),-z[1]),b(i(Z,V),B[1]))),w(b(i(K,oe),_[1]),w(b(i(Z,V),-N[1]),b(i(ne,F),z[1])))),he=i(ue,se);return he[he.length-1]}return O}function p(w,i,L,b){function O(_,N,z,B,U){var F=w(L(_[0],_[0]),w(L(_[1],_[1]),L(_[2],_[2]))),V=b(F,N[0]),j=b(F,z[0]),$=b(F,B[0]),ne=b(F,U[0]),oe=w(L(N[0],N[0]),w(L(N[1],N[1]),L(N[2],N[2]))),ce=b(oe,_[0]),Q=b(oe,z[0]),Z=b(oe,B[0]),K=b(oe,U[0]),J=w(L(z[0],z[0]),w(L(z[1],z[1]),L(z[2],z[2]))),re=b(J,_[0]),le=b(J,N[0]),q=b(J,B[0]),ee=b(J,U[0]),ue=w(L(B[0],B[0]),w(L(B[1],B[1]),L(B[2],B[2]))),se=b(ue,_[0]),he=b(ue,N[0]),me=b(ue,z[0]),Ce=b(ue,U[0]),Te=w(L(U[0],U[0]),w(L(U[1],U[1]),L(U[2],U[2]))),Oe=b(Te,_[0]),Ne=b(Te,N[0]),Le=b(Te,z[0]),be=b(Te,B[0]),Ae=w(w(w(b(w(b(i(be,Ce),z[1]),w(b(i(Le,ee),-B[1]),b(i(me,q),U[1]))),N[2]),w(b(w(b(i(be,Ce),N[1]),w(b(i(Ne,K),-B[1]),b(i(he,Z),U[1]))),-z[2]),b(w(b(i(Le,ee),N[1]),w(b(i(Ne,K),-z[1]),b(i(le,Q),U[1]))),B[2]))),w(b(w(b(i(me,q),N[1]),w(b(i(he,Z),-z[1]),b(i(le,Q),B[1]))),-U[2]),w(b(w(b(i(be,Ce),N[1]),w(b(i(Ne,K),-B[1]),b(i(he,Z),U[1]))),_[2]),b(w(b(i(be,Ce),_[1]),w(b(i(Oe,ne),-B[1]),b(i(se,$),U[1]))),-N[2])))),w(w(b(w(b(i(Ne,K),_[1]),w(b(i(Oe,ne),-N[1]),b(i(ce,V),U[1]))),B[2]),w(b(w(b(i(he,Z),_[1]),w(b(i(se,$),-N[1]),b(i(ce,V),B[1]))),-U[2]),b(w(b(i(me,q),N[1]),w(b(i(he,Z),-z[1]),b(i(le,Q),B[1]))),_[2]))),w(b(w(b(i(me,q),_[1]),w(b(i(se,$),-z[1]),b(i(re,j),B[1]))),-N[2]),w(b(w(b(i(he,Z),_[1]),w(b(i(se,$),-N[1]),b(i(ce,V),B[1]))),z[2]),b(w(b(i(le,Q),_[1]),w(b(i(re,j),-N[1]),b(i(ce,V),z[1]))),-B[2]))))),He=w(w(w(b(w(b(i(be,Ce),z[1]),w(b(i(Le,ee),-B[1]),b(i(me,q),U[1]))),_[2]),b(w(b(i(be,Ce),_[1]),w(b(i(Oe,ne),-B[1]),b(i(se,$),U[1]))),-z[2])),w(b(w(b(i(Le,ee),_[1]),w(b(i(Oe,ne),-z[1]),b(i(re,j),U[1]))),B[2]),b(w(b(i(me,q),_[1]),w(b(i(se,$),-z[1]),b(i(re,j),B[1]))),-U[2]))),w(w(b(w(b(i(Le,ee),N[1]),w(b(i(Ne,K),-z[1]),b(i(le,Q),U[1]))),_[2]),b(w(b(i(Le,ee),_[1]),w(b(i(Oe,ne),-z[1]),b(i(re,j),U[1]))),-N[2])),w(b(w(b(i(Ne,K),_[1]),w(b(i(Oe,ne),-N[1]),b(i(ce,V),U[1]))),z[2]),b(w(b(i(le,Q),_[1]),w(b(i(re,j),-N[1]),b(i(ce,V),z[1]))),-U[2])))),Ve=i(Ae,He);return Ve[Ve.length-1]}return O}function M(w,i,L,b){function O(_,N,z,B,U,F){var V=w(w(L(_[0],_[0]),L(_[1],_[1])),w(L(_[2],_[2]),L(_[3],_[3]))),j=b(V,N[0]),$=b(V,z[0]),ne=b(V,B[0]),oe=b(V,U[0]),ce=b(V,F[0]),Q=w(w(L(N[0],N[0]),L(N[1],N[1])),w(L(N[2],N[2]),L(N[3],N[3]))),Z=b(Q,_[0]),K=b(Q,z[0]),J=b(Q,B[0]),re=b(Q,U[0]),le=b(Q,F[0]),q=w(w(L(z[0],z[0]),L(z[1],z[1])),w(L(z[2],z[2]),L(z[3],z[3]))),ee=b(q,_[0]),ue=b(q,N[0]),se=b(q,B[0]),he=b(q,U[0]),me=b(q,F[0]),Ce=w(w(L(B[0],B[0]),L(B[1],B[1])),w(L(B[2],B[2]),L(B[3],B[3]))),Te=b(Ce,_[0]),Oe=b(Ce,N[0]),Ne=b(Ce,z[0]),Le=b(Ce,U[0]),be=b(Ce,F[0]),Ae=w(w(L(U[0],U[0]),L(U[1],U[1])),w(L(U[2],U[2]),L(U[3],U[3]))),He=b(Ae,_[0]),Ve=b(Ae,N[0]),ke=b(Ae,z[0]),Ge=b(Ae,B[0]),it=b(Ae,F[0]),et=w(w(L(F[0],F[0]),L(F[1],F[1])),w(L(F[2],F[2]),L(F[3],F[3]))),tt=b(et,_[0]),at=b(et,N[0]),vt=b(et,z[0]),yt=b(et,B[0]),gt=b(et,U[0]),Mt=w(w(w(b(w(w(b(w(b(i(gt,it),B[1]),w(b(i(yt,be),-U[1]),b(i(Ge,Le),F[1]))),z[2]),b(w(b(i(gt,it),z[1]),w(b(i(vt,me),-U[1]),b(i(ke,he),F[1]))),-B[2])),w(b(w(b(i(yt,be),z[1]),w(b(i(vt,me),-B[1]),b(i(Ne,se),F[1]))),U[2]),b(w(b(i(Ge,Le),z[1]),w(b(i(ke,he),-B[1]),b(i(Ne,se),U[1]))),-F[2]))),N[3]),w(b(w(w(b(w(b(i(gt,it),B[1]),w(b(i(yt,be),-U[1]),b(i(Ge,Le),F[1]))),N[2]),b(w(b(i(gt,it),N[1]),w(b(i(at,le),-U[1]),b(i(Ve,re),F[1]))),-B[2])),w(b(w(b(i(yt,be),N[1]),w(b(i(at,le),-B[1]),b(i(Oe,J),F[1]))),U[2]),b(w(b(i(Ge,Le),N[1]),w(b(i(Ve,re),-B[1]),b(i(Oe,J),U[1]))),-F[2]))),-z[3]),b(w(w(b(w(b(i(gt,it),z[1]),w(b(i(vt,me),-U[1]),b(i(ke,he),F[1]))),N[2]),b(w(b(i(gt,it),N[1]),w(b(i(at,le),-U[1]),b(i(Ve,re),F[1]))),-z[2])),w(b(w(b(i(vt,me),N[1]),w(b(i(at,le),-z[1]),b(i(ue,K),F[1]))),U[2]),b(w(b(i(ke,he),N[1]),w(b(i(Ve,re),-z[1]),b(i(ue,K),U[1]))),-F[2]))),B[3]))),w(w(b(w(w(b(w(b(i(yt,be),z[1]),w(b(i(vt,me),-B[1]),b(i(Ne,se),F[1]))),N[2]),b(w(b(i(yt,be),N[1]),w(b(i(at,le),-B[1]),b(i(Oe,J),F[1]))),-z[2])),w(b(w(b(i(vt,me),N[1]),w(b(i(at,le),-z[1]),b(i(ue,K),F[1]))),B[2]),b(w(b(i(Ne,se),N[1]),w(b(i(Oe,J),-z[1]),b(i(ue,K),B[1]))),-F[2]))),-U[3]),b(w(w(b(w(b(i(Ge,Le),z[1]),w(b(i(ke,he),-B[1]),b(i(Ne,se),U[1]))),N[2]),b(w(b(i(Ge,Le),N[1]),w(b(i(Ve,re),-B[1]),b(i(Oe,J),U[1]))),-z[2])),w(b(w(b(i(ke,he),N[1]),w(b(i(Ve,re),-z[1]),b(i(ue,K),U[1]))),B[2]),b(w(b(i(Ne,se),N[1]),w(b(i(Oe,J),-z[1]),b(i(ue,K),B[1]))),-U[2]))),F[3])),w(b(w(w(b(w(b(i(gt,it),B[1]),w(b(i(yt,be),-U[1]),b(i(Ge,Le),F[1]))),N[2]),b(w(b(i(gt,it),N[1]),w(b(i(at,le),-U[1]),b(i(Ve,re),F[1]))),-B[2])),w(b(w(b(i(yt,be),N[1]),w(b(i(at,le),-B[1]),b(i(Oe,J),F[1]))),U[2]),b(w(b(i(Ge,Le),N[1]),w(b(i(Ve,re),-B[1]),b(i(Oe,J),U[1]))),-F[2]))),_[3]),b(w(w(b(w(b(i(gt,it),B[1]),w(b(i(yt,be),-U[1]),b(i(Ge,Le),F[1]))),_[2]),b(w(b(i(gt,it),_[1]),w(b(i(tt,ce),-U[1]),b(i(He,oe),F[1]))),-B[2])),w(b(w(b(i(yt,be),_[1]),w(b(i(tt,ce),-B[1]),b(i(Te,ne),F[1]))),U[2]),b(w(b(i(Ge,Le),_[1]),w(b(i(He,oe),-B[1]),b(i(Te,ne),U[1]))),-F[2]))),-N[3])))),w(w(w(b(w(w(b(w(b(i(gt,it),N[1]),w(b(i(at,le),-U[1]),b(i(Ve,re),F[1]))),_[2]),b(w(b(i(gt,it),_[1]),w(b(i(tt,ce),-U[1]),b(i(He,oe),F[1]))),-N[2])),w(b(w(b(i(at,le),_[1]),w(b(i(tt,ce),-N[1]),b(i(Z,j),F[1]))),U[2]),b(w(b(i(Ve,re),_[1]),w(b(i(He,oe),-N[1]),b(i(Z,j),U[1]))),-F[2]))),B[3]),b(w(w(b(w(b(i(yt,be),N[1]),w(b(i(at,le),-B[1]),b(i(Oe,J),F[1]))),_[2]),b(w(b(i(yt,be),_[1]),w(b(i(tt,ce),-B[1]),b(i(Te,ne),F[1]))),-N[2])),w(b(w(b(i(at,le),_[1]),w(b(i(tt,ce),-N[1]),b(i(Z,j),F[1]))),B[2]),b(w(b(i(Oe,J),_[1]),w(b(i(Te,ne),-N[1]),b(i(Z,j),B[1]))),-F[2]))),-U[3])),w(b(w(w(b(w(b(i(Ge,Le),N[1]),w(b(i(Ve,re),-B[1]),b(i(Oe,J),U[1]))),_[2]),b(w(b(i(Ge,Le),_[1]),w(b(i(He,oe),-B[1]),b(i(Te,ne),U[1]))),-N[2])),w(b(w(b(i(Ve,re),_[1]),w(b(i(He,oe),-N[1]),b(i(Z,j),U[1]))),B[2]),b(w(b(i(Oe,J),_[1]),w(b(i(Te,ne),-N[1]),b(i(Z,j),B[1]))),-U[2]))),F[3]),b(w(w(b(w(b(i(yt,be),z[1]),w(b(i(vt,me),-B[1]),b(i(Ne,se),F[1]))),N[2]),b(w(b(i(yt,be),N[1]),w(b(i(at,le),-B[1]),b(i(Oe,J),F[1]))),-z[2])),w(b(w(b(i(vt,me),N[1]),w(b(i(at,le),-z[1]),b(i(ue,K),F[1]))),B[2]),b(w(b(i(Ne,se),N[1]),w(b(i(Oe,J),-z[1]),b(i(ue,K),B[1]))),-F[2]))),_[3]))),w(w(b(w(w(b(w(b(i(yt,be),z[1]),w(b(i(vt,me),-B[1]),b(i(Ne,se),F[1]))),_[2]),b(w(b(i(yt,be),_[1]),w(b(i(tt,ce),-B[1]),b(i(Te,ne),F[1]))),-z[2])),w(b(w(b(i(vt,me),_[1]),w(b(i(tt,ce),-z[1]),b(i(ee,$),F[1]))),B[2]),b(w(b(i(Ne,se),_[1]),w(b(i(Te,ne),-z[1]),b(i(ee,$),B[1]))),-F[2]))),-N[3]),b(w(w(b(w(b(i(yt,be),N[1]),w(b(i(at,le),-B[1]),b(i(Oe,J),F[1]))),_[2]),b(w(b(i(yt,be),_[1]),w(b(i(tt,ce),-B[1]),b(i(Te,ne),F[1]))),-N[2])),w(b(w(b(i(at,le),_[1]),w(b(i(tt,ce),-N[1]),b(i(Z,j),F[1]))),B[2]),b(w(b(i(Oe,J),_[1]),w(b(i(Te,ne),-N[1]),b(i(Z,j),B[1]))),-F[2]))),z[3])),w(b(w(w(b(w(b(i(vt,me),N[1]),w(b(i(at,le),-z[1]),b(i(ue,K),F[1]))),_[2]),b(w(b(i(vt,me),_[1]),w(b(i(tt,ce),-z[1]),b(i(ee,$),F[1]))),-N[2])),w(b(w(b(i(at,le),_[1]),w(b(i(tt,ce),-N[1]),b(i(Z,j),F[1]))),z[2]),b(w(b(i(ue,K),_[1]),w(b(i(ee,$),-N[1]),b(i(Z,j),z[1]))),-F[2]))),-B[3]),b(w(w(b(w(b(i(Ne,se),N[1]),w(b(i(Oe,J),-z[1]),b(i(ue,K),B[1]))),_[2]),b(w(b(i(Ne,se),_[1]),w(b(i(Te,ne),-z[1]),b(i(ee,$),B[1]))),-N[2])),w(b(w(b(i(Oe,J),_[1]),w(b(i(Te,ne),-N[1]),b(i(Z,j),B[1]))),z[2]),b(w(b(i(ue,K),_[1]),w(b(i(ee,$),-N[1]),b(i(Z,j),z[1]))),-B[2]))),F[3]))))),Ct=w(w(w(b(w(w(b(w(b(i(gt,it),B[1]),w(b(i(yt,be),-U[1]),b(i(Ge,Le),F[1]))),z[2]),b(w(b(i(gt,it),z[1]),w(b(i(vt,me),-U[1]),b(i(ke,he),F[1]))),-B[2])),w(b(w(b(i(yt,be),z[1]),w(b(i(vt,me),-B[1]),b(i(Ne,se),F[1]))),U[2]),b(w(b(i(Ge,Le),z[1]),w(b(i(ke,he),-B[1]),b(i(Ne,se),U[1]))),-F[2]))),_[3]),w(b(w(w(b(w(b(i(gt,it),B[1]),w(b(i(yt,be),-U[1]),b(i(Ge,Le),F[1]))),_[2]),b(w(b(i(gt,it),_[1]),w(b(i(tt,ce),-U[1]),b(i(He,oe),F[1]))),-B[2])),w(b(w(b(i(yt,be),_[1]),w(b(i(tt,ce),-B[1]),b(i(Te,ne),F[1]))),U[2]),b(w(b(i(Ge,Le),_[1]),w(b(i(He,oe),-B[1]),b(i(Te,ne),U[1]))),-F[2]))),-z[3]),b(w(w(b(w(b(i(gt,it),z[1]),w(b(i(vt,me),-U[1]),b(i(ke,he),F[1]))),_[2]),b(w(b(i(gt,it),_[1]),w(b(i(tt,ce),-U[1]),b(i(He,oe),F[1]))),-z[2])),w(b(w(b(i(vt,me),_[1]),w(b(i(tt,ce),-z[1]),b(i(ee,$),F[1]))),U[2]),b(w(b(i(ke,he),_[1]),w(b(i(He,oe),-z[1]),b(i(ee,$),U[1]))),-F[2]))),B[3]))),w(w(b(w(w(b(w(b(i(yt,be),z[1]),w(b(i(vt,me),-B[1]),b(i(Ne,se),F[1]))),_[2]),b(w(b(i(yt,be),_[1]),w(b(i(tt,ce),-B[1]),b(i(Te,ne),F[1]))),-z[2])),w(b(w(b(i(vt,me),_[1]),w(b(i(tt,ce),-z[1]),b(i(ee,$),F[1]))),B[2]),b(w(b(i(Ne,se),_[1]),w(b(i(Te,ne),-z[1]),b(i(ee,$),B[1]))),-F[2]))),-U[3]),b(w(w(b(w(b(i(Ge,Le),z[1]),w(b(i(ke,he),-B[1]),b(i(Ne,se),U[1]))),_[2]),b(w(b(i(Ge,Le),_[1]),w(b(i(He,oe),-B[1]),b(i(Te,ne),U[1]))),-z[2])),w(b(w(b(i(ke,he),_[1]),w(b(i(He,oe),-z[1]),b(i(ee,$),U[1]))),B[2]),b(w(b(i(Ne,se),_[1]),w(b(i(Te,ne),-z[1]),b(i(ee,$),B[1]))),-U[2]))),F[3])),w(b(w(w(b(w(b(i(gt,it),z[1]),w(b(i(vt,me),-U[1]),b(i(ke,he),F[1]))),N[2]),b(w(b(i(gt,it),N[1]),w(b(i(at,le),-U[1]),b(i(Ve,re),F[1]))),-z[2])),w(b(w(b(i(vt,me),N[1]),w(b(i(at,le),-z[1]),b(i(ue,K),F[1]))),U[2]),b(w(b(i(ke,he),N[1]),w(b(i(Ve,re),-z[1]),b(i(ue,K),U[1]))),-F[2]))),_[3]),b(w(w(b(w(b(i(gt,it),z[1]),w(b(i(vt,me),-U[1]),b(i(ke,he),F[1]))),_[2]),b(w(b(i(gt,it),_[1]),w(b(i(tt,ce),-U[1]),b(i(He,oe),F[1]))),-z[2])),w(b(w(b(i(vt,me),_[1]),w(b(i(tt,ce),-z[1]),b(i(ee,$),F[1]))),U[2]),b(w(b(i(ke,he),_[1]),w(b(i(He,oe),-z[1]),b(i(ee,$),U[1]))),-F[2]))),-N[3])))),w(w(w(b(w(w(b(w(b(i(gt,it),N[1]),w(b(i(at,le),-U[1]),b(i(Ve,re),F[1]))),_[2]),b(w(b(i(gt,it),_[1]),w(b(i(tt,ce),-U[1]),b(i(He,oe),F[1]))),-N[2])),w(b(w(b(i(at,le),_[1]),w(b(i(tt,ce),-N[1]),b(i(Z,j),F[1]))),U[2]),b(w(b(i(Ve,re),_[1]),w(b(i(He,oe),-N[1]),b(i(Z,j),U[1]))),-F[2]))),z[3]),b(w(w(b(w(b(i(vt,me),N[1]),w(b(i(at,le),-z[1]),b(i(ue,K),F[1]))),_[2]),b(w(b(i(vt,me),_[1]),w(b(i(tt,ce),-z[1]),b(i(ee,$),F[1]))),-N[2])),w(b(w(b(i(at,le),_[1]),w(b(i(tt,ce),-N[1]),b(i(Z,j),F[1]))),z[2]),b(w(b(i(ue,K),_[1]),w(b(i(ee,$),-N[1]),b(i(Z,j),z[1]))),-F[2]))),-U[3])),w(b(w(w(b(w(b(i(ke,he),N[1]),w(b(i(Ve,re),-z[1]),b(i(ue,K),U[1]))),_[2]),b(w(b(i(ke,he),_[1]),w(b(i(He,oe),-z[1]),b(i(ee,$),U[1]))),-N[2])),w(b(w(b(i(Ve,re),_[1]),w(b(i(He,oe),-N[1]),b(i(Z,j),U[1]))),z[2]),b(w(b(i(ue,K),_[1]),w(b(i(ee,$),-N[1]),b(i(Z,j),z[1]))),-U[2]))),F[3]),b(w(w(b(w(b(i(Ge,Le),z[1]),w(b(i(ke,he),-B[1]),b(i(Ne,se),U[1]))),N[2]),b(w(b(i(Ge,Le),N[1]),w(b(i(Ve,re),-B[1]),b(i(Oe,J),U[1]))),-z[2])),w(b(w(b(i(ke,he),N[1]),w(b(i(Ve,re),-z[1]),b(i(ue,K),U[1]))),B[2]),b(w(b(i(Ne,se),N[1]),w(b(i(Oe,J),-z[1]),b(i(ue,K),B[1]))),-U[2]))),_[3]))),w(w(b(w(w(b(w(b(i(Ge,Le),z[1]),w(b(i(ke,he),-B[1]),b(i(Ne,se),U[1]))),_[2]),b(w(b(i(Ge,Le),_[1]),w(b(i(He,oe),-B[1]),b(i(Te,ne),U[1]))),-z[2])),w(b(w(b(i(ke,he),_[1]),w(b(i(He,oe),-z[1]),b(i(ee,$),U[1]))),B[2]),b(w(b(i(Ne,se),_[1]),w(b(i(Te,ne),-z[1]),b(i(ee,$),B[1]))),-U[2]))),-N[3]),b(w(w(b(w(b(i(Ge,Le),N[1]),w(b(i(Ve,re),-B[1]),b(i(Oe,J),U[1]))),_[2]),b(w(b(i(Ge,Le),_[1]),w(b(i(He,oe),-B[1]),b(i(Te,ne),U[1]))),-N[2])),w(b(w(b(i(Ve,re),_[1]),w(b(i(He,oe),-N[1]),b(i(Z,j),U[1]))),B[2]),b(w(b(i(Oe,J),_[1]),w(b(i(Te,ne),-N[1]),b(i(Z,j),B[1]))),-U[2]))),z[3])),w(b(w(w(b(w(b(i(ke,he),N[1]),w(b(i(Ve,re),-z[1]),b(i(ue,K),U[1]))),_[2]),b(w(b(i(ke,he),_[1]),w(b(i(He,oe),-z[1]),b(i(ee,$),U[1]))),-N[2])),w(b(w(b(i(Ve,re),_[1]),w(b(i(He,oe),-N[1]),b(i(Z,j),U[1]))),z[2]),b(w(b(i(ue,K),_[1]),w(b(i(ee,$),-N[1]),b(i(Z,j),z[1]))),-U[2]))),-B[3]),b(w(w(b(w(b(i(Ne,se),N[1]),w(b(i(Oe,J),-z[1]),b(i(ue,K),B[1]))),_[2]),b(w(b(i(Ne,se),_[1]),w(b(i(Te,ne),-z[1]),b(i(ee,$),B[1]))),-N[2])),w(b(w(b(i(Oe,J),_[1]),w(b(i(Te,ne),-N[1]),b(i(Z,j),B[1]))),z[2]),b(w(b(i(ue,K),_[1]),w(b(i(ee,$),-N[1]),b(i(Z,j),z[1]))),-B[2]))),U[3]))))),Vt=i(Mt,Ct);return Vt[Vt.length-1]}return O}var S=[m,c,A];function P(w){var i=S[w.length];return i||(i=S[w.length]=u(w.length)),i.apply(void 0,w)}function x(w,i,L,b,O,_,N,z){function B(U,F,V,j,$,ne){switch(arguments.length){case 0:case 1:return 0;case 2:return b(U,F);case 3:return O(U,F,V);case 4:return _(U,F,V,j);case 5:return N(U,F,V,j,$);case 6:return z(U,F,V,j,$,ne)}for(var oe=new Array(arguments.length),ce=0;ce<arguments.length;++ce)oe[ce]=arguments[ce];return w(oe)}return B}function E(){for(;S.length<=f;)S.push(u(S.length));v.exports=x.apply(void 0,[P].concat(S));for(var w=0;w<=f;++w)v.exports[w]=S[w]}E()},6606:function(v,y,t){var r=t(8167),s=6;function n(S){var P=S===2?u:S===3?m:S===4?c:S===5?A:h;return S<6?P(r[S]):P(r)}function o(){return[[0]]}function f(S,P){return[[P[0]],[S[0][0]]]}function u(S){return function(x,E){return[S([[+E[0],+x[0][1]],[+E[1],+x[1][1]]]),S([[+x[0][0],+E[0]],[+x[1][0],+E[1]]]),S(x)]}}function m(S){return function(x,E){return[S([[+E[0],+x[0][1],+x[0][2]],[+E[1],+x[1][1],+x[1][2]],[+E[2],+x[2][1],+x[2][2]]]),S([[+x[0][0],+E[0],+x[0][2]],[+x[1][0],+E[1],+x[1][2]],[+x[2][0],+E[2],+x[2][2]]]),S([[+x[0][0],+x[0][1],+E[0]],[+x[1][0],+x[1][1],+E[1]],[+x[2][0],+x[2][1],+E[2]]]),S(x)]}}function c(S){return function(x,E){return[S([[+E[0],+x[0][1],+x[0][2],+x[0][3]],[+E[1],+x[1][1],+x[1][2],+x[1][3]],[+E[2],+x[2][1],+x[2][2],+x[2][3]],[+E[3],+x[3][1],+x[3][2],+x[3][3]]]),S([[+x[0][0],+E[0],+x[0][2],+x[0][3]],[+x[1][0],+E[1],+x[1][2],+x[1][3]],[+x[2][0],+E[2],+x[2][2],+x[2][3]],[+x[3][0],+E[3],+x[3][2],+x[3][3]]]),S([[+x[0][0],+x[0][1],+E[0],+x[0][3]],[+x[1][0],+x[1][1],+E[1],+x[1][3]],[+x[2][0],+x[2][1],+E[2],+x[2][3]],[+x[3][0],+x[3][1],+E[3],+x[3][3]]]),S([[+x[0][0],+x[0][1],+x[0][2],+E[0]],[+x[1][0],+x[1][1],+x[1][2],+E[1]],[+x[2][0],+x[2][1],+x[2][2],+E[2]],[+x[3][0],+x[3][1],+x[3][2],+E[3]]]),S(x)]}}function A(S){return function(x,E){return[S([[+E[0],+x[0][1],+x[0][2],+x[0][3],+x[0][4]],[+E[1],+x[1][1],+x[1][2],+x[1][3],+x[1][4]],[+E[2],+x[2][1],+x[2][2],+x[2][3],+x[2][4]],[+E[3],+x[3][1],+x[3][2],+x[3][3],+x[3][4]],[+E[4],+x[4][1],+x[4][2],+x[4][3],+x[4][4]]]),S([[+x[0][0],+E[0],+x[0][2],+x[0][3],+x[0][4]],[+x[1][0],+E[1],+x[1][2],+x[1][3],+x[1][4]],[+x[2][0],+E[2],+x[2][2],+x[2][3],+x[2][4]],[+x[3][0],+E[3],+x[3][2],+x[3][3],+x[3][4]],[+x[4][0],+E[4],+x[4][2],+x[4][3],+x[4][4]]]),S([[+x[0][0],+x[0][1],+E[0],+x[0][3],+x[0][4]],[+x[1][0],+x[1][1],+E[1],+x[1][3],+x[1][4]],[+x[2][0],+x[2][1],+E[2],+x[2][3],+x[2][4]],[+x[3][0],+x[3][1],+E[3],+x[3][3],+x[3][4]],[+x[4][0],+x[4][1],+E[4],+x[4][3],+x[4][4]]]),S([[+x[0][0],+x[0][1],+x[0][2],+E[0],+x[0][4]],[+x[1][0],+x[1][1],+x[1][2],+E[1],+x[1][4]],[+x[2][0],+x[2][1],+x[2][2],+E[2],+x[2][4]],[+x[3][0],+x[3][1],+x[3][2],+E[3],+x[3][4]],[+x[4][0],+x[4][1],+x[4][2],+E[4],+x[4][4]]]),S([[+x[0][0],+x[0][1],+x[0][2],+x[0][3],+E[0]],[+x[1][0],+x[1][1],+x[1][2],+x[1][3],+E[1]],[+x[2][0],+x[2][1],+x[2][2],+x[2][3],+E[2]],[+x[3][0],+x[3][1],+x[3][2],+x[3][3],+E[3]],[+x[4][0],+x[4][1],+x[4][2],+x[4][3],+E[4]]]),S(x)]}}function h(S){return function(x,E){return[S([[+E[0],+x[0][1],+x[0][2],+x[0][3],+x[0][4],+x[0][5]],[+E[1],+x[1][1],+x[1][2],+x[1][3],+x[1][4],+x[1][5]],[+E[2],+x[2][1],+x[2][2],+x[2][3],+x[2][4],+x[2][5]],[+E[3],+x[3][1],+x[3][2],+x[3][3],+x[3][4],+x[3][5]],[+E[4],+x[4][1],+x[4][2],+x[4][3],+x[4][4],+x[4][5]],[+E[5],+x[5][1],+x[5][2],+x[5][3],+x[5][4],+x[5][5]]]),S([[+x[0][0],+E[0],+x[0][2],+x[0][3],+x[0][4],+x[0][5]],[+x[1][0],+E[1],+x[1][2],+x[1][3],+x[1][4],+x[1][5]],[+x[2][0],+E[2],+x[2][2],+x[2][3],+x[2][4],+x[2][5]],[+x[3][0],+E[3],+x[3][2],+x[3][3],+x[3][4],+x[3][5]],[+x[4][0],+E[4],+x[4][2],+x[4][3],+x[4][4],+x[4][5]],[+x[5][0],+E[5],+x[5][2],+x[5][3],+x[5][4],+x[5][5]]]),S([[+x[0][0],+x[0][1],+E[0],+x[0][3],+x[0][4],+x[0][5]],[+x[1][0],+x[1][1],+E[1],+x[1][3],+x[1][4],+x[1][5]],[+x[2][0],+x[2][1],+E[2],+x[2][3],+x[2][4],+x[2][5]],[+x[3][0],+x[3][1],+E[3],+x[3][3],+x[3][4],+x[3][5]],[+x[4][0],+x[4][1],+E[4],+x[4][3],+x[4][4],+x[4][5]],[+x[5][0],+x[5][1],+E[5],+x[5][3],+x[5][4],+x[5][5]]]),S([[+x[0][0],+x[0][1],+x[0][2],+E[0],+x[0][4],+x[0][5]],[+x[1][0],+x[1][1],+x[1][2],+E[1],+x[1][4],+x[1][5]],[+x[2][0],+x[2][1],+x[2][2],+E[2],+x[2][4],+x[2][5]],[+x[3][0],+x[3][1],+x[3][2],+E[3],+x[3][4],+x[3][5]],[+x[4][0],+x[4][1],+x[4][2],+E[4],+x[4][4],+x[4][5]],[+x[5][0],+x[5][1],+x[5][2],+E[5],+x[5][4],+x[5][5]]]),S([[+x[0][0],+x[0][1],+x[0][2],+x[0][3],+E[0],+x[0][5]],[+x[1][0],+x[1][1],+x[1][2],+x[1][3],+E[1],+x[1][5]],[+x[2][0],+x[2][1],+x[2][2],+x[2][3],+E[2],+x[2][5]],[+x[3][0],+x[3][1],+x[3][2],+x[3][3],+E[3],+x[3][5]],[+x[4][0],+x[4][1],+x[4][2],+x[4][3],+E[4],+x[4][5]],[+x[5][0],+x[5][1],+x[5][2],+x[5][3],+E[5],+x[5][5]]]),S([[+x[0][0],+x[0][1],+x[0][2],+x[0][3],+x[0][4],+E[0]],[+x[1][0],+x[1][1],+x[1][2],+x[1][3],+x[1][4],+E[1]],[+x[2][0],+x[2][1],+x[2][2],+x[2][3],+x[2][4],+E[2]],[+x[3][0],+x[3][1],+x[3][2],+x[3][3],+x[3][4],+E[3]],[+x[4][0],+x[4][1],+x[4][2],+x[4][3],+x[4][4],+E[4]],[+x[5][0],+x[5][1],+x[5][2],+x[5][3],+x[5][4],+E[5]]]),S(x)]}}var l=[o,f];function p(S,P,x,E,w,i,L,b){return function(_,N){switch(_.length){case 0:return S(_,N);case 1:return P(_,N);case 2:return x(_,N);case 3:return E(_,N);case 4:return w(_,N);case 5:return i(_,N)}var z=L[_.length];return z||(z=L[_.length]=b(_.length)),z(_,N)}}function M(){for(;l.length<s;)l.push(n(l.length));v.exports=p.apply(void 0,l.concat([l,n]));for(var S=0;S<s;++S)v.exports[S]=l[S]}M()},417:function(v,y,t){var r=t(9660),s=t(9662),n=t(8289),o=t(4078),f=5,u=11102230246251565e-32,m=(3+16*u)*u,c=(7+56*u)*u;function A(i,L,b,O){return function(N,z,B){var U=i(i(L(z[1],B[0]),L(-B[1],z[0])),i(L(N[1],z[0]),L(-z[1],N[0]))),F=i(L(N[1],B[0]),L(-B[1],N[0])),V=O(U,F);return V[V.length-1]}}function h(i,L,b,O){return function(N,z,B,U){var F=i(i(b(i(L(B[1],U[0]),L(-U[1],B[0])),z[2]),i(b(i(L(z[1],U[0]),L(-U[1],z[0])),-B[2]),b(i(L(z[1],B[0]),L(-B[1],z[0])),U[2]))),i(b(i(L(z[1],U[0]),L(-U[1],z[0])),N[2]),i(b(i(L(N[1],U[0]),L(-U[1],N[0])),-z[2]),b(i(L(N[1],z[0]),L(-z[1],N[0])),U[2])))),V=i(i(b(i(L(B[1],U[0]),L(-U[1],B[0])),N[2]),i(b(i(L(N[1],U[0]),L(-U[1],N[0])),-B[2]),b(i(L(N[1],B[0]),L(-B[1],N[0])),U[2]))),i(b(i(L(z[1],B[0]),L(-B[1],z[0])),N[2]),i(b(i(L(N[1],B[0]),L(-B[1],N[0])),-z[2]),b(i(L(N[1],z[0]),L(-z[1],N[0])),B[2])))),j=O(F,V);return j[j.length-1]}}function l(i,L,b,O){return function(N,z,B,U,F){var V=i(i(i(b(i(b(i(L(U[1],F[0]),L(-F[1],U[0])),B[2]),i(b(i(L(B[1],F[0]),L(-F[1],B[0])),-U[2]),b(i(L(B[1],U[0]),L(-U[1],B[0])),F[2]))),z[3]),i(b(i(b(i(L(U[1],F[0]),L(-F[1],U[0])),z[2]),i(b(i(L(z[1],F[0]),L(-F[1],z[0])),-U[2]),b(i(L(z[1],U[0]),L(-U[1],z[0])),F[2]))),-B[3]),b(i(b(i(L(B[1],F[0]),L(-F[1],B[0])),z[2]),i(b(i(L(z[1],F[0]),L(-F[1],z[0])),-B[2]),b(i(L(z[1],B[0]),L(-B[1],z[0])),F[2]))),U[3]))),i(b(i(b(i(L(B[1],U[0]),L(-U[1],B[0])),z[2]),i(b(i(L(z[1],U[0]),L(-U[1],z[0])),-B[2]),b(i(L(z[1],B[0]),L(-B[1],z[0])),U[2]))),-F[3]),i(b(i(b(i(L(U[1],F[0]),L(-F[1],U[0])),z[2]),i(b(i(L(z[1],F[0]),L(-F[1],z[0])),-U[2]),b(i(L(z[1],U[0]),L(-U[1],z[0])),F[2]))),N[3]),b(i(b(i(L(U[1],F[0]),L(-F[1],U[0])),N[2]),i(b(i(L(N[1],F[0]),L(-F[1],N[0])),-U[2]),b(i(L(N[1],U[0]),L(-U[1],N[0])),F[2]))),-z[3])))),i(i(b(i(b(i(L(z[1],F[0]),L(-F[1],z[0])),N[2]),i(b(i(L(N[1],F[0]),L(-F[1],N[0])),-z[2]),b(i(L(N[1],z[0]),L(-z[1],N[0])),F[2]))),U[3]),i(b(i(b(i(L(z[1],U[0]),L(-U[1],z[0])),N[2]),i(b(i(L(N[1],U[0]),L(-U[1],N[0])),-z[2]),b(i(L(N[1],z[0]),L(-z[1],N[0])),U[2]))),-F[3]),b(i(b(i(L(B[1],U[0]),L(-U[1],B[0])),z[2]),i(b(i(L(z[1],U[0]),L(-U[1],z[0])),-B[2]),b(i(L(z[1],B[0]),L(-B[1],z[0])),U[2]))),N[3]))),i(b(i(b(i(L(B[1],U[0]),L(-U[1],B[0])),N[2]),i(b(i(L(N[1],U[0]),L(-U[1],N[0])),-B[2]),b(i(L(N[1],B[0]),L(-B[1],N[0])),U[2]))),-z[3]),i(b(i(b(i(L(z[1],U[0]),L(-U[1],z[0])),N[2]),i(b(i(L(N[1],U[0]),L(-U[1],N[0])),-z[2]),b(i(L(N[1],z[0]),L(-z[1],N[0])),U[2]))),B[3]),b(i(b(i(L(z[1],B[0]),L(-B[1],z[0])),N[2]),i(b(i(L(N[1],B[0]),L(-B[1],N[0])),-z[2]),b(i(L(N[1],z[0]),L(-z[1],N[0])),B[2]))),-U[3]))))),j=i(i(i(b(i(b(i(L(U[1],F[0]),L(-F[1],U[0])),B[2]),i(b(i(L(B[1],F[0]),L(-F[1],B[0])),-U[2]),b(i(L(B[1],U[0]),L(-U[1],B[0])),F[2]))),N[3]),b(i(b(i(L(U[1],F[0]),L(-F[1],U[0])),N[2]),i(b(i(L(N[1],F[0]),L(-F[1],N[0])),-U[2]),b(i(L(N[1],U[0]),L(-U[1],N[0])),F[2]))),-B[3])),i(b(i(b(i(L(B[1],F[0]),L(-F[1],B[0])),N[2]),i(b(i(L(N[1],F[0]),L(-F[1],N[0])),-B[2]),b(i(L(N[1],B[0]),L(-B[1],N[0])),F[2]))),U[3]),b(i(b(i(L(B[1],U[0]),L(-U[1],B[0])),N[2]),i(b(i(L(N[1],U[0]),L(-U[1],N[0])),-B[2]),b(i(L(N[1],B[0]),L(-B[1],N[0])),U[2]))),-F[3]))),i(i(b(i(b(i(L(B[1],F[0]),L(-F[1],B[0])),z[2]),i(b(i(L(z[1],F[0]),L(-F[1],z[0])),-B[2]),b(i(L(z[1],B[0]),L(-B[1],z[0])),F[2]))),N[3]),b(i(b(i(L(B[1],F[0]),L(-F[1],B[0])),N[2]),i(b(i(L(N[1],F[0]),L(-F[1],N[0])),-B[2]),b(i(L(N[1],B[0]),L(-B[1],N[0])),F[2]))),-z[3])),i(b(i(b(i(L(z[1],F[0]),L(-F[1],z[0])),N[2]),i(b(i(L(N[1],F[0]),L(-F[1],N[0])),-z[2]),b(i(L(N[1],z[0]),L(-z[1],N[0])),F[2]))),B[3]),b(i(b(i(L(z[1],B[0]),L(-B[1],z[0])),N[2]),i(b(i(L(N[1],B[0]),L(-B[1],N[0])),-z[2]),b(i(L(N[1],z[0]),L(-z[1],N[0])),B[2]))),-F[3])))),$=O(V,j);return $[$.length-1]}}function p(i){var L=i===3?A:i===4?h:l;return L(s,r,n,o)}var M=p(3),S=p(4),P=[function(){return 0},function(){return 0},function(L,b){return b[0]-L[0]},function(L,b,O){var _=(L[1]-O[1])*(b[0]-O[0]),N=(L[0]-O[0])*(b[1]-O[1]),z=_-N,B;if(_>0){if(N<=0)return z;B=_+N}else if(_<0){if(N>=0)return z;B=-(_+N)}else return z;var U=m*B;return z>=U||z<=-U?z:M(L,b,O)},function(L,b,O,_){var N=L[0]-_[0],z=b[0]-_[0],B=O[0]-_[0],U=L[1]-_[1],F=b[1]-_[1],V=O[1]-_[1],j=L[2]-_[2],$=b[2]-_[2],ne=O[2]-_[2],oe=z*V,ce=B*F,Q=B*U,Z=N*V,K=N*F,J=z*U,re=j*(oe-ce)+$*(Q-Z)+ne*(K-J),le=(Math.abs(oe)+Math.abs(ce))*Math.abs(j)+(Math.abs(Q)+Math.abs(Z))*Math.abs($)+(Math.abs(K)+Math.abs(J))*Math.abs(ne),q=c*le;return re>q||-re>q?re:S(L,b,O,_)}];function x(i){var L=P[i.length];return L||(L=P[i.length]=p(i.length)),L.apply(void 0,i)}function E(i,L,b,O,_,N,z){return function(U,F,V,j,$){switch(arguments.length){case 0:case 1:return 0;case 2:return O(U,F);case 3:return _(U,F,V);case 4:return N(U,F,V,j);case 5:return z(U,F,V,j,$)}for(var ne=new Array(arguments.length),oe=0;oe<arguments.length;++oe)ne[oe]=arguments[oe];return i(ne)}}function w(){for(;P.length<=f;)P.push(p(P.length));v.exports=E.apply(void 0,[x].concat(P));for(var i=0;i<=f;++i)v.exports[i]=P[i]}w()},2019:function(v,y,t){var r=t(9662),s=t(8289);v.exports=n;function n(o,f){if(o.length===1)return s(f,o[0]);if(f.length===1)return s(o,f[0]);if(o.length===0||f.length===0)return[0];var u=[0];if(o.length<f.length)for(var m=0;m<o.length;++m)u=r(u,s(f,o[m]));else for(var m=0;m<f.length;++m)u=r(u,s(o,f[m]));return u}},8289:function(v,y,t){var r=t(9660),s=t(87);v.exports=n;function n(o,f){var u=o.length;if(u===1){var m=r(o[0],f);return m[0]?m:[m[1]]}var c=new Array(2*u),A=[.1,.1],h=[.1,.1],l=0;r(o[0],f,A),A[0]&&(c[l++]=A[0]);for(var p=1;p<u;++p){r(o[p],f,h);var M=A[1];s(M,h[0],A),A[0]&&(c[l++]=A[0]);var S=h[1],P=A[1],x=S+P,E=x-S,w=P-E;A[1]=x,w&&(c[l++]=w)}return A[1]&&(c[l++]=A[1]),l===0&&(c[l++]=0),c.length=l,c}},4434:function(v,y,t){v.exports=n;var r=t(417)[3];function s(o,f,u,m){for(var c=0;c<2;++c){var A=o[c],h=f[c],l=Math.min(A,h),p=Math.max(A,h),M=u[c],S=m[c],P=Math.min(M,S),x=Math.max(M,S);if(x<l||p<P)return!1}return!0}function n(o,f,u,m){var c=r(o,u,m),A=r(f,u,m);if(c>0&&A>0||c<0&&A<0)return!1;var h=r(u,o,f),l=r(m,o,f);return h>0&&l>0||h<0&&l<0?!1:c===0&&A===0&&h===0&&l===0?s(o,f,u,m):!0}},4078:function(v){v.exports=t;function y(r,s){var n=r+s,o=n-r,f=n-o,u=s-o,m=r-f,c=m+u;return c?[c,n]:[n]}function t(r,s){var n=r.length|0,o=s.length|0;if(n===1&&o===1)return y(r[0],-s[0]);var f=n+o,u=new Array(f),m=0,c=0,A=0,h=Math.abs,l=r[c],p=h(l),M=-s[A],S=h(M),P,x;p<S?(x=l,c+=1,c<n&&(l=r[c],p=h(l))):(x=M,A+=1,A<o&&(M=-s[A],S=h(M))),c<n&&p<S||A>=o?(P=l,c+=1,c<n&&(l=r[c],p=h(l))):(P=M,A+=1,A<o&&(M=-s[A],S=h(M)));for(var E=P+x,w=E-P,i=x-w,L=i,b=E,O,_,N,z,B;c<n&&A<o;)p<S?(P=l,c+=1,c<n&&(l=r[c],p=h(l))):(P=M,A+=1,A<o&&(M=-s[A],S=h(M))),x=L,E=P+x,w=E-P,i=x-w,i&&(u[m++]=i),O=b+E,_=O-b,N=O-_,z=E-_,B=b-N,L=B+z,b=O;for(;c<n;)P=l,x=L,E=P+x,w=E-P,i=x-w,i&&(u[m++]=i),O=b+E,_=O-b,N=O-_,z=E-_,B=b-N,L=B+z,b=O,c+=1,c<n&&(l=r[c]);for(;A<o;)P=M,x=L,E=P+x,w=E-P,i=x-w,i&&(u[m++]=i),O=b+E,_=O-b,N=O-_,z=E-_,B=b-N,L=B+z,b=O,A+=1,A<o&&(M=-s[A]);return L&&(u[m++]=L),b&&(u[m++]=b),m||(u[m++]=0),u.length=m,u}},9662:function(v){v.exports=t;function y(r,s){var n=r+s,o=n-r,f=n-o,u=s-o,m=r-f,c=m+u;return c?[c,n]:[n]}function t(r,s){var n=r.length|0,o=s.length|0;if(n===1&&o===1)return y(r[0],s[0]);var f=n+o,u=new Array(f),m=0,c=0,A=0,h=Math.abs,l=r[c],p=h(l),M=s[A],S=h(M),P,x;p<S?(x=l,c+=1,c<n&&(l=r[c],p=h(l))):(x=M,A+=1,A<o&&(M=s[A],S=h(M))),c<n&&p<S||A>=o?(P=l,c+=1,c<n&&(l=r[c],p=h(l))):(P=M,A+=1,A<o&&(M=s[A],S=h(M)));for(var E=P+x,w=E-P,i=x-w,L=i,b=E,O,_,N,z,B;c<n&&A<o;)p<S?(P=l,c+=1,c<n&&(l=r[c],p=h(l))):(P=M,A+=1,A<o&&(M=s[A],S=h(M))),x=L,E=P+x,w=E-P,i=x-w,i&&(u[m++]=i),O=b+E,_=O-b,N=O-_,z=E-_,B=b-N,L=B+z,b=O;for(;c<n;)P=l,x=L,E=P+x,w=E-P,i=x-w,i&&(u[m++]=i),O=b+E,_=O-b,N=O-_,z=E-_,B=b-N,L=B+z,b=O,c+=1,c<n&&(l=r[c]);for(;A<o;)P=M,x=L,E=P+x,w=E-P,i=x-w,i&&(u[m++]=i),O=b+E,_=O-b,N=O-_,z=E-_,B=b-N,L=B+z,b=O,A+=1,A<o&&(M=s[A]);return L&&(u[m++]=L),b&&(u[m++]=b),m||(u[m++]=0),u.length=m,u}},8691:function(v,y,t){v.exports=n;var r=t(2692),s=t(7037);function n(o){return s(r(o))}},7212:function(v,y,t){v.exports=l;var r=t(5050),s=t(5306),n=t(8729),o=t(1168);function f(p){for(var M=p.length,S=0,P=0;P<M;++P)S=Math.max(S,p[P].length)|0;return S-1}function u(p,M){for(var S=p.length,P=s.mallocUint8(S),x=0;x<S;++x)P[x]=p[x]<M|0;return P}function m(p,M){for(var S=p.length,P=M*(M+1)/2*S|0,x=s.mallocUint32(P*2),E=0,w=0;w<S;++w)for(var i=p[w],M=i.length,L=0;L<M;++L)for(var b=0;b<L;++b){var O=i[b],_=i[L];x[E++]=Math.min(O,_)|0,x[E++]=Math.max(O,_)|0}var N=E/2|0;n(r(x,[N,2]));for(var z=2,w=2;w<E;w+=2)x[w-2]===x[w]&&x[w-1]===x[w+1]||(x[z++]=x[w],x[z++]=x[w+1]);return r(x,[z/2|0,2])}function c(p,M,S,P){for(var x=p.data,E=p.shape[0],w=s.mallocDouble(E),i=0,L=0;L<E;++L){var b=x[2*L],O=x[2*L+1];if(S[b]!==S[O]){var _=M[b],N=M[O];x[2*i]=b,x[2*i+1]=O,w[i++]=(N-P)/(N-_)}}return p.shape[0]=i,r(w,[i])}function A(p,M){var S=s.mallocInt32(M*2),P=p.shape[0],x=p.data;S[0]=0;for(var E=0,w=0;w<P;++w){var i=x[2*w];if(i!==E){for(S[2*E+1]=w;++E<i;)S[2*E]=w,S[2*E+1]=w;S[2*E]=w}}for(S[2*E+1]=P;++E<M;)S[2*E]=S[2*E+1]=P;return S}function h(p){for(var M=p.shape[0]|0,S=p.data,P=new Array(M),x=0;x<M;++x)P[x]=[S[2*x],S[2*x+1]];return P}function l(p,M,S,P){S=S||0,typeof P>"u"&&(P=f(p));var x=p.length;if(x===0||P<1)return{cells:[],vertexIds:[],vertexWeights:[]};var E=u(M,+S),w=m(p,P),i=c(w,M,E,+S),L=A(w,M.length|0),b=o(P)(p,w.data,L,E),O=h(w),_=[].slice.call(i.data,0,i.shape[0]);return s.free(E),s.free(w.data),s.free(i.data),s.free(L),{cells:b,vertexIds:O,vertexWeights:_}}},1168:function(v){v.exports=t;var y=[function(){function s(n,o,f,u){for(var m=n.length,c=[],A=0;A<m;++A){var h=n[A];h.length}return c}return s},function(){function s(o,f,u,m){for(var c=Math.min(u,m)|0,A=Math.max(u,m)|0,h=o[2*c],l=o[2*c+1];h<l;){var p=h+l>>1,M=f[2*p+1];if(M===A)return p;A<M?l=p:h=p+1}return h}function n(o,f,u,m){for(var c=o.length,A=[],h=0;h<c;++h){var l=o[h],p=l.length;if(p===2){var M=(m[l[0]]<<0)+(m[l[1]]<<1);if(M===0||M===3)continue;switch(M){case 0:break;case 1:A.push([s(u,f,l[0],l[1])]);break;case 2:A.push([s(u,f,l[1],l[0])]);break}}}return A}return n},function(){function s(o,f,u,m){for(var c=Math.min(u,m)|0,A=Math.max(u,m)|0,h=o[2*c],l=o[2*c+1];h<l;){var p=h+l>>1,M=f[2*p+1];if(M===A)return p;A<M?l=p:h=p+1}return h}function n(o,f,u,m){for(var c=o.length,A=[],h=0;h<c;++h){var l=o[h],p=l.length;if(p===3){var M=(m[l[0]]<<0)+(m[l[1]]<<1)+(m[l[2]]<<2);if(M===0||M===7)continue;switch(M){case 0:break;case 1:A.push([s(u,f,l[0],l[2]),s(u,f,l[0],l[1])]);break;case 2:A.push([s(u,f,l[1],l[0]),s(u,f,l[1],l[2])]);break;case 3:A.push([s(u,f,l[0],l[2]),s(u,f,l[1],l[2])]);break;case 4:A.push([s(u,f,l[2],l[1]),s(u,f,l[2],l[0])]);break;case 5:A.push([s(u,f,l[2],l[1]),s(u,f,l[0],l[1])]);break;case 6:A.push([s(u,f,l[1],l[0]),s(u,f,l[2],l[0])]);break}}else if(p===2){var M=(m[l[0]]<<0)+(m[l[1]]<<1);if(M===0||M===3)continue;switch(M){case 0:break;case 1:A.push([s(u,f,l[0],l[1])]);break;case 2:A.push([s(u,f,l[1],l[0])]);break}}}return A}return n},function(){function s(o,f,u,m){for(var c=Math.min(u,m)|0,A=Math.max(u,m)|0,h=o[2*c],l=o[2*c+1];h<l;){var p=h+l>>1,M=f[2*p+1];if(M===A)return p;A<M?l=p:h=p+1}return h}function n(o,f,u,m){for(var c=o.length,A=[],h=0;h<c;++h){var l=o[h],p=l.length;if(p===4){var M=(m[l[0]]<<0)+(m[l[1]]<<1)+(m[l[2]]<<2)+(m[l[3]]<<3);if(M===0||M===15)continue;switch(M){case 0:break;case 1:A.push([s(u,f,l[0],l[1]),s(u,f,l[0],l[2]),s(u,f,l[0],l[3])]);break;case 2:A.push([s(u,f,l[1],l[2]),s(u,f,l[1],l[0]),s(u,f,l[1],l[3])]);break;case 3:A.push([s(u,f,l[1],l[2]),s(u,f,l[0],l[2]),s(u,f,l[0],l[3])],[s(u,f,l[1],l[3]),s(u,f,l[1],l[2]),s(u,f,l[0],l[3])]);break;case 4:A.push([s(u,f,l[2],l[0]),s(u,f,l[2],l[1]),s(u,f,l[2],l[3])]);break;case 5:A.push([s(u,f,l[0],l[1]),s(u,f,l[2],l[1]),s(u,f,l[0],l[3])],[s(u,f,l[2],l[1]),s(u,f,l[2],l[3]),s(u,f,l[0],l[3])]);break;case 6:A.push([s(u,f,l[2],l[0]),s(u,f,l[1],l[0]),s(u,f,l[1],l[3])],[s(u,f,l[2],l[3]),s(u,f,l[2],l[0]),s(u,f,l[1],l[3])]);break;case 7:A.push([s(u,f,l[0],l[3]),s(u,f,l[1],l[3]),s(u,f,l[2],l[3])]);break;case 8:A.push([s(u,f,l[3],l[1]),s(u,f,l[3],l[0]),s(u,f,l[3],l[2])]);break;case 9:A.push([s(u,f,l[3],l[1]),s(u,f,l[0],l[1]),s(u,f,l[0],l[2])],[s(u,f,l[3],l[2]),s(u,f,l[3],l[1]),s(u,f,l[0],l[2])]);break;case 10:A.push([s(u,f,l[1],l[0]),s(u,f,l[3],l[0]),s(u,f,l[1],l[2])],[s(u,f,l[3],l[0]),s(u,f,l[3],l[2]),s(u,f,l[1],l[2])]);break;case 11:A.push([s(u,f,l[1],l[2]),s(u,f,l[0],l[2]),s(u,f,l[3],l[2])]);break;case 12:A.push([s(u,f,l[3],l[0]),s(u,f,l[2],l[0]),s(u,f,l[2],l[1])],[s(u,f,l[3],l[1]),s(u,f,l[3],l[0]),s(u,f,l[2],l[1])]);break;case 13:A.push([s(u,f,l[0],l[1]),s(u,f,l[2],l[1]),s(u,f,l[3],l[1])]);break;case 14:A.push([s(u,f,l[2],l[0]),s(u,f,l[1],l[0]),s(u,f,l[3],l[0])]);break}}else if(p===3){var M=(m[l[0]]<<0)+(m[l[1]]<<1)+(m[l[2]]<<2);if(M===0||M===7)continue;switch(M){case 0:break;case 1:A.push([s(u,f,l[0],l[2]),s(u,f,l[0],l[1])]);break;case 2:A.push([s(u,f,l[1],l[0]),s(u,f,l[1],l[2])]);break;case 3:A.push([s(u,f,l[0],l[2]),s(u,f,l[1],l[2])]);break;case 4:A.push([s(u,f,l[2],l[1]),s(u,f,l[2],l[0])]);break;case 5:A.push([s(u,f,l[2],l[1]),s(u,f,l[0],l[1])]);break;case 6:A.push([s(u,f,l[1],l[0]),s(u,f,l[2],l[0])]);break}}else if(p===2){var M=(m[l[0]]<<0)+(m[l[1]]<<1);if(M===0||M===3)continue;switch(M){case 0:break;case 1:A.push([s(u,f,l[0],l[1])]);break;case 2:A.push([s(u,f,l[1],l[0])]);break}}}return A}return n}];function t(r){return y[r]()}},8211:function(v,y,t){t(2288),t(1731);function r(s,n){var o=s.length,f=s.length-n.length,u=Math.min;if(f)return f;switch(o){case 0:return 0;case 1:return s[0]-n[0];case 2:var l=s[0]+s[1]-n[0]-n[1];return l||u(s[0],s[1])-u(n[0],n[1]);case 3:var m=s[0]+s[1],c=n[0]+n[1];if(l=m+s[2]-(c+n[2]),l)return l;var A=u(s[0],s[1]),h=u(n[0],n[1]),l=u(A,s[2])-u(h,n[2]);return l||u(A+s[2],m)-u(h+n[2],c);default:var p=s.slice(0);p.sort();var M=n.slice(0);M.sort();for(var S=0;S<o;++S)if(f=p[S]-M[S],f)return f;return 0}}y.H=r},9392:function(v,y){"use restrict";var t=32;y.INT_BITS=t,y.INT_MAX=2147483647,y.INT_MIN=-1<<t-1,y.sign=function(n){return(n>0)-(n<0)},y.abs=function(n){var o=n>>t-1;return(n^o)-o},y.min=function(n,o){return o^(n^o)&-(n<o)},y.max=function(n,o){return n^(n^o)&-(n<o)},y.isPow2=function(n){return!(n&n-1)&&!!n},y.log2=function(n){var o,f;return o=(n>65535)<<4,n>>>=o,f=(n>255)<<3,n>>>=f,o|=f,f=(n>15)<<2,n>>>=f,o|=f,f=(n>3)<<1,n>>>=f,o|=f,o|n>>1},y.log10=function(n){return n>=1e9?9:n>=1e8?8:n>=1e7?7:n>=1e6?6:n>=1e5?5:n>=1e4?4:n>=1e3?3:n>=100?2:n>=10?1:0},y.popCount=function(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),(n+(n>>>4)&252645135)*16843009>>>24};function r(n){var o=32;return n&=-n,n&&o--,n&65535&&(o-=16),n&16711935&&(o-=8),n&252645135&&(o-=4),n&858993459&&(o-=2),n&1431655765&&(o-=1),o}y.countTrailingZeros=r,y.nextPow2=function(n){return n+=n===0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n+1},y.prevPow2=function(n){return n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n-(n>>>1)},y.parity=function(n){return n^=n>>>16,n^=n>>>8,n^=n>>>4,n&=15,27030>>>n&1};var s=new Array(256);(function(n){for(var o=0;o<256;++o){var f=o,u=o,m=7;for(f>>>=1;f;f>>>=1)u<<=1,u|=f&1,--m;n[o]=u<<m&255}})(s),y.reverse=function(n){return s[n&255]<<24|s[n>>>8&255]<<16|s[n>>>16&255]<<8|s[n>>>24&255]},y.interleave2=function(n,o){return n&=65535,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,o&=65535,o=(o|o<<8)&16711935,o=(o|o<<4)&252645135,o=(o|o<<2)&858993459,o=(o|o<<1)&1431655765,n|o<<1},y.deinterleave2=function(n,o){return n=n>>>o&1431655765,n=(n|n>>>1)&858993459,n=(n|n>>>2)&252645135,n=(n|n>>>4)&16711935,n=(n|n>>>16)&65535,n<<16>>16},y.interleave3=function(n,o,f){return n&=1023,n=(n|n<<16)&4278190335,n=(n|n<<8)&251719695,n=(n|n<<4)&3272356035,n=(n|n<<2)&1227133513,o&=1023,o=(o|o<<16)&4278190335,o=(o|o<<8)&251719695,o=(o|o<<4)&3272356035,o=(o|o<<2)&1227133513,n|=o<<1,f&=1023,f=(f|f<<16)&4278190335,f=(f|f<<8)&251719695,f=(f|f<<4)&3272356035,f=(f|f<<2)&1227133513,n|f<<2},y.deinterleave3=function(n,o){return n=n>>>o&1227133513,n=(n|n>>>2)&3272356035,n=(n|n>>>4)&251719695,n=(n|n>>>8)&4278190335,n=(n|n>>>16)&1023,n<<22>>22},y.nextCombination=function(n){var o=n|n-1;return o+1|(~o&-~o)-1>>>r(n)+1}},6656:function(v,y,t){"use restrict";var r=t(9392),s=t(9521);function n(i){for(var L=0,b=Math.max,O=0,_=i.length;O<_;++O)L=b(L,i[O].length);return L-1}y.dimension=n;function o(i){for(var L=-1,b=Math.max,O=0,_=i.length;O<_;++O)for(var N=i[O],z=0,B=N.length;z<B;++z)L=b(L,N[z]);return L+1}y.countVertices=o;function f(i){for(var L=new Array(i.length),b=0,O=i.length;b<O;++b)L[b]=i[b].slice(0);return L}y.cloneCells=f;function u(i,L){var b=i.length,O=i.length-L.length,_=Math.min;if(O)return O;switch(b){case 0:return 0;case 1:return i[0]-L[0];case 2:var F=i[0]+i[1]-L[0]-L[1];return F||_(i[0],i[1])-_(L[0],L[1]);case 3:var N=i[0]+i[1],z=L[0]+L[1];if(F=N+i[2]-(z+L[2]),F)return F;var B=_(i[0],i[1]),U=_(L[0],L[1]),F=_(B,i[2])-_(U,L[2]);return F||_(B+i[2],N)-_(U+L[2],z);default:var V=i.slice(0);V.sort();var j=L.slice(0);j.sort();for(var $=0;$<b;++$)if(O=V[$]-j[$],O)return O;return 0}}y.compareCells=u;function m(i,L){return u(i[0],L[0])}function c(i,L){if(L){for(var b=i.length,O=new Array(b),_=0;_<b;++_)O[_]=[i[_],L[_]];O.sort(m);for(var _=0;_<b;++_)i[_]=O[_][0],L[_]=O[_][1];return i}else return i.sort(u),i}y.normalize=c;function A(i){if(i.length===0)return[];for(var L=1,b=i.length,O=1;O<b;++O){var _=i[O];if(u(_,i[O-1])){if(O===L){L++;continue}i[L++]=_}}return i.length=L,i}y.unique=A;function h(i,L){for(var b=0,O=i.length-1,_=-1;b<=O;){var N=b+O>>1,z=u(i[N],L);z<=0?(z===0&&(_=N),b=N+1):z>0&&(O=N-1)}return _}y.findCell=h;function l(i,L){for(var b=new Array(i.length),O=0,_=b.length;O<_;++O)b[O]=[];for(var N=[],O=0,z=L.length;O<z;++O)for(var B=L[O],U=B.length,F=1,V=1<<U;F<V;++F){N.length=r.popCount(F);for(var j=0,$=0;$<U;++$)F&1<<$&&(N[j++]=B[$]);var ne=h(i,N);if(!(ne<0))for(;b[ne++].push(O),!(ne>=i.length||u(i[ne],N)!==0););}return b}y.incidence=l;function p(i,L){if(!L)return l(A(S(i,0)),i);for(var b=new Array(L),O=0;O<L;++O)b[O]=[];for(var O=0,_=i.length;O<_;++O)for(var N=i[O],z=0,B=N.length;z<B;++z)b[N[z]].push(O);return b}y.dual=p;function M(i){for(var L=[],b=0,O=i.length;b<O;++b)for(var _=i[b],N=_.length|0,z=1,B=1<<N;z<B;++z){for(var U=[],F=0;F<N;++F)z>>>F&1&&U.push(_[F]);L.push(U)}return c(L)}y.explode=M;function S(i,L){if(L<0)return[];for(var b=[],O=(1<<L+1)-1,_=0;_<i.length;++_)for(var N=i[_],z=O;z<1<<N.length;z=r.nextCombination(z)){for(var B=new Array(L+1),U=0,F=0;F<N.length;++F)z&1<<F&&(B[U++]=N[F]);b.push(B)}return c(b)}y.skeleton=S;function P(i){for(var L=[],b=0,O=i.length;b<O;++b)for(var _=i[b],N=0,z=_.length;N<z;++N){for(var B=new Array(_.length-1),U=0,F=0;U<z;++U)U!==N&&(B[F++]=_[U]);L.push(B)}return c(L)}y.boundary=P;function x(i,L){for(var b=new s(L),O=0;O<i.length;++O)for(var _=i[O],N=0;N<_.length;++N)for(var z=N+1;z<_.length;++z)b.link(_[N],_[z]);for(var B=[],U=b.ranks,O=0;O<U.length;++O)U[O]=-1;for(var O=0;O<i.length;++O){var F=b.find(i[O][0]);U[F]<0?(U[F]=B.length,B.push([i[O].slice(0)])):B[U[F]].push(i[O].slice(0))}return B}function E(i){for(var L=A(c(S(i,0))),b=new s(L.length),O=0;O<i.length;++O)for(var _=i[O],N=0;N<_.length;++N)for(var z=h(L,[_[N]]),B=N+1;B<_.length;++B)b.link(z,h(L,[_[B]]));for(var U=[],F=b.ranks,O=0;O<F.length;++O)F[O]=-1;for(var O=0;O<i.length;++O){var V=b.find(h(L,[i[O][0]]));F[V]<0?(F[V]=U.length,U.push([i[O].slice(0)])):U[F[V]].push(i[O].slice(0))}return U}function w(i,L){return L?x(i,L):E(i)}y.connectedComponents=w},9521:function(v){"use restrict";v.exports=y;function y(t){this.roots=new Array(t),this.ranks=new Array(t);for(var r=0;r<t;++r)this.roots[r]=r,this.ranks[r]=0}y.prototype.length=function(){return this.roots.length},y.prototype.makeSet=function(){var t=this.roots.length;return this.roots.push(t),this.ranks.push(0),t},y.prototype.find=function(t){for(var r=this.roots;r[t]!==t;){var s=r[t];r[t]=r[s],t=s}return t},y.prototype.link=function(t,r){var s=this.find(t),n=this.find(r);if(s!==n){var o=this.ranks,f=this.roots,u=o[s],m=o[n];u<m?f[s]=n:m<u?f[n]=s:(f[n]=s,++o[s])}}},8243:function(v,y,t){v.exports=o;var r=t(417),s=t(6656);function n(f,u,m){var c=Math.abs(r(f,u,m)),A=Math.sqrt(Math.pow(u[0]-m[0],2)+Math.pow(u[1]-m[1],2));return c/A}function o(f,u,m){for(var c=u.length,A=f.length,h=new Array(c),l=new Array(c),p=new Array(c),M=new Array(c),S=0;S<c;++S)h[S]=l[S]=-1,p[S]=1/0,M[S]=!1;for(var S=0;S<A;++S){var P=f[S];if(P.length!==2)throw new Error("Input must be a graph");var x=P[1],E=P[0];l[E]!==-1?l[E]=-2:l[E]=x,h[x]!==-1?h[x]=-2:h[x]=E}function w(Q){if(M[Q])return 1/0;var Z=h[Q],K=l[Q];return Z<0||K<0?1/0:n(u[Q],u[Z],u[K])}function i(Q,Z){var K=U[Q],J=U[Z];U[Q]=J,U[Z]=K,F[K]=Z,F[J]=Q}function L(Q){return p[U[Q]]}function b(Q){return Q&1?Q-1>>1:(Q>>1)-1}function O(Q){for(var Z=L(Q);;){var K=Z,J=2*Q+1,re=2*(Q+1),le=Q;if(J<j){var q=L(J);q<K&&(le=J,K=q)}if(re<j){var ee=L(re);ee<K&&(le=re)}if(le===Q)return Q;i(Q,le),Q=le}}function _(Q){for(var Z=L(Q);Q>0;){var K=b(Q);if(K>=0){var J=L(K);if(Z<J){i(Q,K),Q=K;continue}}return Q}}function N(){if(j>0){var Q=U[0];return i(0,j-1),j-=1,O(0),Q}return-1}function z(Q,Z){var K=U[Q];return p[K]===Z?Q:(p[K]=-1/0,_(Q),N(),p[K]=Z,j+=1,_(j-1))}function B(Q){if(!M[Q]){M[Q]=!0;var Z=h[Q],K=l[Q];h[K]>=0&&(h[K]=Z),l[Z]>=0&&(l[Z]=K),F[Z]>=0&&z(F[Z],w(Z)),F[K]>=0&&z(F[K],w(K))}}for(var U=[],F=new Array(c),S=0;S<c;++S){var V=p[S]=w(S);V<1/0?(F[S]=U.length,U.push(S)):F[S]=-1}for(var j=U.length,S=j>>1;S>=0;--S)O(S);for(;;){var $=N();if($<0||p[$]>m)break;B($)}for(var ne=[],S=0;S<c;++S)M[S]||(F[S]=ne.length,ne.push(u[S].slice()));ne.length;function oe(Q,Z){if(Q[Z]<0)return Z;var K=Z,J=Z;do{var re=Q[J];if(!M[J]||re<0||re===J||(J=re,re=Q[J],!M[J]||re<0||re===J))break;J=re,K=Q[K]}while(K!==J);for(var le=Z;le!==J;le=Q[le])Q[le]=J;return J}var ce=[];return f.forEach(function(Q){var Z=oe(h,Q[0]),K=oe(l,Q[1]);if(Z>=0&&K>=0&&Z!==K){var J=F[Z],re=F[K];J!==re&&ce.push([J,re])}}),s.unique(s.normalize(ce)),{positions:ne,edges:ce}}},6638:function(v,y,t){v.exports=n;var r=t(417);function s(o,f){var u,m;if(f[0][0]<f[1][0])u=f[0],m=f[1];else if(f[0][0]>f[1][0])u=f[1],m=f[0];else{var c=Math.min(o[0][1],o[1][1]),A=Math.max(o[0][1],o[1][1]),h=Math.min(f[0][1],f[1][1]),l=Math.max(f[0][1],f[1][1]);return A<h?A-h:c>l?c-l:A-l}var p,M;o[0][1]<o[1][1]?(p=o[0],M=o[1]):(p=o[1],M=o[0]);var S=r(m,u,p);return S||(S=r(m,u,M),S)?S:M-m}function n(o,f){var u,m;if(f[0][0]<f[1][0])u=f[0],m=f[1];else if(f[0][0]>f[1][0])u=f[1],m=f[0];else return s(f,o);var c,A;if(o[0][0]<o[1][0])c=o[0],A=o[1];else if(o[0][0]>o[1][0])c=o[1],A=o[0];else return-s(o,f);var h=r(u,m,A),l=r(u,m,c);if(h<0){if(l<=0)return h}else if(h>0){if(l>=0)return h}else if(l)return l;if(h=r(A,c,m),l=r(A,c,u),h<0){if(l<=0)return h}else if(h>0){if(l>=0)return h}else if(l)return l;return m[0]-A[0]}},4385:function(v,y,t){v.exports=l;var r=t(5070),s=t(7080),n=t(417),o=t(6638);function f(p,M,S){this.slabs=p,this.coordinates=M,this.horizontal=S}var u=f.prototype;function m(p,M){return p.y-M}function c(p,M){for(var S=null;p;){var P=p.key,x,E;P[0][0]<P[1][0]?(x=P[0],E=P[1]):(x=P[1],E=P[0]);var w=n(x,E,M);if(w<0)p=p.left;else if(w>0)if(M[0]!==P[1][0])S=p,p=p.right;else{var i=c(p.right,M);if(i)return i;p=p.left}else{if(M[0]!==P[1][0])return p;var i=c(p.right,M);if(i)return i;p=p.left}}return S}u.castUp=function(p){var M=r.le(this.coordinates,p[0]);if(M<0)return-1;this.slabs[M];var S=c(this.slabs[M],p),P=-1;if(S&&(P=S.value),this.coordinates[M]===p[0]){var x=null;if(S&&(x=S.key),M>0){var E=c(this.slabs[M-1],p);E&&(x?o(E.key,x)>0&&(x=E.key,P=E.value):(P=E.value,x=E.key))}var w=this.horizontal[M];if(w.length>0){var i=r.ge(w,p[1],m);if(i<w.length){var L=w[i];if(p[1]===L.y){if(L.closed)return L.index;for(;i<w.length-1&&w[i+1].y===p[1];)if(i=i+1,L=w[i],L.closed)return L.index;if(L.y===p[1]&&!L.start){if(i=i+1,i>=w.length)return P;L=w[i]}}if(L.start)if(x){var b=n(x[0],x[1],[p[0],L.y]);x[0][0]>x[1][0]&&(b=-b),b>0&&(P=L.index)}else P=L.index;else L.y!==p[1]&&(P=L.index)}}}return P};function A(p,M,S,P){this.y=p,this.index=M,this.start=S,this.closed=P}function h(p,M,S,P){this.x=p,this.segment=M,this.create=S,this.index=P}function l(p){for(var M=p.length,S=2*M,P=new Array(S),x=0;x<M;++x){var E=p[x],w=E[0][0]<E[1][0];P[2*x]=new h(E[0][0],E,w,x),P[2*x+1]=new h(E[1][0],E,!w,x)}P.sort(function(B,U){var F=B.x-U.x;return F||(F=B.create-U.create,F)?F:Math.min(B.segment[0][1],B.segment[1][1])-Math.min(U.segment[0][1],U.segment[1][1])});for(var i=s(o),L=[],b=[],O=[],x=0;x<S;){for(var _=P[x].x,N=[];x<S;){var z=P[x];if(z.x!==_)break;x+=1,z.segment[0][0]===z.x&&z.segment[1][0]===z.x?z.create&&(z.segment[0][1]<z.segment[1][1]?(N.push(new A(z.segment[0][1],z.index,!0,!0)),N.push(new A(z.segment[1][1],z.index,!1,!1))):(N.push(new A(z.segment[1][1],z.index,!0,!1)),N.push(new A(z.segment[0][1],z.index,!1,!0)))):z.create?i=i.insert(z.segment,z.index):i=i.remove(z.segment)}L.push(i.root),b.push(_),O.push(N)}return new f(L,b,O)}},4670:function(v,y,t){var r=t(9130),s=t(9662);v.exports=f,v.exports.positive=u,v.exports.negative=m;function n(c,A){var h=s(r(c,A),[A[A.length-1]]);return h[h.length-1]}function o(c,A,h,l){var p=l-A,M=-A/p;M<0?M=0:M>1&&(M=1);for(var S=1-M,P=c.length,x=new Array(P),E=0;E<P;++E)x[E]=M*c[E]+S*h[E];return x}function f(c,A){for(var h=[],l=[],p=n(c[c.length-1],A),M=c[c.length-1],S=c[0],P=0;P<c.length;++P,M=S){S=c[P];var x=n(S,A);if(p<0&&x>0||p>0&&x<0){var E=o(M,x,S,p);h.push(E),l.push(E.slice())}x<0?l.push(S.slice()):x>0?h.push(S.slice()):(h.push(S.slice()),l.push(S.slice())),p=x}return{positive:h,negative:l}}function u(c,A){for(var h=[],l=n(c[c.length-1],A),p=c[c.length-1],M=c[0],S=0;S<c.length;++S,p=M){M=c[S];var P=n(M,A);(l<0&&P>0||l>0&&P<0)&&h.push(o(p,P,M,l)),P>=0&&h.push(M.slice()),l=P}return h}function m(c,A){for(var h=[],l=n(c[c.length-1],A),p=c[c.length-1],M=c[0],S=0;S<c.length;++S,p=M){M=c[S];var P=n(M,A);(l<0&&P>0||l>0&&P<0)&&h.push(o(p,P,M,l)),P<=0&&h.push(M.slice()),l=P}return h}},8974:function(v,y,t){var r;(function(){var s={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function n(c){return f(m(c),arguments)}function o(c,A){return n.apply(null,[c].concat(A||[]))}function f(c,A){var h=1,l=c.length,p,M="",S,P,x,E,w,i,L,b;for(S=0;S<l;S++)if(typeof c[S]=="string")M+=c[S];else if(typeof c[S]=="object"){if(x=c[S],x.keys)for(p=A[h],P=0;P<x.keys.length;P++){if(p==null)throw new Error(n('[sprintf] Cannot access property "%s" of undefined value "%s"',x.keys[P],x.keys[P-1]));p=p[x.keys[P]]}else x.param_no?p=A[x.param_no]:p=A[h++];if(s.not_type.test(x.type)&&s.not_primitive.test(x.type)&&p instanceof Function&&(p=p()),s.numeric_arg.test(x.type)&&typeof p!="number"&&isNaN(p))throw new TypeError(n("[sprintf] expecting number but found %T",p));switch(s.number.test(x.type)&&(L=p>=0),x.type){case"b":p=parseInt(p,10).toString(2);break;case"c":p=String.fromCharCode(parseInt(p,10));break;case"d":case"i":p=parseInt(p,10);break;case"j":p=JSON.stringify(p,null,x.width?parseInt(x.width):0);break;case"e":p=x.precision?parseFloat(p).toExponential(x.precision):parseFloat(p).toExponential();break;case"f":p=x.precision?parseFloat(p).toFixed(x.precision):parseFloat(p);break;case"g":p=x.precision?String(Number(p.toPrecision(x.precision))):parseFloat(p);break;case"o":p=(parseInt(p,10)>>>0).toString(8);break;case"s":p=String(p),p=x.precision?p.substring(0,x.precision):p;break;case"t":p=String(!!p),p=x.precision?p.substring(0,x.precision):p;break;case"T":p=Object.prototype.toString.call(p).slice(8,-1).toLowerCase(),p=x.precision?p.substring(0,x.precision):p;break;case"u":p=parseInt(p,10)>>>0;break;case"v":p=p.valueOf(),p=x.precision?p.substring(0,x.precision):p;break;case"x":p=(parseInt(p,10)>>>0).toString(16);break;case"X":p=(parseInt(p,10)>>>0).toString(16).toUpperCase();break}s.json.test(x.type)?M+=p:(s.number.test(x.type)&&(!L||x.sign)?(b=L?"+":"-",p=p.toString().replace(s.sign,"")):b="",w=x.pad_char?x.pad_char==="0"?"0":x.pad_char.charAt(1):" ",i=x.width-(b+p).length,E=x.width&&i>0?w.repeat(i):"",M+=x.align?b+p+E:w==="0"?b+E+p:E+b+p)}return M}var u=Object.create(null);function m(c){if(u[c])return u[c];for(var A=c,h,l=[],p=0;A;){if((h=s.text.exec(A))!==null)l.push(h[0]);else if((h=s.modulo.exec(A))!==null)l.push("%");else if((h=s.placeholder.exec(A))!==null){if(h[2]){p|=1;var M=[],S=h[2],P=[];if((P=s.key.exec(S))!==null)for(M.push(P[1]);(S=S.substring(P[0].length))!=="";)if((P=s.key_access.exec(S))!==null)M.push(P[1]);else if((P=s.index_access.exec(S))!==null)M.push(P[1]);else throw new SyntaxError("[sprintf] failed to parse named argument key");else throw new SyntaxError("[sprintf] failed to parse named argument key");h[2]=M}else p|=2;if(p===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");l.push({placeholder:h[0],param_no:h[1],keys:h[2],sign:h[3],pad_char:h[4],align:h[5],width:h[6],precision:h[7],type:h[8]})}else throw new SyntaxError("[sprintf] unexpected placeholder");A=A.substring(h[0].length)}return u[c]=l}y.sprintf=n,y.vsprintf=o,typeof window<"u"&&(window.sprintf=n,window.vsprintf=o,r=(function(){return{sprintf:n,vsprintf:o}}).call(y,t,y,v),r!==void 0&&(v.exports=r))})()},4162:function(v,y,t){v.exports=m;var r=t(9284),s=t(9584),n={"2d":function(c,A,h){var l=c({order:A,scalarArguments:3,getters:h==="generic"?[0]:void 0,phase:function(M,S,P,x){return M>x|0},vertex:function(M,S,P,x,E,w,i,L,b,O,_,N,z){var B=(i<<0)+(L<<1)+(b<<2)+(O<<3)|0;if(!(B===0||B===15))switch(B){case 0:_.push([M-.5,S-.5]);break;case 1:_.push([M-.25-.25*(x+P-2*z)/(P-x),S-.25-.25*(E+P-2*z)/(P-E)]);break;case 2:_.push([M-.75-.25*(-x-P+2*z)/(x-P),S-.25-.25*(w+x-2*z)/(x-w)]);break;case 3:_.push([M-.5,S-.5-.5*(E+P+w+x-4*z)/(P-E+x-w)]);break;case 4:_.push([M-.25-.25*(w+E-2*z)/(E-w),S-.75-.25*(-E-P+2*z)/(E-P)]);break;case 5:_.push([M-.5-.5*(x+P+w+E-4*z)/(P-x+E-w),S-.5]);break;case 6:_.push([M-.5-.25*(-x-P+w+E)/(x-P+E-w),S-.5-.25*(-E-P+w+x)/(E-P+x-w)]);break;case 7:_.push([M-.75-.25*(w+E-2*z)/(E-w),S-.75-.25*(w+x-2*z)/(x-w)]);break;case 8:_.push([M-.75-.25*(-w-E+2*z)/(w-E),S-.75-.25*(-w-x+2*z)/(w-x)]);break;case 9:_.push([M-.5-.25*(x+P+-w-E)/(P-x+w-E),S-.5-.25*(E+P+-w-x)/(P-E+w-x)]);break;case 10:_.push([M-.5-.5*(-x-P+-w-E+4*z)/(x-P+w-E),S-.5]);break;case 11:_.push([M-.25-.25*(-w-E+2*z)/(w-E),S-.75-.25*(E+P-2*z)/(P-E)]);break;case 12:_.push([M-.5,S-.5-.5*(-E-P+-w-x+4*z)/(E-P+w-x)]);break;case 13:_.push([M-.75-.25*(x+P-2*z)/(P-x),S-.25-.25*(-w-x+2*z)/(w-x)]);break;case 14:_.push([M-.25-.25*(-x-P+2*z)/(x-P),S-.25-.25*(-E-P+2*z)/(E-P)]);break;case 15:_.push([M-.5,S-.5]);break}},cell:function(M,S,P,x,E,w,i,L,b){E?L.push([M,S]):L.push([S,M])}});return function(p,M){var S=[],P=[];return l(p,S,P,M),{positions:S,cells:P}}}};function o(c,A){var h=c.length+"d",l=n[h];if(l)return l(r,c,A)}function f(c,A){for(var h=s(c,A),l=h.length,p=new Array(l),M=new Array(l),S=0;S<l;++S)p[S]=[h[S]],M[S]=[S];return{positions:p,cells:M}}var u={};function m(c,p){if(c.dimension<=0)return{positions:[],cells:[]};if(c.dimension===1)return f(c,p);var h=c.order.join()+"-"+c.dtype,l=u[h],p=+p||0;return l||(l=u[h]=o(c.order,c.dtype)),l(c,p)}},6946:function(v,y,t){v.exports=f;var r=t(875),s=window||g.global||{},n=s.__TEXT_CACHE||{};s.__TEXT_CACHE={};function o(u){for(var m=u.cells,c=u.positions,A=new Float32Array(m.length*6),h=0,l=0,p=0;p<m.length;++p)for(var M=m[p],S=0;S<3;++S){var P=c[M[S]];A[h++]=P[0],A[h++]=P[1]+1.4,l=Math.max(P[0],l)}return{data:A,shape:l}}function f(u,m,A){var A=A||{},h=n[u];h||(h=n[u]={" ":{data:new Float32Array(0),shape:.2}});var l=h[m];if(!l)if(m.length<=1||!/\d/.test(m))l=h[m]=o(r(m,{triangles:!0,font:u,textAlign:A.textAlign||"left",textBaseline:"alphabetic",styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}}));else{for(var p=m.split(/(\d|\s)/),M=new Array(p.length),S=0,P=0,x=0;x<p.length;++x)M[x]=f(u,p[x]),S+=M[x].data.length,P+=M[x].shape,x>0&&(P+=.02);for(var E=new Float32Array(S),w=0,i=-.5*P,x=0;x<M.length;++x){for(var L=M[x].data,b=0;b<L.length;b+=2)E[w++]=L[b]+i,E[w++]=L[b+1];i+=M[x].shape+.02}l=h[m]={data:E,shape:P}}return l}},14:function(v,y,t){var r=t(4405);v.exports=f;var s=96;function n(u,m){var c=r(getComputedStyle(u).getPropertyValue(m));return c[0]*f(c[1],u)}function o(u,m){var c=document.createElement("div");c.style["font-size"]="128"+u,m.appendChild(c);var A=n(c,"font-size")/128;return m.removeChild(c),A}function f(u,m){switch(m=m||document.body,u=(u||"px").trim().toLowerCase(),(m===window||m===document)&&(m=document.body),u){case"%":return m.clientHeight/100;case"ch":case"ex":return o(u,m);case"em":return n(m,"font-size");case"rem":return n(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return s;case"cm":return s/2.54;case"mm":return s/25.4;case"pt":return s/72;case"pc":return s/6}return 1}},3440:function(v,y,t){v.exports=M;var r=t(8444),s=t(7437),n=t(4422),o=t(903),f=t(899),u=t(9305);function m(S,P,x){return Math.sqrt(Math.pow(S,2)+Math.pow(P,2)+Math.pow(x,2))}function c(S){return Math.min(1,Math.max(-1,S))}function A(S){var P=Math.abs(S[0]),x=Math.abs(S[1]),E=Math.abs(S[2]),w=[0,0,0];P>Math.max(x,E)?w[2]=1:x>Math.max(P,E)?w[0]=1:w[1]=1;for(var i=0,L=0,b=0;b<3;++b)i+=S[b]*S[b],L+=w[b]*S[b];for(var b=0;b<3;++b)w[b]-=L/i*S[b];return f(w,w),w}function h(S,P,x,E,w,i,L,b){this.center=r(x),this.up=r(E),this.right=r(w),this.radius=r([i]),this.angle=r([L,b]),this.angle.bounds=[[-1/0,-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(S,P),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var O=0;O<16;++O)this.computedMatrix[O]=.5;this.recalcMatrix(0)}var l=h.prototype;l.setDistanceLimits=function(S,P){S>0?S=Math.log(S):S=-1/0,P>0?P=Math.log(P):P=1/0,P=Math.max(P,S),this.radius.bounds[0][0]=S,this.radius.bounds[1][0]=P},l.getDistanceLimits=function(S){var P=this.radius.bounds[0];return S?(S[0]=Math.exp(P[0][0]),S[1]=Math.exp(P[1][0]),S):[Math.exp(P[0][0]),Math.exp(P[1][0])]},l.recalcMatrix=function(S){this.center.curve(S),this.up.curve(S),this.right.curve(S),this.radius.curve(S),this.angle.curve(S);for(var P=this.computedUp,x=this.computedRight,E=0,w=0,i=0;i<3;++i)w+=P[i]*x[i],E+=P[i]*P[i];for(var L=Math.sqrt(E),b=0,i=0;i<3;++i)x[i]-=P[i]*w/E,b+=x[i]*x[i],P[i]/=L;for(var O=Math.sqrt(b),i=0;i<3;++i)x[i]/=O;var _=this.computedToward;o(_,P,x),f(_,_);for(var N=Math.exp(this.computedRadius[0]),z=this.computedAngle[0],B=this.computedAngle[1],U=Math.cos(z),F=Math.sin(z),V=Math.cos(B),j=Math.sin(B),$=this.computedCenter,ne=U*V,oe=F*V,ce=j,Q=-U*j,Z=-F*j,K=V,J=this.computedEye,re=this.computedMatrix,i=0;i<3;++i){var le=ne*x[i]+oe*_[i]+ce*P[i];re[4*i+1]=Q*x[i]+Z*_[i]+K*P[i],re[4*i+2]=le,re[4*i+3]=0}var q=re[1],ee=re[5],ue=re[9],se=re[2],he=re[6],me=re[10],Ce=ee*me-ue*he,Te=ue*se-q*me,Oe=q*he-ee*se,Ne=m(Ce,Te,Oe);Ce/=Ne,Te/=Ne,Oe/=Ne,re[0]=Ce,re[4]=Te,re[8]=Oe;for(var i=0;i<3;++i)J[i]=$[i]+re[2+4*i]*N;for(var i=0;i<3;++i){for(var b=0,Le=0;Le<3;++Le)b+=re[i+4*Le]*J[Le];re[12+i]=-b}re[15]=1},l.getMatrix=function(S,P){this.recalcMatrix(S);var x=this.computedMatrix;if(P){for(var E=0;E<16;++E)P[E]=x[E];return P}return x};var p=[0,0,0];l.rotate=function(S,P,x,E){if(this.angle.move(S,P,x),E){this.recalcMatrix(S);var w=this.computedMatrix;p[0]=w[2],p[1]=w[6],p[2]=w[10];for(var i=this.computedUp,L=this.computedRight,b=this.computedToward,O=0;O<3;++O)w[4*O]=i[O],w[4*O+1]=L[O],w[4*O+2]=b[O];n(w,w,E,p);for(var O=0;O<3;++O)i[O]=w[4*O],L[O]=w[4*O+1];this.up.set(S,i[0],i[1],i[2]),this.right.set(S,L[0],L[1],L[2])}},l.pan=function(S,P,x,E){P=P||0,x=x||0,E=E||0,this.recalcMatrix(S);var w=this.computedMatrix;Math.exp(this.computedRadius[0]);var i=w[1],L=w[5],b=w[9],O=m(i,L,b);i/=O,L/=O,b/=O;var _=w[0],N=w[4],z=w[8],B=_*i+N*L+z*b;_-=i*B,N-=L*B,z-=b*B;var U=m(_,N,z);_/=U,N/=U,z/=U;var F=_*P+i*x,V=N*P+L*x,j=z*P+b*x;this.center.move(S,F,V,j);var $=Math.exp(this.computedRadius[0]);$=Math.max(1e-4,$+E),this.radius.set(S,Math.log($))},l.translate=function(S,P,x,E){this.center.move(S,P||0,x||0,E||0)},l.setMatrix=function(S,P,x,E){var w=1;typeof x=="number"&&(w=x|0),(w<0||w>3)&&(w=1);var i=(w+2)%3;P||(this.recalcMatrix(S),P=this.computedMatrix);var L=P[w],b=P[w+4],O=P[w+8];if(E){var N=Math.abs(L),z=Math.abs(b),B=Math.abs(O),U=Math.max(N,z,B);N===U?(L=L<0?-1:1,b=O=0):B===U?(O=O<0?-1:1,L=b=0):(b=b<0?-1:1,L=O=0)}else{var _=m(L,b,O);L/=_,b/=_,O/=_}var F=P[i],V=P[i+4],j=P[i+8],$=F*L+V*b+j*O;F-=L*$,V-=b*$,j-=O*$;var ne=m(F,V,j);F/=ne,V/=ne,j/=ne;var oe=b*j-O*V,ce=O*F-L*j,Q=L*V-b*F,Z=m(oe,ce,Q);oe/=Z,ce/=Z,Q/=Z,this.center.jump(S,Ve,ke,Ge),this.radius.idle(S),this.up.jump(S,L,b,O),this.right.jump(S,F,V,j);var K,J;if(w===2){var re=P[1],le=P[5],q=P[9],ee=re*F+le*V+q*j,ue=re*oe+le*ce+q*Q;Ce<0?K=-Math.PI/2:K=Math.PI/2,J=Math.atan2(ue,ee)}else{var se=P[2],he=P[6],me=P[10],Ce=se*L+he*b+me*O,Te=se*F+he*V+me*j,Oe=se*oe+he*ce+me*Q;K=Math.asin(c(Ce)),J=Math.atan2(Oe,Te)}this.angle.jump(S,J,K),this.recalcMatrix(S);var Ne=P[2],Le=P[6],be=P[10],Ae=this.computedMatrix;s(Ae,P);var He=Ae[15],Ve=Ae[12]/He,ke=Ae[13]/He,Ge=Ae[14]/He,it=Math.exp(this.computedRadius[0]);this.center.jump(S,Ve-Ne*it,ke-Le*it,Ge-be*it)},l.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},l.idle=function(S){this.center.idle(S),this.up.idle(S),this.right.idle(S),this.radius.idle(S),this.angle.idle(S)},l.flush=function(S){this.center.flush(S),this.up.flush(S),this.right.flush(S),this.radius.flush(S),this.angle.flush(S)},l.setDistance=function(S,P){P>0&&this.radius.set(S,Math.log(P))},l.lookAt=function(S,P,x,E){this.recalcMatrix(S),P=P||this.computedEye,x=x||this.computedCenter,E=E||this.computedUp;var w=E[0],i=E[1],L=E[2],b=m(w,i,L);if(!(b<1e-6)){w/=b,i/=b,L/=b;var O=P[0]-x[0],_=P[1]-x[1],N=P[2]-x[2],z=m(O,_,N);if(!(z<1e-6)){O/=z,_/=z,N/=z;var B=this.computedRight,U=B[0],F=B[1],V=B[2],j=w*U+i*F+L*V;U-=j*w,F-=j*i,V-=j*L;var $=m(U,F,V);if(!($<.01&&(U=i*N-L*_,F=L*O-w*N,V=w*_-i*O,$=m(U,F,V),$<1e-6))){U/=$,F/=$,V/=$,this.up.set(S,w,i,L),this.right.set(S,U,F,V),this.center.set(S,x[0],x[1],x[2]),this.radius.set(S,Math.log(z));var ne=i*V-L*F,oe=L*U-w*V,ce=w*F-i*U,Q=m(ne,oe,ce);ne/=Q,oe/=Q,ce/=Q;var Z=w*O+i*_+L*N,K=U*O+F*_+V*N,J=ne*O+oe*_+ce*N,re=Math.asin(c(Z)),le=Math.atan2(J,K),q=this.angle._state,ee=q[q.length-1],ue=q[q.length-2];ee=ee%(2*Math.PI);var se=Math.abs(ee+2*Math.PI-le),he=Math.abs(ee-le),me=Math.abs(ee-2*Math.PI-le);se<he&&(ee+=2*Math.PI),me<he&&(ee-=2*Math.PI),this.angle.jump(this.angle.lastT(),ee,ue),this.angle.set(S,le,re)}}}};function M(S){S=S||{};var P=S.center||[0,0,0],x=S.up||[0,1,0],E=S.right||A(x),w=S.radius||1,i=S.theta||0,L=S.phi||0;if(P=[].slice.call(P,0,3),x=[].slice.call(x,0,3),f(x,x),E=[].slice.call(E,0,3),f(E,E),"eye"in S){var b=S.eye,O=[b[0]-P[0],b[1]-P[1],b[2]-P[2]];o(E,O,x),m(E[0],E[1],E[2])<1e-6?E=A(x):f(E,E),w=m(O[0],O[1],O[2]);var _=u(x,O)/w,N=u(E,O)/w;L=Math.acos(_),i=Math.acos(N)}return w=Math.log(w),new h(S.zoomMin,S.zoomMax,P,x,E,w,i,L)}},9660:function(v){v.exports=t;var y=+(Math.pow(2,27)+1);function t(r,s,n){var o=r*s,f=y*r,u=f-r,m=f-u,c=r-m,A=y*s,h=A-s,l=A-h,p=s-l,M=o-m*l,S=M-c*l,P=S-m*p,x=c*p-P;return n?(n[0]=x,n[1]=o,n):[x,o]}},87:function(v){v.exports=y;function y(t,r,s){var n=t+r,o=n-t,f=n-o,u=r-o,m=t-f;return s?(s[0]=m+u,s[1]=n,s):[m+u,n]}},5306:function(v,y,t){var r=t(2288),s=t(3094),n=t(2146).lW;t.g.__TYPEDARRAY_POOL||(t.g.__TYPEDARRAY_POOL={UINT8:s([32,0]),UINT16:s([32,0]),UINT32:s([32,0]),BIGUINT64:s([32,0]),INT8:s([32,0]),INT16:s([32,0]),INT32:s([32,0]),BIGINT64:s([32,0]),FLOAT:s([32,0]),DOUBLE:s([32,0]),DATA:s([32,0]),UINT8C:s([32,0]),BUFFER:s([32,0])});var o=typeof Uint8ClampedArray<"u",f=typeof BigUint64Array<"u",u=typeof BigInt64Array<"u",m=t.g.__TYPEDARRAY_POOL;m.UINT8C||(m.UINT8C=s([32,0])),m.BIGUINT64||(m.BIGUINT64=s([32,0])),m.BIGINT64||(m.BIGINT64=s([32,0])),m.BUFFER||(m.BUFFER=s([32,0]));var c=m.DATA,A=m.BUFFER;y.free=function(U){if(n.isBuffer(U))A[r.log2(U.length)].push(U);else{if(Object.prototype.toString.call(U)!=="[object ArrayBuffer]"&&(U=U.buffer),!U)return;var F=U.length||U.byteLength,V=r.log2(F)|0;c[V].push(U)}};function h(B){if(B){var U=B.length||B.byteLength,F=r.log2(U);c[F].push(B)}}function l(B){h(B.buffer)}y.freeUint8=y.freeUint16=y.freeUint32=y.freeBigUint64=y.freeInt8=y.freeInt16=y.freeInt32=y.freeBigInt64=y.freeFloat32=y.freeFloat=y.freeFloat64=y.freeDouble=y.freeUint8Clamped=y.freeDataView=l,y.freeArrayBuffer=h,y.freeBuffer=function(U){A[r.log2(U.length)].push(U)},y.malloc=function(U,F){if(F===void 0||F==="arraybuffer")return p(U);switch(F){case"uint8":return M(U);case"uint16":return S(U);case"uint32":return P(U);case"int8":return x(U);case"int16":return E(U);case"int32":return w(U);case"float":case"float32":return i(U);case"double":case"float64":return L(U);case"uint8_clamped":return b(U);case"bigint64":return _(U);case"biguint64":return O(U);case"buffer":return z(U);case"data":case"dataview":return N(U);default:return null}return null};function p(U){var U=r.nextPow2(U),F=r.log2(U),V=c[F];return V.length>0?V.pop():new ArrayBuffer(U)}y.mallocArrayBuffer=p;function M(B){return new Uint8Array(p(B),0,B)}y.mallocUint8=M;function S(B){return new Uint16Array(p(2*B),0,B)}y.mallocUint16=S;function P(B){return new Uint32Array(p(4*B),0,B)}y.mallocUint32=P;function x(B){return new Int8Array(p(B),0,B)}y.mallocInt8=x;function E(B){return new Int16Array(p(2*B),0,B)}y.mallocInt16=E;function w(B){return new Int32Array(p(4*B),0,B)}y.mallocInt32=w;function i(B){return new Float32Array(p(4*B),0,B)}y.mallocFloat32=y.mallocFloat=i;function L(B){return new Float64Array(p(8*B),0,B)}y.mallocFloat64=y.mallocDouble=L;function b(B){return o?new Uint8ClampedArray(p(B),0,B):M(B)}y.mallocUint8Clamped=b;function O(B){return f?new BigUint64Array(p(8*B),0,B):null}y.mallocBigUint64=O;function _(B){return u?new BigInt64Array(p(8*B),0,B):null}y.mallocBigInt64=_;function N(B){return new DataView(p(B),0,B)}y.mallocDataView=N;function z(B){B=r.nextPow2(B);var U=r.log2(B),F=A[U];return F.length>0?F.pop():new n(B)}y.mallocBuffer=z,y.clearCache=function(){for(var U=0;U<32;++U)m.UINT8[U].length=0,m.UINT16[U].length=0,m.UINT32[U].length=0,m.INT8[U].length=0,m.INT16[U].length=0,m.INT32[U].length=0,m.FLOAT[U].length=0,m.DOUBLE[U].length=0,m.BIGUINT64[U].length=0,m.BIGINT64[U].length=0,m.UINT8C[U].length=0,c[U].length=0,A[U].length=0}},1731:function(v){"use restrict";v.exports=y;function y(r){this.roots=new Array(r),this.ranks=new Array(r);for(var s=0;s<r;++s)this.roots[s]=s,this.ranks[s]=0}var t=y.prototype;Object.defineProperty(t,"length",{get:function(){return this.roots.length}}),t.makeSet=function(){var r=this.roots.length;return this.roots.push(r),this.ranks.push(0),r},t.find=function(r){for(var s=r,n=this.roots;n[r]!==r;)r=n[r];for(;n[s]!==r;){var o=n[s];n[s]=r,s=o}return r},t.link=function(r,s){var n=this.find(r),o=this.find(s);if(n!==o){var f=this.ranks,u=this.roots,m=f[n],c=f[o];m<c?u[n]=o:c<m?u[o]=n:(u[o]=n,++f[n])}}},1215:function(v){function y(s,n){for(var o=1,f=s.length,u=s[0],m=s[0],c=1;c<f;++c)if(m=u,u=s[c],n(u,m)){if(c===o){o++;continue}s[o++]=u}return s.length=o,s}function t(s){for(var n=1,o=s.length,f=s[0],u=s[0],m=1;m<o;++m,u=f)if(u=f,f=s[m],f!==u){if(m===n){n++;continue}s[n++]=f}return s.length=n,s}function r(s,n,o){return s.length===0?s:n?(o||s.sort(n),y(s,n)):(o||s.sort(),t(s))}v.exports=r},875:function(v,y,t){v.exports=o;var r=t(712),s=null,n=null;typeof document<"u"&&(s=document.createElement("canvas"),s.width=8192,s.height=1024,n=s.getContext("2d"));function o(f,u){return(typeof u!="object"||u===null)&&(u={}),r(f,u.canvas||s,u.context||n,u)}},712:function(v,y,t){v.exports=_,v.exports.processPixels=O;var r=t(4162),s=t(5050),n=t(8243),o=t(197),f=t(7761),u=t(8040),m="b",c="b|",A="i",h="i|",l="sup",p="+",M="+1",S="sub",P="-",x="-1";function E(N,z,B,U){for(var F="<"+N+">",V="</"+N+">",j=F.length,$=V.length,ne=z[0]===p||z[0]===P,oe=0,ce=-$;oe>-1&&(oe=B.indexOf(F,oe),!(oe===-1||(ce=B.indexOf(V,oe+j),ce===-1)||ce<=oe));){for(var Q=oe;Q<ce+$;++Q)if(Q<oe+j||Q>=ce)U[Q]=null,B=B.substr(0,Q)+" "+B.substr(Q+1);else if(U[Q]!==null){var Z=U[Q].indexOf(z[0]);Z===-1?U[Q]+=z:ne&&(U[Q]=U[Q].substr(0,Z+1)+(1+parseInt(U[Q][Z+1]))+U[Q].substr(Z+2))}var K=oe+j,J=B.substr(K,ce-K),re=J.indexOf(F);re!==-1?oe=re:oe=ce+$}return U}function w(N,z,B){for(var U=z.textAlign||"start",F=z.textBaseline||"alphabetic",V=[1<<30,1<<30],j=[0,0],$=N.length,ne=0;ne<$;++ne)for(var oe=N[ne],ce=0;ce<2;++ce)V[ce]=Math.min(V[ce],oe[ce])|0,j[ce]=Math.max(j[ce],oe[ce])|0;var Q=0;switch(U){case"center":Q=-.5*(V[0]+j[0]);break;case"right":case"end":Q=-j[0];break;case"left":case"start":Q=-V[0];break;default:throw new Error("vectorize-text: Unrecognized textAlign: '"+U+"'")}var Z=0;switch(F){case"hanging":case"top":Z=-V[1];break;case"middle":Z=-.5*(V[1]+j[1]);break;case"alphabetic":case"ideographic":Z=-3*B;break;case"bottom":Z=-j[1];break;default:throw new Error("vectorize-text: Unrecoginized textBaseline: '"+F+"'")}var K=1/B;return"lineHeight"in z?K*=+z.lineHeight:"width"in z?K=z.width/(j[0]-V[0]):"height"in z&&(K=z.height/(j[1]-V[1])),N.map(function(J){return[K*(J[0]+Q),K*(J[1]+Z)]})}function i(N,z,B,U,F,V){B=B.replace(/\n/g,""),V.breaklines===!0?B=B.replace(/\<br\>/g,`
`):B=B.replace(/\<br\>/g," ");var j="",$=[];for(ee=0;ee<B.length;++ee)$[ee]=j;V.bolds===!0&&($=E(m,c,B,$)),V.italics===!0&&($=E(A,h,B,$)),V.superscripts===!0&&($=E(l,M,B,$)),V.subscripts===!0&&($=E(S,x,B,$));var ne=[],oe="";for(ee=0;ee<B.length;++ee)$[ee]!==null&&(oe+=B[ee],ne.push($[ee]));var ce=oe.split(`
`),Q=ce.length,Z=Math.round(F*U),K=U,J=U*2,re=0,le=Q*Z+J;N.height<le&&(N.height=le),z.fillStyle="#000",z.fillRect(0,0,N.width,N.height),z.fillStyle="#fff";var q,ee,ue,se,he,me=0,Ce="";function Te(){if(Ce!==""){var Ge=z.measureText(Ce).width;z.fillText(Ce,K+ue,J+se),ue+=Ge}}function Oe(){return""+Math.round(he)+"px "}function Ne(Ge,it){var et=""+z.font;if(V.subscripts===!0){var tt=Ge.indexOf(P),at=it.indexOf(P),vt=tt>-1?parseInt(Ge[1+tt]):0,yt=at>-1?parseInt(it[1+at]):0;vt!==yt&&(et=et.replace(Oe(),"?px "),he*=Math.pow(.75,yt-vt),et=et.replace("?px ",Oe())),se+=.25*Z*(yt-vt)}if(V.superscripts===!0){var gt=Ge.indexOf(p),Mt=it.indexOf(p),Ct=gt>-1?parseInt(Ge[1+gt]):0,Vt=Mt>-1?parseInt(it[1+Mt]):0;Ct!==Vt&&(et=et.replace(Oe(),"?px "),he*=Math.pow(.75,Vt-Ct),et=et.replace("?px ",Oe())),se-=.25*Z*(Vt-Ct)}if(V.bolds===!0){var Je=Ge.indexOf(c)>-1,ze=it.indexOf(c)>-1;!Je&&ze&&(_e?et=et.replace("italic ","italic bold "):et="bold "+et),Je&&!ze&&(et=et.replace("bold ",""))}if(V.italics===!0){var _e=Ge.indexOf(h)>-1,Be=it.indexOf(h)>-1;!_e&&Be&&(et="italic "+et),_e&&!Be&&(et=et.replace("italic ",""))}z.font=et}for(q=0;q<Q;++q){var Le=ce[q]+`
`;for(ue=0,se=q*Z,he=U,Ce="",ee=0;ee<Le.length;++ee){var be=ee+me<ne.length?ne[ee+me]:ne[ne.length-1];j===be?Ce+=Le[ee]:(Te(),Ce=Le[ee],be!==void 0&&(Ne(j,be),j=be))}Te(),me+=Le.length;var Ae=Math.round(ue+2*K)|0;re<Ae&&(re=Ae)}var He=re,Ve=J+Z*Q,ke=s(z.getImageData(0,0,He,Ve).data,[Ve,He,4]);return ke.pick(-1,-1,0).transpose(1,0)}function L(N,z){var B=r(N,128);return z?n(B.cells,B.positions,.25):{edges:B.cells,positions:B.positions}}function b(N,z,B,U){var F=L(N,U),V=w(F.positions,z,B),j=F.edges,$=z.orientation==="ccw";if(o(V,j),z.polygons||z.polygon||z.polyline){for(var ne=u(j,V),oe=new Array(ne.length),ce=0;ce<ne.length;++ce){for(var Q=ne[ce],Z=new Array(Q.length),K=0;K<Q.length;++K){for(var J=Q[K],re=new Array(J.length),le=0;le<J.length;++le)re[le]=V[J[le]].slice();$&&re.reverse(),Z[K]=re}oe[ce]=Z}return oe}else return z.triangles||z.triangulate||z.triangle?{cells:f(V,j,{delaunay:!1,exterior:!1,interior:!0}),positions:V}:{edges:j,positions:V}}function O(N,z,B){try{return b(N,z,B,!0)}catch{}try{return b(N,z,B,!1)}catch{}return z.polygons||z.polyline||z.polygon?[]:z.triangles||z.triangulate||z.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}function _(N,z,B,U){var F=64,V=1.25,j={breaklines:!1,bolds:!1,italics:!1,subscripts:!1,superscripts:!1};U&&(U.size&&U.size>0&&(F=U.size),U.lineSpacing&&U.lineSpacing>0&&(V=U.lineSpacing),U.styletags&&U.styletags.breaklines&&(j.breaklines=!!U.styletags.breaklines),U.styletags&&U.styletags.bolds&&(j.bolds=!!U.styletags.bolds),U.styletags&&U.styletags.italics&&(j.italics=!!U.styletags.italics),U.styletags&&U.styletags.subscripts&&(j.subscripts=!!U.styletags.subscripts),U.styletags&&U.styletags.superscripts&&(j.superscripts=!!U.styletags.superscripts)),B.font=[U.fontStyle,U.fontVariant,U.fontWeight,F+"px",U.font].filter(function(ne){return ne}).join(" "),B.textAlign="start",B.textBaseline="alphabetic",B.direction="ltr";var $=i(z,B,N,F,V,j);return O($,U,F)}},5346:function(v){(function(){if(typeof ses<"u"&&ses.ok&&!ses.ok())return;function t(L){L.permitHostObjects___&&L.permitHostObjects___(t)}typeof ses<"u"&&(ses.weakMapPermitHostObjects=t);var r=!1;if(typeof WeakMap=="function"){var s=WeakMap;if(!(typeof navigator<"u"&&/Firefox/.test(navigator.userAgent))){var n=new s,o=Object.freeze({});if(n.set(o,1),n.get(o)!==1)r=!0;else{v.exports=WeakMap;return}}}var f=Object.getOwnPropertyNames,u=Object.defineProperty,m=Object.isExtensible,c="weakmap:",A=c+"ident:"+Math.random()+"___";if(typeof crypto<"u"&&typeof crypto.getRandomValues=="function"&&typeof ArrayBuffer=="function"&&typeof Uint8Array=="function"){var h=new ArrayBuffer(25),l=new Uint8Array(h);crypto.getRandomValues(l),A=c+"rand:"+Array.prototype.map.call(l,function(L){return(L%36).toString(36)}).join("")+"___"}function p(L){return!(L.substr(0,c.length)==c&&L.substr(L.length-3)==="___")}if(u(Object,"getOwnPropertyNames",{value:function(b){return f(b).filter(p)}}),"getPropertyNames"in Object){var M=Object.getPropertyNames;u(Object,"getPropertyNames",{value:function(b){return M(b).filter(p)}})}function S(L){if(L!==Object(L))throw new TypeError("Not an object: "+L);var b=L[A];if(b&&b.key===L)return b;if(m(L)){b={key:L};try{return u(L,A,{value:b,writable:!1,enumerable:!1,configurable:!1}),b}catch{return}}}(function(){var L=Object.freeze;u(Object,"freeze",{value:function(N){return S(N),L(N)}});var b=Object.seal;u(Object,"seal",{value:function(N){return S(N),b(N)}});var O=Object.preventExtensions;u(Object,"preventExtensions",{value:function(N){return S(N),O(N)}})})();function P(L){return L.prototype=null,Object.freeze(L)}var x=!1;function E(){!x&&typeof console<"u"&&(x=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}var w=0,i=function(){this instanceof i||E();var L=[],b=[],O=w++;function _(U,F){var V,j=S(U);return j?O in j?j[O]:F:(V=L.indexOf(U),V>=0?b[V]:F)}function N(U){var F=S(U);return F?O in F:L.indexOf(U)>=0}function z(U,F){var V,j=S(U);return j?j[O]=F:(V=L.indexOf(U),V>=0?b[V]=F:(V=L.length,b[V]=F,L[V]=U)),this}function B(U){var F=S(U),V,j;return F?O in F&&delete F[O]:(V=L.indexOf(U),V<0?!1:(j=L.length-1,L[V]=void 0,b[V]=b[j],L[V]=L[j],L.length=j,b.length=j,!0))}return Object.create(i.prototype,{get___:{value:P(_)},has___:{value:P(N)},set___:{value:P(z)},delete___:{value:P(B)}})};i.prototype=Object.create(Object.prototype,{get:{value:function(b,O){return this.get___(b,O)},writable:!0,configurable:!0},has:{value:function(b){return this.has___(b)},writable:!0,configurable:!0},set:{value:function(b,O){return this.set___(b,O)},writable:!0,configurable:!0},delete:{value:function(b){return this.delete___(b)},writable:!0,configurable:!0}}),typeof s=="function"?function(){r&&typeof Proxy<"u"&&(Proxy=void 0);function L(){this instanceof i||E();var b=new s,O=void 0,_=!1;function N(F,V){return O?b.has(F)?b.get(F):O.get___(F,V):b.get(F,V)}function z(F){return b.has(F)||(O?O.has___(F):!1)}var B;r?B=function(F,V){return b.set(F,V),b.has(F)||(O||(O=new i),O.set(F,V)),this}:B=function(F,V){if(_)try{b.set(F,V)}catch{O||(O=new i),O.set___(F,V)}else b.set(F,V);return this};function U(F){var V=!!b.delete(F);return O&&O.delete___(F)||V}return Object.create(i.prototype,{get___:{value:P(N)},has___:{value:P(z)},set___:{value:P(B)},delete___:{value:P(U)},permitHostObjects___:{value:P(function(F){if(F===t)_=!0;else throw new Error("bogus call to permitHostObjects___")})}})}L.prototype=i.prototype,v.exports=L,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():(typeof Proxy<"u"&&(Proxy=void 0),v.exports=i)})()},9222:function(v,y,t){var r=t(7178);v.exports=s;function s(){var n={};return function(o){if((typeof o!="object"||o===null)&&typeof o!="function")throw new Error("Weakmap-shim: Key must be object");var f=o.valueOf(n);return f&&f.identity===n?f:r(o,n)}}},7178:function(v){v.exports=y;function y(t,r){var s={identity:r},n=t.valueOf;return Object.defineProperty(t,"valueOf",{value:function(o){return o!==r?n.apply(this,arguments):s},writable:!0}),s}},4037:function(v,y,t){var r=t(9222);v.exports=s;function s(){var n=r();return{get:function(o,f){var u=n(o);return u.hasOwnProperty("value")?u.value:f},set:function(o,f){return n(o).value=f,this},has:function(o){return"value"in n(o)},delete:function(o){return delete n(o).value}}}},6183:function(v){function y(){return function(f,u,m,c,A,h){var l=f[0],p=m[0],M=[0],S=p;c|=0;var P=0,x=p;for(P=0;P<l;++P){{var E=u[c]-h,w=u[c+S]-h;E>=0!=w>=0&&A.push(M[0]+.5+.5*(E+w)/(E-w))}c+=x,++M[0]}}}function t(){return y()}var r=t;function s(f){var u={};return function(c,A,h){var l=c.dtype,p=c.order,M=[l,p.join()].join(),S=u[M];return S||(u[M]=S=f([l,p])),S(c.shape.slice(0),c.data,c.stride,c.offset|0,A,h)}}function n(f){return s(r.bind(void 0,f))}function o(f){return n({funcName:f.funcName})}v.exports=o({funcName:"zeroCrossings"})},9584:function(v,y,t){v.exports=s;var r=t(6183);function s(n,o){var f=[];return o=+o||0,r(n.hi(n.shape[0]-1),f,o),f}},6601:function(){}},a={};function C(v){var y=a[v];if(y!==void 0)return y.exports;var t=a[v]={id:v,loaded:!1,exports:{}};return R[v].call(t.exports,t,t.exports,C),t.loaded=!0,t.exports}(function(){C.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()})(),function(){C.nmd=function(v){return v.paths=[],v.children||(v.children=[]),v}}();var T=C(7386);return T}()})},12856:function(W,H,e){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */function g(Je,ze){if(!(Je instanceof ze))throw new TypeError("Cannot call a class as a function")}function R(Je,ze){for(var _e=0;_e<ze.length;_e++){var Be=ze[_e];Be.enumerable=Be.enumerable||!1,Be.configurable=!0,"value"in Be&&(Be.writable=!0),Object.defineProperty(Je,C(Be.key),Be)}}function a(Je,ze,_e){return ze&&R(Je.prototype,ze),_e&&R(Je,_e),Object.defineProperty(Je,"prototype",{writable:!1}),Je}function C(Je){var ze=T(Je,"string");return f(ze)==="symbol"?ze:String(ze)}function T(Je,ze){if(f(Je)!=="object"||Je===null)return Je;var _e=Je[Symbol.toPrimitive];if(_e!==void 0){var Be=_e.call(Je,ze||"default");if(f(Be)!=="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(ze==="string"?String:Number)(Je)}function v(Je,ze){if(typeof ze!="function"&&ze!==null)throw new TypeError("Super expression must either be null or a function");Je.prototype=Object.create(ze&&ze.prototype,{constructor:{value:Je,writable:!0,configurable:!0}}),Object.defineProperty(Je,"prototype",{writable:!1}),ze&&y(Je,ze)}function y(Je,ze){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Be,De){return Be.__proto__=De,Be},y(Je,ze)}function t(Je){var ze=n();return function(){var Be=o(Je),De;if(ze){var we=o(this).constructor;De=Reflect.construct(Be,arguments,we)}else De=Be.apply(this,arguments);return r(this,De)}}function r(Je,ze){if(ze&&(f(ze)==="object"||typeof ze=="function"))return ze;if(ze!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s(Je)}function s(Je){if(Je===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Je}function n(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function o(Je){return o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_e){return _e.__proto__||Object.getPrototypeOf(_e)},o(Je)}function f(Je){"@babel/helpers - typeof";return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ze){return typeof ze}:function(ze){return ze&&typeof Symbol=="function"&&ze.constructor===Symbol&&ze!==Symbol.prototype?"symbol":typeof ze},f(Je)}var u=e(95341),m=e(95280),c=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;H.Buffer=p,H.SlowBuffer=_,H.INSPECT_MAX_BYTES=50;var A=2147483647;H.kMaxLength=A,p.TYPED_ARRAY_SUPPORT=h(),!p.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function h(){try{var Je=new Uint8Array(1),ze={foo:function(){return 42}};return Object.setPrototypeOf(ze,Uint8Array.prototype),Object.setPrototypeOf(Je,ze),Je.foo()===42}catch{return!1}}Object.defineProperty(p.prototype,"parent",{enumerable:!0,get:function(){if(p.isBuffer(this))return this.buffer}}),Object.defineProperty(p.prototype,"offset",{enumerable:!0,get:function(){if(p.isBuffer(this))return this.byteOffset}});function l(Je){if(Je>A)throw new RangeError('The value "'+Je+'" is invalid for option "size"');var ze=new Uint8Array(Je);return Object.setPrototypeOf(ze,p.prototype),ze}function p(Je,ze,_e){if(typeof Je=="number"){if(typeof ze=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return x(Je)}return M(Je,ze,_e)}p.poolSize=8192;function M(Je,ze,_e){if(typeof Je=="string")return E(Je,ze);if(ArrayBuffer.isView(Je))return i(Je);if(Je==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+f(Je));if(yt(Je,ArrayBuffer)||Je&&yt(Je.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(yt(Je,SharedArrayBuffer)||Je&&yt(Je.buffer,SharedArrayBuffer)))return L(Je,ze,_e);if(typeof Je=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Be=Je.valueOf&&Je.valueOf();if(Be!=null&&Be!==Je)return p.from(Be,ze,_e);var De=b(Je);if(De)return De;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Je[Symbol.toPrimitive]=="function")return p.from(Je[Symbol.toPrimitive]("string"),ze,_e);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+f(Je))}p.from=function(Je,ze,_e){return M(Je,ze,_e)},Object.setPrototypeOf(p.prototype,Uint8Array.prototype),Object.setPrototypeOf(p,Uint8Array);function S(Je){if(typeof Je!="number")throw new TypeError('"size" argument must be of type number');if(Je<0)throw new RangeError('The value "'+Je+'" is invalid for option "size"')}function P(Je,ze,_e){return S(Je),Je<=0?l(Je):ze!==void 0?typeof _e=="string"?l(Je).fill(ze,_e):l(Je).fill(ze):l(Je)}p.alloc=function(Je,ze,_e){return P(Je,ze,_e)};function x(Je){return S(Je),l(Je<0?0:O(Je)|0)}p.allocUnsafe=function(Je){return x(Je)},p.allocUnsafeSlow=function(Je){return x(Je)};function E(Je,ze){if((typeof ze!="string"||ze==="")&&(ze="utf8"),!p.isEncoding(ze))throw new TypeError("Unknown encoding: "+ze);var _e=N(Je,ze)|0,Be=l(_e),De=Be.write(Je,ze);return De!==_e&&(Be=Be.slice(0,De)),Be}function w(Je){for(var ze=Je.length<0?0:O(Je.length)|0,_e=l(ze),Be=0;Be<ze;Be+=1)_e[Be]=Je[Be]&255;return _e}function i(Je){if(yt(Je,Uint8Array)){var ze=new Uint8Array(Je);return L(ze.buffer,ze.byteOffset,ze.byteLength)}return w(Je)}function L(Je,ze,_e){if(ze<0||Je.byteLength<ze)throw new RangeError('"offset" is outside of buffer bounds');if(Je.byteLength<ze+(_e||0))throw new RangeError('"length" is outside of buffer bounds');var Be;return ze===void 0&&_e===void 0?Be=new Uint8Array(Je):_e===void 0?Be=new Uint8Array(Je,ze):Be=new Uint8Array(Je,ze,_e),Object.setPrototypeOf(Be,p.prototype),Be}function b(Je){if(p.isBuffer(Je)){var ze=O(Je.length)|0,_e=l(ze);return _e.length===0||Je.copy(_e,0,0,ze),_e}if(Je.length!==void 0)return typeof Je.length!="number"||gt(Je.length)?l(0):w(Je);if(Je.type==="Buffer"&&Array.isArray(Je.data))return w(Je.data)}function O(Je){if(Je>=A)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+A.toString(16)+" bytes");return Je|0}function _(Je){return+Je!=Je&&(Je=0),p.alloc(+Je)}p.isBuffer=function(ze){return ze!=null&&ze._isBuffer===!0&&ze!==p.prototype},p.compare=function(ze,_e){if(yt(ze,Uint8Array)&&(ze=p.from(ze,ze.offset,ze.byteLength)),yt(_e,Uint8Array)&&(_e=p.from(_e,_e.offset,_e.byteLength)),!p.isBuffer(ze)||!p.isBuffer(_e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(ze===_e)return 0;for(var Be=ze.length,De=_e.length,we=0,xe=Math.min(Be,De);we<xe;++we)if(ze[we]!==_e[we]){Be=ze[we],De=_e[we];break}return Be<De?-1:De<Be?1:0},p.isEncoding=function(ze){switch(String(ze).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},p.concat=function(ze,_e){if(!Array.isArray(ze))throw new TypeError('"list" argument must be an Array of Buffers');if(ze.length===0)return p.alloc(0);var Be;if(_e===void 0)for(_e=0,Be=0;Be<ze.length;++Be)_e+=ze[Be].length;var De=p.allocUnsafe(_e),we=0;for(Be=0;Be<ze.length;++Be){var xe=ze[Be];if(yt(xe,Uint8Array))we+xe.length>De.length?(p.isBuffer(xe)||(xe=p.from(xe)),xe.copy(De,we)):Uint8Array.prototype.set.call(De,xe,we);else if(p.isBuffer(xe))xe.copy(De,we);else throw new TypeError('"list" argument must be an Array of Buffers');we+=xe.length}return De};function N(Je,ze){if(p.isBuffer(Je))return Je.length;if(ArrayBuffer.isView(Je)||yt(Je,ArrayBuffer))return Je.byteLength;if(typeof Je!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+f(Je));var _e=Je.length,Be=arguments.length>2&&arguments[2]===!0;if(!Be&&_e===0)return 0;for(var De=!1;;)switch(ze){case"ascii":case"latin1":case"binary":return _e;case"utf8":case"utf-8":return it(Je).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _e*2;case"hex":return _e>>>1;case"base64":return at(Je).length;default:if(De)return Be?-1:it(Je).length;ze=(""+ze).toLowerCase(),De=!0}}p.byteLength=N;function z(Je,ze,_e){var Be=!1;if((ze===void 0||ze<0)&&(ze=0),ze>this.length||((_e===void 0||_e>this.length)&&(_e=this.length),_e<=0)||(_e>>>=0,ze>>>=0,_e<=ze))return"";for(Je||(Je="utf8");;)switch(Je){case"hex":return le(this,ze,_e);case"utf8":case"utf-8":return Q(this,ze,_e);case"ascii":return J(this,ze,_e);case"latin1":case"binary":return re(this,ze,_e);case"base64":return ce(this,ze,_e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return q(this,ze,_e);default:if(Be)throw new TypeError("Unknown encoding: "+Je);Je=(Je+"").toLowerCase(),Be=!0}}p.prototype._isBuffer=!0;function B(Je,ze,_e){var Be=Je[ze];Je[ze]=Je[_e],Je[_e]=Be}p.prototype.swap16=function(){var ze=this.length;if(ze%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var _e=0;_e<ze;_e+=2)B(this,_e,_e+1);return this},p.prototype.swap32=function(){var ze=this.length;if(ze%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var _e=0;_e<ze;_e+=4)B(this,_e,_e+3),B(this,_e+1,_e+2);return this},p.prototype.swap64=function(){var ze=this.length;if(ze%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var _e=0;_e<ze;_e+=8)B(this,_e,_e+7),B(this,_e+1,_e+6),B(this,_e+2,_e+5),B(this,_e+3,_e+4);return this},p.prototype.toString=function(){var ze=this.length;return ze===0?"":arguments.length===0?Q(this,0,ze):z.apply(this,arguments)},p.prototype.toLocaleString=p.prototype.toString,p.prototype.equals=function(ze){if(!p.isBuffer(ze))throw new TypeError("Argument must be a Buffer");return this===ze?!0:p.compare(this,ze)===0},p.prototype.inspect=function(){var ze="",_e=H.INSPECT_MAX_BYTES;return ze=this.toString("hex",0,_e).replace(/(.{2})/g,"$1 ").trim(),this.length>_e&&(ze+=" ... "),"<Buffer "+ze+">"},c&&(p.prototype[c]=p.prototype.inspect),p.prototype.compare=function(ze,_e,Be,De,we){if(yt(ze,Uint8Array)&&(ze=p.from(ze,ze.offset,ze.byteLength)),!p.isBuffer(ze))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+f(ze));if(_e===void 0&&(_e=0),Be===void 0&&(Be=ze?ze.length:0),De===void 0&&(De=0),we===void 0&&(we=this.length),_e<0||Be>ze.length||De<0||we>this.length)throw new RangeError("out of range index");if(De>=we&&_e>=Be)return 0;if(De>=we)return-1;if(_e>=Be)return 1;if(_e>>>=0,Be>>>=0,De>>>=0,we>>>=0,this===ze)return 0;for(var xe=we-De,Ee=Be-_e,Pe=Math.min(xe,Ee),Ue=this.slice(De,we),$e=ze.slice(_e,Be),qe=0;qe<Pe;++qe)if(Ue[qe]!==$e[qe]){xe=Ue[qe],Ee=$e[qe];break}return xe<Ee?-1:Ee<xe?1:0};function U(Je,ze,_e,Be,De){if(Je.length===0)return-1;if(typeof _e=="string"?(Be=_e,_e=0):_e>2147483647?_e=2147483647:_e<-2147483648&&(_e=-2147483648),_e=+_e,gt(_e)&&(_e=De?0:Je.length-1),_e<0&&(_e=Je.length+_e),_e>=Je.length){if(De)return-1;_e=Je.length-1}else if(_e<0)if(De)_e=0;else return-1;if(typeof ze=="string"&&(ze=p.from(ze,Be)),p.isBuffer(ze))return ze.length===0?-1:F(Je,ze,_e,Be,De);if(typeof ze=="number")return ze=ze&255,typeof Uint8Array.prototype.indexOf=="function"?De?Uint8Array.prototype.indexOf.call(Je,ze,_e):Uint8Array.prototype.lastIndexOf.call(Je,ze,_e):F(Je,[ze],_e,Be,De);throw new TypeError("val must be string, number or Buffer")}function F(Je,ze,_e,Be,De){var we=1,xe=Je.length,Ee=ze.length;if(Be!==void 0&&(Be=String(Be).toLowerCase(),Be==="ucs2"||Be==="ucs-2"||Be==="utf16le"||Be==="utf-16le")){if(Je.length<2||ze.length<2)return-1;we=2,xe/=2,Ee/=2,_e/=2}function Pe(bt,Gt){return we===1?bt[Gt]:bt.readUInt16BE(Gt*we)}var Ue;if(De){var $e=-1;for(Ue=_e;Ue<xe;Ue++)if(Pe(Je,Ue)===Pe(ze,$e===-1?0:Ue-$e)){if($e===-1&&($e=Ue),Ue-$e+1===Ee)return $e*we}else $e!==-1&&(Ue-=Ue-$e),$e=-1}else for(_e+Ee>xe&&(_e=xe-Ee),Ue=_e;Ue>=0;Ue--){for(var qe=!0,dt=0;dt<Ee;dt++)if(Pe(Je,Ue+dt)!==Pe(ze,dt)){qe=!1;break}if(qe)return Ue}return-1}p.prototype.includes=function(ze,_e,Be){return this.indexOf(ze,_e,Be)!==-1},p.prototype.indexOf=function(ze,_e,Be){return U(this,ze,_e,Be,!0)},p.prototype.lastIndexOf=function(ze,_e,Be){return U(this,ze,_e,Be,!1)};function V(Je,ze,_e,Be){_e=Number(_e)||0;var De=Je.length-_e;Be?(Be=Number(Be),Be>De&&(Be=De)):Be=De;var we=ze.length;Be>we/2&&(Be=we/2);var xe;for(xe=0;xe<Be;++xe){var Ee=parseInt(ze.substr(xe*2,2),16);if(gt(Ee))return xe;Je[_e+xe]=Ee}return xe}function j(Je,ze,_e,Be){return vt(it(ze,Je.length-_e),Je,_e,Be)}function $(Je,ze,_e,Be){return vt(et(ze),Je,_e,Be)}function ne(Je,ze,_e,Be){return vt(at(ze),Je,_e,Be)}function oe(Je,ze,_e,Be){return vt(tt(ze,Je.length-_e),Je,_e,Be)}p.prototype.write=function(ze,_e,Be,De){if(_e===void 0)De="utf8",Be=this.length,_e=0;else if(Be===void 0&&typeof _e=="string")De=_e,Be=this.length,_e=0;else if(isFinite(_e))_e=_e>>>0,isFinite(Be)?(Be=Be>>>0,De===void 0&&(De="utf8")):(De=Be,Be=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var we=this.length-_e;if((Be===void 0||Be>we)&&(Be=we),ze.length>0&&(Be<0||_e<0)||_e>this.length)throw new RangeError("Attempt to write outside buffer bounds");De||(De="utf8");for(var xe=!1;;)switch(De){case"hex":return V(this,ze,_e,Be);case"utf8":case"utf-8":return j(this,ze,_e,Be);case"ascii":case"latin1":case"binary":return $(this,ze,_e,Be);case"base64":return ne(this,ze,_e,Be);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return oe(this,ze,_e,Be);default:if(xe)throw new TypeError("Unknown encoding: "+De);De=(""+De).toLowerCase(),xe=!0}},p.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ce(Je,ze,_e){return ze===0&&_e===Je.length?u.fromByteArray(Je):u.fromByteArray(Je.slice(ze,_e))}function Q(Je,ze,_e){_e=Math.min(Je.length,_e);for(var Be=[],De=ze;De<_e;){var we=Je[De],xe=null,Ee=we>239?4:we>223?3:we>191?2:1;if(De+Ee<=_e){var Pe=void 0,Ue=void 0,$e=void 0,qe=void 0;switch(Ee){case 1:we<128&&(xe=we);break;case 2:Pe=Je[De+1],(Pe&192)===128&&(qe=(we&31)<<6|Pe&63,qe>127&&(xe=qe));break;case 3:Pe=Je[De+1],Ue=Je[De+2],(Pe&192)===128&&(Ue&192)===128&&(qe=(we&15)<<12|(Pe&63)<<6|Ue&63,qe>2047&&(qe<55296||qe>57343)&&(xe=qe));break;case 4:Pe=Je[De+1],Ue=Je[De+2],$e=Je[De+3],(Pe&192)===128&&(Ue&192)===128&&($e&192)===128&&(qe=(we&15)<<18|(Pe&63)<<12|(Ue&63)<<6|$e&63,qe>65535&&qe<1114112&&(xe=qe))}}xe===null?(xe=65533,Ee=1):xe>65535&&(xe-=65536,Be.push(xe>>>10&1023|55296),xe=56320|xe&1023),Be.push(xe),De+=Ee}return K(Be)}var Z=4096;function K(Je){var ze=Je.length;if(ze<=Z)return String.fromCharCode.apply(String,Je);for(var _e="",Be=0;Be<ze;)_e+=String.fromCharCode.apply(String,Je.slice(Be,Be+=Z));return _e}function J(Je,ze,_e){var Be="";_e=Math.min(Je.length,_e);for(var De=ze;De<_e;++De)Be+=String.fromCharCode(Je[De]&127);return Be}function re(Je,ze,_e){var Be="";_e=Math.min(Je.length,_e);for(var De=ze;De<_e;++De)Be+=String.fromCharCode(Je[De]);return Be}function le(Je,ze,_e){var Be=Je.length;(!ze||ze<0)&&(ze=0),(!_e||_e<0||_e>Be)&&(_e=Be);for(var De="",we=ze;we<_e;++we)De+=Mt[Je[we]];return De}function q(Je,ze,_e){for(var Be=Je.slice(ze,_e),De="",we=0;we<Be.length-1;we+=2)De+=String.fromCharCode(Be[we]+Be[we+1]*256);return De}p.prototype.slice=function(ze,_e){var Be=this.length;ze=~~ze,_e=_e===void 0?Be:~~_e,ze<0?(ze+=Be,ze<0&&(ze=0)):ze>Be&&(ze=Be),_e<0?(_e+=Be,_e<0&&(_e=0)):_e>Be&&(_e=Be),_e<ze&&(_e=ze);var De=this.subarray(ze,_e);return Object.setPrototypeOf(De,p.prototype),De};function ee(Je,ze,_e){if(Je%1!==0||Je<0)throw new RangeError("offset is not uint");if(Je+ze>_e)throw new RangeError("Trying to access beyond buffer length")}p.prototype.readUintLE=p.prototype.readUIntLE=function(ze,_e,Be){ze=ze>>>0,_e=_e>>>0,Be||ee(ze,_e,this.length);for(var De=this[ze],we=1,xe=0;++xe<_e&&(we*=256);)De+=this[ze+xe]*we;return De},p.prototype.readUintBE=p.prototype.readUIntBE=function(ze,_e,Be){ze=ze>>>0,_e=_e>>>0,Be||ee(ze,_e,this.length);for(var De=this[ze+--_e],we=1;_e>0&&(we*=256);)De+=this[ze+--_e]*we;return De},p.prototype.readUint8=p.prototype.readUInt8=function(ze,_e){return ze=ze>>>0,_e||ee(ze,1,this.length),this[ze]},p.prototype.readUint16LE=p.prototype.readUInt16LE=function(ze,_e){return ze=ze>>>0,_e||ee(ze,2,this.length),this[ze]|this[ze+1]<<8},p.prototype.readUint16BE=p.prototype.readUInt16BE=function(ze,_e){return ze=ze>>>0,_e||ee(ze,2,this.length),this[ze]<<8|this[ze+1]},p.prototype.readUint32LE=p.prototype.readUInt32LE=function(ze,_e){return ze=ze>>>0,_e||ee(ze,4,this.length),(this[ze]|this[ze+1]<<8|this[ze+2]<<16)+this[ze+3]*16777216},p.prototype.readUint32BE=p.prototype.readUInt32BE=function(ze,_e){return ze=ze>>>0,_e||ee(ze,4,this.length),this[ze]*16777216+(this[ze+1]<<16|this[ze+2]<<8|this[ze+3])},p.prototype.readBigUInt64LE=Ct(function(ze){ze=ze>>>0,He(ze,"offset");var _e=this[ze],Be=this[ze+7];(_e===void 0||Be===void 0)&&Ve(ze,this.length-8);var De=_e+this[++ze]*Math.pow(2,8)+this[++ze]*Math.pow(2,16)+this[++ze]*Math.pow(2,24),we=this[++ze]+this[++ze]*Math.pow(2,8)+this[++ze]*Math.pow(2,16)+Be*Math.pow(2,24);return BigInt(De)+(BigInt(we)<<BigInt(32))}),p.prototype.readBigUInt64BE=Ct(function(ze){ze=ze>>>0,He(ze,"offset");var _e=this[ze],Be=this[ze+7];(_e===void 0||Be===void 0)&&Ve(ze,this.length-8);var De=_e*Math.pow(2,24)+this[++ze]*Math.pow(2,16)+this[++ze]*Math.pow(2,8)+this[++ze],we=this[++ze]*Math.pow(2,24)+this[++ze]*Math.pow(2,16)+this[++ze]*Math.pow(2,8)+Be;return(BigInt(De)<<BigInt(32))+BigInt(we)}),p.prototype.readIntLE=function(ze,_e,Be){ze=ze>>>0,_e=_e>>>0,Be||ee(ze,_e,this.length);for(var De=this[ze],we=1,xe=0;++xe<_e&&(we*=256);)De+=this[ze+xe]*we;return we*=128,De>=we&&(De-=Math.pow(2,8*_e)),De},p.prototype.readIntBE=function(ze,_e,Be){ze=ze>>>0,_e=_e>>>0,Be||ee(ze,_e,this.length);for(var De=_e,we=1,xe=this[ze+--De];De>0&&(we*=256);)xe+=this[ze+--De]*we;return we*=128,xe>=we&&(xe-=Math.pow(2,8*_e)),xe},p.prototype.readInt8=function(ze,_e){return ze=ze>>>0,_e||ee(ze,1,this.length),this[ze]&128?(255-this[ze]+1)*-1:this[ze]},p.prototype.readInt16LE=function(ze,_e){ze=ze>>>0,_e||ee(ze,2,this.length);var Be=this[ze]|this[ze+1]<<8;return Be&32768?Be|4294901760:Be},p.prototype.readInt16BE=function(ze,_e){ze=ze>>>0,_e||ee(ze,2,this.length);var Be=this[ze+1]|this[ze]<<8;return Be&32768?Be|4294901760:Be},p.prototype.readInt32LE=function(ze,_e){return ze=ze>>>0,_e||ee(ze,4,this.length),this[ze]|this[ze+1]<<8|this[ze+2]<<16|this[ze+3]<<24},p.prototype.readInt32BE=function(ze,_e){return ze=ze>>>0,_e||ee(ze,4,this.length),this[ze]<<24|this[ze+1]<<16|this[ze+2]<<8|this[ze+3]},p.prototype.readBigInt64LE=Ct(function(ze){ze=ze>>>0,He(ze,"offset");var _e=this[ze],Be=this[ze+7];(_e===void 0||Be===void 0)&&Ve(ze,this.length-8);var De=this[ze+4]+this[ze+5]*Math.pow(2,8)+this[ze+6]*Math.pow(2,16)+(Be<<24);return(BigInt(De)<<BigInt(32))+BigInt(_e+this[++ze]*Math.pow(2,8)+this[++ze]*Math.pow(2,16)+this[++ze]*Math.pow(2,24))}),p.prototype.readBigInt64BE=Ct(function(ze){ze=ze>>>0,He(ze,"offset");var _e=this[ze],Be=this[ze+7];(_e===void 0||Be===void 0)&&Ve(ze,this.length-8);var De=(_e<<24)+this[++ze]*Math.pow(2,16)+this[++ze]*Math.pow(2,8)+this[++ze];return(BigInt(De)<<BigInt(32))+BigInt(this[++ze]*Math.pow(2,24)+this[++ze]*Math.pow(2,16)+this[++ze]*Math.pow(2,8)+Be)}),p.prototype.readFloatLE=function(ze,_e){return ze=ze>>>0,_e||ee(ze,4,this.length),m.read(this,ze,!0,23,4)},p.prototype.readFloatBE=function(ze,_e){return ze=ze>>>0,_e||ee(ze,4,this.length),m.read(this,ze,!1,23,4)},p.prototype.readDoubleLE=function(ze,_e){return ze=ze>>>0,_e||ee(ze,8,this.length),m.read(this,ze,!0,52,8)},p.prototype.readDoubleBE=function(ze,_e){return ze=ze>>>0,_e||ee(ze,8,this.length),m.read(this,ze,!1,52,8)};function ue(Je,ze,_e,Be,De,we){if(!p.isBuffer(Je))throw new TypeError('"buffer" argument must be a Buffer instance');if(ze>De||ze<we)throw new RangeError('"value" argument is out of bounds');if(_e+Be>Je.length)throw new RangeError("Index out of range")}p.prototype.writeUintLE=p.prototype.writeUIntLE=function(ze,_e,Be,De){if(ze=+ze,_e=_e>>>0,Be=Be>>>0,!De){var we=Math.pow(2,8*Be)-1;ue(this,ze,_e,Be,we,0)}var xe=1,Ee=0;for(this[_e]=ze&255;++Ee<Be&&(xe*=256);)this[_e+Ee]=ze/xe&255;return _e+Be},p.prototype.writeUintBE=p.prototype.writeUIntBE=function(ze,_e,Be,De){if(ze=+ze,_e=_e>>>0,Be=Be>>>0,!De){var we=Math.pow(2,8*Be)-1;ue(this,ze,_e,Be,we,0)}var xe=Be-1,Ee=1;for(this[_e+xe]=ze&255;--xe>=0&&(Ee*=256);)this[_e+xe]=ze/Ee&255;return _e+Be},p.prototype.writeUint8=p.prototype.writeUInt8=function(ze,_e,Be){return ze=+ze,_e=_e>>>0,Be||ue(this,ze,_e,1,255,0),this[_e]=ze&255,_e+1},p.prototype.writeUint16LE=p.prototype.writeUInt16LE=function(ze,_e,Be){return ze=+ze,_e=_e>>>0,Be||ue(this,ze,_e,2,65535,0),this[_e]=ze&255,this[_e+1]=ze>>>8,_e+2},p.prototype.writeUint16BE=p.prototype.writeUInt16BE=function(ze,_e,Be){return ze=+ze,_e=_e>>>0,Be||ue(this,ze,_e,2,65535,0),this[_e]=ze>>>8,this[_e+1]=ze&255,_e+2},p.prototype.writeUint32LE=p.prototype.writeUInt32LE=function(ze,_e,Be){return ze=+ze,_e=_e>>>0,Be||ue(this,ze,_e,4,4294967295,0),this[_e+3]=ze>>>24,this[_e+2]=ze>>>16,this[_e+1]=ze>>>8,this[_e]=ze&255,_e+4},p.prototype.writeUint32BE=p.prototype.writeUInt32BE=function(ze,_e,Be){return ze=+ze,_e=_e>>>0,Be||ue(this,ze,_e,4,4294967295,0),this[_e]=ze>>>24,this[_e+1]=ze>>>16,this[_e+2]=ze>>>8,this[_e+3]=ze&255,_e+4};function se(Je,ze,_e,Be,De){Ae(ze,Be,De,Je,_e,7);var we=Number(ze&BigInt(4294967295));Je[_e++]=we,we=we>>8,Je[_e++]=we,we=we>>8,Je[_e++]=we,we=we>>8,Je[_e++]=we;var xe=Number(ze>>BigInt(32)&BigInt(4294967295));return Je[_e++]=xe,xe=xe>>8,Je[_e++]=xe,xe=xe>>8,Je[_e++]=xe,xe=xe>>8,Je[_e++]=xe,_e}function he(Je,ze,_e,Be,De){Ae(ze,Be,De,Je,_e,7);var we=Number(ze&BigInt(4294967295));Je[_e+7]=we,we=we>>8,Je[_e+6]=we,we=we>>8,Je[_e+5]=we,we=we>>8,Je[_e+4]=we;var xe=Number(ze>>BigInt(32)&BigInt(4294967295));return Je[_e+3]=xe,xe=xe>>8,Je[_e+2]=xe,xe=xe>>8,Je[_e+1]=xe,xe=xe>>8,Je[_e]=xe,_e+8}p.prototype.writeBigUInt64LE=Ct(function(ze){var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return se(this,ze,_e,BigInt(0),BigInt("0xffffffffffffffff"))}),p.prototype.writeBigUInt64BE=Ct(function(ze){var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return he(this,ze,_e,BigInt(0),BigInt("0xffffffffffffffff"))}),p.prototype.writeIntLE=function(ze,_e,Be,De){if(ze=+ze,_e=_e>>>0,!De){var we=Math.pow(2,8*Be-1);ue(this,ze,_e,Be,we-1,-we)}var xe=0,Ee=1,Pe=0;for(this[_e]=ze&255;++xe<Be&&(Ee*=256);)ze<0&&Pe===0&&this[_e+xe-1]!==0&&(Pe=1),this[_e+xe]=(ze/Ee>>0)-Pe&255;return _e+Be},p.prototype.writeIntBE=function(ze,_e,Be,De){if(ze=+ze,_e=_e>>>0,!De){var we=Math.pow(2,8*Be-1);ue(this,ze,_e,Be,we-1,-we)}var xe=Be-1,Ee=1,Pe=0;for(this[_e+xe]=ze&255;--xe>=0&&(Ee*=256);)ze<0&&Pe===0&&this[_e+xe+1]!==0&&(Pe=1),this[_e+xe]=(ze/Ee>>0)-Pe&255;return _e+Be},p.prototype.writeInt8=function(ze,_e,Be){return ze=+ze,_e=_e>>>0,Be||ue(this,ze,_e,1,127,-128),ze<0&&(ze=255+ze+1),this[_e]=ze&255,_e+1},p.prototype.writeInt16LE=function(ze,_e,Be){return ze=+ze,_e=_e>>>0,Be||ue(this,ze,_e,2,32767,-32768),this[_e]=ze&255,this[_e+1]=ze>>>8,_e+2},p.prototype.writeInt16BE=function(ze,_e,Be){return ze=+ze,_e=_e>>>0,Be||ue(this,ze,_e,2,32767,-32768),this[_e]=ze>>>8,this[_e+1]=ze&255,_e+2},p.prototype.writeInt32LE=function(ze,_e,Be){return ze=+ze,_e=_e>>>0,Be||ue(this,ze,_e,4,2147483647,-2147483648),this[_e]=ze&255,this[_e+1]=ze>>>8,this[_e+2]=ze>>>16,this[_e+3]=ze>>>24,_e+4},p.prototype.writeInt32BE=function(ze,_e,Be){return ze=+ze,_e=_e>>>0,Be||ue(this,ze,_e,4,2147483647,-2147483648),ze<0&&(ze=4294967295+ze+1),this[_e]=ze>>>24,this[_e+1]=ze>>>16,this[_e+2]=ze>>>8,this[_e+3]=ze&255,_e+4},p.prototype.writeBigInt64LE=Ct(function(ze){var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return se(this,ze,_e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),p.prototype.writeBigInt64BE=Ct(function(ze){var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return he(this,ze,_e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function me(Je,ze,_e,Be,De,we){if(_e+Be>Je.length)throw new RangeError("Index out of range");if(_e<0)throw new RangeError("Index out of range")}function Ce(Je,ze,_e,Be,De){return ze=+ze,_e=_e>>>0,De||me(Je,ze,_e,4),m.write(Je,ze,_e,Be,23,4),_e+4}p.prototype.writeFloatLE=function(ze,_e,Be){return Ce(this,ze,_e,!0,Be)},p.prototype.writeFloatBE=function(ze,_e,Be){return Ce(this,ze,_e,!1,Be)};function Te(Je,ze,_e,Be,De){return ze=+ze,_e=_e>>>0,De||me(Je,ze,_e,8),m.write(Je,ze,_e,Be,52,8),_e+8}p.prototype.writeDoubleLE=function(ze,_e,Be){return Te(this,ze,_e,!0,Be)},p.prototype.writeDoubleBE=function(ze,_e,Be){return Te(this,ze,_e,!1,Be)},p.prototype.copy=function(ze,_e,Be,De){if(!p.isBuffer(ze))throw new TypeError("argument should be a Buffer");if(Be||(Be=0),!De&&De!==0&&(De=this.length),_e>=ze.length&&(_e=ze.length),_e||(_e=0),De>0&&De<Be&&(De=Be),De===Be||ze.length===0||this.length===0)return 0;if(_e<0)throw new RangeError("targetStart out of bounds");if(Be<0||Be>=this.length)throw new RangeError("Index out of range");if(De<0)throw new RangeError("sourceEnd out of bounds");De>this.length&&(De=this.length),ze.length-_e<De-Be&&(De=ze.length-_e+Be);var we=De-Be;return this===ze&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(_e,Be,De):Uint8Array.prototype.set.call(ze,this.subarray(Be,De),_e),we},p.prototype.fill=function(ze,_e,Be,De){if(typeof ze=="string"){if(typeof _e=="string"?(De=_e,_e=0,Be=this.length):typeof Be=="string"&&(De=Be,Be=this.length),De!==void 0&&typeof De!="string")throw new TypeError("encoding must be a string");if(typeof De=="string"&&!p.isEncoding(De))throw new TypeError("Unknown encoding: "+De);if(ze.length===1){var we=ze.charCodeAt(0);(De==="utf8"&&we<128||De==="latin1")&&(ze=we)}}else typeof ze=="number"?ze=ze&255:typeof ze=="boolean"&&(ze=Number(ze));if(_e<0||this.length<_e||this.length<Be)throw new RangeError("Out of range index");if(Be<=_e)return this;_e=_e>>>0,Be=Be===void 0?this.length:Be>>>0,ze||(ze=0);var xe;if(typeof ze=="number")for(xe=_e;xe<Be;++xe)this[xe]=ze;else{var Ee=p.isBuffer(ze)?ze:p.from(ze,De),Pe=Ee.length;if(Pe===0)throw new TypeError('The value "'+ze+'" is invalid for argument "value"');for(xe=0;xe<Be-_e;++xe)this[xe+_e]=Ee[xe%Pe]}return this};var Oe={};function Ne(Je,ze,_e){Oe[Je]=function(Be){v(we,Be);var De=t(we);function we(){var xe;return g(this,we),xe=De.call(this),Object.defineProperty(s(xe),"message",{value:ze.apply(s(xe),arguments),writable:!0,configurable:!0}),xe.name="".concat(xe.name," [").concat(Je,"]"),xe.stack,delete xe.name,xe}return a(we,[{key:"code",get:function(){return Je},set:function(Ee){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Ee,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(Je,"]: ").concat(this.message)}}]),we}(_e)}Ne("ERR_BUFFER_OUT_OF_BOUNDS",function(Je){return Je?"".concat(Je," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),Ne("ERR_INVALID_ARG_TYPE",function(Je,ze){return'The "'.concat(Je,'" argument must be of type number. Received type ').concat(f(ze))},TypeError),Ne("ERR_OUT_OF_RANGE",function(Je,ze,_e){var Be='The value of "'.concat(Je,'" is out of range.'),De=_e;return Number.isInteger(_e)&&Math.abs(_e)>Math.pow(2,32)?De=Le(String(_e)):typeof _e=="bigint"&&(De=String(_e),(_e>Math.pow(BigInt(2),BigInt(32))||_e<-Math.pow(BigInt(2),BigInt(32)))&&(De=Le(De)),De+="n"),Be+=" It must be ".concat(ze,". Received ").concat(De),Be},RangeError);function Le(Je){for(var ze="",_e=Je.length,Be=Je[0]==="-"?1:0;_e>=Be+4;_e-=3)ze="_".concat(Je.slice(_e-3,_e)).concat(ze);return"".concat(Je.slice(0,_e)).concat(ze)}function be(Je,ze,_e){He(ze,"offset"),(Je[ze]===void 0||Je[ze+_e]===void 0)&&Ve(ze,Je.length-(_e+1))}function Ae(Je,ze,_e,Be,De,we){if(Je>_e||Je<ze){var xe=typeof ze=="bigint"?"n":"",Ee;throw we>3?ze===0||ze===BigInt(0)?Ee=">= 0".concat(xe," and < 2").concat(xe," ** ").concat((we+1)*8).concat(xe):Ee=">= -(2".concat(xe," ** ").concat((we+1)*8-1).concat(xe,") and < 2 ** ")+"".concat((we+1)*8-1).concat(xe):Ee=">= ".concat(ze).concat(xe," and <= ").concat(_e).concat(xe),new Oe.ERR_OUT_OF_RANGE("value",Ee,Je)}be(Be,De,we)}function He(Je,ze){if(typeof Je!="number")throw new Oe.ERR_INVALID_ARG_TYPE(ze,"number",Je)}function Ve(Je,ze,_e){throw Math.floor(Je)!==Je?(He(Je,_e),new Oe.ERR_OUT_OF_RANGE(_e||"offset","an integer",Je)):ze<0?new Oe.ERR_BUFFER_OUT_OF_BOUNDS:new Oe.ERR_OUT_OF_RANGE(_e||"offset",">= ".concat(_e?1:0," and <= ").concat(ze),Je)}var ke=/[^+/0-9A-Za-z-_]/g;function Ge(Je){if(Je=Je.split("=")[0],Je=Je.trim().replace(ke,""),Je.length<2)return"";for(;Je.length%4!==0;)Je=Je+"=";return Je}function it(Je,ze){ze=ze||1/0;for(var _e,Be=Je.length,De=null,we=[],xe=0;xe<Be;++xe){if(_e=Je.charCodeAt(xe),_e>55295&&_e<57344){if(!De){if(_e>56319){(ze-=3)>-1&&we.push(239,191,189);continue}else if(xe+1===Be){(ze-=3)>-1&&we.push(239,191,189);continue}De=_e;continue}if(_e<56320){(ze-=3)>-1&&we.push(239,191,189),De=_e;continue}_e=(De-55296<<10|_e-56320)+65536}else De&&(ze-=3)>-1&&we.push(239,191,189);if(De=null,_e<128){if((ze-=1)<0)break;we.push(_e)}else if(_e<2048){if((ze-=2)<0)break;we.push(_e>>6|192,_e&63|128)}else if(_e<65536){if((ze-=3)<0)break;we.push(_e>>12|224,_e>>6&63|128,_e&63|128)}else if(_e<1114112){if((ze-=4)<0)break;we.push(_e>>18|240,_e>>12&63|128,_e>>6&63|128,_e&63|128)}else throw new Error("Invalid code point")}return we}function et(Je){for(var ze=[],_e=0;_e<Je.length;++_e)ze.push(Je.charCodeAt(_e)&255);return ze}function tt(Je,ze){for(var _e,Be,De,we=[],xe=0;xe<Je.length&&!((ze-=2)<0);++xe)_e=Je.charCodeAt(xe),Be=_e>>8,De=_e%256,we.push(De),we.push(Be);return we}function at(Je){return u.toByteArray(Ge(Je))}function vt(Je,ze,_e,Be){var De;for(De=0;De<Be&&!(De+_e>=ze.length||De>=Je.length);++De)ze[De+_e]=Je[De];return De}function yt(Je,ze){return Je instanceof ze||Je!=null&&Je.constructor!=null&&Je.constructor.name!=null&&Je.constructor.name===ze.name}function gt(Je){return Je!==Je}var Mt=function(){for(var Je="0123456789abcdef",ze=new Array(256),_e=0;_e<16;++_e)for(var Be=_e*16,De=0;De<16;++De)ze[Be+De]=Je[_e]+Je[De];return ze}();function Ct(Je){return typeof BigInt>"u"?Vt:Je}function Vt(){throw new Error("BigInt not supported")}},35791:function(W){W.exports=R,W.exports.isMobile=R,W.exports.default=R;var H=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,e=/CrOS/,g=/android|ipad|playbook|silk/i;function R(a){a||(a={});var C=a.ua;if(!C&&typeof navigator<"u"&&(C=navigator.userAgent),C&&C.headers&&typeof C.headers["user-agent"]=="string"&&(C=C.headers["user-agent"]),typeof C!="string")return!1;var T=H.test(C)&&!e.test(C)||!!a.tablet&&g.test(C);return!T&&a.tablet&&a.featureDetect&&navigator&&navigator.maxTouchPoints>1&&C.indexOf("Macintosh")!==-1&&C.indexOf("Safari")!==-1&&(T=!0),T}},86781:function(W,H,e){e.r(H),e.d(H,{sankeyCenter:function(){return s},sankeyCircular:function(){return L},sankeyJustify:function(){return r},sankeyLeft:function(){return y},sankeyRight:function(){return t}});var g=e(33064),R=e(15140),a=e(45879),C=e(2502),T=e.n(C);function v(Te){return Te.target.depth}function y(Te){return Te.depth}function t(Te,Oe){return Oe-1-Te.height}function r(Te,Oe){return Te.sourceLinks.length?Te.depth:Oe-1}function s(Te){return Te.targetLinks.length?Te.depth:Te.sourceLinks.length?(0,g.VV)(Te.sourceLinks,v)-1:0}function n(Te){return function(){return Te}}var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Te){return typeof Te}:function(Te){return Te&&typeof Symbol=="function"&&Te.constructor===Symbol&&Te!==Symbol.prototype?"symbol":typeof Te};function f(Te,Oe){return m(Te.source,Oe.source)||Te.index-Oe.index}function u(Te,Oe){return m(Te.target,Oe.target)||Te.index-Oe.index}function m(Te,Oe){return Te.partOfCycle===Oe.partOfCycle?Te.y0-Oe.y0:Te.circularLinkType==="top"||Oe.circularLinkType==="bottom"?-1:1}function c(Te){return Te.value}function A(Te){return(Te.y0+Te.y1)/2}function h(Te){return A(Te.source)}function l(Te){return A(Te.target)}function p(Te){return Te.index}function M(Te){return Te.nodes}function S(Te){return Te.links}function P(Te,Oe){var Ne=Te.get(Oe);if(!Ne)throw new Error("missing: "+Oe);return Ne}function x(Te,Oe){return Oe(Te)}var E=25,w=10,i=.3;function L(){var Te=0,Oe=0,Ne=1,Le=1,be=24,Ae,He=p,Ve=r,ke=M,Ge=S,it=32,et=2,tt,at=null;function vt(){var _e={nodes:ke.apply(null,arguments),links:Ge.apply(null,arguments)};yt(_e),b(_e,He,at),gt(_e),Vt(_e),O(_e,He),Je(_e,it,He),ze(_e);for(var Be=4,De=0;De<Be;De++)ee(_e,Le,He),ue(_e,Le,He),re(_e,Oe,Le,He),ee(_e,Le,He),ue(_e,Le,He);return Ce(_e,Oe,Le),F(_e,et,Le,He),_e}vt.nodeId=function(_e){return arguments.length?(He=typeof _e=="function"?_e:n(_e),vt):He},vt.nodeAlign=function(_e){return arguments.length?(Ve=typeof _e=="function"?_e:n(_e),vt):Ve},vt.nodeWidth=function(_e){return arguments.length?(be=+_e,vt):be},vt.nodePadding=function(_e){return arguments.length?(Ae=+_e,vt):Ae},vt.nodes=function(_e){return arguments.length?(ke=typeof _e=="function"?_e:n(_e),vt):ke},vt.links=function(_e){return arguments.length?(Ge=typeof _e=="function"?_e:n(_e),vt):Ge},vt.size=function(_e){return arguments.length?(Te=Oe=0,Ne=+_e[0],Le=+_e[1],vt):[Ne-Te,Le-Oe]},vt.extent=function(_e){return arguments.length?(Te=+_e[0][0],Ne=+_e[1][0],Oe=+_e[0][1],Le=+_e[1][1],vt):[[Te,Oe],[Ne,Le]]},vt.iterations=function(_e){return arguments.length?(it=+_e,vt):it},vt.circularLinkGap=function(_e){return arguments.length?(et=+_e,vt):et},vt.nodePaddingRatio=function(_e){return arguments.length?(tt=+_e,vt):tt},vt.sortNodes=function(_e){return arguments.length?(at=_e,vt):at},vt.update=function(_e){return O(_e,He),ze(_e),_e.links.forEach(function(Be){Be.circular&&(Be.circularLinkType=Be.y0+Be.y1<Le?"top":"bottom",Be.source.circularLinkType=Be.circularLinkType,Be.target.circularLinkType=Be.circularLinkType)}),ee(_e,Le,He,!1),ue(_e,Le,He),F(_e,et,Le,He),_e};function yt(_e){_e.nodes.forEach(function(De,we){De.index=we,De.sourceLinks=[],De.targetLinks=[]});var Be=(0,R.UI)(_e.nodes,He);return _e.links.forEach(function(De,we){De.index=we;var xe=De.source,Ee=De.target;(typeof xe>"u"?"undefined":o(xe))!=="object"&&(xe=De.source=P(Be,xe)),(typeof Ee>"u"?"undefined":o(Ee))!=="object"&&(Ee=De.target=P(Be,Ee)),xe.sourceLinks.push(De),Ee.targetLinks.push(De)}),_e}function gt(_e){_e.nodes.forEach(function(Be){Be.partOfCycle=!1,Be.value=Math.max((0,g.Sm)(Be.sourceLinks,c),(0,g.Sm)(Be.targetLinks,c)),Be.sourceLinks.forEach(function(De){De.circular&&(Be.partOfCycle=!0,Be.circularLinkType=De.circularLinkType)}),Be.targetLinks.forEach(function(De){De.circular&&(Be.partOfCycle=!0,Be.circularLinkType=De.circularLinkType)})})}function Mt(_e){var Be=0,De=0,we=0,xe=0,Ee=(0,g.Fp)(_e.nodes,function(Pe){return Pe.column});return _e.links.forEach(function(Pe){Pe.circular&&(Pe.circularLinkType=="top"?Be=Be+Pe.width:De=De+Pe.width,Pe.target.column==0&&(xe=xe+Pe.width),Pe.source.column==Ee&&(we=we+Pe.width))}),Be=Be>0?Be+E+w:Be,De=De>0?De+E+w:De,we=we>0?we+E+w:we,xe=xe>0?xe+E+w:xe,{top:Be,bottom:De,left:xe,right:we}}function Ct(_e,Be){var De=(0,g.Fp)(_e.nodes,function(qe){return qe.column}),we=Ne-Te,xe=Le-Oe,Ee=we+Be.right+Be.left,Pe=xe+Be.top+Be.bottom,Ue=we/Ee,$e=xe/Pe;return Te=Te*Ue+Be.left,Ne=Be.right==0?Ne:Ne*Ue,Oe=Oe*$e+Be.top,Le=Le*$e,_e.nodes.forEach(function(qe){qe.x0=Te+qe.column*((Ne-Te-be)/De),qe.x1=qe.x0+be}),$e}function Vt(_e){var Be,De,we;for(Be=_e.nodes,De=[],we=0;Be.length;++we,Be=De,De=[])Be.forEach(function(xe){xe.depth=we,xe.sourceLinks.forEach(function(Ee){De.indexOf(Ee.target)<0&&!Ee.circular&&De.push(Ee.target)})});for(Be=_e.nodes,De=[],we=0;Be.length;++we,Be=De,De=[])Be.forEach(function(xe){xe.height=we,xe.targetLinks.forEach(function(Ee){De.indexOf(Ee.source)<0&&!Ee.circular&&De.push(Ee.source)})});_e.nodes.forEach(function(xe){xe.column=Math.floor(Ve.call(null,xe,we))})}function Je(_e,Be,De){var we=(0,R.b1)().key(function(qe){return qe.column}).sortKeys(g.j2).entries(_e.nodes).map(function(qe){return qe.values});Pe(De),$e();for(var xe=1,Ee=Be;Ee>0;--Ee)Ue(xe*=.99,De),$e();function Pe(qe){if(tt){var dt=1/0;we.forEach(function(At){var zt=Le*tt/(At.length+1);dt=zt<dt?zt:dt}),Ae=dt}var bt=(0,g.VV)(we,function(At){return(Le-Oe-(At.length-1)*Ae)/(0,g.Sm)(At,c)});bt=bt*i,_e.links.forEach(function(At){At.width=At.value*bt});var Gt=Mt(_e),Qt=Ct(_e,Gt);bt=bt*Qt,_e.links.forEach(function(At){At.width=At.value*bt}),we.forEach(function(At){var zt=At.length;At.forEach(function($t,Ar){$t.depth==we.length-1&&zt==1||$t.depth==0&&zt==1?($t.y0=Le/2-$t.value*bt,$t.y1=$t.y0+$t.value*bt):$t.partOfCycle?z($t,qe)==0?($t.y0=Le/2+Ar,$t.y1=$t.y0+$t.value*bt):$t.circularLinkType=="top"?($t.y0=Oe+Ar,$t.y1=$t.y0+$t.value*bt):($t.y0=Le-$t.value*bt-Ar,$t.y1=$t.y0+$t.value*bt):Gt.top==0||Gt.bottom==0?($t.y0=(Le-Oe)/zt*Ar,$t.y1=$t.y0+$t.value*bt):($t.y0=(Le-Oe)/2-zt/2+Ar,$t.y1=$t.y0+$t.value*bt)})})}function Ue(qe,dt){var bt=we.length;we.forEach(function(Gt){var Qt=Gt.length,At=Gt[0].depth;Gt.forEach(function(zt){var $t;if((zt.sourceLinks.length||zt.targetLinks.length)&&!(zt.partOfCycle&&z(zt,dt)>0))if(At==0&&Qt==1)$t=zt.y1-zt.y0,zt.y0=Le/2-$t/2,zt.y1=Le/2+$t/2;else if(At==bt-1&&Qt==1)$t=zt.y1-zt.y0,zt.y0=Le/2-$t/2,zt.y1=Le/2+$t/2;else{var Ar=0,ut=(0,g.J6)(zt.sourceLinks,l),Yt=(0,g.J6)(zt.targetLinks,h);ut&&Yt?Ar=(ut+Yt)/2:Ar=ut||Yt;var Kt=(Ar-A(zt))*qe;zt.y0+=Kt,zt.y1+=Kt}})})}function $e(){we.forEach(function(qe){var dt,bt,Gt=Oe,Qt=qe.length,At;for(qe.sort(m),At=0;At<Qt;++At)dt=qe[At],bt=Gt-dt.y0,bt>0&&(dt.y0+=bt,dt.y1+=bt),Gt=dt.y1+Ae;if(bt=Gt-Ae-Le,bt>0)for(Gt=dt.y0-=bt,dt.y1-=bt,At=Qt-2;At>=0;--At)dt=qe[At],bt=dt.y1+Ae-Gt,bt>0&&(dt.y0-=bt,dt.y1-=bt),Gt=dt.y0})}}function ze(_e){_e.nodes.forEach(function(Be){Be.sourceLinks.sort(u),Be.targetLinks.sort(f)}),_e.nodes.forEach(function(Be){var De=Be.y0,we=De,xe=Be.y1,Ee=xe;Be.sourceLinks.forEach(function(Pe){Pe.circular?(Pe.y0=xe-Pe.width/2,xe=xe-Pe.width):(Pe.y0=De+Pe.width/2,De+=Pe.width)}),Be.targetLinks.forEach(function(Pe){Pe.circular?(Pe.y1=Ee-Pe.width/2,Ee=Ee-Pe.width):(Pe.y1=we+Pe.width/2,we+=Pe.width)})})}return vt}function b(Te,Oe,Ne){var Le=0;if(Ne===null){for(var be=[],Ae=0;Ae<Te.links.length;Ae++){var He=Te.links[Ae],Ve=He.source.index,ke=He.target.index;be[Ve]||(be[Ve]=[]),be[ke]||(be[ke]=[]),be[Ve].indexOf(ke)===-1&&be[Ve].push(ke)}var Ge=T()(be);Ge.sort(function(at,vt){return at.length-vt.length});var it={};for(Ae=0;Ae<Ge.length;Ae++){var et=Ge[Ae],tt=et.slice(-2);it[tt[0]]||(it[tt[0]]={}),it[tt[0]][tt[1]]=!0}Te.links.forEach(function(at){var vt=at.target.index,yt=at.source.index;vt===yt||it[yt]&&it[yt][vt]?(at.circular=!0,at.circularLinkID=Le,Le=Le+1):at.circular=!1})}else Te.links.forEach(function(at){at.source[Ne]<at.target[Ne]?at.circular=!1:(at.circular=!0,at.circularLinkID=Le,Le=Le+1)})}function O(Te,Oe){var Ne=0,Le=0;Te.links.forEach(function(be){be.circular&&(be.source.circularLinkType||be.target.circularLinkType?be.circularLinkType=be.source.circularLinkType?be.source.circularLinkType:be.target.circularLinkType:be.circularLinkType=Ne<Le?"top":"bottom",be.circularLinkType=="top"?Ne=Ne+1:Le=Le+1,Te.nodes.forEach(function(Ae){(x(Ae,Oe)==x(be.source,Oe)||x(Ae,Oe)==x(be.target,Oe))&&(Ae.circularLinkType=be.circularLinkType)}))}),Te.links.forEach(function(be){be.circular&&(be.source.circularLinkType==be.target.circularLinkType&&(be.circularLinkType=be.source.circularLinkType),me(be,Oe)&&(be.circularLinkType=be.source.circularLinkType))})}function _(Te){var Oe=Math.abs(Te.y1-Te.y0),Ne=Math.abs(Te.target.x0-Te.source.x1);return Math.atan(Ne/Oe)}function N(Te,Oe){return Te.source.column<Oe.target.column?!1:!(Te.target.column>Oe.source.column)}function z(Te,Oe){var Ne=0;Te.sourceLinks.forEach(function(be){Ne=be.circular&&!me(be,Oe)?Ne+1:Ne});var Le=0;return Te.targetLinks.forEach(function(be){Le=be.circular&&!me(be,Oe)?Le+1:Le}),Ne+Le}function B(Te){var Oe=Te.source.sourceLinks,Ne=0;Oe.forEach(function(Ae){Ne=Ae.circular?Ne+1:Ne});var Le=Te.target.targetLinks,be=0;return Le.forEach(function(Ae){be=Ae.circular?be+1:be}),!(Ne>1||be>1)}function U(Te,Oe,Ne){return Te.sort(j),Te.forEach(function(Le,be){var Ae=0;if(me(Le,Ne)&&B(Le))Le.circularPathData.verticalBuffer=Ae+Le.width/2;else{var He=0;for(He;He<be;He++)if(N(Te[be],Te[He])){var Ve=Te[He].circularPathData.verticalBuffer+Te[He].width/2+Oe;Ae=Ve>Ae?Ve:Ae}Le.circularPathData.verticalBuffer=Ae+Le.width/2}}),Te}function F(Te,Oe,Ne,Le){var be=5,Ae=(0,g.VV)(Te.links,function(ke){return ke.source.y0});Te.links.forEach(function(ke){ke.circular&&(ke.circularPathData={})});var He=Te.links.filter(function(ke){return ke.circularLinkType=="top"});U(He,Oe,Le);var Ve=Te.links.filter(function(ke){return ke.circularLinkType=="bottom"});U(Ve,Oe,Le),Te.links.forEach(function(ke){if(ke.circular){if(ke.circularPathData.arcRadius=ke.width+w,ke.circularPathData.leftNodeBuffer=be,ke.circularPathData.rightNodeBuffer=be,ke.circularPathData.sourceWidth=ke.source.x1-ke.source.x0,ke.circularPathData.sourceX=ke.source.x0+ke.circularPathData.sourceWidth,ke.circularPathData.targetX=ke.target.x0,ke.circularPathData.sourceY=ke.y0,ke.circularPathData.targetY=ke.y1,me(ke,Le)&&B(ke))ke.circularPathData.leftSmallArcRadius=w+ke.width/2,ke.circularPathData.leftLargeArcRadius=w+ke.width/2,ke.circularPathData.rightSmallArcRadius=w+ke.width/2,ke.circularPathData.rightLargeArcRadius=w+ke.width/2,ke.circularLinkType=="bottom"?(ke.circularPathData.verticalFullExtent=ke.source.y1+E+ke.circularPathData.verticalBuffer,ke.circularPathData.verticalLeftInnerExtent=ke.circularPathData.verticalFullExtent-ke.circularPathData.leftLargeArcRadius,ke.circularPathData.verticalRightInnerExtent=ke.circularPathData.verticalFullExtent-ke.circularPathData.rightLargeArcRadius):(ke.circularPathData.verticalFullExtent=ke.source.y0-E-ke.circularPathData.verticalBuffer,ke.circularPathData.verticalLeftInnerExtent=ke.circularPathData.verticalFullExtent+ke.circularPathData.leftLargeArcRadius,ke.circularPathData.verticalRightInnerExtent=ke.circularPathData.verticalFullExtent+ke.circularPathData.rightLargeArcRadius);else{var Ge=ke.source.column,it=ke.circularLinkType,et=Te.links.filter(function(vt){return vt.source.column==Ge&&vt.circularLinkType==it});ke.circularLinkType=="bottom"?et.sort(ne):et.sort($);var tt=0;et.forEach(function(vt,yt){vt.circularLinkID==ke.circularLinkID&&(ke.circularPathData.leftSmallArcRadius=w+ke.width/2+tt,ke.circularPathData.leftLargeArcRadius=w+ke.width/2+yt*Oe+tt),tt=tt+vt.width}),Ge=ke.target.column,et=Te.links.filter(function(vt){return vt.target.column==Ge&&vt.circularLinkType==it}),ke.circularLinkType=="bottom"?et.sort(ce):et.sort(oe),tt=0,et.forEach(function(vt,yt){vt.circularLinkID==ke.circularLinkID&&(ke.circularPathData.rightSmallArcRadius=w+ke.width/2+tt,ke.circularPathData.rightLargeArcRadius=w+ke.width/2+yt*Oe+tt),tt=tt+vt.width}),ke.circularLinkType=="bottom"?(ke.circularPathData.verticalFullExtent=Math.max(Ne,ke.source.y1,ke.target.y1)+E+ke.circularPathData.verticalBuffer,ke.circularPathData.verticalLeftInnerExtent=ke.circularPathData.verticalFullExtent-ke.circularPathData.leftLargeArcRadius,ke.circularPathData.verticalRightInnerExtent=ke.circularPathData.verticalFullExtent-ke.circularPathData.rightLargeArcRadius):(ke.circularPathData.verticalFullExtent=Ae-E-ke.circularPathData.verticalBuffer,ke.circularPathData.verticalLeftInnerExtent=ke.circularPathData.verticalFullExtent+ke.circularPathData.leftLargeArcRadius,ke.circularPathData.verticalRightInnerExtent=ke.circularPathData.verticalFullExtent+ke.circularPathData.rightLargeArcRadius)}ke.circularPathData.leftInnerExtent=ke.circularPathData.sourceX+ke.circularPathData.leftNodeBuffer,ke.circularPathData.rightInnerExtent=ke.circularPathData.targetX-ke.circularPathData.rightNodeBuffer,ke.circularPathData.leftFullExtent=ke.circularPathData.sourceX+ke.circularPathData.leftLargeArcRadius+ke.circularPathData.leftNodeBuffer,ke.circularPathData.rightFullExtent=ke.circularPathData.targetX-ke.circularPathData.rightLargeArcRadius-ke.circularPathData.rightNodeBuffer}if(ke.circular)ke.path=V(ke);else{var at=(0,a.h5)().source(function(vt){var yt=vt.source.x0+(vt.source.x1-vt.source.x0),gt=vt.y0;return[yt,gt]}).target(function(vt){var yt=vt.target.x0,gt=vt.y1;return[yt,gt]});ke.path=at(ke)}})}function V(Te){var Oe="";return Te.circularLinkType=="top"?Oe="M"+Te.circularPathData.sourceX+" "+Te.circularPathData.sourceY+" L"+Te.circularPathData.leftInnerExtent+" "+Te.circularPathData.sourceY+" A"+Te.circularPathData.leftLargeArcRadius+" "+Te.circularPathData.leftSmallArcRadius+" 0 0 0 "+Te.circularPathData.leftFullExtent+" "+(Te.circularPathData.sourceY-Te.circularPathData.leftSmallArcRadius)+" L"+Te.circularPathData.leftFullExtent+" "+Te.circularPathData.verticalLeftInnerExtent+" A"+Te.circularPathData.leftLargeArcRadius+" "+Te.circularPathData.leftLargeArcRadius+" 0 0 0 "+Te.circularPathData.leftInnerExtent+" "+Te.circularPathData.verticalFullExtent+" L"+Te.circularPathData.rightInnerExtent+" "+Te.circularPathData.verticalFullExtent+" A"+Te.circularPathData.rightLargeArcRadius+" "+Te.circularPathData.rightLargeArcRadius+" 0 0 0 "+Te.circularPathData.rightFullExtent+" "+Te.circularPathData.verticalRightInnerExtent+" L"+Te.circularPathData.rightFullExtent+" "+(Te.circularPathData.targetY-Te.circularPathData.rightSmallArcRadius)+" A"+Te.circularPathData.rightLargeArcRadius+" "+Te.circularPathData.rightSmallArcRadius+" 0 0 0 "+Te.circularPathData.rightInnerExtent+" "+Te.circularPathData.targetY+" L"+Te.circularPathData.targetX+" "+Te.circularPathData.targetY:Oe="M"+Te.circularPathData.sourceX+" "+Te.circularPathData.sourceY+" L"+Te.circularPathData.leftInnerExtent+" "+Te.circularPathData.sourceY+" A"+Te.circularPathData.leftLargeArcRadius+" "+Te.circularPathData.leftSmallArcRadius+" 0 0 1 "+Te.circularPathData.leftFullExtent+" "+(Te.circularPathData.sourceY+Te.circularPathData.leftSmallArcRadius)+" L"+Te.circularPathData.leftFullExtent+" "+Te.circularPathData.verticalLeftInnerExtent+" A"+Te.circularPathData.leftLargeArcRadius+" "+Te.circularPathData.leftLargeArcRadius+" 0 0 1 "+Te.circularPathData.leftInnerExtent+" "+Te.circularPathData.verticalFullExtent+" L"+Te.circularPathData.rightInnerExtent+" "+Te.circularPathData.verticalFullExtent+" A"+Te.circularPathData.rightLargeArcRadius+" "+Te.circularPathData.rightLargeArcRadius+" 0 0 1 "+Te.circularPathData.rightFullExtent+" "+Te.circularPathData.verticalRightInnerExtent+" L"+Te.circularPathData.rightFullExtent+" "+(Te.circularPathData.targetY+Te.circularPathData.rightSmallArcRadius)+" A"+Te.circularPathData.rightLargeArcRadius+" "+Te.circularPathData.rightSmallArcRadius+" 0 0 1 "+Te.circularPathData.rightInnerExtent+" "+Te.circularPathData.targetY+" L"+Te.circularPathData.targetX+" "+Te.circularPathData.targetY,Oe}function j(Te,Oe){return Q(Te)==Q(Oe)?Te.circularLinkType=="bottom"?ne(Te,Oe):$(Te,Oe):Q(Oe)-Q(Te)}function $(Te,Oe){return Te.y0-Oe.y0}function ne(Te,Oe){return Oe.y0-Te.y0}function oe(Te,Oe){return Te.y1-Oe.y1}function ce(Te,Oe){return Oe.y1-Te.y1}function Q(Te){return Te.target.column-Te.source.column}function Z(Te){return Te.target.x0-Te.source.x1}function K(Te,Oe){var Ne=_(Te),Le=Z(Oe)/Math.tan(Ne),be=he(Te)=="up"?Te.y1+Le:Te.y1-Le;return be}function J(Te,Oe){var Ne=_(Te),Le=Z(Oe)/Math.tan(Ne),be=he(Te)=="up"?Te.y1-Le:Te.y1+Le;return be}function re(Te,Oe,Ne,Le){Te.links.forEach(function(be){if(!be.circular&&be.target.column-be.source.column>1){var Ae=be.source.column+1,He=be.target.column-1,Ve=1,ke=He-Ae+1;for(Ve=1;Ae<=He;Ae++,Ve++)Te.nodes.forEach(function(Ge){if(Ge.column==Ae){var it=Ve/(ke+1),et=Math.pow(1-it,3),tt=3*it*Math.pow(1-it,2),at=3*Math.pow(it,2)*(1-it),vt=Math.pow(it,3),yt=et*be.y0+tt*be.y0+at*be.y1+vt*be.y1,gt=yt-be.width/2,Mt=yt+be.width/2,Ct;gt>Ge.y0&&gt<Ge.y1?(Ct=Ge.y1-gt+10,Ct=Ge.circularLinkType=="bottom"?Ct:-Ct,Ge=q(Ge,Ct,Oe,Ne),Te.nodes.forEach(function(Vt){x(Vt,Le)==x(Ge,Le)||Vt.column!=Ge.column||le(Ge,Vt)&&q(Vt,Ct,Oe,Ne)})):Mt>Ge.y0&&Mt<Ge.y1?(Ct=Mt-Ge.y0+10,Ge=q(Ge,Ct,Oe,Ne),Te.nodes.forEach(function(Vt){x(Vt,Le)==x(Ge,Le)||Vt.column!=Ge.column||Vt.y0<Ge.y1&&Vt.y1>Ge.y1&&q(Vt,Ct,Oe,Ne)})):gt<Ge.y0&&Mt>Ge.y1&&(Ct=Mt-Ge.y0+10,Ge=q(Ge,Ct,Oe,Ne),Te.nodes.forEach(function(Vt){x(Vt,Le)==x(Ge,Le)||Vt.column!=Ge.column||Vt.y0<Ge.y1&&Vt.y1>Ge.y1&&q(Vt,Ct,Oe,Ne)}))}})}})}function le(Te,Oe){return Te.y0>Oe.y0&&Te.y0<Oe.y1||Te.y1>Oe.y0&&Te.y1<Oe.y1?!0:Te.y0<Oe.y0&&Te.y1>Oe.y1}function q(Te,Oe,Ne,Le){return Te.y0+Oe>=Ne&&Te.y1+Oe<=Le&&(Te.y0=Te.y0+Oe,Te.y1=Te.y1+Oe,Te.targetLinks.forEach(function(be){be.y1=be.y1+Oe}),Te.sourceLinks.forEach(function(be){be.y0=be.y0+Oe})),Te}function ee(Te,Oe,Ne,Le){Te.nodes.forEach(function(be){Le&&be.y+(be.y1-be.y0)>Oe&&(be.y=be.y-(be.y+(be.y1-be.y0)-Oe));var Ae=Te.links.filter(function(ke){return x(ke.source,Ne)==x(be,Ne)}),He=Ae.length;He>1&&Ae.sort(function(ke,Ge){if(!ke.circular&&!Ge.circular){if(ke.target.column==Ge.target.column)return ke.y1-Ge.y1;if(se(ke,Ge)){if(ke.target.column>Ge.target.column){var it=J(Ge,ke);return ke.y1-it}if(Ge.target.column>ke.target.column){var et=J(ke,Ge);return et-Ge.y1}}else return ke.y1-Ge.y1}if(ke.circular&&!Ge.circular)return ke.circularLinkType=="top"?-1:1;if(Ge.circular&&!ke.circular)return Ge.circularLinkType=="top"?1:-1;if(ke.circular&&Ge.circular)return ke.circularLinkType===Ge.circularLinkType&&ke.circularLinkType=="top"?ke.target.column===Ge.target.column?ke.target.y1-Ge.target.y1:Ge.target.column-ke.target.column:ke.circularLinkType===Ge.circularLinkType&&ke.circularLinkType=="bottom"?ke.target.column===Ge.target.column?Ge.target.y1-ke.target.y1:ke.target.column-Ge.target.column:ke.circularLinkType=="top"?-1:1});var Ve=be.y0;Ae.forEach(function(ke){ke.y0=Ve+ke.width/2,Ve=Ve+ke.width}),Ae.forEach(function(ke,Ge){if(ke.circularLinkType=="bottom"){var it=Ge+1,et=0;for(it;it<He;it++)et=et+Ae[it].width;ke.y0=be.y1-et-ke.width/2}})})}function ue(Te,Oe,Ne){Te.nodes.forEach(function(Le){var be=Te.links.filter(function(Ve){return x(Ve.target,Ne)==x(Le,Ne)}),Ae=be.length;Ae>1&&be.sort(function(Ve,ke){if(!Ve.circular&&!ke.circular){if(Ve.source.column==ke.source.column)return Ve.y0-ke.y0;if(se(Ve,ke)){if(ke.source.column<Ve.source.column){var Ge=K(ke,Ve);return Ve.y0-Ge}if(Ve.source.column<ke.source.column){var it=K(Ve,ke);return it-ke.y0}}else return Ve.y0-ke.y0}if(Ve.circular&&!ke.circular)return Ve.circularLinkType=="top"?-1:1;if(ke.circular&&!Ve.circular)return ke.circularLinkType=="top"?1:-1;if(Ve.circular&&ke.circular)return Ve.circularLinkType===ke.circularLinkType&&Ve.circularLinkType=="top"?Ve.source.column===ke.source.column?Ve.source.y1-ke.source.y1:Ve.source.column-ke.source.column:Ve.circularLinkType===ke.circularLinkType&&Ve.circularLinkType=="bottom"?Ve.source.column===ke.source.column?Ve.source.y1-ke.source.y1:ke.source.column-Ve.source.column:Ve.circularLinkType=="top"?-1:1});var He=Le.y0;be.forEach(function(Ve){Ve.y1=He+Ve.width/2,He=He+Ve.width}),be.forEach(function(Ve,ke){if(Ve.circularLinkType=="bottom"){var Ge=ke+1,it=0;for(Ge;Ge<Ae;Ge++)it=it+be[Ge].width;Ve.y1=Le.y1-it-Ve.width/2}})})}function se(Te,Oe){return he(Te)==he(Oe)}function he(Te){return Te.y0-Te.y1>0?"up":"down"}function me(Te,Oe){return x(Te.source,Oe)==x(Te.target,Oe)}function Ce(Te,Oe,Ne){var Le=Te.nodes,be=Te.links,Ae=!1,He=!1;if(be.forEach(function(tt){tt.circularLinkType=="top"?Ae=!0:tt.circularLinkType=="bottom"&&(He=!0)}),Ae==!1||He==!1){var Ve=(0,g.VV)(Le,function(tt){return tt.y0}),ke=(0,g.Fp)(Le,function(tt){return tt.y1}),Ge=ke-Ve,it=Ne-Oe,et=it/Ge;Le.forEach(function(tt){var at=(tt.y1-tt.y0)*et;tt.y0=(tt.y0-Ve)*et,tt.y1=tt.y0+at}),be.forEach(function(tt){tt.y0=(tt.y0-Ve)*et,tt.y1=(tt.y1-Ve)*et,tt.width=tt.width*et})}}},30838:function(W,H,e){e.r(H),e.d(H,{sankey:function(){return p},sankeyCenter:function(){return y},sankeyJustify:function(){return v},sankeyLeft:function(){return C},sankeyLinkHorizontal:function(){return x},sankeyRight:function(){return T}});var g=e(33064),R=e(15140);function a(E){return E.target.depth}function C(E){return E.depth}function T(E,w){return w-1-E.height}function v(E,w){return E.sourceLinks.length?E.depth:w-1}function y(E){return E.targetLinks.length?E.depth:E.sourceLinks.length?(0,g.VV)(E.sourceLinks,a)-1:0}function t(E){return function(){return E}}function r(E,w){return n(E.source,w.source)||E.index-w.index}function s(E,w){return n(E.target,w.target)||E.index-w.index}function n(E,w){return E.y0-w.y0}function o(E){return E.value}function f(E){return(E.y0+E.y1)/2}function u(E){return f(E.source)*E.value}function m(E){return f(E.target)*E.value}function c(E){return E.index}function A(E){return E.nodes}function h(E){return E.links}function l(E,w){var i=E.get(w);if(!i)throw new Error("missing: "+w);return i}function p(){var E=0,w=0,i=1,L=1,b=24,O=8,_=c,N=v,z=A,B=h,U=32,F=2/3;function V(){var Q={nodes:z.apply(null,arguments),links:B.apply(null,arguments)};return j(Q),$(Q),ne(Q),oe(Q),ce(Q),Q}V.update=function(Q){return ce(Q),Q},V.nodeId=function(Q){return arguments.length?(_=typeof Q=="function"?Q:t(Q),V):_},V.nodeAlign=function(Q){return arguments.length?(N=typeof Q=="function"?Q:t(Q),V):N},V.nodeWidth=function(Q){return arguments.length?(b=+Q,V):b},V.nodePadding=function(Q){return arguments.length?(O=+Q,V):O},V.nodes=function(Q){return arguments.length?(z=typeof Q=="function"?Q:t(Q),V):z},V.links=function(Q){return arguments.length?(B=typeof Q=="function"?Q:t(Q),V):B},V.size=function(Q){return arguments.length?(E=w=0,i=+Q[0],L=+Q[1],V):[i-E,L-w]},V.extent=function(Q){return arguments.length?(E=+Q[0][0],i=+Q[1][0],w=+Q[0][1],L=+Q[1][1],V):[[E,w],[i,L]]},V.iterations=function(Q){return arguments.length?(U=+Q,V):U};function j(Q){Q.nodes.forEach(function(K,J){K.index=J,K.sourceLinks=[],K.targetLinks=[]});var Z=(0,R.UI)(Q.nodes,_);Q.links.forEach(function(K,J){K.index=J;var re=K.source,le=K.target;typeof re!="object"&&(re=K.source=l(Z,re)),typeof le!="object"&&(le=K.target=l(Z,le)),re.sourceLinks.push(K),le.targetLinks.push(K)})}function $(Q){Q.nodes.forEach(function(Z){Z.value=Math.max((0,g.Sm)(Z.sourceLinks,o),(0,g.Sm)(Z.targetLinks,o))})}function ne(Q){var Z,K,J;for(Z=Q.nodes,K=[],J=0;Z.length;++J,Z=K,K=[])Z.forEach(function(le){le.depth=J,le.sourceLinks.forEach(function(q){K.indexOf(q.target)<0&&K.push(q.target)})});for(Z=Q.nodes,K=[],J=0;Z.length;++J,Z=K,K=[])Z.forEach(function(le){le.height=J,le.targetLinks.forEach(function(q){K.indexOf(q.source)<0&&K.push(q.source)})});var re=(i-E-b)/(J-1);Q.nodes.forEach(function(le){le.x1=(le.x0=E+Math.max(0,Math.min(J-1,Math.floor(N.call(null,le,J))))*re)+b})}function oe(Q){var Z=(0,R.b1)().key(function(ue){return ue.x0}).sortKeys(g.j2).entries(Q.nodes).map(function(ue){return ue.values});re(),ee();for(var K=1,J=U;J>0;--J)q(K*=.99),ee(),le(K),ee();function re(){var ue=(0,g.Fp)(Z,function(me){return me.length}),se=F*(L-w)/(ue-1);O>se&&(O=se);var he=(0,g.VV)(Z,function(me){return(L-w-(me.length-1)*O)/(0,g.Sm)(me,o)});Z.forEach(function(me){me.forEach(function(Ce,Te){Ce.y1=(Ce.y0=Te)+Ce.value*he})}),Q.links.forEach(function(me){me.width=me.value*he})}function le(ue){Z.forEach(function(se){se.forEach(function(he){if(he.targetLinks.length){var me=((0,g.Sm)(he.targetLinks,u)/(0,g.Sm)(he.targetLinks,o)-f(he))*ue;he.y0+=me,he.y1+=me}})})}function q(ue){Z.slice().reverse().forEach(function(se){se.forEach(function(he){if(he.sourceLinks.length){var me=((0,g.Sm)(he.sourceLinks,m)/(0,g.Sm)(he.sourceLinks,o)-f(he))*ue;he.y0+=me,he.y1+=me}})})}function ee(){Z.forEach(function(ue){var se,he,me=w,Ce=ue.length,Te;for(ue.sort(n),Te=0;Te<Ce;++Te)se=ue[Te],he=me-se.y0,he>0&&(se.y0+=he,se.y1+=he),me=se.y1+O;if(he=me-O-L,he>0)for(me=se.y0-=he,se.y1-=he,Te=Ce-2;Te>=0;--Te)se=ue[Te],he=se.y1+O-me,he>0&&(se.y0-=he,se.y1-=he),me=se.y0})}}function ce(Q){Q.nodes.forEach(function(Z){Z.sourceLinks.sort(s),Z.targetLinks.sort(r)}),Q.nodes.forEach(function(Z){var K=Z.y0,J=K;Z.sourceLinks.forEach(function(re){re.y0=K+re.width/2,K+=re.width}),Z.targetLinks.forEach(function(re){re.y1=J+re.width/2,J+=re.width})})}return V}var M=e(45879);function S(E){return[E.source.x1,E.y0]}function P(E){return[E.target.x0,E.y1]}function x(){return(0,M.h5)().source(S).target(P)}},39898:function(W,H,e){var g,R;(function(){var a={version:"3.8.0"},C=[].slice,T=function(fe){return C.call(fe)},v=self.document;function y(fe){return fe&&(fe.ownerDocument||fe.document||fe).documentElement}function t(fe){return fe&&(fe.ownerDocument&&fe.ownerDocument.defaultView||fe.document&&fe||fe.defaultView)}if(v)try{T(v.documentElement.childNodes)[0].nodeType}catch{T=function(Re){for(var We=Re.length,Qe=new Array(We);We--;)Qe[We]=Re[We];return Qe}}if(Date.now||(Date.now=function(){return+new Date}),v)try{v.createElement("DIV").style.setProperty("opacity",0,"")}catch{var r=this.Element.prototype,s=r.setAttribute,n=r.setAttributeNS,o=this.CSSStyleDeclaration.prototype,f=o.setProperty;r.setAttribute=function(Re,We){s.call(this,Re,We+"")},r.setAttributeNS=function(Re,We,Qe){n.call(this,Re,We,Qe+"")},o.setProperty=function(Re,We,Qe){f.call(this,Re,We+"",Qe)}}a.ascending=u;function u(fe,Re){return fe<Re?-1:fe>Re?1:fe>=Re?0:NaN}a.descending=function(fe,Re){return Re<fe?-1:Re>fe?1:Re>=fe?0:NaN},a.min=function(fe,Re){var We=-1,Qe=fe.length,rt,ot;if(arguments.length===1){for(;++We<Qe;)if((ot=fe[We])!=null&&ot>=ot){rt=ot;break}for(;++We<Qe;)(ot=fe[We])!=null&&rt>ot&&(rt=ot)}else{for(;++We<Qe;)if((ot=Re.call(fe,fe[We],We))!=null&&ot>=ot){rt=ot;break}for(;++We<Qe;)(ot=Re.call(fe,fe[We],We))!=null&&rt>ot&&(rt=ot)}return rt},a.max=function(fe,Re){var We=-1,Qe=fe.length,rt,ot;if(arguments.length===1){for(;++We<Qe;)if((ot=fe[We])!=null&&ot>=ot){rt=ot;break}for(;++We<Qe;)(ot=fe[We])!=null&&ot>rt&&(rt=ot)}else{for(;++We<Qe;)if((ot=Re.call(fe,fe[We],We))!=null&&ot>=ot){rt=ot;break}for(;++We<Qe;)(ot=Re.call(fe,fe[We],We))!=null&&ot>rt&&(rt=ot)}return rt},a.extent=function(fe,Re){var We=-1,Qe=fe.length,rt,ot,Pt;if(arguments.length===1){for(;++We<Qe;)if((ot=fe[We])!=null&&ot>=ot){rt=Pt=ot;break}for(;++We<Qe;)(ot=fe[We])!=null&&(rt>ot&&(rt=ot),Pt<ot&&(Pt=ot))}else{for(;++We<Qe;)if((ot=Re.call(fe,fe[We],We))!=null&&ot>=ot){rt=Pt=ot;break}for(;++We<Qe;)(ot=Re.call(fe,fe[We],We))!=null&&(rt>ot&&(rt=ot),Pt<ot&&(Pt=ot))}return[rt,Pt]};function m(fe){return fe===null?NaN:+fe}function c(fe){return!isNaN(fe)}a.sum=function(fe,Re){var We=0,Qe=fe.length,rt,ot=-1;if(arguments.length===1)for(;++ot<Qe;)c(rt=+fe[ot])&&(We+=rt);else for(;++ot<Qe;)c(rt=+Re.call(fe,fe[ot],ot))&&(We+=rt);return We},a.mean=function(fe,Re){var We=0,Qe=fe.length,rt,ot=-1,Pt=Qe;if(arguments.length===1)for(;++ot<Qe;)c(rt=m(fe[ot]))?We+=rt:--Pt;else for(;++ot<Qe;)c(rt=m(Re.call(fe,fe[ot],ot)))?We+=rt:--Pt;if(Pt)return We/Pt},a.quantile=function(fe,Re){var We=(fe.length-1)*Re+1,Qe=Math.floor(We),rt=+fe[Qe-1],ot=We-Qe;return ot?rt+ot*(fe[Qe]-rt):rt},a.median=function(fe,Re){var We=[],Qe=fe.length,rt,ot=-1;if(arguments.length===1)for(;++ot<Qe;)c(rt=m(fe[ot]))&&We.push(rt);else for(;++ot<Qe;)c(rt=m(Re.call(fe,fe[ot],ot)))&&We.push(rt);if(We.length)return a.quantile(We.sort(u),.5)},a.variance=function(fe,Re){var We=fe.length,Qe=0,rt,ot,Pt=0,ct=-1,Ht=0;if(arguments.length===1)for(;++ct<We;)c(rt=m(fe[ct]))&&(ot=rt-Qe,Qe+=ot/++Ht,Pt+=ot*(rt-Qe));else for(;++ct<We;)c(rt=m(Re.call(fe,fe[ct],ct)))&&(ot=rt-Qe,Qe+=ot/++Ht,Pt+=ot*(rt-Qe));if(Ht>1)return Pt/(Ht-1)},a.deviation=function(){var fe=a.variance.apply(this,arguments);return fe&&Math.sqrt(fe)};function A(fe){return{left:function(Re,We,Qe,rt){for(arguments.length<3&&(Qe=0),arguments.length<4&&(rt=Re.length);Qe<rt;){var ot=Qe+rt>>>1;fe(Re[ot],We)<0?Qe=ot+1:rt=ot}return Qe},right:function(Re,We,Qe,rt){for(arguments.length<3&&(Qe=0),arguments.length<4&&(rt=Re.length);Qe<rt;){var ot=Qe+rt>>>1;fe(Re[ot],We)>0?rt=ot:Qe=ot+1}return Qe}}}var h=A(u);a.bisectLeft=h.left,a.bisect=a.bisectRight=h.right,a.bisector=function(fe){return A(fe.length===1?function(Re,We){return u(fe(Re),We)}:fe)},a.shuffle=function(fe,Re,We){(Qe=arguments.length)<3&&(We=fe.length,Qe<2&&(Re=0));for(var Qe=We-Re,rt,ot;Qe;)ot=Math.random()*Qe--|0,rt=fe[Qe+Re],fe[Qe+Re]=fe[ot+Re],fe[ot+Re]=rt;return fe},a.permute=function(fe,Re){for(var We=Re.length,Qe=new Array(We);We--;)Qe[We]=fe[Re[We]];return Qe},a.pairs=function(fe){for(var Re=0,We=fe.length-1,Qe=fe[0],rt=new Array(We<0?0:We);Re<We;)rt[Re]=[Qe,Qe=fe[++Re]];return rt},a.transpose=function(fe){if(!(ot=fe.length))return[];for(var Re=-1,We=a.min(fe,l),Qe=new Array(We);++Re<We;)for(var rt=-1,ot,Pt=Qe[Re]=new Array(ot);++rt<ot;)Pt[rt]=fe[rt][Re];return Qe};function l(fe){return fe.length}a.zip=function(){return a.transpose(arguments)},a.keys=function(fe){var Re=[];for(var We in fe)Re.push(We);return Re},a.values=function(fe){var Re=[];for(var We in fe)Re.push(fe[We]);return Re},a.entries=function(fe){var Re=[];for(var We in fe)Re.push({key:We,value:fe[We]});return Re},a.merge=function(fe){for(var Re=fe.length,We,Qe=-1,rt=0,ot,Pt;++Qe<Re;)rt+=fe[Qe].length;for(ot=new Array(rt);--Re>=0;)for(Pt=fe[Re],We=Pt.length;--We>=0;)ot[--rt]=Pt[We];return ot};var p=Math.abs;a.range=function(fe,Re,We){if(arguments.length<3&&(We=1,arguments.length<2&&(Re=fe,fe=0)),(Re-fe)/We===1/0)throw new Error("infinite range");var Qe=[],rt=M(p(We)),ot=-1,Pt;if(fe*=rt,Re*=rt,We*=rt,We<0)for(;(Pt=fe+We*++ot)>Re;)Qe.push(Pt/rt);else for(;(Pt=fe+We*++ot)<Re;)Qe.push(Pt/rt);return Qe};function M(fe){for(var Re=1;fe*Re%1;)Re*=10;return Re}function S(fe,Re){for(var We in Re)Object.defineProperty(fe.prototype,We,{value:Re[We],enumerable:!1})}a.map=function(fe,Re){var We=new P;if(fe instanceof P)fe.forEach(function(ct,Ht){We.set(ct,Ht)});else if(Array.isArray(fe)){var Qe=-1,rt=fe.length,ot;if(arguments.length===1)for(;++Qe<rt;)We.set(Qe,fe[Qe]);else for(;++Qe<rt;)We.set(Re.call(fe,ot=fe[Qe],Qe),ot)}else for(var Pt in fe)We.set(Pt,fe[Pt]);return We};function P(){this._=Object.create(null)}var x="__proto__",E="\0";S(P,{has:L,get:function(fe){return this._[w(fe)]},set:function(fe,Re){return this._[w(fe)]=Re},remove:b,keys:O,values:function(){var fe=[];for(var Re in this._)fe.push(this._[Re]);return fe},entries:function(){var fe=[];for(var Re in this._)fe.push({key:i(Re),value:this._[Re]});return fe},size:_,empty:N,forEach:function(fe){for(var Re in this._)fe.call(this,i(Re),this._[Re])}});function w(fe){return(fe+="")===x||fe[0]===E?E+fe:fe}function i(fe){return(fe+="")[0]===E?fe.slice(1):fe}function L(fe){return w(fe)in this._}function b(fe){return(fe=w(fe))in this._&&delete this._[fe]}function O(){var fe=[];for(var Re in this._)fe.push(i(Re));return fe}function _(){var fe=0;for(var Re in this._)++fe;return fe}function N(){for(var fe in this._)return!1;return!0}a.nest=function(){var fe={},Re=[],We=[],Qe,rt;function ot(ct,Ht,er){if(er>=Re.length)return rt?rt.call(fe,Ht):Qe?Ht.sort(Qe):Ht;for(var nr=-1,Pr=Ht.length,Cr=Re[er++],Kr,nn,Ir,Nr=new P,Zr;++nr<Pr;)(Zr=Nr.get(Kr=Cr(nn=Ht[nr])))?Zr.push(nn):Nr.set(Kr,[nn]);return ct?(nn=ct(),Ir=function(on,hn){nn.set(on,ot(ct,hn,er))}):(nn={},Ir=function(on,hn){nn[on]=ot(ct,hn,er)}),Nr.forEach(Ir),nn}function Pt(ct,Ht){if(Ht>=Re.length)return ct;var er=[],nr=We[Ht++];return ct.forEach(function(Pr,Cr){er.push({key:Pr,values:Pt(Cr,Ht)})}),nr?er.sort(function(Pr,Cr){return nr(Pr.key,Cr.key)}):er}return fe.map=function(ct,Ht){return ot(Ht,ct,0)},fe.entries=function(ct){return Pt(ot(a.map,ct,0),0)},fe.key=function(ct){return Re.push(ct),fe},fe.sortKeys=function(ct){return We[Re.length-1]=ct,fe},fe.sortValues=function(ct){return Qe=ct,fe},fe.rollup=function(ct){return rt=ct,fe},fe},a.set=function(fe){var Re=new z;if(fe)for(var We=0,Qe=fe.length;We<Qe;++We)Re.add(fe[We]);return Re};function z(){this._=Object.create(null)}S(z,{has:L,add:function(fe){return this._[w(fe+="")]=!0,fe},remove:b,values:O,size:_,empty:N,forEach:function(fe){for(var Re in this._)fe.call(this,i(Re))}}),a.behavior={};function B(fe){return fe}a.rebind=function(fe,Re){for(var We=1,Qe=arguments.length,rt;++We<Qe;)fe[rt=arguments[We]]=U(fe,Re,Re[rt]);return fe};function U(fe,Re,We){return function(){var Qe=We.apply(Re,arguments);return Qe===Re?fe:Qe}}function F(fe,Re){if(Re in fe)return Re;Re=Re.charAt(0).toUpperCase()+Re.slice(1);for(var We=0,Qe=V.length;We<Qe;++We){var rt=V[We]+Re;if(rt in fe)return rt}}var V=["webkit","ms","moz","Moz","o","O"];function j(){}a.dispatch=function(){for(var fe=new $,Re=-1,We=arguments.length;++Re<We;)fe[arguments[Re]]=ne(fe);return fe};function $(){}$.prototype.on=function(fe,Re){var We=fe.indexOf("."),Qe="";if(We>=0&&(Qe=fe.slice(We+1),fe=fe.slice(0,We)),fe)return arguments.length<2?this[fe].on(Qe):this[fe].on(Qe,Re);if(arguments.length===2){if(Re==null)for(fe in this)this.hasOwnProperty(fe)&&this[fe].on(Qe,null);return this}};function ne(fe){var Re=[],We=new P;function Qe(){for(var rt=Re,ot=-1,Pt=rt.length,ct;++ot<Pt;)(ct=rt[ot].on)&&ct.apply(this,arguments);return fe}return Qe.on=function(rt,ot){var Pt=We.get(rt),ct;return arguments.length<2?Pt&&Pt.on:(Pt&&(Pt.on=null,Re=Re.slice(0,ct=Re.indexOf(Pt)).concat(Re.slice(ct+1)),We.remove(rt)),ot&&Re.push(We.set(rt,{on:ot})),fe)},Qe}a.event=null;function oe(){a.event.preventDefault()}function ce(){for(var fe=a.event,Re;Re=fe.sourceEvent;)fe=Re;return fe}function Q(fe){for(var Re=new $,We=0,Qe=arguments.length;++We<Qe;)Re[arguments[We]]=ne(Re);return Re.of=function(rt,ot){return function(Pt){try{var ct=Pt.sourceEvent=a.event;Pt.target=fe,a.event=Pt,Re[Pt.type].apply(rt,ot)}finally{a.event=ct}}},Re}a.requote=function(fe){return fe.replace(Z,"\\$&")};var Z=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,K={}.__proto__?function(fe,Re){fe.__proto__=Re}:function(fe,Re){for(var We in Re)fe[We]=Re[We]};function J(fe){return K(fe,ee),fe}var re=function(fe,Re){return Re.querySelector(fe)},le=function(fe,Re){return Re.querySelectorAll(fe)},q=function(fe,Re){var We=fe.matches||fe[F(fe,"matchesSelector")];return q=function(Qe,rt){return We.call(Qe,rt)},q(fe,Re)};typeof Sizzle=="function"&&(re=function(fe,Re){return Sizzle(fe,Re)[0]||null},le=Sizzle,q=Sizzle.matchesSelector),a.selection=function(){return a.select(v.documentElement)};var ee=a.selection.prototype=[];ee.select=function(fe){var Re=[],We,Qe,rt,ot;fe=ue(fe);for(var Pt=-1,ct=this.length;++Pt<ct;){Re.push(We=[]),We.parentNode=(rt=this[Pt]).parentNode;for(var Ht=-1,er=rt.length;++Ht<er;)(ot=rt[Ht])?(We.push(Qe=fe.call(ot,ot.__data__,Ht,Pt)),Qe&&"__data__"in ot&&(Qe.__data__=ot.__data__)):We.push(null)}return J(Re)};function ue(fe){return typeof fe=="function"?fe:function(){return re(fe,this)}}ee.selectAll=function(fe){var Re=[],We,Qe;fe=se(fe);for(var rt=-1,ot=this.length;++rt<ot;)for(var Pt=this[rt],ct=-1,Ht=Pt.length;++ct<Ht;)(Qe=Pt[ct])&&(Re.push(We=T(fe.call(Qe,Qe.__data__,ct,rt))),We.parentNode=Qe);return J(Re)};function se(fe){return typeof fe=="function"?fe:function(){return le(fe,this)}}var he="http://www.w3.org/1999/xhtml",me={svg:"http://www.w3.org/2000/svg",xhtml:he,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};a.ns={prefix:me,qualify:function(fe){var Re=fe.indexOf(":"),We=fe;return Re>=0&&(We=fe.slice(0,Re))!=="xmlns"&&(fe=fe.slice(Re+1)),me.hasOwnProperty(We)?{space:me[We],local:fe}:fe}},ee.attr=function(fe,Re){if(arguments.length<2){if(typeof fe=="string"){var We=this.node();return fe=a.ns.qualify(fe),fe.local?We.getAttributeNS(fe.space,fe.local):We.getAttribute(fe)}for(Re in fe)this.each(Ce(Re,fe[Re]));return this}return this.each(Ce(fe,Re))};function Ce(fe,Re){fe=a.ns.qualify(fe);function We(){this.removeAttribute(fe)}function Qe(){this.removeAttributeNS(fe.space,fe.local)}function rt(){this.setAttribute(fe,Re)}function ot(){this.setAttributeNS(fe.space,fe.local,Re)}function Pt(){var Ht=Re.apply(this,arguments);Ht==null?this.removeAttribute(fe):this.setAttribute(fe,Ht)}function ct(){var Ht=Re.apply(this,arguments);Ht==null?this.removeAttributeNS(fe.space,fe.local):this.setAttributeNS(fe.space,fe.local,Ht)}return Re==null?fe.local?Qe:We:typeof Re=="function"?fe.local?ct:Pt:fe.local?ot:rt}function Te(fe){return fe.trim().replace(/\s+/g," ")}ee.classed=function(fe,Re){if(arguments.length<2){if(typeof fe=="string"){var We=this.node(),Qe=(fe=Ne(fe)).length,rt=-1;if(Re=We.classList){for(;++rt<Qe;)if(!Re.contains(fe[rt]))return!1}else for(Re=We.getAttribute("class");++rt<Qe;)if(!Oe(fe[rt]).test(Re))return!1;return!0}for(Re in fe)this.each(Le(Re,fe[Re]));return this}return this.each(Le(fe,Re))};function Oe(fe){return new RegExp("(?:^|\\s+)"+a.requote(fe)+"(?:\\s+|$)","g")}function Ne(fe){return(fe+"").trim().split(/^|\s+/)}function Le(fe,Re){fe=Ne(fe).map(be);var We=fe.length;function Qe(){for(var ot=-1;++ot<We;)fe[ot](this,Re)}function rt(){for(var ot=-1,Pt=Re.apply(this,arguments);++ot<We;)fe[ot](this,Pt)}return typeof Re=="function"?rt:Qe}function be(fe){var Re=Oe(fe);return function(We,Qe){if(rt=We.classList)return Qe?rt.add(fe):rt.remove(fe);var rt=We.getAttribute("class")||"";Qe?(Re.lastIndex=0,Re.test(rt)||We.setAttribute("class",Te(rt+" "+fe))):We.setAttribute("class",Te(rt.replace(Re," ")))}}ee.style=function(fe,Re,We){var Qe=arguments.length;if(Qe<3){if(typeof fe!="string"){Qe<2&&(Re="");for(We in fe)this.each(Ae(We,fe[We],Re));return this}if(Qe<2){var rt=this.node();return t(rt).getComputedStyle(rt,null).getPropertyValue(fe)}We=""}return this.each(Ae(fe,Re,We))};function Ae(fe,Re,We){function Qe(){this.style.removeProperty(fe)}function rt(){this.style.setProperty(fe,Re,We)}function ot(){var Pt=Re.apply(this,arguments);Pt==null?this.style.removeProperty(fe):this.style.setProperty(fe,Pt,We)}return Re==null?Qe:typeof Re=="function"?ot:rt}ee.property=function(fe,Re){if(arguments.length<2){if(typeof fe=="string")return this.node()[fe];for(Re in fe)this.each(He(Re,fe[Re]));return this}return this.each(He(fe,Re))};function He(fe,Re){function We(){delete this[fe]}function Qe(){this[fe]=Re}function rt(){var ot=Re.apply(this,arguments);ot==null?delete this[fe]:this[fe]=ot}return Re==null?We:typeof Re=="function"?rt:Qe}ee.text=function(fe){return arguments.length?this.each(typeof fe=="function"?function(){var Re=fe.apply(this,arguments);this.textContent=Re??""}:fe==null?function(){this.textContent=""}:function(){this.textContent=fe}):this.node().textContent},ee.html=function(fe){return arguments.length?this.each(typeof fe=="function"?function(){var Re=fe.apply(this,arguments);this.innerHTML=Re??""}:fe==null?function(){this.innerHTML=""}:function(){this.innerHTML=fe}):this.node().innerHTML},ee.append=function(fe){return fe=Ve(fe),this.select(function(){return this.appendChild(fe.apply(this,arguments))})};function Ve(fe){function Re(){var Qe=this.ownerDocument,rt=this.namespaceURI;return rt===he&&Qe.documentElement.namespaceURI===he?Qe.createElement(fe):Qe.createElementNS(rt,fe)}function We(){return this.ownerDocument.createElementNS(fe.space,fe.local)}return typeof fe=="function"?fe:(fe=a.ns.qualify(fe)).local?We:Re}ee.insert=function(fe,Re){return fe=Ve(fe),Re=ue(Re),this.select(function(){return this.insertBefore(fe.apply(this,arguments),Re.apply(this,arguments)||null)})},ee.remove=function(){return this.each(ke)};function ke(){var fe=this.parentNode;fe&&fe.removeChild(this)}ee.data=function(fe,Re){var We=-1,Qe=this.length,rt,ot;if(!arguments.length){for(fe=new Array(Qe=(rt=this[0]).length);++We<Qe;)(ot=rt[We])&&(fe[We]=ot.__data__);return fe}function Pt(nr,Pr){var Cr,Kr=nr.length,nn=Pr.length,Ir=Math.min(Kr,nn),Nr=new Array(nn),Zr=new Array(nn),on=new Array(Kr),hn,Xr;if(Re){var Hn=new P,jn=new Array(Kr),ea;for(Cr=-1;++Cr<Kr;)(hn=nr[Cr])&&(Hn.has(ea=Re.call(hn,hn.__data__,Cr))?on[Cr]=hn:Hn.set(ea,hn),jn[Cr]=ea);for(Cr=-1;++Cr<nn;)(hn=Hn.get(ea=Re.call(Pr,Xr=Pr[Cr],Cr)))?hn!==!0&&(Nr[Cr]=hn,hn.__data__=Xr):Zr[Cr]=Ge(Xr),Hn.set(ea,!0);for(Cr=-1;++Cr<Kr;)Cr in jn&&Hn.get(jn[Cr])!==!0&&(on[Cr]=nr[Cr])}else{for(Cr=-1;++Cr<Ir;)hn=nr[Cr],Xr=Pr[Cr],hn?(hn.__data__=Xr,Nr[Cr]=hn):Zr[Cr]=Ge(Xr);for(;Cr<nn;++Cr)Zr[Cr]=Ge(Pr[Cr]);for(;Cr<Kr;++Cr)on[Cr]=nr[Cr]}Zr.update=Nr,Zr.parentNode=Nr.parentNode=on.parentNode=nr.parentNode,ct.push(Zr),Ht.push(Nr),er.push(on)}var ct=at([]),Ht=J([]),er=J([]);if(typeof fe=="function")for(;++We<Qe;)Pt(rt=this[We],fe.call(rt,rt.parentNode.__data__,We));else for(;++We<Qe;)Pt(rt=this[We],fe);return Ht.enter=function(){return ct},Ht.exit=function(){return er},Ht};function Ge(fe){return{__data__:fe}}ee.datum=function(fe){return arguments.length?this.property("__data__",fe):this.property("__data__")},ee.filter=function(fe){var Re=[],We,Qe,rt;typeof fe!="function"&&(fe=it(fe));for(var ot=0,Pt=this.length;ot<Pt;ot++){Re.push(We=[]),We.parentNode=(Qe=this[ot]).parentNode;for(var ct=0,Ht=Qe.length;ct<Ht;ct++)(rt=Qe[ct])&&fe.call(rt,rt.__data__,ct,ot)&&We.push(rt)}return J(Re)};function it(fe){return function(){return q(this,fe)}}ee.order=function(){for(var fe=-1,Re=this.length;++fe<Re;)for(var We=this[fe],Qe=We.length-1,rt=We[Qe],ot;--Qe>=0;)(ot=We[Qe])&&(rt&&rt!==ot.nextSibling&&rt.parentNode.insertBefore(ot,rt),rt=ot);return this},ee.sort=function(fe){fe=et.apply(this,arguments);for(var Re=-1,We=this.length;++Re<We;)this[Re].sort(fe);return this.order()};function et(fe){return arguments.length||(fe=u),function(Re,We){return Re&&We?fe(Re.__data__,We.__data__):!Re-!We}}ee.each=function(fe){return tt(this,function(Re,We,Qe){fe.call(Re,Re.__data__,We,Qe)})};function tt(fe,Re){for(var We=0,Qe=fe.length;We<Qe;We++)for(var rt=fe[We],ot=0,Pt=rt.length,ct;ot<Pt;ot++)(ct=rt[ot])&&Re(ct,ot,We);return fe}ee.call=function(fe){var Re=T(arguments);return fe.apply(Re[0]=this,Re),this},ee.empty=function(){return!this.node()},ee.node=function(){for(var fe=0,Re=this.length;fe<Re;fe++)for(var We=this[fe],Qe=0,rt=We.length;Qe<rt;Qe++){var ot=We[Qe];if(ot)return ot}return null},ee.size=function(){var fe=0;return tt(this,function(){++fe}),fe};function at(fe){return K(fe,vt),fe}var vt=[];a.selection.enter=at,a.selection.enter.prototype=vt,vt.append=ee.append,vt.empty=ee.empty,vt.node=ee.node,vt.call=ee.call,vt.size=ee.size,vt.select=function(fe){for(var Re=[],We,Qe,rt,ot,Pt,ct=-1,Ht=this.length;++ct<Ht;){rt=(ot=this[ct]).update,Re.push(We=[]),We.parentNode=ot.parentNode;for(var er=-1,nr=ot.length;++er<nr;)(Pt=ot[er])?(We.push(rt[er]=Qe=fe.call(ot.parentNode,Pt.__data__,er,ct)),Qe.__data__=Pt.__data__):We.push(null)}return J(Re)},vt.insert=function(fe,Re){return arguments.length<2&&(Re=yt(this)),ee.insert.call(this,fe,Re)};function yt(fe){var Re,We;return function(Qe,rt,ot){var Pt=fe[ot].update,ct=Pt.length,Ht;for(ot!=We&&(We=ot,Re=0),rt>=Re&&(Re=rt+1);!(Ht=Pt[Re])&&++Re<ct;);return Ht}}a.select=function(fe){var Re;return typeof fe=="string"?(Re=[re(fe,v)],Re.parentNode=v.documentElement):(Re=[fe],Re.parentNode=y(fe)),J([Re])},a.selectAll=function(fe){var Re;return typeof fe=="string"?(Re=T(le(fe,v)),Re.parentNode=v.documentElement):(Re=T(fe),Re.parentNode=null),J([Re])},ee.on=function(fe,Re,We){var Qe=arguments.length;if(Qe<3){if(typeof fe!="string"){Qe<2&&(Re=!1);for(We in fe)this.each(gt(We,fe[We],Re));return this}if(Qe<2)return(Qe=this.node()["__on"+fe])&&Qe._;We=!1}return this.each(gt(fe,Re,We))};function gt(fe,Re,We){var Qe="__on"+fe,rt=fe.indexOf("."),ot=Ct;rt>0&&(fe=fe.slice(0,rt));var Pt=Mt.get(fe);Pt&&(fe=Pt,ot=Vt);function ct(){var nr=this[Qe];nr&&(this.removeEventListener(fe,nr,nr.$),delete this[Qe])}function Ht(){var nr=ot(Re,T(arguments));ct.call(this),this.addEventListener(fe,this[Qe]=nr,nr.$=We),nr._=Re}function er(){var nr=new RegExp("^__on([^.]+)"+a.requote(fe)+"$"),Pr;for(var Cr in this)if(Pr=Cr.match(nr)){var Kr=this[Cr];this.removeEventListener(Pr[1],Kr,Kr.$),delete this[Cr]}}return rt?Re?Ht:ct:Re?j:er}var Mt=a.map({mouseenter:"mouseover",mouseleave:"mouseout"});v&&Mt.forEach(function(fe){"on"+fe in v&&Mt.remove(fe)});function Ct(fe,Re){return function(We){var Qe=a.event;a.event=We,Re[0]=this.__data__;try{fe.apply(this,Re)}finally{a.event=Qe}}}function Vt(fe,Re){var We=Ct(fe,Re);return function(Qe){var rt=this,ot=Qe.relatedTarget;(!ot||ot!==rt&&!(ot.compareDocumentPosition(rt)&8))&&We.call(rt,Qe)}}var Je,ze=0;function _e(fe){var Re=".dragsuppress-"+ ++ze,We="click"+Re,Qe=a.select(t(fe)).on("touchmove"+Re,oe).on("dragstart"+Re,oe).on("selectstart"+Re,oe);if(Je==null&&(Je="onselectstart"in fe?!1:F(fe.style,"userSelect")),Je){var rt=y(fe).style,ot=rt[Je];rt[Je]="none"}return function(Pt){if(Qe.on(Re,null),Je&&(rt[Je]=ot),Pt){var ct=function(){Qe.on(We,null)};Qe.on(We,function(){oe(),ct()},!0),setTimeout(ct,0)}}}a.mouse=function(fe){return De(fe,ce())};var Be=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function De(fe,Re){Re.changedTouches&&(Re=Re.changedTouches[0]);var We=fe.ownerSVGElement||fe;if(We.createSVGPoint){var Qe=We.createSVGPoint();if(Be<0){var rt=t(fe);if(rt.scrollX||rt.scrollY){We=a.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var ot=We[0][0].getScreenCTM();Be=!(ot.f||ot.e),We.remove()}}return Be?(Qe.x=Re.pageX,Qe.y=Re.pageY):(Qe.x=Re.clientX,Qe.y=Re.clientY),Qe=Qe.matrixTransform(fe.getScreenCTM().inverse()),[Qe.x,Qe.y]}var Pt=fe.getBoundingClientRect();return[Re.clientX-Pt.left-fe.clientLeft,Re.clientY-Pt.top-fe.clientTop]}a.touch=function(fe,Re,We){if(arguments.length<3&&(We=Re,Re=ce().changedTouches),Re){for(var Qe=0,rt=Re.length,ot;Qe<rt;++Qe)if((ot=Re[Qe]).identifier===We)return De(fe,ot)}},a.behavior.drag=function(){var fe=Q(rt,"drag","dragstart","dragend"),Re=null,We=ot(j,a.mouse,t,"mousemove","mouseup"),Qe=ot(we,a.touch,B,"touchmove","touchend");function rt(){this.on("mousedown.drag",We).on("touchstart.drag",Qe)}function ot(Pt,ct,Ht,er,nr){return function(){var Pr=this,Cr=a.event.target.correspondingElement||a.event.target,Kr=Pr.parentNode,nn=fe.of(Pr,arguments),Ir=0,Nr=Pt(),Zr=".drag"+(Nr==null?"":"-"+Nr),on,hn=a.select(Ht(Cr)).on(er+Zr,jn).on(nr+Zr,ea),Xr=_e(Cr),Hn=ct(Kr,Nr);Re?(on=Re.apply(Pr,arguments),on=[on.x-Hn[0],on.y-Hn[1]]):on=[0,0],nn({type:"dragstart"});function jn(){var sa=ct(Kr,Nr),Ta,wa;sa&&(Ta=sa[0]-Hn[0],wa=sa[1]-Hn[1],Ir|=Ta|wa,Hn=sa,nn({type:"drag",x:sa[0]+on[0],y:sa[1]+on[1],dx:Ta,dy:wa}))}function ea(){ct(Kr,Nr)&&(hn.on(er+Zr,null).on(nr+Zr,null),Xr(Ir),nn({type:"dragend"}))}}}return rt.origin=function(Pt){return arguments.length?(Re=Pt,rt):Re},a.rebind(rt,fe,"on")};function we(){return a.event.changedTouches[0].identifier}a.touches=function(fe,Re){return arguments.length<2&&(Re=ce().touches),Re?T(Re).map(function(We){var Qe=De(fe,We);return Qe.identifier=We.identifier,Qe}):[]};var xe=1e-6,Ee=xe*xe,Pe=Math.PI,Ue=2*Pe,$e=Ue-xe,qe=Pe/2,dt=Pe/180,bt=180/Pe;function Gt(fe,Re,We){return(Re[0]-fe[0])*(We[1]-fe[1])-(Re[1]-fe[1])*(We[0]-fe[0])}function Qt(fe){return fe>1?qe:fe<-1?-qe:Math.asin(fe)}function At(fe){return((fe=Math.exp(fe))-1/fe)/2}function zt(fe){return((fe=Math.exp(fe))+1/fe)/2}function $t(fe){return((fe=Math.exp(2*fe))-1)/(fe+1)}var Ar=Math.SQRT2,ut=2,Yt=4;a.interpolateZoom=function(fe,Re){var We=fe[0],Qe=fe[1],rt=fe[2],ot=Re[0],Pt=Re[1],ct=Re[2],Ht=ot-We,er=Pt-Qe,nr=Ht*Ht+er*er,Pr,Cr;if(nr<Ee)Cr=Math.log(ct/rt)/Ar,Pr=function(on){return[We+on*Ht,Qe+on*er,rt*Math.exp(Ar*on*Cr)]};else{var Kr=Math.sqrt(nr),nn=(ct*ct-rt*rt+Yt*nr)/(2*rt*ut*Kr),Ir=(ct*ct-rt*rt-Yt*nr)/(2*ct*ut*Kr),Nr=Math.log(Math.sqrt(nn*nn+1)-nn),Zr=Math.log(Math.sqrt(Ir*Ir+1)-Ir);Cr=(Zr-Nr)/Ar,Pr=function(on){var hn=on*Cr,Xr=zt(Nr),Hn=rt/(ut*Kr)*(Xr*$t(Ar*hn+Nr)-At(Nr));return[We+Hn*Ht,Qe+Hn*er,rt*Xr/zt(Ar*hn+Nr)]}}return Pr.duration=Cr*1e3,Pr},a.behavior.zoom=function(){var fe={x:0,y:0,k:1},Re,We,Qe,rt=[960,500],ot=Kt,Pt=250,ct=0,Ht="mousedown.zoom",er="mousemove.zoom",nr="mouseup.zoom",Pr,Cr="touchstart.zoom",Kr,nn=Q(hn,"zoomstart","zoom","zoomend"),Ir,Nr,Zr,on;ur||(ur="onwheel"in v?(mr=function(){return-a.event.deltaY*(a.event.deltaMode?120:1)},"wheel"):"onmousewheel"in v?(mr=function(){return a.event.wheelDelta},"mousewheel"):(mr=function(){return-a.event.detail},"MozMousePixelScroll"));function hn(Wn){Wn.on(Ht,Ba).on(ur+".zoom",ii).on("dblclick.zoom",vi).on(Cr,ei)}hn.event=function(Wn){Wn.each(function(){var Na=nn.of(this,arguments),Oa=fe;Rr?a.select(this).transition().each("start.zoom",function(){fe=this.__chart__||{x:0,y:0,k:1},wa(Na)}).tween("zoom:zoom",function(){var Ka=rt[0],Li=rt[1],Vi=We?We[0]:Ka/2,Xi=We?We[1]:Li/2,Ai=a.interpolateZoom([(Vi-fe.x)/fe.k,(Xi-fe.y)/fe.k,Ka/fe.k],[(Vi-Oa.x)/Oa.k,(Xi-Oa.y)/Oa.k,Ka/Oa.k]);return function(pi){var ma=Ai(pi),Ea=Ka/ma[2];this.__chart__=fe={x:Vi-ma[0]*Ea,y:Xi-ma[1]*Ea,k:Ea},Ha(Na)}}).each("interrupt.zoom",function(){La(Na)}).each("end.zoom",function(){La(Na)}):(this.__chart__=fe,wa(Na),Ha(Na),La(Na))})},hn.translate=function(Wn){return arguments.length?(fe={x:+Wn[0],y:+Wn[1],k:fe.k},Ta(),hn):[fe.x,fe.y]},hn.scale=function(Wn){return arguments.length?(fe={x:fe.x,y:fe.y,k:null},jn(+Wn),Ta(),hn):fe.k},hn.scaleExtent=function(Wn){return arguments.length?(ot=Wn==null?Kt:[+Wn[0],+Wn[1]],hn):ot},hn.center=function(Wn){return arguments.length?(Qe=Wn&&[+Wn[0],+Wn[1]],hn):Qe},hn.size=function(Wn){return arguments.length?(rt=Wn&&[+Wn[0],+Wn[1]],hn):rt},hn.duration=function(Wn){return arguments.length?(Pt=+Wn,hn):Pt},hn.x=function(Wn){return arguments.length?(Nr=Wn,Ir=Wn.copy(),fe={x:0,y:0,k:1},hn):Nr},hn.y=function(Wn){return arguments.length?(on=Wn,Zr=Wn.copy(),fe={x:0,y:0,k:1},hn):on};function Xr(Wn){return[(Wn[0]-fe.x)/fe.k,(Wn[1]-fe.y)/fe.k]}function Hn(Wn){return[Wn[0]*fe.k+fe.x,Wn[1]*fe.k+fe.y]}function jn(Wn){fe.k=Math.max(ot[0],Math.min(ot[1],Wn))}function ea(Wn,Na){Na=Hn(Na),fe.x+=Wn[0]-Na[0],fe.y+=Wn[1]-Na[1]}function sa(Wn,Na,Oa,Ka){Wn.__chart__={x:fe.x,y:fe.y,k:fe.k},jn(Math.pow(2,Ka)),ea(We=Na,Oa),Wn=a.select(Wn),Pt>0&&(Wn=Wn.transition().duration(Pt)),Wn.call(hn.event)}function Ta(){Nr&&Nr.domain(Ir.range().map(function(Wn){return(Wn-fe.x)/fe.k}).map(Ir.invert)),on&&on.domain(Zr.range().map(function(Wn){return(Wn-fe.y)/fe.k}).map(Zr.invert))}function wa(Wn){ct++||Wn({type:"zoomstart"})}function Ha(Wn){Ta(),Wn({type:"zoom",scale:fe.k,translate:[fe.x,fe.y]})}function La(Wn){--ct||(Wn({type:"zoomend"}),We=null)}function Ba(){var Wn=this,Na=nn.of(Wn,arguments),Oa=0,Ka=a.select(t(Wn)).on(er,Xi).on(nr,Ai),Li=Xr(a.mouse(Wn)),Vi=_e(Wn);Ft.call(Wn),wa(Na);function Xi(){Oa=1,ea(a.mouse(Wn),Li),Ha(Na)}function Ai(){Ka.on(er,null).on(nr,null),Vi(Oa),La(Na)}}function ei(){var Wn=this,Na=nn.of(Wn,arguments),Oa={},Ka=0,Li,Vi=".zoom-"+a.event.changedTouches[0].identifier,Xi="touchmove"+Vi,Ai="touchend"+Vi,pi=[],ma=a.select(Wn),Ea=_e(Wn);ji(),wa(Na),ma.on(Ht,null).on(Cr,ji);function Si(){var ko=a.touches(Wn);return Li=fe.k,ko.forEach(function(Ri){Ri.identifier in Oa&&(Oa[Ri.identifier]=Xr(Ri))}),ko}function ji(){var ko=a.event.target;a.select(ko).on(Xi,Qo).on(Ai,lo),pi.push(ko);for(var Ri=a.event.changedTouches,os=0,bi=Ri.length;os<bi;++os)Oa[Ri[os].identifier]=null;var Fs=Si(),ss=Date.now();if(Fs.length===1){if(ss-Kr<500){var $a=Fs[0];sa(Wn,$a,Oa[$a.identifier],Math.floor(Math.log(fe.k)/Math.LN2)+1),oe()}Kr=ss}else if(Fs.length>1){var $a=Fs[0],Mi=Fs[1],dh=$a[0]-Mi[0],Dc=$a[1]-Mi[1];Ka=dh*dh+Dc*Dc}}function Qo(){var ko=a.touches(Wn),Ri,os,bi,Fs;Ft.call(Wn);for(var ss=0,$a=ko.length;ss<$a;++ss,Fs=null)if(bi=ko[ss],Fs=Oa[bi.identifier]){if(os)break;Ri=bi,os=Fs}if(Fs){var Mi=(Mi=bi[0]-Ri[0])*Mi+(Mi=bi[1]-Ri[1])*Mi,dh=Ka&&Math.sqrt(Mi/Ka);Ri=[(Ri[0]+bi[0])/2,(Ri[1]+bi[1])/2],os=[(os[0]+Fs[0])/2,(os[1]+Fs[1])/2],jn(dh*Li)}Kr=null,ea(Ri,os),Ha(Na)}function lo(){if(a.event.touches.length){for(var ko=a.event.changedTouches,Ri=0,os=ko.length;Ri<os;++Ri)delete Oa[ko[Ri].identifier];for(var bi in Oa)return void Si()}a.selectAll(pi).on(Vi,null),ma.on(Ht,Ba).on(Cr,ei),Ea(),La(Na)}}function ii(){var Wn=nn.of(this,arguments);Pr?clearTimeout(Pr):(Ft.call(this),Re=Xr(We=Qe||a.mouse(this)),wa(Wn)),Pr=setTimeout(function(){Pr=null,La(Wn)},50),oe(),jn(Math.pow(2,mr()*.002)*fe.k),ea(We,Re),Ha(Wn)}function vi(){var Wn=a.mouse(this),Na=Math.log(fe.k)/Math.LN2;sa(this,Wn,Xr(Wn),a.event.shiftKey?Math.ceil(Na)-1:Math.floor(Na)+1)}return a.rebind(hn,nn,"on")};var Kt=[0,1/0],mr,ur;a.color=pt;function pt(){}pt.prototype.toString=function(){return this.rgb()+""},a.hsl=st;function st(fe,Re,We){return this instanceof st?(this.h=+fe,this.s=+Re,void(this.l=+We)):arguments.length<2?fe instanceof st?new st(fe.h,fe.s,fe.l):pr(""+fe,vr,st):new st(fe,Re,We)}var xt=st.prototype=new pt;xt.brighter=function(fe){return fe=Math.pow(.7,arguments.length?fe:1),new st(this.h,this.s,this.l/fe)},xt.darker=function(fe){return fe=Math.pow(.7,arguments.length?fe:1),new st(this.h,this.s,fe*this.l)},xt.rgb=function(){return St(this.h,this.s,this.l)};function St(fe,Re,We){var Qe,rt;fe=isNaN(fe)?0:(fe%=360)<0?fe+360:fe,Re=isNaN(Re)||Re<0?0:Re>1?1:Re,We=We<0?0:We>1?1:We,rt=We<=.5?We*(1+Re):We+Re-We*Re,Qe=2*We-rt;function ot(ct){return ct>360?ct-=360:ct<0&&(ct+=360),ct<60?Qe+(rt-Qe)*ct/60:ct<180?rt:ct<240?Qe+(rt-Qe)*(240-ct)/60:Qe}function Pt(ct){return Math.round(ot(ct)*255)}return new or(Pt(fe+120),Pt(fe),Pt(fe-120))}a.hcl=Dt;function Dt(fe,Re,We){return this instanceof Dt?(this.h=+fe,this.c=+Re,void(this.l=+We)):arguments.length<2?fe instanceof Dt?new Dt(fe.h,fe.c,fe.l):fe instanceof Nt?It(fe.l,fe.a,fe.b):It((fe=Vr((fe=a.rgb(fe)).r,fe.g,fe.b)).l,fe.a,fe.b):new Dt(fe,Re,We)}var Rt=Dt.prototype=new pt;Rt.brighter=function(fe){return new Dt(this.h,this.c,Math.min(100,this.l+Xt*(arguments.length?fe:1)))},Rt.darker=function(fe){return new Dt(this.h,this.c,Math.max(0,this.l-Xt*(arguments.length?fe:1)))},Rt.rgb=function(){return Bt(this.h,this.c,this.l).rgb()};function Bt(fe,Re,We){return isNaN(fe)&&(fe=0),isNaN(Re)&&(Re=0),new Nt(We,Math.cos(fe*=dt)*Re,Math.sin(fe)*Re)}a.lab=Nt;function Nt(fe,Re,We){return this instanceof Nt?(this.l=+fe,this.a=+Re,void(this.b=+We)):arguments.length<2?fe instanceof Nt?new Nt(fe.l,fe.a,fe.b):fe instanceof Dt?Bt(fe.h,fe.c,fe.l):Vr((fe=or(fe)).r,fe.g,fe.b):new Nt(fe,Re,We)}var Xt=18,lr=.95047,sr=1,dr=1.08883,je=Nt.prototype=new pt;je.brighter=function(fe){return new Nt(Math.min(100,this.l+Xt*(arguments.length?fe:1)),this.a,this.b)},je.darker=function(fe){return new Nt(Math.max(0,this.l-Xt*(arguments.length?fe:1)),this.a,this.b)},je.rgb=function(){return Ye(this.l,this.a,this.b)};function Ye(fe,Re,We){var Qe=(fe+16)/116,rt=Qe+Re/500,ot=Qe-We/200;return rt=kt(rt)*lr,Qe=kt(Qe)*sr,ot=kt(ot)*dr,new or(tr(3.2404542*rt-1.5371385*Qe-.4985314*ot),tr(-.969266*rt+1.8760108*Qe+.041556*ot),tr(.0556434*rt-.2040259*Qe+1.0572252*ot))}function It(fe,Re,We){return fe>0?new Dt(Math.atan2(We,Re)*bt,Math.sqrt(Re*Re+We*We),fe):new Dt(NaN,NaN,fe)}function kt(fe){return fe>.206893034?fe*fe*fe:(fe-.13793103448275862)/7.787037}function jt(fe){return fe>.008856?Math.pow(fe,.3333333333333333):7.787037*fe+.13793103448275862}function tr(fe){return Math.round(255*(fe<=.00304?12.92*fe:1.055*Math.pow(fe,.4166666666666667)-.055))}a.rgb=or;function or(fe,Re,We){return this instanceof or?(this.r=~~fe,this.g=~~Re,void(this.b=~~We)):arguments.length<2?fe instanceof or?new or(fe.r,fe.g,fe.b):pr(""+fe,or,St):new or(fe,Re,We)}function rr(fe){return new or(fe>>16,fe>>8&255,fe&255)}function Ot(fe){return rr(fe)+""}var hr=or.prototype=new pt;hr.brighter=function(fe){fe=Math.pow(.7,arguments.length?fe:1);var Re=this.r,We=this.g,Qe=this.b,rt=30;return!Re&&!We&&!Qe?new or(rt,rt,rt):(Re&&Re<rt&&(Re=rt),We&&We<rt&&(We=rt),Qe&&Qe<rt&&(Qe=rt),new or(Math.min(255,Re/fe),Math.min(255,We/fe),Math.min(255,Qe/fe)))},hr.darker=function(fe){return fe=Math.pow(.7,arguments.length?fe:1),new or(fe*this.r,fe*this.g,fe*this.b)},hr.hsl=function(){return vr(this.r,this.g,this.b)},hr.toString=function(){return"#"+gr(this.r)+gr(this.g)+gr(this.b)};function gr(fe){return fe<16?"0"+Math.max(0,fe).toString(16):Math.min(255,fe).toString(16)}function pr(fe,Re,We){var Qe=0,rt=0,ot=0,Pt,ct,Ht;if(Pt=/([a-z]+)\((.*)\)/.exec(fe=fe.toLowerCase()),Pt)switch(ct=Pt[2].split(","),Pt[1]){case"hsl":return We(parseFloat(ct[0]),parseFloat(ct[1])/100,parseFloat(ct[2])/100);case"rgb":return Re(_r(ct[0]),_r(ct[1]),_r(ct[2]))}return(Ht=pn.get(fe))?Re(Ht.r,Ht.g,Ht.b):(fe!=null&&fe.charAt(0)==="#"&&!isNaN(Ht=parseInt(fe.slice(1),16))&&(fe.length===4?(Qe=(Ht&3840)>>4,Qe=Qe>>4|Qe,rt=Ht&240,rt=rt>>4|rt,ot=Ht&15,ot=ot<<4|ot):fe.length===7&&(Qe=(Ht&16711680)>>16,rt=(Ht&65280)>>8,ot=Ht&255)),Re(Qe,rt,ot))}function vr(fe,Re,We){var Qe=Math.min(fe/=255,Re/=255,We/=255),rt=Math.max(fe,Re,We),ot=rt-Qe,Pt,ct,Ht=(rt+Qe)/2;return ot?(ct=Ht<.5?ot/(rt+Qe):ot/(2-rt-Qe),fe==rt?Pt=(Re-We)/ot+(Re<We?6:0):Re==rt?Pt=(We-fe)/ot+2:Pt=(fe-Re)/ot+4,Pt*=60):(Pt=NaN,ct=Ht>0&&Ht<1?0:Pt),new st(Pt,ct,Ht)}function Vr(fe,Re,We){fe=kr(fe),Re=kr(Re),We=kr(We);var Qe=jt((.4124564*fe+.3575761*Re+.1804375*We)/lr),rt=jt((.2126729*fe+.7151522*Re+.072175*We)/sr),ot=jt((.0193339*fe+.119192*Re+.9503041*We)/dr);return Nt(116*rt-16,500*(Qe-rt),200*(rt-ot))}function kr(fe){return(fe/=255)<=.04045?fe/12.92:Math.pow((fe+.055)/1.055,2.4)}function _r(fe){var Re=parseFloat(fe);return fe.charAt(fe.length-1)==="%"?Math.round(Re*2.55):Re}var pn=a.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});pn.forEach(function(fe,Re){pn.set(fe,rr(Re))});function en(fe){return typeof fe=="function"?fe:function(){return fe}}a.functor=en,a.xhr=Bn(B);function Bn(fe){return function(Re,We,Qe){return arguments.length===2&&typeof We=="function"&&(Qe=We,We=null),Tn(Re,We,fe,Qe)}}function Tn(fe,Re,We,Qe){var rt={},ot=a.dispatch("beforesend","progress","load","error"),Pt={},ct=new XMLHttpRequest,Ht=null;self.XDomainRequest&&!("withCredentials"in ct)&&/^(http(s)?:)?\/\//.test(fe)&&(ct=new XDomainRequest),"onload"in ct?ct.onload=ct.onerror=er:ct.onreadystatechange=function(){ct.readyState>3&&er()};function er(){var nr=ct.status,Pr;if(!nr&&Er(ct)||nr>=200&&nr<300||nr===304){try{Pr=We.call(rt,ct)}catch(Cr){ot.error.call(rt,Cr);return}ot.load.call(rt,Pr)}else ot.error.call(rt,ct)}return ct.onprogress=function(nr){var Pr=a.event;a.event=nr;try{ot.progress.call(rt,ct)}finally{a.event=Pr}},rt.header=function(nr,Pr){return nr=(nr+"").toLowerCase(),arguments.length<2?Pt[nr]:(Pr==null?delete Pt[nr]:Pt[nr]=Pr+"",rt)},rt.mimeType=function(nr){return arguments.length?(Re=nr==null?null:nr+"",rt):Re},rt.responseType=function(nr){return arguments.length?(Ht=nr,rt):Ht},rt.response=function(nr){return We=nr,rt},["get","post"].forEach(function(nr){rt[nr]=function(){return rt.send.apply(rt,[nr].concat(T(arguments)))}}),rt.send=function(nr,Pr,Cr){if(arguments.length===2&&typeof Pr=="function"&&(Cr=Pr,Pr=null),ct.open(nr,fe,!0),Re!=null&&!("accept"in Pt)&&(Pt.accept=Re+",*/*"),ct.setRequestHeader)for(var Kr in Pt)ct.setRequestHeader(Kr,Pt[Kr]);return Re!=null&&ct.overrideMimeType&&ct.overrideMimeType(Re),Ht!=null&&(ct.responseType=Ht),Cr!=null&&rt.on("error",Cr).on("load",function(nn){Cr(null,nn)}),ot.beforesend.call(rt,ct),ct.send(Pr??null),rt},rt.abort=function(){return ct.abort(),rt},a.rebind(rt,ot,"on"),Qe==null?rt:rt.get(Mr(Qe))}function Mr(fe){return fe.length===1?function(Re,We){fe(Re==null?We:null)}:fe}function Er(fe){var Re=fe.responseType;return Re&&Re!=="text"?fe.response:fe.responseText}a.dsv=function(fe,Re){var We=new RegExp('["'+fe+`
]`),Qe=fe.charCodeAt(0);function rt(er,nr,Pr){arguments.length<3&&(Pr=nr,nr=null);var Cr=Tn(er,Re,nr==null?ot:Pt(nr),Pr);return Cr.row=function(Kr){return arguments.length?Cr.response((nr=Kr)==null?ot:Pt(Kr)):nr},Cr}function ot(er){return rt.parse(er.responseText)}function Pt(er){return function(nr){return rt.parse(nr.responseText,er)}}rt.parse=function(er,nr){var Pr;return rt.parseRows(er,function(Cr,Kr){if(Pr)return Pr(Cr,Kr-1);var nn=function(Ir){for(var Nr={},Zr=Cr.length,on=0;on<Zr;++on)Nr[Cr[on]]=Ir[on];return Nr};Pr=nr?function(Ir,Nr){return nr(nn(Ir),Nr)}:nn})},rt.parseRows=function(er,nr){var Pr={},Cr={},Kr=[],nn=er.length,Ir=0,Nr=0,Zr,on;function hn(){if(Ir>=nn)return Cr;if(on)return on=!1,Pr;var Hn=Ir;if(er.charCodeAt(Hn)===34){for(var jn=Hn;jn++<nn;)if(er.charCodeAt(jn)===34){if(er.charCodeAt(jn+1)!==34)break;++jn}Ir=jn+2;var ea=er.charCodeAt(jn+1);return ea===13?(on=!0,er.charCodeAt(jn+2)===10&&++Ir):ea===10&&(on=!0),er.slice(Hn+1,jn).replace(/""/g,'"')}for(;Ir<nn;){var ea=er.charCodeAt(Ir++),sa=1;if(ea===10)on=!0;else if(ea===13)on=!0,er.charCodeAt(Ir)===10&&(++Ir,++sa);else if(ea!==Qe)continue;return er.slice(Hn,Ir-sa)}return er.slice(Hn)}for(;(Zr=hn())!==Cr;){for(var Xr=[];Zr!==Pr&&Zr!==Cr;)Xr.push(Zr),Zr=hn();nr&&(Xr=nr(Xr,Nr++))==null||Kr.push(Xr)}return Kr},rt.format=function(er){if(Array.isArray(er[0]))return rt.formatRows(er);var nr=new z,Pr=[];return er.forEach(function(Cr){for(var Kr in Cr)nr.has(Kr)||Pr.push(nr.add(Kr))}),[Pr.map(Ht).join(fe)].concat(er.map(function(Cr){return Pr.map(function(Kr){return Ht(Cr[Kr])}).join(fe)})).join(`
`)},rt.formatRows=function(er){return er.map(ct).join(`
`)};function ct(er){return er.map(Ht).join(fe)}function Ht(er){return We.test(er)?'"'+er.replace(/\"/g,'""')+'"':er}return rt},a.csv=a.dsv(",","text/csv"),a.tsv=a.dsv("	","text/tab-separated-values");var Gr,Ur,an,gn,mn=this[F(this,"requestAnimationFrame")]||function(fe){setTimeout(fe,17)};a.timer=function(){Rn.apply(this,arguments)};function Rn(fe,Re,We){var Qe=arguments.length;Qe<2&&(Re=0),Qe<3&&(We=Date.now());var rt=We+Re,ot={c:fe,t:rt,n:null};return Ur?Ur.n=ot:Gr=ot,Ur=ot,an||(gn=clearTimeout(gn),an=1,mn(zn)),ot}function zn(){var fe=oa(),Re=Zn()-fe;Re>24?(isFinite(Re)&&(clearTimeout(gn),gn=setTimeout(zn,Re)),an=0):(an=1,mn(zn))}a.timer.flush=function(){oa(),Zn()};function oa(){for(var fe=Date.now(),Re=Gr;Re;)fe>=Re.t&&Re.c(fe-Re.t)&&(Re.c=null),Re=Re.n;return fe}function Zn(){for(var fe,Re=Gr,We=1/0;Re;)Re.c?(Re.t<We&&(We=Re.t),Re=(fe=Re).n):Re=fe?fe.n=Re.n:Gr=Re.n;return Ur=fe,We}a.round=function(fe,Re){return Re?Math.round(fe*(Re=Math.pow(10,Re)))/Re:Math.round(fe)},a.geom={};function qn(fe){return fe[0]}function Yn(fe){return fe[1]}a.geom.hull=function(fe){var Re=qn,We=Yn;if(arguments.length)return Qe(fe);function Qe(rt){if(rt.length<3)return[];var ot=en(Re),Pt=en(We),ct,Ht=rt.length,er=[],nr=[];for(ct=0;ct<Ht;ct++)er.push([+ot.call(this,rt[ct],ct),+Pt.call(this,rt[ct],ct),ct]);for(er.sort(Tr),ct=0;ct<Ht;ct++)nr.push([er[ct][0],-er[ct][1]]);var Pr=Qn(er),Cr=Qn(nr),Kr=Cr[0]===Pr[0],nn=Cr[Cr.length-1]===Pr[Pr.length-1],Ir=[];for(ct=Pr.length-1;ct>=0;--ct)Ir.push(rt[er[Pr[ct]][2]]);for(ct=+Kr;ct<Cr.length-nn;++ct)Ir.push(rt[er[Cr[ct]][2]]);return Ir}return Qe.x=function(rt){return arguments.length?(Re=rt,Qe):Re},Qe.y=function(rt){return arguments.length?(We=rt,Qe):We},Qe};function Qn(fe){for(var Re=fe.length,We=[0,1],Qe=2,rt=2;rt<Re;rt++){for(;Qe>1&&Gt(fe[We[Qe-2]],fe[We[Qe-1]],fe[rt])<=0;)--Qe;We[Qe++]=rt}return We.slice(0,Qe)}function Tr(fe,Re){return fe[0]-Re[0]||fe[1]-Re[1]}a.geom.polygon=function(fe){return K(fe,sn),fe};var sn=a.geom.polygon.prototype=[];sn.area=function(){for(var fe=-1,Re=this.length,We,Qe=this[Re-1],rt=0;++fe<Re;)We=Qe,Qe=this[fe],rt+=We[1]*Qe[0]-We[0]*Qe[1];return rt*.5},sn.centroid=function(fe){var Re=-1,We=this.length,Qe=0,rt=0,ot,Pt=this[We-1],ct;for(arguments.length||(fe=-1/(6*this.area()));++Re<We;)ot=Pt,Pt=this[Re],ct=ot[0]*Pt[1]-Pt[0]*ot[1],Qe+=(ot[0]+Pt[0])*ct,rt+=(ot[1]+Pt[1])*ct;return[Qe*fe,rt*fe]},sn.clip=function(fe){for(var Re,We=Vn(fe),Qe=-1,rt=this.length-Vn(this),ot,Pt,ct=this[rt-1],Ht,er,nr;++Qe<rt;){for(Re=fe.slice(),fe.length=0,Ht=this[Qe],er=Re[(Pt=Re.length-We)-1],ot=-1;++ot<Pt;)nr=Re[ot],rn(nr,ct,Ht)?(rn(er,ct,Ht)||fe.push(yn(er,nr,ct,Ht)),fe.push(nr)):rn(er,ct,Ht)&&fe.push(yn(er,nr,ct,Ht)),er=nr;We&&fe.push(fe[0]),ct=Ht}return fe};function rn(fe,Re,We){return(We[0]-Re[0])*(fe[1]-Re[1])<(We[1]-Re[1])*(fe[0]-Re[0])}function yn(fe,Re,We,Qe){var rt=fe[0],ot=We[0],Pt=Re[0]-rt,ct=Qe[0]-ot,Ht=fe[1],er=We[1],nr=Re[1]-Ht,Pr=Qe[1]-er,Cr=(ct*(Ht-er)-Pr*(rt-ot))/(Pr*Pt-ct*nr);return[rt+Cr*Pt,Ht+Cr*nr]}function Vn(fe){var Re=fe[0],We=fe[fe.length-1];return!(Re[0]-We[0]||Re[1]-We[1])}var Mn,En,Nn,ta=[],ba,Ya,Zt=[];function wr(){Do(this),this.edge=this.site=this.circle=null}function tn(fe){var Re=ta.pop()||new wr;return Re.site=fe,Re}function un(fe){Xn(fe),Nn.remove(fe),ta.push(fe),Do(fe)}function cn(fe){var Re=fe.circle,We=Re.x,Qe=Re.cy,rt={x:We,y:Qe},ot=fe.P,Pt=fe.N,ct=[fe];un(fe);for(var Ht=ot;Ht.circle&&p(We-Ht.circle.x)<xe&&p(Qe-Ht.circle.cy)<xe;)ot=Ht.P,ct.unshift(Ht),un(Ht),Ht=ot;ct.unshift(Ht),Xn(Ht);for(var er=Pt;er.circle&&p(We-er.circle.x)<xe&&p(Qe-er.circle.cy)<xe;)Pt=er.N,ct.push(er),un(er),er=Pt;ct.push(er),Xn(er);var nr=ct.length,Pr;for(Pr=1;Pr<nr;++Pr)er=ct[Pr],Ht=ct[Pr-1],ga(er.edge,Ht.site,er.site,rt);Ht=ct[0],er=ct[nr-1],er.edge=la(Ht.site,er.site,null,rt),On(Ht),On(er)}function In(fe){for(var Re=fe.x,We=fe.y,Qe,rt,ot,Pt,ct=Nn._;ct;)if(ot=Sn(ct,We)-Re,ot>xe)ct=ct.L;else if(Pt=Re-vn(ct,We),Pt>xe){if(!ct.R){Qe=ct;break}ct=ct.R}else{ot>-xe?(Qe=ct.P,rt=ct):Pt>-xe?(Qe=ct,rt=ct.N):Qe=rt=ct;break}var Ht=tn(fe);if(Nn.insert(Qe,Ht),!(!Qe&&!rt)){if(Qe===rt){Xn(Qe),rt=tn(Qe.site),Nn.insert(Ht,rt),Ht.edge=rt.edge=la(Qe.site,Ht.site),On(Qe),On(rt);return}if(!rt){Ht.edge=la(Qe.site,Ht.site);return}Xn(Qe),Xn(rt);var er=Qe.site,nr=er.x,Pr=er.y,Cr=fe.x-nr,Kr=fe.y-Pr,nn=rt.site,Ir=nn.x-nr,Nr=nn.y-Pr,Zr=2*(Cr*Nr-Kr*Ir),on=Cr*Cr+Kr*Kr,hn=Ir*Ir+Nr*Nr,Xr={x:(Nr*on-Kr*hn)/Zr+nr,y:(Cr*hn-Ir*on)/Zr+Pr};ga(rt.edge,er,nn,Xr),Ht.edge=la(er,fe,null,Xr),rt.edge=la(fe,nn,null,Xr),On(Qe),On(rt)}}function Sn(fe,Re){var We=fe.site,Qe=We.x,rt=We.y,ot=rt-Re;if(!ot)return Qe;var Pt=fe.P;if(!Pt)return-1/0;We=Pt.site;var ct=We.x,Ht=We.y,er=Ht-Re;if(!er)return ct;var nr=ct-Qe,Pr=1/ot-1/er,Cr=nr/er;return Pr?(-Cr+Math.sqrt(Cr*Cr-2*Pr*(nr*nr/(-2*er)-Ht+er/2+rt-ot/2)))/Pr+Qe:(Qe+ct)/2}function vn(fe,Re){var We=fe.N;if(We)return Sn(We,Re);var Qe=fe.site;return Qe.y===Re?Qe.x:1/0}function Dr(fe){this.site=fe,this.edges=[]}Dr.prototype.prepare=function(){for(var fe=this.edges,Re=fe.length,We;Re--;)We=fe[Re].edge,(!We.b||!We.a)&&fe.splice(Re,1);return fe.sort(Or),fe.length};function Lr(fe){for(var Re=fe[0][0],We=fe[1][0],Qe=fe[0][1],rt=fe[1][1],ot,Pt,ct,Ht,er=En,nr=er.length,Pr,Cr,Kr,nn,Ir,Nr;nr--;)if(Pr=er[nr],!(!Pr||!Pr.prepare()))for(Kr=Pr.edges,nn=Kr.length,Cr=0;Cr<nn;)Nr=Kr[Cr].end(),ct=Nr.x,Ht=Nr.y,Ir=Kr[++Cr%nn].start(),ot=Ir.x,Pt=Ir.y,(p(ct-ot)>xe||p(Ht-Pt)>xe)&&(Kr.splice(Cr,0,new io(ua(Pr.site,Nr,p(ct-Re)<xe&&rt-Ht>xe?{x:Re,y:p(ot-Re)<xe?Pt:rt}:p(Ht-rt)<xe&&We-ct>xe?{x:p(Pt-rt)<xe?ot:We,y:rt}:p(ct-We)<xe&&Ht-Qe>xe?{x:We,y:p(ot-We)<xe?Pt:Qe}:p(Ht-Qe)<xe&&ct-Re>xe?{x:p(Pt-Qe)<xe?ot:Re,y:Qe}:null),Pr.site,null)),++nn)}function Or(fe,Re){return Re.angle-fe.angle}function dn(){Do(this),this.x=this.y=this.arc=this.site=this.cy=null}function On(fe){var Re=fe.P,We=fe.N;if(!(!Re||!We)){var Qe=Re.site,rt=fe.site,ot=We.site;if(Qe!==ot){var Pt=rt.x,ct=rt.y,Ht=Qe.x-Pt,er=Qe.y-ct,nr=ot.x-Pt,Nr=ot.y-ct,Pr=2*(Ht*Nr-er*nr);if(!(Pr>=-Ee)){var Cr=Ht*Ht+er*er,Kr=nr*nr+Nr*Nr,nn=(Nr*Cr-er*Kr)/Pr,Ir=(Ht*Kr-nr*Cr)/Pr,Nr=Ir+ct,Zr=Zt.pop()||new dn;Zr.arc=fe,Zr.site=rt,Zr.x=nn+Pt,Zr.y=Nr+Math.sqrt(nn*nn+Ir*Ir),Zr.cy=Nr,fe.circle=Zr;for(var on=null,hn=Ya._;hn;)if(Zr.y<hn.y||Zr.y===hn.y&&Zr.x<=hn.x)if(hn.L)hn=hn.L;else{on=hn.P;break}else if(hn.R)hn=hn.R;else{on=hn;break}Ya.insert(on,Zr),on||(ba=Zr)}}}}function Xn(fe){var Re=fe.circle;Re&&(Re.P||(ba=Re.N),Ya.remove(Re),Zt.push(Re),Do(Re),fe.circle=null)}function xn(fe,Re,We,Qe){return function(rt){var ot=rt.a,Pt=rt.b,ct=ot.x,Ht=ot.y,er=Pt.x,nr=Pt.y,Pr=0,Cr=1,Kr=er-ct,nn=nr-Ht,Ir;if(Ir=fe-ct,!(!Kr&&Ir>0)){if(Ir/=Kr,Kr<0){if(Ir<Pr)return;Ir<Cr&&(Cr=Ir)}else if(Kr>0){if(Ir>Cr)return;Ir>Pr&&(Pr=Ir)}if(Ir=We-ct,!(!Kr&&Ir<0)){if(Ir/=Kr,Kr<0){if(Ir>Cr)return;Ir>Pr&&(Pr=Ir)}else if(Kr>0){if(Ir<Pr)return;Ir<Cr&&(Cr=Ir)}if(Ir=Re-Ht,!(!nn&&Ir>0)){if(Ir/=nn,nn<0){if(Ir<Pr)return;Ir<Cr&&(Cr=Ir)}else if(nn>0){if(Ir>Cr)return;Ir>Pr&&(Pr=Ir)}if(Ir=Qe-Ht,!(!nn&&Ir<0)){if(Ir/=nn,nn<0){if(Ir>Cr)return;Ir>Pr&&(Pr=Ir)}else if(nn>0){if(Ir<Pr)return;Ir<Cr&&(Cr=Ir)}return Pr>0&&(rt.a={x:ct+Pr*Kr,y:Ht+Pr*nn}),Cr<1&&(rt.b={x:ct+Cr*Kr,y:Ht+Cr*nn}),rt}}}}}}function Un(fe){for(var Re=Mn,We=xn(fe[0][0],fe[0][1],fe[1][0],fe[1][1]),Qe=Re.length,rt;Qe--;)rt=Re[Qe],(!aa(rt,fe)||!We(rt)||p(rt.a.x-rt.b.x)<xe&&p(rt.a.y-rt.b.y)<xe)&&(rt.a=rt.b=null,Re.splice(Qe,1))}function aa(fe,Re){var We=fe.b;if(We)return!0;var Qe=fe.a,rt=Re[0][0],ot=Re[1][0],Pt=Re[0][1],ct=Re[1][1],Ht=fe.l,er=fe.r,nr=Ht.x,Pr=Ht.y,Cr=er.x,Kr=er.y,nn=(nr+Cr)/2,Ir=(Pr+Kr)/2,Nr,Zr;if(Kr===Pr){if(nn<rt||nn>=ot)return;if(nr>Cr){if(!Qe)Qe={x:nn,y:Pt};else if(Qe.y>=ct)return;We={x:nn,y:ct}}else{if(!Qe)Qe={x:nn,y:ct};else if(Qe.y<Pt)return;We={x:nn,y:Pt}}}else if(Nr=(nr-Cr)/(Kr-Pr),Zr=Ir-Nr*nn,Nr<-1||Nr>1)if(nr>Cr){if(!Qe)Qe={x:(Pt-Zr)/Nr,y:Pt};else if(Qe.y>=ct)return;We={x:(ct-Zr)/Nr,y:ct}}else{if(!Qe)Qe={x:(ct-Zr)/Nr,y:ct};else if(Qe.y<Pt)return;We={x:(Pt-Zr)/Nr,y:Pt}}else if(Pr<Kr){if(!Qe)Qe={x:rt,y:Nr*rt+Zr};else if(Qe.x>=ot)return;We={x:ot,y:Nr*ot+Zr}}else{if(!Qe)Qe={x:ot,y:Nr*ot+Zr};else if(Qe.x<rt)return;We={x:rt,y:Nr*rt+Zr}}return fe.a=Qe,fe.b=We,!0}function fa(fe,Re){this.l=fe,this.r=Re,this.a=this.b=null}function la(fe,Re,We,Qe){var rt=new fa(fe,Re);return Mn.push(rt),We&&ga(rt,fe,Re,We),Qe&&ga(rt,Re,fe,Qe),En[fe.i].edges.push(new io(rt,fe,Re)),En[Re.i].edges.push(new io(rt,Re,fe)),rt}function ua(fe,Re,We){var Qe=new fa(fe,null);return Qe.a=Re,Qe.b=We,Mn.push(Qe),Qe}function ga(fe,Re,We,Qe){!fe.a&&!fe.b?(fe.a=Qe,fe.l=Re,fe.r=We):fe.l===We?fe.b=Qe:fe.a=Qe}function io(fe,Re,We){var Qe=fe.a,rt=fe.b;this.edge=fe,this.site=Re,this.angle=We?Math.atan2(We.y-Re.y,We.x-Re.x):fe.l===Re?Math.atan2(rt.x-Qe.x,Qe.y-rt.y):Math.atan2(Qe.x-rt.x,rt.y-Qe.y)}io.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function Ao(){this._=null}function Do(fe){fe.U=fe.C=fe.L=fe.R=fe.P=fe.N=null}Ao.prototype={insert:function(fe,Re){var We,Qe,rt;if(fe){if(Re.P=fe,Re.N=fe.N,fe.N&&(fe.N.P=Re),fe.N=Re,fe.R){for(fe=fe.R;fe.L;)fe=fe.L;fe.L=Re}else fe.R=Re;We=fe}else this._?(fe=sc(this._),Re.P=null,Re.N=fe,fe.P=fe.L=Re,We=fe):(Re.P=Re.N=null,this._=Re,We=null);for(Re.L=Re.R=null,Re.U=We,Re.C=!0,fe=Re;We&&We.C;)Qe=We.U,We===Qe.L?(rt=Qe.R,rt&&rt.C?(We.C=rt.C=!1,Qe.C=!0,fe=Qe):(fe===We.R&&(No(this,We),fe=We,We=fe.U),We.C=!1,Qe.C=!0,Io(this,Qe))):(rt=Qe.L,rt&&rt.C?(We.C=rt.C=!1,Qe.C=!0,fe=Qe):(fe===We.L&&(Io(this,We),fe=We,We=fe.U),We.C=!1,Qe.C=!0,No(this,Qe))),We=fe.U;this._.C=!1},remove:function(fe){fe.N&&(fe.N.P=fe.P),fe.P&&(fe.P.N=fe.N),fe.N=fe.P=null;var Re=fe.U,We,Qe=fe.L,rt=fe.R,ot,Pt;if(Qe?rt?ot=sc(rt):ot=Qe:ot=rt,Re?Re.L===fe?Re.L=ot:Re.R=ot:this._=ot,Qe&&rt?(Pt=ot.C,ot.C=fe.C,ot.L=Qe,Qe.U=ot,ot!==rt?(Re=ot.U,ot.U=fe.U,fe=ot.R,Re.L=fe,ot.R=rt,rt.U=ot):(ot.U=Re,Re=ot,fe=ot.R)):(Pt=fe.C,fe=ot),fe&&(fe.U=Re),!Pt){if(fe&&fe.C){fe.C=!1;return}do{if(fe===this._)break;if(fe===Re.L){if(We=Re.R,We.C&&(We.C=!1,Re.C=!0,No(this,Re),We=Re.R),We.L&&We.L.C||We.R&&We.R.C){(!We.R||!We.R.C)&&(We.L.C=!1,We.C=!0,Io(this,We),We=Re.R),We.C=Re.C,Re.C=We.R.C=!1,No(this,Re),fe=this._;break}}else if(We=Re.L,We.C&&(We.C=!1,Re.C=!0,Io(this,Re),We=Re.L),We.L&&We.L.C||We.R&&We.R.C){(!We.L||!We.L.C)&&(We.R.C=!1,We.C=!0,No(this,We),We=Re.L),We.C=Re.C,Re.C=We.L.C=!1,Io(this,Re),fe=this._;break}We.C=!0,fe=Re,Re=Re.U}while(!fe.C);fe&&(fe.C=!1)}}};function No(fe,Re){var We=Re,Qe=Re.R,rt=We.U;rt?rt.L===We?rt.L=Qe:rt.R=Qe:fe._=Qe,Qe.U=rt,We.U=Qe,We.R=Qe.L,We.R&&(We.R.U=We),Qe.L=We}function Io(fe,Re){var We=Re,Qe=Re.L,rt=We.U;rt?rt.L===We?rt.L=Qe:rt.R=Qe:fe._=Qe,Qe.U=rt,We.U=Qe,We.L=Qe.R,We.L&&(We.L.U=We),Qe.R=We}function sc(fe){for(;fe.L;)fe=fe.L;return fe}function ai(fe,Re){var We=fe.sort(Yu).pop(),Qe,rt,ot;for(Mn=[],En=new Array(fe.length),Nn=new Ao,Ya=new Ao;;)if(ot=ba,We&&(!ot||We.y<ot.y||We.y===ot.y&&We.x<ot.x))(We.x!==Qe||We.y!==rt)&&(En[We.i]=new Dr(We),In(We),Qe=We.x,rt=We.y),We=fe.pop();else if(ot)cn(ot.arc);else break;Re&&(Un(Re),Lr(Re));var Pt={cells:En,edges:Mn};return Nn=Ya=Mn=En=null,Pt}function Yu(fe,Re){return Re.y-fe.y||Re.x-fe.x}a.geom.voronoi=function(fe){var Re=qn,We=Yn,Qe=Re,rt=We,ot=fu;if(fe)return Pt(fe);function Pt(Ht){var er=new Array(Ht.length),nr=ot[0][0],Pr=ot[0][1],Cr=ot[1][0],Kr=ot[1][1];return ai(ct(Ht),ot).cells.forEach(function(nn,Ir){var Nr=nn.edges,Zr=nn.site,on=er[Ir]=Nr.length?Nr.map(function(hn){var Xr=hn.start();return[Xr.x,Xr.y]}):Zr.x>=nr&&Zr.x<=Cr&&Zr.y>=Pr&&Zr.y<=Kr?[[nr,Kr],[Cr,Kr],[Cr,Pr],[nr,Pr]]:[];on.point=Ht[Ir]}),er}function ct(Ht){return Ht.map(function(er,nr){return{x:Math.round(Qe(er,nr)/xe)*xe,y:Math.round(rt(er,nr)/xe)*xe,i:nr}})}return Pt.links=function(Ht){return ai(ct(Ht)).edges.filter(function(er){return er.l&&er.r}).map(function(er){return{source:Ht[er.l.i],target:Ht[er.r.i]}})},Pt.triangles=function(Ht){var er=[];return ai(ct(Ht)).cells.forEach(function(nr,Pr){for(var Cr=nr.site,Kr=nr.edges.sort(Or),nn=-1,Ir=Kr.length,Nr,Zr=Kr[Ir-1].edge,on=Zr.l===Cr?Zr.r:Zr.l;++nn<Ir;)Nr=on,Zr=Kr[nn].edge,on=Zr.l===Cr?Zr.r:Zr.l,Pr<Nr.i&&Pr<on.i&&oo(Cr,Nr,on)<0&&er.push([Ht[Pr],Ht[Nr.i],Ht[on.i]])}),er},Pt.x=function(Ht){return arguments.length?(Qe=en(Re=Ht),Pt):Re},Pt.y=function(Ht){return arguments.length?(rt=en(We=Ht),Pt):We},Pt.clipExtent=function(Ht){return arguments.length?(ot=Ht??fu,Pt):ot===fu?null:ot},Pt.size=function(Ht){return arguments.length?Pt.clipExtent(Ht&&[[0,0],Ht]):ot===fu?null:ot&&ot[1]},Pt};var fu=[[-1e6,-1e6],[1e6,1e6]];function oo(fe,Re,We){return(fe.x-We.x)*(Re.y-fe.y)-(fe.x-Re.x)*(We.y-fe.y)}a.geom.delaunay=function(fe){return a.geom.voronoi().triangles(fe)},a.geom.quadtree=function(fe,Re,We,Qe,rt){var ot=qn,Pt=Yn,ct;if(ct=arguments.length)return ot=Uo,Pt=$c,ct===3&&(rt=We,Qe=Re,We=Re=0),Ht(fe);function Ht(er){var nr,Pr=en(ot),Cr=en(Pt),Kr,nn,Ir,Nr,Zr,on,hn,Xr;if(Re!=null)Zr=Re,on=We,hn=Qe,Xr=rt;else if(hn=Xr=-(Zr=on=1/0),Kr=[],nn=[],Nr=er.length,ct)for(Ir=0;Ir<Nr;++Ir)nr=er[Ir],nr.x<Zr&&(Zr=nr.x),nr.y<on&&(on=nr.y),nr.x>hn&&(hn=nr.x),nr.y>Xr&&(Xr=nr.y),Kr.push(nr.x),nn.push(nr.y);else for(Ir=0;Ir<Nr;++Ir){var Hn=+Pr(nr=er[Ir],Ir),jn=+Cr(nr,Ir);Hn<Zr&&(Zr=Hn),jn<on&&(on=jn),Hn>hn&&(hn=Hn),jn>Xr&&(Xr=jn),Kr.push(Hn),nn.push(jn)}var ea=hn-Zr,sa=Xr-on;ea>sa?Xr=on+ea:hn=Zr+sa;function Ta(La,Ba,ei,ii,vi,Wn,Na,Oa){if(!(isNaN(ei)||isNaN(ii)))if(La.leaf){var Ka=La.x,Li=La.y;if(Ka!=null)if(p(Ka-ei)+p(Li-ii)<.01)wa(La,Ba,ei,ii,vi,Wn,Na,Oa);else{var Vi=La.point;La.x=La.y=La.point=null,wa(La,Vi,Ka,Li,vi,Wn,Na,Oa),wa(La,Ba,ei,ii,vi,Wn,Na,Oa)}else La.x=ei,La.y=ii,La.point=Ba}else wa(La,Ba,ei,ii,vi,Wn,Na,Oa)}function wa(La,Ba,ei,ii,vi,Wn,Na,Oa){var Ka=(vi+Na)*.5,Li=(Wn+Oa)*.5,Vi=ei>=Ka,Xi=ii>=Li,Ai=Xi<<1|Vi;La.leaf=!1,La=La.nodes[Ai]||(La.nodes[Ai]=ju()),Vi?vi=Ka:Na=Ka,Xi?Wn=Li:Oa=Li,Ta(La,Ba,ei,ii,vi,Wn,Na,Oa)}var Ha=ju();if(Ha.add=function(La){Ta(Ha,La,+Pr(La,++Ir),+Cr(La,Ir),Zr,on,hn,Xr)},Ha.visit=function(La){zi(La,Ha,Zr,on,hn,Xr)},Ha.find=function(La){return Zu(Ha,La[0],La[1],Zr,on,hn,Xr)},Ir=-1,Re==null){for(;++Ir<Nr;)Ta(Ha,er[Ir],Kr[Ir],nn[Ir],Zr,on,hn,Xr);--Ir}else er.forEach(Ha.add);return Kr=nn=er=nr=null,Ha}return Ht.x=function(er){return arguments.length?(ot=er,Ht):ot},Ht.y=function(er){return arguments.length?(Pt=er,Ht):Pt},Ht.extent=function(er){return arguments.length?(er==null?Re=We=Qe=rt=null:(Re=+er[0][0],We=+er[0][1],Qe=+er[1][0],rt=+er[1][1]),Ht):Re==null?null:[[Re,We],[Qe,rt]]},Ht.size=function(er){return arguments.length?(er==null?Re=We=Qe=rt=null:(Re=We=0,Qe=+er[0],rt=+er[1]),Ht):Re==null?null:[Qe-Re,rt-We]},Ht};function Uo(fe){return fe.x}function $c(fe){return fe.y}function ju(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function zi(fe,Re,We,Qe,rt,ot){if(!fe(Re,We,Qe,rt,ot)){var Pt=(We+rt)*.5,ct=(Qe+ot)*.5,Ht=Re.nodes;Ht[0]&&zi(fe,Ht[0],We,Qe,Pt,ct),Ht[1]&&zi(fe,Ht[1],Pt,Qe,rt,ct),Ht[2]&&zi(fe,Ht[2],We,ct,Pt,ot),Ht[3]&&zi(fe,Ht[3],Pt,ct,rt,ot)}}function Zu(fe,Re,We,Qe,rt,ot,Pt){var ct=1/0,Ht;return function er(nr,Pr,Cr,Kr,nn){if(!(Pr>ot||Cr>Pt||Kr<Qe||nn<rt)){if(Ir=nr.point){var Ir,Nr=Re-nr.x,Zr=We-nr.y,on=Nr*Nr+Zr*Zr;if(on<ct){var hn=Math.sqrt(ct=on);Qe=Re-hn,rt=We-hn,ot=Re+hn,Pt=We+hn,Ht=Ir}}for(var Xr=nr.nodes,Hn=(Pr+Kr)*.5,jn=(Cr+nn)*.5,ea=Re>=Hn,sa=We>=jn,Ta=sa<<1|ea,wa=Ta+4;Ta<wa;++Ta)if(nr=Xr[Ta&3])switch(Ta&3){case 0:er(nr,Pr,Cr,Hn,jn);break;case 1:er(nr,Hn,Cr,Kr,jn);break;case 2:er(nr,Pr,jn,Hn,nn);break;case 3:er(nr,Hn,jn,Kr,nn);break}}}(fe,Qe,rt,ot,Pt),Ht}a.interpolateRgb=Ko;function Ko(fe,Re){fe=a.rgb(fe),Re=a.rgb(Re);var We=fe.r,Qe=fe.g,rt=fe.b,ot=Re.r-We,Pt=Re.g-Qe,ct=Re.b-rt;return function(Ht){return"#"+gr(Math.round(We+ot*Ht))+gr(Math.round(Qe+Pt*Ht))+gr(Math.round(rt+ct*Ht))}}a.interpolateObject=eo;function eo(fe,Re){var We={},Qe={},rt;for(rt in fe)rt in Re?We[rt]=Js(fe[rt],Re[rt]):Qe[rt]=fe[rt];for(rt in Re)rt in fe||(Qe[rt]=Re[rt]);return function(ot){for(rt in We)Qe[rt]=We[rt](ot);return Qe}}a.interpolateNumber=$o;function $o(fe,Re){return fe=+fe,Re=+Re,function(We){return fe*(1-We)+Re*We}}a.interpolateString=So;function So(fe,Re){var We=as.lastIndex=Rs.lastIndex=0,Qe,rt,ot,Pt=-1,ct=[],Ht=[];for(fe=fe+"",Re=Re+"";(Qe=as.exec(fe))&&(rt=Rs.exec(Re));)(ot=rt.index)>We&&(ot=Re.slice(We,ot),ct[Pt]?ct[Pt]+=ot:ct[++Pt]=ot),(Qe=Qe[0])===(rt=rt[0])?ct[Pt]?ct[Pt]+=rt:ct[++Pt]=rt:(ct[++Pt]=null,Ht.push({i:Pt,x:$o(Qe,rt)})),We=Rs.lastIndex;return We<Re.length&&(ot=Re.slice(We),ct[Pt]?ct[Pt]+=ot:ct[++Pt]=ot),ct.length<2?Ht[0]?(Re=Ht[0].x,function(er){return Re(er)+""}):function(){return Re}:(Re=Ht.length,function(er){for(var nr=0,Pr;nr<Re;++nr)ct[(Pr=Ht[nr]).i]=Pr.x(er);return ct.join("")})}var as=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Rs=new RegExp(as.source,"g");a.interpolate=Js;function Js(fe,Re){for(var We=a.interpolators.length,Qe;--We>=0&&!(Qe=a.interpolators[We](fe,Re)););return Qe}a.interpolators=[function(fe,Re){var We=typeof Re;return(We==="string"?pn.has(Re.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(Re)?Ko:So:Re instanceof pt?Ko:Array.isArray(Re)?co:We==="object"&&isNaN(Re)?eo:$o)(fe,Re)}],a.interpolateArray=co;function co(fe,Re){var We=[],Qe=[],rt=fe.length,ot=Re.length,Pt=Math.min(fe.length,Re.length),ct;for(ct=0;ct<Pt;++ct)We.push(Js(fe[ct],Re[ct]));for(;ct<rt;++ct)Qe[ct]=fe[ct];for(;ct<ot;++ct)Qe[ct]=Re[ct];return function(Ht){for(ct=0;ct<Pt;++ct)Qe[ct]=We[ct](Ht);return Qe}}var Jc=function(){return B},Ds=a.map({linear:Jc,poly:Xu,quad:function(){return uc},cubic:function(){return fc},sin:function(){return rv},exp:function(){return nv},circle:function(){return av},elastic:cc,back:iv,bounce:function(){return ov}}),ho=a.map({in:B,out:Qs,"in-out":Is,"out-in":function(fe){return Is(Qs(fe))}});a.ease=function(fe){var Re=fe.indexOf("-"),We=Re>=0?fe.slice(0,Re):fe,Qe=Re>=0?fe.slice(Re+1):"in";return We=Ds.get(We)||Jc,Qe=ho.get(Qe)||B,lc(Qe(We.apply(null,C.call(arguments,1))))};function lc(fe){return function(Re){return Re<=0?0:Re>=1?1:fe(Re)}}function Qs(fe){return function(Re){return 1-fe(1-Re)}}function Is(fe){return function(Re){return .5*(Re<.5?fe(2*Re):2-fe(2-2*Re))}}function uc(fe){return fe*fe}function fc(fe){return fe*fe*fe}function tv(fe){if(fe<=0)return 0;if(fe>=1)return 1;var Re=fe*fe,We=Re*fe;return 4*(fe<.5?We:3*(fe-Re)+We-.75)}function Xu(fe){return function(Re){return Math.pow(Re,fe)}}function rv(fe){return 1-Math.cos(fe*qe)}function nv(fe){return Math.pow(2,10*(fe-1))}function av(fe){return 1-Math.sqrt(1-fe*fe)}function cc(fe,Re){var We;return arguments.length<2&&(Re=.45),arguments.length?We=Re/Ue*Math.asin(1/fe):(fe=1,We=Re/4),function(Qe){return 1+fe*Math.pow(2,-10*Qe)*Math.sin((Qe-We)*Ue/Re)}}function iv(fe){return fe||(fe=1.70158),function(Re){return Re*Re*((fe+1)*Re-fe)}}function ov(fe){return fe<.36363636363636365?7.5625*fe*fe:fe<.7272727272727273?7.5625*(fe-=.5454545454545454)*fe+.75:fe<.9090909090909091?7.5625*(fe-=.8181818181818182)*fe+.9375:7.5625*(fe-=.9545454545454546)*fe+.984375}a.interpolateHcl=Qc;function Qc(fe,Re){fe=a.hcl(fe),Re=a.hcl(Re);var We=fe.h,Qe=fe.c,rt=fe.l,ot=Re.h-We,Pt=Re.c-Qe,ct=Re.l-rt;return isNaN(Pt)&&(Pt=0,Qe=isNaN(Qe)?Re.c:Qe),isNaN(ot)?(ot=0,We=isNaN(We)?Re.h:We):ot>180?ot-=360:ot<-180&&(ot+=360),function(Ht){return Bt(We+ot*Ht,Qe+Pt*Ht,rt+ct*Ht)+""}}a.interpolateHsl=sv;function sv(fe,Re){fe=a.hsl(fe),Re=a.hsl(Re);var We=fe.h,Qe=fe.s,rt=fe.l,ot=Re.h-We,Pt=Re.s-Qe,ct=Re.l-rt;return isNaN(Pt)&&(Pt=0,Qe=isNaN(Qe)?Re.s:Qe),isNaN(ot)?(ot=0,We=isNaN(We)?Re.h:We):ot>180?ot-=360:ot<-180&&(ot+=360),function(Ht){return St(We+ot*Ht,Qe+Pt*Ht,rt+ct*Ht)+""}}a.interpolateLab=lv;function lv(fe,Re){fe=a.lab(fe),Re=a.lab(Re);var We=fe.l,Qe=fe.a,rt=fe.b,ot=Re.l-We,Pt=Re.a-Qe,ct=Re.b-rt;return function(Ht){return Ye(We+ot*Ht,Qe+Pt*Ht,rt+ct*Ht)+""}}a.interpolateRound=hc;function hc(fe,Re){return Re-=fe,function(We){return Math.round(fe+Re*We)}}a.transform=function(fe){var Re=v.createElementNS(a.ns.prefix.svg,"g");return(a.transform=function(We){if(We!=null){Re.setAttribute("transform",We);var Qe=Re.transform.baseVal.consolidate()}return new Fl(Qe?Qe.matrix:uv)})(fe)};function Fl(fe){var Re=[fe.a,fe.b],We=[fe.c,fe.d],Qe=cu(Re),rt=Bl(Re,We),ot=cu(Sf(We,Re,-rt))||0;Re[0]*We[1]<We[0]*Re[1]&&(Re[0]*=-1,Re[1]*=-1,Qe*=-1,rt*=-1),this.rotate=(Qe?Math.atan2(Re[1],Re[0]):Math.atan2(-We[0],We[1]))*bt,this.translate=[fe.e,fe.f],this.scale=[Qe,ot],this.skew=ot?Math.atan2(rt,ot)*bt:0}Fl.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function Bl(fe,Re){return fe[0]*Re[0]+fe[1]*Re[1]}function cu(fe){var Re=Math.sqrt(Bl(fe,fe));return Re&&(fe[0]/=Re,fe[1]/=Re),Re}function Sf(fe,Re,We){return fe[0]+=We*Re[0],fe[1]+=We*Re[1],fe}var uv={a:1,b:0,c:0,d:1,e:0,f:0};a.interpolateTransform=Nl;function qs(fe){return fe.length?fe.pop()+",":""}function qc(fe,Re,We,Qe){if(fe[0]!==Re[0]||fe[1]!==Re[1]){var rt=We.push("translate(",null,",",null,")");Qe.push({i:rt-4,x:$o(fe[0],Re[0])},{i:rt-2,x:$o(fe[1],Re[1])})}else(Re[0]||Re[1])&&We.push("translate("+Re+")")}function vc(fe,Re,We,Qe){fe!==Re?(fe-Re>180?Re+=360:Re-fe>180&&(fe+=360),Qe.push({i:We.push(qs(We)+"rotate(",null,")")-2,x:$o(fe,Re)})):Re&&We.push(qs(We)+"rotate("+Re+")")}function fv(fe,Re,We,Qe){fe!==Re?Qe.push({i:We.push(qs(We)+"skewX(",null,")")-2,x:$o(fe,Re)}):Re&&We.push(qs(We)+"skewX("+Re+")")}function is(fe,Re,We,Qe){if(fe[0]!==Re[0]||fe[1]!==Re[1]){var rt=We.push(qs(We)+"scale(",null,",",null,")");Qe.push({i:rt-4,x:$o(fe[0],Re[0])},{i:rt-2,x:$o(fe[1],Re[1])})}else(Re[0]!==1||Re[1]!==1)&&We.push(qs(We)+"scale("+Re+")")}function Nl(fe,Re){var We=[],Qe=[];return fe=a.transform(fe),Re=a.transform(Re),qc(fe.translate,Re.translate,We,Qe),vc(fe.rotate,Re.rotate,We,Qe),fv(fe.skew,Re.skew,We,Qe),is(fe.scale,Re.scale,We,Qe),fe=Re=null,function(rt){for(var ot=-1,Pt=Qe.length,ct;++ot<Pt;)We[(ct=Qe[ot]).i]=ct.x(rt);return We.join("")}}function Ku(fe,Re){return Re=(Re-=fe=+fe)||1/Re,function(We){return(We-fe)/Re}}function hu(fe,Re){return Re=(Re-=fe=+fe)||1/Re,function(We){return Math.max(0,Math.min(1,(We-fe)/Re))}}a.layout={},a.layout.bundle=function(){return function(fe){for(var Re=[],We=-1,Qe=fe.length;++We<Qe;)Re.push(ks(fe[We]));return Re}};function ks(fe){for(var Re=fe.source,We=fe.target,Qe=dc(Re,We),rt=[Re];Re!==Qe;)Re=Re.parent,rt.push(Re);for(var ot=rt.length;We!==Qe;)rt.splice(ot,0,We),We=We.parent;return rt}function el(fe){for(var Re=[],We=fe.parent;We!=null;)Re.push(fe),fe=We,We=We.parent;return Re.push(fe),Re}function dc(fe,Re){if(fe===Re)return fe;for(var We=el(fe),Qe=el(Re),rt=We.pop(),ot=Qe.pop(),Pt=null;rt===ot;)Pt=rt,rt=We.pop(),ot=Qe.pop();return Pt}a.layout.chord=function(){var fe={},Re,We,Qe,rt,ot=0,Pt,ct,Ht;function er(){var Pr={},Cr=[],Kr=a.range(rt),nn=[],Ir,Nr,Zr,on,hn;for(Re=[],We=[],Ir=0,on=-1;++on<rt;){for(Nr=0,hn=-1;++hn<rt;)Nr+=Qe[on][hn];Cr.push(Nr),nn.push(a.range(rt)),Ir+=Nr}for(Pt&&Kr.sort(function(Ha,La){return Pt(Cr[Ha],Cr[La])}),ct&&nn.forEach(function(Ha,La){Ha.sort(function(Ba,ei){return ct(Qe[La][Ba],Qe[La][ei])})}),Ir=(Ue-ot*rt)/Ir,Nr=0,on=-1;++on<rt;){for(Zr=Nr,hn=-1;++hn<rt;){var Xr=Kr[on],Hn=nn[Xr][hn],jn=Qe[Xr][Hn],ea=Nr,sa=Nr+=jn*Ir;Pr[Xr+"-"+Hn]={index:Xr,subindex:Hn,startAngle:ea,endAngle:sa,value:jn}}We[Xr]={index:Xr,startAngle:Zr,endAngle:Nr,value:Cr[Xr]},Nr+=ot}for(on=-1;++on<rt;)for(hn=on-1;++hn<rt;){var Ta=Pr[on+"-"+hn],wa=Pr[hn+"-"+on];(Ta.value||wa.value)&&Re.push(Ta.value<wa.value?{source:wa,target:Ta}:{source:Ta,target:wa})}Ht&&nr()}function nr(){Re.sort(function(Pr,Cr){return Ht((Pr.source.value+Pr.target.value)/2,(Cr.source.value+Cr.target.value)/2)})}return fe.matrix=function(Pr){return arguments.length?(rt=(Qe=Pr)&&Qe.length,Re=We=null,fe):Qe},fe.padding=function(Pr){return arguments.length?(ot=Pr,Re=We=null,fe):ot},fe.sortGroups=function(Pr){return arguments.length?(Pt=Pr,Re=We=null,fe):Pt},fe.sortSubgroups=function(Pr){return arguments.length?(ct=Pr,Re=null,fe):ct},fe.sortChords=function(Pr){return arguments.length?(Ht=Pr,Re&&nr(),fe):Ht},fe.chords=function(){return Re||er(),Re},fe.groups=function(){return We||er(),We},fe},a.layout.force=function(){var fe={},Re=a.dispatch("start","tick","end"),We,Qe=[1,1],rt,ot,Pt=.9,ct=du,Ht=eh,er=-30,nr=th,Pr=.1,Cr=.64,Kr=[],nn=[],Ir,Nr,Zr;function on(Xr){return function(Hn,jn,ea,sa){if(Hn.point!==Xr){var Ta=Hn.cx-Xr.x,wa=Hn.cy-Xr.y,Ha=sa-jn,La=Ta*Ta+wa*wa;if(Ha*Ha/Cr<La){if(La<nr){var Ba=Hn.charge/La;Xr.px-=Ta*Ba,Xr.py-=wa*Ba}return!0}if(Hn.point&&La&&La<nr){var Ba=Hn.pointCharge/La;Xr.px-=Ta*Ba,Xr.py-=wa*Ba}}return!Hn.charge}}fe.tick=function(){if((ot*=.99)<.005)return We=null,Re.end({type:"end",alpha:ot=0}),!0;var Xr=Kr.length,Hn=nn.length,jn,ea,sa,Ta,wa,Ha,La,Ba,ei;for(ea=0;ea<Hn;++ea)sa=nn[ea],Ta=sa.source,wa=sa.target,Ba=wa.x-Ta.x,ei=wa.y-Ta.y,(Ha=Ba*Ba+ei*ei)&&(Ha=ot*Nr[ea]*((Ha=Math.sqrt(Ha))-Ir[ea])/Ha,Ba*=Ha,ei*=Ha,wa.x-=Ba*(La=Ta.weight+wa.weight?Ta.weight/(Ta.weight+wa.weight):.5),wa.y-=ei*La,Ta.x+=Ba*(La=1-La),Ta.y+=ei*La);if((La=ot*Pr)&&(Ba=Qe[0]/2,ei=Qe[1]/2,ea=-1,La))for(;++ea<Xr;)sa=Kr[ea],sa.x+=(Ba-sa.x)*La,sa.y+=(ei-sa.y)*La;if(er)for(Mf(jn=a.geom.quadtree(Kr),ot,Zr),ea=-1;++ea<Xr;)(sa=Kr[ea]).fixed||jn.visit(on(sa));for(ea=-1;++ea<Xr;)sa=Kr[ea],sa.fixed?(sa.x=sa.px,sa.y=sa.py):(sa.x-=(sa.px-(sa.px=sa.x))*Pt,sa.y-=(sa.py-(sa.py=sa.y))*Pt);Re.tick({type:"tick",alpha:ot})},fe.nodes=function(Xr){return arguments.length?(Kr=Xr,fe):Kr},fe.links=function(Xr){return arguments.length?(nn=Xr,fe):nn},fe.size=function(Xr){return arguments.length?(Qe=Xr,fe):Qe},fe.linkDistance=function(Xr){return arguments.length?(ct=typeof Xr=="function"?Xr:+Xr,fe):ct},fe.distance=fe.linkDistance,fe.linkStrength=function(Xr){return arguments.length?(Ht=typeof Xr=="function"?Xr:+Xr,fe):Ht},fe.friction=function(Xr){return arguments.length?(Pt=+Xr,fe):Pt},fe.charge=function(Xr){return arguments.length?(er=typeof Xr=="function"?Xr:+Xr,fe):er},fe.chargeDistance=function(Xr){return arguments.length?(nr=Xr*Xr,fe):Math.sqrt(nr)},fe.gravity=function(Xr){return arguments.length?(Pr=+Xr,fe):Pr},fe.theta=function(Xr){return arguments.length?(Cr=Xr*Xr,fe):Math.sqrt(Cr)},fe.alpha=function(Xr){return arguments.length?(Xr=+Xr,ot?Xr>0?ot=Xr:(We.c=null,We.t=NaN,We=null,Re.end({type:"end",alpha:ot=0})):Xr>0&&(Re.start({type:"start",alpha:ot=Xr}),We=Rn(fe.tick)),fe):ot},fe.start=function(){var Xr,Hn=Kr.length,jn=nn.length,ea=Qe[0],sa=Qe[1],Ta,wa;for(Xr=0;Xr<Hn;++Xr)(wa=Kr[Xr]).index=Xr,wa.weight=0;for(Xr=0;Xr<jn;++Xr)wa=nn[Xr],typeof wa.source=="number"&&(wa.source=Kr[wa.source]),typeof wa.target=="number"&&(wa.target=Kr[wa.target]),++wa.source.weight,++wa.target.weight;for(Xr=0;Xr<Hn;++Xr)wa=Kr[Xr],isNaN(wa.x)&&(wa.x=Ha("x",ea)),isNaN(wa.y)&&(wa.y=Ha("y",sa)),isNaN(wa.px)&&(wa.px=wa.x),isNaN(wa.py)&&(wa.py=wa.y);if(Ir=[],typeof ct=="function")for(Xr=0;Xr<jn;++Xr)Ir[Xr]=+ct.call(this,nn[Xr],Xr);else for(Xr=0;Xr<jn;++Xr)Ir[Xr]=ct;if(Nr=[],typeof Ht=="function")for(Xr=0;Xr<jn;++Xr)Nr[Xr]=+Ht.call(this,nn[Xr],Xr);else for(Xr=0;Xr<jn;++Xr)Nr[Xr]=Ht;if(Zr=[],typeof er=="function")for(Xr=0;Xr<Hn;++Xr)Zr[Xr]=+er.call(this,Kr[Xr],Xr);else for(Xr=0;Xr<Hn;++Xr)Zr[Xr]=er;function Ha(La,Ba){if(!Ta){for(Ta=new Array(Hn),vi=0;vi<Hn;++vi)Ta[vi]=[];for(vi=0;vi<jn;++vi){var ei=nn[vi];Ta[ei.source.index].push(ei.target),Ta[ei.target.index].push(ei.source)}}for(var ii=Ta[Xr],vi=-1,Wn=ii.length,Na;++vi<Wn;)if(!isNaN(Na=ii[vi][La]))return Na;return Math.random()*Ba}return fe.resume()},fe.resume=function(){return fe.alpha(.1)},fe.stop=function(){return fe.alpha(0)},fe.drag=function(){if(rt||(rt=a.behavior.drag().origin(B).on("dragstart.force",vu).on("drag.force",hn).on("dragend.force",dl)),!arguments.length)return rt;this.on("mouseover.force",Hi).on("mouseout.force",pc).call(rt)};function hn(Xr){Xr.px=a.event.x,Xr.py=a.event.y,fe.resume()}return a.rebind(fe,Re,"on")};function vu(fe){fe.fixed|=2}function dl(fe){fe.fixed&=-7}function Hi(fe){fe.fixed|=4,fe.px=fe.x,fe.py=fe.y}function pc(fe){fe.fixed&=-5}function Mf(fe,Re,We){var Qe=0,rt=0;if(fe.charge=0,!fe.leaf)for(var ot=fe.nodes,Pt=ot.length,ct=-1,Ht;++ct<Pt;)Ht=ot[ct],Ht!=null&&(Mf(Ht,Re,We),fe.charge+=Ht.charge,Qe+=Ht.charge*Ht.cx,rt+=Ht.charge*Ht.cy);if(fe.point){fe.leaf||(fe.point.x+=Math.random()-.5,fe.point.y+=Math.random()-.5);var er=Re*We[fe.point.index];fe.charge+=fe.pointCharge=er,Qe+=er*fe.point.x,rt+=er*fe.point.y}fe.cx=Qe/fe.charge,fe.cy=rt/fe.charge}var du=20,eh=1,th=1/0;a.layout.hierarchy=function(){var fe=gc,Re=Ef,We=cv;function Qe(rt){var ot=[rt],Pt=[],ct;for(rt.depth=0;(ct=ot.pop())!=null;)if(Pt.push(ct),(er=Re.call(Qe,ct,ct.depth))&&(Ht=er.length)){for(var Ht,er,nr;--Ht>=0;)ot.push(nr=er[Ht]),nr.parent=ct,nr.depth=ct.depth+1;We&&(ct.value=0),ct.children=er}else We&&(ct.value=+We.call(Qe,ct,ct.depth)||0),delete ct.children;return so(rt,function(Pr){var Cr,Kr;fe&&(Cr=Pr.children)&&Cr.sort(fe),We&&(Kr=Pr.parent)&&(Kr.value+=Pr.value)}),Pt}return Qe.sort=function(rt){return arguments.length?(fe=rt,Qe):fe},Qe.children=function(rt){return arguments.length?(Re=rt,Qe):Re},Qe.value=function(rt){return arguments.length?(We=rt,Qe):We},Qe.revalue=function(rt){return We&&(gu(rt,function(ot){ot.children&&(ot.value=0)}),so(rt,function(ot){var Pt;ot.children||(ot.value=+We.call(Qe,ot,ot.depth)||0),(Pt=ot.parent)&&(Pt.value+=ot.value)})),rt},Qe};function pu(fe,Re){return a.rebind(fe,Re,"sort","children","value"),fe.nodes=fe,fe.links=hv,fe}function gu(fe,Re){for(var We=[fe];(fe=We.pop())!=null;)if(Re(fe),(rt=fe.children)&&(Qe=rt.length))for(var Qe,rt;--Qe>=0;)We.push(rt[Qe])}function so(fe,Re){for(var We=[fe],Qe=[];(fe=We.pop())!=null;)if(Qe.push(fe),(Pt=fe.children)&&(ot=Pt.length))for(var rt=-1,ot,Pt;++rt<ot;)We.push(Pt[rt]);for(;(fe=Qe.pop())!=null;)Re(fe)}function Ef(fe){return fe.children}function cv(fe){return fe.value}function gc(fe,Re){return Re.value-fe.value}function hv(fe){return a.merge(fe.map(function(Re){return(Re.children||[]).map(function(We){return{source:Re,target:We}})}))}a.layout.partition=function(){var fe=a.layout.hierarchy(),Re=[1,1];function We(ot,Pt,ct,Ht){var er=ot.children;if(ot.x=Pt,ot.y=ot.depth*Ht,ot.dx=ct,ot.dy=Ht,er&&(Pr=er.length)){var nr=-1,Pr,Cr,Kr;for(ct=ot.value?ct/ot.value:0;++nr<Pr;)We(Cr=er[nr],Pt,Kr=Cr.value*ct,Ht),Pt+=Kr}}function Qe(ot){var Pt=ot.children,ct=0;if(Pt&&(er=Pt.length))for(var Ht=-1,er;++Ht<er;)ct=Math.max(ct,Qe(Pt[Ht]));return 1+ct}function rt(ot,Pt){var ct=fe.call(this,ot,Pt);return We(ct[0],0,Re[0],Re[1]/Qe(ct[0])),ct}return rt.size=function(ot){return arguments.length?(Re=ot,rt):Re},pu(rt,fe)},a.layout.pie=function(){var fe=Number,Re=Cf,We=0,Qe=Ue,rt=0;function ot(Pt){var ct=Pt.length,Ht=Pt.map(function(on,hn){return+fe.call(ot,on,hn)}),er=+(typeof We=="function"?We.apply(this,arguments):We),nr=(typeof Qe=="function"?Qe.apply(this,arguments):Qe)-er,Pr=Math.min(Math.abs(nr)/ct,+(typeof rt=="function"?rt.apply(this,arguments):rt)),Cr=Pr*(nr<0?-1:1),Kr=a.sum(Ht),nn=Kr?(nr-ct*Cr)/Kr:0,Ir=a.range(ct),Nr=[],Zr;return Re!=null&&Ir.sort(Re===Cf?function(on,hn){return Ht[hn]-Ht[on]}:function(on,hn){return Re(Pt[on],Pt[hn])}),Ir.forEach(function(on){Nr[on]={data:Pt[on],value:Zr=Ht[on],startAngle:er,endAngle:er+=Zr*nn+Cr,padAngle:Pr}}),Nr}return ot.value=function(Pt){return arguments.length?(fe=Pt,ot):fe},ot.sort=function(Pt){return arguments.length?(Re=Pt,ot):Re},ot.startAngle=function(Pt){return arguments.length?(We=Pt,ot):We},ot.endAngle=function(Pt){return arguments.length?(Qe=Pt,ot):Qe},ot.padAngle=function(Pt){return arguments.length?(rt=Pt,ot):rt},ot};var Cf={};a.layout.stack=function(){var fe=B,Re=Lf,We=bc,Qe=mc,rt=$u,ot=yc;function Pt(ct,Ht){if(!(nn=ct.length))return ct;var er=ct.map(function(on,hn){return fe.call(Pt,on,hn)}),nr=er.map(function(on){return on.map(function(hn,Xr){return[rt.call(Pt,hn,Xr),ot.call(Pt,hn,Xr)]})}),Pr=Re.call(Pt,nr,Ht);er=a.permute(er,Pr),nr=a.permute(nr,Pr);var Cr=We.call(Pt,nr,Ht),Kr=er[0].length,nn,Ir,Nr,Zr;for(Nr=0;Nr<Kr;++Nr)for(Qe.call(Pt,er[0][Nr],Zr=Cr[Nr],nr[0][Nr][1]),Ir=1;Ir<nn;++Ir)Qe.call(Pt,er[Ir][Nr],Zr+=nr[Ir-1][Nr][1],nr[Ir][Nr][1]);return ct}return Pt.values=function(ct){return arguments.length?(fe=ct,Pt):fe},Pt.order=function(ct){return arguments.length?(Re=typeof ct=="function"?ct:Ju.get(ct)||Lf,Pt):Re},Pt.offset=function(ct){return arguments.length?(We=typeof ct=="function"?ct:xc.get(ct)||bc,Pt):We},Pt.x=function(ct){return arguments.length?(rt=ct,Pt):rt},Pt.y=function(ct){return arguments.length?(ot=ct,Pt):ot},Pt.out=function(ct){return arguments.length?(Qe=ct,Pt):Qe},Pt};function $u(fe){return fe.x}function yc(fe){return fe.y}function mc(fe,Re,We){fe.y0=Re,fe.y=We}var Ju=a.map({"inside-out":function(fe){var Re=fe.length,We,Qe,rt=fe.map(mi),ot=fe.map(rh),Pt=a.range(Re).sort(function(Pr,Cr){return rt[Pr]-rt[Cr]}),ct=0,Ht=0,er=[],nr=[];for(We=0;We<Re;++We)Qe=Pt[We],ct<Ht?(ct+=ot[Qe],er.push(Qe)):(Ht+=ot[Qe],nr.push(Qe));return nr.reverse().concat(er)},reverse:function(fe){return a.range(fe.length).reverse()},default:Lf}),xc=a.map({silhouette:function(fe){var Re=fe.length,We=fe[0].length,Qe=[],rt=0,ot,Pt,ct,Ht=[];for(Pt=0;Pt<We;++Pt){for(ot=0,ct=0;ot<Re;ot++)ct+=fe[ot][Pt][1];ct>rt&&(rt=ct),Qe.push(ct)}for(Pt=0;Pt<We;++Pt)Ht[Pt]=(rt-Qe[Pt])/2;return Ht},wiggle:function(fe){var Re=fe.length,We=fe[0],Qe=We.length,rt,ot,Pt,ct,Ht,er,nr,Pr,Cr,Kr=[];for(Kr[0]=Pr=Cr=0,ot=1;ot<Qe;++ot){for(rt=0,ct=0;rt<Re;++rt)ct+=fe[rt][ot][1];for(rt=0,Ht=0,nr=We[ot][0]-We[ot-1][0];rt<Re;++rt){for(Pt=0,er=(fe[rt][ot][1]-fe[rt][ot-1][1])/(2*nr);Pt<rt;++Pt)er+=(fe[Pt][ot][1]-fe[Pt][ot-1][1])/nr;Ht+=er*fe[rt][ot][1]}Kr[ot]=Pr-=ct?Ht/ct*nr:0,Pr<Cr&&(Cr=Pr)}for(ot=0;ot<Qe;++ot)Kr[ot]-=Cr;return Kr},expand:function(fe){var Re=fe.length,We=fe[0].length,Qe=1/Re,rt,ot,Pt,ct=[];for(ot=0;ot<We;++ot){for(rt=0,Pt=0;rt<Re;rt++)Pt+=fe[rt][ot][1];if(Pt)for(rt=0;rt<Re;rt++)fe[rt][ot][1]/=Pt;else for(rt=0;rt<Re;rt++)fe[rt][ot][1]=Qe}for(ot=0;ot<We;++ot)ct[ot]=0;return ct},zero:bc});function Lf(fe){return a.range(fe.length)}function bc(fe){for(var Re=-1,We=fe[0].length,Qe=[];++Re<We;)Qe[Re]=0;return Qe}function mi(fe){for(var Re=1,We=0,Qe=fe[0][1],rt,ot=fe.length;Re<ot;++Re)(rt=fe[Re][1])>Qe&&(We=Re,Qe=rt);return We}function rh(fe){return fe.reduce(ys,0)}function ys(fe,Re){return fe+Re[1]}a.layout.histogram=function(){var fe=!0,Re=Number,We=wc,Qe=yu;function rt(ot,Cr){for(var ct=[],Ht=ot.map(Re,this),er=We.call(this,Ht,Cr),nr=Qe.call(this,er,Ht,Cr),Pr,Cr=-1,Kr=Ht.length,nn=nr.length-1,Ir=fe?1:1/Kr,Nr;++Cr<nn;)Pr=ct[Cr]=[],Pr.dx=nr[Cr+1]-(Pr.x=nr[Cr]),Pr.y=0;if(nn>0)for(Cr=-1;++Cr<Kr;)Nr=Ht[Cr],Nr>=er[0]&&Nr<=er[1]&&(Pr=ct[a.bisect(nr,Nr,1,nn)-1],Pr.y+=Ir,Pr.push(ot[Cr]));return ct}return rt.value=function(ot){return arguments.length?(Re=ot,rt):Re},rt.range=function(ot){return arguments.length?(We=en(ot),rt):We},rt.bins=function(ot){return arguments.length?(Qe=typeof ot=="number"?function(Pt){return Ul(Pt,ot)}:en(ot),rt):Qe},rt.frequency=function(ot){return arguments.length?(fe=!!ot,rt):fe},rt};function yu(fe,Re){return Ul(fe,Math.ceil(Math.log(Re.length)/Math.LN2+1))}function Ul(fe,Re){for(var We=-1,Qe=+fe[0],rt=(fe[1]-Qe)/Re,ot=[];++We<=Re;)ot[We]=rt*We+Qe;return ot}function wc(fe){return[a.min(fe),a.max(fe)]}a.layout.pack=function(){var fe=a.layout.hierarchy().sort(Gi),Re=0,We=[1,1],Qe;function rt(ot,Pt){var ct=fe.call(this,ot,Pt),Ht=ct[0],er=We[0],nr=We[1],Pr=Qe==null?Math.sqrt:typeof Qe=="function"?Qe:function(){return Qe};if(Ht.x=Ht.y=0,so(Ht,function(Kr){Kr.r=+Pr(Kr.value)}),so(Ht,rl),Re){var Cr=Re*(Qe?1:Math.max(2*Ht.r/er,2*Ht.r/nr))/2;so(Ht,function(Kr){Kr.r+=Cr}),so(Ht,rl),so(Ht,function(Kr){Kr.r-=Cr})}return ml(Ht,er/2,nr/2,Qe?1:1/Math.max(2*Ht.r/er,2*Ht.r/nr)),ct}return rt.size=function(ot){return arguments.length?(We=ot,rt):We},rt.radius=function(ot){return arguments.length?(Qe=ot==null||typeof ot=="function"?ot:+ot,rt):Qe},rt.padding=function(ot){return arguments.length?(Re=+ot,rt):Re},pu(rt,fe)};function Gi(fe,Re){return fe.value-Re.value}function Qu(fe,Re){var We=fe._pack_next;fe._pack_next=Re,Re._pack_prev=fe,Re._pack_next=We,We._pack_prev=Re}function Ho(fe,Re){fe._pack_next=Re,Re._pack_prev=fe}function tl(fe,Re){var We=Re.x-fe.x,Qe=Re.y-fe.y,rt=fe.r+Re.r;return .999*rt*rt>We*We+Qe*Qe}function rl(fe){if(!(Re=fe.children)||!(Cr=Re.length))return;var Re,We=1/0,Qe=-1/0,rt=1/0,ot=-1/0,Pt,ct,Ht,er,nr,Pr,Cr;function Kr(Xr){We=Math.min(Xr.x-Xr.r,We),Qe=Math.max(Xr.x+Xr.r,Qe),rt=Math.min(Xr.y-Xr.r,rt),ot=Math.max(Xr.y+Xr.r,ot)}if(Re.forEach(pl),Pt=Re[0],Pt.x=-Pt.r,Pt.y=0,Kr(Pt),Cr>1&&(ct=Re[1],ct.x=ct.r,ct.y=0,Kr(ct),Cr>2))for(Ht=Re[2],ms(Pt,ct,Ht),Kr(Ht),Qu(Pt,Ht),Pt._pack_prev=Ht,Qu(Ht,ct),ct=Pt._pack_next,er=3;er<Cr;er++){ms(Pt,ct,Ht=Re[er]);var nn=0,Ir=1,Nr=1;for(nr=ct._pack_next;nr!==ct;nr=nr._pack_next,Ir++)if(tl(nr,Ht)){nn=1;break}if(nn==1)for(Pr=Pt._pack_prev;Pr!==nr._pack_prev&&!tl(Pr,Ht);Pr=Pr._pack_prev,Nr++);nn?(Ir<Nr||Ir==Nr&&ct.r<Pt.r?Ho(Pt,ct=nr):Ho(Pt=Pr,ct),er--):(Qu(Pt,Ht),ct=Ht,Kr(Ht))}var Zr=(We+Qe)/2,on=(rt+ot)/2,hn=0;for(er=0;er<Cr;er++)Ht=Re[er],Ht.x-=Zr,Ht.y-=on,hn=Math.max(hn,Ht.r+Math.sqrt(Ht.x*Ht.x+Ht.y*Ht.y));fe.r=hn,Re.forEach(yl)}function pl(fe){fe._pack_next=fe._pack_prev=fe}function yl(fe){delete fe._pack_next,delete fe._pack_prev}function ml(fe,Re,We,Qe){var rt=fe.children;if(fe.x=Re+=Qe*fe.x,fe.y=We+=Qe*fe.y,fe.r*=Qe,rt)for(var ot=-1,Pt=rt.length;++ot<Pt;)ml(rt[ot],Re,We,Qe)}function ms(fe,Re,We){var Qe=fe.r+We.r,rt=Re.x-fe.x,ot=Re.y-fe.y;if(Qe&&(rt||ot)){var Pt=Re.r+We.r,ct=rt*rt+ot*ot;Pt*=Pt,Qe*=Qe;var Ht=.5+(Qe-Pt)/(2*ct),er=Math.sqrt(Math.max(0,2*Pt*(Qe+ct)-(Qe-=ct)*Qe-Pt*Pt))/(2*ct);We.x=fe.x+Ht*rt+er*ot,We.y=fe.y+Ht*ot-er*rt}else We.x=fe.x+Qe,We.y=fe.y}a.layout.tree=function(){var fe=a.layout.hierarchy().sort(null).value(null),Re=_s,We=[1,1],Qe=null;function rt(nr,Pr){var Cr=fe.call(this,nr,Pr),Kr=Cr[0],nn=ot(Kr);if(so(nn,Pt),nn.parent.m=-nn.z,gu(nn,ct),Qe)gu(Kr,er);else{var Ir=Kr,Nr=Kr,Zr=Kr;gu(Kr,function(Hn){Hn.x<Ir.x&&(Ir=Hn),Hn.x>Nr.x&&(Nr=Hn),Hn.depth>Zr.depth&&(Zr=Hn)});var on=Re(Ir,Nr)/2-Ir.x,hn=We[0]/(Nr.x+Re(Nr,Ir)/2+on),Xr=We[1]/(Zr.depth||1);gu(Kr,function(Hn){Hn.x=(Hn.x+on)*hn,Hn.y=Hn.depth*Xr})}return Cr}function ot(nr){for(var Pr={A:null,children:[nr]},Cr=[Pr],Kr;(Kr=Cr.pop())!=null;)for(var nn=Kr.children,Ir,Nr=0,Zr=nn.length;Nr<Zr;++Nr)Cr.push((nn[Nr]=Ir={_:nn[Nr],parent:Kr,children:(Ir=nn[Nr].children)&&Ir.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:Nr}).a=Ir);return Pr.children[0]}function Pt(nr){var Pr=nr.children,Cr=nr.parent.children,Kr=nr.i?Cr[nr.i-1]:null;if(Pr.length){vv(nr);var nn=(Pr[0].z+Pr[Pr.length-1].z)/2;Kr?(nr.z=Kr.z+Re(nr._,Kr._),nr.m=nr.z-nn):nr.z=nn}else Kr&&(nr.z=Kr.z+Re(nr._,Kr._));nr.parent.A=Ht(nr,Kr,nr.parent.A||Cr[0])}function ct(nr){nr._.x=nr.z+nr.parent.m,nr.m+=nr.parent.m}function Ht(nr,Pr,Cr){if(Pr){for(var Kr=nr,nn=nr,Ir=Pr,Nr=Kr.parent.children[0],Zr=Kr.m,on=nn.m,hn=Ir.m,Xr=Nr.m,Hn;Ir=ef(Ir),Kr=qu(Kr),Ir&&Kr;)Nr=qu(Nr),nn=ef(nn),nn.a=nr,Hn=Ir.z+hn-Kr.z-Zr+Re(Ir._,Kr._),Hn>0&&(Pf(dv(Ir,nr,Cr),nr,Hn),Zr+=Hn,on+=Hn),hn+=Ir.m,Zr+=Kr.m,Xr+=Nr.m,on+=nn.m;Ir&&!ef(nn)&&(nn.t=Ir,nn.m+=hn-on),Kr&&!qu(Nr)&&(Nr.t=Kr,Nr.m+=Zr-Xr,Cr=nr)}return Cr}function er(nr){nr.x*=We[0],nr.y=nr.depth*We[1]}return rt.separation=function(nr){return arguments.length?(Re=nr,rt):Re},rt.size=function(nr){return arguments.length?(Qe=(We=nr)==null?er:null,rt):Qe?null:We},rt.nodeSize=function(nr){return arguments.length?(Qe=(We=nr)==null?null:er,rt):Qe?We:null},pu(rt,fe)};function _s(fe,Re){return fe.parent==Re.parent?1:2}function qu(fe){var Re=fe.children;return Re.length?Re[0]:fe.t}function ef(fe){var Re=fe.children,We;return(We=Re.length)?Re[We-1]:fe.t}function Pf(fe,Re,We){var Qe=We/(Re.i-fe.i);Re.c-=Qe,Re.s+=We,fe.c+=Qe,Re.z+=We,Re.m+=We}function vv(fe){for(var Re=0,We=0,Qe=fe.children,rt=Qe.length,ot;--rt>=0;)ot=Qe[rt],ot.z+=Re,ot.m+=Re,Re+=ot.s+(We+=ot.c)}function dv(fe,Re,We){return fe.a.parent===Re.parent?fe.a:We}a.layout.cluster=function(){var fe=a.layout.hierarchy().sort(null).value(null),Re=_s,We=[1,1],Qe=!1;function rt(ot,Pt){var ct=fe.call(this,ot,Pt),Ht=ct[0],er,nr=0;so(Ht,function(Ir){var Nr=Ir.children;Nr&&Nr.length?(Ir.x=gv(Nr),Ir.y=pv(Nr)):(Ir.x=er?nr+=Re(Ir,er):0,Ir.y=0,er=Ir)});var Pr=Rf(Ht),Cr=nh(Ht),Kr=Pr.x-Re(Pr,Cr)/2,nn=Cr.x+Re(Cr,Pr)/2;return so(Ht,Qe?function(Ir){Ir.x=(Ir.x-Ht.x)*We[0],Ir.y=(Ht.y-Ir.y)*We[1]}:function(Ir){Ir.x=(Ir.x-Kr)/(nn-Kr)*We[0],Ir.y=(1-(Ht.y?Ir.y/Ht.y:1))*We[1]}),ct}return rt.separation=function(ot){return arguments.length?(Re=ot,rt):Re},rt.size=function(ot){return arguments.length?(Qe=(We=ot)==null,rt):Qe?null:We},rt.nodeSize=function(ot){return arguments.length?(Qe=(We=ot)!=null,rt):Qe?We:null},pu(rt,fe)};function pv(fe){return 1+a.max(fe,function(Re){return Re.y})}function gv(fe){return fe.reduce(function(Re,We){return Re+We.x},0)/fe.length}function Rf(fe){var Re=fe.children;return Re&&Re.length?Rf(Re[0]):fe}function nh(fe){var Re=fe.children,We;return Re&&(We=Re.length)?nh(Re[We-1]):fe}a.layout.treemap=function(){var fe=a.layout.hierarchy(),Re=Math.round,We=[1,1],Qe=null,rt=mu,ot=!1,Pt,ct="squarify",Ht=.5*(1+Math.sqrt(5));function er(Ir,Nr){for(var Zr=-1,on=Ir.length,hn,Xr;++Zr<on;)Xr=(hn=Ir[Zr]).value*(Nr<0?0:Nr),hn.area=isNaN(Xr)||Xr<=0?0:Xr}function nr(Ir){var Nr=Ir.children;if(Nr&&Nr.length){var Zr=rt(Ir),on=[],hn=Nr.slice(),Xr,Hn=1/0,jn,ea=ct==="slice"?Zr.dx:ct==="dice"?Zr.dy:ct==="slice-dice"?Ir.depth&1?Zr.dy:Zr.dx:Math.min(Zr.dx,Zr.dy),sa;for(er(hn,Zr.dx*Zr.dy/Ir.value),on.area=0;(sa=hn.length)>0;)on.push(Xr=hn[sa-1]),on.area+=Xr.area,ct!=="squarify"||(jn=Cr(on,ea))<=Hn?(hn.pop(),Hn=jn):(on.area-=on.pop().area,Kr(on,ea,Zr,!1),ea=Math.min(Zr.dx,Zr.dy),on.length=on.area=0,Hn=1/0);on.length&&(Kr(on,ea,Zr,!0),on.length=on.area=0),Nr.forEach(nr)}}function Pr(Ir){var Nr=Ir.children;if(Nr&&Nr.length){var Zr=rt(Ir),on=Nr.slice(),hn,Xr=[];for(er(on,Zr.dx*Zr.dy/Ir.value),Xr.area=0;hn=on.pop();)Xr.push(hn),Xr.area+=hn.area,hn.z!=null&&(Kr(Xr,hn.z?Zr.dx:Zr.dy,Zr,!on.length),Xr.length=Xr.area=0);Nr.forEach(Pr)}}function Cr(Ir,Nr){for(var Zr=Ir.area,on,hn=0,Xr=1/0,Hn=-1,jn=Ir.length;++Hn<jn;)(on=Ir[Hn].area)&&(on<Xr&&(Xr=on),on>hn&&(hn=on));return Zr*=Zr,Nr*=Nr,Zr?Math.max(Nr*hn*Ht/Zr,Zr/(Nr*Xr*Ht)):1/0}function Kr(Ir,Nr,Zr,on){var hn=-1,Xr=Ir.length,Hn=Zr.x,jn=Zr.y,ea=Nr?Re(Ir.area/Nr):0,sa;if(Nr==Zr.dx){for((on||ea>Zr.dy)&&(ea=Zr.dy);++hn<Xr;)sa=Ir[hn],sa.x=Hn,sa.y=jn,sa.dy=ea,Hn+=sa.dx=Math.min(Zr.x+Zr.dx-Hn,ea?Re(sa.area/ea):0);sa.z=!0,sa.dx+=Zr.x+Zr.dx-Hn,Zr.y+=ea,Zr.dy-=ea}else{for((on||ea>Zr.dx)&&(ea=Zr.dx);++hn<Xr;)sa=Ir[hn],sa.x=Hn,sa.y=jn,sa.dx=ea,jn+=sa.dy=Math.min(Zr.y+Zr.dy-jn,ea?Re(sa.area/ea):0);sa.z=!1,sa.dy+=Zr.y+Zr.dy-jn,Zr.x+=ea,Zr.dx-=ea}}function nn(Ir){var Nr=Pt||fe(Ir),Zr=Nr[0];return Zr.x=Zr.y=0,Zr.value?(Zr.dx=We[0],Zr.dy=We[1]):Zr.dx=Zr.dy=0,Pt&&fe.revalue(Zr),er([Zr],Zr.dx*Zr.dy/Zr.value),(Pt?Pr:nr)(Zr),ot&&(Pt=Nr),Nr}return nn.size=function(Ir){return arguments.length?(We=Ir,nn):We},nn.padding=function(Ir){if(!arguments.length)return Qe;function Nr(hn){var Xr=Ir.call(nn,hn,hn.depth);return Xr==null?mu(hn):vo(hn,typeof Xr=="number"?[Xr,Xr,Xr,Xr]:Xr)}function Zr(hn){return vo(hn,Ir)}var on;return rt=(Qe=Ir)==null?mu:(on=typeof Ir)=="function"?Nr:(on==="number"&&(Ir=[Ir,Ir,Ir,Ir]),Zr),nn},nn.round=function(Ir){return arguments.length?(Re=Ir?Math.round:Number,nn):Re!=Number},nn.sticky=function(Ir){return arguments.length?(ot=Ir,Pt=null,nn):ot},nn.ratio=function(Ir){return arguments.length?(Ht=Ir,nn):Ht},nn.mode=function(Ir){return arguments.length?(ct=Ir+"",nn):ct},pu(nn,fe)};function mu(fe){return{x:fe.x,y:fe.y,dx:fe.dx,dy:fe.dy}}function vo(fe,Re){var We=fe.x+Re[3],Qe=fe.y+Re[0],rt=fe.dx-Re[1]-Re[3],ot=fe.dy-Re[0]-Re[2];return rt<0&&(We+=rt/2,rt=0),ot<0&&(Qe+=ot/2,ot=0),{x:We,y:Qe,dx:rt,dy:ot}}a.random={normal:function(fe,Re){var We=arguments.length;return We<2&&(Re=1),We<1&&(fe=0),function(){var Qe,rt,ot;do Qe=Math.random()*2-1,rt=Math.random()*2-1,ot=Qe*Qe+rt*rt;while(!ot||ot>1);return fe+Re*Qe*Math.sqrt(-2*Math.log(ot)/ot)}},logNormal:function(){var fe=a.random.normal.apply(a,arguments);return function(){return Math.exp(fe())}},bates:function(fe){var Re=a.random.irwinHall(fe);return function(){return Re()/fe}},irwinHall:function(fe){return function(){for(var Re=0,We=0;We<fe;We++)Re+=Math.random();return Re}}},a.scale={};function Vo(fe){var Re=fe[0],We=fe[fe.length-1];return Re<We?[Re,We]:[We,Re]}function tf(fe){return fe.rangeExtent?fe.rangeExtent():Vo(fe.range())}function Hl(fe,Re,We,Qe){var rt=We(fe[0],fe[1]),ot=Qe(Re[0],Re[1]);return function(Pt){return ot(rt(Pt))}}function rf(fe,Re){var We=0,Qe=fe.length-1,rt=fe[We],ot=fe[Qe],Pt;return ot<rt&&(Pt=We,We=Qe,Qe=Pt,Pt=rt,rt=ot,ot=Pt),fe[We]=Re.floor(rt),fe[Qe]=Re.ceil(ot),fe}function Df(fe){return fe?{floor:function(Re){return Math.floor(Re/fe)*fe},ceil:function(Re){return Math.ceil(Re/fe)*fe}}:yv}var yv={floor:B,ceil:B};function ah(fe,Re,We,Qe){var rt=[],ot=[],Pt=0,ct=Math.min(fe.length,Re.length)-1;for(fe[ct]<fe[0]&&(fe=fe.slice().reverse(),Re=Re.slice().reverse());++Pt<=ct;)rt.push(We(fe[Pt-1],fe[Pt])),ot.push(Qe(Re[Pt-1],Re[Pt]));return function(Ht){var er=a.bisect(fe,Ht,1,ct)-1;return ot[er](rt[er](Ht))}}a.scale.linear=function(){return ih([0,1],[0,1],Js,!1)};function ih(fe,Re,We,Qe){var rt,ot;function Pt(){var Ht=Math.min(fe.length,Re.length)>2?ah:Hl,er=Qe?hu:Ku;return rt=Ht(fe,Re,er,We),ot=Ht(Re,fe,er,Js),ct}function ct(Ht){return rt(Ht)}return ct.invert=function(Ht){return ot(Ht)},ct.domain=function(Ht){return arguments.length?(fe=Ht.map(Number),Pt()):fe},ct.range=function(Ht){return arguments.length?(Re=Ht,Pt()):Re},ct.rangeRound=function(Ht){return ct.range(Ht).interpolate(hc)},ct.clamp=function(Ht){return arguments.length?(Qe=Ht,Pt()):Qe},ct.interpolate=function(Ht){return arguments.length?(We=Ht,Pt()):We},ct.ticks=function(Ht){return zs(fe,Ht)},ct.tickFormat=function(Ht,er){return d3_scale_linearTickFormat(fe,Ht,er)},ct.nice=function(Ht){return xl(fe,Ht),Pt()},ct.copy=function(){return ih(fe,Re,We,Qe)},Pt()}function Tc(fe,Re){return a.rebind(fe,Re,"range","rangeRound","interpolate","clamp")}function xl(fe,Re){return rf(fe,Df(Yi(fe,Re)[2])),rf(fe,Df(Yi(fe,Re)[2])),fe}function Yi(fe,Re){Re==null&&(Re=10);var We=Vo(fe),Qe=We[1]-We[0],rt=Math.pow(10,Math.floor(Math.log(Qe/Re)/Math.LN10)),ot=Re/Qe*rt;return ot<=.15?rt*=10:ot<=.35?rt*=5:ot<=.75&&(rt*=2),We[0]=Math.ceil(We[0]/rt)*rt,We[1]=Math.floor(We[1]/rt)*rt+rt*.5,We[2]=rt,We}function zs(fe,Re){return a.range.apply(a,Yi(fe,Re))}a.scale.log=function(){return Ac(a.scale.linear().domain([0,1]),10,!0,[1,10])};function Ac(fe,Re,We,Qe){function rt(ct){return(We?Math.log(ct<0?0:ct):-Math.log(ct>0?0:-ct))/Math.log(Re)}function ot(ct){return We?Math.pow(Re,ct):-Math.pow(Re,-ct)}function Pt(ct){return fe(rt(ct))}return Pt.invert=function(ct){return ot(fe.invert(ct))},Pt.domain=function(ct){return arguments.length?(We=ct[0]>=0,fe.domain((Qe=ct.map(Number)).map(rt)),Pt):Qe},Pt.base=function(ct){return arguments.length?(Re=+ct,fe.domain(Qe.map(rt)),Pt):Re},Pt.nice=function(){var ct=rf(Qe.map(rt),We?Math:oh);return fe.domain(ct),Qe=ct.map(ot),Pt},Pt.ticks=function(){var ct=Vo(Qe),Ht=[],er=ct[0],nr=ct[1],Pr=Math.floor(rt(er)),Cr=Math.ceil(rt(nr)),Kr=Re%1?2:Re;if(isFinite(Cr-Pr)){if(We){for(;Pr<Cr;Pr++)for(var nn=1;nn<Kr;nn++)Ht.push(ot(Pr)*nn);Ht.push(ot(Pr))}else for(Ht.push(ot(Pr));Pr++<Cr;)for(var nn=Kr-1;nn>0;nn--)Ht.push(ot(Pr)*nn);for(Pr=0;Ht[Pr]<er;Pr++);for(Cr=Ht.length;Ht[Cr-1]>nr;Cr--);Ht=Ht.slice(Pr,Cr)}return Ht},Pt.copy=function(){return Ac(fe.copy(),Re,We,Qe)},Tc(Pt,fe)}var oh={floor:function(fe){return-Math.ceil(-fe)},ceil:function(fe){return-Math.floor(-fe)}};a.scale.pow=function(){return Vl(a.scale.linear(),1,[0,1])};function Vl(fe,Re,We){var Qe=If(Re),rt=If(1/Re);function ot(Pt){return fe(Qe(Pt))}return ot.invert=function(Pt){return rt(fe.invert(Pt))},ot.domain=function(Pt){return arguments.length?(fe.domain((We=Pt.map(Number)).map(Qe)),ot):We},ot.ticks=function(Pt){return zs(We,Pt)},ot.tickFormat=function(Pt,ct){return d3_scale_linearTickFormat(We,Pt,ct)},ot.nice=function(Pt){return ot.domain(xl(We,Pt))},ot.exponent=function(Pt){return arguments.length?(Qe=If(Re=Pt),rt=If(1/Re),fe.domain(We.map(Qe)),ot):Re},ot.copy=function(){return Vl(fe.copy(),Re,We)},Tc(ot,fe)}function If(fe){return function(Re){return Re<0?-Math.pow(-Re,fe):Math.pow(Re,fe)}}a.scale.sqrt=function(){return a.scale.pow().exponent(.5)},a.scale.ordinal=function(){return xs([],{t:"range",a:[[]]})};function xs(fe,Re){var We,Qe,rt;function ot(ct){return Qe[((We.get(ct)||(Re.t==="range"?We.set(ct,fe.push(ct)):NaN))-1)%Qe.length]}function Pt(ct,Ht){return a.range(fe.length).map(function(er){return ct+Ht*er})}return ot.domain=function(ct){if(!arguments.length)return fe;fe=[],We=new P;for(var Ht=-1,er=ct.length,nr;++Ht<er;)We.has(nr=ct[Ht])||We.set(nr,fe.push(nr));return ot[Re.t].apply(ot,Re.a)},ot.range=function(ct){return arguments.length?(Qe=ct,rt=0,Re={t:"range",a:arguments},ot):Qe},ot.rangePoints=function(ct,Ht){arguments.length<2&&(Ht=0);var er=ct[0],nr=ct[1],Pr=fe.length<2?(er=(er+nr)/2,0):(nr-er)/(fe.length-1+Ht);return Qe=Pt(er+Pr*Ht/2,Pr),rt=0,Re={t:"rangePoints",a:arguments},ot},ot.rangeRoundPoints=function(ct,Ht){arguments.length<2&&(Ht=0);var er=ct[0],nr=ct[1],Pr=fe.length<2?(er=nr=Math.round((er+nr)/2),0):(nr-er)/(fe.length-1+Ht)|0;return Qe=Pt(er+Math.round(Pr*Ht/2+(nr-er-(fe.length-1+Ht)*Pr)/2),Pr),rt=0,Re={t:"rangeRoundPoints",a:arguments},ot},ot.rangeBands=function(ct,Ht,er){arguments.length<2&&(Ht=0),arguments.length<3&&(er=Ht);var nr=ct[1]<ct[0],Pr=ct[nr-0],Cr=ct[1-nr],Kr=(Cr-Pr)/(fe.length-Ht+2*er);return Qe=Pt(Pr+Kr*er,Kr),nr&&Qe.reverse(),rt=Kr*(1-Ht),Re={t:"rangeBands",a:arguments},ot},ot.rangeRoundBands=function(ct,Ht,er){arguments.length<2&&(Ht=0),arguments.length<3&&(er=Ht);var nr=ct[1]<ct[0],Pr=ct[nr-0],Cr=ct[1-nr],Kr=Math.floor((Cr-Pr)/(fe.length-Ht+2*er));return Qe=Pt(Pr+Math.round((Cr-Pr-(fe.length-Ht)*Kr)/2),Kr),nr&&Qe.reverse(),rt=Math.round(Kr*(1-Ht)),Re={t:"rangeRoundBands",a:arguments},ot},ot.rangeBand=function(){return rt},ot.rangeExtent=function(){return Vo(Re.a[0])},ot.copy=function(){return xs(fe,Re)},ot.domain(fe)}a.scale.category10=function(){return a.scale.ordinal().range(kf)},a.scale.category20=function(){return a.scale.ordinal().range(nl)},a.scale.category20b=function(){return a.scale.ordinal().range(al)},a.scale.category20c=function(){return a.scale.ordinal().range(Sc)};var kf=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Ot),nl=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Ot),al=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Ot),Sc=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Ot);a.scale.quantile=function(){return xu([],[])};function xu(fe,Re){var We;function Qe(){var ot=0,Pt=Re.length;for(We=[];++ot<Pt;)We[ot-1]=a.quantile(fe,ot/Pt);return rt}function rt(ot){if(!isNaN(ot=+ot))return Re[a.bisect(We,ot)]}return rt.domain=function(ot){return arguments.length?(fe=ot.map(m).filter(c).sort(u),Qe()):fe},rt.range=function(ot){return arguments.length?(Re=ot,Qe()):Re},rt.quantiles=function(){return We},rt.invertExtent=function(ot){return ot=Re.indexOf(ot),ot<0?[NaN,NaN]:[ot>0?We[ot-1]:fe[0],ot<We.length?We[ot]:fe[fe.length-1]]},rt.copy=function(){return xu(fe,Re)},Qe()}a.scale.quantize=function(){return hi(0,1,[0,1])};function hi(fe,Re,We){var Qe,rt;function ot(ct){return We[Math.max(0,Math.min(rt,Math.floor(Qe*(ct-fe))))]}function Pt(){return Qe=We.length/(Re-fe),rt=We.length-1,ot}return ot.domain=function(ct){return arguments.length?(fe=+ct[0],Re=+ct[ct.length-1],Pt()):[fe,Re]},ot.range=function(ct){return arguments.length?(We=ct,Pt()):We},ot.invertExtent=function(ct){return ct=We.indexOf(ct),ct=ct<0?NaN:ct/Qe+fe,[ct,ct+1/Qe]},ot.copy=function(){return hi(fe,Re,We)},Pt()}a.scale.threshold=function(){return Wl([.5],[0,1])};function Wl(fe,Re){function We(Qe){if(Qe<=Qe)return Re[a.bisect(fe,Qe)]}return We.domain=function(Qe){return arguments.length?(fe=Qe,We):fe},We.range=function(Qe){return arguments.length?(Re=Qe,We):Re},We.invertExtent=function(Qe){return Qe=Re.indexOf(Qe),[fe[Qe-1],fe[Qe]]},We.copy=function(){return Wl(fe,Re)},We}a.scale.identity=function(){return _f([0,1])};function _f(fe){function Re(We){return+We}return Re.invert=Re,Re.domain=Re.range=function(We){return arguments.length?(fe=We.map(Re),Re):fe},Re.ticks=function(We){return zs(fe,We)},Re.tickFormat=function(We,Qe){return d3_scale_linearTickFormat(fe,We,Qe)},Re.copy=function(){return _f(fe)},Re}a.svg={};function zf(){return 0}a.svg.arc=function(){var fe=mv,Re=Mc,We=zf,Qe=bl,rt=bu,ot=Ec,Pt=sh;function ct(){var er=Math.max(0,+fe.apply(this,arguments)),nr=Math.max(0,+Re.apply(this,arguments)),Pr=rt.apply(this,arguments)-qe,Cr=ot.apply(this,arguments)-qe,Kr=Math.abs(Cr-Pr),nn=Pr>Cr?0:1;if(nr<er&&(Ir=nr,nr=er,er=Ir),Kr>=$e)return Ht(nr,nn)+(er?Ht(er,1-nn):"")+"Z";var Ir,Nr,Zr,on,hn=0,Xr=0,Hn,jn,ea,sa,Ta,wa,Ha,La,Ba=[];if((on=(+Pt.apply(this,arguments)||0)/2)&&(Zr=Qe===bl?Math.sqrt(er*er+nr*nr):+Qe.apply(this,arguments),nn||(Xr*=-1),nr&&(Xr=Qt(Zr/nr*Math.sin(on))),er&&(hn=Qt(Zr/er*Math.sin(on)))),nr){Hn=nr*Math.cos(Pr+Xr),jn=nr*Math.sin(Pr+Xr),ea=nr*Math.cos(Cr-Xr),sa=nr*Math.sin(Cr-Xr);var ei=Math.abs(Cr-Pr-2*Xr)<=Pe?0:1;if(Xr&&il(Hn,jn,ea,sa)===nn^ei){var ii=(Pr+Cr)/2;Hn=nr*Math.cos(ii),jn=nr*Math.sin(ii),ea=sa=null}}else Hn=jn=0;if(er){Ta=er*Math.cos(Cr-hn),wa=er*Math.sin(Cr-hn),Ha=er*Math.cos(Pr+hn),La=er*Math.sin(Pr+hn);var vi=Math.abs(Pr-Cr+2*hn)<=Pe?0:1;if(hn&&il(Ta,wa,Ha,La)===1-nn^vi){var Wn=(Pr+Cr)/2;Ta=er*Math.cos(Wn),wa=er*Math.sin(Wn),Ha=La=null}}else Ta=wa=0;if(Kr>xe&&(Ir=Math.min(Math.abs(nr-er)/2,+We.apply(this,arguments)))>.001){Nr=er<nr^nn?0:1;var Na=Ir,Oa=Ir;if(Kr<Pe){var Ka=Ha==null?[Ta,wa]:ea==null?[Hn,jn]:yn([Hn,jn],[Ha,La],[ea,sa],[Ta,wa]),Li=Hn-Ka[0],Vi=jn-Ka[1],Xi=ea-Ka[0],Ai=sa-Ka[1],pi=1/Math.sin(Math.acos((Li*Xi+Vi*Ai)/(Math.sqrt(Li*Li+Vi*Vi)*Math.sqrt(Xi*Xi+Ai*Ai)))/2),ma=Math.sqrt(Ka[0]*Ka[0]+Ka[1]*Ka[1]);Oa=Math.min(Ir,(er-ma)/(pi-1)),Na=Math.min(Ir,(nr-ma)/(pi+1))}if(ea!=null){var Ea=wl(Ha==null?[Ta,wa]:[Ha,La],[Hn,jn],nr,Na,nn),Si=wl([ea,sa],[Ta,wa],nr,Na,nn);Ir===Na?Ba.push("M",Ea[0],"A",Na,",",Na," 0 0,",Nr," ",Ea[1],"A",nr,",",nr," 0 ",1-nn^il(Ea[1][0],Ea[1][1],Si[1][0],Si[1][1]),",",nn," ",Si[1],"A",Na,",",Na," 0 0,",Nr," ",Si[0]):Ba.push("M",Ea[0],"A",Na,",",Na," 0 1,",Nr," ",Si[0])}else Ba.push("M",Hn,",",jn);if(Ha!=null){var ji=wl([Hn,jn],[Ha,La],er,-Oa,nn),Qo=wl([Ta,wa],ea==null?[Hn,jn]:[ea,sa],er,-Oa,nn);Ir===Oa?Ba.push("L",Qo[0],"A",Oa,",",Oa," 0 0,",Nr," ",Qo[1],"A",er,",",er," 0 ",nn^il(Qo[1][0],Qo[1][1],ji[1][0],ji[1][1]),",",1-nn," ",ji[1],"A",Oa,",",Oa," 0 0,",Nr," ",ji[0]):Ba.push("L",Qo[0],"A",Oa,",",Oa," 0 0,",Nr," ",ji[0])}else Ba.push("L",Ta,",",wa)}else Ba.push("M",Hn,",",jn),ea!=null&&Ba.push("A",nr,",",nr," 0 ",ei,",",nn," ",ea,",",sa),Ba.push("L",Ta,",",wa),Ha!=null&&Ba.push("A",er,",",er," 0 ",vi,",",1-nn," ",Ha,",",La);return Ba.push("Z"),Ba.join("")}function Ht(er,nr){return"M0,"+er+"A"+er+","+er+" 0 1,"+nr+" 0,"+-er+"A"+er+","+er+" 0 1,"+nr+" 0,"+er}return ct.innerRadius=function(er){return arguments.length?(fe=en(er),ct):fe},ct.outerRadius=function(er){return arguments.length?(Re=en(er),ct):Re},ct.cornerRadius=function(er){return arguments.length?(We=en(er),ct):We},ct.padRadius=function(er){return arguments.length?(Qe=er==bl?bl:en(er),ct):Qe},ct.startAngle=function(er){return arguments.length?(rt=en(er),ct):rt},ct.endAngle=function(er){return arguments.length?(ot=en(er),ct):ot},ct.padAngle=function(er){return arguments.length?(Pt=en(er),ct):Pt},ct.centroid=function(){var er=(+fe.apply(this,arguments)+ +Re.apply(this,arguments))/2,nr=(+rt.apply(this,arguments)+ +ot.apply(this,arguments))/2-qe;return[Math.cos(nr)*er,Math.sin(nr)*er]},ct};var bl="auto";function mv(fe){return fe.innerRadius}function Mc(fe){return fe.outerRadius}function bu(fe){return fe.startAngle}function Ec(fe){return fe.endAngle}function sh(fe){return fe&&fe.padAngle}function il(fe,Re,We,Qe){return(fe-We)*Re-(Re-Qe)*fe>0?0:1}function wl(fe,Re,We,Qe,rt){var ot=fe[0]-Re[0],Pt=fe[1]-Re[1],ct=(rt?Qe:-Qe)/Math.sqrt(ot*ot+Pt*Pt),Ht=ct*Pt,er=-ct*ot,nr=fe[0]+Ht,Pr=fe[1]+er,Cr=Re[0]+Ht,Kr=Re[1]+er,nn=(nr+Cr)/2,Ir=(Pr+Kr)/2,Nr=Cr-nr,Zr=Kr-Pr,on=Nr*Nr+Zr*Zr,hn=We-Qe,Xr=nr*Kr-Cr*Pr,Hn=(Zr<0?-1:1)*Math.sqrt(Math.max(0,hn*hn*on-Xr*Xr)),jn=(Xr*Zr-Nr*Hn)/on,ea=(-Xr*Nr-Zr*Hn)/on,sa=(Xr*Zr+Nr*Hn)/on,Ta=(-Xr*Nr+Zr*Hn)/on,wa=jn-nn,Ha=ea-Ir,La=sa-nn,Ba=Ta-Ir;return wa*wa+Ha*Ha>La*La+Ba*Ba&&(jn=sa,ea=Ta),[[jn-Ht,ea-er],[jn*We/hn,ea*We/hn]]}function Gl(){return!0}function Yl(fe){var Re=qn,We=Yn,Qe=Gl,rt=Jo,ot=rt.key,Pt=.7;function ct(Ht){var er=[],nr=[],Pr=-1,Cr=Ht.length,Kr,nn=en(Re),Ir=en(We);function Nr(){er.push("M",rt(fe(nr),Pt))}for(;++Pr<Cr;)Qe.call(this,Kr=Ht[Pr],Pr)?nr.push([+nn.call(this,Kr,Pr),+Ir.call(this,Kr,Pr)]):nr.length&&(Nr(),nr=[]);return nr.length&&Nr(),er.length?er.join(""):null}return ct.x=function(Ht){return arguments.length?(Re=Ht,ct):Re},ct.y=function(Ht){return arguments.length?(We=Ht,ct):We},ct.defined=function(Ht){return arguments.length?(Qe=Ht,ct):Qe},ct.interpolate=function(Ht){return arguments.length?(typeof Ht=="function"?ot=rt=Ht:ot=(rt=Wo.get(Ht)||Jo).key,ct):ot},ct.tension=function(Ht){return arguments.length?(Pt=Ht,ct):Pt},ct}a.svg.line=function(){return Yl(B)};var Wo=a.map({linear:Jo,"linear-closed":jl,step:lh,"step-before":wu,"step-after":Of,basis:ol,"basis-open":xv,"basis-closed":Lc,bundle:Ff,cardinal:Cc,"cardinal-open":uh,"cardinal-closed":bs,monotone:Pc});Wo.forEach(function(fe,Re){Re.key=fe,Re.closed=/-closed$/.test(fe)});function Jo(fe){return fe.length>1?fe.join("L"):fe+"Z"}function jl(fe){return fe.join("L")+"Z"}function lh(fe){for(var Re=0,We=fe.length,Qe=fe[0],rt=[Qe[0],",",Qe[1]];++Re<We;)rt.push("H",(Qe[0]+(Qe=fe[Re])[0])/2,"V",Qe[1]);return We>1&&rt.push("H",Qe[0]),rt.join("")}function wu(fe){for(var Re=0,We=fe.length,Qe=fe[0],rt=[Qe[0],",",Qe[1]];++Re<We;)rt.push("V",(Qe=fe[Re])[1],"H",Qe[0]);return rt.join("")}function Of(fe){for(var Re=0,We=fe.length,Qe=fe[0],rt=[Qe[0],",",Qe[1]];++Re<We;)rt.push("H",(Qe=fe[Re])[0],"V",Qe[1]);return rt.join("")}function uh(fe,Re){return fe.length<4?Jo(fe):fe[1]+Tl(fe.slice(1,-1),nf(fe,Re))}function bs(fe,Re){return fe.length<3?jl(fe):fe[0]+Tl((fe.push(fe[0]),fe),nf([fe[fe.length-2]].concat(fe,[fe[1]]),Re))}function Cc(fe,Re){return fe.length<3?Jo(fe):fe[0]+Tl(fe,nf(fe,Re))}function Tl(fe,Re){if(Re.length<1||fe.length!=Re.length&&fe.length!=Re.length+2)return Jo(fe);var We=fe.length!=Re.length,Qe="",rt=fe[0],ot=fe[1],Pt=Re[0],ct=Pt,Ht=1;if(We&&(Qe+="Q"+(ot[0]-Pt[0]*2/3)+","+(ot[1]-Pt[1]*2/3)+","+ot[0]+","+ot[1],rt=fe[1],Ht=2),Re.length>1){ct=Re[1],ot=fe[Ht],Ht++,Qe+="C"+(rt[0]+Pt[0])+","+(rt[1]+Pt[1])+","+(ot[0]-ct[0])+","+(ot[1]-ct[1])+","+ot[0]+","+ot[1];for(var er=2;er<Re.length;er++,Ht++)ot=fe[Ht],ct=Re[er],Qe+="S"+(ot[0]-ct[0])+","+(ot[1]-ct[1])+","+ot[0]+","+ot[1]}if(We){var nr=fe[Ht];Qe+="Q"+(ot[0]+ct[0]*2/3)+","+(ot[1]+ct[1]*2/3)+","+nr[0]+","+nr[1]}return Qe}function nf(fe,Re){for(var We=[],Qe=(1-Re)/2,rt,ot=fe[0],Pt=fe[1],ct=1,Ht=fe.length;++ct<Ht;)rt=ot,ot=Pt,Pt=fe[ct],We.push([Qe*(Pt[0]-rt[0]),Qe*(Pt[1]-rt[1])]);return We}function ol(fe){if(fe.length<3)return Jo(fe);var Re=1,We=fe.length,Qe=fe[0],rt=Qe[0],ot=Qe[1],Pt=[rt,rt,rt,(Qe=fe[1])[0]],ct=[ot,ot,ot,Qe[1]],Ht=[rt,",",ot,"L",Mo(Os,Pt),",",Mo(Os,ct)];for(fe.push(fe[We-1]);++Re<=We;)Qe=fe[Re],Pt.shift(),Pt.push(Qe[0]),ct.shift(),ct.push(Qe[1]),of(Ht,Pt,ct);return fe.pop(),Ht.push("L",Qe),Ht.join("")}function xv(fe){if(fe.length<4)return Jo(fe);for(var Re=[],We=-1,Qe=fe.length,rt,ot=[0],Pt=[0];++We<3;)rt=fe[We],ot.push(rt[0]),Pt.push(rt[1]);for(Re.push(Mo(Os,ot)+","+Mo(Os,Pt)),--We;++We<Qe;)rt=fe[We],ot.shift(),ot.push(rt[0]),Pt.shift(),Pt.push(rt[1]),of(Re,ot,Pt);return Re.join("")}function Lc(fe){for(var Re,We=-1,Qe=fe.length,rt=Qe+4,ot,Pt=[],ct=[];++We<4;)ot=fe[We%Qe],Pt.push(ot[0]),ct.push(ot[1]);for(Re=[Mo(Os,Pt),",",Mo(Os,ct)],--We;++We<rt;)ot=fe[We%Qe],Pt.shift(),Pt.push(ot[0]),ct.shift(),ct.push(ot[1]),of(Re,Pt,ct);return Re.join("")}function Ff(fe,Re){var We=fe.length-1;if(We)for(var Qe=fe[0][0],rt=fe[0][1],ot=fe[We][0]-Qe,Pt=fe[We][1]-rt,ct=-1,Ht,er;++ct<=We;)Ht=fe[ct],er=ct/We,Ht[0]=Re*Ht[0]+(1-Re)*(Qe+er*ot),Ht[1]=Re*Ht[1]+(1-Re)*(rt+er*Pt);return ol(fe)}function Mo(fe,Re){return fe[0]*Re[0]+fe[1]*Re[1]+fe[2]*Re[2]+fe[3]*Re[3]}var fh=[0,2/3,1/3,0],af=[0,1/3,2/3,0],Os=[0,1/6,2/3,1/6];function of(fe,Re,We){fe.push("C",Mo(fh,Re),",",Mo(fh,We),",",Mo(af,Re),",",Mo(af,We),",",Mo(Os,Re),",",Mo(Os,We))}function Al(fe,Re){return(Re[1]-fe[1])/(Re[0]-fe[0])}function Bf(fe){for(var Re=0,We=fe.length-1,Qe=[],rt=fe[0],ot=fe[1],Pt=Qe[0]=Al(rt,ot);++Re<We;)Qe[Re]=(Pt+(Pt=Al(rt=ot,ot=fe[Re+1])))/2;return Qe[Re]=Pt,Qe}function ch(fe){for(var Re=[],We,Qe,rt,ot,Pt=Bf(fe),ct=-1,Ht=fe.length-1;++ct<Ht;)We=Al(fe[ct],fe[ct+1]),p(We)<xe?Pt[ct]=Pt[ct+1]=0:(Qe=Pt[ct]/We,rt=Pt[ct+1]/We,ot=Qe*Qe+rt*rt,ot>9&&(ot=We*3/Math.sqrt(ot),Pt[ct]=ot*Qe,Pt[ct+1]=ot*rt));for(ct=-1;++ct<=Ht;)ot=(fe[Math.min(Ht,ct+1)][0]-fe[Math.max(0,ct-1)][0])/(6*(1+Pt[ct]*Pt[ct])),Re.push([ot||0,Pt[ct]*ot||0]);return Re}function Pc(fe){return fe.length<3?Jo(fe):fe[0]+Tl(fe,ch(fe))}a.svg.line.radial=function(){var fe=Yl(Rc);return fe.radius=fe.x,delete fe.x,fe.angle=fe.y,delete fe.y,fe};function Rc(fe){for(var Re,We=-1,Qe=fe.length,rt,ot;++We<Qe;)Re=fe[We],rt=Re[0],ot=Re[1]-qe,Re[0]=rt*Math.cos(ot),Re[1]=rt*Math.sin(ot);return fe}function Zl(fe){var Re=qn,We=qn,Qe=0,rt=Yn,ot=Gl,Pt=Jo,ct=Pt.key,Ht=Pt,er="L",nr=.7;function Pr(Cr){var Kr=[],nn=[],Ir=[],Nr=-1,Zr=Cr.length,on,hn=en(Re),Xr=en(Qe),Hn=Re===We?function(){return ea}:en(We),jn=Qe===rt?function(){return sa}:en(rt),ea,sa;function Ta(){Kr.push("M",Pt(fe(Ir),nr),er,Ht(fe(nn.reverse()),nr),"Z")}for(;++Nr<Zr;)ot.call(this,on=Cr[Nr],Nr)?(nn.push([ea=+hn.call(this,on,Nr),sa=+Xr.call(this,on,Nr)]),Ir.push([+Hn.call(this,on,Nr),+jn.call(this,on,Nr)])):nn.length&&(Ta(),nn=[],Ir=[]);return nn.length&&Ta(),Kr.length?Kr.join(""):null}return Pr.x=function(Cr){return arguments.length?(Re=We=Cr,Pr):We},Pr.x0=function(Cr){return arguments.length?(Re=Cr,Pr):Re},Pr.x1=function(Cr){return arguments.length?(We=Cr,Pr):We},Pr.y=function(Cr){return arguments.length?(Qe=rt=Cr,Pr):rt},Pr.y0=function(Cr){return arguments.length?(Qe=Cr,Pr):Qe},Pr.y1=function(Cr){return arguments.length?(rt=Cr,Pr):rt},Pr.defined=function(Cr){return arguments.length?(ot=Cr,Pr):ot},Pr.interpolate=function(Cr){return arguments.length?(typeof Cr=="function"?ct=Pt=Cr:ct=(Pt=Wo.get(Cr)||Jo).key,Ht=Pt.reverse||Pt,er=Pt.closed?"M":"L",Pr):ct},Pr.tension=function(Cr){return arguments.length?(nr=Cr,Pr):nr},Pr}wu.reverse=Of,Of.reverse=wu,a.svg.area=function(){return Zl(B)},a.svg.area.radial=function(){var fe=Zl(Rc);return fe.radius=fe.x,delete fe.x,fe.innerRadius=fe.x0,delete fe.x0,fe.outerRadius=fe.x1,delete fe.x1,fe.angle=fe.y,delete fe.y,fe.startAngle=fe.y0,delete fe.y0,fe.endAngle=fe.y1,delete fe.y1,fe};function Nf(fe){return fe.source}function sf(fe){return fe.target}a.svg.chord=function(){var fe=Nf,Re=sf,We=hh,Qe=bu,rt=Ec;function ot(nr,Pr){var Cr=Pt(this,fe,nr,Pr),Kr=Pt(this,Re,nr,Pr);return"M"+Cr.p0+Ht(Cr.r,Cr.p1,Cr.a1-Cr.a0)+(ct(Cr,Kr)?er(Cr.r,Cr.p1,Cr.r,Cr.p0):er(Cr.r,Cr.p1,Kr.r,Kr.p0)+Ht(Kr.r,Kr.p1,Kr.a1-Kr.a0)+er(Kr.r,Kr.p1,Cr.r,Cr.p0))+"Z"}function Pt(nr,Pr,Cr,Kr){var nn=Pr.call(nr,Cr,Kr),Ir=We.call(nr,nn,Kr),Nr=Qe.call(nr,nn,Kr)-qe,Zr=rt.call(nr,nn,Kr)-qe;return{r:Ir,a0:Nr,a1:Zr,p0:[Ir*Math.cos(Nr),Ir*Math.sin(Nr)],p1:[Ir*Math.cos(Zr),Ir*Math.sin(Zr)]}}function ct(nr,Pr){return nr.a0==Pr.a0&&nr.a1==Pr.a1}function Ht(nr,Pr,Cr){return"A"+nr+","+nr+" 0 "+ +(Cr>Pe)+",1 "+Pr}function er(nr,Pr,Cr,Kr){return"Q 0,0 "+Kr}return ot.radius=function(nr){return arguments.length?(We=en(nr),ot):We},ot.source=function(nr){return arguments.length?(fe=en(nr),ot):fe},ot.target=function(nr){return arguments.length?(Re=en(nr),ot):Re},ot.startAngle=function(nr){return arguments.length?(Qe=en(nr),ot):Qe},ot.endAngle=function(nr){return arguments.length?(rt=en(nr),ot):rt},ot};function hh(fe){return fe.radius}a.svg.diagonal=function(){var fe=Nf,Re=sf,We=lf;function Qe(rt,ot){var Pt=fe.call(this,rt,ot),ct=Re.call(this,rt,ot),Ht=(Pt.y+ct.y)/2,er=[Pt,{x:Pt.x,y:Ht},{x:ct.x,y:Ht},ct];return er=er.map(We),"M"+er[0]+"C"+er[1]+" "+er[2]+" "+er[3]}return Qe.source=function(rt){return arguments.length?(fe=en(rt),Qe):fe},Qe.target=function(rt){return arguments.length?(Re=en(rt),Qe):Re},Qe.projection=function(rt){return arguments.length?(We=rt,Qe):We},Qe};function lf(fe){return[fe.x,fe.y]}a.svg.diagonal.radial=function(){var fe=a.svg.diagonal(),Re=lf,We=fe.projection;return fe.projection=function(Qe){return arguments.length?We(vh(Re=Qe)):Re},fe};function vh(fe){return function(){var Re=fe.apply(this,arguments),We=Re[0],Qe=Re[1]-qe;return[We*Math.cos(Qe),We*Math.sin(Qe)]}}a.svg.symbol=function(){var fe=nt,Re=Xe;function We(Qe,rt){return(mt.get(fe.call(this,Qe,rt))||ht)(Re.call(this,Qe,rt))}return We.type=function(Qe){return arguments.length?(fe=en(Qe),We):fe},We.size=function(Qe){return arguments.length?(Re=en(Qe),We):Re},We};function Xe(){return 64}function nt(){return"circle"}function ht(fe){var Re=Math.sqrt(fe/Pe);return"M0,"+Re+"A"+Re+","+Re+" 0 1,1 0,"+-Re+"A"+Re+","+Re+" 0 1,1 0,"+Re+"Z"}var mt=a.map({circle:ht,cross:function(fe){var Re=Math.sqrt(fe/5)/2;return"M"+-3*Re+","+-Re+"H"+-Re+"V"+-3*Re+"H"+Re+"V"+-Re+"H"+3*Re+"V"+Re+"H"+Re+"V"+3*Re+"H"+-Re+"V"+Re+"H"+-3*Re+"Z"},diamond:function(fe){var Re=Math.sqrt(fe/(2*Lt)),We=Re*Lt;return"M0,"+-Re+"L"+We+",0 0,"+Re+" "+-We+",0Z"},square:function(fe){var Re=Math.sqrt(fe)/2;return"M"+-Re+","+-Re+"L"+Re+","+-Re+" "+Re+","+Re+" "+-Re+","+Re+"Z"},"triangle-down":function(fe){var Re=Math.sqrt(fe/_t),We=Re*_t/2;return"M0,"+We+"L"+Re+","+-We+" "+-Re+","+-We+"Z"},"triangle-up":function(fe){var Re=Math.sqrt(fe/_t),We=Re*_t/2;return"M0,"+-We+"L"+Re+","+We+" "+-Re+","+We+"Z"}});a.svg.symbolTypes=mt.keys();var _t=Math.sqrt(3),Lt=Math.tan(30*dt);ee.transition=function(fe){for(var Re=Rr||++Sr,We=An(fe),Qe=[],rt,ot,Pt=jr||{time:Date.now(),ease:tv,delay:0,duration:250},ct=-1,Ht=this.length;++ct<Ht;){Qe.push(rt=[]);for(var er=this[ct],nr=-1,Pr=er.length;++nr<Pr;)(ot=er[nr])&&kn(ot,nr,We,Re,Pt),rt.push(ot)}return yr(Qe,We,Re)},ee.interrupt=function(fe){return this.each(fe==null?Ft:cr(An(fe)))};var Ft=cr(An());function cr(fe){return function(){var Re,We,Qe;(Re=this[fe])&&(Qe=Re[We=Re.active])&&(Qe.timer.c=null,Qe.timer.t=NaN,--Re.count?delete Re[We]:delete this[fe],Re.active+=.5,Qe.event&&Qe.event.interrupt.call(this,this.__data__,Qe.index))}}function yr(fe,Re,We){return K(fe,ar),fe.namespace=Re,fe.id=We,fe}var ar=[],Sr=0,Rr,jr;ar.call=ee.call,ar.empty=ee.empty,ar.node=ee.node,ar.size=ee.size,a.transition=function(fe,Re){return fe&&fe.transition?Rr?fe.transition(Re):fe:a.selection().transition(fe)},a.transition.prototype=ar,ar.select=function(fe){var Re=this.id,We=this.namespace,Qe=[],rt,ot,Pt;fe=ue(fe);for(var ct=-1,Ht=this.length;++ct<Ht;){Qe.push(rt=[]);for(var er=this[ct],nr=-1,Pr=er.length;++nr<Pr;)(Pt=er[nr])&&(ot=fe.call(Pt,Pt.__data__,nr,ct))?("__data__"in Pt&&(ot.__data__=Pt.__data__),kn(ot,nr,We,Re,Pt[We][Re]),rt.push(ot)):rt.push(null)}return yr(Qe,We,Re)},ar.selectAll=function(fe){var Re=this.id,We=this.namespace,Qe=[],rt,ot,Pt,ct,Ht;fe=se(fe);for(var er=-1,nr=this.length;++er<nr;)for(var Pr=this[er],Cr=-1,Kr=Pr.length;++Cr<Kr;)if(Pt=Pr[Cr]){Ht=Pt[We][Re],ot=fe.call(Pt,Pt.__data__,Cr,er),Qe.push(rt=[]);for(var nn=-1,Ir=ot.length;++nn<Ir;)(ct=ot[nn])&&kn(ct,nn,We,Re,Ht),rt.push(ct)}return yr(Qe,We,Re)},ar.filter=function(fe){var Re=[],We,Qe,rt;typeof fe!="function"&&(fe=it(fe));for(var ot=0,Pt=this.length;ot<Pt;ot++){Re.push(We=[]);for(var Qe=this[ot],ct=0,Ht=Qe.length;ct<Ht;ct++)(rt=Qe[ct])&&fe.call(rt,rt.__data__,ct,ot)&&We.push(rt)}return yr(Re,this.namespace,this.id)},ar.tween=function(fe,Re){var We=this.id,Qe=this.namespace;return arguments.length<2?this.node()[Qe][We].tween.get(fe):tt(this,Re==null?function(rt){rt[Qe][We].tween.remove(fe)}:function(rt){rt[Qe][We].tween.set(fe,Re)})};function $r(fe,Re,We,Qe){var rt=fe.id,ot=fe.namespace;return tt(fe,typeof We=="function"?function(Pt,ct,Ht){Pt[ot][rt].tween.set(Re,Qe(We.call(Pt,Pt.__data__,ct,Ht)))}:(We=Qe(We),function(Pt){Pt[ot][rt].tween.set(Re,We)}))}ar.attr=function(fe,Re){if(arguments.length<2){for(Re in fe)this.attr(Re,fe[Re]);return this}var We=fe=="transform"?Nl:Js,Qe=a.ns.qualify(fe);function rt(){this.removeAttribute(Qe)}function ot(){this.removeAttributeNS(Qe.space,Qe.local)}function Pt(Ht){return Ht==null?rt:(Ht+="",function(){var er=this.getAttribute(Qe),nr;return er!==Ht&&(nr=We(er,Ht),function(Pr){this.setAttribute(Qe,nr(Pr))})})}function ct(Ht){return Ht==null?ot:(Ht+="",function(){var er=this.getAttributeNS(Qe.space,Qe.local),nr;return er!==Ht&&(nr=We(er,Ht),function(Pr){this.setAttributeNS(Qe.space,Qe.local,nr(Pr))})})}return $r(this,"attr."+fe,Re,Qe.local?ct:Pt)},ar.attrTween=function(fe,Re){var We=a.ns.qualify(fe);function Qe(ot,Pt){var ct=Re.call(this,ot,Pt,this.getAttribute(We));return ct&&function(Ht){this.setAttribute(We,ct(Ht))}}function rt(ot,Pt){var ct=Re.call(this,ot,Pt,this.getAttributeNS(We.space,We.local));return ct&&function(Ht){this.setAttributeNS(We.space,We.local,ct(Ht))}}return this.tween("attr."+fe,We.local?rt:Qe)},ar.style=function(fe,Re,We){var Qe=arguments.length;if(Qe<3){if(typeof fe!="string"){Qe<2&&(Re="");for(We in fe)this.style(We,fe[We],Re);return this}We=""}function rt(){this.style.removeProperty(fe)}function ot(Pt){return Pt==null?rt:(Pt+="",function(){var ct=t(this).getComputedStyle(this,null).getPropertyValue(fe),Ht;return ct!==Pt&&(Ht=Js(ct,Pt),function(er){this.style.setProperty(fe,Ht(er),We)})})}return $r(this,"style."+fe,Re,ot)},ar.styleTween=function(fe,Re,We){arguments.length<3&&(We="");function Qe(rt,ot){var Pt=Re.call(this,rt,ot,t(this).getComputedStyle(this,null).getPropertyValue(fe));return Pt&&function(ct){this.style.setProperty(fe,Pt(ct),We)}}return this.tween("style."+fe,Qe)},ar.text=function(fe){return $r(this,"text",fe,bn)};function bn(fe){return fe==null&&(fe=""),function(){this.textContent=fe}}ar.remove=function(){var fe=this.namespace;return this.each("end.transition",function(){var Re;this[fe].count<2&&(Re=this.parentNode)&&Re.removeChild(this)})},ar.ease=function(fe){var Re=this.id,We=this.namespace;return arguments.length<1?this.node()[We][Re].ease:(typeof fe!="function"&&(fe=a.ease.apply(a,arguments)),tt(this,function(Qe){Qe[We][Re].ease=fe}))},ar.delay=function(fe){var Re=this.id,We=this.namespace;return arguments.length<1?this.node()[We][Re].delay:tt(this,typeof fe=="function"?function(Qe,rt,ot){Qe[We][Re].delay=+fe.call(Qe,Qe.__data__,rt,ot)}:(fe=+fe,function(Qe){Qe[We][Re].delay=fe}))},ar.duration=function(fe){var Re=this.id,We=this.namespace;return arguments.length<1?this.node()[We][Re].duration:tt(this,typeof fe=="function"?function(Qe,rt,ot){Qe[We][Re].duration=Math.max(1,fe.call(Qe,Qe.__data__,rt,ot))}:(fe=Math.max(1,fe),function(Qe){Qe[We][Re].duration=fe}))},ar.each=function(fe,Re){var We=this.id,Qe=this.namespace;if(arguments.length<2){var rt=jr,ot=Rr;try{Rr=We,tt(this,function(Pt,ct,Ht){jr=Pt[Qe][We],fe.call(Pt,Pt.__data__,ct,Ht)})}finally{jr=rt,Rr=ot}}else tt(this,function(Pt){var ct=Pt[Qe][We];(ct.event||(ct.event=a.dispatch("start","end","interrupt"))).on(fe,Re)});return this},ar.transition=function(){for(var fe=this.id,Re=++Sr,We=this.namespace,Qe=[],rt,ot,Pt,ct,Ht=0,er=this.length;Ht<er;Ht++){Qe.push(rt=[]);for(var ot=this[Ht],nr=0,Pr=ot.length;nr<Pr;nr++)(Pt=ot[nr])&&(ct=Pt[We][fe],kn(Pt,nr,We,Re,{time:ct.time,ease:ct.ease,delay:ct.delay+ct.duration,duration:ct.duration})),rt.push(Pt)}return yr(Qe,We,Re)};function An(fe){return fe==null?"__transition__":"__transition_"+fe+"__"}function kn(fe,Re,We,Qe,rt){var ot=fe[We]||(fe[We]={active:0,count:0}),Pt=ot[Qe],ct,Ht,er,nr,Pr;function Cr(Ir){var Nr=Pt.delay;if(Ht.t=Nr+ct,Nr<=Ir)return Kr(Ir-Nr);Ht.c=Kr}function Kr(Ir){var Nr=ot.active,Zr=ot[Nr];Zr&&(Zr.timer.c=null,Zr.timer.t=NaN,--ot.count,delete ot[Nr],Zr.event&&Zr.event.interrupt.call(fe,fe.__data__,Zr.index));for(var on in ot)if(+on<Qe){var hn=ot[on];hn.timer.c=null,hn.timer.t=NaN,--ot.count,delete ot[on]}Ht.c=nn,Rn(function(){return Ht.c&&nn(Ir||1)&&(Ht.c=null,Ht.t=NaN),1},0,ct),ot.active=Qe,Pt.event&&Pt.event.start.call(fe,fe.__data__,Re),Pr=[],Pt.tween.forEach(function(Xr,Hn){(Hn=Hn.call(fe,fe.__data__,Re))&&Pr.push(Hn)}),nr=Pt.ease,er=Pt.duration}function nn(Ir){for(var Nr=Ir/er,Zr=nr(Nr),on=Pr.length;on>0;)Pr[--on].call(fe,Zr);if(Nr>=1)return Pt.event&&Pt.event.end.call(fe,fe.__data__,Re),--ot.count?delete ot[Qe]:delete fe[We],1}Pt||(ct=rt.time,Ht=Rn(Cr,0,ct),Pt=ot[Qe]={tween:new P,time:ct,timer:Ht,delay:rt.delay,duration:rt.duration,ease:rt.ease,index:Re},rt=null,++ot.count)}a.svg.axis=function(){var fe=a.scale.linear(),Re=da,We=6,Qe=6,rt=3,ot=[10],Pt=null,ct;function Ht(er){er.each(function(){var nr=a.select(this),Pr=this.__chart__||fe,Cr=this.__chart__=fe.copy(),Kr=Pt??(Cr.ticks?Cr.ticks.apply(Cr,ot):Cr.domain()),nn=ct??(Cr.tickFormat?Cr.tickFormat.apply(Cr,ot):B),Ir=nr.selectAll(".tick").data(Kr,Cr),Nr=Ir.enter().insert("g",".domain").attr("class","tick").style("opacity",xe),Zr=a.transition(Ir.exit()).style("opacity",xe).remove(),on=a.transition(Ir.order()).style("opacity",1),hn=Math.max(We,0)+rt,Xr,Hn=tf(Cr),jn=nr.selectAll(".domain").data([0]),ea=(jn.enter().append("path").attr("class","domain"),a.transition(jn));Nr.append("line"),Nr.append("text");var sa=Nr.select("line"),Ta=on.select("line"),wa=Ir.select("text").text(nn),Ha=Nr.select("text"),La=on.select("text"),Ba=Re==="top"||Re==="left"?-1:1,ei,ii,vi,Wn;if(Re==="bottom"||Re==="top"?(Xr=Da,ei="x",vi="y",ii="x2",Wn="y2",wa.attr("dy",Ba<0?"0em":".71em").style("text-anchor","middle"),ea.attr("d","M"+Hn[0]+","+Ba*Qe+"V0H"+Hn[1]+"V"+Ba*Qe)):(Xr=Ia,ei="y",vi="x",ii="y2",Wn="x2",wa.attr("dy",".32em").style("text-anchor",Ba<0?"end":"start"),ea.attr("d","M"+Ba*Qe+","+Hn[0]+"H0V"+Hn[1]+"H"+Ba*Qe)),sa.attr(Wn,Ba*We),Ha.attr(vi,Ba*hn),Ta.attr(ii,0).attr(Wn,Ba*We),La.attr(ei,0).attr(vi,Ba*hn),Cr.rangeBand){var Na=Cr,Oa=Na.rangeBand()/2;Pr=Cr=function(Ka){return Na(Ka)+Oa}}else Pr.rangeBand?Pr=Cr:Zr.call(Xr,Cr,Pr);Nr.call(Xr,Pr,Cr),on.call(Xr,Cr,Cr)})}return Ht.scale=function(er){return arguments.length?(fe=er,Ht):fe},Ht.orient=function(er){return arguments.length?(Re=er in Pa?er+"":da,Ht):Re},Ht.ticks=function(){return arguments.length?(ot=T(arguments),Ht):ot},Ht.tickValues=function(er){return arguments.length?(Pt=er,Ht):Pt},Ht.tickFormat=function(er){return arguments.length?(ct=er,Ht):ct},Ht.tickSize=function(er){var nr=arguments.length;return nr?(We=+er,Qe=+arguments[nr-1],Ht):We},Ht.innerTickSize=function(er){return arguments.length?(We=+er,Ht):We},Ht.outerTickSize=function(er){return arguments.length?(Qe=+er,Ht):Qe},Ht.tickPadding=function(er){return arguments.length?(rt=+er,Ht):rt},Ht.tickSubdivide=function(){return arguments.length&&Ht},Ht};var da="bottom",Pa={top:1,right:1,bottom:1,left:1};function Da(fe,Re,We){fe.attr("transform",function(Qe){var rt=Re(Qe);return"translate("+(isFinite(rt)?rt:We(Qe))+",0)"})}function Ia(fe,Re,We){fe.attr("transform",function(Qe){var rt=Re(Qe);return"translate(0,"+(isFinite(rt)?rt:We(Qe))+")"})}a.svg.brush=function(){var fe=Q(nr,"brushstart","brush","brushend"),Re=null,We=null,Qe=[0,0],rt=[0,0],ot,Pt,ct=!0,Ht=!0,er=ui[0];function nr(Ir){Ir.each(function(){var Nr=a.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",nn).on("touchstart.brush",nn),Zr=Nr.selectAll(".background").data([0]);Zr.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),Nr.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var on=Nr.selectAll(".resize").data(er,B);on.exit().remove(),on.enter().append("g").attr("class",function(jn){return"resize "+jn}).style("cursor",function(jn){return _a[jn]}).append("rect").attr("x",function(jn){return/[ew]$/.test(jn)?-3:null}).attr("y",function(jn){return/^[ns]/.test(jn)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),on.style("display",nr.empty()?"none":null);var hn=a.transition(Nr),Xr=a.transition(Zr),Hn;Re&&(Hn=tf(Re),Xr.attr("x",Hn[0]).attr("width",Hn[1]-Hn[0]),Cr(hn)),We&&(Hn=tf(We),Xr.attr("y",Hn[0]).attr("height",Hn[1]-Hn[0]),Kr(hn)),Pr(hn)})}nr.event=function(Ir){Ir.each(function(){var Nr=fe.of(this,arguments),Zr={x:Qe,y:rt,i:ot,j:Pt},on=this.__chart__||Zr;this.__chart__=Zr,Rr?a.select(this).transition().each("start.brush",function(){ot=on.i,Pt=on.j,Qe=on.x,rt=on.y,Nr({type:"brushstart"})}).tween("brush:brush",function(){var hn=co(Qe,Zr.x),Xr=co(rt,Zr.y);return ot=Pt=null,function(Hn){Qe=Zr.x=hn(Hn),rt=Zr.y=Xr(Hn),Nr({type:"brush",mode:"resize"})}}).each("end.brush",function(){ot=Zr.i,Pt=Zr.j,Nr({type:"brush",mode:"resize"}),Nr({type:"brushend"})}):(Nr({type:"brushstart"}),Nr({type:"brush",mode:"resize"}),Nr({type:"brushend"}))})};function Pr(Ir){Ir.selectAll(".resize").attr("transform",function(Nr){return"translate("+Qe[+/e$/.test(Nr)]+","+rt[+/^s/.test(Nr)]+")"})}function Cr(Ir){Ir.select(".extent").attr("x",Qe[0]),Ir.selectAll(".extent,.n>rect,.s>rect").attr("width",Qe[1]-Qe[0])}function Kr(Ir){Ir.select(".extent").attr("y",rt[0]),Ir.selectAll(".extent,.e>rect,.w>rect").attr("height",rt[1]-rt[0])}function nn(){var Ir=this,Nr=a.select(a.event.target),Zr=fe.of(Ir,arguments),on=a.select(Ir),hn=Nr.datum(),Xr=!/^(n|s)$/.test(hn)&&Re,Hn=!/^(e|w)$/.test(hn)&&We,jn=Nr.classed("extent"),ea=_e(Ir),sa,Ta=a.mouse(Ir),wa,Ha=a.select(t(Ir)).on("keydown.brush",ei).on("keyup.brush",ii);if(a.event.changedTouches?Ha.on("touchmove.brush",vi).on("touchend.brush",Na):Ha.on("mousemove.brush",vi).on("mouseup.brush",Na),on.interrupt().selectAll("*").interrupt(),jn)Ta[0]=Qe[0]-Ta[0],Ta[1]=rt[0]-Ta[1];else if(hn){var La=+/w$/.test(hn),Ba=+/^n/.test(hn);wa=[Qe[1-La]-Ta[0],rt[1-Ba]-Ta[1]],Ta[0]=Qe[La],Ta[1]=rt[Ba]}else a.event.altKey&&(sa=Ta.slice());on.style("pointer-events","none").selectAll(".resize").style("display",null),a.select("body").style("cursor",Nr.style("cursor")),Zr({type:"brushstart"}),vi();function ei(){a.event.keyCode==32&&(jn||(sa=null,Ta[0]-=Qe[1],Ta[1]-=rt[1],jn=2),oe())}function ii(){a.event.keyCode==32&&jn==2&&(Ta[0]+=Qe[1],Ta[1]+=rt[1],jn=0,oe())}function vi(){var Oa=a.mouse(Ir),Ka=!1;wa&&(Oa[0]+=wa[0],Oa[1]+=wa[1]),jn||(a.event.altKey?(sa||(sa=[(Qe[0]+Qe[1])/2,(rt[0]+rt[1])/2]),Ta[0]=Qe[+(Oa[0]<sa[0])],Ta[1]=rt[+(Oa[1]<sa[1])]):sa=null),Xr&&Wn(Oa,Re,0)&&(Cr(on),Ka=!0),Hn&&Wn(Oa,We,1)&&(Kr(on),Ka=!0),Ka&&(Pr(on),Zr({type:"brush",mode:jn?"move":"resize"}))}function Wn(Oa,Ka,Li){var Vi=tf(Ka),Xi=Vi[0],Ai=Vi[1],pi=Ta[Li],ma=Li?rt:Qe,Ea=ma[1]-ma[0],Si,ji;if(jn&&(Xi-=pi,Ai-=Ea+pi),Si=(Li?Ht:ct)?Math.max(Xi,Math.min(Ai,Oa[Li])):Oa[Li],jn?ji=(Si+=pi)+Ea:(sa&&(pi=Math.max(Xi,Math.min(Ai,2*sa[Li]-Si))),pi<Si?(ji=Si,Si=pi):ji=pi),ma[0]!=Si||ma[1]!=ji)return Li?Pt=null:ot=null,ma[0]=Si,ma[1]=ji,!0}function Na(){vi(),on.style("pointer-events","all").selectAll(".resize").style("display",nr.empty()?"none":null),a.select("body").style("cursor",null),Ha.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),ea(),Zr({type:"brushend"})}}return nr.x=function(Ir){return arguments.length?(Re=Ir,er=ui[!Re<<1|!We],nr):Re},nr.y=function(Ir){return arguments.length?(We=Ir,er=ui[!Re<<1|!We],nr):We},nr.clamp=function(Ir){return arguments.length?(Re&&We?(ct=!!Ir[0],Ht=!!Ir[1]):Re?ct=!!Ir:We&&(Ht=!!Ir),nr):Re&&We?[ct,Ht]:Re?ct:We?Ht:null},nr.extent=function(Ir){var Nr,Zr,on,hn,Xr;return arguments.length?(Re&&(Nr=Ir[0],Zr=Ir[1],We&&(Nr=Nr[0],Zr=Zr[0]),ot=[Nr,Zr],Re.invert&&(Nr=Re(Nr),Zr=Re(Zr)),Zr<Nr&&(Xr=Nr,Nr=Zr,Zr=Xr),(Nr!=Qe[0]||Zr!=Qe[1])&&(Qe=[Nr,Zr])),We&&(on=Ir[0],hn=Ir[1],Re&&(on=on[1],hn=hn[1]),Pt=[on,hn],We.invert&&(on=We(on),hn=We(hn)),hn<on&&(Xr=on,on=hn,hn=Xr),(on!=rt[0]||hn!=rt[1])&&(rt=[on,hn])),nr):(Re&&(ot?(Nr=ot[0],Zr=ot[1]):(Nr=Qe[0],Zr=Qe[1],Re.invert&&(Nr=Re.invert(Nr),Zr=Re.invert(Zr)),Zr<Nr&&(Xr=Nr,Nr=Zr,Zr=Xr))),We&&(Pt?(on=Pt[0],hn=Pt[1]):(on=rt[0],hn=rt[1],We.invert&&(on=We.invert(on),hn=We.invert(hn)),hn<on&&(Xr=on,on=hn,hn=Xr))),Re&&We?[[Nr,on],[Zr,hn]]:Re?[Nr,Zr]:We&&[on,hn])},nr.clear=function(){return nr.empty()||(Qe=[0,0],rt=[0,0],ot=Pt=null),nr},nr.empty=function(){return!!Re&&Qe[0]==Qe[1]||!!We&&rt[0]==rt[1]},a.rebind(nr,fe,"on")};var _a={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},ui=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];a.text=Bn(function(fe){return fe.responseText}),a.json=function(fe,Re){return Tn(fe,"application/json",Oi,Re)};function Oi(fe){return JSON.parse(fe.responseText)}a.html=function(fe,Re){return Tn(fe,"text/html",xi,Re)};function xi(fe){var Re=v.createRange();return Re.selectNode(v.body),Re.createContextualFragment(fe.responseText)}a.xml=Bn(function(fe){return fe.responseXML}),g=a,R=typeof g=="function"?g.call(H,e,H,W):g,R!==void 0&&(W.exports=R)}).apply(self)},88294:function(W,H,e){W.exports=e(62849)},62849:function(W,H,e){var g=e(91358),R=e(53435),a=e(18863),C=e(21527),T=e(71299),v=e(46775),y=e(30120),t=e(64941),r=e(90660),s=e(27084),n=1073741824;W.exports=function(u,m){m||(m={}),u=y(u,"float64"),m=T(m,{bounds:"range bounds dataBox databox",maxDepth:"depth maxDepth maxdepth level maxLevel maxlevel levels",dtype:"type dtype format out dst output destination"});var c=v(m.maxDepth,255),A=v(m.bounds,C(u,2));A[0]===A[2]&&A[2]++,A[1]===A[3]&&A[3]++;var h=o(u,A),l=u.length>>>1,p;m.dtype||(m.dtype="array"),typeof m.dtype=="string"?p=new(r(m.dtype))(l):m.dtype&&(p=m.dtype,Array.isArray(p)&&(p.length=l));for(var M=0;M<l;++M)p[M]=M;var S=[],P=[],x=[],E=[];N(0,0,1,p,0,1);for(var w=0,i=0;i<S.length;i++){var L=S[i];if(p.set)p.set(L,w);else for(var b=0,O=L.length;b<O;b++)p[b+w]=L[b];var _=w+S[i].length;E[i]=[w,_],w=_}return p.range=z,p;function N(F,V,j,$,ne,oe){if(!$.length)return null;var ce=S[ne]||(S[ne]=[]),Q=x[ne]||(x[ne]=[]),Z=P[ne]||(P[ne]=[]),K=ce.length;if(ne++,ne>c||oe>n){for(var J=0;J<$.length;J++)ce.push($[J]),Q.push(oe),Z.push(null,null,null,null);return K}if(ce.push($[0]),Q.push(oe),$.length<=1)return Z.push(null,null,null,null),K;for(var re=j*.5,le=F+re,q=V+re,ee=[],ue=[],se=[],he=[],me=1,Ce=$.length;me<Ce;me++){var Te=$[me],Oe=h[Te*2],Ne=h[Te*2+1];Oe<le?Ne<q?ee.push(Te):ue.push(Te):Ne<q?se.push(Te):he.push(Te)}return oe<<=2,Z.push(N(F,V,re,ee,ne,oe),N(F,q,re,ue,ne,oe+1),N(le,V,re,se,ne,oe+2),N(le,q,re,he,ne,oe+3)),K}function z(){for(var F=[],V=arguments.length;V--;)F[V]=arguments[V];var j;if(t(F[F.length-1])){var $=F.pop();!F.length&&($.x!=null||$.l!=null||$.left!=null)&&(F=[$],j={}),j=T($,{level:"level maxLevel",d:"d diam diameter r radius px pxSize pixel pixelSize maxD size minSize",lod:"lod details ranges offsets"})}else j={};F.length||(F=A);var ne=a.apply(void 0,F),oe=[Math.min(ne.x,ne.x+ne.width),Math.min(ne.y,ne.y+ne.height),Math.max(ne.x,ne.x+ne.width),Math.max(ne.y,ne.y+ne.height)],ce=oe[0],Q=oe[1],Z=oe[2],K=oe[3],J=o([ce,Q,Z,K],A),re=J[0],le=J[1],q=J[2],ee=J[3],ue=v(j.level,S.length);if(j.d!=null){var se;typeof j.d=="number"?se=[j.d,j.d]:j.d.length&&(se=j.d),ue=Math.min(Math.max(Math.ceil(-s(Math.abs(se[0])/(A[2]-A[0]))),Math.ceil(-s(Math.abs(se[1])/(A[3]-A[1])))),ue)}if(ue=Math.min(ue,S.length),j.lod)return B(re,le,q,ee,ue);var he=[];me(0,0,1,0,0,1);function me(Te,Oe,Ne,Le,be,Ae){if(!(be===null||Ae===null)){var He=Te+Ne,Ve=Oe+Ne;if(!(re>He||le>Ve||q<Te||ee<Oe)&&!(Le>=ue)&&be!==Ae){var ke=S[Le];Ae===void 0&&(Ae=ke.length);for(var Ge=be;Ge<Ae;Ge++){var it=ke[Ge],et=u[it*2],tt=u[it*2+1];et>=ce&&et<=Z&&tt>=Q&&tt<=K&&he.push(it)}var at=P[Le],vt=at[be*4+0],yt=at[be*4+1],gt=at[be*4+2],Mt=at[be*4+3],Ct=Ce(at,be+1),Vt=Ne*.5,Je=Le+1;me(Te,Oe,Vt,Je,vt,yt||gt||Mt||Ct),me(Te,Oe+Vt,Vt,Je,yt,gt||Mt||Ct),me(Te+Vt,Oe,Vt,Je,gt,Mt||Ct),me(Te+Vt,Oe+Vt,Vt,Je,Mt,Ct)}}}function Ce(Te,Oe){for(var Ne=null,Le=0;Ne===null;)if(Ne=Te[Oe*4+Le],Le++,Le>Te.length)return null;return Ne}return he}function B(F,V,j,$,ne){for(var oe=[],ce=0;ce<ne;ce++){var Q=x[ce],Z=E[ce][0],K=U(F,V,ce),J=U(j,$,ce),re=g.ge(Q,K),le=g.gt(Q,J,re,Q.length-1);oe[ce]=[re+Z,le+Z]}return oe}function U(F,V,j){for(var $=1,ne=.5,oe=.5,ce=.5,Q=0;Q<j;Q++)$<<=2,$+=F<ne?V<oe?0:1:V<oe?2:3,ce*=.5,ne+=F<ne?-ce:ce,oe+=V<oe?-ce:ce;return $}};function o(f,u){for(var m=u[0],c=u[1],A=u[2],h=u[3],l=1/(A-m),p=1/(h-c),M=new Array(f.length),S=0,P=f.length/2;S<P;S++)M[2*S]=R((f[2*S]-m)*l,0,1),M[2*S+1]=R((f[2*S+1]-c)*p,0,1);return M}},30774:function(W,H,e){Object.defineProperty(H,"__esModule",{value:!0});var g=e(60302),R=6378137;function a(t){return g.geomReduce(t,function(r,s){return r+C(s)},0)}H.default=a;function C(t){var r=0,s;switch(t.type){case"Polygon":return T(t.coordinates);case"MultiPolygon":for(s=0;s<t.coordinates.length;s++)r+=T(t.coordinates[s]);return r;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}function T(t){var r=0;if(t&&t.length>0){r+=Math.abs(v(t[0]));for(var s=1;s<t.length;s++)r-=Math.abs(v(t[s]))}return r}function v(t){var r,s,n,o,f,u,m,c=0,A=t.length;if(A>2){for(m=0;m<A;m++)m===A-2?(o=A-2,f=A-1,u=0):m===A-1?(o=A-1,f=0,u=1):(o=m,f=m+1,u=m+2),r=t[o],s=t[f],n=t[u],c+=(y(n[0])-y(r[0]))*Math.sin(y(s[1]));c=c*R*R/2}return c}function y(t){return t*Math.PI/180}},23132:function(W,H){Object.defineProperty(H,"__esModule",{value:!0}),H.earthRadius=63710088e-1,H.factors={centimeters:H.earthRadius*100,centimetres:H.earthRadius*100,degrees:H.earthRadius/111325,feet:H.earthRadius*3.28084,inches:H.earthRadius*39.37,kilometers:H.earthRadius/1e3,kilometres:H.earthRadius/1e3,meters:H.earthRadius,metres:H.earthRadius,miles:H.earthRadius/1609.344,millimeters:H.earthRadius*1e3,millimetres:H.earthRadius*1e3,nauticalmiles:H.earthRadius/1852,radians:1,yards:H.earthRadius*1.0936},H.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/H.earthRadius,yards:1.0936133},H.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(w,i,L){L===void 0&&(L={});var b={type:"Feature"};return(L.id===0||L.id)&&(b.id=L.id),L.bbox&&(b.bbox=L.bbox),b.properties=i||{},b.geometry=w,b}H.feature=e;function g(w,i,L){switch(w){case"Point":return R(i).geometry;case"LineString":return v(i).geometry;case"Polygon":return C(i).geometry;case"MultiPoint":return s(i).geometry;case"MultiLineString":return r(i).geometry;case"MultiPolygon":return n(i).geometry;default:throw new Error(w+" is invalid")}}H.geometry=g;function R(w,i,L){if(L===void 0&&(L={}),!w)throw new Error("coordinates is required");if(!Array.isArray(w))throw new Error("coordinates must be an Array");if(w.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!S(w[0])||!S(w[1]))throw new Error("coordinates must contain numbers");var b={type:"Point",coordinates:w};return e(b,i,L)}H.point=R;function a(w,i,L){return L===void 0&&(L={}),t(w.map(function(b){return R(b,i)}),L)}H.points=a;function C(w,i,L){L===void 0&&(L={});for(var b=0,O=w;b<O.length;b++){var _=O[b];if(_.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var N=0;N<_[_.length-1].length;N++)if(_[_.length-1][N]!==_[0][N])throw new Error("First and last Position are not equivalent.")}var z={type:"Polygon",coordinates:w};return e(z,i,L)}H.polygon=C;function T(w,i,L){return L===void 0&&(L={}),t(w.map(function(b){return C(b,i)}),L)}H.polygons=T;function v(w,i,L){if(L===void 0&&(L={}),w.length<2)throw new Error("coordinates must be an array of two or more positions");var b={type:"LineString",coordinates:w};return e(b,i,L)}H.lineString=v;function y(w,i,L){return L===void 0&&(L={}),t(w.map(function(b){return v(b,i)}),L)}H.lineStrings=y;function t(w,i){i===void 0&&(i={});var L={type:"FeatureCollection"};return i.id&&(L.id=i.id),i.bbox&&(L.bbox=i.bbox),L.features=w,L}H.featureCollection=t;function r(w,i,L){L===void 0&&(L={});var b={type:"MultiLineString",coordinates:w};return e(b,i,L)}H.multiLineString=r;function s(w,i,L){L===void 0&&(L={});var b={type:"MultiPoint",coordinates:w};return e(b,i,L)}H.multiPoint=s;function n(w,i,L){L===void 0&&(L={});var b={type:"MultiPolygon",coordinates:w};return e(b,i,L)}H.multiPolygon=n;function o(w,i,L){L===void 0&&(L={});var b={type:"GeometryCollection",geometries:w};return e(b,i,L)}H.geometryCollection=o;function f(w,i){if(i===void 0&&(i=0),i&&!(i>=0))throw new Error("precision must be a positive number");var L=Math.pow(10,i||0);return Math.round(w*L)/L}H.round=f;function u(w,i){i===void 0&&(i="kilometers");var L=H.factors[i];if(!L)throw new Error(i+" units is invalid");return w*L}H.radiansToLength=u;function m(w,i){i===void 0&&(i="kilometers");var L=H.factors[i];if(!L)throw new Error(i+" units is invalid");return w/L}H.lengthToRadians=m;function c(w,i){return h(m(w,i))}H.lengthToDegrees=c;function A(w){var i=w%360;return i<0&&(i+=360),i}H.bearingToAzimuth=A;function h(w){var i=w%(2*Math.PI);return i*180/Math.PI}H.radiansToDegrees=h;function l(w){var i=w%360;return i*Math.PI/180}H.degreesToRadians=l;function p(w,i,L){if(i===void 0&&(i="kilometers"),L===void 0&&(L="kilometers"),!(w>=0))throw new Error("length must be a positive number");return u(m(w,i),L)}H.convertLength=p;function M(w,i,L){if(i===void 0&&(i="meters"),L===void 0&&(L="kilometers"),!(w>=0))throw new Error("area must be a positive number");var b=H.areaFactors[i];if(!b)throw new Error("invalid original units");var O=H.areaFactors[L];if(!O)throw new Error("invalid final units");return w/b*O}H.convertArea=M;function S(w){return!isNaN(w)&&w!==null&&!Array.isArray(w)}H.isNumber=S;function P(w){return!!w&&w.constructor===Object}H.isObject=P;function x(w){if(!w)throw new Error("bbox is required");if(!Array.isArray(w))throw new Error("bbox must be an Array");if(w.length!==4&&w.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");w.forEach(function(i){if(!S(i))throw new Error("bbox must only contain numbers")})}H.validateBBox=x;function E(w){if(!w)throw new Error("id is required");if(["string","number"].indexOf(typeof w)===-1)throw new Error("id must be a number or a string")}H.validateId=E},60302:function(W,H,e){Object.defineProperty(H,"__esModule",{value:!0});var g=e(23132);function R(l,p,M){if(l!==null)for(var S,P,x,E,w,i,L,b=0,O=0,_,N=l.type,z=N==="FeatureCollection",B=N==="Feature",U=z?l.features.length:1,F=0;F<U;F++){L=z?l.features[F].geometry:B?l.geometry:l,_=L?L.type==="GeometryCollection":!1,w=_?L.geometries.length:1;for(var V=0;V<w;V++){var j=0,$=0;if(E=_?L.geometries[V]:L,E!==null){i=E.coordinates;var ne=E.type;switch(b=M&&(ne==="Polygon"||ne==="MultiPolygon")?1:0,ne){case null:break;case"Point":if(p(i,O,F,j,$)===!1)return!1;O++,j++;break;case"LineString":case"MultiPoint":for(S=0;S<i.length;S++){if(p(i[S],O,F,j,$)===!1)return!1;O++,ne==="MultiPoint"&&j++}ne==="LineString"&&j++;break;case"Polygon":case"MultiLineString":for(S=0;S<i.length;S++){for(P=0;P<i[S].length-b;P++){if(p(i[S][P],O,F,j,$)===!1)return!1;O++}ne==="MultiLineString"&&j++,ne==="Polygon"&&$++}ne==="Polygon"&&j++;break;case"MultiPolygon":for(S=0;S<i.length;S++){for($=0,P=0;P<i[S].length;P++){for(x=0;x<i[S][P].length-b;x++){if(p(i[S][P][x],O,F,j,$)===!1)return!1;O++}$++}j++}break;case"GeometryCollection":for(S=0;S<E.geometries.length;S++)if(R(E.geometries[S],p,M)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function a(l,p,M,S){var P=M;return R(l,function(x,E,w,i,L){E===0&&M===void 0?P=x:P=p(P,x,E,w,i,L)},S),P}function C(l,p){var M;switch(l.type){case"FeatureCollection":for(M=0;M<l.features.length&&p(l.features[M].properties,M)!==!1;M++);break;case"Feature":p(l.properties,0);break}}function T(l,p,M){var S=M;return C(l,function(P,x){x===0&&M===void 0?S=P:S=p(S,P,x)}),S}function v(l,p){if(l.type==="Feature")p(l,0);else if(l.type==="FeatureCollection")for(var M=0;M<l.features.length&&p(l.features[M],M)!==!1;M++);}function y(l,p,M){var S=M;return v(l,function(P,x){x===0&&M===void 0?S=P:S=p(S,P,x)}),S}function t(l){var p=[];return R(l,function(M){p.push(M)}),p}function r(l,p){var M,S,P,x,E,w,i,L,b,O,_=0,N=l.type==="FeatureCollection",z=l.type==="Feature",B=N?l.features.length:1;for(M=0;M<B;M++){for(w=N?l.features[M].geometry:z?l.geometry:l,L=N?l.features[M].properties:z?l.properties:{},b=N?l.features[M].bbox:z?l.bbox:void 0,O=N?l.features[M].id:z?l.id:void 0,i=w?w.type==="GeometryCollection":!1,E=i?w.geometries.length:1,P=0;P<E;P++){if(x=i?w.geometries[P]:w,x===null){if(p(null,_,L,b,O)===!1)return!1;continue}switch(x.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(p(x,_,L,b,O)===!1)return!1;break}case"GeometryCollection":{for(S=0;S<x.geometries.length;S++)if(p(x.geometries[S],_,L,b,O)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}_++}}function s(l,p,M){var S=M;return r(l,function(P,x,E,w,i){x===0&&M===void 0?S=P:S=p(S,P,x,E,w,i)}),S}function n(l,p){r(l,function(M,S,P,x,E){var w=M===null?null:M.type;switch(w){case null:case"Point":case"LineString":case"Polygon":return p(g.feature(M,P,{bbox:x,id:E}),S,0)===!1?!1:void 0}var i;switch(w){case"MultiPoint":i="Point";break;case"MultiLineString":i="LineString";break;case"MultiPolygon":i="Polygon";break}for(var L=0;L<M.coordinates.length;L++){var b=M.coordinates[L],O={type:i,coordinates:b};if(p(g.feature(O,P),S,L)===!1)return!1}})}function o(l,p,M){var S=M;return n(l,function(P,x,E){x===0&&E===0&&M===void 0?S=P:S=p(S,P,x,E)}),S}function f(l,p){n(l,function(M,S,P){var x=0;if(M.geometry){var E=M.geometry.type;if(!(E==="Point"||E==="MultiPoint")){var w,i=0,L=0,b=0;if(R(M,function(O,_,N,z,B){if(w===void 0||S>i||z>L||B>b){w=O,i=S,L=z,b=B,x=0;return}var U=g.lineString([w,O],M.properties);if(p(U,S,P,B,x)===!1)return!1;x++,w=O})===!1)return!1}}})}function u(l,p,M){var S=M,P=!1;return f(l,function(x,E,w,i,L){P===!1&&M===void 0?S=x:S=p(S,x,E,w,i,L),P=!0}),S}function m(l,p){if(!l)throw new Error("geojson is required");n(l,function(M,S,P){if(M.geometry!==null){var x=M.geometry.type,E=M.geometry.coordinates;switch(x){case"LineString":if(p(M,S,P,0,0)===!1)return!1;break;case"Polygon":for(var w=0;w<E.length;w++)if(p(g.lineString(E[w],M.properties),S,P,w)===!1)return!1;break}}})}function c(l,p,M){var S=M;return m(l,function(P,x,E,w){x===0&&M===void 0?S=P:S=p(S,P,x,E,w)}),S}function A(l,p){if(p=p||{},!g.isObject(p))throw new Error("options is invalid");var M=p.featureIndex||0,S=p.multiFeatureIndex||0,P=p.geometryIndex||0,x=p.segmentIndex||0,E=p.properties,w;switch(l.type){case"FeatureCollection":M<0&&(M=l.features.length+M),E=E||l.features[M].properties,w=l.features[M].geometry;break;case"Feature":E=E||l.properties,w=l.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":w=l;break;default:throw new Error("geojson is invalid")}if(w===null)return null;var i=w.coordinates;switch(w.type){case"Point":case"MultiPoint":return null;case"LineString":return x<0&&(x=i.length+x-1),g.lineString([i[x],i[x+1]],E,p);case"Polygon":return P<0&&(P=i.length+P),x<0&&(x=i[P].length+x-1),g.lineString([i[P][x],i[P][x+1]],E,p);case"MultiLineString":return S<0&&(S=i.length+S),x<0&&(x=i[S].length+x-1),g.lineString([i[S][x],i[S][x+1]],E,p);case"MultiPolygon":return S<0&&(S=i.length+S),P<0&&(P=i[S].length+P),x<0&&(x=i[S][P].length-x-1),g.lineString([i[S][P][x],i[S][P][x+1]],E,p)}throw new Error("geojson is invalid")}function h(l,p){if(p=p||{},!g.isObject(p))throw new Error("options is invalid");var M=p.featureIndex||0,S=p.multiFeatureIndex||0,P=p.geometryIndex||0,x=p.coordIndex||0,E=p.properties,w;switch(l.type){case"FeatureCollection":M<0&&(M=l.features.length+M),E=E||l.features[M].properties,w=l.features[M].geometry;break;case"Feature":E=E||l.properties,w=l.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":w=l;break;default:throw new Error("geojson is invalid")}if(w===null)return null;var i=w.coordinates;switch(w.type){case"Point":return g.point(i,E,p);case"MultiPoint":return S<0&&(S=i.length+S),g.point(i[S],E,p);case"LineString":return x<0&&(x=i.length+x),g.point(i[x],E,p);case"Polygon":return P<0&&(P=i.length+P),x<0&&(x=i[P].length+x),g.point(i[P][x],E,p);case"MultiLineString":return S<0&&(S=i.length+S),x<0&&(x=i[S].length+x),g.point(i[S][x],E,p);case"MultiPolygon":return S<0&&(S=i.length+S),P<0&&(P=i[S].length+P),x<0&&(x=i[S][P].length-x),g.point(i[S][P][x],E,p)}throw new Error("geojson is invalid")}H.coordEach=R,H.coordReduce=a,H.propEach=C,H.propReduce=T,H.featureEach=v,H.featureReduce=y,H.coordAll=t,H.geomEach=r,H.geomReduce=s,H.flattenEach=n,H.flattenReduce=o,H.segmentEach=f,H.segmentReduce=u,H.lineEach=m,H.lineReduce=c,H.findSegment=A,H.findPoint=h},85268:function(W,H,e){Object.defineProperty(H,"__esModule",{value:!0});var g=e(27138);function R(a){var C=[1/0,1/0,-1/0,-1/0];return g.coordEach(a,function(T){C[0]>T[0]&&(C[0]=T[0]),C[1]>T[1]&&(C[1]=T[1]),C[2]<T[0]&&(C[2]=T[0]),C[3]<T[1]&&(C[3]=T[1])}),C}R.default=R,H.default=R},94228:function(W,H){Object.defineProperty(H,"__esModule",{value:!0}),H.earthRadius=63710088e-1,H.factors={centimeters:H.earthRadius*100,centimetres:H.earthRadius*100,degrees:H.earthRadius/111325,feet:H.earthRadius*3.28084,inches:H.earthRadius*39.37,kilometers:H.earthRadius/1e3,kilometres:H.earthRadius/1e3,meters:H.earthRadius,metres:H.earthRadius,miles:H.earthRadius/1609.344,millimeters:H.earthRadius*1e3,millimetres:H.earthRadius*1e3,nauticalmiles:H.earthRadius/1852,radians:1,yards:H.earthRadius*1.0936},H.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/H.earthRadius,yards:1.0936133},H.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(w,i,L){L===void 0&&(L={});var b={type:"Feature"};return(L.id===0||L.id)&&(b.id=L.id),L.bbox&&(b.bbox=L.bbox),b.properties=i||{},b.geometry=w,b}H.feature=e;function g(w,i,L){switch(w){case"Point":return R(i).geometry;case"LineString":return v(i).geometry;case"Polygon":return C(i).geometry;case"MultiPoint":return s(i).geometry;case"MultiLineString":return r(i).geometry;case"MultiPolygon":return n(i).geometry;default:throw new Error(w+" is invalid")}}H.geometry=g;function R(w,i,L){if(L===void 0&&(L={}),!w)throw new Error("coordinates is required");if(!Array.isArray(w))throw new Error("coordinates must be an Array");if(w.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!S(w[0])||!S(w[1]))throw new Error("coordinates must contain numbers");var b={type:"Point",coordinates:w};return e(b,i,L)}H.point=R;function a(w,i,L){return L===void 0&&(L={}),t(w.map(function(b){return R(b,i)}),L)}H.points=a;function C(w,i,L){L===void 0&&(L={});for(var b=0,O=w;b<O.length;b++){var _=O[b];if(_.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var N=0;N<_[_.length-1].length;N++)if(_[_.length-1][N]!==_[0][N])throw new Error("First and last Position are not equivalent.")}var z={type:"Polygon",coordinates:w};return e(z,i,L)}H.polygon=C;function T(w,i,L){return L===void 0&&(L={}),t(w.map(function(b){return C(b,i)}),L)}H.polygons=T;function v(w,i,L){if(L===void 0&&(L={}),w.length<2)throw new Error("coordinates must be an array of two or more positions");var b={type:"LineString",coordinates:w};return e(b,i,L)}H.lineString=v;function y(w,i,L){return L===void 0&&(L={}),t(w.map(function(b){return v(b,i)}),L)}H.lineStrings=y;function t(w,i){i===void 0&&(i={});var L={type:"FeatureCollection"};return i.id&&(L.id=i.id),i.bbox&&(L.bbox=i.bbox),L.features=w,L}H.featureCollection=t;function r(w,i,L){L===void 0&&(L={});var b={type:"MultiLineString",coordinates:w};return e(b,i,L)}H.multiLineString=r;function s(w,i,L){L===void 0&&(L={});var b={type:"MultiPoint",coordinates:w};return e(b,i,L)}H.multiPoint=s;function n(w,i,L){L===void 0&&(L={});var b={type:"MultiPolygon",coordinates:w};return e(b,i,L)}H.multiPolygon=n;function o(w,i,L){L===void 0&&(L={});var b={type:"GeometryCollection",geometries:w};return e(b,i,L)}H.geometryCollection=o;function f(w,i){if(i===void 0&&(i=0),i&&!(i>=0))throw new Error("precision must be a positive number");var L=Math.pow(10,i||0);return Math.round(w*L)/L}H.round=f;function u(w,i){i===void 0&&(i="kilometers");var L=H.factors[i];if(!L)throw new Error(i+" units is invalid");return w*L}H.radiansToLength=u;function m(w,i){i===void 0&&(i="kilometers");var L=H.factors[i];if(!L)throw new Error(i+" units is invalid");return w/L}H.lengthToRadians=m;function c(w,i){return h(m(w,i))}H.lengthToDegrees=c;function A(w){var i=w%360;return i<0&&(i+=360),i}H.bearingToAzimuth=A;function h(w){var i=w%(2*Math.PI);return i*180/Math.PI}H.radiansToDegrees=h;function l(w){var i=w%360;return i*Math.PI/180}H.degreesToRadians=l;function p(w,i,L){if(i===void 0&&(i="kilometers"),L===void 0&&(L="kilometers"),!(w>=0))throw new Error("length must be a positive number");return u(m(w,i),L)}H.convertLength=p;function M(w,i,L){if(i===void 0&&(i="meters"),L===void 0&&(L="kilometers"),!(w>=0))throw new Error("area must be a positive number");var b=H.areaFactors[i];if(!b)throw new Error("invalid original units");var O=H.areaFactors[L];if(!O)throw new Error("invalid final units");return w/b*O}H.convertArea=M;function S(w){return!isNaN(w)&&w!==null&&!Array.isArray(w)}H.isNumber=S;function P(w){return!!w&&w.constructor===Object}H.isObject=P;function x(w){if(!w)throw new Error("bbox is required");if(!Array.isArray(w))throw new Error("bbox must be an Array");if(w.length!==4&&w.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");w.forEach(function(i){if(!S(i))throw new Error("bbox must only contain numbers")})}H.validateBBox=x;function E(w){if(!w)throw new Error("id is required");if(["string","number"].indexOf(typeof w)===-1)throw new Error("id must be a number or a string")}H.validateId=E},27138:function(W,H,e){Object.defineProperty(H,"__esModule",{value:!0});var g=e(94228);function R(l,p,M){if(l!==null)for(var S,P,x,E,w,i,L,b=0,O=0,_,N=l.type,z=N==="FeatureCollection",B=N==="Feature",U=z?l.features.length:1,F=0;F<U;F++){L=z?l.features[F].geometry:B?l.geometry:l,_=L?L.type==="GeometryCollection":!1,w=_?L.geometries.length:1;for(var V=0;V<w;V++){var j=0,$=0;if(E=_?L.geometries[V]:L,E!==null){i=E.coordinates;var ne=E.type;switch(b=M&&(ne==="Polygon"||ne==="MultiPolygon")?1:0,ne){case null:break;case"Point":if(p(i,O,F,j,$)===!1)return!1;O++,j++;break;case"LineString":case"MultiPoint":for(S=0;S<i.length;S++){if(p(i[S],O,F,j,$)===!1)return!1;O++,ne==="MultiPoint"&&j++}ne==="LineString"&&j++;break;case"Polygon":case"MultiLineString":for(S=0;S<i.length;S++){for(P=0;P<i[S].length-b;P++){if(p(i[S][P],O,F,j,$)===!1)return!1;O++}ne==="MultiLineString"&&j++,ne==="Polygon"&&$++}ne==="Polygon"&&j++;break;case"MultiPolygon":for(S=0;S<i.length;S++){for($=0,P=0;P<i[S].length;P++){for(x=0;x<i[S][P].length-b;x++){if(p(i[S][P][x],O,F,j,$)===!1)return!1;O++}$++}j++}break;case"GeometryCollection":for(S=0;S<E.geometries.length;S++)if(R(E.geometries[S],p,M)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function a(l,p,M,S){var P=M;return R(l,function(x,E,w,i,L){E===0&&M===void 0?P=x:P=p(P,x,E,w,i,L)},S),P}function C(l,p){var M;switch(l.type){case"FeatureCollection":for(M=0;M<l.features.length&&p(l.features[M].properties,M)!==!1;M++);break;case"Feature":p(l.properties,0);break}}function T(l,p,M){var S=M;return C(l,function(P,x){x===0&&M===void 0?S=P:S=p(S,P,x)}),S}function v(l,p){if(l.type==="Feature")p(l,0);else if(l.type==="FeatureCollection")for(var M=0;M<l.features.length&&p(l.features[M],M)!==!1;M++);}function y(l,p,M){var S=M;return v(l,function(P,x){x===0&&M===void 0?S=P:S=p(S,P,x)}),S}function t(l){var p=[];return R(l,function(M){p.push(M)}),p}function r(l,p){var M,S,P,x,E,w,i,L,b,O,_=0,N=l.type==="FeatureCollection",z=l.type==="Feature",B=N?l.features.length:1;for(M=0;M<B;M++){for(w=N?l.features[M].geometry:z?l.geometry:l,L=N?l.features[M].properties:z?l.properties:{},b=N?l.features[M].bbox:z?l.bbox:void 0,O=N?l.features[M].id:z?l.id:void 0,i=w?w.type==="GeometryCollection":!1,E=i?w.geometries.length:1,P=0;P<E;P++){if(x=i?w.geometries[P]:w,x===null){if(p(null,_,L,b,O)===!1)return!1;continue}switch(x.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(p(x,_,L,b,O)===!1)return!1;break}case"GeometryCollection":{for(S=0;S<x.geometries.length;S++)if(p(x.geometries[S],_,L,b,O)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}_++}}function s(l,p,M){var S=M;return r(l,function(P,x,E,w,i){x===0&&M===void 0?S=P:S=p(S,P,x,E,w,i)}),S}function n(l,p){r(l,function(M,S,P,x,E){var w=M===null?null:M.type;switch(w){case null:case"Point":case"LineString":case"Polygon":return p(g.feature(M,P,{bbox:x,id:E}),S,0)===!1?!1:void 0}var i;switch(w){case"MultiPoint":i="Point";break;case"MultiLineString":i="LineString";break;case"MultiPolygon":i="Polygon";break}for(var L=0;L<M.coordinates.length;L++){var b=M.coordinates[L],O={type:i,coordinates:b};if(p(g.feature(O,P),S,L)===!1)return!1}})}function o(l,p,M){var S=M;return n(l,function(P,x,E){x===0&&E===0&&M===void 0?S=P:S=p(S,P,x,E)}),S}function f(l,p){n(l,function(M,S,P){var x=0;if(M.geometry){var E=M.geometry.type;if(!(E==="Point"||E==="MultiPoint")){var w,i=0,L=0,b=0;if(R(M,function(O,_,N,z,B){if(w===void 0||S>i||z>L||B>b){w=O,i=S,L=z,b=B,x=0;return}var U=g.lineString([w,O],M.properties);if(p(U,S,P,B,x)===!1)return!1;x++,w=O})===!1)return!1}}})}function u(l,p,M){var S=M,P=!1;return f(l,function(x,E,w,i,L){P===!1&&M===void 0?S=x:S=p(S,x,E,w,i,L),P=!0}),S}function m(l,p){if(!l)throw new Error("geojson is required");n(l,function(M,S,P){if(M.geometry!==null){var x=M.geometry.type,E=M.geometry.coordinates;switch(x){case"LineString":if(p(M,S,P,0,0)===!1)return!1;break;case"Polygon":for(var w=0;w<E.length;w++)if(p(g.lineString(E[w],M.properties),S,P,w)===!1)return!1;break}}})}function c(l,p,M){var S=M;return m(l,function(P,x,E,w){x===0&&M===void 0?S=P:S=p(S,P,x,E,w)}),S}function A(l,p){if(p=p||{},!g.isObject(p))throw new Error("options is invalid");var M=p.featureIndex||0,S=p.multiFeatureIndex||0,P=p.geometryIndex||0,x=p.segmentIndex||0,E=p.properties,w;switch(l.type){case"FeatureCollection":M<0&&(M=l.features.length+M),E=E||l.features[M].properties,w=l.features[M].geometry;break;case"Feature":E=E||l.properties,w=l.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":w=l;break;default:throw new Error("geojson is invalid")}if(w===null)return null;var i=w.coordinates;switch(w.type){case"Point":case"MultiPoint":return null;case"LineString":return x<0&&(x=i.length+x-1),g.lineString([i[x],i[x+1]],E,p);case"Polygon":return P<0&&(P=i.length+P),x<0&&(x=i[P].length+x-1),g.lineString([i[P][x],i[P][x+1]],E,p);case"MultiLineString":return S<0&&(S=i.length+S),x<0&&(x=i[S].length+x-1),g.lineString([i[S][x],i[S][x+1]],E,p);case"MultiPolygon":return S<0&&(S=i.length+S),P<0&&(P=i[S].length+P),x<0&&(x=i[S][P].length-x-1),g.lineString([i[S][P][x],i[S][P][x+1]],E,p)}throw new Error("geojson is invalid")}function h(l,p){if(p=p||{},!g.isObject(p))throw new Error("options is invalid");var M=p.featureIndex||0,S=p.multiFeatureIndex||0,P=p.geometryIndex||0,x=p.coordIndex||0,E=p.properties,w;switch(l.type){case"FeatureCollection":M<0&&(M=l.features.length+M),E=E||l.features[M].properties,w=l.features[M].geometry;break;case"Feature":E=E||l.properties,w=l.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":w=l;break;default:throw new Error("geojson is invalid")}if(w===null)return null;var i=w.coordinates;switch(w.type){case"Point":return g.point(i,E,p);case"MultiPoint":return S<0&&(S=i.length+S),g.point(i[S],E,p);case"LineString":return x<0&&(x=i.length+x),g.point(i[x],E,p);case"Polygon":return P<0&&(P=i.length+P),x<0&&(x=i[P].length+x),g.point(i[P][x],E,p);case"MultiLineString":return S<0&&(S=i.length+S),x<0&&(x=i[S].length+x),g.point(i[S][x],E,p);case"MultiPolygon":return S<0&&(S=i.length+S),P<0&&(P=i[S].length+P),x<0&&(x=i[S][P].length-x),g.point(i[S][P][x],E,p)}throw new Error("geojson is invalid")}H.coordEach=R,H.coordReduce=a,H.propEach=C,H.propReduce=T,H.featureEach=v,H.featureReduce=y,H.coordAll=t,H.geomEach=r,H.geomReduce=s,H.flattenEach=n,H.flattenReduce=o,H.segmentEach=f,H.segmentReduce=u,H.lineEach=m,H.lineReduce=c,H.findSegment=A,H.findPoint=h},29261:function(W,H,e){Object.defineProperty(H,"__esModule",{value:!0});var g=e(88553),R=e(64182);function a(C,T){T===void 0&&(T={});var v=0,y=0,t=0;return g.coordEach(C,function(r){v+=r[0],y+=r[1],t++}),R.point([v/t,y/t],T.properties)}H.default=a},64182:function(W,H){Object.defineProperty(H,"__esModule",{value:!0}),H.earthRadius=63710088e-1,H.factors={centimeters:H.earthRadius*100,centimetres:H.earthRadius*100,degrees:H.earthRadius/111325,feet:H.earthRadius*3.28084,inches:H.earthRadius*39.37,kilometers:H.earthRadius/1e3,kilometres:H.earthRadius/1e3,meters:H.earthRadius,metres:H.earthRadius,miles:H.earthRadius/1609.344,millimeters:H.earthRadius*1e3,millimetres:H.earthRadius*1e3,nauticalmiles:H.earthRadius/1852,radians:1,yards:H.earthRadius/1.0936},H.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/H.earthRadius,yards:.91441111923921},H.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(z,B,U){U===void 0&&(U={});var F={type:"Feature"};return(U.id===0||U.id)&&(F.id=U.id),U.bbox&&(F.bbox=U.bbox),F.properties=B||{},F.geometry=z,F}H.feature=e;function g(z,B,U){switch(z){case"Point":return R(B).geometry;case"LineString":return v(B).geometry;case"Polygon":return C(B).geometry;case"MultiPoint":return s(B).geometry;case"MultiLineString":return r(B).geometry;case"MultiPolygon":return n(B).geometry;default:throw new Error(z+" is invalid")}}H.geometry=g;function R(z,B,U){U===void 0&&(U={});var F={type:"Point",coordinates:z};return e(F,B,U)}H.point=R;function a(z,B,U){return U===void 0&&(U={}),t(z.map(function(F){return R(F,B)}),U)}H.points=a;function C(z,B,U){U===void 0&&(U={});for(var F=0,V=z;F<V.length;F++){var j=V[F];if(j.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var $=0;$<j[j.length-1].length;$++)if(j[j.length-1][$]!==j[0][$])throw new Error("First and last Position are not equivalent.")}var ne={type:"Polygon",coordinates:z};return e(ne,B,U)}H.polygon=C;function T(z,B,U){return U===void 0&&(U={}),t(z.map(function(F){return C(F,B)}),U)}H.polygons=T;function v(z,B,U){if(U===void 0&&(U={}),z.length<2)throw new Error("coordinates must be an array of two or more positions");var F={type:"LineString",coordinates:z};return e(F,B,U)}H.lineString=v;function y(z,B,U){return U===void 0&&(U={}),t(z.map(function(F){return v(F,B)}),U)}H.lineStrings=y;function t(z,B){B===void 0&&(B={});var U={type:"FeatureCollection"};return B.id&&(U.id=B.id),B.bbox&&(U.bbox=B.bbox),U.features=z,U}H.featureCollection=t;function r(z,B,U){U===void 0&&(U={});var F={type:"MultiLineString",coordinates:z};return e(F,B,U)}H.multiLineString=r;function s(z,B,U){U===void 0&&(U={});var F={type:"MultiPoint",coordinates:z};return e(F,B,U)}H.multiPoint=s;function n(z,B,U){U===void 0&&(U={});var F={type:"MultiPolygon",coordinates:z};return e(F,B,U)}H.multiPolygon=n;function o(z,B,U){U===void 0&&(U={});var F={type:"GeometryCollection",geometries:z};return e(F,B,U)}H.geometryCollection=o;function f(z,B){if(B===void 0&&(B=0),B&&!(B>=0))throw new Error("precision must be a positive number");var U=Math.pow(10,B||0);return Math.round(z*U)/U}H.round=f;function u(z,B){B===void 0&&(B="kilometers");var U=H.factors[B];if(!U)throw new Error(B+" units is invalid");return z*U}H.radiansToLength=u;function m(z,B){B===void 0&&(B="kilometers");var U=H.factors[B];if(!U)throw new Error(B+" units is invalid");return z/U}H.lengthToRadians=m;function c(z,B){return h(m(z,B))}H.lengthToDegrees=c;function A(z){var B=z%360;return B<0&&(B+=360),B}H.bearingToAzimuth=A;function h(z){var B=z%(2*Math.PI);return B*180/Math.PI}H.radiansToDegrees=h;function l(z){var B=z%360;return B*Math.PI/180}H.degreesToRadians=l;function p(z,B,U){if(B===void 0&&(B="kilometers"),U===void 0&&(U="kilometers"),!(z>=0))throw new Error("length must be a positive number");return u(m(z,B),U)}H.convertLength=p;function M(z,B,U){if(B===void 0&&(B="meters"),U===void 0&&(U="kilometers"),!(z>=0))throw new Error("area must be a positive number");var F=H.areaFactors[B];if(!F)throw new Error("invalid original units");var V=H.areaFactors[U];if(!V)throw new Error("invalid final units");return z/F*V}H.convertArea=M;function S(z){return!isNaN(z)&&z!==null&&!Array.isArray(z)&&!/^\s*$/.test(z)}H.isNumber=S;function P(z){return!!z&&z.constructor===Object}H.isObject=P;function x(z){if(!z)throw new Error("bbox is required");if(!Array.isArray(z))throw new Error("bbox must be an Array");if(z.length!==4&&z.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");z.forEach(function(B){if(!S(B))throw new Error("bbox must only contain numbers")})}H.validateBBox=x;function E(z){if(!z)throw new Error("id is required");if(["string","number"].indexOf(typeof z)===-1)throw new Error("id must be a number or a string")}H.validateId=E;function w(){throw new Error("method has been renamed to `radiansToDegrees`")}H.radians2degrees=w;function i(){throw new Error("method has been renamed to `degreesToRadians`")}H.degrees2radians=i;function L(){throw new Error("method has been renamed to `lengthToDegrees`")}H.distanceToDegrees=L;function b(){throw new Error("method has been renamed to `lengthToRadians`")}H.distanceToRadians=b;function O(){throw new Error("method has been renamed to `radiansToLength`")}H.radiansToDistance=O;function _(){throw new Error("method has been renamed to `bearingToAzimuth`")}H.bearingToAngle=_;function N(){throw new Error("method has been renamed to `convertLength`")}H.convertDistance=N},88553:function(W,H,e){Object.defineProperty(H,"__esModule",{value:!0});var g=e(64182);function R(l,p,M){if(l!==null)for(var S,P,x,E,w,i,L,b=0,O=0,_,N=l.type,z=N==="FeatureCollection",B=N==="Feature",U=z?l.features.length:1,F=0;F<U;F++){L=z?l.features[F].geometry:B?l.geometry:l,_=L?L.type==="GeometryCollection":!1,w=_?L.geometries.length:1;for(var V=0;V<w;V++){var j=0,$=0;if(E=_?L.geometries[V]:L,E!==null){i=E.coordinates;var ne=E.type;switch(b=M&&(ne==="Polygon"||ne==="MultiPolygon")?1:0,ne){case null:break;case"Point":if(p(i,O,F,j,$)===!1)return!1;O++,j++;break;case"LineString":case"MultiPoint":for(S=0;S<i.length;S++){if(p(i[S],O,F,j,$)===!1)return!1;O++,ne==="MultiPoint"&&j++}ne==="LineString"&&j++;break;case"Polygon":case"MultiLineString":for(S=0;S<i.length;S++){for(P=0;P<i[S].length-b;P++){if(p(i[S][P],O,F,j,$)===!1)return!1;O++}ne==="MultiLineString"&&j++,ne==="Polygon"&&$++}ne==="Polygon"&&j++;break;case"MultiPolygon":for(S=0;S<i.length;S++){for($=0,P=0;P<i[S].length;P++){for(x=0;x<i[S][P].length-b;x++){if(p(i[S][P][x],O,F,j,$)===!1)return!1;O++}$++}j++}break;case"GeometryCollection":for(S=0;S<E.geometries.length;S++)if(R(E.geometries[S],p,M)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function a(l,p,M,S){var P=M;return R(l,function(x,E,w,i,L){E===0&&M===void 0?P=x:P=p(P,x,E,w,i,L)},S),P}function C(l,p){var M;switch(l.type){case"FeatureCollection":for(M=0;M<l.features.length&&p(l.features[M].properties,M)!==!1;M++);break;case"Feature":p(l.properties,0);break}}function T(l,p,M){var S=M;return C(l,function(P,x){x===0&&M===void 0?S=P:S=p(S,P,x)}),S}function v(l,p){if(l.type==="Feature")p(l,0);else if(l.type==="FeatureCollection")for(var M=0;M<l.features.length&&p(l.features[M],M)!==!1;M++);}function y(l,p,M){var S=M;return v(l,function(P,x){x===0&&M===void 0?S=P:S=p(S,P,x)}),S}function t(l){var p=[];return R(l,function(M){p.push(M)}),p}function r(l,p){var M,S,P,x,E,w,i,L,b,O,_=0,N=l.type==="FeatureCollection",z=l.type==="Feature",B=N?l.features.length:1;for(M=0;M<B;M++){for(w=N?l.features[M].geometry:z?l.geometry:l,L=N?l.features[M].properties:z?l.properties:{},b=N?l.features[M].bbox:z?l.bbox:void 0,O=N?l.features[M].id:z?l.id:void 0,i=w?w.type==="GeometryCollection":!1,E=i?w.geometries.length:1,P=0;P<E;P++){if(x=i?w.geometries[P]:w,x===null){if(p(null,_,L,b,O)===!1)return!1;continue}switch(x.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(p(x,_,L,b,O)===!1)return!1;break}case"GeometryCollection":{for(S=0;S<x.geometries.length;S++)if(p(x.geometries[S],_,L,b,O)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}_++}}function s(l,p,M){var S=M;return r(l,function(P,x,E,w,i){x===0&&M===void 0?S=P:S=p(S,P,x,E,w,i)}),S}function n(l,p){r(l,function(M,S,P,x,E){var w=M===null?null:M.type;switch(w){case null:case"Point":case"LineString":case"Polygon":return p(g.feature(M,P,{bbox:x,id:E}),S,0)===!1?!1:void 0}var i;switch(w){case"MultiPoint":i="Point";break;case"MultiLineString":i="LineString";break;case"MultiPolygon":i="Polygon";break}for(var L=0;L<M.coordinates.length;L++){var b=M.coordinates[L],O={type:i,coordinates:b};if(p(g.feature(O,P),S,L)===!1)return!1}})}function o(l,p,M){var S=M;return n(l,function(P,x,E){x===0&&E===0&&M===void 0?S=P:S=p(S,P,x,E)}),S}function f(l,p){n(l,function(M,S,P){var x=0;if(M.geometry){var E=M.geometry.type;if(!(E==="Point"||E==="MultiPoint")){var w,i=0,L=0,b=0;if(R(M,function(O,_,N,z,B){if(w===void 0||S>i||z>L||B>b){w=O,i=S,L=z,b=B,x=0;return}var U=g.lineString([w,O],M.properties);if(p(U,S,P,B,x)===!1)return!1;x++,w=O})===!1)return!1}}})}function u(l,p,M){var S=M,P=!1;return f(l,function(x,E,w,i,L){P===!1&&M===void 0?S=x:S=p(S,x,E,w,i,L),P=!0}),S}function m(l,p){if(!l)throw new Error("geojson is required");n(l,function(M,S,P){if(M.geometry!==null){var x=M.geometry.type,E=M.geometry.coordinates;switch(x){case"LineString":if(p(M,S,P,0,0)===!1)return!1;break;case"Polygon":for(var w=0;w<E.length;w++)if(p(g.lineString(E[w],M.properties),S,P,w)===!1)return!1;break}}})}function c(l,p,M){var S=M;return m(l,function(P,x,E,w){x===0&&M===void 0?S=P:S=p(S,P,x,E,w)}),S}function A(l,p){if(p=p||{},!g.isObject(p))throw new Error("options is invalid");var M=p.featureIndex||0,S=p.multiFeatureIndex||0,P=p.geometryIndex||0,x=p.segmentIndex||0,E=p.properties,w;switch(l.type){case"FeatureCollection":M<0&&(M=l.features.length+M),E=E||l.features[M].properties,w=l.features[M].geometry;break;case"Feature":E=E||l.properties,w=l.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":w=l;break;default:throw new Error("geojson is invalid")}if(w===null)return null;var i=w.coordinates;switch(w.type){case"Point":case"MultiPoint":return null;case"LineString":return x<0&&(x=i.length+x-1),g.lineString([i[x],i[x+1]],E,p);case"Polygon":return P<0&&(P=i.length+P),x<0&&(x=i[P].length+x-1),g.lineString([i[P][x],i[P][x+1]],E,p);case"MultiLineString":return S<0&&(S=i.length+S),x<0&&(x=i[S].length+x-1),g.lineString([i[S][x],i[S][x+1]],E,p);case"MultiPolygon":return S<0&&(S=i.length+S),P<0&&(P=i[S].length+P),x<0&&(x=i[S][P].length-x-1),g.lineString([i[S][P][x],i[S][P][x+1]],E,p)}throw new Error("geojson is invalid")}function h(l,p){if(p=p||{},!g.isObject(p))throw new Error("options is invalid");var M=p.featureIndex||0,S=p.multiFeatureIndex||0,P=p.geometryIndex||0,x=p.coordIndex||0,E=p.properties,w;switch(l.type){case"FeatureCollection":M<0&&(M=l.features.length+M),E=E||l.features[M].properties,w=l.features[M].geometry;break;case"Feature":E=E||l.properties,w=l.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":w=l;break;default:throw new Error("geojson is invalid")}if(w===null)return null;var i=w.coordinates;switch(w.type){case"Point":return g.point(i,E,p);case"MultiPoint":return S<0&&(S=i.length+S),g.point(i[S],E,p);case"LineString":return x<0&&(x=i.length+x),g.point(i[x],E,p);case"Polygon":return P<0&&(P=i.length+P),x<0&&(x=i[P].length+x),g.point(i[P][x],E,p);case"MultiLineString":return S<0&&(S=i.length+S),x<0&&(x=i[S].length+x),g.point(i[S][x],E,p);case"MultiPolygon":return S<0&&(S=i.length+S),P<0&&(P=i[S].length+P),x<0&&(x=i[S][P].length-x),g.point(i[S][P][x],E,p)}throw new Error("geojson is invalid")}H.coordEach=R,H.coordReduce=a,H.propEach=C,H.propReduce=T,H.featureEach=v,H.featureReduce=y,H.coordAll=t,H.geomEach=r,H.geomReduce=s,H.flattenEach=n,H.flattenReduce=o,H.segmentEach=f,H.segmentReduce=u,H.lineEach=m,H.lineReduce=c,H.findSegment=A,H.findPoint=h},65185:function(W){W.exports=H;function H(e){var g=0,R=0,a=0,C=0;return e.map(function(T){T=T.slice();var v=T[0],y=v.toUpperCase();if(v!=y)switch(T[0]=y,v){case"a":T[6]+=a,T[7]+=C;break;case"v":T[1]+=C;break;case"h":T[1]+=a;break;default:for(var t=1;t<T.length;)T[t++]+=a,T[t++]+=C}switch(y){case"Z":a=g,C=R;break;case"H":a=T[1];break;case"V":C=T[1];break;case"M":a=g=T[1],C=R=T[2];break;default:a=T[T.length-2],C=T[T.length-1]}return T})}},21527:function(W){W.exports=H;function H(e,g){if(!e||e.length==null)throw Error("Argument should be an array");g==null?g=1:g=Math.floor(g);for(var R=Array(g*2),a=0;a<g;a++){for(var C=-1/0,T=1/0,v=a,y=e.length;v<y;v+=g)e[v]>C&&(C=e[v]),e[v]<T&&(T=e[v]);R[a]=T,R[g+a]=C}return R}},6851:function(W){W.exports=function(H,e,g){if(typeof Array.prototype.findIndex=="function")return H.findIndex(e,g);if(typeof e!="function")throw new TypeError("predicate must be a function");var R=Object(H),a=R.length;if(a===0)return-1;for(var C=0;C<a;C++)if(e.call(g,R[C],C,R))return C;return-1}},54:function(W,H,e){var g=e(21527);W.exports=R;function R(a,C,T){if(!a||a.length==null)throw Error("Argument should be an array");C==null&&(C=1),T==null&&(T=g(a,C));for(var v=0;v<C;v++){var y=T[C+v],t=T[v],r=v,s=a.length;if(y===1/0&&t===-1/0)for(r=v;r<s;r+=C)a[r]=a[r]===y?1:a[r]===t?0:.5;else if(y===1/0)for(r=v;r<s;r+=C)a[r]=a[r]===y?1:0;else if(t===-1/0)for(r=v;r<s;r+=C)a[r]=a[r]===t?0:1;else{var n=y-t;for(r=v;r<s;r+=C)isNaN(a[r])||(a[r]=n===0?.5:(a[r]-t)/n)}}return a}},57471:function(W){W.exports=function(e,g){var R=typeof e=="number",a=typeof g=="number";R&&!a?(g=e,e=0):!R&&!a&&(e=0,g=0),e=e|0,g=g|0;var C=g-e;if(C<0)throw new Error("array length must be positive");for(var T=new Array(C),v=0,y=e;v<C;v++,y++)T[v]=y;return T}},32791:function(W,H,e){var g=e(90386);function R($){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?R=function(oe){return typeof oe}:R=function(oe){return oe&&typeof Symbol=="function"&&oe.constructor===Symbol&&oe!==Symbol.prototype?"symbol":typeof oe},R($)}function a($,ne){if(!($ instanceof ne))throw new TypeError("Cannot call a class as a function")}var C=e(79616),T=C.codes,v=T.ERR_AMBIGUOUS_ARGUMENT,y=T.ERR_INVALID_ARG_TYPE,t=T.ERR_INVALID_ARG_VALUE,r=T.ERR_INVALID_RETURN_VALUE,s=T.ERR_MISSING_ARGS,n=e(73894),o=e(43827),f=o.inspect,u=e(43827).types,m=u.isPromise,c=u.isRegExp,A=Object.assign?Object.assign:e(73523).assign,h=Object.is?Object.is:e(64003),l,p;function M(){var $=e(74061);l=$.isDeepEqual,p=$.isDeepStrictEqual}var S=!1,P=W.exports=L,x={};function E($){throw $.message instanceof Error?$.message:new n($)}function w($,ne,oe,ce,Q){var Z=arguments.length,K;if(Z===0)K="Failed";else if(Z===1)oe=$,$=void 0;else{if(S===!1){S=!0;var J=g.emitWarning?g.emitWarning:console.warn.bind(console);J("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}Z===2&&(ce="!=")}if(oe instanceof Error)throw oe;var re={actual:$,expected:ne,operator:ce===void 0?"fail":ce,stackStartFn:Q||w};oe!==void 0&&(re.message=oe);var le=new n(re);throw K&&(le.message=K,le.generatedMessage=!0),le}P.fail=w,P.AssertionError=n;function i($,ne,oe,ce){if(!oe){var Q=!1;if(ne===0)Q=!0,ce="No value argument passed to `assert.ok()`";else if(ce instanceof Error)throw ce;var Z=new n({actual:oe,expected:!0,message:ce,operator:"==",stackStartFn:$});throw Z.generatedMessage=Q,Z}}function L(){for(var $=arguments.length,ne=new Array($),oe=0;oe<$;oe++)ne[oe]=arguments[oe];i.apply(void 0,[L,ne.length].concat(ne))}P.ok=L,P.equal=function $(ne,oe,ce){if(arguments.length<2)throw new s("actual","expected");ne!=oe&&E({actual:ne,expected:oe,message:ce,operator:"==",stackStartFn:$})},P.notEqual=function $(ne,oe,ce){if(arguments.length<2)throw new s("actual","expected");ne==oe&&E({actual:ne,expected:oe,message:ce,operator:"!=",stackStartFn:$})},P.deepEqual=function $(ne,oe,ce){if(arguments.length<2)throw new s("actual","expected");l===void 0&&M(),l(ne,oe)||E({actual:ne,expected:oe,message:ce,operator:"deepEqual",stackStartFn:$})},P.notDeepEqual=function $(ne,oe,ce){if(arguments.length<2)throw new s("actual","expected");l===void 0&&M(),l(ne,oe)&&E({actual:ne,expected:oe,message:ce,operator:"notDeepEqual",stackStartFn:$})},P.deepStrictEqual=function $(ne,oe,ce){if(arguments.length<2)throw new s("actual","expected");l===void 0&&M(),p(ne,oe)||E({actual:ne,expected:oe,message:ce,operator:"deepStrictEqual",stackStartFn:$})},P.notDeepStrictEqual=b;function b($,ne,oe){if(arguments.length<2)throw new s("actual","expected");l===void 0&&M(),p($,ne)&&E({actual:$,expected:ne,message:oe,operator:"notDeepStrictEqual",stackStartFn:b})}P.strictEqual=function $(ne,oe,ce){if(arguments.length<2)throw new s("actual","expected");h(ne,oe)||E({actual:ne,expected:oe,message:ce,operator:"strictEqual",stackStartFn:$})},P.notStrictEqual=function $(ne,oe,ce){if(arguments.length<2)throw new s("actual","expected");h(ne,oe)&&E({actual:ne,expected:oe,message:ce,operator:"notStrictEqual",stackStartFn:$})};var O=function $(ne,oe,ce){var Q=this;a(this,$),oe.forEach(function(Z){Z in ne&&(ce!==void 0&&typeof ce[Z]=="string"&&c(ne[Z])&&ne[Z].test(ce[Z])?Q[Z]=ce[Z]:Q[Z]=ne[Z])})};function _($,ne,oe,ce,Q,Z){if(!(oe in $)||!p($[oe],ne[oe])){if(!ce){var K=new O($,Q),J=new O(ne,Q,$),re=new n({actual:K,expected:J,operator:"deepStrictEqual",stackStartFn:Z});throw re.actual=$,re.expected=ne,re.operator=Z.name,re}E({actual:$,expected:ne,message:ce,operator:Z.name,stackStartFn:Z})}}function N($,ne,oe,ce){if(typeof ne!="function"){if(c(ne))return ne.test($);if(arguments.length===2)throw new y("expected",["Function","RegExp"],ne);if(R($)!=="object"||$===null){var Q=new n({actual:$,expected:ne,message:oe,operator:"deepStrictEqual",stackStartFn:ce});throw Q.operator=ce.name,Q}var Z=Object.keys(ne);if(ne instanceof Error)Z.push("name","message");else if(Z.length===0)throw new t("error",ne,"may not be an empty object");return l===void 0&&M(),Z.forEach(function(K){typeof $[K]=="string"&&c(ne[K])&&ne[K].test($[K])||_($,ne,K,oe,Z,ce)}),!0}return ne.prototype!==void 0&&$ instanceof ne?!0:Error.isPrototypeOf(ne)?!1:ne.call({},$)===!0}function z($){if(typeof $!="function")throw new y("fn","Function",$);try{$()}catch(ne){return ne}return x}function B($){return m($)||$!==null&&R($)==="object"&&typeof $.then=="function"&&typeof $.catch=="function"}function U($){return Promise.resolve().then(function(){var ne;if(typeof $=="function"){if(ne=$(),!B(ne))throw new r("instance of Promise","promiseFn",ne)}else if(B($))ne=$;else throw new y("promiseFn",["Function","Promise"],$);return Promise.resolve().then(function(){return ne}).then(function(){return x}).catch(function(oe){return oe})})}function F($,ne,oe,ce){if(typeof oe=="string"){if(arguments.length===4)throw new y("error",["Object","Error","Function","RegExp"],oe);if(R(ne)==="object"&&ne!==null){if(ne.message===oe)throw new v("error/message",'The error message "'.concat(ne.message,'" is identical to the message.'))}else if(ne===oe)throw new v("error/message",'The error "'.concat(ne,'" is identical to the message.'));ce=oe,oe=void 0}else if(oe!=null&&R(oe)!=="object"&&typeof oe!="function")throw new y("error",["Object","Error","Function","RegExp"],oe);if(ne===x){var Q="";oe&&oe.name&&(Q+=" (".concat(oe.name,")")),Q+=ce?": ".concat(ce):".";var Z=$.name==="rejects"?"rejection":"exception";E({actual:void 0,expected:oe,operator:$.name,message:"Missing expected ".concat(Z).concat(Q),stackStartFn:$})}if(oe&&!N(ne,oe,ce,$))throw ne}function V($,ne,oe,ce){if(ne!==x){if(typeof oe=="string"&&(ce=oe,oe=void 0),!oe||N(ne,oe)){var Q=ce?": ".concat(ce):".",Z=$.name==="doesNotReject"?"rejection":"exception";E({actual:ne,expected:oe,operator:$.name,message:"Got unwanted ".concat(Z).concat(Q,`
`)+'Actual message: "'.concat(ne&&ne.message,'"'),stackStartFn:$})}throw ne}}P.throws=function $(ne){for(var oe=arguments.length,ce=new Array(oe>1?oe-1:0),Q=1;Q<oe;Q++)ce[Q-1]=arguments[Q];F.apply(void 0,[$,z(ne)].concat(ce))},P.rejects=function $(ne){for(var oe=arguments.length,ce=new Array(oe>1?oe-1:0),Q=1;Q<oe;Q++)ce[Q-1]=arguments[Q];return U(ne).then(function(Z){return F.apply(void 0,[$,Z].concat(ce))})},P.doesNotThrow=function $(ne){for(var oe=arguments.length,ce=new Array(oe>1?oe-1:0),Q=1;Q<oe;Q++)ce[Q-1]=arguments[Q];V.apply(void 0,[$,z(ne)].concat(ce))},P.doesNotReject=function $(ne){for(var oe=arguments.length,ce=new Array(oe>1?oe-1:0),Q=1;Q<oe;Q++)ce[Q-1]=arguments[Q];return U(ne).then(function(Z){return V.apply(void 0,[$,Z].concat(ce))})},P.ifError=function $(ne){if(ne!=null){var oe="ifError got unwanted exception: ";R(ne)==="object"&&typeof ne.message=="string"?ne.message.length===0&&ne.constructor?oe+=ne.constructor.name:oe+=ne.message:oe+=f(ne);var ce=new n({actual:ne,expected:null,operator:"ifError",message:oe,stackStartFn:$}),Q=ne.stack;if(typeof Q=="string"){var Z=Q.split(`
`);Z.shift();for(var K=ce.stack.split(`
`),J=0;J<Z.length;J++){var re=K.indexOf(Z[J]);if(re!==-1){K=K.slice(0,re);break}}ce.stack="".concat(K.join(`
`),`
`).concat(Z.join(`
`))}throw ce}};function j(){for(var $=arguments.length,ne=new Array($),oe=0;oe<$;oe++)ne[oe]=arguments[oe];i.apply(void 0,[j,ne.length].concat(ne))}P.strict=A(j,P,{equal:P.strictEqual,deepEqual:P.deepStrictEqual,notEqual:P.notStrictEqual,notDeepEqual:P.notDeepStrictEqual}),P.strict.strict=P.strict},73894:function(W,H,e){var g=e(90386);function R(z){for(var B=1;B<arguments.length;B++){var U=arguments[B]!=null?arguments[B]:{},F=Object.keys(U);typeof Object.getOwnPropertySymbols=="function"&&(F=F.concat(Object.getOwnPropertySymbols(U).filter(function(V){return Object.getOwnPropertyDescriptor(U,V).enumerable}))),F.forEach(function(V){a(z,V,U[V])})}return z}function a(z,B,U){return B in z?Object.defineProperty(z,B,{value:U,enumerable:!0,configurable:!0,writable:!0}):z[B]=U,z}function C(z,B){if(!(z instanceof B))throw new TypeError("Cannot call a class as a function")}function T(z,B){for(var U=0;U<B.length;U++){var F=B[U];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(z,F.key,F)}}function v(z,B,U){return B&&T(z.prototype,B),U&&T(z,U),z}function y(z,B){return B&&(c(B)==="object"||typeof B=="function")?B:t(z)}function t(z){if(z===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z}function r(z,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function");z.prototype=Object.create(B&&B.prototype,{constructor:{value:z,writable:!0,configurable:!0}}),B&&u(z,B)}function s(z){var B=typeof Map=="function"?new Map:void 0;return s=function(F){if(F===null||!f(F))return F;if(typeof F!="function")throw new TypeError("Super expression must either be null or a function");if(typeof B<"u"){if(B.has(F))return B.get(F);B.set(F,V)}function V(){return o(F,arguments,m(this).constructor)}return V.prototype=Object.create(F.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),u(V,F)},s(z)}function n(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function o(z,B,U){return n()?o=Reflect.construct:o=function(V,j,$){var ne=[null];ne.push.apply(ne,j);var oe=Function.bind.apply(V,ne),ce=new oe;return $&&u(ce,$.prototype),ce},o.apply(null,arguments)}function f(z){return Function.toString.call(z).indexOf("[native code]")!==-1}function u(z,B){return u=Object.setPrototypeOf||function(F,V){return F.__proto__=V,F},u(z,B)}function m(z){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(U){return U.__proto__||Object.getPrototypeOf(U)},m(z)}function c(z){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?c=function(U){return typeof U}:c=function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U},c(z)}var A=e(43827),h=A.inspect,l=e(79616),p=l.codes.ERR_INVALID_ARG_TYPE;function M(z,B,U){return(U===void 0||U>z.length)&&(U=z.length),z.substring(U-B.length,U)===B}function S(z,B){if(B=Math.floor(B),z.length==0||B==0)return"";var U=z.length*B;for(B=Math.floor(Math.log(B)/Math.log(2));B;)z+=z,B--;return z+=z.substring(0,U-z.length),z}var P="",x="",E="",w="",i={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},L=10;function b(z){var B=Object.keys(z),U=Object.create(Object.getPrototypeOf(z));return B.forEach(function(F){U[F]=z[F]}),Object.defineProperty(U,"message",{value:z.message}),U}function O(z){return h(z,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function _(z,B,U){var F="",V="",j=0,$="",ne=!1,oe=O(z),ce=oe.split(`
`),Q=O(B).split(`
`),Z=0,K="";if(U==="strictEqual"&&c(z)==="object"&&c(B)==="object"&&z!==null&&B!==null&&(U="strictEqualObject"),ce.length===1&&Q.length===1&&ce[0]!==Q[0]){var J=ce[0].length+Q[0].length;if(J<=L){if((c(z)!=="object"||z===null)&&(c(B)!=="object"||B===null)&&(z!==0||B!==0))return"".concat(i[U],`

`)+"".concat(ce[0]," !== ").concat(Q[0],`
`)}else if(U!=="strictEqualObject"){var re=g.stderr&&g.stderr.isTTY?g.stderr.columns:80;if(J<re){for(;ce[0][Z]===Q[0][Z];)Z++;Z>2&&(K=`
  `.concat(S(" ",Z),"^"),Z=0)}}}for(var le=ce[ce.length-1],q=Q[Q.length-1];le===q&&(Z++<2?$=`
  `.concat(le).concat($):F=le,ce.pop(),Q.pop(),!(ce.length===0||Q.length===0));)le=ce[ce.length-1],q=Q[Q.length-1];var ee=Math.max(ce.length,Q.length);if(ee===0){var ue=oe.split(`
`);if(ue.length>30)for(ue[26]="".concat(P,"...").concat(w);ue.length>27;)ue.pop();return"".concat(i.notIdentical,`

`).concat(ue.join(`
`),`
`)}Z>3&&($=`
`.concat(P,"...").concat(w).concat($),ne=!0),F!==""&&($=`
  `.concat(F).concat($),F="");var se=0,he=i[U]+`
`.concat(x,"+ actual").concat(w," ").concat(E,"- expected").concat(w),me=" ".concat(P,"...").concat(w," Lines skipped");for(Z=0;Z<ee;Z++){var Ce=Z-j;if(ce.length<Z+1)Ce>1&&Z>2&&(Ce>4?(V+=`
`.concat(P,"...").concat(w),ne=!0):Ce>3&&(V+=`
  `.concat(Q[Z-2]),se++),V+=`
  `.concat(Q[Z-1]),se++),j=Z,F+=`
`.concat(E,"-").concat(w," ").concat(Q[Z]),se++;else if(Q.length<Z+1)Ce>1&&Z>2&&(Ce>4?(V+=`
`.concat(P,"...").concat(w),ne=!0):Ce>3&&(V+=`
  `.concat(ce[Z-2]),se++),V+=`
  `.concat(ce[Z-1]),se++),j=Z,V+=`
`.concat(x,"+").concat(w," ").concat(ce[Z]),se++;else{var Te=Q[Z],Oe=ce[Z],Ne=Oe!==Te&&(!M(Oe,",")||Oe.slice(0,-1)!==Te);Ne&&M(Te,",")&&Te.slice(0,-1)===Oe&&(Ne=!1,Oe+=","),Ne?(Ce>1&&Z>2&&(Ce>4?(V+=`
`.concat(P,"...").concat(w),ne=!0):Ce>3&&(V+=`
  `.concat(ce[Z-2]),se++),V+=`
  `.concat(ce[Z-1]),se++),j=Z,V+=`
`.concat(x,"+").concat(w," ").concat(Oe),F+=`
`.concat(E,"-").concat(w," ").concat(Te),se+=2):(V+=F,F="",(Ce===1||Z===0)&&(V+=`
  `.concat(Oe),se++))}if(se>20&&Z<ee-2)return"".concat(he).concat(me,`
`).concat(V,`
`).concat(P,"...").concat(w).concat(F,`
`)+"".concat(P,"...").concat(w)}return"".concat(he).concat(ne?me:"",`
`).concat(V).concat(F).concat($).concat(K)}var N=function(z){r(B,z);function B(U){var F;if(C(this,B),c(U)!=="object"||U===null)throw new p("options","Object",U);var V=U.message,j=U.operator,$=U.stackStartFn,ne=U.actual,oe=U.expected,ce=Error.stackTraceLimit;if(Error.stackTraceLimit=0,V!=null)F=y(this,m(B).call(this,String(V)));else if(g.stderr&&g.stderr.isTTY&&(g.stderr&&g.stderr.getColorDepth&&g.stderr.getColorDepth()!==1?(P="\x1B[34m",x="\x1B[32m",w="\x1B[39m",E="\x1B[31m"):(P="",x="",w="",E="")),c(ne)==="object"&&ne!==null&&c(oe)==="object"&&oe!==null&&"stack"in ne&&ne instanceof Error&&"stack"in oe&&oe instanceof Error&&(ne=b(ne),oe=b(oe)),j==="deepStrictEqual"||j==="strictEqual")F=y(this,m(B).call(this,_(ne,oe,j)));else if(j==="notDeepStrictEqual"||j==="notStrictEqual"){var Q=i[j],Z=O(ne).split(`
`);if(j==="notStrictEqual"&&c(ne)==="object"&&ne!==null&&(Q=i.notStrictEqualObject),Z.length>30)for(Z[26]="".concat(P,"...").concat(w);Z.length>27;)Z.pop();Z.length===1?F=y(this,m(B).call(this,"".concat(Q," ").concat(Z[0]))):F=y(this,m(B).call(this,"".concat(Q,`

`).concat(Z.join(`
`),`
`)))}else{var K=O(ne),J="",re=i[j];j==="notDeepEqual"||j==="notEqual"?(K="".concat(i[j],`

`).concat(K),K.length>1024&&(K="".concat(K.slice(0,1021),"..."))):(J="".concat(O(oe)),K.length>512&&(K="".concat(K.slice(0,509),"...")),J.length>512&&(J="".concat(J.slice(0,509),"...")),j==="deepEqual"||j==="equal"?K="".concat(re,`

`).concat(K,`

should equal

`):J=" ".concat(j," ").concat(J)),F=y(this,m(B).call(this,"".concat(K).concat(J)))}return Error.stackTraceLimit=ce,F.generatedMessage=!V,Object.defineProperty(t(F),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),F.code="ERR_ASSERTION",F.actual=ne,F.expected=oe,F.operator=j,Error.captureStackTrace&&Error.captureStackTrace(t(F),$),F.stack,F.name="AssertionError",y(F)}return v(B,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:h.custom,value:function(F,V){return h(this,R({},V,{customInspect:!1,depth:0}))}}]),B}(s(Error));W.exports=N},79616:function(W,H,e){function g(c){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?g=function(h){return typeof h}:g=function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},g(c)}function R(c,A){if(!(c instanceof A))throw new TypeError("Cannot call a class as a function")}function a(c,A){return A&&(g(A)==="object"||typeof A=="function")?A:C(c)}function C(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}function T(c){return T=Object.setPrototypeOf?Object.getPrototypeOf:function(h){return h.__proto__||Object.getPrototypeOf(h)},T(c)}function v(c,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(A&&A.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),A&&y(c,A)}function y(c,A){return y=Object.setPrototypeOf||function(l,p){return l.__proto__=p,l},y(c,A)}var t={},r,s;function n(c,A,h){h||(h=Error);function l(M,S,P){return typeof A=="string"?A:A(M,S,P)}var p=function(M){v(S,M);function S(P,x,E){var w;return R(this,S),w=a(this,T(S).call(this,l(P,x,E))),w.code=c,w}return S}(h);t[c]=p}function o(c,A){if(Array.isArray(c)){var h=c.length;return c=c.map(function(l){return String(l)}),h>2?"one of ".concat(A," ").concat(c.slice(0,h-1).join(", "),", or ")+c[h-1]:h===2?"one of ".concat(A," ").concat(c[0]," or ").concat(c[1]):"of ".concat(A," ").concat(c[0])}else return"of ".concat(A," ").concat(String(c))}function f(c,A,h){return c.substr(!h||h<0?0:+h,A.length)===A}function u(c,A,h){return(h===void 0||h>c.length)&&(h=c.length),c.substring(h-A.length,h)===A}function m(c,A,h){return typeof h!="number"&&(h=0),h+A.length>c.length?!1:c.indexOf(A,h)!==-1}n("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),n("ERR_INVALID_ARG_TYPE",function(c,A,h){r===void 0&&(r=e(32791)),r(typeof c=="string","'name' must be a string");var l;typeof A=="string"&&f(A,"not ")?(l="must not be",A=A.replace(/^not /,"")):l="must be";var p;if(u(c," argument"))p="The ".concat(c," ").concat(l," ").concat(o(A,"type"));else{var M=m(c,".")?"property":"argument";p='The "'.concat(c,'" ').concat(M," ").concat(l," ").concat(o(A,"type"))}return p+=". Received type ".concat(g(h)),p},TypeError),n("ERR_INVALID_ARG_VALUE",function(c,A){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";s===void 0&&(s=e(43827));var l=s.inspect(A);return l.length>128&&(l="".concat(l.slice(0,128),"...")),"The argument '".concat(c,"' ").concat(h,". Received ").concat(l)},TypeError),n("ERR_INVALID_RETURN_VALUE",function(c,A,h){var l;return h&&h.constructor&&h.constructor.name?l="instance of ".concat(h.constructor.name):l="type ".concat(g(h)),"Expected ".concat(c,' to be returned from the "').concat(A,'"')+" function but got ".concat(l,".")},TypeError),n("ERR_MISSING_ARGS",function(){for(var c=arguments.length,A=new Array(c),h=0;h<c;h++)A[h]=arguments[h];r===void 0&&(r=e(32791)),r(A.length>0,"At least one arg needs to be specified");var l="The ",p=A.length;switch(A=A.map(function(M){return'"'.concat(M,'"')}),p){case 1:l+="".concat(A[0]," argument");break;case 2:l+="".concat(A[0]," and ").concat(A[1]," arguments");break;default:l+=A.slice(0,p-1).join(", "),l+=", and ".concat(A[p-1]," arguments");break}return"".concat(l," must be specified")},TypeError),W.exports.codes=t},74061:function(W,H,e){function g(Le,be){return C(Le)||a(Le,be)||R()}function R(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function a(Le,be){var Ae=[],He=!0,Ve=!1,ke=void 0;try{for(var Ge=Le[Symbol.iterator](),it;!(He=(it=Ge.next()).done)&&(Ae.push(it.value),!(be&&Ae.length===be));He=!0);}catch(et){Ve=!0,ke=et}finally{try{!He&&Ge.return!=null&&Ge.return()}finally{if(Ve)throw ke}}return Ae}function C(Le){if(Array.isArray(Le))return Le}function T(Le){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?T=function(Ae){return typeof Ae}:T=function(Ae){return Ae&&typeof Symbol=="function"&&Ae.constructor===Symbol&&Ae!==Symbol.prototype?"symbol":typeof Ae},T(Le)}var v=/a/g.flags!==void 0,y=function(be){var Ae=[];return be.forEach(function(He){return Ae.push(He)}),Ae},t=function(be){var Ae=[];return be.forEach(function(He,Ve){return Ae.push([Ve,He])}),Ae},r=Object.is?Object.is:e(64003),s=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},n=Number.isNaN?Number.isNaN:e(15567);function o(Le){return Le.call.bind(Le)}var f=o(Object.prototype.hasOwnProperty),u=o(Object.prototype.propertyIsEnumerable),m=o(Object.prototype.toString),c=e(43827).types,A=c.isAnyArrayBuffer,h=c.isArrayBufferView,l=c.isDate,p=c.isMap,M=c.isRegExp,S=c.isSet,P=c.isNativeError,x=c.isBoxedPrimitive,E=c.isNumberObject,w=c.isStringObject,i=c.isBooleanObject,L=c.isBigIntObject,b=c.isSymbolObject,O=c.isFloat32Array,_=c.isFloat64Array;function N(Le){if(Le.length===0||Le.length>10)return!0;for(var be=0;be<Le.length;be++){var Ae=Le.charCodeAt(be);if(Ae<48||Ae>57)return!0}return Le.length===10&&Le>=Math.pow(2,32)}function z(Le){return Object.keys(Le).filter(N).concat(s(Le).filter(Object.prototype.propertyIsEnumerable.bind(Le)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function B(Le,be){if(Le===be)return 0;for(var Ae=Le.length,He=be.length,Ve=0,ke=Math.min(Ae,He);Ve<ke;++Ve)if(Le[Ve]!==be[Ve]){Ae=Le[Ve],He=be[Ve];break}return Ae<He?-1:He<Ae?1:0}var U=!0,F=!1,V=0,j=1,$=2,ne=3;function oe(Le,be){return v?Le.source===be.source&&Le.flags===be.flags:RegExp.prototype.toString.call(Le)===RegExp.prototype.toString.call(be)}function ce(Le,be){if(Le.byteLength!==be.byteLength)return!1;for(var Ae=0;Ae<Le.byteLength;Ae++)if(Le[Ae]!==be[Ae])return!1;return!0}function Q(Le,be){return Le.byteLength!==be.byteLength?!1:B(new Uint8Array(Le.buffer,Le.byteOffset,Le.byteLength),new Uint8Array(be.buffer,be.byteOffset,be.byteLength))===0}function Z(Le,be){return Le.byteLength===be.byteLength&&B(new Uint8Array(Le),new Uint8Array(be))===0}function K(Le,be){return E(Le)?E(be)&&r(Number.prototype.valueOf.call(Le),Number.prototype.valueOf.call(be)):w(Le)?w(be)&&String.prototype.valueOf.call(Le)===String.prototype.valueOf.call(be):i(Le)?i(be)&&Boolean.prototype.valueOf.call(Le)===Boolean.prototype.valueOf.call(be):L(Le)?L(be)&&BigInt.prototype.valueOf.call(Le)===BigInt.prototype.valueOf.call(be):b(be)&&Symbol.prototype.valueOf.call(Le)===Symbol.prototype.valueOf.call(be)}function J(Le,be,Ae,He){if(Le===be)return Le!==0?!0:Ae?r(Le,be):!0;if(Ae){if(T(Le)!=="object")return typeof Le=="number"&&n(Le)&&n(be);if(T(be)!=="object"||Le===null||be===null||Object.getPrototypeOf(Le)!==Object.getPrototypeOf(be))return!1}else{if(Le===null||T(Le)!=="object")return be===null||T(be)!=="object"?Le==be:!1;if(be===null||T(be)!=="object")return!1}var Ve=m(Le),ke=m(be);if(Ve!==ke)return!1;if(Array.isArray(Le)){if(Le.length!==be.length)return!1;var Ge=z(Le),it=z(be);return Ge.length!==it.length?!1:le(Le,be,Ae,He,j,Ge)}if(Ve==="[object Object]"&&(!p(Le)&&p(be)||!S(Le)&&S(be)))return!1;if(l(Le)){if(!l(be)||Date.prototype.getTime.call(Le)!==Date.prototype.getTime.call(be))return!1}else if(M(Le)){if(!M(be)||!oe(Le,be))return!1}else if(P(Le)||Le instanceof Error){if(Le.message!==be.message||Le.name!==be.name)return!1}else if(h(Le)){if(!Ae&&(O(Le)||_(Le))){if(!ce(Le,be))return!1}else if(!Q(Le,be))return!1;var et=z(Le),tt=z(be);return et.length!==tt.length?!1:le(Le,be,Ae,He,V,et)}else{if(S(Le))return!S(be)||Le.size!==be.size?!1:le(Le,be,Ae,He,$);if(p(Le))return!p(be)||Le.size!==be.size?!1:le(Le,be,Ae,He,ne);if(A(Le)){if(!Z(Le,be))return!1}else if(x(Le)&&!K(Le,be))return!1}return le(Le,be,Ae,He,V)}function re(Le,be){return be.filter(function(Ae){return u(Le,Ae)})}function le(Le,be,Ae,He,Ve,ke){if(arguments.length===5){ke=Object.keys(Le);var Ge=Object.keys(be);if(ke.length!==Ge.length)return!1}for(var it=0;it<ke.length;it++)if(!f(be,ke[it]))return!1;if(Ae&&arguments.length===5){var et=s(Le);if(et.length!==0){var tt=0;for(it=0;it<et.length;it++){var at=et[it];if(u(Le,at)){if(!u(be,at))return!1;ke.push(at),tt++}else if(u(be,at))return!1}var vt=s(be);if(et.length!==vt.length&&re(be,vt).length!==tt)return!1}else{var yt=s(be);if(yt.length!==0&&re(be,yt).length!==0)return!1}}if(ke.length===0&&(Ve===V||Ve===j&&Le.length===0||Le.size===0))return!0;if(He===void 0)He={val1:new Map,val2:new Map,position:0};else{var gt=He.val1.get(Le);if(gt!==void 0){var Mt=He.val2.get(be);if(Mt!==void 0)return gt===Mt}He.position++}He.val1.set(Le,He.position),He.val2.set(be,He.position);var Ct=Te(Le,be,Ae,ke,He,Ve);return He.val1.delete(Le),He.val2.delete(be),Ct}function q(Le,be,Ae,He){for(var Ve=y(Le),ke=0;ke<Ve.length;ke++){var Ge=Ve[ke];if(J(be,Ge,Ae,He))return Le.delete(Ge),!0}return!1}function ee(Le){switch(T(Le)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":Le=+Le;case"number":if(n(Le))return!1}return!0}function ue(Le,be,Ae){var He=ee(Ae);return He??(be.has(He)&&!Le.has(He))}function se(Le,be,Ae,He,Ve){var ke=ee(Ae);if(ke!=null)return ke;var Ge=be.get(ke);return Ge===void 0&&!be.has(ke)||!J(He,Ge,!1,Ve)?!1:!Le.has(ke)&&J(He,Ge,!1,Ve)}function he(Le,be,Ae,He){for(var Ve=null,ke=y(Le),Ge=0;Ge<ke.length;Ge++){var it=ke[Ge];if(T(it)==="object"&&it!==null)Ve===null&&(Ve=new Set),Ve.add(it);else if(!be.has(it)){if(Ae||!ue(Le,be,it))return!1;Ve===null&&(Ve=new Set),Ve.add(it)}}if(Ve!==null){for(var et=y(be),tt=0;tt<et.length;tt++){var at=et[tt];if(T(at)==="object"&&at!==null){if(!q(Ve,at,Ae,He))return!1}else if(!Ae&&!Le.has(at)&&!q(Ve,at,Ae,He))return!1}return Ve.size===0}return!0}function me(Le,be,Ae,He,Ve,ke){for(var Ge=y(Le),it=0;it<Ge.length;it++){var et=Ge[it];if(J(Ae,et,Ve,ke)&&J(He,be.get(et),Ve,ke))return Le.delete(et),!0}return!1}function Ce(Le,be,Ae,He){for(var Ve=null,ke=t(Le),Ge=0;Ge<ke.length;Ge++){var it=g(ke[Ge],2),et=it[0],tt=it[1];if(T(et)==="object"&&et!==null)Ve===null&&(Ve=new Set),Ve.add(et);else{var at=be.get(et);if(at===void 0&&!be.has(et)||!J(tt,at,Ae,He)){if(Ae||!se(Le,be,et,tt,He))return!1;Ve===null&&(Ve=new Set),Ve.add(et)}}}if(Ve!==null){for(var vt=t(be),yt=0;yt<vt.length;yt++){var gt=g(vt[yt],2),et=gt[0],Mt=gt[1];if(T(et)==="object"&&et!==null){if(!me(Ve,Le,et,Mt,Ae,He))return!1}else if(!Ae&&(!Le.has(et)||!J(Le.get(et),Mt,!1,He))&&!me(Ve,Le,et,Mt,!1,He))return!1}return Ve.size===0}return!0}function Te(Le,be,Ae,He,Ve,ke){var Ge=0;if(ke===$){if(!he(Le,be,Ae,Ve))return!1}else if(ke===ne){if(!Ce(Le,be,Ae,Ve))return!1}else if(ke===j)for(;Ge<Le.length;Ge++)if(f(Le,Ge)){if(!f(be,Ge)||!J(Le[Ge],be[Ge],Ae,Ve))return!1}else{if(f(be,Ge))return!1;for(var it=Object.keys(Le);Ge<it.length;Ge++){var et=it[Ge];if(!f(be,et)||!J(Le[et],be[et],Ae,Ve))return!1}return it.length===Object.keys(be).length}for(Ge=0;Ge<He.length;Ge++){var tt=He[Ge];if(!J(Le[tt],be[tt],Ae,Ve))return!1}return!0}function Oe(Le,be){return J(Le,be,F)}function Ne(Le,be){return J(Le,be,U)}W.exports={isDeepEqual:Oe,isDeepStrictEqual:Ne}},95341:function(W,H){H.byteLength=y,H.toByteArray=r,H.fromByteArray=o;for(var e=[],g=[],R=typeof Uint8Array<"u"?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",C=0,T=a.length;C<T;++C)e[C]=a[C],g[a.charCodeAt(C)]=C;g[45]=62,g[95]=63;function v(f){var u=f.length;if(u%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var m=f.indexOf("=");m===-1&&(m=u);var c=m===u?0:4-m%4;return[m,c]}function y(f){var u=v(f),m=u[0],c=u[1];return(m+c)*3/4-c}function t(f,u,m){return(u+m)*3/4-m}function r(f){var u,m=v(f),c=m[0],A=m[1],h=new R(t(f,c,A)),l=0,p=A>0?c-4:c,M;for(M=0;M<p;M+=4)u=g[f.charCodeAt(M)]<<18|g[f.charCodeAt(M+1)]<<12|g[f.charCodeAt(M+2)]<<6|g[f.charCodeAt(M+3)],h[l++]=u>>16&255,h[l++]=u>>8&255,h[l++]=u&255;return A===2&&(u=g[f.charCodeAt(M)]<<2|g[f.charCodeAt(M+1)]>>4,h[l++]=u&255),A===1&&(u=g[f.charCodeAt(M)]<<10|g[f.charCodeAt(M+1)]<<4|g[f.charCodeAt(M+2)]>>2,h[l++]=u>>8&255,h[l++]=u&255),h}function s(f){return e[f>>18&63]+e[f>>12&63]+e[f>>6&63]+e[f&63]}function n(f,u,m){for(var c,A=[],h=u;h<m;h+=3)c=(f[h]<<16&16711680)+(f[h+1]<<8&65280)+(f[h+2]&255),A.push(s(c));return A.join("")}function o(f){for(var u,m=f.length,c=m%3,A=[],h=16383,l=0,p=m-c;l<p;l+=h)A.push(n(f,l,l+h>p?p:l+h));return c===1?(u=f[m-1],A.push(e[u>>2]+e[u<<4&63]+"==")):c===2&&(u=(f[m-2]<<8)+f[m-1],A.push(e[u>>10]+e[u>>4&63]+e[u<<2&63]+"=")),A.join("")}},91358:function(W){function H(T,v,y,t,r){for(var s=r+1;t<=r;){var n=t+r>>>1,o=T[n],f=y!==void 0?y(o,v):o-v;f>=0?(s=n,r=n-1):t=n+1}return s}function e(T,v,y,t,r){for(var s=r+1;t<=r;){var n=t+r>>>1,o=T[n],f=y!==void 0?y(o,v):o-v;f>0?(s=n,r=n-1):t=n+1}return s}function g(T,v,y,t,r){for(var s=t-1;t<=r;){var n=t+r>>>1,o=T[n],f=y!==void 0?y(o,v):o-v;f<0?(s=n,t=n+1):r=n-1}return s}function R(T,v,y,t,r){for(var s=t-1;t<=r;){var n=t+r>>>1,o=T[n],f=y!==void 0?y(o,v):o-v;f<=0?(s=n,t=n+1):r=n-1}return s}function a(T,v,y,t,r){for(;t<=r;){var s=t+r>>>1,n=T[s],o=y!==void 0?y(n,v):n-v;if(o===0)return s;o<=0?t=s+1:r=s-1}return-1}function C(T,v,y,t,r,s){return typeof y=="function"?s(T,v,y,t===void 0?0:t|0,r===void 0?T.length-1:r|0):s(T,v,void 0,y===void 0?0:y|0,t===void 0?T.length-1:t|0)}W.exports={ge:function(T,v,y,t,r){return C(T,v,y,t,r,H)},gt:function(T,v,y,t,r){return C(T,v,y,t,r,e)},lt:function(T,v,y,t,r){return C(T,v,y,t,r,g)},le:function(T,v,y,t,r){return C(T,v,y,t,r,R)},eq:function(T,v,y,t,r){return C(T,v,y,t,r,a)}}},13547:function(W,H){"use restrict";var e=32;H.INT_BITS=e,H.INT_MAX=2147483647,H.INT_MIN=-1<<e-1,H.sign=function(a){return(a>0)-(a<0)},H.abs=function(a){var C=a>>e-1;return(a^C)-C},H.min=function(a,C){return C^(a^C)&-(a<C)},H.max=function(a,C){return a^(a^C)&-(a<C)},H.isPow2=function(a){return!(a&a-1)&&!!a},H.log2=function(a){var C,T;return C=(a>65535)<<4,a>>>=C,T=(a>255)<<3,a>>>=T,C|=T,T=(a>15)<<2,a>>>=T,C|=T,T=(a>3)<<1,a>>>=T,C|=T,C|a>>1},H.log10=function(a){return a>=1e9?9:a>=1e8?8:a>=1e7?7:a>=1e6?6:a>=1e5?5:a>=1e4?4:a>=1e3?3:a>=100?2:a>=10?1:0},H.popCount=function(a){return a=a-(a>>>1&1431655765),a=(a&858993459)+(a>>>2&858993459),(a+(a>>>4)&252645135)*16843009>>>24};function g(a){var C=32;return a&=-a,a&&C--,a&65535&&(C-=16),a&16711935&&(C-=8),a&252645135&&(C-=4),a&858993459&&(C-=2),a&1431655765&&(C-=1),C}H.countTrailingZeros=g,H.nextPow2=function(a){return a+=a===0,--a,a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,a|=a>>>16,a+1},H.prevPow2=function(a){return a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,a|=a>>>16,a-(a>>>1)},H.parity=function(a){return a^=a>>>16,a^=a>>>8,a^=a>>>4,a&=15,27030>>>a&1};var R=new Array(256);(function(a){for(var C=0;C<256;++C){var T=C,v=C,y=7;for(T>>>=1;T;T>>>=1)v<<=1,v|=T&1,--y;a[C]=v<<y&255}})(R),H.reverse=function(a){return R[a&255]<<24|R[a>>>8&255]<<16|R[a>>>16&255]<<8|R[a>>>24&255]},H.interleave2=function(a,C){return a&=65535,a=(a|a<<8)&16711935,a=(a|a<<4)&252645135,a=(a|a<<2)&858993459,a=(a|a<<1)&1431655765,C&=65535,C=(C|C<<8)&16711935,C=(C|C<<4)&252645135,C=(C|C<<2)&858993459,C=(C|C<<1)&1431655765,a|C<<1},H.deinterleave2=function(a,C){return a=a>>>C&1431655765,a=(a|a>>>1)&858993459,a=(a|a>>>2)&252645135,a=(a|a>>>4)&16711935,a=(a|a>>>16)&65535,a<<16>>16},H.interleave3=function(a,C,T){return a&=1023,a=(a|a<<16)&4278190335,a=(a|a<<8)&251719695,a=(a|a<<4)&3272356035,a=(a|a<<2)&1227133513,C&=1023,C=(C|C<<16)&4278190335,C=(C|C<<8)&251719695,C=(C|C<<4)&3272356035,C=(C|C<<2)&1227133513,a|=C<<1,T&=1023,T=(T|T<<16)&4278190335,T=(T|T<<8)&251719695,T=(T|T<<4)&3272356035,T=(T|T<<2)&1227133513,a|T<<2},H.deinterleave3=function(a,C){return a=a>>>C&1227133513,a=(a|a>>>2)&3272356035,a=(a|a>>>4)&251719695,a=(a|a>>>8)&4278190335,a=(a|a>>>16)&1023,a<<22>>22},H.nextCombination=function(a){var C=a|a-1;return C+1|(~C&-~C)-1>>>g(a)+1}},44781:function(W,H,e){var g=e(53435);W.exports=a;var R=1e20;function a(v,y){y||(y={});var t=y.cutoff==null?.25:y.cutoff,r=y.radius==null?8:y.radius,s=y.channel||0,n,o,f,u,m,c,A,h,l,p,M;if(ArrayBuffer.isView(v)||Array.isArray(v)){if(!y.width||!y.height)throw Error("For raw data width and height should be provided by options");n=y.width,o=y.height,u=v,y.stride?c=y.stride:c=Math.floor(v.length/n/o)}else window.HTMLCanvasElement&&v instanceof window.HTMLCanvasElement?(h=v,A=h.getContext("2d"),n=h.width,o=h.height,l=A.getImageData(0,0,n,o),u=l.data,c=4):window.CanvasRenderingContext2D&&v instanceof window.CanvasRenderingContext2D?(h=v.canvas,A=v,n=h.width,o=h.height,l=A.getImageData(0,0,n,o),u=l.data,c=4):window.ImageData&&v instanceof window.ImageData&&(l=v,n=v.width,o=v.height,u=l.data,c=4);if(f=Math.max(n,o),window.Uint8ClampedArray&&u instanceof window.Uint8ClampedArray||window.Uint8Array&&u instanceof window.Uint8Array)for(m=u,u=Array(n*o),p=0,M=m.length;p<M;p++)u[p]=m[p*c+s]/255;else if(c!==1)throw Error("Raw data can have only 1 value per pixel");var S=Array(n*o),P=Array(n*o),x=Array(f),E=Array(f),w=Array(f+1),i=Array(f);for(p=0,M=n*o;p<M;p++){var L=u[p];S[p]=L===1?0:L===0?R:Math.pow(Math.max(0,.5-L),2),P[p]=L===1?R:L===0?0:Math.pow(Math.max(0,L-.5),2)}C(S,n,o,x,E,i,w),C(P,n,o,x,E,i,w);var b=window.Float32Array?new Float32Array(n*o):new Array(n*o);for(p=0,M=n*o;p<M;p++)b[p]=g(1-((S[p]-P[p])/r+t),0,1);return b}function C(v,y,t,r,s,n,o){for(var f=0;f<y;f++){for(var u=0;u<t;u++)r[u]=v[u*y+f];for(T(r,s,n,o,t),u=0;u<t;u++)v[u*y+f]=s[u]}for(u=0;u<t;u++){for(f=0;f<y;f++)r[f]=v[u*y+f];for(T(r,s,n,o,y),f=0;f<y;f++)v[u*y+f]=Math.sqrt(s[f])}}function T(v,y,t,r,s){t[0]=0,r[0]=-R,r[1]=+R;for(var n=1,o=0;n<s;n++){for(var f=(v[n]+n*n-(v[t[o]]+t[o]*t[o]))/(2*n-2*t[o]);f<=r[o];)o--,f=(v[n]+n*n-(v[t[o]]+t[o]*t[o]))/(2*n-2*t[o]);o++,t[o]=n,r[o]=f,r[o+1]=+R}for(n=0,o=0;n<s;n++){for(;r[o+1]<n;)o++;y[n]=(n-t[o])*(n-t[o])+v[t[o]]}}},6614:function(W,H,e){var g=e(68318),R=e(68222),a=R(g("String.prototype.indexOf"));W.exports=function(T,v){var y=g(T,!!v);return typeof y=="function"&&a(T,".prototype.")>-1?R(y):y}},68222:function(W,H,e){var g=e(77575),R=e(68318),a=R("%Function.prototype.apply%"),C=R("%Function.prototype.call%"),T=R("%Reflect.apply%",!0)||g.call(C,a),v=R("%Object.getOwnPropertyDescriptor%",!0),y=R("%Object.defineProperty%",!0),t=R("%Math.max%");if(y)try{y({},"a",{value:1})}catch{y=null}W.exports=function(n){var o=T(g,C,arguments);if(v&&y){var f=v(o,"length");f.configurable&&y(o,"length",{value:1+t(0,n.length-(arguments.length-1))})}return o};var r=function(){return T(g,a,arguments)};y?y(W.exports,"apply",{value:r}):W.exports.apply=r},53435:function(W){W.exports=H;function H(e,g,R){return g<R?e<g?g:e>R?R:e:e<R?R:e>g?g:e}},6475:function(W,H,e){var g=e(53435);W.exports=R,W.exports.to=R,W.exports.from=a;function R(C,T){T==null&&(T=!0);var v=C[0],y=C[1],t=C[2],r=C[3];r==null&&(r=T?1:255),T&&(v*=255,y*=255,t*=255,r*=255),v=g(v,0,255)&255,y=g(y,0,255)&255,t=g(t,0,255)&255,r=g(r,0,255)&255;var s=v*16777216+(y<<16)+(t<<8)+r;return s}function a(C,T){C=+C;var v=C>>>24,y=(C&16711680)>>>16,t=(C&65280)>>>8,r=C&255;return T===!1?[v,y,t,r]:[v/255,y/255,t/255,r/255]}},76857:function(W){W.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},25075:function(W,H,e){var g=e(36652),R=e(53435),a=e(90660);W.exports=function(v,y){(y==="float"||!y)&&(y="array"),y==="uint"&&(y="uint8"),y==="uint_clamped"&&(y="uint8_clamped");var t=a(y),r=new t(4),s=y!=="uint8"&&y!=="uint8_clamped";return(!v.length||typeof v=="string")&&(v=g(v),v[0]/=255,v[1]/=255,v[2]/=255),C(v)?(r[0]=v[0],r[1]=v[1],r[2]=v[2],r[3]=v[3]!=null?v[3]:255,s&&(r[0]/=255,r[1]/=255,r[2]/=255,r[3]/=255),r):(s?(r[0]=v[0],r[1]=v[1],r[2]=v[2],r[3]=v[3]!=null?v[3]:1):(r[0]=R(Math.floor(v[0]*255),0,255),r[1]=R(Math.floor(v[1]*255),0,255),r[2]=R(Math.floor(v[2]*255),0,255),r[3]=v[3]==null?255:R(Math.floor(v[3]*255),0,255)),r)};function C(T){return!!(T instanceof Uint8Array||T instanceof Uint8ClampedArray||Array.isArray(T)&&(T[0]>1||T[0]===0)&&(T[1]>1||T[1]===0)&&(T[2]>1||T[2]===0)&&(!T[3]||T[3]>1))}},90736:function(W,H,e){var g=e(76857),R=e(10973),a=e(46775);W.exports=T;var C={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function T(v){var y,t=[],r=1,s;if(typeof v=="string")if(g[v])t=g[v].slice(),s="rgb";else if(v==="transparent")r=0,s="rgb",t=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(v)){var n=v.slice(1),o=n.length,f=o<=4;r=1,f?(t=[parseInt(n[0]+n[0],16),parseInt(n[1]+n[1],16),parseInt(n[2]+n[2],16)],o===4&&(r=parseInt(n[3]+n[3],16)/255)):(t=[parseInt(n[0]+n[1],16),parseInt(n[2]+n[3],16),parseInt(n[4]+n[5],16)],o===8&&(r=parseInt(n[6]+n[7],16)/255)),t[0]||(t[0]=0),t[1]||(t[1]=0),t[2]||(t[2]=0),s="rgb"}else if(y=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(v)){var u=y[1],m=u==="rgb",n=u.replace(/a$/,"");s=n;var o=n==="cmyk"?4:n==="gray"?1:3;t=y[2].trim().split(/\s*,\s*/).map(function(l,p){if(/%$/.test(l))return p===o?parseFloat(l)/100:n==="rgb"?parseFloat(l)*255/100:parseFloat(l);if(n[p]==="h"){if(/deg$/.test(l))return parseFloat(l);if(C[l]!==void 0)return C[l]}return parseFloat(l)}),u===n&&t.push(1),r=m||t[o]===void 0?1:t[o],t=t.slice(0,o)}else v.length>10&&/[0-9](?:\s|\/)/.test(v)&&(t=v.match(/([0-9]+)/g).map(function(A){return parseFloat(A)}),s=v.match(/([a-z])/ig).join("").toLowerCase());else if(!isNaN(v))s="rgb",t=[v>>>16,(v&65280)>>>8,v&255];else if(R(v)){var c=a(v.r,v.red,v.R,null);c!==null?(s="rgb",t=[c,a(v.g,v.green,v.G),a(v.b,v.blue,v.B)]):(s="hsl",t=[a(v.h,v.hue,v.H),a(v.s,v.saturation,v.S),a(v.l,v.lightness,v.L,v.b,v.brightness)]),r=a(v.a,v.alpha,v.opacity,1),v.opacity!=null&&(r/=100)}else(Array.isArray(v)||e.g.ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(v))&&(t=[v[0],v[1],v[2]],s="rgb",r=v.length===4?v[3]:1);return{space:s,values:t,alpha:r}}},36652:function(W,H,e){var g=e(90736),R=e(80009),a=e(53435);W.exports=function(T){var v,y=g(T);return y.space?(v=Array(3),v[0]=a(y.values[0],0,255),v[1]=a(y.values[1],0,255),v[2]=a(y.values[2],0,255),y.space[0]==="h"&&(v=R.rgb(v)),v.push(a(y.alpha,0,1)),v):[]}},80009:function(W,H,e){var g=e(6866);W.exports={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(R){var a=R[0]/360,C=R[1]/100,T=R[2]/100,v,y,t,r,s;if(C===0)return s=T*255,[s,s,s];T<.5?y=T*(1+C):y=T+C-T*C,v=2*T-y,r=[0,0,0];for(var n=0;n<3;n++)t=a+.3333333333333333*-(n-1),t<0?t++:t>1&&t--,6*t<1?s=v+(y-v)*6*t:2*t<1?s=y:3*t<2?s=v+(y-v)*(.6666666666666666-t)*6:s=v,r[n]=s*255;return r}},g.hsl=function(R){var a=R[0]/255,C=R[1]/255,T=R[2]/255,v=Math.min(a,C,T),y=Math.max(a,C,T),t=y-v,r,s,n;return y===v?r=0:a===y?r=(C-T)/t:C===y?r=2+(T-a)/t:T===y&&(r=4+(a-C)/t),r=Math.min(r*60,360),r<0&&(r+=360),n=(v+y)/2,y===v?s=0:n<=.5?s=t/(y+v):s=t/(2-y-v),[r,s*100,n*100]}},6866:function(W){W.exports={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]}},24138:function(W){W.exports={AFG:"afghan",ALA:"\\b\\wland",ALB:"albania",DZA:"algeria",ASM:"^(?=.*americ).*samoa",AND:"andorra",AGO:"angola",AIA:"anguill?a",ATA:"antarctica",ATG:"antigua",ARG:"argentin",ARM:"armenia",ABW:"^(?!.*bonaire).*\\baruba",AUS:"australia",AUT:"^(?!.*hungary).*austria|\\baustri.*\\bemp",AZE:"azerbaijan",BHS:"bahamas",BHR:"bahrain",BGD:"bangladesh|^(?=.*east).*paki?stan",BRB:"barbados",BLR:"belarus|byelo",BEL:"^(?!.*luxem).*belgium",BLZ:"belize|^(?=.*british).*honduras",BEN:"benin|dahome",BMU:"bermuda",BTN:"bhutan",BOL:"bolivia",BES:"^(?=.*bonaire).*eustatius|^(?=.*carib).*netherlands|\\bbes.?islands",BIH:"herzegovina|bosnia",BWA:"botswana|bechuana",BVT:"bouvet",BRA:"brazil",IOT:"british.?indian.?ocean",BRN:"brunei",BGR:"bulgaria",BFA:"burkina|\\bfaso|upper.?volta",BDI:"burundi",CPV:"verde",KHM:"cambodia|kampuchea|khmer",CMR:"cameroon",CAN:"canada",CYM:"cayman",CAF:"\\bcentral.african.republic",TCD:"\\bchad",CHL:"\\bchile",CHN:"^(?!.*\\bmac)(?!.*\\bhong)(?!.*\\btai)(?!.*\\brep).*china|^(?=.*peo)(?=.*rep).*china",CXR:"christmas",CCK:"\\bcocos|keeling",COL:"colombia",COM:"comoro",COG:"^(?!.*\\bdem)(?!.*\\bd[\\.]?r)(?!.*kinshasa)(?!.*zaire)(?!.*belg)(?!.*l.opoldville)(?!.*free).*\\bcongo",COK:"\\bcook",CRI:"costa.?rica",CIV:"ivoire|ivory",HRV:"croatia",CUB:"\\bcuba",CUW:"^(?!.*bonaire).*\\bcura(c|)ao",CYP:"cyprus",CSK:"czechoslovakia",CZE:"^(?=.*rep).*czech|czechia|bohemia",COD:"\\bdem.*congo|congo.*\\bdem|congo.*\\bd[\\.]?r|\\bd[\\.]?r.*congo|belgian.?congo|congo.?free.?state|kinshasa|zaire|l.opoldville|drc|droc|rdc",DNK:"denmark",DJI:"djibouti",DMA:"dominica(?!n)",DOM:"dominican.rep",ECU:"ecuador",EGY:"egypt",SLV:"el.?salvador",GNQ:"guine.*eq|eq.*guine|^(?=.*span).*guinea",ERI:"eritrea",EST:"estonia",ETH:"ethiopia|abyssinia",FLK:"falkland|malvinas",FRO:"faroe|faeroe",FJI:"fiji",FIN:"finland",FRA:"^(?!.*\\bdep)(?!.*martinique).*france|french.?republic|\\bgaul",GUF:"^(?=.*french).*guiana",PYF:"french.?polynesia|tahiti",ATF:"french.?southern",GAB:"gabon",GMB:"gambia",GEO:"^(?!.*south).*georgia",DDR:"german.?democratic.?republic|democratic.?republic.*germany|east.germany",DEU:"^(?!.*east).*germany|^(?=.*\\bfed.*\\brep).*german",GHA:"ghana|gold.?coast",GIB:"gibraltar",GRC:"greece|hellenic|hellas",GRL:"greenland",GRD:"grenada",GLP:"guadeloupe",GUM:"\\bguam",GTM:"guatemala",GGY:"guernsey",GIN:"^(?!.*eq)(?!.*span)(?!.*bissau)(?!.*portu)(?!.*new).*guinea",GNB:"bissau|^(?=.*portu).*guinea",GUY:"guyana|british.?guiana",HTI:"haiti",HMD:"heard.*mcdonald",VAT:"holy.?see|vatican|papal.?st",HND:"^(?!.*brit).*honduras",HKG:"hong.?kong",HUN:"^(?!.*austr).*hungary",ISL:"iceland",IND:"india(?!.*ocea)",IDN:"indonesia",IRN:"\\biran|persia",IRQ:"\\biraq|mesopotamia",IRL:"(^ireland)|(^republic.*ireland)",IMN:"^(?=.*isle).*\\bman",ISR:"israel",ITA:"italy",JAM:"jamaica",JPN:"japan",JEY:"jersey",JOR:"jordan",KAZ:"kazak",KEN:"kenya|british.?east.?africa|east.?africa.?prot",KIR:"kiribati",PRK:"^(?=.*democrat|people|north|d.*p.*.r).*\\bkorea|dprk|korea.*(d.*p.*r)",KWT:"kuwait",KGZ:"kyrgyz|kirghiz",LAO:"\\blaos?\\b",LVA:"latvia",LBN:"lebanon",LSO:"lesotho|basuto",LBR:"liberia",LBY:"libya",LIE:"liechtenstein",LTU:"lithuania",LUX:"^(?!.*belg).*luxem",MAC:"maca(o|u)",MDG:"madagascar|malagasy",MWI:"malawi|nyasa",MYS:"malaysia",MDV:"maldive",MLI:"\\bmali\\b",MLT:"\\bmalta",MHL:"marshall",MTQ:"martinique",MRT:"mauritania",MUS:"mauritius",MYT:"\\bmayotte",MEX:"\\bmexic",FSM:"fed.*micronesia|micronesia.*fed",MCO:"monaco",MNG:"mongolia",MNE:"^(?!.*serbia).*montenegro",MSR:"montserrat",MAR:"morocco|\\bmaroc",MOZ:"mozambique",MMR:"myanmar|burma",NAM:"namibia",NRU:"nauru",NPL:"nepal",NLD:"^(?!.*\\bant)(?!.*\\bcarib).*netherlands",ANT:"^(?=.*\\bant).*(nether|dutch)",NCL:"new.?caledonia",NZL:"new.?zealand",NIC:"nicaragua",NER:"\\bniger(?!ia)",NGA:"nigeria",NIU:"niue",NFK:"norfolk",MNP:"mariana",NOR:"norway",OMN:"\\boman|trucial",PAK:"^(?!.*east).*paki?stan",PLW:"palau",PSE:"palestin|\\bgaza|west.?bank",PAN:"panama",PNG:"papua|new.?guinea",PRY:"paraguay",PER:"peru",PHL:"philippines",PCN:"pitcairn",POL:"poland",PRT:"portugal",PRI:"puerto.?rico",QAT:"qatar",KOR:"^(?!.*d.*p.*r)(?!.*democrat)(?!.*people)(?!.*north).*\\bkorea(?!.*d.*p.*r)",MDA:"moldov|b(a|e)ssarabia",REU:"r(e|)union",ROU:"r(o|u|ou)mania",RUS:"\\brussia|soviet.?union|u\\.?s\\.?s\\.?r|socialist.?republics",RWA:"rwanda",BLM:"barth(e|)lemy",SHN:"helena",KNA:"kitts|\\bnevis",LCA:"\\blucia",MAF:"^(?=.*collectivity).*martin|^(?=.*france).*martin(?!ique)|^(?=.*french).*martin(?!ique)",SPM:"miquelon",VCT:"vincent",WSM:"^(?!.*amer).*samoa",SMR:"san.?marino",STP:"\\bs(a|)o.?tom(e|)",SAU:"\\bsa\\w*.?arabia",SEN:"senegal",SRB:"^(?!.*monte).*serbia",SYC:"seychell",SLE:"sierra",SGP:"singapore",SXM:"^(?!.*martin)(?!.*saba).*maarten",SVK:"^(?!.*cze).*slovak",SVN:"slovenia",SLB:"solomon",SOM:"somali",ZAF:"south.africa|s\\\\..?africa",SGS:"south.?georgia|sandwich",SSD:"\\bs\\w*.?sudan",ESP:"spain",LKA:"sri.?lanka|ceylon",SDN:"^(?!.*\\bs(?!u)).*sudan",SUR:"surinam|dutch.?guiana",SJM:"svalbard",SWZ:"swaziland",SWE:"sweden",CHE:"switz|swiss",SYR:"syria",TWN:"taiwan|taipei|formosa|^(?!.*peo)(?=.*rep).*china",TJK:"tajik",THA:"thailand|\\bsiam",MKD:"macedonia|fyrom",TLS:"^(?=.*leste).*timor|^(?=.*east).*timor",TGO:"togo",TKL:"tokelau",TON:"tonga",TTO:"trinidad|tobago",TUN:"tunisia",TUR:"turkey",TKM:"turkmen",TCA:"turks",TUV:"tuvalu",UGA:"uganda",UKR:"ukrain",ARE:"emirates|^u\\.?a\\.?e\\.?$|united.?arab.?em",GBR:"united.?kingdom|britain|^u\\.?k\\.?$",TZA:"tanzania",USA:"united.?states\\b(?!.*islands)|\\bu\\.?s\\.?a\\.?\\b|^\\s*u\\.?s\\.?\\b(?!.*islands)",UMI:"minor.?outlying.?is",URY:"uruguay",UZB:"uzbek",VUT:"vanuatu|new.?hebrides",VEN:"venezuela",VNM:"^(?!.*republic).*viet.?nam|^(?=.*socialist).*viet.?nam",VGB:"^(?=.*\\bu\\.?\\s?k).*virgin|^(?=.*brit).*virgin|^(?=.*kingdom).*virgin",VIR:"^(?=.*\\bu\\.?\\s?s).*virgin|^(?=.*states).*virgin",WLF:"futuna|wallis",ESH:"western.sahara",YEM:"^(?!.*arab)(?!.*north)(?!.*sana)(?!.*peo)(?!.*dem)(?!.*south)(?!.*aden)(?!.*\\bp\\.?d\\.?r).*yemen",YMD:"^(?=.*peo).*yemen|^(?!.*rep)(?=.*dem).*yemen|^(?=.*south).*yemen|^(?=.*aden).*yemen|^(?=.*\\bp\\.?d\\.?r).*yemen",YUG:"yugoslavia",ZMB:"zambia|northern.?rhodesia",EAZ:"zanzibar",ZWE:"zimbabwe|^(?!.*northern).*rhodesia"}},72791:function(W,H,e){W.exports={parse:e(41004),stringify:e(53313)}},63625:function(W,H,e){var g=e(40402);W.exports={isSize:function(a){return/^[\d\.]/.test(a)||a.indexOf("/")!==-1||g.indexOf(a)!==-1}}},41004:function(W,H,e){var g=e(90448),R=e(38732),a=e(41901),C=e(15659),T=e(96209),v=e(83794),y=e(99011),t=e(63625).isSize;W.exports=s;var r=s.cache={};function s(o){if(typeof o!="string")throw new Error("Font argument must be a string.");if(r[o])return r[o];if(o==="")throw new Error("Cannot parse an empty string.");if(a.indexOf(o)!==-1)return r[o]={system:o};for(var f={style:"normal",variant:"normal",weight:"normal",stretch:"normal",lineHeight:"normal",size:"1rem",family:["serif"]},u=y(o,/\s+/),m;m=u.shift();){if(R.indexOf(m)!==-1)return["style","variant","weight","stretch"].forEach(function(A){f[A]=m}),r[o]=f;if(T.indexOf(m)!==-1){f.style=m;continue}if(m==="normal"||m==="small-caps"){f.variant=m;continue}if(v.indexOf(m)!==-1){f.stretch=m;continue}if(C.indexOf(m)!==-1){f.weight=m;continue}if(t(m)){var c=y(m,"/");if(f.size=c[0],c[1]!=null?f.lineHeight=n(c[1]):u[0]==="/"&&(u.shift(),f.lineHeight=n(u.shift())),!u.length)throw new Error("Missing required font-family.");return f.family=y(u.join(" "),/\s*,\s*/).map(g),r[o]=f}throw new Error("Unknown or unsupported font token: "+m)}throw new Error("Missing required font-size.")}function n(o){var f=parseFloat(o);return f.toString()===o?f:o}},53313:function(W,H,e){var g=e(71299),R=e(63625).isSize,a=o(e(38732)),C=o(e(41901)),T=o(e(15659)),v=o(e(96209)),y=o(e(83794)),t={normal:1,"small-caps":1},r={serif:1,"sans-serif":1,monospace:1,cursive:1,fantasy:1,"system-ui":1},s={style:"normal",variant:"normal",weight:"normal",stretch:"normal",size:"1rem",lineHeight:"normal",family:"serif"};W.exports=function(u){if(u=g(u,{style:"style fontstyle fontStyle font-style slope distinction",variant:"variant font-variant fontVariant fontvariant var capitalization",weight:"weight w font-weight fontWeight fontweight",stretch:"stretch font-stretch fontStretch fontstretch width",size:"size s font-size fontSize fontsize height em emSize",lineHeight:"lh line-height lineHeight lineheight leading",family:"font family fontFamily font-family fontfamily type typeface face",system:"system reserved default global"}),u.system)return u.system&&n(u.system,C),u.system;if(n(u.style,v),n(u.variant,t),n(u.weight,T),n(u.stretch,y),u.size==null&&(u.size=s.size),typeof u.size=="number"&&(u.size+="px"),!R)throw Error("Bad size value `"+u.size+"`");u.family||(u.family=s.family),Array.isArray(u.family)&&(u.family.length||(u.family=[s.family]),u.family=u.family.map(function(c){return r[c]?c:'"'+c+'"'}).join(", "));var m=[];return m.push(u.style),u.variant!==u.style&&m.push(u.variant),u.weight!==u.variant&&u.weight!==u.style&&m.push(u.weight),u.stretch!==u.weight&&u.stretch!==u.variant&&u.stretch!==u.style&&m.push(u.stretch),m.push(u.size+(u.lineHeight==null||u.lineHeight==="normal"||u.lineHeight+""=="1"?"":"/"+u.lineHeight)),m.push(u.family),m.filter(Boolean).join(" ")};function n(f,u){if(f&&!u[f]&&!a[f])throw Error("Unknown keyword `"+f+"`");return f}function o(f){for(var u={},m=0;m<f.length;m++)u[f[m]]=1;return u}},55174:function(W,H,e){var g=e(24582),R=e(10424),a=e(82527),C=e(19012),T=e(21780),v=e(16906),y=Function.prototype.bind,t=Object.defineProperty,r=Object.prototype.hasOwnProperty,s;s=function(n,o,f){var u=R(o)&&a(o.value),m;return m=C(o),delete m.writable,delete m.value,m.get=function(){return!f.overwriteDefinition&&r.call(this,n)?u:(o.value=y.call(u,f.resolveContext?f.resolveContext(this):this),t(this,n,o),this[n])},m},W.exports=function(n){var o=T(arguments[1]);return g(o.resolveContext)&&a(o.resolveContext),v(n,function(f,u){return s(u,f,o)})}},62072:function(W,H,e){var g=e(24582),R=e(84985),a=e(95879),C=e(21780),T=e(66741),v=W.exports=function(y,t){var r,s,n,o,f;return arguments.length<2||typeof y!="string"?(o=t,t=y,y=null):o=arguments[2],g(y)?(r=T.call(y,"c"),s=T.call(y,"e"),n=T.call(y,"w")):(r=n=!0,s=!1),f={value:t,configurable:r,enumerable:s,writable:n},o?a(C(o),f):f};v.gs=function(y,t,r){var s,n,o,f;return typeof y!="string"?(o=r,r=t,t=y,y=null):o=arguments[3],g(t)?R(t)?g(r)?R(r)||(o=r,r=void 0):r=void 0:(o=t,t=r=void 0):t=void 0,g(y)?(s=T.call(y,"c"),n=T.call(y,"e")):(s=!0,n=!1),f={get:t,set:r,configurable:s,enumerable:n},o?a(C(o),f):f}},33064:function(W,H,e){e.d(H,{j2:function(){return g},Fp:function(){return C},J6:function(){return v},TS:function(){return y},VV:function(){return t},w6:function(){return r},Sm:function(){return s}});function g(n,o){return n<o?-1:n>o?1:n>=o?0:NaN}function R(n){return n.length===1&&(n=a(n)),{left:function(o,f,u,m){for(u==null&&(u=0),m==null&&(m=o.length);u<m;){var c=u+m>>>1;n(o[c],f)<0?u=c+1:m=c}return u},right:function(o,f,u,m){for(u==null&&(u=0),m==null&&(m=o.length);u<m;){var c=u+m>>>1;n(o[c],f)>0?m=c:u=c+1}return u}}}function a(n){return function(o,f){return g(n(o),f)}}R(g);function C(n,o){var f=n.length,u=-1,m,c;if(o==null){for(;++u<f;)if((m=n[u])!=null&&m>=m)for(c=m;++u<f;)(m=n[u])!=null&&m>c&&(c=m)}else for(;++u<f;)if((m=o(n[u],u,n))!=null&&m>=m)for(c=m;++u<f;)(m=o(n[u],u,n))!=null&&m>c&&(c=m);return c}function T(n){return n===null?NaN:+n}function v(n,o){var f=n.length,u=f,m=-1,c,A=0;if(o==null)for(;++m<f;)isNaN(c=T(n[m]))?--u:A+=c;else for(;++m<f;)isNaN(c=T(o(n[m],m,n)))?--u:A+=c;if(u)return A/u}function y(n){for(var o=n.length,f,u=-1,m=0,c,A;++u<o;)m+=n[u].length;for(c=new Array(m);--o>=0;)for(A=n[o],f=A.length;--f>=0;)c[--m]=A[f];return c}function t(n,o){var f=n.length,u=-1,m,c;if(o==null){for(;++u<f;)if((m=n[u])!=null&&m>=m)for(c=m;++u<f;)(m=n[u])!=null&&c>m&&(c=m)}else for(;++u<f;)if((m=o(n[u],u,n))!=null&&m>=m)for(c=m;++u<f;)(m=o(n[u],u,n))!=null&&c>m&&(c=m);return c}function r(n,o,f){n=+n,o=+o,f=(m=arguments.length)<2?(o=n,n=0,1):m<3?1:+f;for(var u=-1,m=Math.max(0,Math.ceil((o-n)/f))|0,c=new Array(m);++u<m;)c[u]=n+u*f;return c}function s(n,o){var f=n.length,u=-1,m,c=0;if(o==null)for(;++u<f;)(m=+n[u])&&(c+=m);else for(;++u<f;)(m=+o(n[u],u,n))&&(c+=m);return c}},15140:function(W,H,e){e.d(H,{UI:function(){return C},b1:function(){return T}});var g="$";function R(){}R.prototype=a.prototype={constructor:R,has:function(o){return g+o in this},get:function(o){return this[g+o]},set:function(o,f){return this[g+o]=f,this},remove:function(o){var f=g+o;return f in this&&delete this[f]},clear:function(){for(var o in this)o[0]===g&&delete this[o]},keys:function(){var o=[];for(var f in this)f[0]===g&&o.push(f.slice(1));return o},values:function(){var o=[];for(var f in this)f[0]===g&&o.push(this[f]);return o},entries:function(){var o=[];for(var f in this)f[0]===g&&o.push({key:f.slice(1),value:this[f]});return o},size:function(){var o=0;for(var f in this)f[0]===g&&++o;return o},empty:function(){for(var o in this)if(o[0]===g)return!1;return!0},each:function(o){for(var f in this)f[0]===g&&o(this[f],f.slice(1),this)}};function a(o,f){var u=new R;if(o instanceof R)o.each(function(l,p){u.set(p,l)});else if(Array.isArray(o)){var m=-1,c=o.length,A;if(f==null)for(;++m<c;)u.set(m,o[m]);else for(;++m<c;)u.set(f(A=o[m],m,o),A)}else if(o)for(var h in o)u.set(h,o[h]);return u}var C=a;function T(){var o=[],f=[],u,m,c;function A(l,p,M,S){if(p>=o.length)return u!=null&&l.sort(u),m!=null?m(l):l;for(var P=-1,x=l.length,E=o[p++],w,i,L=C(),b,O=M();++P<x;)(b=L.get(w=E(i=l[P])+""))?b.push(i):L.set(w,[i]);return L.each(function(_,N){S(O,N,A(_,p,M,S))}),O}function h(l,p){if(++p>o.length)return l;var M,S=f[p-1];return m!=null&&p>=o.length?M=l.entries():(M=[],l.each(function(P,x){M.push({key:x,values:h(P,p)})})),S!=null?M.sort(function(P,x){return S(P.key,x.key)}):M}return c={object:function(l){return A(l,0,v,y)},map:function(l){return A(l,0,t,r)},entries:function(l){return h(A(l,0,t,r),0)},key:function(l){return o.push(l),c},sortKeys:function(l){return f[o.length-1]=l,c},sortValues:function(l){return u=l,c},rollup:function(l){return m=l,c}}}function v(){return{}}function y(o,f,u){o[f]=u}function t(){return C()}function r(o,f,u){o.set(f,u)}function s(){}var n=C.prototype;s.prototype={constructor:s,has:n.has,add:function(o){return o+="",this[g+o]=o,this},remove:n.remove,clear:n.clear,values:n.keys,size:n.size,empty:n.empty,each:n.each}},49887:function(W,H,e){e.r(H),e.d(H,{forceCenter:function(){return g},forceCollide:function(){return L},forceLink:function(){return N},forceManyBody:function(){return Ge},forceRadial:function(){return it},forceSimulation:function(){return ke},forceX:function(){return et},forceY:function(){return tt}});function g(at,vt){var yt;at==null&&(at=0),vt==null&&(vt=0);function gt(){var Mt,Ct=yt.length,Vt,Je=0,ze=0;for(Mt=0;Mt<Ct;++Mt)Vt=yt[Mt],Je+=Vt.x,ze+=Vt.y;for(Je=Je/Ct-at,ze=ze/Ct-vt,Mt=0;Mt<Ct;++Mt)Vt=yt[Mt],Vt.x-=Je,Vt.y-=ze}return gt.initialize=function(Mt){yt=Mt},gt.x=function(Mt){return arguments.length?(at=+Mt,gt):at},gt.y=function(Mt){return arguments.length?(vt=+Mt,gt):vt},gt}function R(at){return function(){return at}}function a(){return(Math.random()-.5)*1e-6}function C(at){var vt=+this._x.call(null,at),yt=+this._y.call(null,at);return T(this.cover(vt,yt),vt,yt,at)}function T(at,vt,yt,gt){if(isNaN(vt)||isNaN(yt))return at;var Mt,Ct=at._root,Vt={data:gt},Je=at._x0,ze=at._y0,_e=at._x1,Be=at._y1,De,we,xe,Ee,Pe,Ue,$e,qe;if(!Ct)return at._root=Vt,at;for(;Ct.length;)if((Pe=vt>=(De=(Je+_e)/2))?Je=De:_e=De,(Ue=yt>=(we=(ze+Be)/2))?ze=we:Be=we,Mt=Ct,!(Ct=Ct[$e=Ue<<1|Pe]))return Mt[$e]=Vt,at;if(xe=+at._x.call(null,Ct.data),Ee=+at._y.call(null,Ct.data),vt===xe&&yt===Ee)return Vt.next=Ct,Mt?Mt[$e]=Vt:at._root=Vt,at;do Mt=Mt?Mt[$e]=new Array(4):at._root=new Array(4),(Pe=vt>=(De=(Je+_e)/2))?Je=De:_e=De,(Ue=yt>=(we=(ze+Be)/2))?ze=we:Be=we;while(($e=Ue<<1|Pe)===(qe=(Ee>=we)<<1|xe>=De));return Mt[qe]=Ct,Mt[$e]=Vt,at}function v(at){var vt,yt,gt=at.length,Mt,Ct,Vt=new Array(gt),Je=new Array(gt),ze=1/0,_e=1/0,Be=-1/0,De=-1/0;for(yt=0;yt<gt;++yt)isNaN(Mt=+this._x.call(null,vt=at[yt]))||isNaN(Ct=+this._y.call(null,vt))||(Vt[yt]=Mt,Je[yt]=Ct,Mt<ze&&(ze=Mt),Mt>Be&&(Be=Mt),Ct<_e&&(_e=Ct),Ct>De&&(De=Ct));if(ze>Be||_e>De)return this;for(this.cover(ze,_e).cover(Be,De),yt=0;yt<gt;++yt)T(this,Vt[yt],Je[yt],at[yt]);return this}function y(at,vt){if(isNaN(at=+at)||isNaN(vt=+vt))return this;var yt=this._x0,gt=this._y0,Mt=this._x1,Ct=this._y1;if(isNaN(yt))Mt=(yt=Math.floor(at))+1,Ct=(gt=Math.floor(vt))+1;else{for(var Vt=Mt-yt,Je=this._root,ze,_e;yt>at||at>=Mt||gt>vt||vt>=Ct;)switch(_e=(vt<gt)<<1|at<yt,ze=new Array(4),ze[_e]=Je,Je=ze,Vt*=2,_e){case 0:Mt=yt+Vt,Ct=gt+Vt;break;case 1:yt=Mt-Vt,Ct=gt+Vt;break;case 2:Mt=yt+Vt,gt=Ct-Vt;break;case 3:yt=Mt-Vt,gt=Ct-Vt;break}this._root&&this._root.length&&(this._root=Je)}return this._x0=yt,this._y0=gt,this._x1=Mt,this._y1=Ct,this}function t(){var at=[];return this.visit(function(vt){if(!vt.length)do at.push(vt.data);while(vt=vt.next)}),at}function r(at){return arguments.length?this.cover(+at[0][0],+at[0][1]).cover(+at[1][0],+at[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function s(at,vt,yt,gt,Mt){this.node=at,this.x0=vt,this.y0=yt,this.x1=gt,this.y1=Mt}function n(at,vt,yt){var gt,Mt=this._x0,Ct=this._y0,Vt,Je,ze,_e,Be=this._x1,De=this._y1,we=[],xe=this._root,Ee,Pe;for(xe&&we.push(new s(xe,Mt,Ct,Be,De)),yt==null?yt=1/0:(Mt=at-yt,Ct=vt-yt,Be=at+yt,De=vt+yt,yt*=yt);Ee=we.pop();)if(!(!(xe=Ee.node)||(Vt=Ee.x0)>Be||(Je=Ee.y0)>De||(ze=Ee.x1)<Mt||(_e=Ee.y1)<Ct))if(xe.length){var Ue=(Vt+ze)/2,$e=(Je+_e)/2;we.push(new s(xe[3],Ue,$e,ze,_e),new s(xe[2],Vt,$e,Ue,_e),new s(xe[1],Ue,Je,ze,$e),new s(xe[0],Vt,Je,Ue,$e)),(Pe=(vt>=$e)<<1|at>=Ue)&&(Ee=we[we.length-1],we[we.length-1]=we[we.length-1-Pe],we[we.length-1-Pe]=Ee)}else{var qe=at-+this._x.call(null,xe.data),dt=vt-+this._y.call(null,xe.data),bt=qe*qe+dt*dt;if(bt<yt){var Gt=Math.sqrt(yt=bt);Mt=at-Gt,Ct=vt-Gt,Be=at+Gt,De=vt+Gt,gt=xe.data}}return gt}function o(at){if(isNaN(Be=+this._x.call(null,at))||isNaN(De=+this._y.call(null,at)))return this;var vt,yt=this._root,gt,Mt,Ct,Vt=this._x0,Je=this._y0,ze=this._x1,_e=this._y1,Be,De,we,xe,Ee,Pe,Ue,$e;if(!yt)return this;if(yt.length)for(;;){if((Ee=Be>=(we=(Vt+ze)/2))?Vt=we:ze=we,(Pe=De>=(xe=(Je+_e)/2))?Je=xe:_e=xe,vt=yt,!(yt=yt[Ue=Pe<<1|Ee]))return this;if(!yt.length)break;(vt[Ue+1&3]||vt[Ue+2&3]||vt[Ue+3&3])&&(gt=vt,$e=Ue)}for(;yt.data!==at;)if(Mt=yt,!(yt=yt.next))return this;return(Ct=yt.next)&&delete yt.next,Mt?(Ct?Mt.next=Ct:delete Mt.next,this):vt?(Ct?vt[Ue]=Ct:delete vt[Ue],(yt=vt[0]||vt[1]||vt[2]||vt[3])&&yt===(vt[3]||vt[2]||vt[1]||vt[0])&&!yt.length&&(gt?gt[$e]=yt:this._root=yt),this):(this._root=Ct,this)}function f(at){for(var vt=0,yt=at.length;vt<yt;++vt)this.remove(at[vt]);return this}function u(){return this._root}function m(){var at=0;return this.visit(function(vt){if(!vt.length)do++at;while(vt=vt.next)}),at}function c(at){var vt=[],yt,gt=this._root,Mt,Ct,Vt,Je,ze;for(gt&&vt.push(new s(gt,this._x0,this._y0,this._x1,this._y1));yt=vt.pop();)if(!at(gt=yt.node,Ct=yt.x0,Vt=yt.y0,Je=yt.x1,ze=yt.y1)&&gt.length){var _e=(Ct+Je)/2,Be=(Vt+ze)/2;(Mt=gt[3])&&vt.push(new s(Mt,_e,Be,Je,ze)),(Mt=gt[2])&&vt.push(new s(Mt,Ct,Be,_e,ze)),(Mt=gt[1])&&vt.push(new s(Mt,_e,Vt,Je,Be)),(Mt=gt[0])&&vt.push(new s(Mt,Ct,Vt,_e,Be))}return this}function A(at){var vt=[],yt=[],gt;for(this._root&&vt.push(new s(this._root,this._x0,this._y0,this._x1,this._y1));gt=vt.pop();){var Mt=gt.node;if(Mt.length){var Ct,Vt=gt.x0,Je=gt.y0,ze=gt.x1,_e=gt.y1,Be=(Vt+ze)/2,De=(Je+_e)/2;(Ct=Mt[0])&&vt.push(new s(Ct,Vt,Je,Be,De)),(Ct=Mt[1])&&vt.push(new s(Ct,Be,Je,ze,De)),(Ct=Mt[2])&&vt.push(new s(Ct,Vt,De,Be,_e)),(Ct=Mt[3])&&vt.push(new s(Ct,Be,De,ze,_e))}yt.push(gt)}for(;gt=yt.pop();)at(gt.node,gt.x0,gt.y0,gt.x1,gt.y1);return this}function h(at){return at[0]}function l(at){return arguments.length?(this._x=at,this):this._x}function p(at){return at[1]}function M(at){return arguments.length?(this._y=at,this):this._y}function S(at,vt,yt){var gt=new P(vt??h,yt??p,NaN,NaN,NaN,NaN);return at==null?gt:gt.addAll(at)}function P(at,vt,yt,gt,Mt,Ct){this._x=at,this._y=vt,this._x0=yt,this._y0=gt,this._x1=Mt,this._y1=Ct,this._root=void 0}function x(at){for(var vt={data:at.data},yt=vt;at=at.next;)yt=yt.next={data:at.data};return vt}var E=S.prototype=P.prototype;E.copy=function(){var at=new P(this._x,this._y,this._x0,this._y0,this._x1,this._y1),vt=this._root,yt,gt;if(!vt)return at;if(!vt.length)return at._root=x(vt),at;for(yt=[{source:vt,target:at._root=new Array(4)}];vt=yt.pop();)for(var Mt=0;Mt<4;++Mt)(gt=vt.source[Mt])&&(gt.length?yt.push({source:gt,target:vt.target[Mt]=new Array(4)}):vt.target[Mt]=x(gt));return at},E.add=C,E.addAll=v,E.cover=y,E.data=t,E.extent=r,E.find=n,E.remove=o,E.removeAll=f,E.root=u,E.size=m,E.visit=c,E.visitAfter=A,E.x=l,E.y=M;function w(at){return at.x+at.vx}function i(at){return at.y+at.vy}function L(at){var vt,yt,gt=1,Mt=1;typeof at!="function"&&(at=R(at==null?1:+at));function Ct(){for(var ze,_e=vt.length,Be,De,we,xe,Ee,Pe,Ue=0;Ue<Mt;++Ue)for(Be=S(vt,w,i).visitAfter(Vt),ze=0;ze<_e;++ze)De=vt[ze],Ee=yt[De.index],Pe=Ee*Ee,we=De.x+De.vx,xe=De.y+De.vy,Be.visit($e);function $e(qe,dt,bt,Gt,Qt){var At=qe.data,zt=qe.r,$t=Ee+zt;if(At){if(At.index>De.index){var Ar=we-At.x-At.vx,ut=xe-At.y-At.vy,Yt=Ar*Ar+ut*ut;Yt<$t*$t&&(Ar===0&&(Ar=a(),Yt+=Ar*Ar),ut===0&&(ut=a(),Yt+=ut*ut),Yt=($t-(Yt=Math.sqrt(Yt)))/Yt*gt,De.vx+=(Ar*=Yt)*($t=(zt*=zt)/(Pe+zt)),De.vy+=(ut*=Yt)*$t,At.vx-=Ar*($t=1-$t),At.vy-=ut*$t)}return}return dt>we+$t||Gt<we-$t||bt>xe+$t||Qt<xe-$t}}function Vt(ze){if(ze.data)return ze.r=yt[ze.data.index];for(var _e=ze.r=0;_e<4;++_e)ze[_e]&&ze[_e].r>ze.r&&(ze.r=ze[_e].r)}function Je(){if(vt){var ze,_e=vt.length,Be;for(yt=new Array(_e),ze=0;ze<_e;++ze)Be=vt[ze],yt[Be.index]=+at(Be,ze,vt)}}return Ct.initialize=function(ze){vt=ze,Je()},Ct.iterations=function(ze){return arguments.length?(Mt=+ze,Ct):Mt},Ct.strength=function(ze){return arguments.length?(gt=+ze,Ct):gt},Ct.radius=function(ze){return arguments.length?(at=typeof ze=="function"?ze:R(+ze),Je(),Ct):at},Ct}var b=e(15140);function O(at){return at.index}function _(at,vt){var yt=at.get(vt);if(!yt)throw new Error("missing: "+vt);return yt}function N(at){var vt=O,yt=Be,gt,Mt=R(30),Ct,Vt,Je,ze,_e=1;at==null&&(at=[]);function Be(Pe){return 1/Math.min(Je[Pe.source.index],Je[Pe.target.index])}function De(Pe){for(var Ue=0,$e=at.length;Ue<_e;++Ue)for(var qe=0,dt,bt,Gt,Qt,At,zt,$t;qe<$e;++qe)dt=at[qe],bt=dt.source,Gt=dt.target,Qt=Gt.x+Gt.vx-bt.x-bt.vx||a(),At=Gt.y+Gt.vy-bt.y-bt.vy||a(),zt=Math.sqrt(Qt*Qt+At*At),zt=(zt-Ct[qe])/zt*Pe*gt[qe],Qt*=zt,At*=zt,Gt.vx-=Qt*($t=ze[qe]),Gt.vy-=At*$t,bt.vx+=Qt*($t=1-$t),bt.vy+=At*$t}function we(){if(Vt){var Pe,Ue=Vt.length,$e=at.length,qe=(0,b.UI)(Vt,vt),dt;for(Pe=0,Je=new Array(Ue);Pe<$e;++Pe)dt=at[Pe],dt.index=Pe,typeof dt.source!="object"&&(dt.source=_(qe,dt.source)),typeof dt.target!="object"&&(dt.target=_(qe,dt.target)),Je[dt.source.index]=(Je[dt.source.index]||0)+1,Je[dt.target.index]=(Je[dt.target.index]||0)+1;for(Pe=0,ze=new Array($e);Pe<$e;++Pe)dt=at[Pe],ze[Pe]=Je[dt.source.index]/(Je[dt.source.index]+Je[dt.target.index]);gt=new Array($e),xe(),Ct=new Array($e),Ee()}}function xe(){if(Vt)for(var Pe=0,Ue=at.length;Pe<Ue;++Pe)gt[Pe]=+yt(at[Pe],Pe,at)}function Ee(){if(Vt)for(var Pe=0,Ue=at.length;Pe<Ue;++Pe)Ct[Pe]=+Mt(at[Pe],Pe,at)}return De.initialize=function(Pe){Vt=Pe,we()},De.links=function(Pe){return arguments.length?(at=Pe,we(),De):at},De.id=function(Pe){return arguments.length?(vt=Pe,De):vt},De.iterations=function(Pe){return arguments.length?(_e=+Pe,De):_e},De.strength=function(Pe){return arguments.length?(yt=typeof Pe=="function"?Pe:R(+Pe),xe(),De):yt},De.distance=function(Pe){return arguments.length?(Mt=typeof Pe=="function"?Pe:R(+Pe),Ee(),De):Mt},De}var z={value:function(){}};function B(){for(var at=0,vt=arguments.length,yt={},gt;at<vt;++at){if(!(gt=arguments[at]+"")||gt in yt||/[\s.]/.test(gt))throw new Error("illegal type: "+gt);yt[gt]=[]}return new U(yt)}function U(at){this._=at}function F(at,vt){return at.trim().split(/^|\s+/).map(function(yt){var gt="",Mt=yt.indexOf(".");if(Mt>=0&&(gt=yt.slice(Mt+1),yt=yt.slice(0,Mt)),yt&&!vt.hasOwnProperty(yt))throw new Error("unknown type: "+yt);return{type:yt,name:gt}})}U.prototype=B.prototype={constructor:U,on:function(at,vt){var yt=this._,gt=F(at+"",yt),Mt,Ct=-1,Vt=gt.length;if(arguments.length<2){for(;++Ct<Vt;)if((Mt=(at=gt[Ct]).type)&&(Mt=V(yt[Mt],at.name)))return Mt;return}if(vt!=null&&typeof vt!="function")throw new Error("invalid callback: "+vt);for(;++Ct<Vt;)if(Mt=(at=gt[Ct]).type)yt[Mt]=j(yt[Mt],at.name,vt);else if(vt==null)for(Mt in yt)yt[Mt]=j(yt[Mt],at.name,null);return this},copy:function(){var at={},vt=this._;for(var yt in vt)at[yt]=vt[yt].slice();return new U(at)},call:function(at,vt){if((Mt=arguments.length-2)>0)for(var yt=new Array(Mt),gt=0,Mt,Ct;gt<Mt;++gt)yt[gt]=arguments[gt+2];if(!this._.hasOwnProperty(at))throw new Error("unknown type: "+at);for(Ct=this._[at],gt=0,Mt=Ct.length;gt<Mt;++gt)Ct[gt].value.apply(vt,yt)},apply:function(at,vt,yt){if(!this._.hasOwnProperty(at))throw new Error("unknown type: "+at);for(var gt=this._[at],Mt=0,Ct=gt.length;Mt<Ct;++Mt)gt[Mt].value.apply(vt,yt)}};function V(at,vt){for(var yt=0,gt=at.length,Mt;yt<gt;++yt)if((Mt=at[yt]).name===vt)return Mt.value}function j(at,vt,yt){for(var gt=0,Mt=at.length;gt<Mt;++gt)if(at[gt].name===vt){at[gt]=z,at=at.slice(0,gt).concat(at.slice(gt+1));break}return yt!=null&&at.push({name:vt,value:yt}),at}var $=B,ne=0,oe=0,ce=0,Q=1e3,Z,K,J=0,re=0,le=0,q=typeof performance=="object"&&performance.now?performance:Date,ee=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(at){setTimeout(at,17)};function ue(){return re||(ee(se),re=q.now()+le)}function se(){re=0}function he(){this._call=this._time=this._next=null}he.prototype=me.prototype={constructor:he,restart:function(at,vt,yt){if(typeof at!="function")throw new TypeError("callback is not a function");yt=(yt==null?ue():+yt)+(vt==null?0:+vt),!this._next&&K!==this&&(K?K._next=this:Z=this,K=this),this._call=at,this._time=yt,Le()},stop:function(){this._call&&(this._call=null,this._time=1/0,Le())}};function me(at,vt,yt){var gt=new he;return gt.restart(at,vt,yt),gt}function Ce(){ue(),++ne;for(var at=Z,vt;at;)(vt=re-at._time)>=0&&at._call.call(null,vt),at=at._next;--ne}function Te(){re=(J=q.now())+le,ne=oe=0;try{Ce()}finally{ne=0,Ne(),re=0}}function Oe(){var at=q.now(),vt=at-J;vt>Q&&(le-=vt,J=at)}function Ne(){for(var at,vt=Z,yt,gt=1/0;vt;)vt._call?(gt>vt._time&&(gt=vt._time),at=vt,vt=vt._next):(yt=vt._next,vt._next=null,vt=at?at._next=yt:Z=yt);K=at,Le(gt)}function Le(at){if(!ne){oe&&(oe=clearTimeout(oe));var vt=at-re;vt>24?(at<1/0&&(oe=setTimeout(Te,at-q.now()-le)),ce&&(ce=clearInterval(ce))):(ce||(J=q.now(),ce=setInterval(Oe,Q)),ne=1,ee(Te))}}function be(at){return at.x}function Ae(at){return at.y}var He=10,Ve=Math.PI*(3-Math.sqrt(5));function ke(at){var vt,yt=1,gt=.001,Mt=1-Math.pow(gt,1/300),Ct=0,Vt=.6,Je=(0,b.UI)(),ze=me(Be),_e=$("tick","end");at==null&&(at=[]);function Be(){De(),_e.call("tick",vt),yt<gt&&(ze.stop(),_e.call("end",vt))}function De(Ee){var Pe,Ue=at.length,$e;Ee===void 0&&(Ee=1);for(var qe=0;qe<Ee;++qe)for(yt+=(Ct-yt)*Mt,Je.each(function(dt){dt(yt)}),Pe=0;Pe<Ue;++Pe)$e=at[Pe],$e.fx==null?$e.x+=$e.vx*=Vt:($e.x=$e.fx,$e.vx=0),$e.fy==null?$e.y+=$e.vy*=Vt:($e.y=$e.fy,$e.vy=0);return vt}function we(){for(var Ee=0,Pe=at.length,Ue;Ee<Pe;++Ee){if(Ue=at[Ee],Ue.index=Ee,Ue.fx!=null&&(Ue.x=Ue.fx),Ue.fy!=null&&(Ue.y=Ue.fy),isNaN(Ue.x)||isNaN(Ue.y)){var $e=He*Math.sqrt(Ee),qe=Ee*Ve;Ue.x=$e*Math.cos(qe),Ue.y=$e*Math.sin(qe)}(isNaN(Ue.vx)||isNaN(Ue.vy))&&(Ue.vx=Ue.vy=0)}}function xe(Ee){return Ee.initialize&&Ee.initialize(at),Ee}return we(),vt={tick:De,restart:function(){return ze.restart(Be),vt},stop:function(){return ze.stop(),vt},nodes:function(Ee){return arguments.length?(at=Ee,we(),Je.each(xe),vt):at},alpha:function(Ee){return arguments.length?(yt=+Ee,vt):yt},alphaMin:function(Ee){return arguments.length?(gt=+Ee,vt):gt},alphaDecay:function(Ee){return arguments.length?(Mt=+Ee,vt):+Mt},alphaTarget:function(Ee){return arguments.length?(Ct=+Ee,vt):Ct},velocityDecay:function(Ee){return arguments.length?(Vt=1-Ee,vt):1-Vt},force:function(Ee,Pe){return arguments.length>1?(Pe==null?Je.remove(Ee):Je.set(Ee,xe(Pe)),vt):Je.get(Ee)},find:function(Ee,Pe,Ue){var $e=0,qe=at.length,dt,bt,Gt,Qt,At;for(Ue==null?Ue=1/0:Ue*=Ue,$e=0;$e<qe;++$e)Qt=at[$e],dt=Ee-Qt.x,bt=Pe-Qt.y,Gt=dt*dt+bt*bt,Gt<Ue&&(At=Qt,Ue=Gt);return At},on:function(Ee,Pe){return arguments.length>1?(_e.on(Ee,Pe),vt):_e.on(Ee)}}}function Ge(){var at,vt,yt,gt=R(-30),Mt,Ct=1,Vt=1/0,Je=.81;function ze(we){var xe,Ee=at.length,Pe=S(at,be,Ae).visitAfter(Be);for(yt=we,xe=0;xe<Ee;++xe)vt=at[xe],Pe.visit(De)}function _e(){if(at){var we,xe=at.length,Ee;for(Mt=new Array(xe),we=0;we<xe;++we)Ee=at[we],Mt[Ee.index]=+gt(Ee,we,at)}}function Be(we){var xe=0,Ee,Pe,Ue=0,$e,qe,dt;if(we.length){for($e=qe=dt=0;dt<4;++dt)(Ee=we[dt])&&(Pe=Math.abs(Ee.value))&&(xe+=Ee.value,Ue+=Pe,$e+=Pe*Ee.x,qe+=Pe*Ee.y);we.x=$e/Ue,we.y=qe/Ue}else{Ee=we,Ee.x=Ee.data.x,Ee.y=Ee.data.y;do xe+=Mt[Ee.data.index];while(Ee=Ee.next)}we.value=xe}function De(we,xe,Ee,Pe){if(!we.value)return!0;var Ue=we.x-vt.x,$e=we.y-vt.y,qe=Pe-xe,dt=Ue*Ue+$e*$e;if(qe*qe/Je<dt)return dt<Vt&&(Ue===0&&(Ue=a(),dt+=Ue*Ue),$e===0&&($e=a(),dt+=$e*$e),dt<Ct&&(dt=Math.sqrt(Ct*dt)),vt.vx+=Ue*we.value*yt/dt,vt.vy+=$e*we.value*yt/dt),!0;if(we.length||dt>=Vt)return;(we.data!==vt||we.next)&&(Ue===0&&(Ue=a(),dt+=Ue*Ue),$e===0&&($e=a(),dt+=$e*$e),dt<Ct&&(dt=Math.sqrt(Ct*dt)));do we.data!==vt&&(qe=Mt[we.data.index]*yt/dt,vt.vx+=Ue*qe,vt.vy+=$e*qe);while(we=we.next)}return ze.initialize=function(we){at=we,_e()},ze.strength=function(we){return arguments.length?(gt=typeof we=="function"?we:R(+we),_e(),ze):gt},ze.distanceMin=function(we){return arguments.length?(Ct=we*we,ze):Math.sqrt(Ct)},ze.distanceMax=function(we){return arguments.length?(Vt=we*we,ze):Math.sqrt(Vt)},ze.theta=function(we){return arguments.length?(Je=we*we,ze):Math.sqrt(Je)},ze}function it(at,vt,yt){var gt,Mt=R(.1),Ct,Vt;typeof at!="function"&&(at=R(+at)),vt==null&&(vt=0),yt==null&&(yt=0);function Je(_e){for(var Be=0,De=gt.length;Be<De;++Be){var we=gt[Be],xe=we.x-vt||1e-6,Ee=we.y-yt||1e-6,Pe=Math.sqrt(xe*xe+Ee*Ee),Ue=(Vt[Be]-Pe)*Ct[Be]*_e/Pe;we.vx+=xe*Ue,we.vy+=Ee*Ue}}function ze(){if(gt){var _e,Be=gt.length;for(Ct=new Array(Be),Vt=new Array(Be),_e=0;_e<Be;++_e)Vt[_e]=+at(gt[_e],_e,gt),Ct[_e]=isNaN(Vt[_e])?0:+Mt(gt[_e],_e,gt)}}return Je.initialize=function(_e){gt=_e,ze()},Je.strength=function(_e){return arguments.length?(Mt=typeof _e=="function"?_e:R(+_e),ze(),Je):Mt},Je.radius=function(_e){return arguments.length?(at=typeof _e=="function"?_e:R(+_e),ze(),Je):at},Je.x=function(_e){return arguments.length?(vt=+_e,Je):vt},Je.y=function(_e){return arguments.length?(yt=+_e,Je):yt},Je}function et(at){var vt=R(.1),yt,gt,Mt;typeof at!="function"&&(at=R(at==null?0:+at));function Ct(Je){for(var ze=0,_e=yt.length,Be;ze<_e;++ze)Be=yt[ze],Be.vx+=(Mt[ze]-Be.x)*gt[ze]*Je}function Vt(){if(yt){var Je,ze=yt.length;for(gt=new Array(ze),Mt=new Array(ze),Je=0;Je<ze;++Je)gt[Je]=isNaN(Mt[Je]=+at(yt[Je],Je,yt))?0:+vt(yt[Je],Je,yt)}}return Ct.initialize=function(Je){yt=Je,Vt()},Ct.strength=function(Je){return arguments.length?(vt=typeof Je=="function"?Je:R(+Je),Vt(),Ct):vt},Ct.x=function(Je){return arguments.length?(at=typeof Je=="function"?Je:R(+Je),Vt(),Ct):at},Ct}function tt(at){var vt=R(.1),yt,gt,Mt;typeof at!="function"&&(at=R(at==null?0:+at));function Ct(Je){for(var ze=0,_e=yt.length,Be;ze<_e;++ze)Be=yt[ze],Be.vy+=(Mt[ze]-Be.y)*gt[ze]*Je}function Vt(){if(yt){var Je,ze=yt.length;for(gt=new Array(ze),Mt=new Array(ze),Je=0;Je<ze;++Je)gt[Je]=isNaN(Mt[Je]=+at(yt[Je],Je,yt))?0:+vt(yt[Je],Je,yt)}}return Ct.initialize=function(Je){yt=Je,Vt()},Ct.strength=function(Je){return arguments.length?(vt=typeof Je=="function"?Je:R(+Je),Vt(),Ct):vt},Ct.y=function(Je){return arguments.length?(at=typeof Je=="function"?Je:R(+Je),Vt(),Ct):at},Ct}},60721:function(W,H,e){e.d(H,{WU:function(){return l},FF:function(){return A}});function g(M){return Math.abs(M=Math.round(M))>=1e21?M.toLocaleString("en").replace(/,/g,""):M.toString(10)}function R(M,S){if((P=(M=S?M.toExponential(S-1):M.toExponential()).indexOf("e"))<0)return null;var P,x=M.slice(0,P);return[x.length>1?x[0]+x.slice(2):x,+M.slice(P+1)]}function a(M){return M=R(Math.abs(M)),M?M[1]:NaN}function C(M,S){return function(P,x){for(var E=P.length,w=[],i=0,L=M[0],b=0;E>0&&L>0&&(b+L+1>x&&(L=Math.max(1,x-b)),w.push(P.substring(E-=L,E+L)),!((b+=L+1)>x));)L=M[i=(i+1)%M.length];return w.reverse().join(S)}}function T(M){return function(S){return S.replace(/[0-9]/g,function(P){return M[+P]})}}var v=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function y(M){if(!(S=v.exec(M)))throw new Error("invalid format: "+M);var S;return new t({fill:S[1],align:S[2],sign:S[3],symbol:S[4],zero:S[5],width:S[6],comma:S[7],precision:S[8]&&S[8].slice(1),trim:S[9],type:S[10]})}y.prototype=t.prototype;function t(M){this.fill=M.fill===void 0?" ":M.fill+"",this.align=M.align===void 0?">":M.align+"",this.sign=M.sign===void 0?"-":M.sign+"",this.symbol=M.symbol===void 0?"":M.symbol+"",this.zero=!!M.zero,this.width=M.width===void 0?void 0:+M.width,this.comma=!!M.comma,this.precision=M.precision===void 0?void 0:+M.precision,this.trim=!!M.trim,this.type=M.type===void 0?"":M.type+""}t.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function r(M){e:for(var S=M.length,P=1,x=-1,E;P<S;++P)switch(M[P]){case".":x=E=P;break;case"0":x===0&&(x=P),E=P;break;default:if(!+M[P])break e;x>0&&(x=0);break}return x>0?M.slice(0,x)+M.slice(E+1):M}var s;function n(M,S){var P=R(M,S);if(!P)return M+"";var x=P[0],E=P[1],w=E-(s=Math.max(-8,Math.min(8,Math.floor(E/3)))*3)+1,i=x.length;return w===i?x:w>i?x+new Array(w-i+1).join("0"):w>0?x.slice(0,w)+"."+x.slice(w):"0."+new Array(1-w).join("0")+R(M,Math.max(0,S+w-1))[0]}function o(M,S){var P=R(M,S);if(!P)return M+"";var x=P[0],E=P[1];return E<0?"0."+new Array(-E).join("0")+x:x.length>E+1?x.slice(0,E+1)+"."+x.slice(E+1):x+new Array(E-x.length+2).join("0")}var f={"%":function(M,S){return(M*100).toFixed(S)},b:function(M){return Math.round(M).toString(2)},c:function(M){return M+""},d:g,e:function(M,S){return M.toExponential(S)},f:function(M,S){return M.toFixed(S)},g:function(M,S){return M.toPrecision(S)},o:function(M){return Math.round(M).toString(8)},p:function(M,S){return o(M*100,S)},r:o,s:n,X:function(M){return Math.round(M).toString(16).toUpperCase()},x:function(M){return Math.round(M).toString(16)}};function u(M){return M}var m=Array.prototype.map,c=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function A(M){var S=M.grouping===void 0||M.thousands===void 0?u:C(m.call(M.grouping,Number),M.thousands+""),P=M.currency===void 0?"":M.currency[0]+"",x=M.currency===void 0?"":M.currency[1]+"",E=M.decimal===void 0?".":M.decimal+"",w=M.numerals===void 0?u:T(m.call(M.numerals,String)),i=M.percent===void 0?"%":M.percent+"",L=M.minus===void 0?"-":M.minus+"",b=M.nan===void 0?"NaN":M.nan+"";function O(N){N=y(N);var z=N.fill,B=N.align,U=N.sign,F=N.symbol,V=N.zero,j=N.width,$=N.comma,ne=N.precision,oe=N.trim,ce=N.type;ce==="n"?($=!0,ce="g"):f[ce]||(ne===void 0&&(ne=12),oe=!0,ce="g"),(V||z==="0"&&B==="=")&&(V=!0,z="0",B="=");var Q=F==="$"?P:F==="#"&&/[boxX]/.test(ce)?"0"+ce.toLowerCase():"",Z=F==="$"?x:/[%p]/.test(ce)?i:"",K=f[ce],J=/[defgprs%]/.test(ce);ne=ne===void 0?6:/[gprs]/.test(ce)?Math.max(1,Math.min(21,ne)):Math.max(0,Math.min(20,ne));function re(le){var q=Q,ee=Z,ue,se,he;if(ce==="c")ee=K(le)+ee,le="";else{le=+le;var me=le<0||1/le<0;if(le=isNaN(le)?b:K(Math.abs(le),ne),oe&&(le=r(le)),me&&+le==0&&U!=="+"&&(me=!1),q=(me?U==="("?U:L:U==="-"||U==="("?"":U)+q,ee=(ce==="s"?c[8+s/3]:"")+ee+(me&&U==="("?")":""),J){for(ue=-1,se=le.length;++ue<se;)if(he=le.charCodeAt(ue),48>he||he>57){ee=(he===46?E+le.slice(ue+1):le.slice(ue))+ee,le=le.slice(0,ue);break}}}$&&!V&&(le=S(le,1/0));var Ce=q.length+le.length+ee.length,Te=Ce<j?new Array(j-Ce+1).join(z):"";switch($&&V&&(le=S(Te+le,Te.length?j-ee.length:1/0),Te=""),B){case"<":le=q+le+ee+Te;break;case"=":le=q+Te+le+ee;break;case"^":le=Te.slice(0,Ce=Te.length>>1)+q+le+ee+Te.slice(Ce);break;default:le=Te+q+le+ee;break}return w(le)}return re.toString=function(){return N+""},re}function _(N,z){var B=O((N=y(N),N.type="f",N)),U=Math.max(-8,Math.min(8,Math.floor(a(z)/3)))*3,F=Math.pow(10,-U),V=c[8+U/3];return function(j){return B(F*j)+V}}return{format:O,formatPrefix:_}}var h,l;p({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function p(M){return h=A(M),l=h.format,h.formatPrefix,h}},65704:function(W,H,e){e.r(H),e.d(H,{geoAiry:function(){return V},geoAiryRaw:function(){return F},geoAitoff:function(){return $},geoAitoffRaw:function(){return j},geoArmadillo:function(){return oe},geoArmadilloRaw:function(){return ne},geoAugust:function(){return Q},geoAugustRaw:function(){return ce},geoBaker:function(){return re},geoBakerRaw:function(){return J},geoBerghaus:function(){return ee},geoBerghausRaw:function(){return q},geoBertin1953:function(){return Ne},geoBertin1953Raw:function(){return Oe},geoBoggs:function(){return it},geoBoggsRaw:function(){return Ge},geoBonne:function(){return yt},geoBonneRaw:function(){return vt},geoBottomley:function(){return Mt},geoBottomleyRaw:function(){return gt},geoBromley:function(){return Vt},geoBromleyRaw:function(){return Ct},geoChamberlin:function(){return Pe},geoChamberlinAfrica:function(){return Ee},geoChamberlinRaw:function(){return we},geoCollignon:function(){return $e},geoCollignonRaw:function(){return Ue},geoCraig:function(){return dt},geoCraigRaw:function(){return qe},geoCraster:function(){return Qt},geoCrasterRaw:function(){return Gt},geoCylindricalEqualArea:function(){return zt},geoCylindricalEqualAreaRaw:function(){return At},geoCylindricalStereographic:function(){return Ar},geoCylindricalStereographicRaw:function(){return $t},geoEckert1:function(){return Yt},geoEckert1Raw:function(){return ut},geoEckert2:function(){return mr},geoEckert2Raw:function(){return Kt},geoEckert3:function(){return pt},geoEckert3Raw:function(){return ur},geoEckert4:function(){return xt},geoEckert4Raw:function(){return st},geoEckert5:function(){return Dt},geoEckert5Raw:function(){return St},geoEckert6:function(){return Bt},geoEckert6Raw:function(){return Rt},geoEisenlohr:function(){return lr},geoEisenlohrRaw:function(){return Xt},geoFahey:function(){return je},geoFaheyRaw:function(){return dr},geoFoucaut:function(){return It},geoFoucautRaw:function(){return Ye},geoFoucautSinusoidal:function(){return jt},geoFoucautSinusoidalRaw:function(){return kt},geoGilbert:function(){return hr},geoGingery:function(){return Vr},geoGingeryRaw:function(){return gr},geoGinzburg4:function(){return pn},geoGinzburg4Raw:function(){return _r},geoGinzburg5:function(){return Bn},geoGinzburg5Raw:function(){return en},geoGinzburg6:function(){return Mr},geoGinzburg6Raw:function(){return Tn},geoGinzburg8:function(){return Gr},geoGinzburg8Raw:function(){return Er},geoGinzburg9:function(){return an},geoGinzburg9Raw:function(){return Ur},geoGringorten:function(){return oa},geoGringortenQuincuncial:function(){return yv},geoGringortenRaw:function(){return mn},geoGuyou:function(){return yn},geoGuyouRaw:function(){return Tr},geoHammer:function(){return me},geoHammerRaw:function(){return se},geoHammerRetroazimuthal:function(){return Nn},geoHammerRetroazimuthalRaw:function(){return Mn},geoHealpix:function(){return vn},geoHealpixRaw:function(){return tn},geoHill:function(){return Lr},geoHillRaw:function(){return Dr},geoHomolosine:function(){return Un},geoHomolosineRaw:function(){return xn},geoHufnagel:function(){return fa},geoHufnagelRaw:function(){return aa},geoHyperelliptical:function(){return io},geoHyperellipticalRaw:function(){return ga},geoInterrupt:function(){return Io},geoInterruptedBoggs:function(){return ai},geoInterruptedHomolosine:function(){return fu},geoInterruptedMollweide:function(){return Uo},geoInterruptedMollweideHemispheres:function(){return ju},geoInterruptedQuarticAuthalic:function(){return dc},geoInterruptedSinuMollweide:function(){return Zu},geoInterruptedSinusoidal:function(){return eo},geoKavrayskiy7:function(){return So},geoKavrayskiy7Raw:function(){return $o},geoLagrange:function(){return Rs},geoLagrangeRaw:function(){return as},geoLarrivee:function(){return Jc},geoLarriveeRaw:function(){return co},geoLaskowski:function(){return ho},geoLaskowskiRaw:function(){return Ds},geoLittrow:function(){return Qs},geoLittrowRaw:function(){return lc},geoLoximuthal:function(){return uc},geoLoximuthalRaw:function(){return Is},geoMiller:function(){return tv},geoMillerRaw:function(){return fc},geoModifiedStereographic:function(){return Fl},geoModifiedStereographicAlaska:function(){return ov},geoModifiedStereographicGs48:function(){return Qc},geoModifiedStereographicGs50:function(){return sv},geoModifiedStereographicLee:function(){return hc},geoModifiedStereographicMiller:function(){return lv},geoModifiedStereographicRaw:function(){return Xu},geoMollweide:function(){return He},geoMollweideRaw:function(){return Ae},geoMtFlatPolarParabolic:function(){return uv},geoMtFlatPolarParabolicRaw:function(){return Sf},geoMtFlatPolarQuartic:function(){return qc},geoMtFlatPolarQuarticRaw:function(){return qs},geoMtFlatPolarSinusoidal:function(){return fv},geoMtFlatPolarSinusoidalRaw:function(){return vc},geoNaturalEarth:function(){return is.Z},geoNaturalEarth2:function(){return Ku},geoNaturalEarth2Raw:function(){return Nl},geoNaturalEarthRaw:function(){return is.K},geoNellHammer:function(){return ks},geoNellHammerRaw:function(){return hu},geoNicolosi:function(){return dl},geoNicolosiRaw:function(){return vu},geoPatterson:function(){return cv},geoPattersonRaw:function(){return Ef},geoPeirceQuincuncial:function(){return ah},geoPierceQuincuncial:function(){return ah},geoPolyconic:function(){return hv},geoPolyconicRaw:function(){return gc},geoPolyhedral:function(){return mi},geoPolyhedralButterfly:function(){return tl},geoPolyhedralCollignon:function(){return yl},geoPolyhedralWaterman:function(){return ml},geoProject:function(){return pv},geoQuantize:function(){return ih},geoQuincuncial:function(){return Df},geoRectangularPolyconic:function(){return xl},geoRectangularPolyconicRaw:function(){return Tc},geoRobinson:function(){return Ac},geoRobinsonRaw:function(){return zs},geoSatellite:function(){return If},geoSatelliteRaw:function(){return Vl},geoSinuMollweide:function(){return Xn},geoSinuMollweideRaw:function(){return On},geoSinusoidal:function(){return at},geoSinusoidalRaw:function(){return tt},geoStitch:function(){return Yl},geoTimes:function(){return Jo},geoTimesRaw:function(){return Wo},geoTwoPointAzimuthal:function(){return Of},geoTwoPointAzimuthalRaw:function(){return lh},geoTwoPointAzimuthalUsa:function(){return wu},geoTwoPointEquidistant:function(){return Cc},geoTwoPointEquidistantRaw:function(){return uh},geoTwoPointEquidistantUsa:function(){return bs},geoVanDerGrinten:function(){return nf},geoVanDerGrinten2:function(){return xv},geoVanDerGrinten2Raw:function(){return ol},geoVanDerGrinten3:function(){return Ff},geoVanDerGrinten3Raw:function(){return Lc},geoVanDerGrinten4:function(){return fh},geoVanDerGrinten4Raw:function(){return Mo},geoVanDerGrintenRaw:function(){return Tl},geoWagner:function(){return of},geoWagner4:function(){return Rc},geoWagner4Raw:function(){return Pc},geoWagner6:function(){return Nf},geoWagner6Raw:function(){return Zl},geoWagner7:function(){return Al},geoWagnerRaw:function(){return Os},geoWiechel:function(){return hh},geoWiechelRaw:function(){return sf},geoWinkel3:function(){return vh},geoWinkel3Raw:function(){return lf}});var g=e(15002),R=Math.abs,a=Math.atan,C=Math.atan2,T=Math.cos,v=Math.exp,y=Math.floor,t=Math.log,r=Math.max,s=Math.min,n=Math.pow,o=Math.round,f=Math.sign||function(Xe){return Xe>0?1:Xe<0?-1:0},u=Math.sin,m=Math.tan,c=1e-6,A=1e-12,h=Math.PI,l=h/2,p=h/4,M=Math.SQRT1_2,S=O(2),P=O(h),x=h*2,E=180/h,w=h/180;function i(Xe){return Xe?Xe/Math.sin(Xe):1}function L(Xe){return Xe>1?l:Xe<-1?-l:Math.asin(Xe)}function b(Xe){return Xe>1?0:Xe<-1?h:Math.acos(Xe)}function O(Xe){return Xe>0?Math.sqrt(Xe):0}function _(Xe){return Xe=v(2*Xe),(Xe-1)/(Xe+1)}function N(Xe){return(v(Xe)-v(-Xe))/2}function z(Xe){return(v(Xe)+v(-Xe))/2}function B(Xe){return t(Xe+O(Xe*Xe+1))}function U(Xe){return t(Xe+O(Xe*Xe-1))}function F(Xe){var nt=m(Xe/2),ht=2*t(T(Xe/2))/(nt*nt);function mt(_t,Lt){var Ft=T(_t),cr=T(Lt),yr=u(Lt),ar=cr*Ft,Sr=-((1-ar?t((1+ar)/2)/(1-ar):-.5)+ht/(1+ar));return[Sr*cr*u(_t),Sr*yr]}return mt.invert=function(_t,Lt){var Ft=O(_t*_t+Lt*Lt),cr=-Xe/2,yr=50,ar;if(!Ft)return[0,0];do{var Sr=cr/2,Rr=T(Sr),jr=u(Sr),$r=jr/Rr,bn=-t(R(Rr));cr-=ar=(2/$r*bn-ht*$r-Ft)/(-bn/(jr*jr)+1-ht/(2*Rr*Rr))*(Rr<0?.7:1)}while(R(ar)>c&&--yr>0);var An=u(cr);return[C(_t*An,Ft*T(cr)),L(Lt*An/Ft)]},mt}function V(){var Xe=l,nt=(0,g.r)(F),ht=nt(Xe);return ht.radius=function(mt){return arguments.length?nt(Xe=mt*w):Xe*E},ht.scale(179.976).clipAngle(147)}function j(Xe,nt){var ht=T(nt),mt=i(b(ht*T(Xe/=2)));return[2*ht*u(Xe)*mt,u(nt)*mt]}j.invert=function(Xe,nt){if(!(Xe*Xe+4*nt*nt>h*h+c)){var ht=Xe,mt=nt,_t=25;do{var Lt=u(ht),Ft=u(ht/2),cr=T(ht/2),yr=u(mt),ar=T(mt),Sr=u(2*mt),Rr=yr*yr,jr=ar*ar,$r=Ft*Ft,bn=1-jr*cr*cr,An=bn?b(ar*cr)*O(kn=1/bn):kn=0,kn,da=2*An*ar*Ft-Xe,Pa=An*yr-nt,Da=kn*(jr*$r+An*ar*cr*Rr),Ia=kn*(.5*Lt*Sr-An*2*yr*Ft),_a=kn*.25*(Sr*Ft-An*yr*jr*Lt),ui=kn*(Rr*cr+An*$r*ar),Oi=Ia*_a-ui*Da;if(!Oi)break;var xi=(Pa*Ia-da*ui)/Oi,fe=(da*_a-Pa*Da)/Oi;ht-=xi,mt-=fe}while((R(xi)>c||R(fe)>c)&&--_t>0);return[ht,mt]}};function $(){return(0,g.Z)(j).scale(152.63)}function ne(Xe){var nt=u(Xe),ht=T(Xe),mt=Xe>=0?1:-1,_t=m(mt*Xe),Lt=(1+nt-ht)/2;function Ft(cr,yr){var ar=T(yr),Sr=T(cr/=2);return[(1+ar)*u(cr),(mt*yr>-C(Sr,_t)-.001?0:-mt*10)+Lt+u(yr)*ht-(1+ar)*nt*Sr]}return Ft.invert=function(cr,yr){var ar=0,Sr=0,Rr=50;do{var jr=T(ar),$r=u(ar),bn=T(Sr),An=u(Sr),kn=1+bn,da=kn*$r-cr,Pa=Lt+An*ht-kn*nt*jr-yr,Da=kn*jr/2,Ia=-$r*An,_a=nt*kn*$r/2,ui=ht*bn+nt*jr*An,Oi=Ia*_a-ui*Da,xi=(Pa*Ia-da*ui)/Oi/2,fe=(da*_a-Pa*Da)/Oi;R(fe)>2&&(fe/=2),ar-=xi,Sr-=fe}while((R(xi)>c||R(fe)>c)&&--Rr>0);return mt*Sr>-C(T(ar),_t)-.001?[ar*2,Sr]:null},Ft}function oe(){var Xe=20*w,nt=Xe>=0?1:-1,ht=m(nt*Xe),mt=(0,g.r)(ne),_t=mt(Xe),Lt=_t.stream;return _t.parallel=function(Ft){return arguments.length?(ht=m((nt=(Xe=Ft*w)>=0?1:-1)*Xe),mt(Xe)):Xe*E},_t.stream=function(Ft){var cr=_t.rotate(),yr=Lt(Ft),ar=(_t.rotate([0,0]),Lt(Ft)),Sr=_t.precision();return _t.rotate(cr),yr.sphere=function(){ar.polygonStart(),ar.lineStart();for(var Rr=nt*-180;nt*Rr<180;Rr+=nt*90)ar.point(Rr,nt*90);if(Xe)for(;nt*(Rr-=3*nt*Sr)>=-180;)ar.point(Rr,nt*-C(T(Rr*w/2),ht)*E);ar.lineEnd(),ar.polygonEnd()},yr},_t.scale(218.695).center([0,28.0974])}function ce(Xe,nt){var ht=m(nt/2),mt=O(1-ht*ht),_t=1+mt*T(Xe/=2),Lt=u(Xe)*mt/_t,Ft=ht/_t,cr=Lt*Lt,yr=Ft*Ft;return[1.3333333333333333*Lt*(3+cr-3*yr),1.3333333333333333*Ft*(3+3*cr-yr)]}ce.invert=function(Xe,nt){if(Xe*=.375,nt*=.375,!Xe&&R(nt)>1)return null;var ht=Xe*Xe,mt=nt*nt,_t=1+ht+mt,Lt=O((_t-O(_t*_t-4*nt*nt))/2),Ft=L(Lt)/3,cr=Lt?U(R(nt/Lt))/3:B(R(Xe))/3,yr=T(Ft),ar=z(cr),Sr=ar*ar-yr*yr;return[f(Xe)*2*C(N(cr)*yr,.25-Sr),f(nt)*2*C(ar*u(Ft),.25+Sr)]};function Q(){return(0,g.Z)(ce).scale(66.1603)}var Z=O(8),K=t(1+S);function J(Xe,nt){var ht=R(nt);return ht<p?[Xe,t(m(p+nt/2))]:[Xe*T(ht)*(2*S-1/u(ht)),f(nt)*(2*S*(ht-p)-t(m(ht/2)))]}J.invert=function(Xe,nt){if((Lt=R(nt))<K)return[Xe,2*a(v(nt))-l];var ht=p,mt=25,_t,Lt;do{var Ft=T(ht/2),cr=m(ht/2);ht-=_t=(Z*(ht-p)-t(cr)-Lt)/(Z-Ft*Ft/(2*cr))}while(R(_t)>A&&--mt>0);return[Xe/(T(ht)*(Z-1/u(ht))),f(nt)*ht]};function re(){return(0,g.Z)(J).scale(112.314)}var le=e(17889);function q(Xe){var nt=2*h/Xe;function ht(mt,_t){var Lt=(0,le.N)(mt,_t);if(R(mt)>l){var Ft=C(Lt[1],Lt[0]),cr=O(Lt[0]*Lt[0]+Lt[1]*Lt[1]),yr=nt*o((Ft-l)/nt)+l,ar=C(u(Ft-=yr),2-T(Ft));Ft=yr+L(h/cr*u(ar))-ar,Lt[0]=cr*T(Ft),Lt[1]=cr*u(Ft)}return Lt}return ht.invert=function(mt,_t){var Lt=O(mt*mt+_t*_t);if(Lt>l){var Ft=C(_t,mt),cr=nt*o((Ft-l)/nt)+l,yr=Ft>cr?-1:1,ar=Lt*T(cr-Ft),Sr=1/m(yr*b((ar-h)/O(h*(h-2*ar)+Lt*Lt)));Ft=cr+2*a((Sr+yr*O(Sr*Sr-3))/3),mt=Lt*T(Ft),_t=Lt*u(Ft)}return le.N.invert(mt,_t)},ht}function ee(){var Xe=5,nt=(0,g.r)(q),ht=nt(Xe),mt=ht.stream,_t=.01,Lt=-T(_t*w),Ft=u(_t*w);return ht.lobes=function(cr){return arguments.length?nt(Xe=+cr):Xe},ht.stream=function(cr){var yr=ht.rotate(),ar=mt(cr),Sr=(ht.rotate([0,0]),mt(cr));return ht.rotate(yr),ar.sphere=function(){Sr.polygonStart(),Sr.lineStart();for(var Rr=0,jr=360/Xe,$r=2*h/Xe,bn=90-180/Xe,An=l;Rr<Xe;++Rr,bn-=jr,An-=$r)Sr.point(C(Ft*T(An),Lt)*E,L(Ft*u(An))*E),bn<-90?(Sr.point(-90,-180-bn-_t),Sr.point(-90,-180-bn+_t)):(Sr.point(90,bn+_t),Sr.point(90,bn-_t));Sr.lineEnd(),Sr.polygonEnd()},ar},ht.scale(87.8076).center([0,17.1875]).clipAngle(179.999)}var ue=e(12956);function se(Xe,nt){if(arguments.length<2&&(nt=Xe),nt===1)return ue.l;if(nt===1/0)return he;function ht(mt,_t){var Lt=(0,ue.l)(mt/nt,_t);return Lt[0]*=Xe,Lt}return ht.invert=function(mt,_t){var Lt=ue.l.invert(mt/Xe,_t);return Lt[0]*=nt,Lt},ht}function he(Xe,nt){return[Xe*T(nt)/T(nt/=2),2*u(nt)]}he.invert=function(Xe,nt){var ht=2*L(nt/2);return[Xe*T(ht/2)/T(ht),ht]};function me(){var Xe=2,nt=(0,g.r)(se),ht=nt(Xe);return ht.coefficient=function(mt){return arguments.length?nt(Xe=+mt):Xe},ht.scale(169.529)}function Ce(Xe,nt,ht){var mt=100,_t,Lt,Ft;ht=ht===void 0?0:+ht,nt=+nt;do Lt=Xe(ht),Ft=Xe(ht+c),Lt===Ft&&(Ft=Lt+c),ht-=_t=-1*c*(Lt-nt)/(Lt-Ft);while(mt-- >0&&R(_t)>c);return mt<0?NaN:ht}function Te(Xe,nt,ht){return nt===void 0&&(nt=40),ht===void 0&&(ht=A),function(mt,_t,Lt,Ft){var cr,yr,ar;Lt=Lt===void 0?0:+Lt,Ft=Ft===void 0?0:+Ft;for(var Sr=0;Sr<nt;Sr++){var Rr=Xe(Lt,Ft),jr=Rr[0]-mt,$r=Rr[1]-_t;if(R(jr)<ht&&R($r)<ht)break;var bn=jr*jr+$r*$r;if(bn>cr){Lt-=yr/=2,Ft-=ar/=2;continue}cr=bn;var An=(Lt>0?-1:1)*ht,kn=(Ft>0?-1:1)*ht,da=Xe(Lt+An,Ft),Pa=Xe(Lt,Ft+kn),Da=(da[0]-Rr[0])/An,Ia=(da[1]-Rr[1])/An,_a=(Pa[0]-Rr[0])/kn,ui=(Pa[1]-Rr[1])/kn,Oi=ui*Da-Ia*_a,xi=(R(Oi)<.5?.5:1)/Oi;if(yr=($r*_a-jr*ui)*xi,ar=(jr*Ia-$r*Da)*xi,Lt+=yr,Ft+=ar,R(yr)<ht&&R(ar)<ht)break}return[Lt,Ft]}}function Oe(){var Xe=se(1.68,2),nt=1.4,ht=12;function mt(_t,Lt){if(_t+Lt<-nt){var Ft=(_t-Lt+1.6)*(_t+Lt+nt)/8;_t+=Ft,Lt-=.8*Ft*u(Lt+h/2)}var cr=Xe(_t,Lt),yr=(1-T(_t*Lt))/ht;return cr[1]<0&&(cr[0]*=1+yr),cr[1]>0&&(cr[1]*=1+yr/1.5*cr[0]*cr[0]),cr}return mt.invert=Te(mt),mt}function Ne(){return(0,g.Z)(Oe()).rotate([-16.5,-42]).scale(176.57).center([7.93,.09])}function Le(Xe,nt){var ht=Xe*u(nt),mt=30,_t;do nt-=_t=(nt+u(nt)-ht)/(1+T(nt));while(R(_t)>c&&--mt>0);return nt/2}function be(Xe,nt,ht){function mt(_t,Lt){return[Xe*_t*T(Lt=Le(ht,Lt)),nt*u(Lt)]}return mt.invert=function(_t,Lt){return Lt=L(Lt/nt),[_t/(Xe*T(Lt)),L((2*Lt+u(2*Lt))/ht)]},mt}var Ae=be(S/l,S,h);function He(){return(0,g.Z)(Ae).scale(169.529)}var Ve=2.00276,ke=1.11072;function Ge(Xe,nt){var ht=Le(h,nt);return[Ve*Xe/(1/T(nt)+ke/T(ht)),(nt+S*u(ht))/Ve]}Ge.invert=function(Xe,nt){var ht=Ve*nt,mt=nt<0?-p:p,_t=25,Lt,Ft;do Ft=ht-S*u(mt),mt-=Lt=(u(2*mt)+2*mt-h*u(Ft))/(2*T(2*mt)+2+h*T(Ft)*S*T(mt));while(R(Lt)>c&&--_t>0);return Ft=ht-S*u(mt),[Xe*(1/T(Ft)+ke/T(mt))/Ve,Ft]};function it(){return(0,g.Z)(Ge).scale(160.857)}function et(Xe){var nt=0,ht=(0,g.r)(Xe),mt=ht(nt);return mt.parallel=function(_t){return arguments.length?ht(nt=_t*w):nt*E},mt}function tt(Xe,nt){return[Xe*T(nt),nt]}tt.invert=function(Xe,nt){return[Xe/T(nt),nt]};function at(){return(0,g.Z)(tt).scale(152.63)}function vt(Xe){if(!Xe)return tt;var nt=1/m(Xe);function ht(mt,_t){var Lt=nt+Xe-_t,Ft=Lt&&mt*T(_t)/Lt;return[Lt*u(Ft),nt-Lt*T(Ft)]}return ht.invert=function(mt,_t){var Lt=O(mt*mt+(_t=nt-_t)*_t),Ft=nt+Xe-Lt;return[Lt/T(Ft)*C(mt,_t),Ft]},ht}function yt(){return et(vt).scale(123.082).center([0,26.1441]).parallel(45)}function gt(Xe){function nt(ht,mt){var _t=l-mt,Lt=_t&&ht*Xe*u(_t)/_t;return[_t*u(Lt)/Xe,l-_t*T(Lt)]}return nt.invert=function(ht,mt){var _t=ht*Xe,Lt=l-mt,Ft=O(_t*_t+Lt*Lt),cr=C(_t,Lt);return[(Ft?Ft/u(Ft):1)*cr/Xe,l-Ft]},nt}function Mt(){var Xe=.5,nt=(0,g.r)(gt),ht=nt(Xe);return ht.fraction=function(mt){return arguments.length?nt(Xe=+mt):Xe},ht.scale(158.837)}var Ct=be(1,4/h,h);function Vt(){return(0,g.Z)(Ct).scale(152.63)}var Je=e(66624),ze=e(49386);function _e(Xe,nt,ht,mt,_t,Lt){var Ft=T(Lt),cr;if(R(Xe)>1||R(Lt)>1)cr=b(ht*_t+nt*mt*Ft);else{var yr=u(Xe/2),ar=u(Lt/2);cr=2*L(O(yr*yr+nt*mt*ar*ar))}return R(cr)>c?[cr,C(mt*u(Lt),nt*_t-ht*mt*Ft)]:[0,0]}function Be(Xe,nt,ht){return b((Xe*Xe+nt*nt-ht*ht)/(2*Xe*nt))}function De(Xe){return Xe-2*h*y((Xe+h)/(2*h))}function we(Xe,nt,ht){for(var mt=[[Xe[0],Xe[1],u(Xe[1]),T(Xe[1])],[nt[0],nt[1],u(nt[1]),T(nt[1])],[ht[0],ht[1],u(ht[1]),T(ht[1])]],_t=mt[2],Lt,Ft=0;Ft<3;++Ft,_t=Lt)Lt=mt[Ft],_t.v=_e(Lt[1]-_t[1],_t[3],_t[2],Lt[3],Lt[2],Lt[0]-_t[0]),_t.point=[0,0];var cr=Be(mt[0].v[0],mt[2].v[0],mt[1].v[0]),yr=Be(mt[0].v[0],mt[1].v[0],mt[2].v[0]),ar=h-cr;mt[2].point[1]=0,mt[0].point[0]=-(mt[1].point[0]=mt[0].v[0]/2);var Sr=[mt[2].point[0]=mt[0].point[0]+mt[2].v[0]*T(cr),2*(mt[0].point[1]=mt[1].point[1]=mt[2].v[0]*u(cr))];function Rr(jr,$r){var bn=u($r),An=T($r),kn=new Array(3),da;for(da=0;da<3;++da){var Pa=mt[da];if(kn[da]=_e($r-Pa[1],Pa[3],Pa[2],An,bn,jr-Pa[0]),!kn[da][0])return Pa.point;kn[da][1]=De(kn[da][1]-Pa.v[1])}var Da=Sr.slice();for(da=0;da<3;++da){var Ia=da==2?0:da+1,_a=Be(mt[da].v[0],kn[da][0],kn[Ia][0]);kn[da][1]<0&&(_a=-_a),da?da==1?(_a=yr-_a,Da[0]-=kn[da][0]*T(_a),Da[1]-=kn[da][0]*u(_a)):(_a=ar-_a,Da[0]+=kn[da][0]*T(_a),Da[1]+=kn[da][0]*u(_a)):(Da[0]+=kn[da][0]*T(_a),Da[1]-=kn[da][0]*u(_a))}return Da[0]/=3,Da[1]/=3,Da}return Rr}function xe(Xe){return Xe[0]*=w,Xe[1]*=w,Xe}function Ee(){return Pe([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])}function Pe(Xe,nt,ht){var mt=(0,Je.Z)({type:"MultiPoint",coordinates:[Xe,nt,ht]}),_t=[-mt[0],-mt[1]],Lt=(0,ze.Z)(_t),Ft=we(xe(Lt(Xe)),xe(Lt(nt)),xe(Lt(ht)));Ft.invert=Te(Ft);var cr=(0,g.Z)(Ft).rotate(_t),yr=cr.center;return delete cr.rotate,cr.center=function(ar){return arguments.length?yr(Lt(ar)):Lt.invert(yr())},cr.clipAngle(90)}function Ue(Xe,nt){var ht=O(1-u(nt));return[2/P*Xe*ht,P*(1-ht)]}Ue.invert=function(Xe,nt){var ht=(ht=nt/P-1)*ht;return[ht>0?Xe*O(h/ht)/2:0,L(1-ht)]};function $e(){return(0,g.Z)(Ue).scale(95.6464).center([0,30])}function qe(Xe){var nt=m(Xe);function ht(mt,_t){return[mt,(mt?mt/u(mt):1)*(u(_t)*T(mt)-nt*T(_t))]}return ht.invert=nt?function(mt,_t){mt&&(_t*=u(mt)/mt);var Lt=T(mt);return[mt,2*C(O(Lt*Lt+nt*nt-_t*_t)-Lt,nt-_t)]}:function(mt,_t){return[mt,L(mt?_t*m(mt)/mt:_t)]},ht}function dt(){return et(qe).scale(249.828).clipAngle(90)}var bt=O(3);function Gt(Xe,nt){return[bt*Xe*(2*T(2*nt/3)-1)/P,bt*P*u(nt/3)]}Gt.invert=function(Xe,nt){var ht=3*L(nt/(bt*P));return[P*Xe/(bt*(2*T(2*ht/3)-1)),ht]};function Qt(){return(0,g.Z)(Gt).scale(156.19)}function At(Xe){var nt=T(Xe);function ht(mt,_t){return[mt*nt,u(_t)/nt]}return ht.invert=function(mt,_t){return[mt/nt,L(_t*nt)]},ht}function zt(){return et(At).parallel(38.58).scale(195.044)}function $t(Xe){var nt=T(Xe);function ht(mt,_t){return[mt*nt,(1+nt)*m(_t/2)]}return ht.invert=function(mt,_t){return[mt/nt,a(_t/(1+nt))*2]},ht}function Ar(){return et($t).scale(124.75)}function ut(Xe,nt){var ht=O(8/(3*h));return[ht*Xe*(1-R(nt)/h),ht*nt]}ut.invert=function(Xe,nt){var ht=O(8/(3*h)),mt=nt/ht;return[Xe/(ht*(1-R(mt)/h)),mt]};function Yt(){return(0,g.Z)(ut).scale(165.664)}function Kt(Xe,nt){var ht=O(4-3*u(R(nt)));return[2/O(6*h)*Xe*ht,f(nt)*O(2*h/3)*(2-ht)]}Kt.invert=function(Xe,nt){var ht=2-R(nt)/O(2*h/3);return[Xe*O(6*h)/(2*ht),f(nt)*L((4-ht*ht)/3)]};function mr(){return(0,g.Z)(Kt).scale(165.664)}function ur(Xe,nt){var ht=O(h*(4+h));return[2/ht*Xe*(1+O(1-4*nt*nt/(h*h))),4/ht*nt]}ur.invert=function(Xe,nt){var ht=O(h*(4+h))/2;return[Xe*ht/(1+O(1-nt*nt*(4+h)/(4*h))),nt*ht/2]};function pt(){return(0,g.Z)(ur).scale(180.739)}function st(Xe,nt){var ht=(2+l)*u(nt);nt/=2;for(var mt=0,_t=1/0;mt<10&&R(_t)>c;mt++){var Lt=T(nt);nt-=_t=(nt+u(nt)*(Lt+2)-ht)/(2*Lt*(1+Lt))}return[2/O(h*(4+h))*Xe*(1+T(nt)),2*O(h/(4+h))*u(nt)]}st.invert=function(Xe,nt){var ht=nt*O((4+h)/h)/2,mt=L(ht),_t=T(mt);return[Xe/(2/O(h*(4+h))*(1+_t)),L((mt+ht*(_t+2))/(2+l))]};function xt(){return(0,g.Z)(st).scale(180.739)}function St(Xe,nt){return[Xe*(1+T(nt))/O(2+h),2*nt/O(2+h)]}St.invert=function(Xe,nt){var ht=O(2+h),mt=nt*ht/2;return[ht*Xe/(1+T(mt)),mt]};function Dt(){return(0,g.Z)(St).scale(173.044)}function Rt(Xe,nt){for(var ht=(1+l)*u(nt),mt=0,_t=1/0;mt<10&&R(_t)>c;mt++)nt-=_t=(nt+u(nt)-ht)/(1+T(nt));return ht=O(2+h),[Xe*(1+T(nt))/ht,2*nt/ht]}Rt.invert=function(Xe,nt){var ht=1+l,mt=O(ht/2);return[Xe*2*mt/(1+T(nt*=mt)),L((nt+u(nt))/ht)]};function Bt(){return(0,g.Z)(Rt).scale(173.044)}var Nt=3+2*S;function Xt(Xe,nt){var ht=u(Xe/=2),mt=T(Xe),_t=O(T(nt)),Lt=T(nt/=2),Ft=u(nt)/(Lt+S*mt*_t),cr=O(2/(1+Ft*Ft)),yr=O((S*Lt+(mt+ht)*_t)/(S*Lt+(mt-ht)*_t));return[Nt*(cr*(yr-1/yr)-2*t(yr)),Nt*(cr*Ft*(yr+1/yr)-2*a(Ft))]}Xt.invert=function(Xe,nt){if(!(Lt=ce.invert(Xe/1.2,nt*1.065)))return null;var ht=Lt[0],mt=Lt[1],_t=20,Lt;Xe/=Nt,nt/=Nt;do{var Ft=ht/2,cr=mt/2,yr=u(Ft),ar=T(Ft),Sr=u(cr),Rr=T(cr),jr=T(mt),$r=O(jr),bn=Sr/(Rr+S*ar*$r),An=bn*bn,kn=O(2/(1+An)),da=S*Rr+(ar+yr)*$r,Pa=S*Rr+(ar-yr)*$r,Da=da/Pa,Ia=O(Da),_a=Ia-1/Ia,ui=Ia+1/Ia,Oi=kn*_a-2*t(Ia)-Xe,xi=kn*bn*ui-2*a(bn)-nt,fe=Sr&&M*$r*yr*An/Sr,Re=(S*ar*Rr+$r)/(2*(Rr+S*ar*$r)*(Rr+S*ar*$r)*$r),We=-.5*bn*kn*kn*kn,Qe=We*fe,rt=We*Re,ot=(ot=2*Rr+S*$r*(ar-yr))*ot*Ia,Pt=(S*ar*Rr*$r+jr)/ot,ct=-(S*yr*Sr)/($r*ot),Ht=_a*Qe-2*Pt/Ia+kn*(Pt+Pt/Da),er=_a*rt-2*ct/Ia+kn*(ct+ct/Da),nr=bn*ui*Qe-2*fe/(1+An)+kn*ui*fe+kn*bn*(Pt-Pt/Da),Pr=bn*ui*rt-2*Re/(1+An)+kn*ui*Re+kn*bn*(ct-ct/Da),Cr=er*nr-Pr*Ht;if(!Cr)break;var Kr=(xi*er-Oi*Pr)/Cr,nn=(Oi*nr-xi*Ht)/Cr;ht-=Kr,mt=r(-l,s(l,mt-nn))}while((R(Kr)>c||R(nn)>c)&&--_t>0);return R(R(mt)-l)<c?[0,mt]:_t&&[ht,mt]};function lr(){return(0,g.Z)(Xt).scale(62.5271)}var sr=T(35*w);function dr(Xe,nt){var ht=m(nt/2);return[Xe*sr*O(1-ht*ht),(1+sr)*ht]}dr.invert=function(Xe,nt){var ht=nt/(1+sr);return[Xe&&Xe/(sr*O(1-ht*ht)),2*a(ht)]};function je(){return(0,g.Z)(dr).scale(137.152)}function Ye(Xe,nt){var ht=nt/2,mt=T(ht);return[2*Xe/P*T(nt)*mt*mt,P*m(ht)]}Ye.invert=function(Xe,nt){var ht=a(nt/P),mt=T(ht),_t=2*ht;return[Xe*P/2/(T(_t)*mt*mt),_t]};function It(){return(0,g.Z)(Ye).scale(135.264)}function kt(Xe){var nt=1-Xe,ht=Lt(h,0)[0]-Lt(-h,0)[0],mt=Lt(0,l)[1]-Lt(0,-l)[1],_t=O(2*mt/ht);function Lt(yr,ar){var Sr=T(ar),Rr=u(ar);return[Sr/(nt+Xe*Sr)*yr,nt*ar+Xe*Rr]}function Ft(yr,ar){var Sr=Lt(yr,ar);return[Sr[0]*_t,Sr[1]/_t]}function cr(yr){return Ft(0,yr)[1]}return Ft.invert=function(yr,ar){var Sr=Ce(cr,ar),Rr=yr/_t*(Xe+nt/T(Sr));return[Rr,Sr]},Ft}function jt(){var Xe=.5,nt=(0,g.r)(kt),ht=nt(Xe);return ht.alpha=function(mt){return arguments.length?nt(Xe=+mt):Xe},ht.scale(168.725)}var tr=e(57962),or=e(97492);function rr(Xe){return[Xe[0]/2,L(m(Xe[1]/2*w))*E]}function Ot(Xe){return[Xe[0]*2,2*a(u(Xe[1]*w))*E]}function hr(Xe){Xe==null&&(Xe=tr.Z);var nt=Xe(),ht=(0,or.Z)().scale(E).precision(0).clipAngle(null).translate([0,0]);function mt(Lt){return nt(rr(Lt))}nt.invert&&(mt.invert=function(Lt){return Ot(nt.invert(Lt))}),mt.stream=function(Lt){var Ft=nt.stream(Lt),cr=ht.stream({point:function(yr,ar){Ft.point(yr/2,L(m(-ar/2*w))*E)},lineStart:function(){Ft.lineStart()},lineEnd:function(){Ft.lineEnd()},polygonStart:function(){Ft.polygonStart()},polygonEnd:function(){Ft.polygonEnd()}});return cr.sphere=Ft.sphere,cr};function _t(Lt){mt[Lt]=function(){return arguments.length?(nt[Lt].apply(nt,arguments),mt):nt[Lt]()}}return mt.rotate=function(Lt){return arguments.length?(ht.rotate(Lt),mt):ht.rotate()},mt.center=function(Lt){return arguments.length?(nt.center(rr(Lt)),mt):Ot(nt.center())},_t("angle"),_t("clipAngle"),_t("clipExtent"),_t("fitExtent"),_t("fitHeight"),_t("fitSize"),_t("fitWidth"),_t("scale"),_t("translate"),_t("precision"),mt.scale(249.5)}function gr(Xe,nt){var ht=2*h/nt,mt=Xe*Xe;function _t(Lt,Ft){var cr=(0,le.N)(Lt,Ft),yr=cr[0],ar=cr[1],Sr=yr*yr+ar*ar;if(Sr>mt){var Rr=O(Sr),jr=C(ar,yr),$r=ht*o(jr/ht),bn=jr-$r,An=Xe*T(bn),kn=(Xe*u(bn)-bn*u(An))/(l-An),da=pr(bn,kn),Pa=(h-Xe)/vr(da,An,h);yr=Rr;var Da=50,Ia;do yr-=Ia=(Xe+vr(da,An,yr)*Pa-Rr)/(da(yr)*Pa);while(R(Ia)>c&&--Da>0);ar=bn*u(yr),yr<l&&(ar-=kn*(yr-l));var _a=u($r),ui=T($r);cr[0]=yr*ui-ar*_a,cr[1]=yr*_a+ar*ui}return cr}return _t.invert=function(Lt,Ft){var cr=Lt*Lt+Ft*Ft;if(cr>mt){var yr=O(cr),ar=C(Ft,Lt),Sr=ht*o(ar/ht),Rr=ar-Sr;Lt=yr*T(Rr),Ft=yr*u(Rr);for(var jr=Lt-l,$r=u(Lt),bn=Ft/$r,An=Lt<l?1/0:0,kn=10;;){var da=Xe*u(bn),Pa=Xe*T(bn),Da=u(Pa),Ia=l-Pa,_a=(da-bn*Da)/Ia,ui=pr(bn,_a);if(R(An)<A||!--kn)break;bn-=An=(bn*$r-_a*jr-Ft)/($r-jr*2*(Ia*(Pa+bn*da*T(Pa)-Da)-da*(da-bn*Da))/(Ia*Ia))}yr=Xe+vr(ui,Pa,Lt)*(h-Xe)/vr(ui,Pa,h),ar=Sr+bn,Lt=yr*T(ar),Ft=yr*u(ar)}return le.N.invert(Lt,Ft)},_t}function pr(Xe,nt){return function(ht){var mt=Xe*T(ht);return ht<l&&(mt-=nt),O(1+mt*mt)}}function vr(Xe,nt,ht){for(var mt=50,_t=(ht-nt)/mt,Lt=Xe(nt)+Xe(ht),Ft=1,cr=nt;Ft<mt;++Ft)Lt+=2*Xe(cr+=_t);return Lt*.5*_t}function Vr(){var Xe=6,nt=30*w,ht=T(nt),mt=u(nt),_t=(0,g.r)(gr),Lt=_t(nt,Xe),Ft=Lt.stream,cr=.01,yr=-T(cr*w),ar=u(cr*w);return Lt.radius=function(Sr){return arguments.length?(ht=T(nt=Sr*w),mt=u(nt),_t(nt,Xe)):nt*E},Lt.lobes=function(Sr){return arguments.length?_t(nt,Xe=+Sr):Xe},Lt.stream=function(Sr){var Rr=Lt.rotate(),jr=Ft(Sr),$r=(Lt.rotate([0,0]),Ft(Sr));return Lt.rotate(Rr),jr.sphere=function(){$r.polygonStart(),$r.lineStart();for(var bn=0,An=2*h/Xe,kn=0;bn<Xe;++bn,kn-=An)$r.point(C(ar*T(kn),yr)*E,L(ar*u(kn))*E),$r.point(C(mt*T(kn-An/2),ht)*E,L(mt*u(kn-An/2))*E);$r.lineEnd(),$r.polygonEnd()},jr},Lt.rotate([90,-40]).scale(91.7095).clipAngle(179.999)}function kr(Xe,nt,ht,mt,_t,Lt,Ft,cr){arguments.length<8&&(cr=0);function yr(ar,Sr){if(!Sr)return[Xe*ar/h,0];var Rr=Sr*Sr,jr=Xe+Rr*(nt+Rr*(ht+Rr*mt)),$r=Sr*(_t-1+Rr*(Lt-cr+Rr*Ft)),bn=(jr*jr+$r*$r)/(2*$r),An=ar*L(jr/bn)/h;return[bn*u(An),Sr*(1+Rr*cr)+bn*(1-T(An))]}return yr.invert=function(ar,Sr){var Rr=h*ar/Xe,jr=Sr,$r,bn,An=50;do{var kn=jr*jr,da=Xe+kn*(nt+kn*(ht+kn*mt)),Pa=jr*(_t-1+kn*(Lt-cr+kn*Ft)),Da=da*da+Pa*Pa,Ia=2*Pa,_a=Da/Ia,ui=_a*_a,Oi=L(da/_a)/h,xi=Rr*Oi,fe=da*da,Re=(2*nt+kn*(4*ht+kn*6*mt))*jr,We=_t+kn*(3*Lt+kn*5*Ft),Qe=2*(da*Re+Pa*(We-1)),rt=2*(We-1),ot=(Qe*Ia-Da*rt)/(Ia*Ia),Pt=T(xi),ct=u(xi),Ht=_a*Pt,er=_a*ct,nr=Rr/h*(1/O(1-fe/ui))*(Re*_a-da*ot)/ui,Pr=er-ar,Cr=jr*(1+kn*cr)+_a-Ht-Sr,Kr=ot*ct+Ht*nr,nn=Ht*Oi,Ir=1+ot-(ot*Pt-er*nr),Nr=er*Oi,Zr=Kr*Nr-Ir*nn;if(!Zr)break;Rr-=$r=(Cr*Kr-Pr*Ir)/Zr,jr-=bn=(Pr*Nr-Cr*nn)/Zr}while((R($r)>c||R(bn)>c)&&--An>0);return[Rr,jr]},yr}var _r=kr(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);function pn(){return(0,g.Z)(_r).scale(149.995)}var en=kr(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);function Bn(){return(0,g.Z)(en).scale(153.93)}var Tn=kr(5/6*h,-.62636,-.0344,0,1.3493,-.05524,0,.045);function Mr(){return(0,g.Z)(Tn).scale(130.945)}function Er(Xe,nt){var ht=Xe*Xe,mt=nt*nt;return[Xe*(1-.162388*mt)*(.87-952426e-9*ht*ht),nt*(1+mt/12)]}Er.invert=function(Xe,nt){var ht=Xe,mt=nt,_t=50,Lt;do{var Ft=mt*mt;mt-=Lt=(mt*(1+Ft/12)-nt)/(1+Ft/4)}while(R(Lt)>c&&--_t>0);_t=50,Xe/=1-.162388*Ft;do{var cr=(cr=ht*ht)*cr;ht-=Lt=(ht*(.87-952426e-9*cr)-Xe)/(.87-.00476213*cr)}while(R(Lt)>c&&--_t>0);return[ht,mt]};function Gr(){return(0,g.Z)(Er).scale(131.747)}var Ur=kr(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);function an(){return(0,g.Z)(Ur).scale(131.087)}function gn(Xe){var nt=Xe(l,0)[0]-Xe(-l,0)[0];function ht(mt,_t){var Lt=mt>0?-.5:.5,Ft=Xe(mt+Lt*h,_t);return Ft[0]-=Lt*nt,Ft}return Xe.invert&&(ht.invert=function(mt,_t){var Lt=mt>0?-.5:.5,Ft=Xe.invert(mt+Lt*nt,_t),cr=Ft[0]-Lt*h;return cr<-h?cr+=2*h:cr>h&&(cr-=2*h),Ft[0]=cr,Ft}),ht}function mn(Xe,nt){var ht=f(Xe),mt=f(nt),_t=T(nt),Lt=T(Xe)*_t,Ft=u(Xe)*_t,cr=u(mt*nt);Xe=R(C(Ft,cr)),nt=L(Lt),R(Xe-l)>c&&(Xe%=l);var yr=Rn(Xe>h/4?l-Xe:Xe,nt);return Xe>h/4&&(cr=yr[0],yr[0]=-yr[1],yr[1]=-cr),yr[0]*=ht,yr[1]*=-mt,yr}mn.invert=function(Xe,nt){R(Xe)>1&&(Xe=f(Xe)*2-Xe),R(nt)>1&&(nt=f(nt)*2-nt);var ht=f(Xe),mt=f(nt),_t=-ht*Xe,Lt=-mt*nt,Ft=Lt/_t<1,cr=zn(Ft?Lt:_t,Ft?_t:Lt),yr=cr[0],ar=cr[1],Sr=T(ar);return Ft&&(yr=-l-yr),[ht*(C(u(yr)*Sr,-u(ar))+h),mt*L(T(yr)*Sr)]};function Rn(Xe,nt){if(nt===l)return[0,0];var ht=u(nt),mt=ht*ht,_t=mt*mt,Lt=1+_t,Ft=1+3*_t,cr=1-_t,yr=L(1/O(Lt)),ar=cr+mt*Lt*yr,Sr=(1-ht)/ar,Rr=O(Sr),jr=Sr*Lt,$r=O(jr),bn=Rr*cr,An,kn;if(Xe===0)return[0,-(bn+mt*$r)];var da=T(nt),Pa=1/da,Da=2*ht*da,Ia=(-3*mt+yr*Ft)*Da,_a=(-ar*da-(1-ht)*Ia)/(ar*ar),ui=.5*_a/Rr,Oi=cr*ui-2*mt*Rr*Da,xi=mt*Lt*_a+Sr*Ft*Da,fe=-Pa*Da,Re=-Pa*xi,We=-2*Pa*Oi,Qe=4*Xe/h,rt;if(Xe>.222*h||nt<h/4&&Xe>.175*h){if(An=(bn+mt*O(jr*(1+_t)-bn*bn))/(1+_t),Xe>h/4)return[An,An];var ot=An,Pt=.5*An;An=.5*(Pt+ot),kn=50;do{var ct=O(jr-An*An),Ht=An*(We+fe*ct)+Re*L(An/$r)-Qe;if(!Ht)break;Ht<0?Pt=An:ot=An,An=.5*(Pt+ot)}while(R(ot-Pt)>c&&--kn>0)}else{An=c,kn=25;do{var er=An*An,nr=O(jr-er),Pr=We+fe*nr,Cr=An*Pr+Re*L(An/$r)-Qe,Kr=Pr+(Re-fe*er)/nr;An-=rt=nr?Cr/Kr:0}while(R(rt)>c&&--kn>0)}return[An,-bn-mt*O(jr-An*An)]}function zn(Xe,nt){for(var ht=0,mt=1,_t=.5,Lt=50;;){var Ft=_t*_t,cr=O(_t),yr=L(1/O(1+Ft)),ar=1-Ft+_t*(1+Ft)*yr,Sr=(1-cr)/ar,Rr=O(Sr),jr=Sr*(1+Ft),$r=Rr*(1-Ft),bn=jr-Xe*Xe,An=O(bn),kn=nt+$r+_t*An;if(R(mt-ht)<A||--Lt===0||kn===0)break;kn>0?ht=_t:mt=_t,_t=.5*(ht+mt)}if(!Lt)return null;var da=L(cr),Pa=T(da),Da=1/Pa,Ia=2*cr*Pa,_a=(-3*_t+yr*(1+3*Ft))*Ia,ui=(-ar*Pa-(1-cr)*_a)/(ar*ar),Oi=.5*ui/Rr,xi=(1-Ft)*Oi-2*_t*Rr*Ia,fe=-2*Da*xi,Re=-Da*Ia,We=-Da*(_t*(1+Ft)*ui+Sr*(1+3*Ft)*Ia);return[h/4*(Xe*(fe+Re*An)+We*L(Xe/O(jr))),da]}function oa(){return(0,g.Z)(gn(mn)).scale(239.75)}function Zn(Xe,nt,ht){var mt,_t,Lt;return Xe?(mt=qn(Xe,ht),nt?(_t=qn(nt,1-ht),Lt=_t[1]*_t[1]+ht*mt[0]*mt[0]*_t[0]*_t[0],[[mt[0]*_t[2]/Lt,mt[1]*mt[2]*_t[0]*_t[1]/Lt],[mt[1]*_t[1]/Lt,-mt[0]*mt[2]*_t[0]*_t[2]/Lt],[mt[2]*_t[1]*_t[2]/Lt,-ht*mt[0]*mt[1]*_t[0]/Lt]]):[[mt[0],0],[mt[1],0],[mt[2],0]]):(_t=qn(nt,1-ht),[[0,_t[0]/_t[1]],[1/_t[1],0],[_t[2]/_t[1],0]])}function qn(Xe,nt){var ht,mt,_t,Lt,Ft;if(nt<c)return Lt=u(Xe),mt=T(Xe),ht=nt*(Xe-Lt*mt)/4,[Lt-ht*mt,mt+ht*Lt,1-nt*Lt*Lt/2,Xe-ht];if(nt>=1-c)return ht=(1-nt)/4,mt=z(Xe),Lt=_(Xe),_t=1/mt,Ft=mt*N(Xe),[Lt+ht*(Ft-Xe)/(mt*mt),_t-ht*Lt*_t*(Ft-Xe),_t+ht*Lt*_t*(Ft+Xe),2*a(v(Xe))-l+ht*(Ft-Xe)/mt];var cr=[1,0,0,0,0,0,0,0,0],yr=[O(nt),0,0,0,0,0,0,0,0],ar=0;for(mt=O(1-nt),Ft=1;R(yr[ar]/cr[ar])>c&&ar<8;)ht=cr[ar++],yr[ar]=(ht-mt)/2,cr[ar]=(ht+mt)/2,mt=O(ht*mt),Ft*=2;_t=Ft*cr[ar]*Xe;do Lt=yr[ar]*u(mt=_t)/cr[ar],_t=(L(Lt)+_t)/2;while(--ar);return[u(_t),Lt=T(_t),Lt/T(_t-mt),_t]}function Yn(Xe,nt,ht){var mt=R(Xe),_t=R(nt),Lt=N(_t);if(mt){var Ft=1/u(mt),cr=1/(m(mt)*m(mt)),yr=-(cr+ht*(Lt*Lt*Ft*Ft)-1+ht),ar=(ht-1)*cr,Sr=(-yr+O(yr*yr-4*ar))/2;return[Qn(a(1/O(Sr)),ht)*f(Xe),Qn(a(O((Sr/cr-1)/ht)),1-ht)*f(nt)]}return[0,Qn(a(Lt),1-ht)*f(nt)]}function Qn(Xe,nt){if(!nt)return Xe;if(nt===1)return t(m(Xe/2+p));for(var ht=1,mt=O(1-nt),_t=O(nt),Lt=0;R(_t)>c;Lt++){if(Xe%h){var Ft=a(mt*m(Xe)/ht);Ft<0&&(Ft+=h),Xe+=Ft+~~(Xe/h)*h}else Xe+=Xe;_t=(ht+mt)/2,mt=O(ht*mt),_t=((ht=_t)-mt)/2}return Xe/(n(2,Lt)*ht)}function Tr(Xe,nt){var ht=(S-1)/(S+1),mt=O(1-ht*ht),_t=Qn(l,mt*mt),Lt=-1,Ft=t(m(h/4+R(nt)/2)),cr=v(Lt*Ft)/O(ht),yr=sn(cr*T(Lt*Xe),cr*u(Lt*Xe)),ar=Yn(yr[0],yr[1],mt*mt);return[-ar[1],(nt>=0?1:-1)*(.5*_t-ar[0])]}function sn(Xe,nt){var ht=Xe*Xe,mt=nt+1,_t=1-ht-nt*nt;return[.5*((Xe>=0?l:-l)-C(_t,2*Xe)),-.25*t(_t*_t+4*ht)+.5*t(mt*mt+ht)]}function rn(Xe,nt){var ht=nt[0]*nt[0]+nt[1]*nt[1];return[(Xe[0]*nt[0]+Xe[1]*nt[1])/ht,(Xe[1]*nt[0]-Xe[0]*nt[1])/ht]}Tr.invert=function(Xe,nt){var ht=(S-1)/(S+1),mt=O(1-ht*ht),_t=Qn(l,mt*mt),Lt=-1,Ft=Zn(.5*_t-nt,-Xe,mt*mt),cr=rn(Ft[0],Ft[1]),yr=C(cr[1],cr[0])/Lt;return[yr,2*a(v(.5/Lt*t(ht*cr[0]*cr[0]+ht*cr[1]*cr[1])))-l]};function yn(){return(0,g.Z)(gn(Tr)).scale(151.496)}var Vn=e(7613);function Mn(Xe){var nt=u(Xe),ht=T(Xe),mt=En(Xe);mt.invert=En(-Xe);function _t(Lt,Ft){var cr=mt(Lt,Ft);Lt=cr[0],Ft=cr[1];var yr=u(Ft),ar=T(Ft),Sr=T(Lt),Rr=b(nt*yr+ht*ar*Sr),jr=u(Rr),$r=R(jr)>c?Rr/jr:1;return[$r*ht*u(Lt),(R(Lt)>l?$r:-$r)*(nt*ar-ht*yr*Sr)]}return _t.invert=function(Lt,Ft){var cr=O(Lt*Lt+Ft*Ft),yr=-u(cr),ar=T(cr),Sr=cr*ar,Rr=-Ft*yr,jr=cr*nt,$r=O(Sr*Sr+Rr*Rr-jr*jr),bn=C(Sr*jr+Rr*$r,Rr*jr-Sr*$r),An=(cr>l?-1:1)*C(Lt*yr,cr*T(bn)*ar+Ft*u(bn)*yr);return mt.invert(An,bn)},_t}function En(Xe){var nt=u(Xe),ht=T(Xe);return function(mt,_t){var Lt=T(_t),Ft=T(mt)*Lt,cr=u(mt)*Lt,yr=u(_t);return[C(cr,Ft*ht-yr*nt),L(yr*ht+Ft*nt)]}}function Nn(){var Xe=0,nt=(0,g.r)(Mn),ht=nt(Xe),mt=ht.rotate,_t=ht.stream,Lt=(0,Vn.Z)();return ht.parallel=function(Ft){if(!arguments.length)return Xe*E;var cr=ht.rotate();return nt(Xe=Ft*w).rotate(cr)},ht.rotate=function(Ft){return arguments.length?(mt.call(ht,[Ft[0],Ft[1]-Xe*E]),Lt.center([-Ft[0],-Ft[1]]),ht):(Ft=mt.call(ht),Ft[1]+=Xe*E,Ft)},ht.stream=function(Ft){return Ft=_t(Ft),Ft.sphere=function(){Ft.polygonStart();var cr=.01,yr=Lt.radius(90-cr)().coordinates[0],ar=yr.length-1,Sr=-1,Rr;for(Ft.lineStart();++Sr<ar;)Ft.point((Rr=yr[Sr])[0],Rr[1]);for(Ft.lineEnd(),yr=Lt.radius(90+cr)().coordinates[0],ar=yr.length-1,Ft.lineStart();--Sr>=0;)Ft.point((Rr=yr[Sr])[0],Rr[1]);Ft.lineEnd(),Ft.polygonEnd()},Ft},ht.scale(79.4187).parallel(45).clipAngle(179.999)}var ta=e(33064),ba=e(72736),Ya=3,Zt=L(1-1/Ya)*E,wr=At(0);function tn(Xe){var nt=Zt*w,ht=Ue(h,nt)[0]-Ue(-h,nt)[0],mt=wr(0,nt)[1],_t=Ue(0,nt)[1],Lt=P-_t,Ft=x/Xe,cr=4/x,yr=mt+Lt*Lt*4/x;function ar(Sr,Rr){var jr,$r=R(Rr);if($r>nt){var bn=s(Xe-1,r(0,y((Sr+h)/Ft)));Sr+=h*(Xe-1)/Xe-bn*Ft,jr=Ue(Sr,$r),jr[0]=jr[0]*x/ht-x*(Xe-1)/(2*Xe)+bn*x/Xe,jr[1]=mt+(jr[1]-_t)*4*Lt/x,Rr<0&&(jr[1]=-jr[1])}else jr=wr(Sr,Rr);return jr[0]*=cr,jr[1]/=yr,jr}return ar.invert=function(Sr,Rr){Sr/=cr,Rr*=yr;var jr=R(Rr);if(jr>mt){var $r=s(Xe-1,r(0,y((Sr+h)/Ft)));Sr=(Sr+h*(Xe-1)/Xe-$r*Ft)*ht/x;var bn=Ue.invert(Sr,.25*(jr-mt)*x/Lt+_t);return bn[0]-=h*(Xe-1)/Xe-$r*Ft,Rr<0&&(bn[1]=-bn[1]),bn}return wr.invert(Sr,Rr)},ar}function un(Xe,nt){return[Xe,nt&1?90-c:Zt]}function cn(Xe,nt){return[Xe,nt&1?-90+c:-Zt]}function In(Xe){return[Xe[0]*(1-c),Xe[1]]}function Sn(Xe){var nt=[].concat((0,ta.w6)(-180,180+Xe/2,Xe).map(un),(0,ta.w6)(180,-180-Xe/2,-Xe).map(cn));return{type:"Polygon",coordinates:[Xe===180?nt.map(In):nt]}}function vn(){var Xe=4,nt=(0,g.r)(tn),ht=nt(Xe),mt=ht.stream;return ht.lobes=function(_t){return arguments.length?nt(Xe=+_t):Xe},ht.stream=function(_t){var Lt=ht.rotate(),Ft=mt(_t),cr=(ht.rotate([0,0]),mt(_t));return ht.rotate(Lt),Ft.sphere=function(){(0,ba.Z)(Sn(180/Xe),cr)},Ft},ht.scale(239.75)}function Dr(Xe){var nt=1+Xe,ht=u(1/nt),mt=L(ht),_t=2*O(h/(Lt=h+4*mt*nt)),Lt,Ft=.5*_t*(nt+O(Xe*(2+Xe))),cr=Xe*Xe,yr=nt*nt;function ar(Sr,Rr){var jr=1-u(Rr),$r,bn;if(jr&&jr<2){var An=l-Rr,kn=25,da;do{var Pa=u(An),Da=T(An),Ia=mt+C(Pa,nt-Da),_a=1+yr-2*nt*Da;An-=da=(An-cr*mt-nt*Pa+_a*Ia-.5*jr*Lt)/(2*nt*Pa*Ia)}while(R(da)>A&&--kn>0);$r=_t*O(_a),bn=Sr*Ia/h}else $r=_t*(Xe+jr),bn=Sr*mt/h;return[$r*u(bn),Ft-$r*T(bn)]}return ar.invert=function(Sr,Rr){var jr=Sr*Sr+(Rr-=Ft)*Rr,$r=(1+yr-jr/(_t*_t))/(2*nt),bn=b($r),An=u(bn),kn=mt+C(An,nt-$r);return[L(Sr/O(jr))*h/kn,L(1-2*(bn-cr*mt-nt*An+(1+yr-2*nt*$r)*kn)/Lt)]},ar}function Lr(){var Xe=1,nt=(0,g.r)(Dr),ht=nt(Xe);return ht.ratio=function(mt){return arguments.length?nt(Xe=+mt):Xe},ht.scale(167.774).center([0,18.67])}var Or=.7109889596207567,dn=.0528035274542;function On(Xe,nt){return nt>-Or?(Xe=Ae(Xe,nt),Xe[1]+=dn,Xe):tt(Xe,nt)}On.invert=function(Xe,nt){return nt>-Or?Ae.invert(Xe,nt-dn):tt.invert(Xe,nt)};function Xn(){return(0,g.Z)(On).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}function xn(Xe,nt){return R(nt)>Or?(Xe=Ae(Xe,nt),Xe[1]-=nt>0?dn:-dn,Xe):tt(Xe,nt)}xn.invert=function(Xe,nt){return R(nt)>Or?Ae.invert(Xe,nt+(nt>0?dn:-dn)):tt.invert(Xe,nt)};function Un(){return(0,g.Z)(xn).scale(152.63)}function aa(Xe,nt,ht,mt){var _t=O(4*h/(2*ht+(1+Xe-nt/2)*u(2*ht)+(Xe+nt)/2*u(4*ht)+nt/2*u(6*ht))),Lt=O(mt*u(ht)*O((1+Xe*T(2*ht)+nt*T(4*ht))/(1+Xe+nt))),Ft=ht*yr(1);function cr(Rr){return O(1+Xe*T(2*Rr)+nt*T(4*Rr))}function yr(Rr){var jr=Rr*ht;return(2*jr+(1+Xe-nt/2)*u(2*jr)+(Xe+nt)/2*u(4*jr)+nt/2*u(6*jr))/ht}function ar(Rr){return cr(Rr)*u(Rr)}var Sr=function(Rr,jr){var $r=ht*Ce(yr,Ft*u(jr)/ht,jr/h);isNaN($r)&&($r=ht*f(jr));var bn=_t*cr($r);return[bn*Lt*Rr/h*T($r),bn/Lt*u($r)]};return Sr.invert=function(Rr,jr){var $r=Ce(ar,jr*Lt/_t);return[Rr*h/(T($r)*_t*Lt*cr($r)),L(ht*yr($r/ht)/Ft)]},ht===0&&(_t=O(mt/h),Sr=function(Rr,jr){return[Rr*_t,u(jr)/_t]},Sr.invert=function(Rr,jr){return[Rr/_t,L(jr*_t)]}),Sr}function fa(){var Xe=1,nt=0,ht=45*w,mt=2,_t=(0,g.r)(aa),Lt=_t(Xe,nt,ht,mt);return Lt.a=function(Ft){return arguments.length?_t(Xe=+Ft,nt,ht,mt):Xe},Lt.b=function(Ft){return arguments.length?_t(Xe,nt=+Ft,ht,mt):nt},Lt.psiMax=function(Ft){return arguments.length?_t(Xe,nt,ht=+Ft*w,mt):ht*E},Lt.ratio=function(Ft){return arguments.length?_t(Xe,nt,ht,mt=+Ft):mt},Lt.scale(180.739)}function la(Xe,nt,ht,mt,_t,Lt,Ft,cr,yr,ar,Sr){if(Sr.nanEncountered)return NaN;var Rr,jr,$r,bn,An,kn,da,Pa,Da,Ia;if(Rr=ht-nt,jr=Xe(nt+Rr*.25),$r=Xe(ht-Rr*.25),isNaN(jr)){Sr.nanEncountered=!0;return}if(isNaN($r)){Sr.nanEncountered=!0;return}return bn=Rr*(mt+4*jr+_t)/12,An=Rr*(_t+4*$r+Lt)/12,kn=bn+An,Ia=(kn-Ft)/15,ar>yr?(Sr.maxDepthCount++,kn+Ia):Math.abs(Ia)<cr?kn+Ia:(da=nt+Rr*.5,Pa=la(Xe,nt,da,mt,jr,_t,bn,cr*.5,yr,ar+1,Sr),isNaN(Pa)?(Sr.nanEncountered=!0,NaN):(Da=la(Xe,da,ht,_t,$r,Lt,An,cr*.5,yr,ar+1,Sr),isNaN(Da)?(Sr.nanEncountered=!0,NaN):Pa+Da))}function ua(Xe,nt,ht,mt,_t){var Lt={maxDepthCount:0,nanEncountered:!1};mt===void 0&&(mt=1e-8),_t===void 0&&(_t=20);var Ft=Xe(nt),cr=Xe(.5*(nt+ht)),yr=Xe(ht),ar=(Ft+4*cr+yr)*(ht-nt)/6,Sr=la(Xe,nt,ht,Ft,cr,yr,ar,mt,_t,1,Lt);return Sr}function ga(Xe,nt,ht){function mt($r){return Xe+(1-Xe)*n(1-n($r,nt),1/nt)}function _t($r){return ua(mt,0,$r,1e-4)}for(var Lt=1/_t(1),Ft=1e3,cr=(1+1e-8)*Lt,yr=[],ar=0;ar<=Ft;ar++)yr.push(_t(ar/Ft)*cr);function Sr($r){var bn=0,An=Ft,kn=Ft>>1;do yr[kn]>$r?An=kn:bn=kn,kn=bn+An>>1;while(kn>bn);var da=yr[kn+1]-yr[kn];return da&&(da=($r-yr[kn+1])/da),(kn+1+da)/Ft}var Rr=2*Sr(1)/h*Lt/ht,jr=function($r,bn){var An=Sr(R(u(bn))),kn=mt(An)*$r;return An/=Rr,[kn,bn>=0?An:-An]};return jr.invert=function($r,bn){var An;return bn*=Rr,R(bn)<1&&(An=f(bn)*L(_t(R(bn))*Lt)),[$r/mt(R(bn)),An]},jr}function io(){var Xe=0,nt=2.5,ht=1.183136,mt=(0,g.r)(ga),_t=mt(Xe,nt,ht);return _t.alpha=function(Lt){return arguments.length?mt(Xe=+Lt,nt,ht):Xe},_t.k=function(Lt){return arguments.length?mt(Xe,nt=+Lt,ht):nt},_t.gamma=function(Lt){return arguments.length?mt(Xe,nt,ht=+Lt):ht},_t.scale(152.63)}function Ao(Xe,nt){return R(Xe[0]-nt[0])<c&&R(Xe[1]-nt[1])<c}function Do(Xe,nt){for(var ht=-1,mt=Xe.length,_t=Xe[0],Lt,Ft,cr,yr=[];++ht<mt;){Lt=Xe[ht],Ft=(Lt[0]-_t[0])/nt,cr=(Lt[1]-_t[1])/nt;for(var ar=0;ar<nt;++ar)yr.push([_t[0]+ar*Ft,_t[1]+ar*cr]);_t=Lt}return yr.push(Lt),yr}function No(Xe){var nt=[],ht,mt,_t,Lt,Ft,cr,yr,ar=Xe[0].length;for(yr=0;yr<ar;++yr)ht=Xe[0][yr],mt=ht[0][0],_t=ht[0][1],Lt=ht[1][1],Ft=ht[2][0],cr=ht[2][1],nt.push(Do([[mt+c,_t+c],[mt+c,Lt-c],[Ft-c,Lt-c],[Ft-c,cr+c]],30));for(yr=Xe[1].length-1;yr>=0;--yr)ht=Xe[1][yr],mt=ht[0][0],_t=ht[0][1],Lt=ht[1][1],Ft=ht[2][0],cr=ht[2][1],nt.push(Do([[Ft-c,cr-c],[Ft-c,Lt+c],[mt+c,Lt+c],[mt+c,_t-c]],30));return{type:"Polygon",coordinates:[(0,ta.TS)(nt)]}}function Io(Xe,nt,ht){var mt,_t;function Lt(yr,ar){for(var Sr=ar<0?-1:1,Rr=nt[+(ar<0)],jr=0,$r=Rr.length-1;jr<$r&&yr>Rr[jr][2][0];++jr);var bn=Xe(yr-Rr[jr][1][0],ar);return bn[0]+=Xe(Rr[jr][1][0],Sr*ar>Sr*Rr[jr][0][1]?Rr[jr][0][1]:ar)[0],bn}ht?Lt.invert=ht(Lt):Xe.invert&&(Lt.invert=function(yr,ar){for(var Sr=_t[+(ar<0)],Rr=nt[+(ar<0)],jr=0,$r=Sr.length;jr<$r;++jr){var bn=Sr[jr];if(bn[0][0]<=yr&&yr<bn[1][0]&&bn[0][1]<=ar&&ar<bn[1][1]){var An=Xe.invert(yr-Xe(Rr[jr][1][0],0)[0],ar);return An[0]+=Rr[jr][1][0],Ao(Lt(An[0],An[1]),[yr,ar])?An:null}}});var Ft=(0,g.Z)(Lt),cr=Ft.stream;return Ft.stream=function(yr){var ar=Ft.rotate(),Sr=cr(yr),Rr=(Ft.rotate([0,0]),cr(yr));return Ft.rotate(ar),Sr.sphere=function(){(0,ba.Z)(mt,Rr)},Sr},Ft.lobes=function(yr){return arguments.length?(mt=No(yr),nt=yr.map(function(ar){return ar.map(function(Sr){return[[Sr[0][0]*w,Sr[0][1]*w],[Sr[1][0]*w,Sr[1][1]*w],[Sr[2][0]*w,Sr[2][1]*w]]})}),_t=nt.map(function(ar){return ar.map(function(Sr){var Rr=Xe(Sr[0][0],Sr[0][1])[0],jr=Xe(Sr[2][0],Sr[2][1])[0],$r=Xe(Sr[1][0],Sr[0][1])[1],bn=Xe(Sr[1][0],Sr[1][1])[1],An;return $r>bn&&(An=$r,$r=bn,bn=An),[[Rr,$r],[jr,bn]]})}),Ft):nt.map(function(ar){return ar.map(function(Sr){return[[Sr[0][0]*E,Sr[0][1]*E],[Sr[1][0]*E,Sr[1][1]*E],[Sr[2][0]*E,Sr[2][1]*E]]})})},nt!=null&&Ft.lobes(nt),Ft}var sc=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function ai(){return Io(Ge,sc).scale(160.857)}var Yu=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function fu(){return Io(xn,Yu).scale(152.63)}var oo=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function Uo(){return Io(Ae,oo).scale(169.529)}var $c=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function ju(){return Io(Ae,$c).scale(169.529).rotate([20,0])}var zi=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]];function Zu(){return Io(On,zi,Te).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}var Ko=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];function eo(){return Io(tt,Ko).scale(152.63).rotate([-20,0])}function $o(Xe,nt){return[3/x*Xe*O(h*h/3-nt*nt),nt]}$o.invert=function(Xe,nt){return[x/3*Xe/O(h*h/3-nt*nt),nt]};function So(){return(0,g.Z)($o).scale(158.837)}function as(Xe){function nt(ht,mt){if(R(R(mt)-l)<c)return[0,mt<0?-2:2];var _t=u(mt),Lt=n((1+_t)/(1-_t),Xe/2),Ft=.5*(Lt+1/Lt)+T(ht*=Xe);return[2*u(ht)/Ft,(Lt-1/Lt)/Ft]}return nt.invert=function(ht,mt){var _t=R(mt);if(R(_t-2)<c)return ht?null:[0,f(mt)*l];if(_t>2)return null;ht/=2,mt/=2;var Lt=ht*ht,Ft=mt*mt,cr=2*mt/(1+Lt+Ft);return cr=n((1+cr)/(1-cr),1/Xe),[C(2*ht,1-Lt-Ft)/Xe,L((cr-1)/(cr+1))]},nt}function Rs(){var Xe=.5,nt=(0,g.r)(as),ht=nt(Xe);return ht.spacing=function(mt){return arguments.length?nt(Xe=+mt):Xe},ht.scale(124.75)}var Js=h/S;function co(Xe,nt){return[Xe*(1+O(T(nt)))/2,nt/(T(nt/2)*T(Xe/6))]}co.invert=function(Xe,nt){var ht=R(Xe),mt=R(nt),_t=c,Lt=l;mt<Js?Lt*=mt/Js:_t+=6*b(Js/mt);for(var Ft=0;Ft<25;Ft++){var cr=u(Lt),yr=O(T(Lt)),ar=u(Lt/2),Sr=T(Lt/2),Rr=u(_t/6),jr=T(_t/6),$r=.5*_t*(1+yr)-ht,bn=Lt/(Sr*jr)-mt,An=yr?-.25*_t*cr/yr:0,kn=.5*(1+yr),da=(1+.5*Lt*ar/Sr)/(Sr*jr),Pa=Lt/Sr*(Rr/6)/(jr*jr),Da=An*Pa-da*kn,Ia=($r*Pa-bn*kn)/Da,_a=(bn*An-$r*da)/Da;if(Lt-=Ia,_t-=_a,R(Ia)<c&&R(_a)<c)break}return[Xe<0?-_t:_t,nt<0?-Lt:Lt]};function Jc(){return(0,g.Z)(co).scale(97.2672)}function Ds(Xe,nt){var ht=Xe*Xe,mt=nt*nt;return[Xe*(.975534+mt*(-.119161+ht*-.0143059+mt*-.0547009)),nt*(1.00384+ht*(.0802894+mt*-.02855+ht*199025e-9)+mt*(.0998909+mt*-.0491032))]}Ds.invert=function(Xe,nt){var ht=f(Xe)*h,mt=nt/2,_t=50;do{var Lt=ht*ht,Ft=mt*mt,cr=ht*mt,yr=ht*(.975534+Ft*(-.119161+Lt*-.0143059+Ft*-.0547009))-Xe,ar=mt*(1.00384+Lt*(.0802894+Ft*-.02855+Lt*199025e-9)+Ft*(.0998909+Ft*-.0491032))-nt,Sr=.975534-Ft*(.119161+3*Lt*.0143059+Ft*.0547009),Rr=-cr*(2*.119161+4*.0547009*Ft+2*.0143059*Lt),jr=cr*(2*.0802894+4*199025e-9*Lt+2*-.02855*Ft),$r=1.00384+Lt*(.0802894+199025e-9*Lt)+Ft*(3*(.0998909-.02855*Lt)-5*.0491032*Ft),bn=Rr*jr-$r*Sr,An=(ar*Rr-yr*$r)/bn,kn=(yr*jr-ar*Sr)/bn;ht-=An,mt-=kn}while((R(An)>c||R(kn)>c)&&--_t>0);return _t&&[ht,mt]};function ho(){return(0,g.Z)(Ds).scale(139.98)}function lc(Xe,nt){return[u(Xe)/T(nt),m(nt)*T(Xe)]}lc.invert=function(Xe,nt){var ht=Xe*Xe,mt=nt*nt,_t=mt+1,Lt=ht+_t,Ft=Xe?M*O((Lt-O(Lt*Lt-4*ht))/ht):1/O(_t);return[L(Xe*Ft),f(nt)*b(Ft)]};function Qs(){return(0,g.Z)(lc).scale(144.049).clipAngle(89.999)}function Is(Xe){var nt=T(Xe),ht=m(p+Xe/2);function mt(_t,Lt){var Ft=Lt-Xe,cr=R(Ft)<c?_t*nt:R(cr=p+Lt/2)<c||R(R(cr)-l)<c?0:_t*Ft/t(m(cr)/ht);return[cr,Ft]}return mt.invert=function(_t,Lt){var Ft,cr=Lt+Xe;return[R(Lt)<c?_t/nt:R(Ft=p+cr/2)<c||R(R(Ft)-l)<c?0:_t*t(m(Ft)/ht)/Lt,cr]},mt}function uc(){return et(Is).parallel(40).scale(158.837)}function fc(Xe,nt){return[Xe,1.25*t(m(p+.4*nt))]}fc.invert=function(Xe,nt){return[Xe,2.5*a(v(.8*nt))-.625*h]};function tv(){return(0,g.Z)(fc).scale(108.318)}function Xu(Xe){var nt=Xe.length-1;function ht(mt,_t){for(var Lt=T(_t),Ft=2/(1+Lt*T(mt)),cr=Ft*Lt*u(mt),yr=Ft*u(_t),ar=nt,Sr=Xe[ar],Rr=Sr[0],jr=Sr[1],$r;--ar>=0;)Sr=Xe[ar],Rr=Sr[0]+cr*($r=Rr)-yr*jr,jr=Sr[1]+cr*jr+yr*$r;return Rr=cr*($r=Rr)-yr*jr,jr=cr*jr+yr*$r,[Rr,jr]}return ht.invert=function(mt,_t){var Lt=20,Ft=mt,cr=_t;do{for(var yr=nt,ar=Xe[yr],Sr=ar[0],Rr=ar[1],jr=0,$r=0,bn;--yr>=0;)ar=Xe[yr],jr=Sr+Ft*(bn=jr)-cr*$r,$r=Rr+Ft*$r+cr*bn,Sr=ar[0]+Ft*(bn=Sr)-cr*Rr,Rr=ar[1]+Ft*Rr+cr*bn;jr=Sr+Ft*(bn=jr)-cr*$r,$r=Rr+Ft*$r+cr*bn,Sr=Ft*(bn=Sr)-cr*Rr-mt,Rr=Ft*Rr+cr*bn-_t;var An=jr*jr+$r*$r,kn,da;Ft-=kn=(Sr*jr+Rr*$r)/An,cr-=da=(Rr*jr-Sr*$r)/An}while(R(kn)+R(da)>c*c&&--Lt>0);if(Lt){var Pa=O(Ft*Ft+cr*cr),Da=2*a(Pa*.5),Ia=u(Da);return[C(Ft*Ia,Pa*T(Da)),Pa?L(cr*Ia/Pa):0]}},ht}var rv=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],nv=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],av=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],cc=[[.9245,0],[0,0],[.01943,0]],iv=[[.721316,0],[0,0],[-.00881625,-.00617325]];function ov(){return Fl(rv,[152,-64]).scale(1400).center([-160.908,62.4864]).clipAngle(30).angle(7.8)}function Qc(){return Fl(nv,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])}function sv(){return Fl(av,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])}function lv(){return Fl(cc,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)}function hc(){return Fl(iv,[165,10]).scale(250).clipAngle(130).center([-165,-10])}function Fl(Xe,nt){var ht=(0,g.Z)(Xu(Xe)).rotate(nt).clipAngle(90),mt=(0,ze.Z)(nt),_t=ht.center;return delete ht.rotate,ht.center=function(Lt){return arguments.length?_t(mt(Lt)):mt.invert(_t())},ht}var Bl=O(6),cu=O(7);function Sf(Xe,nt){var ht=L(7*u(nt)/(3*Bl));return[Bl*Xe*(2*T(2*ht/3)-1)/cu,9*u(ht/3)/cu]}Sf.invert=function(Xe,nt){var ht=3*L(nt*cu/9);return[Xe*cu/(Bl*(2*T(2*ht/3)-1)),L(u(ht)*3*Bl/7)]};function uv(){return(0,g.Z)(Sf).scale(164.859)}function qs(Xe,nt){for(var ht=(1+M)*u(nt),mt=nt,_t=0,Lt;_t<25&&(mt-=Lt=(u(mt/2)+u(mt)-ht)/(.5*T(mt/2)+T(mt)),!(R(Lt)<c));_t++);return[Xe*(1+2*T(mt)/T(mt/2))/(3*S),2*O(3)*u(mt/2)/O(2+S)]}qs.invert=function(Xe,nt){var ht=nt*O(2+S)/(2*O(3)),mt=2*L(ht);return[3*S*Xe/(1+2*T(mt)/T(mt/2)),L((ht+u(mt))/(1+M))]};function qc(){return(0,g.Z)(qs).scale(188.209)}function vc(Xe,nt){for(var ht=O(6/(4+h)),mt=(1+h/4)*u(nt),_t=nt/2,Lt=0,Ft;Lt<25&&(_t-=Ft=(_t/2+u(_t)-mt)/(.5+T(_t)),!(R(Ft)<c));Lt++);return[ht*(.5+T(_t))*Xe/1.5,ht*_t]}vc.invert=function(Xe,nt){var ht=O(6/(4+h)),mt=nt/ht;return R(R(mt)-l)<c&&(mt=mt<0?-l:l),[1.5*Xe/(ht*(.5+T(mt))),L((mt/2+u(mt))/(1+h/4))]};function fv(){return(0,g.Z)(vc).scale(166.518)}var is=e(26867);function Nl(Xe,nt){var ht=nt*nt,mt=ht*ht,_t=ht*mt;return[Xe*(.84719-.13063*ht+_t*_t*(-.04515+.05494*ht-.02326*mt+.00331*_t)),nt*(1.01183+mt*mt*(-.02625+.01926*ht-.00396*mt))]}Nl.invert=function(Xe,nt){var ht=nt,mt=25,_t,Lt,Ft,cr;do Lt=ht*ht,Ft=Lt*Lt,ht-=_t=(ht*(1.01183+Ft*Ft*(-.02625+.01926*Lt-.00396*Ft))-nt)/(1.01183+Ft*Ft*(-.23625+.21186*Lt+-.05148*Ft));while(R(_t)>A&&--mt>0);return Lt=ht*ht,Ft=Lt*Lt,cr=Lt*Ft,[Xe/(.84719-.13063*Lt+cr*cr*(-.04515+.05494*Lt-.02326*Ft+.00331*cr)),ht]};function Ku(){return(0,g.Z)(Nl).scale(175.295)}function hu(Xe,nt){return[Xe*(1+T(nt))/2,2*(nt-m(nt/2))]}hu.invert=function(Xe,nt){for(var ht=nt/2,mt=0,_t=1/0;mt<10&&R(_t)>c;++mt){var Lt=T(nt/2);nt-=_t=(nt-m(nt/2)-ht)/(1-.5/(Lt*Lt))}return[2*Xe/(1+T(nt)),nt]};function ks(){return(0,g.Z)(hu).scale(152.63)}var el=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function dc(){return Io(se(1/0),el).rotate([20,0]).scale(152.63)}function vu(Xe,nt){var ht=u(nt),mt=T(nt),_t=f(Xe);if(Xe===0||R(nt)===l)return[0,nt];if(nt===0)return[Xe,0];if(R(Xe)===l)return[Xe*mt,l*ht];var Lt=h/(2*Xe)-2*Xe/h,Ft=2*nt/h,cr=(1-Ft*Ft)/(ht-Ft),yr=Lt*Lt,ar=cr*cr,Sr=1+yr/ar,Rr=1+ar/yr,jr=(Lt*ht/cr-Lt/2)/Sr,$r=(ar*ht/yr+cr/2)/Rr,bn=jr*jr+mt*mt/Sr,An=$r*$r-(ar*ht*ht/yr+cr*ht-1)/Rr;return[l*(jr+O(bn)*_t),l*($r+O(An<0?0:An)*f(-nt*Lt)*_t)]}vu.invert=function(Xe,nt){Xe/=l,nt/=l;var ht=Xe*Xe,mt=nt*nt,_t=ht+mt,Lt=h*h;return[Xe?(_t-1+O((1-_t)*(1-_t)+4*ht))/(2*Xe)*l:0,Ce(function(Ft){return _t*(h*u(Ft)-2*Ft)*h+4*Ft*Ft*(nt-u(Ft))+2*h*Ft-Lt*nt},0)]};function dl(){return(0,g.Z)(vu).scale(127.267)}var Hi=1.0148,pc=.23185,Mf=-.14499,du=.02406,eh=Hi,th=5*pc,pu=7*Mf,gu=9*du,so=1.790857183;function Ef(Xe,nt){var ht=nt*nt;return[Xe,nt*(Hi+ht*ht*(pc+ht*(Mf+du*ht)))]}Ef.invert=function(Xe,nt){nt>so?nt=so:nt<-so&&(nt=-so);var ht=nt,mt;do{var _t=ht*ht;ht-=mt=(ht*(Hi+_t*_t*(pc+_t*(Mf+du*_t)))-nt)/(eh+_t*_t*(th+_t*(pu+gu*_t)))}while(R(mt)>c);return[Xe,ht]};function cv(){return(0,g.Z)(Ef).scale(139.319)}function gc(Xe,nt){if(R(nt)<c)return[Xe,0];var ht=m(nt),mt=Xe*u(nt);return[u(mt)/ht,nt+(1-T(mt))/ht]}gc.invert=function(Xe,nt){if(R(nt)<c)return[Xe,0];var ht=Xe*Xe+nt*nt,mt=nt*.5,_t=10,Lt;do{var Ft=m(mt),cr=1/T(mt),yr=ht-2*nt*mt+mt*mt;mt-=Lt=(Ft*yr+2*(mt-nt))/(2+yr*cr*cr+2*(mt-nt)*Ft)}while(R(Lt)>c&&--_t>0);return Ft=m(mt),[(R(nt)<R(mt+1/Ft)?L(Xe*Ft):f(nt)*f(Xe)*(b(R(Xe*Ft))+l))/u(mt),mt]};function hv(){return(0,g.Z)(gc).scale(103.74)}var Cf=e(77338),$u=e(83074);function yc(Xe,nt){var ht=xc(Xe[1],Xe[0]),mt=xc(nt[1],nt[0]),_t=bc(ht,mt),Lt=Lf(ht)/Lf(mt);return Ju([1,0,Xe[0][0],0,1,Xe[0][1]],Ju([Lt,0,0,0,Lt,0],Ju([T(_t),u(_t),0,-u(_t),T(_t),0],[1,0,-nt[0][0],0,1,-nt[0][1]])))}function mc(Xe){var nt=1/(Xe[0]*Xe[4]-Xe[1]*Xe[3]);return[nt*Xe[4],-nt*Xe[1],nt*(Xe[1]*Xe[5]-Xe[2]*Xe[4]),-nt*Xe[3],nt*Xe[0],nt*(Xe[2]*Xe[3]-Xe[0]*Xe[5])]}function Ju(Xe,nt){return[Xe[0]*nt[0]+Xe[1]*nt[3],Xe[0]*nt[1]+Xe[1]*nt[4],Xe[0]*nt[2]+Xe[1]*nt[5]+Xe[2],Xe[3]*nt[0]+Xe[4]*nt[3],Xe[3]*nt[1]+Xe[4]*nt[4],Xe[3]*nt[2]+Xe[4]*nt[5]+Xe[5]]}function xc(Xe,nt){return[Xe[0]-nt[0],Xe[1]-nt[1]]}function Lf(Xe){return O(Xe[0]*Xe[0]+Xe[1]*Xe[1])}function bc(Xe,nt){return C(Xe[0]*nt[1]-Xe[1]*nt[0],Xe[0]*nt[0]+Xe[1]*nt[1])}function mi(Xe,nt,ht){mt(Xe,{transform:null});function mt(ar,Sr){if(ar.edges=Ul(ar.face),Sr.face){var Rr=ar.shared=yu(ar.face,Sr.face),jr=yc(Rr.map(Sr.project),Rr.map(ar.project));ar.transform=Sr.transform?Ju(Sr.transform,jr):jr;for(var $r=Sr.edges,bn=0,An=$r.length;bn<An;++bn)ys(Rr[0],$r[bn][1])&&ys(Rr[1],$r[bn][0])&&($r[bn]=ar),ys(Rr[0],$r[bn][0])&&ys(Rr[1],$r[bn][1])&&($r[bn]=ar);for($r=ar.edges,bn=0,An=$r.length;bn<An;++bn)ys(Rr[0],$r[bn][0])&&ys(Rr[1],$r[bn][1])&&($r[bn]=Sr),ys(Rr[0],$r[bn][1])&&ys(Rr[1],$r[bn][0])&&($r[bn]=Sr)}else ar.transform=Sr.transform;return ar.children&&ar.children.forEach(function(kn){mt(kn,ar)}),ar}function _t(ar,Sr){var Rr=nt(ar,Sr),jr=Rr.project([ar*E,Sr*E]),$r;return($r=Rr.transform)?[$r[0]*jr[0]+$r[1]*jr[1]+$r[2],-($r[3]*jr[0]+$r[4]*jr[1]+$r[5])]:(jr[1]=-jr[1],jr)}wc(Xe)&&(_t.invert=function(ar,Sr){var Rr=Lt(Xe,[ar,-Sr]);return Rr&&(Rr[0]*=w,Rr[1]*=w,Rr)});function Lt(ar,Sr){var Rr=ar.project.invert,jr=ar.transform,$r=Sr;if(jr&&(jr=mc(jr),$r=[jr[0]*$r[0]+jr[1]*$r[1]+jr[2],jr[3]*$r[0]+jr[4]*$r[1]+jr[5]]),Rr&&ar===Ft(bn=Rr($r)))return bn;for(var bn,An=ar.children,kn=0,da=An&&An.length;kn<da;++kn)if(bn=Lt(An[kn],Sr))return bn}function Ft(ar){return nt(ar[0]*w,ar[1]*w)}var cr=(0,g.Z)(_t),yr=cr.stream;return cr.stream=function(ar){var Sr=cr.rotate(),Rr=yr(ar),jr=(cr.rotate([0,0]),yr(ar));return cr.rotate(Sr),Rr.sphere=function(){jr.polygonStart(),jr.lineStart(),rh(jr,Xe),jr.lineEnd(),jr.polygonEnd()},Rr},cr.angle(ht==null?-30:ht*E)}function rh(Xe,nt,ht){var mt,_t=nt.edges,Lt=_t.length,Ft,cr={type:"MultiPoint",coordinates:nt.face},yr=nt.face.filter(function(An){return R(An[1])!==90}),ar=(0,Cf.Z)({type:"MultiPoint",coordinates:yr}),Sr=!1,Rr=-1,jr=ar[1][0]-ar[0][0],$r=jr===180||jr===360?[(ar[0][0]+ar[1][0])/2,(ar[0][1]+ar[1][1])/2]:(0,Je.Z)(cr);if(ht)for(;++Rr<Lt&&_t[Rr]!==ht;);++Rr;for(var bn=0;bn<Lt;++bn)Ft=_t[(bn+Rr)%Lt],Array.isArray(Ft)?(Sr||(Xe.point((mt=(0,$u.Z)(Ft[0],$r)(c))[0],mt[1]),Sr=!0),Xe.point((mt=(0,$u.Z)(Ft[1],$r)(c))[0],mt[1])):(Sr=!1,Ft!==ht&&rh(Xe,Ft,nt))}function ys(Xe,nt){return Xe&&nt&&Xe[0]===nt[0]&&Xe[1]===nt[1]}function yu(Xe,nt){for(var ht,mt,_t=Xe.length,Lt=null,Ft=0;Ft<_t;++Ft){ht=Xe[Ft];for(var cr=nt.length;--cr>=0;)if(mt=nt[cr],ht[0]===mt[0]&&ht[1]===mt[1]){if(Lt)return[Lt,ht];Lt=ht}}}function Ul(Xe){for(var nt=Xe.length,ht=[],mt=Xe[nt-1],_t=0;_t<nt;++_t)ht.push([mt,mt=Xe[_t]]);return ht}function wc(Xe){return Xe.project.invert||Xe.children&&Xe.children.some(wc)}var Gi=e(98936),Qu=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],Ho=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(Xe){return Xe.map(function(nt){return Qu[nt]})});function tl(Xe){Xe=Xe||function(ht){var mt=(0,Je.Z)({type:"MultiPoint",coordinates:ht});return(0,Gi.Z)().scale(1).translate([0,0]).rotate([-mt[0],-mt[1]])};var nt=Ho.map(function(ht){return{face:ht,project:Xe(ht)}});return[-1,0,0,1,0,1,4,5].forEach(function(ht,mt){var _t=nt[ht];_t&&(_t.children||(_t.children=[])).push(nt[mt])}),mi(nt[0],function(ht,mt){return nt[ht<-h/2?mt<0?6:4:ht<0?mt<0?2:0:ht<h/2?mt<0?3:1:mt<0?7:5]}).angle(-30).scale(101.858).center([0,45])}var rl=2/O(3);function pl(Xe,nt){var ht=Ue(Xe,nt);return[ht[0]*rl,ht[1]]}pl.invert=function(Xe,nt){return Ue.invert(Xe/rl,nt)};function yl(Xe){Xe=Xe||function(ht){var mt=(0,Je.Z)({type:"MultiPoint",coordinates:ht});return(0,g.Z)(pl).translate([0,0]).scale(1).rotate(mt[1]>0?[-mt[0],0]:[180-mt[0],180])};var nt=Ho.map(function(ht){return{face:ht,project:Xe(ht)}});return[-1,0,0,1,0,1,4,5].forEach(function(ht,mt){var _t=nt[ht];_t&&(_t.children||(_t.children=[])).push(nt[mt])}),mi(nt[0],function(ht,mt){return nt[ht<-h/2?mt<0?6:4:ht<0?mt<0?2:0:ht<h/2?mt<0?3:1:mt<0?7:5]}).angle(-30).scale(121.906).center([0,48.5904])}function ml(Xe){Xe=Xe||function(Ft){var cr=Ft.length===6?(0,Je.Z)({type:"MultiPoint",coordinates:Ft}):Ft[0];return(0,Gi.Z)().scale(1).translate([0,0]).rotate([-cr[0],-cr[1]])};var nt=Ho.map(function(Ft){for(var cr=Ft.map(ef),yr=cr.length,ar=cr[yr-1],Sr,Rr=[],jr=0;jr<yr;++jr)Sr=cr[jr],Rr.push(qu([ar[0]*.9486832980505138+Sr[0]*.31622776601683794,ar[1]*.9486832980505138+Sr[1]*.31622776601683794,ar[2]*.9486832980505138+Sr[2]*.31622776601683794]),qu([Sr[0]*.9486832980505138+ar[0]*.31622776601683794,Sr[1]*.9486832980505138+ar[1]*.31622776601683794,Sr[2]*.9486832980505138+ar[2]*.31622776601683794])),ar=Sr;return Rr}),ht=[],mt=[-1,0,0,1,0,1,4,5];nt.forEach(function(Ft,cr){for(var yr=Ho[cr],ar=yr.length,Sr=ht[cr]=[],Rr=0;Rr<ar;++Rr)nt.push([yr[Rr],Ft[(Rr*2+2)%(2*ar)],Ft[(Rr*2+1)%(2*ar)]]),mt.push(cr),Sr.push(_s(ef(Ft[(Rr*2+2)%(2*ar)]),ef(Ft[(Rr*2+1)%(2*ar)])))});var _t=nt.map(function(Ft){return{project:Xe(Ft),face:Ft}});mt.forEach(function(Ft,cr){var yr=_t[Ft];yr&&(yr.children||(yr.children=[])).push(_t[cr])});function Lt(Ft,cr){var yr=T(cr),ar=[yr*T(Ft),yr*u(Ft),u(cr)],Sr=Ft<-h/2?cr<0?6:4:Ft<0?cr<0?2:0:Ft<h/2?cr<0?3:1:cr<0?7:5,Rr=ht[Sr];return _t[ms(Rr[0],ar)<0?8+3*Sr:ms(Rr[1],ar)<0?8+3*Sr+1:ms(Rr[2],ar)<0?8+3*Sr+2:Sr]}return mi(_t[0],Lt).angle(-30).scale(110.625).center([0,45])}function ms(Xe,nt){for(var ht=0,mt=Xe.length,_t=0;ht<mt;++ht)_t+=Xe[ht]*nt[ht];return _t}function _s(Xe,nt){return[Xe[1]*nt[2]-Xe[2]*nt[1],Xe[2]*nt[0]-Xe[0]*nt[2],Xe[0]*nt[1]-Xe[1]*nt[0]]}function qu(Xe){return[C(Xe[1],Xe[0])*E,L(r(-1,s(1,Xe[2])))*E]}function ef(Xe){var nt=Xe[0]*w,ht=Xe[1]*w,mt=T(ht);return[mt*T(nt),mt*u(nt),u(ht)]}function Pf(){}function vv(Xe){if((ht=Xe.length)<4)return!1;for(var nt=0,ht,mt=Xe[ht-1][1]*Xe[0][0]-Xe[ht-1][0]*Xe[0][1];++nt<ht;)mt+=Xe[nt-1][1]*Xe[nt][0]-Xe[nt-1][0]*Xe[nt][1];return mt<=0}function dv(Xe,nt){for(var ht=nt[0],mt=nt[1],_t=!1,Lt=0,Ft=Xe.length,cr=Ft-1;Lt<Ft;cr=Lt++){var yr=Xe[Lt],ar=yr[0],Sr=yr[1],Rr=Xe[cr],jr=Rr[0],$r=Rr[1];Sr>mt^$r>mt&&ht<(jr-ar)*(mt-Sr)/($r-Sr)+ar&&(_t=!_t)}return _t}function pv(Xe,nt){var ht=nt.stream,mt;if(!ht)throw new Error("invalid projection");switch(Xe&&Xe.type){case"Feature":mt=Rf;break;case"FeatureCollection":mt=gv;break;default:mt=mu;break}return mt(Xe,ht)}function gv(Xe,nt){return{type:"FeatureCollection",features:Xe.features.map(function(ht){return Rf(ht,nt)})}}function Rf(Xe,nt){return{type:"Feature",id:Xe.id,properties:Xe.properties,geometry:mu(Xe.geometry,nt)}}function nh(Xe,nt){return{type:"GeometryCollection",geometries:Xe.geometries.map(function(ht){return mu(ht,nt)})}}function mu(Xe,nt){if(!Xe)return null;if(Xe.type==="GeometryCollection")return nh(Xe,nt);var ht;switch(Xe.type){case"Point":ht=tf;break;case"MultiPoint":ht=tf;break;case"LineString":ht=Hl;break;case"MultiLineString":ht=Hl;break;case"Polygon":ht=rf;break;case"MultiPolygon":ht=rf;break;case"Sphere":ht=rf;break;default:return null}return(0,ba.Z)(Xe,nt(ht)),ht.result()}var vo=[],Vo=[],tf={point:function(Xe,nt){vo.push([Xe,nt])},result:function(){var Xe=vo.length?vo.length<2?{type:"Point",coordinates:vo[0]}:{type:"MultiPoint",coordinates:vo}:null;return vo=[],Xe}},Hl={lineStart:Pf,point:function(Xe,nt){vo.push([Xe,nt])},lineEnd:function(){vo.length&&(Vo.push(vo),vo=[])},result:function(){var Xe=Vo.length?Vo.length<2?{type:"LineString",coordinates:Vo[0]}:{type:"MultiLineString",coordinates:Vo}:null;return Vo=[],Xe}},rf={polygonStart:Pf,lineStart:Pf,point:function(Xe,nt){vo.push([Xe,nt])},lineEnd:function(){var Xe=vo.length;if(Xe){do vo.push(vo[0].slice());while(++Xe<4);Vo.push(vo),vo=[]}},polygonEnd:Pf,result:function(){if(!Vo.length)return null;var Xe=[],nt=[];return Vo.forEach(function(ht){vv(ht)?Xe.push([ht]):nt.push(ht)}),nt.forEach(function(ht){var mt=ht[0];Xe.some(function(_t){if(dv(_t[0],mt))return _t.push(ht),!0})||Xe.push([ht])}),Vo=[],Xe.length?Xe.length>1?{type:"MultiPolygon",coordinates:Xe}:{type:"Polygon",coordinates:Xe[0]}:null}};function Df(Xe){var nt=Xe(l,0)[0]-Xe(-l,0)[0];function ht(mt,_t){var Lt=R(mt)<l,Ft=Xe(Lt?mt:mt>0?mt-h:mt+h,_t),cr=(Ft[0]-Ft[1])*M,yr=(Ft[0]+Ft[1])*M;if(Lt)return[cr,yr];var ar=nt*M,Sr=cr>0^yr>0?-1:1;return[Sr*cr-f(yr)*ar,Sr*yr-f(cr)*ar]}return Xe.invert&&(ht.invert=function(mt,_t){var Lt=(mt+_t)*M,Ft=(_t-mt)*M,cr=R(Lt)<.5*nt&&R(Ft)<.5*nt;if(!cr){var yr=nt*M,ar=Lt>0^Ft>0?-1:1,Sr=-ar*mt+(Ft>0?1:-1)*yr,Rr=-ar*_t+(Lt>0?1:-1)*yr;Lt=(-Sr-Rr)*M,Ft=(Sr-Rr)*M}var jr=Xe.invert(Lt,Ft);return cr||(jr[0]+=Lt>0?h:-h),jr}),(0,g.Z)(ht).rotate([-90,-90,45]).clipAngle(179.999)}function yv(){return Df(mn).scale(176.423)}function ah(){return Df(Tr).scale(111.48)}function ih(Xe,nt){if(!(0<=(nt=+nt)&&nt<=20))throw new Error("invalid digits");function ht(ar){var Sr=ar.length,Rr=2,jr=new Array(Sr);for(jr[0]=+ar[0].toFixed(nt),jr[1]=+ar[1].toFixed(nt);Rr<Sr;)jr[Rr]=ar[Rr],++Rr;return jr}function mt(ar){return ar.map(ht)}function _t(ar){for(var Sr=ht(ar[0]),Rr=[Sr],jr=1;jr<ar.length;jr++){var $r=ht(ar[jr]);($r.length>2||$r[0]!=Sr[0]||$r[1]!=Sr[1])&&(Rr.push($r),Sr=$r)}return Rr.length===1&&ar.length>1&&Rr.push(ht(ar[ar.length-1])),Rr}function Lt(ar){return ar.map(_t)}function Ft(ar){if(ar==null)return ar;var Sr;switch(ar.type){case"GeometryCollection":Sr={type:"GeometryCollection",geometries:ar.geometries.map(Ft)};break;case"Point":Sr={type:"Point",coordinates:ht(ar.coordinates)};break;case"MultiPoint":Sr={type:ar.type,coordinates:mt(ar.coordinates)};break;case"LineString":Sr={type:ar.type,coordinates:_t(ar.coordinates)};break;case"MultiLineString":case"Polygon":Sr={type:ar.type,coordinates:Lt(ar.coordinates)};break;case"MultiPolygon":Sr={type:"MultiPolygon",coordinates:ar.coordinates.map(Lt)};break;default:return ar}return ar.bbox!=null&&(Sr.bbox=ar.bbox),Sr}function cr(ar){var Sr={type:"Feature",properties:ar.properties,geometry:Ft(ar.geometry)};return ar.id!=null&&(Sr.id=ar.id),ar.bbox!=null&&(Sr.bbox=ar.bbox),Sr}if(Xe!=null)switch(Xe.type){case"Feature":return cr(Xe);case"FeatureCollection":{var yr={type:"FeatureCollection",features:Xe.features.map(cr)};return Xe.bbox!=null&&(yr.bbox=Xe.bbox),yr}default:return Ft(Xe)}return Xe}function Tc(Xe){var nt=u(Xe);function ht(mt,_t){var Lt=nt?m(mt*nt/2)/nt:mt/2;if(!_t)return[2*Lt,-Xe];var Ft=2*a(Lt*u(_t)),cr=1/m(_t);return[u(Ft)*cr,_t+(1-T(Ft))*cr-Xe]}return ht.invert=function(mt,_t){if(R(_t+=Xe)<c)return[nt?2*a(nt*mt/2)/nt:mt,0];var Lt=mt*mt+_t*_t,Ft=0,cr=10,yr;do{var ar=m(Ft),Sr=1/T(Ft),Rr=Lt-2*_t*Ft+Ft*Ft;Ft-=yr=(ar*Rr+2*(Ft-_t))/(2+Rr*Sr*Sr+2*(Ft-_t)*ar)}while(R(yr)>c&&--cr>0);var jr=mt*(ar=m(Ft)),$r=m(R(_t)<R(Ft+1/ar)?L(jr)*.5:b(jr)*.5+h/4)/u(Ft);return[nt?2*a(nt*$r)/nt:2*$r,Ft]},ht}function xl(){return et(Tc).scale(131.215)}var Yi=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];Yi.forEach(function(Xe){Xe[1]*=1.0144});function zs(Xe,nt){var ht=s(18,R(nt)*36/h),mt=y(ht),_t=ht-mt,Lt=(Rr=Yi[mt])[0],Ft=Rr[1],cr=(Rr=Yi[++mt])[0],yr=Rr[1],ar=(Rr=Yi[s(19,++mt)])[0],Sr=Rr[1],Rr;return[Xe*(cr+_t*(ar-Lt)/2+_t*_t*(ar-2*cr+Lt)/2),(nt>0?l:-l)*(yr+_t*(Sr-Ft)/2+_t*_t*(Sr-2*yr+Ft)/2)]}zs.invert=function(Xe,nt){var ht=nt/l,mt=ht*90,_t=s(18,R(mt/5)),Lt=r(0,y(_t));do{var Ft=Yi[Lt][1],cr=Yi[Lt+1][1],yr=Yi[s(19,Lt+2)][1],ar=yr-Ft,Sr=yr-2*cr+Ft,Rr=2*(R(ht)-cr)/ar,jr=Sr/ar,$r=Rr*(1-jr*Rr*(1-2*jr*Rr));if($r>=0||Lt===1){mt=(nt>=0?5:-5)*($r+_t);var bn=50,An;do _t=s(18,R(mt)/5),Lt=y(_t),$r=_t-Lt,Ft=Yi[Lt][1],cr=Yi[Lt+1][1],yr=Yi[s(19,Lt+2)][1],mt-=(An=(nt>=0?l:-l)*(cr+$r*(yr-Ft)/2+$r*$r*(yr-2*cr+Ft)/2)-nt)*E;while(R(An)>A&&--bn>0);break}}while(--Lt>=0);var kn=Yi[Lt][0],da=Yi[Lt+1][0],Pa=Yi[s(19,Lt+2)][0];return[Xe/(da+$r*(Pa-kn)/2+$r*$r*(Pa-2*da+kn)/2),mt*w]};function Ac(){return(0,g.Z)(zs).scale(152.63)}function oh(Xe){function nt(ht,mt){var _t=T(mt),Lt=(Xe-1)/(Xe-_t*T(ht));return[Lt*_t*u(ht),Lt*u(mt)]}return nt.invert=function(ht,mt){var _t=ht*ht+mt*mt,Lt=O(_t),Ft=(Xe-O(1-_t*(Xe+1)/(Xe-1)))/((Xe-1)/Lt+Lt/(Xe-1));return[C(ht*Ft,Lt*O(1-Ft*Ft)),Lt?L(mt*Ft/Lt):0]},nt}function Vl(Xe,nt){var ht=oh(Xe);if(!nt)return ht;var mt=T(nt),_t=u(nt);function Lt(Ft,cr){var yr=ht(Ft,cr),ar=yr[1],Sr=ar*_t/(Xe-1)+mt;return[yr[0]*mt/Sr,ar/Sr]}return Lt.invert=function(Ft,cr){var yr=(Xe-1)/(Xe-1-cr*_t);return ht.invert(yr*Ft,yr*cr*mt)},Lt}function If(){var Xe=2,nt=0,ht=(0,g.r)(Vl),mt=ht(Xe,nt);return mt.distance=function(_t){return arguments.length?ht(Xe=+_t,nt):Xe},mt.tilt=function(_t){return arguments.length?ht(Xe,nt=_t*w):nt*E},mt.scale(432.147).clipAngle(b(1/Xe)*E-1e-6)}var xs=1e-4,kf=1e4,nl=-180,al=nl+xs,Sc=180,xu=Sc-xs,hi=-90,Wl=hi+xs,_f=90,zf=_f-xs;function bl(Xe){return Xe.length>0}function mv(Xe){return Math.floor(Xe*kf)/kf}function Mc(Xe){return Xe===hi||Xe===_f?[0,Xe]:[nl,mv(Xe)]}function bu(Xe){var nt=Xe[0],ht=Xe[1],mt=!1;return nt<=al?(nt=nl,mt=!0):nt>=xu&&(nt=Sc,mt=!0),ht<=Wl?(ht=hi,mt=!0):ht>=zf&&(ht=_f,mt=!0),mt?[nt,ht]:Xe}function Ec(Xe){return Xe.map(bu)}function sh(Xe,nt,ht){for(var mt=0,_t=Xe.length;mt<_t;++mt){var Lt=Xe[mt].slice();ht.push({index:-1,polygon:nt,ring:Lt});for(var Ft=0,cr=Lt.length;Ft<cr;++Ft){var yr=Lt[Ft],ar=yr[0],Sr=yr[1];if(ar<=al||ar>=xu||Sr<=Wl||Sr>=zf){Lt[Ft]=bu(yr);for(var Rr=Ft+1;Rr<cr;++Rr){var jr=Lt[Rr],$r=jr[0],bn=jr[1];if($r>al&&$r<xu&&bn>Wl&&bn<zf)break}if(Rr===Ft+1)continue;if(Ft){var An={index:-1,polygon:nt,ring:Lt.slice(0,Ft+1)};An.ring[An.ring.length-1]=Mc(Sr),ht[ht.length-1]=An}else ht.pop();if(Rr>=cr)break;ht.push({index:-1,polygon:nt,ring:Lt=Lt.slice(Rr-1)}),Lt[0]=Mc(Lt[0][1]),Ft=-1,cr=Lt.length}}}}function il(Xe){var nt,ht=Xe.length,mt={},_t={},Lt,Ft,cr,yr,ar;for(nt=0;nt<ht;++nt){if(Lt=Xe[nt],Ft=Lt.ring[0],yr=Lt.ring[Lt.ring.length-1],Ft[0]===yr[0]&&Ft[1]===yr[1]){Lt.polygon.push(Lt.ring),Xe[nt]=null;continue}Lt.index=nt,mt[Ft]=_t[yr]=Lt}for(nt=0;nt<ht;++nt)if(Lt=Xe[nt],Lt){if(Ft=Lt.ring[0],yr=Lt.ring[Lt.ring.length-1],cr=_t[Ft],ar=mt[yr],delete mt[Ft],delete _t[yr],Ft[0]===yr[0]&&Ft[1]===yr[1]){Lt.polygon.push(Lt.ring);continue}cr?(delete _t[Ft],delete mt[cr.ring[0]],cr.ring.pop(),Xe[cr.index]=null,Lt={index:-1,polygon:cr.polygon,ring:cr.ring.concat(Lt.ring)},cr===ar?Lt.polygon.push(Lt.ring):(Lt.index=ht++,Xe.push(mt[Lt.ring[0]]=_t[Lt.ring[Lt.ring.length-1]]=Lt))):ar?(delete mt[yr],delete _t[ar.ring[ar.ring.length-1]],Lt.ring.pop(),Lt={index:ht++,polygon:ar.polygon,ring:Lt.ring.concat(ar.ring)},Xe[ar.index]=null,Xe.push(mt[Lt.ring[0]]=_t[Lt.ring[Lt.ring.length-1]]=Lt)):(Lt.ring.push(Lt.ring[0]),Lt.polygon.push(Lt.ring))}}function wl(Xe){var nt={type:"Feature",geometry:Gl(Xe.geometry)};return Xe.id!=null&&(nt.id=Xe.id),Xe.bbox!=null&&(nt.bbox=Xe.bbox),Xe.properties!=null&&(nt.properties=Xe.properties),nt}function Gl(Xe){if(Xe==null)return Xe;var nt,ht,mt,_t;switch(Xe.type){case"GeometryCollection":nt={type:"GeometryCollection",geometries:Xe.geometries.map(Gl)};break;case"Point":nt={type:"Point",coordinates:bu(Xe.coordinates)};break;case"MultiPoint":case"LineString":nt={type:Xe.type,coordinates:Ec(Xe.coordinates)};break;case"MultiLineString":nt={type:"MultiLineString",coordinates:Xe.coordinates.map(Ec)};break;case"Polygon":{var Lt=[];sh(Xe.coordinates,Lt,ht=[]),il(ht),nt={type:"Polygon",coordinates:Lt};break}case"MultiPolygon":{ht=[],mt=-1,_t=Xe.coordinates.length;for(var Ft=new Array(_t);++mt<_t;)sh(Xe.coordinates[mt],Ft[mt]=[],ht);il(ht),nt={type:"MultiPolygon",coordinates:Ft.filter(bl)};break}default:return Xe}return Xe.bbox!=null&&(nt.bbox=Xe.bbox),nt}function Yl(Xe){if(Xe==null)return Xe;switch(Xe.type){case"Feature":return wl(Xe);case"FeatureCollection":{var nt={type:"FeatureCollection",features:Xe.features.map(wl)};return Xe.bbox!=null&&(nt.bbox=Xe.bbox),nt}default:return Gl(Xe)}}function Wo(Xe,nt){var ht=m(nt/2),mt=u(p*ht);return[Xe*(.74482-.34588*mt*mt),1.70711*ht]}Wo.invert=function(Xe,nt){var ht=nt/1.70711,mt=u(p*ht);return[Xe/(.74482-.34588*mt*mt),2*a(ht)]};function Jo(){return(0,g.Z)(Wo).scale(146.153)}function jl(Xe,nt,ht){var mt=(0,$u.Z)(nt,ht),_t=mt(.5),Lt=(0,ze.Z)([-_t[0],-_t[1]])(nt),Ft=mt.distance/2,cr=-L(u(Lt[1]*w)/u(Ft)),yr=[-_t[0],-_t[1],-(Lt[0]>0?h-cr:cr)*E],ar=(0,g.Z)(Xe(Ft)).rotate(yr),Sr=(0,ze.Z)(yr),Rr=ar.center;return delete ar.rotate,ar.center=function(jr){return arguments.length?Rr(Sr(jr)):Sr.invert(Rr())},ar.clipAngle(90)}function lh(Xe){var nt=T(Xe);function ht(mt,_t){var Lt=(0,Gi.M)(mt,_t);return Lt[0]*=nt,Lt}return ht.invert=function(mt,_t){return Gi.M.invert(mt/nt,_t)},ht}function wu(){return Of([-158,21.5],[-77,39]).clipAngle(60).scale(400)}function Of(Xe,nt){return jl(lh,Xe,nt)}function uh(Xe){if(!(Xe*=2))return le.N;var nt=-Xe/2,ht=-nt,mt=Xe*Xe,_t=m(ht),Lt=.5/u(ht);function Ft(cr,yr){var ar=b(T(yr)*T(cr-nt)),Sr=b(T(yr)*T(cr-ht)),Rr=yr<0?-1:1;return ar*=ar,Sr*=Sr,[(ar-Sr)/(2*Xe),Rr*O(4*mt*Sr-(mt-ar+Sr)*(mt-ar+Sr))/(2*Xe)]}return Ft.invert=function(cr,yr){var ar=yr*yr,Sr=T(O(ar+(jr=cr+nt)*jr)),Rr=T(O(ar+(jr=cr+ht)*jr)),jr,$r;return[C($r=Sr-Rr,jr=(Sr+Rr)*_t),(yr<0?-1:1)*b(O(jr*jr+$r*$r)*Lt)]},Ft}function bs(){return Cc([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)}function Cc(Xe,nt){return jl(uh,Xe,nt)}function Tl(Xe,nt){if(R(nt)<c)return[Xe,0];var ht=R(nt/l),mt=L(ht);if(R(Xe)<c||R(R(nt)-l)<c)return[0,f(nt)*h*m(mt/2)];var _t=T(mt),Lt=R(h/Xe-Xe/h)/2,Ft=Lt*Lt,cr=_t/(ht+_t-1),yr=cr*(2/ht-1),ar=yr*yr,Sr=ar+Ft,Rr=cr-ar,jr=Ft+cr;return[f(Xe)*h*(Lt*Rr+O(Ft*Rr*Rr-Sr*(cr*cr-ar)))/Sr,f(nt)*h*(yr*jr-Lt*O((Ft+1)*Sr-jr*jr))/Sr]}Tl.invert=function(Xe,nt){if(R(nt)<c)return[Xe,0];if(R(Xe)<c)return[0,l*u(2*a(nt/h))];var ht=(Xe/=h)*Xe,mt=(nt/=h)*nt,_t=ht+mt,Lt=_t*_t,Ft=-R(nt)*(1+_t),cr=Ft-2*mt+ht,yr=-2*Ft+1+2*mt+Lt,ar=mt/yr+(2*cr*cr*cr/(yr*yr*yr)-9*Ft*cr/(yr*yr))/27,Sr=(Ft-cr*cr/(3*yr))/yr,Rr=2*O(-Sr/3),jr=b(3*ar/(Sr*Rr))/3;return[h*(_t-1+O(1+2*(ht-mt)+Lt))/(2*Xe),f(nt)*h*(-Rr*T(jr+h/3)-cr/(3*yr))]};function nf(){return(0,g.Z)(Tl).scale(79.4183)}function ol(Xe,nt){if(R(nt)<c)return[Xe,0];var ht=R(nt/l),mt=L(ht);if(R(Xe)<c||R(R(nt)-l)<c)return[0,f(nt)*h*m(mt/2)];var _t=T(mt),Lt=R(h/Xe-Xe/h)/2,Ft=Lt*Lt,cr=_t*(O(1+Ft)-Lt*_t)/(1+Ft*ht*ht);return[f(Xe)*h*cr,f(nt)*h*O(1-cr*(2*Lt+cr))]}ol.invert=function(Xe,nt){if(!Xe)return[0,l*u(2*a(nt/h))];var ht=R(Xe/h),mt=(1-ht*ht-(nt/=h)*nt)/(2*ht),_t=mt*mt,Lt=O(_t+1);return[f(Xe)*h*(Lt-mt),f(nt)*l*u(2*C(O((1-2*mt*ht)*(mt+Lt)-ht),O(Lt+mt+ht)))]};function xv(){return(0,g.Z)(ol).scale(79.4183)}function Lc(Xe,nt){if(R(nt)<c)return[Xe,0];var ht=nt/l,mt=L(ht);if(R(Xe)<c||R(R(nt)-l)<c)return[0,h*m(mt/2)];var _t=(h/Xe-Xe/h)/2,Lt=ht/(1+T(mt));return[h*(f(Xe)*O(_t*_t+1-Lt*Lt)-_t),h*Lt]}Lc.invert=function(Xe,nt){if(!nt)return[Xe,0];var ht=nt/h,mt=(h*h*(1-ht*ht)-Xe*Xe)/(2*h*Xe);return[Xe?h*(f(Xe)*O(mt*mt+1)-mt):0,l*u(2*a(ht))]};function Ff(){return(0,g.Z)(Lc).scale(79.4183)}function Mo(Xe,nt){if(!nt)return[Xe,0];var ht=R(nt);if(!Xe||ht===l)return[0,nt];var mt=ht/l,_t=mt*mt,Lt=(8*mt-_t*(_t+2)-5)/(2*_t*(mt-1)),Ft=Lt*Lt,cr=mt*Lt,yr=_t+Ft+2*cr,ar=mt+3*Lt,Sr=Xe/l,Rr=Sr+1/Sr,jr=f(R(Xe)-l)*O(Rr*Rr-4),$r=jr*jr,bn=yr*(_t+Ft*$r-1)+(1-_t)*(_t*(ar*ar+4*Ft)+12*cr*Ft+4*Ft*Ft),An=(jr*(yr+Ft-1)+2*O(bn))/(4*yr+$r);return[f(Xe)*l*An,f(nt)*l*O(1+jr*R(An)-An*An)]}Mo.invert=function(Xe,nt){var ht;if(!Xe||!nt)return[Xe,nt];nt/=h;var mt=f(Xe)*Xe/l,_t=(mt*mt-1+4*nt*nt)/R(mt),Lt=_t*_t,Ft=2*nt,cr=50;do{var yr=Ft*Ft,ar=(8*Ft-yr*(yr+2)-5)/(2*yr*(Ft-1)),Sr=(3*Ft-yr*Ft-10)/(2*yr*Ft),Rr=ar*ar,jr=Ft*ar,$r=Ft+ar,bn=$r*$r,An=Ft+3*ar,kn=bn*(yr+Rr*Lt-1)+(1-yr)*(yr*(An*An+4*Rr)+Rr*(12*jr+4*Rr)),da=-2*$r*(4*jr*Rr+(1-4*yr+3*yr*yr)*(1+Sr)+Rr*(-6+14*yr-Lt+(-8+8*yr-2*Lt)*Sr)+jr*(-8+12*yr+(-10+10*yr-Lt)*Sr)),Pa=O(kn),Da=_t*(bn+Rr-1)+2*Pa-mt*(4*bn+Lt),Ia=_t*(2*ar*Sr+2*$r*(1+Sr))+da/Pa-8*$r*(_t*(-1+Rr+bn)+2*Pa)*(1+Sr)/(Lt+4*bn);Ft-=ht=Da/Ia}while(ht>c&&--cr>0);return[f(Xe)*(O(_t*_t+4)+_t)*h/4,l*Ft]};function fh(){return(0,g.Z)(Mo).scale(127.16)}function af(Xe,nt,ht,mt,_t){function Lt(Ft,cr){var yr=ht*u(mt*cr),ar=O(1-yr*yr),Sr=O(2/(1+ar*T(Ft*=_t)));return[Xe*ar*Sr*u(Ft),nt*yr*Sr]}return Lt.invert=function(Ft,cr){var yr=Ft/Xe,ar=cr/nt,Sr=O(yr*yr+ar*ar),Rr=2*L(Sr/2);return[C(Ft*m(Rr),Xe*Sr)/_t,Sr&&L(cr*u(Rr)/(nt*ht*Sr))/mt]},Lt}function Os(Xe,nt,ht,mt){var _t=h/3;Xe=r(Xe,c),nt=r(nt,c),Xe=s(Xe,l),nt=s(nt,h-c),ht=r(ht,0),ht=s(ht,100-c),mt=r(mt,c);var Lt=ht/100+1,Ft=mt/100,cr=b(Lt*T(_t))/_t,yr=u(Xe)/u(cr*l),ar=nt/h,Sr=O(Ft*u(Xe/2)/u(nt/2)),Rr=Sr/O(ar*yr*cr),jr=1/(Sr*O(ar*yr*cr));return af(Rr,jr,yr,cr,ar)}function of(){var Xe=65*w,nt=60*w,ht=20,mt=200,_t=(0,g.r)(Os),Lt=_t(Xe,nt,ht,mt);return Lt.poleline=function(Ft){return arguments.length?_t(Xe=+Ft*w,nt,ht,mt):Xe*E},Lt.parallels=function(Ft){return arguments.length?_t(Xe,nt=+Ft*w,ht,mt):nt*E},Lt.inflation=function(Ft){return arguments.length?_t(Xe,nt,ht=+Ft,mt):ht},Lt.ratio=function(Ft){return arguments.length?_t(Xe,nt,ht,mt=+Ft):mt},Lt.scale(163.775)}function Al(){return of().poleline(65).parallels(60).inflation(0).ratio(200).scale(172.633)}var Bf=4*h+3*O(3),ch=2*O(2*h*O(3)/Bf),Pc=be(ch*O(3)/h,ch,Bf/6);function Rc(){return(0,g.Z)(Pc).scale(176.84)}function Zl(Xe,nt){return[Xe*O(1-3*nt*nt/(h*h)),nt]}Zl.invert=function(Xe,nt){return[Xe/O(1-3*nt*nt/(h*h)),nt]};function Nf(){return(0,g.Z)(Zl).scale(152.63)}function sf(Xe,nt){var ht=T(nt),mt=T(Xe)*ht,_t=1-mt,Lt=T(Xe=C(u(Xe)*ht,-u(nt))),Ft=u(Xe);return ht=O(1-mt*mt),[Ft*ht-Lt*_t,-Lt*ht-Ft*_t]}sf.invert=function(Xe,nt){var ht=(Xe*Xe+nt*nt)/-2,mt=O(-ht*(2+ht)),_t=nt*ht+Xe*mt,Lt=Xe*ht-nt*mt,Ft=O(Lt*Lt+_t*_t);return[C(mt*_t,Ft*(1+ht)),Ft?-L(mt*Lt/Ft):0]};function hh(){return(0,g.Z)(sf).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)}function lf(Xe,nt){var ht=j(Xe,nt);return[(ht[0]+Xe/l)/2,(ht[1]+nt)/2]}lf.invert=function(Xe,nt){var ht=Xe,mt=nt,_t=25;do{var Lt=T(mt),Ft=u(mt),cr=u(2*mt),yr=Ft*Ft,ar=Lt*Lt,Sr=u(ht),Rr=T(ht/2),jr=u(ht/2),$r=jr*jr,bn=1-ar*Rr*Rr,An=bn?b(Lt*Rr)*O(kn=1/bn):kn=0,kn,da=.5*(2*An*Lt*jr+ht/l)-Xe,Pa=.5*(An*Ft+mt)-nt,Da=.5*kn*(ar*$r+An*Lt*Rr*yr)+.5/l,Ia=kn*(Sr*cr/4-An*Ft*jr),_a=.125*kn*(cr*jr-An*Ft*ar*Sr),ui=.5*kn*(yr*Rr+An*$r*Lt)+.5,Oi=Ia*_a-ui*Da,xi=(Pa*Ia-da*ui)/Oi,fe=(da*_a-Pa*Da)/Oi;ht-=xi,mt-=fe}while((R(xi)>c||R(fe)>c)&&--_t>0);return[ht,mt]};function vh(){return(0,g.Z)(lf).scale(158.837)}},33940:function(W,H,e){e.d(H,{Z:function(){return g}});function g(){return new R}function R(){this.reset()}R.prototype={constructor:R,reset:function(){this.s=this.t=0},add:function(T){C(a,T,this.t),C(this,a.s,this.s),this.s?this.t+=a.t:this.s=a.t},valueOf:function(){return this.s}};var a=new R;function C(T,v,y){var t=T.s=v+y,r=t-v,s=t-r;T.t=v-s+(y-r)}},97860:function(W,H,e){e.d(H,{L9:function(){return T},ZP:function(){return A},gL:function(){return o}});var g=e(33940),R=e(39695),a=e(73182),C=e(72736),T=(0,g.Z)(),v=(0,g.Z)(),y,t,r,s,n,o={point:a.Z,lineStart:a.Z,lineEnd:a.Z,polygonStart:function(){T.reset(),o.lineStart=f,o.lineEnd=u},polygonEnd:function(){var h=+T;v.add(h<0?R.BZ+h:h),this.lineStart=this.lineEnd=this.point=a.Z},sphere:function(){v.add(R.BZ)}};function f(){o.point=m}function u(){c(y,t)}function m(h,l){o.point=c,y=h,t=l,h*=R.uR,l*=R.uR,r=h,s=(0,R.mC)(l=l/2+R.pu),n=(0,R.O$)(l)}function c(h,l){h*=R.uR,l*=R.uR,l=l/2+R.pu;var p=h-r,M=p>=0?1:-1,S=M*p,P=(0,R.mC)(l),x=(0,R.O$)(l),E=n*x,w=s*P+E*(0,R.mC)(S),i=E*M*(0,R.O$)(S);T.add((0,R.fv)(i,w)),r=h,s=P,n=x}function A(h){return v.reset(),(0,C.Z)(h,o),v*2}},77338:function(W,H,e){e.d(H,{Z:function(){return L}});var g=e(33940),R=e(97860),a=e(7620),C=e(39695),T=e(72736),v,y,t,r,s,n,o,f,u=(0,g.Z)(),m,c,A={point:h,lineStart:p,lineEnd:M,polygonStart:function(){A.point=S,A.lineStart=P,A.lineEnd=x,u.reset(),R.gL.polygonStart()},polygonEnd:function(){R.gL.polygonEnd(),A.point=h,A.lineStart=p,A.lineEnd=M,R.L9<0?(v=-(t=180),y=-(r=90)):u>C.Ho?r=90:u<-C.Ho&&(y=-90),c[0]=v,c[1]=t},sphere:function(){v=-(t=180),y=-(r=90)}};function h(b,O){m.push(c=[v=b,t=b]),O<y&&(y=O),O>r&&(r=O)}function l(b,O){var _=(0,a.Og)([b*C.uR,O*C.uR]);if(f){var N=(0,a.T5)(f,_),z=[N[1],-N[0],0],B=(0,a.T5)(z,N);(0,a.iJ)(B),B=(0,a.Y1)(B);var U=b-s,F=U>0?1:-1,V=B[0]*C.RW*F,j,$=(0,C.Wn)(U)>180;$^(F*s<V&&V<F*b)?(j=B[1]*C.RW,j>r&&(r=j)):(V=(V+360)%360-180,$^(F*s<V&&V<F*b)?(j=-B[1]*C.RW,j<y&&(y=j)):(O<y&&(y=O),O>r&&(r=O))),$?b<s?E(v,b)>E(v,t)&&(t=b):E(b,t)>E(v,t)&&(v=b):t>=v?(b<v&&(v=b),b>t&&(t=b)):b>s?E(v,b)>E(v,t)&&(t=b):E(b,t)>E(v,t)&&(v=b)}else m.push(c=[v=b,t=b]);O<y&&(y=O),O>r&&(r=O),f=_,s=b}function p(){A.point=l}function M(){c[0]=v,c[1]=t,A.point=h,f=null}function S(b,O){if(f){var _=b-s;u.add((0,C.Wn)(_)>180?_+(_>0?360:-360):_)}else n=b,o=O;R.gL.point(b,O),l(b,O)}function P(){R.gL.lineStart()}function x(){S(n,o),R.gL.lineEnd(),(0,C.Wn)(u)>C.Ho&&(v=-(t=180)),c[0]=v,c[1]=t,f=null}function E(b,O){return(O-=b)<0?O+360:O}function w(b,O){return b[0]-O[0]}function i(b,O){return b[0]<=b[1]?b[0]<=O&&O<=b[1]:O<b[0]||b[1]<O}function L(b){var O,_,N,z,B,U,F;if(r=t=-(v=y=1/0),m=[],(0,T.Z)(b,A),_=m.length){for(m.sort(w),O=1,N=m[0],B=[N];O<_;++O)z=m[O],i(N,z[0])||i(N,z[1])?(E(N[0],z[1])>E(N[0],N[1])&&(N[1]=z[1]),E(z[0],N[1])>E(N[0],N[1])&&(N[0]=z[0])):B.push(N=z);for(U=-1/0,_=B.length-1,O=0,N=B[_];O<=_;N=z,++O)z=B[O],(F=E(N[1],z[0]))>U&&(U=F,v=z[0],t=N[1])}return m=c=null,v===1/0||y===1/0?[[NaN,NaN],[NaN,NaN]]:[[v,y],[t,r]]}},7620:function(W,H,e){e.d(H,{Og:function(){return a},T:function(){return y},T5:function(){return T},Y1:function(){return R},iJ:function(){return t},j9:function(){return C},s0:function(){return v}});var g=e(39695);function R(r){return[(0,g.fv)(r[1],r[0]),(0,g.ZR)(r[2])]}function a(r){var s=r[0],n=r[1],o=(0,g.mC)(n);return[o*(0,g.mC)(s),o*(0,g.O$)(s),(0,g.O$)(n)]}function C(r,s){return r[0]*s[0]+r[1]*s[1]+r[2]*s[2]}function T(r,s){return[r[1]*s[2]-r[2]*s[1],r[2]*s[0]-r[0]*s[2],r[0]*s[1]-r[1]*s[0]]}function v(r,s){r[0]+=s[0],r[1]+=s[1],r[2]+=s[2]}function y(r,s){return[r[0]*s,r[1]*s,r[2]*s]}function t(r){var s=(0,g._b)(r[0]*r[0]+r[1]*r[1]+r[2]*r[2]);r[0]/=s,r[1]/=s,r[2]/=s}},66624:function(W,H,e){e.d(H,{Z:function(){return _}});var g=e(39695),R=e(73182),a=e(72736),C,T,v,y,t,r,s,n,o,f,u,m,c,A,h,l,p={sphere:R.Z,point:M,lineStart:P,lineEnd:w,polygonStart:function(){p.lineStart=i,p.lineEnd=L},polygonEnd:function(){p.lineStart=P,p.lineEnd=w}};function M(N,z){N*=g.uR,z*=g.uR;var B=(0,g.mC)(z);S(B*(0,g.mC)(N),B*(0,g.O$)(N),(0,g.O$)(z))}function S(N,z,B){++C,v+=(N-v)/C,y+=(z-y)/C,t+=(B-t)/C}function P(){p.point=x}function x(N,z){N*=g.uR,z*=g.uR;var B=(0,g.mC)(z);A=B*(0,g.mC)(N),h=B*(0,g.O$)(N),l=(0,g.O$)(z),p.point=E,S(A,h,l)}function E(N,z){N*=g.uR,z*=g.uR;var B=(0,g.mC)(z),U=B*(0,g.mC)(N),F=B*(0,g.O$)(N),V=(0,g.O$)(z),j=(0,g.fv)((0,g._b)((j=h*V-l*F)*j+(j=l*U-A*V)*j+(j=A*F-h*U)*j),A*U+h*F+l*V);T+=j,r+=j*(A+(A=U)),s+=j*(h+(h=F)),n+=j*(l+(l=V)),S(A,h,l)}function w(){p.point=M}function i(){p.point=b}function L(){O(m,c),p.point=M}function b(N,z){m=N,c=z,N*=g.uR,z*=g.uR,p.point=O;var B=(0,g.mC)(z);A=B*(0,g.mC)(N),h=B*(0,g.O$)(N),l=(0,g.O$)(z),S(A,h,l)}function O(N,z){N*=g.uR,z*=g.uR;var B=(0,g.mC)(z),U=B*(0,g.mC)(N),F=B*(0,g.O$)(N),V=(0,g.O$)(z),j=h*V-l*F,$=l*U-A*V,ne=A*F-h*U,oe=(0,g._b)(j*j+$*$+ne*ne),ce=(0,g.ZR)(oe),Q=oe&&-ce/oe;o+=Q*j,f+=Q*$,u+=Q*ne,T+=ce,r+=ce*(A+(A=U)),s+=ce*(h+(h=F)),n+=ce*(l+(l=V)),S(A,h,l)}function _(N){C=T=v=y=t=r=s=n=o=f=u=0,(0,a.Z)(N,p);var z=o,B=f,U=u,F=z*z+B*B+U*U;return F<g.aW&&(z=r,B=s,U=n,T<g.Ho&&(z=v,B=y,U=t),F=z*z+B*B+U*U,F<g.aW)?[NaN,NaN]:[(0,g.fv)(B,z)*g.RW,(0,g.ZR)(U/(0,g._b)(F))*g.RW]}},7613:function(W,H,e){e.d(H,{m:function(){return T},Z:function(){return y}});var g=e(7620);function R(t){return function(){return t}}var a=e(39695),C=e(49386);function T(t,r,s,n,o,f){if(s){var u=(0,a.mC)(r),m=(0,a.O$)(r),c=n*s;o==null?(o=r+n*a.BZ,f=r-c/2):(o=v(u,o),f=v(u,f),(n>0?o<f:o>f)&&(o+=n*a.BZ));for(var A,h=o;n>0?h>f:h<f;h-=c)A=(0,g.Y1)([u,-m*(0,a.mC)(h),-m*(0,a.O$)(h)]),t.point(A[0],A[1])}}function v(t,r){r=(0,g.Og)(r),r[0]-=t,(0,g.iJ)(r);var s=(0,a.Kh)(-r[1]);return((-r[2]<0?-s:s)+a.BZ-a.Ho)%a.BZ}function y(){var t=R([0,0]),r=R(90),s=R(6),n,o,f={point:u};function u(c,A){n.push(c=o(c,A)),c[0]*=a.RW,c[1]*=a.RW}function m(){var c=t.apply(this,arguments),A=r.apply(this,arguments)*a.uR,h=s.apply(this,arguments)*a.uR;return n=[],o=(0,C.I)(-c[0]*a.uR,-c[1]*a.uR,0).invert,T(f,A,h,1),c={type:"Polygon",coordinates:[n]},n=o=null,c}return m.center=function(c){return arguments.length?(t=typeof c=="function"?c:R([+c[0],+c[1]]),m):t},m.radius=function(c){return arguments.length?(r=typeof c=="function"?c:R(+c),m):r},m.precision=function(c){return arguments.length?(s=typeof c=="function"?c:R(+c),m):s},m}},87070:function(W,H,e){var g=e(97023),R=e(39695);H.Z=(0,g.Z)(function(){return!0},a,T,[-R.pi,-R.ou]);function a(v){var y=NaN,t=NaN,r=NaN,s;return{lineStart:function(){v.lineStart(),s=1},point:function(n,o){var f=n>0?R.pi:-R.pi,u=(0,R.Wn)(n-y);(0,R.Wn)(u-R.pi)<R.Ho?(v.point(y,t=(t+o)/2>0?R.ou:-R.ou),v.point(r,t),v.lineEnd(),v.lineStart(),v.point(f,t),v.point(n,t),s=0):r!==f&&u>=R.pi&&((0,R.Wn)(y-r)<R.Ho&&(y-=r*R.Ho),(0,R.Wn)(n-f)<R.Ho&&(n-=f*R.Ho),t=C(y,t,n,o),v.point(r,t),v.lineEnd(),v.lineStart(),v.point(f,t),s=0),v.point(y=n,t=o),r=f},lineEnd:function(){v.lineEnd(),y=t=NaN},clean:function(){return 2-s}}}function C(v,y,t,r){var s,n,o=(0,R.O$)(v-t);return(0,R.Wn)(o)>R.Ho?(0,R.z4)(((0,R.O$)(y)*(n=(0,R.mC)(r))*(0,R.O$)(t)-(0,R.O$)(r)*(s=(0,R.mC)(y))*(0,R.O$)(v))/(s*n*o)):(y+r)/2}function T(v,y,t,r){var s;if(v==null)s=t*R.ou,r.point(-R.pi,s),r.point(0,s),r.point(R.pi,s),r.point(R.pi,0),r.point(R.pi,-s),r.point(0,-s),r.point(-R.pi,-s),r.point(-R.pi,0),r.point(-R.pi,s);else if((0,R.Wn)(v[0]-y[0])>R.Ho){var n=v[0]<y[0]?R.pi:-R.pi;s=t*n/2,r.point(-n,s),r.point(0,s),r.point(n,s)}else r.point(y[0],y[1])}},85272:function(W,H,e){e.d(H,{Z:function(){return R}});var g=e(73182);function R(){var a=[],C;return{point:function(T,v,y){C.push([T,v,y])},lineStart:function(){a.push(C=[])},lineEnd:g.Z,rejoin:function(){a.length>1&&a.push(a.pop().concat(a.shift()))},result:function(){var T=a;return a=[],C=null,T}}}},1457:function(W,H,e){e.d(H,{Z:function(){return v}});var g=e(7620),R=e(7613),a=e(39695),C=e(67108),T=e(97023);function v(y){var t=(0,a.mC)(y),r=6*a.uR,s=t>0,n=(0,a.Wn)(t)>a.Ho;function o(A,h,l,p){(0,R.m)(p,y,r,l,A,h)}function f(A,h){return(0,a.mC)(A)*(0,a.mC)(h)>t}function u(A){var h,l,p,M,S;return{lineStart:function(){M=p=!1,S=1},point:function(P,x){var E=[P,x],w,i=f(P,x),L=s?i?0:c(P,x):i?c(P+(P<0?a.pi:-a.pi),x):0;if(!h&&(M=p=i)&&A.lineStart(),i!==p&&(w=m(h,E),(!w||(0,C.Z)(h,w)||(0,C.Z)(E,w))&&(E[2]=1)),i!==p)S=0,i?(A.lineStart(),w=m(E,h),A.point(w[0],w[1])):(w=m(h,E),A.point(w[0],w[1],2),A.lineEnd()),h=w;else if(n&&h&&s^i){var b;!(L&l)&&(b=m(E,h,!0))&&(S=0,s?(A.lineStart(),A.point(b[0][0],b[0][1]),A.point(b[1][0],b[1][1]),A.lineEnd()):(A.point(b[1][0],b[1][1]),A.lineEnd(),A.lineStart(),A.point(b[0][0],b[0][1],3)))}i&&(!h||!(0,C.Z)(h,E))&&A.point(E[0],E[1]),h=E,p=i,l=L},lineEnd:function(){p&&A.lineEnd(),h=null},clean:function(){return S|(M&&p)<<1}}}function m(A,h,l){var p=(0,g.Og)(A),M=(0,g.Og)(h),S=[1,0,0],P=(0,g.T5)(p,M),x=(0,g.j9)(P,P),E=P[0],w=x-E*E;if(!w)return!l&&A;var i=t*x/w,L=-t*E/w,b=(0,g.T5)(S,P),O=(0,g.T)(S,i),_=(0,g.T)(P,L);(0,g.s0)(O,_);var N=b,z=(0,g.j9)(O,N),B=(0,g.j9)(N,N),U=z*z-B*((0,g.j9)(O,O)-1);if(!(U<0)){var F=(0,a._b)(U),V=(0,g.T)(N,(-z-F)/B);if((0,g.s0)(V,O),V=(0,g.Y1)(V),!l)return V;var j=A[0],$=h[0],ne=A[1],oe=h[1],ce;$<j&&(ce=j,j=$,$=ce);var Q=$-j,Z=(0,a.Wn)(Q-a.pi)<a.Ho,K=Z||Q<a.Ho;if(!Z&&oe<ne&&(ce=ne,ne=oe,oe=ce),K?Z?ne+oe>0^V[1]<((0,a.Wn)(V[0]-j)<a.Ho?ne:oe):ne<=V[1]&&V[1]<=oe:Q>a.pi^(j<=V[0]&&V[0]<=$)){var J=(0,g.T)(N,(-z+F)/B);return(0,g.s0)(J,O),[V,(0,g.Y1)(J)]}}}function c(A,h){var l=s?y:a.pi-y,p=0;return A<-l?p|=1:A>l&&(p|=2),h<-l?p|=4:h>l&&(p|=8),p}return(0,T.Z)(f,u,o,s?[0,-y]:[-a.pi,y-a.pi])}},97023:function(W,H,e){e.d(H,{Z:function(){return v}});var g=e(85272),R=e(46225),a=e(39695),C=e(23071),T=e(33064);function v(r,s,n,o){return function(f){var u=s(f),m=(0,g.Z)(),c=s(m),A=!1,h,l,p,M={point:S,lineStart:x,lineEnd:E,polygonStart:function(){M.point=w,M.lineStart=i,M.lineEnd=L,l=[],h=[]},polygonEnd:function(){M.point=S,M.lineStart=x,M.lineEnd=E,l=(0,T.TS)(l);var b=(0,C.Z)(h,o);l.length?(A||(f.polygonStart(),A=!0),(0,R.Z)(l,t,b,n,f)):b&&(A||(f.polygonStart(),A=!0),f.lineStart(),n(null,null,1,f),f.lineEnd()),A&&(f.polygonEnd(),A=!1),l=h=null},sphere:function(){f.polygonStart(),f.lineStart(),n(null,null,1,f),f.lineEnd(),f.polygonEnd()}};function S(b,O){r(b,O)&&f.point(b,O)}function P(b,O){u.point(b,O)}function x(){M.point=P,u.lineStart()}function E(){M.point=S,u.lineEnd()}function w(b,O){p.push([b,O]),c.point(b,O)}function i(){c.lineStart(),p=[]}function L(){w(p[0][0],p[0][1]),c.lineEnd();var b=c.clean(),O=m.result(),_,N=O.length,z,B,U;if(p.pop(),h.push(p),p=null,!!N){if(b&1){if(B=O[0],(z=B.length-1)>0){for(A||(f.polygonStart(),A=!0),f.lineStart(),_=0;_<z;++_)f.point((U=B[_])[0],U[1]);f.lineEnd()}return}N>1&&b&2&&O.push(O.pop().concat(O.shift())),l.push(O.filter(y))}}return M}}function y(r){return r.length>1}function t(r,s){return((r=r.x)[0]<0?r[1]-a.ou-a.Ho:a.ou-r[1])-((s=s.x)[0]<0?s[1]-a.ou-a.Ho:a.ou-s[1])}},87605:function(W,H,e){e.d(H,{Z:function(){return t}});var g=e(39695),R=e(85272);function a(r,s,n,o,f,u){var m=r[0],c=r[1],A=s[0],h=s[1],l=0,p=1,M=A-m,S=h-c,P;if(P=n-m,!(!M&&P>0)){if(P/=M,M<0){if(P<l)return;P<p&&(p=P)}else if(M>0){if(P>p)return;P>l&&(l=P)}if(P=f-m,!(!M&&P<0)){if(P/=M,M<0){if(P>p)return;P>l&&(l=P)}else if(M>0){if(P<l)return;P<p&&(p=P)}if(P=o-c,!(!S&&P>0)){if(P/=S,S<0){if(P<l)return;P<p&&(p=P)}else if(S>0){if(P>p)return;P>l&&(l=P)}if(P=u-c,!(!S&&P<0)){if(P/=S,S<0){if(P>p)return;P>l&&(l=P)}else if(S>0){if(P<l)return;P<p&&(p=P)}return l>0&&(r[0]=m+l*M,r[1]=c+l*S),p<1&&(s[0]=m+p*M,s[1]=c+p*S),!0}}}}}var C=e(46225),T=e(33064),v=1e9,y=-v;function t(r,s,n,o){function f(h,l){return r<=h&&h<=n&&s<=l&&l<=o}function u(h,l,p,M){var S=0,P=0;if(h==null||(S=m(h,p))!==(P=m(l,p))||A(h,l)<0^p>0)do M.point(S===0||S===3?r:n,S>1?o:s);while((S=(S+p+4)%4)!==P);else M.point(l[0],l[1])}function m(h,l){return(0,g.Wn)(h[0]-r)<g.Ho?l>0?0:3:(0,g.Wn)(h[0]-n)<g.Ho?l>0?2:1:(0,g.Wn)(h[1]-s)<g.Ho?l>0?1:0:l>0?3:2}function c(h,l){return A(h.x,l.x)}function A(h,l){var p=m(h,1),M=m(l,1);return p!==M?p-M:p===0?l[1]-h[1]:p===1?h[0]-l[0]:p===2?h[1]-l[1]:l[0]-h[0]}return function(h){var l=h,p=(0,R.Z)(),M,S,P,x,E,w,i,L,b,O,_,N={point:z,lineStart:V,lineEnd:j,polygonStart:U,polygonEnd:F};function z(ne,oe){f(ne,oe)&&l.point(ne,oe)}function B(){for(var ne=0,oe=0,ce=S.length;oe<ce;++oe)for(var Q=S[oe],Z=1,K=Q.length,J=Q[0],re,le,q=J[0],ee=J[1];Z<K;++Z)re=q,le=ee,J=Q[Z],q=J[0],ee=J[1],le<=o?ee>o&&(q-re)*(o-le)>(ee-le)*(r-re)&&++ne:ee<=o&&(q-re)*(o-le)<(ee-le)*(r-re)&&--ne;return ne}function U(){l=p,M=[],S=[],_=!0}function F(){var ne=B(),oe=_&&ne,ce=(M=(0,T.TS)(M)).length;(oe||ce)&&(h.polygonStart(),oe&&(h.lineStart(),u(null,null,1,h),h.lineEnd()),ce&&(0,C.Z)(M,c,ne,u,h),h.polygonEnd()),l=h,M=S=P=null}function V(){N.point=$,S&&S.push(P=[]),O=!0,b=!1,i=L=NaN}function j(){M&&($(x,E),w&&b&&p.rejoin(),M.push(p.result())),N.point=z,b&&l.lineEnd()}function $(ne,oe){var ce=f(ne,oe);if(S&&P.push([ne,oe]),O)x=ne,E=oe,w=ce,O=!1,ce&&(l.lineStart(),l.point(ne,oe));else if(ce&&b)l.point(ne,oe);else{var Q=[i=Math.max(y,Math.min(v,i)),L=Math.max(y,Math.min(v,L))],Z=[ne=Math.max(y,Math.min(v,ne)),oe=Math.max(y,Math.min(v,oe))];a(Q,Z,r,s,n,o)?(b||(l.lineStart(),l.point(Q[0],Q[1])),l.point(Z[0],Z[1]),ce||l.lineEnd(),_=!1):ce&&(l.lineStart(),l.point(ne,oe),_=!1)}i=ne,L=oe,b=ce}return N}}},46225:function(W,H,e){e.d(H,{Z:function(){return C}});var g=e(67108),R=e(39695);function a(v,y,t,r){this.x=v,this.z=y,this.o=t,this.e=r,this.v=!1,this.n=this.p=null}function C(v,y,t,r,s){var n=[],o=[],f,u;if(v.forEach(function(p){if(!((M=p.length-1)<=0)){var M,S=p[0],P=p[M],x;if((0,g.Z)(S,P)){if(!S[2]&&!P[2]){for(s.lineStart(),f=0;f<M;++f)s.point((S=p[f])[0],S[1]);s.lineEnd();return}P[0]+=2*R.Ho}n.push(x=new a(S,p,null,!0)),o.push(x.o=new a(S,null,x,!1)),n.push(x=new a(P,p,null,!1)),o.push(x.o=new a(P,null,x,!0))}}),!!n.length){for(o.sort(y),T(n),T(o),f=0,u=o.length;f<u;++f)o[f].e=t=!t;for(var m=n[0],c,A;;){for(var h=m,l=!0;h.v;)if((h=h.n)===m)return;c=h.z,s.lineStart();do{if(h.v=h.o.v=!0,h.e){if(l)for(f=0,u=c.length;f<u;++f)s.point((A=c[f])[0],A[1]);else r(h.x,h.n.x,1,s);h=h.n}else{if(l)for(c=h.p.z,f=c.length-1;f>=0;--f)s.point((A=c[f])[0],A[1]);else r(h.x,h.p.x,-1,s);h=h.p}h=h.o,c=h.z,l=!l}while(!h.v);s.lineEnd()}}}function T(v){if(y=v.length){for(var y,t=0,r=v[0],s;++t<y;)r.n=s=v[t],s.p=r,r=s;r.n=s=v[0],s.p=r}}},96059:function(W,H,e){e.d(H,{Z:function(){return g}});function g(R,a){function C(T,v){return T=R(T,v),a(T[0],T[1])}return R.invert&&a.invert&&(C.invert=function(T,v){return T=a.invert(T,v),T&&R.invert(T[0],T[1])}),C}},8593:function(W,H,e){e.d(H,{Z:function(){return g}});function g(R){return R}},27362:function(W,H,e){e.r(H),e.d(H,{geoAlbers:function(){return mr},geoAlbersUsa:function(){return st},geoArea:function(){return g.ZP},geoAzimuthalEqualArea:function(){return xt.Z},geoAzimuthalEqualAreaRaw:function(){return xt.l},geoAzimuthalEquidistant:function(){return St.Z},geoAzimuthalEquidistantRaw:function(){return St.N},geoBounds:function(){return R.Z},geoCentroid:function(){return a.Z},geoCircle:function(){return C.Z},geoClipAntimeridian:function(){return T.Z},geoClipCircle:function(){return v.Z},geoClipExtent:function(){return t},geoClipRectangle:function(){return y.Z},geoConicConformal:function(){return sr},geoConicConformalRaw:function(){return lr},geoConicEqualArea:function(){return Kt},geoConicEqualAreaRaw:function(){return Yt},geoConicEquidistant:function(){return Ye},geoConicEquidistantRaw:function(){return je},geoContains:function(){return U},geoDistance:function(){return w},geoEqualEarth:function(){return hr},geoEqualEarthRaw:function(){return Ot},geoEquirectangular:function(){return dr.Z},geoEquirectangularRaw:function(){return dr.k},geoGnomonic:function(){return gr.Z},geoGnomonicRaw:function(){return gr.M},geoGraticule:function(){return $},geoGraticule10:function(){return ne},geoIdentity:function(){return vr},geoInterpolate:function(){return oe.Z},geoLength:function(){return P},geoMercator:function(){return Bt},geoMercatorRaw:function(){return Rt},geoNaturalEarth1:function(){return Vr.Z},geoNaturalEarth1Raw:function(){return Vr.K},geoOrthographic:function(){return kr.Z},geoOrthographicRaw:function(){return kr.I},geoPath:function(){return zt},geoProjection:function(){return $t.Z},geoProjectionMutator:function(){return $t.r},geoRotation:function(){return Dt.Z},geoStereographic:function(){return en},geoStereographicRaw:function(){return pn},geoStream:function(){return f.Z},geoTransform:function(){return pr.Z},geoTransverseMercator:function(){return Tn},geoTransverseMercatorRaw:function(){return Bn}});var g=e(97860),R=e(77338),a=e(66624),C=e(7613),T=e(87070),v=e(1457),y=e(87605);function t(){var Mr=0,Er=0,Gr=960,Ur=500,an,gn,mn;return mn={stream:function(Rn){return an&&gn===Rn?an:an=(0,y.Z)(Mr,Er,Gr,Ur)(gn=Rn)},extent:function(Rn){return arguments.length?(Mr=+Rn[0][0],Er=+Rn[0][1],Gr=+Rn[1][0],Ur=+Rn[1][1],an=gn=null,mn):[[Mr,Er],[Gr,Ur]]}}}var r=e(23071),s=e(33940),n=e(39695),o=e(73182),f=e(72736),u=(0,s.Z)(),m,c,A,h={sphere:o.Z,point:o.Z,lineStart:l,lineEnd:o.Z,polygonStart:o.Z,polygonEnd:o.Z};function l(){h.point=M,h.lineEnd=p}function p(){h.point=h.lineEnd=o.Z}function M(Mr,Er){Mr*=n.uR,Er*=n.uR,m=Mr,c=(0,n.O$)(Er),A=(0,n.mC)(Er),h.point=S}function S(Mr,Er){Mr*=n.uR,Er*=n.uR;var Gr=(0,n.O$)(Er),Ur=(0,n.mC)(Er),an=(0,n.Wn)(Mr-m),gn=(0,n.mC)(an),mn=(0,n.O$)(an),Rn=Ur*mn,zn=A*Gr-c*Ur*gn,oa=c*Gr+A*Ur*gn;u.add((0,n.fv)((0,n._b)(Rn*Rn+zn*zn),oa)),m=Mr,c=Gr,A=Ur}function P(Mr){return u.reset(),(0,f.Z)(Mr,h),+u}var x=[null,null],E={type:"LineString",coordinates:x};function w(Mr,Er){return x[0]=Mr,x[1]=Er,P(E)}var i={Feature:function(Mr,Er){return b(Mr.geometry,Er)},FeatureCollection:function(Mr,Er){for(var Gr=Mr.features,Ur=-1,an=Gr.length;++Ur<an;)if(b(Gr[Ur].geometry,Er))return!0;return!1}},L={Sphere:function(){return!0},Point:function(Mr,Er){return O(Mr.coordinates,Er)},MultiPoint:function(Mr,Er){for(var Gr=Mr.coordinates,Ur=-1,an=Gr.length;++Ur<an;)if(O(Gr[Ur],Er))return!0;return!1},LineString:function(Mr,Er){return _(Mr.coordinates,Er)},MultiLineString:function(Mr,Er){for(var Gr=Mr.coordinates,Ur=-1,an=Gr.length;++Ur<an;)if(_(Gr[Ur],Er))return!0;return!1},Polygon:function(Mr,Er){return N(Mr.coordinates,Er)},MultiPolygon:function(Mr,Er){for(var Gr=Mr.coordinates,Ur=-1,an=Gr.length;++Ur<an;)if(N(Gr[Ur],Er))return!0;return!1},GeometryCollection:function(Mr,Er){for(var Gr=Mr.geometries,Ur=-1,an=Gr.length;++Ur<an;)if(b(Gr[Ur],Er))return!0;return!1}};function b(Mr,Er){return Mr&&L.hasOwnProperty(Mr.type)?L[Mr.type](Mr,Er):!1}function O(Mr,Er){return w(Mr,Er)===0}function _(Mr,Er){for(var Gr,Ur,an,gn=0,mn=Mr.length;gn<mn;gn++){if(Ur=w(Mr[gn],Er),Ur===0||gn>0&&(an=w(Mr[gn],Mr[gn-1]),an>0&&Gr<=an&&Ur<=an&&(Gr+Ur-an)*(1-Math.pow((Gr-Ur)/an,2))<n.aW*an))return!0;Gr=Ur}return!1}function N(Mr,Er){return!!(0,r.Z)(Mr.map(z),B(Er))}function z(Mr){return Mr=Mr.map(B),Mr.pop(),Mr}function B(Mr){return[Mr[0]*n.uR,Mr[1]*n.uR]}function U(Mr,Er){return(Mr&&i.hasOwnProperty(Mr.type)?i[Mr.type]:b)(Mr,Er)}var F=e(33064);function V(Mr,Er,Gr){var Ur=(0,F.w6)(Mr,Er-n.Ho,Gr).concat(Er);return function(an){return Ur.map(function(gn){return[an,gn]})}}function j(Mr,Er,Gr){var Ur=(0,F.w6)(Mr,Er-n.Ho,Gr).concat(Er);return function(an){return Ur.map(function(gn){return[gn,an]})}}function $(){var Mr,Er,Gr,Ur,an,gn,mn,Rn,zn=10,oa=zn,Zn=90,qn=360,Yn,Qn,Tr,sn,rn=2.5;function yn(){return{type:"MultiLineString",coordinates:Vn()}}function Vn(){return(0,F.w6)((0,n.mD)(Ur/Zn)*Zn,Gr,Zn).map(Tr).concat((0,F.w6)((0,n.mD)(Rn/qn)*qn,mn,qn).map(sn)).concat((0,F.w6)((0,n.mD)(Er/zn)*zn,Mr,zn).filter(function(Mn){return(0,n.Wn)(Mn%Zn)>n.Ho}).map(Yn)).concat((0,F.w6)((0,n.mD)(gn/oa)*oa,an,oa).filter(function(Mn){return(0,n.Wn)(Mn%qn)>n.Ho}).map(Qn))}return yn.lines=function(){return Vn().map(function(Mn){return{type:"LineString",coordinates:Mn}})},yn.outline=function(){return{type:"Polygon",coordinates:[Tr(Ur).concat(sn(mn).slice(1),Tr(Gr).reverse().slice(1),sn(Rn).reverse().slice(1))]}},yn.extent=function(Mn){return arguments.length?yn.extentMajor(Mn).extentMinor(Mn):yn.extentMinor()},yn.extentMajor=function(Mn){return arguments.length?(Ur=+Mn[0][0],Gr=+Mn[1][0],Rn=+Mn[0][1],mn=+Mn[1][1],Ur>Gr&&(Mn=Ur,Ur=Gr,Gr=Mn),Rn>mn&&(Mn=Rn,Rn=mn,mn=Mn),yn.precision(rn)):[[Ur,Rn],[Gr,mn]]},yn.extentMinor=function(Mn){return arguments.length?(Er=+Mn[0][0],Mr=+Mn[1][0],gn=+Mn[0][1],an=+Mn[1][1],Er>Mr&&(Mn=Er,Er=Mr,Mr=Mn),gn>an&&(Mn=gn,gn=an,an=Mn),yn.precision(rn)):[[Er,gn],[Mr,an]]},yn.step=function(Mn){return arguments.length?yn.stepMajor(Mn).stepMinor(Mn):yn.stepMinor()},yn.stepMajor=function(Mn){return arguments.length?(Zn=+Mn[0],qn=+Mn[1],yn):[Zn,qn]},yn.stepMinor=function(Mn){return arguments.length?(zn=+Mn[0],oa=+Mn[1],yn):[zn,oa]},yn.precision=function(Mn){return arguments.length?(rn=+Mn,Yn=V(gn,an,90),Qn=j(Er,Mr,rn),Tr=V(Rn,mn,90),sn=j(Ur,Gr,rn),yn):rn},yn.extentMajor([[-180,-90+n.Ho],[180,90-n.Ho]]).extentMinor([[-180,-80-n.Ho],[180,80+n.Ho]])}function ne(){return $()()}var oe=e(83074),ce=e(8593),Q=(0,s.Z)(),Z=(0,s.Z)(),K,J,re,le,q={point:o.Z,lineStart:o.Z,lineEnd:o.Z,polygonStart:function(){q.lineStart=ee,q.lineEnd=he},polygonEnd:function(){q.lineStart=q.lineEnd=q.point=o.Z,Q.add((0,n.Wn)(Z)),Z.reset()},result:function(){var Mr=Q/2;return Q.reset(),Mr}};function ee(){q.point=ue}function ue(Mr,Er){q.point=se,K=re=Mr,J=le=Er}function se(Mr,Er){Z.add(le*Mr-re*Er),re=Mr,le=Er}function he(){se(K,J)}var me=q,Ce=e(3559),Te=0,Oe=0,Ne=0,Le=0,be=0,Ae=0,He=0,Ve=0,ke=0,Ge,it,et,tt,at={point:vt,lineStart:yt,lineEnd:Ct,polygonStart:function(){at.lineStart=Vt,at.lineEnd=Je},polygonEnd:function(){at.point=vt,at.lineStart=yt,at.lineEnd=Ct},result:function(){var Mr=ke?[He/ke,Ve/ke]:Ae?[Le/Ae,be/Ae]:Ne?[Te/Ne,Oe/Ne]:[NaN,NaN];return Te=Oe=Ne=Le=be=Ae=He=Ve=ke=0,Mr}};function vt(Mr,Er){Te+=Mr,Oe+=Er,++Ne}function yt(){at.point=gt}function gt(Mr,Er){at.point=Mt,vt(et=Mr,tt=Er)}function Mt(Mr,Er){var Gr=Mr-et,Ur=Er-tt,an=(0,n._b)(Gr*Gr+Ur*Ur);Le+=an*(et+Mr)/2,be+=an*(tt+Er)/2,Ae+=an,vt(et=Mr,tt=Er)}function Ct(){at.point=vt}function Vt(){at.point=ze}function Je(){_e(Ge,it)}function ze(Mr,Er){at.point=_e,vt(Ge=et=Mr,it=tt=Er)}function _e(Mr,Er){var Gr=Mr-et,Ur=Er-tt,an=(0,n._b)(Gr*Gr+Ur*Ur);Le+=an*(et+Mr)/2,be+=an*(tt+Er)/2,Ae+=an,an=tt*Mr-et*Er,He+=an*(et+Mr),Ve+=an*(tt+Er),ke+=an*3,vt(et=Mr,tt=Er)}var Be=at;function De(Mr){this._context=Mr}De.prototype={_radius:4.5,pointRadius:function(Mr){return this._radius=Mr,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(Mr,Er){switch(this._point){case 0:{this._context.moveTo(Mr,Er),this._point=1;break}case 1:{this._context.lineTo(Mr,Er);break}default:{this._context.moveTo(Mr+this._radius,Er),this._context.arc(Mr,Er,this._radius,0,n.BZ);break}}},result:o.Z};var we=(0,s.Z)(),xe,Ee,Pe,Ue,$e,qe={point:o.Z,lineStart:function(){qe.point=dt},lineEnd:function(){xe&&bt(Ee,Pe),qe.point=o.Z},polygonStart:function(){xe=!0},polygonEnd:function(){xe=null},result:function(){var Mr=+we;return we.reset(),Mr}};function dt(Mr,Er){qe.point=bt,Ee=Ue=Mr,Pe=$e=Er}function bt(Mr,Er){Ue-=Mr,$e-=Er,we.add((0,n._b)(Ue*Ue+$e*$e)),Ue=Mr,$e=Er}var Gt=qe;function Qt(){this._string=[]}Qt.prototype={_radius:4.5,_circle:At(4.5),pointRadius:function(Mr){return(Mr=+Mr)!==this._radius&&(this._radius=Mr,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(Mr,Er){switch(this._point){case 0:{this._string.push("M",Mr,",",Er),this._point=1;break}case 1:{this._string.push("L",Mr,",",Er);break}default:{this._circle==null&&(this._circle=At(this._radius)),this._string.push("M",Mr,",",Er,this._circle);break}}},result:function(){if(this._string.length){var Mr=this._string.join("");return this._string=[],Mr}else return null}};function At(Mr){return"m0,"+Mr+"a"+Mr+","+Mr+" 0 1,1 0,"+-2*Mr+"a"+Mr+","+Mr+" 0 1,1 0,"+2*Mr+"z"}function zt(Mr,Er){var Gr=4.5,Ur,an;function gn(mn){return mn&&(typeof Gr=="function"&&an.pointRadius(+Gr.apply(this,arguments)),(0,f.Z)(mn,Ur(an))),an.result()}return gn.area=function(mn){return(0,f.Z)(mn,Ur(me)),me.result()},gn.measure=function(mn){return(0,f.Z)(mn,Ur(Gt)),Gt.result()},gn.bounds=function(mn){return(0,f.Z)(mn,Ur(Ce.Z)),Ce.Z.result()},gn.centroid=function(mn){return(0,f.Z)(mn,Ur(Be)),Be.result()},gn.projection=function(mn){return arguments.length?(Ur=mn==null?(Mr=null,ce.Z):(Mr=mn).stream,gn):Mr},gn.context=function(mn){return arguments.length?(an=mn==null?(Er=null,new Qt):new De(Er=mn),typeof Gr!="function"&&an.pointRadius(Gr),gn):Er},gn.pointRadius=function(mn){return arguments.length?(Gr=typeof mn=="function"?mn:(an.pointRadius(+mn),+mn),gn):Gr},gn.projection(Mr).context(Er)}var $t=e(15002);function Ar(Mr){var Er=0,Gr=n.pi/3,Ur=(0,$t.r)(Mr),an=Ur(Er,Gr);return an.parallels=function(gn){return arguments.length?Ur(Er=gn[0]*n.uR,Gr=gn[1]*n.uR):[Er*n.RW,Gr*n.RW]},an}function ut(Mr){var Er=(0,n.mC)(Mr);function Gr(Ur,an){return[Ur*Er,(0,n.O$)(an)/Er]}return Gr.invert=function(Ur,an){return[Ur/Er,(0,n.ZR)(an*Er)]},Gr}function Yt(Mr,Er){var Gr=(0,n.O$)(Mr),Ur=(Gr+(0,n.O$)(Er))/2;if((0,n.Wn)(Ur)<n.Ho)return ut(Mr);var an=1+Gr*(2*Ur-Gr),gn=(0,n._b)(an)/Ur;function mn(Rn,zn){var oa=(0,n._b)(an-2*Ur*(0,n.O$)(zn))/Ur;return[oa*(0,n.O$)(Rn*=Ur),gn-oa*(0,n.mC)(Rn)]}return mn.invert=function(Rn,zn){var oa=gn-zn,Zn=(0,n.fv)(Rn,(0,n.Wn)(oa))*(0,n.Xx)(oa);return oa*Ur<0&&(Zn-=n.pi*(0,n.Xx)(Rn)*(0,n.Xx)(oa)),[Zn/Ur,(0,n.ZR)((an-(Rn*Rn+oa*oa)*Ur*Ur)/(2*Ur))]},mn}function Kt(){return Ar(Yt).scale(155.424).center([0,33.6442])}function mr(){return Kt().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}var ur=e(47589);function pt(Mr){var Er=Mr.length;return{point:function(Gr,Ur){for(var an=-1;++an<Er;)Mr[an].point(Gr,Ur)},sphere:function(){for(var Gr=-1;++Gr<Er;)Mr[Gr].sphere()},lineStart:function(){for(var Gr=-1;++Gr<Er;)Mr[Gr].lineStart()},lineEnd:function(){for(var Gr=-1;++Gr<Er;)Mr[Gr].lineEnd()},polygonStart:function(){for(var Gr=-1;++Gr<Er;)Mr[Gr].polygonStart()},polygonEnd:function(){for(var Gr=-1;++Gr<Er;)Mr[Gr].polygonEnd()}}}function st(){var Mr,Er,Gr=mr(),Ur,an=Kt().rotate([154,0]).center([-2,58.5]).parallels([55,65]),gn,mn=Kt().rotate([157,0]).center([-3,19.9]).parallels([8,18]),Rn,zn,oa={point:function(Yn,Qn){zn=[Yn,Qn]}};function Zn(Yn){var Qn=Yn[0],Tr=Yn[1];return zn=null,Ur.point(Qn,Tr),zn||(gn.point(Qn,Tr),zn)||(Rn.point(Qn,Tr),zn)}Zn.invert=function(Yn){var Qn=Gr.scale(),Tr=Gr.translate(),sn=(Yn[0]-Tr[0])/Qn,rn=(Yn[1]-Tr[1])/Qn;return(rn>=.12&&rn<.234&&sn>=-.425&&sn<-.214?an:rn>=.166&&rn<.234&&sn>=-.214&&sn<-.115?mn:Gr).invert(Yn)},Zn.stream=function(Yn){return Mr&&Er===Yn?Mr:Mr=pt([Gr.stream(Er=Yn),an.stream(Yn),mn.stream(Yn)])},Zn.precision=function(Yn){return arguments.length?(Gr.precision(Yn),an.precision(Yn),mn.precision(Yn),qn()):Gr.precision()},Zn.scale=function(Yn){return arguments.length?(Gr.scale(Yn),an.scale(Yn*.35),mn.scale(Yn),Zn.translate(Gr.translate())):Gr.scale()},Zn.translate=function(Yn){if(!arguments.length)return Gr.translate();var Qn=Gr.scale(),Tr=+Yn[0],sn=+Yn[1];return Ur=Gr.translate(Yn).clipExtent([[Tr-.455*Qn,sn-.238*Qn],[Tr+.455*Qn,sn+.238*Qn]]).stream(oa),gn=an.translate([Tr-.307*Qn,sn+.201*Qn]).clipExtent([[Tr-.425*Qn+n.Ho,sn+.12*Qn+n.Ho],[Tr-.214*Qn-n.Ho,sn+.234*Qn-n.Ho]]).stream(oa),Rn=mn.translate([Tr-.205*Qn,sn+.212*Qn]).clipExtent([[Tr-.214*Qn+n.Ho,sn+.166*Qn+n.Ho],[Tr-.115*Qn-n.Ho,sn+.234*Qn-n.Ho]]).stream(oa),qn()},Zn.fitExtent=function(Yn,Qn){return(0,ur.qg)(Zn,Yn,Qn)},Zn.fitSize=function(Yn,Qn){return(0,ur.mF)(Zn,Yn,Qn)},Zn.fitWidth=function(Yn,Qn){return(0,ur.V6)(Zn,Yn,Qn)},Zn.fitHeight=function(Yn,Qn){return(0,ur.rf)(Zn,Yn,Qn)};function qn(){return Mr=Er=null,Zn}return Zn.scale(1070)}var xt=e(12956),St=e(17889),Dt=e(49386);function Rt(Mr,Er){return[Mr,(0,n.cM)((0,n.OR)((n.ou+Er)/2))]}Rt.invert=function(Mr,Er){return[Mr,2*(0,n.z4)((0,n.Qq)(Er))-n.ou]};function Bt(){return Nt(Rt).scale(961/n.BZ)}function Nt(Mr){var Er=(0,$t.Z)(Mr),Gr=Er.center,Ur=Er.scale,an=Er.translate,gn=Er.clipExtent,mn=null,Rn,zn,oa;Er.scale=function(qn){return arguments.length?(Ur(qn),Zn()):Ur()},Er.translate=function(qn){return arguments.length?(an(qn),Zn()):an()},Er.center=function(qn){return arguments.length?(Gr(qn),Zn()):Gr()},Er.clipExtent=function(qn){return arguments.length?(qn==null?mn=Rn=zn=oa=null:(mn=+qn[0][0],Rn=+qn[0][1],zn=+qn[1][0],oa=+qn[1][1]),Zn()):mn==null?null:[[mn,Rn],[zn,oa]]};function Zn(){var qn=n.pi*Ur(),Yn=Er((0,Dt.Z)(Er.rotate()).invert([0,0]));return gn(mn==null?[[Yn[0]-qn,Yn[1]-qn],[Yn[0]+qn,Yn[1]+qn]]:Mr===Rt?[[Math.max(Yn[0]-qn,mn),Rn],[Math.min(Yn[0]+qn,zn),oa]]:[[mn,Math.max(Yn[1]-qn,Rn)],[zn,Math.min(Yn[1]+qn,oa)]])}return Zn()}function Xt(Mr){return(0,n.OR)((n.ou+Mr)/2)}function lr(Mr,Er){var Gr=(0,n.mC)(Mr),Ur=Mr===Er?(0,n.O$)(Mr):(0,n.cM)(Gr/(0,n.mC)(Er))/(0,n.cM)(Xt(Er)/Xt(Mr)),an=Gr*(0,n.sQ)(Xt(Mr),Ur)/Ur;if(!Ur)return Rt;function gn(mn,Rn){an>0?Rn<-n.ou+n.Ho&&(Rn=-n.ou+n.Ho):Rn>n.ou-n.Ho&&(Rn=n.ou-n.Ho);var zn=an/(0,n.sQ)(Xt(Rn),Ur);return[zn*(0,n.O$)(Ur*mn),an-zn*(0,n.mC)(Ur*mn)]}return gn.invert=function(mn,Rn){var zn=an-Rn,oa=(0,n.Xx)(Ur)*(0,n._b)(mn*mn+zn*zn),Zn=(0,n.fv)(mn,(0,n.Wn)(zn))*(0,n.Xx)(zn);return zn*Ur<0&&(Zn-=n.pi*(0,n.Xx)(mn)*(0,n.Xx)(zn)),[Zn/Ur,2*(0,n.z4)((0,n.sQ)(an/oa,1/Ur))-n.ou]},gn}function sr(){return Ar(lr).scale(109.5).parallels([30,30])}var dr=e(97492);function je(Mr,Er){var Gr=(0,n.mC)(Mr),Ur=Mr===Er?(0,n.O$)(Mr):(Gr-(0,n.mC)(Er))/(Er-Mr),an=Gr/Ur+Mr;if((0,n.Wn)(Ur)<n.Ho)return dr.k;function gn(mn,Rn){var zn=an-Rn,oa=Ur*mn;return[zn*(0,n.O$)(oa),an-zn*(0,n.mC)(oa)]}return gn.invert=function(mn,Rn){var zn=an-Rn,oa=(0,n.fv)(mn,(0,n.Wn)(zn))*(0,n.Xx)(zn);return zn*Ur<0&&(oa-=n.pi*(0,n.Xx)(mn)*(0,n.Xx)(zn)),[oa/Ur,an-(0,n.Xx)(Ur)*(0,n._b)(mn*mn+zn*zn)]},gn}function Ye(){return Ar(je).scale(131.154).center([0,13.9389])}var It=1.340264,kt=-.081106,jt=893e-6,tr=.003796,or=(0,n._b)(3)/2,rr=12;function Ot(Mr,Er){var Gr=(0,n.ZR)(or*(0,n.O$)(Er)),Ur=Gr*Gr,an=Ur*Ur*Ur;return[Mr*(0,n.mC)(Gr)/(or*(It+3*kt*Ur+an*(7*jt+9*tr*Ur))),Gr*(It+kt*Ur+an*(jt+tr*Ur))]}Ot.invert=function(Mr,Er){for(var Gr=Er,Ur=Gr*Gr,an=Ur*Ur*Ur,gn=0,mn,Rn,zn;gn<rr&&(Rn=Gr*(It+kt*Ur+an*(jt+tr*Ur))-Er,zn=It+3*kt*Ur+an*(7*jt+9*tr*Ur),Gr-=mn=Rn/zn,Ur=Gr*Gr,an=Ur*Ur*Ur,!((0,n.Wn)(mn)<n.aW));++gn);return[or*Mr*(It+3*kt*Ur+an*(7*jt+9*tr*Ur))/(0,n.mC)(Gr),(0,n.ZR)((0,n.O$)(Gr)/or)]};function hr(){return(0,$t.Z)(Ot).scale(177.158)}var gr=e(98936),pr=e(64684);function vr(){var Mr=1,Er=0,Gr=0,Ur=1,an=1,gn=0,mn,Rn,zn=null,oa,Zn,qn,Yn=1,Qn=1,Tr=(0,pr.l)({point:function(En,Nn){var ta=Mn([En,Nn]);this.stream.point(ta[0],ta[1])}}),sn=ce.Z,rn,yn;function Vn(){return Yn=Mr*Ur,Qn=Mr*an,rn=yn=null,Mn}function Mn(En){var Nn=En[0]*Yn,ta=En[1]*Qn;if(gn){var ba=ta*mn-Nn*Rn;Nn=Nn*mn+ta*Rn,ta=ba}return[Nn+Er,ta+Gr]}return Mn.invert=function(En){var Nn=En[0]-Er,ta=En[1]-Gr;if(gn){var ba=ta*mn+Nn*Rn;Nn=Nn*mn-ta*Rn,ta=ba}return[Nn/Yn,ta/Qn]},Mn.stream=function(En){return rn&&yn===En?rn:rn=Tr(sn(yn=En))},Mn.postclip=function(En){return arguments.length?(sn=En,zn=oa=Zn=qn=null,Vn()):sn},Mn.clipExtent=function(En){return arguments.length?(sn=En==null?(zn=oa=Zn=qn=null,ce.Z):(0,y.Z)(zn=+En[0][0],oa=+En[0][1],Zn=+En[1][0],qn=+En[1][1]),Vn()):zn==null?null:[[zn,oa],[Zn,qn]]},Mn.scale=function(En){return arguments.length?(Mr=+En,Vn()):Mr},Mn.translate=function(En){return arguments.length?(Er=+En[0],Gr=+En[1],Vn()):[Er,Gr]},Mn.angle=function(En){return arguments.length?(gn=En%360*n.uR,Rn=(0,n.O$)(gn),mn=(0,n.mC)(gn),Vn()):gn*n.RW},Mn.reflectX=function(En){return arguments.length?(Ur=En?-1:1,Vn()):Ur<0},Mn.reflectY=function(En){return arguments.length?(an=En?-1:1,Vn()):an<0},Mn.fitExtent=function(En,Nn){return(0,ur.qg)(Mn,En,Nn)},Mn.fitSize=function(En,Nn){return(0,ur.mF)(Mn,En,Nn)},Mn.fitWidth=function(En,Nn){return(0,ur.V6)(Mn,En,Nn)},Mn.fitHeight=function(En,Nn){return(0,ur.rf)(Mn,En,Nn)},Mn}var Vr=e(26867),kr=e(57962),_r=e(25382);function pn(Mr,Er){var Gr=(0,n.mC)(Er),Ur=1+(0,n.mC)(Mr)*Gr;return[Gr*(0,n.O$)(Mr)/Ur,(0,n.O$)(Er)/Ur]}pn.invert=(0,_r.O)(function(Mr){return 2*(0,n.z4)(Mr)});function en(){return(0,$t.Z)(pn).scale(250).clipAngle(142)}function Bn(Mr,Er){return[(0,n.cM)((0,n.OR)((n.ou+Er)/2)),-Mr]}Bn.invert=function(Mr,Er){return[-Er,2*(0,n.z4)((0,n.Qq)(Mr))-n.ou]};function Tn(){var Mr=Nt(Bn),Er=Mr.center,Gr=Mr.rotate;return Mr.center=function(Ur){return arguments.length?Er([-Ur[1],Ur[0]]):(Ur=Er(),[Ur[1],-Ur[0]])},Mr.rotate=function(Ur){return arguments.length?Gr([Ur[0],Ur[1],Ur.length>2?Ur[2]+90:90]):(Ur=Gr(),[Ur[0],Ur[1],Ur[2]-90])},Gr([0,0,90]).scale(159.155)}},83074:function(W,H,e){e.d(H,{Z:function(){return R}});var g=e(39695);function R(a,C){var T=a[0]*g.uR,v=a[1]*g.uR,y=C[0]*g.uR,t=C[1]*g.uR,r=(0,g.mC)(v),s=(0,g.O$)(v),n=(0,g.mC)(t),o=(0,g.O$)(t),f=r*(0,g.mC)(T),u=r*(0,g.O$)(T),m=n*(0,g.mC)(y),c=n*(0,g.O$)(y),A=2*(0,g.ZR)((0,g._b)((0,g.Jy)(t-v)+r*n*(0,g.Jy)(y-T))),h=(0,g.O$)(A),l=A?function(p){var M=(0,g.O$)(p*=A)/h,S=(0,g.O$)(A-p)/h,P=S*f+M*m,x=S*u+M*c,E=S*s+M*o;return[(0,g.fv)(x,P)*g.RW,(0,g.fv)(E,(0,g._b)(P*P+x*x))*g.RW]}:function(){return[T*g.RW,v*g.RW]};return l.distance=A,l}},39695:function(W,H,e){e.d(H,{BZ:function(){return v},Ho:function(){return g},Jy:function(){return P},Kh:function(){return M},O$:function(){return A},OR:function(){return p},Qq:function(){return u},RW:function(){return y},Wn:function(){return r},Xx:function(){return h},ZR:function(){return S},_b:function(){return l},aW:function(){return R},cM:function(){return m},fv:function(){return n},mC:function(){return o},mD:function(){return f},ou:function(){return C},pi:function(){return a},pu:function(){return T},sQ:function(){return c},uR:function(){return t},z4:function(){return s}});var g=1e-6,R=1e-12,a=Math.PI,C=a/2,T=a/4,v=a*2,y=180/a,t=a/180,r=Math.abs,s=Math.atan,n=Math.atan2,o=Math.cos,f=Math.ceil,u=Math.exp,m=Math.log,c=Math.pow,A=Math.sin,h=Math.sign||function(x){return x>0?1:x<0?-1:0},l=Math.sqrt,p=Math.tan;function M(x){return x>1?0:x<-1?a:Math.acos(x)}function S(x){return x>1?C:x<-1?-C:Math.asin(x)}function P(x){return(x=A(x/2))*x}},73182:function(W,H,e){e.d(H,{Z:function(){return g}});function g(){}},3559:function(W,H,e){var g=e(73182),R=1/0,a=R,C=-R,T=C,v={point:y,lineStart:g.Z,lineEnd:g.Z,polygonStart:g.Z,polygonEnd:g.Z,result:function(){var t=[[R,a],[C,T]];return C=T=-(a=R=1/0),t}};function y(t,r){t<R&&(R=t),t>C&&(C=t),r<a&&(a=r),r>T&&(T=r)}H.Z=v},67108:function(W,H,e){e.d(H,{Z:function(){return R}});var g=e(39695);function R(a,C){return(0,g.Wn)(a[0]-C[0])<g.Ho&&(0,g.Wn)(a[1]-C[1])<g.Ho}},23071:function(W,H,e){e.d(H,{Z:function(){return v}});var g=e(33940),R=e(7620),a=e(39695),C=(0,g.Z)();function T(y){return(0,a.Wn)(y[0])<=a.pi?y[0]:(0,a.Xx)(y[0])*(((0,a.Wn)(y[0])+a.pi)%a.BZ-a.pi)}function v(y,t){var r=T(t),s=t[1],n=(0,a.O$)(s),o=[(0,a.O$)(r),-(0,a.mC)(r),0],f=0,u=0;C.reset(),n===1?s=a.ou+a.Ho:n===-1&&(s=-a.ou-a.Ho);for(var m=0,c=y.length;m<c;++m)if(h=(A=y[m]).length)for(var A,h,l=A[h-1],p=T(l),M=l[1]/2+a.pu,S=(0,a.O$)(M),P=(0,a.mC)(M),x=0;x<h;++x,p=w,S=L,P=b,l=E){var E=A[x],w=T(E),i=E[1]/2+a.pu,L=(0,a.O$)(i),b=(0,a.mC)(i),O=w-p,_=O>=0?1:-1,N=_*O,z=N>a.pi,B=S*L;if(C.add((0,a.fv)(B*_*(0,a.O$)(N),P*b+B*(0,a.mC)(N))),f+=z?O+_*a.BZ:O,z^p>=r^w>=r){var U=(0,R.T5)((0,R.Og)(l),(0,R.Og)(E));(0,R.iJ)(U);var F=(0,R.T5)(o,U);(0,R.iJ)(F);var V=(z^O>=0?-1:1)*(0,a.ZR)(F[2]);(s>V||s===V&&(U[0]||U[1]))&&(u+=z^O>=0?1:-1)}}return(f<-a.Ho||f<a.Ho&&C<-a.Ho)^u&1}},25382:function(W,H,e){e.d(H,{O:function(){return a},W:function(){return R}});var g=e(39695);function R(C){return function(T,v){var y=(0,g.mC)(T),t=(0,g.mC)(v),r=C(y*t);return[r*t*(0,g.O$)(T),r*(0,g.O$)(v)]}}function a(C){return function(T,v){var y=(0,g._b)(T*T+v*v),t=C(y),r=(0,g.O$)(t),s=(0,g.mC)(t);return[(0,g.fv)(T*r,y*s),(0,g.ZR)(y&&v*r/y)]}}},12956:function(W,H,e){e.d(H,{Z:function(){return T},l:function(){return C}});var g=e(39695),R=e(25382),a=e(15002),C=(0,R.W)(function(v){return(0,g._b)(2/(1+v))});C.invert=(0,R.O)(function(v){return 2*(0,g.ZR)(v/2)});function T(){return(0,a.Z)(C).scale(124.75).clipAngle(179.999)}},17889:function(W,H,e){e.d(H,{N:function(){return C},Z:function(){return T}});var g=e(39695),R=e(25382),a=e(15002),C=(0,R.W)(function(v){return(v=(0,g.Kh)(v))&&v/(0,g.O$)(v)});C.invert=(0,R.O)(function(v){return v});function T(){return(0,a.Z)(C).scale(79.4188).clipAngle(179.999)}},97492:function(W,H,e){e.d(H,{Z:function(){return a},k:function(){return R}});var g=e(15002);function R(C,T){return[C,T]}R.invert=R;function a(){return(0,g.Z)(R).scale(152.63)}},47589:function(W,H,e){e.d(H,{V6:function(){return v},mF:function(){return T},qg:function(){return C},rf:function(){return y}});var g=e(72736),R=e(3559);function a(t,r,s){var n=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),n!=null&&t.clipExtent(null),(0,g.Z)(s,t.stream(R.Z)),r(R.Z.result()),n!=null&&t.clipExtent(n),t}function C(t,r,s){return a(t,function(n){var o=r[1][0]-r[0][0],f=r[1][1]-r[0][1],u=Math.min(o/(n[1][0]-n[0][0]),f/(n[1][1]-n[0][1])),m=+r[0][0]+(o-u*(n[1][0]+n[0][0]))/2,c=+r[0][1]+(f-u*(n[1][1]+n[0][1]))/2;t.scale(150*u).translate([m,c])},s)}function T(t,r,s){return C(t,[[0,0],r],s)}function v(t,r,s){return a(t,function(n){var o=+r,f=o/(n[1][0]-n[0][0]),u=(o-f*(n[1][0]+n[0][0]))/2,m=-f*n[0][1];t.scale(150*f).translate([u,m])},s)}function y(t,r,s){return a(t,function(n){var o=+r,f=o/(n[1][1]-n[0][1]),u=-f*n[0][0],m=(o-f*(n[1][1]+n[0][1]))/2;t.scale(150*f).translate([u,m])},s)}},98936:function(W,H,e){e.d(H,{M:function(){return C},Z:function(){return T}});var g=e(39695),R=e(25382),a=e(15002);function C(v,y){var t=(0,g.mC)(y),r=(0,g.mC)(v)*t;return[t*(0,g.O$)(v)/r,(0,g.O$)(y)/r]}C.invert=(0,R.O)(g.z4);function T(){return(0,a.Z)(C).scale(144.049).clipAngle(60)}},15002:function(W,H,e){e.d(H,{Z:function(){return p},r:function(){return M}});var g=e(87070),R=e(1457),a=e(87605),C=e(96059),T=e(8593),v=e(39695),y=e(49386),t=e(64684),r=e(47589),s=e(7620),n=16,o=(0,v.mC)(30*v.uR);function f(S,P){return+P?m(S,P):u(S)}function u(S){return(0,t.l)({point:function(P,x){P=S(P,x),this.stream.point(P[0],P[1])}})}function m(S,P){function x(E,w,i,L,b,O,_,N,z,B,U,F,V,j){var $=_-E,ne=N-w,oe=$*$+ne*ne;if(oe>4*P&&V--){var ce=L+B,Q=b+U,Z=O+F,K=(0,v._b)(ce*ce+Q*Q+Z*Z),J=(0,v.ZR)(Z/=K),re=(0,v.Wn)((0,v.Wn)(Z)-1)<v.Ho||(0,v.Wn)(i-z)<v.Ho?(i+z)/2:(0,v.fv)(Q,ce),le=S(re,J),q=le[0],ee=le[1],ue=q-E,se=ee-w,he=ne*ue-$*se;(he*he/oe>P||(0,v.Wn)(($*ue+ne*se)/oe-.5)>.3||L*B+b*U+O*F<o)&&(x(E,w,i,L,b,O,q,ee,re,ce/=K,Q/=K,Z,V,j),j.point(q,ee),x(q,ee,re,ce,Q,Z,_,N,z,B,U,F,V,j))}}return function(E){var w,i,L,b,O,_,N,z,B,U,F,V,j={point:$,lineStart:ne,lineEnd:ce,polygonStart:function(){E.polygonStart(),j.lineStart=Q},polygonEnd:function(){E.polygonEnd(),j.lineStart=ne}};function $(J,re){J=S(J,re),E.point(J[0],J[1])}function ne(){z=NaN,j.point=oe,E.lineStart()}function oe(J,re){var le=(0,s.Og)([J,re]),q=S(J,re);x(z,B,N,U,F,V,z=q[0],B=q[1],N=J,U=le[0],F=le[1],V=le[2],n,E),E.point(z,B)}function ce(){j.point=$,E.lineEnd()}function Q(){ne(),j.point=Z,j.lineEnd=K}function Z(J,re){oe(w=J,re),i=z,L=B,b=U,O=F,_=V,j.point=oe}function K(){x(z,B,N,U,F,V,i,L,w,b,O,_,n,E),j.lineEnd=ce,ce()}return j}}var c=(0,t.l)({point:function(S,P){this.stream.point(S*v.uR,P*v.uR)}});function A(S){return(0,t.l)({point:function(P,x){var E=S(P,x);return this.stream.point(E[0],E[1])}})}function h(S,P,x,E,w){function i(L,b){return L*=E,b*=w,[P+S*L,x-S*b]}return i.invert=function(L,b){return[(L-P)/S*E,(x-b)/S*w]},i}function l(S,P,x,E,w,i){var L=(0,v.mC)(i),b=(0,v.O$)(i),O=L*S,_=b*S,N=L/S,z=b/S,B=(b*x-L*P)/S,U=(b*P+L*x)/S;function F(V,j){return V*=E,j*=w,[O*V-_*j+P,x-_*V-O*j]}return F.invert=function(V,j){return[E*(N*V-z*j+B),w*(U-z*V-N*j)]},F}function p(S){return M(function(){return S})()}function M(S){var P,x=150,E=480,w=250,i=0,L=0,b=0,O=0,_=0,N,z=0,B=1,U=1,F=null,V=g.Z,j=null,$,ne,oe,ce=T.Z,Q=.5,Z,K,J,re,le;function q(he){return J(he[0]*v.uR,he[1]*v.uR)}function ee(he){return he=J.invert(he[0],he[1]),he&&[he[0]*v.RW,he[1]*v.RW]}q.stream=function(he){return re&&le===he?re:re=c(A(N)(V(Z(ce(le=he)))))},q.preclip=function(he){return arguments.length?(V=he,F=void 0,se()):V},q.postclip=function(he){return arguments.length?(ce=he,j=$=ne=oe=null,se()):ce},q.clipAngle=function(he){return arguments.length?(V=+he?(0,R.Z)(F=he*v.uR):(F=null,g.Z),se()):F*v.RW},q.clipExtent=function(he){return arguments.length?(ce=he==null?(j=$=ne=oe=null,T.Z):(0,a.Z)(j=+he[0][0],$=+he[0][1],ne=+he[1][0],oe=+he[1][1]),se()):j==null?null:[[j,$],[ne,oe]]},q.scale=function(he){return arguments.length?(x=+he,ue()):x},q.translate=function(he){return arguments.length?(E=+he[0],w=+he[1],ue()):[E,w]},q.center=function(he){return arguments.length?(i=he[0]%360*v.uR,L=he[1]%360*v.uR,ue()):[i*v.RW,L*v.RW]},q.rotate=function(he){return arguments.length?(b=he[0]%360*v.uR,O=he[1]%360*v.uR,_=he.length>2?he[2]%360*v.uR:0,ue()):[b*v.RW,O*v.RW,_*v.RW]},q.angle=function(he){return arguments.length?(z=he%360*v.uR,ue()):z*v.RW},q.reflectX=function(he){return arguments.length?(B=he?-1:1,ue()):B<0},q.reflectY=function(he){return arguments.length?(U=he?-1:1,ue()):U<0},q.precision=function(he){return arguments.length?(Z=f(K,Q=he*he),se()):(0,v._b)(Q)},q.fitExtent=function(he,me){return(0,r.qg)(q,he,me)},q.fitSize=function(he,me){return(0,r.mF)(q,he,me)},q.fitWidth=function(he,me){return(0,r.V6)(q,he,me)},q.fitHeight=function(he,me){return(0,r.rf)(q,he,me)};function ue(){var he=l(x,0,0,B,U,z).apply(null,P(i,L)),me=(z?l:h)(x,E-he[0],w-he[1],B,U,z);return N=(0,y.I)(b,O,_),K=(0,C.Z)(P,me),J=(0,C.Z)(N,K),Z=f(K,Q),se()}function se(){return re=le=null,q}return function(){return P=S.apply(this,arguments),q.invert=P.invert&&ee,ue()}}},26867:function(W,H,e){e.d(H,{K:function(){return a},Z:function(){return C}});var g=e(15002),R=e(39695);function a(T,v){var y=v*v,t=y*y;return[T*(.8707-.131979*y+t*(-.013791+t*(.003971*y-.001529*t))),v*(1.007226+y*(.015085+t*(-.044475+.028874*y-.005916*t)))]}a.invert=function(T,v){var y=v,t=25,r;do{var s=y*y,n=s*s;y-=r=(y*(1.007226+s*(.015085+n*(-.044475+.028874*s-.005916*n)))-v)/(1.007226+s*(.045255+n*(-.311325+.259866*s-.06507600000000001*n)))}while((0,R.Wn)(r)>R.Ho&&--t>0);return[T/(.8707+(s=y*y)*(-.131979+s*(-.013791+s*s*s*(.003971-.001529*s)))),y]};function C(){return(0,g.Z)(a).scale(175.295)}},57962:function(W,H,e){e.d(H,{I:function(){return C},Z:function(){return T}});var g=e(39695),R=e(25382),a=e(15002);function C(v,y){return[(0,g.mC)(y)*(0,g.O$)(v),(0,g.O$)(y)]}C.invert=(0,R.O)(g.ZR);function T(){return(0,a.Z)(C).scale(249.5).clipAngle(90+g.Ho)}},49386:function(W,H,e){e.d(H,{I:function(){return C},Z:function(){return t}});var g=e(96059),R=e(39695);function a(r,s){return[(0,R.Wn)(r)>R.pi?r+Math.round(-r/R.BZ)*R.BZ:r,s]}a.invert=a;function C(r,s,n){return(r%=R.BZ)?s||n?(0,g.Z)(v(r),y(s,n)):v(r):s||n?y(s,n):a}function T(r){return function(s,n){return s+=r,[s>R.pi?s-R.BZ:s<-R.pi?s+R.BZ:s,n]}}function v(r){var s=T(r);return s.invert=T(-r),s}function y(r,s){var n=(0,R.mC)(r),o=(0,R.O$)(r),f=(0,R.mC)(s),u=(0,R.O$)(s);function m(c,A){var h=(0,R.mC)(A),l=(0,R.mC)(c)*h,p=(0,R.O$)(c)*h,M=(0,R.O$)(A),S=M*n+l*o;return[(0,R.fv)(p*f-S*u,l*n-M*o),(0,R.ZR)(S*f+p*u)]}return m.invert=function(c,A){var h=(0,R.mC)(A),l=(0,R.mC)(c)*h,p=(0,R.O$)(c)*h,M=(0,R.O$)(A),S=M*f-p*u;return[(0,R.fv)(p*f+M*u,l*n+S*o),(0,R.ZR)(S*n-l*o)]},m}function t(r){r=C(r[0]*R.uR,r[1]*R.uR,r.length>2?r[2]*R.uR:0);function s(n){return n=r(n[0]*R.uR,n[1]*R.uR),n[0]*=R.RW,n[1]*=R.RW,n}return s.invert=function(n){return n=r.invert(n[0]*R.uR,n[1]*R.uR),n[0]*=R.RW,n[1]*=R.RW,n},s}},72736:function(W,H,e){e.d(H,{Z:function(){return v}});function g(y,t){y&&a.hasOwnProperty(y.type)&&a[y.type](y,t)}var R={Feature:function(y,t){g(y.geometry,t)},FeatureCollection:function(y,t){for(var r=y.features,s=-1,n=r.length;++s<n;)g(r[s].geometry,t)}},a={Sphere:function(y,t){t.sphere()},Point:function(y,t){y=y.coordinates,t.point(y[0],y[1],y[2])},MultiPoint:function(y,t){for(var r=y.coordinates,s=-1,n=r.length;++s<n;)y=r[s],t.point(y[0],y[1],y[2])},LineString:function(y,t){C(y.coordinates,t,0)},MultiLineString:function(y,t){for(var r=y.coordinates,s=-1,n=r.length;++s<n;)C(r[s],t,0)},Polygon:function(y,t){T(y.coordinates,t)},MultiPolygon:function(y,t){for(var r=y.coordinates,s=-1,n=r.length;++s<n;)T(r[s],t)},GeometryCollection:function(y,t){for(var r=y.geometries,s=-1,n=r.length;++s<n;)g(r[s],t)}};function C(y,t,r){var s=-1,n=y.length-r,o;for(t.lineStart();++s<n;)o=y[s],t.point(o[0],o[1],o[2]);t.lineEnd()}function T(y,t){var r=-1,s=y.length;for(t.polygonStart();++r<s;)C(y[r],t,1);t.polygonEnd()}function v(y,t){y&&R.hasOwnProperty(y.type)?R[y.type](y,t):g(y,t)}},64684:function(W,H,e){e.d(H,{Z:function(){return g},l:function(){return R}});function g(C){return{stream:R(C)}}function R(C){return function(T){var v=new a;for(var y in C)v[y]=C[y];return v.stream=T,v}}function a(){}a.prototype={constructor:a,point:function(C,T){this.stream.point(C,T)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}}},674:function(W,H,e){e.r(H),e.d(H,{cluster:function(){return t},hierarchy:function(){return S},pack:function(){return ee},packEnclose:function(){return O},packSiblings:function(){return Z},partition:function(){return Te},stratify:function(){return He},tree:function(){return yt},treemap:function(){return Je},treemapBinary:function(){return ze},treemapDice:function(){return Ce},treemapResquarify:function(){return Be},treemapSlice:function(){return gt},treemapSliceDice:function(){return _e},treemapSquarify:function(){return Vt}});function g(De,we){return De.parent===we.parent?1:2}function R(De){return De.reduce(a,0)/De.length}function a(De,we){return De+we.x}function C(De){return 1+De.reduce(T,0)}function T(De,we){return Math.max(De,we.y)}function v(De){for(var we;we=De.children;)De=we[0];return De}function y(De){for(var we;we=De.children;)De=we[we.length-1];return De}function t(){var De=g,we=1,xe=1,Ee=!1;function Pe(Ue){var $e,qe=0;Ue.eachAfter(function(At){var zt=At.children;zt?(At.x=R(zt),At.y=C(zt)):(At.x=$e?qe+=De(At,$e):0,At.y=0,$e=At)});var dt=v(Ue),bt=y(Ue),Gt=dt.x-De(dt,bt)/2,Qt=bt.x+De(bt,dt)/2;return Ue.eachAfter(Ee?function(At){At.x=(At.x-Ue.x)*we,At.y=(Ue.y-At.y)*xe}:function(At){At.x=(At.x-Gt)/(Qt-Gt)*we,At.y=(1-(Ue.y?At.y/Ue.y:1))*xe})}return Pe.separation=function(Ue){return arguments.length?(De=Ue,Pe):De},Pe.size=function(Ue){return arguments.length?(Ee=!1,we=+Ue[0],xe=+Ue[1],Pe):Ee?null:[we,xe]},Pe.nodeSize=function(Ue){return arguments.length?(Ee=!0,we=+Ue[0],xe=+Ue[1],Pe):Ee?[we,xe]:null},Pe}function r(De){var we=0,xe=De.children,Ee=xe&&xe.length;if(!Ee)we=1;else for(;--Ee>=0;)we+=xe[Ee].value;De.value=we}function s(){return this.eachAfter(r)}function n(De){var we=this,xe,Ee=[we],Pe,Ue,$e;do for(xe=Ee.reverse(),Ee=[];we=xe.pop();)if(De(we),Pe=we.children,Pe)for(Ue=0,$e=Pe.length;Ue<$e;++Ue)Ee.push(Pe[Ue]);while(Ee.length);return this}function o(De){for(var we=this,xe=[we],Ee,Pe;we=xe.pop();)if(De(we),Ee=we.children,Ee)for(Pe=Ee.length-1;Pe>=0;--Pe)xe.push(Ee[Pe]);return this}function f(De){for(var we=this,xe=[we],Ee=[],Pe,Ue,$e;we=xe.pop();)if(Ee.push(we),Pe=we.children,Pe)for(Ue=0,$e=Pe.length;Ue<$e;++Ue)xe.push(Pe[Ue]);for(;we=Ee.pop();)De(we);return this}function u(De){return this.eachAfter(function(we){for(var xe=+De(we.data)||0,Ee=we.children,Pe=Ee&&Ee.length;--Pe>=0;)xe+=Ee[Pe].value;we.value=xe})}function m(De){return this.eachBefore(function(we){we.children&&we.children.sort(De)})}function c(De){for(var we=this,xe=A(we,De),Ee=[we];we!==xe;)we=we.parent,Ee.push(we);for(var Pe=Ee.length;De!==xe;)Ee.splice(Pe,0,De),De=De.parent;return Ee}function A(De,we){if(De===we)return De;var xe=De.ancestors(),Ee=we.ancestors(),Pe=null;for(De=xe.pop(),we=Ee.pop();De===we;)Pe=De,De=xe.pop(),we=Ee.pop();return Pe}function h(){for(var De=this,we=[De];De=De.parent;)we.push(De);return we}function l(){var De=[];return this.each(function(we){De.push(we)}),De}function p(){var De=[];return this.eachBefore(function(we){we.children||De.push(we)}),De}function M(){var De=this,we=[];return De.each(function(xe){xe!==De&&we.push({source:xe.parent,target:xe})}),we}function S(De,we){var xe=new i(De),Ee=+De.value&&(xe.value=De.value),Pe,Ue=[xe],$e,qe,dt,bt;for(we==null&&(we=x);Pe=Ue.pop();)if(Ee&&(Pe.value=+Pe.data.value),(qe=we(Pe.data))&&(bt=qe.length))for(Pe.children=new Array(bt),dt=bt-1;dt>=0;--dt)Ue.push($e=Pe.children[dt]=new i(qe[dt])),$e.parent=Pe,$e.depth=Pe.depth+1;return xe.eachBefore(w)}function P(){return S(this).eachBefore(E)}function x(De){return De.children}function E(De){De.data=De.data.data}function w(De){var we=0;do De.height=we;while((De=De.parent)&&De.height<++we)}function i(De){this.data=De,this.depth=this.height=0,this.parent=null}i.prototype=S.prototype={constructor:i,count:s,each:n,eachAfter:f,eachBefore:o,sum:u,sort:m,path:c,ancestors:h,descendants:l,leaves:p,links:M,copy:P};var L=Array.prototype.slice;function b(De){for(var we=De.length,xe,Ee;we;)Ee=Math.random()*we--|0,xe=De[we],De[we]=De[Ee],De[Ee]=xe;return De}function O(De){for(var we=0,xe=(De=b(L.call(De))).length,Ee=[],Pe,Ue;we<xe;)Pe=De[we],Ue&&z(Ue,Pe)?++we:(Ue=U(Ee=_(Ee,Pe)),we=0);return Ue}function _(De,we){var xe,Ee;if(B(we,De))return[we];for(xe=0;xe<De.length;++xe)if(N(we,De[xe])&&B(V(De[xe],we),De))return[De[xe],we];for(xe=0;xe<De.length-1;++xe)for(Ee=xe+1;Ee<De.length;++Ee)if(N(V(De[xe],De[Ee]),we)&&N(V(De[xe],we),De[Ee])&&N(V(De[Ee],we),De[xe])&&B(j(De[xe],De[Ee],we),De))return[De[xe],De[Ee],we];throw new Error}function N(De,we){var xe=De.r-we.r,Ee=we.x-De.x,Pe=we.y-De.y;return xe<0||xe*xe<Ee*Ee+Pe*Pe}function z(De,we){var xe=De.r-we.r+1e-6,Ee=we.x-De.x,Pe=we.y-De.y;return xe>0&&xe*xe>Ee*Ee+Pe*Pe}function B(De,we){for(var xe=0;xe<we.length;++xe)if(!z(De,we[xe]))return!1;return!0}function U(De){switch(De.length){case 1:return F(De[0]);case 2:return V(De[0],De[1]);case 3:return j(De[0],De[1],De[2])}}function F(De){return{x:De.x,y:De.y,r:De.r}}function V(De,we){var xe=De.x,Ee=De.y,Pe=De.r,Ue=we.x,$e=we.y,qe=we.r,dt=Ue-xe,bt=$e-Ee,Gt=qe-Pe,Qt=Math.sqrt(dt*dt+bt*bt);return{x:(xe+Ue+dt/Qt*Gt)/2,y:(Ee+$e+bt/Qt*Gt)/2,r:(Qt+Pe+qe)/2}}function j(De,we,xe){var Ee=De.x,Pe=De.y,Ue=De.r,$e=we.x,qe=we.y,dt=we.r,bt=xe.x,Gt=xe.y,Qt=xe.r,At=Ee-$e,zt=Ee-bt,$t=Pe-qe,Ar=Pe-Gt,ut=dt-Ue,Yt=Qt-Ue,Kt=Ee*Ee+Pe*Pe-Ue*Ue,mr=Kt-$e*$e-qe*qe+dt*dt,ur=Kt-bt*bt-Gt*Gt+Qt*Qt,pt=zt*$t-At*Ar,st=($t*ur-Ar*mr)/(pt*2)-Ee,xt=(Ar*ut-$t*Yt)/pt,St=(zt*mr-At*ur)/(pt*2)-Pe,Dt=(At*Yt-zt*ut)/pt,Rt=xt*xt+Dt*Dt-1,Bt=2*(Ue+st*xt+St*Dt),Nt=st*st+St*St-Ue*Ue,Xt=-(Rt?(Bt+Math.sqrt(Bt*Bt-4*Rt*Nt))/(2*Rt):Nt/Bt);return{x:Ee+st+xt*Xt,y:Pe+St+Dt*Xt,r:Xt}}function $(De,we,xe){var Ee=De.x-we.x,Pe,Ue,$e=De.y-we.y,qe,dt,bt=Ee*Ee+$e*$e;bt?(Ue=we.r+xe.r,Ue*=Ue,dt=De.r+xe.r,dt*=dt,Ue>dt?(Pe=(bt+dt-Ue)/(2*bt),qe=Math.sqrt(Math.max(0,dt/bt-Pe*Pe)),xe.x=De.x-Pe*Ee-qe*$e,xe.y=De.y-Pe*$e+qe*Ee):(Pe=(bt+Ue-dt)/(2*bt),qe=Math.sqrt(Math.max(0,Ue/bt-Pe*Pe)),xe.x=we.x+Pe*Ee-qe*$e,xe.y=we.y+Pe*$e+qe*Ee)):(xe.x=we.x+xe.r,xe.y=we.y)}function ne(De,we){var xe=De.r+we.r-1e-6,Ee=we.x-De.x,Pe=we.y-De.y;return xe>0&&xe*xe>Ee*Ee+Pe*Pe}function oe(De){var we=De._,xe=De.next._,Ee=we.r+xe.r,Pe=(we.x*xe.r+xe.x*we.r)/Ee,Ue=(we.y*xe.r+xe.y*we.r)/Ee;return Pe*Pe+Ue*Ue}function ce(De){this._=De,this.next=null,this.previous=null}function Q(De){if(!(Pe=De.length))return 0;var we,xe,Ee,Pe,Ue,$e,qe,dt,bt,Gt,Qt;if(we=De[0],we.x=0,we.y=0,!(Pe>1))return we.r;if(xe=De[1],we.x=-xe.r,xe.x=we.r,xe.y=0,!(Pe>2))return we.r+xe.r;$(xe,we,Ee=De[2]),we=new ce(we),xe=new ce(xe),Ee=new ce(Ee),we.next=Ee.previous=xe,xe.next=we.previous=Ee,Ee.next=xe.previous=we;e:for(qe=3;qe<Pe;++qe){$(we._,xe._,Ee=De[qe]),Ee=new ce(Ee),dt=xe.next,bt=we.previous,Gt=xe._.r,Qt=we._.r;do if(Gt<=Qt){if(ne(dt._,Ee._)){xe=dt,we.next=xe,xe.previous=we,--qe;continue e}Gt+=dt._.r,dt=dt.next}else{if(ne(bt._,Ee._)){we=bt,we.next=xe,xe.previous=we,--qe;continue e}Qt+=bt._.r,bt=bt.previous}while(dt!==bt.next);for(Ee.previous=we,Ee.next=xe,we.next=xe.previous=xe=Ee,Ue=oe(we);(Ee=Ee.next)!==xe;)($e=oe(Ee))<Ue&&(we=Ee,Ue=$e);xe=we.next}for(we=[xe._],Ee=xe;(Ee=Ee.next)!==xe;)we.push(Ee._);for(Ee=O(we),qe=0;qe<Pe;++qe)we=De[qe],we.x-=Ee.x,we.y-=Ee.y;return Ee.r}function Z(De){return Q(De),De}function K(De){return De==null?null:J(De)}function J(De){if(typeof De!="function")throw new Error;return De}function re(){return 0}function le(De){return function(){return De}}function q(De){return Math.sqrt(De.value)}function ee(){var De=null,we=1,xe=1,Ee=re;function Pe(Ue){return Ue.x=we/2,Ue.y=xe/2,De?Ue.eachBefore(ue(De)).eachAfter(se(Ee,.5)).eachBefore(he(1)):Ue.eachBefore(ue(q)).eachAfter(se(re,1)).eachAfter(se(Ee,Ue.r/Math.min(we,xe))).eachBefore(he(Math.min(we,xe)/(2*Ue.r))),Ue}return Pe.radius=function(Ue){return arguments.length?(De=K(Ue),Pe):De},Pe.size=function(Ue){return arguments.length?(we=+Ue[0],xe=+Ue[1],Pe):[we,xe]},Pe.padding=function(Ue){return arguments.length?(Ee=typeof Ue=="function"?Ue:le(+Ue),Pe):Ee},Pe}function ue(De){return function(we){we.children||(we.r=Math.max(0,+De(we)||0))}}function se(De,we){return function(xe){if(Ee=xe.children){var Ee,Pe,Ue=Ee.length,$e=De(xe)*we||0,qe;if($e)for(Pe=0;Pe<Ue;++Pe)Ee[Pe].r+=$e;if(qe=Q(Ee),$e)for(Pe=0;Pe<Ue;++Pe)Ee[Pe].r-=$e;xe.r=qe+$e}}}function he(De){return function(we){var xe=we.parent;we.r*=De,xe&&(we.x=xe.x+De*we.x,we.y=xe.y+De*we.y)}}function me(De){De.x0=Math.round(De.x0),De.y0=Math.round(De.y0),De.x1=Math.round(De.x1),De.y1=Math.round(De.y1)}function Ce(De,we,xe,Ee,Pe){for(var Ue=De.children,$e,qe=-1,dt=Ue.length,bt=De.value&&(Ee-we)/De.value;++qe<dt;)$e=Ue[qe],$e.y0=xe,$e.y1=Pe,$e.x0=we,$e.x1=we+=$e.value*bt}function Te(){var De=1,we=1,xe=0,Ee=!1;function Pe($e){var qe=$e.height+1;return $e.x0=$e.y0=xe,$e.x1=De,$e.y1=we/qe,$e.eachBefore(Ue(we,qe)),Ee&&$e.eachBefore(me),$e}function Ue($e,qe){return function(dt){dt.children&&Ce(dt,dt.x0,$e*(dt.depth+1)/qe,dt.x1,$e*(dt.depth+2)/qe);var bt=dt.x0,Gt=dt.y0,Qt=dt.x1-xe,At=dt.y1-xe;Qt<bt&&(bt=Qt=(bt+Qt)/2),At<Gt&&(Gt=At=(Gt+At)/2),dt.x0=bt,dt.y0=Gt,dt.x1=Qt,dt.y1=At}}return Pe.round=function($e){return arguments.length?(Ee=!!$e,Pe):Ee},Pe.size=function($e){return arguments.length?(De=+$e[0],we=+$e[1],Pe):[De,we]},Pe.padding=function($e){return arguments.length?(xe=+$e,Pe):xe},Pe}var Oe="$",Ne={depth:-1},Le={};function be(De){return De.id}function Ae(De){return De.parentId}function He(){var De=be,we=Ae;function xe(Ee){var Pe,Ue,$e=Ee.length,qe,dt,bt,Gt=new Array($e),Qt,At,zt={};for(Ue=0;Ue<$e;++Ue)Pe=Ee[Ue],bt=Gt[Ue]=new i(Pe),(Qt=De(Pe,Ue,Ee))!=null&&(Qt+="")&&(At=Oe+(bt.id=Qt),zt[At]=At in zt?Le:bt);for(Ue=0;Ue<$e;++Ue)if(bt=Gt[Ue],Qt=we(Ee[Ue],Ue,Ee),Qt==null||!(Qt+="")){if(qe)throw new Error("multiple roots");qe=bt}else{if(dt=zt[Oe+Qt],!dt)throw new Error("missing: "+Qt);if(dt===Le)throw new Error("ambiguous: "+Qt);dt.children?dt.children.push(bt):dt.children=[bt],bt.parent=dt}if(!qe)throw new Error("no root");if(qe.parent=Ne,qe.eachBefore(function($t){$t.depth=$t.parent.depth+1,--$e}).eachBefore(w),qe.parent=null,$e>0)throw new Error("cycle");return qe}return xe.id=function(Ee){return arguments.length?(De=J(Ee),xe):De},xe.parentId=function(Ee){return arguments.length?(we=J(Ee),xe):we},xe}function Ve(De,we){return De.parent===we.parent?1:2}function ke(De){var we=De.children;return we?we[0]:De.t}function Ge(De){var we=De.children;return we?we[we.length-1]:De.t}function it(De,we,xe){var Ee=xe/(we.i-De.i);we.c-=Ee,we.s+=xe,De.c+=Ee,we.z+=xe,we.m+=xe}function et(De){for(var we=0,xe=0,Ee=De.children,Pe=Ee.length,Ue;--Pe>=0;)Ue=Ee[Pe],Ue.z+=we,Ue.m+=we,we+=Ue.s+(xe+=Ue.c)}function tt(De,we,xe){return De.a.parent===we.parent?De.a:xe}function at(De,we){this._=De,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=we}at.prototype=Object.create(i.prototype);function vt(De){for(var we=new at(De,0),xe,Ee=[we],Pe,Ue,$e,qe;xe=Ee.pop();)if(Ue=xe._.children)for(xe.children=new Array(qe=Ue.length),$e=qe-1;$e>=0;--$e)Ee.push(Pe=xe.children[$e]=new at(Ue[$e],$e)),Pe.parent=xe;return(we.parent=new at(null,0)).children=[we],we}function yt(){var De=Ve,we=1,xe=1,Ee=null;function Pe(bt){var Gt=vt(bt);if(Gt.eachAfter(Ue),Gt.parent.m=-Gt.z,Gt.eachBefore($e),Ee)bt.eachBefore(dt);else{var Qt=bt,At=bt,zt=bt;bt.eachBefore(function(Kt){Kt.x<Qt.x&&(Qt=Kt),Kt.x>At.x&&(At=Kt),Kt.depth>zt.depth&&(zt=Kt)});var $t=Qt===At?1:De(Qt,At)/2,Ar=$t-Qt.x,ut=we/(At.x+$t+Ar),Yt=xe/(zt.depth||1);bt.eachBefore(function(Kt){Kt.x=(Kt.x+Ar)*ut,Kt.y=Kt.depth*Yt})}return bt}function Ue(bt){var Gt=bt.children,Qt=bt.parent.children,At=bt.i?Qt[bt.i-1]:null;if(Gt){et(bt);var zt=(Gt[0].z+Gt[Gt.length-1].z)/2;At?(bt.z=At.z+De(bt._,At._),bt.m=bt.z-zt):bt.z=zt}else At&&(bt.z=At.z+De(bt._,At._));bt.parent.A=qe(bt,At,bt.parent.A||Qt[0])}function $e(bt){bt._.x=bt.z+bt.parent.m,bt.m+=bt.parent.m}function qe(bt,Gt,Qt){if(Gt){for(var At=bt,zt=bt,$t=Gt,Ar=At.parent.children[0],ut=At.m,Yt=zt.m,Kt=$t.m,mr=Ar.m,ur;$t=Ge($t),At=ke(At),$t&&At;)Ar=ke(Ar),zt=Ge(zt),zt.a=bt,ur=$t.z+Kt-At.z-ut+De($t._,At._),ur>0&&(it(tt($t,bt,Qt),bt,ur),ut+=ur,Yt+=ur),Kt+=$t.m,ut+=At.m,mr+=Ar.m,Yt+=zt.m;$t&&!Ge(zt)&&(zt.t=$t,zt.m+=Kt-Yt),At&&!ke(Ar)&&(Ar.t=At,Ar.m+=ut-mr,Qt=bt)}return Qt}function dt(bt){bt.x*=we,bt.y=bt.depth*xe}return Pe.separation=function(bt){return arguments.length?(De=bt,Pe):De},Pe.size=function(bt){return arguments.length?(Ee=!1,we=+bt[0],xe=+bt[1],Pe):Ee?null:[we,xe]},Pe.nodeSize=function(bt){return arguments.length?(Ee=!0,we=+bt[0],xe=+bt[1],Pe):Ee?[we,xe]:null},Pe}function gt(De,we,xe,Ee,Pe){for(var Ue=De.children,$e,qe=-1,dt=Ue.length,bt=De.value&&(Pe-xe)/De.value;++qe<dt;)$e=Ue[qe],$e.x0=we,$e.x1=Ee,$e.y0=xe,$e.y1=xe+=$e.value*bt}var Mt=(1+Math.sqrt(5))/2;function Ct(De,we,xe,Ee,Pe,Ue){for(var $e=[],qe=we.children,dt,bt,Gt=0,Qt=0,At=qe.length,zt,$t,Ar=we.value,ut,Yt,Kt,mr,ur,pt,st;Gt<At;){zt=Pe-xe,$t=Ue-Ee;do ut=qe[Qt++].value;while(!ut&&Qt<At);for(Yt=Kt=ut,pt=Math.max($t/zt,zt/$t)/(Ar*De),st=ut*ut*pt,ur=Math.max(Kt/st,st/Yt);Qt<At;++Qt){if(ut+=bt=qe[Qt].value,bt<Yt&&(Yt=bt),bt>Kt&&(Kt=bt),st=ut*ut*pt,mr=Math.max(Kt/st,st/Yt),mr>ur){ut-=bt;break}ur=mr}$e.push(dt={value:ut,dice:zt<$t,children:qe.slice(Gt,Qt)}),dt.dice?Ce(dt,xe,Ee,Pe,Ar?Ee+=$t*ut/Ar:Ue):gt(dt,xe,Ee,Ar?xe+=zt*ut/Ar:Pe,Ue),Ar-=ut,Gt=Qt}return $e}var Vt=function De(we){function xe(Ee,Pe,Ue,$e,qe){Ct(we,Ee,Pe,Ue,$e,qe)}return xe.ratio=function(Ee){return De((Ee=+Ee)>1?Ee:1)},xe}(Mt);function Je(){var De=Vt,we=!1,xe=1,Ee=1,Pe=[0],Ue=re,$e=re,qe=re,dt=re,bt=re;function Gt(At){return At.x0=At.y0=0,At.x1=xe,At.y1=Ee,At.eachBefore(Qt),Pe=[0],we&&At.eachBefore(me),At}function Qt(At){var zt=Pe[At.depth],$t=At.x0+zt,Ar=At.y0+zt,ut=At.x1-zt,Yt=At.y1-zt;ut<$t&&($t=ut=($t+ut)/2),Yt<Ar&&(Ar=Yt=(Ar+Yt)/2),At.x0=$t,At.y0=Ar,At.x1=ut,At.y1=Yt,At.children&&(zt=Pe[At.depth+1]=Ue(At)/2,$t+=bt(At)-zt,Ar+=$e(At)-zt,ut-=qe(At)-zt,Yt-=dt(At)-zt,ut<$t&&($t=ut=($t+ut)/2),Yt<Ar&&(Ar=Yt=(Ar+Yt)/2),De(At,$t,Ar,ut,Yt))}return Gt.round=function(At){return arguments.length?(we=!!At,Gt):we},Gt.size=function(At){return arguments.length?(xe=+At[0],Ee=+At[1],Gt):[xe,Ee]},Gt.tile=function(At){return arguments.length?(De=J(At),Gt):De},Gt.padding=function(At){return arguments.length?Gt.paddingInner(At).paddingOuter(At):Gt.paddingInner()},Gt.paddingInner=function(At){return arguments.length?(Ue=typeof At=="function"?At:le(+At),Gt):Ue},Gt.paddingOuter=function(At){return arguments.length?Gt.paddingTop(At).paddingRight(At).paddingBottom(At).paddingLeft(At):Gt.paddingTop()},Gt.paddingTop=function(At){return arguments.length?($e=typeof At=="function"?At:le(+At),Gt):$e},Gt.paddingRight=function(At){return arguments.length?(qe=typeof At=="function"?At:le(+At),Gt):qe},Gt.paddingBottom=function(At){return arguments.length?(dt=typeof At=="function"?At:le(+At),Gt):dt},Gt.paddingLeft=function(At){return arguments.length?(bt=typeof At=="function"?At:le(+At),Gt):bt},Gt}function ze(De,we,xe,Ee,Pe){var Ue=De.children,$e,qe=Ue.length,dt,bt=new Array(qe+1);for(bt[0]=dt=$e=0;$e<qe;++$e)bt[$e+1]=dt+=Ue[$e].value;Gt(0,qe,De.value,we,xe,Ee,Pe);function Gt(Qt,At,zt,$t,Ar,ut,Yt){if(Qt>=At-1){var Kt=Ue[Qt];Kt.x0=$t,Kt.y0=Ar,Kt.x1=ut,Kt.y1=Yt;return}for(var mr=bt[Qt],ur=zt/2+mr,pt=Qt+1,st=At-1;pt<st;){var xt=pt+st>>>1;bt[xt]<ur?pt=xt+1:st=xt}ur-bt[pt-1]<bt[pt]-ur&&Qt+1<pt&&--pt;var St=bt[pt]-mr,Dt=zt-St;if(ut-$t>Yt-Ar){var Rt=($t*Dt+ut*St)/zt;Gt(Qt,pt,St,$t,Ar,Rt,Yt),Gt(pt,At,Dt,Rt,Ar,ut,Yt)}else{var Bt=(Ar*Dt+Yt*St)/zt;Gt(Qt,pt,St,$t,Ar,ut,Bt),Gt(pt,At,Dt,$t,Bt,ut,Yt)}}}function _e(De,we,xe,Ee,Pe){(De.depth&1?gt:Ce)(De,we,xe,Ee,Pe)}var Be=function De(we){function xe(Ee,Pe,Ue,$e,qe){if((dt=Ee._squarify)&&dt.ratio===we)for(var dt,bt,Gt,Qt,At=-1,zt,$t=dt.length,Ar=Ee.value;++At<$t;){for(bt=dt[At],Gt=bt.children,Qt=bt.value=0,zt=Gt.length;Qt<zt;++Qt)bt.value+=Gt[Qt].value;bt.dice?Ce(bt,Pe,Ue,$e,Ue+=(qe-Ue)*bt.value/Ar):gt(bt,Pe,Ue,Pe+=($e-Pe)*bt.value/Ar,qe),Ar-=bt.value}else Ee._squarify=dt=Ct(we,Ee,Pe,Ue,$e,qe),dt.ratio=we}return xe.ratio=function(Ee){return De((Ee=+Ee)>1?Ee:1)},xe}(Mt)},45879:function(W,H,e){e.d(H,{h5:function(){return c}});var g=Math.PI,R=2*g,a=1e-6,C=R-a;function T(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function v(){return new T}T.prototype=v.prototype={constructor:T,moveTo:function(A,h){this._+="M"+(this._x0=this._x1=+A)+","+(this._y0=this._y1=+h)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(A,h){this._+="L"+(this._x1=+A)+","+(this._y1=+h)},quadraticCurveTo:function(A,h,l,p){this._+="Q"+ +A+","+ +h+","+(this._x1=+l)+","+(this._y1=+p)},bezierCurveTo:function(A,h,l,p,M,S){this._+="C"+ +A+","+ +h+","+ +l+","+ +p+","+(this._x1=+M)+","+(this._y1=+S)},arcTo:function(A,h,l,p,M){A=+A,h=+h,l=+l,p=+p,M=+M;var S=this._x1,P=this._y1,x=l-A,E=p-h,w=S-A,i=P-h,L=w*w+i*i;if(M<0)throw new Error("negative radius: "+M);if(this._x1===null)this._+="M"+(this._x1=A)+","+(this._y1=h);else if(L>a)if(!(Math.abs(i*x-E*w)>a)||!M)this._+="L"+(this._x1=A)+","+(this._y1=h);else{var b=l-S,O=p-P,_=x*x+E*E,N=b*b+O*O,z=Math.sqrt(_),B=Math.sqrt(L),U=M*Math.tan((g-Math.acos((_+L-N)/(2*z*B)))/2),F=U/B,V=U/z;Math.abs(F-1)>a&&(this._+="L"+(A+F*w)+","+(h+F*i)),this._+="A"+M+","+M+",0,0,"+ +(i*b>w*O)+","+(this._x1=A+V*x)+","+(this._y1=h+V*E)}},arc:function(A,h,l,p,M,S){A=+A,h=+h,l=+l,S=!!S;var P=l*Math.cos(p),x=l*Math.sin(p),E=A+P,w=h+x,i=1^S,L=S?p-M:M-p;if(l<0)throw new Error("negative radius: "+l);this._x1===null?this._+="M"+E+","+w:(Math.abs(this._x1-E)>a||Math.abs(this._y1-w)>a)&&(this._+="L"+E+","+w),l&&(L<0&&(L=L%R+R),L>C?this._+="A"+l+","+l+",0,1,"+i+","+(A-P)+","+(h-x)+"A"+l+","+l+",0,1,"+i+","+(this._x1=E)+","+(this._y1=w):L>a&&(this._+="A"+l+","+l+",0,"+ +(L>=g)+","+i+","+(this._x1=A+l*Math.cos(M))+","+(this._y1=h+l*Math.sin(M))))},rect:function(A,h,l,p){this._+="M"+(this._x0=this._x1=+A)+","+(this._y0=this._y1=+h)+"h"+ +l+"v"+ +p+"h"+-l+"Z"},toString:function(){return this._}};var y=v,t=Array.prototype.slice;function r(A){return function(){return A}}function s(A){return A[0]}function n(A){return A[1]}function o(A){return A.source}function f(A){return A.target}function u(A){var h=o,l=f,p=s,M=n,S=null;function P(){var x,E=t.call(arguments),w=h.apply(this,E),i=l.apply(this,E);if(S||(S=x=y()),A(S,+p.apply(this,(E[0]=w,E)),+M.apply(this,E),+p.apply(this,(E[0]=i,E)),+M.apply(this,E)),x)return S=null,x+""||null}return P.source=function(x){return arguments.length?(h=x,P):h},P.target=function(x){return arguments.length?(l=x,P):l},P.x=function(x){return arguments.length?(p=typeof x=="function"?x:r(+x),P):p},P.y=function(x){return arguments.length?(M=typeof x=="function"?x:r(+x),P):M},P.context=function(x){return arguments.length?(S=x??null,P):S},P}function m(A,h,l,p,M){A.moveTo(h,l),A.bezierCurveTo(h=(h+p)/2,l,h,M,p,M)}function c(){return u(m)}},84096:function(W,H,e){e.d(H,{i$:function(){return ze},Dq:function(){return s},g0:function(){return _e}});var g=e(58176),R=e(48480),a=e(59879),C=e(82301),T=e(34823),v=e(79791);function y(De){if(0<=De.y&&De.y<100){var we=new Date(-1,De.m,De.d,De.H,De.M,De.S,De.L);return we.setFullYear(De.y),we}return new Date(De.y,De.m,De.d,De.H,De.M,De.S,De.L)}function t(De){if(0<=De.y&&De.y<100){var we=new Date(Date.UTC(-1,De.m,De.d,De.H,De.M,De.S,De.L));return we.setUTCFullYear(De.y),we}return new Date(Date.UTC(De.y,De.m,De.d,De.H,De.M,De.S,De.L))}function r(De,we,xe){return{y:De,m:we,d:xe,H:0,M:0,S:0,L:0}}function s(De){var we=De.dateTime,xe=De.date,Ee=De.time,Pe=De.periods,Ue=De.days,$e=De.shortDays,qe=De.months,dt=De.shortMonths,bt=A(Pe),Gt=h(Pe),Qt=A(Ue),At=h(Ue),zt=A($e),$t=h($e),Ar=A(qe),ut=h(qe),Yt=A(dt),Kt=h(dt),mr={a:je,A:Ye,b:It,B:kt,c:null,d:$,e:$,f:Z,H:ne,I:oe,j:ce,L:Q,m:K,M:J,p:jt,q:tr,Q:Ct,s:Vt,S:re,u:le,U:q,V:ee,w:ue,W:se,x:null,X:null,y:he,Y:me,Z:Ce,"%":Mt},ur={a:or,A:rr,b:Ot,B:hr,c:null,d:Te,e:Te,f:Ae,H:Oe,I:Ne,j:Le,L:be,m:He,M:Ve,p:gr,q:pr,Q:Ct,s:Vt,S:ke,u:Ge,U:it,V:et,w:tt,W:at,x:null,X:null,y:vt,Y:yt,Z:gt,"%":Mt},pt={a:Rt,A:Bt,b:Nt,B:Xt,c:lr,d:b,e:b,f:U,H:_,I:_,j:O,L:B,m:L,M:N,p:Dt,q:i,Q:V,s:j,S:z,u:p,U:M,V:S,w:l,W:P,x:sr,X:dr,y:E,Y:x,Z:w,"%":F};mr.x=st(xe,mr),mr.X=st(Ee,mr),mr.c=st(we,mr),ur.x=st(xe,ur),ur.X=st(Ee,ur),ur.c=st(we,ur);function st(vr,Vr){return function(kr){var _r=[],pn=-1,en=0,Bn=vr.length,Tn,Mr,Er;for(kr instanceof Date||(kr=new Date(+kr));++pn<Bn;)vr.charCodeAt(pn)===37&&(_r.push(vr.slice(en,pn)),(Mr=n[Tn=vr.charAt(++pn)])!=null?Tn=vr.charAt(++pn):Mr=Tn==="e"?" ":"0",(Er=Vr[Tn])&&(Tn=Er(kr,Mr)),_r.push(Tn),en=pn+1);return _r.push(vr.slice(en,pn)),_r.join("")}}function xt(vr,Vr){return function(kr){var _r=r(1900,void 0,1),pn=St(_r,vr,kr+="",0),en,Bn;if(pn!=kr.length)return null;if("Q"in _r)return new Date(_r.Q);if("s"in _r)return new Date(_r.s*1e3+("L"in _r?_r.L:0));if(Vr&&!("Z"in _r)&&(_r.Z=0),"p"in _r&&(_r.H=_r.H%12+_r.p*12),_r.m===void 0&&(_r.m="q"in _r?_r.q:0),"V"in _r){if(_r.V<1||_r.V>53)return null;"w"in _r||(_r.w=1),"Z"in _r?(en=t(r(_r.y,0,1)),Bn=en.getUTCDay(),en=Bn>4||Bn===0?g.l6.ceil(en):(0,g.l6)(en),en=R.Z.offset(en,(_r.V-1)*7),_r.y=en.getUTCFullYear(),_r.m=en.getUTCMonth(),_r.d=en.getUTCDate()+(_r.w+6)%7):(en=y(r(_r.y,0,1)),Bn=en.getDay(),en=Bn>4||Bn===0?a.wA.ceil(en):(0,a.wA)(en),en=C.Z.offset(en,(_r.V-1)*7),_r.y=en.getFullYear(),_r.m=en.getMonth(),_r.d=en.getDate()+(_r.w+6)%7)}else("W"in _r||"U"in _r)&&("w"in _r||(_r.w="u"in _r?_r.u%7:"W"in _r?1:0),Bn="Z"in _r?t(r(_r.y,0,1)).getUTCDay():y(r(_r.y,0,1)).getDay(),_r.m=0,_r.d="W"in _r?(_r.w+6)%7+_r.W*7-(Bn+5)%7:_r.w+_r.U*7-(Bn+6)%7);return"Z"in _r?(_r.H+=_r.Z/100|0,_r.M+=_r.Z%100,t(_r)):y(_r)}}function St(vr,Vr,kr,_r){for(var pn=0,en=Vr.length,Bn=kr.length,Tn,Mr;pn<en;){if(_r>=Bn)return-1;if(Tn=Vr.charCodeAt(pn++),Tn===37){if(Tn=Vr.charAt(pn++),Mr=pt[Tn in n?Vr.charAt(pn++):Tn],!Mr||(_r=Mr(vr,kr,_r))<0)return-1}else if(Tn!=kr.charCodeAt(_r++))return-1}return _r}function Dt(vr,Vr,kr){var _r=bt.exec(Vr.slice(kr));return _r?(vr.p=Gt[_r[0].toLowerCase()],kr+_r[0].length):-1}function Rt(vr,Vr,kr){var _r=zt.exec(Vr.slice(kr));return _r?(vr.w=$t[_r[0].toLowerCase()],kr+_r[0].length):-1}function Bt(vr,Vr,kr){var _r=Qt.exec(Vr.slice(kr));return _r?(vr.w=At[_r[0].toLowerCase()],kr+_r[0].length):-1}function Nt(vr,Vr,kr){var _r=Yt.exec(Vr.slice(kr));return _r?(vr.m=Kt[_r[0].toLowerCase()],kr+_r[0].length):-1}function Xt(vr,Vr,kr){var _r=Ar.exec(Vr.slice(kr));return _r?(vr.m=ut[_r[0].toLowerCase()],kr+_r[0].length):-1}function lr(vr,Vr,kr){return St(vr,we,Vr,kr)}function sr(vr,Vr,kr){return St(vr,xe,Vr,kr)}function dr(vr,Vr,kr){return St(vr,Ee,Vr,kr)}function je(vr){return $e[vr.getDay()]}function Ye(vr){return Ue[vr.getDay()]}function It(vr){return dt[vr.getMonth()]}function kt(vr){return qe[vr.getMonth()]}function jt(vr){return Pe[+(vr.getHours()>=12)]}function tr(vr){return 1+~~(vr.getMonth()/3)}function or(vr){return $e[vr.getUTCDay()]}function rr(vr){return Ue[vr.getUTCDay()]}function Ot(vr){return dt[vr.getUTCMonth()]}function hr(vr){return qe[vr.getUTCMonth()]}function gr(vr){return Pe[+(vr.getUTCHours()>=12)]}function pr(vr){return 1+~~(vr.getUTCMonth()/3)}return{format:function(vr){var Vr=st(vr+="",mr);return Vr.toString=function(){return vr},Vr},parse:function(vr){var Vr=xt(vr+="",!1);return Vr.toString=function(){return vr},Vr},utcFormat:function(vr){var Vr=st(vr+="",ur);return Vr.toString=function(){return vr},Vr},utcParse:function(vr){var Vr=xt(vr+="",!0);return Vr.toString=function(){return vr},Vr}}}var n={"-":"",_:" ",0:"0"},o=/^\s*\d+/,f=/^%/,u=/[\\^$*+?|[\]().{}]/g;function m(De,we,xe){var Ee=De<0?"-":"",Pe=(Ee?-De:De)+"",Ue=Pe.length;return Ee+(Ue<xe?new Array(xe-Ue+1).join(we)+Pe:Pe)}function c(De){return De.replace(u,"\\$&")}function A(De){return new RegExp("^(?:"+De.map(c).join("|")+")","i")}function h(De){for(var we={},xe=-1,Ee=De.length;++xe<Ee;)we[De[xe].toLowerCase()]=xe;return we}function l(De,we,xe){var Ee=o.exec(we.slice(xe,xe+1));return Ee?(De.w=+Ee[0],xe+Ee[0].length):-1}function p(De,we,xe){var Ee=o.exec(we.slice(xe,xe+1));return Ee?(De.u=+Ee[0],xe+Ee[0].length):-1}function M(De,we,xe){var Ee=o.exec(we.slice(xe,xe+2));return Ee?(De.U=+Ee[0],xe+Ee[0].length):-1}function S(De,we,xe){var Ee=o.exec(we.slice(xe,xe+2));return Ee?(De.V=+Ee[0],xe+Ee[0].length):-1}function P(De,we,xe){var Ee=o.exec(we.slice(xe,xe+2));return Ee?(De.W=+Ee[0],xe+Ee[0].length):-1}function x(De,we,xe){var Ee=o.exec(we.slice(xe,xe+4));return Ee?(De.y=+Ee[0],xe+Ee[0].length):-1}function E(De,we,xe){var Ee=o.exec(we.slice(xe,xe+2));return Ee?(De.y=+Ee[0]+(+Ee[0]>68?1900:2e3),xe+Ee[0].length):-1}function w(De,we,xe){var Ee=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(we.slice(xe,xe+6));return Ee?(De.Z=Ee[1]?0:-(Ee[2]+(Ee[3]||"00")),xe+Ee[0].length):-1}function i(De,we,xe){var Ee=o.exec(we.slice(xe,xe+1));return Ee?(De.q=Ee[0]*3-3,xe+Ee[0].length):-1}function L(De,we,xe){var Ee=o.exec(we.slice(xe,xe+2));return Ee?(De.m=Ee[0]-1,xe+Ee[0].length):-1}function b(De,we,xe){var Ee=o.exec(we.slice(xe,xe+2));return Ee?(De.d=+Ee[0],xe+Ee[0].length):-1}function O(De,we,xe){var Ee=o.exec(we.slice(xe,xe+3));return Ee?(De.m=0,De.d=+Ee[0],xe+Ee[0].length):-1}function _(De,we,xe){var Ee=o.exec(we.slice(xe,xe+2));return Ee?(De.H=+Ee[0],xe+Ee[0].length):-1}function N(De,we,xe){var Ee=o.exec(we.slice(xe,xe+2));return Ee?(De.M=+Ee[0],xe+Ee[0].length):-1}function z(De,we,xe){var Ee=o.exec(we.slice(xe,xe+2));return Ee?(De.S=+Ee[0],xe+Ee[0].length):-1}function B(De,we,xe){var Ee=o.exec(we.slice(xe,xe+3));return Ee?(De.L=+Ee[0],xe+Ee[0].length):-1}function U(De,we,xe){var Ee=o.exec(we.slice(xe,xe+6));return Ee?(De.L=Math.floor(Ee[0]/1e3),xe+Ee[0].length):-1}function F(De,we,xe){var Ee=f.exec(we.slice(xe,xe+1));return Ee?xe+Ee[0].length:-1}function V(De,we,xe){var Ee=o.exec(we.slice(xe));return Ee?(De.Q=+Ee[0],xe+Ee[0].length):-1}function j(De,we,xe){var Ee=o.exec(we.slice(xe));return Ee?(De.s=+Ee[0],xe+Ee[0].length):-1}function $(De,we){return m(De.getDate(),we,2)}function ne(De,we){return m(De.getHours(),we,2)}function oe(De,we){return m(De.getHours()%12||12,we,2)}function ce(De,we){return m(1+C.Z.count((0,T.Z)(De),De),we,3)}function Q(De,we){return m(De.getMilliseconds(),we,3)}function Z(De,we){return Q(De,we)+"000"}function K(De,we){return m(De.getMonth()+1,we,2)}function J(De,we){return m(De.getMinutes(),we,2)}function re(De,we){return m(De.getSeconds(),we,2)}function le(De){var we=De.getDay();return we===0?7:we}function q(De,we){return m(a.OM.count((0,T.Z)(De)-1,De),we,2)}function ee(De,we){var xe=De.getDay();return De=xe>=4||xe===0?(0,a.bL)(De):a.bL.ceil(De),m(a.bL.count((0,T.Z)(De),De)+((0,T.Z)(De).getDay()===4),we,2)}function ue(De){return De.getDay()}function se(De,we){return m(a.wA.count((0,T.Z)(De)-1,De),we,2)}function he(De,we){return m(De.getFullYear()%100,we,2)}function me(De,we){return m(De.getFullYear()%1e4,we,4)}function Ce(De){var we=De.getTimezoneOffset();return(we>0?"-":(we*=-1,"+"))+m(we/60|0,"0",2)+m(we%60,"0",2)}function Te(De,we){return m(De.getUTCDate(),we,2)}function Oe(De,we){return m(De.getUTCHours(),we,2)}function Ne(De,we){return m(De.getUTCHours()%12||12,we,2)}function Le(De,we){return m(1+R.Z.count((0,v.Z)(De),De),we,3)}function be(De,we){return m(De.getUTCMilliseconds(),we,3)}function Ae(De,we){return be(De,we)+"000"}function He(De,we){return m(De.getUTCMonth()+1,we,2)}function Ve(De,we){return m(De.getUTCMinutes(),we,2)}function ke(De,we){return m(De.getUTCSeconds(),we,2)}function Ge(De){var we=De.getUTCDay();return we===0?7:we}function it(De,we){return m(g.Ox.count((0,v.Z)(De)-1,De),we,2)}function et(De,we){var xe=De.getUTCDay();return De=xe>=4||xe===0?(0,g.hB)(De):g.hB.ceil(De),m(g.hB.count((0,v.Z)(De),De)+((0,v.Z)(De).getUTCDay()===4),we,2)}function tt(De){return De.getUTCDay()}function at(De,we){return m(g.l6.count((0,v.Z)(De)-1,De),we,2)}function vt(De,we){return m(De.getUTCFullYear()%100,we,2)}function yt(De,we){return m(De.getUTCFullYear()%1e4,we,4)}function gt(){return"+0000"}function Mt(){return"%"}function Ct(De){return+De}function Vt(De){return Math.floor(+De/1e3)}var Je,ze,_e;Be({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Be(De){return Je=s(De),ze=Je.format,Je.parse,_e=Je.utcFormat,Je.utcParse,Je}},82301:function(W,H,e){e.d(H,{a:function(){return C}});var g=e(30052),R=e(54263),a=(0,g.Z)(function(T){T.setHours(0,0,0,0)},function(T,v){T.setDate(T.getDate()+v)},function(T,v){return(v-T-(v.getTimezoneOffset()-T.getTimezoneOffset())*R.yB)/R.UD},function(T){return T.getDate()-1});H.Z=a;var C=a.range},54263:function(W,H,e){e.d(H,{UD:function(){return C},Y2:function(){return a},Ym:function(){return g},iM:function(){return T},yB:function(){return R}});var g=1e3,R=6e4,a=36e5,C=864e5,T=6048e5},81041:function(W,H,e){e.r(H),e.d(H,{timeDay:function(){return m.Z},timeDays:function(){return m.a},timeFriday:function(){return c.mC},timeFridays:function(){return c.b$},timeHour:function(){return f},timeHours:function(){return u},timeInterval:function(){return g.Z},timeMillisecond:function(){return a},timeMilliseconds:function(){return C},timeMinute:function(){return s},timeMinutes:function(){return n},timeMonday:function(){return c.wA},timeMondays:function(){return c.bJ},timeMonth:function(){return h},timeMonths:function(){return l},timeSaturday:function(){return c.EY},timeSaturdays:function(){return c.Ff},timeSecond:function(){return y},timeSeconds:function(){return t},timeSunday:function(){return c.OM},timeSundays:function(){return c.vm},timeThursday:function(){return c.bL},timeThursdays:function(){return c.$t},timeTuesday:function(){return c.sy},timeTuesdays:function(){return c.aU},timeWednesday:function(){return c.zg},timeWednesdays:function(){return c.Ld},timeWeek:function(){return c.OM},timeWeeks:function(){return c.vm},timeYear:function(){return p.Z},timeYears:function(){return p.g},utcDay:function(){return i.Z},utcDays:function(){return i.y},utcFriday:function(){return L.QQ},utcFridays:function(){return L.fz},utcHour:function(){return E},utcHours:function(){return w},utcMillisecond:function(){return a},utcMilliseconds:function(){return C},utcMinute:function(){return S},utcMinutes:function(){return P},utcMonday:function(){return L.l6},utcMondays:function(){return L.$3},utcMonth:function(){return O},utcMonths:function(){return _},utcSaturday:function(){return L.g4},utcSaturdays:function(){return L.Q_},utcSecond:function(){return y},utcSeconds:function(){return t},utcSunday:function(){return L.Ox},utcSundays:function(){return L.SU},utcThursday:function(){return L.hB},utcThursdays:function(){return L.xj},utcTuesday:function(){return L.J1},utcTuesdays:function(){return L.DK},utcWednesday:function(){return L.b3},utcWednesdays:function(){return L.uy},utcWeek:function(){return L.Ox},utcWeeks:function(){return L.SU},utcYear:function(){return N.Z},utcYears:function(){return N.D}});var g=e(30052),R=(0,g.Z)(function(){},function(z,B){z.setTime(+z+B)},function(z,B){return B-z});R.every=function(z){return z=Math.floor(z),!isFinite(z)||!(z>0)?null:z>1?(0,g.Z)(function(B){B.setTime(Math.floor(B/z)*z)},function(B,U){B.setTime(+B+U*z)},function(B,U){return(U-B)/z}):R};var a=R,C=R.range,T=e(54263),v=(0,g.Z)(function(z){z.setTime(z-z.getMilliseconds())},function(z,B){z.setTime(+z+B*T.Ym)},function(z,B){return(B-z)/T.Ym},function(z){return z.getUTCSeconds()}),y=v,t=v.range,r=(0,g.Z)(function(z){z.setTime(z-z.getMilliseconds()-z.getSeconds()*T.Ym)},function(z,B){z.setTime(+z+B*T.yB)},function(z,B){return(B-z)/T.yB},function(z){return z.getMinutes()}),s=r,n=r.range,o=(0,g.Z)(function(z){z.setTime(z-z.getMilliseconds()-z.getSeconds()*T.Ym-z.getMinutes()*T.yB)},function(z,B){z.setTime(+z+B*T.Y2)},function(z,B){return(B-z)/T.Y2},function(z){return z.getHours()}),f=o,u=o.range,m=e(82301),c=e(59879),A=(0,g.Z)(function(z){z.setDate(1),z.setHours(0,0,0,0)},function(z,B){z.setMonth(z.getMonth()+B)},function(z,B){return B.getMonth()-z.getMonth()+(B.getFullYear()-z.getFullYear())*12},function(z){return z.getMonth()}),h=A,l=A.range,p=e(34823),M=(0,g.Z)(function(z){z.setUTCSeconds(0,0)},function(z,B){z.setTime(+z+B*T.yB)},function(z,B){return(B-z)/T.yB},function(z){return z.getUTCMinutes()}),S=M,P=M.range,x=(0,g.Z)(function(z){z.setUTCMinutes(0,0,0)},function(z,B){z.setTime(+z+B*T.Y2)},function(z,B){return(B-z)/T.Y2},function(z){return z.getUTCHours()}),E=x,w=x.range,i=e(48480),L=e(58176),b=(0,g.Z)(function(z){z.setUTCDate(1),z.setUTCHours(0,0,0,0)},function(z,B){z.setUTCMonth(z.getUTCMonth()+B)},function(z,B){return B.getUTCMonth()-z.getUTCMonth()+(B.getUTCFullYear()-z.getUTCFullYear())*12},function(z){return z.getUTCMonth()}),O=b,_=b.range,N=e(79791)},30052:function(W,H,e){e.d(H,{Z:function(){return a}});var g=new Date,R=new Date;function a(C,T,v,y){function t(r){return C(r=arguments.length===0?new Date:new Date(+r)),r}return t.floor=function(r){return C(r=new Date(+r)),r},t.ceil=function(r){return C(r=new Date(r-1)),T(r,1),C(r),r},t.round=function(r){var s=t(r),n=t.ceil(r);return r-s<n-r?s:n},t.offset=function(r,s){return T(r=new Date(+r),s==null?1:Math.floor(s)),r},t.range=function(r,s,n){var o=[],f;if(r=t.ceil(r),n=n==null?1:Math.floor(n),!(r<s)||!(n>0))return o;do o.push(f=new Date(+r)),T(r,n),C(r);while(f<r&&r<s);return o},t.filter=function(r){return a(function(s){if(s>=s)for(;C(s),!r(s);)s.setTime(s-1)},function(s,n){if(s>=s)if(n<0)for(;++n<=0;)for(;T(s,-1),!r(s););else for(;--n>=0;)for(;T(s,1),!r(s););})},v&&(t.count=function(r,s){return g.setTime(+r),R.setTime(+s),C(g),C(R),Math.floor(v(g,R))},t.every=function(r){return r=Math.floor(r),!isFinite(r)||!(r>0)?null:r>1?t.filter(y?function(s){return y(s)%r===0}:function(s){return t.count(0,s)%r===0}):t}),t}},48480:function(W,H,e){e.d(H,{y:function(){return C}});var g=e(30052),R=e(54263),a=(0,g.Z)(function(T){T.setUTCHours(0,0,0,0)},function(T,v){T.setUTCDate(T.getUTCDate()+v)},function(T,v){return(v-T)/R.UD},function(T){return T.getUTCDate()-1});H.Z=a;var C=a.range},58176:function(W,H,e){e.d(H,{$3:function(){return o},DK:function(){return f},J1:function(){return v},Ox:function(){return C},QQ:function(){return r},Q_:function(){return A},SU:function(){return n},b3:function(){return y},fz:function(){return c},g4:function(){return s},hB:function(){return t},l6:function(){return T},uy:function(){return u},xj:function(){return m}});var g=e(30052),R=e(54263);function a(h){return(0,g.Z)(function(l){l.setUTCDate(l.getUTCDate()-(l.getUTCDay()+7-h)%7),l.setUTCHours(0,0,0,0)},function(l,p){l.setUTCDate(l.getUTCDate()+p*7)},function(l,p){return(p-l)/R.iM})}var C=a(0),T=a(1),v=a(2),y=a(3),t=a(4),r=a(5),s=a(6),n=C.range,o=T.range,f=v.range,u=y.range,m=t.range,c=r.range,A=s.range},79791:function(W,H,e){e.d(H,{D:function(){return a}});var g=e(30052),R=(0,g.Z)(function(C){C.setUTCMonth(0,1),C.setUTCHours(0,0,0,0)},function(C,T){C.setUTCFullYear(C.getUTCFullYear()+T)},function(C,T){return T.getUTCFullYear()-C.getUTCFullYear()},function(C){return C.getUTCFullYear()});R.every=function(C){return!isFinite(C=Math.floor(C))||!(C>0)?null:(0,g.Z)(function(T){T.setUTCFullYear(Math.floor(T.getUTCFullYear()/C)*C),T.setUTCMonth(0,1),T.setUTCHours(0,0,0,0)},function(T,v){T.setUTCFullYear(T.getUTCFullYear()+v*C)})},H.Z=R;var a=R.range},59879:function(W,H,e){e.d(H,{$t:function(){return m},EY:function(){return s},Ff:function(){return A},Ld:function(){return u},OM:function(){return C},aU:function(){return f},b$:function(){return c},bJ:function(){return o},bL:function(){return t},mC:function(){return r},sy:function(){return v},vm:function(){return n},wA:function(){return T},zg:function(){return y}});var g=e(30052),R=e(54263);function a(h){return(0,g.Z)(function(l){l.setDate(l.getDate()-(l.getDay()+7-h)%7),l.setHours(0,0,0,0)},function(l,p){l.setDate(l.getDate()+p*7)},function(l,p){return(p-l-(p.getTimezoneOffset()-l.getTimezoneOffset())*R.yB)/R.iM})}var C=a(0),T=a(1),v=a(2),y=a(3),t=a(4),r=a(5),s=a(6),n=C.range,o=T.range,f=v.range,u=y.range,m=t.range,c=r.range,A=s.range},34823:function(W,H,e){e.d(H,{g:function(){return a}});var g=e(30052),R=(0,g.Z)(function(C){C.setMonth(0,1),C.setHours(0,0,0,0)},function(C,T){C.setFullYear(C.getFullYear()+T)},function(C,T){return T.getFullYear()-C.getFullYear()},function(C){return C.getFullYear()});R.every=function(C){return!isFinite(C=Math.floor(C))||!(C>0)?null:(0,g.Z)(function(T){T.setFullYear(Math.floor(T.getFullYear()/C)*C),T.setMonth(0,1),T.setHours(0,0,0,0)},function(T,v){T.setFullYear(T.getFullYear()+v*C)})},H.Z=R;var a=R.range},17045:function(W,H,e){var g=e(8709),R=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",a=Object.prototype.toString,C=Array.prototype.concat,T=Object.defineProperty,v=function(n){return typeof n=="function"&&a.call(n)==="[object Function]"},y=e(55622)(),t=T&&y,r=function(n,o,f,u){if(o in n){if(u===!0){if(n[o]===f)return}else if(!v(u)||!u())return}t?T(n,o,{configurable:!0,enumerable:!1,value:f,writable:!0}):n[o]=f},s=function(n,o){var f=arguments.length>2?arguments[2]:{},u=g(o);R&&(u=C.call(u,Object.getOwnPropertySymbols(o)));for(var m=0;m<u.length;m+=1)r(n,u[m],o[u[m]],f[u[m]])};s.supportsDescriptors=!!t,W.exports=s},46775:function(W){W.exports=function(){for(var H=0;H<arguments.length;H++)if(arguments[H]!==void 0)return arguments[H]}},53545:function(W){W.exports=R;var H=R.canvas=document.createElement("canvas"),e=H.getContext("2d"),g=a([32,126]);R.createPairs=a,R.ascii=g;function R(C,T){Array.isArray(C)&&(C=C.join(", "));var v={},y,t=16,r=.05;T&&(T.length===2&&typeof T[0]=="number"?y=a(T):Array.isArray(T)?y=T:(T.o?y=a(T.o):T.pairs&&(y=T.pairs),T.fontSize&&(t=T.fontSize),T.threshold!=null&&(r=T.threshold))),y||(y=g),e.font=t+"px "+C;for(var s=0;s<y.length;s++){var n=y[s],o=e.measureText(n[0]).width+e.measureText(n[1]).width,f=e.measureText(n).width;if(Math.abs(o-f)>t*r){var u=(f-o)/t;v[n]=u*1e3}}return v}function a(C){for(var T=[],v=C[0];v<=C[1];v++)for(var y=String.fromCharCode(v),t=C[0];t<C[1];t++){var r=String.fromCharCode(t),s=y+r;T.push(s)}return T}},31457:function(W,H,e){var g=e(65185),R=e(18625),a={M:"moveTo",C:"bezierCurveTo"};W.exports=function(C,T){C.beginPath(),R(g(T)).forEach(function(v){var y=v[0],t=v.slice(1);C[a[y]].apply(C,t)}),C.closePath()}},90660:function(W){W.exports=function(H){switch(H){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},12129:function(W){function H(R,a,C){var T=R[C]|0;if(T<=0)return[];var v=new Array(T),y;if(C===R.length-1)for(y=0;y<T;++y)v[y]=a;else for(y=0;y<T;++y)v[y]=H(R,a,C+1);return v}function e(R,a){var C,T;for(C=new Array(R),T=0;T<R;++T)C[T]=a;return C}function g(R,a){switch(typeof a>"u"&&(a=0),typeof R){case"number":if(R>0)return e(R|0,a);break;case"object":if(typeof R.length=="number")return H(R,a,0);break}return[]}W.exports=g},11474:function(W){W.exports=H,W.exports.default=H;function H(_,N,z){z=z||2;var B=N&&N.length,U=B?N[0]*z:_.length,F=e(_,0,U,z,!0),V=[];if(!F||F.next===F.prev)return V;var j,$,ne,oe,ce,Q,Z;if(B&&(F=y(_,N,F,z)),_.length>80*z){j=ne=_[0],$=oe=_[1];for(var K=z;K<U;K+=z)ce=_[K],Q=_[K+1],ce<j&&(j=ce),Q<$&&($=Q),ce>ne&&(ne=ce),Q>oe&&(oe=Q);Z=Math.max(ne-j,oe-$),Z=Z!==0?1/Z:0}return R(F,V,z,j,$,Z),V}function e(_,N,z,B,U){var F,V;if(U===O(_,N,z,B)>0)for(F=N;F<z;F+=B)V=i(F,_[F],_[F+1],V);else for(F=z-B;F>=N;F-=B)V=i(F,_[F],_[F+1],V);return V&&l(V,V.next)&&(L(V),V=V.next),V}function g(_,N){if(!_)return _;N||(N=_);var z=_,B;do if(B=!1,!z.steiner&&(l(z,z.next)||h(z.prev,z,z.next)===0)){if(L(z),z=N=z.prev,z===z.next)break;B=!0}else z=z.next;while(B||z!==N);return N}function R(_,N,z,B,U,F,V){if(_){!V&&F&&o(_,B,U,F);for(var j=_,$,ne;_.prev!==_.next;){if($=_.prev,ne=_.next,F?C(_,B,U,F):a(_)){N.push($.i/z),N.push(_.i/z),N.push(ne.i/z),L(_),_=ne.next,j=ne.next;continue}if(_=ne,_===j){V?V===1?(_=T(g(_),N,z),R(_,N,z,B,U,F,2)):V===2&&v(_,N,z,B,U,F):R(g(_),N,z,B,U,F,1);break}}}}function a(_){var N=_.prev,z=_,B=_.next;if(h(N,z,B)>=0)return!1;for(var U=_.next.next;U!==_.prev;){if(c(N.x,N.y,z.x,z.y,B.x,B.y,U.x,U.y)&&h(U.prev,U,U.next)>=0)return!1;U=U.next}return!0}function C(_,N,z,B){var U=_.prev,F=_,V=_.next;if(h(U,F,V)>=0)return!1;for(var j=U.x<F.x?U.x<V.x?U.x:V.x:F.x<V.x?F.x:V.x,$=U.y<F.y?U.y<V.y?U.y:V.y:F.y<V.y?F.y:V.y,ne=U.x>F.x?U.x>V.x?U.x:V.x:F.x>V.x?F.x:V.x,oe=U.y>F.y?U.y>V.y?U.y:V.y:F.y>V.y?F.y:V.y,ce=u(j,$,N,z,B),Q=u(ne,oe,N,z,B),Z=_.prevZ,K=_.nextZ;Z&&Z.z>=ce&&K&&K.z<=Q;){if(Z!==_.prev&&Z!==_.next&&c(U.x,U.y,F.x,F.y,V.x,V.y,Z.x,Z.y)&&h(Z.prev,Z,Z.next)>=0||(Z=Z.prevZ,K!==_.prev&&K!==_.next&&c(U.x,U.y,F.x,F.y,V.x,V.y,K.x,K.y)&&h(K.prev,K,K.next)>=0))return!1;K=K.nextZ}for(;Z&&Z.z>=ce;){if(Z!==_.prev&&Z!==_.next&&c(U.x,U.y,F.x,F.y,V.x,V.y,Z.x,Z.y)&&h(Z.prev,Z,Z.next)>=0)return!1;Z=Z.prevZ}for(;K&&K.z<=Q;){if(K!==_.prev&&K!==_.next&&c(U.x,U.y,F.x,F.y,V.x,V.y,K.x,K.y)&&h(K.prev,K,K.next)>=0)return!1;K=K.nextZ}return!0}function T(_,N,z){var B=_;do{var U=B.prev,F=B.next.next;!l(U,F)&&p(U,B,B.next,F)&&x(U,F)&&x(F,U)&&(N.push(U.i/z),N.push(B.i/z),N.push(F.i/z),L(B),L(B.next),B=_=F),B=B.next}while(B!==_);return g(B)}function v(_,N,z,B,U,F){var V=_;do{for(var j=V.next.next;j!==V.prev;){if(V.i!==j.i&&A(V,j)){var $=w(V,j);V=g(V,V.next),$=g($,$.next),R(V,N,z,B,U,F),R($,N,z,B,U,F);return}j=j.next}V=V.next}while(V!==_)}function y(_,N,z,B){var U=[],F,V,j,$,ne;for(F=0,V=N.length;F<V;F++)j=N[F]*B,$=F<V-1?N[F+1]*B:_.length,ne=e(_,j,$,B,!1),ne===ne.next&&(ne.steiner=!0),U.push(m(ne));for(U.sort(t),F=0;F<U.length;F++)r(U[F],z),z=g(z,z.next);return z}function t(_,N){return _.x-N.x}function r(_,N){if(N=s(_,N),N){var z=w(N,_);g(N,N.next),g(z,z.next)}}function s(_,N){var z=N,B=_.x,U=_.y,F=-1/0,V;do{if(U<=z.y&&U>=z.next.y&&z.next.y!==z.y){var j=z.x+(U-z.y)*(z.next.x-z.x)/(z.next.y-z.y);if(j<=B&&j>F){if(F=j,j===B){if(U===z.y)return z;if(U===z.next.y)return z.next}V=z.x<z.next.x?z:z.next}}z=z.next}while(z!==N);if(!V)return null;if(B===F)return V;var $=V,ne=V.x,oe=V.y,ce=1/0,Q;z=V;do B>=z.x&&z.x>=ne&&B!==z.x&&c(U<oe?B:F,U,ne,oe,U<oe?F:B,U,z.x,z.y)&&(Q=Math.abs(U-z.y)/(B-z.x),x(z,_)&&(Q<ce||Q===ce&&(z.x>V.x||z.x===V.x&&n(V,z)))&&(V=z,ce=Q)),z=z.next;while(z!==$);return V}function n(_,N){return h(_.prev,_,N.prev)<0&&h(N.next,_,_.next)<0}function o(_,N,z,B){var U=_;do U.z===null&&(U.z=u(U.x,U.y,N,z,B)),U.prevZ=U.prev,U.nextZ=U.next,U=U.next;while(U!==_);U.prevZ.nextZ=null,U.prevZ=null,f(U)}function f(_){var N,z,B,U,F,V,j,$,ne=1;do{for(z=_,_=null,F=null,V=0;z;){for(V++,B=z,j=0,N=0;N<ne&&(j++,B=B.nextZ,!!B);N++);for($=ne;j>0||$>0&&B;)j!==0&&($===0||!B||z.z<=B.z)?(U=z,z=z.nextZ,j--):(U=B,B=B.nextZ,$--),F?F.nextZ=U:_=U,U.prevZ=F,F=U;z=B}F.nextZ=null,ne*=2}while(V>1);return _}function u(_,N,z,B,U){return _=32767*(_-z)*U,N=32767*(N-B)*U,_=(_|_<<8)&16711935,_=(_|_<<4)&252645135,_=(_|_<<2)&858993459,_=(_|_<<1)&1431655765,N=(N|N<<8)&16711935,N=(N|N<<4)&252645135,N=(N|N<<2)&858993459,N=(N|N<<1)&1431655765,_|N<<1}function m(_){var N=_,z=_;do(N.x<z.x||N.x===z.x&&N.y<z.y)&&(z=N),N=N.next;while(N!==_);return z}function c(_,N,z,B,U,F,V,j){return(U-V)*(N-j)-(_-V)*(F-j)>=0&&(_-V)*(B-j)-(z-V)*(N-j)>=0&&(z-V)*(F-j)-(U-V)*(B-j)>=0}function A(_,N){return _.next.i!==N.i&&_.prev.i!==N.i&&!P(_,N)&&(x(_,N)&&x(N,_)&&E(_,N)&&(h(_.prev,_,N.prev)||h(_,N.prev,N))||l(_,N)&&h(_.prev,_,_.next)>0&&h(N.prev,N,N.next)>0)}function h(_,N,z){return(N.y-_.y)*(z.x-N.x)-(N.x-_.x)*(z.y-N.y)}function l(_,N){return _.x===N.x&&_.y===N.y}function p(_,N,z,B){var U=S(h(_,N,z)),F=S(h(_,N,B)),V=S(h(z,B,_)),j=S(h(z,B,N));return!!(U!==F&&V!==j||U===0&&M(_,z,N)||F===0&&M(_,B,N)||V===0&&M(z,_,B)||j===0&&M(z,N,B))}function M(_,N,z){return N.x<=Math.max(_.x,z.x)&&N.x>=Math.min(_.x,z.x)&&N.y<=Math.max(_.y,z.y)&&N.y>=Math.min(_.y,z.y)}function S(_){return _>0?1:_<0?-1:0}function P(_,N){var z=_;do{if(z.i!==_.i&&z.next.i!==_.i&&z.i!==N.i&&z.next.i!==N.i&&p(z,z.next,_,N))return!0;z=z.next}while(z!==_);return!1}function x(_,N){return h(_.prev,_,_.next)<0?h(_,N,_.next)>=0&&h(_,_.prev,N)>=0:h(_,N,_.prev)<0||h(_,_.next,N)<0}function E(_,N){var z=_,B=!1,U=(_.x+N.x)/2,F=(_.y+N.y)/2;do z.y>F!=z.next.y>F&&z.next.y!==z.y&&U<(z.next.x-z.x)*(F-z.y)/(z.next.y-z.y)+z.x&&(B=!B),z=z.next;while(z!==_);return B}function w(_,N){var z=new b(_.i,_.x,_.y),B=new b(N.i,N.x,N.y),U=_.next,F=N.prev;return _.next=N,N.prev=_,z.next=U,U.prev=z,B.next=z,z.prev=B,F.next=B,B.prev=F,B}function i(_,N,z,B){var U=new b(_,N,z);return B?(U.next=B.next,U.prev=B,B.next.prev=U,B.next=U):(U.prev=U,U.next=U),U}function L(_){_.next.prev=_.prev,_.prev.next=_.next,_.prevZ&&(_.prevZ.nextZ=_.nextZ),_.nextZ&&(_.nextZ.prevZ=_.prevZ)}function b(_,N,z){this.i=_,this.x=N,this.y=z,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}H.deviation=function(_,N,z,B){var U=N&&N.length,F=U?N[0]*z:_.length,V=Math.abs(O(_,0,F,z));if(U)for(var j=0,$=N.length;j<$;j++){var ne=N[j]*z,oe=j<$-1?N[j+1]*z:_.length;V-=Math.abs(O(_,ne,oe,z))}var ce=0;for(j=0;j<B.length;j+=3){var Q=B[j]*z,Z=B[j+1]*z,K=B[j+2]*z;ce+=Math.abs((_[Q]-_[K])*(_[Z+1]-_[Q+1])-(_[Q]-_[Z])*(_[K+1]-_[Q+1]))}return V===0&&ce===0?0:Math.abs((ce-V)/V)};function O(_,N,z,B){for(var U=0,F=N,V=z-B;F<z;F+=B)U+=(_[V]-_[F])*(_[F+1]+_[V+1]),V=F;return U}H.flatten=function(_){for(var N=_[0][0].length,z={vertices:[],holes:[],dimensions:N},B=0,U=0;U<_.length;U++){for(var F=0;F<_[U].length;F++)for(var V=0;V<N;V++)z.vertices.push(_[U][F][V]);U>0&&(B+=_[U-1].length,z.holes.push(B))}return z}},2502:function(W,H,e){var g=e(68664);W.exports=function(a,C){var T=[],v=[],y=[],t={},r=[],s;function n(M){y[M]=!1,t.hasOwnProperty(M)&&Object.keys(t[M]).forEach(function(S){delete t[M][S],y[S]&&n(S)})}function o(M){var S=!1;v.push(M),y[M]=!0;var P,x;for(P=0;P<r[M].length;P++)x=r[M][P],x===s?(f(s,v),S=!0):y[x]||(S=o(x));if(S)n(M);else for(P=0;P<r[M].length;P++){x=r[M][P];var E=t[x];E||(E={},t[x]=E),E[x]=!0}return v.pop(),S}function f(M,S){var P=[].concat(S).concat(M);C?C(o):T.push(P)}function u(M){for(var S=0;S<a.length;S++)S<M&&(a[S]=[]),a[S]=a[S].filter(function(P){return P>=M})}function m(M){u(M);for(var S=a,P=g(S),x=P.components.filter(function(_){return _.length>1}),E=1/0,w,i=0;i<x.length;i++)for(var L=0;L<x[i].length;L++)x[i][L]<E&&(E=x[i][L],w=i);var b=x[w];if(!b)return!1;var O=a.map(function(_,N){return b.indexOf(N)===-1?[]:_.filter(function(z){return b.indexOf(z)!==-1})});return{leastVertex:E,adjList:O}}s=0;for(var c=a.length;s<c;){var A=m(s);if(s=A.leastVertex,r=A.adjList,r){for(var h=0;h<r.length;h++)for(var l=0;l<r[h].length;l++){var p=r[h][l];y[+p]=!1,t[p]={}}o(s),s=s+1}else s=c}if(!C)return T}},16134:function(W,H,e){var g=e(36672);W.exports=function(){return g(this).length=0,this}},4892:function(W,H,e){W.exports=e(64404)()?Array.from:e(49441)},64404:function(W){W.exports=function(){var H=Array.from,e,g;return typeof H!="function"?!1:(e=["raz","dwa"],g=H(e),!!(g&&g!==e&&g[1]==="dwa"))}},49441:function(W,H,e){var g=e(8260).iterator,R=e(73051),a=e(33717),C=e(35976),T=e(78513),v=e(36672),y=e(95296),t=e(87963),r=Array.isArray,s=Function.prototype.call,n={configurable:!0,enumerable:!0,writable:!0,value:null},o=Object.defineProperty;W.exports=function(f){var u=arguments[1],m=arguments[2],c,A,h,l,p,M,S,P,x,E;if(f=Object(v(f)),y(u)&&T(u),!this||this===Array||!a(this)){if(!u){if(R(f))return p=f.length,p!==1?Array.apply(null,f):(l=new Array(1),l[0]=f[0],l);if(r(f)){for(l=new Array(p=f.length),A=0;A<p;++A)l[A]=f[A];return l}}l=[]}else c=this;if(!r(f)){if((x=f[g])!==void 0){for(S=T(x).call(f),c&&(l=new c),P=S.next(),A=0;!P.done;)E=u?s.call(u,m,P.value,A):P.value,c?(n.value=E,o(l,A,n)):l[A]=E,P=S.next(),++A;p=A}else if(t(f)){for(p=f.length,c&&(l=new c),A=0,h=0;A<p;++A)E=f[A],A+1<p&&(M=E.charCodeAt(0),M>=55296&&M<=56319&&(E+=f[++A])),E=u?s.call(u,m,E,h):E,c?(n.value=E,o(l,h,n)):l[h]=E,++h;p=h}}if(p===void 0)for(p=C(f.length),c&&(l=new c(p)),A=0;A<p;++A)E=u?s.call(u,m,f[A],A):f[A],c?(n.value=E,o(l,A,n)):l[A]=E;return c&&(n.value=null,l.length=p),l}},73051:function(W){var H=Object.prototype.toString,e=H.call(function(){return arguments}());W.exports=function(g){return H.call(g)===e}},33717:function(W){var H=Object.prototype.toString,e=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);W.exports=function(g){return typeof g=="function"&&e(H.call(g))}},52345:function(W){W.exports=function(){}},9953:function(W,H,e){W.exports=e(90436)()?Math.sign:e(6069)},90436:function(W){W.exports=function(){var H=Math.sign;return typeof H!="function"?!1:H(10)===1&&H(-20)===-1}},6069:function(W){W.exports=function(H){return H=Number(H),isNaN(H)||H===0?H:H>0?1:-1}},56247:function(W,H,e){var g=e(9953),R=Math.abs,a=Math.floor;W.exports=function(C){return isNaN(C)?0:(C=Number(C),C===0||!isFinite(C)?C:g(C)*a(R(C)))}},35976:function(W,H,e){var g=e(56247),R=Math.max;W.exports=function(a){return R(0,g(a))}},67260:function(W,H,e){var g=e(78513),R=e(36672),a=Function.prototype.bind,C=Function.prototype.call,T=Object.keys,v=Object.prototype.propertyIsEnumerable;W.exports=function(y,t){return function(r,s){var n,o=arguments[2],f=arguments[3];return r=Object(R(r)),g(s),n=T(r),f&&n.sort(typeof f=="function"?a.call(f,r):void 0),typeof y!="function"&&(y=n[y]),C.call(y,n,function(u,m){return v.call(r,u)?C.call(s,o,r[u],u,r,m):t})}}},95879:function(W,H,e){W.exports=e(73583)()?Object.assign:e(34205)},73583:function(W){W.exports=function(){var H=Object.assign,e;return typeof H!="function"?!1:(e={foo:"raz"},H(e,{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},34205:function(W,H,e){var g=e(68700),R=e(36672),a=Math.max;W.exports=function(C,T){var v,y,t=a(arguments.length,2),r;for(C=Object(R(C)),r=function(s){try{C[s]=T[s]}catch(n){v||(v=n)}},y=1;y<t;++y)T=arguments[y],g(T).forEach(r);if(v!==void 0)throw v;return C}},19012:function(W,H,e){var g=e(4892),R=e(95879),a=e(36672);W.exports=function(C){var T=Object(a(C)),v=arguments[1],y=Object(arguments[2]);if(T!==C&&!v)return T;var t={};return v?g(v,function(r){(y.ensure||r in C)&&(t[r]=C[r])}):R(t,C),t}},52818:function(W,H,e){var g=Object.create,R;e(33247)()||(R=e(51882)),W.exports=function(){var a,C,T;return!R||R.level!==1?g:(a={},C={},T={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(v){if(v==="__proto__"){C[v]={configurable:!0,enumerable:!1,writable:!0,value:void 0};return}C[v]=T}),Object.defineProperties(a,C),Object.defineProperty(R,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:a}),function(v,y){return g(v===null?a:v,y)})}()},96437:function(W,H,e){W.exports=e(67260)("forEach")},99611:function(W,H,e){var g=e(95296),R={function:!0,object:!0};W.exports=function(a){return g(a)&&R[typeof a]||!1}},95296:function(W,H,e){var g=e(52345)();W.exports=function(R){return R!==g&&R!==null}},68700:function(W,H,e){W.exports=e(13895)()?Object.keys:e(25217)},13895:function(W){W.exports=function(){try{return Object.keys("primitive"),!0}catch{return!1}}},25217:function(W,H,e){var g=e(95296),R=Object.keys;W.exports=function(a){return R(g(a)?Object(a):a)}},16906:function(W,H,e){var g=e(78513),R=e(96437),a=Function.prototype.call;W.exports=function(C,T){var v={},y=arguments[2];return g(T),R(C,function(t,r,s,n){v[r]=a.call(T,y,t,r,s,n)}),v}},21780:function(W,H,e){var g=e(95296),R=Array.prototype.forEach,a=Object.create,C=function(T,v){var y;for(y in T)v[y]=T[y]};W.exports=function(T){var v=a(null);return R.call(arguments,function(y){g(y)&&C(Object(y),v)}),v}},1496:function(W,H,e){W.exports=e(33247)()?Object.setPrototypeOf:e(51882)},33247:function(W){var H=Object.create,e=Object.getPrototypeOf,g={};W.exports=function(){var R=Object.setPrototypeOf,a=arguments[0]||H;return typeof R!="function"?!1:e(R(a(null),g))===g}},51882:function(W,H,e){var g=e(99611),R=e(36672),a=Object.prototype.isPrototypeOf,C=Object.defineProperty,T={configurable:!0,enumerable:!1,writable:!0,value:void 0},v;v=function(y,t){if(R(y),t===null||g(t))return y;throw new TypeError("Prototype must be null or an object")},W.exports=function(y){var t,r;return y?(y.level===2?y.set?(r=y.set,t=function(s,n){return r.call(v(s,n),n),s}):t=function(s,n){return v(s,n).__proto__=n,s}:t=function s(n,o){var f;return v(n,o),f=a.call(s.nullPolyfill,n),f&&delete s.nullPolyfill.__proto__,o===null&&(o=s.nullPolyfill),n.__proto__=o,f&&C(s.nullPolyfill,"__proto__",T),n},Object.defineProperty(t,"level",{configurable:!1,enumerable:!1,writable:!1,value:y.level})):null}(function(){var y=Object.create(null),t={},r,s=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(s){try{r=s.set,r.call(y,t)}catch{}if(Object.getPrototypeOf(y)===t)return{set:r,level:2}}return y.__proto__=t,Object.getPrototypeOf(y)===t?{level:2}:(y={},y.__proto__=t,Object.getPrototypeOf(y)===t?{level:1}:!1)}()),e(52818)},78513:function(W){W.exports=function(H){if(typeof H!="function")throw new TypeError(H+" is not a function");return H}},98976:function(W,H,e){var g=e(99611);W.exports=function(R){if(!g(R))throw new TypeError(R+" is not an Object");return R}},36672:function(W,H,e){var g=e(95296);W.exports=function(R){if(!g(R))throw new TypeError("Cannot use null or undefined");return R}},66741:function(W,H,e){W.exports=e(17557)()?String.prototype.contains:e(60381)},17557:function(W){var H="razdwatrzy";W.exports=function(){return typeof H.contains!="function"?!1:H.contains("dwa")===!0&&H.contains("foo")===!1}},60381:function(W){var H=String.prototype.indexOf;W.exports=function(e){return H.call(this,e,arguments[1])>-1}},87963:function(W){var H=Object.prototype.toString,e=H.call("");W.exports=function(g){return typeof g=="string"||g&&typeof g=="object"&&(g instanceof String||H.call(g)===e)||!1}},43043:function(W){var H=Object.create(null),e=Math.random;W.exports=function(){var g;do g=e().toString(36).slice(2);while(H[g]);return g}},32411:function(W,H,e){var g=e(1496),R=e(66741),a=e(62072),C=e(8260),T=e(95426),v=Object.defineProperty,y;y=W.exports=function(t,r){if(!(this instanceof y))throw new TypeError("Constructor requires 'new'");T.call(this,t),r?R.call(r,"key+value")?r="key+value":R.call(r,"key")?r="key":r="value":r="value",v(this,"__kind__",a("",r))},g&&g(y,T),delete y.prototype.constructor,y.prototype=Object.create(T.prototype,{_resolve:a(function(t){return this.__kind__==="value"?this.__list__[t]:this.__kind__==="key+value"?[t,this.__list__[t]]:t})}),v(y.prototype,C.toStringTag,a("c","Array Iterator"))},27515:function(W,H,e){var g=e(73051),R=e(78513),a=e(87963),C=e(66661),T=Array.isArray,v=Function.prototype.call,y=Array.prototype.some;W.exports=function(t,r){var s,n=arguments[2],o,f,u,m,c,A,h;if(T(t)||g(t)?s="array":a(t)?s="string":t=C(t),R(r),f=function(){u=!0},s==="array"){y.call(t,function(l){return v.call(r,n,l,f),u});return}if(s==="string"){for(c=t.length,m=0;m<c&&(A=t[m],m+1<c&&(h=A.charCodeAt(0),h>=55296&&h<=56319&&(A+=t[++m])),v.call(r,n,A,f),!u);++m);return}for(o=t.next();!o.done;){if(v.call(r,n,o.value,f),u)return;o=t.next()}}},66661:function(W,H,e){var g=e(73051),R=e(87963),a=e(32411),C=e(259),T=e(58095),v=e(8260).iterator;W.exports=function(y){return typeof T(y)[v]=="function"?y[v]():g(y)?new a(y):R(y)?new C(y):new a(y)}},95426:function(W,H,e){var g=e(16134),R=e(95879),a=e(78513),C=e(36672),T=e(62072),v=e(55174),y=e(8260),t=Object.defineProperty,r=Object.defineProperties,s;W.exports=s=function(n,o){if(!(this instanceof s))throw new TypeError("Constructor requires 'new'");r(this,{__list__:T("w",C(n)),__context__:T("w",o),__nextIndex__:T("w",0)}),o&&(a(o.on),o.on("_add",this._onAdd),o.on("_delete",this._onDelete),o.on("_clear",this._onClear))},delete s.prototype.constructor,r(s.prototype,R({_next:T(function(){var n;if(this.__list__){if(this.__redo__&&(n=this.__redo__.shift(),n!==void 0))return n;if(this.__nextIndex__<this.__list__.length)return this.__nextIndex__++;this._unBind()}}),next:T(function(){return this._createResult(this._next())}),_createResult:T(function(n){return n===void 0?{done:!0,value:void 0}:{done:!1,value:this._resolve(n)}}),_resolve:T(function(n){return this.__list__[n]}),_unBind:T(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:T(function(){return"[object "+(this[y.toStringTag]||"Object")+"]"})},v({_onAdd:T(function(n){if(!(n>=this.__nextIndex__)){if(++this.__nextIndex__,!this.__redo__){t(this,"__redo__",T("c",[n]));return}this.__redo__.forEach(function(o,f){o>=n&&(this.__redo__[f]=++o)},this),this.__redo__.push(n)}}),_onDelete:T(function(n){var o;n>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(o=this.__redo__.indexOf(n),o!==-1&&this.__redo__.splice(o,1),this.__redo__.forEach(function(f,u){f>n&&(this.__redo__[u]=--f)},this)))}),_onClear:T(function(){this.__redo__&&g.call(this.__redo__),this.__nextIndex__=0})}))),t(s.prototype,y.iterator,T(function(){return this}))},35940:function(W,H,e){var g=e(73051),R=e(95296),a=e(87963),C=e(8260).iterator,T=Array.isArray;W.exports=function(v){return R(v)?T(v)||a(v)||g(v)?!0:typeof v[C]=="function":!1}},259:function(W,H,e){var g=e(1496),R=e(62072),a=e(8260),C=e(95426),T=Object.defineProperty,v;v=W.exports=function(y){if(!(this instanceof v))throw new TypeError("Constructor requires 'new'");y=String(y),C.call(this,y),T(this,"__length__",R("",y.length))},g&&g(v,C),delete v.prototype.constructor,v.prototype=Object.create(C.prototype,{_next:R(function(){if(this.__list__){if(this.__nextIndex__<this.__length__)return this.__nextIndex__++;this._unBind()}}),_resolve:R(function(y){var t=this.__list__[y],r;return this.__nextIndex__===this.__length__?t:(r=t.charCodeAt(0),r>=55296&&r<=56319?t+this.__list__[this.__nextIndex__++]:t)})}),T(v.prototype,a.toStringTag,R("c","String Iterator"))},58095:function(W,H,e){var g=e(35940);W.exports=function(R){if(!g(R))throw new TypeError(R+" is not iterable");return R}},73523:function(W){function H(g,R){if(g==null)throw new TypeError("Cannot convert first argument to object");for(var a=Object(g),C=1;C<arguments.length;C++){var T=arguments[C];if(T!=null)for(var v=Object.keys(Object(T)),y=0,t=v.length;y<t;y++){var r=v[y],s=Object.getOwnPropertyDescriptor(T,r);s!==void 0&&s.enumerable&&(a[r]=T[r])}}return a}function e(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:H})}W.exports={assign:H,polyfill:e}},8260:function(W,H,e){W.exports=e(69711)()?e(94908).Symbol:e(18415)},69711:function(W,H,e){var g=e(94908),R={object:!0,symbol:!0};W.exports=function(){var a=g.Symbol,C;if(typeof a!="function")return!1;C=a("test symbol");try{String(C)}catch{return!1}return!(!R[typeof a.iterator]||!R[typeof a.toPrimitive]||!R[typeof a.toStringTag])}},82276:function(W){W.exports=function(H){return H?typeof H=="symbol"?!0:!H.constructor||H.constructor.name!=="Symbol"?!1:H[H.constructor.toStringTag]==="Symbol":!1}},29366:function(W,H,e){var g=e(62072),R=Object.create,a=Object.defineProperty,C=Object.prototype,T=R(null);W.exports=function(v){for(var y=0,t,r;T[v+(y||"")];)++y;return v+=y||"",T[v]=!0,t="@@"+v,a(C,t,g.gs(null,function(s){r||(r=!0,a(this,t,g(s)),r=!1)})),t}},92842:function(W,H,e){var g=e(62072),R=e(94908).Symbol;W.exports=function(a){return Object.defineProperties(a,{hasInstance:g("",R&&R.hasInstance||a("hasInstance")),isConcatSpreadable:g("",R&&R.isConcatSpreadable||a("isConcatSpreadable")),iterator:g("",R&&R.iterator||a("iterator")),match:g("",R&&R.match||a("match")),replace:g("",R&&R.replace||a("replace")),search:g("",R&&R.search||a("search")),species:g("",R&&R.species||a("species")),split:g("",R&&R.split||a("split")),toPrimitive:g("",R&&R.toPrimitive||a("toPrimitive")),toStringTag:g("",R&&R.toStringTag||a("toStringTag")),unscopables:g("",R&&R.unscopables||a("unscopables"))})}},13304:function(W,H,e){var g=e(62072),R=e(53308),a=Object.create(null);W.exports=function(C){return Object.defineProperties(C,{for:g(function(T){return a[T]?a[T]:a[T]=C(String(T))}),keyFor:g(function(T){var v;R(T);for(v in a)if(a[v]===T)return v})})}},18415:function(W,H,e){var g=e(62072),R=e(53308),a=e(94908).Symbol,C=e(29366),T=e(92842),v=e(13304),y=Object.create,t=Object.defineProperties,r=Object.defineProperty,s,n,o;if(typeof a=="function")try{String(a()),o=!0}catch{}else a=null;n=function(u){if(this instanceof n)throw new TypeError("Symbol is not a constructor");return s(u)},W.exports=s=function f(u){var m;if(this instanceof f)throw new TypeError("Symbol is not a constructor");return o?a(u):(m=y(n.prototype),u=u===void 0?"":String(u),t(m,{__description__:g("",u),__name__:g("",C(u))}))},T(s),v(s),t(n.prototype,{constructor:g(s),toString:g("",function(){return this.__name__})}),t(s.prototype,{toString:g(function(){return"Symbol ("+R(this).__description__+")"}),valueOf:g(function(){return R(this)})}),r(s.prototype,s.toPrimitive,g("",function(){var f=R(this);return typeof f=="symbol"?f:f.toString()})),r(s.prototype,s.toStringTag,g("c","Symbol")),r(n.prototype,s.toStringTag,g("c",s.prototype[s.toStringTag])),r(n.prototype,s.toPrimitive,g("c",s.prototype[s.toPrimitive]))},53308:function(W,H,e){var g=e(82276);W.exports=function(R){if(!g(R))throw new TypeError(R+" is not a symbol");return R}},83522:function(W,H,e){W.exports=e(96402)()?WeakMap:e(329)},96402:function(W){W.exports=function(){var H,e;if(typeof WeakMap!="function")return!1;try{H=new WeakMap([[e={},"one"],[{},"two"],[{},"three"]])}catch{return!1}return!(String(H)!=="[object WeakMap]"||typeof H.set!="function"||H.set({},1)!==H||typeof H.delete!="function"||typeof H.has!="function"||H.get(e)!=="one")}},96416:function(W){W.exports=function(){return typeof WeakMap!="function"?!1:Object.prototype.toString.call(new WeakMap)==="[object WeakMap]"}()},329:function(W,H,e){var g=e(95296),R=e(1496),a=e(98976),C=e(36672),T=e(43043),v=e(62072),y=e(66661),t=e(27515),r=e(8260).toStringTag,s=e(96416),n=Array.isArray,o=Object.defineProperty,f=Object.prototype.hasOwnProperty,u=Object.getPrototypeOf,m;W.exports=m=function(){var c=arguments[0],A;if(!(this instanceof m))throw new TypeError("Constructor requires 'new'");return A=s&&R&&WeakMap!==m?R(new WeakMap,u(this)):this,g(c)&&(n(c)||(c=y(c))),o(A,"__weakMapData__",v("c","$weakMap$"+T())),c&&t(c,function(h){C(h),A.set(h[0],h[1])}),A},s&&(R&&R(m,WeakMap),m.prototype=Object.create(WeakMap.prototype,{constructor:v(m)})),Object.defineProperties(m.prototype,{delete:v(function(c){return f.call(a(c),this.__weakMapData__)?(delete c[this.__weakMapData__],!0):!1}),get:v(function(c){if(f.call(a(c),this.__weakMapData__))return c[this.__weakMapData__]}),has:v(function(c){return f.call(a(c),this.__weakMapData__)}),set:v(function(c,A){return o(a(c),this.__weakMapData__,v("c",A)),this}),toString:v(function(){return"[object WeakMap]"})}),o(m.prototype,r,v("c","WeakMap"))},15398:function(W){var H=typeof Reflect=="object"?Reflect:null,e=H&&typeof H.apply=="function"?H.apply:function(p,M,S){return Function.prototype.apply.call(p,M,S)},g;H&&typeof H.ownKeys=="function"?g=H.ownKeys:Object.getOwnPropertySymbols?g=function(p){return Object.getOwnPropertyNames(p).concat(Object.getOwnPropertySymbols(p))}:g=function(p){return Object.getOwnPropertyNames(p)};function R(l){console&&console.warn&&console.warn(l)}var a=Number.isNaN||function(p){return p!==p};function C(){C.init.call(this)}W.exports=C,W.exports.once=c,C.EventEmitter=C,C.prototype._events=void 0,C.prototype._eventsCount=0,C.prototype._maxListeners=void 0;var T=10;function v(l){if(typeof l!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof l)}Object.defineProperty(C,"defaultMaxListeners",{enumerable:!0,get:function(){return T},set:function(l){if(typeof l!="number"||l<0||a(l))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+l+".");T=l}}),C.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},C.prototype.setMaxListeners=function(p){if(typeof p!="number"||p<0||a(p))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+p+".");return this._maxListeners=p,this};function y(l){return l._maxListeners===void 0?C.defaultMaxListeners:l._maxListeners}C.prototype.getMaxListeners=function(){return y(this)},C.prototype.emit=function(p){for(var M=[],S=1;S<arguments.length;S++)M.push(arguments[S]);var P=p==="error",x=this._events;if(x!==void 0)P=P&&x.error===void 0;else if(!P)return!1;if(P){var E;if(M.length>0&&(E=M[0]),E instanceof Error)throw E;var w=new Error("Unhandled error."+(E?" ("+E.message+")":""));throw w.context=E,w}var i=x[p];if(i===void 0)return!1;if(typeof i=="function")e(i,this,M);else for(var L=i.length,b=f(i,L),S=0;S<L;++S)e(b[S],this,M);return!0};function t(l,p,M,S){var P,x,E;if(v(M),x=l._events,x===void 0?(x=l._events=Object.create(null),l._eventsCount=0):(x.newListener!==void 0&&(l.emit("newListener",p,M.listener?M.listener:M),x=l._events),E=x[p]),E===void 0)E=x[p]=M,++l._eventsCount;else if(typeof E=="function"?E=x[p]=S?[M,E]:[E,M]:S?E.unshift(M):E.push(M),P=y(l),P>0&&E.length>P&&!E.warned){E.warned=!0;var w=new Error("Possible EventEmitter memory leak detected. "+E.length+" "+String(p)+" listeners added. Use emitter.setMaxListeners() to increase limit");w.name="MaxListenersExceededWarning",w.emitter=l,w.type=p,w.count=E.length,R(w)}return l}C.prototype.addListener=function(p,M){return t(this,p,M,!1)},C.prototype.on=C.prototype.addListener,C.prototype.prependListener=function(p,M){return t(this,p,M,!0)};function r(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function s(l,p,M){var S={fired:!1,wrapFn:void 0,target:l,type:p,listener:M},P=r.bind(S);return P.listener=M,S.wrapFn=P,P}C.prototype.once=function(p,M){return v(M),this.on(p,s(this,p,M)),this},C.prototype.prependOnceListener=function(p,M){return v(M),this.prependListener(p,s(this,p,M)),this},C.prototype.removeListener=function(p,M){var S,P,x,E,w;if(v(M),P=this._events,P===void 0)return this;if(S=P[p],S===void 0)return this;if(S===M||S.listener===M)--this._eventsCount===0?this._events=Object.create(null):(delete P[p],P.removeListener&&this.emit("removeListener",p,S.listener||M));else if(typeof S!="function"){for(x=-1,E=S.length-1;E>=0;E--)if(S[E]===M||S[E].listener===M){w=S[E].listener,x=E;break}if(x<0)return this;x===0?S.shift():u(S,x),S.length===1&&(P[p]=S[0]),P.removeListener!==void 0&&this.emit("removeListener",p,w||M)}return this},C.prototype.off=C.prototype.removeListener,C.prototype.removeAllListeners=function(p){var M,S,P;if(S=this._events,S===void 0)return this;if(S.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):S[p]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete S[p]),this;if(arguments.length===0){var x=Object.keys(S),E;for(P=0;P<x.length;++P)E=x[P],E!=="removeListener"&&this.removeAllListeners(E);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(M=S[p],typeof M=="function")this.removeListener(p,M);else if(M!==void 0)for(P=M.length-1;P>=0;P--)this.removeListener(p,M[P]);return this};function n(l,p,M){var S=l._events;if(S===void 0)return[];var P=S[p];return P===void 0?[]:typeof P=="function"?M?[P.listener||P]:[P]:M?m(P):f(P,P.length)}C.prototype.listeners=function(p){return n(this,p,!0)},C.prototype.rawListeners=function(p){return n(this,p,!1)},C.listenerCount=function(l,p){return typeof l.listenerCount=="function"?l.listenerCount(p):o.call(l,p)},C.prototype.listenerCount=o;function o(l){var p=this._events;if(p!==void 0){var M=p[l];if(typeof M=="function")return 1;if(M!==void 0)return M.length}return 0}C.prototype.eventNames=function(){return this._eventsCount>0?g(this._events):[]};function f(l,p){for(var M=new Array(p),S=0;S<p;++S)M[S]=l[S];return M}function u(l,p){for(;p+1<l.length;p++)l[p]=l[p+1];l.pop()}function m(l){for(var p=new Array(l.length),M=0;M<p.length;++M)p[M]=l[M].listener||l[M];return p}function c(l,p){return new Promise(function(M,S){function P(E){l.removeListener(p,x),S(E)}function x(){typeof l.removeListener=="function"&&l.removeListener("error",P),M([].slice.call(arguments))}h(l,p,x,{once:!0}),p!=="error"&&A(l,P,{once:!0})})}function A(l,p,M){typeof l.on=="function"&&h(l,"error",p,M)}function h(l,p,M,S){if(typeof l.on=="function")S.once?l.once(p,M):l.on(p,M);else if(typeof l.addEventListener=="function")l.addEventListener(p,function P(x){S.once&&l.removeEventListener(p,P),M(x)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof l)}},60774:function(W){var H=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};W.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return H()}try{return __global__||H()}finally{delete Object.prototype.__global__}}()},94908:function(W,H,e){W.exports=e(51152)()?globalThis:e(60774)},51152:function(W){W.exports=function(){return typeof globalThis!="object"||!globalThis?!1:globalThis.Array===Array}},92770:function(W,H,e){var g=e(18546);W.exports=function(R){var a=typeof R;if(a==="string"){var C=R;if(R=+R,R===0&&g(C))return!1}else if(a!=="number")return!1;return R-R<1}},30120:function(W,H,e){var g=e(90660);W.exports=R;function R(a,C,T){if(!a)throw new TypeError("must specify data as first parameter");if(T=+(T||0)|0,Array.isArray(a)&&a[0]&&typeof a[0][0]=="number"){var v=a[0].length,y=a.length*v,t,r,s,n;(!C||typeof C=="string")&&(C=new(g(C||"float32"))(y+T));var o=C.length-T;if(y!==o)throw new Error("source length "+y+" ("+v+"x"+a.length+") does not match destination length "+o);for(t=0,s=T;t<a.length;t++)for(r=0;r<v;r++)C[s++]=a[t][r]===null?NaN:a[t][r]}else if(!C||typeof C=="string"){var f=g(C||"float32");if(Array.isArray(a)||C==="array")for(C=new f(a.length+T),t=0,s=T,n=C.length;s<n;s++,t++)C[s]=a[t]===null?NaN:a[t];else T===0?C=new f(a):(C=new f(a.length+T),C.set(a,T))}else C.set(a,T);return C}},68016:function(W,H,e){var g=e(53313),R=[32,126];W.exports=a;function a(C){C=C||{};var T=C.shape?C.shape:C.canvas?[C.canvas.width,C.canvas.height]:[512,512],v=C.canvas||document.createElement("canvas"),y=C.font,t=typeof C.step=="number"?[C.step,C.step]:C.step||[32,32],r=C.chars||R;if(y&&typeof y!="string"&&(y=g(y)),!Array.isArray(r))r=String(r).split("");else if(r.length===2&&typeof r[0]=="number"&&typeof r[1]=="number"){for(var s=[],n=r[0],o=0;n<=r[1];n++)s[o++]=String.fromCharCode(n);r=s}T=T.slice(),v.width=T[0],v.height=T[1];var f=v.getContext("2d");f.fillStyle="#000",f.fillRect(0,0,v.width,v.height),f.font=y,f.textAlign="center",f.textBaseline="middle",f.fillStyle="#fff";for(var u=t[0]/2,m=t[1]/2,n=0;n<r.length;n++)f.fillText(r[n],u,m),(u+=t[0])>T[0]-t[0]/2&&(u=t[0]/2,m+=t[1]);return v}},32879:function(W){W.exports=H,H.canvas=document.createElement("canvas"),H.cache={};function H(r,C){C||(C={}),(typeof r=="string"||Array.isArray(r))&&(C.family=r);var T=Array.isArray(C.family)?C.family.join(", "):C.family;if(!T)throw Error("`family` must be defined");var v=C.size||C.fontSize||C.em||48,y=C.weight||C.fontWeight||"",t=C.style||C.fontStyle||"",r=[t,y,v].join(" ")+"px "+T,s=C.origin||"top";if(H.cache[T]&&v<=H.cache[T].em)return e(H.cache[T],s);var n=C.canvas||H.canvas,o=n.getContext("2d"),f={upper:C.upper!==void 0?C.upper:"H",lower:C.lower!==void 0?C.lower:"x",descent:C.descent!==void 0?C.descent:"p",ascent:C.ascent!==void 0?C.ascent:"h",tittle:C.tittle!==void 0?C.tittle:"i",overshoot:C.overshoot!==void 0?C.overshoot:"O"},u=Math.ceil(v*1.5);n.height=u,n.width=u*.5,o.font=r;var m="H",c={top:0};o.clearRect(0,0,u,u),o.textBaseline="top",o.fillStyle="black",o.fillText(m,0,0);var A=g(o.getImageData(0,0,u,u));o.clearRect(0,0,u,u),o.textBaseline="bottom",o.fillText(m,0,u);var h=g(o.getImageData(0,0,u,u));c.lineHeight=c.bottom=u-h+A,o.clearRect(0,0,u,u),o.textBaseline="alphabetic",o.fillText(m,0,u);var l=g(o.getImageData(0,0,u,u)),p=u-l-1+A;c.baseline=c.alphabetic=p,o.clearRect(0,0,u,u),o.textBaseline="middle",o.fillText(m,0,u*.5);var M=g(o.getImageData(0,0,u,u));c.median=c.middle=u-M-1+A-u*.5,o.clearRect(0,0,u,u),o.textBaseline="hanging",o.fillText(m,0,u*.5);var S=g(o.getImageData(0,0,u,u));c.hanging=u-S-1+A-u*.5,o.clearRect(0,0,u,u),o.textBaseline="ideographic",o.fillText(m,0,u);var P=g(o.getImageData(0,0,u,u));if(c.ideographic=u-P-1+A,f.upper&&(o.clearRect(0,0,u,u),o.textBaseline="top",o.fillText(f.upper,0,0),c.upper=g(o.getImageData(0,0,u,u)),c.capHeight=c.baseline-c.upper),f.lower&&(o.clearRect(0,0,u,u),o.textBaseline="top",o.fillText(f.lower,0,0),c.lower=g(o.getImageData(0,0,u,u)),c.xHeight=c.baseline-c.lower),f.tittle&&(o.clearRect(0,0,u,u),o.textBaseline="top",o.fillText(f.tittle,0,0),c.tittle=g(o.getImageData(0,0,u,u))),f.ascent&&(o.clearRect(0,0,u,u),o.textBaseline="top",o.fillText(f.ascent,0,0),c.ascent=g(o.getImageData(0,0,u,u))),f.descent&&(o.clearRect(0,0,u,u),o.textBaseline="top",o.fillText(f.descent,0,0),c.descent=R(o.getImageData(0,0,u,u))),f.overshoot){o.clearRect(0,0,u,u),o.textBaseline="top",o.fillText(f.overshoot,0,0);var x=R(o.getImageData(0,0,u,u));c.overshoot=x-p}for(var E in c)c[E]/=v;return c.em=v,H.cache[T]=c,e(c,s)}function e(a,C){var T={};typeof C=="string"&&(C=a[C]);for(var v in a)v!=="em"&&(T[v]=a[v]-C);return T}function g(a){for(var C=a.height,T=a.data,v=3;v<T.length;v+=4)if(T[v]!==0)return Math.floor((v-3)*.25/C)}function R(a){for(var C=a.height,T=a.data,v=T.length-1;v>0;v-=4)if(T[v]!==0)return Math.floor((v-3)*.25/C)}},31353:function(W,H,e){var g=e(85395),R=Object.prototype.toString,a=Object.prototype.hasOwnProperty,C=function(r,s,n){for(var o=0,f=r.length;o<f;o++)a.call(r,o)&&(n==null?s(r[o],o,r):s.call(n,r[o],o,r))},T=function(r,s,n){for(var o=0,f=r.length;o<f;o++)n==null?s(r.charAt(o),o,r):s.call(n,r.charAt(o),o,r)},v=function(r,s,n){for(var o in r)a.call(r,o)&&(n==null?s(r[o],o,r):s.call(n,r[o],o,r))},y=function(r,s,n){if(!g(s))throw new TypeError("iterator must be a function");var o;arguments.length>=3&&(o=n),R.call(r)==="[object Array]"?C(r,s,o):typeof r=="string"?T(r,s,o):v(r,s,o)};W.exports=y},73047:function(W){var H="Function.prototype.bind called on incompatible ",e=Array.prototype.slice,g=Object.prototype.toString,R="[object Function]";W.exports=function(C){var T=this;if(typeof T!="function"||g.call(T)!==R)throw new TypeError(H+T);for(var v=e.call(arguments,1),y,t=function(){if(this instanceof y){var f=T.apply(this,v.concat(e.call(arguments)));return Object(f)===f?f:this}else return T.apply(C,v.concat(e.call(arguments)))},r=Math.max(0,T.length-v.length),s=[],n=0;n<r;n++)s.push("$"+n);if(y=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this,arguments); }")(t),T.prototype){var o=function(){};o.prototype=T.prototype,y.prototype=new o,o.prototype=null}return y}},77575:function(W,H,e){var g=e(73047);W.exports=Function.prototype.bind||g},86249:function(W){W.exports=H;function H(e,g){if(typeof e!="string")throw new TypeError("must specify type string");if(g=g||{},typeof document>"u"&&!g.canvas)return null;var R=g.canvas||document.createElement("canvas");typeof g.width=="number"&&(R.width=g.width),typeof g.height=="number"&&(R.height=g.height);var a=g,C;try{var T=[e];e.indexOf("webgl")===0&&T.push("experimental-"+e);for(var v=0;v<T.length;v++)if(C=R.getContext(T[v],a),C)return C}catch{C=null}return C||null}},68318:function(W,H,e){var g,R=SyntaxError,a=Function,C=TypeError,T=function(L){try{return a('"use strict"; return ('+L+").constructor;")()}catch{}},v=Object.getOwnPropertyDescriptor;if(v)try{v({},"")}catch{v=null}var y=function(){throw new C},t=v?function(){try{return arguments.callee,y}catch{try{return v(arguments,"callee").get}catch{return y}}}():y,r=e(57877)(),s=Object.getPrototypeOf||function(L){return L.__proto__},n={},o=typeof Uint8Array>"u"?g:s(Uint8Array),f={"%AggregateError%":typeof AggregateError>"u"?g:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?g:ArrayBuffer,"%ArrayIteratorPrototype%":r?s([][Symbol.iterator]()):g,"%AsyncFromSyncIteratorPrototype%":g,"%AsyncFunction%":n,"%AsyncGenerator%":n,"%AsyncGeneratorFunction%":n,"%AsyncIteratorPrototype%":n,"%Atomics%":typeof Atomics>"u"?g:Atomics,"%BigInt%":typeof BigInt>"u"?g:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?g:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?g:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?g:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?g:Float32Array,"%Float64Array%":typeof Float64Array>"u"?g:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?g:FinalizationRegistry,"%Function%":a,"%GeneratorFunction%":n,"%Int8Array%":typeof Int8Array>"u"?g:Int8Array,"%Int16Array%":typeof Int16Array>"u"?g:Int16Array,"%Int32Array%":typeof Int32Array>"u"?g:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":r?s(s([][Symbol.iterator]())):g,"%JSON%":typeof JSON=="object"?JSON:g,"%Map%":typeof Map>"u"?g:Map,"%MapIteratorPrototype%":typeof Map>"u"||!r?g:s(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?g:Promise,"%Proxy%":typeof Proxy>"u"?g:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?g:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?g:Set,"%SetIteratorPrototype%":typeof Set>"u"||!r?g:s(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?g:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":r?s(""[Symbol.iterator]()):g,"%Symbol%":r?Symbol:g,"%SyntaxError%":R,"%ThrowTypeError%":t,"%TypedArray%":o,"%TypeError%":C,"%Uint8Array%":typeof Uint8Array>"u"?g:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?g:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?g:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?g:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?g:WeakMap,"%WeakRef%":typeof WeakRef>"u"?g:WeakRef,"%WeakSet%":typeof WeakSet>"u"?g:WeakSet};try{null.error}catch(L){var u=s(s(L));f["%Error.prototype%"]=u}var m=function L(b){var O;if(b==="%AsyncFunction%")O=T("async function () {}");else if(b==="%GeneratorFunction%")O=T("function* () {}");else if(b==="%AsyncGeneratorFunction%")O=T("async function* () {}");else if(b==="%AsyncGenerator%"){var _=L("%AsyncGeneratorFunction%");_&&(O=_.prototype)}else if(b==="%AsyncIteratorPrototype%"){var N=L("%AsyncGenerator%");N&&(O=s(N.prototype))}return f[b]=O,O},c={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},A=e(77575),h=e(35065),l=A.call(Function.call,Array.prototype.concat),p=A.call(Function.apply,Array.prototype.splice),M=A.call(Function.call,String.prototype.replace),S=A.call(Function.call,String.prototype.slice),P=A.call(Function.call,RegExp.prototype.exec),x=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,E=/\\(\\)?/g,w=function(b){var O=S(b,0,1),_=S(b,-1);if(O==="%"&&_!=="%")throw new R("invalid intrinsic syntax, expected closing `%`");if(_==="%"&&O!=="%")throw new R("invalid intrinsic syntax, expected opening `%`");var N=[];return M(b,x,function(z,B,U,F){N[N.length]=U?M(F,E,"$1"):B||z}),N},i=function(b,O){var _=b,N;if(h(c,_)&&(N=c[_],_="%"+N[0]+"%"),h(f,_)){var z=f[_];if(z===n&&(z=m(_)),typeof z>"u"&&!O)throw new C("intrinsic "+b+" exists, but is not available. Please file an issue!");return{alias:N,name:_,value:z}}throw new R("intrinsic "+b+" does not exist!")};W.exports=function(b,O){if(typeof b!="string"||b.length===0)throw new C("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof O!="boolean")throw new C('"allowMissing" argument must be a boolean');if(P(/^%?[^%]*%?$/,b)===null)throw new R("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var _=w(b),N=_.length>0?_[0]:"",z=i("%"+N+"%",O),B=z.name,U=z.value,F=!1,V=z.alias;V&&(N=V[0],p(_,l([0,1],V)));for(var j=1,$=!0;j<_.length;j+=1){var ne=_[j],oe=S(ne,0,1),ce=S(ne,-1);if((oe==='"'||oe==="'"||oe==="`"||ce==='"'||ce==="'"||ce==="`")&&oe!==ce)throw new R("property names with quotes must have matching quotes");if((ne==="constructor"||!$)&&(F=!0),N+="."+ne,B="%"+N+"%",h(f,B))U=f[B];else if(U!=null){if(!(ne in U)){if(!O)throw new C("base intrinsic for "+b+" exists, but the property is not available.");return}if(v&&j+1>=_.length){var Q=v(U,ne);$=!!Q,$&&"get"in Q&&!("originalValue"in Q.get)?U=Q.get:U=U[ne]}else $=h(U,ne),U=U[ne];$&&!F&&(f[B]=U)}}return U}},85400:function(W){W.exports=H;function H(e,g){var R=g[0],a=g[1],C=g[2],T=g[3],v=g[4],y=g[5],t=g[6],r=g[7],s=g[8],n=g[9],o=g[10],f=g[11],u=g[12],m=g[13],c=g[14],A=g[15];return e[0]=y*(o*A-f*c)-n*(t*A-r*c)+m*(t*f-r*o),e[1]=-(a*(o*A-f*c)-n*(C*A-T*c)+m*(C*f-T*o)),e[2]=a*(t*A-r*c)-y*(C*A-T*c)+m*(C*r-T*t),e[3]=-(a*(t*f-r*o)-y*(C*f-T*o)+n*(C*r-T*t)),e[4]=-(v*(o*A-f*c)-s*(t*A-r*c)+u*(t*f-r*o)),e[5]=R*(o*A-f*c)-s*(C*A-T*c)+u*(C*f-T*o),e[6]=-(R*(t*A-r*c)-v*(C*A-T*c)+u*(C*r-T*t)),e[7]=R*(t*f-r*o)-v*(C*f-T*o)+s*(C*r-T*t),e[8]=v*(n*A-f*m)-s*(y*A-r*m)+u*(y*f-r*n),e[9]=-(R*(n*A-f*m)-s*(a*A-T*m)+u*(a*f-T*n)),e[10]=R*(y*A-r*m)-v*(a*A-T*m)+u*(a*r-T*y),e[11]=-(R*(y*f-r*n)-v*(a*f-T*n)+s*(a*r-T*y)),e[12]=-(v*(n*c-o*m)-s*(y*c-t*m)+u*(y*o-t*n)),e[13]=R*(n*c-o*m)-s*(a*c-C*m)+u*(a*o-C*n),e[14]=-(R*(y*c-t*m)-v*(a*c-C*m)+u*(a*t-C*y)),e[15]=R*(y*o-t*n)-v*(a*o-C*n)+s*(a*t-C*y),e}},42331:function(W){W.exports=H;function H(e){var g=new Float32Array(16);return g[0]=e[0],g[1]=e[1],g[2]=e[2],g[3]=e[3],g[4]=e[4],g[5]=e[5],g[6]=e[6],g[7]=e[7],g[8]=e[8],g[9]=e[9],g[10]=e[10],g[11]=e[11],g[12]=e[12],g[13]=e[13],g[14]=e[14],g[15]=e[15],g}},31042:function(W){W.exports=H;function H(e,g){return e[0]=g[0],e[1]=g[1],e[2]=g[2],e[3]=g[3],e[4]=g[4],e[5]=g[5],e[6]=g[6],e[7]=g[7],e[8]=g[8],e[9]=g[9],e[10]=g[10],e[11]=g[11],e[12]=g[12],e[13]=g[13],e[14]=g[14],e[15]=g[15],e}},11902:function(W){W.exports=H;function H(){var e=new Float32Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},89887:function(W){W.exports=H;function H(e){var g=e[0],R=e[1],a=e[2],C=e[3],T=e[4],v=e[5],y=e[6],t=e[7],r=e[8],s=e[9],n=e[10],o=e[11],f=e[12],u=e[13],m=e[14],c=e[15],A=g*v-R*T,h=g*y-a*T,l=g*t-C*T,p=R*y-a*v,M=R*t-C*v,S=a*t-C*y,P=r*u-s*f,x=r*m-n*f,E=r*c-o*f,w=s*m-n*u,i=s*c-o*u,L=n*c-o*m;return A*L-h*i+l*w+p*E-M*x+S*P}},27812:function(W){W.exports=H;function H(e,g){var R=g[0],a=g[1],C=g[2],T=g[3],v=R+R,y=a+a,t=C+C,r=R*v,s=a*v,n=a*y,o=C*v,f=C*y,u=C*t,m=T*v,c=T*y,A=T*t;return e[0]=1-n-u,e[1]=s+A,e[2]=o-c,e[3]=0,e[4]=s-A,e[5]=1-r-u,e[6]=f+m,e[7]=0,e[8]=o+c,e[9]=f-m,e[10]=1-r-n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},34045:function(W){W.exports=H;function H(e,g,R){var a,C,T,v=R[0],y=R[1],t=R[2],r=Math.sqrt(v*v+y*y+t*t);return Math.abs(r)<1e-6?null:(r=1/r,v*=r,y*=r,t*=r,a=Math.sin(g),C=Math.cos(g),T=1-C,e[0]=v*v*T+C,e[1]=y*v*T+t*a,e[2]=t*v*T-y*a,e[3]=0,e[4]=v*y*T-t*a,e[5]=y*y*T+C,e[6]=t*y*T+v*a,e[7]=0,e[8]=v*t*T+y*a,e[9]=y*t*T-v*a,e[10]=t*t*T+C,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}},45973:function(W){W.exports=H;function H(e,g,R){var a=g[0],C=g[1],T=g[2],v=g[3],y=a+a,t=C+C,r=T+T,s=a*y,n=a*t,o=a*r,f=C*t,u=C*r,m=T*r,c=v*y,A=v*t,h=v*r;return e[0]=1-(f+m),e[1]=n+h,e[2]=o-A,e[3]=0,e[4]=n-h,e[5]=1-(s+m),e[6]=u+c,e[7]=0,e[8]=o+A,e[9]=u-c,e[10]=1-(s+f),e[11]=0,e[12]=R[0],e[13]=R[1],e[14]=R[2],e[15]=1,e}},81472:function(W){W.exports=H;function H(e,g){return e[0]=g[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=g[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=g[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},14669:function(W){W.exports=H;function H(e,g){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=g[0],e[13]=g[1],e[14]=g[2],e[15]=1,e}},75262:function(W){W.exports=H;function H(e,g){var R=Math.sin(g),a=Math.cos(g);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=R,e[7]=0,e[8]=0,e[9]=-R,e[10]=a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},331:function(W){W.exports=H;function H(e,g){var R=Math.sin(g),a=Math.cos(g);return e[0]=a,e[1]=0,e[2]=-R,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=R,e[9]=0,e[10]=a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},11049:function(W){W.exports=H;function H(e,g){var R=Math.sin(g),a=Math.cos(g);return e[0]=a,e[1]=R,e[2]=0,e[3]=0,e[4]=-R,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},75195:function(W){W.exports=H;function H(e,g,R,a,C,T,v){var y=1/(R-g),t=1/(C-a),r=1/(T-v);return e[0]=T*2*y,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=T*2*t,e[6]=0,e[7]=0,e[8]=(R+g)*y,e[9]=(C+a)*t,e[10]=(v+T)*r,e[11]=-1,e[12]=0,e[13]=0,e[14]=v*T*2*r,e[15]=0,e}},71551:function(W){W.exports=H;function H(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},79576:function(W,H,e){W.exports={create:e(11902),clone:e(42331),copy:e(31042),identity:e(71551),transpose:e(88654),invert:e(95874),adjoint:e(85400),determinant:e(89887),multiply:e(91362),translate:e(31283),scale:e(10789),rotate:e(65074),rotateX:e(35545),rotateY:e(94918),rotateZ:e(15692),fromRotation:e(34045),fromRotationTranslation:e(45973),fromScaling:e(81472),fromTranslation:e(14669),fromXRotation:e(75262),fromYRotation:e(331),fromZRotation:e(11049),fromQuat:e(27812),frustum:e(75195),perspective:e(7864),perspectiveFromFieldOfView:e(35279),ortho:e(60378),lookAt:e(65551),str:e(6726)}},95874:function(W){W.exports=H;function H(e,g){var R=g[0],a=g[1],C=g[2],T=g[3],v=g[4],y=g[5],t=g[6],r=g[7],s=g[8],n=g[9],o=g[10],f=g[11],u=g[12],m=g[13],c=g[14],A=g[15],h=R*y-a*v,l=R*t-C*v,p=R*r-T*v,M=a*t-C*y,S=a*r-T*y,P=C*r-T*t,x=s*m-n*u,E=s*c-o*u,w=s*A-f*u,i=n*c-o*m,L=n*A-f*m,b=o*A-f*c,O=h*b-l*L+p*i+M*w-S*E+P*x;return O?(O=1/O,e[0]=(y*b-t*L+r*i)*O,e[1]=(C*L-a*b-T*i)*O,e[2]=(m*P-c*S+A*M)*O,e[3]=(o*S-n*P-f*M)*O,e[4]=(t*w-v*b-r*E)*O,e[5]=(R*b-C*w+T*E)*O,e[6]=(c*p-u*P-A*l)*O,e[7]=(s*P-o*p+f*l)*O,e[8]=(v*L-y*w+r*x)*O,e[9]=(a*w-R*L-T*x)*O,e[10]=(u*S-m*p+A*h)*O,e[11]=(n*p-s*S-f*h)*O,e[12]=(y*E-v*i-t*x)*O,e[13]=(R*i-a*E+C*x)*O,e[14]=(m*l-u*M-c*h)*O,e[15]=(s*M-n*l+o*h)*O,e):null}},65551:function(W,H,e){var g=e(71551);W.exports=R;function R(a,C,T,v){var y,t,r,s,n,o,f,u,m,c,A=C[0],h=C[1],l=C[2],p=v[0],M=v[1],S=v[2],P=T[0],x=T[1],E=T[2];return Math.abs(A-P)<1e-6&&Math.abs(h-x)<1e-6&&Math.abs(l-E)<1e-6?g(a):(f=A-P,u=h-x,m=l-E,c=1/Math.sqrt(f*f+u*u+m*m),f*=c,u*=c,m*=c,y=M*m-S*u,t=S*f-p*m,r=p*u-M*f,c=Math.sqrt(y*y+t*t+r*r),c?(c=1/c,y*=c,t*=c,r*=c):(y=0,t=0,r=0),s=u*r-m*t,n=m*y-f*r,o=f*t-u*y,c=Math.sqrt(s*s+n*n+o*o),c?(c=1/c,s*=c,n*=c,o*=c):(s=0,n=0,o=0),a[0]=y,a[1]=s,a[2]=f,a[3]=0,a[4]=t,a[5]=n,a[6]=u,a[7]=0,a[8]=r,a[9]=o,a[10]=m,a[11]=0,a[12]=-(y*A+t*h+r*l),a[13]=-(s*A+n*h+o*l),a[14]=-(f*A+u*h+m*l),a[15]=1,a)}},91362:function(W){W.exports=H;function H(e,g,R){var a=g[0],C=g[1],T=g[2],v=g[3],y=g[4],t=g[5],r=g[6],s=g[7],n=g[8],o=g[9],f=g[10],u=g[11],m=g[12],c=g[13],A=g[14],h=g[15],l=R[0],p=R[1],M=R[2],S=R[3];return e[0]=l*a+p*y+M*n+S*m,e[1]=l*C+p*t+M*o+S*c,e[2]=l*T+p*r+M*f+S*A,e[3]=l*v+p*s+M*u+S*h,l=R[4],p=R[5],M=R[6],S=R[7],e[4]=l*a+p*y+M*n+S*m,e[5]=l*C+p*t+M*o+S*c,e[6]=l*T+p*r+M*f+S*A,e[7]=l*v+p*s+M*u+S*h,l=R[8],p=R[9],M=R[10],S=R[11],e[8]=l*a+p*y+M*n+S*m,e[9]=l*C+p*t+M*o+S*c,e[10]=l*T+p*r+M*f+S*A,e[11]=l*v+p*s+M*u+S*h,l=R[12],p=R[13],M=R[14],S=R[15],e[12]=l*a+p*y+M*n+S*m,e[13]=l*C+p*t+M*o+S*c,e[14]=l*T+p*r+M*f+S*A,e[15]=l*v+p*s+M*u+S*h,e}},60378:function(W){W.exports=H;function H(e,g,R,a,C,T,v){var y=1/(g-R),t=1/(a-C),r=1/(T-v);return e[0]=-2*y,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*t,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*r,e[11]=0,e[12]=(g+R)*y,e[13]=(C+a)*t,e[14]=(v+T)*r,e[15]=1,e}},7864:function(W){W.exports=H;function H(e,g,R,a,C){var T=1/Math.tan(g/2),v=1/(a-C);return e[0]=T/R,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=T,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(C+a)*v,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*C*a*v,e[15]=0,e}},35279:function(W){W.exports=H;function H(e,g,R,a){var C=Math.tan(g.upDegrees*Math.PI/180),T=Math.tan(g.downDegrees*Math.PI/180),v=Math.tan(g.leftDegrees*Math.PI/180),y=Math.tan(g.rightDegrees*Math.PI/180),t=2/(v+y),r=2/(C+T);return e[0]=t,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=0,e[7]=0,e[8]=-((v-y)*t*.5),e[9]=(C-T)*r*.5,e[10]=a/(R-a),e[11]=-1,e[12]=0,e[13]=0,e[14]=a*R/(R-a),e[15]=0,e}},65074:function(W){W.exports=H;function H(e,g,R,a){var C=a[0],T=a[1],v=a[2],y=Math.sqrt(C*C+T*T+v*v),t,r,s,n,o,f,u,m,c,A,h,l,p,M,S,P,x,E,w,i,L,b,O,_;return Math.abs(y)<1e-6?null:(y=1/y,C*=y,T*=y,v*=y,t=Math.sin(R),r=Math.cos(R),s=1-r,n=g[0],o=g[1],f=g[2],u=g[3],m=g[4],c=g[5],A=g[6],h=g[7],l=g[8],p=g[9],M=g[10],S=g[11],P=C*C*s+r,x=T*C*s+v*t,E=v*C*s-T*t,w=C*T*s-v*t,i=T*T*s+r,L=v*T*s+C*t,b=C*v*s+T*t,O=T*v*s-C*t,_=v*v*s+r,e[0]=n*P+m*x+l*E,e[1]=o*P+c*x+p*E,e[2]=f*P+A*x+M*E,e[3]=u*P+h*x+S*E,e[4]=n*w+m*i+l*L,e[5]=o*w+c*i+p*L,e[6]=f*w+A*i+M*L,e[7]=u*w+h*i+S*L,e[8]=n*b+m*O+l*_,e[9]=o*b+c*O+p*_,e[10]=f*b+A*O+M*_,e[11]=u*b+h*O+S*_,g!==e&&(e[12]=g[12],e[13]=g[13],e[14]=g[14],e[15]=g[15]),e)}},35545:function(W){W.exports=H;function H(e,g,R){var a=Math.sin(R),C=Math.cos(R),T=g[4],v=g[5],y=g[6],t=g[7],r=g[8],s=g[9],n=g[10],o=g[11];return g!==e&&(e[0]=g[0],e[1]=g[1],e[2]=g[2],e[3]=g[3],e[12]=g[12],e[13]=g[13],e[14]=g[14],e[15]=g[15]),e[4]=T*C+r*a,e[5]=v*C+s*a,e[6]=y*C+n*a,e[7]=t*C+o*a,e[8]=r*C-T*a,e[9]=s*C-v*a,e[10]=n*C-y*a,e[11]=o*C-t*a,e}},94918:function(W){W.exports=H;function H(e,g,R){var a=Math.sin(R),C=Math.cos(R),T=g[0],v=g[1],y=g[2],t=g[3],r=g[8],s=g[9],n=g[10],o=g[11];return g!==e&&(e[4]=g[4],e[5]=g[5],e[6]=g[6],e[7]=g[7],e[12]=g[12],e[13]=g[13],e[14]=g[14],e[15]=g[15]),e[0]=T*C-r*a,e[1]=v*C-s*a,e[2]=y*C-n*a,e[3]=t*C-o*a,e[8]=T*a+r*C,e[9]=v*a+s*C,e[10]=y*a+n*C,e[11]=t*a+o*C,e}},15692:function(W){W.exports=H;function H(e,g,R){var a=Math.sin(R),C=Math.cos(R),T=g[0],v=g[1],y=g[2],t=g[3],r=g[4],s=g[5],n=g[6],o=g[7];return g!==e&&(e[8]=g[8],e[9]=g[9],e[10]=g[10],e[11]=g[11],e[12]=g[12],e[13]=g[13],e[14]=g[14],e[15]=g[15]),e[0]=T*C+r*a,e[1]=v*C+s*a,e[2]=y*C+n*a,e[3]=t*C+o*a,e[4]=r*C-T*a,e[5]=s*C-v*a,e[6]=n*C-y*a,e[7]=o*C-t*a,e}},10789:function(W){W.exports=H;function H(e,g,R){var a=R[0],C=R[1],T=R[2];return e[0]=g[0]*a,e[1]=g[1]*a,e[2]=g[2]*a,e[3]=g[3]*a,e[4]=g[4]*C,e[5]=g[5]*C,e[6]=g[6]*C,e[7]=g[7]*C,e[8]=g[8]*T,e[9]=g[9]*T,e[10]=g[10]*T,e[11]=g[11]*T,e[12]=g[12],e[13]=g[13],e[14]=g[14],e[15]=g[15],e}},6726:function(W){W.exports=H;function H(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}},31283:function(W){W.exports=H;function H(e,g,R){var a=R[0],C=R[1],T=R[2],v,y,t,r,s,n,o,f,u,m,c,A;return g===e?(e[12]=g[0]*a+g[4]*C+g[8]*T+g[12],e[13]=g[1]*a+g[5]*C+g[9]*T+g[13],e[14]=g[2]*a+g[6]*C+g[10]*T+g[14],e[15]=g[3]*a+g[7]*C+g[11]*T+g[15]):(v=g[0],y=g[1],t=g[2],r=g[3],s=g[4],n=g[5],o=g[6],f=g[7],u=g[8],m=g[9],c=g[10],A=g[11],e[0]=v,e[1]=y,e[2]=t,e[3]=r,e[4]=s,e[5]=n,e[6]=o,e[7]=f,e[8]=u,e[9]=m,e[10]=c,e[11]=A,e[12]=v*a+s*C+u*T+g[12],e[13]=y*a+n*C+m*T+g[13],e[14]=t*a+o*C+c*T+g[14],e[15]=r*a+f*C+A*T+g[15]),e}},88654:function(W){W.exports=H;function H(e,g){if(e===g){var R=g[1],a=g[2],C=g[3],T=g[6],v=g[7],y=g[11];e[1]=g[4],e[2]=g[8],e[3]=g[12],e[4]=R,e[6]=g[9],e[7]=g[13],e[8]=a,e[9]=T,e[11]=g[14],e[12]=C,e[13]=v,e[14]=y}else e[0]=g[0],e[1]=g[4],e[2]=g[8],e[3]=g[12],e[4]=g[1],e[5]=g[5],e[6]=g[9],e[7]=g[13],e[8]=g[2],e[9]=g[6],e[10]=g[10],e[11]=g[14],e[12]=g[3],e[13]=g[7],e[14]=g[11],e[15]=g[15];return e}},42505:function(W,H,e){var g=e(72791),R=e(71299),a=e(98580),C=e(12018),T=e(83522),v=e(25075),y=e(68016),t=e(58404),r=e(18863),s=e(10973),n=e(25677),o=e(75686),f=e(53545),u=e(56131),m=e(32879),c=e(30120),A=e(13547),h=A.nextPow2,l=new T,p=!1;if(document.body){var M=document.body.appendChild(document.createElement("div"));M.style.font="italic small-caps bold condensed 16px/2 cursive",getComputedStyle(M).fontStretch&&(p=!0),document.body.removeChild(M)}var S=function(E){P(E)?(E={regl:E},this.gl=E.regl._gl):this.gl=C(E),this.shader=l.get(this.gl),this.shader?this.regl=this.shader.regl:this.regl=E.regl||a({gl:this.gl}),this.charBuffer=this.regl.buffer({type:"uint8",usage:"stream"}),this.sizeBuffer=this.regl.buffer({type:"float",usage:"stream"}),this.shader||(this.shader=this.createShader(),l.set(this.gl,this.shader)),this.batch=[],this.fontSize=[],this.font=[],this.fontAtlas=[],this.draw=this.shader.draw.bind(this),this.render=function(){this.regl._refresh(),this.draw(this.batch)},this.canvas=this.gl.canvas,this.update(s(E)?E:{})};S.prototype.createShader=function(){var E=this.regl,w=E({blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},stencil:{enable:!1},depth:{enable:!1},count:E.prop("count"),offset:E.prop("offset"),attributes:{charOffset:{offset:4,stride:8,buffer:E.this("sizeBuffer")},width:{offset:0,stride:8,buffer:E.this("sizeBuffer")},char:E.this("charBuffer"),position:E.this("position")},uniforms:{atlasSize:function(L,b){return[b.atlas.width,b.atlas.height]},atlasDim:function(L,b){return[b.atlas.cols,b.atlas.rows]},atlas:function(L,b){return b.atlas.texture},charStep:function(L,b){return b.atlas.step},em:function(L,b){return b.atlas.em},color:E.prop("color"),opacity:E.prop("opacity"),viewport:E.this("viewportArray"),scale:E.this("scale"),align:E.prop("align"),baseline:E.prop("baseline"),translate:E.this("translate"),positionOffset:E.prop("positionOffset")},primitive:"points",viewport:E.this("viewport"),vert:`
			precision highp float;
			attribute float width, charOffset, char;
			attribute vec2 position;
			uniform float fontSize, charStep, em, align, baseline;
			uniform vec4 viewport;
			uniform vec4 color;
			uniform vec2 atlasSize, atlasDim, scale, translate, positionOffset;
			varying vec2 charCoord, charId;
			varying float charWidth;
			varying vec4 fontColor;
			void main () {
				vec2 offset = floor(em * (vec2(align + charOffset, baseline)
					+ vec2(positionOffset.x, -positionOffset.y)))
					/ (viewport.zw * scale.xy);

				vec2 position = (position + translate) * scale;
				position += offset * scale;

				charCoord = position * viewport.zw + viewport.xy;

				gl_Position = vec4(position * 2. - 1., 0, 1);

				gl_PointSize = charStep;

				charId.x = mod(char, atlasDim.x);
				charId.y = floor(char / atlasDim.x);

				charWidth = width * em;

				fontColor = color / 255.;
			}`,frag:`
			precision highp float;
			uniform float fontSize, charStep, opacity;
			uniform vec2 atlasSize;
			uniform vec4 viewport;
			uniform sampler2D atlas;
			varying vec4 fontColor;
			varying vec2 charCoord, charId;
			varying float charWidth;

			float lightness(vec4 color) {
				return color.r * 0.299 + color.g * 0.587 + color.b * 0.114;
			}

			void main () {
				vec2 uv = gl_FragCoord.xy - charCoord + charStep * .5;
				float halfCharStep = floor(charStep * .5 + .5);

				// invert y and shift by 1px (FF expecially needs that)
				uv.y = charStep - uv.y;

				// ignore points outside of character bounding box
				float halfCharWidth = ceil(charWidth * .5);
				if (floor(uv.x) > halfCharStep + halfCharWidth ||
					floor(uv.x) < halfCharStep - halfCharWidth) return;

				uv += charId * charStep;
				uv = uv / atlasSize;

				vec4 color = fontColor;
				vec4 mask = texture2D(atlas, uv);

				float maskY = lightness(mask);
				// float colorY = lightness(color);
				color.a *= maskY;
				color.a *= opacity;

				// color.a += .1;

				// antialiasing, see yiq color space y-channel formula
				// color.rgb += (1. - color.rgb) * (1. - mask.rgb);

				gl_FragColor = color;
			}`}),i={};return{regl:E,draw:w,atlas:i}},S.prototype.update=function(E){var w=this;if(typeof E=="string")E={text:E};else if(!E)return;E=R(E,{position:"position positions coord coords coordinates",font:"font fontFace fontface typeface cssFont css-font family fontFamily",fontSize:"fontSize fontsize size font-size",text:"text texts chars characters value values symbols",align:"align alignment textAlign textbaseline",baseline:"baseline textBaseline textbaseline",direction:"dir direction textDirection",color:"color colour fill fill-color fillColor textColor textcolor",kerning:"kerning kern",range:"range dataBox",viewport:"vp viewport viewBox viewbox viewPort",opacity:"opacity alpha transparency visible visibility opaque",offset:"offset positionOffset padding shift indent indentation"},!0),E.opacity!=null&&(Array.isArray(E.opacity)?this.opacity=E.opacity.map(function(ke){return parseFloat(ke)}):this.opacity=parseFloat(E.opacity)),E.viewport!=null&&(this.viewport=r(E.viewport),this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),this.viewport==null&&(this.viewport={x:0,y:0,width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight},this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),E.kerning!=null&&(this.kerning=E.kerning),E.offset!=null&&(typeof E.offset=="number"&&(E.offset=[E.offset,0]),this.positionOffset=c(E.offset)),E.direction&&(this.direction=E.direction),E.range&&(this.range=E.range,this.scale=[1/(E.range[2]-E.range[0]),1/(E.range[3]-E.range[1])],this.translate=[-E.range[0],-E.range[1]]),E.scale&&(this.scale=E.scale),E.translate&&(this.translate=E.translate),this.scale||(this.scale=[1/this.viewport.width,1/this.viewport.height]),this.translate||(this.translate=[0,0]),!this.font.length&&!E.font&&(E.font=S.baseFontSize+"px sans-serif");var i=!1,L=!1;if(E.font&&(Array.isArray(E.font)?E.font:[E.font]).forEach(function(ke,Ge){if(typeof ke=="string")try{ke=g.parse(ke)}catch{ke=g.parse(S.baseFontSize+"px "+ke)}else ke=g.parse(g.stringify(ke));var it=g.stringify({size:S.baseFontSize,family:ke.family,stretch:p?ke.stretch:void 0,variant:ke.variant,weight:ke.weight,style:ke.style}),et=n(ke.size),tt=Math.round(et[0]*o(et[1]));if(tt!==w.fontSize[Ge]&&(L=!0,w.fontSize[Ge]=tt),(!w.font[Ge]||it!=w.font[Ge].baseString)&&(i=!0,w.font[Ge]=S.fonts[it],!w.font[Ge])){var at=ke.family.join(", "),vt=[ke.style];ke.style!=ke.variant&&vt.push(ke.variant),ke.variant!=ke.weight&&vt.push(ke.weight),p&&ke.weight!=ke.stretch&&vt.push(ke.stretch),w.font[Ge]={baseString:it,family:at,weight:ke.weight,stretch:ke.stretch,style:ke.style,variant:ke.variant,width:{},kerning:{},metrics:m(at,{origin:"top",fontSize:S.baseFontSize,fontStyle:vt.join(" ")})},S.fonts[it]=w.font[Ge]}}),(i||L)&&this.font.forEach(function(ke,Ge){var it=g.stringify({size:w.fontSize[Ge],family:ke.family,stretch:p?ke.stretch:void 0,variant:ke.variant,weight:ke.weight,style:ke.style});if(w.fontAtlas[Ge]=w.shader.atlas[it],!w.fontAtlas[Ge]){var et=ke.metrics;w.shader.atlas[it]=w.fontAtlas[Ge]={fontString:it,step:Math.ceil(w.fontSize[Ge]*et.bottom*.5)*2,em:w.fontSize[Ge],cols:0,rows:0,height:0,width:0,chars:[],ids:{},texture:w.regl.texture()}}E.text==null&&(E.text=w.text)}),typeof E.text=="string"&&E.position&&E.position.length>2){for(var b=Array(E.position.length*.5),O=0;O<b.length;O++)b[O]=E.text;E.text=b}var _;if(E.text!=null||i){if(this.textOffsets=[0],Array.isArray(E.text)){this.count=E.text[0].length,this.counts=[this.count];for(var N=1;N<E.text.length;N++)this.textOffsets[N]=this.textOffsets[N-1]+E.text[N-1].length,this.count+=E.text[N].length,this.counts.push(E.text[N].length);this.text=E.text.join("")}else this.text=E.text,this.count=this.text.length,this.counts=[this.count];_=[],this.font.forEach(function(ke,Ge){S.atlasContext.font=ke.baseString;for(var it=w.fontAtlas[Ge],et=0;et<w.text.length;et++){var tt=w.text.charAt(et);if(it.ids[tt]==null&&(it.ids[tt]=it.chars.length,it.chars.push(tt),_.push(tt)),ke.width[tt]==null&&(ke.width[tt]=S.atlasContext.measureText(tt).width/S.baseFontSize,w.kerning)){var at=[];for(var vt in ke.width)at.push(vt+tt,tt+vt);u(ke.kerning,f(ke.family,{pairs:at}))}}})}if(E.position)if(E.position.length>2){for(var z=!E.position[0].length,B=t.mallocFloat(this.count*2),U=0,F=0;U<this.counts.length;U++){var V=this.counts[U];if(z)for(var j=0;j<V;j++)B[F++]=E.position[U*2],B[F++]=E.position[U*2+1];else for(var $=0;$<V;$++)B[F++]=E.position[U][0],B[F++]=E.position[U][1]}this.position.call?this.position({type:"float",data:B}):this.position=this.regl.buffer({type:"float",data:B}),t.freeFloat(B)}else this.position.destroy&&this.position.destroy(),this.position={constant:E.position};if(E.text||i){var ne=t.mallocUint8(this.count),oe=t.mallocFloat(this.count*2);this.textWidth=[];for(var ce=0,Q=0;ce<this.counts.length;ce++){for(var Z=this.counts[ce],K=this.font[ce]||this.font[0],J=this.fontAtlas[ce]||this.fontAtlas[0],re=0;re<Z;re++){var le=this.text.charAt(Q),q=this.text.charAt(Q-1);if(ne[Q]=J.ids[le],oe[Q*2]=K.width[le],re){var ee=oe[Q*2-2],ue=oe[Q*2],se=oe[Q*2-1],he=se+ee*.5+ue*.5;if(this.kerning){var me=K.kerning[q+le];me&&(he+=me*.001)}oe[Q*2+1]=he}else oe[Q*2+1]=oe[Q*2]*.5;Q++}this.textWidth.push(oe.length?oe[Q*2-2]*.5+oe[Q*2-1]:0)}E.align||(E.align=this.align),this.charBuffer({data:ne,type:"uint8",usage:"stream"}),this.sizeBuffer({data:oe,type:"float",usage:"stream"}),t.freeUint8(ne),t.freeFloat(oe),_.length&&this.font.forEach(function(ke,Ge){var it=w.fontAtlas[Ge],et=it.step,tt=Math.floor(S.maxAtlasSize/et),at=Math.min(tt,it.chars.length),vt=Math.ceil(it.chars.length/at),yt=h(at*et),gt=h(vt*et);it.width=yt,it.height=gt,it.rows=vt,it.cols=at,it.em&&it.texture({data:y({canvas:S.atlasCanvas,font:it.fontString,chars:it.chars,shape:[yt,gt],step:[et,et]})})})}if(E.align&&(this.align=E.align,this.alignOffset=this.textWidth.map(function(ke,Ge){var it=Array.isArray(w.align)?w.align.length>1?w.align[Ge]:w.align[0]:w.align;if(typeof it=="number")return it;switch(it){case"right":case"end":return-ke;case"center":case"centre":case"middle":return-ke*.5}return 0})),this.baseline==null&&E.baseline==null&&(E.baseline=0),E.baseline!=null&&(this.baseline=E.baseline,Array.isArray(this.baseline)||(this.baseline=[this.baseline]),this.baselineOffset=this.baseline.map(function(ke,Ge){var it=(w.font[Ge]||w.font[0]).metrics,et=0;return et+=it.bottom*.5,typeof ke=="number"?et+=ke-it.baseline:et+=-it[ke],et*=-1,et})),E.color!=null)if(E.color||(E.color="transparent"),typeof E.color=="string"||!isNaN(E.color))this.color=v(E.color,"uint8");else{var Ce;if(typeof E.color[0]=="number"&&E.color.length>this.counts.length){var Te=E.color.length;Ce=t.mallocUint8(Te);for(var Oe=(E.color.subarray||E.color.slice).bind(E.color),Ne=0;Ne<Te;Ne+=4)Ce.set(v(Oe(Ne,Ne+4),"uint8"),Ne)}else{var Le=E.color.length;Ce=t.mallocUint8(Le*4);for(var be=0;be<Le;be++)Ce.set(v(E.color[be]||0,"uint8"),be*4)}this.color=Ce}if(E.position||E.text||E.color||E.baseline||E.align||E.font||E.offset||E.opacity){var Ae=this.color.length>4||this.baselineOffset.length>1||this.align&&this.align.length>1||this.fontAtlas.length>1||this.positionOffset.length>2;if(Ae){var He=Math.max(this.position.length*.5||0,this.color.length*.25||0,this.baselineOffset.length||0,this.alignOffset.length||0,this.font.length||0,this.opacity.length||0,this.positionOffset.length*.5||0);this.batch=Array(He);for(var Ve=0;Ve<this.batch.length;Ve++)this.batch[Ve]={count:this.counts.length>1?this.counts[Ve]:this.counts[0],offset:this.textOffsets.length>1?this.textOffsets[Ve]:this.textOffsets[0],color:this.color?this.color.length<=4?this.color:this.color.subarray(Ve*4,Ve*4+4):[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[Ve]:this.opacity,baseline:this.baselineOffset[Ve]!=null?this.baselineOffset[Ve]:this.baselineOffset[0],align:this.align?this.alignOffset[Ve]!=null?this.alignOffset[Ve]:this.alignOffset[0]:0,atlas:this.fontAtlas[Ve]||this.fontAtlas[0],positionOffset:this.positionOffset.length>2?this.positionOffset.subarray(Ve*2,Ve*2+2):this.positionOffset}}else this.count?this.batch=[{count:this.count,offset:0,color:this.color||[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[0]:this.opacity,baseline:this.baselineOffset[0],align:this.alignOffset?this.alignOffset[0]:0,atlas:this.fontAtlas[0],positionOffset:this.positionOffset}]:this.batch=[]}},S.prototype.destroy=function(){},S.prototype.kerning=!0,S.prototype.position={constant:new Float32Array(2)},S.prototype.translate=null,S.prototype.scale=null,S.prototype.font=null,S.prototype.text="",S.prototype.positionOffset=[0,0],S.prototype.opacity=1,S.prototype.color=new Uint8Array([0,0,0,255]),S.prototype.alignOffset=[0,0],S.maxAtlasSize=1024,S.atlasCanvas=document.createElement("canvas"),S.atlasContext=S.atlasCanvas.getContext("2d",{alpha:!1}),S.baseFontSize=64,S.fonts={};function P(x){return typeof x=="function"&&x._gl&&x.prop&&x.texture&&x.buffer}W.exports=S},12018:function(W,H,e){var g=e(71299);W.exports=function(t){if(t?typeof t=="string"&&(t={container:t}):t={},a(t)?t={container:t}:C(t)?t={container:t}:T(t)?t={gl:t}:t=g(t,{container:"container target element el canvas holder parent parentNode wrapper use ref root node",gl:"gl context webgl glContext",attrs:"attributes attrs contextAttributes",pixelRatio:"pixelRatio pxRatio px ratio pxratio pixelratio",width:"w width",height:"h height"},!0),t.pixelRatio||(t.pixelRatio=e.g.pixelRatio||1),t.gl)return t.gl;if(t.canvas&&(t.container=t.canvas.parentNode),t.container){if(typeof t.container=="string"){var r=document.querySelector(t.container);if(!r)throw Error("Element "+t.container+" is not found");t.container=r}a(t.container)?(t.canvas=t.container,t.container=t.canvas.parentNode):t.canvas||(t.canvas=v(),t.container.appendChild(t.canvas),R(t))}else if(!t.canvas)if(typeof document<"u")t.container=document.body||document.documentElement,t.canvas=v(),t.container.appendChild(t.canvas),R(t);else throw Error("Not DOM environment. Use headless-gl.");return t.gl||["webgl","experimental-webgl","webgl-experimental"].some(function(s){try{t.gl=t.canvas.getContext(s,t.attrs)}catch{}return t.gl}),t.gl};function R(y){if(y.container)if(y.container==document.body)document.body.style.width||(y.canvas.width=y.width||y.pixelRatio*e.g.innerWidth),document.body.style.height||(y.canvas.height=y.height||y.pixelRatio*e.g.innerHeight);else{var t=y.container.getBoundingClientRect();y.canvas.width=y.width||t.right-t.left,y.canvas.height=y.height||t.bottom-t.top}}function a(y){return typeof y.getContext=="function"&&"width"in y&&"height"in y}function C(y){return typeof y.nodeName=="string"&&typeof y.appendChild=="function"&&typeof y.getBoundingClientRect=="function"}function T(y){return typeof y.drawArrays=="function"||typeof y.drawElements=="function"}function v(){var y=document.createElement("canvas");return y.style.position="absolute",y.style.top=0,y.style.left=0,y}},56068:function(W){W.exports=function(H){typeof H=="string"&&(H=[H]);for(var e=[].slice.call(arguments,1),g=[],R=0;R<H.length-1;R++)g.push(H[R],e[R]||"");return g.push(H[R]),g.join("")}},40383:function(W,H,e){var g=e(68318),R=g("%Object.getOwnPropertyDescriptor%",!0);if(R)try{R([],"length")}catch{R=null}W.exports=R},57035:function(W,H,e){var g=e(54404),R;typeof e.g.matchMedia=="function"?R=!e.g.matchMedia("(hover: none)").matches:R=g,W.exports=R},38520:function(W,H,e){var g=e(54404);function R(){var a=!1;try{var C=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("test",null,C),window.removeEventListener("test",null,C)}catch{a=!1}return a}W.exports=g&&R()},55622:function(W,H,e){var g=e(68318),R=g("%Object.defineProperty%",!0),a=function(){if(R)try{return R({},"a",{value:1}),!0}catch{return!1}return!1};a.hasArrayLengthDefineBug=function(){if(!a())return null;try{return R([],"length",{value:1}).length!==1}catch{return!0}},W.exports=a},57877:function(W,H,e){var g=typeof Symbol<"u"&&Symbol,R=e(35638);W.exports=function(){return typeof g!="function"||typeof Symbol!="function"||typeof g("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:R()}},35638:function(W){W.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},g=Symbol("test"),R=Object(g);if(typeof g=="string"||Object.prototype.toString.call(g)!=="[object Symbol]"||Object.prototype.toString.call(R)!=="[object Symbol]")return!1;var a=42;e[g]=a;for(g in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var C=Object.getOwnPropertySymbols(e);if(C.length!==1||C[0]!==g||!Object.prototype.propertyIsEnumerable.call(e,g))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var T=Object.getOwnPropertyDescriptor(e,g);if(T.value!==a||T.enumerable!==!0)return!1}return!0}},84543:function(W,H,e){var g=e(35638);W.exports=function(){return g()&&!!Symbol.toStringTag}},35065:function(W,H,e){var g=e(77575);W.exports=g.call(Function.call,Object.prototype.hasOwnProperty)},95280:function(W,H){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */H.read=function(e,g,R,a,C){var T,v,y=C*8-a-1,t=(1<<y)-1,r=t>>1,s=-7,n=R?C-1:0,o=R?-1:1,f=e[g+n];for(n+=o,T=f&(1<<-s)-1,f>>=-s,s+=y;s>0;T=T*256+e[g+n],n+=o,s-=8);for(v=T&(1<<-s)-1,T>>=-s,s+=a;s>0;v=v*256+e[g+n],n+=o,s-=8);if(T===0)T=1-r;else{if(T===t)return v?NaN:(f?-1:1)*(1/0);v=v+Math.pow(2,a),T=T-r}return(f?-1:1)*v*Math.pow(2,T-a)},H.write=function(e,g,R,a,C,T){var v,y,t,r=T*8-C-1,s=(1<<r)-1,n=s>>1,o=C===23?Math.pow(2,-24)-Math.pow(2,-77):0,f=a?0:T-1,u=a?1:-1,m=g<0||g===0&&1/g<0?1:0;for(g=Math.abs(g),isNaN(g)||g===1/0?(y=isNaN(g)?1:0,v=s):(v=Math.floor(Math.log(g)/Math.LN2),g*(t=Math.pow(2,-v))<1&&(v--,t*=2),v+n>=1?g+=o/t:g+=o*Math.pow(2,1-n),g*t>=2&&(v++,t/=2),v+n>=s?(y=0,v=s):v+n>=1?(y=(g*t-1)*Math.pow(2,C),v=v+n):(y=g*Math.pow(2,n-1)*Math.pow(2,C),v=0));C>=8;e[R+f]=y&255,f+=u,y/=256,C-=8);for(v=v<<C|y,r+=C;r>0;e[R+f]=v&255,f+=u,v/=256,r-=8);e[R+f-u]|=m*128}},42018:function(W){typeof Object.create=="function"?W.exports=function(e,g){g&&(e.super_=g,e.prototype=Object.create(g.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:W.exports=function(e,g){if(g){e.super_=g;var R=function(){};R.prototype=g.prototype,e.prototype=new R,e.prototype.constructor=e}}},47216:function(W,H,e){var g=e(84543)(),R=e(6614),a=R("Object.prototype.toString"),C=function(t){return g&&t&&typeof t=="object"&&Symbol.toStringTag in t?!1:a(t)==="[object Arguments]"},T=function(t){return C(t)?!0:t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&a(t)!=="[object Array]"&&a(t.callee)==="[object Function]"},v=function(){return C(arguments)}();C.isLegacyArguments=T,W.exports=v?C:T},54404:function(W){W.exports=!0},85395:function(W){var H=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,g,R;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{g=Object.defineProperty({},"length",{get:function(){throw R}}),R={},e(function(){throw 42},null,g)}catch(A){A!==R&&(e=null)}else e=null;var a=/^\s*class\b/,C=function(h){try{var l=H.call(h);return a.test(l)}catch{return!1}},T=function(h){try{return C(h)?!1:(H.call(h),!0)}catch{return!1}},v=Object.prototype.toString,y="[object Object]",t="[object Function]",r="[object GeneratorFunction]",s="[object HTMLAllCollection]",n="[object HTML document.all class]",o="[object HTMLCollection]",f=typeof Symbol=="function"&&!!Symbol.toStringTag,u=!(0 in[,]),m=function(){return!1};if(typeof document=="object"){var c=document.all;v.call(c)===v.call(document.all)&&(m=function(h){if((u||!h)&&(typeof h>"u"||typeof h=="object"))try{var l=v.call(h);return(l===s||l===n||l===o||l===y)&&h("")==null}catch{}return!1})}W.exports=e?function(h){if(m(h))return!0;if(!h||typeof h!="function"&&typeof h!="object")return!1;try{e(h,null,g)}catch(l){if(l!==R)return!1}return!C(h)&&T(h)}:function(h){if(m(h))return!0;if(!h||typeof h!="function"&&typeof h!="object")return!1;if(f)return T(h);if(C(h))return!1;var l=v.call(h);return l!==t&&l!==r&&!/^\[object HTML/.test(l)?!1:T(h)}},65481:function(W,H,e){var g=Object.prototype.toString,R=Function.prototype.toString,a=/^\s*(?:function)?\*/,C=e(84543)(),T=Object.getPrototypeOf,v=function(){if(!C)return!1;try{return Function("return function*() {}")()}catch{}},y;W.exports=function(r){if(typeof r!="function")return!1;if(a.test(R.call(r)))return!0;if(!C){var s=g.call(r);return s==="[object GeneratorFunction]"}if(!T)return!1;if(typeof y>"u"){var n=v();y=n?T(n):!1}return T(r)===y}},62683:function(W){W.exports=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion))},64274:function(W){W.exports=function(e){return e!==e}},15567:function(W,H,e){var g=e(68222),R=e(17045),a=e(64274),C=e(14922),T=e(22442),v=g(C(),Number);R(v,{getPolyfill:C,implementation:a,shim:T}),W.exports=v},14922:function(W,H,e){var g=e(64274);W.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:g}},22442:function(W,H,e){var g=e(17045),R=e(14922);W.exports=function(){var C=R();return g(Number,{isNaN:C},{isNaN:function(){return Number.isNaN!==C}}),C}},64941:function(W){W.exports=function(H){var e=typeof H;return H!==null&&(e==="object"||e==="function")}},10973:function(W){var H=Object.prototype.toString;W.exports=function(e){var g;return H.call(e)==="[object Object]"&&(g=Object.getPrototypeOf(e),g===null||g===Object.getPrototypeOf({}))}},18546:function(W){W.exports=function(H){for(var e=H.length,g,R=0;R<e;R++)if(g=H.charCodeAt(R),(g<9||g>13)&&g!==32&&g!==133&&g!==160&&g!==5760&&g!==6158&&(g<8192||g>8205)&&g!==8232&&g!==8233&&g!==8239&&g!==8287&&g!==8288&&g!==12288&&g!==65279)return!1;return!0}},89546:function(W){W.exports=function(e){return typeof e!="string"?!1:(e=e.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(e)&&/[\dz]$/i.test(e)&&e.length>4))}},9187:function(W,H,e){var g=e(31353),R=e(72077),a=e(6614),C=a("Object.prototype.toString"),T=e(84543)(),v=e(40383),y=typeof globalThis>"u"?e.g:globalThis,t=R(),r=a("Array.prototype.indexOf",!0)||function(m,c){for(var A=0;A<m.length;A+=1)if(m[A]===c)return A;return-1},s=a("String.prototype.slice"),n={},o=Object.getPrototypeOf;T&&v&&o&&g(t,function(u){var m=new y[u];if(Symbol.toStringTag in m){var c=o(m),A=v(c,Symbol.toStringTag);if(!A){var h=o(c);A=v(h,Symbol.toStringTag)}n[u]=A.get}});var f=function(m){var c=!1;return g(n,function(A,h){if(!c)try{c=A.call(m)===h}catch{}}),c};W.exports=function(m){if(!m||typeof m!="object")return!1;if(!T||!(Symbol.toStringTag in m)){var c=s(C(m),8,-1);return r(t,c)>-1}return v?f(m):!1}},44517:function(W){(function(H,e){W.exports=e()})(this,function(){var H,e,g;function R(a,C){if(!H)H=C;else if(!e)e=C;else{var T="var sharedChunk = {}; ("+H+")(sharedChunk); ("+e+")(sharedChunk);",v={};H(v),g=C(v),g.workerUrl=window.URL.createObjectURL(new Blob([T],{type:"text/javascript"}))}}return R(["exports"],function(a){function C(I,k){return k={exports:{}},I(k,k.exports),k.exports}var T="1.10.1",v=y;function y(I,k,G,ie){this.cx=3*I,this.bx=3*(G-I)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*k,this.by=3*(ie-k)-this.cy,this.ay=1-this.cy-this.by,this.p1x=I,this.p1y=ie,this.p2x=G,this.p2y=ie}y.prototype.sampleCurveX=function(I){return((this.ax*I+this.bx)*I+this.cx)*I},y.prototype.sampleCurveY=function(I){return((this.ay*I+this.by)*I+this.cy)*I},y.prototype.sampleCurveDerivativeX=function(I){return(3*this.ax*I+2*this.bx)*I+this.cx},y.prototype.solveCurveX=function(I,k){typeof k>"u"&&(k=1e-6);var G,ie,de,Me,Ie;for(de=I,Ie=0;Ie<8;Ie++){if(Me=this.sampleCurveX(de)-I,Math.abs(Me)<k)return de;var Ke=this.sampleCurveDerivativeX(de);if(Math.abs(Ke)<1e-6)break;de=de-Me/Ke}if(G=0,ie=1,de=I,de<G)return G;if(de>ie)return ie;for(;G<ie;){if(Me=this.sampleCurveX(de),Math.abs(Me-I)<k)return de;I>Me?G=de:ie=de,de=(ie-G)*.5+G}return de},y.prototype.solve=function(I,k){return this.sampleCurveY(this.solveCurveX(I,k))};var t=r;function r(I,k){this.x=I,this.y=k}r.prototype={clone:function(){return new r(this.x,this.y)},add:function(I){return this.clone()._add(I)},sub:function(I){return this.clone()._sub(I)},multByPoint:function(I){return this.clone()._multByPoint(I)},divByPoint:function(I){return this.clone()._divByPoint(I)},mult:function(I){return this.clone()._mult(I)},div:function(I){return this.clone()._div(I)},rotate:function(I){return this.clone()._rotate(I)},rotateAround:function(I,k){return this.clone()._rotateAround(I,k)},matMult:function(I){return this.clone()._matMult(I)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(I){return this.x===I.x&&this.y===I.y},dist:function(I){return Math.sqrt(this.distSqr(I))},distSqr:function(I){var k=I.x-this.x,G=I.y-this.y;return k*k+G*G},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(I){return Math.atan2(this.y-I.y,this.x-I.x)},angleWith:function(I){return this.angleWithSep(I.x,I.y)},angleWithSep:function(I,k){return Math.atan2(this.x*k-this.y*I,this.x*I+this.y*k)},_matMult:function(I){var k=I[0]*this.x+I[1]*this.y,G=I[2]*this.x+I[3]*this.y;return this.x=k,this.y=G,this},_add:function(I){return this.x+=I.x,this.y+=I.y,this},_sub:function(I){return this.x-=I.x,this.y-=I.y,this},_mult:function(I){return this.x*=I,this.y*=I,this},_div:function(I){return this.x/=I,this.y/=I,this},_multByPoint:function(I){return this.x*=I.x,this.y*=I.y,this},_divByPoint:function(I){return this.x/=I.x,this.y/=I.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var I=this.y;return this.y=this.x,this.x=-I,this},_rotate:function(I){var k=Math.cos(I),G=Math.sin(I),ie=k*this.x-G*this.y,de=G*this.x+k*this.y;return this.x=ie,this.y=de,this},_rotateAround:function(I,k){var G=Math.cos(I),ie=Math.sin(I),de=k.x+G*(this.x-k.x)-ie*(this.y-k.y),Me=k.y+ie*(this.x-k.x)+G*(this.y-k.y);return this.x=de,this.y=Me,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},r.convert=function(I){return I instanceof r?I:Array.isArray(I)?new r(I[0],I[1]):I};function s(I,k){if(Array.isArray(I)){if(!Array.isArray(k)||I.length!==k.length)return!1;for(var G=0;G<I.length;G++)if(!s(I[G],k[G]))return!1;return!0}if(typeof I=="object"&&I!==null&&k!==null){if(typeof k!="object")return!1;var ie=Object.keys(I);if(ie.length!==Object.keys(k).length)return!1;for(var de in I)if(!s(I[de],k[de]))return!1;return!0}return I===k}function n(I){if(I<=0)return 0;if(I>=1)return 1;var k=I*I,G=k*I;return 4*(I<.5?G:3*(I-k)+G-.75)}function o(I,k,G,ie){var de=new v(I,k,G,ie);return function(Me){return de.solve(Me)}}var f=o(.25,.1,.25,1);function u(I,k,G){return Math.min(G,Math.max(k,I))}function m(I,k,G){var ie=G-k,de=((I-k)%ie+ie)%ie+k;return de===k?G:de}function c(I,k,G){if(!I.length)return G(null,[]);var ie=I.length,de=new Array(I.length),Me=null;I.forEach(function(Ie,Ke){k(Ie,function(ft,Tt){ft&&(Me=ft),de[Ke]=Tt,--ie===0&&G(Me,de)})})}function A(I){var k=[];for(var G in I)k.push(I[G]);return k}function h(I,k){var G=[];for(var ie in I)ie in k||G.push(ie);return G}function l(I){for(var k=[],G=arguments.length-1;G-- >0;)k[G]=arguments[G+1];for(var ie=0,de=k;ie<de.length;ie+=1){var Me=de[ie];for(var Ie in Me)I[Ie]=Me[Ie]}return I}function p(I,k){for(var G={},ie=0;ie<k.length;ie++){var de=k[ie];de in I&&(G[de]=I[de])}return G}var M=1;function S(){return M++}function P(){function I(k){return k?(k^Math.random()*16>>k/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,I)}return I()}function x(I){return I?/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(I):!1}function E(I,k){I.forEach(function(G){k[G]&&(k[G]=k[G].bind(k))})}function w(I,k){return I.indexOf(k,I.length-k.length)!==-1}function i(I,k,G){var ie={};for(var de in I)ie[de]=k.call(G||this,I[de],de,I);return ie}function L(I,k,G){var ie={};for(var de in I)k.call(G||this,I[de],de,I)&&(ie[de]=I[de]);return ie}function b(I){return Array.isArray(I)?I.map(b):typeof I=="object"&&I?i(I,b):I}function O(I,k){for(var G=0;G<I.length;G++)if(k.indexOf(I[G])>=0)return!0;return!1}var _={};function N(I){_[I]||(typeof console<"u"&&console.warn(I),_[I]=!0)}function z(I,k,G){return(G.y-I.y)*(k.x-I.x)>(k.y-I.y)*(G.x-I.x)}function B(I){for(var k=0,G=0,ie=I.length,de=ie-1,Me=void 0,Ie=void 0;G<ie;de=G++)Me=I[G],Ie=I[de],k+=(Ie.x-Me.x)*(Me.y+Ie.y);return k}function U(I){var k=I[0],G=I[1],ie=I[2];return G+=90,G*=Math.PI/180,ie*=Math.PI/180,{x:k*Math.cos(G)*Math.sin(ie),y:k*Math.sin(G)*Math.sin(ie),z:k*Math.cos(ie)}}function F(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function V(I){var k=/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,G={};if(I.replace(k,function(de,Me,Ie,Ke){var ft=Ie||Ke;return G[Me]=ft?ft.toLowerCase():!0,""}),G["max-age"]){var ie=parseInt(G["max-age"],10);isNaN(ie)?delete G["max-age"]:G["max-age"]=ie}return G}var j=null;function $(I){if(j==null){var k=I.navigator?I.navigator.userAgent:null;j=!!I.safari||!!(k&&(/\b(iPad|iPhone|iPod)\b/.test(k)||k.match("Safari")&&!k.match("Chrome")))}return j}function ne(I){try{var k=self[I];return k.setItem("_mapbox_test_",1),k.removeItem("_mapbox_test_"),!0}catch{return!1}}function oe(I){return self.btoa(encodeURIComponent(I).replace(/%([0-9A-F]{2})/g,function(k,G){return String.fromCharCode(+("0x"+G))}))}function ce(I){return decodeURIComponent(self.atob(I).split("").map(function(k){return"%"+("00"+k.charCodeAt(0).toString(16)).slice(-2)}).join(""))}var Q=self.performance&&self.performance.now?self.performance.now.bind(self.performance):Date.now.bind(Date),Z=self.requestAnimationFrame||self.mozRequestAnimationFrame||self.webkitRequestAnimationFrame||self.msRequestAnimationFrame,K=self.cancelAnimationFrame||self.mozCancelAnimationFrame||self.webkitCancelAnimationFrame||self.msCancelAnimationFrame,J,re,le={now:Q,frame:function(k){var G=Z(k);return{cancel:function(){return K(G)}}},getImageData:function(k,G){G===void 0&&(G=0);var ie=self.document.createElement("canvas"),de=ie.getContext("2d");if(!de)throw new Error("failed to create canvas 2d context");return ie.width=k.width,ie.height=k.height,de.drawImage(k,0,0,k.width,k.height),de.getImageData(-G,-G,k.width+2*G,k.height+2*G)},resolveURL:function(k){return J||(J=self.document.createElement("a")),J.href=k,J.href},hardwareConcurrency:self.navigator.hardwareConcurrency||4,get devicePixelRatio(){return self.devicePixelRatio},get prefersReducedMotion(){return self.matchMedia?(re==null&&(re=self.matchMedia("(prefers-reduced-motion: reduce)")),re.matches):!1}},q={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?this.API_URL.indexOf("https://api.mapbox.cn")===0?"https://events.mapbox.cn/events/v2":this.API_URL.indexOf("https://api.mapbox.com")===0?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},ee={supported:!1,testSupport:Ce},ue,se=!1,he,me=!1;self.document&&(he=self.document.createElement("img"),he.onload=function(){ue&&Te(ue),ue=null,me=!0},he.onerror=function(){se=!0,ue=null},he.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");function Ce(I){se||!he||(me?Te(I):ue=I)}function Te(I){var k=I.createTexture();I.bindTexture(I.TEXTURE_2D,k);try{if(I.texImage2D(I.TEXTURE_2D,0,I.RGBA,I.RGBA,I.UNSIGNED_BYTE,he),I.isContextLost())return;ee.supported=!0}catch{}I.deleteTexture(k),se=!0}var Oe="01";function Ne(){for(var I="1",k="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",G="",ie=0;ie<10;ie++)G+=k[Math.floor(Math.random()*62)];var de=12*60*60*1e3,Me=[I,Oe,G].join(""),Ie=Date.now()+de;return{token:Me,tokenExpiresAt:Ie}}var Le=function(k,G){this._transformRequestFn=k,this._customAccessToken=G,this._createSkuToken()};Le.prototype._createSkuToken=function(){var k=Ne();this._skuToken=k.token,this._skuTokenExpiresAt=k.tokenExpiresAt},Le.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},Le.prototype.transformRequest=function(k,G){return this._transformRequestFn?this._transformRequestFn(k,G)||{url:k}:{url:k}},Le.prototype.normalizeStyleURL=function(k,G){if(!be(k))return k;var ie=it(k);return ie.path="/styles/v1"+ie.path,this._makeAPIURL(ie,this._customAccessToken||G)},Le.prototype.normalizeGlyphsURL=function(k,G){if(!be(k))return k;var ie=it(k);return ie.path="/fonts/v1"+ie.path,this._makeAPIURL(ie,this._customAccessToken||G)},Le.prototype.normalizeSourceURL=function(k,G){if(!be(k))return k;var ie=it(k);return ie.path="/v4/"+ie.authority+".json",ie.params.push("secure"),this._makeAPIURL(ie,this._customAccessToken||G)},Le.prototype.normalizeSpriteURL=function(k,G,ie,de){var Me=it(k);return be(k)?(Me.path="/styles/v1"+Me.path+"/sprite"+G+ie,this._makeAPIURL(Me,this._customAccessToken||de)):(Me.path+=""+G+ie,et(Me))},Le.prototype.normalizeTileURL=function(k,G){if(this._isSkuTokenExpired()&&this._createSkuToken(),k&&!be(k))return k;var ie=it(k),de=/(\.(png|jpg)\d*)(?=$)/,Me=/^.+\/v4\//,Ie=le.devicePixelRatio>=2||G===512?"@2x":"",Ke=ee.supported?".webp":"$1";ie.path=ie.path.replace(de,""+Ie+Ke),ie.path=ie.path.replace(Me,"/"),ie.path="/v4"+ie.path;var ft=this._customAccessToken||ke(ie.params)||q.ACCESS_TOKEN;return q.REQUIRE_ACCESS_TOKEN&&ft&&this._skuToken&&ie.params.push("sku="+this._skuToken),this._makeAPIURL(ie,ft)},Le.prototype.canonicalizeTileURL=function(k,G){var ie="/v4/",de=/\.[\w]+$/,Me=it(k);if(!Me.path.match(/(^\/v4\/)/)||!Me.path.match(de))return k;var Ie="mapbox://tiles/";Ie+=Me.path.replace(ie,"");var Ke=Me.params;return G&&(Ke=Ke.filter(function(ft){return!ft.match(/^access_token=/)})),Ke.length&&(Ie+="?"+Ke.join("&")),Ie},Le.prototype.canonicalizeTileset=function(k,G){for(var ie=G?be(G):!1,de=[],Me=0,Ie=k.tiles||[];Me<Ie.length;Me+=1){var Ke=Ie[Me];He(Ke)?de.push(this.canonicalizeTileURL(Ke,ie)):de.push(Ke)}return de},Le.prototype._makeAPIURL=function(k,G){var ie="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",de=it(q.API_URL);if(k.protocol=de.protocol,k.authority=de.authority,de.path!=="/"&&(k.path=""+de.path+k.path),!q.REQUIRE_ACCESS_TOKEN)return et(k);if(G=G||q.ACCESS_TOKEN,!G)throw new Error("An API access token is required to use Mapbox GL. "+ie);if(G[0]==="s")throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+ie);return k.params=k.params.filter(function(Me){return Me.indexOf("access_token")===-1}),k.params.push("access_token="+G),et(k)};function be(I){return I.indexOf("mapbox:")===0}var Ae=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function He(I){return Ae.test(I)}function Ve(I){return I.indexOf("sku=")>0&&He(I)}function ke(I){for(var k=0,G=I;k<G.length;k+=1){var ie=G[k],de=ie.match(/^access_token=(.*)$/);if(de)return de[1]}return null}var Ge=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function it(I){var k=I.match(Ge);if(!k)throw new Error("Unable to parse URL object");return{protocol:k[1],authority:k[2],path:k[3]||"/",params:k[4]?k[4].split("&"):[]}}function et(I){var k=I.params.length?"?"+I.params.join("&"):"";return I.protocol+"://"+I.authority+I.path+k}var tt="mapbox.eventData";function at(I){if(!I)return null;var k=I.split(".");if(!k||k.length!==3)return null;try{var G=JSON.parse(ce(k[1]));return G}catch{return null}}var vt=function(k){this.type=k,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};vt.prototype.getStorageKey=function(k){var G=at(q.ACCESS_TOKEN),ie="";return G&&G.u?ie=oe(G.u):ie=q.ACCESS_TOKEN||"",k?tt+"."+k+":"+ie:tt+":"+ie},vt.prototype.fetchEventData=function(){var k=ne("localStorage"),G=this.getStorageKey(),ie=this.getStorageKey("uuid");if(k)try{var de=self.localStorage.getItem(G);de&&(this.eventData=JSON.parse(de));var Me=self.localStorage.getItem(ie);Me&&(this.anonId=Me)}catch{N("Unable to read from LocalStorage")}},vt.prototype.saveEventData=function(){var k=ne("localStorage"),G=this.getStorageKey(),ie=this.getStorageKey("uuid");if(k)try{self.localStorage.setItem(ie,this.anonId),Object.keys(this.eventData).length>=1&&self.localStorage.setItem(G,JSON.stringify(this.eventData))}catch{N("Unable to write to LocalStorage")}},vt.prototype.processRequests=function(k){},vt.prototype.postEvent=function(k,G,ie,de){var Me=this;if(q.EVENTS_URL){var Ie=it(q.EVENTS_URL);Ie.params.push("access_token="+(de||q.ACCESS_TOKEN||""));var Ke={event:this.type,created:new Date(k).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:T,skuId:Oe,userId:this.anonId},ft=G?l(Ke,G):Ke,Tt={url:et(Ie),headers:{"Content-Type":"text/plain"},body:JSON.stringify([ft])};this.pendingRequest=Dt(Tt,function(Et){Me.pendingRequest=null,ie(Et),Me.saveEventData(),Me.processRequests(de)})}},vt.prototype.queueRequest=function(k,G){this.queue.push(k),this.processRequests(G)};var yt=function(I){function k(){I.call(this,"map.load"),this.success={},this.skuToken=""}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype.postMapLoadEvent=function(ie,de,Me,Ie){this.skuToken=Me,(q.EVENTS_URL&&Ie||q.ACCESS_TOKEN&&Array.isArray(ie)&&ie.some(function(Ke){return be(Ke)||He(Ke)}))&&this.queueRequest({id:de,timestamp:Date.now()},Ie)},k.prototype.processRequests=function(ie){var de=this;if(!(this.pendingRequest||this.queue.length===0)){var Me=this.queue.shift(),Ie=Me.id,Ke=Me.timestamp;Ie&&this.success[Ie]||(this.anonId||this.fetchEventData(),x(this.anonId)||(this.anonId=P()),this.postEvent(Ke,{skuToken:this.skuToken},function(ft){ft||Ie&&(de.success[Ie]=!0)},ie))}},k}(vt),gt=function(I){function k(G){I.call(this,"appUserTurnstile"),this._customAccessToken=G}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype.postTurnstileEvent=function(ie,de){q.EVENTS_URL&&q.ACCESS_TOKEN&&Array.isArray(ie)&&ie.some(function(Me){return be(Me)||He(Me)})&&this.queueRequest(Date.now(),de)},k.prototype.processRequests=function(ie){var de=this;if(!(this.pendingRequest||this.queue.length===0)){(!this.anonId||!this.eventData.lastSuccess||!this.eventData.tokenU)&&this.fetchEventData();var Me=at(q.ACCESS_TOKEN),Ie=Me?Me.u:q.ACCESS_TOKEN,Ke=Ie!==this.eventData.tokenU;x(this.anonId)||(this.anonId=P(),Ke=!0);var ft=this.queue.shift();if(this.eventData.lastSuccess){var Tt=new Date(this.eventData.lastSuccess),Et=new Date(ft),Wt=(ft-this.eventData.lastSuccess)/(24*60*60*1e3);Ke=Ke||Wt>=1||Wt<-1||Tt.getDate()!==Et.getDate()}else Ke=!0;if(!Ke)return this.processRequests();this.postEvent(ft,{"enabled.telemetry":!1},function(ir){ir||(de.eventData.lastSuccess=ft,de.eventData.tokenU=Ie)},ie)}},k}(vt),Mt=new gt,Ct=Mt.postTurnstileEvent.bind(Mt),Vt=new yt,Je=Vt.postMapLoadEvent.bind(Vt),ze="mapbox-tiles",_e=500,Be=50,De=1e3*60*7,we;function xe(){self.caches&&!we&&(we=self.caches.open(ze))}var Ee;function Pe(I,k){if(Ee===void 0)try{new Response(new ReadableStream),Ee=!0}catch{Ee=!1}Ee?k(I.body):I.blob().then(k)}function Ue(I,k,G){if(xe(),!!we){var ie={status:k.status,statusText:k.statusText,headers:new self.Headers};k.headers.forEach(function(Ie,Ke){return ie.headers.set(Ke,Ie)});var de=V(k.headers.get("Cache-Control")||"");if(!de["no-store"]){de["max-age"]&&ie.headers.set("Expires",new Date(G+de["max-age"]*1e3).toUTCString());var Me=new Date(ie.headers.get("Expires")).getTime()-G;Me<De||Pe(k,function(Ie){var Ke=new self.Response(Ie,ie);xe(),we&&we.then(function(ft){return ft.put($e(I.url),Ke)}).catch(function(ft){return N(ft.message)})})}}}function $e(I){var k=I.indexOf("?");return k<0?I:I.slice(0,k)}function qe(I,k){if(xe(),!we)return k(null);var G=$e(I.url);we.then(function(ie){ie.match(G).then(function(de){var Me=dt(de);ie.delete(G),Me&&ie.put(G,de.clone()),k(null,de,Me)}).catch(k)}).catch(k)}function dt(I){if(!I)return!1;var k=new Date(I.headers.get("Expires")||0),G=V(I.headers.get("Cache-Control")||"");return k>Date.now()&&!G["no-cache"]}var bt=1/0;function Gt(I){bt++,bt>Be&&(I.getActor().send("enforceCacheSizeLimit",_e),bt=0)}function Qt(I){xe(),we&&we.then(function(k){k.keys().then(function(G){for(var ie=0;ie<G.length-I;ie++)k.delete(G[ie])})})}function At(I){var k=self.caches.delete(ze);I&&k.catch(I).then(function(){return I()})}function zt(I,k){_e=I,Be=k}var $t;function Ar(){return $t==null&&($t=self.OffscreenCanvas&&new self.OffscreenCanvas(1,1).getContext("2d")&&typeof self.createImageBitmap=="function"),$t}var ut={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(ut);var Yt=function(I){function k(G,ie,de){ie===401&&He(de)&&(G+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),I.call(this,G),this.status=ie,this.url=de,this.name=this.constructor.name,this.message=G}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},k}(Error),Kt=F()?function(){return self.worker&&self.worker.referrer}:function(){return(self.location.protocol==="blob:"?self.parent:self).location.href},mr=function(I){return/^file:/.test(I)||/^file:/.test(Kt())&&!/^\w+:/.test(I)};function ur(I,k){var G=new self.AbortController,ie=new self.Request(I.url,{method:I.method||"GET",body:I.body,credentials:I.credentials,headers:I.headers,referrer:Kt(),signal:G.signal}),de=!1,Me=!1,Ie=Ve(ie.url);I.type==="json"&&ie.headers.set("Accept","application/json");var Ke=function(Tt,Et,Wt){if(!Me){if(Tt&&Tt.message!=="SecurityError"&&N(Tt),Et&&Wt)return ft(Et);var ir=Date.now();self.fetch(ie).then(function(qt){if(qt.ok){var br=Ie?qt.clone():null;return ft(qt,br,ir)}else return k(new Yt(qt.statusText,qt.status,I.url))}).catch(function(qt){qt.code!==20&&k(new Error(qt.message))})}},ft=function(Tt,Et,Wt){(I.type==="arrayBuffer"?Tt.arrayBuffer():I.type==="json"?Tt.json():Tt.text()).then(function(ir){Me||(Et&&Wt&&Ue(ie,Et,Wt),de=!0,k(null,ir,Tt.headers.get("Cache-Control"),Tt.headers.get("Expires")))}).catch(function(ir){Me||k(new Error(ir.message))})};return Ie?qe(ie,Ke):Ke(null,null),{cancel:function(){Me=!0,de||G.abort()}}}function pt(I,k){var G=new self.XMLHttpRequest;G.open(I.method||"GET",I.url,!0),I.type==="arrayBuffer"&&(G.responseType="arraybuffer");for(var ie in I.headers)G.setRequestHeader(ie,I.headers[ie]);return I.type==="json"&&(G.responseType="text",G.setRequestHeader("Accept","application/json")),G.withCredentials=I.credentials==="include",G.onerror=function(){k(new Error(G.statusText))},G.onload=function(){if((G.status>=200&&G.status<300||G.status===0)&&G.response!==null){var de=G.response;if(I.type==="json")try{de=JSON.parse(G.response)}catch(Me){return k(Me)}k(null,de,G.getResponseHeader("Cache-Control"),G.getResponseHeader("Expires"))}else k(new Yt(G.statusText,G.status,I.url))},G.send(I.body),{cancel:function(){return G.abort()}}}var st=function(I,k){if(!mr(I.url)){if(self.fetch&&self.Request&&self.AbortController&&self.Request.prototype.hasOwnProperty("signal"))return ur(I,k);if(F()&&self.worker&&self.worker.actor){var G=!0;return self.worker.actor.send("getResource",I,k,void 0,G)}}return pt(I,k)},xt=function(I,k){return st(l(I,{type:"json"}),k)},St=function(I,k){return st(l(I,{type:"arrayBuffer"}),k)},Dt=function(I,k){return st(l(I,{method:"POST"}),k)};function Rt(I){var k=self.document.createElement("a");return k.href=I,k.protocol===self.document.location.protocol&&k.host===self.document.location.host}var Bt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function Nt(I,k,G,ie){var de=new self.Image,Me=self.URL;de.onload=function(){k(null,de),Me.revokeObjectURL(de.src)},de.onerror=function(){return k(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var Ie=new self.Blob([new Uint8Array(I)],{type:"image/png"});de.cacheControl=G,de.expires=ie,de.src=I.byteLength?Me.createObjectURL(Ie):Bt}function Xt(I,k){var G=new self.Blob([new Uint8Array(I)],{type:"image/png"});self.createImageBitmap(G).then(function(ie){k(null,ie)}).catch(function(ie){k(new Error("Could not load image because of "+ie.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))})}var lr,sr,dr=function(){lr=[],sr=0};dr();var je=function(I,k){if(ee.supported&&(I.headers||(I.headers={}),I.headers.accept="image/webp,*/*"),sr>=q.MAX_PARALLEL_IMAGE_REQUESTS){var G={requestParameters:I,callback:k,cancelled:!1,cancel:function(){this.cancelled=!0}};return lr.push(G),G}sr++;var ie=!1,de=function(){if(!ie)for(ie=!0,sr--;lr.length&&sr<q.MAX_PARALLEL_IMAGE_REQUESTS;){var Ie=lr.shift(),Ke=Ie.requestParameters,ft=Ie.callback,Tt=Ie.cancelled;Tt||(Ie.cancel=je(Ke,ft).cancel)}},Me=St(I,function(Ie,Ke,ft,Tt){de(),Ie?k(Ie):Ke&&(Ar()?Xt(Ke,k):Nt(Ke,k,ft,Tt))});return{cancel:function(){Me.cancel(),de()}}},Ye=function(I,k){var G=self.document.createElement("video");G.muted=!0,G.onloadstart=function(){k(null,G)};for(var ie=0;ie<I.length;ie++){var de=self.document.createElement("source");Rt(I[ie])||(G.crossOrigin="Anonymous"),de.src=I[ie],G.appendChild(de)}return{cancel:function(){}}};function It(I,k,G){var ie=G[I]&&G[I].indexOf(k)!==-1;ie||(G[I]=G[I]||[],G[I].push(k))}function kt(I,k,G){if(G&&G[I]){var ie=G[I].indexOf(k);ie!==-1&&G[I].splice(ie,1)}}var jt=function(k,G){G===void 0&&(G={}),l(this,G),this.type=k},tr=function(I){function k(G,ie){ie===void 0&&(ie={}),I.call(this,"error",l({error:G},ie))}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k}(jt),or=function(){};or.prototype.on=function(k,G){return this._listeners=this._listeners||{},It(k,G,this._listeners),this},or.prototype.off=function(k,G){return kt(k,G,this._listeners),kt(k,G,this._oneTimeListeners),this},or.prototype.once=function(k,G){return this._oneTimeListeners=this._oneTimeListeners||{},It(k,G,this._oneTimeListeners),this},or.prototype.fire=function(k,G){typeof k=="string"&&(k=new jt(k,G||{}));var ie=k.type;if(this.listens(ie)){k.target=this;for(var de=this._listeners&&this._listeners[ie]?this._listeners[ie].slice():[],Me=0,Ie=de;Me<Ie.length;Me+=1){var Ke=Ie[Me];Ke.call(this,k)}for(var ft=this._oneTimeListeners&&this._oneTimeListeners[ie]?this._oneTimeListeners[ie].slice():[],Tt=0,Et=ft;Tt<Et.length;Tt+=1){var Wt=Et[Tt];kt(ie,Wt,this._oneTimeListeners),Wt.call(this,k)}var ir=this._eventedParent;ir&&(l(k,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),ir.fire(k))}else k instanceof tr&&console.error(k.error);return this},or.prototype.listens=function(k){return this._listeners&&this._listeners[k]&&this._listeners[k].length>0||this._oneTimeListeners&&this._oneTimeListeners[k]&&this._oneTimeListeners[k].length>0||this._eventedParent&&this._eventedParent.listens(k)},or.prototype.setEventedParent=function(k,G){return this._eventedParent=k,this._eventedParentData=G,this};var rr=8,Ot={version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},hr={"*":{type:"source"}},gr=["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],pr={type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},"*":{type:"*"}},vr={type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},"*":{type:"*"}},Vr={type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},"*":{type:"*"}},kr={type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},_r={type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},pn={type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},en={id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},Bn=["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],Tn={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Mr={"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Er={"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Gr={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Ur={"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},an={"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},gn={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},mn={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Rn={type:"array",value:"*"},zn={type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},oa={type:"enum",values:{Point:{},LineString:{},Polygon:{}}},Zn={type:"array",minimum:0,maximum:24,value:["number","color"],length:2},qn={type:"array",value:"*",minimum:1},Yn={type:"enum",values:{let:{group:"Variable binding"},var:{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},in:{group:"Lookup"},"index-of":{group:"Lookup"},slice:{group:"Lookup"},case:{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},"interpolate-hcl":{group:"Ramps, scales, curves"},"interpolate-lab":{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},typeof:{group:"Types"},string:{group:"Types"},number:{group:"Types"},boolean:{group:"Types"},object:{group:"Types"},collator:{group:"Types"},format:{group:"Types"},image:{group:"Types"},"number-format":{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"feature-state":{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Zoom"},"heatmap-density":{group:"Heatmap"},"line-progress":{group:"Feature data"},accumulated:{group:"Feature data"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},round:{group:"Math"},abs:{group:"Math"},ceil:{group:"Math"},floor:{group:"Math"},distance:{group:"Math"},"==":{group:"Decision"},"!=":{group:"Decision"},">":{group:"Decision"},"<":{group:"Decision"},">=":{group:"Decision"},"<=":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},within:{group:"Decision"},"is-supported-script":{group:"String"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"},"resolved-locale":{group:"String"}}},Qn={anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},Tr=["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],sn={"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},rn={"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},yn={"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},Vn={"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Mn={"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},En={"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Nn={"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},ta={"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},ba={duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},Ya={"*":{type:"string"}},Zt={$version:rr,$root:Ot,sources:hr,source:gr,source_vector:pr,source_raster:vr,source_raster_dem:Vr,source_geojson:kr,source_video:_r,source_image:pn,layer:en,layout:Bn,layout_background:Tn,layout_fill:Mr,layout_circle:Er,layout_heatmap:Gr,"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:Ur,layout_symbol:an,layout_raster:gn,layout_hillshade:mn,filter:Rn,filter_operator:zn,geometry_type:oa,function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:Zn,expression:qn,expression_name:Yn,light:Qn,paint:Tr,paint_fill:sn,"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:rn,paint_circle:yn,paint_heatmap:Vn,paint_symbol:Mn,paint_raster:En,paint_hillshade:Nn,paint_background:ta,transition:ba,"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:Ya},wr=function(k,G,ie,de){this.message=(k?k+": ":"")+ie,de&&(this.identifier=de),G!=null&&G.__line__&&(this.line=G.__line__)};function tn(I){var k=I.key,G=I.value;return G?[new wr(k,G,"constants have been deprecated as of v8")]:[]}function un(I){for(var k=[],G=arguments.length-1;G-- >0;)k[G]=arguments[G+1];for(var ie=0,de=k;ie<de.length;ie+=1){var Me=de[ie];for(var Ie in Me)I[Ie]=Me[Ie]}return I}function cn(I){return I instanceof Number||I instanceof String||I instanceof Boolean?I.valueOf():I}function In(I){if(Array.isArray(I))return I.map(In);if(I instanceof Object&&!(I instanceof Number||I instanceof String||I instanceof Boolean)){var k={};for(var G in I)k[G]=In(I[G]);return k}return cn(I)}var Sn=function(I){function k(G,ie){I.call(this,ie),this.message=ie,this.key=G}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k}(Error),vn=function(k,G){G===void 0&&(G=[]),this.parent=k,this.bindings={};for(var ie=0,de=G;ie<de.length;ie+=1){var Me=de[ie],Ie=Me[0],Ke=Me[1];this.bindings[Ie]=Ke}};vn.prototype.concat=function(k){return new vn(this,k)},vn.prototype.get=function(k){if(this.bindings[k])return this.bindings[k];if(this.parent)return this.parent.get(k);throw new Error(k+" not found in scope.")},vn.prototype.has=function(k){return this.bindings[k]?!0:this.parent?this.parent.has(k):!1};var Dr={kind:"null"},Lr={kind:"number"},Or={kind:"string"},dn={kind:"boolean"},On={kind:"color"},Xn={kind:"object"},xn={kind:"value"},Un={kind:"error"},aa={kind:"collator"},fa={kind:"formatted"},la={kind:"resolvedImage"};function ua(I,k){return{kind:"array",itemType:I,N:k}}function ga(I){if(I.kind==="array"){var k=ga(I.itemType);return typeof I.N=="number"?"array<"+k+", "+I.N+">":I.itemType.kind==="value"?"array":"array<"+k+">"}else return I.kind}var io=[Dr,Lr,Or,dn,On,fa,Xn,ua(xn),la];function Ao(I,k){if(k.kind==="error")return null;if(I.kind==="array"){if(k.kind==="array"&&(k.N===0&&k.itemType.kind==="value"||!Ao(I.itemType,k.itemType))&&(typeof I.N!="number"||I.N===k.N))return null}else{if(I.kind===k.kind)return null;if(I.kind==="value")for(var G=0,ie=io;G<ie.length;G+=1){var de=ie[G];if(!Ao(de,k))return null}}return"Expected "+ga(I)+" but found "+ga(k)+" instead."}function Do(I,k){return k.some(function(G){return G.kind===I.kind})}function No(I,k){return k.some(function(G){return G==="null"?I===null:G==="array"?Array.isArray(I):G==="object"?I&&!Array.isArray(I)&&typeof I=="object":G===typeof I})}var Io=C(function(I,k){var G={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function ie(Tt){return Tt=Math.round(Tt),Tt<0?0:Tt>255?255:Tt}function de(Tt){return Tt<0?0:Tt>1?1:Tt}function Me(Tt){return Tt[Tt.length-1]==="%"?ie(parseFloat(Tt)/100*255):ie(parseInt(Tt))}function Ie(Tt){return Tt[Tt.length-1]==="%"?de(parseFloat(Tt)/100):de(parseFloat(Tt))}function Ke(Tt,Et,Wt){return Wt<0?Wt+=1:Wt>1&&(Wt-=1),Wt*6<1?Tt+(Et-Tt)*Wt*6:Wt*2<1?Et:Wt*3<2?Tt+(Et-Tt)*(2/3-Wt)*6:Tt}function ft(Tt){var Et=Tt.replace(/ /g,"").toLowerCase();if(Et in G)return G[Et].slice();if(Et[0]==="#"){if(Et.length===4){var Wt=parseInt(Et.substr(1),16);return Wt>=0&&Wt<=4095?[(Wt&3840)>>4|(Wt&3840)>>8,Wt&240|(Wt&240)>>4,Wt&15|(Wt&15)<<4,1]:null}else if(Et.length===7){var Wt=parseInt(Et.substr(1),16);return Wt>=0&&Wt<=16777215?[(Wt&16711680)>>16,(Wt&65280)>>8,Wt&255,1]:null}return null}var ir=Et.indexOf("("),qt=Et.indexOf(")");if(ir!==-1&&qt+1===Et.length){var br=Et.substr(0,ir),Br=Et.substr(ir+1,qt-(ir+1)).split(","),ln=1;switch(br){case"rgba":if(Br.length!==4)return null;ln=Ie(Br.pop());case"rgb":return Br.length!==3?null:[Me(Br[0]),Me(Br[1]),Me(Br[2]),ln];case"hsla":if(Br.length!==4)return null;ln=Ie(Br.pop());case"hsl":if(Br.length!==3)return null;var qr=(parseFloat(Br[0])%360+360)%360/360,Ln=Ie(Br[1]),wn=Ie(Br[2]),Cn=wn<=.5?wn*(Ln+1):wn+Ln-wn*Ln,_n=wn*2-Cn;return[ie(Ke(_n,Cn,qr+1/3)*255),ie(Ke(_n,Cn,qr)*255),ie(Ke(_n,Cn,qr-1/3)*255),ln];default:return null}}return null}try{k.parseCSSColor=ft}catch{}}),sc=Io.parseCSSColor,ai=function(k,G,ie,de){de===void 0&&(de=1),this.r=k,this.g=G,this.b=ie,this.a=de};ai.parse=function(k){if(k){if(k instanceof ai)return k;if(typeof k=="string"){var G=sc(k);if(G)return new ai(G[0]/255*G[3],G[1]/255*G[3],G[2]/255*G[3],G[3])}}},ai.prototype.toString=function(){var k=this.toArray(),G=k[0],ie=k[1],de=k[2],Me=k[3];return"rgba("+Math.round(G)+","+Math.round(ie)+","+Math.round(de)+","+Me+")"},ai.prototype.toArray=function(){var k=this,G=k.r,ie=k.g,de=k.b,Me=k.a;return Me===0?[0,0,0,0]:[G*255/Me,ie*255/Me,de*255/Me,Me]},ai.black=new ai(0,0,0,1),ai.white=new ai(1,1,1,1),ai.transparent=new ai(0,0,0,0),ai.red=new ai(1,0,0,1);var Yu=function(k,G,ie){k?this.sensitivity=G?"variant":"case":this.sensitivity=G?"accent":"base",this.locale=ie,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};Yu.prototype.compare=function(k,G){return this.collator.compare(k,G)},Yu.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var fu=function(k,G,ie,de,Me){this.text=k,this.image=G,this.scale=ie,this.fontStack=de,this.textColor=Me},oo=function(k){this.sections=k};oo.fromString=function(k){return new oo([new fu(k,null,null,null,null)])},oo.prototype.isEmpty=function(){return this.sections.length===0?!0:!this.sections.some(function(k){return k.text.length!==0||k.image&&k.image.name.length!==0})},oo.factory=function(k){return k instanceof oo?k:oo.fromString(k)},oo.prototype.toString=function(){return this.sections.length===0?"":this.sections.map(function(k){return k.text}).join("")},oo.prototype.serialize=function(){for(var k=["format"],G=0,ie=this.sections;G<ie.length;G+=1){var de=ie[G];if(de.image){k.push(["image",de.image.name]);continue}k.push(de.text);var Me={};de.fontStack&&(Me["text-font"]=["literal",de.fontStack.split(",")]),de.scale&&(Me["font-scale"]=de.scale),de.textColor&&(Me["text-color"]=["rgba"].concat(de.textColor.toArray())),k.push(Me)}return k};var Uo=function(k){this.name=k.name,this.available=k.available};Uo.prototype.toString=function(){return this.name},Uo.fromString=function(k){return k?new Uo({name:k,available:!1}):null},Uo.prototype.serialize=function(){return["image",this.name]};function $c(I,k,G,ie){if(!(typeof I=="number"&&I>=0&&I<=255&&typeof k=="number"&&k>=0&&k<=255&&typeof G=="number"&&G>=0&&G<=255)){var de=typeof ie=="number"?[I,k,G,ie]:[I,k,G];return"Invalid rgba value ["+de.join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}return typeof ie>"u"||typeof ie=="number"&&ie>=0&&ie<=1?null:"Invalid rgba value ["+[I,k,G,ie].join(", ")+"]: 'a' must be between 0 and 1."}function ju(I){if(I===null)return!0;if(typeof I=="string")return!0;if(typeof I=="boolean")return!0;if(typeof I=="number")return!0;if(I instanceof ai)return!0;if(I instanceof Yu)return!0;if(I instanceof oo)return!0;if(I instanceof Uo)return!0;if(Array.isArray(I)){for(var k=0,G=I;k<G.length;k+=1){var ie=G[k];if(!ju(ie))return!1}return!0}else if(typeof I=="object"){for(var de in I)if(!ju(I[de]))return!1;return!0}else return!1}function zi(I){if(I===null)return Dr;if(typeof I=="string")return Or;if(typeof I=="boolean")return dn;if(typeof I=="number")return Lr;if(I instanceof ai)return On;if(I instanceof Yu)return aa;if(I instanceof oo)return fa;if(I instanceof Uo)return la;if(Array.isArray(I)){for(var k=I.length,G,ie=0,de=I;ie<de.length;ie+=1){var Me=de[ie],Ie=zi(Me);if(!G)G=Ie;else{if(G===Ie)continue;G=xn;break}}return ua(G||xn,k)}else return Xn}function Zu(I){var k=typeof I;return I===null?"":k==="string"||k==="number"||k==="boolean"?String(I):I instanceof ai||I instanceof oo||I instanceof Uo?I.toString():JSON.stringify(I)}var Ko=function(k,G){this.type=k,this.value=G};Ko.parse=function(k,G){if(k.length!==2)return G.error("'literal' expression requires exactly one argument, but found "+(k.length-1)+" instead.");if(!ju(k[1]))return G.error("invalid value");var ie=k[1],de=zi(ie),Me=G.expectedType;return de.kind==="array"&&de.N===0&&Me&&Me.kind==="array"&&(typeof Me.N!="number"||Me.N===0)&&(de=Me),new Ko(de,ie)},Ko.prototype.evaluate=function(){return this.value},Ko.prototype.eachChild=function(){},Ko.prototype.outputDefined=function(){return!0},Ko.prototype.serialize=function(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof ai?["rgba"].concat(this.value.toArray()):this.value instanceof oo?this.value.serialize():this.value};var eo=function(k){this.name="ExpressionEvaluationError",this.message=k};eo.prototype.toJSON=function(){return this.message};var $o={string:Or,number:Lr,boolean:dn,object:Xn},So=function(k,G){this.type=k,this.args=G};So.parse=function(k,G){if(k.length<2)return G.error("Expected at least one argument.");var ie=1,de,Me=k[0];if(Me==="array"){var Ie;if(k.length>2){var Ke=k[1];if(typeof Ke!="string"||!(Ke in $o)||Ke==="object")return G.error('The item type argument of "array" must be one of string, number, boolean',1);Ie=$o[Ke],ie++}else Ie=xn;var ft;if(k.length>3){if(k[2]!==null&&(typeof k[2]!="number"||k[2]<0||k[2]!==Math.floor(k[2])))return G.error('The length argument to "array" must be a positive integer literal',2);ft=k[2],ie++}de=ua(Ie,ft)}else de=$o[Me];for(var Tt=[];ie<k.length;ie++){var Et=G.parse(k[ie],ie,xn);if(!Et)return null;Tt.push(Et)}return new So(de,Tt)},So.prototype.evaluate=function(k){for(var G=0;G<this.args.length;G++){var ie=this.args[G].evaluate(k),de=Ao(this.type,zi(ie));if(de){if(G===this.args.length-1)throw new eo("Expected value to be of type "+ga(this.type)+", but found "+ga(zi(ie))+" instead.")}else return ie}return null},So.prototype.eachChild=function(k){this.args.forEach(k)},So.prototype.outputDefined=function(){return this.args.every(function(k){return k.outputDefined()})},So.prototype.serialize=function(){var k=this.type,G=[k.kind];if(k.kind==="array"){var ie=k.itemType;if(ie.kind==="string"||ie.kind==="number"||ie.kind==="boolean"){G.push(ie.kind);var de=k.N;(typeof de=="number"||this.args.length>1)&&G.push(de)}}return G.concat(this.args.map(function(Me){return Me.serialize()}))};var as=function(k){this.type=fa,this.sections=k};as.parse=function(k,G){if(k.length<2)return G.error("Expected at least one argument.");var ie=k[1];if(!Array.isArray(ie)&&typeof ie=="object")return G.error("First argument must be an image or text section.");for(var de=[],Me=!1,Ie=1;Ie<=k.length-1;++Ie){var Ke=k[Ie];if(Me&&typeof Ke=="object"&&!Array.isArray(Ke)){Me=!1;var ft=null;if(Ke["font-scale"]&&(ft=G.parse(Ke["font-scale"],1,Lr),!ft))return null;var Tt=null;if(Ke["text-font"]&&(Tt=G.parse(Ke["text-font"],1,ua(Or)),!Tt))return null;var Et=null;if(Ke["text-color"]&&(Et=G.parse(Ke["text-color"],1,On),!Et))return null;var Wt=de[de.length-1];Wt.scale=ft,Wt.font=Tt,Wt.textColor=Et}else{var ir=G.parse(k[Ie],1,xn);if(!ir)return null;var qt=ir.type.kind;if(qt!=="string"&&qt!=="value"&&qt!=="null"&&qt!=="resolvedImage")return G.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");Me=!0,de.push({content:ir,scale:null,font:null,textColor:null})}}return new as(de)},as.prototype.evaluate=function(k){var G=function(ie){var de=ie.content.evaluate(k);return zi(de)===la?new fu("",de,null,null,null):new fu(Zu(de),null,ie.scale?ie.scale.evaluate(k):null,ie.font?ie.font.evaluate(k).join(","):null,ie.textColor?ie.textColor.evaluate(k):null)};return new oo(this.sections.map(G))},as.prototype.eachChild=function(k){for(var G=0,ie=this.sections;G<ie.length;G+=1){var de=ie[G];k(de.content),de.scale&&k(de.scale),de.font&&k(de.font),de.textColor&&k(de.textColor)}},as.prototype.outputDefined=function(){return!1},as.prototype.serialize=function(){for(var k=["format"],G=0,ie=this.sections;G<ie.length;G+=1){var de=ie[G];k.push(de.content.serialize());var Me={};de.scale&&(Me["font-scale"]=de.scale.serialize()),de.font&&(Me["text-font"]=de.font.serialize()),de.textColor&&(Me["text-color"]=de.textColor.serialize()),k.push(Me)}return k};var Rs=function(k){this.type=la,this.input=k};Rs.parse=function(k,G){if(k.length!==2)return G.error("Expected two arguments.");var ie=G.parse(k[1],1,Or);return ie?new Rs(ie):G.error("No image name provided.")},Rs.prototype.evaluate=function(k){var G=this.input.evaluate(k),ie=Uo.fromString(G);return ie&&k.availableImages&&(ie.available=k.availableImages.indexOf(G)>-1),ie},Rs.prototype.eachChild=function(k){k(this.input)},Rs.prototype.outputDefined=function(){return!1},Rs.prototype.serialize=function(){return["image",this.input.serialize()]};var Js={"to-boolean":dn,"to-color":On,"to-number":Lr,"to-string":Or},co=function(k,G){this.type=k,this.args=G};co.parse=function(k,G){if(k.length<2)return G.error("Expected at least one argument.");var ie=k[0];if((ie==="to-boolean"||ie==="to-string")&&k.length!==2)return G.error("Expected one argument.");for(var de=Js[ie],Me=[],Ie=1;Ie<k.length;Ie++){var Ke=G.parse(k[Ie],Ie,xn);if(!Ke)return null;Me.push(Ke)}return new co(de,Me)},co.prototype.evaluate=function(k){if(this.type.kind==="boolean")return!!this.args[0].evaluate(k);if(this.type.kind==="color"){for(var G,ie,de=0,Me=this.args;de<Me.length;de+=1){var Ie=Me[de];if(G=Ie.evaluate(k),ie=null,G instanceof ai)return G;if(typeof G=="string"){var Ke=k.parseColor(G);if(Ke)return Ke}else if(Array.isArray(G)&&(G.length<3||G.length>4?ie="Invalid rbga value "+JSON.stringify(G)+": expected an array containing either three or four numeric values.":ie=$c(G[0],G[1],G[2],G[3]),!ie))return new ai(G[0]/255,G[1]/255,G[2]/255,G[3])}throw new eo(ie||"Could not parse color from value '"+(typeof G=="string"?G:String(JSON.stringify(G)))+"'")}else if(this.type.kind==="number"){for(var ft=null,Tt=0,Et=this.args;Tt<Et.length;Tt+=1){var Wt=Et[Tt];if(ft=Wt.evaluate(k),ft===null)return 0;var ir=Number(ft);if(!isNaN(ir))return ir}throw new eo("Could not convert "+JSON.stringify(ft)+" to number.")}else return this.type.kind==="formatted"?oo.fromString(Zu(this.args[0].evaluate(k))):this.type.kind==="resolvedImage"?Uo.fromString(Zu(this.args[0].evaluate(k))):Zu(this.args[0].evaluate(k))},co.prototype.eachChild=function(k){this.args.forEach(k)},co.prototype.outputDefined=function(){return this.args.every(function(k){return k.outputDefined()})},co.prototype.serialize=function(){if(this.type.kind==="formatted")return new as([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new Rs(this.args[0]).serialize();var k=["to-"+this.type.kind];return this.eachChild(function(G){k.push(G.serialize())}),k};var Jc=["Unknown","Point","LineString","Polygon"],Ds=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};Ds.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},Ds.prototype.geometryType=function(){return this.feature?typeof this.feature.type=="number"?Jc[this.feature.type]:this.feature.type:null},Ds.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},Ds.prototype.canonicalID=function(){return this.canonical},Ds.prototype.properties=function(){return this.feature&&this.feature.properties||{}},Ds.prototype.parseColor=function(k){var G=this._parseColorCache[k];return G||(G=this._parseColorCache[k]=ai.parse(k)),G};var ho=function(k,G,ie,de){this.name=k,this.type=G,this._evaluate=ie,this.args=de};ho.prototype.evaluate=function(k){return this._evaluate(k,this.args)},ho.prototype.eachChild=function(k){this.args.forEach(k)},ho.prototype.outputDefined=function(){return!1},ho.prototype.serialize=function(){return[this.name].concat(this.args.map(function(k){return k.serialize()}))},ho.parse=function(k,G){var ie,de=k[0],Me=ho.definitions[de];if(!Me)return G.error('Unknown expression "'+de+'". If you wanted a literal array, use ["literal", [...]].',0);for(var Ie=Array.isArray(Me)?Me[0]:Me.type,Ke=Array.isArray(Me)?[[Me[1],Me[2]]]:Me.overloads,ft=Ke.filter(function(Sa){var Ma=Sa[0];return!Array.isArray(Ma)||Ma.length===k.length-1}),Tt=null,Et=0,Wt=ft;Et<Wt.length;Et+=1){var ir=Wt[Et],qt=ir[0],br=ir[1];Tt=new el(G.registry,G.path,null,G.scope);for(var Br=[],ln=!1,qr=1;qr<k.length;qr++){var Ln=k[qr],wn=Array.isArray(qt)?qt[qr-1]:qt.type,Cn=Tt.parse(Ln,1+Br.length,wn);if(!Cn){ln=!0;break}Br.push(Cn)}if(!ln){if(Array.isArray(qt)&&qt.length!==Br.length){Tt.error("Expected "+qt.length+" arguments, but found "+Br.length+" instead.");continue}for(var _n=0;_n<Br.length;_n++){var Gn=Array.isArray(qt)?qt[_n]:qt.type,na=Br[_n];Tt.concat(_n+1).checkSubtype(Gn,na.type)}if(Tt.errors.length===0)return new ho(de,Ie,br,Br)}}if(ft.length===1)(ie=G.errors).push.apply(ie,Tt.errors);else{for(var ra=ft.length?ft:Ke,Ca=ra.map(function(Sa){var Ma=Sa[0];return lc(Ma)}).join(" | "),va=[],xa=1;xa<k.length;xa++){var Ua=G.parse(k[xa],1+va.length);if(!Ua)return null;va.push(ga(Ua.type))}G.error("Expected arguments of type "+Ca+", but found ("+va.join(", ")+") instead.")}return null},ho.register=function(k,G){ho.definitions=G;for(var ie in G)k[ie]=ho};function lc(I){return Array.isArray(I)?"("+I.map(ga).join(", ")+")":"("+ga(I.type)+"...)"}var Qs=function(k,G,ie){this.type=aa,this.locale=ie,this.caseSensitive=k,this.diacriticSensitive=G};Qs.parse=function(k,G){if(k.length!==2)return G.error("Expected one argument.");var ie=k[1];if(typeof ie!="object"||Array.isArray(ie))return G.error("Collator options argument must be an object.");var de=G.parse(ie["case-sensitive"]===void 0?!1:ie["case-sensitive"],1,dn);if(!de)return null;var Me=G.parse(ie["diacritic-sensitive"]===void 0?!1:ie["diacritic-sensitive"],1,dn);if(!Me)return null;var Ie=null;return ie.locale&&(Ie=G.parse(ie.locale,1,Or),!Ie)?null:new Qs(de,Me,Ie)},Qs.prototype.evaluate=function(k){return new Yu(this.caseSensitive.evaluate(k),this.diacriticSensitive.evaluate(k),this.locale?this.locale.evaluate(k):null)},Qs.prototype.eachChild=function(k){k(this.caseSensitive),k(this.diacriticSensitive),this.locale&&k(this.locale)},Qs.prototype.outputDefined=function(){return!1},Qs.prototype.serialize=function(){var k={};return k["case-sensitive"]=this.caseSensitive.serialize(),k["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(k.locale=this.locale.serialize()),["collator",k]};var Is=8192;function uc(I,k){I[0]=Math.min(I[0],k[0]),I[1]=Math.min(I[1],k[1]),I[2]=Math.max(I[2],k[0]),I[3]=Math.max(I[3],k[1])}function fc(I){return(180+I)/360}function tv(I){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+I*Math.PI/360)))/360}function Xu(I,k){return!(I[0]<=k[0]||I[2]>=k[2]||I[1]<=k[1]||I[3]>=k[3])}function rv(I,k){var G=fc(I[0]),ie=tv(I[1]),de=Math.pow(2,k.z);return[Math.round(G*de*Is),Math.round(ie*de*Is)]}function nv(I,k,G){var ie=I[0]-k[0],de=I[1]-k[1],Me=I[0]-G[0],Ie=I[1]-G[1];return ie*Ie-Me*de===0&&ie*Me<=0&&de*Ie<=0}function av(I,k,G){return k[1]>I[1]!=G[1]>I[1]&&I[0]<(G[0]-k[0])*(I[1]-k[1])/(G[1]-k[1])+k[0]}function cc(I,k){for(var G=!1,ie=0,de=k.length;ie<de;ie++)for(var Me=k[ie],Ie=0,Ke=Me.length;Ie<Ke-1;Ie++){if(nv(I,Me[Ie],Me[Ie+1]))return!1;av(I,Me[Ie],Me[Ie+1])&&(G=!G)}return G}function iv(I,k){for(var G=0;G<k.length;G++)if(cc(I,k[G]))return!0;return!1}function ov(I,k){return I[0]*k[1]-I[1]*k[0]}function Qc(I,k,G,ie){var de=I[0]-G[0],Me=I[1]-G[1],Ie=k[0]-G[0],Ke=k[1]-G[1],ft=ie[0]-G[0],Tt=ie[1]-G[1],Et=de*Tt-ft*Me,Wt=Ie*Tt-ft*Ke;return Et>0&&Wt<0||Et<0&&Wt>0}function sv(I,k,G,ie){var de=[k[0]-I[0],k[1]-I[1]],Me=[ie[0]-G[0],ie[1]-G[1]];return ov(Me,de)===0?!1:!!(Qc(I,k,G,ie)&&Qc(G,ie,I,k))}function lv(I,k,G){for(var ie=0,de=G;ie<de.length;ie+=1)for(var Me=de[ie],Ie=0;Ie<Me.length-1;++Ie)if(sv(I,k,Me[Ie],Me[Ie+1]))return!0;return!1}function hc(I,k){for(var G=0;G<I.length;++G)if(!cc(I[G],k))return!1;for(var ie=0;ie<I.length-1;++ie)if(lv(I[ie],I[ie+1],k))return!1;return!0}function Fl(I,k){for(var G=0;G<k.length;G++)if(hc(I,k[G]))return!0;return!1}function Bl(I,k,G){for(var ie=[],de=0;de<I.length;de++){for(var Me=[],Ie=0;Ie<I[de].length;Ie++){var Ke=rv(I[de][Ie],G);uc(k,Ke),Me.push(Ke)}ie.push(Me)}return ie}function cu(I,k,G){for(var ie=[],de=0;de<I.length;de++){var Me=Bl(I[de],k,G);ie.push(Me)}return ie}function Sf(I,k,G,ie){if(I[0]<G[0]||I[0]>G[2]){var de=ie*.5,Me=I[0]-G[0]>de?-ie:G[0]-I[0]>de?ie:0;Me===0&&(Me=I[0]-G[2]>de?-ie:G[2]-I[0]>de?ie:0),I[0]+=Me}uc(k,I)}function uv(I){I[0]=I[1]=1/0,I[2]=I[3]=-1/0}function qs(I,k,G,ie){for(var de=Math.pow(2,ie.z)*Is,Me=[ie.x*Is,ie.y*Is],Ie=[],Ke=0,ft=I;Ke<ft.length;Ke+=1)for(var Tt=ft[Ke],Et=0,Wt=Tt;Et<Wt.length;Et+=1){var ir=Wt[Et],qt=[ir.x+Me[0],ir.y+Me[1]];Sf(qt,k,G,de),Ie.push(qt)}return Ie}function qc(I,k,G,ie){for(var de=Math.pow(2,ie.z)*Is,Me=[ie.x*Is,ie.y*Is],Ie=[],Ke=0,ft=I;Ke<ft.length;Ke+=1){for(var Tt=ft[Ke],Et=[],Wt=0,ir=Tt;Wt<ir.length;Wt+=1){var qt=ir[Wt],br=[qt.x+Me[0],qt.y+Me[1]];uc(k,br),Et.push(br)}Ie.push(Et)}if(k[2]-k[0]<=de/2){uv(k);for(var Br=0,ln=Ie;Br<ln.length;Br+=1)for(var qr=ln[Br],Ln=0,wn=qr;Ln<wn.length;Ln+=1){var Cn=wn[Ln];Sf(Cn,k,G,de)}}return Ie}function vc(I,k){var G=[1/0,1/0,-1/0,-1/0],ie=[1/0,1/0,-1/0,-1/0],de=I.canonicalID();if(k.type==="Polygon"){var Me=Bl(k.coordinates,ie,de),Ie=qs(I.geometry(),G,ie,de);if(!Xu(G,ie))return!1;for(var Ke=0,ft=Ie;Ke<ft.length;Ke+=1){var Tt=ft[Ke];if(!cc(Tt,Me))return!1}}if(k.type==="MultiPolygon"){var Et=cu(k.coordinates,ie,de),Wt=qs(I.geometry(),G,ie,de);if(!Xu(G,ie))return!1;for(var ir=0,qt=Wt;ir<qt.length;ir+=1){var br=qt[ir];if(!iv(br,Et))return!1}}return!0}function fv(I,k){var G=[1/0,1/0,-1/0,-1/0],ie=[1/0,1/0,-1/0,-1/0],de=I.canonicalID();if(k.type==="Polygon"){var Me=Bl(k.coordinates,ie,de),Ie=qc(I.geometry(),G,ie,de);if(!Xu(G,ie))return!1;for(var Ke=0,ft=Ie;Ke<ft.length;Ke+=1){var Tt=ft[Ke];if(!hc(Tt,Me))return!1}}if(k.type==="MultiPolygon"){var Et=cu(k.coordinates,ie,de),Wt=qc(I.geometry(),G,ie,de);if(!Xu(G,ie))return!1;for(var ir=0,qt=Wt;ir<qt.length;ir+=1){var br=qt[ir];if(!Fl(br,Et))return!1}}return!0}var is=function(k,G){this.type=dn,this.geojson=k,this.geometries=G};is.parse=function(k,G){if(k.length!==2)return G.error("'within' expression requires exactly one argument, but found "+(k.length-1)+" instead.");if(ju(k[1])){var ie=k[1];if(ie.type==="FeatureCollection")for(var de=0;de<ie.features.length;++de){var Me=ie.features[de].geometry.type;if(Me==="Polygon"||Me==="MultiPolygon")return new is(ie,ie.features[de].geometry)}else if(ie.type==="Feature"){var Ie=ie.geometry.type;if(Ie==="Polygon"||Ie==="MultiPolygon")return new is(ie,ie.geometry)}else if(ie.type==="Polygon"||ie.type==="MultiPolygon")return new is(ie,ie)}return G.error("'within' expression requires valid geojson object that contains polygon geometry type.")},is.prototype.evaluate=function(k){if(k.geometry()!=null&&k.canonicalID()!=null){if(k.geometryType()==="Point")return vc(k,this.geometries);if(k.geometryType()==="LineString")return fv(k,this.geometries)}return!1},is.prototype.eachChild=function(){},is.prototype.outputDefined=function(){return!0},is.prototype.serialize=function(){return["within",this.geojson]};function Nl(I){if(I instanceof ho){if(I.name==="get"&&I.args.length===1)return!1;if(I.name==="feature-state")return!1;if(I.name==="has"&&I.args.length===1)return!1;if(I.name==="properties"||I.name==="geometry-type"||I.name==="id")return!1;if(/^filter-/.test(I.name))return!1}if(I instanceof is)return!1;var k=!0;return I.eachChild(function(G){k&&!Nl(G)&&(k=!1)}),k}function Ku(I){if(I instanceof ho&&I.name==="feature-state")return!1;var k=!0;return I.eachChild(function(G){k&&!Ku(G)&&(k=!1)}),k}function hu(I,k){if(I instanceof ho&&k.indexOf(I.name)>=0)return!1;var G=!0;return I.eachChild(function(ie){G&&!hu(ie,k)&&(G=!1)}),G}var ks=function(k,G){this.type=G.type,this.name=k,this.boundExpression=G};ks.parse=function(k,G){if(k.length!==2||typeof k[1]!="string")return G.error("'var' expression requires exactly one string literal argument.");var ie=k[1];return G.scope.has(ie)?new ks(ie,G.scope.get(ie)):G.error('Unknown variable "'+ie+'". Make sure "'+ie+'" has been bound in an enclosing "let" expression before using it.',1)},ks.prototype.evaluate=function(k){return this.boundExpression.evaluate(k)},ks.prototype.eachChild=function(){},ks.prototype.outputDefined=function(){return!1},ks.prototype.serialize=function(){return["var",this.name]};var el=function(k,G,ie,de,Me){G===void 0&&(G=[]),de===void 0&&(de=new vn),Me===void 0&&(Me=[]),this.registry=k,this.path=G,this.key=G.map(function(Ie){return"["+Ie+"]"}).join(""),this.scope=de,this.errors=Me,this.expectedType=ie};el.prototype.parse=function(k,G,ie,de,Me){return Me===void 0&&(Me={}),G?this.concat(G,ie,de)._parse(k,Me):this._parse(k,Me)},el.prototype._parse=function(k,G){(k===null||typeof k=="string"||typeof k=="boolean"||typeof k=="number")&&(k=["literal",k]);function ie(Et,Wt,ir){return ir==="assert"?new So(Wt,[Et]):ir==="coerce"?new co(Wt,[Et]):Et}if(Array.isArray(k)){if(k.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var de=k[0];if(typeof de!="string")return this.error("Expression name must be a string, but found "+typeof de+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var Me=this.registry[de];if(Me){var Ie=Me.parse(k,this);if(!Ie)return null;if(this.expectedType){var Ke=this.expectedType,ft=Ie.type;if((Ke.kind==="string"||Ke.kind==="number"||Ke.kind==="boolean"||Ke.kind==="object"||Ke.kind==="array")&&ft.kind==="value")Ie=ie(Ie,Ke,G.typeAnnotation||"assert");else if((Ke.kind==="color"||Ke.kind==="formatted"||Ke.kind==="resolvedImage")&&(ft.kind==="value"||ft.kind==="string"))Ie=ie(Ie,Ke,G.typeAnnotation||"coerce");else if(this.checkSubtype(Ke,ft))return null}if(!(Ie instanceof Ko)&&Ie.type.kind!=="resolvedImage"&&dc(Ie)){var Tt=new Ds;try{Ie=new Ko(Ie.type,Ie.evaluate(Tt))}catch(Et){return this.error(Et.message),null}}return Ie}return this.error('Unknown expression "'+de+'". If you wanted a literal array, use ["literal", [...]].',0)}else return typeof k>"u"?this.error("'undefined' value invalid. Use null instead."):typeof k=="object"?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found "+typeof k+" instead.")},el.prototype.concat=function(k,G,ie){var de=typeof k=="number"?this.path.concat(k):this.path,Me=ie?this.scope.concat(ie):this.scope;return new el(this.registry,de,G||null,Me,this.errors)},el.prototype.error=function(k){for(var G=[],ie=arguments.length-1;ie-- >0;)G[ie]=arguments[ie+1];var de=""+this.key+G.map(function(Me){return"["+Me+"]"}).join("");this.errors.push(new Sn(de,k))},el.prototype.checkSubtype=function(k,G){var ie=Ao(k,G);return ie&&this.error(ie),ie};function dc(I){if(I instanceof ks)return dc(I.boundExpression);if(I instanceof ho&&I.name==="error")return!1;if(I instanceof Qs)return!1;if(I instanceof is)return!1;var k=I instanceof co||I instanceof So,G=!0;return I.eachChild(function(ie){k?G=G&&dc(ie):G=G&&ie instanceof Ko}),G?Nl(I)&&hu(I,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"]):!1}function vu(I,k){for(var G=I.length-1,ie=0,de=G,Me=0,Ie,Ke;ie<=de;)if(Me=Math.floor((ie+de)/2),Ie=I[Me],Ke=I[Me+1],Ie<=k){if(Me===G||k<Ke)return Me;ie=Me+1}else if(Ie>k)de=Me-1;else throw new eo("Input is not a number.");return 0}var dl=function(k,G,ie){this.type=k,this.input=G,this.labels=[],this.outputs=[];for(var de=0,Me=ie;de<Me.length;de+=1){var Ie=Me[de],Ke=Ie[0],ft=Ie[1];this.labels.push(Ke),this.outputs.push(ft)}};dl.parse=function(k,G){if(k.length-1<4)return G.error("Expected at least 4 arguments, but found only "+(k.length-1)+".");if((k.length-1)%2!==0)return G.error("Expected an even number of arguments.");var ie=G.parse(k[1],1,Lr);if(!ie)return null;var de=[],Me=null;G.expectedType&&G.expectedType.kind!=="value"&&(Me=G.expectedType);for(var Ie=1;Ie<k.length;Ie+=2){var Ke=Ie===1?-1/0:k[Ie],ft=k[Ie+1],Tt=Ie,Et=Ie+1;if(typeof Ke!="number")return G.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Tt);if(de.length&&de[de.length-1][0]>=Ke)return G.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',Tt);var Wt=G.parse(ft,Et,Me);if(!Wt)return null;Me=Me||Wt.type,de.push([Ke,Wt])}return new dl(Me,ie,de)},dl.prototype.evaluate=function(k){var G=this.labels,ie=this.outputs;if(G.length===1)return ie[0].evaluate(k);var de=this.input.evaluate(k);if(de<=G[0])return ie[0].evaluate(k);var Me=G.length;if(de>=G[Me-1])return ie[Me-1].evaluate(k);var Ie=vu(G,de);return ie[Ie].evaluate(k)},dl.prototype.eachChild=function(k){k(this.input);for(var G=0,ie=this.outputs;G<ie.length;G+=1){var de=ie[G];k(de)}},dl.prototype.outputDefined=function(){return this.outputs.every(function(k){return k.outputDefined()})},dl.prototype.serialize=function(){for(var k=["step",this.input.serialize()],G=0;G<this.labels.length;G++)G>0&&k.push(this.labels[G]),k.push(this.outputs[G].serialize());return k};function Hi(I,k,G){return I*(1-G)+k*G}function pc(I,k,G){return new ai(Hi(I.r,k.r,G),Hi(I.g,k.g,G),Hi(I.b,k.b,G),Hi(I.a,k.a,G))}function Mf(I,k,G){return I.map(function(ie,de){return Hi(ie,k[de],G)})}var du=Object.freeze({__proto__:null,number:Hi,color:pc,array:Mf}),eh=.95047,th=1,pu=1.08883,gu=4/29,so=6/29,Ef=3*so*so,cv=so*so*so,gc=Math.PI/180,hv=180/Math.PI;function Cf(I){return I>cv?Math.pow(I,.3333333333333333):I/Ef+gu}function $u(I){return I>so?I*I*I:Ef*(I-gu)}function yc(I){return 255*(I<=.0031308?12.92*I:1.055*Math.pow(I,.4166666666666667)-.055)}function mc(I){return I/=255,I<=.04045?I/12.92:Math.pow((I+.055)/1.055,2.4)}function Ju(I){var k=mc(I.r),G=mc(I.g),ie=mc(I.b),de=Cf((.4124564*k+.3575761*G+.1804375*ie)/eh),Me=Cf((.2126729*k+.7151522*G+.072175*ie)/th),Ie=Cf((.0193339*k+.119192*G+.9503041*ie)/pu);return{l:116*Me-16,a:500*(de-Me),b:200*(Me-Ie),alpha:I.a}}function xc(I){var k=(I.l+16)/116,G=isNaN(I.a)?k:k+I.a/500,ie=isNaN(I.b)?k:k-I.b/200;return k=th*$u(k),G=eh*$u(G),ie=pu*$u(ie),new ai(yc(3.2404542*G-1.5371385*k-.4985314*ie),yc(-.969266*G+1.8760108*k+.041556*ie),yc(.0556434*G-.2040259*k+1.0572252*ie),I.alpha)}function Lf(I,k,G){return{l:Hi(I.l,k.l,G),a:Hi(I.a,k.a,G),b:Hi(I.b,k.b,G),alpha:Hi(I.alpha,k.alpha,G)}}function bc(I){var k=Ju(I),G=k.l,ie=k.a,de=k.b,Me=Math.atan2(de,ie)*hv;return{h:Me<0?Me+360:Me,c:Math.sqrt(ie*ie+de*de),l:G,alpha:I.a}}function mi(I){var k=I.h*gc,G=I.c,ie=I.l;return xc({l:ie,a:Math.cos(k)*G,b:Math.sin(k)*G,alpha:I.alpha})}function rh(I,k,G){var ie=k-I;return I+G*(ie>180||ie<-180?ie-360*Math.round(ie/360):ie)}function ys(I,k,G){return{h:rh(I.h,k.h,G),c:Hi(I.c,k.c,G),l:Hi(I.l,k.l,G),alpha:Hi(I.alpha,k.alpha,G)}}var yu={forward:Ju,reverse:xc,interpolate:Lf},Ul={forward:bc,reverse:mi,interpolate:ys},wc=Object.freeze({__proto__:null,lab:yu,hcl:Ul}),Gi=function(k,G,ie,de,Me){this.type=k,this.operator=G,this.interpolation=ie,this.input=de,this.labels=[],this.outputs=[];for(var Ie=0,Ke=Me;Ie<Ke.length;Ie+=1){var ft=Ke[Ie],Tt=ft[0],Et=ft[1];this.labels.push(Tt),this.outputs.push(Et)}};Gi.interpolationFactor=function(k,G,ie,de){var Me=0;if(k.name==="exponential")Me=Qu(G,k.base,ie,de);else if(k.name==="linear")Me=Qu(G,1,ie,de);else if(k.name==="cubic-bezier"){var Ie=k.controlPoints,Ke=new v(Ie[0],Ie[1],Ie[2],Ie[3]);Me=Ke.solve(Qu(G,1,ie,de))}return Me},Gi.parse=function(k,G){var ie=k[0],de=k[1],Me=k[2],Ie=k.slice(3);if(!Array.isArray(de)||de.length===0)return G.error("Expected an interpolation type expression.",1);if(de[0]==="linear")de={name:"linear"};else if(de[0]==="exponential"){var Ke=de[1];if(typeof Ke!="number")return G.error("Exponential interpolation requires a numeric base.",1,1);de={name:"exponential",base:Ke}}else if(de[0]==="cubic-bezier"){var ft=de.slice(1);if(ft.length!==4||ft.some(function(qr){return typeof qr!="number"||qr<0||qr>1}))return G.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);de={name:"cubic-bezier",controlPoints:ft}}else return G.error("Unknown interpolation type "+String(de[0]),1,0);if(k.length-1<4)return G.error("Expected at least 4 arguments, but found only "+(k.length-1)+".");if((k.length-1)%2!==0)return G.error("Expected an even number of arguments.");if(Me=G.parse(Me,2,Lr),!Me)return null;var Tt=[],Et=null;ie==="interpolate-hcl"||ie==="interpolate-lab"?Et=On:G.expectedType&&G.expectedType.kind!=="value"&&(Et=G.expectedType);for(var Wt=0;Wt<Ie.length;Wt+=2){var ir=Ie[Wt],qt=Ie[Wt+1],br=Wt+3,Br=Wt+4;if(typeof ir!="number")return G.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',br);if(Tt.length&&Tt[Tt.length-1][0]>=ir)return G.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',br);var ln=G.parse(qt,Br,Et);if(!ln)return null;Et=Et||ln.type,Tt.push([ir,ln])}return Et.kind!=="number"&&Et.kind!=="color"&&!(Et.kind==="array"&&Et.itemType.kind==="number"&&typeof Et.N=="number")?G.error("Type "+ga(Et)+" is not interpolatable."):new Gi(Et,ie,de,Me,Tt)},Gi.prototype.evaluate=function(k){var G=this.labels,ie=this.outputs;if(G.length===1)return ie[0].evaluate(k);var de=this.input.evaluate(k);if(de<=G[0])return ie[0].evaluate(k);var Me=G.length;if(de>=G[Me-1])return ie[Me-1].evaluate(k);var Ie=vu(G,de),Ke=G[Ie],ft=G[Ie+1],Tt=Gi.interpolationFactor(this.interpolation,de,Ke,ft),Et=ie[Ie].evaluate(k),Wt=ie[Ie+1].evaluate(k);return this.operator==="interpolate"?du[this.type.kind.toLowerCase()](Et,Wt,Tt):this.operator==="interpolate-hcl"?Ul.reverse(Ul.interpolate(Ul.forward(Et),Ul.forward(Wt),Tt)):yu.reverse(yu.interpolate(yu.forward(Et),yu.forward(Wt),Tt))},Gi.prototype.eachChild=function(k){k(this.input);for(var G=0,ie=this.outputs;G<ie.length;G+=1){var de=ie[G];k(de)}},Gi.prototype.outputDefined=function(){return this.outputs.every(function(k){return k.outputDefined()})},Gi.prototype.serialize=function(){var k;this.interpolation.name==="linear"?k=["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?k=["linear"]:k=["exponential",this.interpolation.base]:k=["cubic-bezier"].concat(this.interpolation.controlPoints);for(var G=[this.operator,k,this.input.serialize()],ie=0;ie<this.labels.length;ie++)G.push(this.labels[ie],this.outputs[ie].serialize());return G};function Qu(I,k,G,ie){var de=ie-G,Me=I-G;return de===0?0:k===1?Me/de:(Math.pow(k,Me)-1)/(Math.pow(k,de)-1)}var Ho=function(k,G){this.type=k,this.args=G};Ho.parse=function(k,G){if(k.length<2)return G.error("Expectected at least one argument.");var ie=null,de=G.expectedType;de&&de.kind!=="value"&&(ie=de);for(var Me=[],Ie=0,Ke=k.slice(1);Ie<Ke.length;Ie+=1){var ft=Ke[Ie],Tt=G.parse(ft,1+Me.length,ie,void 0,{typeAnnotation:"omit"});if(!Tt)return null;ie=ie||Tt.type,Me.push(Tt)}var Et=de&&Me.some(function(Wt){return Ao(de,Wt.type)});return Et?new Ho(xn,Me):new Ho(ie,Me)},Ho.prototype.evaluate=function(k){for(var G=null,ie=0,de,Me=0,Ie=this.args;Me<Ie.length;Me+=1){var Ke=Ie[Me];if(ie++,G=Ke.evaluate(k),G&&G instanceof Uo&&!G.available&&(de||(de=G.name),G=null,ie===this.args.length&&(G=de)),G!==null)break}return G},Ho.prototype.eachChild=function(k){this.args.forEach(k)},Ho.prototype.outputDefined=function(){return this.args.every(function(k){return k.outputDefined()})},Ho.prototype.serialize=function(){var k=["coalesce"];return this.eachChild(function(G){k.push(G.serialize())}),k};var tl=function(k,G){this.type=G.type,this.bindings=[].concat(k),this.result=G};tl.prototype.evaluate=function(k){return this.result.evaluate(k)},tl.prototype.eachChild=function(k){for(var G=0,ie=this.bindings;G<ie.length;G+=1){var de=ie[G];k(de[1])}k(this.result)},tl.parse=function(k,G){if(k.length<4)return G.error("Expected at least 3 arguments, but found "+(k.length-1)+" instead.");for(var ie=[],de=1;de<k.length-1;de+=2){var Me=k[de];if(typeof Me!="string")return G.error("Expected string, but found "+typeof Me+" instead.",de);if(/[^a-zA-Z0-9_]/.test(Me))return G.error("Variable names must contain only alphanumeric characters or '_'.",de);var Ie=G.parse(k[de+1],de+1);if(!Ie)return null;ie.push([Me,Ie])}var Ke=G.parse(k[k.length-1],k.length-1,G.expectedType,ie);return Ke?new tl(ie,Ke):null},tl.prototype.outputDefined=function(){return this.result.outputDefined()},tl.prototype.serialize=function(){for(var k=["let"],G=0,ie=this.bindings;G<ie.length;G+=1){var de=ie[G],Me=de[0],Ie=de[1];k.push(Me,Ie.serialize())}return k.push(this.result.serialize()),k};var rl=function(k,G,ie){this.type=k,this.index=G,this.input=ie};rl.parse=function(k,G){if(k.length!==3)return G.error("Expected 2 arguments, but found "+(k.length-1)+" instead.");var ie=G.parse(k[1],1,Lr),de=G.parse(k[2],2,ua(G.expectedType||xn));if(!ie||!de)return null;var Me=de.type;return new rl(Me.itemType,ie,de)},rl.prototype.evaluate=function(k){var G=this.index.evaluate(k),ie=this.input.evaluate(k);if(G<0)throw new eo("Array index out of bounds: "+G+" < 0.");if(G>=ie.length)throw new eo("Array index out of bounds: "+G+" > "+(ie.length-1)+".");if(G!==Math.floor(G))throw new eo("Array index must be an integer, but found "+G+" instead.");return ie[G]},rl.prototype.eachChild=function(k){k(this.index),k(this.input)},rl.prototype.outputDefined=function(){return!1},rl.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var pl=function(k,G){this.type=dn,this.needle=k,this.haystack=G};pl.parse=function(k,G){if(k.length!==3)return G.error("Expected 2 arguments, but found "+(k.length-1)+" instead.");var ie=G.parse(k[1],1,xn),de=G.parse(k[2],2,xn);return!ie||!de?null:Do(ie.type,[dn,Or,Lr,Dr,xn])?new pl(ie,de):G.error("Expected first argument to be of type boolean, string, number or null, but found "+ga(ie.type)+" instead")},pl.prototype.evaluate=function(k){var G=this.needle.evaluate(k),ie=this.haystack.evaluate(k);if(!ie)return!1;if(!No(G,["boolean","string","number","null"]))throw new eo("Expected first argument to be of type boolean, string, number or null, but found "+ga(zi(G))+" instead.");if(!No(ie,["string","array"]))throw new eo("Expected second argument to be of type array or string, but found "+ga(zi(ie))+" instead.");return ie.indexOf(G)>=0},pl.prototype.eachChild=function(k){k(this.needle),k(this.haystack)},pl.prototype.outputDefined=function(){return!0},pl.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var yl=function(k,G,ie){this.type=Lr,this.needle=k,this.haystack=G,this.fromIndex=ie};yl.parse=function(k,G){if(k.length<=2||k.length>=5)return G.error("Expected 3 or 4 arguments, but found "+(k.length-1)+" instead.");var ie=G.parse(k[1],1,xn),de=G.parse(k[2],2,xn);if(!ie||!de)return null;if(!Do(ie.type,[dn,Or,Lr,Dr,xn]))return G.error("Expected first argument to be of type boolean, string, number or null, but found "+ga(ie.type)+" instead");if(k.length===4){var Me=G.parse(k[3],3,Lr);return Me?new yl(ie,de,Me):null}else return new yl(ie,de)},yl.prototype.evaluate=function(k){var G=this.needle.evaluate(k),ie=this.haystack.evaluate(k);if(!No(G,["boolean","string","number","null"]))throw new eo("Expected first argument to be of type boolean, string, number or null, but found "+ga(zi(G))+" instead.");if(!No(ie,["string","array"]))throw new eo("Expected second argument to be of type array or string, but found "+ga(zi(ie))+" instead.");if(this.fromIndex){var de=this.fromIndex.evaluate(k);return ie.indexOf(G,de)}return ie.indexOf(G)},yl.prototype.eachChild=function(k){k(this.needle),k(this.haystack),this.fromIndex&&k(this.fromIndex)},yl.prototype.outputDefined=function(){return!1},yl.prototype.serialize=function(){if(this.fromIndex!=null&&this.fromIndex!==void 0){var k=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),k]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var ml=function(k,G,ie,de,Me,Ie){this.inputType=k,this.type=G,this.input=ie,this.cases=de,this.outputs=Me,this.otherwise=Ie};ml.parse=function(k,G){if(k.length<5)return G.error("Expected at least 4 arguments, but found only "+(k.length-1)+".");if(k.length%2!==1)return G.error("Expected an even number of arguments.");var ie,de;G.expectedType&&G.expectedType.kind!=="value"&&(de=G.expectedType);for(var Me={},Ie=[],Ke=2;Ke<k.length-1;Ke+=2){var ft=k[Ke],Tt=k[Ke+1];Array.isArray(ft)||(ft=[ft]);var Et=G.concat(Ke);if(ft.length===0)return Et.error("Expected at least one branch label.");for(var Wt=0,ir=ft;Wt<ir.length;Wt+=1){var qt=ir[Wt];if(typeof qt!="number"&&typeof qt!="string")return Et.error("Branch labels must be numbers or strings.");if(typeof qt=="number"&&Math.abs(qt)>Number.MAX_SAFE_INTEGER)return Et.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if(typeof qt=="number"&&Math.floor(qt)!==qt)return Et.error("Numeric branch labels must be integer values.");if(!ie)ie=zi(qt);else if(Et.checkSubtype(ie,zi(qt)))return null;if(typeof Me[String(qt)]<"u")return Et.error("Branch labels must be unique.");Me[String(qt)]=Ie.length}var br=G.parse(Tt,Ke,de);if(!br)return null;de=de||br.type,Ie.push(br)}var Br=G.parse(k[1],1,xn);if(!Br)return null;var ln=G.parse(k[k.length-1],k.length-1,de);return!ln||Br.type.kind!=="value"&&G.concat(1).checkSubtype(ie,Br.type)?null:new ml(ie,de,Br,Me,Ie,ln)},ml.prototype.evaluate=function(k){var G=this.input.evaluate(k),ie=zi(G)===this.inputType&&this.outputs[this.cases[G]]||this.otherwise;return ie.evaluate(k)},ml.prototype.eachChild=function(k){k(this.input),this.outputs.forEach(k),k(this.otherwise)},ml.prototype.outputDefined=function(){return this.outputs.every(function(k){return k.outputDefined()})&&this.otherwise.outputDefined()},ml.prototype.serialize=function(){for(var k=this,G=["match",this.input.serialize()],ie=Object.keys(this.cases).sort(),de=[],Me={},Ie=0,Ke=ie;Ie<Ke.length;Ie+=1){var ft=Ke[Ie],Tt=Me[this.cases[ft]];Tt===void 0?(Me[this.cases[ft]]=de.length,de.push([this.cases[ft],[ft]])):de[Tt][1].push(ft)}for(var Et=function(Br){return k.inputType.kind==="number"?Number(Br):Br},Wt=0,ir=de;Wt<ir.length;Wt+=1){var qt=ir[Wt],Tt=qt[0],br=qt[1];br.length===1?G.push(Et(br[0])):G.push(br.map(Et)),G.push(this.outputs[outputIndex$1].serialize())}return G.push(this.otherwise.serialize()),G};var ms=function(k,G,ie){this.type=k,this.branches=G,this.otherwise=ie};ms.parse=function(k,G){if(k.length<4)return G.error("Expected at least 3 arguments, but found only "+(k.length-1)+".");if(k.length%2!==0)return G.error("Expected an odd number of arguments.");var ie;G.expectedType&&G.expectedType.kind!=="value"&&(ie=G.expectedType);for(var de=[],Me=1;Me<k.length-1;Me+=2){var Ie=G.parse(k[Me],Me,dn);if(!Ie)return null;var Ke=G.parse(k[Me+1],Me+1,ie);if(!Ke)return null;de.push([Ie,Ke]),ie=ie||Ke.type}var ft=G.parse(k[k.length-1],k.length-1,ie);return ft?new ms(ie,de,ft):null},ms.prototype.evaluate=function(k){for(var G=0,ie=this.branches;G<ie.length;G+=1){var de=ie[G],Me=de[0],Ie=de[1];if(Me.evaluate(k))return Ie.evaluate(k)}return this.otherwise.evaluate(k)},ms.prototype.eachChild=function(k){for(var G=0,ie=this.branches;G<ie.length;G+=1){var de=ie[G],Me=de[0],Ie=de[1];k(Me),k(Ie)}k(this.otherwise)},ms.prototype.outputDefined=function(){return this.branches.every(function(k){k[0];var G=k[1];return G.outputDefined()})&&this.otherwise.outputDefined()},ms.prototype.serialize=function(){var k=["case"];return this.eachChild(function(G){k.push(G.serialize())}),k};var _s=function(k,G,ie,de){this.type=k,this.input=G,this.beginIndex=ie,this.endIndex=de};_s.parse=function(k,G){if(k.length<=2||k.length>=5)return G.error("Expected 3 or 4 arguments, but found "+(k.length-1)+" instead.");var ie=G.parse(k[1],1,xn),de=G.parse(k[2],2,Lr);if(!ie||!de)return null;if(!Do(ie.type,[ua(xn),Or,xn]))return G.error("Expected first argument to be of type array or string, but found "+ga(ie.type)+" instead");if(k.length===4){var Me=G.parse(k[3],3,Lr);return Me?new _s(ie.type,ie,de,Me):null}else return new _s(ie.type,ie,de)},_s.prototype.evaluate=function(k){var G=this.input.evaluate(k),ie=this.beginIndex.evaluate(k);if(!No(G,["string","array"]))throw new eo("Expected first argument to be of type array or string, but found "+ga(zi(G))+" instead.");if(this.endIndex){var de=this.endIndex.evaluate(k);return G.slice(ie,de)}return G.slice(ie)},_s.prototype.eachChild=function(k){k(this.input),k(this.beginIndex),this.endIndex&&k(this.endIndex)},_s.prototype.outputDefined=function(){return!1},_s.prototype.serialize=function(){if(this.endIndex!=null&&this.endIndex!==void 0){var k=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),k]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};function qu(I,k){return I==="=="||I==="!="?k.kind==="boolean"||k.kind==="string"||k.kind==="number"||k.kind==="null"||k.kind==="value":k.kind==="string"||k.kind==="number"||k.kind==="value"}function ef(I,k,G){return k===G}function Pf(I,k,G){return k!==G}function vv(I,k,G){return k<G}function dv(I,k,G){return k>G}function pv(I,k,G){return k<=G}function gv(I,k,G){return k>=G}function Rf(I,k,G,ie){return ie.compare(k,G)===0}function nh(I,k,G,ie){return!Rf(I,k,G,ie)}function mu(I,k,G,ie){return ie.compare(k,G)<0}function vo(I,k,G,ie){return ie.compare(k,G)>0}function Vo(I,k,G,ie){return ie.compare(k,G)<=0}function tf(I,k,G,ie){return ie.compare(k,G)>=0}function Hl(I,k,G){var ie=I!=="=="&&I!=="!=";return function(){function de(Me,Ie,Ke){this.type=dn,this.lhs=Me,this.rhs=Ie,this.collator=Ke,this.hasUntypedArgument=Me.type.kind==="value"||Ie.type.kind==="value"}return de.parse=function(Ie,Ke){if(Ie.length!==3&&Ie.length!==4)return Ke.error("Expected two or three arguments.");var ft=Ie[0],Tt=Ke.parse(Ie[1],1,xn);if(!Tt)return null;if(!qu(ft,Tt.type))return Ke.concat(1).error('"'+ft+`" comparisons are not supported for type '`+ga(Tt.type)+"'.");var Et=Ke.parse(Ie[2],2,xn);if(!Et)return null;if(!qu(ft,Et.type))return Ke.concat(2).error('"'+ft+`" comparisons are not supported for type '`+ga(Et.type)+"'.");if(Tt.type.kind!==Et.type.kind&&Tt.type.kind!=="value"&&Et.type.kind!=="value")return Ke.error("Cannot compare types '"+ga(Tt.type)+"' and '"+ga(Et.type)+"'.");ie&&(Tt.type.kind==="value"&&Et.type.kind!=="value"?Tt=new So(Et.type,[Tt]):Tt.type.kind!=="value"&&Et.type.kind==="value"&&(Et=new So(Tt.type,[Et])));var Wt=null;if(Ie.length===4){if(Tt.type.kind!=="string"&&Et.type.kind!=="string"&&Tt.type.kind!=="value"&&Et.type.kind!=="value")return Ke.error("Cannot use collator to compare non-string types.");if(Wt=Ke.parse(Ie[3],3,aa),!Wt)return null}return new de(Tt,Et,Wt)},de.prototype.evaluate=function(Ie){var Ke=this.lhs.evaluate(Ie),ft=this.rhs.evaluate(Ie);if(ie&&this.hasUntypedArgument){var Tt=zi(Ke),Et=zi(ft);if(Tt.kind!==Et.kind||!(Tt.kind==="string"||Tt.kind==="number"))throw new eo('Expected arguments for "'+I+'" to be (string, string) or (number, number), but found ('+Tt.kind+", "+Et.kind+") instead.")}if(this.collator&&!ie&&this.hasUntypedArgument){var Wt=zi(Ke),ir=zi(ft);if(Wt.kind!=="string"||ir.kind!=="string")return k(Ie,Ke,ft)}return this.collator?G(Ie,Ke,ft,this.collator.evaluate(Ie)):k(Ie,Ke,ft)},de.prototype.eachChild=function(Ie){Ie(this.lhs),Ie(this.rhs),this.collator&&Ie(this.collator)},de.prototype.outputDefined=function(){return!0},de.prototype.serialize=function(){var Ie=[I];return this.eachChild(function(Ke){Ie.push(Ke.serialize())}),Ie},de}()}var rf=Hl("==",ef,Rf),Df=Hl("!=",Pf,nh),yv=Hl("<",vv,mu),ah=Hl(">",dv,vo),ih=Hl("<=",pv,Vo),Tc=Hl(">=",gv,tf),xl=function(k,G,ie,de,Me){this.type=Or,this.number=k,this.locale=G,this.currency=ie,this.minFractionDigits=de,this.maxFractionDigits=Me};xl.parse=function(k,G){if(k.length!==3)return G.error("Expected two arguments.");var ie=G.parse(k[1],1,Lr);if(!ie)return null;var de=k[2];if(typeof de!="object"||Array.isArray(de))return G.error("NumberFormat options argument must be an object.");var Me=null;if(de.locale&&(Me=G.parse(de.locale,1,Or),!Me))return null;var Ie=null;if(de.currency&&(Ie=G.parse(de.currency,1,Or),!Ie))return null;var Ke=null;if(de["min-fraction-digits"]&&(Ke=G.parse(de["min-fraction-digits"],1,Lr),!Ke))return null;var ft=null;return de["max-fraction-digits"]&&(ft=G.parse(de["max-fraction-digits"],1,Lr),!ft)?null:new xl(ie,Me,Ie,Ke,ft)},xl.prototype.evaluate=function(k){return new Intl.NumberFormat(this.locale?this.locale.evaluate(k):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(k):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(k):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(k):void 0}).format(this.number.evaluate(k))},xl.prototype.eachChild=function(k){k(this.number),this.locale&&k(this.locale),this.currency&&k(this.currency),this.minFractionDigits&&k(this.minFractionDigits),this.maxFractionDigits&&k(this.maxFractionDigits)},xl.prototype.outputDefined=function(){return!1},xl.prototype.serialize=function(){var k={};return this.locale&&(k.locale=this.locale.serialize()),this.currency&&(k.currency=this.currency.serialize()),this.minFractionDigits&&(k["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(k["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),k]};var Yi=function(k){this.type=Lr,this.input=k};Yi.parse=function(k,G){if(k.length!==2)return G.error("Expected 1 argument, but found "+(k.length-1)+" instead.");var ie=G.parse(k[1],1);return ie?ie.type.kind!=="array"&&ie.type.kind!=="string"&&ie.type.kind!=="value"?G.error("Expected argument of type string or array, but found "+ga(ie.type)+" instead."):new Yi(ie):null},Yi.prototype.evaluate=function(k){var G=this.input.evaluate(k);if(typeof G=="string")return G.length;if(Array.isArray(G))return G.length;throw new eo("Expected value to be of type string or array, but found "+ga(zi(G))+" instead.")},Yi.prototype.eachChild=function(k){k(this.input)},Yi.prototype.outputDefined=function(){return!1},Yi.prototype.serialize=function(){var k=["length"];return this.eachChild(function(G){k.push(G.serialize())}),k};var zs={"==":rf,"!=":Df,">":ah,"<":yv,">=":Tc,"<=":ih,array:So,at:rl,boolean:So,case:ms,coalesce:Ho,collator:Qs,format:as,image:Rs,in:pl,"index-of":yl,interpolate:Gi,"interpolate-hcl":Gi,"interpolate-lab":Gi,length:Yi,let:tl,literal:Ko,match:ml,number:So,"number-format":xl,object:So,slice:_s,step:dl,string:So,"to-boolean":co,"to-color":co,"to-number":co,"to-string":co,var:ks,within:is};function Ac(I,k){var G=k[0],ie=k[1],de=k[2],Me=k[3];G=G.evaluate(I),ie=ie.evaluate(I),de=de.evaluate(I);var Ie=Me?Me.evaluate(I):1,Ke=$c(G,ie,de,Ie);if(Ke)throw new eo(Ke);return new ai(G/255*Ie,ie/255*Ie,de/255*Ie,Ie)}function oh(I,k){return I in k}function Vl(I,k){var G=k[I];return typeof G>"u"?null:G}function If(I,k,G,ie){for(;G<=ie;){var de=G+ie>>1;if(k[de]===I)return!0;k[de]>I?ie=de-1:G=de+1}return!1}function xs(I){return{type:I}}ho.register(zs,{error:[Un,[Or],function(I,k){var G=k[0];throw new eo(G.evaluate(I))}],typeof:[Or,[xn],function(I,k){var G=k[0];return ga(zi(G.evaluate(I)))}],"to-rgba":[ua(Lr,4),[On],function(I,k){var G=k[0];return G.evaluate(I).toArray()}],rgb:[On,[Lr,Lr,Lr],Ac],rgba:[On,[Lr,Lr,Lr,Lr],Ac],has:{type:dn,overloads:[[[Or],function(I,k){var G=k[0];return oh(G.evaluate(I),I.properties())}],[[Or,Xn],function(I,k){var G=k[0],ie=k[1];return oh(G.evaluate(I),ie.evaluate(I))}]]},get:{type:xn,overloads:[[[Or],function(I,k){var G=k[0];return Vl(G.evaluate(I),I.properties())}],[[Or,Xn],function(I,k){var G=k[0],ie=k[1];return Vl(G.evaluate(I),ie.evaluate(I))}]]},"feature-state":[xn,[Or],function(I,k){var G=k[0];return Vl(G.evaluate(I),I.featureState||{})}],properties:[Xn,[],function(I){return I.properties()}],"geometry-type":[Or,[],function(I){return I.geometryType()}],id:[xn,[],function(I){return I.id()}],zoom:[Lr,[],function(I){return I.globals.zoom}],"heatmap-density":[Lr,[],function(I){return I.globals.heatmapDensity||0}],"line-progress":[Lr,[],function(I){return I.globals.lineProgress||0}],accumulated:[xn,[],function(I){return I.globals.accumulated===void 0?null:I.globals.accumulated}],"+":[Lr,xs(Lr),function(I,k){for(var G=0,ie=0,de=k;ie<de.length;ie+=1){var Me=de[ie];G+=Me.evaluate(I)}return G}],"*":[Lr,xs(Lr),function(I,k){for(var G=1,ie=0,de=k;ie<de.length;ie+=1){var Me=de[ie];G*=Me.evaluate(I)}return G}],"-":{type:Lr,overloads:[[[Lr,Lr],function(I,k){var G=k[0],ie=k[1];return G.evaluate(I)-ie.evaluate(I)}],[[Lr],function(I,k){var G=k[0];return-G.evaluate(I)}]]},"/":[Lr,[Lr,Lr],function(I,k){var G=k[0],ie=k[1];return G.evaluate(I)/ie.evaluate(I)}],"%":[Lr,[Lr,Lr],function(I,k){var G=k[0],ie=k[1];return G.evaluate(I)%ie.evaluate(I)}],ln2:[Lr,[],function(){return Math.LN2}],pi:[Lr,[],function(){return Math.PI}],e:[Lr,[],function(){return Math.E}],"^":[Lr,[Lr,Lr],function(I,k){var G=k[0],ie=k[1];return Math.pow(G.evaluate(I),ie.evaluate(I))}],sqrt:[Lr,[Lr],function(I,k){var G=k[0];return Math.sqrt(G.evaluate(I))}],log10:[Lr,[Lr],function(I,k){var G=k[0];return Math.log(G.evaluate(I))/Math.LN10}],ln:[Lr,[Lr],function(I,k){var G=k[0];return Math.log(G.evaluate(I))}],log2:[Lr,[Lr],function(I,k){var G=k[0];return Math.log(G.evaluate(I))/Math.LN2}],sin:[Lr,[Lr],function(I,k){var G=k[0];return Math.sin(G.evaluate(I))}],cos:[Lr,[Lr],function(I,k){var G=k[0];return Math.cos(G.evaluate(I))}],tan:[Lr,[Lr],function(I,k){var G=k[0];return Math.tan(G.evaluate(I))}],asin:[Lr,[Lr],function(I,k){var G=k[0];return Math.asin(G.evaluate(I))}],acos:[Lr,[Lr],function(I,k){var G=k[0];return Math.acos(G.evaluate(I))}],atan:[Lr,[Lr],function(I,k){var G=k[0];return Math.atan(G.evaluate(I))}],min:[Lr,xs(Lr),function(I,k){return Math.min.apply(Math,k.map(function(G){return G.evaluate(I)}))}],max:[Lr,xs(Lr),function(I,k){return Math.max.apply(Math,k.map(function(G){return G.evaluate(I)}))}],abs:[Lr,[Lr],function(I,k){var G=k[0];return Math.abs(G.evaluate(I))}],round:[Lr,[Lr],function(I,k){var G=k[0],ie=G.evaluate(I);return ie<0?-Math.round(-ie):Math.round(ie)}],floor:[Lr,[Lr],function(I,k){var G=k[0];return Math.floor(G.evaluate(I))}],ceil:[Lr,[Lr],function(I,k){var G=k[0];return Math.ceil(G.evaluate(I))}],"filter-==":[dn,[Or,xn],function(I,k){var G=k[0],ie=k[1];return I.properties()[G.value]===ie.value}],"filter-id-==":[dn,[xn],function(I,k){var G=k[0];return I.id()===G.value}],"filter-type-==":[dn,[Or],function(I,k){var G=k[0];return I.geometryType()===G.value}],"filter-<":[dn,[Or,xn],function(I,k){var G=k[0],ie=k[1],de=I.properties()[G.value],Me=ie.value;return typeof de==typeof Me&&de<Me}],"filter-id-<":[dn,[xn],function(I,k){var G=k[0],ie=I.id(),de=G.value;return typeof ie==typeof de&&ie<de}],"filter->":[dn,[Or,xn],function(I,k){var G=k[0],ie=k[1],de=I.properties()[G.value],Me=ie.value;return typeof de==typeof Me&&de>Me}],"filter-id->":[dn,[xn],function(I,k){var G=k[0],ie=I.id(),de=G.value;return typeof ie==typeof de&&ie>de}],"filter-<=":[dn,[Or,xn],function(I,k){var G=k[0],ie=k[1],de=I.properties()[G.value],Me=ie.value;return typeof de==typeof Me&&de<=Me}],"filter-id-<=":[dn,[xn],function(I,k){var G=k[0],ie=I.id(),de=G.value;return typeof ie==typeof de&&ie<=de}],"filter->=":[dn,[Or,xn],function(I,k){var G=k[0],ie=k[1],de=I.properties()[G.value],Me=ie.value;return typeof de==typeof Me&&de>=Me}],"filter-id->=":[dn,[xn],function(I,k){var G=k[0],ie=I.id(),de=G.value;return typeof ie==typeof de&&ie>=de}],"filter-has":[dn,[xn],function(I,k){var G=k[0];return G.value in I.properties()}],"filter-has-id":[dn,[],function(I){return I.id()!==null&&I.id()!==void 0}],"filter-type-in":[dn,[ua(Or)],function(I,k){var G=k[0];return G.value.indexOf(I.geometryType())>=0}],"filter-id-in":[dn,[ua(xn)],function(I,k){var G=k[0];return G.value.indexOf(I.id())>=0}],"filter-in-small":[dn,[Or,ua(xn)],function(I,k){var G=k[0],ie=k[1];return ie.value.indexOf(I.properties()[G.value])>=0}],"filter-in-large":[dn,[Or,ua(xn)],function(I,k){var G=k[0],ie=k[1];return If(I.properties()[G.value],ie.value,0,ie.value.length-1)}],all:{type:dn,overloads:[[[dn,dn],function(I,k){var G=k[0],ie=k[1];return G.evaluate(I)&&ie.evaluate(I)}],[xs(dn),function(I,k){for(var G=0,ie=k;G<ie.length;G+=1){var de=ie[G];if(!de.evaluate(I))return!1}return!0}]]},any:{type:dn,overloads:[[[dn,dn],function(I,k){var G=k[0],ie=k[1];return G.evaluate(I)||ie.evaluate(I)}],[xs(dn),function(I,k){for(var G=0,ie=k;G<ie.length;G+=1){var de=ie[G];if(de.evaluate(I))return!0}return!1}]]},"!":[dn,[dn],function(I,k){var G=k[0];return!G.evaluate(I)}],"is-supported-script":[dn,[Or],function(I,k){var G=k[0],ie=I.globals&&I.globals.isSupportedScript;return ie?ie(G.evaluate(I)):!0}],upcase:[Or,[Or],function(I,k){var G=k[0];return G.evaluate(I).toUpperCase()}],downcase:[Or,[Or],function(I,k){var G=k[0];return G.evaluate(I).toLowerCase()}],concat:[Or,xs(xn),function(I,k){return k.map(function(G){return Zu(G.evaluate(I))}).join("")}],"resolved-locale":[Or,[aa],function(I,k){var G=k[0];return G.evaluate(I).resolvedLocale()}]});function kf(I){return{result:"success",value:I}}function nl(I){return{result:"error",value:I}}function al(I){return I["property-type"]==="data-driven"||I["property-type"]==="cross-faded-data-driven"}function Sc(I){return!!I.expression&&I.expression.parameters.indexOf("zoom")>-1}function xu(I){return!!I.expression&&I.expression.interpolated}function hi(I){return I instanceof Number?"number":I instanceof String?"string":I instanceof Boolean?"boolean":Array.isArray(I)?"array":I===null?"null":typeof I}function Wl(I){return typeof I=="object"&&I!==null&&!Array.isArray(I)}function _f(I){return I}function zf(I,k){var G=k.type==="color",ie=I.stops&&typeof I.stops[0][0]=="object",de=ie||I.property!==void 0,Me=ie||!de,Ie=I.type||(xu(k)?"exponential":"interval");if(G&&(I=un({},I),I.stops&&(I.stops=I.stops.map(function(ra){return[ra[0],ai.parse(ra[1])]})),I.default?I.default=ai.parse(I.default):I.default=ai.parse(k.default)),I.colorSpace&&I.colorSpace!=="rgb"&&!wc[I.colorSpace])throw new Error("Unknown color space: "+I.colorSpace);var Ke,ft,Tt;if(Ie==="exponential")Ke=bu;else if(Ie==="interval")Ke=Mc;else if(Ie==="categorical"){Ke=mv,ft=Object.create(null);for(var Et=0,Wt=I.stops;Et<Wt.length;Et+=1){var ir=Wt[Et];ft[ir[0]]=ir[1]}Tt=typeof I.stops[0][0]}else if(Ie==="identity")Ke=Ec;else throw new Error('Unknown function type "'+Ie+'"');if(ie){for(var qt={},br=[],Br=0;Br<I.stops.length;Br++){var ln=I.stops[Br],qr=ln[0].zoom;qt[qr]===void 0&&(qt[qr]={zoom:qr,type:I.type,property:I.property,default:I.default,stops:[]},br.push(qr)),qt[qr].stops.push([ln[0].value,ln[1]])}for(var Ln=[],wn=0,Cn=br;wn<Cn.length;wn+=1){var _n=Cn[wn];Ln.push([qt[_n].zoom,zf(qt[_n],k)])}var Gn={name:"linear"};return{kind:"composite",interpolationType:Gn,interpolationFactor:Gi.interpolationFactor.bind(void 0,Gn),zoomStops:Ln.map(function(ra){return ra[0]}),evaluate:function(Ca,va){var xa=Ca.zoom;return bu({stops:Ln,base:I.base},k,xa).evaluate(xa,va)}}}else if(Me){var na=Ie==="exponential"?{name:"exponential",base:I.base!==void 0?I.base:1}:null;return{kind:"camera",interpolationType:na,interpolationFactor:Gi.interpolationFactor.bind(void 0,na),zoomStops:I.stops.map(function(ra){return ra[0]}),evaluate:function(ra){var Ca=ra.zoom;return Ke(I,k,Ca,ft,Tt)}}}else return{kind:"source",evaluate:function(Ca,va){var xa=va&&va.properties?va.properties[I.property]:void 0;return xa===void 0?bl(I.default,k.default):Ke(I,k,xa,ft,Tt)}}}function bl(I,k,G){if(I!==void 0)return I;if(k!==void 0)return k;if(G!==void 0)return G}function mv(I,k,G,ie,de){var Me=typeof G===de?ie[G]:void 0;return bl(Me,I.default,k.default)}function Mc(I,k,G){if(hi(G)!=="number")return bl(I.default,k.default);var ie=I.stops.length;if(ie===1||G<=I.stops[0][0])return I.stops[0][1];if(G>=I.stops[ie-1][0])return I.stops[ie-1][1];var de=vu(I.stops.map(function(Me){return Me[0]}),G);return I.stops[de][1]}function bu(I,k,G){var ie=I.base!==void 0?I.base:1;if(hi(G)!=="number")return bl(I.default,k.default);var de=I.stops.length;if(de===1||G<=I.stops[0][0])return I.stops[0][1];if(G>=I.stops[de-1][0])return I.stops[de-1][1];var Me=vu(I.stops.map(function(Wt){return Wt[0]}),G),Ie=sh(G,ie,I.stops[Me][0],I.stops[Me+1][0]),Ke=I.stops[Me][1],ft=I.stops[Me+1][1],Tt=du[k.type]||_f;if(I.colorSpace&&I.colorSpace!=="rgb"){var Et=wc[I.colorSpace];Tt=function(Wt,ir){return Et.reverse(Et.interpolate(Et.forward(Wt),Et.forward(ir),Ie))}}return typeof Ke.evaluate=="function"?{evaluate:function(){for(var ir=[],qt=arguments.length;qt--;)ir[qt]=arguments[qt];var br=Ke.evaluate.apply(void 0,ir),Br=ft.evaluate.apply(void 0,ir);if(!(br===void 0||Br===void 0))return Tt(br,Br,Ie)}}:Tt(Ke,ft,Ie)}function Ec(I,k,G){return k.type==="color"?G=ai.parse(G):k.type==="formatted"?G=oo.fromString(G.toString()):k.type==="resolvedImage"?G=Uo.fromString(G.toString()):hi(G)!==k.type&&(k.type!=="enum"||!k.values[G])&&(G=void 0),bl(G,I.default,k.default)}function sh(I,k,G,ie){var de=ie-G,Me=I-G;return de===0?0:k===1?Me/de:(Math.pow(k,Me)-1)/(Math.pow(k,de)-1)}var il=function(k,G){this.expression=k,this._warningHistory={},this._evaluator=new Ds,this._defaultValue=G?uh(G):null,this._enumValues=G&&G.type==="enum"?G.values:null};il.prototype.evaluateWithoutErrorHandling=function(k,G,ie,de,Me,Ie){return this._evaluator.globals=k,this._evaluator.feature=G,this._evaluator.featureState=ie,this._evaluator.canonical=de,this._evaluator.availableImages=Me||null,this._evaluator.formattedSection=Ie,this.expression.evaluate(this._evaluator)},il.prototype.evaluate=function(k,G,ie,de,Me,Ie){this._evaluator.globals=k,this._evaluator.feature=G||null,this._evaluator.featureState=ie||null,this._evaluator.canonical=de,this._evaluator.availableImages=Me||null,this._evaluator.formattedSection=Ie||null;try{var Ke=this.expression.evaluate(this._evaluator);if(Ke==null||typeof Ke=="number"&&Ke!==Ke)return this._defaultValue;if(this._enumValues&&!(Ke in this._enumValues))throw new eo("Expected value to be one of "+Object.keys(this._enumValues).map(function(ft){return JSON.stringify(ft)}).join(", ")+", but found "+JSON.stringify(Ke)+" instead.");return Ke}catch(ft){return this._warningHistory[ft.message]||(this._warningHistory[ft.message]=!0,typeof console<"u"&&console.warn(ft.message)),this._defaultValue}};function wl(I){return Array.isArray(I)&&I.length>0&&typeof I[0]=="string"&&I[0]in zs}function Gl(I,k){var G=new el(zs,[],k?Of(k):void 0),ie=G.parse(I,void 0,void 0,void 0,k&&k.type==="string"?{typeAnnotation:"coerce"}:void 0);return ie?kf(new il(ie,k)):nl(G.errors)}var Yl=function(k,G){this.kind=k,this._styleExpression=G,this.isStateDependent=k!=="constant"&&!Ku(G.expression)};Yl.prototype.evaluateWithoutErrorHandling=function(k,G,ie,de,Me,Ie){return this._styleExpression.evaluateWithoutErrorHandling(k,G,ie,de,Me,Ie)},Yl.prototype.evaluate=function(k,G,ie,de,Me,Ie){return this._styleExpression.evaluate(k,G,ie,de,Me,Ie)};var Wo=function(k,G,ie,de){this.kind=k,this.zoomStops=ie,this._styleExpression=G,this.isStateDependent=k!=="camera"&&!Ku(G.expression),this.interpolationType=de};Wo.prototype.evaluateWithoutErrorHandling=function(k,G,ie,de,Me,Ie){return this._styleExpression.evaluateWithoutErrorHandling(k,G,ie,de,Me,Ie)},Wo.prototype.evaluate=function(k,G,ie,de,Me,Ie){return this._styleExpression.evaluate(k,G,ie,de,Me,Ie)},Wo.prototype.interpolationFactor=function(k,G,ie){return this.interpolationType?Gi.interpolationFactor(this.interpolationType,k,G,ie):0};function Jo(I,k){if(I=Gl(I,k),I.result==="error")return I;var G=I.value.expression,ie=Nl(G);if(!ie&&!al(k))return nl([new Sn("","data expressions not supported")]);var de=hu(G,["zoom"]);if(!de&&!Sc(k))return nl([new Sn("","zoom expressions not supported")]);var Me=wu(G);if(!Me&&!de)return nl([new Sn("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(Me instanceof Sn)return nl([Me]);if(Me instanceof Gi&&!xu(k))return nl([new Sn("",'"interpolate" expressions cannot be used with this property')]);if(!Me)return kf(ie?new Yl("constant",I.value):new Yl("source",I.value));var Ie=Me instanceof Gi?Me.interpolation:void 0;return kf(ie?new Wo("camera",I.value,Me.labels,Ie):new Wo("composite",I.value,Me.labels,Ie))}var jl=function(k,G){this._parameters=k,this._specification=G,un(this,zf(this._parameters,this._specification))};jl.deserialize=function(k){return new jl(k._parameters,k._specification)},jl.serialize=function(k){return{_parameters:k._parameters,_specification:k._specification}};function lh(I,k){if(Wl(I))return new jl(I,k);if(wl(I)){var G=Jo(I,k);if(G.result==="error")throw new Error(G.value.map(function(de){return de.key+": "+de.message}).join(", "));return G.value}else{var ie=I;return typeof I=="string"&&k.type==="color"&&(ie=ai.parse(I)),{kind:"constant",evaluate:function(){return ie}}}}function wu(I){var k=null;if(I instanceof tl)k=wu(I.result);else if(I instanceof Ho)for(var G=0,ie=I.args;G<ie.length;G+=1){var de=ie[G];if(k=wu(de),k)break}else(I instanceof dl||I instanceof Gi)&&I.input instanceof ho&&I.input.name==="zoom"&&(k=I);return k instanceof Sn||I.eachChild(function(Me){var Ie=wu(Me);Ie instanceof Sn?k=Ie:!k&&Ie?k=new Sn("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):k&&Ie&&k!==Ie&&(k=new Sn("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),k}function Of(I){var k={color:On,string:Or,number:Lr,enum:Or,boolean:dn,formatted:fa,resolvedImage:la};return I.type==="array"?ua(k[I.value]||xn,I.length):k[I.type]}function uh(I){return I.type==="color"&&Wl(I.default)?new ai(0,0,0,0):I.type==="color"?ai.parse(I.default)||null:I.default===void 0?null:I.default}function bs(I){var k=I.key,G=I.value,ie=I.valueSpec||{},de=I.objectElementValidators||{},Me=I.style,Ie=I.styleSpec,Ke=[],ft=hi(G);if(ft!=="object")return[new wr(k,G,"object expected, "+ft+" found")];for(var Tt in G){var Et=Tt.split(".")[0],Wt=ie[Et]||ie["*"],ir=void 0;if(de[Et])ir=de[Et];else if(ie[Et])ir=ar;else if(de["*"])ir=de["*"];else if(ie["*"])ir=ar;else{Ke.push(new wr(k,G[Tt],'unknown property "'+Tt+'"'));continue}Ke=Ke.concat(ir({key:(k&&k+".")+Tt,value:G[Tt],valueSpec:Wt,style:Me,styleSpec:Ie,object:G,objectKey:Tt},G))}for(var qt in ie)de[qt]||ie[qt].required&&ie[qt].default===void 0&&G[qt]===void 0&&Ke.push(new wr(k,G,'missing required property "'+qt+'"'));return Ke}function Cc(I){var k=I.value,G=I.valueSpec,ie=I.style,de=I.styleSpec,Me=I.key,Ie=I.arrayElementValidator||ar;if(hi(k)!=="array")return[new wr(Me,k,"array expected, "+hi(k)+" found")];if(G.length&&k.length!==G.length)return[new wr(Me,k,"array length "+G.length+" expected, length "+k.length+" found")];if(G["min-length"]&&k.length<G["min-length"])return[new wr(Me,k,"array length at least "+G["min-length"]+" expected, length "+k.length+" found")];var Ke={type:G.value,values:G.values};de.$version<7&&(Ke.function=G.function),hi(G.value)==="object"&&(Ke=G.value);for(var ft=[],Tt=0;Tt<k.length;Tt++)ft=ft.concat(Ie({array:k,arrayIndex:Tt,value:k[Tt],valueSpec:Ke,style:ie,styleSpec:de,key:Me+"["+Tt+"]"}));return ft}function Tl(I){var k=I.key,G=I.value,ie=I.valueSpec,de=hi(G);return de==="number"&&G!==G&&(de="NaN"),de!=="number"?[new wr(k,G,"number expected, "+de+" found")]:"minimum"in ie&&G<ie.minimum?[new wr(k,G,G+" is less than the minimum value "+ie.minimum)]:"maximum"in ie&&G>ie.maximum?[new wr(k,G,G+" is greater than the maximum value "+ie.maximum)]:[]}function nf(I){var k=I.valueSpec,G=cn(I.value.type),ie,de={},Me,Ie,Ke=G!=="categorical"&&I.value.property===void 0,ft=!Ke,Tt=hi(I.value.stops)==="array"&&hi(I.value.stops[0])==="array"&&hi(I.value.stops[0][0])==="object",Et=bs({key:I.key,value:I.value,valueSpec:I.styleSpec.function,style:I.style,styleSpec:I.styleSpec,objectElementValidators:{stops:Wt,default:br}});return G==="identity"&&Ke&&Et.push(new wr(I.key,I.value,'missing required property "property"')),G!=="identity"&&!I.value.stops&&Et.push(new wr(I.key,I.value,'missing required property "stops"')),G==="exponential"&&I.valueSpec.expression&&!xu(I.valueSpec)&&Et.push(new wr(I.key,I.value,"exponential functions not supported")),I.styleSpec.$version>=8&&(ft&&!al(I.valueSpec)?Et.push(new wr(I.key,I.value,"property functions not supported")):Ke&&!Sc(I.valueSpec)&&Et.push(new wr(I.key,I.value,"zoom functions not supported"))),(G==="categorical"||Tt)&&I.value.property===void 0&&Et.push(new wr(I.key,I.value,'"property" property is required')),Et;function Wt(Br){if(G==="identity")return[new wr(Br.key,Br.value,'identity function may not have a "stops" property')];var ln=[],qr=Br.value;return ln=ln.concat(Cc({key:Br.key,value:qr,valueSpec:Br.valueSpec,style:Br.style,styleSpec:Br.styleSpec,arrayElementValidator:ir})),hi(qr)==="array"&&qr.length===0&&ln.push(new wr(Br.key,qr,"array must have at least one stop")),ln}function ir(Br){var ln=[],qr=Br.value,Ln=Br.key;if(hi(qr)!=="array")return[new wr(Ln,qr,"array expected, "+hi(qr)+" found")];if(qr.length!==2)return[new wr(Ln,qr,"array length 2 expected, length "+qr.length+" found")];if(Tt){if(hi(qr[0])!=="object")return[new wr(Ln,qr,"object expected, "+hi(qr[0])+" found")];if(qr[0].zoom===void 0)return[new wr(Ln,qr,"object stop key must have zoom")];if(qr[0].value===void 0)return[new wr(Ln,qr,"object stop key must have value")];if(Ie&&Ie>cn(qr[0].zoom))return[new wr(Ln,qr[0].zoom,"stop zoom values must appear in ascending order")];cn(qr[0].zoom)!==Ie&&(Ie=cn(qr[0].zoom),Me=void 0,de={}),ln=ln.concat(bs({key:Ln+"[0]",value:qr[0],valueSpec:{zoom:{}},style:Br.style,styleSpec:Br.styleSpec,objectElementValidators:{zoom:Tl,value:qt}}))}else ln=ln.concat(qt({key:Ln+"[0]",value:qr[0],valueSpec:{},style:Br.style,styleSpec:Br.styleSpec},qr));return wl(In(qr[1]))?ln.concat([new wr(Ln+"[1]",qr[1],"expressions are not allowed in function stops.")]):ln.concat(ar({key:Ln+"[1]",value:qr[1],valueSpec:k,style:Br.style,styleSpec:Br.styleSpec}))}function qt(Br,ln){var qr=hi(Br.value),Ln=cn(Br.value),wn=Br.value!==null?Br.value:ln;if(!ie)ie=qr;else if(qr!==ie)return[new wr(Br.key,wn,qr+" stop domain type must match previous stop domain type "+ie)];if(qr!=="number"&&qr!=="string"&&qr!=="boolean")return[new wr(Br.key,wn,"stop domain value must be a number, string, or boolean")];if(qr!=="number"&&G!=="categorical"){var Cn="number expected, "+qr+" found";return al(k)&&G===void 0&&(Cn+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new wr(Br.key,wn,Cn)]}return G==="categorical"&&qr==="number"&&(!isFinite(Ln)||Math.floor(Ln)!==Ln)?[new wr(Br.key,wn,"integer expected, found "+Ln)]:G!=="categorical"&&qr==="number"&&Me!==void 0&&Ln<Me?[new wr(Br.key,wn,"stop domain values must appear in ascending order")]:(Me=Ln,G==="categorical"&&Ln in de?[new wr(Br.key,wn,"stop domain values must be unique")]:(de[Ln]=!0,[]))}function br(Br){return ar({key:Br.key,value:Br.value,valueSpec:k,style:Br.style,styleSpec:Br.styleSpec})}}function ol(I){var k=(I.expressionContext==="property"?Jo:Gl)(In(I.value),I.valueSpec);if(k.result==="error")return k.value.map(function(ie){return new wr(""+I.key+ie.key,I.value,ie.message)});var G=k.value.expression||k.value._styleExpression.expression;if(I.expressionContext==="property"&&I.propertyKey==="text-font"&&!G.outputDefined())return[new wr(I.key,I.value,'Invalid data expression for "'+I.propertyKey+'". Output values must be contained as literals within the expression.')];if(I.expressionContext==="property"&&I.propertyType==="layout"&&!Ku(G))return[new wr(I.key,I.value,'"feature-state" data expressions are not supported with layout properties.')];if(I.expressionContext==="filter"&&!Ku(G))return[new wr(I.key,I.value,'"feature-state" data expressions are not supported with filters.')];if(I.expressionContext&&I.expressionContext.indexOf("cluster")===0){if(!hu(G,["zoom","feature-state"]))return[new wr(I.key,I.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(I.expressionContext==="cluster-initial"&&!Nl(G))return[new wr(I.key,I.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function xv(I){var k=I.value,G=I.key,ie=hi(k);return ie!=="boolean"?[new wr(G,k,"boolean expected, "+ie+" found")]:[]}function Lc(I){var k=I.key,G=I.value,ie=hi(G);return ie!=="string"?[new wr(k,G,"color expected, "+ie+" found")]:sc(G)===null?[new wr(k,G,'color expected, "'+G+'" found')]:[]}function Ff(I){var k=I.key,G=I.value,ie=I.valueSpec,de=[];return Array.isArray(ie.values)?ie.values.indexOf(cn(G))===-1&&de.push(new wr(k,G,"expected one of ["+ie.values.join(", ")+"], "+JSON.stringify(G)+" found")):Object.keys(ie.values).indexOf(cn(G))===-1&&de.push(new wr(k,G,"expected one of ["+Object.keys(ie.values).join(", ")+"], "+JSON.stringify(G)+" found")),de}function Mo(I){if(I===!0||I===!1)return!0;if(!Array.isArray(I)||I.length===0)return!1;switch(I[0]){case"has":return I.length>=2&&I[1]!=="$id"&&I[1]!=="$type";case"in":return I.length>=3&&(typeof I[1]!="string"||Array.isArray(I[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return I.length!==3||Array.isArray(I[1])||Array.isArray(I[2]);case"any":case"all":for(var k=0,G=I.slice(1);k<G.length;k+=1){var ie=G[k];if(!Mo(ie)&&typeof ie!="boolean")return!1}return!0;default:return!0}}var fh={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function af(I){if(I==null)return{filter:function(){return!0},needGeometry:!1};Mo(I)||(I=Al(I));var k=Gl(I,fh);if(k.result==="error")throw new Error(k.value.map(function(ie){return ie.key+": "+ie.message}).join(", "));var G=of(I);return{filter:function(ie,de,Me){return k.value.evaluate(ie,de,{},Me)},needGeometry:G}}function Os(I,k){return I<k?-1:I>k?1:0}function of(I){if(!Array.isArray(I))return!1;if(I[0]==="within")return!0;for(var k=1;k<I.length;k++)if(of(I[k]))return!0;return!1}function Al(I){if(!I)return!0;var k=I[0];if(I.length<=1)return k!=="any";var G=k==="=="?Bf(I[1],I[2],"=="):k==="!="?Zl(Bf(I[1],I[2],"==")):k==="<"||k===">"||k==="<="||k===">="?Bf(I[1],I[2],k):k==="any"?ch(I.slice(1)):k==="all"?["all"].concat(I.slice(1).map(Al)):k==="none"?["all"].concat(I.slice(1).map(Al).map(Zl)):k==="in"?Pc(I[1],I.slice(2)):k==="!in"?Zl(Pc(I[1],I.slice(2))):k==="has"?Rc(I[1]):k==="!has"?Zl(Rc(I[1])):k==="within"?I:!0;return G}function Bf(I,k,G){switch(I){case"$type":return["filter-type-"+G,k];case"$id":return["filter-id-"+G,k];default:return["filter-"+G,I,k]}}function ch(I){return["any"].concat(I.map(Al))}function Pc(I,k){if(k.length===0)return!1;switch(I){case"$type":return["filter-type-in",["literal",k]];case"$id":return["filter-id-in",["literal",k]];default:return k.length>200&&!k.some(function(G){return typeof G!=typeof k[0]})?["filter-in-large",I,["literal",k.sort(Os)]]:["filter-in-small",I,["literal",k]]}}function Rc(I){switch(I){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",I]}}function Zl(I){return["!",I]}function Nf(I){return Mo(In(I.value))?ol(un({},I,{expressionContext:"filter",valueSpec:{value:"boolean"}})):sf(I)}function sf(I){var k=I.value,G=I.key;if(hi(k)!=="array")return[new wr(G,k,"array expected, "+hi(k)+" found")];var ie=I.styleSpec,de,Me=[];if(k.length<1)return[new wr(G,k,"filter array must have at least 1 element")];switch(Me=Me.concat(Ff({key:G+"[0]",value:k[0],valueSpec:ie.filter_operator,style:I.style,styleSpec:I.styleSpec})),cn(k[0])){case"<":case"<=":case">":case">=":k.length>=2&&cn(k[1])==="$type"&&Me.push(new wr(G,k,'"$type" cannot be use with operator "'+k[0]+'"'));case"==":case"!=":k.length!==3&&Me.push(new wr(G,k,'filter array for operator "'+k[0]+'" must have 3 elements'));case"in":case"!in":k.length>=2&&(de=hi(k[1]),de!=="string"&&Me.push(new wr(G+"[1]",k[1],"string expected, "+de+" found")));for(var Ie=2;Ie<k.length;Ie++)de=hi(k[Ie]),cn(k[1])==="$type"?Me=Me.concat(Ff({key:G+"["+Ie+"]",value:k[Ie],valueSpec:ie.geometry_type,style:I.style,styleSpec:I.styleSpec})):de!=="string"&&de!=="number"&&de!=="boolean"&&Me.push(new wr(G+"["+Ie+"]",k[Ie],"string, number, or boolean expected, "+de+" found"));break;case"any":case"all":case"none":for(var Ke=1;Ke<k.length;Ke++)Me=Me.concat(sf({key:G+"["+Ke+"]",value:k[Ke],style:I.style,styleSpec:I.styleSpec}));break;case"has":case"!has":de=hi(k[1]),k.length!==2?Me.push(new wr(G,k,'filter array for "'+k[0]+'" operator must have 2 elements')):de!=="string"&&Me.push(new wr(G+"[1]",k[1],"string expected, "+de+" found"));break;case"within":de=hi(k[1]),k.length!==2?Me.push(new wr(G,k,'filter array for "'+k[0]+'" operator must have 2 elements')):de!=="object"&&Me.push(new wr(G+"[1]",k[1],"object expected, "+de+" found"));break}return Me}function hh(I,k){var G=I.key,ie=I.style,de=I.styleSpec,Me=I.value,Ie=I.objectKey,Ke=de[k+"_"+I.layerType];if(!Ke)return[];var ft=Ie.match(/^(.*)-transition$/);if(k==="paint"&&ft&&Ke[ft[1]]&&Ke[ft[1]].transition)return ar({key:G,value:Me,valueSpec:de.transition,style:ie,styleSpec:de});var Tt=I.valueSpec||Ke[Ie];if(!Tt)return[new wr(G,Me,'unknown property "'+Ie+'"')];var Et;if(hi(Me)==="string"&&al(Tt)&&!Tt.tokens&&(Et=/^{([^}]+)}$/.exec(Me)))return[new wr(G,Me,'"'+Ie+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(Et[1])+" }`.")];var Wt=[];return I.layerType==="symbol"&&(Ie==="text-field"&&ie&&!ie.glyphs&&Wt.push(new wr(G,Me,'use of "text-field" requires a style "glyphs" property')),Ie==="text-font"&&Wl(In(Me))&&cn(Me.type)==="identity"&&Wt.push(new wr(G,Me,'"text-font" does not support identity functions'))),Wt.concat(ar({key:I.key,value:Me,valueSpec:Tt,style:ie,styleSpec:de,expressionContext:"property",propertyType:k,propertyKey:Ie}))}function lf(I){return hh(I,"paint")}function vh(I){return hh(I,"layout")}function Xe(I){var k=[],G=I.value,ie=I.key,de=I.style,Me=I.styleSpec;!G.type&&!G.ref&&k.push(new wr(ie,G,'either "type" or "ref" is required'));var Ie=cn(G.type),Ke=cn(G.ref);if(G.id)for(var ft=cn(G.id),Tt=0;Tt<I.arrayIndex;Tt++){var Et=de.layers[Tt];cn(Et.id)===ft&&k.push(new wr(ie,G.id,'duplicate layer id "'+G.id+'", previously used at line '+Et.id.__line__))}if("ref"in G){["type","source","source-layer","filter","layout"].forEach(function(br){br in G&&k.push(new wr(ie,G[br],'"'+br+'" is prohibited for ref layers'))});var Wt;de.layers.forEach(function(br){cn(br.id)===Ke&&(Wt=br)}),Wt?Wt.ref?k.push(new wr(ie,G.ref,"ref cannot reference another ref layer")):Ie=cn(Wt.type):k.push(new wr(ie,G.ref,'ref layer "'+Ke+'" not found'))}else if(Ie!=="background")if(!G.source)k.push(new wr(ie,G,'missing required property "source"'));else{var ir=de.sources&&de.sources[G.source],qt=ir&&cn(ir.type);ir?qt==="vector"&&Ie==="raster"?k.push(new wr(ie,G.source,'layer "'+G.id+'" requires a raster source')):qt==="raster"&&Ie!=="raster"?k.push(new wr(ie,G.source,'layer "'+G.id+'" requires a vector source')):qt==="vector"&&!G["source-layer"]?k.push(new wr(ie,G,'layer "'+G.id+'" must specify a "source-layer"')):qt==="raster-dem"&&Ie!=="hillshade"?k.push(new wr(ie,G.source,"raster-dem source can only be used with layer type 'hillshade'.")):Ie==="line"&&G.paint&&G.paint["line-gradient"]&&(qt!=="geojson"||!ir.lineMetrics)&&k.push(new wr(ie,G,'layer "'+G.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):k.push(new wr(ie,G.source,'source "'+G.source+'" not found'))}return k=k.concat(bs({key:ie,value:G,valueSpec:Me.layer,style:I.style,styleSpec:I.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return ar({key:ie+".type",value:G.type,valueSpec:Me.layer.type,style:I.style,styleSpec:I.styleSpec,object:G,objectKey:"type"})},filter:Nf,layout:function(Br){return bs({layer:G,key:Br.key,value:Br.value,style:Br.style,styleSpec:Br.styleSpec,objectElementValidators:{"*":function(qr){return vh(un({layerType:Ie},qr))}}})},paint:function(Br){return bs({layer:G,key:Br.key,value:Br.value,style:Br.style,styleSpec:Br.styleSpec,objectElementValidators:{"*":function(qr){return lf(un({layerType:Ie},qr))}}})}}})),k}function nt(I){var k=I.value,G=I.key,ie=hi(k);return ie!=="string"?[new wr(G,k,"string expected, "+ie+" found")]:[]}var ht={promoteId:_t};function mt(I){var k=I.value,G=I.key,ie=I.styleSpec,de=I.style;if(!k.type)return[new wr(G,k,'"type" is required')];var Me=cn(k.type),Ie;switch(Me){case"vector":case"raster":case"raster-dem":return Ie=bs({key:G,value:k,valueSpec:ie["source_"+Me.replace("-","_")],style:I.style,styleSpec:ie,objectElementValidators:ht}),Ie;case"geojson":if(Ie=bs({key:G,value:k,valueSpec:ie.source_geojson,style:de,styleSpec:ie,objectElementValidators:ht}),k.cluster)for(var Ke in k.clusterProperties){var ft=k.clusterProperties[Ke],Tt=ft[0],Et=ft[1],Wt=typeof Tt=="string"?[Tt,["accumulated"],["get",Ke]]:Tt;Ie.push.apply(Ie,ol({key:G+"."+Ke+".map",value:Et,expressionContext:"cluster-map"})),Ie.push.apply(Ie,ol({key:G+"."+Ke+".reduce",value:Wt,expressionContext:"cluster-reduce"}))}return Ie;case"video":return bs({key:G,value:k,valueSpec:ie.source_video,style:de,styleSpec:ie});case"image":return bs({key:G,value:k,valueSpec:ie.source_image,style:de,styleSpec:ie});case"canvas":return[new wr(G,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Ff({key:G+".type",value:k.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:de,styleSpec:ie})}}function _t(I){var k=I.key,G=I.value;if(hi(G)==="string")return nt({key:k,value:G});var ie=[];for(var de in G)ie.push.apply(ie,nt({key:k+"."+de,value:G[de]}));return ie}function Lt(I){var k=I.value,G=I.styleSpec,ie=G.light,de=I.style,Me=[],Ie=hi(k);if(k===void 0)return Me;if(Ie!=="object")return Me=Me.concat([new wr("light",k,"object expected, "+Ie+" found")]),Me;for(var Ke in k){var ft=Ke.match(/^(.*)-transition$/);ft&&ie[ft[1]]&&ie[ft[1]].transition?Me=Me.concat(ar({key:Ke,value:k[Ke],valueSpec:G.transition,style:de,styleSpec:G})):ie[Ke]?Me=Me.concat(ar({key:Ke,value:k[Ke],valueSpec:ie[Ke],style:de,styleSpec:G})):Me=Me.concat([new wr(Ke,k[Ke],'unknown property "'+Ke+'"')])}return Me}function Ft(I){return nt(I).length===0?[]:ol(I)}function cr(I){return nt(I).length===0?[]:ol(I)}var yr={"*":function(){return[]},array:Cc,boolean:xv,number:Tl,color:Lc,constants:tn,enum:Ff,filter:Nf,function:nf,layer:Xe,object:bs,source:mt,light:Lt,string:nt,formatted:Ft,resolvedImage:cr};function ar(I){var k=I.value,G=I.valueSpec,ie=I.styleSpec;if(G.expression&&Wl(cn(k)))return nf(I);if(G.expression&&wl(In(k)))return ol(I);if(G.type&&yr[G.type])return yr[G.type](I);var de=bs(un({},I,{valueSpec:G.type?ie[G.type]:G}));return de}function Sr(I){var k=I.value,G=I.key,ie=nt(I);return ie.length||(k.indexOf("{fontstack}")===-1&&ie.push(new wr(G,k,'"glyphs" url must include a "{fontstack}" token')),k.indexOf("{range}")===-1&&ie.push(new wr(G,k,'"glyphs" url must include a "{range}" token'))),ie}function Rr(I,k){k===void 0&&(k=Zt);var G=[];return G=G.concat(ar({key:"",value:I,valueSpec:k.$root,styleSpec:k,style:I,objectElementValidators:{glyphs:Sr,"*":function(){return[]}}})),I.constants&&(G=G.concat(tn({key:"constants",value:I.constants,style:I,styleSpec:k}))),jr(G)}Rr.source=$r(mt),Rr.light=$r(Lt),Rr.layer=$r(Xe),Rr.filter=$r(Nf),Rr.paintProperty=$r(lf),Rr.layoutProperty=$r(vh);function jr(I){return[].concat(I).sort(function(k,G){return k.line-G.line})}function $r(I){return function(){for(var k=[],G=arguments.length;G--;)k[G]=arguments[G];return jr(I.apply(this,k))}}var bn=Rr,An=bn.light,kn=bn.paintProperty,da=bn.layoutProperty;function Pa(I,k){var G=!1;if(k&&k.length)for(var ie=0,de=k;ie<de.length;ie+=1){var Me=de[ie];I.fire(new tr(new Error(Me.message))),G=!0}return G}var Da=_a,Ia=3;function _a(I,k,G){var ie=this.cells=[];if(I instanceof ArrayBuffer){this.arrayBuffer=I;var de=new Int32Array(this.arrayBuffer);I=de[0],k=de[1],G=de[2],this.d=k+2*G;for(var Me=0;Me<this.d*this.d;Me++){var Ie=de[Ia+Me],Ke=de[Ia+Me+1];ie.push(Ie===Ke?null:de.subarray(Ie,Ke))}var ft=de[Ia+ie.length],Tt=de[Ia+ie.length+1];this.keys=de.subarray(ft,Tt),this.bboxes=de.subarray(Tt),this.insert=this._insertReadonly}else{this.d=k+2*G;for(var Et=0;Et<this.d*this.d;Et++)ie.push([]);this.keys=[],this.bboxes=[]}this.n=k,this.extent=I,this.padding=G,this.scale=k/I,this.uid=0;var Wt=G/k*I;this.min=-Wt,this.max=I+Wt}_a.prototype.insert=function(I,k,G,ie,de){this._forEachCell(k,G,ie,de,this._insertCell,this.uid++),this.keys.push(I),this.bboxes.push(k),this.bboxes.push(G),this.bboxes.push(ie),this.bboxes.push(de)},_a.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},_a.prototype._insertCell=function(I,k,G,ie,de,Me){this.cells[de].push(Me)},_a.prototype.query=function(I,k,G,ie,de){var Me=this.min,Ie=this.max;if(I<=Me&&k<=Me&&Ie<=G&&Ie<=ie&&!de)return Array.prototype.slice.call(this.keys);var Ke=[],ft={};return this._forEachCell(I,k,G,ie,this._queryCell,Ke,ft,de),Ke},_a.prototype._queryCell=function(I,k,G,ie,de,Me,Ie,Ke){var ft=this.cells[de];if(ft!==null)for(var Tt=this.keys,Et=this.bboxes,Wt=0;Wt<ft.length;Wt++){var ir=ft[Wt];if(Ie[ir]===void 0){var qt=ir*4;(Ke?Ke(Et[qt+0],Et[qt+1],Et[qt+2],Et[qt+3]):I<=Et[qt+2]&&k<=Et[qt+3]&&G>=Et[qt+0]&&ie>=Et[qt+1])?(Ie[ir]=!0,Me.push(Tt[ir])):Ie[ir]=!1}}},_a.prototype._forEachCell=function(I,k,G,ie,de,Me,Ie,Ke){for(var ft=this._convertToCellCoord(I),Tt=this._convertToCellCoord(k),Et=this._convertToCellCoord(G),Wt=this._convertToCellCoord(ie),ir=ft;ir<=Et;ir++)for(var qt=Tt;qt<=Wt;qt++){var br=this.d*qt+ir;if(!(Ke&&!Ke(this._convertFromCellCoord(ir),this._convertFromCellCoord(qt),this._convertFromCellCoord(ir+1),this._convertFromCellCoord(qt+1)))&&de.call(this,I,k,G,ie,br,Me,Ie,Ke))return}},_a.prototype._convertFromCellCoord=function(I){return(I-this.padding)/this.scale},_a.prototype._convertToCellCoord=function(I){return Math.max(0,Math.min(this.d-1,Math.floor(I*this.scale)+this.padding))},_a.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var I=this.cells,k=Ia+this.cells.length+1+1,G=0,ie=0;ie<this.cells.length;ie++)G+=this.cells[ie].length;var de=new Int32Array(k+G+this.keys.length+this.bboxes.length);de[0]=this.extent,de[1]=this.n,de[2]=this.padding;for(var Me=k,Ie=0;Ie<I.length;Ie++){var Ke=I[Ie];de[Ia+Ie]=Me,de.set(Ke,Me),Me+=Ke.length}return de[Ia+I.length]=Me,de.set(this.keys,Me),Me+=this.keys.length,de[Ia+I.length+1]=Me,de.set(this.bboxes,Me),Me+=this.bboxes.length,de.buffer};var ui=self.ImageData,Oi=self.ImageBitmap,xi={};function fe(I,k,G){G===void 0&&(G={}),Object.defineProperty(k,"_classRegistryKey",{value:I,writeable:!1}),xi[I]={klass:k,omit:G.omit||[],shallow:G.shallow||[]}}fe("Object",Object),Da.serialize=function(k,G){var ie=k.toArrayBuffer();return G&&G.push(ie),{buffer:ie}},Da.deserialize=function(k){return new Da(k.buffer)},fe("Grid",Da),fe("Color",ai),fe("Error",Error),fe("ResolvedImage",Uo),fe("StylePropertyFunction",jl),fe("StyleExpression",il,{omit:["_evaluator"]}),fe("ZoomDependentExpression",Wo),fe("ZoomConstantExpression",Yl),fe("CompoundExpression",ho,{omit:["_evaluate"]});for(var Re in zs)zs[Re]._classRegistryKey||fe("Expression_"+Re,zs[Re]);function We(I){return I&&typeof ArrayBuffer<"u"&&(I instanceof ArrayBuffer||I.constructor&&I.constructor.name==="ArrayBuffer")}function Qe(I){return Oi&&I instanceof Oi}function rt(I,k){if(I==null||typeof I=="boolean"||typeof I=="number"||typeof I=="string"||I instanceof Boolean||I instanceof Number||I instanceof String||I instanceof Date||I instanceof RegExp)return I;if(We(I)||Qe(I))return k&&k.push(I),I;if(ArrayBuffer.isView(I)){var G=I;return k&&k.push(G.buffer),G}if(I instanceof ui)return k&&k.push(I.data.buffer),I;if(Array.isArray(I)){for(var ie=[],de=0,Me=I;de<Me.length;de+=1){var Ie=Me[de];ie.push(rt(Ie,k))}return ie}if(typeof I=="object"){var Ke=I.constructor,ft=Ke._classRegistryKey;if(!ft)throw new Error("can't serialize object of unregistered class");var Tt=Ke.serialize?Ke.serialize(I,k):{};if(!Ke.serialize){for(var Et in I)if(I.hasOwnProperty(Et)&&!(xi[ft].omit.indexOf(Et)>=0)){var Wt=I[Et];Tt[Et]=xi[ft].shallow.indexOf(Et)>=0?Wt:rt(Wt,k)}I instanceof Error&&(Tt.message=I.message)}if(Tt.$name)throw new Error("$name property is reserved for worker serialization logic.");return ft!=="Object"&&(Tt.$name=ft),Tt}throw new Error("can't serialize object of type "+typeof I)}function ot(I){if(I==null||typeof I=="boolean"||typeof I=="number"||typeof I=="string"||I instanceof Boolean||I instanceof Number||I instanceof String||I instanceof Date||I instanceof RegExp||We(I)||Qe(I)||ArrayBuffer.isView(I)||I instanceof ui)return I;if(Array.isArray(I))return I.map(ot);if(typeof I=="object"){var k=I.$name||"Object",G=xi[k],ie=G.klass;if(!ie)throw new Error("can't deserialize unregistered class "+k);if(ie.deserialize)return ie.deserialize(I);for(var de=Object.create(ie.prototype),Me=0,Ie=Object.keys(I);Me<Ie.length;Me+=1){var Ke=Ie[Me];if(Ke!=="$name"){var ft=I[Ke];de[Ke]=xi[k].shallow.indexOf(Ke)>=0?ft:ot(ft)}}return de}throw new Error("can't deserialize object of type "+typeof I)}var Pt=function(){this.first=!0};Pt.prototype.update=function(k,G){var ie=Math.floor(k);return this.first?(this.first=!1,this.lastIntegerZoom=ie,this.lastIntegerZoomTime=0,this.lastZoom=k,this.lastFloorZoom=ie,!0):(this.lastFloorZoom>ie?(this.lastIntegerZoom=ie+1,this.lastIntegerZoomTime=G):this.lastFloorZoom<ie&&(this.lastIntegerZoom=ie,this.lastIntegerZoomTime=G),k!==this.lastZoom?(this.lastZoom=k,this.lastFloorZoom=ie,!0):!1)};var ct={"Latin-1 Supplement":function(I){return I>=128&&I<=255},Arabic:function(I){return I>=1536&&I<=1791},"Arabic Supplement":function(I){return I>=1872&&I<=1919},"Arabic Extended-A":function(I){return I>=2208&&I<=2303},"Hangul Jamo":function(I){return I>=4352&&I<=4607},"Unified Canadian Aboriginal Syllabics":function(I){return I>=5120&&I<=5759},Khmer:function(I){return I>=6016&&I<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(I){return I>=6320&&I<=6399},"General Punctuation":function(I){return I>=8192&&I<=8303},"Letterlike Symbols":function(I){return I>=8448&&I<=8527},"Number Forms":function(I){return I>=8528&&I<=8591},"Miscellaneous Technical":function(I){return I>=8960&&I<=9215},"Control Pictures":function(I){return I>=9216&&I<=9279},"Optical Character Recognition":function(I){return I>=9280&&I<=9311},"Enclosed Alphanumerics":function(I){return I>=9312&&I<=9471},"Geometric Shapes":function(I){return I>=9632&&I<=9727},"Miscellaneous Symbols":function(I){return I>=9728&&I<=9983},"Miscellaneous Symbols and Arrows":function(I){return I>=11008&&I<=11263},"CJK Radicals Supplement":function(I){return I>=11904&&I<=12031},"Kangxi Radicals":function(I){return I>=12032&&I<=12255},"Ideographic Description Characters":function(I){return I>=12272&&I<=12287},"CJK Symbols and Punctuation":function(I){return I>=12288&&I<=12351},Hiragana:function(I){return I>=12352&&I<=12447},Katakana:function(I){return I>=12448&&I<=12543},Bopomofo:function(I){return I>=12544&&I<=12591},"Hangul Compatibility Jamo":function(I){return I>=12592&&I<=12687},Kanbun:function(I){return I>=12688&&I<=12703},"Bopomofo Extended":function(I){return I>=12704&&I<=12735},"CJK Strokes":function(I){return I>=12736&&I<=12783},"Katakana Phonetic Extensions":function(I){return I>=12784&&I<=12799},"Enclosed CJK Letters and Months":function(I){return I>=12800&&I<=13055},"CJK Compatibility":function(I){return I>=13056&&I<=13311},"CJK Unified Ideographs Extension A":function(I){return I>=13312&&I<=19903},"Yijing Hexagram Symbols":function(I){return I>=19904&&I<=19967},"CJK Unified Ideographs":function(I){return I>=19968&&I<=40959},"Yi Syllables":function(I){return I>=40960&&I<=42127},"Yi Radicals":function(I){return I>=42128&&I<=42191},"Hangul Jamo Extended-A":function(I){return I>=43360&&I<=43391},"Hangul Syllables":function(I){return I>=44032&&I<=55215},"Hangul Jamo Extended-B":function(I){return I>=55216&&I<=55295},"Private Use Area":function(I){return I>=57344&&I<=63743},"CJK Compatibility Ideographs":function(I){return I>=63744&&I<=64255},"Arabic Presentation Forms-A":function(I){return I>=64336&&I<=65023},"Vertical Forms":function(I){return I>=65040&&I<=65055},"CJK Compatibility Forms":function(I){return I>=65072&&I<=65103},"Small Form Variants":function(I){return I>=65104&&I<=65135},"Arabic Presentation Forms-B":function(I){return I>=65136&&I<=65279},"Halfwidth and Fullwidth Forms":function(I){return I>=65280&&I<=65519}};function Ht(I){for(var k=0,G=I;k<G.length;k+=1){var ie=G[k];if(Cr(ie.charCodeAt(0)))return!0}return!1}function er(I){for(var k=0,G=I;k<G.length;k+=1){var ie=G[k];if(!nr(ie.charCodeAt(0)))return!1}return!0}function nr(I){return!(ct.Arabic(I)||ct["Arabic Supplement"](I)||ct["Arabic Extended-A"](I)||ct["Arabic Presentation Forms-A"](I)||ct["Arabic Presentation Forms-B"](I))}function Pr(I){return I<11904?!1:!!(ct["Bopomofo Extended"](I)||ct.Bopomofo(I)||ct["CJK Compatibility Forms"](I)||ct["CJK Compatibility Ideographs"](I)||ct["CJK Compatibility"](I)||ct["CJK Radicals Supplement"](I)||ct["CJK Strokes"](I)||ct["CJK Symbols and Punctuation"](I)||ct["CJK Unified Ideographs Extension A"](I)||ct["CJK Unified Ideographs"](I)||ct["Enclosed CJK Letters and Months"](I)||ct["Halfwidth and Fullwidth Forms"](I)||ct.Hiragana(I)||ct["Ideographic Description Characters"](I)||ct["Kangxi Radicals"](I)||ct["Katakana Phonetic Extensions"](I)||ct.Katakana(I)||ct["Vertical Forms"](I)||ct["Yi Radicals"](I)||ct["Yi Syllables"](I))}function Cr(I){return I===746||I===747?!0:I<4352?!1:!!(ct["Bopomofo Extended"](I)||ct.Bopomofo(I)||ct["CJK Compatibility Forms"](I)&&!(I>=65097&&I<=65103)||ct["CJK Compatibility Ideographs"](I)||ct["CJK Compatibility"](I)||ct["CJK Radicals Supplement"](I)||ct["CJK Strokes"](I)||ct["CJK Symbols and Punctuation"](I)&&!(I>=12296&&I<=12305)&&!(I>=12308&&I<=12319)&&I!==12336||ct["CJK Unified Ideographs Extension A"](I)||ct["CJK Unified Ideographs"](I)||ct["Enclosed CJK Letters and Months"](I)||ct["Hangul Compatibility Jamo"](I)||ct["Hangul Jamo Extended-A"](I)||ct["Hangul Jamo Extended-B"](I)||ct["Hangul Jamo"](I)||ct["Hangul Syllables"](I)||ct.Hiragana(I)||ct["Ideographic Description Characters"](I)||ct.Kanbun(I)||ct["Kangxi Radicals"](I)||ct["Katakana Phonetic Extensions"](I)||ct.Katakana(I)&&I!==12540||ct["Halfwidth and Fullwidth Forms"](I)&&I!==65288&&I!==65289&&I!==65293&&!(I>=65306&&I<=65310)&&I!==65339&&I!==65341&&I!==65343&&!(I>=65371&&I<=65503)&&I!==65507&&!(I>=65512&&I<=65519)||ct["Small Form Variants"](I)&&!(I>=65112&&I<=65118)&&!(I>=65123&&I<=65126)||ct["Unified Canadian Aboriginal Syllabics"](I)||ct["Unified Canadian Aboriginal Syllabics Extended"](I)||ct["Vertical Forms"](I)||ct["Yijing Hexagram Symbols"](I)||ct["Yi Syllables"](I)||ct["Yi Radicals"](I))}function Kr(I){return!!(ct["Latin-1 Supplement"](I)&&(I===167||I===169||I===174||I===177||I===188||I===189||I===190||I===215||I===247)||ct["General Punctuation"](I)&&(I===8214||I===8224||I===8225||I===8240||I===8241||I===8251||I===8252||I===8258||I===8263||I===8264||I===8265||I===8273)||ct["Letterlike Symbols"](I)||ct["Number Forms"](I)||ct["Miscellaneous Technical"](I)&&(I>=8960&&I<=8967||I>=8972&&I<=8991||I>=8996&&I<=9e3||I===9003||I>=9085&&I<=9114||I>=9150&&I<=9165||I===9167||I>=9169&&I<=9179||I>=9186&&I<=9215)||ct["Control Pictures"](I)&&I!==9251||ct["Optical Character Recognition"](I)||ct["Enclosed Alphanumerics"](I)||ct["Geometric Shapes"](I)||ct["Miscellaneous Symbols"](I)&&!(I>=9754&&I<=9759)||ct["Miscellaneous Symbols and Arrows"](I)&&(I>=11026&&I<=11055||I>=11088&&I<=11097||I>=11192&&I<=11243)||ct["CJK Symbols and Punctuation"](I)||ct.Katakana(I)||ct["Private Use Area"](I)||ct["CJK Compatibility Forms"](I)||ct["Small Form Variants"](I)||ct["Halfwidth and Fullwidth Forms"](I)||I===8734||I===8756||I===8757||I>=9984&&I<=10087||I>=10102&&I<=10131||I===65532||I===65533)}function nn(I){return!(Cr(I)||Kr(I))}function Ir(I){return ct.Arabic(I)||ct["Arabic Supplement"](I)||ct["Arabic Extended-A"](I)||ct["Arabic Presentation Forms-A"](I)||ct["Arabic Presentation Forms-B"](I)}function Nr(I){return I>=1424&&I<=2303||ct["Arabic Presentation Forms-A"](I)||ct["Arabic Presentation Forms-B"](I)}function Zr(I,k){return!(!k&&Nr(I)||I>=2304&&I<=3583||I>=3840&&I<=4255||ct.Khmer(I))}function on(I){for(var k=0,G=I;k<G.length;k+=1){var ie=G[k];if(Nr(ie.charCodeAt(0)))return!0}return!1}function hn(I,k){for(var G=0,ie=I;G<ie.length;G+=1){var de=ie[G];if(!Zr(de.charCodeAt(0),k))return!1}return!0}var Xr={unavailable:"unavailable",deferred:"deferred",loading:"loading",loaded:"loaded",error:"error"},Hn=null,jn=Xr.unavailable,ea=null,sa=function(I){I&&typeof I=="string"&&I.indexOf("NetworkError")>-1&&(jn=Xr.error),Hn&&Hn(I)};function Ta(){wa.fire(new jt("pluginStateChange",{pluginStatus:jn,pluginURL:ea}))}var wa=new or,Ha=function(){return jn},La=function(I){return I({pluginStatus:jn,pluginURL:ea}),wa.on("pluginStateChange",I),I},Ba=function(I,k,G){if(G===void 0&&(G=!1),jn===Xr.deferred||jn===Xr.loading||jn===Xr.loaded)throw new Error("setRTLTextPlugin cannot be called multiple times.");ea=le.resolveURL(I),jn=Xr.deferred,Hn=k,Ta(),G||ei()},ei=function(){if(jn!==Xr.deferred||!ea)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");jn=Xr.loading,Ta(),ea&&St({url:ea},function(I){I?sa(I):(jn=Xr.loaded,Ta())})},ii={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return jn===Xr.loaded||ii.applyArabicShaping!=null},isLoading:function(){return jn===Xr.loading},setState:function(k){jn=k.pluginStatus,ea=k.pluginURL},isParsed:function(){return ii.applyArabicShaping!=null&&ii.processBidirectionalText!=null&&ii.processStyledBidirectionalText!=null},getPluginURL:function(){return ea}},vi=function(){!ii.isLoading()&&!ii.isLoaded()&&Ha()==="deferred"&&ei()},Wn=function(k,G){this.zoom=k,G?(this.now=G.now,this.fadeDuration=G.fadeDuration,this.zoomHistory=G.zoomHistory,this.transition=G.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Pt,this.transition={})};Wn.prototype.isSupportedScript=function(k){return hn(k,ii.isLoaded())},Wn.prototype.crossFadingFactor=function(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},Wn.prototype.getCrossfadeParameters=function(){var k=this.zoom,G=k-Math.floor(k),ie=this.crossFadingFactor();return k>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:G+(1-G)*ie}:{fromScale:.5,toScale:1,t:1-(1-ie)*G}};var Na=function(k,G){this.property=k,this.value=G,this.expression=lh(G===void 0?k.specification.default:G,k.specification)};Na.prototype.isDataDriven=function(){return this.expression.kind==="source"||this.expression.kind==="composite"},Na.prototype.possiblyEvaluate=function(k,G,ie){return this.property.possiblyEvaluate(this,k,G,ie)};var Oa=function(k){this.property=k,this.value=new Na(k,void 0)};Oa.prototype.transitioned=function(k,G){return new Li(this.property,this.value,G,l({},k.transition,this.transition),k.now)},Oa.prototype.untransitioned=function(){return new Li(this.property,this.value,null,{},0)};var Ka=function(k){this._properties=k,this._values=Object.create(k.defaultTransitionablePropertyValues)};Ka.prototype.getValue=function(k){return b(this._values[k].value.value)},Ka.prototype.setValue=function(k,G){this._values.hasOwnProperty(k)||(this._values[k]=new Oa(this._values[k].property)),this._values[k].value=new Na(this._values[k].property,G===null?void 0:b(G))},Ka.prototype.getTransition=function(k){return b(this._values[k].transition)},Ka.prototype.setTransition=function(k,G){this._values.hasOwnProperty(k)||(this._values[k]=new Oa(this._values[k].property)),this._values[k].transition=b(G)||void 0},Ka.prototype.serialize=function(){for(var k={},G=0,ie=Object.keys(this._values);G<ie.length;G+=1){var de=ie[G],Me=this.getValue(de);Me!==void 0&&(k[de]=Me);var Ie=this.getTransition(de);Ie!==void 0&&(k[de+"-transition"]=Ie)}return k},Ka.prototype.transitioned=function(k,G){for(var ie=new Vi(this._properties),de=0,Me=Object.keys(this._values);de<Me.length;de+=1){var Ie=Me[de];ie._values[Ie]=this._values[Ie].transitioned(k,G._values[Ie])}return ie},Ka.prototype.untransitioned=function(){for(var k=new Vi(this._properties),G=0,ie=Object.keys(this._values);G<ie.length;G+=1){var de=ie[G];k._values[de]=this._values[de].untransitioned()}return k};var Li=function(k,G,ie,de,Me){this.property=k,this.value=G,this.begin=Me+de.delay||0,this.end=this.begin+de.duration||0,k.specification.transition&&(de.delay||de.duration)&&(this.prior=ie)};Li.prototype.possiblyEvaluate=function(k,G,ie){var de=k.now||0,Me=this.value.possiblyEvaluate(k,G,ie),Ie=this.prior;if(Ie){if(de>this.end)return this.prior=null,Me;if(this.value.isDataDriven())return this.prior=null,Me;if(de<this.begin)return Ie.possiblyEvaluate(k,G,ie);var Ke=(de-this.begin)/(this.end-this.begin);return this.property.interpolate(Ie.possiblyEvaluate(k,G,ie),Me,n(Ke))}else return Me};var Vi=function(k){this._properties=k,this._values=Object.create(k.defaultTransitioningPropertyValues)};Vi.prototype.possiblyEvaluate=function(k,G,ie){for(var de=new pi(this._properties),Me=0,Ie=Object.keys(this._values);Me<Ie.length;Me+=1){var Ke=Ie[Me];de._values[Ke]=this._values[Ke].possiblyEvaluate(k,G,ie)}return de},Vi.prototype.hasTransition=function(){for(var k=0,G=Object.keys(this._values);k<G.length;k+=1){var ie=G[k];if(this._values[ie].prior)return!0}return!1};var Xi=function(k){this._properties=k,this._values=Object.create(k.defaultPropertyValues)};Xi.prototype.getValue=function(k){return b(this._values[k].value)},Xi.prototype.setValue=function(k,G){this._values[k]=new Na(this._values[k].property,G===null?void 0:b(G))},Xi.prototype.serialize=function(){for(var k={},G=0,ie=Object.keys(this._values);G<ie.length;G+=1){var de=ie[G],Me=this.getValue(de);Me!==void 0&&(k[de]=Me)}return k},Xi.prototype.possiblyEvaluate=function(k,G,ie){for(var de=new pi(this._properties),Me=0,Ie=Object.keys(this._values);Me<Ie.length;Me+=1){var Ke=Ie[Me];de._values[Ke]=this._values[Ke].possiblyEvaluate(k,G,ie)}return de};var Ai=function(k,G,ie){this.property=k,this.value=G,this.parameters=ie};Ai.prototype.isConstant=function(){return this.value.kind==="constant"},Ai.prototype.constantOr=function(k){return this.value.kind==="constant"?this.value.value:k},Ai.prototype.evaluate=function(k,G,ie,de){return this.property.evaluate(this.value,this.parameters,k,G,ie,de)};var pi=function(k){this._properties=k,this._values=Object.create(k.defaultPossiblyEvaluatedValues)};pi.prototype.get=function(k){return this._values[k]};var ma=function(k){this.specification=k};ma.prototype.possiblyEvaluate=function(k,G){return k.expression.evaluate(G)},ma.prototype.interpolate=function(k,G,ie){var de=du[this.specification.type];return de?de(k,G,ie):k};var Ea=function(k,G){this.specification=k,this.overrides=G};Ea.prototype.possiblyEvaluate=function(k,G,ie,de){return k.expression.kind==="constant"||k.expression.kind==="camera"?new Ai(this,{kind:"constant",value:k.expression.evaluate(G,null,{},ie,de)},G):new Ai(this,k.expression,G)},Ea.prototype.interpolate=function(k,G,ie){if(k.value.kind!=="constant"||G.value.kind!=="constant")return k;if(k.value.value===void 0||G.value.value===void 0)return new Ai(this,{kind:"constant",value:void 0},k.parameters);var de=du[this.specification.type];return de?new Ai(this,{kind:"constant",value:de(k.value.value,G.value.value,ie)},k.parameters):k},Ea.prototype.evaluate=function(k,G,ie,de,Me,Ie){return k.kind==="constant"?k.value:k.evaluate(G,ie,de,Me,Ie)};var Si=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype.possiblyEvaluate=function(ie,de,Me,Ie){if(ie.value===void 0)return new Ai(this,{kind:"constant",value:void 0},de);if(ie.expression.kind==="constant"){var Ke=ie.expression.evaluate(de,null,{},Me,Ie),ft=ie.property.specification.type==="resolvedImage",Tt=ft&&typeof Ke!="string"?Ke.name:Ke,Et=this._calculate(Tt,Tt,Tt,de);return new Ai(this,{kind:"constant",value:Et},de)}else if(ie.expression.kind==="camera"){var Wt=this._calculate(ie.expression.evaluate({zoom:de.zoom-1}),ie.expression.evaluate({zoom:de.zoom}),ie.expression.evaluate({zoom:de.zoom+1}),de);return new Ai(this,{kind:"constant",value:Wt},de)}else return new Ai(this,ie.expression,de)},k.prototype.evaluate=function(ie,de,Me,Ie,Ke,ft){if(ie.kind==="source"){var Tt=ie.evaluate(de,Me,Ie,Ke,ft);return this._calculate(Tt,Tt,Tt,de)}else return ie.kind==="composite"?this._calculate(ie.evaluate({zoom:Math.floor(de.zoom)-1},Me,Ie),ie.evaluate({zoom:Math.floor(de.zoom)},Me,Ie),ie.evaluate({zoom:Math.floor(de.zoom)+1},Me,Ie),de):ie.value},k.prototype._calculate=function(ie,de,Me,Ie){var Ke=Ie.zoom;return Ke>Ie.zoomHistory.lastIntegerZoom?{from:ie,to:de}:{from:Me,to:de}},k.prototype.interpolate=function(ie){return ie},k}(Ea),ji=function(k){this.specification=k};ji.prototype.possiblyEvaluate=function(k,G,ie,de){if(k.value!==void 0)if(k.expression.kind==="constant"){var Me=k.expression.evaluate(G,null,{},ie,de);return this._calculate(Me,Me,Me,G)}else return this._calculate(k.expression.evaluate(new Wn(Math.floor(G.zoom-1),G)),k.expression.evaluate(new Wn(Math.floor(G.zoom),G)),k.expression.evaluate(new Wn(Math.floor(G.zoom+1),G)),G)},ji.prototype._calculate=function(k,G,ie,de){var Me=de.zoom;return Me>de.zoomHistory.lastIntegerZoom?{from:k,to:G}:{from:ie,to:G}},ji.prototype.interpolate=function(k){return k};var Qo=function(k){this.specification=k};Qo.prototype.possiblyEvaluate=function(k,G,ie,de){return!!k.expression.evaluate(G,null,{},ie,de)},Qo.prototype.interpolate=function(){return!1};var lo=function(k){this.properties=k,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(var G in k){var ie=k[G];ie.specification.overridable&&this.overridableProperties.push(G);var de=this.defaultPropertyValues[G]=new Na(ie,void 0),Me=this.defaultTransitionablePropertyValues[G]=new Oa(ie);this.defaultTransitioningPropertyValues[G]=Me.untransitioned(),this.defaultPossiblyEvaluatedValues[G]=de.possiblyEvaluate({})}};fe("DataDrivenProperty",Ea),fe("DataConstantProperty",ma),fe("CrossFadedDataDrivenProperty",Si),fe("CrossFadedProperty",ji),fe("ColorRampProperty",Qo);var ko="-transition",Ri=function(I){function k(G,ie){if(I.call(this),this.id=G.id,this.type=G.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},G.type!=="custom"&&(G=G,this.metadata=G.metadata,this.minzoom=G.minzoom,this.maxzoom=G.maxzoom,G.type!=="background"&&(this.source=G.source,this.sourceLayer=G["source-layer"],this.filter=G.filter),ie.layout&&(this._unevaluatedLayout=new Xi(ie.layout)),ie.paint)){this._transitionablePaint=new Ka(ie.paint);for(var de in G.paint)this.setPaintProperty(de,G.paint[de],{validate:!1});for(var Me in G.layout)this.setLayoutProperty(Me,G.layout[Me],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new pi(ie.paint)}}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},k.prototype.getLayoutProperty=function(ie){return ie==="visibility"?this.visibility:this._unevaluatedLayout.getValue(ie)},k.prototype.setLayoutProperty=function(ie,de,Me){if(Me===void 0&&(Me={}),de!=null){var Ie="layers."+this.id+".layout."+ie;if(this._validate(da,Ie,ie,de,Me))return}if(ie==="visibility"){this.visibility=de;return}this._unevaluatedLayout.setValue(ie,de)},k.prototype.getPaintProperty=function(ie){return w(ie,ko)?this._transitionablePaint.getTransition(ie.slice(0,-ko.length)):this._transitionablePaint.getValue(ie)},k.prototype.setPaintProperty=function(ie,de,Me){if(Me===void 0&&(Me={}),de!=null){var Ie="layers."+this.id+".paint."+ie;if(this._validate(kn,Ie,ie,de,Me))return!1}if(w(ie,ko))return this._transitionablePaint.setTransition(ie.slice(0,-ko.length),de||void 0),!1;var Ke=this._transitionablePaint._values[ie],ft=Ke.property.specification["property-type"]==="cross-faded-data-driven",Tt=Ke.value.isDataDriven(),Et=Ke.value;this._transitionablePaint.setValue(ie,de),this._handleSpecialPaintPropertyUpdate(ie);var Wt=this._transitionablePaint._values[ie].value,ir=Wt.isDataDriven();return ir||Tt||ft||this._handleOverridablePaintPropertyUpdate(ie,Et,Wt)},k.prototype._handleSpecialPaintPropertyUpdate=function(ie){},k.prototype._handleOverridablePaintPropertyUpdate=function(ie,de,Me){return!1},k.prototype.isHidden=function(ie){return this.minzoom&&ie<this.minzoom||this.maxzoom&&ie>=this.maxzoom?!0:this.visibility==="none"},k.prototype.updateTransitions=function(ie){this._transitioningPaint=this._transitionablePaint.transitioned(ie,this._transitioningPaint)},k.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},k.prototype.recalculate=function(ie,de){ie.getCrossfadeParameters&&(this._crossfadeParameters=ie.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(ie,void 0,de)),this.paint=this._transitioningPaint.possiblyEvaluate(ie,void 0,de)},k.prototype.serialize=function(){var ie={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(ie.layout=ie.layout||{},ie.layout.visibility=this.visibility),L(ie,function(de,Me){return de!==void 0&&!(Me==="layout"&&!Object.keys(de).length)&&!(Me==="paint"&&!Object.keys(de).length)})},k.prototype._validate=function(ie,de,Me,Ie,Ke){return Ke===void 0&&(Ke={}),Ke&&Ke.validate===!1?!1:Pa(this,ie.call(bn,{key:de,layerType:this.type,objectKey:Me,value:Ie,styleSpec:Zt,style:{glyphs:!0,sprite:!0}}))},k.prototype.is3D=function(){return!1},k.prototype.isTileClipped=function(){return!1},k.prototype.hasOffscreenPass=function(){return!1},k.prototype.resize=function(){},k.prototype.isStateDependent=function(){for(var ie in this.paint._values){var de=this.paint.get(ie);if(!(!(de instanceof Ai)||!al(de.property.specification))&&(de.value.kind==="source"||de.value.kind==="composite")&&de.value.isStateDependent)return!0}return!1},k}(or),os={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},bi=function(k,G){this._structArray=k,this._pos1=G*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},Fs=128,ss=5,$a=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};$a.serialize=function(k,G){return k._trim(),G&&(k.isTransferred=!0,G.push(k.arrayBuffer)),{length:k.length,arrayBuffer:k.arrayBuffer}},$a.deserialize=function(k){var G=Object.create(this.prototype);return G.arrayBuffer=k.arrayBuffer,G.length=k.length,G.capacity=k.arrayBuffer.byteLength/G.bytesPerElement,G._refreshViews(),G},$a.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},$a.prototype.clear=function(){this.length=0},$a.prototype.resize=function(k){this.reserve(k),this.length=k},$a.prototype.reserve=function(k){if(k>this.capacity){this.capacity=Math.max(k,Math.floor(this.capacity*ss),Fs),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var G=this.uint8;this._refreshViews(),G&&this.uint8.set(G)}},$a.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};function Mi(I,k){k===void 0&&(k=1);var G=0,ie=0,de=I.map(function(Ie){var Ke=dh(Ie.type),ft=G=Dc(G,Math.max(k,Ke)),Tt=Ie.components||1;return ie=Math.max(ie,Ke),G+=Ke*Tt,{name:Ie.name,type:Ie.type,components:Tt,offset:ft}}),Me=Dc(G,Math.max(ie,k));return{members:de,size:Me,alignment:k}}function dh(I){return os[I].BYTES_PER_ELEMENT}function Dc(I,k){return Math.ceil(I/k)*k}var bv=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},k.prototype.emplaceBack=function(ie,de){var Me=this.length;return this.resize(Me+1),this.emplace(Me,ie,de)},k.prototype.emplace=function(ie,de,Me){var Ie=ie*2;return this.int16[Ie+0]=de,this.int16[Ie+1]=Me,ie},k}($a);bv.prototype.bytesPerElement=4,fe("StructArrayLayout2i4",bv);var Uf=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},k.prototype.emplaceBack=function(ie,de,Me,Ie){var Ke=this.length;return this.resize(Ke+1),this.emplace(Ke,ie,de,Me,Ie)},k.prototype.emplace=function(ie,de,Me,Ie,Ke){var ft=ie*4;return this.int16[ft+0]=de,this.int16[ft+1]=Me,this.int16[ft+2]=Ie,this.int16[ft+3]=Ke,ie},k}($a);Uf.prototype.bytesPerElement=8,fe("StructArrayLayout4i8",Uf);var ph=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},k.prototype.emplaceBack=function(ie,de,Me,Ie,Ke,ft){var Tt=this.length;return this.resize(Tt+1),this.emplace(Tt,ie,de,Me,Ie,Ke,ft)},k.prototype.emplace=function(ie,de,Me,Ie,Ke,ft,Tt){var Et=ie*6;return this.int16[Et+0]=de,this.int16[Et+1]=Me,this.int16[Et+2]=Ie,this.int16[Et+3]=Ke,this.int16[Et+4]=ft,this.int16[Et+5]=Tt,ie},k}($a);ph.prototype.bytesPerElement=12,fe("StructArrayLayout2i4i12",ph);var td=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},k.prototype.emplaceBack=function(ie,de,Me,Ie,Ke,ft){var Tt=this.length;return this.resize(Tt+1),this.emplace(Tt,ie,de,Me,Ie,Ke,ft)},k.prototype.emplace=function(ie,de,Me,Ie,Ke,ft,Tt){var Et=ie*4,Wt=ie*8;return this.int16[Et+0]=de,this.int16[Et+1]=Me,this.uint8[Wt+4]=Ie,this.uint8[Wt+5]=Ke,this.uint8[Wt+6]=ft,this.uint8[Wt+7]=Tt,ie},k}($a);td.prototype.bytesPerElement=8,fe("StructArrayLayout2i4ub8",td);var ws=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},k.prototype.emplaceBack=function(ie,de,Me,Ie,Ke,ft,Tt,Et,Wt,ir){var qt=this.length;return this.resize(qt+1),this.emplace(qt,ie,de,Me,Ie,Ke,ft,Tt,Et,Wt,ir)},k.prototype.emplace=function(ie,de,Me,Ie,Ke,ft,Tt,Et,Wt,ir,qt){var br=ie*9,Br=ie*18;return this.uint16[br+0]=de,this.uint16[br+1]=Me,this.uint16[br+2]=Ie,this.uint16[br+3]=Ke,this.uint16[br+4]=ft,this.uint16[br+5]=Tt,this.uint16[br+6]=Et,this.uint16[br+7]=Wt,this.uint8[Br+16]=ir,this.uint8[Br+17]=qt,ie},k}($a);ws.prototype.bytesPerElement=18,fe("StructArrayLayout8ui2ub18",ws);var Hf=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},k.prototype.emplaceBack=function(ie,de,Me,Ie,Ke,ft,Tt,Et,Wt,ir,qt,br){var Br=this.length;return this.resize(Br+1),this.emplace(Br,ie,de,Me,Ie,Ke,ft,Tt,Et,Wt,ir,qt,br)},k.prototype.emplace=function(ie,de,Me,Ie,Ke,ft,Tt,Et,Wt,ir,qt,br,Br){var ln=ie*12;return this.int16[ln+0]=de,this.int16[ln+1]=Me,this.int16[ln+2]=Ie,this.int16[ln+3]=Ke,this.uint16[ln+4]=ft,this.uint16[ln+5]=Tt,this.uint16[ln+6]=Et,this.uint16[ln+7]=Wt,this.int16[ln+8]=ir,this.int16[ln+9]=qt,this.int16[ln+10]=br,this.int16[ln+11]=Br,ie},k}($a);Hf.prototype.bytesPerElement=24,fe("StructArrayLayout4i4ui4i24",Hf);var Cp=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},k.prototype.emplaceBack=function(ie,de,Me){var Ie=this.length;return this.resize(Ie+1),this.emplace(Ie,ie,de,Me)},k.prototype.emplace=function(ie,de,Me,Ie){var Ke=ie*3;return this.float32[Ke+0]=de,this.float32[Ke+1]=Me,this.float32[Ke+2]=Ie,ie},k}($a);Cp.prototype.bytesPerElement=12,fe("StructArrayLayout3f12",Cp);var Lp=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},k.prototype.emplaceBack=function(ie){var de=this.length;return this.resize(de+1),this.emplace(de,ie)},k.prototype.emplace=function(ie,de){var Me=ie*1;return this.uint32[Me+0]=de,ie},k}($a);Lp.prototype.bytesPerElement=4,fe("StructArrayLayout1ul4",Lp);var wv=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},k.prototype.emplaceBack=function(ie,de,Me,Ie,Ke,ft,Tt,Et,Wt){var ir=this.length;return this.resize(ir+1),this.emplace(ir,ie,de,Me,Ie,Ke,ft,Tt,Et,Wt)},k.prototype.emplace=function(ie,de,Me,Ie,Ke,ft,Tt,Et,Wt,ir){var qt=ie*10,br=ie*5;return this.int16[qt+0]=de,this.int16[qt+1]=Me,this.int16[qt+2]=Ie,this.int16[qt+3]=Ke,this.int16[qt+4]=ft,this.int16[qt+5]=Tt,this.uint32[br+3]=Et,this.uint16[qt+8]=Wt,this.uint16[qt+9]=ir,ie},k}($a);wv.prototype.bytesPerElement=20,fe("StructArrayLayout6i1ul2ui20",wv);var rd=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},k.prototype.emplaceBack=function(ie,de,Me,Ie,Ke,ft){var Tt=this.length;return this.resize(Tt+1),this.emplace(Tt,ie,de,Me,Ie,Ke,ft)},k.prototype.emplace=function(ie,de,Me,Ie,Ke,ft,Tt){var Et=ie*6;return this.int16[Et+0]=de,this.int16[Et+1]=Me,this.int16[Et+2]=Ie,this.int16[Et+3]=Ke,this.int16[Et+4]=ft,this.int16[Et+5]=Tt,ie},k}($a);rd.prototype.bytesPerElement=12,fe("StructArrayLayout2i2i2i12",rd);var uf=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},k.prototype.emplaceBack=function(ie,de,Me,Ie,Ke){var ft=this.length;return this.resize(ft+1),this.emplace(ft,ie,de,Me,Ie,Ke)},k.prototype.emplace=function(ie,de,Me,Ie,Ke,ft){var Tt=ie*4,Et=ie*8;return this.float32[Tt+0]=de,this.float32[Tt+1]=Me,this.float32[Tt+2]=Ie,this.int16[Et+6]=Ke,this.int16[Et+7]=ft,ie},k}($a);uf.prototype.bytesPerElement=16,fe("StructArrayLayout2f1f2i16",uf);var Bs=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},k.prototype.emplaceBack=function(ie,de,Me,Ie){var Ke=this.length;return this.resize(Ke+1),this.emplace(Ke,ie,de,Me,Ie)},k.prototype.emplace=function(ie,de,Me,Ie,Ke){var ft=ie*12,Tt=ie*3;return this.uint8[ft+0]=de,this.uint8[ft+1]=Me,this.float32[Tt+1]=Ie,this.float32[Tt+2]=Ke,ie},k}($a);Bs.prototype.bytesPerElement=12,fe("StructArrayLayout2ub2f12",Bs);var ff=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},k.prototype.emplaceBack=function(ie,de,Me){var Ie=this.length;return this.resize(Ie+1),this.emplace(Ie,ie,de,Me)},k.prototype.emplace=function(ie,de,Me,Ie){var Ke=ie*3;return this.uint16[Ke+0]=de,this.uint16[Ke+1]=Me,this.uint16[Ke+2]=Ie,ie},k}($a);ff.prototype.bytesPerElement=6,fe("StructArrayLayout3ui6",ff);var Tv=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},k.prototype.emplaceBack=function(ie,de,Me,Ie,Ke,ft,Tt,Et,Wt,ir,qt,br,Br,ln,qr,Ln,wn){var Cn=this.length;return this.resize(Cn+1),this.emplace(Cn,ie,de,Me,Ie,Ke,ft,Tt,Et,Wt,ir,qt,br,Br,ln,qr,Ln,wn)},k.prototype.emplace=function(ie,de,Me,Ie,Ke,ft,Tt,Et,Wt,ir,qt,br,Br,ln,qr,Ln,wn,Cn){var _n=ie*24,Gn=ie*12,na=ie*48;return this.int16[_n+0]=de,this.int16[_n+1]=Me,this.uint16[_n+2]=Ie,this.uint16[_n+3]=Ke,this.uint32[Gn+2]=ft,this.uint32[Gn+3]=Tt,this.uint32[Gn+4]=Et,this.uint16[_n+10]=Wt,this.uint16[_n+11]=ir,this.uint16[_n+12]=qt,this.float32[Gn+7]=br,this.float32[Gn+8]=Br,this.uint8[na+36]=ln,this.uint8[na+37]=qr,this.uint8[na+38]=Ln,this.uint32[Gn+10]=wn,this.int16[_n+22]=Cn,ie},k}($a);Tv.prototype.bytesPerElement=48,fe("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Tv);var nd=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},k.prototype.emplaceBack=function(ie,de,Me,Ie,Ke,ft,Tt,Et,Wt,ir,qt,br,Br,ln,qr,Ln,wn,Cn,_n,Gn,na,ra,Ca,va,xa,Ua,Sa,Ma){var ja=this.length;return this.resize(ja+1),this.emplace(ja,ie,de,Me,Ie,Ke,ft,Tt,Et,Wt,ir,qt,br,Br,ln,qr,Ln,wn,Cn,_n,Gn,na,ra,Ca,va,xa,Ua,Sa,Ma)},k.prototype.emplace=function(ie,de,Me,Ie,Ke,ft,Tt,Et,Wt,ir,qt,br,Br,ln,qr,Ln,wn,Cn,_n,Gn,na,ra,Ca,va,xa,Ua,Sa,Ma,ja){var Fa=ie*34,oi=ie*17;return this.int16[Fa+0]=de,this.int16[Fa+1]=Me,this.int16[Fa+2]=Ie,this.int16[Fa+3]=Ke,this.int16[Fa+4]=ft,this.int16[Fa+5]=Tt,this.int16[Fa+6]=Et,this.int16[Fa+7]=Wt,this.uint16[Fa+8]=ir,this.uint16[Fa+9]=qt,this.uint16[Fa+10]=br,this.uint16[Fa+11]=Br,this.uint16[Fa+12]=ln,this.uint16[Fa+13]=qr,this.uint16[Fa+14]=Ln,this.uint16[Fa+15]=wn,this.uint16[Fa+16]=Cn,this.uint16[Fa+17]=_n,this.uint16[Fa+18]=Gn,this.uint16[Fa+19]=na,this.uint16[Fa+20]=ra,this.uint16[Fa+21]=Ca,this.uint16[Fa+22]=va,this.uint32[oi+12]=xa,this.float32[oi+13]=Ua,this.float32[oi+14]=Sa,this.float32[oi+15]=Ma,this.float32[oi+16]=ja,ie},k}($a);nd.prototype.bytesPerElement=68,fe("StructArrayLayout8i15ui1ul4f68",nd);var gh=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},k.prototype.emplaceBack=function(ie){var de=this.length;return this.resize(de+1),this.emplace(de,ie)},k.prototype.emplace=function(ie,de){var Me=ie*1;return this.float32[Me+0]=de,ie},k}($a);gh.prototype.bytesPerElement=4,fe("StructArrayLayout1f4",gh);var Pp=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},k.prototype.emplaceBack=function(ie,de,Me){var Ie=this.length;return this.resize(Ie+1),this.emplace(Ie,ie,de,Me)},k.prototype.emplace=function(ie,de,Me,Ie){var Ke=ie*3;return this.int16[Ke+0]=de,this.int16[Ke+1]=Me,this.int16[Ke+2]=Ie,ie},k}($a);Pp.prototype.bytesPerElement=6,fe("StructArrayLayout3i6",Pp);var Vf=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},k.prototype.emplaceBack=function(ie,de,Me){var Ie=this.length;return this.resize(Ie+1),this.emplace(Ie,ie,de,Me)},k.prototype.emplace=function(ie,de,Me,Ie){var Ke=ie*2,ft=ie*4;return this.uint32[Ke+0]=de,this.uint16[ft+2]=Me,this.uint16[ft+3]=Ie,ie},k}($a);Vf.prototype.bytesPerElement=8,fe("StructArrayLayout1ul2ui8",Vf);var Av=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},k.prototype.emplaceBack=function(ie,de){var Me=this.length;return this.resize(Me+1),this.emplace(Me,ie,de)},k.prototype.emplace=function(ie,de,Me){var Ie=ie*2;return this.uint16[Ie+0]=de,this.uint16[Ie+1]=Me,ie},k}($a);Av.prototype.bytesPerElement=4,fe("StructArrayLayout2ui4",Av);var yh=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},k.prototype.emplaceBack=function(ie){var de=this.length;return this.resize(de+1),this.emplace(de,ie)},k.prototype.emplace=function(ie,de){var Me=ie*1;return this.uint16[Me+0]=de,ie},k}($a);yh.prototype.bytesPerElement=2,fe("StructArrayLayout1ui2",yh);var Wf=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},k.prototype.emplaceBack=function(ie,de){var Me=this.length;return this.resize(Me+1),this.emplace(Me,ie,de)},k.prototype.emplace=function(ie,de,Me){var Ie=ie*2;return this.float32[Ie+0]=de,this.float32[Ie+1]=Me,ie},k}($a);Wf.prototype.bytesPerElement=8,fe("StructArrayLayout2f8",Wf);var Rp=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},k.prototype.emplaceBack=function(ie,de,Me,Ie){var Ke=this.length;return this.resize(Ke+1),this.emplace(Ke,ie,de,Me,Ie)},k.prototype.emplace=function(ie,de,Me,Ie,Ke){var ft=ie*4;return this.float32[ft+0]=de,this.float32[ft+1]=Me,this.float32[ft+2]=Ie,this.float32[ft+3]=Ke,ie},k}($a);Rp.prototype.bytesPerElement=16,fe("StructArrayLayout4f16",Rp);var gg=function(I){function k(){I.apply(this,arguments)}I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k;var G={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return G.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},G.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},G.x1.get=function(){return this._structArray.int16[this._pos2+2]},G.y1.get=function(){return this._structArray.int16[this._pos2+3]},G.x2.get=function(){return this._structArray.int16[this._pos2+4]},G.y2.get=function(){return this._structArray.int16[this._pos2+5]},G.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},G.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},G.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},G.anchorPoint.get=function(){return new t(this.anchorPointX,this.anchorPointY)},Object.defineProperties(k.prototype,G),k}(bi);gg.prototype.size=20;var Gf=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype.get=function(ie){return new gg(this,ie)},k}(wv);fe("CollisionBoxArray",Gf);var Dp=function(I){function k(){I.apply(this,arguments)}I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k;var G={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return G.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},G.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},G.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},G.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},G.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},G.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},G.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},G.segment.get=function(){return this._structArray.uint16[this._pos2+10]},G.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},G.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},G.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},G.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},G.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},G.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},G.placedOrientation.set=function(ie){this._structArray.uint8[this._pos1+37]=ie},G.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},G.hidden.set=function(ie){this._structArray.uint8[this._pos1+38]=ie},G.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},G.crossTileID.set=function(ie){this._structArray.uint32[this._pos4+10]=ie},G.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(k.prototype,G),k}(bi);Dp.prototype.size=48;var mh=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype.get=function(ie){return new Dp(this,ie)},k}(Tv);fe("PlacedSymbolArray",mh);var yg=function(I){function k(){I.apply(this,arguments)}I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k;var G={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return G.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},G.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},G.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},G.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},G.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},G.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},G.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},G.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},G.key.get=function(){return this._structArray.uint16[this._pos2+8]},G.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},G.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},G.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},G.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},G.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},G.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},G.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},G.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},G.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},G.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},G.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},G.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},G.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},G.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},G.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},G.crossTileID.set=function(ie){this._structArray.uint32[this._pos4+12]=ie},G.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},G.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},G.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},G.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(k.prototype,G),k}(bi);yg.prototype.size=68;var mg=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype.get=function(ie){return new yg(this,ie)},k}(nd);fe("SymbolInstanceArray",mg);var Xl=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype.getoffsetX=function(ie){return this.float32[ie*1+0]},k}(gh);fe("GlyphOffsetArray",Xl);var xg=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype.getx=function(ie){return this.int16[ie*3+0]},k.prototype.gety=function(ie){return this.int16[ie*3+1]},k.prototype.gettileUnitDistanceFromAnchor=function(ie){return this.int16[ie*3+2]},k}(Pp);fe("SymbolLineVertexArray",xg);var bg=function(I){function k(){I.apply(this,arguments)}I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k;var G={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return G.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},G.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},G.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(k.prototype,G),k}(bi);bg.prototype.size=8;var Ip=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype.get=function(ie){return new bg(this,ie)},k}(Vf);fe("FeatureIndexArray",Ip);var wg=Mi([{name:"a_pos",components:2,type:"Int16"}],4),ve=wg.members,X=function(k){k===void 0&&(k=[]),this.segments=k};X.prototype.prepareSegment=function(k,G,ie,de){var Me=this.segments[this.segments.length-1];return k>X.MAX_VERTEX_ARRAY_LENGTH&&N("Max vertices per segment is "+X.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+k),(!Me||Me.vertexLength+k>X.MAX_VERTEX_ARRAY_LENGTH||Me.sortKey!==de)&&(Me={vertexOffset:G.length,primitiveOffset:ie.length,vertexLength:0,primitiveLength:0},de!==void 0&&(Me.sortKey=de),this.segments.push(Me)),Me},X.prototype.get=function(){return this.segments},X.prototype.destroy=function(){for(var k=0,G=this.segments;k<G.length;k+=1){var ie=G[k];for(var de in ie.vaos)ie.vaos[de].destroy()}},X.simpleSegment=function(k,G,ie,de){return new X([{vertexOffset:k,primitiveOffset:G,vertexLength:ie,primitiveLength:de,vaos:{},sortKey:0}])},X.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,fe("SegmentVector",X);function pe(I,k){return I=u(Math.floor(I),0,255),k=u(Math.floor(k),0,255),256*I+k}var ae=Mi([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint8"},{name:"a_pixel_ratio_to",components:1,type:"Uint8"}]),ye=C(function(I){function k(G,ie){var de,Me,Ie,Ke,ft,Tt,Et,Wt;for(de=G.length&3,Me=G.length-de,Ie=ie,ft=3432918353,Tt=461845907,Wt=0;Wt<Me;)Et=G.charCodeAt(Wt)&255|(G.charCodeAt(++Wt)&255)<<8|(G.charCodeAt(++Wt)&255)<<16|(G.charCodeAt(++Wt)&255)<<24,++Wt,Et=(Et&65535)*ft+(((Et>>>16)*ft&65535)<<16)&4294967295,Et=Et<<15|Et>>>17,Et=(Et&65535)*Tt+(((Et>>>16)*Tt&65535)<<16)&4294967295,Ie^=Et,Ie=Ie<<13|Ie>>>19,Ke=(Ie&65535)*5+(((Ie>>>16)*5&65535)<<16)&4294967295,Ie=(Ke&65535)+27492+(((Ke>>>16)+58964&65535)<<16);switch(Et=0,de){case 3:Et^=(G.charCodeAt(Wt+2)&255)<<16;case 2:Et^=(G.charCodeAt(Wt+1)&255)<<8;case 1:Et^=G.charCodeAt(Wt)&255,Et=(Et&65535)*ft+(((Et>>>16)*ft&65535)<<16)&4294967295,Et=Et<<15|Et>>>17,Et=(Et&65535)*Tt+(((Et>>>16)*Tt&65535)<<16)&4294967295,Ie^=Et}return Ie^=G.length,Ie^=Ie>>>16,Ie=(Ie&65535)*2246822507+(((Ie>>>16)*2246822507&65535)<<16)&4294967295,Ie^=Ie>>>13,Ie=(Ie&65535)*3266489909+(((Ie>>>16)*3266489909&65535)<<16)&4294967295,Ie^=Ie>>>16,Ie>>>0}I.exports=k}),Fe=C(function(I){function k(G,ie){for(var de=G.length,Me=ie^de,Ie=0,Ke;de>=4;)Ke=G.charCodeAt(Ie)&255|(G.charCodeAt(++Ie)&255)<<8|(G.charCodeAt(++Ie)&255)<<16|(G.charCodeAt(++Ie)&255)<<24,Ke=(Ke&65535)*1540483477+(((Ke>>>16)*1540483477&65535)<<16),Ke^=Ke>>>24,Ke=(Ke&65535)*1540483477+(((Ke>>>16)*1540483477&65535)<<16),Me=(Me&65535)*1540483477+(((Me>>>16)*1540483477&65535)<<16)^Ke,de-=4,++Ie;switch(de){case 3:Me^=(G.charCodeAt(Ie+2)&255)<<16;case 2:Me^=(G.charCodeAt(Ie+1)&255)<<8;case 1:Me^=G.charCodeAt(Ie)&255,Me=(Me&65535)*1540483477+(((Me>>>16)*1540483477&65535)<<16)}return Me^=Me>>>13,Me=(Me&65535)*1540483477+(((Me>>>16)*1540483477&65535)<<16),Me^=Me>>>15,Me>>>0}I.exports=k}),Ze=ye,lt=ye,wt=Fe;Ze.murmur3=lt,Ze.murmur2=wt;var Ut=function(){this.ids=[],this.positions=[],this.indexed=!1};Ut.prototype.add=function(k,G,ie,de){this.ids.push(fr(k)),this.positions.push(G,ie,de)},Ut.prototype.getPositions=function(k){for(var G=fr(k),ie=0,de=this.ids.length-1;ie<de;){var Me=ie+de>>1;this.ids[Me]>=G?de=Me:ie=Me+1}for(var Ie=[];this.ids[ie]===G;){var Ke=this.positions[3*ie],ft=this.positions[3*ie+1],Tt=this.positions[3*ie+2];Ie.push({index:Ke,start:ft,end:Tt}),ie++}return Ie},Ut.serialize=function(k,G){var ie=new Float64Array(k.ids),de=new Uint32Array(k.positions);return xr(ie,de,0,ie.length-1),G&&G.push(ie.buffer,de.buffer),{ids:ie,positions:de}},Ut.deserialize=function(k){var G=new Ut;return G.ids=k.ids,G.positions=k.positions,G.indexed=!0,G};var Jt=Math.pow(2,53)-1;function fr(I){var k=+I;return!isNaN(k)&&k<=Jt?k:Ze(String(I))}function xr(I,k,G,ie){for(;G<ie;){for(var de=I[G+ie>>1],Me=G-1,Ie=ie+1;;){do Me++;while(I[Me]<de);do Ie--;while(I[Ie]>de);if(Me>=Ie)break;zr(I,Me,Ie),zr(k,3*Me,3*Ie),zr(k,3*Me+1,3*Ie+1),zr(k,3*Me+2,3*Ie+2)}Ie-G<ie-Ie?(xr(I,k,G,Ie),G=Ie+1):(xr(I,k,Ie+1,ie),ie=Ie)}}function zr(I,k,G){var ie=I[k];I[k]=I[G],I[G]=ie}fe("FeaturePositionMap",Ut);var Wr=function(k,G){this.gl=k.gl,this.location=G},Yr=function(I){function k(G,ie){I.call(this,G,ie),this.current=0}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype.set=function(ie){this.current!==ie&&(this.current=ie,this.gl.uniform1i(this.location,ie))},k}(Wr),Hr=function(I){function k(G,ie){I.call(this,G,ie),this.current=0}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype.set=function(ie){this.current!==ie&&(this.current=ie,this.gl.uniform1f(this.location,ie))},k}(Wr),Jr=function(I){function k(G,ie){I.call(this,G,ie),this.current=[0,0]}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype.set=function(ie){(ie[0]!==this.current[0]||ie[1]!==this.current[1])&&(this.current=ie,this.gl.uniform2f(this.location,ie[0],ie[1]))},k}(Wr),fn=function(I){function k(G,ie){I.call(this,G,ie),this.current=[0,0,0]}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype.set=function(ie){(ie[0]!==this.current[0]||ie[1]!==this.current[1]||ie[2]!==this.current[2])&&(this.current=ie,this.gl.uniform3f(this.location,ie[0],ie[1],ie[2]))},k}(Wr),Dn=function(I){function k(G,ie){I.call(this,G,ie),this.current=[0,0,0,0]}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype.set=function(ie){(ie[0]!==this.current[0]||ie[1]!==this.current[1]||ie[2]!==this.current[2]||ie[3]!==this.current[3])&&(this.current=ie,this.gl.uniform4f(this.location,ie[0],ie[1],ie[2],ie[3]))},k}(Wr),Fn=function(I){function k(G,ie){I.call(this,G,ie),this.current=ai.transparent}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype.set=function(ie){(ie.r!==this.current.r||ie.g!==this.current.g||ie.b!==this.current.b||ie.a!==this.current.a)&&(this.current=ie,this.gl.uniform4f(this.location,ie.r,ie.g,ie.b,ie.a))},k}(Wr),Kn=new Float32Array(16),Jn=function(I){function k(G,ie){I.call(this,G,ie),this.current=Kn}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype.set=function(ie){if(ie[12]!==this.current[12]||ie[0]!==this.current[0]){this.current=ie,this.gl.uniformMatrix4fv(this.location,!1,ie);return}for(var de=1;de<16;de++)if(ie[de]!==this.current[de]){this.current=ie,this.gl.uniformMatrix4fv(this.location,!1,ie);break}},k}(Wr);function $n(I){return[pe(255*I.r,255*I.g),pe(255*I.b,255*I.a)]}var ia=function(k,G,ie){this.value=k,this.uniformNames=G.map(function(de){return"u_"+de}),this.type=ie};ia.prototype.setUniform=function(k,G,ie){k.set(ie.constantOr(this.value))},ia.prototype.getBinding=function(k,G,ie){return this.type==="color"?new Fn(k,G):new Hr(k,G)};var ha=function(k,G){this.uniformNames=G.map(function(ie){return"u_"+ie}),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};ha.prototype.setConstantPatternPositions=function(k,G){this.pixelRatioFrom=G.pixelRatio,this.pixelRatioTo=k.pixelRatio,this.patternFrom=G.tlbr,this.patternTo=k.tlbr},ha.prototype.setUniform=function(k,G,ie,de){var Me=de==="u_pattern_to"?this.patternTo:de==="u_pattern_from"?this.patternFrom:de==="u_pixel_ratio_to"?this.pixelRatioTo:de==="u_pixel_ratio_from"?this.pixelRatioFrom:null;Me&&k.set(Me)},ha.prototype.getBinding=function(k,G,ie){return ie.substr(0,9)==="u_pattern"?new Dn(k,G):new Hr(k,G)};var ca=function(k,G,ie,de){this.expression=k,this.type=ie,this.maxValue=0,this.paintVertexAttributes=G.map(function(Me){return{name:"a_"+Me,type:"Float32",components:ie==="color"?2:1,offset:0}}),this.paintVertexArray=new de};ca.prototype.populatePaintArray=function(k,G,ie,de,Me){var Ie=this.paintVertexArray.length,Ke=this.expression.evaluate(new Wn(0),G,{},de,[],Me);this.paintVertexArray.resize(k),this._setPaintValue(Ie,k,Ke)},ca.prototype.updatePaintArray=function(k,G,ie,de){var Me=this.expression.evaluate({zoom:0},ie,de);this._setPaintValue(k,G,Me)},ca.prototype._setPaintValue=function(k,G,ie){if(this.type==="color")for(var de=$n(ie),Me=k;Me<G;Me++)this.paintVertexArray.emplace(Me,de[0],de[1]);else{for(var Ie=k;Ie<G;Ie++)this.paintVertexArray.emplace(Ie,ie);this.maxValue=Math.max(this.maxValue,Math.abs(ie))}},ca.prototype.upload=function(k){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=k.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},ca.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var ya=function(k,G,ie,de,Me,Ie){this.expression=k,this.uniformNames=G.map(function(Ke){return"u_"+Ke+"_t"}),this.type=ie,this.useIntegerZoom=de,this.zoom=Me,this.maxValue=0,this.paintVertexAttributes=G.map(function(Ke){return{name:"a_"+Ke,type:"Float32",components:ie==="color"?4:2,offset:0}}),this.paintVertexArray=new Ie};ya.prototype.populatePaintArray=function(k,G,ie,de,Me){var Ie=this.expression.evaluate(new Wn(this.zoom),G,{},de,[],Me),Ke=this.expression.evaluate(new Wn(this.zoom+1),G,{},de,[],Me),ft=this.paintVertexArray.length;this.paintVertexArray.resize(k),this._setPaintValue(ft,k,Ie,Ke)},ya.prototype.updatePaintArray=function(k,G,ie,de){var Me=this.expression.evaluate({zoom:this.zoom},ie,de),Ie=this.expression.evaluate({zoom:this.zoom+1},ie,de);this._setPaintValue(k,G,Me,Ie)},ya.prototype._setPaintValue=function(k,G,ie,de){if(this.type==="color")for(var Me=$n(ie),Ie=$n(de),Ke=k;Ke<G;Ke++)this.paintVertexArray.emplace(Ke,Me[0],Me[1],Ie[0],Ie[1]);else{for(var ft=k;ft<G;ft++)this.paintVertexArray.emplace(ft,ie,de);this.maxValue=Math.max(this.maxValue,Math.abs(ie),Math.abs(de))}},ya.prototype.upload=function(k){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=k.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},ya.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},ya.prototype.setUniform=function(k,G){var ie=this.useIntegerZoom?Math.floor(G.zoom):G.zoom,de=u(this.expression.interpolationFactor(ie,this.zoom,this.zoom+1),0,1);k.set(de)},ya.prototype.getBinding=function(k,G,ie){return new Hr(k,G)};var Aa=function(k,G,ie,de,Me,Ie){this.expression=k,this.type=G,this.useIntegerZoom=ie,this.zoom=de,this.layerId=Ie,this.zoomInPaintVertexArray=new Me,this.zoomOutPaintVertexArray=new Me};Aa.prototype.populatePaintArray=function(k,G,ie){var de=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(k),this.zoomOutPaintVertexArray.resize(k),this._setPaintValues(de,k,G.patterns&&G.patterns[this.layerId],ie)},Aa.prototype.updatePaintArray=function(k,G,ie,de,Me){this._setPaintValues(k,G,ie.patterns&&ie.patterns[this.layerId],Me)},Aa.prototype._setPaintValues=function(k,G,ie,de){if(!(!de||!ie)){var Me=ie.min,Ie=ie.mid,Ke=ie.max,ft=de[Me],Tt=de[Ie],Et=de[Ke];if(!(!ft||!Tt||!Et))for(var Wt=k;Wt<G;Wt++)this.zoomInPaintVertexArray.emplace(Wt,Tt.tl[0],Tt.tl[1],Tt.br[0],Tt.br[1],ft.tl[0],ft.tl[1],ft.br[0],ft.br[1],Tt.pixelRatio,ft.pixelRatio),this.zoomOutPaintVertexArray.emplace(Wt,Tt.tl[0],Tt.tl[1],Tt.br[0],Tt.br[1],Et.tl[0],Et.tl[1],Et.br[0],Et.br[1],Tt.pixelRatio,Et.pixelRatio)}},Aa.prototype.upload=function(k){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=k.createVertexBuffer(this.zoomInPaintVertexArray,ae.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=k.createVertexBuffer(this.zoomOutPaintVertexArray,ae.members,this.expression.isStateDependent))},Aa.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var ka=function(k,G,ie,de){this.binders={},this.layoutAttributes=de,this._buffers=[];var Me=[];for(var Ie in k.paint._values)if(ie(Ie)){var Ke=k.paint.get(Ie);if(!(!(Ke instanceof Ai)||!al(Ke.property.specification))){var ft=fi(Ie,k.type),Tt=Ke.value,Et=Ke.property.specification.type,Wt=Ke.property.useIntegerZoom,ir=Ke.property.specification["property-type"],qt=ir==="cross-faded"||ir==="cross-faded-data-driven";if(Tt.kind==="constant")this.binders[Ie]=qt?new ha(Tt.value,ft):new ia(Tt.value,ft,Et),Me.push("/u_"+Ie);else if(Tt.kind==="source"||qt){var br=Ja(Ie,Et,"source");this.binders[Ie]=qt?new Aa(Tt,Et,Wt,G,br,k.id):new ca(Tt,ft,Et,br),Me.push("/a_"+Ie)}else{var Br=Ja(Ie,Et,"composite");this.binders[Ie]=new ya(Tt,ft,Et,Wt,G,Br),Me.push("/z_"+Ie)}}}this.cacheKey=Me.sort().join("")};ka.prototype.getMaxValue=function(k){var G=this.binders[k];return G instanceof ca||G instanceof ya?G.maxValue:0},ka.prototype.populatePaintArrays=function(k,G,ie,de,Me){for(var Ie in this.binders){var Ke=this.binders[Ie];(Ke instanceof ca||Ke instanceof ya||Ke instanceof Aa)&&Ke.populatePaintArray(k,G,ie,de,Me)}},ka.prototype.setConstantPatternPositions=function(k,G){for(var ie in this.binders){var de=this.binders[ie];de instanceof ha&&de.setConstantPatternPositions(k,G)}},ka.prototype.updatePaintArrays=function(k,G,ie,de,Me){var Ie=!1;for(var Ke in k)for(var ft=G.getPositions(Ke),Tt=0,Et=ft;Tt<Et.length;Tt+=1){var Wt=Et[Tt],ir=ie.feature(Wt.index);for(var qt in this.binders){var br=this.binders[qt];if((br instanceof ca||br instanceof ya||br instanceof Aa)&&br.expression.isStateDependent===!0){var Br=de.paint.get(qt);br.expression=Br.value,br.updatePaintArray(Wt.start,Wt.end,ir,k[Ke],Me),Ie=!0}}}return Ie},ka.prototype.defines=function(){var k=[];for(var G in this.binders){var ie=this.binders[G];(ie instanceof ia||ie instanceof ha)&&k.push.apply(k,ie.uniformNames.map(function(de){return"#define HAS_UNIFORM_"+de}))}return k},ka.prototype.getPaintVertexBuffers=function(){return this._buffers},ka.prototype.getUniforms=function(k,G){var ie=[];for(var de in this.binders){var Me=this.binders[de];if(Me instanceof ia||Me instanceof ha||Me instanceof ya)for(var Ie=0,Ke=Me.uniformNames;Ie<Ke.length;Ie+=1){var ft=Ke[Ie];if(G[ft]){var Tt=Me.getBinding(k,G[ft],ft);ie.push({name:ft,property:de,binding:Tt})}}}return ie},ka.prototype.setUniforms=function(k,G,ie,de){for(var Me=0,Ie=G;Me<Ie.length;Me+=1){var Ke=Ie[Me],ft=Ke.name,Tt=Ke.property,Et=Ke.binding;this.binders[Tt].setUniform(Et,de,ie.get(Tt),ft)}},ka.prototype.updatePaintBuffers=function(k){this._buffers=[];for(var G in this.binders){var ie=this.binders[G];if(k&&ie instanceof Aa){var de=k.fromScale===2?ie.zoomInPaintVertexBuffer:ie.zoomOutPaintVertexBuffer;de&&this._buffers.push(de)}else(ie instanceof ca||ie instanceof ya)&&ie.paintVertexBuffer&&this._buffers.push(ie.paintVertexBuffer)}},ka.prototype.upload=function(k){for(var G in this.binders){var ie=this.binders[G];(ie instanceof ca||ie instanceof ya||ie instanceof Aa)&&ie.upload(k)}this.updatePaintBuffers()},ka.prototype.destroy=function(){for(var k in this.binders){var G=this.binders[k];(G instanceof ca||G instanceof ya||G instanceof Aa)&&G.destroy()}};var Va=function(k,G,ie,de){de===void 0&&(de=function(){return!0}),this.programConfigurations={};for(var Me=0,Ie=G;Me<Ie.length;Me+=1){var Ke=Ie[Me];this.programConfigurations[Ke.id]=new ka(Ke,ie,de,k)}this.needsUpload=!1,this._featureMap=new Ut,this._bufferOffset=0};Va.prototype.populatePaintArrays=function(k,G,ie,de,Me,Ie){for(var Ke in this.programConfigurations)this.programConfigurations[Ke].populatePaintArrays(k,G,de,Me,Ie);G.id!==void 0&&this._featureMap.add(G.id,ie,this._bufferOffset,k),this._bufferOffset=k,this.needsUpload=!0},Va.prototype.updatePaintArrays=function(k,G,ie,de){for(var Me=0,Ie=ie;Me<Ie.length;Me+=1){var Ke=Ie[Me];this.needsUpload=this.programConfigurations[Ke.id].updatePaintArrays(k,this._featureMap,G,Ke,de)||this.needsUpload}},Va.prototype.get=function(k){return this.programConfigurations[k]},Va.prototype.upload=function(k){if(this.needsUpload){for(var G in this.programConfigurations)this.programConfigurations[G].upload(k);this.needsUpload=!1}},Va.prototype.destroy=function(){for(var k in this.programConfigurations)this.programConfigurations[k].destroy()};function fi(I,k){var G={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]};return G[I]||[I.replace(k+"-","").replace(/-/g,"_")]}function Ga(I){var k={"line-pattern":{source:ws,composite:ws},"fill-pattern":{source:ws,composite:ws},"fill-extrusion-pattern":{source:ws,composite:ws}};return k[I]}function Ja(I,k,G){var ie={color:{source:Wf,composite:Rp},number:{source:gh,composite:Wf}},de=Ga(I);return de&&de[G]||ie[k][G]}fe("ConstantBinder",ia),fe("CrossFadedConstantBinder",ha),fe("SourceExpressionBinder",ca),fe("CrossFadedCompositeBinder",Aa),fe("CompositeExpressionBinder",ya),fe("ProgramConfiguration",ka,{omit:["_buffers"]}),fe("ProgramConfigurationSet",Va);var Ra=8192;function ci(I){return{min:-1*Math.pow(2,I-1),max:Math.pow(2,I-1)-1}}var di=ci(15);function gi(I){for(var k=Ra/I.extent,G=I.loadGeometry(),ie=0;ie<G.length;ie++)for(var de=G[ie],Me=0;Me<de.length;Me++){var Ie=de[Me];Ie.x=Math.round(Ie.x*k),Ie.y=Math.round(Ie.y*k),(Ie.x<di.min||Ie.x>di.max||Ie.y<di.min||Ie.y>di.max)&&(N("Geometry exceeds allowed extent, reduce your vector tile buffer size"),Ie.x=u(Ie.x,di.min,di.max),Ie.y=u(Ie.y,di.min,di.max))}return G}function Qa(I,k,G,ie,de){I.emplaceBack(k*2+(ie+1)/2,G*2+(de+1)/2)}var Ei=function(k){this.zoom=k.zoom,this.overscaling=k.overscaling,this.layers=k.layers,this.layerIds=this.layers.map(function(G){return G.id}),this.index=k.index,this.hasPattern=!1,this.layoutVertexArray=new bv,this.indexArray=new ff,this.segments=new X,this.programConfigurations=new Va(ve,k.layers,k.zoom),this.stateDependentLayerIds=this.layers.filter(function(G){return G.isStateDependent()}).map(function(G){return G.id})};Ei.prototype.populate=function(k,G,ie){var de=this.layers[0],Me=[],Ie=null;de.type==="circle"&&(Ie=de.layout.get("circle-sort-key"));for(var Ke=0,ft=k;Ke<ft.length;Ke+=1){var Tt=ft[Ke],Et=Tt.feature,Wt=Tt.id,ir=Tt.index,qt=Tt.sourceLayerIndex,br=this.layers[0]._featureFilter.needGeometry,Br={type:Et.type,id:Wt,properties:Et.properties,geometry:br?gi(Et):[]};if(this.layers[0]._featureFilter.filter(new Wn(this.zoom),Br,ie)){br||(Br.geometry=gi(Et));var ln=Ie?Ie.evaluate(Br,{},ie):void 0,qr={id:Wt,properties:Et.properties,type:Et.type,sourceLayerIndex:qt,index:ir,geometry:Br.geometry,patterns:{},sortKey:ln};Me.push(qr)}}Ie&&Me.sort(function(va,xa){return va.sortKey-xa.sortKey});for(var Ln=0,wn=Me;Ln<wn.length;Ln+=1){var Cn=wn[Ln],_n=Cn,Gn=_n.geometry,na=_n.index,ra=_n.sourceLayerIndex,Ca=k[na].feature;this.addFeature(Cn,Gn,na,ie),G.featureIndex.insert(Ca,Gn,na,ra,this.index)}},Ei.prototype.update=function(k,G,ie){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(k,G,this.stateDependentLayers,ie)},Ei.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Ei.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Ei.prototype.upload=function(k){this.uploaded||(this.layoutVertexBuffer=k.createVertexBuffer(this.layoutVertexArray,ve),this.indexBuffer=k.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(k),this.uploaded=!0},Ei.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Ei.prototype.addFeature=function(k,G,ie,de){for(var Me=0,Ie=G;Me<Ie.length;Me+=1)for(var Ke=Ie[Me],ft=0,Tt=Ke;ft<Tt.length;ft+=1){var Et=Tt[ft],Wt=Et.x,ir=Et.y;if(!(Wt<0||Wt>=Ra||ir<0||ir>=Ra)){var qt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,k.sortKey),br=qt.vertexLength;Qa(this.layoutVertexArray,Wt,ir,-1,-1),Qa(this.layoutVertexArray,Wt,ir,1,-1),Qa(this.layoutVertexArray,Wt,ir,1,1),Qa(this.layoutVertexArray,Wt,ir,-1,1),this.indexArray.emplaceBack(br,br+1,br+2),this.indexArray.emplaceBack(br,br+3,br+2),qt.vertexLength+=4,qt.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,k,ie,{},de)},fe("CircleBucket",Ei,{omit:["layers"]});function Wa(I,k){for(var G=0;G<I.length;G++)if(Ts(k,I[G]))return!0;for(var ie=0;ie<k.length;ie++)if(Ts(I,k[ie]))return!0;return!!Ml(I,k)}function ti(I,k,G){return!!(Ts(I,k)||Au(k,I,G))}function Ki(I,k){if(I.length===1)return Su(k,I[0]);for(var G=0;G<k.length;G++)for(var ie=k[G],de=0;de<ie.length;de++)if(Ts(I,ie[de]))return!0;for(var Me=0;Me<I.length;Me++)if(Su(k,I[Me]))return!0;for(var Ie=0;Ie<k.length;Ie++)if(Ml(I,k[Ie]))return!0;return!1}function po(I,k,G){for(var ie=0;ie<k.length;ie++){var de=k[ie];if(I.length>=3){for(var Me=0;Me<de.length;Me++)if(Ts(I,de[Me]))return!0}if(Sl(I,de,G))return!0}return!1}function Sl(I,k,G){if(I.length>1){if(Ml(I,k))return!0;for(var ie=0;ie<k.length;ie++)if(Au(k[ie],I,G))return!0}for(var de=0;de<I.length;de++)if(Au(I[de],k,G))return!0;return!1}function Ml(I,k){if(I.length===0||k.length===0)return!1;for(var G=0;G<I.length-1;G++)for(var ie=I[G],de=I[G+1],Me=0;Me<k.length-1;Me++){var Ie=k[Me],Ke=k[Me+1];if(Tu(ie,de,Ie,Ke))return!0}return!1}function Tu(I,k,G,ie){return z(I,G,ie)!==z(k,G,ie)&&z(I,k,G)!==z(I,k,ie)}function Au(I,k,G){var ie=G*G;if(k.length===1)return I.distSqr(k[0])<ie;for(var de=1;de<k.length;de++){var Me=k[de-1],Ie=k[de];if(cf(I,Me,Ie)<ie)return!0}return!1}function cf(I,k,G){var ie=k.distSqr(G);if(ie===0)return I.distSqr(k);var de=((I.x-k.x)*(G.x-k.x)+(I.y-k.y)*(G.y-k.y))/ie;return de<0?I.distSqr(k):de>1?I.distSqr(G):I.distSqr(G.sub(k)._mult(de)._add(k))}function Su(I,k){for(var G=!1,ie,de,Me,Ie=0;Ie<I.length;Ie++){ie=I[Ie];for(var Ke=0,ft=ie.length-1;Ke<ie.length;ft=Ke++)de=ie[Ke],Me=ie[ft],de.y>k.y!=Me.y>k.y&&k.x<(Me.x-de.x)*(k.y-de.y)/(Me.y-de.y)+de.x&&(G=!G)}return G}function Ts(I,k){for(var G=!1,ie=0,de=I.length-1;ie<I.length;de=ie++){var Me=I[ie],Ie=I[de];Me.y>k.y!=Ie.y>k.y&&k.x<(Ie.x-Me.x)*(k.y-Me.y)/(Ie.y-Me.y)+Me.x&&(G=!G)}return G}function Yf(I,k,G,ie,de){for(var Me=0,Ie=I;Me<Ie.length;Me+=1){var Ke=Ie[Me];if(k<=Ke.x&&G<=Ke.y&&ie>=Ke.x&&de>=Ke.y)return!0}var ft=[new t(k,G),new t(k,de),new t(ie,de),new t(ie,G)];if(I.length>2)for(var Tt=0,Et=ft;Tt<Et.length;Tt+=1){var Wt=Et[Tt];if(Ts(I,Wt))return!0}for(var ir=0;ir<I.length-1;ir++){var qt=I[ir],br=I[ir+1];if(qo(qt,br,ft))return!0}return!1}function qo(I,k,G){var ie=G[0],de=G[2];if(I.x<ie.x&&k.x<ie.x||I.x>de.x&&k.x>de.x||I.y<ie.y&&k.y<ie.y||I.y>de.y&&k.y>de.y)return!1;var Me=z(I,k,G[0]);return Me!==z(I,k,G[1])||Me!==z(I,k,G[2])||Me!==z(I,k,G[3])}function sl(I,k,G){var ie=k.paint.get(I).value;return ie.kind==="constant"?ie.value:G.programConfigurations.get(k.id).getMaxValue(I)}function Mu(I){return Math.sqrt(I[0]*I[0]+I[1]*I[1])}function Kl(I,k,G,ie,de){if(!k[0]&&!k[1])return I;var Me=t.convert(k)._mult(de);G==="viewport"&&Me._rotate(-ie);for(var Ie=[],Ke=0;Ke<I.length;Ke++){var ft=I[Ke];Ie.push(ft.sub(Me))}return Ie}var Eu=new lo({"circle-sort-key":new Ea(Zt.layout_circle["circle-sort-key"])}),ad=new lo({"circle-radius":new Ea(Zt.paint_circle["circle-radius"]),"circle-color":new Ea(Zt.paint_circle["circle-color"]),"circle-blur":new Ea(Zt.paint_circle["circle-blur"]),"circle-opacity":new Ea(Zt.paint_circle["circle-opacity"]),"circle-translate":new ma(Zt.paint_circle["circle-translate"]),"circle-translate-anchor":new ma(Zt.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new ma(Zt.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new ma(Zt.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Ea(Zt.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Ea(Zt.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Ea(Zt.paint_circle["circle-stroke-opacity"])}),Ic={paint:ad,layout:Eu},Go=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var I=arguments,k=0,G=arguments.length;G--;)k+=I[G]*I[G];return Math.sqrt(k)});function Sv(){var I=new Go(4);return Go!=Float32Array&&(I[1]=0,I[2]=0),I[0]=1,I[3]=1,I}function ls(I,k,G){var ie=k[0],de=k[1],Me=k[2],Ie=k[3],Ke=Math.sin(G),ft=Math.cos(G);return I[0]=ie*ft+Me*Ke,I[1]=de*ft+Ie*Ke,I[2]=ie*-Ke+Me*ft,I[3]=de*-Ke+Ie*ft,I}function Mv(){var I=new Go(9);return Go!=Float32Array&&(I[1]=0,I[2]=0,I[3]=0,I[5]=0,I[6]=0,I[7]=0),I[0]=1,I[4]=1,I[8]=1,I}function id(I,k){var G=Math.sin(k),ie=Math.cos(k);return I[0]=ie,I[1]=G,I[2]=0,I[3]=-G,I[4]=ie,I[5]=0,I[6]=0,I[7]=0,I[8]=1,I}function od(){var I=new Go(16);return Go!=Float32Array&&(I[1]=0,I[2]=0,I[3]=0,I[4]=0,I[6]=0,I[7]=0,I[8]=0,I[9]=0,I[11]=0,I[12]=0,I[13]=0,I[14]=0),I[0]=1,I[5]=1,I[10]=1,I[15]=1,I}function Tg(I){var k=new Go(16);return k[0]=I[0],k[1]=I[1],k[2]=I[2],k[3]=I[3],k[4]=I[4],k[5]=I[5],k[6]=I[6],k[7]=I[7],k[8]=I[8],k[9]=I[9],k[10]=I[10],k[11]=I[11],k[12]=I[12],k[13]=I[13],k[14]=I[14],k[15]=I[15],k}function sd(I){return I[0]=1,I[1]=0,I[2]=0,I[3]=0,I[4]=0,I[5]=1,I[6]=0,I[7]=0,I[8]=0,I[9]=0,I[10]=1,I[11]=0,I[12]=0,I[13]=0,I[14]=0,I[15]=1,I}function xh(I,k){var G=k[0],ie=k[1],de=k[2],Me=k[3],Ie=k[4],Ke=k[5],ft=k[6],Tt=k[7],Et=k[8],Wt=k[9],ir=k[10],qt=k[11],br=k[12],Br=k[13],ln=k[14],qr=k[15],Ln=G*Ke-ie*Ie,wn=G*ft-de*Ie,Cn=G*Tt-Me*Ie,_n=ie*ft-de*Ke,Gn=ie*Tt-Me*Ke,na=de*Tt-Me*ft,ra=Et*Br-Wt*br,Ca=Et*ln-ir*br,va=Et*qr-qt*br,xa=Wt*ln-ir*Br,Ua=Wt*qr-qt*Br,Sa=ir*qr-qt*ln,Ma=Ln*Sa-wn*Ua+Cn*xa+_n*va-Gn*Ca+na*ra;return Ma?(Ma=1/Ma,I[0]=(Ke*Sa-ft*Ua+Tt*xa)*Ma,I[1]=(de*Ua-ie*Sa-Me*xa)*Ma,I[2]=(Br*na-ln*Gn+qr*_n)*Ma,I[3]=(ir*Gn-Wt*na-qt*_n)*Ma,I[4]=(ft*va-Ie*Sa-Tt*Ca)*Ma,I[5]=(G*Sa-de*va+Me*Ca)*Ma,I[6]=(ln*Cn-br*na-qr*wn)*Ma,I[7]=(Et*na-ir*Cn+qt*wn)*Ma,I[8]=(Ie*Ua-Ke*va+Tt*ra)*Ma,I[9]=(ie*va-G*Ua-Me*ra)*Ma,I[10]=(br*Gn-Br*Cn+qr*Ln)*Ma,I[11]=(Wt*Cn-Et*Gn-qt*Ln)*Ma,I[12]=(Ke*Ca-Ie*xa-ft*ra)*Ma,I[13]=(G*xa-ie*Ca+de*ra)*Ma,I[14]=(Br*wn-br*_n-ln*Ln)*Ma,I[15]=(Et*_n-Wt*wn+ir*Ln)*Ma,I):null}function bh(I,k,G){var ie=k[0],de=k[1],Me=k[2],Ie=k[3],Ke=k[4],ft=k[5],Tt=k[6],Et=k[7],Wt=k[8],ir=k[9],qt=k[10],br=k[11],Br=k[12],ln=k[13],qr=k[14],Ln=k[15],wn=G[0],Cn=G[1],_n=G[2],Gn=G[3];return I[0]=wn*ie+Cn*Ke+_n*Wt+Gn*Br,I[1]=wn*de+Cn*ft+_n*ir+Gn*ln,I[2]=wn*Me+Cn*Tt+_n*qt+Gn*qr,I[3]=wn*Ie+Cn*Et+_n*br+Gn*Ln,wn=G[4],Cn=G[5],_n=G[6],Gn=G[7],I[4]=wn*ie+Cn*Ke+_n*Wt+Gn*Br,I[5]=wn*de+Cn*ft+_n*ir+Gn*ln,I[6]=wn*Me+Cn*Tt+_n*qt+Gn*qr,I[7]=wn*Ie+Cn*Et+_n*br+Gn*Ln,wn=G[8],Cn=G[9],_n=G[10],Gn=G[11],I[8]=wn*ie+Cn*Ke+_n*Wt+Gn*Br,I[9]=wn*de+Cn*ft+_n*ir+Gn*ln,I[10]=wn*Me+Cn*Tt+_n*qt+Gn*qr,I[11]=wn*Ie+Cn*Et+_n*br+Gn*Ln,wn=G[12],Cn=G[13],_n=G[14],Gn=G[15],I[12]=wn*ie+Cn*Ke+_n*Wt+Gn*Br,I[13]=wn*de+Cn*ft+_n*ir+Gn*ln,I[14]=wn*Me+Cn*Tt+_n*qt+Gn*qr,I[15]=wn*Ie+Cn*Et+_n*br+Gn*Ln,I}function to(I,k,G){var ie=G[0],de=G[1],Me=G[2],Ie,Ke,ft,Tt,Et,Wt,ir,qt,br,Br,ln,qr;return k===I?(I[12]=k[0]*ie+k[4]*de+k[8]*Me+k[12],I[13]=k[1]*ie+k[5]*de+k[9]*Me+k[13],I[14]=k[2]*ie+k[6]*de+k[10]*Me+k[14],I[15]=k[3]*ie+k[7]*de+k[11]*Me+k[15]):(Ie=k[0],Ke=k[1],ft=k[2],Tt=k[3],Et=k[4],Wt=k[5],ir=k[6],qt=k[7],br=k[8],Br=k[9],ln=k[10],qr=k[11],I[0]=Ie,I[1]=Ke,I[2]=ft,I[3]=Tt,I[4]=Et,I[5]=Wt,I[6]=ir,I[7]=qt,I[8]=br,I[9]=Br,I[10]=ln,I[11]=qr,I[12]=Ie*ie+Et*de+br*Me+k[12],I[13]=Ke*ie+Wt*de+Br*Me+k[13],I[14]=ft*ie+ir*de+ln*Me+k[14],I[15]=Tt*ie+qt*de+qr*Me+k[15]),I}function Ns(I,k,G){var ie=G[0],de=G[1],Me=G[2];return I[0]=k[0]*ie,I[1]=k[1]*ie,I[2]=k[2]*ie,I[3]=k[3]*ie,I[4]=k[4]*de,I[5]=k[5]*de,I[6]=k[6]*de,I[7]=k[7]*de,I[8]=k[8]*Me,I[9]=k[9]*Me,I[10]=k[10]*Me,I[11]=k[11]*Me,I[12]=k[12],I[13]=k[13],I[14]=k[14],I[15]=k[15],I}function Us(I,k,G){var ie=Math.sin(G),de=Math.cos(G),Me=k[4],Ie=k[5],Ke=k[6],ft=k[7],Tt=k[8],Et=k[9],Wt=k[10],ir=k[11];return k!==I&&(I[0]=k[0],I[1]=k[1],I[2]=k[2],I[3]=k[3],I[12]=k[12],I[13]=k[13],I[14]=k[14],I[15]=k[15]),I[4]=Me*de+Tt*ie,I[5]=Ie*de+Et*ie,I[6]=Ke*de+Wt*ie,I[7]=ft*de+ir*ie,I[8]=Tt*de-Me*ie,I[9]=Et*de-Ie*ie,I[10]=Wt*de-Ke*ie,I[11]=ir*de-ft*ie,I}function ld(I,k,G){var ie=Math.sin(G),de=Math.cos(G),Me=k[0],Ie=k[1],Ke=k[2],ft=k[3],Tt=k[4],Et=k[5],Wt=k[6],ir=k[7];return k!==I&&(I[8]=k[8],I[9]=k[9],I[10]=k[10],I[11]=k[11],I[12]=k[12],I[13]=k[13],I[14]=k[14],I[15]=k[15]),I[0]=Me*de+Tt*ie,I[1]=Ie*de+Et*ie,I[2]=Ke*de+Wt*ie,I[3]=ft*de+ir*ie,I[4]=Tt*de-Me*ie,I[5]=Et*de-Ie*ie,I[6]=Wt*de-Ke*ie,I[7]=ir*de-ft*ie,I}function kp(I,k,G,ie,de){var Me=1/Math.tan(k/2),Ie;return I[0]=Me/G,I[1]=0,I[2]=0,I[3]=0,I[4]=0,I[5]=Me,I[6]=0,I[7]=0,I[8]=0,I[9]=0,I[11]=-1,I[12]=0,I[13]=0,I[15]=0,de!=null&&de!==1/0?(Ie=1/(ie-de),I[10]=(de+ie)*Ie,I[14]=2*de*ie*Ie):(I[10]=-1,I[14]=-2*ie),I}function Rm(I,k,G,ie,de,Me,Ie){var Ke=1/(k-G),ft=1/(ie-de),Tt=1/(Me-Ie);return I[0]=-2*Ke,I[1]=0,I[2]=0,I[3]=0,I[4]=0,I[5]=-2*ft,I[6]=0,I[7]=0,I[8]=0,I[9]=0,I[10]=2*Tt,I[11]=0,I[12]=(k+G)*Ke,I[13]=(de+ie)*ft,I[14]=(Ie+Me)*Tt,I[15]=1,I}var Dm=bh;function Ev(){var I=new Go(3);return Go!=Float32Array&&(I[0]=0,I[1]=0,I[2]=0),I}function Im(I){var k=new Go(3);return k[0]=I[0],k[1]=I[1],k[2]=I[2],k}function ud(I,k,G){return I[0]=k[0]+G[0],I[1]=k[1]+G[1],I[2]=k[2]+G[2],I}function km(I,k,G){return I[0]=k[0]-G[0],I[1]=k[1]-G[1],I[2]=k[2]-G[2],I}function _m(I,k,G){return I[0]=k[0]*G,I[1]=k[1]*G,I[2]=k[2]*G,I}function _p(I,k){var G=k[0],ie=k[1],de=k[2],Me=G*G+ie*ie+de*de;return Me>0&&(Me=1/Math.sqrt(Me)),I[0]=k[0]*Me,I[1]=k[1]*Me,I[2]=k[2]*Me,I}function kM(I,k){return I[0]*k[0]+I[1]*k[1]+I[2]*k[2]}function _M(I,k,G){var ie=k[0],de=k[1],Me=k[2],Ie=G[0],Ke=G[1],ft=G[2];return I[0]=de*ft-Me*Ke,I[1]=Me*Ie-ie*ft,I[2]=ie*Ke-de*Ie,I}function zM(I,k,G){var ie=k[0],de=k[1],Me=k[2];return I[0]=ie*G[0]+de*G[3]+Me*G[6],I[1]=ie*G[1]+de*G[4]+Me*G[7],I[2]=ie*G[2]+de*G[5]+Me*G[8],I}var OM=km;(function(){var I=Ev();return function(k,G,ie,de,Me,Ie){var Ke,ft;for(G||(G=3),ie||(ie=0),de?ft=Math.min(de*G+ie,k.length):ft=k.length,Ke=ie;Ke<ft;Ke+=G)I[0]=k[Ke],I[1]=k[Ke+1],I[2]=k[Ke+2],Me(I,I,Ie),k[Ke]=I[0],k[Ke+1]=I[1],k[Ke+2]=I[2];return k}})();function FM(){var I=new Go(4);return Go!=Float32Array&&(I[0]=0,I[1]=0,I[2]=0,I[3]=0),I}function BM(I,k,G){return I[0]=k[0]*G,I[1]=k[1]*G,I[2]=k[2]*G,I[3]=k[3]*G,I}function NM(I,k){return I[0]*k[0]+I[1]*k[1]+I[2]*k[2]+I[3]*k[3]}function Ag(I,k,G){var ie=k[0],de=k[1],Me=k[2],Ie=k[3];return I[0]=G[0]*ie+G[4]*de+G[8]*Me+G[12]*Ie,I[1]=G[1]*ie+G[5]*de+G[9]*Me+G[13]*Ie,I[2]=G[2]*ie+G[6]*de+G[10]*Me+G[14]*Ie,I[3]=G[3]*ie+G[7]*de+G[11]*Me+G[15]*Ie,I}(function(){var I=FM();return function(k,G,ie,de,Me,Ie){var Ke,ft;for(G||(G=4),ie||(ie=0),de?ft=Math.min(de*G+ie,k.length):ft=k.length,Ke=ie;Ke<ft;Ke+=G)I[0]=k[Ke],I[1]=k[Ke+1],I[2]=k[Ke+2],I[3]=k[Ke+3],Me(I,I,Ie),k[Ke]=I[0],k[Ke+1]=I[1],k[Ke+2]=I[2],k[Ke+3]=I[3];return k}})();function UM(){var I=new Go(2);return Go!=Float32Array&&(I[0]=0,I[1]=0),I}function HM(I){var k=I[0],G=I[1];return k*k+G*G}var VM=HM;(function(){var I=UM();return function(k,G,ie,de,Me,Ie){var Ke,ft;for(G||(G=2),ie||(ie=0),de?ft=Math.min(de*G+ie,k.length):ft=k.length,Ke=ie;Ke<ft;Ke+=G)I[0]=k[Ke],I[1]=k[Ke+1],Me(I,I,Ie),k[Ke]=I[0],k[Ke+1]=I[1];return k}})();var WM=function(I){function k(G){I.call(this,G,Ic)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype.createBucket=function(ie){return new Ei(ie)},k.prototype.queryRadius=function(ie){var de=ie;return sl("circle-radius",this,de)+sl("circle-stroke-width",this,de)+Mu(this.paint.get("circle-translate"))},k.prototype.queryIntersectsFeature=function(ie,de,Me,Ie,Ke,ft,Tt,Et){for(var Wt=Kl(ie,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),ft.angle,Tt),ir=this.paint.get("circle-radius").evaluate(de,Me),qt=this.paint.get("circle-stroke-width").evaluate(de,Me),br=ir+qt,Br=this.paint.get("circle-pitch-alignment")==="map",ln=Br?Wt:GM(Wt,Et),qr=Br?br*Tt:br,Ln=0,wn=Ie;Ln<wn.length;Ln+=1)for(var Cn=wn[Ln],_n=0,Gn=Cn;_n<Gn.length;_n+=1){var na=Gn[_n],ra=Br?na:Kw(na,Et),Ca=qr,va=Ag([],[na.x,na.y,0,1],Et);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?Ca*=va[3]/ft.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(Ca*=ft.cameraToCenterDistance/va[3]),ti(ln,ra,Ca))return!0}return!1},k}(Ri);function Kw(I,k){var G=Ag([],[I.x,I.y,0,1],k);return new t(G[0]/G[3],G[1]/G[3])}function GM(I,k){return I.map(function(G){return Kw(G,k)})}var $w=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k}(Ei);fe("HeatmapBucket",$w,{omit:["layers"]});function zm(I,k,G,ie){var de=k.width,Me=k.height;if(!ie)ie=new Uint8Array(de*Me*G);else if(ie instanceof Uint8ClampedArray)ie=new Uint8Array(ie.buffer);else if(ie.length!==de*Me*G)throw new RangeError("mismatched image size");return I.width=de,I.height=Me,I.data=ie,I}function Jw(I,k,G){var ie=k.width,de=k.height;if(!(ie===I.width&&de===I.height)){var Me=zm({},{width:ie,height:de},G);Om(I,Me,{x:0,y:0},{x:0,y:0},{width:Math.min(I.width,ie),height:Math.min(I.height,de)},G),I.width=ie,I.height=de,I.data=Me.data}}function Om(I,k,G,ie,de,Me){if(de.width===0||de.height===0)return k;if(de.width>I.width||de.height>I.height||G.x>I.width-de.width||G.y>I.height-de.height)throw new RangeError("out of range source coordinates for image copy");if(de.width>k.width||de.height>k.height||ie.x>k.width-de.width||ie.y>k.height-de.height)throw new RangeError("out of range destination coordinates for image copy");for(var Ie=I.data,Ke=k.data,ft=0;ft<de.height;ft++)for(var Tt=((G.y+ft)*I.width+G.x)*Me,Et=((ie.y+ft)*k.width+ie.x)*Me,Wt=0;Wt<de.width*Me;Wt++)Ke[Et+Wt]=Ie[Tt+Wt];return k}var Cv=function(k,G){zm(this,k,1,G)};Cv.prototype.resize=function(k){Jw(this,k,1)},Cv.prototype.clone=function(){return new Cv({width:this.width,height:this.height},new Uint8Array(this.data))},Cv.copy=function(k,G,ie,de,Me){Om(k,G,ie,de,Me,1)};var Hs=function(k,G){zm(this,k,4,G)};Hs.prototype.resize=function(k){Jw(this,k,4)},Hs.prototype.replace=function(k,G){G?this.data.set(k):k instanceof Uint8ClampedArray?this.data=new Uint8Array(k.buffer):this.data=k},Hs.prototype.clone=function(){return new Hs({width:this.width,height:this.height},new Uint8Array(this.data))},Hs.copy=function(k,G,ie,de,Me){Om(k,G,ie,de,Me,4)},fe("AlphaImage",Cv),fe("RGBAImage",Hs);var YM=new lo({"heatmap-radius":new Ea(Zt.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Ea(Zt.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new ma(Zt.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Qo(Zt.paint_heatmap["heatmap-color"]),"heatmap-opacity":new ma(Zt.paint_heatmap["heatmap-opacity"])}),jM={paint:YM};function Qw(I,k){for(var G=new Uint8Array(1024),ie={},de=0,Me=0;de<256;de++,Me+=4){ie[k]=de/255;var Ie=I.evaluate(ie);G[Me+0]=Math.floor(Ie.r*255/Ie.a),G[Me+1]=Math.floor(Ie.g*255/Ie.a),G[Me+2]=Math.floor(Ie.b*255/Ie.a),G[Me+3]=Math.floor(Ie.a*255)}return new Hs({width:256,height:1},G)}var ZM=function(I){function k(G){I.call(this,G,jM),this._updateColorRamp()}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype.createBucket=function(ie){return new $w(ie)},k.prototype._handleSpecialPaintPropertyUpdate=function(ie){ie==="heatmap-color"&&this._updateColorRamp()},k.prototype._updateColorRamp=function(){var ie=this._transitionablePaint._values["heatmap-color"].value.expression;this.colorRamp=Qw(ie,"heatmapDensity"),this.colorRampTexture=null},k.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},k.prototype.queryRadius=function(){return 0},k.prototype.queryIntersectsFeature=function(){return!1},k.prototype.hasOffscreenPass=function(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"},k}(Ri),XM=new lo({"hillshade-illumination-direction":new ma(Zt.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new ma(Zt.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new ma(Zt.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new ma(Zt.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new ma(Zt.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new ma(Zt.paint_hillshade["hillshade-accent-color"])}),KM={paint:XM},$M=function(I){function k(G){I.call(this,G,KM)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype.hasOffscreenPass=function(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"},k}(Ri),JM=Mi([{name:"a_pos",components:2,type:"Int16"}],4),qw=JM.members,Fm=Sg,QM=Sg;function Sg(I,k,G){G=G||2;var ie=k&&k.length,de=ie?k[0]*G:I.length,Me=e2(I,0,de,G,!0),Ie=[];if(!Me||Me.next===Me.prev)return Ie;var Ke,ft,Tt,Et,Wt,ir,qt;if(ie&&(Me=n8(I,k,Me,G)),I.length>80*G){Ke=Tt=I[0],ft=Et=I[1];for(var br=G;br<de;br+=G)Wt=I[br],ir=I[br+1],Wt<Ke&&(Ke=Wt),ir<ft&&(ft=ir),Wt>Tt&&(Tt=Wt),ir>Et&&(Et=ir);qt=Math.max(Tt-Ke,Et-ft),qt=qt!==0?1/qt:0}return zp(Me,Ie,G,Ke,ft,qt),Ie}function e2(I,k,G,ie,de){var Me,Ie;if(de===Um(I,k,G,ie)>0)for(Me=k;Me<G;Me+=ie)Ie=n2(Me,I[Me],I[Me+1],Ie);else for(Me=G-ie;Me>=k;Me-=ie)Ie=n2(Me,I[Me],I[Me+1],Ie);return Ie&&Mg(Ie,Ie.next)&&(Fp(Ie),Ie=Ie.next),Ie}function wh(I,k){if(!I)return I;k||(k=I);var G=I,ie;do if(ie=!1,!G.steiner&&(Mg(G,G.next)||go(G.prev,G,G.next)===0)){if(Fp(G),G=k=G.prev,G===G.next)break;ie=!0}else G=G.next;while(ie||G!==k);return k}function zp(I,k,G,ie,de,Me,Ie){if(I){!Ie&&Me&&l8(I,ie,de,Me);for(var Ke=I,ft,Tt;I.prev!==I.next;){if(ft=I.prev,Tt=I.next,Me?e8(I,ie,de,Me):qM(I)){k.push(ft.i/G),k.push(I.i/G),k.push(Tt.i/G),Fp(I),I=Tt.next,Ke=Tt.next;continue}if(I=Tt,I===Ke){Ie?Ie===1?(I=t8(wh(I),k,G),zp(I,k,G,ie,de,Me,2)):Ie===2&&r8(I,k,G,ie,de,Me):zp(wh(I),k,G,ie,de,Me,1);break}}}}function qM(I){var k=I.prev,G=I,ie=I.next;if(go(k,G,ie)>=0)return!1;for(var de=I.next.next;de!==I.prev;){if(fd(k.x,k.y,G.x,G.y,ie.x,ie.y,de.x,de.y)&&go(de.prev,de,de.next)>=0)return!1;de=de.next}return!0}function e8(I,k,G,ie){var de=I.prev,Me=I,Ie=I.next;if(go(de,Me,Ie)>=0)return!1;for(var Ke=de.x<Me.x?de.x<Ie.x?de.x:Ie.x:Me.x<Ie.x?Me.x:Ie.x,ft=de.y<Me.y?de.y<Ie.y?de.y:Ie.y:Me.y<Ie.y?Me.y:Ie.y,Tt=de.x>Me.x?de.x>Ie.x?de.x:Ie.x:Me.x>Ie.x?Me.x:Ie.x,Et=de.y>Me.y?de.y>Ie.y?de.y:Ie.y:Me.y>Ie.y?Me.y:Ie.y,Wt=Bm(Ke,ft,k,G,ie),ir=Bm(Tt,Et,k,G,ie),qt=I.prevZ,br=I.nextZ;qt&&qt.z>=Wt&&br&&br.z<=ir;){if(qt!==I.prev&&qt!==I.next&&fd(de.x,de.y,Me.x,Me.y,Ie.x,Ie.y,qt.x,qt.y)&&go(qt.prev,qt,qt.next)>=0||(qt=qt.prevZ,br!==I.prev&&br!==I.next&&fd(de.x,de.y,Me.x,Me.y,Ie.x,Ie.y,br.x,br.y)&&go(br.prev,br,br.next)>=0))return!1;br=br.nextZ}for(;qt&&qt.z>=Wt;){if(qt!==I.prev&&qt!==I.next&&fd(de.x,de.y,Me.x,Me.y,Ie.x,Ie.y,qt.x,qt.y)&&go(qt.prev,qt,qt.next)>=0)return!1;qt=qt.prevZ}for(;br&&br.z<=ir;){if(br!==I.prev&&br!==I.next&&fd(de.x,de.y,Me.x,Me.y,Ie.x,Ie.y,br.x,br.y)&&go(br.prev,br,br.next)>=0)return!1;br=br.nextZ}return!0}function t8(I,k,G){var ie=I;do{var de=ie.prev,Me=ie.next.next;!Mg(de,Me)&&t2(de,ie,ie.next,Me)&&Op(de,Me)&&Op(Me,de)&&(k.push(de.i/G),k.push(ie.i/G),k.push(Me.i/G),Fp(ie),Fp(ie.next),ie=I=Me),ie=ie.next}while(ie!==I);return wh(ie)}function r8(I,k,G,ie,de,Me){var Ie=I;do{for(var Ke=Ie.next.next;Ke!==Ie.prev;){if(Ie.i!==Ke.i&&c8(Ie,Ke)){var ft=r2(Ie,Ke);Ie=wh(Ie,Ie.next),ft=wh(ft,ft.next),zp(Ie,k,G,ie,de,Me),zp(ft,k,G,ie,de,Me);return}Ke=Ke.next}Ie=Ie.next}while(Ie!==I)}function n8(I,k,G,ie){var de=[],Me,Ie,Ke,ft,Tt;for(Me=0,Ie=k.length;Me<Ie;Me++)Ke=k[Me]*ie,ft=Me<Ie-1?k[Me+1]*ie:I.length,Tt=e2(I,Ke,ft,ie,!1),Tt===Tt.next&&(Tt.steiner=!0),de.push(f8(Tt));for(de.sort(a8),Me=0;Me<de.length;Me++)i8(de[Me],G),G=wh(G,G.next);return G}function a8(I,k){return I.x-k.x}function i8(I,k){if(k=o8(I,k),k){var G=r2(k,I);wh(k,k.next),wh(G,G.next)}}function o8(I,k){var G=k,ie=I.x,de=I.y,Me=-1/0,Ie;do{if(de<=G.y&&de>=G.next.y&&G.next.y!==G.y){var Ke=G.x+(de-G.y)*(G.next.x-G.x)/(G.next.y-G.y);if(Ke<=ie&&Ke>Me){if(Me=Ke,Ke===ie){if(de===G.y)return G;if(de===G.next.y)return G.next}Ie=G.x<G.next.x?G:G.next}}G=G.next}while(G!==k);if(!Ie)return null;if(ie===Me)return Ie;var ft=Ie,Tt=Ie.x,Et=Ie.y,Wt=1/0,ir;G=Ie;do ie>=G.x&&G.x>=Tt&&ie!==G.x&&fd(de<Et?ie:Me,de,Tt,Et,de<Et?Me:ie,de,G.x,G.y)&&(ir=Math.abs(de-G.y)/(ie-G.x),Op(G,I)&&(ir<Wt||ir===Wt&&(G.x>Ie.x||G.x===Ie.x&&s8(Ie,G)))&&(Ie=G,Wt=ir)),G=G.next;while(G!==ft);return Ie}function s8(I,k){return go(I.prev,I,k.prev)<0&&go(k.next,I,I.next)<0}function l8(I,k,G,ie){var de=I;do de.z===null&&(de.z=Bm(de.x,de.y,k,G,ie)),de.prevZ=de.prev,de.nextZ=de.next,de=de.next;while(de!==I);de.prevZ.nextZ=null,de.prevZ=null,u8(de)}function u8(I){var k,G,ie,de,Me,Ie,Ke,ft,Tt=1;do{for(G=I,I=null,Me=null,Ie=0;G;){for(Ie++,ie=G,Ke=0,k=0;k<Tt&&(Ke++,ie=ie.nextZ,!!ie);k++);for(ft=Tt;Ke>0||ft>0&&ie;)Ke!==0&&(ft===0||!ie||G.z<=ie.z)?(de=G,G=G.nextZ,Ke--):(de=ie,ie=ie.nextZ,ft--),Me?Me.nextZ=de:I=de,de.prevZ=Me,Me=de;G=ie}Me.nextZ=null,Tt*=2}while(Ie>1);return I}function Bm(I,k,G,ie,de){return I=32767*(I-G)*de,k=32767*(k-ie)*de,I=(I|I<<8)&16711935,I=(I|I<<4)&252645135,I=(I|I<<2)&858993459,I=(I|I<<1)&1431655765,k=(k|k<<8)&16711935,k=(k|k<<4)&252645135,k=(k|k<<2)&858993459,k=(k|k<<1)&1431655765,I|k<<1}function f8(I){var k=I,G=I;do(k.x<G.x||k.x===G.x&&k.y<G.y)&&(G=k),k=k.next;while(k!==I);return G}function fd(I,k,G,ie,de,Me,Ie,Ke){return(de-Ie)*(k-Ke)-(I-Ie)*(Me-Ke)>=0&&(I-Ie)*(ie-Ke)-(G-Ie)*(k-Ke)>=0&&(G-Ie)*(Me-Ke)-(de-Ie)*(ie-Ke)>=0}function c8(I,k){return I.next.i!==k.i&&I.prev.i!==k.i&&!h8(I,k)&&(Op(I,k)&&Op(k,I)&&v8(I,k)&&(go(I.prev,I,k.prev)||go(I,k.prev,k))||Mg(I,k)&&go(I.prev,I,I.next)>0&&go(k.prev,k,k.next)>0)}function go(I,k,G){return(k.y-I.y)*(G.x-k.x)-(k.x-I.x)*(G.y-k.y)}function Mg(I,k){return I.x===k.x&&I.y===k.y}function t2(I,k,G,ie){var de=Cg(go(I,k,G)),Me=Cg(go(I,k,ie)),Ie=Cg(go(G,ie,I)),Ke=Cg(go(G,ie,k));return!!(de!==Me&&Ie!==Ke||de===0&&Eg(I,G,k)||Me===0&&Eg(I,ie,k)||Ie===0&&Eg(G,I,ie)||Ke===0&&Eg(G,k,ie))}function Eg(I,k,G){return k.x<=Math.max(I.x,G.x)&&k.x>=Math.min(I.x,G.x)&&k.y<=Math.max(I.y,G.y)&&k.y>=Math.min(I.y,G.y)}function Cg(I){return I>0?1:I<0?-1:0}function h8(I,k){var G=I;do{if(G.i!==I.i&&G.next.i!==I.i&&G.i!==k.i&&G.next.i!==k.i&&t2(G,G.next,I,k))return!0;G=G.next}while(G!==I);return!1}function Op(I,k){return go(I.prev,I,I.next)<0?go(I,k,I.next)>=0&&go(I,I.prev,k)>=0:go(I,k,I.prev)<0||go(I,I.next,k)<0}function v8(I,k){var G=I,ie=!1,de=(I.x+k.x)/2,Me=(I.y+k.y)/2;do G.y>Me!=G.next.y>Me&&G.next.y!==G.y&&de<(G.next.x-G.x)*(Me-G.y)/(G.next.y-G.y)+G.x&&(ie=!ie),G=G.next;while(G!==I);return ie}function r2(I,k){var G=new Nm(I.i,I.x,I.y),ie=new Nm(k.i,k.x,k.y),de=I.next,Me=k.prev;return I.next=k,k.prev=I,G.next=de,de.prev=G,ie.next=G,G.prev=ie,Me.next=ie,ie.prev=Me,ie}function n2(I,k,G,ie){var de=new Nm(I,k,G);return ie?(de.next=ie.next,de.prev=ie,ie.next.prev=de,ie.next=de):(de.prev=de,de.next=de),de}function Fp(I){I.next.prev=I.prev,I.prev.next=I.next,I.prevZ&&(I.prevZ.nextZ=I.nextZ),I.nextZ&&(I.nextZ.prevZ=I.prevZ)}function Nm(I,k,G){this.i=I,this.x=k,this.y=G,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}Sg.deviation=function(I,k,G,ie){var de=k&&k.length,Me=de?k[0]*G:I.length,Ie=Math.abs(Um(I,0,Me,G));if(de)for(var Ke=0,ft=k.length;Ke<ft;Ke++){var Tt=k[Ke]*G,Et=Ke<ft-1?k[Ke+1]*G:I.length;Ie-=Math.abs(Um(I,Tt,Et,G))}var Wt=0;for(Ke=0;Ke<ie.length;Ke+=3){var ir=ie[Ke]*G,qt=ie[Ke+1]*G,br=ie[Ke+2]*G;Wt+=Math.abs((I[ir]-I[br])*(I[qt+1]-I[ir+1])-(I[ir]-I[qt])*(I[br+1]-I[ir+1]))}return Ie===0&&Wt===0?0:Math.abs((Wt-Ie)/Ie)};function Um(I,k,G,ie){for(var de=0,Me=k,Ie=G-ie;Me<G;Me+=ie)de+=(I[Ie]-I[Me])*(I[Me+1]+I[Ie+1]),Ie=Me;return de}Sg.flatten=function(I){for(var k=I[0][0].length,G={vertices:[],holes:[],dimensions:k},ie=0,de=0;de<I.length;de++){for(var Me=0;Me<I[de].length;Me++)for(var Ie=0;Ie<k;Ie++)G.vertices.push(I[de][Me][Ie]);de>0&&(ie+=I[de-1].length,G.holes.push(ie))}return G},Fm.default=QM;function d8(I,k,G,ie,de){a2(I,k,G||0,ie||I.length-1,de||p8)}function a2(I,k,G,ie,de){for(;ie>G;){if(ie-G>600){var Me=ie-G+1,Ie=k-G+1,Ke=Math.log(Me),ft=.5*Math.exp(2*Ke/3),Tt=.5*Math.sqrt(Ke*ft*(Me-ft)/Me)*(Ie-Me/2<0?-1:1),Et=Math.max(G,Math.floor(k-Ie*ft/Me+Tt)),Wt=Math.min(ie,Math.floor(k+(Me-Ie)*ft/Me+Tt));a2(I,k,Et,Wt,de)}var ir=I[k],qt=G,br=ie;for(Bp(I,G,k),de(I[ie],ir)>0&&Bp(I,G,ie);qt<br;){for(Bp(I,qt,br),qt++,br--;de(I[qt],ir)<0;)qt++;for(;de(I[br],ir)>0;)br--}de(I[G],ir)===0?Bp(I,G,br):(br++,Bp(I,br,ie)),br<=k&&(G=br+1),k<=br&&(ie=br-1)}}function Bp(I,k,G){var ie=I[k];I[k]=I[G],I[G]=ie}function p8(I,k){return I<k?-1:I>k?1:0}function Hm(I,k){var G=I.length;if(G<=1)return[I];for(var ie=[],de,Me,Ie=0;Ie<G;Ie++){var Ke=B(I[Ie]);Ke!==0&&(I[Ie].area=Math.abs(Ke),Me===void 0&&(Me=Ke<0),Me===Ke<0?(de&&ie.push(de),de=[I[Ie]]):de.push(I[Ie]))}if(de&&ie.push(de),k>1)for(var ft=0;ft<ie.length;ft++)ie[ft].length<=k||(d8(ie[ft],k,1,ie[ft].length-1,g8),ie[ft]=ie[ft].slice(0,k));return ie}function g8(I,k){return k.area-I.area}function Vm(I,k,G){for(var ie=G.patternDependencies,de=!1,Me=0,Ie=k;Me<Ie.length;Me+=1){var Ke=Ie[Me],ft=Ke.paint.get(I+"-pattern");ft.isConstant()||(de=!0);var Tt=ft.constantOr(null);Tt&&(de=!0,ie[Tt.to]=!0,ie[Tt.from]=!0)}return de}function Wm(I,k,G,ie,de){for(var Me=de.patternDependencies,Ie=0,Ke=k;Ie<Ke.length;Ie+=1){var ft=Ke[Ie],Tt=ft.paint.get(I+"-pattern"),Et=Tt.value;if(Et.kind!=="constant"){var Wt=Et.evaluate({zoom:ie-1},G,{},de.availableImages),ir=Et.evaluate({zoom:ie},G,{},de.availableImages),qt=Et.evaluate({zoom:ie+1},G,{},de.availableImages);Wt=Wt&&Wt.name?Wt.name:Wt,ir=ir&&ir.name?ir.name:ir,qt=qt&&qt.name?qt.name:qt,Me[Wt]=!0,Me[ir]=!0,Me[qt]=!0,G.patterns[ft.id]={min:Wt,mid:ir,max:qt}}}return G}var y8=500,hf=function(k){this.zoom=k.zoom,this.overscaling=k.overscaling,this.layers=k.layers,this.layerIds=this.layers.map(function(G){return G.id}),this.index=k.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new bv,this.indexArray=new ff,this.indexArray2=new Av,this.programConfigurations=new Va(qw,k.layers,k.zoom),this.segments=new X,this.segments2=new X,this.stateDependentLayerIds=this.layers.filter(function(G){return G.isStateDependent()}).map(function(G){return G.id})};hf.prototype.populate=function(k,G,ie){this.hasPattern=Vm("fill",this.layers,G);for(var de=this.layers[0].layout.get("fill-sort-key"),Me=[],Ie=0,Ke=k;Ie<Ke.length;Ie+=1){var ft=Ke[Ie],Tt=ft.feature,Et=ft.id,Wt=ft.index,ir=ft.sourceLayerIndex,qt=this.layers[0]._featureFilter.needGeometry,br={type:Tt.type,id:Et,properties:Tt.properties,geometry:qt?gi(Tt):[]};if(this.layers[0]._featureFilter.filter(new Wn(this.zoom),br,ie)){qt||(br.geometry=gi(Tt));var Br=de?de.evaluate(br,{},ie,G.availableImages):void 0,ln={id:Et,properties:Tt.properties,type:Tt.type,sourceLayerIndex:ir,index:Wt,geometry:br.geometry,patterns:{},sortKey:Br};Me.push(ln)}}de&&Me.sort(function(va,xa){return va.sortKey-xa.sortKey});for(var qr=0,Ln=Me;qr<Ln.length;qr+=1){var wn=Ln[qr],Cn=wn,_n=Cn.geometry,Gn=Cn.index,na=Cn.sourceLayerIndex;if(this.hasPattern){var ra=Wm("fill",this.layers,wn,this.zoom,G);this.patternFeatures.push(ra)}else this.addFeature(wn,_n,Gn,ie,{});var Ca=k[Gn].feature;G.featureIndex.insert(Ca,_n,Gn,na,this.index)}},hf.prototype.update=function(k,G,ie){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(k,G,this.stateDependentLayers,ie)},hf.prototype.addFeatures=function(k,G,ie){for(var de=0,Me=this.patternFeatures;de<Me.length;de+=1){var Ie=Me[de];this.addFeature(Ie,Ie.geometry,Ie.index,G,ie)}},hf.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},hf.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},hf.prototype.upload=function(k){this.uploaded||(this.layoutVertexBuffer=k.createVertexBuffer(this.layoutVertexArray,qw),this.indexBuffer=k.createIndexBuffer(this.indexArray),this.indexBuffer2=k.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(k),this.uploaded=!0},hf.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},hf.prototype.addFeature=function(k,G,ie,de,Me){for(var Ie=0,Ke=Hm(G,y8);Ie<Ke.length;Ie+=1){for(var ft=Ke[Ie],Tt=0,Et=0,Wt=ft;Et<Wt.length;Et+=1){var ir=Wt[Et];Tt+=ir.length}for(var qt=this.segments.prepareSegment(Tt,this.layoutVertexArray,this.indexArray),br=qt.vertexLength,Br=[],ln=[],qr=0,Ln=ft;qr<Ln.length;qr+=1){var wn=Ln[qr];if(wn.length!==0){wn!==ft[0]&&ln.push(Br.length/2);var Cn=this.segments2.prepareSegment(wn.length,this.layoutVertexArray,this.indexArray2),_n=Cn.vertexLength;this.layoutVertexArray.emplaceBack(wn[0].x,wn[0].y),this.indexArray2.emplaceBack(_n+wn.length-1,_n),Br.push(wn[0].x),Br.push(wn[0].y);for(var Gn=1;Gn<wn.length;Gn++)this.layoutVertexArray.emplaceBack(wn[Gn].x,wn[Gn].y),this.indexArray2.emplaceBack(_n+Gn-1,_n+Gn),Br.push(wn[Gn].x),Br.push(wn[Gn].y);Cn.vertexLength+=wn.length,Cn.primitiveLength+=wn.length}}for(var na=Fm(Br,ln),ra=0;ra<na.length;ra+=3)this.indexArray.emplaceBack(br+na[ra],br+na[ra+1],br+na[ra+2]);qt.vertexLength+=Tt,qt.primitiveLength+=na.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,k,ie,Me,de)},fe("FillBucket",hf,{omit:["layers","patternFeatures"]});var m8=new lo({"fill-sort-key":new Ea(Zt.layout_fill["fill-sort-key"])}),x8=new lo({"fill-antialias":new ma(Zt.paint_fill["fill-antialias"]),"fill-opacity":new Ea(Zt.paint_fill["fill-opacity"]),"fill-color":new Ea(Zt.paint_fill["fill-color"]),"fill-outline-color":new Ea(Zt.paint_fill["fill-outline-color"]),"fill-translate":new ma(Zt.paint_fill["fill-translate"]),"fill-translate-anchor":new ma(Zt.paint_fill["fill-translate-anchor"]),"fill-pattern":new Si(Zt.paint_fill["fill-pattern"])}),b8={paint:x8,layout:m8},w8=function(I){function k(G){I.call(this,G,b8)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype.recalculate=function(ie,de){I.prototype.recalculate.call(this,ie,de);var Me=this.paint._values["fill-outline-color"];Me.value.kind==="constant"&&Me.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},k.prototype.createBucket=function(ie){return new hf(ie)},k.prototype.queryRadius=function(){return Mu(this.paint.get("fill-translate"))},k.prototype.queryIntersectsFeature=function(ie,de,Me,Ie,Ke,ft,Tt){var Et=Kl(ie,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),ft.angle,Tt);return Ki(Et,Ie)},k.prototype.isTileClipped=function(){return!0},k}(Ri),T8=Mi([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),i2=T8.members,o2=cd;function cd(I,k,G,ie,de){this.properties={},this.extent=G,this.type=0,this._pbf=I,this._geometry=-1,this._keys=ie,this._values=de,I.readFields(A8,this,k)}function A8(I,k,G){I==1?k.id=G.readVarint():I==2?S8(G,k):I==3?k.type=G.readVarint():I==4&&(k._geometry=G.pos)}function S8(I,k){for(var G=I.readVarint()+I.pos;I.pos<G;){var ie=k._keys[I.readVarint()],de=k._values[I.readVarint()];k.properties[ie]=de}}cd.types=["Unknown","Point","LineString","Polygon"],cd.prototype.loadGeometry=function(){var I=this._pbf;I.pos=this._geometry;for(var k=I.readVarint()+I.pos,G=1,ie=0,de=0,Me=0,Ie=[],Ke;I.pos<k;){if(ie<=0){var ft=I.readVarint();G=ft&7,ie=ft>>3}if(ie--,G===1||G===2)de+=I.readSVarint(),Me+=I.readSVarint(),G===1&&(Ke&&Ie.push(Ke),Ke=[]),Ke.push(new t(de,Me));else if(G===7)Ke&&Ke.push(Ke[0].clone());else throw new Error("unknown command "+G)}return Ke&&Ie.push(Ke),Ie},cd.prototype.bbox=function(){var I=this._pbf;I.pos=this._geometry;for(var k=I.readVarint()+I.pos,G=1,ie=0,de=0,Me=0,Ie=1/0,Ke=-1/0,ft=1/0,Tt=-1/0;I.pos<k;){if(ie<=0){var Et=I.readVarint();G=Et&7,ie=Et>>3}if(ie--,G===1||G===2)de+=I.readSVarint(),Me+=I.readSVarint(),de<Ie&&(Ie=de),de>Ke&&(Ke=de),Me<ft&&(ft=Me),Me>Tt&&(Tt=Me);else if(G!==7)throw new Error("unknown command "+G)}return[Ie,ft,Ke,Tt]},cd.prototype.toGeoJSON=function(I,k,G){var ie=this.extent*Math.pow(2,G),de=this.extent*I,Me=this.extent*k,Ie=this.loadGeometry(),Ke=cd.types[this.type],ft,Tt;function Et(qt){for(var br=0;br<qt.length;br++){var Br=qt[br],ln=180-(Br.y+Me)*360/ie;qt[br]=[(Br.x+de)*360/ie-180,360/Math.PI*Math.atan(Math.exp(ln*Math.PI/180))-90]}}switch(this.type){case 1:var Wt=[];for(ft=0;ft<Ie.length;ft++)Wt[ft]=Ie[ft][0];Ie=Wt,Et(Ie);break;case 2:for(ft=0;ft<Ie.length;ft++)Et(Ie[ft]);break;case 3:for(Ie=M8(Ie),ft=0;ft<Ie.length;ft++)for(Tt=0;Tt<Ie[ft].length;Tt++)Et(Ie[ft][Tt]);break}Ie.length===1?Ie=Ie[0]:Ke="Multi"+Ke;var ir={type:"Feature",geometry:{type:Ke,coordinates:Ie},properties:this.properties};return"id"in this&&(ir.id=this.id),ir};function M8(I){var k=I.length;if(k<=1)return[I];for(var G=[],ie,de,Me=0;Me<k;Me++){var Ie=E8(I[Me]);Ie!==0&&(de===void 0&&(de=Ie<0),de===Ie<0?(ie&&G.push(ie),ie=[I[Me]]):ie.push(I[Me]))}return ie&&G.push(ie),G}function E8(I){for(var k=0,G=0,ie=I.length,de=ie-1,Me,Ie;G<ie;de=G++)Me=I[G],Ie=I[de],k+=(Ie.x-Me.x)*(Me.y+Ie.y);return k}var s2=l2;function l2(I,k){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=I,this._keys=[],this._values=[],this._features=[],I.readFields(C8,this,k),this.length=this._features.length}function C8(I,k,G){I===15?k.version=G.readVarint():I===1?k.name=G.readString():I===5?k.extent=G.readVarint():I===2?k._features.push(G.pos):I===3?k._keys.push(G.readString()):I===4&&k._values.push(L8(G))}function L8(I){for(var k=null,G=I.readVarint()+I.pos;I.pos<G;){var ie=I.readVarint()>>3;k=ie===1?I.readString():ie===2?I.readFloat():ie===3?I.readDouble():ie===4?I.readVarint64():ie===5?I.readVarint():ie===6?I.readSVarint():ie===7?I.readBoolean():null}return k}l2.prototype.feature=function(I){if(I<0||I>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[I];var k=this._pbf.readVarint()+this._pbf.pos;return new o2(this._pbf,k,this.extent,this._keys,this._values)};var P8=R8;function R8(I,k){this.layers=I.readFields(D8,{},k)}function D8(I,k,G){if(I===3){var ie=new s2(G,G.readVarint()+G.pos);ie.length&&(k[ie.name]=ie)}}var I8=P8,k8=o2,_8=s2,hd={VectorTile:I8,VectorTileFeature:k8,VectorTileLayer:_8},z8=hd.VectorTileFeature.types,O8=500,Gm=Math.pow(2,13);function Np(I,k,G,ie,de,Me,Ie,Ke){I.emplaceBack(k,G,Math.floor(ie*Gm)*2+Ie,de*Gm*2,Me*Gm*2,Math.round(Ke))}var vf=function(k){this.zoom=k.zoom,this.overscaling=k.overscaling,this.layers=k.layers,this.layerIds=this.layers.map(function(G){return G.id}),this.index=k.index,this.hasPattern=!1,this.layoutVertexArray=new ph,this.indexArray=new ff,this.programConfigurations=new Va(i2,k.layers,k.zoom),this.segments=new X,this.stateDependentLayerIds=this.layers.filter(function(G){return G.isStateDependent()}).map(function(G){return G.id})};vf.prototype.populate=function(k,G,ie){this.features=[],this.hasPattern=Vm("fill-extrusion",this.layers,G);for(var de=0,Me=k;de<Me.length;de+=1){var Ie=Me[de],Ke=Ie.feature,ft=Ie.id,Tt=Ie.index,Et=Ie.sourceLayerIndex,Wt=this.layers[0]._featureFilter.needGeometry,ir={type:Ke.type,id:ft,properties:Ke.properties,geometry:Wt?gi(Ke):[]};if(this.layers[0]._featureFilter.filter(new Wn(this.zoom),ir,ie)){var qt={id:ft,sourceLayerIndex:Et,index:Tt,geometry:Wt?ir.geometry:gi(Ke),properties:Ke.properties,type:Ke.type,patterns:{}};typeof Ke.id<"u"&&(qt.id=Ke.id),this.hasPattern?this.features.push(Wm("fill-extrusion",this.layers,qt,this.zoom,G)):this.addFeature(qt,qt.geometry,Tt,ie,{}),G.featureIndex.insert(Ke,qt.geometry,Tt,Et,this.index,!0)}}},vf.prototype.addFeatures=function(k,G,ie){for(var de=0,Me=this.features;de<Me.length;de+=1){var Ie=Me[de],Ke=Ie.geometry;this.addFeature(Ie,Ke,Ie.index,G,ie)}},vf.prototype.update=function(k,G,ie){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(k,G,this.stateDependentLayers,ie)},vf.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},vf.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},vf.prototype.upload=function(k){this.uploaded||(this.layoutVertexBuffer=k.createVertexBuffer(this.layoutVertexArray,i2),this.indexBuffer=k.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(k),this.uploaded=!0},vf.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},vf.prototype.addFeature=function(k,G,ie,de,Me){for(var Ie=0,Ke=Hm(G,O8);Ie<Ke.length;Ie+=1){for(var ft=Ke[Ie],Tt=0,Et=0,Wt=ft;Et<Wt.length;Et+=1){var ir=Wt[Et];Tt+=ir.length}for(var qt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),br=0,Br=ft;br<Br.length;br+=1){var ln=Br[br];if(ln.length!==0&&!B8(ln))for(var qr=0,Ln=0;Ln<ln.length;Ln++){var wn=ln[Ln];if(Ln>=1){var Cn=ln[Ln-1];if(!F8(wn,Cn)){qt.vertexLength+4>X.MAX_VERTEX_ARRAY_LENGTH&&(qt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var _n=wn.sub(Cn)._perp()._unit(),Gn=Cn.dist(wn);qr+Gn>32768&&(qr=0),Np(this.layoutVertexArray,wn.x,wn.y,_n.x,_n.y,0,0,qr),Np(this.layoutVertexArray,wn.x,wn.y,_n.x,_n.y,0,1,qr),qr+=Gn,Np(this.layoutVertexArray,Cn.x,Cn.y,_n.x,_n.y,0,0,qr),Np(this.layoutVertexArray,Cn.x,Cn.y,_n.x,_n.y,0,1,qr);var na=qt.vertexLength;this.indexArray.emplaceBack(na,na+2,na+1),this.indexArray.emplaceBack(na+1,na+2,na+3),qt.vertexLength+=4,qt.primitiveLength+=2}}}}if(qt.vertexLength+Tt>X.MAX_VERTEX_ARRAY_LENGTH&&(qt=this.segments.prepareSegment(Tt,this.layoutVertexArray,this.indexArray)),z8[k.type]==="Polygon"){for(var ra=[],Ca=[],va=qt.vertexLength,xa=0,Ua=ft;xa<Ua.length;xa+=1){var Sa=Ua[xa];if(Sa.length!==0){Sa!==ft[0]&&Ca.push(ra.length/2);for(var Ma=0;Ma<Sa.length;Ma++){var ja=Sa[Ma];Np(this.layoutVertexArray,ja.x,ja.y,0,0,1,1,0),ra.push(ja.x),ra.push(ja.y)}}}for(var Fa=Fm(ra,Ca),oi=0;oi<Fa.length;oi+=3)this.indexArray.emplaceBack(va+Fa[oi],va+Fa[oi+2],va+Fa[oi+1]);qt.primitiveLength+=Fa.length/3,qt.vertexLength+=Tt}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,k,ie,Me,de)},fe("FillExtrusionBucket",vf,{omit:["layers","features"]});function F8(I,k){return I.x===k.x&&(I.x<0||I.x>Ra)||I.y===k.y&&(I.y<0||I.y>Ra)}function B8(I){return I.every(function(k){return k.x<0})||I.every(function(k){return k.x>Ra})||I.every(function(k){return k.y<0})||I.every(function(k){return k.y>Ra})}var N8=new lo({"fill-extrusion-opacity":new ma(Zt["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Ea(Zt["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new ma(Zt["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new ma(Zt["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Si(Zt["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Ea(Zt["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Ea(Zt["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new ma(Zt["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])}),U8={paint:N8},H8=function(I){function k(G){I.call(this,G,U8)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype.createBucket=function(ie){return new vf(ie)},k.prototype.queryRadius=function(){return Mu(this.paint.get("fill-extrusion-translate"))},k.prototype.is3D=function(){return!0},k.prototype.queryIntersectsFeature=function(ie,de,Me,Ie,Ke,ft,Tt,Et){var Wt=Kl(ie,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),ft.angle,Tt),ir=this.paint.get("fill-extrusion-height").evaluate(de,Me),qt=this.paint.get("fill-extrusion-base").evaluate(de,Me),br=G8(Wt,Et,ft,0),Br=W8(Ie,qt,ir,Et),ln=Br[0],qr=Br[1];return V8(ln,qr,br)},k}(Ri);function Up(I,k){return I.x*k.x+I.y*k.y}function u2(I,k){if(I.length===1){for(var G=0,ie=k[G++],de;!de||ie.equals(de);)if(de=k[G++],!de)return 1/0;for(;G<k.length;G++){var Me=k[G],Ie=I[0],Ke=de.sub(ie),ft=Me.sub(ie),Tt=Ie.sub(ie),Et=Up(Ke,Ke),Wt=Up(Ke,ft),ir=Up(ft,ft),qt=Up(Tt,Ke),br=Up(Tt,ft),Br=Et*ir-Wt*Wt,ln=(ir*qt-Wt*br)/Br,qr=(Et*br-Wt*qt)/Br,Ln=1-ln-qr,wn=ie.z*Ln+de.z*ln+Me.z*qr;if(isFinite(wn))return wn}return 1/0}else{for(var Cn=1/0,_n=0,Gn=k;_n<Gn.length;_n+=1){var na=Gn[_n];Cn=Math.min(Cn,na.z)}return Cn}}function V8(I,k,G){var ie=1/0;Ki(G,k)&&(ie=u2(G,k[0]));for(var de=0;de<k.length;de++)for(var Me=k[de],Ie=I[de],Ke=0;Ke<Me.length-1;Ke++){var ft=Me[Ke],Tt=Me[Ke+1],Et=Ie[Ke],Wt=Ie[Ke+1],ir=[ft,Tt,Wt,Et,ft];Wa(G,ir)&&(ie=Math.min(ie,u2(G,ir)))}return ie===1/0?!1:ie}function W8(I,k,G,ie){for(var de=[],Me=[],Ie=ie[8]*k,Ke=ie[9]*k,ft=ie[10]*k,Tt=ie[11]*k,Et=ie[8]*G,Wt=ie[9]*G,ir=ie[10]*G,qt=ie[11]*G,br=0,Br=I;br<Br.length;br+=1){for(var ln=Br[br],qr=[],Ln=[],wn=0,Cn=ln;wn<Cn.length;wn+=1){var _n=Cn[wn],Gn=_n.x,na=_n.y,ra=ie[0]*Gn+ie[4]*na+ie[12],Ca=ie[1]*Gn+ie[5]*na+ie[13],va=ie[2]*Gn+ie[6]*na+ie[14],xa=ie[3]*Gn+ie[7]*na+ie[15],Ua=ra+Ie,Sa=Ca+Ke,Ma=va+ft,ja=xa+Tt,Fa=ra+Et,oi=Ca+Wt,Ti=va+ir,si=xa+qt,li=new t(Ua/ja,Sa/ja);li.z=Ma/ja,qr.push(li);var ri=new t(Fa/si,oi/si);ri.z=Ti/si,Ln.push(ri)}de.push(qr),Me.push(Ln)}return[de,Me]}function G8(I,k,G,ie){for(var de=[],Me=0,Ie=I;Me<Ie.length;Me+=1){var Ke=Ie[Me],ft=[Ke.x,Ke.y,ie,1];Ag(ft,ft,k),de.push(new t(ft[0]/ft[3],ft[1]/ft[3]))}return de}var Y8=Mi([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),f2=Y8.members,j8=hd.VectorTileFeature.types,c2=63,Z8=Math.cos(75/2*(Math.PI/180)),X8=15,K8=20,$8=15,h2=1/2,v2=Math.pow(2,$8-1)/h2,Vs=function(k){this.zoom=k.zoom,this.overscaling=k.overscaling,this.layers=k.layers,this.layerIds=this.layers.map(function(G){return G.id}),this.index=k.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new td,this.indexArray=new ff,this.programConfigurations=new Va(f2,k.layers,k.zoom),this.segments=new X,this.stateDependentLayerIds=this.layers.filter(function(G){return G.isStateDependent()}).map(function(G){return G.id})};Vs.prototype.populate=function(k,G,ie){this.hasPattern=Vm("line",this.layers,G);for(var de=this.layers[0].layout.get("line-sort-key"),Me=[],Ie=0,Ke=k;Ie<Ke.length;Ie+=1){var ft=Ke[Ie],Tt=ft.feature,Et=ft.id,Wt=ft.index,ir=ft.sourceLayerIndex,qt=this.layers[0]._featureFilter.needGeometry,br={type:Tt.type,id:Et,properties:Tt.properties,geometry:qt?gi(Tt):[]};if(this.layers[0]._featureFilter.filter(new Wn(this.zoom),br,ie)){qt||(br.geometry=gi(Tt));var Br=de?de.evaluate(br,{},ie):void 0,ln={id:Et,properties:Tt.properties,type:Tt.type,sourceLayerIndex:ir,index:Wt,geometry:br.geometry,patterns:{},sortKey:Br};Me.push(ln)}}de&&Me.sort(function(va,xa){return va.sortKey-xa.sortKey});for(var qr=0,Ln=Me;qr<Ln.length;qr+=1){var wn=Ln[qr],Cn=wn,_n=Cn.geometry,Gn=Cn.index,na=Cn.sourceLayerIndex;if(this.hasPattern){var ra=Wm("line",this.layers,wn,this.zoom,G);this.patternFeatures.push(ra)}else this.addFeature(wn,_n,Gn,ie,{});var Ca=k[Gn].feature;G.featureIndex.insert(Ca,_n,Gn,na,this.index)}},Vs.prototype.update=function(k,G,ie){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(k,G,this.stateDependentLayers,ie)},Vs.prototype.addFeatures=function(k,G,ie){for(var de=0,Me=this.patternFeatures;de<Me.length;de+=1){var Ie=Me[de];this.addFeature(Ie,Ie.geometry,Ie.index,G,ie)}},Vs.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Vs.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Vs.prototype.upload=function(k){this.uploaded||(this.layoutVertexBuffer=k.createVertexBuffer(this.layoutVertexArray,f2),this.indexBuffer=k.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(k),this.uploaded=!0},Vs.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Vs.prototype.addFeature=function(k,G,ie,de,Me){for(var Ie=this.layers[0].layout,Ke=Ie.get("line-join").evaluate(k,{}),ft=Ie.get("line-cap"),Tt=Ie.get("line-miter-limit"),Et=Ie.get("line-round-limit"),Wt=0,ir=G;Wt<ir.length;Wt+=1){var qt=ir[Wt];this.addLine(qt,k,Ke,ft,Tt,Et)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,k,ie,Me,de)},Vs.prototype.addLine=function(k,G,ie,de,Me,Ie){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,G.properties&&G.properties.hasOwnProperty("mapbox_clip_start")&&G.properties.hasOwnProperty("mapbox_clip_end")){this.clipStart=+G.properties.mapbox_clip_start,this.clipEnd=+G.properties.mapbox_clip_end;for(var Ke=0;Ke<k.length-1;Ke++)this.totalDistance+=k[Ke].dist(k[Ke+1]);this.updateScaledDistance()}for(var ft=j8[G.type]==="Polygon",Tt=k.length;Tt>=2&&k[Tt-1].equals(k[Tt-2]);)Tt--;for(var Et=0;Et<Tt-1&&k[Et].equals(k[Et+1]);)Et++;if(!(Tt<(ft?3:2))){ie==="bevel"&&(Me=1.05);var Wt=this.overscaling<=16?X8*Ra/(512*this.overscaling):0,ir=this.segments.prepareSegment(Tt*10,this.layoutVertexArray,this.indexArray),qt,br=void 0,Br=void 0,ln=void 0,qr=void 0;this.e1=this.e2=-1,ft&&(qt=k[Tt-2],qr=k[Et].sub(qt)._unit()._perp());for(var Ln=Et;Ln<Tt;Ln++)if(Br=Ln===Tt-1?ft?k[Et+1]:void 0:k[Ln+1],!(Br&&k[Ln].equals(Br))){qr&&(ln=qr),qt&&(br=qt),qt=k[Ln],qr=Br?Br.sub(qt)._unit()._perp():ln,ln=ln||qr;var wn=ln.add(qr);(wn.x!==0||wn.y!==0)&&wn._unit();var Cn=ln.x*qr.x+ln.y*qr.y,_n=wn.x*qr.x+wn.y*qr.y,Gn=_n!==0?1/_n:1/0,na=2*Math.sqrt(2-2*_n),ra=_n<Z8&&br&&Br,Ca=ln.x*qr.y-ln.y*qr.x>0;if(ra&&Ln>Et){var va=qt.dist(br);if(va>2*Wt){var xa=qt.sub(qt.sub(br)._mult(Wt/va)._round());this.updateDistance(br,xa),this.addCurrentVertex(xa,ln,0,0,ir),br=xa}}var Ua=br&&Br,Sa=Ua?ie:ft?"butt":de;if(Ua&&Sa==="round"&&(Gn<Ie?Sa="miter":Gn<=2&&(Sa="fakeround")),Sa==="miter"&&Gn>Me&&(Sa="bevel"),Sa==="bevel"&&(Gn>2&&(Sa="flipbevel"),Gn<Me&&(Sa="miter")),br&&this.updateDistance(br,qt),Sa==="miter")wn._mult(Gn),this.addCurrentVertex(qt,wn,0,0,ir);else if(Sa==="flipbevel"){if(Gn>100)wn=qr.mult(-1);else{var Ma=Gn*ln.add(qr).mag()/ln.sub(qr).mag();wn._perp()._mult(Ma*(Ca?-1:1))}this.addCurrentVertex(qt,wn,0,0,ir),this.addCurrentVertex(qt,wn.mult(-1),0,0,ir)}else if(Sa==="bevel"||Sa==="fakeround"){var ja=-Math.sqrt(Gn*Gn-1),Fa=Ca?ja:0,oi=Ca?0:ja;if(br&&this.addCurrentVertex(qt,ln,Fa,oi,ir),Sa==="fakeround")for(var Ti=Math.round(na*180/Math.PI/K8),si=1;si<Ti;si++){var li=si/Ti;if(li!==.5){var ri=li-.5,Pi=1.0904+Cn*(-3.2452+Cn*(3.55645-Cn*1.43519)),Ii=.848013+Cn*(-1.06021+Cn*.215638);li=li+li*ri*(li-1)*(Pi*ri*ri+Ii)}var $i=qr.sub(ln)._mult(li)._add(ln)._unit()._mult(Ca?-1:1);this.addHalfVertex(qt,$i.x,$i.y,!1,Ca,0,ir)}Br&&this.addCurrentVertex(qt,qr,-Fa,-oi,ir)}else if(Sa==="butt")this.addCurrentVertex(qt,wn,0,0,ir);else if(Sa==="square"){var ro=br?1:-1;this.addCurrentVertex(qt,wn,ro,ro,ir)}else Sa==="round"&&(br&&(this.addCurrentVertex(qt,ln,0,0,ir),this.addCurrentVertex(qt,ln,1,1,ir,!0)),Br&&(this.addCurrentVertex(qt,qr,-1,-1,ir,!0),this.addCurrentVertex(qt,qr,0,0,ir)));if(ra&&Ln<Tt-1){var zo=qt.dist(Br);if(zo>2*Wt){var xo=qt.add(Br.sub(qt)._mult(Wt/zo)._round());this.updateDistance(qt,xo),this.addCurrentVertex(xo,qr,0,0,ir),qt=xo}}}}},Vs.prototype.addCurrentVertex=function(k,G,ie,de,Me,Ie){Ie===void 0&&(Ie=!1);var Ke=G.x+G.y*ie,ft=G.y-G.x*ie,Tt=-G.x+G.y*de,Et=-G.y-G.x*de;this.addHalfVertex(k,Ke,ft,Ie,!1,ie,Me),this.addHalfVertex(k,Tt,Et,Ie,!0,-de,Me),this.distance>v2/2&&this.totalDistance===0&&(this.distance=0,this.addCurrentVertex(k,G,ie,de,Me,Ie))},Vs.prototype.addHalfVertex=function(k,G,ie,de,Me,Ie,Ke){var ft=k.x,Tt=k.y,Et=this.scaledDistance*h2;this.layoutVertexArray.emplaceBack((ft<<1)+(de?1:0),(Tt<<1)+(Me?1:0),Math.round(c2*G)+128,Math.round(c2*ie)+128,(Ie===0?0:Ie<0?-1:1)+1|(Et&63)<<2,Et>>6);var Wt=Ke.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,Wt),Ke.primitiveLength++),Me?this.e2=Wt:this.e1=Wt},Vs.prototype.updateScaledDistance=function(){this.scaledDistance=this.totalDistance>0?(this.clipStart+(this.clipEnd-this.clipStart)*this.distance/this.totalDistance)*(v2-1):this.distance},Vs.prototype.updateDistance=function(k,G){this.distance+=k.dist(G),this.updateScaledDistance()},fe("LineBucket",Vs,{omit:["layers","patternFeatures"]});var J8=new lo({"line-cap":new ma(Zt.layout_line["line-cap"]),"line-join":new Ea(Zt.layout_line["line-join"]),"line-miter-limit":new ma(Zt.layout_line["line-miter-limit"]),"line-round-limit":new ma(Zt.layout_line["line-round-limit"]),"line-sort-key":new Ea(Zt.layout_line["line-sort-key"])}),Q8=new lo({"line-opacity":new Ea(Zt.paint_line["line-opacity"]),"line-color":new Ea(Zt.paint_line["line-color"]),"line-translate":new ma(Zt.paint_line["line-translate"]),"line-translate-anchor":new ma(Zt.paint_line["line-translate-anchor"]),"line-width":new Ea(Zt.paint_line["line-width"]),"line-gap-width":new Ea(Zt.paint_line["line-gap-width"]),"line-offset":new Ea(Zt.paint_line["line-offset"]),"line-blur":new Ea(Zt.paint_line["line-blur"]),"line-dasharray":new ji(Zt.paint_line["line-dasharray"]),"line-pattern":new Si(Zt.paint_line["line-pattern"]),"line-gradient":new Qo(Zt.paint_line["line-gradient"])}),d2={paint:Q8,layout:J8},q8=function(I){function k(){I.apply(this,arguments)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype.possiblyEvaluate=function(ie,de){return de=new Wn(Math.floor(de.zoom),{now:de.now,fadeDuration:de.fadeDuration,zoomHistory:de.zoomHistory,transition:de.transition}),I.prototype.possiblyEvaluate.call(this,ie,de)},k.prototype.evaluate=function(ie,de,Me,Ie){return de=l({},de,{zoom:Math.floor(de.zoom)}),I.prototype.evaluate.call(this,ie,de,Me,Ie)},k}(Ea),p2=new q8(d2.paint.properties["line-width"].specification);p2.useIntegerZoom=!0;var eE=function(I){function k(G){I.call(this,G,d2)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype._handleSpecialPaintPropertyUpdate=function(ie){ie==="line-gradient"&&this._updateGradient()},k.prototype._updateGradient=function(){var ie=this._transitionablePaint._values["line-gradient"].value.expression;this.gradient=Qw(ie,"lineProgress"),this.gradientTexture=null},k.prototype.recalculate=function(ie,de){I.prototype.recalculate.call(this,ie,de),this.paint._values["line-floorwidth"]=p2.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,ie)},k.prototype.createBucket=function(ie){return new Vs(ie)},k.prototype.queryRadius=function(ie){var de=ie,Me=g2(sl("line-width",this,de),sl("line-gap-width",this,de)),Ie=sl("line-offset",this,de);return Me/2+Math.abs(Ie)+Mu(this.paint.get("line-translate"))},k.prototype.queryIntersectsFeature=function(ie,de,Me,Ie,Ke,ft,Tt){var Et=Kl(ie,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),ft.angle,Tt),Wt=Tt/2*g2(this.paint.get("line-width").evaluate(de,Me),this.paint.get("line-gap-width").evaluate(de,Me)),ir=this.paint.get("line-offset").evaluate(de,Me);return ir&&(Ie=tE(Ie,ir*Tt)),po(Et,Ie,Wt)},k.prototype.isTileClipped=function(){return!0},k}(Ri);function g2(I,k){return k>0?k+2*I:I}function tE(I,k){for(var G=[],ie=new t(0,0),de=0;de<I.length;de++){for(var Me=I[de],Ie=[],Ke=0;Ke<Me.length;Ke++){var ft=Me[Ke-1],Tt=Me[Ke],Et=Me[Ke+1],Wt=Ke===0?ie:Tt.sub(ft)._unit()._perp(),ir=Ke===Me.length-1?ie:Et.sub(Tt)._unit()._perp(),qt=Wt._add(ir)._unit(),br=qt.x*ir.x+qt.y*ir.y;qt._mult(1/br),Ie.push(qt._mult(k)._add(Tt))}G.push(Ie)}return G}var Ym=Mi([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),rE=Mi([{name:"a_projected_pos",components:3,type:"Float32"}],4);Mi([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);var nE=Mi([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);Mi([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);var y2=Mi([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),aE=Mi([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);Mi([{name:"triangle",components:3,type:"Uint16"}]),Mi([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Mi([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Mi([{type:"Float32",name:"offsetX"}]),Mi([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);function iE(I,k,G){var ie=k.layout.get("text-transform").evaluate(G,{});return ie==="uppercase"?I=I.toLocaleUpperCase():ie==="lowercase"&&(I=I.toLocaleLowerCase()),ii.applyArabicShaping&&(I=ii.applyArabicShaping(I)),I}function oE(I,k,G){return I.sections.forEach(function(ie){ie.text=iE(ie.text,k,G)}),I}function sE(I){var k={},G={},ie=[],de=0;function Me(qr){ie.push(I[qr]),de++}function Ie(qr,Ln,wn){var Cn=G[qr];return delete G[qr],G[Ln]=Cn,ie[Cn].geometry[0].pop(),ie[Cn].geometry[0]=ie[Cn].geometry[0].concat(wn[0]),Cn}function Ke(qr,Ln,wn){var Cn=k[Ln];return delete k[Ln],k[qr]=Cn,ie[Cn].geometry[0].shift(),ie[Cn].geometry[0]=wn[0].concat(ie[Cn].geometry[0]),Cn}function ft(qr,Ln,wn){var Cn=wn?Ln[0][Ln[0].length-1]:Ln[0][0];return qr+":"+Cn.x+":"+Cn.y}for(var Tt=0;Tt<I.length;Tt++){var Et=I[Tt],Wt=Et.geometry,ir=Et.text?Et.text.toString():null;if(!ir){Me(Tt);continue}var qt=ft(ir,Wt),br=ft(ir,Wt,!0);if(qt in G&&br in k&&G[qt]!==k[br]){var Br=Ke(qt,br,Wt),ln=Ie(qt,br,ie[Br].geometry);delete k[qt],delete G[br],G[ft(ir,ie[ln].geometry,!0)]=ln,ie[Br].geometry=null}else qt in G?Ie(qt,br,Wt):br in k?Ke(qt,br,Wt):(Me(Tt),k[qt]=de-1,G[br]=de-1)}return ie.filter(function(qr){return qr.geometry})}var Hp={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};function lE(I){for(var k="",G=0;G<I.length;G++){var ie=I.charCodeAt(G+1)||null,de=I.charCodeAt(G-1)||null,Me=(!ie||!nn(ie)||Hp[I[G+1]])&&(!de||!nn(de)||Hp[I[G-1]]);Me&&Hp[I[G]]?k+=Hp[I[G]]:k+=I[G]}return k}var Yo=24,uE=function(I,k,G,ie,de){var Me,Ie,Ke=de*8-ie-1,ft=(1<<Ke)-1,Tt=ft>>1,Et=-7,Wt=G?de-1:0,ir=G?-1:1,qt=I[k+Wt];for(Wt+=ir,Me=qt&(1<<-Et)-1,qt>>=-Et,Et+=Ke;Et>0;Me=Me*256+I[k+Wt],Wt+=ir,Et-=8);for(Ie=Me&(1<<-Et)-1,Me>>=-Et,Et+=ie;Et>0;Ie=Ie*256+I[k+Wt],Wt+=ir,Et-=8);if(Me===0)Me=1-Tt;else{if(Me===ft)return Ie?NaN:(qt?-1:1)*(1/0);Ie=Ie+Math.pow(2,ie),Me=Me-Tt}return(qt?-1:1)*Ie*Math.pow(2,Me-ie)},fE=function(I,k,G,ie,de,Me){var Ie,Ke,ft,Tt=Me*8-de-1,Et=(1<<Tt)-1,Wt=Et>>1,ir=de===23?Math.pow(2,-24)-Math.pow(2,-77):0,qt=ie?0:Me-1,br=ie?1:-1,Br=k<0||k===0&&1/k<0?1:0;for(k=Math.abs(k),isNaN(k)||k===1/0?(Ke=isNaN(k)?1:0,Ie=Et):(Ie=Math.floor(Math.log(k)/Math.LN2),k*(ft=Math.pow(2,-Ie))<1&&(Ie--,ft*=2),Ie+Wt>=1?k+=ir/ft:k+=ir*Math.pow(2,1-Wt),k*ft>=2&&(Ie++,ft/=2),Ie+Wt>=Et?(Ke=0,Ie=Et):Ie+Wt>=1?(Ke=(k*ft-1)*Math.pow(2,de),Ie=Ie+Wt):(Ke=k*Math.pow(2,Wt-1)*Math.pow(2,de),Ie=0));de>=8;I[G+qt]=Ke&255,qt+=br,Ke/=256,de-=8);for(Ie=Ie<<de|Ke,Tt+=de;Tt>0;I[G+qt]=Ie&255,qt+=br,Ie/=256,Tt-=8);I[G+qt-br]|=Br*128},Lg={read:uE,write:fE},Pg=Di;function Di(I){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(I)?I:new Uint8Array(I||0),this.pos=0,this.type=0,this.length=this.buf.length}Di.Varint=0,Di.Fixed64=1,Di.Bytes=2,Di.Fixed32=5;var jm=65536*65536,m2=1/jm,cE=12,x2=typeof TextDecoder>"u"?null:new TextDecoder("utf8");Di.prototype={destroy:function(){this.buf=null},readFields:function(I,k,G){for(G=G||this.length;this.pos<G;){var ie=this.readVarint(),de=ie>>3,Me=this.pos;this.type=ie&7,I(de,k,this),this.pos===Me&&this.skip(ie)}return k},readMessage:function(I,k){return this.readFields(I,k,this.readVarint()+this.pos)},readFixed32:function(){var I=Rg(this.buf,this.pos);return this.pos+=4,I},readSFixed32:function(){var I=w2(this.buf,this.pos);return this.pos+=4,I},readFixed64:function(){var I=Rg(this.buf,this.pos)+Rg(this.buf,this.pos+4)*jm;return this.pos+=8,I},readSFixed64:function(){var I=Rg(this.buf,this.pos)+w2(this.buf,this.pos+4)*jm;return this.pos+=8,I},readFloat:function(){var I=Lg.read(this.buf,this.pos,!0,23,4);return this.pos+=4,I},readDouble:function(){var I=Lg.read(this.buf,this.pos,!0,52,8);return this.pos+=8,I},readVarint:function(I){var k=this.buf,G,ie;return ie=k[this.pos++],G=ie&127,ie<128||(ie=k[this.pos++],G|=(ie&127)<<7,ie<128)||(ie=k[this.pos++],G|=(ie&127)<<14,ie<128)||(ie=k[this.pos++],G|=(ie&127)<<21,ie<128)?G:(ie=k[this.pos],G|=(ie&15)<<28,hE(G,I,this))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var I=this.readVarint();return I%2===1?(I+1)/-2:I/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var I=this.readVarint()+this.pos,k=this.pos;return this.pos=I,I-k>=cE&&x2?EE(this.buf,k,I):ME(this.buf,k,I)},readBytes:function(){var I=this.readVarint()+this.pos,k=this.buf.subarray(this.pos,I);return this.pos=I,k},readPackedVarint:function(I,k){if(this.type!==Di.Bytes)return I.push(this.readVarint(k));var G=kc(this);for(I=I||[];this.pos<G;)I.push(this.readVarint(k));return I},readPackedSVarint:function(I){if(this.type!==Di.Bytes)return I.push(this.readSVarint());var k=kc(this);for(I=I||[];this.pos<k;)I.push(this.readSVarint());return I},readPackedBoolean:function(I){if(this.type!==Di.Bytes)return I.push(this.readBoolean());var k=kc(this);for(I=I||[];this.pos<k;)I.push(this.readBoolean());return I},readPackedFloat:function(I){if(this.type!==Di.Bytes)return I.push(this.readFloat());var k=kc(this);for(I=I||[];this.pos<k;)I.push(this.readFloat());return I},readPackedDouble:function(I){if(this.type!==Di.Bytes)return I.push(this.readDouble());var k=kc(this);for(I=I||[];this.pos<k;)I.push(this.readDouble());return I},readPackedFixed32:function(I){if(this.type!==Di.Bytes)return I.push(this.readFixed32());var k=kc(this);for(I=I||[];this.pos<k;)I.push(this.readFixed32());return I},readPackedSFixed32:function(I){if(this.type!==Di.Bytes)return I.push(this.readSFixed32());var k=kc(this);for(I=I||[];this.pos<k;)I.push(this.readSFixed32());return I},readPackedFixed64:function(I){if(this.type!==Di.Bytes)return I.push(this.readFixed64());var k=kc(this);for(I=I||[];this.pos<k;)I.push(this.readFixed64());return I},readPackedSFixed64:function(I){if(this.type!==Di.Bytes)return I.push(this.readSFixed64());var k=kc(this);for(I=I||[];this.pos<k;)I.push(this.readSFixed64());return I},skip:function(I){var k=I&7;if(k===Di.Varint)for(;this.buf[this.pos++]>127;);else if(k===Di.Bytes)this.pos=this.readVarint()+this.pos;else if(k===Di.Fixed32)this.pos+=4;else if(k===Di.Fixed64)this.pos+=8;else throw new Error("Unimplemented type: "+k)},writeTag:function(I,k){this.writeVarint(I<<3|k)},realloc:function(I){for(var k=this.length||16;k<this.pos+I;)k*=2;if(k!==this.length){var G=new Uint8Array(k);G.set(this.buf),this.buf=G,this.length=k}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(I){this.realloc(4),dd(this.buf,I,this.pos),this.pos+=4},writeSFixed32:function(I){this.realloc(4),dd(this.buf,I,this.pos),this.pos+=4},writeFixed64:function(I){this.realloc(8),dd(this.buf,I&-1,this.pos),dd(this.buf,Math.floor(I*m2),this.pos+4),this.pos+=8},writeSFixed64:function(I){this.realloc(8),dd(this.buf,I&-1,this.pos),dd(this.buf,Math.floor(I*m2),this.pos+4),this.pos+=8},writeVarint:function(I){if(I=+I||0,I>268435455||I<0){vE(I,this);return}this.realloc(4),this.buf[this.pos++]=I&127|(I>127?128:0),!(I<=127)&&(this.buf[this.pos++]=(I>>>=7)&127|(I>127?128:0),!(I<=127)&&(this.buf[this.pos++]=(I>>>=7)&127|(I>127?128:0),!(I<=127)&&(this.buf[this.pos++]=I>>>7&127)))},writeSVarint:function(I){this.writeVarint(I<0?-I*2-1:I*2)},writeBoolean:function(I){this.writeVarint(!!I)},writeString:function(I){I=String(I),this.realloc(I.length*4),this.pos++;var k=this.pos;this.pos=CE(this.buf,I,this.pos);var G=this.pos-k;G>=128&&b2(k,G,this),this.pos=k-1,this.writeVarint(G),this.pos+=G},writeFloat:function(I){this.realloc(4),Lg.write(this.buf,I,this.pos,!0,23,4),this.pos+=4},writeDouble:function(I){this.realloc(8),Lg.write(this.buf,I,this.pos,!0,52,8),this.pos+=8},writeBytes:function(I){var k=I.length;this.writeVarint(k),this.realloc(k);for(var G=0;G<k;G++)this.buf[this.pos++]=I[G]},writeRawMessage:function(I,k){this.pos++;var G=this.pos;I(k,this);var ie=this.pos-G;ie>=128&&b2(G,ie,this),this.pos=G-1,this.writeVarint(ie),this.pos+=ie},writeMessage:function(I,k,G){this.writeTag(I,Di.Bytes),this.writeRawMessage(k,G)},writePackedVarint:function(I,k){k.length&&this.writeMessage(I,gE,k)},writePackedSVarint:function(I,k){k.length&&this.writeMessage(I,yE,k)},writePackedBoolean:function(I,k){k.length&&this.writeMessage(I,bE,k)},writePackedFloat:function(I,k){k.length&&this.writeMessage(I,mE,k)},writePackedDouble:function(I,k){k.length&&this.writeMessage(I,xE,k)},writePackedFixed32:function(I,k){k.length&&this.writeMessage(I,wE,k)},writePackedSFixed32:function(I,k){k.length&&this.writeMessage(I,TE,k)},writePackedFixed64:function(I,k){k.length&&this.writeMessage(I,AE,k)},writePackedSFixed64:function(I,k){k.length&&this.writeMessage(I,SE,k)},writeBytesField:function(I,k){this.writeTag(I,Di.Bytes),this.writeBytes(k)},writeFixed32Field:function(I,k){this.writeTag(I,Di.Fixed32),this.writeFixed32(k)},writeSFixed32Field:function(I,k){this.writeTag(I,Di.Fixed32),this.writeSFixed32(k)},writeFixed64Field:function(I,k){this.writeTag(I,Di.Fixed64),this.writeFixed64(k)},writeSFixed64Field:function(I,k){this.writeTag(I,Di.Fixed64),this.writeSFixed64(k)},writeVarintField:function(I,k){this.writeTag(I,Di.Varint),this.writeVarint(k)},writeSVarintField:function(I,k){this.writeTag(I,Di.Varint),this.writeSVarint(k)},writeStringField:function(I,k){this.writeTag(I,Di.Bytes),this.writeString(k)},writeFloatField:function(I,k){this.writeTag(I,Di.Fixed32),this.writeFloat(k)},writeDoubleField:function(I,k){this.writeTag(I,Di.Fixed64),this.writeDouble(k)},writeBooleanField:function(I,k){this.writeVarintField(I,!!k)}};function hE(I,k,G){var ie=G.buf,de,Me;if(Me=ie[G.pos++],de=(Me&112)>>4,Me<128||(Me=ie[G.pos++],de|=(Me&127)<<3,Me<128)||(Me=ie[G.pos++],de|=(Me&127)<<10,Me<128)||(Me=ie[G.pos++],de|=(Me&127)<<17,Me<128)||(Me=ie[G.pos++],de|=(Me&127)<<24,Me<128)||(Me=ie[G.pos++],de|=(Me&1)<<31,Me<128))return vd(I,de,k);throw new Error("Expected varint not more than 10 bytes")}function kc(I){return I.type===Di.Bytes?I.readVarint()+I.pos:I.pos+1}function vd(I,k,G){return G?k*4294967296+(I>>>0):(k>>>0)*4294967296+(I>>>0)}function vE(I,k){var G,ie;if(I>=0?(G=I%4294967296|0,ie=I/4294967296|0):(G=~(-I%4294967296),ie=~(-I/4294967296),G^4294967295?G=G+1|0:(G=0,ie=ie+1|0)),I>=18446744073709552e3||I<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");k.realloc(10),dE(G,ie,k),pE(ie,k)}function dE(I,k,G){G.buf[G.pos++]=I&127|128,I>>>=7,G.buf[G.pos++]=I&127|128,I>>>=7,G.buf[G.pos++]=I&127|128,I>>>=7,G.buf[G.pos++]=I&127|128,I>>>=7,G.buf[G.pos]=I&127}function pE(I,k){var G=(I&7)<<4;k.buf[k.pos++]|=G|((I>>>=3)?128:0),I&&(k.buf[k.pos++]=I&127|((I>>>=7)?128:0),I&&(k.buf[k.pos++]=I&127|((I>>>=7)?128:0),I&&(k.buf[k.pos++]=I&127|((I>>>=7)?128:0),I&&(k.buf[k.pos++]=I&127|((I>>>=7)?128:0),I&&(k.buf[k.pos++]=I&127)))))}function b2(I,k,G){var ie=k<=16383?1:k<=2097151?2:k<=268435455?3:Math.floor(Math.log(k)/(Math.LN2*7));G.realloc(ie);for(var de=G.pos-1;de>=I;de--)G.buf[de+ie]=G.buf[de]}function gE(I,k){for(var G=0;G<I.length;G++)k.writeVarint(I[G])}function yE(I,k){for(var G=0;G<I.length;G++)k.writeSVarint(I[G])}function mE(I,k){for(var G=0;G<I.length;G++)k.writeFloat(I[G])}function xE(I,k){for(var G=0;G<I.length;G++)k.writeDouble(I[G])}function bE(I,k){for(var G=0;G<I.length;G++)k.writeBoolean(I[G])}function wE(I,k){for(var G=0;G<I.length;G++)k.writeFixed32(I[G])}function TE(I,k){for(var G=0;G<I.length;G++)k.writeSFixed32(I[G])}function AE(I,k){for(var G=0;G<I.length;G++)k.writeFixed64(I[G])}function SE(I,k){for(var G=0;G<I.length;G++)k.writeSFixed64(I[G])}function Rg(I,k){return(I[k]|I[k+1]<<8|I[k+2]<<16)+I[k+3]*16777216}function dd(I,k,G){I[G]=k,I[G+1]=k>>>8,I[G+2]=k>>>16,I[G+3]=k>>>24}function w2(I,k){return(I[k]|I[k+1]<<8|I[k+2]<<16)+(I[k+3]<<24)}function ME(I,k,G){for(var ie="",de=k;de<G;){var Me=I[de],Ie=null,Ke=Me>239?4:Me>223?3:Me>191?2:1;if(de+Ke>G)break;var ft,Tt,Et;Ke===1?Me<128&&(Ie=Me):Ke===2?(ft=I[de+1],(ft&192)===128&&(Ie=(Me&31)<<6|ft&63,Ie<=127&&(Ie=null))):Ke===3?(ft=I[de+1],Tt=I[de+2],(ft&192)===128&&(Tt&192)===128&&(Ie=(Me&15)<<12|(ft&63)<<6|Tt&63,(Ie<=2047||Ie>=55296&&Ie<=57343)&&(Ie=null))):Ke===4&&(ft=I[de+1],Tt=I[de+2],Et=I[de+3],(ft&192)===128&&(Tt&192)===128&&(Et&192)===128&&(Ie=(Me&15)<<18|(ft&63)<<12|(Tt&63)<<6|Et&63,(Ie<=65535||Ie>=1114112)&&(Ie=null))),Ie===null?(Ie=65533,Ke=1):Ie>65535&&(Ie-=65536,ie+=String.fromCharCode(Ie>>>10&1023|55296),Ie=56320|Ie&1023),ie+=String.fromCharCode(Ie),de+=Ke}return ie}function EE(I,k,G){return x2.decode(I.subarray(k,G))}function CE(I,k,G){for(var ie=0,de,Me;ie<k.length;ie++){if(de=k.charCodeAt(ie),de>55295&&de<57344)if(Me)if(de<56320){I[G++]=239,I[G++]=191,I[G++]=189,Me=de;continue}else de=Me-55296<<10|de-56320|65536,Me=null;else{de>56319||ie+1===k.length?(I[G++]=239,I[G++]=191,I[G++]=189):Me=de;continue}else Me&&(I[G++]=239,I[G++]=191,I[G++]=189,Me=null);de<128?I[G++]=de:(de<2048?I[G++]=de>>6|192:(de<65536?I[G++]=de>>12|224:(I[G++]=de>>18|240,I[G++]=de>>12&63|128),I[G++]=de>>6&63|128),I[G++]=de&63|128)}return G}var Zm=3;function LE(I,k,G){I===1&&G.readMessage(PE,k)}function PE(I,k,G){if(I===3){var ie=G.readMessage(RE,{}),de=ie.id,Me=ie.bitmap,Ie=ie.width,Ke=ie.height,ft=ie.left,Tt=ie.top,Et=ie.advance;k.push({id:de,bitmap:new Cv({width:Ie+2*Zm,height:Ke+2*Zm},Me),metrics:{width:Ie,height:Ke,left:ft,top:Tt,advance:Et}})}}function RE(I,k,G){I===1?k.id=G.readVarint():I===2?k.bitmap=G.readBytes():I===3?k.width=G.readVarint():I===4?k.height=G.readVarint():I===5?k.left=G.readSVarint():I===6?k.top=G.readSVarint():I===7&&(k.advance=G.readVarint())}function DE(I){return new Pg(I).readFields(LE,[])}var T2=Zm;function A2(I){for(var k=0,G=0,ie=0,de=I;ie<de.length;ie+=1){var Me=de[ie];k+=Me.w*Me.h,G=Math.max(G,Me.w)}I.sort(function(ln,qr){return qr.h-ln.h});for(var Ie=Math.max(Math.ceil(Math.sqrt(k/.95)),G),Ke=[{x:0,y:0,w:Ie,h:1/0}],ft=0,Tt=0,Et=0,Wt=I;Et<Wt.length;Et+=1)for(var ir=Wt[Et],qt=Ke.length-1;qt>=0;qt--){var br=Ke[qt];if(!(ir.w>br.w||ir.h>br.h)){if(ir.x=br.x,ir.y=br.y,Tt=Math.max(Tt,ir.y+ir.h),ft=Math.max(ft,ir.x+ir.w),ir.w===br.w&&ir.h===br.h){var Br=Ke.pop();qt<Ke.length&&(Ke[qt]=Br)}else ir.h===br.h?(br.x+=ir.w,br.w-=ir.w):ir.w===br.w?(br.y+=ir.h,br.h-=ir.h):(Ke.push({x:br.x+ir.w,y:br.y,w:br.w-ir.w,h:ir.h}),br.y+=ir.h,br.h-=ir.h);break}}return{w:ft,h:Tt,fill:k/(ft*Tt)||0}}var ll=1,Dg=function(k,G){var ie=G.pixelRatio,de=G.version,Me=G.stretchX,Ie=G.stretchY,Ke=G.content;this.paddedRect=k,this.pixelRatio=ie,this.stretchX=Me,this.stretchY=Ie,this.content=Ke,this.version=de},Vp={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};Vp.tl.get=function(){return[this.paddedRect.x+ll,this.paddedRect.y+ll]},Vp.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-ll,this.paddedRect.y+this.paddedRect.h-ll]},Vp.tlbr.get=function(){return this.tl.concat(this.br)},Vp.displaySize.get=function(){return[(this.paddedRect.w-ll*2)/this.pixelRatio,(this.paddedRect.h-ll*2)/this.pixelRatio]},Object.defineProperties(Dg.prototype,Vp);var Wp=function(k,G){var ie={},de={};this.haveRenderCallbacks=[];var Me=[];this.addImages(k,ie,Me),this.addImages(G,de,Me);var Ie=A2(Me),Ke=Ie.w,ft=Ie.h,Tt=new Hs({width:Ke||1,height:ft||1});for(var Et in k){var Wt=k[Et],ir=ie[Et].paddedRect;Hs.copy(Wt.data,Tt,{x:0,y:0},{x:ir.x+ll,y:ir.y+ll},Wt.data)}for(var qt in G){var br=G[qt],Br=de[qt].paddedRect,ln=Br.x+ll,qr=Br.y+ll,Ln=br.data.width,wn=br.data.height;Hs.copy(br.data,Tt,{x:0,y:0},{x:ln,y:qr},br.data),Hs.copy(br.data,Tt,{x:0,y:wn-1},{x:ln,y:qr-1},{width:Ln,height:1}),Hs.copy(br.data,Tt,{x:0,y:0},{x:ln,y:qr+wn},{width:Ln,height:1}),Hs.copy(br.data,Tt,{x:Ln-1,y:0},{x:ln-1,y:qr},{width:1,height:wn}),Hs.copy(br.data,Tt,{x:0,y:0},{x:ln+Ln,y:qr},{width:1,height:wn})}this.image=Tt,this.iconPositions=ie,this.patternPositions=de};Wp.prototype.addImages=function(k,G,ie){for(var de in k){var Me=k[de],Ie={x:0,y:0,w:Me.data.width+2*ll,h:Me.data.height+2*ll};ie.push(Ie),G[de]=new Dg(Ie,Me),Me.hasRenderCallback&&this.haveRenderCallbacks.push(de)}},Wp.prototype.patchUpdatedImages=function(k,G){k.dispatchRenderCallbacks(this.haveRenderCallbacks);for(var ie in k.updatedImages)this.patchUpdatedImage(this.iconPositions[ie],k.getImage(ie),G),this.patchUpdatedImage(this.patternPositions[ie],k.getImage(ie),G)},Wp.prototype.patchUpdatedImage=function(k,G,ie){if(!(!k||!G)&&k.version!==G.version){k.version=G.version;var de=k.tl,Me=de[0],Ie=de[1];ie.update(G.data,void 0,{x:Me,y:Ie})}},fe("ImagePosition",Dg),fe("ImageAtlas",Wp);var El={horizontal:1,vertical:2,horizontalOnly:3},Gp=-17;function IE(I){for(var k=0,G=I;k<G.length;k+=1){var ie=G[k];if(ie.positionedGlyphs.length!==0)return!1}return!0}var S2=57344,M2=63743,pd=function(){this.scale=1,this.fontStack="",this.imageName=null};pd.forText=function(k,G){var ie=new pd;return ie.scale=k||1,ie.fontStack=G,ie},pd.forImage=function(k){var G=new pd;return G.imageName=k,G};var us=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};us.fromFeature=function(k,G){for(var ie=new us,de=0;de<k.sections.length;de++){var Me=k.sections[de];Me.image?ie.addImageSection(Me):ie.addTextSection(Me,G)}return ie},us.prototype.length=function(){return this.text.length},us.prototype.getSection=function(k){return this.sections[this.sectionIndex[k]]},us.prototype.getSectionIndex=function(k){return this.sectionIndex[k]},us.prototype.getCharCode=function(k){return this.text.charCodeAt(k)},us.prototype.verticalizePunctuation=function(){this.text=lE(this.text)},us.prototype.trim=function(){for(var k=0,G=0;G<this.text.length&&jf[this.text.charCodeAt(G)];G++)k++;for(var ie=this.text.length,de=this.text.length-1;de>=0&&de>=k&&jf[this.text.charCodeAt(de)];de--)ie--;this.text=this.text.substring(k,ie),this.sectionIndex=this.sectionIndex.slice(k,ie)},us.prototype.substring=function(k,G){var ie=new us;return ie.text=this.text.substring(k,G),ie.sectionIndex=this.sectionIndex.slice(k,G),ie.sections=this.sections,ie},us.prototype.toString=function(){return this.text},us.prototype.getMaxScale=function(){var k=this;return this.sectionIndex.reduce(function(G,ie){return Math.max(G,k.sections[ie].scale)},0)},us.prototype.addTextSection=function(k,G){this.text+=k.text,this.sections.push(pd.forText(k.scale,k.fontStack||G));for(var ie=this.sections.length-1,de=0;de<k.text.length;++de)this.sectionIndex.push(ie)},us.prototype.addImageSection=function(k){var G=k.image?k.image.name:"";if(G.length===0){N("Can't add FormattedSection with an empty image.");return}var ie=this.getNextImageSectionCharCode();if(!ie){N("Reached maximum number of images "+(M2-S2+2));return}this.text+=String.fromCharCode(ie),this.sections.push(pd.forImage(G)),this.sectionIndex.push(this.sections.length-1)},us.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=M2?null:++this.imageSectionID:(this.imageSectionID=S2,this.imageSectionID)};function kE(I,k){for(var G=[],ie=I.text,de=0,Me=0,Ie=k;Me<Ie.length;Me+=1){var Ke=Ie[Me];G.push(I.substring(de,Ke)),de=Ke}return de<ie.length&&G.push(I.substring(de,ie.length)),G}function Ig(I,k,G,ie,de,Me,Ie,Ke,ft,Tt,Et,Wt,ir,qt,br,Br){var ln=us.fromFeature(I,de);Wt===El.vertical&&ln.verticalizePunctuation();var qr,Ln=ii.processBidirectionalText,wn=ii.processStyledBidirectionalText;if(Ln&&ln.sections.length===1){qr=[];for(var Cn=Ln(ln.toString(),Xm(ln,Tt,Me,k,ie,qt,br)),_n=0,Gn=Cn;_n<Gn.length;_n+=1){var na=Gn[_n],ra=new us;ra.text=na,ra.sections=ln.sections;for(var Ca=0;Ca<na.length;Ca++)ra.sectionIndex.push(0);qr.push(ra)}}else if(wn){qr=[];for(var va=wn(ln.text,ln.sectionIndex,Xm(ln,Tt,Me,k,ie,qt,br)),xa=0,Ua=va;xa<Ua.length;xa+=1){var Sa=Ua[xa],Ma=new us;Ma.text=Sa[0],Ma.sectionIndex=Sa[1],Ma.sections=ln.sections,qr.push(Ma)}}else qr=kE(ln,Xm(ln,Tt,Me,k,ie,qt,br));var ja=[],Fa={positionedLines:ja,text:ln.toString(),top:Et[1],bottom:Et[1],left:Et[0],right:Et[0],writingMode:Wt,iconsInText:!1,verticalizable:!1};return OE(Fa,k,G,ie,qr,Ie,Ke,ft,Wt,Tt,ir,Br),IE(ja)?!1:Fa}var jf={};jf[9]=!0,jf[10]=!0,jf[11]=!0,jf[12]=!0,jf[13]=!0,jf[32]=!0;var ul={};ul[10]=!0,ul[32]=!0,ul[38]=!0,ul[40]=!0,ul[41]=!0,ul[43]=!0,ul[45]=!0,ul[47]=!0,ul[173]=!0,ul[183]=!0,ul[8203]=!0,ul[8208]=!0,ul[8211]=!0,ul[8231]=!0;function E2(I,k,G,ie,de,Me){if(k.imageName){var ft=ie[k.imageName];return ft?ft.displaySize[0]*k.scale*Yo/Me+de:0}else{var Ie=G[k.fontStack],Ke=Ie&&Ie[I];return Ke?Ke.metrics.advance*k.scale+de:0}}function _E(I,k,G,ie,de,Me){for(var Ie=0,Ke=0;Ke<I.length();Ke++){var ft=I.getSection(Ke);Ie+=E2(I.getCharCode(Ke),ft,ie,de,k,Me)}var Tt=Math.max(1,Math.ceil(Ie/G));return Ie/Tt}function C2(I,k,G,ie){var de=Math.pow(I-k,2);return ie?I<k?de/2:de*2:de+Math.abs(G)*G}function zE(I,k,G){var ie=0;return I===10&&(ie-=1e4),G&&(ie+=150),(I===40||I===65288)&&(ie+=50),(k===41||k===65289)&&(ie+=50),ie}function L2(I,k,G,ie,de,Me){for(var Ie=null,Ke=C2(k,G,de,Me),ft=0,Tt=ie;ft<Tt.length;ft+=1){var Et=Tt[ft],Wt=k-Et.x,ir=C2(Wt,G,de,Me)+Et.badness;ir<=Ke&&(Ie=Et,Ke=ir)}return{index:I,x:k,priorBreak:Ie,badness:Ke}}function P2(I){return I?P2(I.priorBreak).concat(I.index):[]}function Xm(I,k,G,ie,de,Me,Ie){if(Me!=="point")return[];if(!I)return[];for(var Ke=[],ft=_E(I,k,G,ie,de,Ie),Tt=I.text.indexOf("")>=0,Et=0,Wt=0;Wt<I.length();Wt++){var ir=I.getSection(Wt),qt=I.getCharCode(Wt);if(jf[qt]||(Et+=E2(qt,ir,ie,de,k,Ie)),Wt<I.length()-1){var br=Pr(qt);(ul[qt]||br||ir.imageName)&&Ke.push(L2(Wt+1,Et,ft,Ke,zE(qt,I.getCharCode(Wt+1),br&&Tt),!1))}}return P2(L2(I.length(),Et,ft,Ke,0,!0))}function Km(I){var k=.5,G=.5;switch(I){case"right":case"top-right":case"bottom-right":k=1;break;case"left":case"top-left":case"bottom-left":k=0;break}switch(I){case"bottom":case"bottom-right":case"bottom-left":G=1;break;case"top":case"top-right":case"top-left":G=0;break}return{horizontalAlign:k,verticalAlign:G}}function OE(I,k,G,ie,de,Me,Ie,Ke,ft,Tt,Et,Wt){for(var ir=0,qt=Gp,br=0,Br=0,ln=Ke==="right"?1:Ke==="left"?0:.5,qr=0,Ln=0,wn=de;Ln<wn.length;Ln+=1){var Cn=wn[Ln];Cn.trim();var _n=Cn.getMaxScale(),Gn=(_n-1)*Yo,na={positionedGlyphs:[],lineOffset:0};I.positionedLines[qr]=na;var ra=na.positionedGlyphs,Ca=0;if(!Cn.length()){qt+=Me,++qr;continue}for(var va=0;va<Cn.length();va++){var xa=Cn.getSection(va),Ua=Cn.getSectionIndex(va),Sa=Cn.getCharCode(va),Ma=0,ja=null,Fa=null,oi=null,Ti=Yo,si=!(ft===El.horizontal||!Et&&!Cr(Sa)||Et&&(jf[Sa]||Ir(Sa)));if(xa.imageName){var $i=ie[xa.imageName];if(!$i)continue;oi=xa.imageName,I.iconsInText=I.iconsInText||!0,Fa=$i.paddedRect;var ro=$i.displaySize;xa.scale=xa.scale*Yo/Wt,ja={width:ro[0],height:ro[1],left:ll,top:-T2,advance:si?ro[1]:ro[0]};var zo=Yo-ro[1]*xa.scale;Ma=Gn+zo,Ti=ja.advance;var xo=si?ro[0]*xa.scale-Yo*_n:ro[1]*xa.scale-Yo*_n;xo>0&&xo>Ca&&(Ca=xo)}else{var li=G[xa.fontStack],ri=li&&li[Sa];if(ri&&ri.rect)Fa=ri.rect,ja=ri.metrics;else{var Pi=k[xa.fontStack],Ii=Pi&&Pi[Sa];if(!Ii)continue;ja=Ii.metrics}Ma=(_n-xa.scale)*Yo}si?(I.verticalizable=!0,ra.push({glyph:Sa,imageName:oi,x:ir,y:qt+Ma,vertical:si,scale:xa.scale,fontStack:xa.fontStack,sectionIndex:Ua,metrics:ja,rect:Fa}),ir+=Ti*xa.scale+Tt):(ra.push({glyph:Sa,imageName:oi,x:ir,y:qt+Ma,vertical:si,scale:xa.scale,fontStack:xa.fontStack,sectionIndex:Ua,metrics:ja,rect:Fa}),ir+=ja.advance*xa.scale+Tt)}if(ra.length!==0){var fs=ir-Tt;br=Math.max(fs,br),FE(ra,0,ra.length-1,ln,Ca)}ir=0;var cs=Me*_n+Ca;na.lineOffset=Math.max(Ca,Gn),qt+=cs,Br=Math.max(cs,Br),++qr}var Oo=qt-Gp,As=Km(Ie),Ss=As.horizontalAlign,Eo=As.verticalAlign;BE(I.positionedLines,ln,Ss,Eo,br,Br,Me,Oo,de.length),I.top+=-Eo*Oo,I.bottom=I.top+Oo,I.left+=-Ss*br,I.right=I.left+br}function FE(I,k,G,ie,de){if(!(!ie&&!de))for(var Me=I[G],Ie=Me.metrics.advance*Me.scale,Ke=(I[G].x+Ie)*ie,ft=k;ft<=G;ft++)I[ft].x-=Ke,I[ft].y+=de}function BE(I,k,G,ie,de,Me,Ie,Ke,ft){var Tt=(k-G)*de,Et=0;Me!==Ie?Et=-Ke*ie-Gp:Et=(-ie*ft+.5)*Ie;for(var Wt=0,ir=I;Wt<ir.length;Wt+=1)for(var qt=ir[Wt],br=0,Br=qt.positionedGlyphs;br<Br.length;br+=1){var ln=Br[br];ln.x+=Tt,ln.y+=Et}}function NE(I,k,G){var ie=Km(G),de=ie.horizontalAlign,Me=ie.verticalAlign,Ie=k[0],Ke=k[1],ft=Ie-I.displaySize[0]*de,Tt=ft+I.displaySize[0],Et=Ke-I.displaySize[1]*Me,Wt=Et+I.displaySize[1];return{image:I,top:Et,bottom:Wt,left:ft,right:Tt}}function R2(I,k,G,ie,de,Me){var Ie=I.image,Ke;if(Ie.content){var ft=Ie.content,Tt=Ie.pixelRatio||1;Ke=[ft[0]/Tt,ft[1]/Tt,Ie.displaySize[0]-ft[2]/Tt,Ie.displaySize[1]-ft[3]/Tt]}var Et=k.left*Me,Wt=k.right*Me,ir,qt,br,Br;G==="width"||G==="both"?(Br=de[0]+Et-ie[3],qt=de[0]+Wt+ie[1]):(Br=de[0]+(Et+Wt-Ie.displaySize[0])/2,qt=Br+Ie.displaySize[0]);var ln=k.top*Me,qr=k.bottom*Me;return G==="height"||G==="both"?(ir=de[1]+ln-ie[0],br=de[1]+qr+ie[2]):(ir=de[1]+(ln+qr-Ie.displaySize[1])/2,br=ir+Ie.displaySize[1]),{image:Ie,top:ir,right:qt,bottom:br,left:Br,collisionPadding:Ke}}var gd=function(I){function k(G,ie,de,Me){I.call(this,G,ie),this.angle=de,Me!==void 0&&(this.segment=Me)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype.clone=function(){return new k(this.x,this.y,this.angle,this.segment)},k}(t);fe("Anchor",gd);var df=128;function $m(I,k){var G=k.expression;if(G.kind==="constant"){var ie=G.evaluate(new Wn(I+1));return{kind:"constant",layoutSize:ie}}else{if(G.kind==="source")return{kind:"source"};for(var de=G.zoomStops,Me=G.interpolationType,Ie=0;Ie<de.length&&de[Ie]<=I;)Ie++;Ie=Math.max(0,Ie-1);for(var Ke=Ie;Ke<de.length&&de[Ke]<I+1;)Ke++;Ke=Math.min(de.length-1,Ke);var ft=de[Ie],Tt=de[Ke];if(G.kind==="composite")return{kind:"composite",minZoom:ft,maxZoom:Tt,interpolationType:Me};var Et=G.evaluate(new Wn(ft)),Wt=G.evaluate(new Wn(Tt));return{kind:"camera",minZoom:ft,maxZoom:Tt,minSize:Et,maxSize:Wt,interpolationType:Me}}}function D2(I,k,G){var ie=k.uSize,de=k.uSizeT,Me=G.lowerSize,Ie=G.upperSize;return I.kind==="source"?Me/df:I.kind==="composite"?Hi(Me/df,Ie/df,de):ie}function I2(I,k){var G=0,ie=0;if(I.kind==="constant")ie=I.layoutSize;else if(I.kind!=="source"){var de=I.interpolationType,Me=I.minZoom,Ie=I.maxZoom,Ke=de?u(Gi.interpolationFactor(de,k,Me,Ie),0,1):0;I.kind==="camera"?ie=Hi(I.minSize,I.maxSize,Ke):G=Ke}return{uSizeT:G,uSize:ie}}var UE=Object.freeze({__proto__:null,getSizeData:$m,evaluateSizeForFeature:D2,evaluateSizeForZoom:I2,SIZE_PACK_FACTOR:df});function k2(I,k,G,ie,de){if(k.segment===void 0)return!0;for(var Me=k,Ie=k.segment+1,Ke=0;Ke>-G/2;){if(Ie--,Ie<0)return!1;Ke-=I[Ie].dist(Me),Me=I[Ie]}Ke+=I[Ie].dist(I[Ie+1]),Ie++;for(var ft=[],Tt=0;Ke<G/2;){var Et=I[Ie-1],Wt=I[Ie],ir=I[Ie+1];if(!ir)return!1;var qt=Et.angleTo(Wt)-Wt.angleTo(ir);for(qt=Math.abs((qt+3*Math.PI)%(Math.PI*2)-Math.PI),ft.push({distance:Ke,angleDelta:qt}),Tt+=qt;Ke-ft[0].distance>ie;)Tt-=ft.shift().angleDelta;if(Tt>de)return!1;Ie++,Ke+=Wt.dist(ir)}return!0}function _2(I){for(var k=0,G=0;G<I.length-1;G++)k+=I[G].dist(I[G+1]);return k}function z2(I,k,G){return I?.6*k*G:0}function O2(I,k){return Math.max(I?I.right-I.left:0,k?k.right-k.left:0)}function HE(I,k,G,ie,de,Me){for(var Ie=z2(G,de,Me),Ke=O2(G,ie)*Me,ft=0,Tt=_2(I)/2,Et=0;Et<I.length-1;Et++){var Wt=I[Et],ir=I[Et+1],qt=Wt.dist(ir);if(ft+qt>Tt){var br=(Tt-ft)/qt,Br=Hi(Wt.x,ir.x,br),ln=Hi(Wt.y,ir.y,br),qr=new gd(Br,ln,ir.angleTo(Wt),Et);return qr._round(),!Ie||k2(I,qr,Ke,Ie,k)?qr:void 0}ft+=qt}}function VE(I,k,G,ie,de,Me,Ie,Ke,ft){var Tt=z2(ie,Me,Ie),Et=O2(ie,de),Wt=Et*Ie,ir=I[0].x===0||I[0].x===ft||I[0].y===0||I[0].y===ft;k-Wt<k/4&&(k=Wt+k/4);var qt=Me*2,br=ir?k/2*Ke%k:(Et/2+qt)*Ie*Ke%k;return F2(I,br,k,Tt,G,Wt,ir,!1,ft)}function F2(I,k,G,ie,de,Me,Ie,Ke,ft){for(var Tt=Me/2,Et=_2(I),Wt=0,ir=k-G,qt=[],br=0;br<I.length-1;br++){for(var Br=I[br],ln=I[br+1],qr=Br.dist(ln),Ln=ln.angleTo(Br);ir+G<Wt+qr;){ir+=G;var wn=(ir-Wt)/qr,Cn=Hi(Br.x,ln.x,wn),_n=Hi(Br.y,ln.y,wn);if(Cn>=0&&Cn<ft&&_n>=0&&_n<ft&&ir-Tt>=0&&ir+Tt<=Et){var Gn=new gd(Cn,_n,Ln,br);Gn._round(),(!ie||k2(I,Gn,Me,ie,de))&&qt.push(Gn)}}Wt+=qr}return!Ke&&!qt.length&&!Ie&&(qt=F2(I,Wt/2,G,ie,de,Me,Ie,!0,ft)),qt}function B2(I,k,G,ie,de){for(var Me=[],Ie=0;Ie<I.length;Ie++)for(var Ke=I[Ie],ft=void 0,Tt=0;Tt<Ke.length-1;Tt++){var Et=Ke[Tt],Wt=Ke[Tt+1];Et.x<k&&Wt.x<k||(Et.x<k?Et=new t(k,Et.y+(Wt.y-Et.y)*((k-Et.x)/(Wt.x-Et.x)))._round():Wt.x<k&&(Wt=new t(k,Et.y+(Wt.y-Et.y)*((k-Et.x)/(Wt.x-Et.x)))._round()),!(Et.y<G&&Wt.y<G)&&(Et.y<G?Et=new t(Et.x+(Wt.x-Et.x)*((G-Et.y)/(Wt.y-Et.y)),G)._round():Wt.y<G&&(Wt=new t(Et.x+(Wt.x-Et.x)*((G-Et.y)/(Wt.y-Et.y)),G)._round()),!(Et.x>=ie&&Wt.x>=ie)&&(Et.x>=ie?Et=new t(ie,Et.y+(Wt.y-Et.y)*((ie-Et.x)/(Wt.x-Et.x)))._round():Wt.x>=ie&&(Wt=new t(ie,Et.y+(Wt.y-Et.y)*((ie-Et.x)/(Wt.x-Et.x)))._round()),!(Et.y>=de&&Wt.y>=de)&&(Et.y>=de?Et=new t(Et.x+(Wt.x-Et.x)*((de-Et.y)/(Wt.y-Et.y)),de)._round():Wt.y>=de&&(Wt=new t(Et.x+(Wt.x-Et.x)*((de-Et.y)/(Wt.y-Et.y)),de)._round()),(!ft||!Et.equals(ft[ft.length-1]))&&(ft=[Et],Me.push(ft)),ft.push(Wt)))))}return Me}var yd=ll;function N2(I,k,G,ie){var de=[],Me=I.image,Ie=Me.pixelRatio,Ke=Me.paddedRect.w-2*yd,ft=Me.paddedRect.h-2*yd,Tt=I.right-I.left,Et=I.bottom-I.top,Wt=Me.stretchX||[[0,Ke]],ir=Me.stretchY||[[0,ft]],qt=function(li,ri){return li+ri[1]-ri[0]},br=Wt.reduce(qt,0),Br=ir.reduce(qt,0),ln=Ke-br,qr=ft-Br,Ln=0,wn=br,Cn=0,_n=Br,Gn=0,na=ln,ra=0,Ca=qr;if(Me.content&&ie){var va=Me.content;Ln=kg(Wt,0,va[0]),Cn=kg(ir,0,va[1]),wn=kg(Wt,va[0],va[2]),_n=kg(ir,va[1],va[3]),Gn=va[0]-Ln,ra=va[1]-Cn,na=va[2]-va[0]-wn,Ca=va[3]-va[1]-_n}var xa=function(li,ri,Pi,Ii){var $i=_g(li.stretch-Ln,wn,Tt,I.left),ro=zg(li.fixed-Gn,na,li.stretch,br),zo=_g(ri.stretch-Cn,_n,Et,I.top),xo=zg(ri.fixed-ra,Ca,ri.stretch,Br),fs=_g(Pi.stretch-Ln,wn,Tt,I.left),cs=zg(Pi.fixed-Gn,na,Pi.stretch,br),Oo=_g(Ii.stretch-Cn,_n,Et,I.top),As=zg(Ii.fixed-ra,Ca,Ii.stretch,Br),Ss=new t($i,zo),Eo=new t(fs,zo),Ms=new t(fs,Oo),Cl=new t($i,Oo),Oc=new t(ro/Ie,xo/Ie),Sh=new t(cs/Ie,As/Ie),Mh=k*Math.PI/180;if(Mh){var Eh=Math.sin(Mh),Md=Math.cos(Mh),Cu=[Md,-Eh,Eh,Md];Ss._matMult(Cu),Eo._matMult(Cu),Cl._matMult(Cu),Ms._matMult(Cu)}var Hg=li.stretch+li.fixed,ax=Pi.stretch+Pi.fixed,Vg=ri.stretch+ri.fixed,ix=Ii.stretch+Ii.fixed,$l={x:Me.paddedRect.x+yd+Hg,y:Me.paddedRect.y+yd+Vg,w:ax-Hg,h:ix-Vg},Ed=na/Ie/Tt,Wg=Ca/Ie/Et;return{tl:Ss,tr:Eo,bl:Cl,br:Ms,tex:$l,writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Oc,pixelOffsetBR:Sh,minFontScaleX:Ed,minFontScaleY:Wg,isSDF:G}};if(!ie||!Me.stretchX&&!Me.stretchY)de.push(xa({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:Ke+1},{fixed:0,stretch:ft+1}));else for(var Ua=U2(Wt,ln,br),Sa=U2(ir,qr,Br),Ma=0;Ma<Ua.length-1;Ma++)for(var ja=Ua[Ma],Fa=Ua[Ma+1],oi=0;oi<Sa.length-1;oi++){var Ti=Sa[oi],si=Sa[oi+1];de.push(xa(ja,Ti,Fa,si))}return de}function kg(I,k,G){for(var ie=0,de=0,Me=I;de<Me.length;de+=1){var Ie=Me[de];ie+=Math.max(k,Math.min(G,Ie[1]))-Math.max(k,Math.min(G,Ie[0]))}return ie}function U2(I,k,G){for(var ie=[{fixed:-yd,stretch:0}],de=0,Me=I;de<Me.length;de+=1){var Ie=Me[de],Ke=Ie[0],ft=Ie[1],Tt=ie[ie.length-1];ie.push({fixed:Ke-Tt.stretch,stretch:Tt.stretch}),ie.push({fixed:Ke-Tt.stretch,stretch:Tt.stretch+(ft-Ke)})}return ie.push({fixed:k+yd,stretch:G}),ie}function _g(I,k,G,ie){return I/k*G+ie}function zg(I,k,G,ie){return I-k*G/ie}function WE(I,k,G,ie,de,Me,Ie,Ke){for(var ft=ie.layout.get("text-rotate").evaluate(Me,{})*Math.PI/180,Tt=[],Et=0,Wt=k.positionedLines;Et<Wt.length;Et+=1)for(var ir=Wt[Et],qt=0,br=ir.positionedGlyphs;qt<br.length;qt+=1){var Br=br[qt];if(Br.rect){var ln=Br.rect||{},qr=1,Ln=T2+qr,wn=!0,Cn=1,_n=0,Gn=(de||Ke)&&Br.vertical,na=Br.metrics.advance*Br.scale/2;if(Ke&&k.verticalizable){var ra=(Br.scale-1)*Yo,Ca=(Yo-Br.metrics.width*Br.scale)/2;_n=ir.lineOffset/2-(Br.imageName?-Ca:ra)}if(Br.imageName){var va=Ie[Br.imageName];wn=va.sdf,Cn=va.pixelRatio,Ln=ll/Cn}var xa=de?[Br.x+na,Br.y]:[0,0],Ua=de?[0,0]:[Br.x+na+G[0],Br.y+G[1]-_n],Sa=[0,0];Gn&&(Sa=Ua,Ua=[0,0]);var Ma=(Br.metrics.left-Ln)*Br.scale-na+Ua[0],ja=(-Br.metrics.top-Ln)*Br.scale+Ua[1],Fa=Ma+ln.w*Br.scale/Cn,oi=ja+ln.h*Br.scale/Cn,Ti=new t(Ma,ja),si=new t(Fa,ja),li=new t(Ma,oi),ri=new t(Fa,oi);if(Gn){var Pi=new t(-na,na-Gp),Ii=-Math.PI/2,$i=Yo/2-na,ro=Br.imageName?$i:0,zo=new t(5-Gp-$i,-ro),xo=new(Function.prototype.bind.apply(t,[null].concat(Sa)));Ti._rotateAround(Ii,Pi)._add(zo)._add(xo),si._rotateAround(Ii,Pi)._add(zo)._add(xo),li._rotateAround(Ii,Pi)._add(zo)._add(xo),ri._rotateAround(Ii,Pi)._add(zo)._add(xo)}if(ft){var fs=Math.sin(ft),cs=Math.cos(ft),Oo=[cs,-fs,fs,cs];Ti._matMult(Oo),si._matMult(Oo),li._matMult(Oo),ri._matMult(Oo)}var As=new t(0,0),Ss=new t(0,0),Eo=0,Ms=0;Tt.push({tl:Ti,tr:si,bl:li,br:ri,tex:ln,writingMode:k.writingMode,glyphOffset:xa,sectionIndex:Br.sectionIndex,isSDF:wn,pixelOffsetTL:As,pixelOffsetBR:Ss,minFontScaleX:Eo,minFontScaleY:Ms})}}return Tt}var Og=function(k,G,ie,de,Me,Ie,Ke,ft,Tt,Et){if(this.boxStartIndex=k.length,Tt){var Wt=Ie.top,ir=Ie.bottom,qt=Ie.collisionPadding;qt&&(Wt-=qt[1],ir+=qt[3]);var br=ir-Wt;br>0&&(br=Math.max(10,br),this.circleDiameter=br)}else{var Br=Ie.top*Ke-ft,ln=Ie.bottom*Ke+ft,qr=Ie.left*Ke-ft,Ln=Ie.right*Ke+ft,wn=Ie.collisionPadding;if(wn&&(qr-=wn[0]*Ke,Br-=wn[1]*Ke,Ln+=wn[2]*Ke,ln+=wn[3]*Ke),Et){var Cn=new t(qr,Br),_n=new t(Ln,Br),Gn=new t(qr,ln),na=new t(Ln,ln),ra=Et*Math.PI/180;Cn._rotate(ra),_n._rotate(ra),Gn._rotate(ra),na._rotate(ra),qr=Math.min(Cn.x,_n.x,Gn.x,na.x),Ln=Math.max(Cn.x,_n.x,Gn.x,na.x),Br=Math.min(Cn.y,_n.y,Gn.y,na.y),ln=Math.max(Cn.y,_n.y,Gn.y,na.y)}k.emplaceBack(G.x,G.y,qr,Br,Ln,ln,ie,de,Me)}this.boxEndIndex=k.length},md=function(k,G){if(k===void 0&&(k=[]),G===void 0&&(G=GE),this.data=k,this.length=this.data.length,this.compare=G,this.length>0)for(var ie=(this.length>>1)-1;ie>=0;ie--)this._down(ie)};md.prototype.push=function(k){this.data.push(k),this.length++,this._up(this.length-1)},md.prototype.pop=function(){if(this.length!==0){var k=this.data[0],G=this.data.pop();return this.length--,this.length>0&&(this.data[0]=G,this._down(0)),k}},md.prototype.peek=function(){return this.data[0]},md.prototype._up=function(k){for(var G=this,ie=G.data,de=G.compare,Me=ie[k];k>0;){var Ie=k-1>>1,Ke=ie[Ie];if(de(Me,Ke)>=0)break;ie[k]=Ke,k=Ie}ie[k]=Me},md.prototype._down=function(k){for(var G=this,ie=G.data,de=G.compare,Me=this.length>>1,Ie=ie[k];k<Me;){var Ke=(k<<1)+1,ft=ie[Ke],Tt=Ke+1;if(Tt<this.length&&de(ie[Tt],ft)<0&&(Ke=Tt,ft=ie[Tt]),de(ft,Ie)>=0)break;ie[k]=ft,k=Ke}ie[k]=Ie};function GE(I,k){return I<k?-1:I>k?1:0}function YE(I,k,G){k===void 0&&(k=1),G===void 0&&(G=!1);for(var ie=1/0,de=1/0,Me=-1/0,Ie=-1/0,Ke=I[0],ft=0;ft<Ke.length;ft++){var Tt=Ke[ft];(!ft||Tt.x<ie)&&(ie=Tt.x),(!ft||Tt.y<de)&&(de=Tt.y),(!ft||Tt.x>Me)&&(Me=Tt.x),(!ft||Tt.y>Ie)&&(Ie=Tt.y)}var Et=Me-ie,Wt=Ie-de,ir=Math.min(Et,Wt),qt=ir/2,br=new md([],jE);if(ir===0)return new t(ie,de);for(var Br=ie;Br<Me;Br+=ir)for(var ln=de;ln<Ie;ln+=ir)br.push(new xd(Br+qt,ln+qt,qt,I));for(var qr=XE(I),Ln=br.length;br.length;){var wn=br.pop();(wn.d>qr.d||!qr.d)&&(qr=wn,G&&console.log("found best %d after %d probes",Math.round(1e4*wn.d)/1e4,Ln)),!(wn.max-qr.d<=k)&&(qt=wn.h/2,br.push(new xd(wn.p.x-qt,wn.p.y-qt,qt,I)),br.push(new xd(wn.p.x+qt,wn.p.y-qt,qt,I)),br.push(new xd(wn.p.x-qt,wn.p.y+qt,qt,I)),br.push(new xd(wn.p.x+qt,wn.p.y+qt,qt,I)),Ln+=4)}return G&&(console.log("num probes: "+Ln),console.log("best distance: "+qr.d)),qr.p}function jE(I,k){return k.max-I.max}function xd(I,k,G,ie){this.p=new t(I,k),this.h=G,this.d=ZE(this.p,ie),this.max=this.d+this.h*Math.SQRT2}function ZE(I,k){for(var G=!1,ie=1/0,de=0;de<k.length;de++)for(var Me=k[de],Ie=0,Ke=Me.length,ft=Ke-1;Ie<Ke;ft=Ie++){var Tt=Me[Ie],Et=Me[ft];Tt.y>I.y!=Et.y>I.y&&I.x<(Et.x-Tt.x)*(I.y-Tt.y)/(Et.y-Tt.y)+Tt.x&&(G=!G),ie=Math.min(ie,cf(I,Tt,Et))}return(G?1:-1)*Math.sqrt(ie)}function XE(I){for(var k=0,G=0,ie=0,de=I[0],Me=0,Ie=de.length,Ke=Ie-1;Me<Ie;Ke=Me++){var ft=de[Me],Tt=de[Ke],Et=ft.x*Tt.y-Tt.x*ft.y;G+=(ft.x+Tt.x)*Et,ie+=(ft.y+Tt.y)*Et,k+=Et*3}return new xd(G/k,ie/k,0,I)}var bd=7,Jm=Number.POSITIVE_INFINITY;function H2(I,k){function G(de,Me){var Ie=0,Ke=0;Me<0&&(Me=0);var ft=Me/Math.sqrt(2);switch(de){case"top-right":case"top-left":Ke=ft-bd;break;case"bottom-right":case"bottom-left":Ke=-ft+bd;break;case"bottom":Ke=-Me+bd;break;case"top":Ke=Me-bd;break}switch(de){case"top-right":case"bottom-right":Ie=-ft;break;case"top-left":case"bottom-left":Ie=ft;break;case"left":Ie=Me;break;case"right":Ie=-Me;break}return[Ie,Ke]}function ie(de,Me,Ie){var Ke=0,ft=0;switch(Me=Math.abs(Me),Ie=Math.abs(Ie),de){case"top-right":case"top-left":case"top":ft=Ie-bd;break;case"bottom-right":case"bottom-left":case"bottom":ft=-Ie+bd;break}switch(de){case"top-right":case"bottom-right":case"right":Ke=-Me;break;case"top-left":case"bottom-left":case"left":Ke=Me;break}return[Ke,ft]}return k[1]!==Jm?ie(I,k[0],k[1]):G(I,k[0])}function KE(I,k,G,ie,de,Me,Ie){I.createArrays();var Ke=512*I.overscaling;I.tilePixelRatio=Ra/Ke,I.compareText={},I.iconsNeedLinear=!1;var ft=I.layers[0].layout,Tt=I.layers[0]._unevaluatedLayout._values,Et={};if(I.textSizeData.kind==="composite"){var Wt=I.textSizeData,ir=Wt.minZoom,qt=Wt.maxZoom;Et.compositeTextSizes=[Tt["text-size"].possiblyEvaluate(new Wn(ir),Ie),Tt["text-size"].possiblyEvaluate(new Wn(qt),Ie)]}if(I.iconSizeData.kind==="composite"){var br=I.iconSizeData,Br=br.minZoom,ln=br.maxZoom;Et.compositeIconSizes=[Tt["icon-size"].possiblyEvaluate(new Wn(Br),Ie),Tt["icon-size"].possiblyEvaluate(new Wn(ln),Ie)]}Et.layoutTextSize=Tt["text-size"].possiblyEvaluate(new Wn(I.zoom+1),Ie),Et.layoutIconSize=Tt["icon-size"].possiblyEvaluate(new Wn(I.zoom+1),Ie),Et.textMaxSize=Tt["text-size"].possiblyEvaluate(new Wn(18));for(var qr=ft.get("text-line-height")*Yo,Ln=ft.get("text-rotation-alignment")==="map"&&ft.get("symbol-placement")!=="point",wn=ft.get("text-keep-upright"),Cn=ft.get("text-size"),_n=function(){var ra=na[Gn],Ca=ft.get("text-font").evaluate(ra,{},Ie).join(","),va=Cn.evaluate(ra,{},Ie),xa=Et.layoutTextSize.evaluate(ra,{},Ie),Ua=Et.layoutIconSize.evaluate(ra,{},Ie),Sa={horizontal:{},vertical:void 0},Ma=ra.text,ja=[0,0];if(Ma){var Fa=Ma.toString(),oi=ft.get("text-letter-spacing").evaluate(ra,{},Ie)*Yo,Ti=er(Fa)?oi:0,si=ft.get("text-anchor").evaluate(ra,{},Ie),li=ft.get("text-variable-anchor");if(!li){var ri=ft.get("text-radial-offset").evaluate(ra,{},Ie);ri?ja=H2(si,[ri*Yo,Jm]):ja=ft.get("text-offset").evaluate(ra,{},Ie).map(function(Oc){return Oc*Yo})}var Pi=Ln?"center":ft.get("text-justify").evaluate(ra,{},Ie),Ii=ft.get("symbol-placement"),$i=Ii==="point"?ft.get("text-max-width").evaluate(ra,{},Ie)*Yo:0,ro=function(){I.allowVerticalPlacement&&Ht(Fa)&&(Sa.vertical=Ig(Ma,k,G,de,Ca,$i,qr,si,"left",Ti,ja,El.vertical,!0,Ii,xa,va))};if(!Ln&&li){for(var zo=Pi==="auto"?li.map(function(Oc){return Qm(Oc)}):[Pi],xo=!1,fs=0;fs<zo.length;fs++){var cs=zo[fs];if(!Sa.horizontal[cs])if(xo)Sa.horizontal[cs]=Sa.horizontal[0];else{var Oo=Ig(Ma,k,G,de,Ca,$i,qr,"center",cs,Ti,ja,El.horizontal,!1,Ii,xa,va);Oo&&(Sa.horizontal[cs]=Oo,xo=Oo.positionedLines.length===1)}}ro()}else{Pi==="auto"&&(Pi=Qm(si));var As=Ig(Ma,k,G,de,Ca,$i,qr,si,Pi,Ti,ja,El.horizontal,!1,Ii,xa,va);As&&(Sa.horizontal[Pi]=As),ro(),Ht(Fa)&&Ln&&wn&&(Sa.vertical=Ig(Ma,k,G,de,Ca,$i,qr,si,Pi,Ti,ja,El.vertical,!1,Ii,xa,va))}}var Ss=void 0,Eo=!1;if(ra.icon&&ra.icon.name){var Ms=ie[ra.icon.name];Ms&&(Ss=NE(de[ra.icon.name],ft.get("icon-offset").evaluate(ra,{},Ie),ft.get("icon-anchor").evaluate(ra,{},Ie)),Eo=Ms.sdf,I.sdfIcons===void 0?I.sdfIcons=Ms.sdf:I.sdfIcons!==Ms.sdf&&N("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Ms.pixelRatio!==I.pixelRatio||ft.get("icon-rotate").constantOr(1)!==0)&&(I.iconsNeedLinear=!0))}var Cl=W2(Sa.horizontal)||Sa.vertical;I.iconsInText=Cl?Cl.iconsInText:!1,(Cl||Ss)&&$E(I,ra,Sa,Ss,ie,Et,xa,Ua,ja,Eo,Ie)},Gn=0,na=I.features;Gn<na.length;Gn+=1)_n();Me&&I.generateCollisionDebugBuffers()}function Qm(I){switch(I){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function $E(I,k,G,ie,de,Me,Ie,Ke,ft,Tt,Et){var Wt=Me.textMaxSize.evaluate(k,{});Wt===void 0&&(Wt=Ie);var ir=I.layers[0].layout,qt=ir.get("icon-offset").evaluate(k,{},Et),br=W2(G.horizontal),Br=24,ln=Ie/Br,qr=I.tilePixelRatio*ln,Ln=I.tilePixelRatio*Wt/Br,wn=I.tilePixelRatio*Ke,Cn=I.tilePixelRatio*ir.get("symbol-spacing"),_n=ir.get("text-padding")*I.tilePixelRatio,Gn=ir.get("icon-padding")*I.tilePixelRatio,na=ir.get("text-max-angle")/180*Math.PI,ra=ir.get("text-rotation-alignment")==="map"&&ir.get("symbol-placement")!=="point",Ca=ir.get("icon-rotation-alignment")==="map"&&ir.get("symbol-placement")!=="point",va=ir.get("symbol-placement"),xa=Cn/2,Ua=ir.get("icon-text-fit"),Sa;ie&&Ua!=="none"&&(I.allowVerticalPlacement&&G.vertical&&(Sa=R2(ie,G.vertical,Ua,ir.get("icon-text-fit-padding"),qt,ln)),br&&(ie=R2(ie,br,Ua,ir.get("icon-text-fit-padding"),qt,ln)));var Ma=function(Md,Cu){Cu.x<0||Cu.x>=Ra||Cu.y<0||Cu.y>=Ra||JE(I,Cu,Md,G,ie,de,Sa,I.layers[0],I.collisionBoxArray,k.index,k.sourceLayerIndex,I.index,qr,_n,ra,ft,wn,Gn,Ca,qt,k,Me,Tt,Et,Ie)};if(va==="line")for(var ja=0,Fa=B2(k.geometry,0,0,Ra,Ra);ja<Fa.length;ja+=1)for(var oi=Fa[ja],Ti=VE(oi,Cn,na,G.vertical||br,ie,Br,Ln,I.overscaling,Ra),si=0,li=Ti;si<li.length;si+=1){var ri=li[si],Pi=br;(!Pi||!QE(I,Pi.text,xa,ri))&&Ma(oi,ri)}else if(va==="line-center")for(var Ii=0,$i=k.geometry;Ii<$i.length;Ii+=1){var ro=$i[Ii];if(ro.length>1){var zo=HE(ro,na,G.vertical||br,ie,Br,Ln);zo&&Ma(ro,zo)}}else if(k.type==="Polygon")for(var xo=0,fs=Hm(k.geometry,0);xo<fs.length;xo+=1){var cs=fs[xo],Oo=YE(cs,16);Ma(cs[0],new gd(Oo.x,Oo.y,0))}else if(k.type==="LineString")for(var As=0,Ss=k.geometry;As<Ss.length;As+=1){var Eo=Ss[As];Ma(Eo,new gd(Eo[0].x,Eo[0].y,0))}else if(k.type==="Point")for(var Ms=0,Cl=k.geometry;Ms<Cl.length;Ms+=1)for(var Oc=Cl[Ms],Sh=0,Mh=Oc;Sh<Mh.length;Sh+=1){var Eh=Mh[Sh];Ma([Eh],new gd(Eh.x,Eh.y,0))}}var Yp=255,Th=Yp*df;function V2(I,k,G,ie,de,Me,Ie,Ke,ft,Tt,Et,Wt,ir,qt,br){var Br=WE(k,G,Ke,de,Me,Ie,ie,I.allowVerticalPlacement),ln=I.textSizeData,qr=null;ln.kind==="source"?(qr=[df*de.layout.get("text-size").evaluate(Ie,{})],qr[0]>Th&&N(I.layerIds[0]+': Value for "text-size" is >= '+Yp+'. Reduce your "text-size".')):ln.kind==="composite"&&(qr=[df*qt.compositeTextSizes[0].evaluate(Ie,{},br),df*qt.compositeTextSizes[1].evaluate(Ie,{},br)],(qr[0]>Th||qr[1]>Th)&&N(I.layerIds[0]+': Value for "text-size" is >= '+Yp+'. Reduce your "text-size".')),I.addSymbols(I.text,Br,qr,Ke,Me,Ie,Tt,k,ft.lineStartIndex,ft.lineLength,ir,br);for(var Ln=0,wn=Et;Ln<wn.length;Ln+=1){var Cn=wn[Ln];Wt[Cn]=I.text.placedSymbolArray.length-1}return Br.length*4}function W2(I){for(var k in I)return I[k];return null}function JE(I,k,G,ie,de,Me,Ie,Ke,ft,Tt,Et,Wt,ir,qt,br,Br,ln,qr,Ln,wn,Cn,_n,Gn,na,ra){var Ca,va=I.addToLineVertexArray(k,G),xa,Ua,Sa,Ma,ja=0,Fa=0,oi=0,Ti=0,si=-1,li=-1,ri={},Pi=Ze(""),Ii=0,$i=0;if(Ke._unevaluatedLayout.getValue("text-radial-offset")===void 0?(Ca=Ke.layout.get("text-offset").evaluate(Cn,{},na).map(function(Xp){return Xp*Yo}),Ii=Ca[0],$i=Ca[1]):(Ii=Ke.layout.get("text-radial-offset").evaluate(Cn,{},na)*Yo,$i=Jm),I.allowVerticalPlacement&&ie.vertical){var ro=Ke.layout.get("text-rotate").evaluate(Cn,{},na),zo=ro+90,xo=ie.vertical;Sa=new Og(ft,k,Tt,Et,Wt,xo,ir,qt,br,zo),Ie&&(Ma=new Og(ft,k,Tt,Et,Wt,Ie,ln,qr,br,zo))}if(de){var fs=Ke.layout.get("icon-rotate").evaluate(Cn,{}),cs=Ke.layout.get("icon-text-fit")!=="none",Oo=N2(de,fs,Gn,cs),As=Ie?N2(Ie,fs,Gn,cs):void 0;Ua=new Og(ft,k,Tt,Et,Wt,de,ln,qr,!1,fs),ja=Oo.length*4;var Ss=I.iconSizeData,Eo=null;Ss.kind==="source"?(Eo=[df*Ke.layout.get("icon-size").evaluate(Cn,{})],Eo[0]>Th&&N(I.layerIds[0]+': Value for "icon-size" is >= '+Yp+'. Reduce your "icon-size".')):Ss.kind==="composite"&&(Eo=[df*_n.compositeIconSizes[0].evaluate(Cn,{},na),df*_n.compositeIconSizes[1].evaluate(Cn,{},na)],(Eo[0]>Th||Eo[1]>Th)&&N(I.layerIds[0]+': Value for "icon-size" is >= '+Yp+'. Reduce your "icon-size".')),I.addSymbols(I.icon,Oo,Eo,wn,Ln,Cn,!1,k,va.lineStartIndex,va.lineLength,-1,na),si=I.icon.placedSymbolArray.length-1,As&&(Fa=As.length*4,I.addSymbols(I.icon,As,Eo,wn,Ln,Cn,El.vertical,k,va.lineStartIndex,va.lineLength,-1,na),li=I.icon.placedSymbolArray.length-1)}for(var Ms in ie.horizontal){var Cl=ie.horizontal[Ms];if(!xa){Pi=Ze(Cl.text);var Oc=Ke.layout.get("text-rotate").evaluate(Cn,{},na);xa=new Og(ft,k,Tt,Et,Wt,Cl,ir,qt,br,Oc)}var Sh=Cl.positionedLines.length===1;if(oi+=V2(I,k,Cl,Me,Ke,br,Cn,Br,va,ie.vertical?El.horizontal:El.horizontalOnly,Sh?Object.keys(ie.horizontal):[Ms],ri,si,_n,na),Sh)break}ie.vertical&&(Ti+=V2(I,k,ie.vertical,Me,Ke,br,Cn,Br,va,El.vertical,["vertical"],ri,li,_n,na));var Mh=xa?xa.boxStartIndex:I.collisionBoxArray.length,Eh=xa?xa.boxEndIndex:I.collisionBoxArray.length,Md=Sa?Sa.boxStartIndex:I.collisionBoxArray.length,Cu=Sa?Sa.boxEndIndex:I.collisionBoxArray.length,Hg=Ua?Ua.boxStartIndex:I.collisionBoxArray.length,ax=Ua?Ua.boxEndIndex:I.collisionBoxArray.length,Vg=Ma?Ma.boxStartIndex:I.collisionBoxArray.length,ix=Ma?Ma.boxEndIndex:I.collisionBoxArray.length,$l=-1,Ed=function(Xp,i5){return Xp&&Xp.circleDiameter?Math.max(Xp.circleDiameter,i5):i5};$l=Ed(xa,$l),$l=Ed(Sa,$l),$l=Ed(Ua,$l),$l=Ed(Ma,$l);var Wg=$l>-1?1:0;Wg&&($l*=ra/Yo),I.glyphOffsetArray.length>=wi.MAX_GLYPHS&&N("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Cn.sortKey!==void 0&&I.addToSortKeyRanges(I.symbolInstances.length,Cn.sortKey),I.symbolInstances.emplaceBack(k.x,k.y,ri.right>=0?ri.right:-1,ri.center>=0?ri.center:-1,ri.left>=0?ri.left:-1,ri.vertical||-1,si,li,Pi,Mh,Eh,Md,Cu,Hg,ax,Vg,ix,Tt,oi,Ti,ja,Fa,Wg,0,ir,Ii,$i,$l)}function QE(I,k,G,ie){var de=I.compareText;if(!(k in de))de[k]=[];else for(var Me=de[k],Ie=Me.length-1;Ie>=0;Ie--)if(ie.dist(Me[Ie])<G)return!0;return de[k].push(ie),!1}var qE=hd.VectorTileFeature.types,eC=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Fg(I,k,G,ie,de,Me,Ie,Ke,ft,Tt,Et,Wt,ir){var qt=Ke?Math.min(Th,Math.round(Ke[0])):0,br=Ke?Math.min(Th,Math.round(Ke[1])):0;I.emplaceBack(k,G,Math.round(ie*32),Math.round(de*32),Me,Ie,(qt<<1)+(ft?1:0),br,Tt*16,Et*16,Wt*256,ir*256)}function qm(I,k,G){I.emplaceBack(k.x,k.y,G),I.emplaceBack(k.x,k.y,G),I.emplaceBack(k.x,k.y,G),I.emplaceBack(k.x,k.y,G)}function tC(I){for(var k=0,G=I.sections;k<G.length;k+=1){var ie=G[k];if(on(ie.text))return!0}return!1}var wd=function(k){this.layoutVertexArray=new Hf,this.indexArray=new ff,this.programConfigurations=k,this.segments=new X,this.dynamicLayoutVertexArray=new Cp,this.opacityVertexArray=new Lp,this.placedSymbolArray=new mh};wd.prototype.isEmpty=function(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0},wd.prototype.upload=function(k,G,ie,de){this.isEmpty()||(ie&&(this.layoutVertexBuffer=k.createVertexBuffer(this.layoutVertexArray,Ym.members),this.indexBuffer=k.createIndexBuffer(this.indexArray,G),this.dynamicLayoutVertexBuffer=k.createVertexBuffer(this.dynamicLayoutVertexArray,rE.members,!0),this.opacityVertexBuffer=k.createVertexBuffer(this.opacityVertexArray,eC,!0),this.opacityVertexBuffer.itemSize=1),(ie||de)&&this.programConfigurations.upload(k))},wd.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},fe("SymbolBuffers",wd);var jp=function(k,G,ie){this.layoutVertexArray=new k,this.layoutAttributes=G,this.indexArray=new ie,this.segments=new X,this.collisionVertexArray=new Bs};jp.prototype.upload=function(k){this.layoutVertexBuffer=k.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=k.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=k.createVertexBuffer(this.collisionVertexArray,nE.members,!0)},jp.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},fe("CollisionBuffers",jp);var wi=function(k){this.collisionBoxArray=k.collisionBoxArray,this.zoom=k.zoom,this.overscaling=k.overscaling,this.layers=k.layers,this.layerIds=this.layers.map(function(ft){return ft.id}),this.index=k.index,this.pixelRatio=k.pixelRatio,this.sourceLayerIndex=k.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=sd([]),this.placementViewportMatrix=sd([]);var G=this.layers[0],ie=G._unevaluatedLayout._values;this.textSizeData=$m(this.zoom,ie["text-size"]),this.iconSizeData=$m(this.zoom,ie["icon-size"]);var de=this.layers[0].layout,Me=de.get("symbol-sort-key"),Ie=de.get("symbol-z-order");this.sortFeaturesByKey=Ie!=="viewport-y"&&Me.constantOr(1)!==void 0;var Ke=Ie==="viewport-y"||Ie==="auto"&&!this.sortFeaturesByKey;this.sortFeaturesByY=Ke&&(de.get("text-allow-overlap")||de.get("icon-allow-overlap")||de.get("text-ignore-placement")||de.get("icon-ignore-placement")),de.get("symbol-placement")==="point"&&(this.writingModes=de.get("text-writing-mode").map(function(ft){return El[ft]})),this.stateDependentLayerIds=this.layers.filter(function(ft){return ft.isStateDependent()}).map(function(ft){return ft.id}),this.sourceID=k.sourceID};wi.prototype.createArrays=function(){this.text=new wd(new Va(Ym.members,this.layers,this.zoom,function(k){return/^text/.test(k)})),this.icon=new wd(new Va(Ym.members,this.layers,this.zoom,function(k){return/^icon/.test(k)})),this.glyphOffsetArray=new Xl,this.lineVertexArray=new xg,this.symbolInstances=new mg},wi.prototype.calculateGlyphDependencies=function(k,G,ie,de,Me){for(var Ie=0;Ie<k.length;Ie++)if(G[k.charCodeAt(Ie)]=!0,(ie||de)&&Me){var Ke=Hp[k.charAt(Ie)];Ke&&(G[Ke.charCodeAt(0)]=!0)}},wi.prototype.populate=function(k,G,ie){var de=this.layers[0],Me=de.layout,Ie=Me.get("text-font"),Ke=Me.get("text-field"),ft=Me.get("icon-image"),Tt=(Ke.value.kind!=="constant"||Ke.value.value instanceof oo&&!Ke.value.value.isEmpty()||Ke.value.value.toString().length>0)&&(Ie.value.kind!=="constant"||Ie.value.value.length>0),Et=ft.value.kind!=="constant"||!!ft.value.value||Object.keys(ft.parameters).length>0,Wt=Me.get("symbol-sort-key");if(this.features=[],!(!Tt&&!Et)){for(var ir=G.iconDependencies,qt=G.glyphDependencies,br=G.availableImages,Br=new Wn(this.zoom),ln=0,qr=k;ln<qr.length;ln+=1){var Ln=qr[ln],wn=Ln.feature,Cn=Ln.id,_n=Ln.index,Gn=Ln.sourceLayerIndex,na=de._featureFilter.needGeometry,ra={type:wn.type,id:Cn,properties:wn.properties,geometry:na?gi(wn):[]};if(de._featureFilter.filter(Br,ra,ie)){na||(ra.geometry=gi(wn));var Ca=void 0;if(Tt){var va=de.getValueAndResolveTokens("text-field",ra,ie,br),xa=oo.factory(va);tC(xa)&&(this.hasRTLText=!0),(!this.hasRTLText||Ha()==="unavailable"||this.hasRTLText&&ii.isParsed())&&(Ca=oE(xa,de,ra))}var Ua=void 0;if(Et){var Sa=de.getValueAndResolveTokens("icon-image",ra,ie,br);Sa instanceof Uo?Ua=Sa:Ua=Uo.fromString(Sa)}if(!(!Ca&&!Ua)){var Ma=this.sortFeaturesByKey?Wt.evaluate(ra,{},ie):void 0,ja={id:Cn,text:Ca,icon:Ua,index:_n,sourceLayerIndex:Gn,geometry:gi(wn),properties:wn.properties,type:qE[wn.type],sortKey:Ma};if(this.features.push(ja),Ua&&(ir[Ua.name]=!0),Ca){var Fa=Ie.evaluate(ra,{},ie).join(","),oi=Me.get("text-rotation-alignment")==="map"&&Me.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(El.vertical)>=0;for(var Ti=0,si=Ca.sections;Ti<si.length;Ti+=1){var li=si[Ti];if(li.image)ir[li.image.name]=!0;else{var ri=Ht(Ca.toString()),Pi=li.fontStack||Fa,Ii=qt[Pi]=qt[Pi]||{};this.calculateGlyphDependencies(li.text,Ii,oi,this.allowVerticalPlacement,ri)}}}}}}Me.get("symbol-placement")==="line"&&(this.features=sE(this.features)),this.sortFeaturesByKey&&this.features.sort(function($i,ro){return $i.sortKey-ro.sortKey})}},wi.prototype.update=function(k,G,ie){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(k,G,this.layers,ie),this.icon.programConfigurations.updatePaintArrays(k,G,this.layers,ie))},wi.prototype.isEmpty=function(){return this.symbolInstances.length===0&&!this.hasRTLText},wi.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},wi.prototype.upload=function(k){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(k),this.iconCollisionBox.upload(k)),this.text.upload(k,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(k,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},wi.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},wi.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},wi.prototype.addToLineVertexArray=function(k,G){var ie=this.lineVertexArray.length;if(k.segment!==void 0){for(var de=k.dist(G[k.segment+1]),Me=k.dist(G[k.segment]),Ie={},Ke=k.segment+1;Ke<G.length;Ke++)Ie[Ke]={x:G[Ke].x,y:G[Ke].y,tileUnitDistanceFromAnchor:de},Ke<G.length-1&&(de+=G[Ke+1].dist(G[Ke]));for(var ft=k.segment||0;ft>=0;ft--)Ie[ft]={x:G[ft].x,y:G[ft].y,tileUnitDistanceFromAnchor:Me},ft>0&&(Me+=G[ft-1].dist(G[ft]));for(var Tt=0;Tt<G.length;Tt++){var Et=Ie[Tt];this.lineVertexArray.emplaceBack(Et.x,Et.y,Et.tileUnitDistanceFromAnchor)}}return{lineStartIndex:ie,lineLength:this.lineVertexArray.length-ie}},wi.prototype.addSymbols=function(k,G,ie,de,Me,Ie,Ke,ft,Tt,Et,Wt,ir){for(var qt=k.indexArray,br=k.layoutVertexArray,Br=k.segments.prepareSegment(4*G.length,br,qt,Ie.sortKey),ln=this.glyphOffsetArray.length,qr=Br.vertexLength,Ln=this.allowVerticalPlacement&&Ke===El.vertical?Math.PI/2:0,wn=Ie.text&&Ie.text.sections,Cn=0;Cn<G.length;Cn++){var _n=G[Cn],Gn=_n.tl,na=_n.tr,ra=_n.bl,Ca=_n.br,va=_n.tex,xa=_n.pixelOffsetTL,Ua=_n.pixelOffsetBR,Sa=_n.minFontScaleX,Ma=_n.minFontScaleY,ja=_n.glyphOffset,Fa=_n.isSDF,oi=_n.sectionIndex,Ti=Br.vertexLength,si=ja[1];Fg(br,ft.x,ft.y,Gn.x,si+Gn.y,va.x,va.y,ie,Fa,xa.x,xa.y,Sa,Ma),Fg(br,ft.x,ft.y,na.x,si+na.y,va.x+va.w,va.y,ie,Fa,Ua.x,xa.y,Sa,Ma),Fg(br,ft.x,ft.y,ra.x,si+ra.y,va.x,va.y+va.h,ie,Fa,xa.x,Ua.y,Sa,Ma),Fg(br,ft.x,ft.y,Ca.x,si+Ca.y,va.x+va.w,va.y+va.h,ie,Fa,Ua.x,Ua.y,Sa,Ma),qm(k.dynamicLayoutVertexArray,ft,Ln),qt.emplaceBack(Ti,Ti+1,Ti+2),qt.emplaceBack(Ti+1,Ti+2,Ti+3),Br.vertexLength+=4,Br.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(ja[0]),(Cn===G.length-1||oi!==G[Cn+1].sectionIndex)&&k.programConfigurations.populatePaintArrays(br.length,Ie,Ie.index,{},ir,wn&&wn[oi])}k.placedSymbolArray.emplaceBack(ft.x,ft.y,ln,this.glyphOffsetArray.length-ln,qr,Tt,Et,ft.segment,ie?ie[0]:0,ie?ie[1]:0,de[0],de[1],Ke,0,!1,0,Wt)},wi.prototype._addCollisionDebugVertex=function(k,G,ie,de,Me,Ie){return G.emplaceBack(0,0),k.emplaceBack(ie.x,ie.y,de,Me,Math.round(Ie.x),Math.round(Ie.y))},wi.prototype.addCollisionDebugVertices=function(k,G,ie,de,Me,Ie,Ke){var ft=Me.segments.prepareSegment(4,Me.layoutVertexArray,Me.indexArray),Tt=ft.vertexLength,Et=Me.layoutVertexArray,Wt=Me.collisionVertexArray,ir=Ke.anchorX,qt=Ke.anchorY;this._addCollisionDebugVertex(Et,Wt,Ie,ir,qt,new t(k,G)),this._addCollisionDebugVertex(Et,Wt,Ie,ir,qt,new t(ie,G)),this._addCollisionDebugVertex(Et,Wt,Ie,ir,qt,new t(ie,de)),this._addCollisionDebugVertex(Et,Wt,Ie,ir,qt,new t(k,de)),ft.vertexLength+=4;var br=Me.indexArray;br.emplaceBack(Tt,Tt+1),br.emplaceBack(Tt+1,Tt+2),br.emplaceBack(Tt+2,Tt+3),br.emplaceBack(Tt+3,Tt),ft.primitiveLength+=4},wi.prototype.addDebugCollisionBoxes=function(k,G,ie,de){for(var Me=k;Me<G;Me++){var Ie=this.collisionBoxArray.get(Me),Ke=Ie.x1,ft=Ie.y1,Tt=Ie.x2,Et=Ie.y2;this.addCollisionDebugVertices(Ke,ft,Tt,Et,de?this.textCollisionBox:this.iconCollisionBox,Ie.anchorPoint,ie)}},wi.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new jp(rd,y2.members,Av),this.iconCollisionBox=new jp(rd,y2.members,Av);for(var k=0;k<this.symbolInstances.length;k++){var G=this.symbolInstances.get(k);this.addDebugCollisionBoxes(G.textBoxStartIndex,G.textBoxEndIndex,G,!0),this.addDebugCollisionBoxes(G.verticalTextBoxStartIndex,G.verticalTextBoxEndIndex,G,!0),this.addDebugCollisionBoxes(G.iconBoxStartIndex,G.iconBoxEndIndex,G,!1),this.addDebugCollisionBoxes(G.verticalIconBoxStartIndex,G.verticalIconBoxEndIndex,G,!1)}},wi.prototype._deserializeCollisionBoxesForSymbol=function(k,G,ie,de,Me,Ie,Ke,ft,Tt){for(var Et={},Wt=G;Wt<ie;Wt++){var ir=k.get(Wt);Et.textBox={x1:ir.x1,y1:ir.y1,x2:ir.x2,y2:ir.y2,anchorPointX:ir.anchorPointX,anchorPointY:ir.anchorPointY},Et.textFeatureIndex=ir.featureIndex;break}for(var qt=de;qt<Me;qt++){var br=k.get(qt);Et.verticalTextBox={x1:br.x1,y1:br.y1,x2:br.x2,y2:br.y2,anchorPointX:br.anchorPointX,anchorPointY:br.anchorPointY},Et.verticalTextFeatureIndex=br.featureIndex;break}for(var Br=Ie;Br<Ke;Br++){var ln=k.get(Br);Et.iconBox={x1:ln.x1,y1:ln.y1,x2:ln.x2,y2:ln.y2,anchorPointX:ln.anchorPointX,anchorPointY:ln.anchorPointY},Et.iconFeatureIndex=ln.featureIndex;break}for(var qr=ft;qr<Tt;qr++){var Ln=k.get(qr);Et.verticalIconBox={x1:Ln.x1,y1:Ln.y1,x2:Ln.x2,y2:Ln.y2,anchorPointX:Ln.anchorPointX,anchorPointY:Ln.anchorPointY},Et.verticalIconFeatureIndex=Ln.featureIndex;break}return Et},wi.prototype.deserializeCollisionBoxes=function(k){this.collisionArrays=[];for(var G=0;G<this.symbolInstances.length;G++){var ie=this.symbolInstances.get(G);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(k,ie.textBoxStartIndex,ie.textBoxEndIndex,ie.verticalTextBoxStartIndex,ie.verticalTextBoxEndIndex,ie.iconBoxStartIndex,ie.iconBoxEndIndex,ie.verticalIconBoxStartIndex,ie.verticalIconBoxEndIndex))}},wi.prototype.hasTextData=function(){return this.text.segments.get().length>0},wi.prototype.hasIconData=function(){return this.icon.segments.get().length>0},wi.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},wi.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},wi.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},wi.prototype.addIndicesForPlacedSymbol=function(k,G){for(var ie=k.placedSymbolArray.get(G),de=ie.vertexStartIndex+ie.numGlyphs*4,Me=ie.vertexStartIndex;Me<de;Me+=4)k.indexArray.emplaceBack(Me,Me+1,Me+2),k.indexArray.emplaceBack(Me+1,Me+2,Me+3)},wi.prototype.getSortedSymbolIndexes=function(k){if(this.sortedAngle===k&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;for(var G=Math.sin(k),ie=Math.cos(k),de=[],Me=[],Ie=[],Ke=0;Ke<this.symbolInstances.length;++Ke){Ie.push(Ke);var ft=this.symbolInstances.get(Ke);de.push(Math.round(G*ft.anchorX+ie*ft.anchorY)|0),Me.push(ft.featureIndex)}return Ie.sort(function(Tt,Et){return de[Tt]-de[Et]||Me[Et]-Me[Tt]}),Ie},wi.prototype.addToSortKeyRanges=function(k,G){var ie=this.sortKeyRanges[this.sortKeyRanges.length-1];ie&&ie.sortKey===G?ie.symbolInstanceEnd=k+1:this.sortKeyRanges.push({sortKey:G,symbolInstanceStart:k,symbolInstanceEnd:k+1})},wi.prototype.sortFeatures=function(k){var G=this;if(this.sortFeaturesByY&&this.sortedAngle!==k&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(k),this.sortedAngle=k,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var ie=0,de=this.symbolInstanceIndexes;ie<de.length;ie+=1){var Me=de[ie],Ie=this.symbolInstances.get(Me);this.featureSortOrder.push(Ie.featureIndex),[Ie.rightJustifiedTextSymbolIndex,Ie.centerJustifiedTextSymbolIndex,Ie.leftJustifiedTextSymbolIndex].forEach(function(Ke,ft,Tt){Ke>=0&&Tt.indexOf(Ke)===ft&&G.addIndicesForPlacedSymbol(G.text,Ke)}),Ie.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,Ie.verticalPlacedTextSymbolIndex),Ie.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,Ie.placedIconSymbolIndex),Ie.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,Ie.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},fe("SymbolBucket",wi,{omit:["layers","collisionBoxArray","features","compareText"]}),wi.MAX_GLYPHS=65535,wi.addDynamicAttributes=qm;function rC(I,k){return k.replace(/{([^{}]+)}/g,function(G,ie){return ie in I?String(I[ie]):""})}var nC=new lo({"symbol-placement":new ma(Zt.layout_symbol["symbol-placement"]),"symbol-spacing":new ma(Zt.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new ma(Zt.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Ea(Zt.layout_symbol["symbol-sort-key"]),"symbol-z-order":new ma(Zt.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new ma(Zt.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new ma(Zt.layout_symbol["icon-ignore-placement"]),"icon-optional":new ma(Zt.layout_symbol["icon-optional"]),"icon-rotation-alignment":new ma(Zt.layout_symbol["icon-rotation-alignment"]),"icon-size":new Ea(Zt.layout_symbol["icon-size"]),"icon-text-fit":new ma(Zt.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new ma(Zt.layout_symbol["icon-text-fit-padding"]),"icon-image":new Ea(Zt.layout_symbol["icon-image"]),"icon-rotate":new Ea(Zt.layout_symbol["icon-rotate"]),"icon-padding":new ma(Zt.layout_symbol["icon-padding"]),"icon-keep-upright":new ma(Zt.layout_symbol["icon-keep-upright"]),"icon-offset":new Ea(Zt.layout_symbol["icon-offset"]),"icon-anchor":new Ea(Zt.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new ma(Zt.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new ma(Zt.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new ma(Zt.layout_symbol["text-rotation-alignment"]),"text-field":new Ea(Zt.layout_symbol["text-field"]),"text-font":new Ea(Zt.layout_symbol["text-font"]),"text-size":new Ea(Zt.layout_symbol["text-size"]),"text-max-width":new Ea(Zt.layout_symbol["text-max-width"]),"text-line-height":new ma(Zt.layout_symbol["text-line-height"]),"text-letter-spacing":new Ea(Zt.layout_symbol["text-letter-spacing"]),"text-justify":new Ea(Zt.layout_symbol["text-justify"]),"text-radial-offset":new Ea(Zt.layout_symbol["text-radial-offset"]),"text-variable-anchor":new ma(Zt.layout_symbol["text-variable-anchor"]),"text-anchor":new Ea(Zt.layout_symbol["text-anchor"]),"text-max-angle":new ma(Zt.layout_symbol["text-max-angle"]),"text-writing-mode":new ma(Zt.layout_symbol["text-writing-mode"]),"text-rotate":new Ea(Zt.layout_symbol["text-rotate"]),"text-padding":new ma(Zt.layout_symbol["text-padding"]),"text-keep-upright":new ma(Zt.layout_symbol["text-keep-upright"]),"text-transform":new Ea(Zt.layout_symbol["text-transform"]),"text-offset":new Ea(Zt.layout_symbol["text-offset"]),"text-allow-overlap":new ma(Zt.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new ma(Zt.layout_symbol["text-ignore-placement"]),"text-optional":new ma(Zt.layout_symbol["text-optional"])}),aC=new lo({"icon-opacity":new Ea(Zt.paint_symbol["icon-opacity"]),"icon-color":new Ea(Zt.paint_symbol["icon-color"]),"icon-halo-color":new Ea(Zt.paint_symbol["icon-halo-color"]),"icon-halo-width":new Ea(Zt.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Ea(Zt.paint_symbol["icon-halo-blur"]),"icon-translate":new ma(Zt.paint_symbol["icon-translate"]),"icon-translate-anchor":new ma(Zt.paint_symbol["icon-translate-anchor"]),"text-opacity":new Ea(Zt.paint_symbol["text-opacity"]),"text-color":new Ea(Zt.paint_symbol["text-color"],{runtimeType:On,getOverride:function(I){return I.textColor},hasOverride:function(I){return!!I.textColor}}),"text-halo-color":new Ea(Zt.paint_symbol["text-halo-color"]),"text-halo-width":new Ea(Zt.paint_symbol["text-halo-width"]),"text-halo-blur":new Ea(Zt.paint_symbol["text-halo-blur"]),"text-translate":new ma(Zt.paint_symbol["text-translate"]),"text-translate-anchor":new ma(Zt.paint_symbol["text-translate-anchor"])}),ex={paint:aC,layout:nC},Td=function(k){this.type=k.property.overrides?k.property.overrides.runtimeType:Dr,this.defaultValue=k};Td.prototype.evaluate=function(k){if(k.formattedSection){var G=this.defaultValue.property.overrides;if(G&&G.hasOverride(k.formattedSection))return G.getOverride(k.formattedSection)}return k.feature&&k.featureState?this.defaultValue.evaluate(k.feature,k.featureState):this.defaultValue.property.specification.default},Td.prototype.eachChild=function(k){if(!this.defaultValue.isConstant()){var G=this.defaultValue.value;k(G._styleExpression.expression)}},Td.prototype.outputDefined=function(){return!1},Td.prototype.serialize=function(){return null},fe("FormatSectionOverride",Td,{omit:["defaultValue"]});var iC=function(I){function k(G){I.call(this,G,ex)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype.recalculate=function(ie,de){if(I.prototype.recalculate.call(this,ie,de),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["icon-rotation-alignment"]="map":this.layout._values["icon-rotation-alignment"]="viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["text-rotation-alignment"]="map":this.layout._values["text-rotation-alignment"]="viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){var Me=this.layout.get("text-writing-mode");if(Me){for(var Ie=[],Ke=0,ft=Me;Ke<ft.length;Ke+=1){var Tt=ft[Ke];Ie.indexOf(Tt)<0&&Ie.push(Tt)}this.layout._values["text-writing-mode"]=Ie}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},k.prototype.getValueAndResolveTokens=function(ie,de,Me,Ie){var Ke=this.layout.get(ie).evaluate(de,{},Me,Ie),ft=this._unevaluatedLayout._values[ie];return!ft.isDataDriven()&&!wl(ft.value)&&Ke?rC(de.properties,Ke):Ke},k.prototype.createBucket=function(ie){return new wi(ie)},k.prototype.queryRadius=function(){return 0},k.prototype.queryIntersectsFeature=function(){return!1},k.prototype._setPaintOverrides=function(){for(var ie=0,de=ex.paint.overridableProperties;ie<de.length;ie+=1){var Me=de[ie];if(k.hasPaintOverride(this.layout,Me)){var Ie=this.paint.get(Me),Ke=new Td(Ie),ft=new il(Ke,Ie.property.specification),Tt=null;Ie.value.kind==="constant"||Ie.value.kind==="source"?Tt=new Yl("source",ft):Tt=new Wo("composite",ft,Ie.value.zoomStops,Ie.value._interpolationType),this.paint._values[Me]=new Ai(Ie.property,Tt,Ie.parameters)}}},k.prototype._handleOverridablePaintPropertyUpdate=function(ie,de,Me){return!this.layout||de.isDataDriven()||Me.isDataDriven()?!1:k.hasPaintOverride(this.layout,ie)},k.hasPaintOverride=function(ie,de){var Me=ie.get("text-field"),Ie=ex.paint.properties[de],Ke=!1,ft=function(Wt){for(var ir=0,qt=Wt;ir<qt.length;ir+=1){var br=qt[ir];if(Ie.overrides&&Ie.overrides.hasOverride(br)){Ke=!0;return}}};if(Me.value.kind==="constant"&&Me.value.value instanceof oo)ft(Me.value.value.sections);else if(Me.value.kind==="source"){var Tt=function(Wt){if(!Ke)if(Wt instanceof Ko&&zi(Wt.value)===fa){var ir=Wt.value;ft(ir.sections)}else Wt instanceof as?ft(Wt.sections):Wt.eachChild(Tt)},Et=Me.value;Et._styleExpression&&Tt(Et._styleExpression.expression)}return Ke},k}(Ri),oC=new lo({"background-color":new ma(Zt.paint_background["background-color"]),"background-pattern":new ji(Zt.paint_background["background-pattern"]),"background-opacity":new ma(Zt.paint_background["background-opacity"])}),sC={paint:oC},lC=function(I){function k(G){I.call(this,G,sC)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k}(Ri),uC=new lo({"raster-opacity":new ma(Zt.paint_raster["raster-opacity"]),"raster-hue-rotate":new ma(Zt.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new ma(Zt.paint_raster["raster-brightness-min"]),"raster-brightness-max":new ma(Zt.paint_raster["raster-brightness-max"]),"raster-saturation":new ma(Zt.paint_raster["raster-saturation"]),"raster-contrast":new ma(Zt.paint_raster["raster-contrast"]),"raster-resampling":new ma(Zt.paint_raster["raster-resampling"]),"raster-fade-duration":new ma(Zt.paint_raster["raster-fade-duration"])}),fC={paint:uC},cC=function(I){function k(G){I.call(this,G,fC)}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k}(Ri);function hC(I){var k=[],G=I.id;return G===void 0&&k.push({message:"layers."+G+': missing required property "id"'}),I.render===void 0&&k.push({message:"layers."+G+': missing required method "render"'}),I.renderingMode&&I.renderingMode!=="2d"&&I.renderingMode!=="3d"&&k.push({message:"layers."+G+': property "renderingMode" must be either "2d" or "3d"'}),k}var vC=function(I){function k(G){I.call(this,G,{}),this.implementation=G}return I&&(k.__proto__=I),k.prototype=Object.create(I&&I.prototype),k.prototype.constructor=k,k.prototype.is3D=function(){return this.implementation.renderingMode==="3d"},k.prototype.hasOffscreenPass=function(){return this.implementation.prerender!==void 0},k.prototype.recalculate=function(){},k.prototype.updateTransitions=function(){},k.prototype.hasTransition=function(){},k.prototype.serialize=function(){},k.prototype.onAdd=function(ie){this.implementation.onAdd&&this.implementation.onAdd(ie,ie.painter.context.gl)},k.prototype.onRemove=function(ie){this.implementation.onRemove&&this.implementation.onRemove(ie,ie.painter.context.gl)},k}(Ri),dC={circle:WM,heatmap:ZM,hillshade:$M,fill:w8,"fill-extrusion":H8,line:eE,symbol:iC,background:lC,raster:cC};function pC(I){return I.type==="custom"?new vC(I):new dC[I.type](I)}var G2=self.HTMLImageElement,Y2=self.HTMLCanvasElement,j2=self.HTMLVideoElement,Z2=self.ImageData,Bg=self.ImageBitmap,Lv=function(k,G,ie,de){this.context=k,this.format=ie,this.texture=k.gl.createTexture(),this.update(G,de)};Lv.prototype.update=function(k,G,ie){var de=k.width,Me=k.height,Ie=(!this.size||this.size[0]!==de||this.size[1]!==Me)&&!ie,Ke=this,ft=Ke.context,Tt=ft.gl;if(this.useMipmap=!!(G&&G.useMipmap),Tt.bindTexture(Tt.TEXTURE_2D,this.texture),ft.pixelStoreUnpackFlipY.set(!1),ft.pixelStoreUnpack.set(1),ft.pixelStoreUnpackPremultiplyAlpha.set(this.format===Tt.RGBA&&(!G||G.premultiply!==!1)),Ie)this.size=[de,Me],k instanceof G2||k instanceof Y2||k instanceof j2||k instanceof Z2||Bg&&k instanceof Bg?Tt.texImage2D(Tt.TEXTURE_2D,0,this.format,this.format,Tt.UNSIGNED_BYTE,k):Tt.texImage2D(Tt.TEXTURE_2D,0,this.format,de,Me,0,this.format,Tt.UNSIGNED_BYTE,k.data);else{var Et=ie||{x:0,y:0},Wt=Et.x,ir=Et.y;k instanceof G2||k instanceof Y2||k instanceof j2||k instanceof Z2||Bg&&k instanceof Bg?Tt.texSubImage2D(Tt.TEXTURE_2D,0,Wt,ir,Tt.RGBA,Tt.UNSIGNED_BYTE,k):Tt.texSubImage2D(Tt.TEXTURE_2D,0,Wt,ir,de,Me,Tt.RGBA,Tt.UNSIGNED_BYTE,k.data)}this.useMipmap&&this.isSizePowerOfTwo()&&Tt.generateMipmap(Tt.TEXTURE_2D)},Lv.prototype.bind=function(k,G,ie){var de=this,Me=de.context,Ie=Me.gl;Ie.bindTexture(Ie.TEXTURE_2D,this.texture),ie===Ie.LINEAR_MIPMAP_NEAREST&&!this.isSizePowerOfTwo()&&(ie=Ie.LINEAR),k!==this.filter&&(Ie.texParameteri(Ie.TEXTURE_2D,Ie.TEXTURE_MAG_FILTER,k),Ie.texParameteri(Ie.TEXTURE_2D,Ie.TEXTURE_MIN_FILTER,ie||k),this.filter=k),G!==this.wrap&&(Ie.texParameteri(Ie.TEXTURE_2D,Ie.TEXTURE_WRAP_S,G),Ie.texParameteri(Ie.TEXTURE_2D,Ie.TEXTURE_WRAP_T,G),this.wrap=G)},Lv.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1===0},Lv.prototype.destroy=function(){var k=this.context,G=k.gl;G.deleteTexture(this.texture),this.texture=null};var tx=function(k){var G=this;this._callback=k,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){G._triggered=!1,G._callback()})};tx.prototype.trigger=function(){var k=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){k._triggered=!1,k._callback()},0))},tx.prototype.remove=function(){delete this._channel,this._callback=function(){}};var Ad=function(k,G,ie){this.target=k,this.parent=G,this.mapId=ie,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},E(["receive","process"],this),this.invoker=new tx(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=F()?k:self};Ad.prototype.send=function(k,G,ie,de,Me){var Ie=this;Me===void 0&&(Me=!1);var Ke=Math.round(Math.random()*1e18).toString(36).substring(0,10);ie&&(this.callbacks[Ke]=ie);var ft=$(this.globalScope)?void 0:[];return this.target.postMessage({id:Ke,type:k,hasCallback:!!ie,targetMapId:de,mustQueue:Me,sourceMapId:this.mapId,data:rt(G,ft)},ft),{cancel:function(){ie&&delete Ie.callbacks[Ke],Ie.target.postMessage({id:Ke,type:"<cancel>",targetMapId:de,sourceMapId:Ie.mapId})}}},Ad.prototype.receive=function(k){var G=k.data,ie=G.id;if(ie&&!(G.targetMapId&&this.mapId!==G.targetMapId))if(G.type==="<cancel>"){delete this.tasks[ie];var de=this.cancelCallbacks[ie];delete this.cancelCallbacks[ie],de&&de()}else F()||G.mustQueue?(this.tasks[ie]=G,this.taskQueue.push(ie),this.invoker.trigger()):this.processTask(ie,G)},Ad.prototype.process=function(){if(this.taskQueue.length){var k=this.taskQueue.shift(),G=this.tasks[k];delete this.tasks[k],this.taskQueue.length&&this.invoker.trigger(),G&&this.processTask(k,G)}},Ad.prototype.processTask=function(k,G){var ie=this;if(G.type==="<response>"){var de=this.callbacks[k];delete this.callbacks[k],de&&(G.error?de(ot(G.error)):de(null,ot(G.data)))}else{var Me=!1,Ie=$(this.globalScope)?void 0:[],Ke=G.hasCallback?function(ir,qt){Me=!0,delete ie.cancelCallbacks[k],ie.target.postMessage({id:k,type:"<response>",sourceMapId:ie.mapId,error:ir?rt(ir):null,data:rt(qt,Ie)},Ie)}:function(ir){Me=!0},ft=null,Tt=ot(G.data);if(this.parent[G.type])ft=this.parent[G.type](G.sourceMapId,Tt,Ke);else if(this.parent.getWorkerSource){var Et=G.type.split("."),Wt=this.parent.getWorkerSource(G.sourceMapId,Et[0],Tt.source);ft=Wt[Et[1]](Tt,Ke)}else Ke(new Error("Could not find function "+G.type));!Me&&ft&&ft.cancel&&(this.cancelCallbacks[k]=ft.cancel)}},Ad.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};function gC(I,k,G){k=Math.pow(2,G)-k-1;var ie=X2(I*256,k*256,G),de=X2((I+1)*256,(k+1)*256,G);return ie[0]+","+ie[1]+","+de[0]+","+de[1]}function X2(I,k,G){var ie=2*Math.PI*6378137/256/Math.pow(2,G),de=I*ie-2*Math.PI*6378137/2,Me=k*ie-2*Math.PI*6378137/2;return[de,Me]}var yo=function(k,G){k&&(G?this.setSouthWest(k).setNorthEast(G):k.length===4?this.setSouthWest([k[0],k[1]]).setNorthEast([k[2],k[3]]):this.setSouthWest(k[0]).setNorthEast(k[1]))};yo.prototype.setNorthEast=function(k){return this._ne=k instanceof Bi?new Bi(k.lng,k.lat):Bi.convert(k),this},yo.prototype.setSouthWest=function(k){return this._sw=k instanceof Bi?new Bi(k.lng,k.lat):Bi.convert(k),this},yo.prototype.extend=function(k){var G=this._sw,ie=this._ne,de,Me;if(k instanceof Bi)de=k,Me=k;else if(k instanceof yo){if(de=k._sw,Me=k._ne,!de||!Me)return this}else{if(Array.isArray(k))if(k.length===4||k.every(Array.isArray)){var Ie=k;return this.extend(yo.convert(Ie))}else{var Ke=k;return this.extend(Bi.convert(Ke))}return this}return!G&&!ie?(this._sw=new Bi(de.lng,de.lat),this._ne=new Bi(Me.lng,Me.lat)):(G.lng=Math.min(de.lng,G.lng),G.lat=Math.min(de.lat,G.lat),ie.lng=Math.max(Me.lng,ie.lng),ie.lat=Math.max(Me.lat,ie.lat)),this},yo.prototype.getCenter=function(){return new Bi((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},yo.prototype.getSouthWest=function(){return this._sw},yo.prototype.getNorthEast=function(){return this._ne},yo.prototype.getNorthWest=function(){return new Bi(this.getWest(),this.getNorth())},yo.prototype.getSouthEast=function(){return new Bi(this.getEast(),this.getSouth())},yo.prototype.getWest=function(){return this._sw.lng},yo.prototype.getSouth=function(){return this._sw.lat},yo.prototype.getEast=function(){return this._ne.lng},yo.prototype.getNorth=function(){return this._ne.lat},yo.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},yo.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},yo.prototype.isEmpty=function(){return!(this._sw&&this._ne)},yo.prototype.contains=function(k){var G=Bi.convert(k),ie=G.lng,de=G.lat,Me=this._sw.lat<=de&&de<=this._ne.lat,Ie=this._sw.lng<=ie&&ie<=this._ne.lng;return this._sw.lng>this._ne.lng&&(Ie=this._sw.lng>=ie&&ie>=this._ne.lng),Me&&Ie},yo.convert=function(k){return!k||k instanceof yo?k:new yo(k)};var K2=63710088e-1,Bi=function(k,G){if(isNaN(k)||isNaN(G))throw new Error("Invalid LngLat object: ("+k+", "+G+")");if(this.lng=+k,this.lat=+G,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};Bi.prototype.wrap=function(){return new Bi(m(this.lng,-180,180),this.lat)},Bi.prototype.toArray=function(){return[this.lng,this.lat]},Bi.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},Bi.prototype.distanceTo=function(k){var G=Math.PI/180,ie=this.lat*G,de=k.lat*G,Me=Math.sin(ie)*Math.sin(de)+Math.cos(ie)*Math.cos(de)*Math.cos((k.lng-this.lng)*G),Ie=K2*Math.acos(Math.min(Me,1));return Ie},Bi.prototype.toBounds=function(k){k===void 0&&(k=0);var G=40075017,ie=360*k/G,de=ie/Math.cos(Math.PI/180*this.lat);return new yo(new Bi(this.lng-de,this.lat-ie),new Bi(this.lng+de,this.lat+ie))},Bi.convert=function(k){if(k instanceof Bi)return k;if(Array.isArray(k)&&(k.length===2||k.length===3))return new Bi(Number(k[0]),Number(k[1]));if(!Array.isArray(k)&&typeof k=="object"&&k!==null)return new Bi(Number("lng"in k?k.lng:k.lon),Number(k.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var $2=2*Math.PI*K2;function J2(I){return $2*Math.cos(I*Math.PI/180)}function Q2(I){return(180+I)/360}function q2(I){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+I*Math.PI/360)))/360}function e5(I,k){return I/J2(k)}function yC(I){return I*360-180}function rx(I){var k=180-I*360;return 360/Math.PI*Math.atan(Math.exp(k*Math.PI/180))-90}function mC(I,k){return I*J2(rx(k))}function xC(I){return 1/Math.cos(I*Math.PI/180)}var Pv=function(k,G,ie){ie===void 0&&(ie=0),this.x=+k,this.y=+G,this.z=+ie};Pv.fromLngLat=function(k,G){G===void 0&&(G=0);var ie=Bi.convert(k);return new Pv(Q2(ie.lng),q2(ie.lat),e5(G,ie.lat))},Pv.prototype.toLngLat=function(){return new Bi(yC(this.x),rx(this.y))},Pv.prototype.toAltitude=function(){return mC(this.z,this.y)},Pv.prototype.meterInMercatorCoordinateUnits=function(){return 1/$2*xC(rx(this.y))};var Rv=function(k,G,ie){this.z=k,this.x=G,this.y=ie,this.key=Zp(0,k,k,G,ie)};Rv.prototype.equals=function(k){return this.z===k.z&&this.x===k.x&&this.y===k.y},Rv.prototype.url=function(k,G){var ie=gC(this.x,this.y,this.z),de=bC(this.z,this.x,this.y);return k[(this.x+this.y)%k.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String(G==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",de).replace("{bbox-epsg-3857}",ie)},Rv.prototype.getTilePoint=function(k){var G=Math.pow(2,this.z);return new t((k.x*G-this.x)*Ra,(k.y*G-this.y)*Ra)},Rv.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var t5=function(k,G){this.wrap=k,this.canonical=G,this.key=Zp(k,G.z,G.z,G.x,G.y)},mo=function(k,G,ie,de,Me){this.overscaledZ=k,this.wrap=G,this.canonical=new Rv(ie,+de,+Me),this.key=Zp(G,k,ie,de,Me)};mo.prototype.equals=function(k){return this.overscaledZ===k.overscaledZ&&this.wrap===k.wrap&&this.canonical.equals(k.canonical)},mo.prototype.scaledTo=function(k){var G=this.canonical.z-k;return k>this.canonical.z?new mo(k,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new mo(k,this.wrap,k,this.canonical.x>>G,this.canonical.y>>G)},mo.prototype.calculateScaledKey=function(k,G){var ie=this.canonical.z-k;return k>this.canonical.z?Zp(this.wrap*+G,k,this.canonical.z,this.canonical.x,this.canonical.y):Zp(this.wrap*+G,k,k,this.canonical.x>>ie,this.canonical.y>>ie)},mo.prototype.isChildOf=function(k){if(k.wrap!==this.wrap)return!1;var G=this.canonical.z-k.canonical.z;return k.overscaledZ===0||k.overscaledZ<this.overscaledZ&&k.canonical.x===this.canonical.x>>G&&k.canonical.y===this.canonical.y>>G},mo.prototype.children=function(k){if(this.overscaledZ>=k)return[new mo(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var G=this.canonical.z+1,ie=this.canonical.x*2,de=this.canonical.y*2;return[new mo(G,this.wrap,G,ie,de),new mo(G,this.wrap,G,ie+1,de),new mo(G,this.wrap,G,ie,de+1),new mo(G,this.wrap,G,ie+1,de+1)]},mo.prototype.isLessThan=function(k){return this.wrap<k.wrap?!0:this.wrap>k.wrap?!1:this.overscaledZ<k.overscaledZ?!0:this.overscaledZ>k.overscaledZ?!1:this.canonical.x<k.canonical.x?!0:this.canonical.x>k.canonical.x?!1:this.canonical.y<k.canonical.y},mo.prototype.wrapped=function(){return new mo(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},mo.prototype.unwrapTo=function(k){return new mo(this.overscaledZ,k,this.canonical.z,this.canonical.x,this.canonical.y)},mo.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},mo.prototype.toUnwrapped=function(){return new t5(this.wrap,this.canonical)},mo.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},mo.prototype.getTilePoint=function(k){return this.canonical.getTilePoint(new Pv(k.x-this.wrap,k.y))};function Zp(I,k,G,ie,de){I*=2,I<0&&(I=I*-1-1);var Me=1<<G;return(Me*Me*I+Me*de+ie).toString(36)+G.toString(36)+k.toString(36)}function bC(I,k,G){for(var ie="",de,Me=I;Me>0;Me--)de=1<<Me-1,ie+=(k&de?1:0)+(G&de?2:0);return ie}fe("CanonicalTileID",Rv),fe("OverscaledTileID",mo,{omit:["posMatrix"]});var _c=function(k,G,ie){if(this.uid=k,G.height!==G.width)throw new RangeError("DEM tiles must be square");if(ie&&ie!=="mapbox"&&ie!=="terrarium")return N('"'+ie+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=G.height;var de=this.dim=G.height-2;this.data=new Uint32Array(G.data.buffer),this.encoding=ie||"mapbox";for(var Me=0;Me<de;Me++)this.data[this._idx(-1,Me)]=this.data[this._idx(0,Me)],this.data[this._idx(de,Me)]=this.data[this._idx(de-1,Me)],this.data[this._idx(Me,-1)]=this.data[this._idx(Me,0)],this.data[this._idx(Me,de)]=this.data[this._idx(Me,de-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(de,-1)]=this.data[this._idx(de-1,0)],this.data[this._idx(-1,de)]=this.data[this._idx(0,de-1)],this.data[this._idx(de,de)]=this.data[this._idx(de-1,de-1)]};_c.prototype.get=function(k,G){var ie=new Uint8Array(this.data.buffer),de=this._idx(k,G)*4,Me=this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox;return Me(ie[de],ie[de+1],ie[de+2])},_c.prototype.getUnpackVector=function(){return this.encoding==="terrarium"?[256,1,.00390625,32768]:[6553.6,25.6,.1,1e4]},_c.prototype._idx=function(k,G){if(k<-1||k>=this.dim+1||G<-1||G>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(G+1)*this.stride+(k+1)},_c.prototype._unpackMapbox=function(k,G,ie){return(k*256*256+G*256+ie)/10-1e4},_c.prototype._unpackTerrarium=function(k,G,ie){return k*256+G+ie/256-32768},_c.prototype.getPixels=function(){return new Hs({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},_c.prototype.backfillBorder=function(k,G,ie){if(this.dim!==k.dim)throw new Error("dem dimension mismatch");var de=G*this.dim,Me=G*this.dim+this.dim,Ie=ie*this.dim,Ke=ie*this.dim+this.dim;switch(G){case-1:de=Me-1;break;case 1:Me=de+1;break}switch(ie){case-1:Ie=Ke-1;break;case 1:Ke=Ie+1;break}for(var ft=-G*this.dim,Tt=-ie*this.dim,Et=Ie;Et<Ke;Et++)for(var Wt=de;Wt<Me;Wt++)this.data[this._idx(Wt,Et)]=k.data[this._idx(Wt+ft,Et+Tt)]},fe("DEMData",_c);function wC(I,k){var G={};if(!k)return G;for(var ie=function(){var Ie=Me[de],Ke=Ie.layerIds.map(function(Wt){return k.getLayer(Wt)}).filter(Boolean);if(Ke.length!==0){Ie.layers=Ke,Ie.stateDependentLayerIds&&(Ie.stateDependentLayers=Ie.stateDependentLayerIds.map(function(Wt){return Ke.filter(function(ir){return ir.id===Wt})[0]}));for(var ft=0,Tt=Ke;ft<Tt.length;ft+=1){var Et=Tt[ft];G[Et.id]=Ie}}},de=0,Me=I;de<Me.length;de+=1)ie();return G}var Ng=function(k){this._stringToNumber={},this._numberToString=[];for(var G=0;G<k.length;G++){var ie=k[G];this._stringToNumber[ie]=G,this._numberToString[G]=ie}};Ng.prototype.encode=function(k){return this._stringToNumber[k]},Ng.prototype.decode=function(k){return this._numberToString[k]};var Ug=function(k,G,ie,de,Me){this.type="Feature",this._vectorTileFeature=k,k._z=G,k._x=ie,k._y=de,this.properties=k.properties,this.id=Me},nx={geometry:{configurable:!0}};nx.geometry.get=function(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},nx.geometry.set=function(I){this._geometry=I},Ug.prototype.toJSON=function(){var k={geometry:this.geometry};for(var G in this)G==="_geometry"||G==="_vectorTileFeature"||(k[G]=this[G]);return k},Object.defineProperties(Ug.prototype,nx);var Sd=function(){this.state={},this.stateChanges={},this.deletedStates={}};Sd.prototype.updateState=function(k,G,ie){var de=String(G);if(this.stateChanges[k]=this.stateChanges[k]||{},this.stateChanges[k][de]=this.stateChanges[k][de]||{},l(this.stateChanges[k][de],ie),this.deletedStates[k]===null){this.deletedStates[k]={};for(var Me in this.state[k])Me!==de&&(this.deletedStates[k][Me]=null)}else{var Ie=this.deletedStates[k]&&this.deletedStates[k][de]===null;if(Ie){this.deletedStates[k][de]={};for(var Ke in this.state[k][de])ie[Ke]||(this.deletedStates[k][de][Ke]=null)}else for(var ft in ie){var Tt=this.deletedStates[k]&&this.deletedStates[k][de]&&this.deletedStates[k][de][ft]===null;Tt&&delete this.deletedStates[k][de][ft]}}},Sd.prototype.removeFeatureState=function(k,G,ie){var de=this.deletedStates[k]===null;if(!de){var Me=String(G);if(this.deletedStates[k]=this.deletedStates[k]||{},ie&&G!==void 0)this.deletedStates[k][Me]!==null&&(this.deletedStates[k][Me]=this.deletedStates[k][Me]||{},this.deletedStates[k][Me][ie]=null);else if(G!==void 0){var Ie=this.stateChanges[k]&&this.stateChanges[k][Me];if(Ie){this.deletedStates[k][Me]={};for(ie in this.stateChanges[k][Me])this.deletedStates[k][Me][ie]=null}else this.deletedStates[k][Me]=null}else this.deletedStates[k]=null}},Sd.prototype.getState=function(k,G){var ie=String(G),de=this.state[k]||{},Me=this.stateChanges[k]||{},Ie=l({},de[ie],Me[ie]);if(this.deletedStates[k]===null)return{};if(this.deletedStates[k]){var Ke=this.deletedStates[k][G];if(Ke===null)return{};for(var ft in Ke)delete Ie[ft]}return Ie},Sd.prototype.initializeTileState=function(k,G){k.setFeatureState(this.state,G)},Sd.prototype.coalesceChanges=function(k,G){var ie={};for(var de in this.stateChanges){this.state[de]=this.state[de]||{};var Me={};for(var Ie in this.stateChanges[de])this.state[de][Ie]||(this.state[de][Ie]={}),l(this.state[de][Ie],this.stateChanges[de][Ie]),Me[Ie]=this.state[de][Ie];ie[de]=Me}for(var Ke in this.deletedStates){this.state[Ke]=this.state[Ke]||{};var ft={};if(this.deletedStates[Ke]===null)for(var Tt in this.state[Ke])ft[Tt]={},this.state[Ke][Tt]={};else for(var Et in this.deletedStates[Ke]){var Wt=this.deletedStates[Ke][Et]===null;if(Wt)this.state[Ke][Et]={};else for(var ir=0,qt=Object.keys(this.deletedStates[Ke][Et]);ir<qt.length;ir+=1){var br=qt[ir];delete this.state[Ke][Et][br]}ft[Et]=this.state[Ke][Et]}ie[Ke]=ie[Ke]||{},l(ie[Ke],ft)}if(this.stateChanges={},this.deletedStates={},Object.keys(ie).length!==0)for(var Br in k){var ln=k[Br];ln.setFeatureState(ie,G)}};var zc=function(k,G){this.tileID=k,this.x=k.canonical.x,this.y=k.canonical.y,this.z=k.canonical.z,this.grid=new Da(Ra,16,0),this.grid3D=new Da(Ra,16,0),this.featureIndexArray=new Ip,this.promoteId=G};zc.prototype.insert=function(k,G,ie,de,Me,Ie){var Ke=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(ie,de,Me);for(var ft=Ie?this.grid3D:this.grid,Tt=0;Tt<G.length;Tt++){for(var Et=G[Tt],Wt=[1/0,1/0,-1/0,-1/0],ir=0;ir<Et.length;ir++){var qt=Et[ir];Wt[0]=Math.min(Wt[0],qt.x),Wt[1]=Math.min(Wt[1],qt.y),Wt[2]=Math.max(Wt[2],qt.x),Wt[3]=Math.max(Wt[3],qt.y)}Wt[0]<Ra&&Wt[1]<Ra&&Wt[2]>=0&&Wt[3]>=0&&ft.insert(Ke,Wt[0],Wt[1],Wt[2],Wt[3])}},zc.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new hd.VectorTile(new Pg(this.rawTileData)).layers,this.sourceLayerCoder=new Ng(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},zc.prototype.query=function(k,G,ie,de){var Me=this;this.loadVTLayers();for(var Ie=k.params||{},Ke=Ra/k.tileSize/k.scale,ft=af(Ie.filter),Tt=k.queryGeometry,Et=k.queryPadding*Ke,Wt=n5(Tt),ir=this.grid.query(Wt.minX-Et,Wt.minY-Et,Wt.maxX+Et,Wt.maxY+Et),qt=n5(k.cameraQueryGeometry),br=this.grid3D.query(qt.minX-Et,qt.minY-Et,qt.maxX+Et,qt.maxY+Et,function(Gn,na,ra,Ca){return Yf(k.cameraQueryGeometry,Gn-Et,na-Et,ra+Et,Ca+Et)}),Br=0,ln=br;Br<ln.length;Br+=1){var qr=ln[Br];ir.push(qr)}ir.sort(TC);for(var Ln={},wn,Cn=function(Gn){var na=ir[Gn];if(na!==wn){wn=na;var ra=Me.featureIndexArray.get(na),Ca=null;Me.loadMatchingFeature(Ln,ra.bucketIndex,ra.sourceLayerIndex,ra.featureIndex,ft,Ie.layers,Ie.availableImages,G,ie,de,function(va,xa,Ua){return Ca||(Ca=gi(va)),xa.queryIntersectsFeature(Tt,va,Ua,Ca,Me.z,k.transform,Ke,k.pixelPosMatrix)})}},_n=0;_n<ir.length;_n++)Cn(_n);return Ln},zc.prototype.loadMatchingFeature=function(k,G,ie,de,Me,Ie,Ke,ft,Tt,Et,Wt){var ir=this.bucketLayerIDs[G];if(!(Ie&&!O(Ie,ir))){var qt=this.sourceLayerCoder.decode(ie),br=this.vtLayers[qt],Br=br.feature(de);if(Me.filter(new Wn(this.tileID.overscaledZ),Br))for(var ln=this.getId(Br,qt),qr=0;qr<ir.length;qr++){var Ln=ir[qr];if(!(Ie&&Ie.indexOf(Ln)<0)){var wn=ft[Ln];if(wn){var Cn={};ln!==void 0&&Et&&(Cn=Et.getState(wn.sourceLayer||"_geojsonTileLayer",ln));var _n=Tt[Ln];_n.paint=r5(_n.paint,wn.paint,Br,Cn,Ke),_n.layout=r5(_n.layout,wn.layout,Br,Cn,Ke);var Gn=!Wt||Wt(Br,wn,Cn);if(Gn){var na=new Ug(Br,this.z,this.x,this.y,ln);na.layer=_n;var ra=k[Ln];ra===void 0&&(ra=k[Ln]=[]),ra.push({featureIndex:de,feature:na,intersectionZ:Gn})}}}}}},zc.prototype.lookupSymbolFeatures=function(k,G,ie,de,Me,Ie,Ke,ft){var Tt={};this.loadVTLayers();for(var Et=af(Me),Wt=0,ir=k;Wt<ir.length;Wt+=1){var qt=ir[Wt];this.loadMatchingFeature(Tt,ie,de,qt,Et,Ie,Ke,ft,G)}return Tt},zc.prototype.hasLayer=function(k){for(var G=0,ie=this.bucketLayerIDs;G<ie.length;G+=1)for(var de=ie[G],Me=0,Ie=de;Me<Ie.length;Me+=1){var Ke=Ie[Me];if(k===Ke)return!0}return!1},zc.prototype.getId=function(k,G){var ie=k.id;if(this.promoteId){var de=typeof this.promoteId=="string"?this.promoteId:this.promoteId[G];ie=k.properties[de],typeof ie=="boolean"&&(ie=Number(ie))}return ie},fe("FeatureIndex",zc,{omit:["rawTileData","sourceLayerCoder"]});function r5(I,k,G,ie,de){return i(I,function(Me,Ie){var Ke=k instanceof pi?k.get(Ie):null;return Ke&&Ke.evaluate?Ke.evaluate(G,ie,de):Ke})}function n5(I){for(var k=1/0,G=1/0,ie=-1/0,de=-1/0,Me=0,Ie=I;Me<Ie.length;Me+=1){var Ke=Ie[Me];k=Math.min(k,Ke.x),G=Math.min(G,Ke.y),ie=Math.max(ie,Ke.x),de=Math.max(de,Ke.y)}return{minX:k,minY:G,maxX:ie,maxY:de}}function TC(I,k){return k-I}var AC=3e4,_o=function(k,G){this.tileID=k,this.uid=S(),this.uses=0,this.tileSize=G,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};_o.prototype.registerFadeDuration=function(k){var G=k+this.timeAdded;G<le.now()||this.fadeEndTime&&G<this.fadeEndTime||(this.fadeEndTime=G)},_o.prototype.wasRequested=function(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"},_o.prototype.loadVectorData=function(k,G,ie){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",!k){this.collisionBoxArray=new Gf;return}k.featureIndex&&(this.latestFeatureIndex=k.featureIndex,k.rawTileData?(this.latestRawTileData=k.rawTileData,this.latestFeatureIndex.rawTileData=k.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=k.collisionBoxArray,this.buckets=wC(k.buckets,G.style),this.hasSymbolBuckets=!1;for(var de in this.buckets){var Me=this.buckets[de];if(Me instanceof wi)if(this.hasSymbolBuckets=!0,ie)Me.justReloaded=!0;else break}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var Ie in this.buckets){var Ke=this.buckets[Ie];if(Ke instanceof wi&&Ke.hasRTLText){this.hasRTLText=!0,vi();break}}this.queryPadding=0;for(var ft in this.buckets){var Tt=this.buckets[ft];this.queryPadding=Math.max(this.queryPadding,G.style.getLayer(ft).queryRadius(Tt))}k.imageAtlas&&(this.imageAtlas=k.imageAtlas),k.glyphAtlasImage&&(this.glyphAtlasImage=k.glyphAtlasImage)},_o.prototype.unloadVectorData=function(){for(var k in this.buckets)this.buckets[k].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},_o.prototype.getBucket=function(k){return this.buckets[k.id]},_o.prototype.upload=function(k){for(var G in this.buckets){var ie=this.buckets[G];ie.uploadPending()&&ie.upload(k)}var de=k.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Lv(k,this.imageAtlas.image,de.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Lv(k,this.glyphAtlasImage,de.ALPHA),this.glyphAtlasImage=null)},_o.prototype.prepare=function(k){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(k,this.imageAtlasTexture)},_o.prototype.queryRenderedFeatures=function(k,G,ie,de,Me,Ie,Ke,ft,Tt,Et){return!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData?{}:this.latestFeatureIndex.query({queryGeometry:de,cameraQueryGeometry:Me,scale:Ie,tileSize:this.tileSize,pixelPosMatrix:Et,transform:ft,params:Ke,queryPadding:this.queryPadding*Tt},k,G,ie)},_o.prototype.querySourceFeatures=function(k,G){var ie=this.latestFeatureIndex;if(!(!ie||!ie.rawTileData)){var de=ie.loadVTLayers(),Me=G?G.sourceLayer:"",Ie=de._geojsonTileLayer||de[Me];if(Ie)for(var Ke=af(G&&G.filter),ft=this.tileID.canonical,Tt=ft.z,Et=ft.x,Wt=ft.y,ir={z:Tt,x:Et,y:Wt},qt=0;qt<Ie.length;qt++){var br=Ie.feature(qt);if(Ke.filter(new Wn(this.tileID.overscaledZ),br)){var Br=ie.getId(br,Me),ln=new Ug(br,Tt,Et,Wt,Br);ln.tile=ir,k.push(ln)}}}},_o.prototype.hasData=function(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"},_o.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},_o.prototype.setExpiryData=function(k){var G=this.expirationTime;if(k.cacheControl){var ie=V(k.cacheControl);ie["max-age"]&&(this.expirationTime=Date.now()+ie["max-age"]*1e3)}else k.expires&&(this.expirationTime=new Date(k.expires).getTime());if(this.expirationTime){var de=Date.now(),Me=!1;if(this.expirationTime>de)Me=!1;else if(!G)Me=!0;else if(this.expirationTime<G)Me=!0;else{var Ie=this.expirationTime-G;Ie?this.expirationTime=de+Math.max(Ie,AC):Me=!0}Me?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},_o.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)},_o.prototype.setFeatureState=function(k,G){if(!(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(k).length===0)){var ie=this.latestFeatureIndex.loadVTLayers();for(var de in this.buckets)if(G.style.hasLayer(de)){var Me=this.buckets[de],Ie=Me.layers[0].sourceLayer||"_geojsonTileLayer",Ke=ie[Ie],ft=k[Ie];if(!(!Ke||!ft||Object.keys(ft).length===0)){Me.update(ft,Ke,this.imageAtlas&&this.imageAtlas.patternPositions||{});var Tt=G&&G.style&&G.style.getLayer(de);Tt&&(this.queryPadding=Math.max(this.queryPadding,Tt.queryRadius(Me)))}}}},_o.prototype.holdingForFade=function(){return this.symbolFadeHoldUntil!==void 0},_o.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<le.now()},_o.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},_o.prototype.setHoldDuration=function(k){this.symbolFadeHoldUntil=le.now()+k},_o.prototype.setDependencies=function(k,G){for(var ie={},de=0,Me=G;de<Me.length;de+=1){var Ie=Me[de];ie[Ie]=!0}this.dependencies[k]=ie},_o.prototype.hasDependency=function(k,G){for(var ie=0,de=k;ie<de.length;ie+=1){var Me=de[ie],Ie=this.dependencies[Me];if(Ie)for(var Ke=0,ft=G;Ke<ft.length;Ke+=1){var Tt=ft[Ke];if(Ie[Tt])return!0}}return!1};var SC=["type","source","source-layer","minzoom","maxzoom","filter","layout"],Ah=self.performance,a5=function(k){this._marks={start:[k.url,"start"].join("#"),end:[k.url,"end"].join("#"),measure:k.url.toString()},Ah.mark(this._marks.start)};a5.prototype.finish=function(){Ah.mark(this._marks.end);var k=Ah.getEntriesByName(this._marks.measure);return k.length===0&&(Ah.measure(this._marks.measure,this._marks.start,this._marks.end),k=Ah.getEntriesByName(this._marks.measure),Ah.clearMarks(this._marks.start),Ah.clearMarks(this._marks.end),Ah.clearMeasures(this._marks.measure)),k},a.Actor=Ad,a.AlphaImage=Cv,a.CanonicalTileID=Rv,a.CollisionBoxArray=Gf,a.Color=ai,a.DEMData=_c,a.DataConstantProperty=ma,a.DictionaryCoder=Ng,a.EXTENT=Ra,a.ErrorEvent=tr,a.EvaluationParameters=Wn,a.Event=jt,a.Evented=or,a.FeatureIndex=zc,a.FillBucket=hf,a.FillExtrusionBucket=vf,a.ImageAtlas=Wp,a.ImagePosition=Dg,a.LineBucket=Vs,a.LngLat=Bi,a.LngLatBounds=yo,a.MercatorCoordinate=Pv,a.ONE_EM=Yo,a.OverscaledTileID=mo,a.Point=t,a.Point$1=t,a.Properties=lo,a.Protobuf=Pg,a.RGBAImage=Hs,a.RequestManager=Le,a.RequestPerformance=a5,a.ResourceType=ut,a.SegmentVector=X,a.SourceFeatureState=Sd,a.StructArrayLayout1ui2=yh,a.StructArrayLayout2f1f2i16=uf,a.StructArrayLayout2i4=bv,a.StructArrayLayout3ui6=ff,a.StructArrayLayout4i8=Uf,a.SymbolBucket=wi,a.Texture=Lv,a.Tile=_o,a.Transitionable=Ka,a.Uniform1f=Hr,a.Uniform1i=Yr,a.Uniform2f=Jr,a.Uniform3f=fn,a.Uniform4f=Dn,a.UniformColor=Fn,a.UniformMatrix4f=Jn,a.UnwrappedTileID=t5,a.ValidationError=wr,a.WritingMode=El,a.ZoomHistory=Pt,a.add=ud,a.addDynamicAttributes=qm,a.asyncAll=c,a.bezier=o,a.bindAll=E,a.browser=le,a.cacheEntryPossiblyAdded=Gt,a.clamp=u,a.clearTileCache=At,a.clipLine=B2,a.clone=Tg,a.clone$1=b,a.clone$2=Im,a.collisionCircleLayout=aE,a.config=q,a.create=od,a.create$1=Mv,a.create$2=Sv,a.createCommonjsModule=C,a.createExpression=Gl,a.createLayout=Mi,a.createStyleLayer=pC,a.cross=_M,a.deepEqual=s,a.dot=kM,a.dot$1=NM,a.ease=f,a.emitValidationErrors=Pa,a.endsWith=w,a.enforceCacheSizeLimit=Qt,a.evaluateSizeForFeature=D2,a.evaluateSizeForZoom=I2,a.evaluateVariableOffset=H2,a.evented=wa,a.extend=l,a.featureFilter=af,a.filterObject=L,a.fromRotation=id,a.getAnchorAlignment=Km,a.getAnchorJustification=Qm,a.getArrayBuffer=St,a.getImage=je,a.getJSON=xt,a.getRTLTextPluginStatus=Ha,a.getReferrer=Kt,a.getVideo=Ye,a.identity=sd,a.invert=xh,a.isChar=ct,a.isMapboxURL=be,a.keysDifference=h,a.makeRequest=st,a.mapObject=i,a.mercatorXfromLng=Q2,a.mercatorYfromLat=q2,a.mercatorZfromAltitude=e5,a.mul=Dm,a.multiply=bh,a.mvt=hd,a.normalize=_p,a.number=Hi,a.offscreenCanvasSupported=Ar,a.ortho=Rm,a.parseGlyphPBF=DE,a.pbf=Pg,a.performSymbolLayout=KE,a.perspective=kp,a.pick=p,a.plugin=ii,a.polygonIntersectsPolygon=Wa,a.postMapLoadEvent=Je,a.postTurnstileEvent=Ct,a.potpack=A2,a.refProperties=SC,a.register=fe,a.registerForPluginStateChange=La,a.rotate=ls,a.rotateX=Us,a.rotateZ=ld,a.scale=Ns,a.scale$1=BM,a.scale$2=_m,a.setCacheLimits=zt,a.setRTLTextPlugin=Ba,a.sphericalToCartesian=U,a.sqrLen=VM,a.styleSpec=Zt,a.sub=OM,a.symbolSize=UE,a.transformMat3=zM,a.transformMat4=Ag,a.translate=to,a.triggerPluginCompletionEvent=sa,a.uniqueId=S,a.validateCustomStyleLayer=hC,a.validateLight=An,a.validateStyle=bn,a.values=A,a.vectorTile=hd,a.version=T,a.warnOnce=N,a.webpSupported=ee,a.window=self,a.wrap=m}),R(["./shared"],function(a){function C(pt){var st=typeof pt;if(st==="number"||st==="boolean"||st==="string"||pt===void 0||pt===null)return JSON.stringify(pt);if(Array.isArray(pt)){for(var xt="[",St=0,Dt=pt;St<Dt.length;St+=1){var Rt=Dt[St];xt+=C(Rt)+","}return xt+"]"}for(var Bt=Object.keys(pt).sort(),Nt="{",Xt=0;Xt<Bt.length;Xt++)Nt+=JSON.stringify(Bt[Xt])+":"+C(pt[Bt[Xt]])+",";return Nt+"}"}function T(pt){for(var st="",xt=0,St=a.refProperties;xt<St.length;xt+=1){var Dt=St[xt];st+="/"+C(pt[Dt])}return st}function v(pt,st){for(var xt={},St=0;St<pt.length;St++){var Dt=st&&st[pt[St].id]||T(pt[St]);st&&(st[pt[St].id]=Dt);var Rt=xt[Dt];Rt||(Rt=xt[Dt]=[]),Rt.push(pt[St])}var Bt=[];for(var Nt in xt)Bt.push(xt[Nt]);return Bt}var y=function(st){this.keyCache={},st&&this.replace(st)};y.prototype.replace=function(st){this._layerConfigs={},this._layers={},this.update(st,[])},y.prototype.update=function(st,xt){for(var St=this,Dt=0,Rt=st;Dt<Rt.length;Dt+=1){var Bt=Rt[Dt];this._layerConfigs[Bt.id]=Bt;var Nt=this._layers[Bt.id]=a.createStyleLayer(Bt);Nt._featureFilter=a.featureFilter(Nt.filter),this.keyCache[Bt.id]&&delete this.keyCache[Bt.id]}for(var Xt=0,lr=xt;Xt<lr.length;Xt+=1){var sr=lr[Xt];delete this.keyCache[sr],delete this._layerConfigs[sr],delete this._layers[sr]}this.familiesBySource={};for(var dr=v(a.values(this._layerConfigs),this.keyCache),je=0,Ye=dr;je<Ye.length;je+=1){var It=Ye[je],kt=It.map(function(hr){return St._layers[hr.id]}),jt=kt[0];if(jt.visibility!=="none"){var tr=jt.source||"",or=this.familiesBySource[tr];or||(or=this.familiesBySource[tr]={});var rr=jt.sourceLayer||"_geojsonTileLayer",Ot=or[rr];Ot||(Ot=or[rr]=[]),Ot.push(kt)}}};var t=1,r=function(st){var xt={},St=[];for(var Dt in st){var Rt=st[Dt],Bt=xt[Dt]={};for(var Nt in Rt){var Xt=Rt[+Nt];if(!(!Xt||Xt.bitmap.width===0||Xt.bitmap.height===0)){var lr={x:0,y:0,w:Xt.bitmap.width+2*t,h:Xt.bitmap.height+2*t};St.push(lr),Bt[Nt]={rect:lr,metrics:Xt.metrics}}}}var sr=a.potpack(St),dr=sr.w,je=sr.h,Ye=new a.AlphaImage({width:dr||1,height:je||1});for(var It in st){var kt=st[It];for(var jt in kt){var tr=kt[+jt];if(!(!tr||tr.bitmap.width===0||tr.bitmap.height===0)){var or=xt[It][jt].rect;a.AlphaImage.copy(tr.bitmap,Ye,{x:0,y:0},{x:or.x+t,y:or.y+t},tr.bitmap)}}}this.image=Ye,this.positions=xt};a.register("GlyphAtlas",r);var s=function(st){this.tileID=new a.OverscaledTileID(st.tileID.overscaledZ,st.tileID.wrap,st.tileID.canonical.z,st.tileID.canonical.x,st.tileID.canonical.y),this.uid=st.uid,this.zoom=st.zoom,this.pixelRatio=st.pixelRatio,this.tileSize=st.tileSize,this.source=st.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=st.showCollisionBoxes,this.collectResourceTiming=!!st.collectResourceTiming,this.returnDependencies=!!st.returnDependencies,this.promoteId=st.promoteId};s.prototype.parse=function(st,xt,St,Dt,Rt){var Bt=this;this.status="parsing",this.data=st,this.collisionBoxArray=new a.CollisionBoxArray;var Nt=new a.DictionaryCoder(Object.keys(st.layers).sort()),Xt=new a.FeatureIndex(this.tileID,this.promoteId);Xt.bucketLayerIDs=[];var lr={},sr={featureIndex:Xt,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:St},dr=xt.familiesBySource[this.source];for(var je in dr){var Ye=st.layers[je];if(Ye){Ye.version===1&&a.warnOnce('Vector tile source "'+this.source+'" layer "'+je+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var It=Nt.encode(je),kt=[],jt=0;jt<Ye.length;jt++){var tr=Ye.feature(jt),or=Xt.getId(tr,je);kt.push({feature:tr,id:or,index:jt,sourceLayerIndex:It})}for(var rr=0,Ot=dr[je];rr<Ot.length;rr+=1){var hr=Ot[rr],gr=hr[0];if(!(gr.minzoom&&this.zoom<Math.floor(gr.minzoom))&&!(gr.maxzoom&&this.zoom>=gr.maxzoom)&&gr.visibility!=="none"){n(hr,this.zoom,St);var pr=lr[gr.id]=gr.createBucket({index:Xt.bucketLayerIDs.length,layers:hr,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:It,sourceID:this.source});pr.populate(kt,sr,this.tileID.canonical),Xt.bucketLayerIDs.push(hr.map(function(Mr){return Mr.id}))}}}}var vr,Vr,kr,_r,pn=a.mapObject(sr.glyphDependencies,function(Mr){return Object.keys(Mr).map(Number)});Object.keys(pn).length?Dt.send("getGlyphs",{uid:this.uid,stacks:pn},function(Mr,Er){vr||(vr=Mr,Vr=Er,Tn.call(Bt))}):Vr={};var en=Object.keys(sr.iconDependencies);en.length?Dt.send("getImages",{icons:en,source:this.source,tileID:this.tileID,type:"icons"},function(Mr,Er){vr||(vr=Mr,kr=Er,Tn.call(Bt))}):kr={};var Bn=Object.keys(sr.patternDependencies);Bn.length?Dt.send("getImages",{icons:Bn,source:this.source,tileID:this.tileID,type:"patterns"},function(Mr,Er){vr||(vr=Mr,_r=Er,Tn.call(Bt))}):_r={},Tn.call(this);function Tn(){if(vr)return Rt(vr);if(Vr&&kr&&_r){var Mr=new r(Vr),Er=new a.ImageAtlas(kr,_r);for(var Gr in lr){var Ur=lr[Gr];Ur instanceof a.SymbolBucket?(n(Ur.layers,this.zoom,St),a.performSymbolLayout(Ur,Vr,Mr.positions,kr,Er.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):Ur.hasPattern&&(Ur instanceof a.LineBucket||Ur instanceof a.FillBucket||Ur instanceof a.FillExtrusionBucket)&&(n(Ur.layers,this.zoom,St),Ur.addFeatures(sr,this.tileID.canonical,Er.patternPositions))}this.status="done",Rt(null,{buckets:a.values(lr).filter(function(an){return!an.isEmpty()}),featureIndex:Xt,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Mr.image,imageAtlas:Er,glyphMap:this.returnDependencies?Vr:null,iconMap:this.returnDependencies?kr:null,glyphPositions:this.returnDependencies?Mr.positions:null})}}};function n(pt,st,xt){for(var St=new a.EvaluationParameters(st),Dt=0,Rt=pt;Dt<Rt.length;Dt+=1){var Bt=Rt[Dt];Bt.recalculate(St,xt)}}function o(pt,st){var xt=a.getArrayBuffer(pt.request,function(St,Dt,Rt,Bt){St?st(St):Dt&&st(null,{vectorTile:new a.vectorTile.VectorTile(new a.pbf(Dt)),rawData:Dt,cacheControl:Rt,expires:Bt})});return function(){xt.cancel(),st()}}var f=function(st,xt,St,Dt){this.actor=st,this.layerIndex=xt,this.availableImages=St,this.loadVectorData=Dt||o,this.loading={},this.loaded={}};f.prototype.loadTile=function(st,xt){var St=this,Dt=st.uid;this.loading||(this.loading={});var Rt=st&&st.request&&st.request.collectResourceTiming?new a.RequestPerformance(st.request):!1,Bt=this.loading[Dt]=new s(st);Bt.abort=this.loadVectorData(st,function(Nt,Xt){if(delete St.loading[Dt],Nt||!Xt)return Bt.status="done",St.loaded[Dt]=Bt,xt(Nt);var lr=Xt.rawData,sr={};Xt.expires&&(sr.expires=Xt.expires),Xt.cacheControl&&(sr.cacheControl=Xt.cacheControl);var dr={};if(Rt){var je=Rt.finish();je&&(dr.resourceTiming=JSON.parse(JSON.stringify(je)))}Bt.vectorTile=Xt.vectorTile,Bt.parse(Xt.vectorTile,St.layerIndex,St.availableImages,St.actor,function(Ye,It){if(Ye||!It)return xt(Ye);xt(null,a.extend({rawTileData:lr.slice(0)},It,sr,dr))}),St.loaded=St.loaded||{},St.loaded[Dt]=Bt})},f.prototype.reloadTile=function(st,xt){var St=this,Dt=this.loaded,Rt=st.uid,Bt=this;if(Dt&&Dt[Rt]){var Nt=Dt[Rt];Nt.showCollisionBoxes=st.showCollisionBoxes;var Xt=function(lr,sr){var dr=Nt.reloadCallback;dr&&(delete Nt.reloadCallback,Nt.parse(Nt.vectorTile,Bt.layerIndex,St.availableImages,Bt.actor,dr)),xt(lr,sr)};Nt.status==="parsing"?Nt.reloadCallback=Xt:Nt.status==="done"&&(Nt.vectorTile?Nt.parse(Nt.vectorTile,this.layerIndex,this.availableImages,this.actor,Xt):Xt())}},f.prototype.abortTile=function(st,xt){var St=this.loading,Dt=st.uid;St&&St[Dt]&&St[Dt].abort&&(St[Dt].abort(),delete St[Dt]),xt()},f.prototype.removeTile=function(st,xt){var St=this.loaded,Dt=st.uid;St&&St[Dt]&&delete St[Dt],xt()};var u=a.window.ImageBitmap,m=function(){this.loaded={}};m.prototype.loadTile=function(st,xt){var St=st.uid,Dt=st.encoding,Rt=st.rawImageData,Bt=u&&Rt instanceof u?this.getImageData(Rt):Rt,Nt=new a.DEMData(St,Bt,Dt);this.loaded=this.loaded||{},this.loaded[St]=Nt,xt(null,Nt)},m.prototype.getImageData=function(st){(!this.offscreenCanvas||!this.offscreenCanvasContext)&&(this.offscreenCanvas=new OffscreenCanvas(st.width,st.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=st.width,this.offscreenCanvas.height=st.height,this.offscreenCanvasContext.drawImage(st,0,0,st.width,st.height);var xt=this.offscreenCanvasContext.getImageData(-1,-1,st.width+2,st.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new a.RGBAImage({width:xt.width,height:xt.height},xt.data)},m.prototype.removeTile=function(st){var xt=this.loaded,St=st.uid;xt&&xt[St]&&delete xt[St]};var c=A;function A(pt,st){var xt=pt&&pt.type,St;if(xt==="FeatureCollection")for(St=0;St<pt.features.length;St++)A(pt.features[St],st);else if(xt==="GeometryCollection")for(St=0;St<pt.geometries.length;St++)A(pt.geometries[St],st);else if(xt==="Feature")A(pt.geometry,st);else if(xt==="Polygon")h(pt.coordinates,st);else if(xt==="MultiPolygon")for(St=0;St<pt.coordinates.length;St++)h(pt.coordinates[St],st);return pt}function h(pt,st){if(pt.length!==0){l(pt[0],st);for(var xt=1;xt<pt.length;xt++)l(pt[xt],!st)}}function l(pt,st){for(var xt=0,St=0,Dt=pt.length,Rt=Dt-1;St<Dt;Rt=St++)xt+=(pt[St][0]-pt[Rt][0])*(pt[Rt][1]+pt[St][1]);xt>=0!=!!st&&pt.reverse()}var p=a.vectorTile.VectorTileFeature.prototype.toGeoJSON,M=function(st){this._feature=st,this.extent=a.EXTENT,this.type=st.type,this.properties=st.tags,"id"in st&&!isNaN(st.id)&&(this.id=parseInt(st.id,10))};M.prototype.loadGeometry=function(){if(this._feature.type===1){for(var st=[],xt=0,St=this._feature.geometry;xt<St.length;xt+=1){var Dt=St[xt];st.push([new a.Point$1(Dt[0],Dt[1])])}return st}else{for(var Rt=[],Bt=0,Nt=this._feature.geometry;Bt<Nt.length;Bt+=1){for(var Xt=Nt[Bt],lr=[],sr=0,dr=Xt;sr<dr.length;sr+=1){var je=dr[sr];lr.push(new a.Point$1(je[0],je[1]))}Rt.push(lr)}return Rt}},M.prototype.toGeoJSON=function(st,xt,St){return p.call(this,st,xt,St)};var S=function(st){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=a.EXTENT,this.length=st.length,this._features=st};S.prototype.feature=function(st){return new M(this._features[st])};var P=a.vectorTile.VectorTileFeature,x=E;function E(pt,st){this.options=st||{},this.features=pt,this.length=pt.length}E.prototype.feature=function(pt){return new w(this.features[pt],this.options.extent)};function w(pt,st){this.id=typeof pt.id=="number"?pt.id:void 0,this.type=pt.type,this.rawGeometry=pt.type===1?[pt.geometry]:pt.geometry,this.properties=pt.tags,this.extent=st||4096}w.prototype.loadGeometry=function(){var pt=this.rawGeometry;this.geometry=[];for(var st=0;st<pt.length;st++){for(var xt=pt[st],St=[],Dt=0;Dt<xt.length;Dt++)St.push(new a.Point$1(xt[Dt][0],xt[Dt][1]));this.geometry.push(St)}return this.geometry},w.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var pt=this.geometry,st=1/0,xt=-1/0,St=1/0,Dt=-1/0,Rt=0;Rt<pt.length;Rt++)for(var Bt=pt[Rt],Nt=0;Nt<Bt.length;Nt++){var Xt=Bt[Nt];st=Math.min(st,Xt.x),xt=Math.max(xt,Xt.x),St=Math.min(St,Xt.y),Dt=Math.max(Dt,Xt.y)}return[st,St,xt,Dt]},w.prototype.toGeoJSON=P.prototype.toGeoJSON;var i=_,L=_,b=N,O=x;function _(pt){var st=new a.pbf;return z(pt,st),st.finish()}function N(pt,st){st=st||{};var xt={};for(var St in pt)xt[St]=new x(pt[St].features,st),xt[St].name=St,xt[St].version=st.version,xt[St].extent=st.extent;return _({layers:xt})}function z(pt,st){for(var xt in pt.layers)st.writeMessage(3,B,pt.layers[xt])}function B(pt,st){st.writeVarintField(15,pt.version||1),st.writeStringField(1,pt.name||""),st.writeVarintField(5,pt.extent||4096);var xt,St={keys:[],values:[],keycache:{},valuecache:{}};for(xt=0;xt<pt.length;xt++)St.feature=pt.feature(xt),st.writeMessage(2,U,St);var Dt=St.keys;for(xt=0;xt<Dt.length;xt++)st.writeStringField(3,Dt[xt]);var Rt=St.values;for(xt=0;xt<Rt.length;xt++)st.writeMessage(4,ne,Rt[xt])}function U(pt,st){var xt=pt.feature;xt.id!==void 0&&st.writeVarintField(1,xt.id),st.writeMessage(2,F,pt),st.writeVarintField(3,xt.type),st.writeMessage(4,$,xt)}function F(pt,st){var xt=pt.feature,St=pt.keys,Dt=pt.values,Rt=pt.keycache,Bt=pt.valuecache;for(var Nt in xt.properties){var Xt=Rt[Nt];typeof Xt>"u"&&(St.push(Nt),Xt=St.length-1,Rt[Nt]=Xt),st.writeVarint(Xt);var lr=xt.properties[Nt],sr=typeof lr;sr!=="string"&&sr!=="boolean"&&sr!=="number"&&(lr=JSON.stringify(lr));var dr=sr+":"+lr,je=Bt[dr];typeof je>"u"&&(Dt.push(lr),je=Dt.length-1,Bt[dr]=je),st.writeVarint(je)}}function V(pt,st){return(st<<3)+(pt&7)}function j(pt){return pt<<1^pt>>31}function $(pt,st){for(var xt=pt.loadGeometry(),St=pt.type,Dt=0,Rt=0,Bt=xt.length,Nt=0;Nt<Bt;Nt++){var Xt=xt[Nt],lr=1;St===1&&(lr=Xt.length),st.writeVarint(V(1,lr));for(var sr=St===3?Xt.length-1:Xt.length,dr=0;dr<sr;dr++){dr===1&&St!==1&&st.writeVarint(V(2,sr-1));var je=Xt[dr].x-Dt,Ye=Xt[dr].y-Rt;st.writeVarint(j(je)),st.writeVarint(j(Ye)),Dt+=je,Rt+=Ye}St===3&&st.writeVarint(V(7,1))}}function ne(pt,st){var xt=typeof pt;xt==="string"?st.writeStringField(1,pt):xt==="boolean"?st.writeBooleanField(7,pt):xt==="number"&&(pt%1!==0?st.writeDoubleField(3,pt):pt<0?st.writeSVarintField(6,pt):st.writeVarintField(5,pt))}i.fromVectorTileJs=L,i.fromGeojsonVt=b,i.GeoJSONWrapper=O;function oe(pt,st,xt,St,Dt,Rt){if(!(Dt-St<=xt)){var Bt=St+Dt>>1;ce(pt,st,Bt,St,Dt,Rt%2),oe(pt,st,xt,St,Bt-1,Rt+1),oe(pt,st,xt,Bt+1,Dt,Rt+1)}}function ce(pt,st,xt,St,Dt,Rt){for(;Dt>St;){if(Dt-St>600){var Bt=Dt-St+1,Nt=xt-St+1,Xt=Math.log(Bt),lr=.5*Math.exp(2*Xt/3),sr=.5*Math.sqrt(Xt*lr*(Bt-lr)/Bt)*(Nt-Bt/2<0?-1:1),dr=Math.max(St,Math.floor(xt-Nt*lr/Bt+sr)),je=Math.min(Dt,Math.floor(xt+(Bt-Nt)*lr/Bt+sr));ce(pt,st,xt,dr,je,Rt)}var Ye=st[2*xt+Rt],It=St,kt=Dt;for(Q(pt,st,St,xt),st[2*Dt+Rt]>Ye&&Q(pt,st,St,Dt);It<kt;){for(Q(pt,st,It,kt),It++,kt--;st[2*It+Rt]<Ye;)It++;for(;st[2*kt+Rt]>Ye;)kt--}st[2*St+Rt]===Ye?Q(pt,st,St,kt):(kt++,Q(pt,st,kt,Dt)),kt<=xt&&(St=kt+1),xt<=kt&&(Dt=kt-1)}}function Q(pt,st,xt,St){Z(pt,xt,St),Z(st,2*xt,2*St),Z(st,2*xt+1,2*St+1)}function Z(pt,st,xt){var St=pt[st];pt[st]=pt[xt],pt[xt]=St}function K(pt,st,xt,St,Dt,Rt,Bt){for(var Nt=[0,pt.length-1,0],Xt=[],lr,sr;Nt.length;){var dr=Nt.pop(),je=Nt.pop(),Ye=Nt.pop();if(je-Ye<=Bt){for(var It=Ye;It<=je;It++)lr=st[2*It],sr=st[2*It+1],lr>=xt&&lr<=Dt&&sr>=St&&sr<=Rt&&Xt.push(pt[It]);continue}var kt=Math.floor((Ye+je)/2);lr=st[2*kt],sr=st[2*kt+1],lr>=xt&&lr<=Dt&&sr>=St&&sr<=Rt&&Xt.push(pt[kt]);var jt=(dr+1)%2;(dr===0?xt<=lr:St<=sr)&&(Nt.push(Ye),Nt.push(kt-1),Nt.push(jt)),(dr===0?Dt>=lr:Rt>=sr)&&(Nt.push(kt+1),Nt.push(je),Nt.push(jt))}return Xt}function J(pt,st,xt,St,Dt,Rt){for(var Bt=[0,pt.length-1,0],Nt=[],Xt=Dt*Dt;Bt.length;){var lr=Bt.pop(),sr=Bt.pop(),dr=Bt.pop();if(sr-dr<=Rt){for(var je=dr;je<=sr;je++)re(st[2*je],st[2*je+1],xt,St)<=Xt&&Nt.push(pt[je]);continue}var Ye=Math.floor((dr+sr)/2),It=st[2*Ye],kt=st[2*Ye+1];re(It,kt,xt,St)<=Xt&&Nt.push(pt[Ye]);var jt=(lr+1)%2;(lr===0?xt-Dt<=It:St-Dt<=kt)&&(Bt.push(dr),Bt.push(Ye-1),Bt.push(jt)),(lr===0?xt+Dt>=It:St+Dt>=kt)&&(Bt.push(Ye+1),Bt.push(sr),Bt.push(jt))}return Nt}function re(pt,st,xt,St){var Dt=pt-xt,Rt=st-St;return Dt*Dt+Rt*Rt}var le=function(pt){return pt[0]},q=function(pt){return pt[1]},ee=function(st,xt,St,Dt,Rt){xt===void 0&&(xt=le),St===void 0&&(St=q),Dt===void 0&&(Dt=64),Rt===void 0&&(Rt=Float64Array),this.nodeSize=Dt,this.points=st;for(var Bt=st.length<65536?Uint16Array:Uint32Array,Nt=this.ids=new Bt(st.length),Xt=this.coords=new Rt(st.length*2),lr=0;lr<st.length;lr++)Nt[lr]=lr,Xt[2*lr]=xt(st[lr]),Xt[2*lr+1]=St(st[lr]);oe(Nt,Xt,Dt,0,Nt.length-1,0)};ee.prototype.range=function(st,xt,St,Dt){return K(this.ids,this.coords,st,xt,St,Dt,this.nodeSize)},ee.prototype.within=function(st,xt,St){return J(this.ids,this.coords,st,xt,St,this.nodeSize)};var ue={minZoom:0,maxZoom:16,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(pt){return pt}},se=function(st){this.options=Ae(Object.create(ue),st),this.trees=new Array(this.options.maxZoom+1)};se.prototype.load=function(st){var xt=this.options,St=xt.log,Dt=xt.minZoom,Rt=xt.maxZoom,Bt=xt.nodeSize;St&&console.time("total time");var Nt="prepare "+st.length+" points";St&&console.time(Nt),this.points=st;for(var Xt=[],lr=0;lr<st.length;lr++)st[lr].geometry&&Xt.push(me(st[lr],lr));this.trees[Rt+1]=new ee(Xt,He,Ve,Bt,Float32Array),St&&console.timeEnd(Nt);for(var sr=Rt;sr>=Dt;sr--){var dr=+Date.now();Xt=this._cluster(Xt,sr),this.trees[sr]=new ee(Xt,He,Ve,Bt,Float32Array),St&&console.log("z%d: %d clusters in %dms",sr,Xt.length,+Date.now()-dr)}return St&&console.timeEnd("total time"),this},se.prototype.getClusters=function(st,xt){var St=((st[0]+180)%360+360)%360-180,Dt=Math.max(-90,Math.min(90,st[1])),Rt=st[2]===180?180:((st[2]+180)%360+360)%360-180,Bt=Math.max(-90,Math.min(90,st[3]));if(st[2]-st[0]>=360)St=-180,Rt=180;else if(St>Rt){var Nt=this.getClusters([St,Dt,180,Bt],xt),Xt=this.getClusters([-180,Dt,Rt,Bt],xt);return Nt.concat(Xt)}for(var lr=this.trees[this._limitZoom(xt)],sr=lr.range(Oe(St),Ne(Bt),Oe(Rt),Ne(Dt)),dr=[],je=0,Ye=sr;je<Ye.length;je+=1){var It=Ye[je],kt=lr.points[It];dr.push(kt.numPoints?Ce(kt):this.points[kt.index])}return dr},se.prototype.getChildren=function(st){var xt=this._getOriginId(st),St=this._getOriginZoom(st),Dt="No cluster with the specified id.",Rt=this.trees[St];if(!Rt)throw new Error(Dt);var Bt=Rt.points[xt];if(!Bt)throw new Error(Dt);for(var Nt=this.options.radius/(this.options.extent*Math.pow(2,St-1)),Xt=Rt.within(Bt.x,Bt.y,Nt),lr=[],sr=0,dr=Xt;sr<dr.length;sr+=1){var je=dr[sr],Ye=Rt.points[je];Ye.parentId===st&&lr.push(Ye.numPoints?Ce(Ye):this.points[Ye.index])}if(lr.length===0)throw new Error(Dt);return lr},se.prototype.getLeaves=function(st,xt,St){xt=xt||10,St=St||0;var Dt=[];return this._appendLeaves(Dt,st,xt,St,0),Dt},se.prototype.getTile=function(st,xt,St){var Dt=this.trees[this._limitZoom(st)],Rt=Math.pow(2,st),Bt=this.options,Nt=Bt.extent,Xt=Bt.radius,lr=Xt/Nt,sr=(St-lr)/Rt,dr=(St+1+lr)/Rt,je={features:[]};return this._addTileFeatures(Dt.range((xt-lr)/Rt,sr,(xt+1+lr)/Rt,dr),Dt.points,xt,St,Rt,je),xt===0&&this._addTileFeatures(Dt.range(1-lr/Rt,sr,1,dr),Dt.points,Rt,St,Rt,je),xt===Rt-1&&this._addTileFeatures(Dt.range(0,sr,lr/Rt,dr),Dt.points,-1,St,Rt,je),je.features.length?je:null},se.prototype.getClusterExpansionZoom=function(st){for(var xt=this._getOriginZoom(st)-1;xt<=this.options.maxZoom;){var St=this.getChildren(st);if(xt++,St.length!==1)break;st=St[0].properties.cluster_id}return xt},se.prototype._appendLeaves=function(st,xt,St,Dt,Rt){for(var Bt=this.getChildren(xt),Nt=0,Xt=Bt;Nt<Xt.length;Nt+=1){var lr=Xt[Nt],sr=lr.properties;if(sr&&sr.cluster?Rt+sr.point_count<=Dt?Rt+=sr.point_count:Rt=this._appendLeaves(st,sr.cluster_id,St,Dt,Rt):Rt<Dt?Rt++:st.push(lr),st.length===St)break}return Rt},se.prototype._addTileFeatures=function(st,xt,St,Dt,Rt,Bt){for(var Nt=0,Xt=st;Nt<Xt.length;Nt+=1){var lr=Xt[Nt],sr=xt[lr],dr=sr.numPoints,je={type:1,geometry:[[Math.round(this.options.extent*(sr.x*Rt-St)),Math.round(this.options.extent*(sr.y*Rt-Dt))]],tags:dr?Te(sr):this.points[sr.index].properties},Ye=void 0;dr?Ye=sr.id:this.options.generateId?Ye=sr.index:this.points[sr.index].id&&(Ye=this.points[sr.index].id),Ye!==void 0&&(je.id=Ye),Bt.features.push(je)}},se.prototype._limitZoom=function(st){return Math.max(this.options.minZoom,Math.min(st,this.options.maxZoom+1))},se.prototype._cluster=function(st,xt){for(var St=[],Dt=this.options,Rt=Dt.radius,Bt=Dt.extent,Nt=Dt.reduce,Xt=Rt/(Bt*Math.pow(2,xt)),lr=0;lr<st.length;lr++){var sr=st[lr];if(!(sr.zoom<=xt)){sr.zoom=xt;for(var dr=this.trees[xt+1],je=dr.within(sr.x,sr.y,Xt),Ye=sr.numPoints||1,It=sr.x*Ye,kt=sr.y*Ye,jt=Nt&&Ye>1?this._map(sr,!0):null,tr=(lr<<5)+(xt+1)+this.points.length,or=0,rr=je;or<rr.length;or+=1){var Ot=rr[or],hr=dr.points[Ot];if(!(hr.zoom<=xt)){hr.zoom=xt;var gr=hr.numPoints||1;It+=hr.x*gr,kt+=hr.y*gr,Ye+=gr,hr.parentId=tr,Nt&&(jt||(jt=this._map(sr,!0)),Nt(jt,this._map(hr)))}}Ye===1?St.push(sr):(sr.parentId=tr,St.push(he(It/Ye,kt/Ye,tr,Ye,jt)))}}return St},se.prototype._getOriginId=function(st){return st-this.points.length>>5},se.prototype._getOriginZoom=function(st){return(st-this.points.length)%32},se.prototype._map=function(st,xt){if(st.numPoints)return xt?Ae({},st.properties):st.properties;var St=this.points[st.index].properties,Dt=this.options.map(St);return xt&&Dt===St?Ae({},Dt):Dt};function he(pt,st,xt,St,Dt){return{x:pt,y:st,zoom:1/0,id:xt,parentId:-1,numPoints:St,properties:Dt}}function me(pt,st){var xt=pt.geometry.coordinates,St=xt[0],Dt=xt[1];return{x:Oe(St),y:Ne(Dt),zoom:1/0,index:st,parentId:-1}}function Ce(pt){return{type:"Feature",id:pt.id,properties:Te(pt),geometry:{type:"Point",coordinates:[Le(pt.x),be(pt.y)]}}}function Te(pt){var st=pt.numPoints,xt=st>=1e4?Math.round(st/1e3)+"k":st>=1e3?Math.round(st/100)/10+"k":st;return Ae(Ae({},pt.properties),{cluster:!0,cluster_id:pt.id,point_count:st,point_count_abbreviated:xt})}function Oe(pt){return pt/360+.5}function Ne(pt){var st=Math.sin(pt*Math.PI/180),xt=.5-.25*Math.log((1+st)/(1-st))/Math.PI;return xt<0?0:xt>1?1:xt}function Le(pt){return(pt-.5)*360}function be(pt){var st=(180-pt*360)*Math.PI/180;return 360*Math.atan(Math.exp(st))/Math.PI-90}function Ae(pt,st){for(var xt in st)pt[xt]=st[xt];return pt}function He(pt){return pt.x}function Ve(pt){return pt.y}function ke(pt,st,xt,St){for(var Dt=St,Rt=xt-st>>1,Bt=xt-st,Nt,Xt=pt[st],lr=pt[st+1],sr=pt[xt],dr=pt[xt+1],je=st+3;je<xt;je+=3){var Ye=Ge(pt[je],pt[je+1],Xt,lr,sr,dr);if(Ye>Dt)Nt=je,Dt=Ye;else if(Ye===Dt){var It=Math.abs(je-Rt);It<Bt&&(Nt=je,Bt=It)}}Dt>St&&(Nt-st>3&&ke(pt,st,Nt,St),pt[Nt+2]=Dt,xt-Nt>3&&ke(pt,Nt,xt,St))}function Ge(pt,st,xt,St,Dt,Rt){var Bt=Dt-xt,Nt=Rt-St;if(Bt!==0||Nt!==0){var Xt=((pt-xt)*Bt+(st-St)*Nt)/(Bt*Bt+Nt*Nt);Xt>1?(xt=Dt,St=Rt):Xt>0&&(xt+=Bt*Xt,St+=Nt*Xt)}return Bt=pt-xt,Nt=st-St,Bt*Bt+Nt*Nt}function it(pt,st,xt,St){var Dt={id:typeof pt>"u"?null:pt,type:st,geometry:xt,tags:St,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return et(Dt),Dt}function et(pt){var st=pt.geometry,xt=pt.type;if(xt==="Point"||xt==="MultiPoint"||xt==="LineString")tt(pt,st);else if(xt==="Polygon"||xt==="MultiLineString")for(var St=0;St<st.length;St++)tt(pt,st[St]);else if(xt==="MultiPolygon")for(St=0;St<st.length;St++)for(var Dt=0;Dt<st[St].length;Dt++)tt(pt,st[St][Dt])}function tt(pt,st){for(var xt=0;xt<st.length;xt+=3)pt.minX=Math.min(pt.minX,st[xt]),pt.minY=Math.min(pt.minY,st[xt+1]),pt.maxX=Math.max(pt.maxX,st[xt]),pt.maxY=Math.max(pt.maxY,st[xt+1])}function at(pt,st){var xt=[];if(pt.type==="FeatureCollection")for(var St=0;St<pt.features.length;St++)vt(xt,pt.features[St],st,St);else pt.type==="Feature"?vt(xt,pt,st):vt(xt,{geometry:pt},st);return xt}function vt(pt,st,xt,St){if(st.geometry){var Dt=st.geometry.coordinates,Rt=st.geometry.type,Bt=Math.pow(xt.tolerance/((1<<xt.maxZoom)*xt.extent),2),Nt=[],Xt=st.id;if(xt.promoteId?Xt=st.properties[xt.promoteId]:xt.generateId&&(Xt=St||0),Rt==="Point")yt(Dt,Nt);else if(Rt==="MultiPoint")for(var lr=0;lr<Dt.length;lr++)yt(Dt[lr],Nt);else if(Rt==="LineString")gt(Dt,Nt,Bt,!1);else if(Rt==="MultiLineString")if(xt.lineMetrics){for(lr=0;lr<Dt.length;lr++)Nt=[],gt(Dt[lr],Nt,Bt,!1),pt.push(it(Xt,"LineString",Nt,st.properties));return}else Mt(Dt,Nt,Bt,!1);else if(Rt==="Polygon")Mt(Dt,Nt,Bt,!0);else if(Rt==="MultiPolygon")for(lr=0;lr<Dt.length;lr++){var sr=[];Mt(Dt[lr],sr,Bt,!0),Nt.push(sr)}else if(Rt==="GeometryCollection"){for(lr=0;lr<st.geometry.geometries.length;lr++)vt(pt,{id:Xt,geometry:st.geometry.geometries[lr],properties:st.properties},xt,St);return}else throw new Error("Input data is not a valid GeoJSON object.");pt.push(it(Xt,Rt,Nt,st.properties))}}function yt(pt,st){st.push(Ct(pt[0])),st.push(Vt(pt[1])),st.push(0)}function gt(pt,st,xt,St){for(var Dt,Rt,Bt=0,Nt=0;Nt<pt.length;Nt++){var Xt=Ct(pt[Nt][0]),lr=Vt(pt[Nt][1]);st.push(Xt),st.push(lr),st.push(0),Nt>0&&(St?Bt+=(Dt*lr-Xt*Rt)/2:Bt+=Math.sqrt(Math.pow(Xt-Dt,2)+Math.pow(lr-Rt,2))),Dt=Xt,Rt=lr}var sr=st.length-3;st[2]=1,ke(st,0,sr,xt),st[sr+2]=1,st.size=Math.abs(Bt),st.start=0,st.end=st.size}function Mt(pt,st,xt,St){for(var Dt=0;Dt<pt.length;Dt++){var Rt=[];gt(pt[Dt],Rt,xt,St),st.push(Rt)}}function Ct(pt){return pt/360+.5}function Vt(pt){var st=Math.sin(pt*Math.PI/180),xt=.5-.25*Math.log((1+st)/(1-st))/Math.PI;return xt<0?0:xt>1?1:xt}function Je(pt,st,xt,St,Dt,Rt,Bt,Nt){if(xt/=st,St/=st,Rt>=xt&&Bt<St)return pt;if(Bt<xt||Rt>=St)return null;for(var Xt=[],lr=0;lr<pt.length;lr++){var sr=pt[lr],dr=sr.geometry,je=sr.type,Ye=Dt===0?sr.minX:sr.minY,It=Dt===0?sr.maxX:sr.maxY;if(Ye>=xt&&It<St){Xt.push(sr);continue}else if(It<xt||Ye>=St)continue;var kt=[];if(je==="Point"||je==="MultiPoint")ze(dr,kt,xt,St,Dt);else if(je==="LineString")_e(dr,kt,xt,St,Dt,!1,Nt.lineMetrics);else if(je==="MultiLineString")De(dr,kt,xt,St,Dt,!1);else if(je==="Polygon")De(dr,kt,xt,St,Dt,!0);else if(je==="MultiPolygon")for(var jt=0;jt<dr.length;jt++){var tr=[];De(dr[jt],tr,xt,St,Dt,!0),tr.length&&kt.push(tr)}if(kt.length){if(Nt.lineMetrics&&je==="LineString"){for(jt=0;jt<kt.length;jt++)Xt.push(it(sr.id,je,kt[jt],sr.tags));continue}(je==="LineString"||je==="MultiLineString")&&(kt.length===1?(je="LineString",kt=kt[0]):je="MultiLineString"),(je==="Point"||je==="MultiPoint")&&(je=kt.length===3?"Point":"MultiPoint"),Xt.push(it(sr.id,je,kt,sr.tags))}}return Xt.length?Xt:null}function ze(pt,st,xt,St,Dt){for(var Rt=0;Rt<pt.length;Rt+=3){var Bt=pt[Rt+Dt];Bt>=xt&&Bt<=St&&(st.push(pt[Rt]),st.push(pt[Rt+1]),st.push(pt[Rt+2]))}}function _e(pt,st,xt,St,Dt,Rt,Bt){for(var Nt=Be(pt),Xt=Dt===0?xe:Ee,lr=pt.start,sr,dr,je=0;je<pt.length-3;je+=3){var Ye=pt[je],It=pt[je+1],kt=pt[je+2],jt=pt[je+3],tr=pt[je+4],or=Dt===0?Ye:It,rr=Dt===0?jt:tr,Ot=!1;Bt&&(sr=Math.sqrt(Math.pow(Ye-jt,2)+Math.pow(It-tr,2))),or<xt?rr>xt&&(dr=Xt(Nt,Ye,It,jt,tr,xt),Bt&&(Nt.start=lr+sr*dr)):or>St?rr<St&&(dr=Xt(Nt,Ye,It,jt,tr,St),Bt&&(Nt.start=lr+sr*dr)):we(Nt,Ye,It,kt),rr<xt&&or>=xt&&(dr=Xt(Nt,Ye,It,jt,tr,xt),Ot=!0),rr>St&&or<=St&&(dr=Xt(Nt,Ye,It,jt,tr,St),Ot=!0),!Rt&&Ot&&(Bt&&(Nt.end=lr+sr*dr),st.push(Nt),Nt=Be(pt)),Bt&&(lr+=sr)}var hr=pt.length-3;Ye=pt[hr],It=pt[hr+1],kt=pt[hr+2],or=Dt===0?Ye:It,or>=xt&&or<=St&&we(Nt,Ye,It,kt),hr=Nt.length-3,Rt&&hr>=3&&(Nt[hr]!==Nt[0]||Nt[hr+1]!==Nt[1])&&we(Nt,Nt[0],Nt[1],Nt[2]),Nt.length&&st.push(Nt)}function Be(pt){var st=[];return st.size=pt.size,st.start=pt.start,st.end=pt.end,st}function De(pt,st,xt,St,Dt,Rt){for(var Bt=0;Bt<pt.length;Bt++)_e(pt[Bt],st,xt,St,Dt,Rt,!1)}function we(pt,st,xt,St){pt.push(st),pt.push(xt),pt.push(St)}function xe(pt,st,xt,St,Dt,Rt){var Bt=(Rt-st)/(St-st);return pt.push(Rt),pt.push(xt+(Dt-xt)*Bt),pt.push(1),Bt}function Ee(pt,st,xt,St,Dt,Rt){var Bt=(Rt-xt)/(Dt-xt);return pt.push(st+(St-st)*Bt),pt.push(Rt),pt.push(1),Bt}function Pe(pt,st){var xt=st.buffer/st.extent,St=pt,Dt=Je(pt,1,-1-xt,xt,0,-1,2,st),Rt=Je(pt,1,1-xt,2+xt,0,-1,2,st);return(Dt||Rt)&&(St=Je(pt,1,-xt,1+xt,0,-1,2,st)||[],Dt&&(St=Ue(Dt,1).concat(St)),Rt&&(St=St.concat(Ue(Rt,-1)))),St}function Ue(pt,st){for(var xt=[],St=0;St<pt.length;St++){var Dt=pt[St],Rt=Dt.type,Bt;if(Rt==="Point"||Rt==="MultiPoint"||Rt==="LineString")Bt=$e(Dt.geometry,st);else if(Rt==="MultiLineString"||Rt==="Polygon"){Bt=[];for(var Nt=0;Nt<Dt.geometry.length;Nt++)Bt.push($e(Dt.geometry[Nt],st))}else if(Rt==="MultiPolygon")for(Bt=[],Nt=0;Nt<Dt.geometry.length;Nt++){for(var Xt=[],lr=0;lr<Dt.geometry[Nt].length;lr++)Xt.push($e(Dt.geometry[Nt][lr],st));Bt.push(Xt)}xt.push(it(Dt.id,Rt,Bt,Dt.tags))}return xt}function $e(pt,st){var xt=[];xt.size=pt.size,pt.start!==void 0&&(xt.start=pt.start,xt.end=pt.end);for(var St=0;St<pt.length;St+=3)xt.push(pt[St]+st,pt[St+1],pt[St+2]);return xt}function qe(pt,st){if(pt.transformed)return pt;var xt=1<<pt.z,St=pt.x,Dt=pt.y,Rt,Bt,Nt;for(Rt=0;Rt<pt.features.length;Rt++){var Xt=pt.features[Rt],lr=Xt.geometry,sr=Xt.type;if(Xt.geometry=[],sr===1)for(Bt=0;Bt<lr.length;Bt+=2)Xt.geometry.push(dt(lr[Bt],lr[Bt+1],st,xt,St,Dt));else for(Bt=0;Bt<lr.length;Bt++){var dr=[];for(Nt=0;Nt<lr[Bt].length;Nt+=2)dr.push(dt(lr[Bt][Nt],lr[Bt][Nt+1],st,xt,St,Dt));Xt.geometry.push(dr)}}return pt.transformed=!0,pt}function dt(pt,st,xt,St,Dt,Rt){return[Math.round(xt*(pt*St-Dt)),Math.round(xt*(st*St-Rt))]}function bt(pt,st,xt,St,Dt){for(var Rt=st===Dt.maxZoom?0:Dt.tolerance/((1<<st)*Dt.extent),Bt={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:xt,y:St,z:st,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Nt=0;Nt<pt.length;Nt++){Bt.numFeatures++,Gt(Bt,pt[Nt],Rt,Dt);var Xt=pt[Nt].minX,lr=pt[Nt].minY,sr=pt[Nt].maxX,dr=pt[Nt].maxY;Xt<Bt.minX&&(Bt.minX=Xt),lr<Bt.minY&&(Bt.minY=lr),sr>Bt.maxX&&(Bt.maxX=sr),dr>Bt.maxY&&(Bt.maxY=dr)}return Bt}function Gt(pt,st,xt,St){var Dt=st.geometry,Rt=st.type,Bt=[];if(Rt==="Point"||Rt==="MultiPoint")for(var Nt=0;Nt<Dt.length;Nt+=3)Bt.push(Dt[Nt]),Bt.push(Dt[Nt+1]),pt.numPoints++,pt.numSimplified++;else if(Rt==="LineString")Qt(Bt,Dt,pt,xt,!1,!1);else if(Rt==="MultiLineString"||Rt==="Polygon")for(Nt=0;Nt<Dt.length;Nt++)Qt(Bt,Dt[Nt],pt,xt,Rt==="Polygon",Nt===0);else if(Rt==="MultiPolygon")for(var Xt=0;Xt<Dt.length;Xt++){var lr=Dt[Xt];for(Nt=0;Nt<lr.length;Nt++)Qt(Bt,lr[Nt],pt,xt,!0,Nt===0)}if(Bt.length){var sr=st.tags||null;if(Rt==="LineString"&&St.lineMetrics){sr={};for(var dr in st.tags)sr[dr]=st.tags[dr];sr.mapbox_clip_start=Dt.start/Dt.size,sr.mapbox_clip_end=Dt.end/Dt.size}var je={geometry:Bt,type:Rt==="Polygon"||Rt==="MultiPolygon"?3:Rt==="LineString"||Rt==="MultiLineString"?2:1,tags:sr};st.id!==null&&(je.id=st.id),pt.features.push(je)}}function Qt(pt,st,xt,St,Dt,Rt){var Bt=St*St;if(St>0&&st.size<(Dt?Bt:St)){xt.numPoints+=st.length/3;return}for(var Nt=[],Xt=0;Xt<st.length;Xt+=3)(St===0||st[Xt+2]>Bt)&&(xt.numSimplified++,Nt.push(st[Xt]),Nt.push(st[Xt+1])),xt.numPoints++;Dt&&At(Nt,Rt),pt.push(Nt)}function At(pt,st){for(var xt=0,St=0,Dt=pt.length,Rt=Dt-2;St<Dt;Rt=St,St+=2)xt+=(pt[St]-pt[Rt])*(pt[St+1]+pt[Rt+1]);if(xt>0===st)for(St=0,Dt=pt.length;St<Dt/2;St+=2){var Bt=pt[St],Nt=pt[St+1];pt[St]=pt[Dt-2-St],pt[St+1]=pt[Dt-1-St],pt[Dt-2-St]=Bt,pt[Dt-1-St]=Nt}}function zt(pt,st){return new $t(pt,st)}function $t(pt,st){st=this.options=ut(Object.create(this.options),st);var xt=st.debug;if(xt&&console.time("preprocess data"),st.maxZoom<0||st.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(st.promoteId&&st.generateId)throw new Error("promoteId and generateId cannot be used together.");var St=at(pt,st);this.tiles={},this.tileCoords=[],xt&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",st.indexMaxZoom,st.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),St=Pe(St,st),St.length&&this.splitTile(St,0,0,0),xt&&(St.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}$t.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},$t.prototype.splitTile=function(pt,st,xt,St,Dt,Rt,Bt){for(var Nt=[pt,st,xt,St],Xt=this.options,lr=Xt.debug;Nt.length;){St=Nt.pop(),xt=Nt.pop(),st=Nt.pop(),pt=Nt.pop();var sr=1<<st,dr=Ar(st,xt,St),je=this.tiles[dr];if(!je&&(lr>1&&console.time("creation"),je=this.tiles[dr]=bt(pt,st,xt,St,Xt),this.tileCoords.push({z:st,x:xt,y:St}),lr)){lr>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",st,xt,St,je.numFeatures,je.numPoints,je.numSimplified),console.timeEnd("creation"));var Ye="z"+st;this.stats[Ye]=(this.stats[Ye]||0)+1,this.total++}if(je.source=pt,Dt){if(st===Xt.maxZoom||st===Dt)continue;var It=1<<Dt-st;if(xt!==Math.floor(Rt/It)||St!==Math.floor(Bt/It))continue}else if(st===Xt.indexMaxZoom||je.numPoints<=Xt.indexMaxPoints)continue;if(je.source=null,pt.length!==0){lr>1&&console.time("clipping");var kt=.5*Xt.buffer/Xt.extent,jt=.5-kt,tr=.5+kt,or=1+kt,rr,Ot,hr,gr,pr,vr;rr=Ot=hr=gr=null,pr=Je(pt,sr,xt-kt,xt+tr,0,je.minX,je.maxX,Xt),vr=Je(pt,sr,xt+jt,xt+or,0,je.minX,je.maxX,Xt),pt=null,pr&&(rr=Je(pr,sr,St-kt,St+tr,1,je.minY,je.maxY,Xt),Ot=Je(pr,sr,St+jt,St+or,1,je.minY,je.maxY,Xt),pr=null),vr&&(hr=Je(vr,sr,St-kt,St+tr,1,je.minY,je.maxY,Xt),gr=Je(vr,sr,St+jt,St+or,1,je.minY,je.maxY,Xt),vr=null),lr>1&&console.timeEnd("clipping"),Nt.push(rr||[],st+1,xt*2,St*2),Nt.push(Ot||[],st+1,xt*2,St*2+1),Nt.push(hr||[],st+1,xt*2+1,St*2),Nt.push(gr||[],st+1,xt*2+1,St*2+1)}}},$t.prototype.getTile=function(pt,st,xt){var St=this.options,Dt=St.extent,Rt=St.debug;if(pt<0||pt>24)return null;var Bt=1<<pt;st=(st%Bt+Bt)%Bt;var Nt=Ar(pt,st,xt);if(this.tiles[Nt])return qe(this.tiles[Nt],Dt);Rt>1&&console.log("drilling down to z%d-%d-%d",pt,st,xt);for(var Xt=pt,lr=st,sr=xt,dr;!dr&&Xt>0;)Xt--,lr=Math.floor(lr/2),sr=Math.floor(sr/2),dr=this.tiles[Ar(Xt,lr,sr)];return!dr||!dr.source?null:(Rt>1&&console.log("found parent tile z%d-%d-%d",Xt,lr,sr),Rt>1&&console.time("drilling down"),this.splitTile(dr.source,Xt,lr,sr,pt,st,xt),Rt>1&&console.timeEnd("drilling down"),this.tiles[Nt]?qe(this.tiles[Nt],Dt):null)};function Ar(pt,st,xt){return((1<<pt)*xt+st)*32+pt}function ut(pt,st){for(var xt in st)pt[xt]=st[xt];return pt}function Yt(pt,st){var xt=pt.tileID.canonical;if(!this._geoJSONIndex)return st(null,null);var St=this._geoJSONIndex.getTile(xt.z,xt.x,xt.y);if(!St)return st(null,null);var Dt=new S(St.features),Rt=i(Dt);(Rt.byteOffset!==0||Rt.byteLength!==Rt.buffer.byteLength)&&(Rt=new Uint8Array(Rt)),st(null,{vectorTile:Dt,rawData:Rt.buffer})}var Kt=function(pt){function st(xt,St,Dt,Rt){pt.call(this,xt,St,Dt,Yt),Rt&&(this.loadGeoJSON=Rt)}return pt&&(st.__proto__=pt),st.prototype=Object.create(pt&&pt.prototype),st.prototype.constructor=st,st.prototype.loadData=function(St,Dt){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=Dt,this._pendingLoadDataParams=St,this._state&&this._state!=="Idle"?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},st.prototype._loadData=function(){var St=this;if(!(!this._pendingCallback||!this._pendingLoadDataParams)){var Dt=this._pendingCallback,Rt=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var Bt=Rt&&Rt.request&&Rt.request.collectResourceTiming?new a.RequestPerformance(Rt.request):!1;this.loadGeoJSON(Rt,function(Nt,Xt){if(Nt||!Xt)return Dt(Nt);if(typeof Xt!="object")return Dt(new Error("Input data given to '"+Rt.source+"' is not a valid GeoJSON object."));c(Xt,!0);try{St._geoJSONIndex=Rt.cluster?new se(mr(Rt)).load(Xt.features):zt(Xt,Rt.geojsonVtOptions)}catch(dr){return Dt(dr)}St.loaded={};var lr={};if(Bt){var sr=Bt.finish();sr&&(lr.resourceTiming={},lr.resourceTiming[Rt.source]=JSON.parse(JSON.stringify(sr)))}Dt(null,lr)})}},st.prototype.coalesce=function(){this._state==="Coalescing"?this._state="Idle":this._state==="NeedsLoadData"&&(this._state="Coalescing",this._loadData())},st.prototype.reloadTile=function(St,Dt){var Rt=this.loaded,Bt=St.uid;return Rt&&Rt[Bt]?pt.prototype.reloadTile.call(this,St,Dt):this.loadTile(St,Dt)},st.prototype.loadGeoJSON=function(St,Dt){if(St.request)a.getJSON(St.request,Dt);else if(typeof St.data=="string")try{return Dt(null,JSON.parse(St.data))}catch{return Dt(new Error("Input data given to '"+St.source+"' is not a valid GeoJSON object."))}else return Dt(new Error("Input data given to '"+St.source+"' is not a valid GeoJSON object."))},st.prototype.removeSource=function(St,Dt){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),Dt()},st.prototype.getClusterExpansionZoom=function(St,Dt){try{Dt(null,this._geoJSONIndex.getClusterExpansionZoom(St.clusterId))}catch(Rt){Dt(Rt)}},st.prototype.getClusterChildren=function(St,Dt){try{Dt(null,this._geoJSONIndex.getChildren(St.clusterId))}catch(Rt){Dt(Rt)}},st.prototype.getClusterLeaves=function(St,Dt){try{Dt(null,this._geoJSONIndex.getLeaves(St.clusterId,St.limit,St.offset))}catch(Rt){Dt(Rt)}},st}(f);function mr(pt){var st=pt.superclusterOptions,xt=pt.clusterProperties;if(!xt||!st)return st;for(var St={},Dt={},Rt={accumulated:null,zoom:0},Bt={properties:null},Nt=Object.keys(xt),Xt=0,lr=Nt;Xt<lr.length;Xt+=1){var sr=lr[Xt],dr=xt[sr],je=dr[0],Ye=dr[1],It=a.createExpression(Ye),kt=a.createExpression(typeof je=="string"?[je,["accumulated"],["get",sr]]:je);St[sr]=It.value,Dt[sr]=kt.value}return st.map=function(jt){Bt.properties=jt;for(var tr={},or=0,rr=Nt;or<rr.length;or+=1){var Ot=rr[or];tr[Ot]=St[Ot].evaluate(Rt,Bt)}return tr},st.reduce=function(jt,tr){Bt.properties=tr;for(var or=0,rr=Nt;or<rr.length;or+=1){var Ot=rr[or];Rt.accumulated=jt[Ot],jt[Ot]=Dt[Ot].evaluate(Rt,Bt)}},st}var ur=function(st){var xt=this;this.self=st,this.actor=new a.Actor(st,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:f,geojson:Kt},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(St,Dt){if(xt.workerSourceTypes[St])throw new Error('Worker source with name "'+St+'" already registered.');xt.workerSourceTypes[St]=Dt},this.self.registerRTLTextPlugin=function(St){if(a.plugin.isParsed())throw new Error("RTL text plugin already registered.");a.plugin.applyArabicShaping=St.applyArabicShaping,a.plugin.processBidirectionalText=St.processBidirectionalText,a.plugin.processStyledBidirectionalText=St.processStyledBidirectionalText}};return ur.prototype.setReferrer=function(st,xt){this.referrer=xt},ur.prototype.setImages=function(st,xt,St){this.availableImages[st]=xt;for(var Dt in this.workerSources[st]){var Rt=this.workerSources[st][Dt];for(var Bt in Rt)Rt[Bt].availableImages=xt}St()},ur.prototype.setLayers=function(st,xt,St){this.getLayerIndex(st).replace(xt),St()},ur.prototype.updateLayers=function(st,xt,St){this.getLayerIndex(st).update(xt.layers,xt.removedIds),St()},ur.prototype.loadTile=function(st,xt,St){this.getWorkerSource(st,xt.type,xt.source).loadTile(xt,St)},ur.prototype.loadDEMTile=function(st,xt,St){this.getDEMWorkerSource(st,xt.source).loadTile(xt,St)},ur.prototype.reloadTile=function(st,xt,St){this.getWorkerSource(st,xt.type,xt.source).reloadTile(xt,St)},ur.prototype.abortTile=function(st,xt,St){this.getWorkerSource(st,xt.type,xt.source).abortTile(xt,St)},ur.prototype.removeTile=function(st,xt,St){this.getWorkerSource(st,xt.type,xt.source).removeTile(xt,St)},ur.prototype.removeDEMTile=function(st,xt){this.getDEMWorkerSource(st,xt.source).removeTile(xt)},ur.prototype.removeSource=function(st,xt,St){if(!(!this.workerSources[st]||!this.workerSources[st][xt.type]||!this.workerSources[st][xt.type][xt.source])){var Dt=this.workerSources[st][xt.type][xt.source];delete this.workerSources[st][xt.type][xt.source],Dt.removeSource!==void 0?Dt.removeSource(xt,St):St()}},ur.prototype.loadWorkerSource=function(st,xt,St){try{this.self.importScripts(xt.url),St()}catch(Dt){St(Dt.toString())}},ur.prototype.syncRTLPluginState=function(st,xt,St){try{a.plugin.setState(xt);var Dt=a.plugin.getPluginURL();if(a.plugin.isLoaded()&&!a.plugin.isParsed()&&Dt!=null){this.self.importScripts(Dt);var Rt=a.plugin.isParsed(),Bt=Rt?void 0:new Error("RTL Text Plugin failed to import scripts from "+Dt);St(Bt,Rt)}}catch(Nt){St(Nt.toString())}},ur.prototype.getAvailableImages=function(st){var xt=this.availableImages[st];return xt||(xt=[]),xt},ur.prototype.getLayerIndex=function(st){var xt=this.layerIndexes[st];return xt||(xt=this.layerIndexes[st]=new y),xt},ur.prototype.getWorkerSource=function(st,xt,St){var Dt=this;if(this.workerSources[st]||(this.workerSources[st]={}),this.workerSources[st][xt]||(this.workerSources[st][xt]={}),!this.workerSources[st][xt][St]){var Rt={send:function(Bt,Nt,Xt){Dt.actor.send(Bt,Nt,Xt,st)}};this.workerSources[st][xt][St]=new this.workerSourceTypes[xt](Rt,this.getLayerIndex(st),this.getAvailableImages(st))}return this.workerSources[st][xt][St]},ur.prototype.getDEMWorkerSource=function(st,xt){return this.demWorkerSources[st]||(this.demWorkerSources[st]={}),this.demWorkerSources[st][xt]||(this.demWorkerSources[st][xt]=new m),this.demWorkerSources[st][xt]},ur.prototype.enforceCacheSizeLimit=function(st,xt){a.enforceCacheSizeLimit(xt)},typeof WorkerGlobalScope<"u"&&typeof a.window<"u"&&a.window instanceof WorkerGlobalScope&&(a.window.worker=new ur(a.window)),ur}),R(["./shared"],function(a){var C=a.createCommonjsModule(function(ve){ve.exports?ve.exports=X:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=X,window.mapboxgl.notSupportedReason=pe);function X(Hr){return!pe(Hr)}function pe(Hr){if(!ae())return"not a browser";if(!ye())return"insufficent Array support";if(!Fe())return"insufficient Function support";if(!Ze())return"insufficient Object support";if(!lt())return"insufficient JSON support";if(!wt())return"insufficient worker support";if(!Ut())return"insufficient Uint8ClampedArray support";if(!Jt())return"insufficient ArrayBuffer support";if(!fr())return"insufficient Canvas/getImageData support";if(!zr(Hr&&Hr.failIfMajorPerformanceCaveat))return"insufficient WebGL support"}function ae(){return typeof window<"u"&&typeof document<"u"}function ye(){return Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray}function Fe(){return Function.prototype&&Function.prototype.bind}function Ze(){return Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions}function lt(){return"JSON"in window&&"parse"in JSON&&"stringify"in JSON}function wt(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var Hr=new Blob([""],{type:"text/javascript"}),Jr=URL.createObjectURL(Hr),fn,Dn;try{Dn=new Worker(Jr),fn=!0}catch{fn=!1}return Dn&&Dn.terminate(),URL.revokeObjectURL(Jr),fn}function Ut(){return"Uint8ClampedArray"in window}function Jt(){return ArrayBuffer.isView}function fr(){var Hr=document.createElement("canvas");Hr.width=Hr.height=1;var Jr=Hr.getContext("2d");if(!Jr)return!1;var fn=Jr.getImageData(0,0,1,1);return fn&&fn.width===Hr.width}var xr={};function zr(Hr){return xr[Hr]===void 0&&(xr[Hr]=Yr(Hr)),xr[Hr]}X.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};function Wr(Hr){var Jr=document.createElement("canvas"),fn=Object.create(X.webGLContextAttributes);return fn.failIfMajorPerformanceCaveat=Hr,Jr.probablySupportsContext?Jr.probablySupportsContext("webgl",fn)||Jr.probablySupportsContext("experimental-webgl",fn):Jr.supportsContext?Jr.supportsContext("webgl",fn)||Jr.supportsContext("experimental-webgl",fn):Jr.getContext("webgl",fn)||Jr.getContext("experimental-webgl",fn)}function Yr(Hr){var Jr=Wr(Hr);if(!Jr)return!1;var fn=Jr.createShader(Jr.VERTEX_SHADER);return!fn||Jr.isContextLost()?!1:(Jr.shaderSource(fn,"void main() {}"),Jr.compileShader(fn),Jr.getShaderParameter(fn,Jr.COMPILE_STATUS)===!0)}}),T={};T.create=function(ve,X,pe){var ae=a.window.document.createElement(ve);return X!==void 0&&(ae.className=X),pe&&pe.appendChild(ae),ae},T.createNS=function(ve,X){var pe=a.window.document.createElementNS(ve,X);return pe};var v=a.window.document.documentElement.style;function y(ve){if(!v)return ve[0];for(var X=0;X<ve.length;X++)if(ve[X]in v)return ve[X];return ve[0]}var t=y(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),r;T.disableDrag=function(){v&&t&&(r=v[t],v[t]="none")},T.enableDrag=function(){v&&t&&(v[t]=r)};var s=y(["transform","WebkitTransform"]);T.setTransform=function(ve,X){ve.style[s]=X};var n=!1;try{var o=Object.defineProperty({},"passive",{get:function(){n=!0}});a.window.addEventListener("test",o,o),a.window.removeEventListener("test",o,o)}catch{n=!1}T.addEventListener=function(ve,X,pe,ae){ae===void 0&&(ae={}),"passive"in ae&&n?ve.addEventListener(X,pe,ae):ve.addEventListener(X,pe,ae.capture)},T.removeEventListener=function(ve,X,pe,ae){ae===void 0&&(ae={}),"passive"in ae&&n?ve.removeEventListener(X,pe,ae):ve.removeEventListener(X,pe,ae.capture)};var f=function(ve){ve.preventDefault(),ve.stopPropagation(),a.window.removeEventListener("click",f,!0)};T.suppressClick=function(){a.window.addEventListener("click",f,!0),a.window.setTimeout(function(){a.window.removeEventListener("click",f,!0)},0)},T.mousePos=function(ve,X){var pe=ve.getBoundingClientRect();return new a.Point(X.clientX-pe.left-ve.clientLeft,X.clientY-pe.top-ve.clientTop)},T.touchPos=function(ve,X){for(var pe=ve.getBoundingClientRect(),ae=[],ye=0;ye<X.length;ye++)ae.push(new a.Point(X[ye].clientX-pe.left-ve.clientLeft,X[ye].clientY-pe.top-ve.clientTop));return ae},T.mouseButton=function(ve){return typeof a.window.InstallTrigger<"u"&&ve.button===2&&ve.ctrlKey&&a.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:ve.button},T.remove=function(ve){ve.parentNode&&ve.parentNode.removeChild(ve)};function u(ve,X,pe){var ae,ye,Fe,Ze=a.browser.devicePixelRatio>1?"@2x":"",lt=a.getJSON(X.transformRequest(X.normalizeSpriteURL(ve,Ze,".json"),a.ResourceType.SpriteJSON),function(Jt,fr){lt=null,Fe||(Fe=Jt,ae=fr,Ut())}),wt=a.getImage(X.transformRequest(X.normalizeSpriteURL(ve,Ze,".png"),a.ResourceType.SpriteImage),function(Jt,fr){wt=null,Fe||(Fe=Jt,ye=fr,Ut())});function Ut(){if(Fe)pe(Fe);else if(ae&&ye){var Jt=a.browser.getImageData(ye),fr={};for(var xr in ae){var zr=ae[xr],Wr=zr.width,Yr=zr.height,Hr=zr.x,Jr=zr.y,fn=zr.sdf,Dn=zr.pixelRatio,Fn=zr.stretchX,Kn=zr.stretchY,Jn=zr.content,$n=new a.RGBAImage({width:Wr,height:Yr});a.RGBAImage.copy(Jt,$n,{x:Hr,y:Jr},{x:0,y:0},{width:Wr,height:Yr}),fr[xr]={data:$n,pixelRatio:Dn,sdf:fn,stretchX:Fn,stretchY:Kn,content:Jn}}pe(null,fr)}}return{cancel:function(){lt&&(lt.cancel(),lt=null),wt&&(wt.cancel(),wt=null)}}}function m(ve){var X=ve.userImage;if(X&&X.render){var pe=X.render();if(pe)return ve.data.replace(new Uint8Array(X.data.buffer)),!0}return!1}var c=1,A=function(ve){function X(){ve.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new a.RGBAImage({width:1,height:1}),this.dirty=!0}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.isLoaded=function(){return this.loaded},X.prototype.setLoaded=function(ae){if(this.loaded!==ae&&(this.loaded=ae,ae)){for(var ye=0,Fe=this.requestors;ye<Fe.length;ye+=1){var Ze=Fe[ye],lt=Ze.ids,wt=Ze.callback;this._notify(lt,wt)}this.requestors=[]}},X.prototype.getImage=function(ae){return this.images[ae]},X.prototype.addImage=function(ae,ye){this._validate(ae,ye)&&(this.images[ae]=ye)},X.prototype._validate=function(ae,ye){var Fe=!0;return this._validateStretch(ye.stretchX,ye.data&&ye.data.width)||(this.fire(new a.ErrorEvent(new Error('Image "'+ae+'" has invalid "stretchX" value'))),Fe=!1),this._validateStretch(ye.stretchY,ye.data&&ye.data.height)||(this.fire(new a.ErrorEvent(new Error('Image "'+ae+'" has invalid "stretchY" value'))),Fe=!1),this._validateContent(ye.content,ye)||(this.fire(new a.ErrorEvent(new Error('Image "'+ae+'" has invalid "content" value'))),Fe=!1),Fe},X.prototype._validateStretch=function(ae,ye){if(!ae)return!0;for(var Fe=0,Ze=0,lt=ae;Ze<lt.length;Ze+=1){var wt=lt[Ze];if(wt[0]<Fe||wt[1]<wt[0]||ye<wt[1])return!1;Fe=wt[1]}return!0},X.prototype._validateContent=function(ae,ye){return ae?!(ae.length!==4||ae[0]<0||ye.data.width<ae[0]||ae[1]<0||ye.data.height<ae[1]||ae[2]<0||ye.data.width<ae[2]||ae[3]<0||ye.data.height<ae[3]||ae[2]<ae[0]||ae[3]<ae[1]):!0},X.prototype.updateImage=function(ae,ye){var Fe=this.images[ae];ye.version=Fe.version+1,this.images[ae]=ye,this.updatedImages[ae]=!0},X.prototype.removeImage=function(ae){var ye=this.images[ae];delete this.images[ae],delete this.patterns[ae],ye.userImage&&ye.userImage.onRemove&&ye.userImage.onRemove()},X.prototype.listImages=function(){return Object.keys(this.images)},X.prototype.getImages=function(ae,ye){var Fe=!0;if(!this.isLoaded())for(var Ze=0,lt=ae;Ze<lt.length;Ze+=1){var wt=lt[Ze];this.images[wt]||(Fe=!1)}this.isLoaded()||Fe?this._notify(ae,ye):this.requestors.push({ids:ae,callback:ye})},X.prototype._notify=function(ae,ye){for(var Fe={},Ze=0,lt=ae;Ze<lt.length;Ze+=1){var wt=lt[Ze];this.images[wt]||this.fire(new a.Event("styleimagemissing",{id:wt}));var Ut=this.images[wt];Ut?Fe[wt]={data:Ut.data.clone(),pixelRatio:Ut.pixelRatio,sdf:Ut.sdf,version:Ut.version,stretchX:Ut.stretchX,stretchY:Ut.stretchY,content:Ut.content,hasRenderCallback:!!(Ut.userImage&&Ut.userImage.render)}:a.warnOnce('Image "'+wt+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}ye(null,Fe)},X.prototype.getPixelSize=function(){var ae=this.atlasImage,ye=ae.width,Fe=ae.height;return{width:ye,height:Fe}},X.prototype.getPattern=function(ae){var ye=this.patterns[ae],Fe=this.getImage(ae);if(!Fe)return null;if(ye&&ye.position.version===Fe.version)return ye.position;if(ye)ye.position.version=Fe.version;else{var Ze=Fe.data.width+c*2,lt=Fe.data.height+c*2,wt={w:Ze,h:lt,x:0,y:0},Ut=new a.ImagePosition(wt,Fe);this.patterns[ae]={bin:wt,position:Ut}}return this._updatePatternAtlas(),this.patterns[ae].position},X.prototype.bind=function(ae){var ye=ae.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new a.Texture(ae,this.atlasImage,ye.RGBA),this.atlasTexture.bind(ye.LINEAR,ye.CLAMP_TO_EDGE)},X.prototype._updatePatternAtlas=function(){var ae=[];for(var ye in this.patterns)ae.push(this.patterns[ye].bin);var Fe=a.potpack(ae),Ze=Fe.w,lt=Fe.h,wt=this.atlasImage;wt.resize({width:Ze||1,height:lt||1});for(var Ut in this.patterns){var Jt=this.patterns[Ut],fr=Jt.bin,xr=fr.x+c,zr=fr.y+c,Wr=this.images[Ut].data,Yr=Wr.width,Hr=Wr.height;a.RGBAImage.copy(Wr,wt,{x:0,y:0},{x:xr,y:zr},{width:Yr,height:Hr}),a.RGBAImage.copy(Wr,wt,{x:0,y:Hr-1},{x:xr,y:zr-1},{width:Yr,height:1}),a.RGBAImage.copy(Wr,wt,{x:0,y:0},{x:xr,y:zr+Hr},{width:Yr,height:1}),a.RGBAImage.copy(Wr,wt,{x:Yr-1,y:0},{x:xr-1,y:zr},{width:1,height:Hr}),a.RGBAImage.copy(Wr,wt,{x:0,y:0},{x:xr+Yr,y:zr},{width:1,height:Hr})}this.dirty=!0},X.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},X.prototype.dispatchRenderCallbacks=function(ae){for(var ye=0,Fe=ae;ye<Fe.length;ye+=1){var Ze=Fe[ye];if(!this.callbackDispatchedThisFrame[Ze]){this.callbackDispatchedThisFrame[Ze]=!0;var lt=this.images[Ze],wt=m(lt);wt&&this.updateImage(Ze,lt)}}},X}(a.Evented);function h(ve,X,pe,ae,ye){var Fe=X*256,Ze=Fe+255,lt=ae.transformRequest(ae.normalizeGlyphsURL(pe).replace("{fontstack}",ve).replace("{range}",Fe+"-"+Ze),a.ResourceType.Glyphs);a.getArrayBuffer(lt,function(wt,Ut){if(wt)ye(wt);else if(Ut){for(var Jt={},fr=0,xr=a.parseGlyphPBF(Ut);fr<xr.length;fr+=1){var zr=xr[fr];Jt[zr.id]=zr}ye(null,Jt)}})}var l=S,p=S,M=1e20;function S(ve,X,pe,ae,ye,Fe){this.fontSize=ve||24,this.buffer=X===void 0?3:X,this.cutoff=ae||.25,this.fontFamily=ye||"sans-serif",this.fontWeight=Fe||"normal",this.radius=pe||8;var Ze=this.size=this.fontSize+this.buffer*2;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=Ze,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(Ze*Ze),this.gridInner=new Float64Array(Ze*Ze),this.f=new Float64Array(Ze),this.d=new Float64Array(Ze),this.z=new Float64Array(Ze+1),this.v=new Int16Array(Ze),this.middle=Math.round(Ze/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}S.prototype.draw=function(ve){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(ve,this.buffer,this.middle);for(var X=this.ctx.getImageData(0,0,this.size,this.size),pe=new Uint8ClampedArray(this.size*this.size),ae=0;ae<this.size*this.size;ae++){var ye=X.data[ae*4+3]/255;this.gridOuter[ae]=ye===1?0:ye===0?M:Math.pow(Math.max(0,.5-ye),2),this.gridInner[ae]=ye===1?M:ye===0?0:Math.pow(Math.max(0,ye-.5),2)}for(P(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),P(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),ae=0;ae<this.size*this.size;ae++){var Fe=this.gridOuter[ae]-this.gridInner[ae];pe[ae]=Math.max(0,Math.min(255,Math.round(255-255*(Fe/this.radius+this.cutoff))))}return pe};function P(ve,X,pe,ae,ye,Fe,Ze){for(var lt=0;lt<X;lt++){for(var wt=0;wt<pe;wt++)ae[wt]=ve[wt*X+lt];for(x(ae,ye,Fe,Ze,pe),wt=0;wt<pe;wt++)ve[wt*X+lt]=ye[wt]}for(wt=0;wt<pe;wt++){for(lt=0;lt<X;lt++)ae[lt]=ve[wt*X+lt];for(x(ae,ye,Fe,Ze,X),lt=0;lt<X;lt++)ve[wt*X+lt]=Math.sqrt(ye[lt])}}function x(ve,X,pe,ae,ye){pe[0]=0,ae[0]=-M,ae[1]=+M;for(var Fe=1,Ze=0;Fe<ye;Fe++){for(var lt=(ve[Fe]+Fe*Fe-(ve[pe[Ze]]+pe[Ze]*pe[Ze]))/(2*Fe-2*pe[Ze]);lt<=ae[Ze];)Ze--,lt=(ve[Fe]+Fe*Fe-(ve[pe[Ze]]+pe[Ze]*pe[Ze]))/(2*Fe-2*pe[Ze]);Ze++,pe[Ze]=Fe,ae[Ze]=lt,ae[Ze+1]=+M}for(Fe=0,Ze=0;Fe<ye;Fe++){for(;ae[Ze+1]<Fe;)Ze++;X[Fe]=(Fe-pe[Ze])*(Fe-pe[Ze])+ve[pe[Ze]]}}l.default=p;var E=function(X,pe){this.requestManager=X,this.localIdeographFontFamily=pe,this.entries={}};E.prototype.setURL=function(X){this.url=X},E.prototype.getGlyphs=function(X,pe){var ae=this,ye=[];for(var Fe in X)for(var Ze=0,lt=X[Fe];Ze<lt.length;Ze+=1){var wt=lt[Ze];ye.push({stack:Fe,id:wt})}a.asyncAll(ye,function(Ut,Jt){var fr=Ut.stack,xr=Ut.id,zr=ae.entries[fr];zr||(zr=ae.entries[fr]={glyphs:{},requests:{},ranges:{}});var Wr=zr.glyphs[xr];if(Wr!==void 0){Jt(null,{stack:fr,id:xr,glyph:Wr});return}if(Wr=ae._tinySDF(zr,fr,xr),Wr){zr.glyphs[xr]=Wr,Jt(null,{stack:fr,id:xr,glyph:Wr});return}var Yr=Math.floor(xr/256);if(Yr*256>65535){Jt(new Error("glyphs > 65535 not supported"));return}if(zr.ranges[Yr]){Jt(null,{stack:fr,id:xr,glyph:Wr});return}var Hr=zr.requests[Yr];Hr||(Hr=zr.requests[Yr]=[],E.loadGlyphRange(fr,Yr,ae.url,ae.requestManager,function(Jr,fn){if(fn){for(var Dn in fn)ae._doesCharSupportLocalGlyph(+Dn)||(zr.glyphs[+Dn]=fn[+Dn]);zr.ranges[Yr]=!0}for(var Fn=0,Kn=Hr;Fn<Kn.length;Fn+=1){var Jn=Kn[Fn];Jn(Jr,fn)}delete zr.requests[Yr]})),Hr.push(function(Jr,fn){Jr?Jt(Jr):fn&&Jt(null,{stack:fr,id:xr,glyph:fn[xr]||null})})},function(Ut,Jt){if(Ut)pe(Ut);else if(Jt){for(var fr={},xr=0,zr=Jt;xr<zr.length;xr+=1){var Wr=zr[xr],Yr=Wr.stack,Hr=Wr.id,Jr=Wr.glyph;(fr[Yr]||(fr[Yr]={}))[Hr]=Jr&&{id:Jr.id,bitmap:Jr.bitmap.clone(),metrics:Jr.metrics}}pe(null,fr)}})},E.prototype._doesCharSupportLocalGlyph=function(X){return!!this.localIdeographFontFamily&&(a.isChar["CJK Unified Ideographs"](X)||a.isChar["Hangul Syllables"](X)||a.isChar.Hiragana(X)||a.isChar.Katakana(X))},E.prototype._tinySDF=function(X,pe,ae){var ye=this.localIdeographFontFamily;if(ye&&this._doesCharSupportLocalGlyph(ae)){var Fe=X.tinySDF;if(!Fe){var Ze="400";/bold/i.test(pe)?Ze="900":/medium/i.test(pe)?Ze="500":/light/i.test(pe)&&(Ze="200"),Fe=X.tinySDF=new E.TinySDF(24,3,8,.25,ye,Ze)}return{id:ae,bitmap:new a.AlphaImage({width:30,height:30},Fe.draw(String.fromCharCode(ae))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},E.loadGlyphRange=h,E.TinySDF=l;var w=function(){this.specification=a.styleSpec.light.position};w.prototype.possiblyEvaluate=function(X,pe){return a.sphericalToCartesian(X.expression.evaluate(pe))},w.prototype.interpolate=function(X,pe,ae){return{x:a.number(X.x,pe.x,ae),y:a.number(X.y,pe.y,ae),z:a.number(X.z,pe.z,ae)}};var i=new a.Properties({anchor:new a.DataConstantProperty(a.styleSpec.light.anchor),position:new w,color:new a.DataConstantProperty(a.styleSpec.light.color),intensity:new a.DataConstantProperty(a.styleSpec.light.intensity)}),L="-transition",b=function(ve){function X(pe){ve.call(this),this._transitionable=new a.Transitionable(i),this.setLight(pe),this._transitioning=this._transitionable.untransitioned()}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getLight=function(){return this._transitionable.serialize()},X.prototype.setLight=function(ae,ye){if(ye===void 0&&(ye={}),!this._validate(a.validateLight,ae,ye))for(var Fe in ae){var Ze=ae[Fe];a.endsWith(Fe,L)?this._transitionable.setTransition(Fe.slice(0,-L.length),Ze):this._transitionable.setValue(Fe,Ze)}},X.prototype.updateTransitions=function(ae){this._transitioning=this._transitionable.transitioned(ae,this._transitioning)},X.prototype.hasTransition=function(){return this._transitioning.hasTransition()},X.prototype.recalculate=function(ae){this.properties=this._transitioning.possiblyEvaluate(ae)},X.prototype._validate=function(ae,ye,Fe){return Fe&&Fe.validate===!1?!1:a.emitValidationErrors(this,ae.call(a.validateStyle,a.extend({value:ye,style:{glyphs:!0,sprite:!0},styleSpec:a.styleSpec})))},X}(a.Evented),O=function(X,pe){this.width=X,this.height=pe,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};O.prototype.getDash=function(X,pe){var ae=X.join(",")+String(pe);return this.dashEntry[ae]||(this.dashEntry[ae]=this.addDash(X,pe)),this.dashEntry[ae]},O.prototype.getDashRanges=function(X,pe,ae){var ye=X.length%2===1,Fe=[],Ze=ye?-X[X.length-1]*ae:0,lt=X[0]*ae,wt=!0;Fe.push({left:Ze,right:lt,isDash:wt,zeroLength:X[0]===0});for(var Ut=X[0],Jt=1;Jt<X.length;Jt++){wt=!wt;var fr=X[Jt];Ze=Ut*ae,Ut+=fr,lt=Ut*ae,Fe.push({left:Ze,right:lt,isDash:wt,zeroLength:fr===0})}return Fe},O.prototype.addRoundDash=function(X,pe,ae){for(var ye=pe/2,Fe=-ae;Fe<=ae;Fe++)for(var Ze=this.nextRow+ae+Fe,lt=this.width*Ze,wt=0,Ut=X[wt],Jt=0;Jt<this.width;Jt++){Jt/Ut.right>1&&(Ut=X[++wt]);var fr=Math.abs(Jt-Ut.left),xr=Math.abs(Jt-Ut.right),zr=Math.min(fr,xr),Wr=void 0,Yr=Fe/ae*(ye+1);if(Ut.isDash){var Hr=ye-Math.abs(Yr);Wr=Math.sqrt(zr*zr+Hr*Hr)}else Wr=ye-Math.sqrt(zr*zr+Yr*Yr);this.data[lt+Jt]=Math.max(0,Math.min(255,Wr+128))}},O.prototype.addRegularDash=function(X){for(var pe=X.length-1;pe>=0;--pe){var ae=X[pe],ye=X[pe+1];ae.zeroLength?X.splice(pe,1):ye&&ye.isDash===ae.isDash&&(ye.left=ae.left,X.splice(pe,1))}var Fe=X[0],Ze=X[X.length-1];Fe.isDash===Ze.isDash&&(Fe.left=Ze.left-this.width,Ze.right=Fe.right+this.width);for(var lt=this.width*this.nextRow,wt=0,Ut=X[wt],Jt=0;Jt<this.width;Jt++){Jt/Ut.right>1&&(Ut=X[++wt]);var fr=Math.abs(Jt-Ut.left),xr=Math.abs(Jt-Ut.right),zr=Math.min(fr,xr),Wr=Ut.isDash?zr:-zr;this.data[lt+Jt]=Math.max(0,Math.min(255,Wr+128))}},O.prototype.addDash=function(X,pe){var ae=pe?7:0,ye=2*ae+1;if(this.nextRow+ye>this.height)return a.warnOnce("LineAtlas out of space"),null;for(var Fe=0,Ze=0;Ze<X.length;Ze++)Fe+=X[Ze];if(Fe!==0){var lt=this.width/Fe,wt=this.getDashRanges(X,this.width,lt);pe?this.addRoundDash(wt,lt,ae):this.addRegularDash(wt)}var Ut={y:(this.nextRow+ae+.5)/this.height,height:2*ae/this.height,width:Fe};return this.nextRow+=ye,this.dirty=!0,Ut},O.prototype.bind=function(X){var pe=X.gl;this.texture?(pe.bindTexture(pe.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,pe.texSubImage2D(pe.TEXTURE_2D,0,0,0,this.width,this.height,pe.ALPHA,pe.UNSIGNED_BYTE,this.data))):(this.texture=pe.createTexture(),pe.bindTexture(pe.TEXTURE_2D,this.texture),pe.texParameteri(pe.TEXTURE_2D,pe.TEXTURE_WRAP_S,pe.REPEAT),pe.texParameteri(pe.TEXTURE_2D,pe.TEXTURE_WRAP_T,pe.REPEAT),pe.texParameteri(pe.TEXTURE_2D,pe.TEXTURE_MIN_FILTER,pe.LINEAR),pe.texParameteri(pe.TEXTURE_2D,pe.TEXTURE_MAG_FILTER,pe.LINEAR),pe.texImage2D(pe.TEXTURE_2D,0,pe.ALPHA,this.width,this.height,0,pe.ALPHA,pe.UNSIGNED_BYTE,this.data))};var _=function ve(X,pe){this.workerPool=X,this.actors=[],this.currentActor=0,this.id=a.uniqueId();for(var ae=this.workerPool.acquire(this.id),ye=0;ye<ae.length;ye++){var Fe=ae[ye],Ze=new ve.Actor(Fe,pe,this.id);Ze.name="Worker "+ye,this.actors.push(Ze)}};_.prototype.broadcast=function(X,pe,ae){ae=ae||function(){},a.asyncAll(this.actors,function(ye,Fe){ye.send(X,pe,Fe)},ae)},_.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},_.prototype.remove=function(){this.actors.forEach(function(X){X.remove()}),this.actors=[],this.workerPool.release(this.id)},_.Actor=a.Actor;function N(ve,X,pe){var ae=function(ye,Fe){if(ye)return pe(ye);if(Fe){var Ze=a.pick(a.extend(Fe,ve),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);Fe.vector_layers&&(Ze.vectorLayers=Fe.vector_layers,Ze.vectorLayerIds=Ze.vectorLayers.map(function(lt){return lt.id})),Ze.tiles=X.canonicalizeTileset(Ze,ve.url),pe(null,Ze)}};return ve.url?a.getJSON(X.transformRequest(X.normalizeSourceURL(ve.url),a.ResourceType.Source),ae):a.browser.frame(function(){return ae(null,ve)})}var z=function(X,pe,ae){this.bounds=a.LngLatBounds.convert(this.validateBounds(X)),this.minzoom=pe||0,this.maxzoom=ae||24};z.prototype.validateBounds=function(X){return!Array.isArray(X)||X.length!==4?[-180,-90,180,90]:[Math.max(-180,X[0]),Math.max(-90,X[1]),Math.min(180,X[2]),Math.min(90,X[3])]},z.prototype.contains=function(X){var pe=Math.pow(2,X.z),ae={minX:Math.floor(a.mercatorXfromLng(this.bounds.getWest())*pe),minY:Math.floor(a.mercatorYfromLat(this.bounds.getNorth())*pe),maxX:Math.ceil(a.mercatorXfromLng(this.bounds.getEast())*pe),maxY:Math.ceil(a.mercatorYfromLat(this.bounds.getSouth())*pe)},ye=X.x>=ae.minX&&X.x<ae.maxX&&X.y>=ae.minY&&X.y<ae.maxY;return ye};var B=function(ve){function X(pe,ae,ye,Fe){if(ve.call(this),this.id=pe,this.dispatcher=ye,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,a.extend(this,a.pick(ae,["url","scheme","tileSize","promoteId"])),this._options=a.extend({type:"vector"},ae),this._collectResourceTiming=ae.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(Fe)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.load=function(){var ae=this;this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=N(this._options,this.map._requestManager,function(ye,Fe){ae._tileJSONRequest=null,ae._loaded=!0,ye?ae.fire(new a.ErrorEvent(ye)):Fe&&(a.extend(ae,Fe),Fe.bounds&&(ae.tileBounds=new z(Fe.bounds,ae.minzoom,ae.maxzoom)),a.postTurnstileEvent(Fe.tiles,ae.map._requestManager._customAccessToken),a.postMapLoadEvent(Fe.tiles,ae.map._getMapId(),ae.map._requestManager._skuToken,ae.map._requestManager._customAccessToken),ae.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),ae.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})))})},X.prototype.loaded=function(){return this._loaded},X.prototype.hasTile=function(ae){return!this.tileBounds||this.tileBounds.contains(ae.canonical)},X.prototype.onAdd=function(ae){this.map=ae,this.load()},X.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},X.prototype.serialize=function(){return a.extend({},this._options)},X.prototype.loadTile=function(ae,ye){var Fe=this.map._requestManager.normalizeTileURL(ae.tileID.canonical.url(this.tiles,this.scheme)),Ze={request:this.map._requestManager.transformRequest(Fe,a.ResourceType.Tile),uid:ae.uid,tileID:ae.tileID,zoom:ae.tileID.overscaledZ,tileSize:this.tileSize*ae.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:a.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};Ze.request.collectResourceTiming=this._collectResourceTiming,!ae.actor||ae.state==="expired"?(ae.actor=this.dispatcher.getActor(),ae.request=ae.actor.send("loadTile",Ze,lt.bind(this))):ae.state==="loading"?ae.reloadCallback=ye:ae.request=ae.actor.send("reloadTile",Ze,lt.bind(this));function lt(wt,Ut){if(delete ae.request,ae.aborted)return ye(null);if(wt&&wt.status!==404)return ye(wt);Ut&&Ut.resourceTiming&&(ae.resourceTiming=Ut.resourceTiming),this.map._refreshExpiredTiles&&Ut&&ae.setExpiryData(Ut),ae.loadVectorData(Ut,this.map.painter),a.cacheEntryPossiblyAdded(this.dispatcher),ye(null),ae.reloadCallback&&(this.loadTile(ae,ae.reloadCallback),ae.reloadCallback=null)}},X.prototype.abortTile=function(ae){ae.request&&(ae.request.cancel(),delete ae.request),ae.actor&&ae.actor.send("abortTile",{uid:ae.uid,type:this.type,source:this.id},void 0)},X.prototype.unloadTile=function(ae){ae.unloadVectorData(),ae.actor&&ae.actor.send("removeTile",{uid:ae.uid,type:this.type,source:this.id},void 0)},X.prototype.hasTransition=function(){return!1},X}(a.Evented),U=function(ve){function X(pe,ae,ye,Fe){ve.call(this),this.id=pe,this.dispatcher=ye,this.setEventedParent(Fe),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=a.extend({type:"raster"},ae),a.extend(this,a.pick(ae,["url","scheme","tileSize"]))}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.load=function(){var ae=this;this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=N(this._options,this.map._requestManager,function(ye,Fe){ae._tileJSONRequest=null,ae._loaded=!0,ye?ae.fire(new a.ErrorEvent(ye)):Fe&&(a.extend(ae,Fe),Fe.bounds&&(ae.tileBounds=new z(Fe.bounds,ae.minzoom,ae.maxzoom)),a.postTurnstileEvent(Fe.tiles),a.postMapLoadEvent(Fe.tiles,ae.map._getMapId(),ae.map._requestManager._skuToken),ae.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),ae.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})))})},X.prototype.loaded=function(){return this._loaded},X.prototype.onAdd=function(ae){this.map=ae,this.load()},X.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},X.prototype.serialize=function(){return a.extend({},this._options)},X.prototype.hasTile=function(ae){return!this.tileBounds||this.tileBounds.contains(ae.canonical)},X.prototype.loadTile=function(ae,ye){var Fe=this,Ze=this.map._requestManager.normalizeTileURL(ae.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);ae.request=a.getImage(this.map._requestManager.transformRequest(Ze,a.ResourceType.Tile),function(lt,wt){if(delete ae.request,ae.aborted)ae.state="unloaded",ye(null);else if(lt)ae.state="errored",ye(lt);else if(wt){Fe.map._refreshExpiredTiles&&ae.setExpiryData(wt),delete wt.cacheControl,delete wt.expires;var Ut=Fe.map.painter.context,Jt=Ut.gl;ae.texture=Fe.map.painter.getTileTexture(wt.width),ae.texture?ae.texture.update(wt,{useMipmap:!0}):(ae.texture=new a.Texture(Ut,wt,Jt.RGBA,{useMipmap:!0}),ae.texture.bind(Jt.LINEAR,Jt.CLAMP_TO_EDGE,Jt.LINEAR_MIPMAP_NEAREST),Ut.extTextureFilterAnisotropic&&Jt.texParameterf(Jt.TEXTURE_2D,Ut.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,Ut.extTextureFilterAnisotropicMax)),ae.state="loaded",a.cacheEntryPossiblyAdded(Fe.dispatcher),ye(null)}})},X.prototype.abortTile=function(ae,ye){ae.request&&(ae.request.cancel(),delete ae.request),ye()},X.prototype.unloadTile=function(ae,ye){ae.texture&&this.map.painter.saveTileTexture(ae.texture),ye()},X.prototype.hasTransition=function(){return!1},X}(a.Evented),F=function(ve){function X(pe,ae,ye,Fe){ve.call(this,pe,ae,ye,Fe),this.type="raster-dem",this.maxzoom=22,this._options=a.extend({type:"raster-dem"},ae),this.encoding=ae.encoding||"mapbox"}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},X.prototype.loadTile=function(ae,ye){var Fe=this.map._requestManager.normalizeTileURL(ae.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);ae.request=a.getImage(this.map._requestManager.transformRequest(Fe,a.ResourceType.Tile),Ze.bind(this)),ae.neighboringTiles=this._getNeighboringTiles(ae.tileID);function Ze(wt,Ut){if(delete ae.request,ae.aborted)ae.state="unloaded",ye(null);else if(wt)ae.state="errored",ye(wt);else if(Ut){this.map._refreshExpiredTiles&&ae.setExpiryData(Ut),delete Ut.cacheControl,delete Ut.expires;var Jt=a.window.ImageBitmap&&Ut instanceof a.window.ImageBitmap&&a.offscreenCanvasSupported(),fr=Jt?Ut:a.browser.getImageData(Ut,1),xr={uid:ae.uid,coord:ae.tileID,source:this.id,rawImageData:fr,encoding:this.encoding};(!ae.actor||ae.state==="expired")&&(ae.actor=this.dispatcher.getActor(),ae.actor.send("loadDEMTile",xr,lt.bind(this)))}}function lt(wt,Ut){wt&&(ae.state="errored",ye(wt)),Ut&&(ae.dem=Ut,ae.needsHillshadePrepare=!0,ae.state="loaded",ye(null))}},X.prototype._getNeighboringTiles=function(ae){var ye=ae.canonical,Fe=Math.pow(2,ye.z),Ze=(ye.x-1+Fe)%Fe,lt=ye.x===0?ae.wrap-1:ae.wrap,wt=(ye.x+1+Fe)%Fe,Ut=ye.x+1===Fe?ae.wrap+1:ae.wrap,Jt={};return Jt[new a.OverscaledTileID(ae.overscaledZ,lt,ye.z,Ze,ye.y).key]={backfilled:!1},Jt[new a.OverscaledTileID(ae.overscaledZ,Ut,ye.z,wt,ye.y).key]={backfilled:!1},ye.y>0&&(Jt[new a.OverscaledTileID(ae.overscaledZ,lt,ye.z,Ze,ye.y-1).key]={backfilled:!1},Jt[new a.OverscaledTileID(ae.overscaledZ,ae.wrap,ye.z,ye.x,ye.y-1).key]={backfilled:!1},Jt[new a.OverscaledTileID(ae.overscaledZ,Ut,ye.z,wt,ye.y-1).key]={backfilled:!1}),ye.y+1<Fe&&(Jt[new a.OverscaledTileID(ae.overscaledZ,lt,ye.z,Ze,ye.y+1).key]={backfilled:!1},Jt[new a.OverscaledTileID(ae.overscaledZ,ae.wrap,ye.z,ye.x,ye.y+1).key]={backfilled:!1},Jt[new a.OverscaledTileID(ae.overscaledZ,Ut,ye.z,wt,ye.y+1).key]={backfilled:!1}),Jt},X.prototype.unloadTile=function(ae){ae.demTexture&&this.map.painter.saveTileTexture(ae.demTexture),ae.fbo&&(ae.fbo.destroy(),delete ae.fbo),ae.dem&&delete ae.dem,delete ae.neighboringTiles,ae.state="unloaded",ae.actor&&ae.actor.send("removeDEMTile",{uid:ae.uid,source:this.id})},X}(U),V=function(ve){function X(pe,ae,ye,Fe){ve.call(this),this.id=pe,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=ye.getActor(),this.setEventedParent(Fe),this._data=ae.data,this._options=a.extend({},ae),this._collectResourceTiming=ae.collectResourceTiming,this._resourceTiming=[],ae.maxzoom!==void 0&&(this.maxzoom=ae.maxzoom),ae.type&&(this.type=ae.type),ae.attribution&&(this.attribution=ae.attribution),this.promoteId=ae.promoteId;var Ze=a.EXTENT/this.tileSize;this.workerOptions=a.extend({source:this.id,cluster:ae.cluster||!1,geojsonVtOptions:{buffer:(ae.buffer!==void 0?ae.buffer:128)*Ze,tolerance:(ae.tolerance!==void 0?ae.tolerance:.375)*Ze,extent:a.EXTENT,maxZoom:this.maxzoom,lineMetrics:ae.lineMetrics||!1,generateId:ae.generateId||!1},superclusterOptions:{maxZoom:ae.clusterMaxZoom!==void 0?Math.min(ae.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,extent:a.EXTENT,radius:(ae.clusterRadius||50)*Ze,log:!1,generateId:ae.generateId||!1},clusterProperties:ae.clusterProperties},ae.workerOptions)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.load=function(){var ae=this;this.fire(new a.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(ye){if(ye){ae.fire(new a.ErrorEvent(ye));return}var Fe={dataType:"source",sourceDataType:"metadata"};ae._collectResourceTiming&&ae._resourceTiming&&ae._resourceTiming.length>0&&(Fe.resourceTiming=ae._resourceTiming,ae._resourceTiming=[]),ae.fire(new a.Event("data",Fe))})},X.prototype.onAdd=function(ae){this.map=ae,this.load()},X.prototype.setData=function(ae){var ye=this;return this._data=ae,this.fire(new a.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(Fe){if(Fe){ye.fire(new a.ErrorEvent(Fe));return}var Ze={dataType:"source",sourceDataType:"content"};ye._collectResourceTiming&&ye._resourceTiming&&ye._resourceTiming.length>0&&(Ze.resourceTiming=ye._resourceTiming,ye._resourceTiming=[]),ye.fire(new a.Event("data",Ze))}),this},X.prototype.getClusterExpansionZoom=function(ae,ye){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:ae,source:this.id},ye),this},X.prototype.getClusterChildren=function(ae,ye){return this.actor.send("geojson.getClusterChildren",{clusterId:ae,source:this.id},ye),this},X.prototype.getClusterLeaves=function(ae,ye,Fe,Ze){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:ae,limit:ye,offset:Fe},Ze),this},X.prototype._updateWorkerData=function(ae){var ye=this;this._loaded=!1;var Fe=a.extend({},this.workerOptions),Ze=this._data;typeof Ze=="string"?(Fe.request=this.map._requestManager.transformRequest(a.browser.resolveURL(Ze),a.ResourceType.Source),Fe.request.collectResourceTiming=this._collectResourceTiming):Fe.data=JSON.stringify(Ze),this.actor.send(this.type+".loadData",Fe,function(lt,wt){ye._removed||wt&&wt.abandoned||(ye._loaded=!0,wt&&wt.resourceTiming&&wt.resourceTiming[ye.id]&&(ye._resourceTiming=wt.resourceTiming[ye.id].slice(0)),ye.actor.send(ye.type+".coalesce",{source:Fe.source},null),ae(lt))})},X.prototype.loaded=function(){return this._loaded},X.prototype.loadTile=function(ae,ye){var Fe=this,Ze=ae.actor?"reloadTile":"loadTile";ae.actor=this.actor;var lt={type:this.type,uid:ae.uid,tileID:ae.tileID,zoom:ae.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:a.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};ae.request=this.actor.send(Ze,lt,function(wt,Ut){return delete ae.request,ae.unloadVectorData(),ae.aborted?ye(null):wt?ye(wt):(ae.loadVectorData(Ut,Fe.map.painter,Ze==="reloadTile"),ye(null))})},X.prototype.abortTile=function(ae){ae.request&&(ae.request.cancel(),delete ae.request),ae.aborted=!0},X.prototype.unloadTile=function(ae){ae.unloadVectorData(),this.actor.send("removeTile",{uid:ae.uid,type:this.type,source:this.id})},X.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},X.prototype.serialize=function(){return a.extend({},this._options,{type:this.type,data:this._data})},X.prototype.hasTransition=function(){return!1},X}(a.Evented),j=a.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),$=function(ve){function X(pe,ae,ye,Fe){ve.call(this),this.id=pe,this.dispatcher=ye,this.coordinates=ae.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(Fe),this.options=ae}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.load=function(ae,ye){var Fe=this;this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this.url=this.options.url,a.getImage(this.map._requestManager.transformRequest(this.url,a.ResourceType.Image),function(Ze,lt){Fe._loaded=!0,Ze?Fe.fire(new a.ErrorEvent(Ze)):lt&&(Fe.image=lt,ae&&(Fe.coordinates=ae),ye&&ye(),Fe._finishLoading())})},X.prototype.loaded=function(){return this._loaded},X.prototype.updateImage=function(ae){var ye=this;return!this.image||!ae.url?this:(this.options.url=ae.url,this.load(ae.coordinates,function(){ye.texture=null}),this)},X.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})))},X.prototype.onAdd=function(ae){this.map=ae,this.load()},X.prototype.setCoordinates=function(ae){var ye=this;this.coordinates=ae;var Fe=ae.map(a.MercatorCoordinate.fromLngLat);this.tileID=ne(Fe),this.minzoom=this.maxzoom=this.tileID.z;var Ze=Fe.map(function(lt){return ye.tileID.getTilePoint(lt)._round()});return this._boundsArray=new a.StructArrayLayout4i8,this._boundsArray.emplaceBack(Ze[0].x,Ze[0].y,0,0),this._boundsArray.emplaceBack(Ze[1].x,Ze[1].y,a.EXTENT,0),this._boundsArray.emplaceBack(Ze[3].x,Ze[3].y,0,a.EXTENT),this._boundsArray.emplaceBack(Ze[2].x,Ze[2].y,a.EXTENT,a.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})),this},X.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||!this.image)){var ae=this.map.painter.context,ye=ae.gl;this.boundsBuffer||(this.boundsBuffer=ae.createVertexBuffer(this._boundsArray,j.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new a.Texture(ae,this.image,ye.RGBA),this.texture.bind(ye.LINEAR,ye.CLAMP_TO_EDGE));for(var Fe in this.tiles){var Ze=this.tiles[Fe];Ze.state!=="loaded"&&(Ze.state="loaded",Ze.texture=this.texture)}}},X.prototype.loadTile=function(ae,ye){this.tileID&&this.tileID.equals(ae.tileID.canonical)?(this.tiles[String(ae.tileID.wrap)]=ae,ae.buckets={},ye(null)):(ae.state="errored",ye(null))},X.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},X.prototype.hasTransition=function(){return!1},X}(a.Evented);function ne(ve){for(var X=1/0,pe=1/0,ae=-1/0,ye=-1/0,Fe=0,Ze=ve;Fe<Ze.length;Fe+=1){var lt=Ze[Fe];X=Math.min(X,lt.x),pe=Math.min(pe,lt.y),ae=Math.max(ae,lt.x),ye=Math.max(ye,lt.y)}var wt=ae-X,Ut=ye-pe,Jt=Math.max(wt,Ut),fr=Math.max(0,Math.floor(-Math.log(Jt)/Math.LN2)),xr=Math.pow(2,fr);return new a.CanonicalTileID(fr,Math.floor((X+ae)/2*xr),Math.floor((pe+ye)/2*xr))}var oe=function(ve){function X(pe,ae,ye,Fe){ve.call(this,pe,ae,ye,Fe),this.roundZoom=!0,this.type="video",this.options=ae}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.load=function(){var ae=this;this._loaded=!1;var ye=this.options;this.urls=[];for(var Fe=0,Ze=ye.urls;Fe<Ze.length;Fe+=1){var lt=Ze[Fe];this.urls.push(this.map._requestManager.transformRequest(lt,a.ResourceType.Source).url)}a.getVideo(this.urls,function(wt,Ut){ae._loaded=!0,wt?ae.fire(new a.ErrorEvent(wt)):Ut&&(ae.video=Ut,ae.video.loop=!0,ae.video.addEventListener("playing",function(){ae.map.triggerRepaint()}),ae.map&&ae.video.play(),ae._finishLoading())})},X.prototype.pause=function(){this.video&&this.video.pause()},X.prototype.play=function(){this.video&&this.video.play()},X.prototype.seek=function(ae){if(this.video){var ye=this.video.seekable;ae<ye.start(0)||ae>ye.end(0)?this.fire(new a.ErrorEvent(new a.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+ye.start(0)+" and "+ye.end(0)+"-second mark."))):this.video.currentTime=ae}},X.prototype.getVideo=function(){return this.video},X.prototype.onAdd=function(ae){this.map||(this.map=ae,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},X.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||this.video.readyState<2)){var ae=this.map.painter.context,ye=ae.gl;this.boundsBuffer||(this.boundsBuffer=ae.createVertexBuffer(this._boundsArray,j.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(ye.LINEAR,ye.CLAMP_TO_EDGE),ye.texSubImage2D(ye.TEXTURE_2D,0,0,0,ye.RGBA,ye.UNSIGNED_BYTE,this.video)):(this.texture=new a.Texture(ae,this.video,ye.RGBA),this.texture.bind(ye.LINEAR,ye.CLAMP_TO_EDGE));for(var Fe in this.tiles){var Ze=this.tiles[Fe];Ze.state!=="loaded"&&(Ze.state="loaded",Ze.texture=this.texture)}}},X.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},X.prototype.hasTransition=function(){return this.video&&!this.video.paused},X}($),ce=function(ve){function X(pe,ae,ye,Fe){ve.call(this,pe,ae,ye,Fe),ae.coordinates?(!Array.isArray(ae.coordinates)||ae.coordinates.length!==4||ae.coordinates.some(function(Ze){return!Array.isArray(Ze)||Ze.length!==2||Ze.some(function(lt){return typeof lt!="number"})}))&&this.fire(new a.ErrorEvent(new a.ValidationError("sources."+pe,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new a.ErrorEvent(new a.ValidationError("sources."+pe,null,'missing required property "coordinates"'))),ae.animate&&typeof ae.animate!="boolean"&&this.fire(new a.ErrorEvent(new a.ValidationError("sources."+pe,null,'optional "animate" property must be a boolean value'))),ae.canvas?typeof ae.canvas!="string"&&!(ae.canvas instanceof a.window.HTMLCanvasElement)&&this.fire(new a.ErrorEvent(new a.ValidationError("sources."+pe,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new a.ErrorEvent(new a.ValidationError("sources."+pe,null,'missing required property "canvas"'))),this.options=ae,this.animate=ae.animate!==void 0?ae.animate:!0}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.load=function(){if(this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof a.window.HTMLCanvasElement?this.options.canvas:a.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()){this.fire(new a.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero.")));return}this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading()},X.prototype.getCanvas=function(){return this.canvas},X.prototype.onAdd=function(ae){this.map=ae,this.load(),this.canvas&&this.animate&&this.play()},X.prototype.onRemove=function(){this.pause()},X.prototype.prepare=function(){var ae=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,ae=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,ae=!0),!this._hasInvalidDimensions()&&Object.keys(this.tiles).length!==0){var ye=this.map.painter.context,Fe=ye.gl;this.boundsBuffer||(this.boundsBuffer=ye.createVertexBuffer(this._boundsArray,j.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(ae||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new a.Texture(ye,this.canvas,Fe.RGBA,{premultiply:!0});for(var Ze in this.tiles){var lt=this.tiles[Ze];lt.state!=="loaded"&&(lt.state="loaded",lt.texture=this.texture)}}},X.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},X.prototype.hasTransition=function(){return this._playing},X.prototype._hasInvalidDimensions=function(){for(var ae=0,ye=[this.canvas.width,this.canvas.height];ae<ye.length;ae+=1){var Fe=ye[ae];if(isNaN(Fe)||Fe<=0)return!0}return!1},X}($),Q={vector:B,raster:U,"raster-dem":F,geojson:V,video:oe,image:$,canvas:ce},Z=function(ve,X,pe,ae){var ye=new Q[X.type](ve,X,pe,ae);if(ye.id!==ve)throw new Error("Expected Source id to be "+ve+" instead of "+ye.id);return a.bindAll(["load","abort","unload","serialize","prepare"],ye),ye},K=function(ve){return Q[ve]},J=function(ve,X){Q[ve]=X};function re(ve,X){var pe=a.identity([]);return a.translate(pe,pe,[1,1,0]),a.scale(pe,pe,[ve.width*.5,ve.height*.5,1]),a.multiply(pe,pe,ve.calculatePosMatrix(X.toUnwrapped()))}function le(ve,X,pe){if(ve)for(var ae=0,ye=ve;ae<ye.length;ae+=1){var Fe=ye[ae],Ze=X[Fe];if(Ze&&Ze.source===pe&&Ze.type==="fill-extrusion")return!0}else for(var lt in X){var wt=X[lt];if(wt.source===pe&&wt.type==="fill-extrusion")return!0}return!1}function q(ve,X,pe,ae,ye,Fe){var Ze=le(ye&&ye.layers,X,ve.id),lt=Fe.maxPitchScaleFactor(),wt=ve.tilesIn(ae,lt,Ze);wt.sort(se);for(var Ut=[],Jt=0,fr=wt;Jt<fr.length;Jt+=1){var xr=fr[Jt];Ut.push({wrappedTileID:xr.tileID.wrapped().key,queryResults:xr.tile.queryRenderedFeatures(X,pe,ve._state,xr.queryGeometry,xr.cameraQueryGeometry,xr.scale,ye,Fe,lt,re(ve.transform,xr.tileID))})}var zr=he(Ut);for(var Wr in zr)zr[Wr].forEach(function(Yr){var Hr=Yr.feature,Jr=ve.getFeatureState(Hr.layer["source-layer"],Hr.id);Hr.source=Hr.layer.source,Hr.layer["source-layer"]&&(Hr.sourceLayer=Hr.layer["source-layer"]),Hr.state=Jr});return zr}function ee(ve,X,pe,ae,ye,Fe,Ze){for(var lt={},wt=Fe.queryRenderedSymbols(ae),Ut=[],Jt=0,fr=Object.keys(wt).map(Number);Jt<fr.length;Jt+=1){var xr=fr[Jt];Ut.push(Ze[xr])}Ut.sort(se);for(var zr=function(){var fn=Yr[Wr],Dn=fn.featureIndex.lookupSymbolFeatures(wt[fn.bucketInstanceId],X,fn.bucketIndex,fn.sourceLayerIndex,ye.filter,ye.layers,ye.availableImages,ve);for(var Fn in Dn){var Kn=lt[Fn]=lt[Fn]||[],Jn=Dn[Fn];Jn.sort(function(ca,ya){var Aa=fn.featureSortOrder;if(Aa){var ka=Aa.indexOf(ca.featureIndex),Va=Aa.indexOf(ya.featureIndex);return Va-ka}else return ya.featureIndex-ca.featureIndex});for(var $n=0,ia=Jn;$n<ia.length;$n+=1){var ha=ia[$n];Kn.push(ha)}}},Wr=0,Yr=Ut;Wr<Yr.length;Wr+=1)zr();var Hr=function(fn){lt[fn].forEach(function(Dn){var Fn=Dn.feature,Kn=ve[fn],Jn=pe[Kn.source],$n=Jn.getFeatureState(Fn.layer["source-layer"],Fn.id);Fn.source=Fn.layer.source,Fn.layer["source-layer"]&&(Fn.sourceLayer=Fn.layer["source-layer"]),Fn.state=$n})};for(var Jr in lt)Hr(Jr);return lt}function ue(ve,X){for(var pe=ve.getRenderableIds().map(function(wt){return ve.getTileByID(wt)}),ae=[],ye={},Fe=0;Fe<pe.length;Fe++){var Ze=pe[Fe],lt=Ze.tileID.canonical.key;ye[lt]||(ye[lt]=!0,Ze.querySourceFeatures(ae,X))}return ae}function se(ve,X){var pe=ve.tileID,ae=X.tileID;return pe.overscaledZ-ae.overscaledZ||pe.canonical.y-ae.canonical.y||pe.wrap-ae.wrap||pe.canonical.x-ae.canonical.x}function he(ve){for(var X={},pe={},ae=0,ye=ve;ae<ye.length;ae+=1){var Fe=ye[ae],Ze=Fe.queryResults,lt=Fe.wrappedTileID,wt=pe[lt]=pe[lt]||{};for(var Ut in Ze)for(var Jt=Ze[Ut],fr=wt[Ut]=wt[Ut]||{},xr=X[Ut]=X[Ut]||[],zr=0,Wr=Jt;zr<Wr.length;zr+=1){var Yr=Wr[zr];fr[Yr.featureIndex]||(fr[Yr.featureIndex]=!0,xr.push(Yr))}}return X}var me=function(X,pe){this.max=X,this.onRemove=pe,this.reset()};me.prototype.reset=function(){for(var X in this.data)for(var pe=0,ae=this.data[X];pe<ae.length;pe+=1){var ye=ae[pe];ye.timeout&&clearTimeout(ye.timeout),this.onRemove(ye.value)}return this.data={},this.order=[],this},me.prototype.add=function(X,pe,ae){var ye=this,Fe=X.wrapped().key;this.data[Fe]===void 0&&(this.data[Fe]=[]);var Ze={value:pe,timeout:void 0};if(ae!==void 0&&(Ze.timeout=setTimeout(function(){ye.remove(X,Ze)},ae)),this.data[Fe].push(Ze),this.order.push(Fe),this.order.length>this.max){var lt=this._getAndRemoveByKey(this.order[0]);lt&&this.onRemove(lt)}return this},me.prototype.has=function(X){return X.wrapped().key in this.data},me.prototype.getAndRemove=function(X){return this.has(X)?this._getAndRemoveByKey(X.wrapped().key):null},me.prototype._getAndRemoveByKey=function(X){var pe=this.data[X].shift();return pe.timeout&&clearTimeout(pe.timeout),this.data[X].length===0&&delete this.data[X],this.order.splice(this.order.indexOf(X),1),pe.value},me.prototype.getByKey=function(X){var pe=this.data[X];return pe?pe[0].value:null},me.prototype.get=function(X){if(!this.has(X))return null;var pe=this.data[X.wrapped().key][0];return pe.value},me.prototype.remove=function(X,pe){if(!this.has(X))return this;var ae=X.wrapped().key,ye=pe===void 0?0:this.data[ae].indexOf(pe),Fe=this.data[ae][ye];return this.data[ae].splice(ye,1),Fe.timeout&&clearTimeout(Fe.timeout),this.data[ae].length===0&&delete this.data[ae],this.onRemove(Fe.value),this.order.splice(this.order.indexOf(ae),1),this},me.prototype.setMaxSize=function(X){for(this.max=X;this.order.length>this.max;){var pe=this._getAndRemoveByKey(this.order[0]);pe&&this.onRemove(pe)}return this},me.prototype.filter=function(X){var pe=[];for(var ae in this.data)for(var ye=0,Fe=this.data[ae];ye<Fe.length;ye+=1){var Ze=Fe[ye];X(Ze.value)||pe.push(Ze)}for(var lt=0,wt=pe;lt<wt.length;lt+=1){var Ut=wt[lt];this.remove(Ut.value.tileID,Ut)}};var Ce=function(X,pe,ae){this.context=X;var ye=X.gl;this.buffer=ye.createBuffer(),this.dynamicDraw=!!ae,this.context.unbindVAO(),X.bindElementBuffer.set(this.buffer),ye.bufferData(ye.ELEMENT_ARRAY_BUFFER,pe.arrayBuffer,this.dynamicDraw?ye.DYNAMIC_DRAW:ye.STATIC_DRAW),this.dynamicDraw||delete pe.arrayBuffer};Ce.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},Ce.prototype.updateData=function(X){var pe=this.context.gl;this.context.unbindVAO(),this.bind(),pe.bufferSubData(pe.ELEMENT_ARRAY_BUFFER,0,X.arrayBuffer)},Ce.prototype.destroy=function(){var X=this.context.gl;this.buffer&&(X.deleteBuffer(this.buffer),delete this.buffer)};var Te={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},Oe=function(X,pe,ae,ye){this.length=pe.length,this.attributes=ae,this.itemSize=pe.bytesPerElement,this.dynamicDraw=ye,this.context=X;var Fe=X.gl;this.buffer=Fe.createBuffer(),X.bindVertexBuffer.set(this.buffer),Fe.bufferData(Fe.ARRAY_BUFFER,pe.arrayBuffer,this.dynamicDraw?Fe.DYNAMIC_DRAW:Fe.STATIC_DRAW),this.dynamicDraw||delete pe.arrayBuffer};Oe.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},Oe.prototype.updateData=function(X){var pe=this.context.gl;this.bind(),pe.bufferSubData(pe.ARRAY_BUFFER,0,X.arrayBuffer)},Oe.prototype.enableAttributes=function(X,pe){for(var ae=0;ae<this.attributes.length;ae++){var ye=this.attributes[ae],Fe=pe.attributes[ye.name];Fe!==void 0&&X.enableVertexAttribArray(Fe)}},Oe.prototype.setVertexAttribPointers=function(X,pe,ae){for(var ye=0;ye<this.attributes.length;ye++){var Fe=this.attributes[ye],Ze=pe.attributes[Fe.name];Ze!==void 0&&X.vertexAttribPointer(Ze,Fe.components,X[Te[Fe.type]],!1,this.itemSize,Fe.offset+this.itemSize*(ae||0))}},Oe.prototype.destroy=function(){var X=this.context.gl;this.buffer&&(X.deleteBuffer(this.buffer),delete this.buffer)};var Ne=function(X){this.gl=X.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};Ne.prototype.get=function(){return this.current},Ne.prototype.set=function(X){},Ne.prototype.getDefault=function(){return this.default},Ne.prototype.setDefault=function(){this.set(this.default)};var Le=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return a.Color.transparent},X.prototype.set=function(ae){var ye=this.current;ae.r===ye.r&&ae.g===ye.g&&ae.b===ye.b&&ae.a===ye.a&&!this.dirty||(this.gl.clearColor(ae.r,ae.g,ae.b,ae.a),this.current=ae,this.dirty=!1)},X}(Ne),be=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return 1},X.prototype.set=function(ae){ae===this.current&&!this.dirty||(this.gl.clearDepth(ae),this.current=ae,this.dirty=!1)},X}(Ne),Ae=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return 0},X.prototype.set=function(ae){ae===this.current&&!this.dirty||(this.gl.clearStencil(ae),this.current=ae,this.dirty=!1)},X}(Ne),He=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return[!0,!0,!0,!0]},X.prototype.set=function(ae){var ye=this.current;ae[0]===ye[0]&&ae[1]===ye[1]&&ae[2]===ye[2]&&ae[3]===ye[3]&&!this.dirty||(this.gl.colorMask(ae[0],ae[1],ae[2],ae[3]),this.current=ae,this.dirty=!1)},X}(Ne),Ve=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return!0},X.prototype.set=function(ae){ae===this.current&&!this.dirty||(this.gl.depthMask(ae),this.current=ae,this.dirty=!1)},X}(Ne),ke=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return 255},X.prototype.set=function(ae){ae===this.current&&!this.dirty||(this.gl.stencilMask(ae),this.current=ae,this.dirty=!1)},X}(Ne),Ge=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},X.prototype.set=function(ae){var ye=this.current;ae.func===ye.func&&ae.ref===ye.ref&&ae.mask===ye.mask&&!this.dirty||(this.gl.stencilFunc(ae.func,ae.ref,ae.mask),this.current=ae,this.dirty=!1)},X}(Ne),it=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){var ae=this.gl;return[ae.KEEP,ae.KEEP,ae.KEEP]},X.prototype.set=function(ae){var ye=this.current;ae[0]===ye[0]&&ae[1]===ye[1]&&ae[2]===ye[2]&&!this.dirty||(this.gl.stencilOp(ae[0],ae[1],ae[2]),this.current=ae,this.dirty=!1)},X}(Ne),et=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return!1},X.prototype.set=function(ae){if(!(ae===this.current&&!this.dirty)){var ye=this.gl;ae?ye.enable(ye.STENCIL_TEST):ye.disable(ye.STENCIL_TEST),this.current=ae,this.dirty=!1}},X}(Ne),tt=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return[0,1]},X.prototype.set=function(ae){var ye=this.current;ae[0]===ye[0]&&ae[1]===ye[1]&&!this.dirty||(this.gl.depthRange(ae[0],ae[1]),this.current=ae,this.dirty=!1)},X}(Ne),at=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return!1},X.prototype.set=function(ae){if(!(ae===this.current&&!this.dirty)){var ye=this.gl;ae?ye.enable(ye.DEPTH_TEST):ye.disable(ye.DEPTH_TEST),this.current=ae,this.dirty=!1}},X}(Ne),vt=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return this.gl.LESS},X.prototype.set=function(ae){ae===this.current&&!this.dirty||(this.gl.depthFunc(ae),this.current=ae,this.dirty=!1)},X}(Ne),yt=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return!1},X.prototype.set=function(ae){if(!(ae===this.current&&!this.dirty)){var ye=this.gl;ae?ye.enable(ye.BLEND):ye.disable(ye.BLEND),this.current=ae,this.dirty=!1}},X}(Ne),gt=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){var ae=this.gl;return[ae.ONE,ae.ZERO]},X.prototype.set=function(ae){var ye=this.current;ae[0]===ye[0]&&ae[1]===ye[1]&&!this.dirty||(this.gl.blendFunc(ae[0],ae[1]),this.current=ae,this.dirty=!1)},X}(Ne),Mt=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return a.Color.transparent},X.prototype.set=function(ae){var ye=this.current;ae.r===ye.r&&ae.g===ye.g&&ae.b===ye.b&&ae.a===ye.a&&!this.dirty||(this.gl.blendColor(ae.r,ae.g,ae.b,ae.a),this.current=ae,this.dirty=!1)},X}(Ne),Ct=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return this.gl.FUNC_ADD},X.prototype.set=function(ae){ae===this.current&&!this.dirty||(this.gl.blendEquation(ae),this.current=ae,this.dirty=!1)},X}(Ne),Vt=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return!1},X.prototype.set=function(ae){if(!(ae===this.current&&!this.dirty)){var ye=this.gl;ae?ye.enable(ye.CULL_FACE):ye.disable(ye.CULL_FACE),this.current=ae,this.dirty=!1}},X}(Ne),Je=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return this.gl.BACK},X.prototype.set=function(ae){ae===this.current&&!this.dirty||(this.gl.cullFace(ae),this.current=ae,this.dirty=!1)},X}(Ne),ze=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return this.gl.CCW},X.prototype.set=function(ae){ae===this.current&&!this.dirty||(this.gl.frontFace(ae),this.current=ae,this.dirty=!1)},X}(Ne),_e=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return null},X.prototype.set=function(ae){ae===this.current&&!this.dirty||(this.gl.useProgram(ae),this.current=ae,this.dirty=!1)},X}(Ne),Be=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return this.gl.TEXTURE0},X.prototype.set=function(ae){ae===this.current&&!this.dirty||(this.gl.activeTexture(ae),this.current=ae,this.dirty=!1)},X}(Ne),De=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){var ae=this.gl;return[0,0,ae.drawingBufferWidth,ae.drawingBufferHeight]},X.prototype.set=function(ae){var ye=this.current;ae[0]===ye[0]&&ae[1]===ye[1]&&ae[2]===ye[2]&&ae[3]===ye[3]&&!this.dirty||(this.gl.viewport(ae[0],ae[1],ae[2],ae[3]),this.current=ae,this.dirty=!1)},X}(Ne),we=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return null},X.prototype.set=function(ae){if(!(ae===this.current&&!this.dirty)){var ye=this.gl;ye.bindFramebuffer(ye.FRAMEBUFFER,ae),this.current=ae,this.dirty=!1}},X}(Ne),xe=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return null},X.prototype.set=function(ae){if(!(ae===this.current&&!this.dirty)){var ye=this.gl;ye.bindRenderbuffer(ye.RENDERBUFFER,ae),this.current=ae,this.dirty=!1}},X}(Ne),Ee=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return null},X.prototype.set=function(ae){if(!(ae===this.current&&!this.dirty)){var ye=this.gl;ye.bindTexture(ye.TEXTURE_2D,ae),this.current=ae,this.dirty=!1}},X}(Ne),Pe=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return null},X.prototype.set=function(ae){if(!(ae===this.current&&!this.dirty)){var ye=this.gl;ye.bindBuffer(ye.ARRAY_BUFFER,ae),this.current=ae,this.dirty=!1}},X}(Ne),Ue=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return null},X.prototype.set=function(ae){var ye=this.gl;ye.bindBuffer(ye.ELEMENT_ARRAY_BUFFER,ae),this.current=ae,this.dirty=!1},X}(Ne),$e=function(ve){function X(pe){ve.call(this,pe),this.vao=pe.extVertexArrayObject}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return null},X.prototype.set=function(ae){!this.vao||ae===this.current&&!this.dirty||(this.vao.bindVertexArrayOES(ae),this.current=ae,this.dirty=!1)},X}(Ne),qe=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return 4},X.prototype.set=function(ae){if(!(ae===this.current&&!this.dirty)){var ye=this.gl;ye.pixelStorei(ye.UNPACK_ALIGNMENT,ae),this.current=ae,this.dirty=!1}},X}(Ne),dt=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return!1},X.prototype.set=function(ae){if(!(ae===this.current&&!this.dirty)){var ye=this.gl;ye.pixelStorei(ye.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ae),this.current=ae,this.dirty=!1}},X}(Ne),bt=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return!1},X.prototype.set=function(ae){if(!(ae===this.current&&!this.dirty)){var ye=this.gl;ye.pixelStorei(ye.UNPACK_FLIP_Y_WEBGL,ae),this.current=ae,this.dirty=!1}},X}(Ne),Gt=function(ve){function X(pe,ae){ve.call(this,pe),this.context=pe,this.parent=ae}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getDefault=function(){return null},X}(Ne),Qt=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.setDirty=function(){this.dirty=!0},X.prototype.set=function(ae){if(!(ae===this.current&&!this.dirty)){this.context.bindFramebuffer.set(this.parent);var ye=this.gl;ye.framebufferTexture2D(ye.FRAMEBUFFER,ye.COLOR_ATTACHMENT0,ye.TEXTURE_2D,ae,0),this.current=ae,this.dirty=!1}},X}(Gt),At=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.set=function(ae){if(!(ae===this.current&&!this.dirty)){this.context.bindFramebuffer.set(this.parent);var ye=this.gl;ye.framebufferRenderbuffer(ye.FRAMEBUFFER,ye.DEPTH_ATTACHMENT,ye.RENDERBUFFER,ae),this.current=ae,this.dirty=!1}},X}(Gt),zt=function(X,pe,ae,ye){this.context=X,this.width=pe,this.height=ae;var Fe=X.gl,Ze=this.framebuffer=Fe.createFramebuffer();this.colorAttachment=new Qt(X,Ze),ye&&(this.depthAttachment=new At(X,Ze))};zt.prototype.destroy=function(){var X=this.context.gl,pe=this.colorAttachment.get();if(pe&&X.deleteTexture(pe),this.depthAttachment){var ae=this.depthAttachment.get();ae&&X.deleteRenderbuffer(ae)}X.deleteFramebuffer(this.framebuffer)};var $t=519,Ar=function(X,pe,ae){this.func=X,this.mask=pe,this.range=ae};Ar.ReadOnly=!1,Ar.ReadWrite=!0,Ar.disabled=new Ar($t,Ar.ReadOnly,[0,1]);var ut=519,Yt=7680,Kt=function(X,pe,ae,ye,Fe,Ze){this.test=X,this.ref=pe,this.mask=ae,this.fail=ye,this.depthFail=Fe,this.pass=Ze};Kt.disabled=new Kt({func:ut,mask:0},0,0,Yt,Yt,Yt);var mr=0,ur=1,pt=771,st=function(X,pe,ae){this.blendFunction=X,this.blendColor=pe,this.mask=ae};st.Replace=[ur,mr],st.disabled=new st(st.Replace,a.Color.transparent,[!1,!1,!1,!1]),st.unblended=new st(st.Replace,a.Color.transparent,[!0,!0,!0,!0]),st.alphaBlended=new st([ur,pt],a.Color.transparent,[!0,!0,!0,!0]);var xt=1029,St=2305,Dt=function(X,pe,ae){this.enable=X,this.mode=pe,this.frontFace=ae};Dt.disabled=new Dt(!1,xt,St),Dt.backCCW=new Dt(!0,xt,St);var Rt=function(X){this.gl=X,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new Le(this),this.clearDepth=new be(this),this.clearStencil=new Ae(this),this.colorMask=new He(this),this.depthMask=new Ve(this),this.stencilMask=new ke(this),this.stencilFunc=new Ge(this),this.stencilOp=new it(this),this.stencilTest=new et(this),this.depthRange=new tt(this),this.depthTest=new at(this),this.depthFunc=new vt(this),this.blend=new yt(this),this.blendFunc=new gt(this),this.blendColor=new Mt(this),this.blendEquation=new Ct(this),this.cullFace=new Vt(this),this.cullFaceSide=new Je(this),this.frontFace=new ze(this),this.program=new _e(this),this.activeTexture=new Be(this),this.viewport=new De(this),this.bindFramebuffer=new we(this),this.bindRenderbuffer=new xe(this),this.bindTexture=new Ee(this),this.bindVertexBuffer=new Pe(this),this.bindElementBuffer=new Ue(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new $e(this),this.pixelStoreUnpack=new qe(this),this.pixelStoreUnpackPremultiplyAlpha=new dt(this),this.pixelStoreUnpackFlipY=new bt(this),this.extTextureFilterAnisotropic=X.getExtension("EXT_texture_filter_anisotropic")||X.getExtension("MOZ_EXT_texture_filter_anisotropic")||X.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=X.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=X.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(X.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=X.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=X.getExtension("EXT_disjoint_timer_query")};Rt.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},Rt.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},Rt.prototype.createIndexBuffer=function(X,pe){return new Ce(this,X,pe)},Rt.prototype.createVertexBuffer=function(X,pe,ae){return new Oe(this,X,pe,ae)},Rt.prototype.createRenderbuffer=function(X,pe,ae){var ye=this.gl,Fe=ye.createRenderbuffer();return this.bindRenderbuffer.set(Fe),ye.renderbufferStorage(ye.RENDERBUFFER,X,pe,ae),this.bindRenderbuffer.set(null),Fe},Rt.prototype.createFramebuffer=function(X,pe,ae){return new zt(this,X,pe,ae)},Rt.prototype.clear=function(X){var pe=X.color,ae=X.depth,ye=this.gl,Fe=0;pe&&(Fe|=ye.COLOR_BUFFER_BIT,this.clearColor.set(pe),this.colorMask.set([!0,!0,!0,!0])),typeof ae<"u"&&(Fe|=ye.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(ae),this.depthMask.set(!0)),ye.clear(Fe)},Rt.prototype.setCullFace=function(X){X.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(X.mode),this.frontFace.set(X.frontFace))},Rt.prototype.setDepthMode=function(X){X.func===this.gl.ALWAYS&&!X.mask?this.depthTest.set(!1):(this.depthTest.set(!0),this.depthFunc.set(X.func),this.depthMask.set(X.mask),this.depthRange.set(X.range))},Rt.prototype.setStencilMode=function(X){X.test.func===this.gl.ALWAYS&&!X.mask?this.stencilTest.set(!1):(this.stencilTest.set(!0),this.stencilMask.set(X.mask),this.stencilOp.set([X.fail,X.depthFail,X.pass]),this.stencilFunc.set({func:X.test.func,ref:X.ref,mask:X.test.mask}))},Rt.prototype.setColorMode=function(X){a.deepEqual(X.blendFunction,st.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(X.blendFunction),this.blendColor.set(X.blendColor)),this.colorMask.set(X.mask)},Rt.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var Bt=function(ve){function X(pe,ae,ye){var Fe=this;ve.call(this),this.id=pe,this.dispatcher=ye,this.on("data",function(Ze){Ze.dataType==="source"&&Ze.sourceDataType==="metadata"&&(Fe._sourceLoaded=!0),Fe._sourceLoaded&&!Fe._paused&&Ze.dataType==="source"&&Ze.sourceDataType==="content"&&(Fe.reload(),Fe.transform&&Fe.update(Fe.transform))}),this.on("error",function(){Fe._sourceErrored=!0}),this._source=Z(pe,ae,ye,this),this._tiles={},this._cache=new me(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new a.SourceFeatureState}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.onAdd=function(ae){this.map=ae,this._maxTileCacheSize=ae?ae._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(ae)},X.prototype.onRemove=function(ae){this._source&&this._source.onRemove&&this._source.onRemove(ae)},X.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var ae in this._tiles){var ye=this._tiles[ae];if(ye.state!=="loaded"&&ye.state!=="errored")return!1}return!0},X.prototype.getSource=function(){return this._source},X.prototype.pause=function(){this._paused=!0},X.prototype.resume=function(){if(this._paused){var ae=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,ae&&this.reload(),this.transform&&this.update(this.transform)}},X.prototype._loadTile=function(ae,ye){return this._source.loadTile(ae,ye)},X.prototype._unloadTile=function(ae){if(this._source.unloadTile)return this._source.unloadTile(ae,function(){})},X.prototype._abortTile=function(ae){if(this._source.abortTile)return this._source.abortTile(ae,function(){})},X.prototype.serialize=function(){return this._source.serialize()},X.prototype.prepare=function(ae){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(var ye in this._tiles){var Fe=this._tiles[ye];Fe.upload(ae),Fe.prepare(this.map.style.imageManager)}},X.prototype.getIds=function(){return a.values(this._tiles).map(function(ae){return ae.tileID}).sort(Nt).map(function(ae){return ae.key})},X.prototype.getRenderableIds=function(ae){var ye=this,Fe=[];for(var Ze in this._tiles)this._isIdRenderable(Ze,ae)&&Fe.push(this._tiles[Ze]);return ae?Fe.sort(function(lt,wt){var Ut=lt.tileID,Jt=wt.tileID,fr=new a.Point(Ut.canonical.x,Ut.canonical.y)._rotate(ye.transform.angle),xr=new a.Point(Jt.canonical.x,Jt.canonical.y)._rotate(ye.transform.angle);return Ut.overscaledZ-Jt.overscaledZ||xr.y-fr.y||xr.x-fr.x}).map(function(lt){return lt.tileID.key}):Fe.map(function(lt){return lt.tileID}).sort(Nt).map(function(lt){return lt.key})},X.prototype.hasRenderableParent=function(ae){var ye=this.findLoadedParent(ae,0);return ye?this._isIdRenderable(ye.tileID.key):!1},X.prototype._isIdRenderable=function(ae,ye){return this._tiles[ae]&&this._tiles[ae].hasData()&&!this._coveredTiles[ae]&&(ye||!this._tiles[ae].holdingForFade())},X.prototype.reload=function(){if(this._paused){this._shouldReloadOnResume=!0;return}this._cache.reset();for(var ae in this._tiles)this._tiles[ae].state!=="errored"&&this._reloadTile(ae,"reloading")},X.prototype._reloadTile=function(ae,ye){var Fe=this._tiles[ae];Fe&&(Fe.state!=="loading"&&(Fe.state=ye),this._loadTile(Fe,this._tileLoaded.bind(this,Fe,ae,ye)))},X.prototype._tileLoaded=function(ae,ye,Fe,Ze){if(Ze){ae.state="errored",Ze.status!==404?this._source.fire(new a.ErrorEvent(Ze,{tile:ae})):this.update(this.transform);return}ae.timeAdded=a.browser.now(),Fe==="expired"&&(ae.refreshedUponExpiration=!0),this._setTileReloadTimer(ye,ae),this.getSource().type==="raster-dem"&&ae.dem&&this._backfillDEM(ae),this._state.initializeTileState(ae,this.map?this.map.painter:null),this._source.fire(new a.Event("data",{dataType:"source",tile:ae,coord:ae.tileID}))},X.prototype._backfillDEM=function(ae){for(var ye=this.getRenderableIds(),Fe=0;Fe<ye.length;Fe++){var Ze=ye[Fe];if(ae.neighboringTiles&&ae.neighboringTiles[Ze]){var lt=this.getTileByID(Ze);wt(ae,lt),wt(lt,ae)}}function wt(Ut,Jt){Ut.needsHillshadePrepare=!0;var fr=Jt.tileID.canonical.x-Ut.tileID.canonical.x,xr=Jt.tileID.canonical.y-Ut.tileID.canonical.y,zr=Math.pow(2,Ut.tileID.canonical.z),Wr=Jt.tileID.key;fr===0&&xr===0||Math.abs(xr)>1||(Math.abs(fr)>1&&(Math.abs(fr+zr)===1?fr+=zr:Math.abs(fr-zr)===1&&(fr-=zr)),!(!Jt.dem||!Ut.dem)&&(Ut.dem.backfillBorder(Jt.dem,fr,xr),Ut.neighboringTiles&&Ut.neighboringTiles[Wr]&&(Ut.neighboringTiles[Wr].backfilled=!0)))}},X.prototype.getTile=function(ae){return this.getTileByID(ae.key)},X.prototype.getTileByID=function(ae){return this._tiles[ae]},X.prototype._retainLoadedChildren=function(ae,ye,Fe,Ze){for(var lt in this._tiles){var wt=this._tiles[lt];if(!(Ze[lt]||!wt.hasData()||wt.tileID.overscaledZ<=ye||wt.tileID.overscaledZ>Fe)){for(var Ut=wt.tileID;wt&&wt.tileID.overscaledZ>ye+1;){var Jt=wt.tileID.scaledTo(wt.tileID.overscaledZ-1);wt=this._tiles[Jt.key],wt&&wt.hasData()&&(Ut=Jt)}for(var fr=Ut;fr.overscaledZ>ye;)if(fr=fr.scaledTo(fr.overscaledZ-1),ae[fr.key]){Ze[Ut.key]=Ut;break}}}},X.prototype.findLoadedParent=function(ae,ye){if(ae.key in this._loadedParentTiles){var Fe=this._loadedParentTiles[ae.key];return Fe&&Fe.tileID.overscaledZ>=ye?Fe:null}for(var Ze=ae.overscaledZ-1;Ze>=ye;Ze--){var lt=ae.scaledTo(Ze),wt=this._getLoadedTile(lt);if(wt)return wt}},X.prototype._getLoadedTile=function(ae){var ye=this._tiles[ae.key];if(ye&&ye.hasData())return ye;var Fe=this._cache.getByKey(ae.wrapped().key);return Fe},X.prototype.updateCacheSize=function(ae){var ye=Math.ceil(ae.width/this._source.tileSize)+1,Fe=Math.ceil(ae.height/this._source.tileSize)+1,Ze=ye*Fe,lt=5,wt=Math.floor(Ze*lt),Ut=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,wt):wt;this._cache.setMaxSize(Ut)},X.prototype.handleWrapJump=function(ae){var ye=this._prevLng===void 0?ae:this._prevLng,Fe=ae-ye,Ze=Fe/360,lt=Math.round(Ze);if(this._prevLng=ae,lt){var wt={};for(var Ut in this._tiles){var Jt=this._tiles[Ut];Jt.tileID=Jt.tileID.unwrapTo(Jt.tileID.wrap+lt),wt[Jt.tileID.key]=Jt}this._tiles=wt;for(var fr in this._timers)clearTimeout(this._timers[fr]),delete this._timers[fr];for(var xr in this._tiles){var zr=this._tiles[xr];this._setTileReloadTimer(xr,zr)}}},X.prototype.update=function(ae){var ye=this;if(this.transform=ae,!(!this._sourceLoaded||this._paused)){this.updateCacheSize(ae),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={};var Fe;this.used?this._source.tileID?Fe=ae.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(ca){return new a.OverscaledTileID(ca.canonical.z,ca.wrap,ca.canonical.z,ca.canonical.x,ca.canonical.y)}):(Fe=ae.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(Fe=Fe.filter(function(ca){return ye._source.hasTile(ca)}))):Fe=[];var Ze=ae.coveringZoomLevel(this._source),lt=Math.max(Ze-X.maxOverzooming,this._source.minzoom),wt=Math.max(Ze+X.maxUnderzooming,this._source.minzoom),Ut=this._updateRetainedTiles(Fe,Ze);if(Xt(this._source.type)){for(var Jt={},fr={},xr=Object.keys(Ut),zr=0,Wr=xr;zr<Wr.length;zr+=1){var Yr=Wr[zr],Hr=Ut[Yr],Jr=this._tiles[Yr];if(!(!Jr||Jr.fadeEndTime&&Jr.fadeEndTime<=a.browser.now())){var fn=this.findLoadedParent(Hr,lt);fn&&(this._addTile(fn.tileID),Jt[fn.tileID.key]=fn.tileID),fr[Yr]=Hr}}this._retainLoadedChildren(fr,Ze,wt,Ut);for(var Dn in Jt)Ut[Dn]||(this._coveredTiles[Dn]=!0,Ut[Dn]=Jt[Dn])}for(var Fn in Ut)this._tiles[Fn].clearFadeHold();for(var Kn=a.keysDifference(this._tiles,Ut),Jn=0,$n=Kn;Jn<$n.length;Jn+=1){var ia=$n[Jn],ha=this._tiles[ia];ha.hasSymbolBuckets&&!ha.holdingForFade()?ha.setHoldDuration(this.map._fadeDuration):(!ha.hasSymbolBuckets||ha.symbolFadeFinished())&&this._removeTile(ia)}this._updateLoadedParentTileCache()}},X.prototype.releaseSymbolFadeTiles=function(){for(var ae in this._tiles)this._tiles[ae].holdingForFade()&&this._removeTile(ae)},X.prototype._updateRetainedTiles=function(ae,ye){for(var Fe={},Ze={},lt=Math.max(ye-X.maxOverzooming,this._source.minzoom),wt=Math.max(ye+X.maxUnderzooming,this._source.minzoom),Ut={},Jt=0,fr=ae;Jt<fr.length;Jt+=1){var xr=fr[Jt],zr=this._addTile(xr);Fe[xr.key]=xr,!zr.hasData()&&ye<this._source.maxzoom&&(Ut[xr.key]=xr)}this._retainLoadedChildren(Ut,ye,wt,Fe);for(var Wr=0,Yr=ae;Wr<Yr.length;Wr+=1){var Hr=Yr[Wr],Jr=this._tiles[Hr.key];if(!Jr.hasData()){if(ye+1>this._source.maxzoom){var fn=Hr.children(this._source.maxzoom)[0],Dn=this.getTile(fn);if(Dn&&Dn.hasData()){Fe[fn.key]=fn;continue}}else{var Fn=Hr.children(this._source.maxzoom);if(Fe[Fn[0].key]&&Fe[Fn[1].key]&&Fe[Fn[2].key]&&Fe[Fn[3].key])continue}for(var Kn=Jr.wasRequested(),Jn=Hr.overscaledZ-1;Jn>=lt;--Jn){var $n=Hr.scaledTo(Jn);if(Ze[$n.key]||(Ze[$n.key]=!0,Jr=this.getTile($n),!Jr&&Kn&&(Jr=this._addTile($n)),Jr&&(Fe[$n.key]=$n,Kn=Jr.wasRequested(),Jr.hasData())))break}}}return Fe},X.prototype._updateLoadedParentTileCache=function(){this._loadedParentTiles={};for(var ae in this._tiles){for(var ye=[],Fe=void 0,Ze=this._tiles[ae].tileID;Ze.overscaledZ>0;){if(Ze.key in this._loadedParentTiles){Fe=this._loadedParentTiles[Ze.key];break}ye.push(Ze.key);var lt=Ze.scaledTo(Ze.overscaledZ-1);if(Fe=this._getLoadedTile(lt),Fe)break;Ze=lt}for(var wt=0,Ut=ye;wt<Ut.length;wt+=1){var Jt=Ut[wt];this._loadedParentTiles[Jt]=Fe}}},X.prototype._addTile=function(ae){var ye=this._tiles[ae.key];if(ye)return ye;ye=this._cache.getAndRemove(ae),ye&&(this._setTileReloadTimer(ae.key,ye),ye.tileID=ae,this._state.initializeTileState(ye,this.map?this.map.painter:null),this._cacheTimers[ae.key]&&(clearTimeout(this._cacheTimers[ae.key]),delete this._cacheTimers[ae.key],this._setTileReloadTimer(ae.key,ye)));var Fe=!!ye;return Fe||(ye=new a.Tile(ae,this._source.tileSize*ae.overscaleFactor()),this._loadTile(ye,this._tileLoaded.bind(this,ye,ae.key,ye.state))),ye?(ye.uses++,this._tiles[ae.key]=ye,Fe||this._source.fire(new a.Event("dataloading",{tile:ye,coord:ye.tileID,dataType:"source"})),ye):null},X.prototype._setTileReloadTimer=function(ae,ye){var Fe=this;ae in this._timers&&(clearTimeout(this._timers[ae]),delete this._timers[ae]);var Ze=ye.getExpiryTimeout();Ze&&(this._timers[ae]=setTimeout(function(){Fe._reloadTile(ae,"expired"),delete Fe._timers[ae]},Ze))},X.prototype._removeTile=function(ae){var ye=this._tiles[ae];ye&&(ye.uses--,delete this._tiles[ae],this._timers[ae]&&(clearTimeout(this._timers[ae]),delete this._timers[ae]),!(ye.uses>0)&&(ye.hasData()&&ye.state!=="reloading"?this._cache.add(ye.tileID,ye,ye.getExpiryTimeout()):(ye.aborted=!0,this._abortTile(ye),this._unloadTile(ye))))},X.prototype.clearTiles=function(){this._shouldReloadOnResume=!1,this._paused=!1;for(var ae in this._tiles)this._removeTile(ae);this._cache.reset()},X.prototype.tilesIn=function(ae,ye,Fe){var Ze=this,lt=[],wt=this.transform;if(!wt)return lt;for(var Ut=Fe?wt.getCameraQueryGeometry(ae):ae,Jt=ae.map(function(Jn){return wt.pointCoordinate(Jn)}),fr=Ut.map(function(Jn){return wt.pointCoordinate(Jn)}),xr=this.getIds(),zr=1/0,Wr=1/0,Yr=-1/0,Hr=-1/0,Jr=0,fn=fr;Jr<fn.length;Jr+=1){var Dn=fn[Jr];zr=Math.min(zr,Dn.x),Wr=Math.min(Wr,Dn.y),Yr=Math.max(Yr,Dn.x),Hr=Math.max(Hr,Dn.y)}for(var Fn=function(Jn){var $n=Ze._tiles[xr[Jn]];if(!$n.holdingForFade()){var ia=$n.tileID,ha=Math.pow(2,wt.zoom-$n.tileID.overscaledZ),ca=ye*$n.queryPadding*a.EXTENT/$n.tileSize/ha,ya=[ia.getTilePoint(new a.MercatorCoordinate(zr,Wr)),ia.getTilePoint(new a.MercatorCoordinate(Yr,Hr))];if(ya[0].x-ca<a.EXTENT&&ya[0].y-ca<a.EXTENT&&ya[1].x+ca>=0&&ya[1].y+ca>=0){var Aa=Jt.map(function(Va){return ia.getTilePoint(Va)}),ka=fr.map(function(Va){return ia.getTilePoint(Va)});lt.push({tile:$n,tileID:ia,queryGeometry:Aa,cameraQueryGeometry:ka,scale:ha})}}},Kn=0;Kn<xr.length;Kn++)Fn(Kn);return lt},X.prototype.getVisibleCoordinates=function(ae){for(var ye=this,Fe=this.getRenderableIds(ae).map(function(Ut){return ye._tiles[Ut].tileID}),Ze=0,lt=Fe;Ze<lt.length;Ze+=1){var wt=lt[Ze];wt.posMatrix=this.transform.calculatePosMatrix(wt.toUnwrapped())}return Fe},X.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(Xt(this._source.type))for(var ae in this._tiles){var ye=this._tiles[ae];if(ye.fadeEndTime!==void 0&&ye.fadeEndTime>=a.browser.now())return!0}return!1},X.prototype.setFeatureState=function(ae,ye,Fe){ae=ae||"_geojsonTileLayer",this._state.updateState(ae,ye,Fe)},X.prototype.removeFeatureState=function(ae,ye,Fe){ae=ae||"_geojsonTileLayer",this._state.removeFeatureState(ae,ye,Fe)},X.prototype.getFeatureState=function(ae,ye){return ae=ae||"_geojsonTileLayer",this._state.getState(ae,ye)},X.prototype.setDependencies=function(ae,ye,Fe){var Ze=this._tiles[ae];Ze&&Ze.setDependencies(ye,Fe)},X.prototype.reloadTilesForDependencies=function(ae,ye){for(var Fe in this._tiles){var Ze=this._tiles[Fe];Ze.hasDependency(ae,ye)&&this._reloadTile(Fe,"reloading")}this._cache.filter(function(lt){return!lt.hasDependency(ae,ye)})},X}(a.Evented);Bt.maxOverzooming=10,Bt.maxUnderzooming=3;function Nt(ve,X){var pe=Math.abs(ve.wrap*2)-+(ve.wrap<0),ae=Math.abs(X.wrap*2)-+(X.wrap<0);return ve.overscaledZ-X.overscaledZ||ae-pe||X.canonical.y-ve.canonical.y||X.canonical.x-ve.canonical.x}function Xt(ve){return ve==="raster"||ve==="image"||ve==="video"}function lr(){return new a.window.Worker(wg.workerUrl)}var sr="mapboxgl_preloaded_worker_pool",dr=function(){this.active={}};dr.prototype.acquire=function(X){if(!this.workers)for(this.workers=[];this.workers.length<dr.workerCount;)this.workers.push(new lr);return this.active[X]=!0,this.workers.slice()},dr.prototype.release=function(X){delete this.active[X],this.numActive()===0&&(this.workers.forEach(function(pe){pe.terminate()}),this.workers=null)},dr.prototype.isPreloaded=function(){return!!this.active[sr]},dr.prototype.numActive=function(){return Object.keys(this.active).length};var je=Math.floor(a.browser.hardwareConcurrency/2);dr.workerCount=Math.max(Math.min(je,6),1);var Ye;function It(){return Ye||(Ye=new dr),Ye}function kt(){var ve=It();ve.acquire(sr)}function jt(){var ve=Ye;ve&&(ve.isPreloaded()&&ve.numActive()===1?(ve.release(sr),Ye=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))}function tr(ve,X){var pe={};for(var ae in ve)ae!=="ref"&&(pe[ae]=ve[ae]);return a.refProperties.forEach(function(ye){ye in X&&(pe[ye]=X[ye])}),pe}function or(ve){ve=ve.slice();for(var X=Object.create(null),pe=0;pe<ve.length;pe++)X[ve[pe].id]=ve[pe];for(var ae=0;ae<ve.length;ae++)"ref"in ve[ae]&&(ve[ae]=tr(ve[ae],X[ve[ae].ref]));return ve}function rr(){var ve={},X=a.styleSpec.$version;for(var pe in a.styleSpec.$root){var ae=a.styleSpec.$root[pe];if(ae.required){var ye=null;pe==="version"?ye=X:ae.type==="array"?ye=[]:ye={},ye!=null&&(ve[pe]=ye)}}return ve}var Ot={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function hr(ve,X,pe){pe.push({command:Ot.addSource,args:[ve,X[ve]]})}function gr(ve,X,pe){X.push({command:Ot.removeSource,args:[ve]}),pe[ve]=!0}function pr(ve,X,pe,ae){gr(ve,pe,ae),hr(ve,X,pe)}function vr(ve,X,pe){var ae;for(ae in ve[pe])if(ve[pe].hasOwnProperty(ae)&&ae!=="data"&&!a.deepEqual(ve[pe][ae],X[pe][ae]))return!1;for(ae in X[pe])if(X[pe].hasOwnProperty(ae)&&ae!=="data"&&!a.deepEqual(ve[pe][ae],X[pe][ae]))return!1;return!0}function Vr(ve,X,pe,ae){ve=ve||{},X=X||{};var ye;for(ye in ve)ve.hasOwnProperty(ye)&&(X.hasOwnProperty(ye)||gr(ye,pe,ae));for(ye in X)X.hasOwnProperty(ye)&&(ve.hasOwnProperty(ye)?a.deepEqual(ve[ye],X[ye])||(ve[ye].type==="geojson"&&X[ye].type==="geojson"&&vr(ve,X,ye)?pe.push({command:Ot.setGeoJSONSourceData,args:[ye,X[ye].data]}):pr(ye,X,pe,ae)):hr(ye,X,pe))}function kr(ve,X,pe,ae,ye,Fe){ve=ve||{},X=X||{};var Ze;for(Ze in ve)ve.hasOwnProperty(Ze)&&(a.deepEqual(ve[Ze],X[Ze])||pe.push({command:Fe,args:[ae,Ze,X[Ze],ye]}));for(Ze in X)!X.hasOwnProperty(Ze)||ve.hasOwnProperty(Ze)||a.deepEqual(ve[Ze],X[Ze])||pe.push({command:Fe,args:[ae,Ze,X[Ze],ye]})}function _r(ve){return ve.id}function pn(ve,X){return ve[X.id]=X,ve}function en(ve,X,pe){ve=ve||[],X=X||[];var ae=ve.map(_r),ye=X.map(_r),Fe=ve.reduce(pn,{}),Ze=X.reduce(pn,{}),lt=ae.slice(),wt=Object.create(null),Ut,Jt,fr,xr,zr,Wr,Yr;for(Ut=0,Jt=0;Ut<ae.length;Ut++)fr=ae[Ut],Ze.hasOwnProperty(fr)?Jt++:(pe.push({command:Ot.removeLayer,args:[fr]}),lt.splice(lt.indexOf(fr,Jt),1));for(Ut=0,Jt=0;Ut<ye.length;Ut++)fr=ye[ye.length-1-Ut],lt[lt.length-1-Ut]!==fr&&(Fe.hasOwnProperty(fr)?(pe.push({command:Ot.removeLayer,args:[fr]}),lt.splice(lt.lastIndexOf(fr,lt.length-Jt),1)):Jt++,Wr=lt[lt.length-Ut],pe.push({command:Ot.addLayer,args:[Ze[fr],Wr]}),lt.splice(lt.length-Ut,0,fr),wt[fr]=!0);for(Ut=0;Ut<ye.length;Ut++)if(fr=ye[Ut],xr=Fe[fr],zr=Ze[fr],!(wt[fr]||a.deepEqual(xr,zr))){if(!a.deepEqual(xr.source,zr.source)||!a.deepEqual(xr["source-layer"],zr["source-layer"])||!a.deepEqual(xr.type,zr.type)){pe.push({command:Ot.removeLayer,args:[fr]}),Wr=lt[lt.lastIndexOf(fr)+1],pe.push({command:Ot.addLayer,args:[zr,Wr]});continue}kr(xr.layout,zr.layout,pe,fr,null,Ot.setLayoutProperty),kr(xr.paint,zr.paint,pe,fr,null,Ot.setPaintProperty),a.deepEqual(xr.filter,zr.filter)||pe.push({command:Ot.setFilter,args:[fr,zr.filter]}),(!a.deepEqual(xr.minzoom,zr.minzoom)||!a.deepEqual(xr.maxzoom,zr.maxzoom))&&pe.push({command:Ot.setLayerZoomRange,args:[fr,zr.minzoom,zr.maxzoom]});for(Yr in xr)xr.hasOwnProperty(Yr)&&(Yr==="layout"||Yr==="paint"||Yr==="filter"||Yr==="metadata"||Yr==="minzoom"||Yr==="maxzoom"||(Yr.indexOf("paint.")===0?kr(xr[Yr],zr[Yr],pe,fr,Yr.slice(6),Ot.setPaintProperty):a.deepEqual(xr[Yr],zr[Yr])||pe.push({command:Ot.setLayerProperty,args:[fr,Yr,zr[Yr]]})));for(Yr in zr)!zr.hasOwnProperty(Yr)||xr.hasOwnProperty(Yr)||Yr==="layout"||Yr==="paint"||Yr==="filter"||Yr==="metadata"||Yr==="minzoom"||Yr==="maxzoom"||(Yr.indexOf("paint.")===0?kr(xr[Yr],zr[Yr],pe,fr,Yr.slice(6),Ot.setPaintProperty):a.deepEqual(xr[Yr],zr[Yr])||pe.push({command:Ot.setLayerProperty,args:[fr,Yr,zr[Yr]]}))}}function Bn(ve,X){if(!ve)return[{command:Ot.setStyle,args:[X]}];var pe=[];try{if(!a.deepEqual(ve.version,X.version))return[{command:Ot.setStyle,args:[X]}];a.deepEqual(ve.center,X.center)||pe.push({command:Ot.setCenter,args:[X.center]}),a.deepEqual(ve.zoom,X.zoom)||pe.push({command:Ot.setZoom,args:[X.zoom]}),a.deepEqual(ve.bearing,X.bearing)||pe.push({command:Ot.setBearing,args:[X.bearing]}),a.deepEqual(ve.pitch,X.pitch)||pe.push({command:Ot.setPitch,args:[X.pitch]}),a.deepEqual(ve.sprite,X.sprite)||pe.push({command:Ot.setSprite,args:[X.sprite]}),a.deepEqual(ve.glyphs,X.glyphs)||pe.push({command:Ot.setGlyphs,args:[X.glyphs]}),a.deepEqual(ve.transition,X.transition)||pe.push({command:Ot.setTransition,args:[X.transition]}),a.deepEqual(ve.light,X.light)||pe.push({command:Ot.setLight,args:[X.light]});var ae={},ye=[];Vr(ve.sources,X.sources,ye,ae);var Fe=[];ve.layers&&ve.layers.forEach(function(Ze){ae[Ze.source]?pe.push({command:Ot.removeLayer,args:[Ze.id]}):Fe.push(Ze)}),pe=pe.concat(ye),en(Fe,X.layers,pe)}catch(Ze){console.warn("Unable to compute style diff:",Ze),pe=[{command:Ot.setStyle,args:[X]}]}return pe}var Tn=function(X,pe){this.reset(X,pe)};Tn.prototype.reset=function(X,pe){this.points=X||[],this._distances=[0];for(var ae=1;ae<this.points.length;ae++)this._distances[ae]=this._distances[ae-1]+this.points[ae].dist(this.points[ae-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(pe||0,this.length*.5),this.paddedLength=this.length-this.padding*2},Tn.prototype.lerp=function(X){if(this.points.length===1)return this.points[0];X=a.clamp(X,0,1);for(var pe=1,ae=this._distances[pe],ye=X*this.paddedLength+this.padding;ae<ye&&pe<this._distances.length;)ae=this._distances[++pe];var Fe=pe-1,Ze=this._distances[Fe],lt=ae-Ze,wt=lt>0?(ye-Ze)/lt:0;return this.points[Fe].mult(1-wt).add(this.points[pe].mult(wt))};var Mr=function(X,pe,ae){var ye=this.boxCells=[],Fe=this.circleCells=[];this.xCellCount=Math.ceil(X/ae),this.yCellCount=Math.ceil(pe/ae);for(var Ze=0;Ze<this.xCellCount*this.yCellCount;Ze++)ye.push([]),Fe.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=X,this.height=pe,this.xScale=this.xCellCount/X,this.yScale=this.yCellCount/pe,this.boxUid=0,this.circleUid=0};Mr.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},Mr.prototype.insert=function(X,pe,ae,ye,Fe){this._forEachCell(pe,ae,ye,Fe,this._insertBoxCell,this.boxUid++),this.boxKeys.push(X),this.bboxes.push(pe),this.bboxes.push(ae),this.bboxes.push(ye),this.bboxes.push(Fe)},Mr.prototype.insertCircle=function(X,pe,ae,ye){this._forEachCell(pe-ye,ae-ye,pe+ye,ae+ye,this._insertCircleCell,this.circleUid++),this.circleKeys.push(X),this.circles.push(pe),this.circles.push(ae),this.circles.push(ye)},Mr.prototype._insertBoxCell=function(X,pe,ae,ye,Fe,Ze){this.boxCells[Fe].push(Ze)},Mr.prototype._insertCircleCell=function(X,pe,ae,ye,Fe,Ze){this.circleCells[Fe].push(Ze)},Mr.prototype._query=function(X,pe,ae,ye,Fe,Ze){if(ae<0||X>this.width||ye<0||pe>this.height)return Fe?!1:[];var lt=[];if(X<=0&&pe<=0&&this.width<=ae&&this.height<=ye){if(Fe)return!0;for(var wt=0;wt<this.boxKeys.length;wt++)lt.push({key:this.boxKeys[wt],x1:this.bboxes[wt*4],y1:this.bboxes[wt*4+1],x2:this.bboxes[wt*4+2],y2:this.bboxes[wt*4+3]});for(var Ut=0;Ut<this.circleKeys.length;Ut++){var Jt=this.circles[Ut*3],fr=this.circles[Ut*3+1],xr=this.circles[Ut*3+2];lt.push({key:this.circleKeys[Ut],x1:Jt-xr,y1:fr-xr,x2:Jt+xr,y2:fr+xr})}return Ze?lt.filter(Ze):lt}else{var zr={hitTest:Fe,seenUids:{box:{},circle:{}}};return this._forEachCell(X,pe,ae,ye,this._queryCell,lt,zr,Ze),Fe?lt.length>0:lt}},Mr.prototype._queryCircle=function(X,pe,ae,ye,Fe){var Ze=X-ae,lt=X+ae,wt=pe-ae,Ut=pe+ae;if(lt<0||Ze>this.width||Ut<0||wt>this.height)return ye?!1:[];var Jt=[],fr={hitTest:ye,circle:{x:X,y:pe,radius:ae},seenUids:{box:{},circle:{}}};return this._forEachCell(Ze,wt,lt,Ut,this._queryCellCircle,Jt,fr,Fe),ye?Jt.length>0:Jt},Mr.prototype.query=function(X,pe,ae,ye,Fe){return this._query(X,pe,ae,ye,!1,Fe)},Mr.prototype.hitTest=function(X,pe,ae,ye,Fe){return this._query(X,pe,ae,ye,!0,Fe)},Mr.prototype.hitTestCircle=function(X,pe,ae,ye){return this._queryCircle(X,pe,ae,!0,ye)},Mr.prototype._queryCell=function(X,pe,ae,ye,Fe,Ze,lt,wt){var Ut=lt.seenUids,Jt=this.boxCells[Fe];if(Jt!==null)for(var fr=this.bboxes,xr=0,zr=Jt;xr<zr.length;xr+=1){var Wr=zr[xr];if(!Ut.box[Wr]){Ut.box[Wr]=!0;var Yr=Wr*4;if(X<=fr[Yr+2]&&pe<=fr[Yr+3]&&ae>=fr[Yr+0]&&ye>=fr[Yr+1]&&(!wt||wt(this.boxKeys[Wr]))){if(lt.hitTest)return Ze.push(!0),!0;Ze.push({key:this.boxKeys[Wr],x1:fr[Yr],y1:fr[Yr+1],x2:fr[Yr+2],y2:fr[Yr+3]})}}}var Hr=this.circleCells[Fe];if(Hr!==null)for(var Jr=this.circles,fn=0,Dn=Hr;fn<Dn.length;fn+=1){var Fn=Dn[fn];if(!Ut.circle[Fn]){Ut.circle[Fn]=!0;var Kn=Fn*3;if(this._circleAndRectCollide(Jr[Kn],Jr[Kn+1],Jr[Kn+2],X,pe,ae,ye)&&(!wt||wt(this.circleKeys[Fn]))){if(lt.hitTest)return Ze.push(!0),!0;var Jn=Jr[Kn],$n=Jr[Kn+1],ia=Jr[Kn+2];Ze.push({key:this.circleKeys[Fn],x1:Jn-ia,y1:$n-ia,x2:Jn+ia,y2:$n+ia})}}}},Mr.prototype._queryCellCircle=function(X,pe,ae,ye,Fe,Ze,lt,wt){var Ut=lt.circle,Jt=lt.seenUids,fr=this.boxCells[Fe];if(fr!==null)for(var xr=this.bboxes,zr=0,Wr=fr;zr<Wr.length;zr+=1){var Yr=Wr[zr];if(!Jt.box[Yr]){Jt.box[Yr]=!0;var Hr=Yr*4;if(this._circleAndRectCollide(Ut.x,Ut.y,Ut.radius,xr[Hr+0],xr[Hr+1],xr[Hr+2],xr[Hr+3])&&(!wt||wt(this.boxKeys[Yr])))return Ze.push(!0),!0}}var Jr=this.circleCells[Fe];if(Jr!==null)for(var fn=this.circles,Dn=0,Fn=Jr;Dn<Fn.length;Dn+=1){var Kn=Fn[Dn];if(!Jt.circle[Kn]){Jt.circle[Kn]=!0;var Jn=Kn*3;if(this._circlesCollide(fn[Jn],fn[Jn+1],fn[Jn+2],Ut.x,Ut.y,Ut.radius)&&(!wt||wt(this.circleKeys[Kn])))return Ze.push(!0),!0}}},Mr.prototype._forEachCell=function(X,pe,ae,ye,Fe,Ze,lt,wt){for(var Ut=this._convertToXCellCoord(X),Jt=this._convertToYCellCoord(pe),fr=this._convertToXCellCoord(ae),xr=this._convertToYCellCoord(ye),zr=Ut;zr<=fr;zr++)for(var Wr=Jt;Wr<=xr;Wr++){var Yr=this.xCellCount*Wr+zr;if(Fe.call(this,X,pe,ae,ye,Yr,Ze,lt,wt))return}},Mr.prototype._convertToXCellCoord=function(X){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(X*this.xScale)))},Mr.prototype._convertToYCellCoord=function(X){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(X*this.yScale)))},Mr.prototype._circlesCollide=function(X,pe,ae,ye,Fe,Ze){var lt=ye-X,wt=Fe-pe,Ut=ae+Ze;return Ut*Ut>lt*lt+wt*wt},Mr.prototype._circleAndRectCollide=function(X,pe,ae,ye,Fe,Ze,lt){var wt=(Ze-ye)/2,Ut=Math.abs(X-(ye+wt));if(Ut>wt+ae)return!1;var Jt=(lt-Fe)/2,fr=Math.abs(pe-(Fe+Jt));if(fr>Jt+ae)return!1;if(Ut<=wt||fr<=Jt)return!0;var xr=Ut-wt,zr=fr-Jt;return xr*xr+zr*zr<=ae*ae};function Er(ve,X,pe,ae,ye){var Fe=a.create();return X?(a.scale(Fe,Fe,[1/ye,1/ye,1]),pe||a.rotateZ(Fe,Fe,ae.angle)):a.multiply(Fe,ae.labelPlaneMatrix,ve),Fe}function Gr(ve,X,pe,ae,ye){if(X){var Fe=a.clone(ve);return a.scale(Fe,Fe,[ye,ye,1]),pe||a.rotateZ(Fe,Fe,-ae.angle),Fe}else return ae.glCoordMatrix}function Ur(ve,X){var pe=[ve.x,ve.y,0,1];Tr(pe,pe,X);var ae=pe[3];return{point:new a.Point(pe[0]/ae,pe[1]/ae),signedDistanceFromCamera:ae}}function an(ve,X){return .5+.5*(ve/X)}function gn(ve,X){var pe=ve[0]/ve[3],ae=ve[1]/ve[3],ye=pe>=-X[0]&&pe<=X[0]&&ae>=-X[1]&&ae<=X[1];return ye}function mn(ve,X,pe,ae,ye,Fe,Ze,lt){var wt=ae?ve.textSizeData:ve.iconSizeData,Ut=a.evaluateSizeForZoom(wt,pe.transform.zoom),Jt=[256/pe.width*2+1,256/pe.height*2+1],fr=ae?ve.text.dynamicLayoutVertexArray:ve.icon.dynamicLayoutVertexArray;fr.clear();for(var xr=ve.lineVertexArray,zr=ae?ve.text.placedSymbolArray:ve.icon.placedSymbolArray,Wr=pe.transform.width/pe.transform.height,Yr=!1,Hr=0;Hr<zr.length;Hr++){var Jr=zr.get(Hr);if(Jr.hidden||Jr.writingMode===a.WritingMode.vertical&&!Yr){Qn(Jr.numGlyphs,fr);continue}Yr=!1;var fn=[Jr.anchorX,Jr.anchorY,0,1];if(a.transformMat4(fn,fn,X),!gn(fn,Jt)){Qn(Jr.numGlyphs,fr);continue}var Dn=fn[3],Fn=an(pe.transform.cameraToCenterDistance,Dn),Kn=a.evaluateSizeForFeature(wt,Ut,Jr),Jn=Ze?Kn/Fn:Kn*Fn,$n=new a.Point(Jr.anchorX,Jr.anchorY),ia=Ur($n,ye).point,ha={},ca=oa(Jr,Jn,!1,lt,X,ye,Fe,ve.glyphOffsetArray,xr,fr,ia,$n,ha,Wr);Yr=ca.useVertical,(ca.notEnoughRoom||Yr||ca.needsFlipping&&oa(Jr,Jn,!0,lt,X,ye,Fe,ve.glyphOffsetArray,xr,fr,ia,$n,ha,Wr).notEnoughRoom)&&Qn(Jr.numGlyphs,fr)}ae?ve.text.dynamicLayoutVertexBuffer.updateData(fr):ve.icon.dynamicLayoutVertexBuffer.updateData(fr)}function Rn(ve,X,pe,ae,ye,Fe,Ze,lt,wt,Ut,Jt){var fr=lt.glyphStartIndex+lt.numGlyphs,xr=lt.lineStartIndex,zr=lt.lineStartIndex+lt.lineLength,Wr=X.getoffsetX(lt.glyphStartIndex),Yr=X.getoffsetX(fr-1),Hr=qn(ve*Wr,pe,ae,ye,Fe,Ze,lt.segment,xr,zr,wt,Ut,Jt);if(!Hr)return null;var Jr=qn(ve*Yr,pe,ae,ye,Fe,Ze,lt.segment,xr,zr,wt,Ut,Jt);return Jr?{first:Hr,last:Jr}:null}function zn(ve,X,pe,ae){if(ve===a.WritingMode.horizontal){var ye=Math.abs(pe.y-X.y),Fe=Math.abs(pe.x-X.x)*ae;if(ye>Fe)return{useVertical:!0}}return(ve===a.WritingMode.vertical?X.y<pe.y:X.x>pe.x)?{needsFlipping:!0}:null}function oa(ve,X,pe,ae,ye,Fe,Ze,lt,wt,Ut,Jt,fr,xr,zr){var Wr=X/24,Yr=ve.lineOffsetX*Wr,Hr=ve.lineOffsetY*Wr,Jr;if(ve.numGlyphs>1){var fn=ve.glyphStartIndex+ve.numGlyphs,Dn=ve.lineStartIndex,Fn=ve.lineStartIndex+ve.lineLength,Kn=Rn(Wr,lt,Yr,Hr,pe,Jt,fr,ve,wt,Fe,xr);if(!Kn)return{notEnoughRoom:!0};var Jn=Ur(Kn.first.point,Ze).point,$n=Ur(Kn.last.point,Ze).point;if(ae&&!pe){var ia=zn(ve.writingMode,Jn,$n,zr);if(ia)return ia}Jr=[Kn.first];for(var ha=ve.glyphStartIndex+1;ha<fn-1;ha++)Jr.push(qn(Wr*lt.getoffsetX(ha),Yr,Hr,pe,Jt,fr,ve.segment,Dn,Fn,wt,Fe,xr));Jr.push(Kn.last)}else{if(ae&&!pe){var ca=Ur(fr,ye).point,ya=ve.lineStartIndex+ve.segment+1,Aa=new a.Point(wt.getx(ya),wt.gety(ya)),ka=Ur(Aa,ye),Va=ka.signedDistanceFromCamera>0?ka.point:Zn(fr,Aa,ca,1,ye),fi=zn(ve.writingMode,ca,Va,zr);if(fi)return fi}var Ga=qn(Wr*lt.getoffsetX(ve.glyphStartIndex),Yr,Hr,pe,Jt,fr,ve.segment,ve.lineStartIndex,ve.lineStartIndex+ve.lineLength,wt,Fe,xr);if(!Ga)return{notEnoughRoom:!0};Jr=[Ga]}for(var Ja=0,Ra=Jr;Ja<Ra.length;Ja+=1){var ci=Ra[Ja];a.addDynamicAttributes(Ut,ci.point,ci.angle)}return{}}function Zn(ve,X,pe,ae,ye){var Fe=Ur(ve.add(ve.sub(X)._unit()),ye).point,Ze=pe.sub(Fe);return pe.add(Ze._mult(ae/Ze.mag()))}function qn(ve,X,pe,ae,ye,Fe,Ze,lt,wt,Ut,Jt,fr){var xr=ae?ve-X:ve+X,zr=xr>0?1:-1,Wr=0;ae&&(zr*=-1,Wr=Math.PI),zr<0&&(Wr+=Math.PI);for(var Yr=zr>0?lt+Ze:lt+Ze+1,Hr=ye,Jr=ye,fn=0,Dn=0,Fn=Math.abs(xr),Kn=[];fn+Dn<=Fn;){if(Yr+=zr,Yr<lt||Yr>=wt)return null;if(Jr=Hr,Kn.push(Hr),Hr=fr[Yr],Hr===void 0){var Jn=new a.Point(Ut.getx(Yr),Ut.gety(Yr)),$n=Ur(Jn,Jt);if($n.signedDistanceFromCamera>0)Hr=fr[Yr]=$n.point;else{var ia=Yr-zr,ha=fn===0?Fe:new a.Point(Ut.getx(ia),Ut.gety(ia));Hr=Zn(ha,Jn,Jr,Fn-fn+1,Jt)}}fn+=Dn,Dn=Jr.dist(Hr)}var ca=(Fn-fn)/Dn,ya=Hr.sub(Jr),Aa=ya.mult(ca)._add(Jr);Aa._add(ya._unit()._perp()._mult(pe*zr));var ka=Wr+Math.atan2(Hr.y-Jr.y,Hr.x-Jr.x);return Kn.push(Aa),{point:Aa,angle:ka,path:Kn}}var Yn=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function Qn(ve,X){for(var pe=0;pe<ve;pe++){var ae=X.length;X.resize(ae+4),X.float32.set(Yn,ae*3)}}function Tr(ve,X,pe){var ae=X[0],ye=X[1];return ve[0]=pe[0]*ae+pe[4]*ye+pe[12],ve[1]=pe[1]*ae+pe[5]*ye+pe[13],ve[3]=pe[3]*ae+pe[7]*ye+pe[15],ve}var sn=100,rn=function(X,pe,ae){pe===void 0&&(pe=new Mr(X.width+2*sn,X.height+2*sn,25)),ae===void 0&&(ae=new Mr(X.width+2*sn,X.height+2*sn,25)),this.transform=X,this.grid=pe,this.ignoredGrid=ae,this.pitchfactor=Math.cos(X._pitch)*X.cameraToCenterDistance,this.screenRightBoundary=X.width+sn,this.screenBottomBoundary=X.height+sn,this.gridRightBoundary=X.width+2*sn,this.gridBottomBoundary=X.height+2*sn};rn.prototype.placeCollisionBox=function(X,pe,ae,ye,Fe){var Ze=this.projectAndGetPerspectiveRatio(ye,X.anchorPointX,X.anchorPointY),lt=ae*Ze.perspectiveRatio,wt=X.x1*lt+Ze.point.x,Ut=X.y1*lt+Ze.point.y,Jt=X.x2*lt+Ze.point.x,fr=X.y2*lt+Ze.point.y;return!this.isInsideGrid(wt,Ut,Jt,fr)||!pe&&this.grid.hitTest(wt,Ut,Jt,fr,Fe)?{box:[],offscreen:!1}:{box:[wt,Ut,Jt,fr],offscreen:this.isOffscreen(wt,Ut,Jt,fr)}},rn.prototype.placeCollisionCircles=function(X,pe,ae,ye,Fe,Ze,lt,wt,Ut,Jt,fr,xr,zr){var Wr=[],Yr=new a.Point(pe.anchorX,pe.anchorY),Hr=Ur(Yr,Ze),Jr=an(this.transform.cameraToCenterDistance,Hr.signedDistanceFromCamera),fn=Jt?Fe/Jr:Fe*Jr,Dn=fn/a.ONE_EM,Fn=Ur(Yr,lt).point,Kn={},Jn=pe.lineOffsetX*Dn,$n=pe.lineOffsetY*Dn,ia=Rn(Dn,ye,Jn,$n,!1,Fn,Yr,pe,ae,lt,Kn),ha=!1,ca=!1,ya=!0;if(ia){for(var Aa=xr*.5*Jr+zr,ka=new a.Point(-sn,-sn),Va=new a.Point(this.screenRightBoundary,this.screenBottomBoundary),fi=new Tn,Ga=ia.first,Ja=ia.last,Ra=[],ci=Ga.path.length-1;ci>=1;ci--)Ra.push(Ga.path[ci]);for(var di=1;di<Ja.path.length;di++)Ra.push(Ja.path[di]);var gi=Aa*2.5;if(wt){var Qa=Ra.map(function(Eu){return Ur(Eu,wt)});Qa.some(function(Eu){return Eu.signedDistanceFromCamera<=0})?Ra=[]:Ra=Qa.map(function(Eu){return Eu.point})}var Ei=[];if(Ra.length>0){for(var Wa=Ra[0].clone(),ti=Ra[0].clone(),Ki=1;Ki<Ra.length;Ki++)Wa.x=Math.min(Wa.x,Ra[Ki].x),Wa.y=Math.min(Wa.y,Ra[Ki].y),ti.x=Math.max(ti.x,Ra[Ki].x),ti.y=Math.max(ti.y,Ra[Ki].y);Wa.x>=ka.x&&ti.x<=Va.x&&Wa.y>=ka.y&&ti.y<=Va.y?Ei=[Ra]:ti.x<ka.x||Wa.x>Va.x||ti.y<ka.y||Wa.y>Va.y?Ei=[]:Ei=a.clipLine([Ra],ka.x,ka.y,Va.x,Va.y)}for(var po=0,Sl=Ei;po<Sl.length;po+=1){var Ml=Sl[po];fi.reset(Ml,Aa*.25);var Tu=0;fi.length<=.5*Aa?Tu=1:Tu=Math.ceil(fi.paddedLength/gi)+1;for(var Au=0;Au<Tu;Au++){var cf=Au/Math.max(Tu-1,1),Su=fi.lerp(cf),Ts=Su.x+sn,Yf=Su.y+sn;Wr.push(Ts,Yf,Aa,0);var qo=Ts-Aa,sl=Yf-Aa,Mu=Ts+Aa,Kl=Yf+Aa;if(ya=ya&&this.isOffscreen(qo,sl,Mu,Kl),ca=ca||this.isInsideGrid(qo,sl,Mu,Kl),!X&&this.grid.hitTestCircle(Ts,Yf,Aa,fr)&&(ha=!0,!Ut))return{circles:[],offscreen:!1,collisionDetected:ha}}}}return{circles:!Ut&&ha||!ca?[]:Wr,offscreen:ya,collisionDetected:ha}},rn.prototype.queryRenderedSymbols=function(X){if(X.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};for(var pe=[],ae=1/0,ye=1/0,Fe=-1/0,Ze=-1/0,lt=0,wt=X;lt<wt.length;lt+=1){var Ut=wt[lt],Jt=new a.Point(Ut.x+sn,Ut.y+sn);ae=Math.min(ae,Jt.x),ye=Math.min(ye,Jt.y),Fe=Math.max(Fe,Jt.x),Ze=Math.max(Ze,Jt.y),pe.push(Jt)}for(var fr=this.grid.query(ae,ye,Fe,Ze).concat(this.ignoredGrid.query(ae,ye,Fe,Ze)),xr={},zr={},Wr=0,Yr=fr;Wr<Yr.length;Wr+=1){var Hr=Yr[Wr],Jr=Hr.key;if(xr[Jr.bucketInstanceId]===void 0&&(xr[Jr.bucketInstanceId]={}),!xr[Jr.bucketInstanceId][Jr.featureIndex]){var fn=[new a.Point(Hr.x1,Hr.y1),new a.Point(Hr.x2,Hr.y1),new a.Point(Hr.x2,Hr.y2),new a.Point(Hr.x1,Hr.y2)];a.polygonIntersectsPolygon(pe,fn)&&(xr[Jr.bucketInstanceId][Jr.featureIndex]=!0,zr[Jr.bucketInstanceId]===void 0&&(zr[Jr.bucketInstanceId]=[]),zr[Jr.bucketInstanceId].push(Jr.featureIndex))}}return zr},rn.prototype.insertCollisionBox=function(X,pe,ae,ye,Fe){var Ze=pe?this.ignoredGrid:this.grid,lt={bucketInstanceId:ae,featureIndex:ye,collisionGroupID:Fe};Ze.insert(lt,X[0],X[1],X[2],X[3])},rn.prototype.insertCollisionCircles=function(X,pe,ae,ye,Fe){for(var Ze=pe?this.ignoredGrid:this.grid,lt={bucketInstanceId:ae,featureIndex:ye,collisionGroupID:Fe},wt=0;wt<X.length;wt+=4)Ze.insertCircle(lt,X[wt],X[wt+1],X[wt+2])},rn.prototype.projectAndGetPerspectiveRatio=function(X,pe,ae){var ye=[pe,ae,0,1];Tr(ye,ye,X);var Fe=new a.Point((ye[0]/ye[3]+1)/2*this.transform.width+sn,(-ye[1]/ye[3]+1)/2*this.transform.height+sn);return{point:Fe,perspectiveRatio:.5+.5*(this.transform.cameraToCenterDistance/ye[3])}},rn.prototype.isOffscreen=function(X,pe,ae,ye){return ae<sn||X>=this.screenRightBoundary||ye<sn||pe>this.screenBottomBoundary},rn.prototype.isInsideGrid=function(X,pe,ae,ye){return ae>=0&&X<this.gridRightBoundary&&ye>=0&&pe<this.gridBottomBoundary},rn.prototype.getViewportMatrix=function(){var X=a.identity([]);return a.translate(X,X,[-sn,-sn,0]),X};function yn(ve,X,pe){return X*(a.EXTENT/(ve.tileSize*Math.pow(2,pe-ve.tileID.overscaledZ)))}var Vn=function(X,pe,ae,ye){X?this.opacity=Math.max(0,Math.min(1,X.opacity+(X.placed?pe:-pe))):this.opacity=ye&&ae?1:0,this.placed=ae};Vn.prototype.isHidden=function(){return this.opacity===0&&!this.placed};var Mn=function(X,pe,ae,ye,Fe){this.text=new Vn(X?X.text:null,pe,ae,Fe),this.icon=new Vn(X?X.icon:null,pe,ye,Fe)};Mn.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var En=function(X,pe,ae){this.text=X,this.icon=pe,this.skipFade=ae},Nn=function(){this.invProjMatrix=a.create(),this.viewportMatrix=a.create(),this.circles=[]},ta=function(X,pe,ae,ye,Fe){this.bucketInstanceId=X,this.featureIndex=pe,this.sourceLayerIndex=ae,this.bucketIndex=ye,this.tileID=Fe},ba=function(X){this.crossSourceCollisions=X,this.maxGroupID=0,this.collisionGroups={}};ba.prototype.get=function(X){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[X]){var pe=++this.maxGroupID;this.collisionGroups[X]={ID:pe,predicate:function(ae){return ae.collisionGroupID===pe}}}return this.collisionGroups[X]};function Ya(ve,X,pe,ae,ye){var Fe=a.getAnchorAlignment(ve),Ze=Fe.horizontalAlign,lt=Fe.verticalAlign,wt=-(Ze-.5)*X,Ut=-(lt-.5)*pe,Jt=a.evaluateVariableOffset(ve,ae);return new a.Point(wt+Jt[0]*ye,Ut+Jt[1]*ye)}function Zt(ve,X,pe,ae,ye,Fe){var Ze=ve.x1,lt=ve.x2,wt=ve.y1,Ut=ve.y2,Jt=ve.anchorPointX,fr=ve.anchorPointY,xr=new a.Point(X,pe);return ae&&xr._rotate(ye?Fe:-Fe),{x1:Ze+xr.x,y1:wt+xr.y,x2:lt+xr.x,y2:Ut+xr.y,anchorPointX:Jt,anchorPointY:fr}}var wr=function(X,pe,ae,ye){this.transform=X.clone(),this.collisionIndex=new rn(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=pe,this.retainedQueryData={},this.collisionGroups=new ba(ae),this.collisionCircleArrays={},this.prevPlacement=ye,ye&&(ye.prevPlacement=void 0),this.placedOrientations={}};wr.prototype.getBucketParts=function(X,pe,ae,ye){var Fe=ae.getBucket(pe),Ze=ae.latestFeatureIndex;if(!(!Fe||!Ze||pe.id!==Fe.layerIds[0])){var lt=ae.collisionBoxArray,wt=Fe.layers[0].layout,Ut=Math.pow(2,this.transform.zoom-ae.tileID.overscaledZ),Jt=ae.tileSize/a.EXTENT,fr=this.transform.calculatePosMatrix(ae.tileID.toUnwrapped()),xr=wt.get("text-pitch-alignment")==="map",zr=wt.get("text-rotation-alignment")==="map",Wr=yn(ae,1,this.transform.zoom),Yr=Er(fr,xr,zr,this.transform,Wr),Hr=null;if(xr){var Jr=Gr(fr,xr,zr,this.transform,Wr);Hr=a.multiply([],this.transform.labelPlaneMatrix,Jr)}this.retainedQueryData[Fe.bucketInstanceId]=new ta(Fe.bucketInstanceId,Ze,Fe.sourceLayerIndex,Fe.index,ae.tileID);var fn={bucket:Fe,layout:wt,posMatrix:fr,textLabelPlaneMatrix:Yr,labelToScreenMatrix:Hr,scale:Ut,textPixelRatio:Jt,holdingForFade:ae.holdingForFade(),collisionBoxArray:lt,partiallyEvaluatedTextSize:a.evaluateSizeForZoom(Fe.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(Fe.sourceID)};if(ye)for(var Dn=0,Fn=Fe.sortKeyRanges;Dn<Fn.length;Dn+=1){var Kn=Fn[Dn],Jn=Kn.sortKey,$n=Kn.symbolInstanceStart,ia=Kn.symbolInstanceEnd;X.push({sortKey:Jn,symbolInstanceStart:$n,symbolInstanceEnd:ia,parameters:fn})}else X.push({symbolInstanceStart:0,symbolInstanceEnd:Fe.symbolInstances.length,parameters:fn})}},wr.prototype.attemptAnchorPlacement=function(X,pe,ae,ye,Fe,Ze,lt,wt,Ut,Jt,fr,xr,zr,Wr,Yr){var Hr=[xr.textOffset0,xr.textOffset1],Jr=Ya(X,ae,ye,Hr,Fe),fn=this.collisionIndex.placeCollisionBox(Zt(pe,Jr.x,Jr.y,Ze,lt,this.transform.angle),fr,wt,Ut,Jt.predicate);if(Yr){var Dn=this.collisionIndex.placeCollisionBox(Zt(Yr,Jr.x,Jr.y,Ze,lt,this.transform.angle),fr,wt,Ut,Jt.predicate);if(Dn.box.length===0)return}if(fn.box.length>0){var Fn;return this.prevPlacement&&this.prevPlacement.variableOffsets[xr.crossTileID]&&this.prevPlacement.placements[xr.crossTileID]&&this.prevPlacement.placements[xr.crossTileID].text&&(Fn=this.prevPlacement.variableOffsets[xr.crossTileID].anchor),this.variableOffsets[xr.crossTileID]={textOffset:Hr,width:ae,height:ye,anchor:X,textBoxScale:Fe,prevAnchor:Fn},this.markUsedJustification(zr,X,xr,Wr),zr.allowVerticalPlacement&&(this.markUsedOrientation(zr,Wr,xr),this.placedOrientations[xr.crossTileID]=Wr),{shift:Jr,placedGlyphBoxes:fn}}},wr.prototype.placeLayerBucketPart=function(X,pe,ae){var ye=this,Fe=X.parameters,Ze=Fe.bucket,lt=Fe.layout,wt=Fe.posMatrix,Ut=Fe.textLabelPlaneMatrix,Jt=Fe.labelToScreenMatrix,fr=Fe.textPixelRatio,xr=Fe.holdingForFade,zr=Fe.collisionBoxArray,Wr=Fe.partiallyEvaluatedTextSize,Yr=Fe.collisionGroup,Hr=lt.get("text-optional"),Jr=lt.get("icon-optional"),fn=lt.get("text-allow-overlap"),Dn=lt.get("icon-allow-overlap"),Fn=lt.get("text-rotation-alignment")==="map",Kn=lt.get("text-pitch-alignment")==="map",Jn=lt.get("icon-text-fit")!=="none",$n=lt.get("symbol-z-order")==="viewport-y",ia=fn&&(Dn||!Ze.hasIconData()||Jr),ha=Dn&&(fn||!Ze.hasTextData()||Hr);!Ze.collisionArrays&&zr&&Ze.deserializeCollisionBoxes(zr);var ca=function(Ga,Ja){if(!pe[Ga.crossTileID]){if(xr){ye.placements[Ga.crossTileID]=new En(!1,!1,!1);return}var Ra=!1,ci=!1,di=!0,gi=null,Qa={box:null,offscreen:null},Ei={box:null,offscreen:null},Wa=null,ti=null,Ki=null,po=0,Sl=0,Ml=0;Ja.textFeatureIndex?po=Ja.textFeatureIndex:Ga.useRuntimeCollisionCircles&&(po=Ga.featureIndex),Ja.verticalTextFeatureIndex&&(Sl=Ja.verticalTextFeatureIndex);var Tu=Ja.textBox;if(Tu){var Au=function(to){var Ns=a.WritingMode.horizontal;if(Ze.allowVerticalPlacement&&!to&&ye.prevPlacement){var Us=ye.prevPlacement.placedOrientations[Ga.crossTileID];Us&&(ye.placedOrientations[Ga.crossTileID]=Us,Ns=Us,ye.markUsedOrientation(Ze,Ns,Ga))}return Ns},cf=function(to,Ns){if(Ze.allowVerticalPlacement&&Ga.numVerticalGlyphVertices>0&&Ja.verticalTextBox)for(var Us=0,ld=Ze.writingModes;Us<ld.length;Us+=1){var kp=ld[Us];if(kp===a.WritingMode.vertical?(Qa=Ns(),Ei=Qa):Qa=to(),Qa&&Qa.box&&Qa.box.length)break}else Qa=to()};if(lt.get("text-variable-anchor")){var qo=lt.get("text-variable-anchor");if(ye.prevPlacement&&ye.prevPlacement.variableOffsets[Ga.crossTileID]){var sl=ye.prevPlacement.variableOffsets[Ga.crossTileID];qo.indexOf(sl.anchor)>0&&(qo=qo.filter(function(to){return to!==sl.anchor}),qo.unshift(sl.anchor))}var Mu=function(to,Ns,Us){for(var ld=to.x2-to.x1,kp=to.y2-to.y1,Rm=Ga.textBoxScale,Dm=Jn&&!Dn?Ns:null,Ev={box:[],offscreen:!1},Im=fn?qo.length*2:qo.length,ud=0;ud<Im;++ud){var km=qo[ud%qo.length],_m=ud>=qo.length,_p=ye.attemptAnchorPlacement(km,to,ld,kp,Rm,Fn,Kn,fr,wt,Yr,_m,Ga,Ze,Us,Dm);if(_p&&(Ev=_p.placedGlyphBoxes,Ev&&Ev.box&&Ev.box.length)){Ra=!0,gi=_p.shift;break}}return Ev},Kl=function(){return Mu(Tu,Ja.iconBox,a.WritingMode.horizontal)},Eu=function(){var to=Ja.verticalTextBox,Ns=Qa&&Qa.box&&Qa.box.length;return Ze.allowVerticalPlacement&&!Ns&&Ga.numVerticalGlyphVertices>0&&to?Mu(to,Ja.verticalIconBox,a.WritingMode.vertical):{box:null,offscreen:null}};cf(Kl,Eu),Qa&&(Ra=Qa.box,di=Qa.offscreen);var ad=Au(Qa&&Qa.box);if(!Ra&&ye.prevPlacement){var Ic=ye.prevPlacement.variableOffsets[Ga.crossTileID];Ic&&(ye.variableOffsets[Ga.crossTileID]=Ic,ye.markUsedJustification(Ze,Ic.anchor,Ga,ad))}}else{var Su=function(to,Ns){var Us=ye.collisionIndex.placeCollisionBox(to,fn,fr,wt,Yr.predicate);return Us&&Us.box&&Us.box.length&&(ye.markUsedOrientation(Ze,Ns,Ga),ye.placedOrientations[Ga.crossTileID]=Ns),Us},Ts=function(){return Su(Tu,a.WritingMode.horizontal)},Yf=function(){var to=Ja.verticalTextBox;return Ze.allowVerticalPlacement&&Ga.numVerticalGlyphVertices>0&&to?Su(to,a.WritingMode.vertical):{box:null,offscreen:null}};cf(Ts,Yf),Au(Qa&&Qa.box&&Qa.box.length)}}if(Wa=Qa,Ra=Wa&&Wa.box&&Wa.box.length>0,di=Wa&&Wa.offscreen,Ga.useRuntimeCollisionCircles){var Go=Ze.text.placedSymbolArray.get(Ga.centerJustifiedTextSymbolIndex),Sv=a.evaluateSizeForFeature(Ze.textSizeData,Wr,Go),ls=lt.get("text-padding"),Mv=Ga.collisionCircleDiameter;ti=ye.collisionIndex.placeCollisionCircles(fn,Go,Ze.lineVertexArray,Ze.glyphOffsetArray,Sv,wt,Ut,Jt,ae,Kn,Yr.predicate,Mv,ls),Ra=fn||ti.circles.length>0&&!ti.collisionDetected,di=di&&ti.offscreen}if(Ja.iconFeatureIndex&&(Ml=Ja.iconFeatureIndex),Ja.iconBox){var id=function(to){var Ns=Jn&&gi?Zt(to,gi.x,gi.y,Fn,Kn,ye.transform.angle):to;return ye.collisionIndex.placeCollisionBox(Ns,Dn,fr,wt,Yr.predicate)};Ei&&Ei.box&&Ei.box.length&&Ja.verticalIconBox?(Ki=id(Ja.verticalIconBox),ci=Ki.box.length>0):(Ki=id(Ja.iconBox),ci=Ki.box.length>0),di=di&&Ki.offscreen}var od=Hr||Ga.numHorizontalGlyphVertices===0&&Ga.numVerticalGlyphVertices===0,Tg=Jr||Ga.numIconVertices===0;if(!od&&!Tg?ci=Ra=ci&&Ra:Tg?od||(ci=ci&&Ra):Ra=ci&&Ra,Ra&&Wa&&Wa.box&&(Ei&&Ei.box&&Sl?ye.collisionIndex.insertCollisionBox(Wa.box,lt.get("text-ignore-placement"),Ze.bucketInstanceId,Sl,Yr.ID):ye.collisionIndex.insertCollisionBox(Wa.box,lt.get("text-ignore-placement"),Ze.bucketInstanceId,po,Yr.ID)),ci&&Ki&&ye.collisionIndex.insertCollisionBox(Ki.box,lt.get("icon-ignore-placement"),Ze.bucketInstanceId,Ml,Yr.ID),ti&&(Ra&&ye.collisionIndex.insertCollisionCircles(ti.circles,lt.get("text-ignore-placement"),Ze.bucketInstanceId,po,Yr.ID),ae)){var sd=Ze.bucketInstanceId,xh=ye.collisionCircleArrays[sd];xh===void 0&&(xh=ye.collisionCircleArrays[sd]=new Nn);for(var bh=0;bh<ti.circles.length;bh+=4)xh.circles.push(ti.circles[bh+0]),xh.circles.push(ti.circles[bh+1]),xh.circles.push(ti.circles[bh+2]),xh.circles.push(ti.collisionDetected?1:0)}ye.placements[Ga.crossTileID]=new En(Ra||ia,ci||ha,di||Ze.justReloaded),pe[Ga.crossTileID]=!0}};if($n)for(var ya=Ze.getSortedSymbolIndexes(this.transform.angle),Aa=ya.length-1;Aa>=0;--Aa){var ka=ya[Aa];ca(Ze.symbolInstances.get(ka),Ze.collisionArrays[ka])}else for(var Va=X.symbolInstanceStart;Va<X.symbolInstanceEnd;Va++)ca(Ze.symbolInstances.get(Va),Ze.collisionArrays[Va]);if(ae&&Ze.bucketInstanceId in this.collisionCircleArrays){var fi=this.collisionCircleArrays[Ze.bucketInstanceId];a.invert(fi.invProjMatrix,wt),fi.viewportMatrix=this.collisionIndex.getViewportMatrix()}Ze.justReloaded=!1},wr.prototype.markUsedJustification=function(X,pe,ae,ye){var Fe={left:ae.leftJustifiedTextSymbolIndex,center:ae.centerJustifiedTextSymbolIndex,right:ae.rightJustifiedTextSymbolIndex},Ze;ye===a.WritingMode.vertical?Ze=ae.verticalPlacedTextSymbolIndex:Ze=Fe[a.getAnchorJustification(pe)];for(var lt=[ae.leftJustifiedTextSymbolIndex,ae.centerJustifiedTextSymbolIndex,ae.rightJustifiedTextSymbolIndex,ae.verticalPlacedTextSymbolIndex],wt=0,Ut=lt;wt<Ut.length;wt+=1){var Jt=Ut[wt];Jt>=0&&(Ze>=0&&Jt!==Ze?X.text.placedSymbolArray.get(Jt).crossTileID=0:X.text.placedSymbolArray.get(Jt).crossTileID=ae.crossTileID)}},wr.prototype.markUsedOrientation=function(X,pe,ae){for(var ye=pe===a.WritingMode.horizontal||pe===a.WritingMode.horizontalOnly?pe:0,Fe=pe===a.WritingMode.vertical?pe:0,Ze=[ae.leftJustifiedTextSymbolIndex,ae.centerJustifiedTextSymbolIndex,ae.rightJustifiedTextSymbolIndex],lt=0,wt=Ze;lt<wt.length;lt+=1){var Ut=wt[lt];X.text.placedSymbolArray.get(Ut).placedOrientation=ye}ae.verticalPlacedTextSymbolIndex&&(X.text.placedSymbolArray.get(ae.verticalPlacedTextSymbolIndex).placedOrientation=Fe)},wr.prototype.commit=function(X){this.commitTime=X,this.zoomAtLastRecencyCheck=this.transform.zoom;var pe=this.prevPlacement,ae=!1;this.prevZoomAdjustment=pe?pe.zoomAdjustment(this.transform.zoom):0;var ye=pe?pe.symbolFadeChange(X):1,Fe=pe?pe.opacities:{},Ze=pe?pe.variableOffsets:{},lt=pe?pe.placedOrientations:{};for(var wt in this.placements){var Ut=this.placements[wt],Jt=Fe[wt];Jt?(this.opacities[wt]=new Mn(Jt,ye,Ut.text,Ut.icon),ae=ae||Ut.text!==Jt.text.placed||Ut.icon!==Jt.icon.placed):(this.opacities[wt]=new Mn(null,ye,Ut.text,Ut.icon,Ut.skipFade),ae=ae||Ut.text||Ut.icon)}for(var fr in Fe){var xr=Fe[fr];if(!this.opacities[fr]){var zr=new Mn(xr,ye,!1,!1);zr.isHidden()||(this.opacities[fr]=zr,ae=ae||xr.text.placed||xr.icon.placed)}}for(var Wr in Ze)!this.variableOffsets[Wr]&&this.opacities[Wr]&&!this.opacities[Wr].isHidden()&&(this.variableOffsets[Wr]=Ze[Wr]);for(var Yr in lt)!this.placedOrientations[Yr]&&this.opacities[Yr]&&!this.opacities[Yr].isHidden()&&(this.placedOrientations[Yr]=lt[Yr]);ae?this.lastPlacementChangeTime=X:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=pe?pe.lastPlacementChangeTime:X)},wr.prototype.updateLayerOpacities=function(X,pe){for(var ae={},ye=0,Fe=pe;ye<Fe.length;ye+=1){var Ze=Fe[ye],lt=Ze.getBucket(X);lt&&Ze.latestFeatureIndex&&X.id===lt.layerIds[0]&&this.updateBucketOpacities(lt,ae,Ze.collisionBoxArray)}},wr.prototype.updateBucketOpacities=function(X,pe,ae){var ye=this;X.hasTextData()&&X.text.opacityVertexArray.clear(),X.hasIconData()&&X.icon.opacityVertexArray.clear(),X.hasIconCollisionBoxData()&&X.iconCollisionBox.collisionVertexArray.clear(),X.hasTextCollisionBoxData()&&X.textCollisionBox.collisionVertexArray.clear();var Fe=X.layers[0].layout,Ze=new Mn(null,0,!1,!1,!0),lt=Fe.get("text-allow-overlap"),wt=Fe.get("icon-allow-overlap"),Ut=Fe.get("text-variable-anchor"),Jt=Fe.get("text-rotation-alignment")==="map",fr=Fe.get("text-pitch-alignment")==="map",xr=Fe.get("icon-text-fit")!=="none",zr=new Mn(null,0,lt&&(wt||!X.hasIconData()||Fe.get("icon-optional")),wt&&(lt||!X.hasTextData()||Fe.get("text-optional")),!0);!X.collisionArrays&&ae&&(X.hasIconCollisionBoxData()||X.hasTextCollisionBoxData())&&X.deserializeCollisionBoxes(ae);for(var Wr=function(fn,Dn,Fn){for(var Kn=0;Kn<Dn/4;Kn++)fn.opacityVertexArray.emplaceBack(Fn)},Yr=function(fn){var Dn=X.symbolInstances.get(fn),Fn=Dn.numHorizontalGlyphVertices,Kn=Dn.numVerticalGlyphVertices,Jn=Dn.crossTileID,$n=pe[Jn],ia=ye.opacities[Jn];$n?ia=Ze:ia||(ia=zr,ye.opacities[Jn]=ia),pe[Jn]=!0;var ha=Fn>0||Kn>0,ca=Dn.numIconVertices>0,ya=ye.placedOrientations[Dn.crossTileID],Aa=ya===a.WritingMode.vertical,ka=ya===a.WritingMode.horizontal||ya===a.WritingMode.horizontalOnly;if(ha){var Va=Or(ia.text),fi=Aa?dn:Va;Wr(X.text,Fn,fi);var Ga=ka?dn:Va;Wr(X.text,Kn,Ga);var Ja=ia.text.isHidden();[Dn.rightJustifiedTextSymbolIndex,Dn.centerJustifiedTextSymbolIndex,Dn.leftJustifiedTextSymbolIndex].forEach(function(Ml){Ml>=0&&(X.text.placedSymbolArray.get(Ml).hidden=Ja||Aa?1:0)}),Dn.verticalPlacedTextSymbolIndex>=0&&(X.text.placedSymbolArray.get(Dn.verticalPlacedTextSymbolIndex).hidden=Ja||ka?1:0);var Ra=ye.variableOffsets[Dn.crossTileID];Ra&&ye.markUsedJustification(X,Ra.anchor,Dn,ya);var ci=ye.placedOrientations[Dn.crossTileID];ci&&(ye.markUsedJustification(X,"left",Dn,ci),ye.markUsedOrientation(X,ci,Dn))}if(ca){var di=Or(ia.icon),gi=!(xr&&Dn.verticalPlacedIconSymbolIndex&&Aa);if(Dn.placedIconSymbolIndex>=0){var Qa=gi?di:dn;Wr(X.icon,Dn.numIconVertices,Qa),X.icon.placedSymbolArray.get(Dn.placedIconSymbolIndex).hidden=ia.icon.isHidden()}if(Dn.verticalPlacedIconSymbolIndex>=0){var Ei=gi?dn:di;Wr(X.icon,Dn.numVerticalIconVertices,Ei),X.icon.placedSymbolArray.get(Dn.verticalPlacedIconSymbolIndex).hidden=ia.icon.isHidden()}}if(X.hasIconCollisionBoxData()||X.hasTextCollisionBoxData()){var Wa=X.collisionArrays[fn];if(Wa){var ti=new a.Point(0,0);if(Wa.textBox||Wa.verticalTextBox){var Ki=!0;if(Ut){var po=ye.variableOffsets[Jn];po?(ti=Ya(po.anchor,po.width,po.height,po.textOffset,po.textBoxScale),Jt&&ti._rotate(fr?ye.transform.angle:-ye.transform.angle)):Ki=!1}Wa.textBox&&tn(X.textCollisionBox.collisionVertexArray,ia.text.placed,!Ki||Aa,ti.x,ti.y),Wa.verticalTextBox&&tn(X.textCollisionBox.collisionVertexArray,ia.text.placed,!Ki||ka,ti.x,ti.y)}var Sl=!!(!ka&&Wa.verticalIconBox);Wa.iconBox&&tn(X.iconCollisionBox.collisionVertexArray,ia.icon.placed,Sl,xr?ti.x:0,xr?ti.y:0),Wa.verticalIconBox&&tn(X.iconCollisionBox.collisionVertexArray,ia.icon.placed,!Sl,xr?ti.x:0,xr?ti.y:0)}}},Hr=0;Hr<X.symbolInstances.length;Hr++)Yr(Hr);if(X.sortFeatures(this.transform.angle),this.retainedQueryData[X.bucketInstanceId]&&(this.retainedQueryData[X.bucketInstanceId].featureSortOrder=X.featureSortOrder),X.hasTextData()&&X.text.opacityVertexBuffer&&X.text.opacityVertexBuffer.updateData(X.text.opacityVertexArray),X.hasIconData()&&X.icon.opacityVertexBuffer&&X.icon.opacityVertexBuffer.updateData(X.icon.opacityVertexArray),X.hasIconCollisionBoxData()&&X.iconCollisionBox.collisionVertexBuffer&&X.iconCollisionBox.collisionVertexBuffer.updateData(X.iconCollisionBox.collisionVertexArray),X.hasTextCollisionBoxData()&&X.textCollisionBox.collisionVertexBuffer&&X.textCollisionBox.collisionVertexBuffer.updateData(X.textCollisionBox.collisionVertexArray),X.bucketInstanceId in this.collisionCircleArrays){var Jr=this.collisionCircleArrays[X.bucketInstanceId];X.placementInvProjMatrix=Jr.invProjMatrix,X.placementViewportMatrix=Jr.viewportMatrix,X.collisionCircleArray=Jr.circles,delete this.collisionCircleArrays[X.bucketInstanceId]}},wr.prototype.symbolFadeChange=function(X){return this.fadeDuration===0?1:(X-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},wr.prototype.zoomAdjustment=function(X){return Math.max(0,(this.transform.zoom-X)/1.5)},wr.prototype.hasTransitions=function(X){return this.stale||X-this.lastPlacementChangeTime<this.fadeDuration},wr.prototype.stillRecent=function(X,pe){var ae=this.zoomAtLastRecencyCheck===pe?1-this.zoomAdjustment(pe):1;return this.zoomAtLastRecencyCheck=pe,this.commitTime+this.fadeDuration*ae>X},wr.prototype.setStale=function(){this.stale=!0};function tn(ve,X,pe,ae,ye){ve.emplaceBack(X?1:0,pe?1:0,ae||0,ye||0),ve.emplaceBack(X?1:0,pe?1:0,ae||0,ye||0),ve.emplaceBack(X?1:0,pe?1:0,ae||0,ye||0),ve.emplaceBack(X?1:0,pe?1:0,ae||0,ye||0)}var un=Math.pow(2,25),cn=Math.pow(2,24),In=Math.pow(2,17),Sn=Math.pow(2,16),vn=Math.pow(2,9),Dr=Math.pow(2,8),Lr=Math.pow(2,1);function Or(ve){if(ve.opacity===0&&!ve.placed)return 0;if(ve.opacity===1&&ve.placed)return 4294967295;var X=ve.placed?1:0,pe=Math.floor(ve.opacity*127);return pe*un+X*cn+pe*In+X*Sn+pe*vn+X*Dr+pe*Lr+X}var dn=0,On=function(X){this._sortAcrossTiles=X.layout.get("symbol-z-order")!=="viewport-y"&&X.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};On.prototype.continuePlacement=function(X,pe,ae,ye,Fe){for(var Ze=this._bucketParts;this._currentTileIndex<X.length;){var lt=X[this._currentTileIndex];if(pe.getBucketParts(Ze,ye,lt,this._sortAcrossTiles),this._currentTileIndex++,Fe())return!0}for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,Ze.sort(function(Ut,Jt){return Ut.sortKey-Jt.sortKey}));this._currentPartIndex<Ze.length;){var wt=Ze[this._currentPartIndex];if(pe.placeLayerBucketPart(wt,this._seenCrossTileIDs,ae),this._currentPartIndex++,Fe())return!0}return!1};var Xn=function(X,pe,ae,ye,Fe,Ze,lt){this.placement=new wr(X,Fe,Ze,lt),this._currentPlacementIndex=pe.length-1,this._forceFullPlacement=ae,this._showCollisionBoxes=ye,this._done=!1};Xn.prototype.isDone=function(){return this._done},Xn.prototype.continuePlacement=function(X,pe,ae){for(var ye=this,Fe=a.browser.now(),Ze=function(){var fr=a.browser.now()-Fe;return ye._forceFullPlacement?!1:fr>2};this._currentPlacementIndex>=0;){var lt=X[this._currentPlacementIndex],wt=pe[lt],Ut=this.placement.collisionIndex.transform.zoom;if(wt.type==="symbol"&&(!wt.minzoom||wt.minzoom<=Ut)&&(!wt.maxzoom||wt.maxzoom>Ut)){this._inProgressLayer||(this._inProgressLayer=new On(wt));var Jt=this._inProgressLayer.continuePlacement(ae[wt.source],this.placement,this._showCollisionBoxes,wt,Ze);if(Jt)return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},Xn.prototype.commit=function(X){return this.placement.commit(X),this.placement};var xn=512/a.EXTENT/2,Un=function(X,pe,ae){this.tileID=X,this.indexedSymbolInstances={},this.bucketInstanceId=ae;for(var ye=0;ye<pe.length;ye++){var Fe=pe.get(ye),Ze=Fe.key;this.indexedSymbolInstances[Ze]||(this.indexedSymbolInstances[Ze]=[]),this.indexedSymbolInstances[Ze].push({crossTileID:Fe.crossTileID,coord:this.getScaledCoordinates(Fe,X)})}};Un.prototype.getScaledCoordinates=function(X,pe){var ae=pe.canonical.z-this.tileID.canonical.z,ye=xn/Math.pow(2,ae);return{x:Math.floor((pe.canonical.x*a.EXTENT+X.anchorX)*ye),y:Math.floor((pe.canonical.y*a.EXTENT+X.anchorY)*ye)}},Un.prototype.findMatches=function(X,pe,ae){for(var ye=this.tileID.canonical.z<pe.canonical.z?1:Math.pow(2,this.tileID.canonical.z-pe.canonical.z),Fe=0;Fe<X.length;Fe++){var Ze=X.get(Fe);if(!Ze.crossTileID){var lt=this.indexedSymbolInstances[Ze.key];if(lt)for(var wt=this.getScaledCoordinates(Ze,pe),Ut=0,Jt=lt;Ut<Jt.length;Ut+=1){var fr=Jt[Ut];if(Math.abs(fr.coord.x-wt.x)<=ye&&Math.abs(fr.coord.y-wt.y)<=ye&&!ae[fr.crossTileID]){ae[fr.crossTileID]=!0,Ze.crossTileID=fr.crossTileID;break}}}}};var aa=function(){this.maxCrossTileID=0};aa.prototype.generate=function(){return++this.maxCrossTileID};var fa=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};fa.prototype.handleWrapJump=function(X){var pe=Math.round((X-this.lng)/360);if(pe!==0)for(var ae in this.indexes){var ye=this.indexes[ae],Fe={};for(var Ze in ye){var lt=ye[Ze];lt.tileID=lt.tileID.unwrapTo(lt.tileID.wrap+pe),Fe[lt.tileID.key]=lt}this.indexes[ae]=Fe}this.lng=X},fa.prototype.addBucket=function(X,pe,ae){if(this.indexes[X.overscaledZ]&&this.indexes[X.overscaledZ][X.key]){if(this.indexes[X.overscaledZ][X.key].bucketInstanceId===pe.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(X.overscaledZ,this.indexes[X.overscaledZ][X.key])}for(var ye=0;ye<pe.symbolInstances.length;ye++){var Fe=pe.symbolInstances.get(ye);Fe.crossTileID=0}this.usedCrossTileIDs[X.overscaledZ]||(this.usedCrossTileIDs[X.overscaledZ]={});var Ze=this.usedCrossTileIDs[X.overscaledZ];for(var lt in this.indexes){var wt=this.indexes[lt];if(Number(lt)>X.overscaledZ)for(var Ut in wt){var Jt=wt[Ut];Jt.tileID.isChildOf(X)&&Jt.findMatches(pe.symbolInstances,X,Ze)}else{var fr=X.scaledTo(Number(lt)),xr=wt[fr.key];xr&&xr.findMatches(pe.symbolInstances,X,Ze)}}for(var zr=0;zr<pe.symbolInstances.length;zr++){var Wr=pe.symbolInstances.get(zr);Wr.crossTileID||(Wr.crossTileID=ae.generate(),Ze[Wr.crossTileID]=!0)}return this.indexes[X.overscaledZ]===void 0&&(this.indexes[X.overscaledZ]={}),this.indexes[X.overscaledZ][X.key]=new Un(X,pe.symbolInstances,pe.bucketInstanceId),!0},fa.prototype.removeBucketCrossTileIDs=function(X,pe){for(var ae in pe.indexedSymbolInstances)for(var ye=0,Fe=pe.indexedSymbolInstances[ae];ye<Fe.length;ye+=1){var Ze=Fe[ye];delete this.usedCrossTileIDs[X][Ze.crossTileID]}},fa.prototype.removeStaleBuckets=function(X){var pe=!1;for(var ae in this.indexes){var ye=this.indexes[ae];for(var Fe in ye)X[ye[Fe].bucketInstanceId]||(this.removeBucketCrossTileIDs(ae,ye[Fe]),delete ye[Fe],pe=!0)}return pe};var la=function(){this.layerIndexes={},this.crossTileIDs=new aa,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};la.prototype.addLayer=function(X,pe,ae){var ye=this.layerIndexes[X.id];ye===void 0&&(ye=this.layerIndexes[X.id]=new fa);var Fe=!1,Ze={};ye.handleWrapJump(ae);for(var lt=0,wt=pe;lt<wt.length;lt+=1){var Ut=wt[lt],Jt=Ut.getBucket(X);!Jt||X.id!==Jt.layerIds[0]||(Jt.bucketInstanceId||(Jt.bucketInstanceId=++this.maxBucketInstanceId),ye.addBucket(Ut.tileID,Jt,this.crossTileIDs)&&(Fe=!0),Ze[Jt.bucketInstanceId]=!0)}return ye.removeStaleBuckets(Ze)&&(Fe=!0),Fe},la.prototype.pruneUnusedLayers=function(X){var pe={};X.forEach(function(ye){pe[ye]=!0});for(var ae in this.layerIndexes)pe[ae]||delete this.layerIndexes[ae]};var ua=function(ve,X){return a.emitValidationErrors(ve,X&&X.filter(function(pe){return pe.identifier!=="source.canvas"}))},ga=a.pick(Ot,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),io=a.pick(Ot,["setCenter","setZoom","setBearing","setPitch"]),Ao=rr(),Do=function(ve){function X(pe,ae){var ye=this;ae===void 0&&(ae={}),ve.call(this),this.map=pe,this.dispatcher=new _(It(),this),this.imageManager=new A,this.imageManager.setEventedParent(this),this.glyphManager=new E(pe._requestManager,ae.localIdeographFontFamily),this.lineAtlas=new O(256,512),this.crossTileSymbolIndex=new la,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new a.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",a.getReferrer());var Fe=this;this._rtlTextPluginCallback=X.registerForPluginStateChange(function(Ze){var lt={pluginStatus:Ze.pluginStatus,pluginURL:Ze.pluginURL};Fe.dispatcher.broadcast("syncRTLPluginState",lt,function(wt,Ut){if(a.triggerPluginCompletionEvent(wt),Ut){var Jt=Ut.every(function(xr){return xr});if(Jt)for(var fr in Fe.sourceCaches)Fe.sourceCaches[fr].reload()}})}),this.on("data",function(Ze){if(!(Ze.dataType!=="source"||Ze.sourceDataType!=="metadata")){var lt=ye.sourceCaches[Ze.sourceId];if(lt){var wt=lt.getSource();if(!(!wt||!wt.vectorLayerIds))for(var Ut in ye._layers){var Jt=ye._layers[Ut];Jt.source===wt.id&&ye._validateLayer(Jt)}}}})}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.loadURL=function(ae,ye){var Fe=this;ye===void 0&&(ye={}),this.fire(new a.Event("dataloading",{dataType:"style"}));var Ze=typeof ye.validate=="boolean"?ye.validate:!a.isMapboxURL(ae);ae=this.map._requestManager.normalizeStyleURL(ae,ye.accessToken);var lt=this.map._requestManager.transformRequest(ae,a.ResourceType.Style);this._request=a.getJSON(lt,function(wt,Ut){Fe._request=null,wt?Fe.fire(new a.ErrorEvent(wt)):Ut&&Fe._load(Ut,Ze)})},X.prototype.loadJSON=function(ae,ye){var Fe=this;ye===void 0&&(ye={}),this.fire(new a.Event("dataloading",{dataType:"style"})),this._request=a.browser.frame(function(){Fe._request=null,Fe._load(ae,ye.validate!==!1)})},X.prototype.loadEmpty=function(){this.fire(new a.Event("dataloading",{dataType:"style"})),this._load(Ao,!1)},X.prototype._load=function(ae,ye){if(!(ye&&ua(this,a.validateStyle(ae)))){this._loaded=!0,this.stylesheet=ae;for(var Fe in ae.sources)this.addSource(Fe,ae.sources[Fe],{validate:!1});ae.sprite?this._loadSprite(ae.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(ae.glyphs);var Ze=or(this.stylesheet.layers);this._order=Ze.map(function(Jt){return Jt.id}),this._layers={},this._serializedLayers={};for(var lt=0,wt=Ze;lt<wt.length;lt+=1){var Ut=wt[lt];Ut=a.createStyleLayer(Ut),Ut.setEventedParent(this,{layer:{id:Ut.id}}),this._layers[Ut.id]=Ut,this._serializedLayers[Ut.id]=Ut.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new b(this.stylesheet.light),this.fire(new a.Event("data",{dataType:"style"})),this.fire(new a.Event("style.load"))}},X.prototype._loadSprite=function(ae){var ye=this;this._spriteRequest=u(ae,this.map._requestManager,function(Fe,Ze){if(ye._spriteRequest=null,Fe)ye.fire(new a.ErrorEvent(Fe));else if(Ze)for(var lt in Ze)ye.imageManager.addImage(lt,Ze[lt]);ye.imageManager.setLoaded(!0),ye._availableImages=ye.imageManager.listImages(),ye.dispatcher.broadcast("setImages",ye._availableImages),ye.fire(new a.Event("data",{dataType:"style"}))})},X.prototype._validateLayer=function(ae){var ye=this.sourceCaches[ae.source];if(ye){var Fe=ae.sourceLayer;if(Fe){var Ze=ye.getSource();(Ze.type==="geojson"||Ze.vectorLayerIds&&Ze.vectorLayerIds.indexOf(Fe)===-1)&&this.fire(new a.ErrorEvent(new Error('Source layer "'+Fe+'" does not exist on source "'+Ze.id+'" as specified by style layer "'+ae.id+'"')))}}},X.prototype.loaded=function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var ae in this.sourceCaches)if(!this.sourceCaches[ae].loaded())return!1;return!!this.imageManager.isLoaded()},X.prototype._serializeLayers=function(ae){for(var ye=[],Fe=0,Ze=ae;Fe<Ze.length;Fe+=1){var lt=Ze[Fe],wt=this._layers[lt];wt.type!=="custom"&&ye.push(wt.serialize())}return ye},X.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var ae in this.sourceCaches)if(this.sourceCaches[ae].hasTransition())return!0;for(var ye in this._layers)if(this._layers[ye].hasTransition())return!0;return!1},X.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},X.prototype.update=function(ae){if(this._loaded){var ye=this._changed;if(this._changed){var Fe=Object.keys(this._updatedLayers),Ze=Object.keys(this._removedLayers);(Fe.length||Ze.length)&&this._updateWorkerLayers(Fe,Ze);for(var lt in this._updatedSources){var wt=this._updatedSources[lt];wt==="reload"?this._reloadSource(lt):wt==="clear"&&this._clearSource(lt)}this._updateTilesForChangedImages();for(var Ut in this._updatedPaintProps)this._layers[Ut].updateTransitions(ae);this.light.updateTransitions(ae),this._resetUpdates()}for(var Jt in this.sourceCaches)this.sourceCaches[Jt].used=!1;for(var fr=0,xr=this._order;fr<xr.length;fr+=1){var zr=xr[fr],Wr=this._layers[zr];Wr.recalculate(ae,this._availableImages),!Wr.isHidden(ae.zoom)&&Wr.source&&(this.sourceCaches[Wr.source].used=!0)}this.light.recalculate(ae),this.z=ae.zoom,ye&&this.fire(new a.Event("data",{dataType:"style"}))}},X.prototype._updateTilesForChangedImages=function(){var ae=Object.keys(this._changedImages);if(ae.length){for(var ye in this.sourceCaches)this.sourceCaches[ye].reloadTilesForDependencies(["icons","patterns"],ae);this._changedImages={}}},X.prototype._updateWorkerLayers=function(ae,ye){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(ae),removedIds:ye})},X.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},X.prototype.setState=function(ae){var ye=this;if(this._checkLoaded(),ua(this,a.validateStyle(ae)))return!1;ae=a.clone$1(ae),ae.layers=or(ae.layers);var Fe=Bn(this.serialize(),ae).filter(function(lt){return!(lt.command in io)});if(Fe.length===0)return!1;var Ze=Fe.filter(function(lt){return!(lt.command in ga)});if(Ze.length>0)throw new Error("Unimplemented: "+Ze.map(function(lt){return lt.command}).join(", ")+".");return Fe.forEach(function(lt){lt.command!=="setTransition"&&ye[lt.command].apply(ye,lt.args)}),this.stylesheet=ae,!0},X.prototype.addImage=function(ae,ye){if(this.getImage(ae))return this.fire(new a.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(ae,ye),this._availableImages=this.imageManager.listImages(),this._changedImages[ae]=!0,this._changed=!0,this.fire(new a.Event("data",{dataType:"style"}))},X.prototype.updateImage=function(ae,ye){this.imageManager.updateImage(ae,ye)},X.prototype.getImage=function(ae){return this.imageManager.getImage(ae)},X.prototype.removeImage=function(ae){if(!this.getImage(ae))return this.fire(new a.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(ae),this._availableImages=this.imageManager.listImages(),this._changedImages[ae]=!0,this._changed=!0,this.fire(new a.Event("data",{dataType:"style"}))},X.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},X.prototype.addSource=function(ae,ye,Fe){var Ze=this;if(Fe===void 0&&(Fe={}),this._checkLoaded(),this.sourceCaches[ae]!==void 0)throw new Error("There is already a source with this ID");if(!ye.type)throw new Error("The type property must be defined, but the only the following properties were given: "+Object.keys(ye).join(", ")+".");var lt=["vector","raster","geojson","video","image"],wt=lt.indexOf(ye.type)>=0;if(!(wt&&this._validate(a.validateStyle.source,"sources."+ae,ye,null,Fe))){this.map&&this.map._collectResourceTiming&&(ye.collectResourceTiming=!0);var Ut=this.sourceCaches[ae]=new Bt(ae,ye,this.dispatcher);Ut.style=this,Ut.setEventedParent(this,function(){return{isSourceLoaded:Ze.loaded(),source:Ut.serialize(),sourceId:ae}}),Ut.onAdd(this.map),this._changed=!0}},X.prototype.removeSource=function(ae){if(this._checkLoaded(),this.sourceCaches[ae]===void 0)throw new Error("There is no source with this ID");for(var ye in this._layers)if(this._layers[ye].source===ae)return this.fire(new a.ErrorEvent(new Error('Source "'+ae+'" cannot be removed while layer "'+ye+'" is using it.')));var Fe=this.sourceCaches[ae];delete this.sourceCaches[ae],delete this._updatedSources[ae],Fe.fire(new a.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:ae})),Fe.setEventedParent(null),Fe.clearTiles(),Fe.onRemove&&Fe.onRemove(this.map),this._changed=!0},X.prototype.setGeoJSONSourceData=function(ae,ye){this._checkLoaded();var Fe=this.sourceCaches[ae].getSource();Fe.setData(ye),this._changed=!0},X.prototype.getSource=function(ae){return this.sourceCaches[ae]&&this.sourceCaches[ae].getSource()},X.prototype.addLayer=function(ae,ye,Fe){Fe===void 0&&(Fe={}),this._checkLoaded();var Ze=ae.id;if(this.getLayer(Ze)){this.fire(new a.ErrorEvent(new Error('Layer with id "'+Ze+'" already exists on this map')));return}var lt;if(ae.type==="custom"){if(ua(this,a.validateCustomStyleLayer(ae)))return;lt=a.createStyleLayer(ae)}else{if(typeof ae.source=="object"&&(this.addSource(Ze,ae.source),ae=a.clone$1(ae),ae=a.extend(ae,{source:Ze})),this._validate(a.validateStyle.layer,"layers."+Ze,ae,{arrayIndex:-1},Fe))return;lt=a.createStyleLayer(ae),this._validateLayer(lt),lt.setEventedParent(this,{layer:{id:Ze}}),this._serializedLayers[lt.id]=lt.serialize()}var wt=ye?this._order.indexOf(ye):this._order.length;if(ye&&wt===-1){this.fire(new a.ErrorEvent(new Error('Layer with id "'+ye+'" does not exist on this map.')));return}if(this._order.splice(wt,0,Ze),this._layerOrderChanged=!0,this._layers[Ze]=lt,this._removedLayers[Ze]&&lt.source&&lt.type!=="custom"){var Ut=this._removedLayers[Ze];delete this._removedLayers[Ze],Ut.type!==lt.type?this._updatedSources[lt.source]="clear":(this._updatedSources[lt.source]="reload",this.sourceCaches[lt.source].pause())}this._updateLayer(lt),lt.onAdd&&lt.onAdd(this.map)},X.prototype.moveLayer=function(ae,ye){this._checkLoaded(),this._changed=!0;var Fe=this._layers[ae];if(!Fe){this.fire(new a.ErrorEvent(new Error("The layer '"+ae+"' does not exist in the map's style and cannot be moved.")));return}if(ae!==ye){var Ze=this._order.indexOf(ae);this._order.splice(Ze,1);var lt=ye?this._order.indexOf(ye):this._order.length;if(ye&&lt===-1){this.fire(new a.ErrorEvent(new Error('Layer with id "'+ye+'" does not exist on this map.')));return}this._order.splice(lt,0,ae),this._layerOrderChanged=!0}},X.prototype.removeLayer=function(ae){this._checkLoaded();var ye=this._layers[ae];if(!ye){this.fire(new a.ErrorEvent(new Error("The layer '"+ae+"' does not exist in the map's style and cannot be removed.")));return}ye.setEventedParent(null);var Fe=this._order.indexOf(ae);this._order.splice(Fe,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[ae]=ye,delete this._layers[ae],delete this._serializedLayers[ae],delete this._updatedLayers[ae],delete this._updatedPaintProps[ae],ye.onRemove&&ye.onRemove(this.map)},X.prototype.getLayer=function(ae){return this._layers[ae]},X.prototype.hasLayer=function(ae){return ae in this._layers},X.prototype.setLayerZoomRange=function(ae,ye,Fe){this._checkLoaded();var Ze=this.getLayer(ae);if(!Ze){this.fire(new a.ErrorEvent(new Error("The layer '"+ae+"' does not exist in the map's style and cannot have zoom extent.")));return}Ze.minzoom===ye&&Ze.maxzoom===Fe||(ye!=null&&(Ze.minzoom=ye),Fe!=null&&(Ze.maxzoom=Fe),this._updateLayer(Ze))},X.prototype.setFilter=function(ae,ye,Fe){Fe===void 0&&(Fe={}),this._checkLoaded();var Ze=this.getLayer(ae);if(!Ze){this.fire(new a.ErrorEvent(new Error("The layer '"+ae+"' does not exist in the map's style and cannot be filtered.")));return}if(!a.deepEqual(Ze.filter,ye)){if(ye==null){Ze.filter=void 0,this._updateLayer(Ze);return}this._validate(a.validateStyle.filter,"layers."+Ze.id+".filter",ye,null,Fe)||(Ze.filter=a.clone$1(ye),this._updateLayer(Ze))}},X.prototype.getFilter=function(ae){return a.clone$1(this.getLayer(ae).filter)},X.prototype.setLayoutProperty=function(ae,ye,Fe,Ze){Ze===void 0&&(Ze={}),this._checkLoaded();var lt=this.getLayer(ae);if(!lt){this.fire(new a.ErrorEvent(new Error("The layer '"+ae+"' does not exist in the map's style and cannot be styled.")));return}a.deepEqual(lt.getLayoutProperty(ye),Fe)||(lt.setLayoutProperty(ye,Fe,Ze),this._updateLayer(lt))},X.prototype.getLayoutProperty=function(ae,ye){var Fe=this.getLayer(ae);if(!Fe){this.fire(new a.ErrorEvent(new Error("The layer '"+ae+"' does not exist in the map's style.")));return}return Fe.getLayoutProperty(ye)},X.prototype.setPaintProperty=function(ae,ye,Fe,Ze){Ze===void 0&&(Ze={}),this._checkLoaded();var lt=this.getLayer(ae);if(!lt){this.fire(new a.ErrorEvent(new Error("The layer '"+ae+"' does not exist in the map's style and cannot be styled.")));return}if(!a.deepEqual(lt.getPaintProperty(ye),Fe)){var wt=lt.setPaintProperty(ye,Fe,Ze);wt&&this._updateLayer(lt),this._changed=!0,this._updatedPaintProps[ae]=!0}},X.prototype.getPaintProperty=function(ae,ye){return this.getLayer(ae).getPaintProperty(ye)},X.prototype.setFeatureState=function(ae,ye){this._checkLoaded();var Fe=ae.source,Ze=ae.sourceLayer,lt=this.sourceCaches[Fe];if(lt===void 0){this.fire(new a.ErrorEvent(new Error("The source '"+Fe+"' does not exist in the map's style.")));return}var wt=lt.getSource().type;if(wt==="geojson"&&Ze){this.fire(new a.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));return}if(wt==="vector"&&!Ze){this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}ae.id===void 0&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided."))),lt.setFeatureState(Ze,ae.id,ye)},X.prototype.removeFeatureState=function(ae,ye){this._checkLoaded();var Fe=ae.source,Ze=this.sourceCaches[Fe];if(Ze===void 0){this.fire(new a.ErrorEvent(new Error("The source '"+Fe+"' does not exist in the map's style.")));return}var lt=Ze.getSource().type,wt=lt==="vector"?ae.sourceLayer:void 0;if(lt==="vector"&&!wt){this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}if(ye&&typeof ae.id!="string"&&typeof ae.id!="number"){this.fire(new a.ErrorEvent(new Error("A feature id is requred to remove its specific state property.")));return}Ze.removeFeatureState(wt,ae.id,ye)},X.prototype.getFeatureState=function(ae){this._checkLoaded();var ye=ae.source,Fe=ae.sourceLayer,Ze=this.sourceCaches[ye];if(Ze===void 0){this.fire(new a.ErrorEvent(new Error("The source '"+ye+"' does not exist in the map's style.")));return}var lt=Ze.getSource().type;if(lt==="vector"&&!Fe){this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}return ae.id===void 0&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided."))),Ze.getFeatureState(Fe,ae.id)},X.prototype.getTransition=function(){return a.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},X.prototype.serialize=function(){return a.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:a.mapObject(this.sourceCaches,function(ae){return ae.serialize()}),layers:this._serializeLayers(this._order)},function(ae){return ae!==void 0})},X.prototype._updateLayer=function(ae){this._updatedLayers[ae.id]=!0,ae.source&&!this._updatedSources[ae.source]&&this.sourceCaches[ae.source].getSource().type!=="raster"&&(this._updatedSources[ae.source]="reload",this.sourceCaches[ae.source].pause()),this._changed=!0},X.prototype._flattenAndSortRenderedFeatures=function(ae){for(var ye=this,Fe=function(ka){return ye._layers[ka].type==="fill-extrusion"},Ze={},lt=[],wt=this._order.length-1;wt>=0;wt--){var Ut=this._order[wt];if(Fe(Ut)){Ze[Ut]=wt;for(var Jt=0,fr=ae;Jt<fr.length;Jt+=1){var xr=fr[Jt],zr=xr[Ut];if(zr)for(var Wr=0,Yr=zr;Wr<Yr.length;Wr+=1){var Hr=Yr[Wr];lt.push(Hr)}}}}lt.sort(function(ka,Va){return Va.intersectionZ-ka.intersectionZ});for(var Jr=[],fn=this._order.length-1;fn>=0;fn--){var Dn=this._order[fn];if(Fe(Dn))for(var Fn=lt.length-1;Fn>=0;Fn--){var Kn=lt[Fn].feature;if(Ze[Kn.layer.id]<fn)break;Jr.push(Kn),lt.pop()}else for(var Jn=0,$n=ae;Jn<$n.length;Jn+=1){var ia=$n[Jn],ha=ia[Dn];if(ha)for(var ca=0,ya=ha;ca<ya.length;ca+=1){var Aa=ya[ca];Jr.push(Aa.feature)}}}return Jr},X.prototype.queryRenderedFeatures=function(ae,ye,Fe){ye&&ye.filter&&this._validate(a.validateStyle.filter,"queryRenderedFeatures.filter",ye.filter,null,ye);var Ze={};if(ye&&ye.layers){if(!Array.isArray(ye.layers))return this.fire(new a.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var lt=0,wt=ye.layers;lt<wt.length;lt+=1){var Ut=wt[lt],Jt=this._layers[Ut];if(!Jt)return this.fire(new a.ErrorEvent(new Error("The layer '"+Ut+"' does not exist in the map's style and cannot be queried for features."))),[];Ze[Jt.source]=!0}}var fr=[];ye.availableImages=this._availableImages;for(var xr in this.sourceCaches)ye.layers&&!Ze[xr]||fr.push(q(this.sourceCaches[xr],this._layers,this._serializedLayers,ae,ye,Fe));return this.placement&&fr.push(ee(this._layers,this._serializedLayers,this.sourceCaches,ae,ye,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(fr)},X.prototype.querySourceFeatures=function(ae,ye){ye&&ye.filter&&this._validate(a.validateStyle.filter,"querySourceFeatures.filter",ye.filter,null,ye);var Fe=this.sourceCaches[ae];return Fe?ue(Fe,ye):[]},X.prototype.addSourceType=function(ae,ye,Fe){if(X.getSourceType(ae))return Fe(new Error('A source type called "'+ae+'" already exists.'));if(X.setSourceType(ae,ye),!ye.workerSourceURL)return Fe(null,null);this.dispatcher.broadcast("loadWorkerSource",{name:ae,url:ye.workerSourceURL},Fe)},X.prototype.getLight=function(){return this.light.getLight()},X.prototype.setLight=function(ae,ye){ye===void 0&&(ye={}),this._checkLoaded();var Fe=this.light.getLight(),Ze=!1;for(var lt in ae)if(!a.deepEqual(ae[lt],Fe[lt])){Ze=!0;break}if(Ze){var wt={now:a.browser.now(),transition:a.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(ae,ye),this.light.updateTransitions(wt)}},X.prototype._validate=function(ae,ye,Fe,Ze,lt){return lt===void 0&&(lt={}),lt&&lt.validate===!1?!1:ua(this,ae.call(a.validateStyle,a.extend({key:ye,style:this.serialize(),value:Fe,styleSpec:a.styleSpec},Ze)))},X.prototype._remove=function(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),a.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(var ae in this._layers){var ye=this._layers[ae];ye.setEventedParent(null)}for(var Fe in this.sourceCaches)this.sourceCaches[Fe].clearTiles(),this.sourceCaches[Fe].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},X.prototype._clearSource=function(ae){this.sourceCaches[ae].clearTiles()},X.prototype._reloadSource=function(ae){this.sourceCaches[ae].resume(),this.sourceCaches[ae].reload()},X.prototype._updateSources=function(ae){for(var ye in this.sourceCaches)this.sourceCaches[ye].update(ae)},X.prototype._generateCollisionBoxes=function(){for(var ae in this.sourceCaches)this._reloadSource(ae)},X.prototype._updatePlacement=function(ae,ye,Fe,Ze,lt){lt===void 0&&(lt=!1);for(var wt=!1,Ut=!1,Jt={},fr=0,xr=this._order;fr<xr.length;fr+=1){var zr=xr[fr],Wr=this._layers[zr];if(Wr.type==="symbol"){if(!Jt[Wr.source]){var Yr=this.sourceCaches[Wr.source];Jt[Wr.source]=Yr.getRenderableIds(!0).map(function(Jn){return Yr.getTileByID(Jn)}).sort(function(Jn,$n){return $n.tileID.overscaledZ-Jn.tileID.overscaledZ||(Jn.tileID.isLessThan($n.tileID)?-1:1)})}var Hr=this.crossTileSymbolIndex.addLayer(Wr,Jt[Wr.source],ae.center.lng);wt=wt||Hr}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),lt=lt||this._layerOrderChanged||Fe===0,(lt||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(a.browser.now(),ae.zoom))&&(this.pauseablePlacement=new Xn(ae,this._order,lt,ye,Fe,Ze,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,Jt),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(a.browser.now()),Ut=!0),wt&&this.pauseablePlacement.placement.setStale()),Ut||wt)for(var Jr=0,fn=this._order;Jr<fn.length;Jr+=1){var Dn=fn[Jr],Fn=this._layers[Dn];Fn.type==="symbol"&&this.placement.updateLayerOpacities(Fn,Jt[Fn.source])}var Kn=!this.pauseablePlacement.isDone()||this.placement.hasTransitions(a.browser.now());return Kn},X.prototype._releaseSymbolFadeTiles=function(){for(var ae in this.sourceCaches)this.sourceCaches[ae].releaseSymbolFadeTiles()},X.prototype.getImages=function(ae,ye,Fe){this.imageManager.getImages(ye.icons,Fe),this._updateTilesForChangedImages();var Ze=this.sourceCaches[ye.source];Ze&&Ze.setDependencies(ye.tileID.key,ye.type,ye.icons)},X.prototype.getGlyphs=function(ae,ye,Fe){this.glyphManager.getGlyphs(ye.stacks,Fe)},X.prototype.getResource=function(ae,ye,Fe){return a.makeRequest(ye,Fe)},X}(a.Evented);Do.getSourceType=K,Do.setSourceType=J,Do.registerForPluginStateChange=a.registerForPluginStateChange;var No=a.createLayout([{name:"a_pos",type:"Int16",components:2}]),Io=`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif`,sc=`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}`,ai=`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Yu="attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}",fu=`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,oo="uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}",Uo=`varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,$c=`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`,ju="void main() {gl_FragColor=vec4(1.0);}",zi="attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}",Zu=`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Ko=`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`,eo=`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,$o="uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}",So="varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}",as="attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}",Rs="varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}",Js="attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}",co="uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}",Jc="attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}",Ds=`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,ho=`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`,lc=`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Qs=`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`,Is=`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,uc=`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`,fc=`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,tv=`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`,Xu=`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,rv=`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`,nv=`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,av=`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`,cc=`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform float u_maxzoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggeration=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/ pow(2.0,(u_zoom-u_maxzoom)*exaggeration+19.2562-u_zoom);gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,iv="uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}",ov=`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Qc="uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}",sv=`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,lv=`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`,hc=`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp float v_lineprogress;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,vec2(v_lineprogress,0.5));gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Fl=`
#define MAX_LINE_DISTANCE 32767.0
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_lineprogress;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_lineprogress=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0/MAX_LINE_DISTANCE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`,Bl=`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,cu=`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`,Sf=`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,uv=`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`,qs=`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,qc="uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}",vc=`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,fv=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}`,is=`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Nl=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`,Ku=`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,hu=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`,ks=mi(Io,sc),el=mi(ai,Yu),dc=mi(fu,oo),vu=mi(Uo,$c),dl=mi(ju,zi),Hi=mi(Zu,Ko),pc=mi(eo,$o),Mf=mi(So,as),du=mi(Rs,Js),eh=mi(co,Jc),th=mi(Ds,ho),pu=mi(lc,Qs),gu=mi(Is,uc),so=mi(fc,tv),Ef=mi(Xu,rv),cv=mi(nv,av),gc=mi(cc,iv),hv=mi(ov,Qc),Cf=mi(sv,lv),$u=mi(hc,Fl),yc=mi(Bl,cu),mc=mi(Sf,uv),Ju=mi(qs,qc),xc=mi(vc,fv),Lf=mi(is,Nl),bc=mi(Ku,hu);function mi(ve,X){var pe=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,ae={};return ve=ve.replace(pe,function(ye,Fe,Ze,lt,wt){return ae[wt]=!0,Fe==="define"?`
#ifndef HAS_UNIFORM_u_`+wt+`
varying `+Ze+" "+lt+" "+wt+`;
#else
uniform `+Ze+" "+lt+" u_"+wt+`;
#endif
`:`
#ifdef HAS_UNIFORM_u_`+wt+`
    `+Ze+" "+lt+" "+wt+" = u_"+wt+`;
#endif
`}),X=X.replace(pe,function(ye,Fe,Ze,lt,wt){var Ut=lt==="float"?"vec2":"vec4",Jt=wt.match(/color/)?"color":Ut;return ae[wt]?Fe==="define"?`
#ifndef HAS_UNIFORM_u_`+wt+`
uniform lowp float u_`+wt+`_t;
attribute `+Ze+" "+Ut+" a_"+wt+`;
varying `+Ze+" "+lt+" "+wt+`;
#else
uniform `+Ze+" "+lt+" u_"+wt+`;
#endif
`:Jt==="vec4"?`
#ifndef HAS_UNIFORM_u_`+wt+`
    `+wt+" = a_"+wt+`;
#else
    `+Ze+" "+lt+" "+wt+" = u_"+wt+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+wt+`
    `+wt+" = unpack_mix_"+Jt+"(a_"+wt+", u_"+wt+`_t);
#else
    `+Ze+" "+lt+" "+wt+" = u_"+wt+`;
#endif
`:Fe==="define"?`
#ifndef HAS_UNIFORM_u_`+wt+`
uniform lowp float u_`+wt+`_t;
attribute `+Ze+" "+Ut+" a_"+wt+`;
#else
uniform `+Ze+" "+lt+" u_"+wt+`;
#endif
`:Jt==="vec4"?`
#ifndef HAS_UNIFORM_u_`+wt+`
    `+Ze+" "+lt+" "+wt+" = a_"+wt+`;
#else
    `+Ze+" "+lt+" "+wt+" = u_"+wt+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+wt+`
    `+Ze+" "+lt+" "+wt+" = unpack_mix_"+Jt+"(a_"+wt+", u_"+wt+`_t);
#else
    `+Ze+" "+lt+" "+wt+" = u_"+wt+`;
#endif
`}),{fragmentSource:ve,vertexSource:X}}var rh=Object.freeze({__proto__:null,prelude:ks,background:el,backgroundPattern:dc,circle:vu,clippingMask:dl,heatmap:Hi,heatmapTexture:pc,collisionBox:Mf,collisionCircle:du,debug:eh,fill:th,fillOutline:pu,fillOutlinePattern:gu,fillPattern:so,fillExtrusion:Ef,fillExtrusionPattern:cv,hillshadePrepare:gc,hillshade:hv,line:Cf,lineGradient:$u,linePattern:yc,lineSDF:mc,raster:Ju,symbolIcon:xc,symbolSDF:Lf,symbolTextAndIcon:bc}),ys=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};ys.prototype.bind=function(X,pe,ae,ye,Fe,Ze,lt,wt){this.context=X;for(var Ut=this.boundPaintVertexBuffers.length!==ye.length,Jt=0;!Ut&&Jt<ye.length;Jt++)this.boundPaintVertexBuffers[Jt]!==ye[Jt]&&(Ut=!0);var fr=!this.vao||this.boundProgram!==pe||this.boundLayoutVertexBuffer!==ae||Ut||this.boundIndexBuffer!==Fe||this.boundVertexOffset!==Ze||this.boundDynamicVertexBuffer!==lt||this.boundDynamicVertexBuffer2!==wt;!X.extVertexArrayObject||fr?this.freshBind(pe,ae,ye,Fe,Ze,lt,wt):(X.bindVertexArrayOES.set(this.vao),lt&&lt.bind(),Fe&&Fe.dynamicDraw&&Fe.bind(),wt&&wt.bind())},ys.prototype.freshBind=function(X,pe,ae,ye,Fe,Ze,lt){var wt,Ut=X.numAttributes,Jt=this.context,fr=Jt.gl;if(Jt.extVertexArrayObject)this.vao&&this.destroy(),this.vao=Jt.extVertexArrayObject.createVertexArrayOES(),Jt.bindVertexArrayOES.set(this.vao),wt=0,this.boundProgram=X,this.boundLayoutVertexBuffer=pe,this.boundPaintVertexBuffers=ae,this.boundIndexBuffer=ye,this.boundVertexOffset=Fe,this.boundDynamicVertexBuffer=Ze,this.boundDynamicVertexBuffer2=lt;else{wt=Jt.currentNumAttributes||0;for(var xr=Ut;xr<wt;xr++)fr.disableVertexAttribArray(xr)}pe.enableAttributes(fr,X);for(var zr=0,Wr=ae;zr<Wr.length;zr+=1){var Yr=Wr[zr];Yr.enableAttributes(fr,X)}Ze&&Ze.enableAttributes(fr,X),lt&&lt.enableAttributes(fr,X),pe.bind(),pe.setVertexAttribPointers(fr,X,Fe);for(var Hr=0,Jr=ae;Hr<Jr.length;Hr+=1){var fn=Jr[Hr];fn.bind(),fn.setVertexAttribPointers(fr,X,Fe)}Ze&&(Ze.bind(),Ze.setVertexAttribPointers(fr,X,Fe)),ye&&ye.bind(),lt&&(lt.bind(),lt.setVertexAttribPointers(fr,X,Fe)),Jt.currentNumAttributes=Ut},ys.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var yu=function(X,pe,ae,ye,Fe){var Ze=X.gl;this.program=Ze.createProgram();var lt=ae?ae.defines():[];Fe&&lt.push("#define OVERDRAW_INSPECTOR;");var wt=lt.concat(ks.fragmentSource,pe.fragmentSource).join(`
`),Ut=lt.concat(ks.vertexSource,pe.vertexSource).join(`
`),Jt=Ze.createShader(Ze.FRAGMENT_SHADER);if(Ze.isContextLost()){this.failedToCreate=!0;return}Ze.shaderSource(Jt,wt),Ze.compileShader(Jt),Ze.attachShader(this.program,Jt);var fr=Ze.createShader(Ze.VERTEX_SHADER);if(Ze.isContextLost()){this.failedToCreate=!0;return}Ze.shaderSource(fr,Ut),Ze.compileShader(fr),Ze.attachShader(this.program,fr);for(var xr=ae?ae.layoutAttributes:[],zr=0;zr<xr.length;zr++)Ze.bindAttribLocation(this.program,zr,xr[zr].name);Ze.linkProgram(this.program),Ze.deleteShader(fr),Ze.deleteShader(Jt),this.numAttributes=Ze.getProgramParameter(this.program,Ze.ACTIVE_ATTRIBUTES),this.attributes={};for(var Wr={},Yr=0;Yr<this.numAttributes;Yr++){var Hr=Ze.getActiveAttrib(this.program,Yr);Hr&&(this.attributes[Hr.name]=Ze.getAttribLocation(this.program,Hr.name))}for(var Jr=Ze.getProgramParameter(this.program,Ze.ACTIVE_UNIFORMS),fn=0;fn<Jr;fn++){var Dn=Ze.getActiveUniform(this.program,fn);Dn&&(Wr[Dn.name]=Ze.getUniformLocation(this.program,Dn.name))}this.fixedUniforms=ye(X,Wr),this.binderUniforms=ae?ae.getUniforms(X,Wr):[]};yu.prototype.draw=function(X,pe,ae,ye,Fe,Ze,lt,wt,Ut,Jt,fr,xr,zr,Wr,Yr,Hr){var Jr,fn=X.gl;if(!this.failedToCreate){X.program.set(this.program),X.setDepthMode(ae),X.setStencilMode(ye),X.setColorMode(Fe),X.setCullFace(Ze);for(var Dn in this.fixedUniforms)this.fixedUniforms[Dn].set(lt[Dn]);Wr&&Wr.setUniforms(X,this.binderUniforms,xr,{zoom:zr});for(var Fn=(Jr={},Jr[fn.LINES]=2,Jr[fn.TRIANGLES]=3,Jr[fn.LINE_STRIP]=1,Jr)[pe],Kn=0,Jn=fr.get();Kn<Jn.length;Kn+=1){var $n=Jn[Kn],ia=$n.vaos||($n.vaos={}),ha=ia[wt]||(ia[wt]=new ys);ha.bind(X,this,Ut,Wr?Wr.getPaintVertexBuffers():[],Jt,$n.vertexOffset,Yr,Hr),fn.drawElements(pe,$n.primitiveLength*Fn,fn.UNSIGNED_SHORT,$n.primitiveOffset*Fn*2)}}};function Ul(ve,X,pe){var ae=1/yn(pe,1,X.transform.tileZoom),ye=Math.pow(2,pe.tileID.overscaledZ),Fe=pe.tileSize*Math.pow(2,X.transform.tileZoom)/ye,Ze=Fe*(pe.tileID.canonical.x+pe.tileID.wrap*ye),lt=Fe*pe.tileID.canonical.y;return{u_image:0,u_texsize:pe.imageAtlasTexture.size,u_scale:[ae,ve.fromScale,ve.toScale],u_fade:ve.t,u_pixel_coord_upper:[Ze>>16,lt>>16],u_pixel_coord_lower:[Ze&65535,lt&65535]}}function wc(ve,X,pe,ae){var ye=pe.imageManager.getPattern(ve.from.toString()),Fe=pe.imageManager.getPattern(ve.to.toString()),Ze=pe.imageManager.getPixelSize(),lt=Ze.width,wt=Ze.height,Ut=Math.pow(2,ae.tileID.overscaledZ),Jt=ae.tileSize*Math.pow(2,pe.transform.tileZoom)/Ut,fr=Jt*(ae.tileID.canonical.x+ae.tileID.wrap*Ut),xr=Jt*ae.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:ye.tl,u_pattern_br_a:ye.br,u_pattern_tl_b:Fe.tl,u_pattern_br_b:Fe.br,u_texsize:[lt,wt],u_mix:X.t,u_pattern_size_a:ye.displaySize,u_pattern_size_b:Fe.displaySize,u_scale_a:X.fromScale,u_scale_b:X.toScale,u_tile_units_to_pixels:1/yn(ae,1,pe.transform.tileZoom),u_pixel_coord_upper:[fr>>16,xr>>16],u_pixel_coord_lower:[fr&65535,xr&65535]}}var Gi=function(ve,X){return{u_matrix:new a.UniformMatrix4f(ve,X.u_matrix),u_lightpos:new a.Uniform3f(ve,X.u_lightpos),u_lightintensity:new a.Uniform1f(ve,X.u_lightintensity),u_lightcolor:new a.Uniform3f(ve,X.u_lightcolor),u_vertical_gradient:new a.Uniform1f(ve,X.u_vertical_gradient),u_opacity:new a.Uniform1f(ve,X.u_opacity)}},Qu=function(ve,X){return{u_matrix:new a.UniformMatrix4f(ve,X.u_matrix),u_lightpos:new a.Uniform3f(ve,X.u_lightpos),u_lightintensity:new a.Uniform1f(ve,X.u_lightintensity),u_lightcolor:new a.Uniform3f(ve,X.u_lightcolor),u_vertical_gradient:new a.Uniform1f(ve,X.u_vertical_gradient),u_height_factor:new a.Uniform1f(ve,X.u_height_factor),u_image:new a.Uniform1i(ve,X.u_image),u_texsize:new a.Uniform2f(ve,X.u_texsize),u_pixel_coord_upper:new a.Uniform2f(ve,X.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(ve,X.u_pixel_coord_lower),u_scale:new a.Uniform3f(ve,X.u_scale),u_fade:new a.Uniform1f(ve,X.u_fade),u_opacity:new a.Uniform1f(ve,X.u_opacity)}},Ho=function(ve,X,pe,ae){var ye=X.style.light,Fe=ye.properties.get("position"),Ze=[Fe.x,Fe.y,Fe.z],lt=a.create$1();ye.properties.get("anchor")==="viewport"&&a.fromRotation(lt,-X.transform.angle),a.transformMat3(Ze,Ze,lt);var wt=ye.properties.get("color");return{u_matrix:ve,u_lightpos:Ze,u_lightintensity:ye.properties.get("intensity"),u_lightcolor:[wt.r,wt.g,wt.b],u_vertical_gradient:+pe,u_opacity:ae}},tl=function(ve,X,pe,ae,ye,Fe,Ze){return a.extend(Ho(ve,X,pe,ae),Ul(Fe,X,Ze),{u_height_factor:-Math.pow(2,ye.overscaledZ)/Ze.tileSize/8})},rl=function(ve,X){return{u_matrix:new a.UniformMatrix4f(ve,X.u_matrix)}},pl=function(ve,X){return{u_matrix:new a.UniformMatrix4f(ve,X.u_matrix),u_image:new a.Uniform1i(ve,X.u_image),u_texsize:new a.Uniform2f(ve,X.u_texsize),u_pixel_coord_upper:new a.Uniform2f(ve,X.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(ve,X.u_pixel_coord_lower),u_scale:new a.Uniform3f(ve,X.u_scale),u_fade:new a.Uniform1f(ve,X.u_fade)}},yl=function(ve,X){return{u_matrix:new a.UniformMatrix4f(ve,X.u_matrix),u_world:new a.Uniform2f(ve,X.u_world)}},ml=function(ve,X){return{u_matrix:new a.UniformMatrix4f(ve,X.u_matrix),u_world:new a.Uniform2f(ve,X.u_world),u_image:new a.Uniform1i(ve,X.u_image),u_texsize:new a.Uniform2f(ve,X.u_texsize),u_pixel_coord_upper:new a.Uniform2f(ve,X.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(ve,X.u_pixel_coord_lower),u_scale:new a.Uniform3f(ve,X.u_scale),u_fade:new a.Uniform1f(ve,X.u_fade)}},ms=function(ve){return{u_matrix:ve}},_s=function(ve,X,pe,ae){return a.extend(ms(ve),Ul(pe,X,ae))},qu=function(ve,X){return{u_matrix:ve,u_world:X}},ef=function(ve,X,pe,ae,ye){return a.extend(_s(ve,X,pe,ae),{u_world:ye})},Pf=function(ve,X){return{u_camera_to_center_distance:new a.Uniform1f(ve,X.u_camera_to_center_distance),u_scale_with_map:new a.Uniform1i(ve,X.u_scale_with_map),u_pitch_with_map:new a.Uniform1i(ve,X.u_pitch_with_map),u_extrude_scale:new a.Uniform2f(ve,X.u_extrude_scale),u_device_pixel_ratio:new a.Uniform1f(ve,X.u_device_pixel_ratio),u_matrix:new a.UniformMatrix4f(ve,X.u_matrix)}},vv=function(ve,X,pe,ae){var ye=ve.transform,Fe,Ze;if(ae.paint.get("circle-pitch-alignment")==="map"){var lt=yn(pe,1,ye.zoom);Fe=!0,Ze=[lt,lt]}else Fe=!1,Ze=ye.pixelsToGLUnits;return{u_camera_to_center_distance:ye.cameraToCenterDistance,u_scale_with_map:+(ae.paint.get("circle-pitch-scale")==="map"),u_matrix:ve.translatePosMatrix(X.posMatrix,pe,ae.paint.get("circle-translate"),ae.paint.get("circle-translate-anchor")),u_pitch_with_map:+Fe,u_device_pixel_ratio:a.browser.devicePixelRatio,u_extrude_scale:Ze}},dv=function(ve,X){return{u_matrix:new a.UniformMatrix4f(ve,X.u_matrix),u_camera_to_center_distance:new a.Uniform1f(ve,X.u_camera_to_center_distance),u_pixels_to_tile_units:new a.Uniform1f(ve,X.u_pixels_to_tile_units),u_extrude_scale:new a.Uniform2f(ve,X.u_extrude_scale),u_overscale_factor:new a.Uniform1f(ve,X.u_overscale_factor)}},pv=function(ve,X){return{u_matrix:new a.UniformMatrix4f(ve,X.u_matrix),u_inv_matrix:new a.UniformMatrix4f(ve,X.u_inv_matrix),u_camera_to_center_distance:new a.Uniform1f(ve,X.u_camera_to_center_distance),u_viewport_size:new a.Uniform2f(ve,X.u_viewport_size)}},gv=function(ve,X,pe){var ae=yn(pe,1,X.zoom),ye=Math.pow(2,X.zoom-pe.tileID.overscaledZ),Fe=pe.tileID.overscaleFactor();return{u_matrix:ve,u_camera_to_center_distance:X.cameraToCenterDistance,u_pixels_to_tile_units:ae,u_extrude_scale:[X.pixelsToGLUnits[0]/(ae*ye),X.pixelsToGLUnits[1]/(ae*ye)],u_overscale_factor:Fe}},Rf=function(ve,X,pe){return{u_matrix:ve,u_inv_matrix:X,u_camera_to_center_distance:pe.cameraToCenterDistance,u_viewport_size:[pe.width,pe.height]}},nh=function(ve,X){return{u_color:new a.UniformColor(ve,X.u_color),u_matrix:new a.UniformMatrix4f(ve,X.u_matrix),u_overlay:new a.Uniform1i(ve,X.u_overlay),u_overlay_scale:new a.Uniform1f(ve,X.u_overlay_scale)}},mu=function(ve,X,pe){return pe===void 0&&(pe=1),{u_matrix:ve,u_color:X,u_overlay:0,u_overlay_scale:pe}},vo=function(ve,X){return{u_matrix:new a.UniformMatrix4f(ve,X.u_matrix)}},Vo=function(ve){return{u_matrix:ve}},tf=function(ve,X){return{u_extrude_scale:new a.Uniform1f(ve,X.u_extrude_scale),u_intensity:new a.Uniform1f(ve,X.u_intensity),u_matrix:new a.UniformMatrix4f(ve,X.u_matrix)}},Hl=function(ve,X){return{u_matrix:new a.UniformMatrix4f(ve,X.u_matrix),u_world:new a.Uniform2f(ve,X.u_world),u_image:new a.Uniform1i(ve,X.u_image),u_color_ramp:new a.Uniform1i(ve,X.u_color_ramp),u_opacity:new a.Uniform1f(ve,X.u_opacity)}},rf=function(ve,X,pe,ae){return{u_matrix:ve,u_extrude_scale:yn(X,1,pe),u_intensity:ae}},Df=function(ve,X,pe,ae){var ye=a.create();a.ortho(ye,0,ve.width,ve.height,0,0,1);var Fe=ve.context.gl;return{u_matrix:ye,u_world:[Fe.drawingBufferWidth,Fe.drawingBufferHeight],u_image:pe,u_color_ramp:ae,u_opacity:X.paint.get("heatmap-opacity")}},yv=function(ve,X){return{u_matrix:new a.UniformMatrix4f(ve,X.u_matrix),u_image:new a.Uniform1i(ve,X.u_image),u_latrange:new a.Uniform2f(ve,X.u_latrange),u_light:new a.Uniform2f(ve,X.u_light),u_shadow:new a.UniformColor(ve,X.u_shadow),u_highlight:new a.UniformColor(ve,X.u_highlight),u_accent:new a.UniformColor(ve,X.u_accent)}},ah=function(ve,X){return{u_matrix:new a.UniformMatrix4f(ve,X.u_matrix),u_image:new a.Uniform1i(ve,X.u_image),u_dimension:new a.Uniform2f(ve,X.u_dimension),u_zoom:new a.Uniform1f(ve,X.u_zoom),u_maxzoom:new a.Uniform1f(ve,X.u_maxzoom),u_unpack:new a.Uniform4f(ve,X.u_unpack)}},ih=function(ve,X,pe){var ae=pe.paint.get("hillshade-shadow-color"),ye=pe.paint.get("hillshade-highlight-color"),Fe=pe.paint.get("hillshade-accent-color"),Ze=pe.paint.get("hillshade-illumination-direction")*(Math.PI/180);pe.paint.get("hillshade-illumination-anchor")==="viewport"&&(Ze-=ve.transform.angle);var lt=!ve.options.moving;return{u_matrix:ve.transform.calculatePosMatrix(X.tileID.toUnwrapped(),lt),u_image:0,u_latrange:xl(ve,X.tileID),u_light:[pe.paint.get("hillshade-exaggeration"),Ze],u_shadow:ae,u_highlight:ye,u_accent:Fe}},Tc=function(ve,X,pe){var ae=X.stride,ye=a.create();return a.ortho(ye,0,a.EXTENT,-a.EXTENT,0,0,1),a.translate(ye,ye,[0,-a.EXTENT,0]),{u_matrix:ye,u_image:1,u_dimension:[ae,ae],u_zoom:ve.overscaledZ,u_maxzoom:pe,u_unpack:X.getUnpackVector()}};function xl(ve,X){var pe=Math.pow(2,X.canonical.z),ae=X.canonical.y;return[new a.MercatorCoordinate(0,ae/pe).toLngLat().lat,new a.MercatorCoordinate(0,(ae+1)/pe).toLngLat().lat]}var Yi=function(ve,X){return{u_matrix:new a.UniformMatrix4f(ve,X.u_matrix),u_ratio:new a.Uniform1f(ve,X.u_ratio),u_device_pixel_ratio:new a.Uniform1f(ve,X.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(ve,X.u_units_to_pixels)}},zs=function(ve,X){return{u_matrix:new a.UniformMatrix4f(ve,X.u_matrix),u_ratio:new a.Uniform1f(ve,X.u_ratio),u_device_pixel_ratio:new a.Uniform1f(ve,X.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(ve,X.u_units_to_pixels),u_image:new a.Uniform1i(ve,X.u_image)}},Ac=function(ve,X){return{u_matrix:new a.UniformMatrix4f(ve,X.u_matrix),u_texsize:new a.Uniform2f(ve,X.u_texsize),u_ratio:new a.Uniform1f(ve,X.u_ratio),u_device_pixel_ratio:new a.Uniform1f(ve,X.u_device_pixel_ratio),u_image:new a.Uniform1i(ve,X.u_image),u_units_to_pixels:new a.Uniform2f(ve,X.u_units_to_pixels),u_scale:new a.Uniform3f(ve,X.u_scale),u_fade:new a.Uniform1f(ve,X.u_fade)}},oh=function(ve,X){return{u_matrix:new a.UniformMatrix4f(ve,X.u_matrix),u_ratio:new a.Uniform1f(ve,X.u_ratio),u_device_pixel_ratio:new a.Uniform1f(ve,X.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(ve,X.u_units_to_pixels),u_patternscale_a:new a.Uniform2f(ve,X.u_patternscale_a),u_patternscale_b:new a.Uniform2f(ve,X.u_patternscale_b),u_sdfgamma:new a.Uniform1f(ve,X.u_sdfgamma),u_image:new a.Uniform1i(ve,X.u_image),u_tex_y_a:new a.Uniform1f(ve,X.u_tex_y_a),u_tex_y_b:new a.Uniform1f(ve,X.u_tex_y_b),u_mix:new a.Uniform1f(ve,X.u_mix)}},Vl=function(ve,X,pe){var ae=ve.transform;return{u_matrix:al(ve,X,pe),u_ratio:1/yn(X,1,ae.zoom),u_device_pixel_ratio:a.browser.devicePixelRatio,u_units_to_pixels:[1/ae.pixelsToGLUnits[0],1/ae.pixelsToGLUnits[1]]}},If=function(ve,X,pe){return a.extend(Vl(ve,X,pe),{u_image:0})},xs=function(ve,X,pe,ae){var ye=ve.transform,Fe=nl(X,ye);return{u_matrix:al(ve,X,pe),u_texsize:X.imageAtlasTexture.size,u_ratio:1/yn(X,1,ye.zoom),u_device_pixel_ratio:a.browser.devicePixelRatio,u_image:0,u_scale:[Fe,ae.fromScale,ae.toScale],u_fade:ae.t,u_units_to_pixels:[1/ye.pixelsToGLUnits[0],1/ye.pixelsToGLUnits[1]]}},kf=function(ve,X,pe,ae,ye){var Fe=ve.transform,Ze=ve.lineAtlas,lt=nl(X,Fe),wt=pe.layout.get("line-cap")==="round",Ut=Ze.getDash(ae.from,wt),Jt=Ze.getDash(ae.to,wt),fr=Ut.width*ye.fromScale,xr=Jt.width*ye.toScale;return a.extend(Vl(ve,X,pe),{u_patternscale_a:[lt/fr,-Ut.height/2],u_patternscale_b:[lt/xr,-Jt.height/2],u_sdfgamma:Ze.width/(Math.min(fr,xr)*256*a.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:Ut.y,u_tex_y_b:Jt.y,u_mix:ye.t})};function nl(ve,X){return 1/yn(ve,1,X.tileZoom)}function al(ve,X,pe){return ve.translatePosMatrix(X.tileID.posMatrix,X,pe.paint.get("line-translate"),pe.paint.get("line-translate-anchor"))}var Sc=function(ve,X){return{u_matrix:new a.UniformMatrix4f(ve,X.u_matrix),u_tl_parent:new a.Uniform2f(ve,X.u_tl_parent),u_scale_parent:new a.Uniform1f(ve,X.u_scale_parent),u_buffer_scale:new a.Uniform1f(ve,X.u_buffer_scale),u_fade_t:new a.Uniform1f(ve,X.u_fade_t),u_opacity:new a.Uniform1f(ve,X.u_opacity),u_image0:new a.Uniform1i(ve,X.u_image0),u_image1:new a.Uniform1i(ve,X.u_image1),u_brightness_low:new a.Uniform1f(ve,X.u_brightness_low),u_brightness_high:new a.Uniform1f(ve,X.u_brightness_high),u_saturation_factor:new a.Uniform1f(ve,X.u_saturation_factor),u_contrast_factor:new a.Uniform1f(ve,X.u_contrast_factor),u_spin_weights:new a.Uniform3f(ve,X.u_spin_weights)}},xu=function(ve,X,pe,ae,ye){return{u_matrix:ve,u_tl_parent:X,u_scale_parent:pe,u_buffer_scale:1,u_fade_t:ae.mix,u_opacity:ae.opacity*ye.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:ye.paint.get("raster-brightness-min"),u_brightness_high:ye.paint.get("raster-brightness-max"),u_saturation_factor:_f(ye.paint.get("raster-saturation")),u_contrast_factor:Wl(ye.paint.get("raster-contrast")),u_spin_weights:hi(ye.paint.get("raster-hue-rotate"))}};function hi(ve){ve*=Math.PI/180;var X=Math.sin(ve),pe=Math.cos(ve);return[(2*pe+1)/3,(-Math.sqrt(3)*X-pe+1)/3,(Math.sqrt(3)*X-pe+1)/3]}function Wl(ve){return ve>0?1/(1-ve):1+ve}function _f(ve){return ve>0?1-1/(1.001-ve):-ve}var zf=function(ve,X){return{u_is_size_zoom_constant:new a.Uniform1i(ve,X.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(ve,X.u_is_size_feature_constant),u_size_t:new a.Uniform1f(ve,X.u_size_t),u_size:new a.Uniform1f(ve,X.u_size),u_camera_to_center_distance:new a.Uniform1f(ve,X.u_camera_to_center_distance),u_pitch:new a.Uniform1f(ve,X.u_pitch),u_rotate_symbol:new a.Uniform1i(ve,X.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(ve,X.u_aspect_ratio),u_fade_change:new a.Uniform1f(ve,X.u_fade_change),u_matrix:new a.UniformMatrix4f(ve,X.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(ve,X.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(ve,X.u_coord_matrix),u_is_text:new a.Uniform1i(ve,X.u_is_text),u_pitch_with_map:new a.Uniform1i(ve,X.u_pitch_with_map),u_texsize:new a.Uniform2f(ve,X.u_texsize),u_texture:new a.Uniform1i(ve,X.u_texture)}},bl=function(ve,X){return{u_is_size_zoom_constant:new a.Uniform1i(ve,X.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(ve,X.u_is_size_feature_constant),u_size_t:new a.Uniform1f(ve,X.u_size_t),u_size:new a.Uniform1f(ve,X.u_size),u_camera_to_center_distance:new a.Uniform1f(ve,X.u_camera_to_center_distance),u_pitch:new a.Uniform1f(ve,X.u_pitch),u_rotate_symbol:new a.Uniform1i(ve,X.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(ve,X.u_aspect_ratio),u_fade_change:new a.Uniform1f(ve,X.u_fade_change),u_matrix:new a.UniformMatrix4f(ve,X.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(ve,X.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(ve,X.u_coord_matrix),u_is_text:new a.Uniform1i(ve,X.u_is_text),u_pitch_with_map:new a.Uniform1i(ve,X.u_pitch_with_map),u_texsize:new a.Uniform2f(ve,X.u_texsize),u_texture:new a.Uniform1i(ve,X.u_texture),u_gamma_scale:new a.Uniform1f(ve,X.u_gamma_scale),u_device_pixel_ratio:new a.Uniform1f(ve,X.u_device_pixel_ratio),u_is_halo:new a.Uniform1i(ve,X.u_is_halo)}},mv=function(ve,X){return{u_is_size_zoom_constant:new a.Uniform1i(ve,X.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(ve,X.u_is_size_feature_constant),u_size_t:new a.Uniform1f(ve,X.u_size_t),u_size:new a.Uniform1f(ve,X.u_size),u_camera_to_center_distance:new a.Uniform1f(ve,X.u_camera_to_center_distance),u_pitch:new a.Uniform1f(ve,X.u_pitch),u_rotate_symbol:new a.Uniform1i(ve,X.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(ve,X.u_aspect_ratio),u_fade_change:new a.Uniform1f(ve,X.u_fade_change),u_matrix:new a.UniformMatrix4f(ve,X.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(ve,X.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(ve,X.u_coord_matrix),u_is_text:new a.Uniform1i(ve,X.u_is_text),u_pitch_with_map:new a.Uniform1i(ve,X.u_pitch_with_map),u_texsize:new a.Uniform2f(ve,X.u_texsize),u_texsize_icon:new a.Uniform2f(ve,X.u_texsize_icon),u_texture:new a.Uniform1i(ve,X.u_texture),u_texture_icon:new a.Uniform1i(ve,X.u_texture_icon),u_gamma_scale:new a.Uniform1f(ve,X.u_gamma_scale),u_device_pixel_ratio:new a.Uniform1f(ve,X.u_device_pixel_ratio),u_is_halo:new a.Uniform1i(ve,X.u_is_halo)}},Mc=function(ve,X,pe,ae,ye,Fe,Ze,lt,wt,Ut){var Jt=ye.transform;return{u_is_size_zoom_constant:+(ve==="constant"||ve==="source"),u_is_size_feature_constant:+(ve==="constant"||ve==="camera"),u_size_t:X?X.uSizeT:0,u_size:X?X.uSize:0,u_camera_to_center_distance:Jt.cameraToCenterDistance,u_pitch:Jt.pitch/360*2*Math.PI,u_rotate_symbol:+pe,u_aspect_ratio:Jt.width/Jt.height,u_fade_change:ye.options.fadeDuration?ye.symbolFadeChange:1,u_matrix:Fe,u_label_plane_matrix:Ze,u_coord_matrix:lt,u_is_text:+wt,u_pitch_with_map:+ae,u_texsize:Ut,u_texture:0}},bu=function(ve,X,pe,ae,ye,Fe,Ze,lt,wt,Ut,Jt){var fr=ye.transform;return a.extend(Mc(ve,X,pe,ae,ye,Fe,Ze,lt,wt,Ut),{u_gamma_scale:ae?Math.cos(fr._pitch)*fr.cameraToCenterDistance:1,u_device_pixel_ratio:a.browser.devicePixelRatio,u_is_halo:+Jt})},Ec=function(ve,X,pe,ae,ye,Fe,Ze,lt,wt,Ut){return a.extend(bu(ve,X,pe,ae,ye,Fe,Ze,lt,!0,wt,!0),{u_texsize_icon:Ut,u_texture_icon:1})},sh=function(ve,X){return{u_matrix:new a.UniformMatrix4f(ve,X.u_matrix),u_opacity:new a.Uniform1f(ve,X.u_opacity),u_color:new a.UniformColor(ve,X.u_color)}},il=function(ve,X){return{u_matrix:new a.UniformMatrix4f(ve,X.u_matrix),u_opacity:new a.Uniform1f(ve,X.u_opacity),u_image:new a.Uniform1i(ve,X.u_image),u_pattern_tl_a:new a.Uniform2f(ve,X.u_pattern_tl_a),u_pattern_br_a:new a.Uniform2f(ve,X.u_pattern_br_a),u_pattern_tl_b:new a.Uniform2f(ve,X.u_pattern_tl_b),u_pattern_br_b:new a.Uniform2f(ve,X.u_pattern_br_b),u_texsize:new a.Uniform2f(ve,X.u_texsize),u_mix:new a.Uniform1f(ve,X.u_mix),u_pattern_size_a:new a.Uniform2f(ve,X.u_pattern_size_a),u_pattern_size_b:new a.Uniform2f(ve,X.u_pattern_size_b),u_scale_a:new a.Uniform1f(ve,X.u_scale_a),u_scale_b:new a.Uniform1f(ve,X.u_scale_b),u_pixel_coord_upper:new a.Uniform2f(ve,X.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(ve,X.u_pixel_coord_lower),u_tile_units_to_pixels:new a.Uniform1f(ve,X.u_tile_units_to_pixels)}},wl=function(ve,X,pe){return{u_matrix:ve,u_opacity:X,u_color:pe}},Gl=function(ve,X,pe,ae,ye,Fe){return a.extend(wc(ae,Fe,pe,ye),{u_matrix:ve,u_opacity:X})},Yl={fillExtrusion:Gi,fillExtrusionPattern:Qu,fill:rl,fillPattern:pl,fillOutline:yl,fillOutlinePattern:ml,circle:Pf,collisionBox:dv,collisionCircle:pv,debug:nh,clippingMask:vo,heatmap:tf,heatmapTexture:Hl,hillshade:yv,hillshadePrepare:ah,line:Yi,lineGradient:zs,linePattern:Ac,lineSDF:oh,raster:Sc,symbolIcon:zf,symbolSDF:bl,symbolTextAndIcon:mv,background:sh,backgroundPattern:il},Wo;function Jo(ve,X,pe,ae,ye,Fe,Ze){for(var lt=ve.context,wt=lt.gl,Ut=ve.useProgram("collisionBox"),Jt=[],fr=0,xr=0,zr=0;zr<ae.length;zr++){var Wr=ae[zr],Yr=X.getTile(Wr),Hr=Yr.getBucket(pe);if(Hr){var Jr=Wr.posMatrix;(ye[0]!==0||ye[1]!==0)&&(Jr=ve.translatePosMatrix(Wr.posMatrix,Yr,ye,Fe));var fn=Ze?Hr.textCollisionBox:Hr.iconCollisionBox,Dn=Hr.collisionCircleArray;if(Dn.length>0){var Fn=a.create(),Kn=Jr;a.mul(Fn,Hr.placementInvProjMatrix,ve.transform.glCoordMatrix),a.mul(Fn,Fn,Hr.placementViewportMatrix),Jt.push({circleArray:Dn,circleOffset:xr,transform:Kn,invTransform:Fn}),fr+=Dn.length/4,xr=fr}fn&&Ut.draw(lt,wt.LINES,Ar.disabled,Kt.disabled,ve.colorModeForRenderPass(),Dt.disabled,gv(Jr,ve.transform,Yr),pe.id,fn.layoutVertexBuffer,fn.indexBuffer,fn.segments,null,ve.transform.zoom,null,null,fn.collisionVertexBuffer)}}if(!(!Ze||!Jt.length)){var Jn=ve.useProgram("collisionCircle"),$n=new a.StructArrayLayout2f1f2i16;$n.resize(fr*4),$n._trim();for(var ia=0,ha=0,ca=Jt;ha<ca.length;ha+=1)for(var ya=ca[ha],Aa=0;Aa<ya.circleArray.length/4;Aa++){var ka=Aa*4,Va=ya.circleArray[ka+0],fi=ya.circleArray[ka+1],Ga=ya.circleArray[ka+2],Ja=ya.circleArray[ka+3];$n.emplace(ia++,Va,fi,Ga,Ja,0),$n.emplace(ia++,Va,fi,Ga,Ja,1),$n.emplace(ia++,Va,fi,Ga,Ja,2),$n.emplace(ia++,Va,fi,Ga,Ja,3)}(!Wo||Wo.length<fr*2)&&(Wo=jl(fr));for(var Ra=lt.createIndexBuffer(Wo,!0),ci=lt.createVertexBuffer($n,a.collisionCircleLayout.members,!0),di=0,gi=Jt;di<gi.length;di+=1){var Qa=gi[di],Ei=Rf(Qa.transform,Qa.invTransform,ve.transform);Jn.draw(lt,wt.TRIANGLES,Ar.disabled,Kt.disabled,ve.colorModeForRenderPass(),Dt.disabled,Ei,pe.id,ci,Ra,a.SegmentVector.simpleSegment(0,Qa.circleOffset*2,Qa.circleArray.length,Qa.circleArray.length/2),null,ve.transform.zoom,null,null,null)}ci.destroy(),Ra.destroy()}}function jl(ve){var X=ve*2,pe=new a.StructArrayLayout3ui6;pe.resize(X),pe._trim();for(var ae=0;ae<X;ae++){var ye=ae*6;pe.uint16[ye+0]=ae*4+0,pe.uint16[ye+1]=ae*4+1,pe.uint16[ye+2]=ae*4+2,pe.uint16[ye+3]=ae*4+2,pe.uint16[ye+4]=ae*4+3,pe.uint16[ye+5]=ae*4+0}return pe}var lh=a.identity(new Float32Array(16));function wu(ve,X,pe,ae,ye){if(ve.renderPass==="translucent"){var Fe=Kt.disabled,Ze=ve.colorModeForRenderPass(),lt=pe.layout.get("text-variable-anchor");lt&&uh(ae,ve,pe,X,pe.layout.get("text-rotation-alignment"),pe.layout.get("text-pitch-alignment"),ye),pe.paint.get("icon-opacity").constantOr(1)!==0&&Tl(ve,X,pe,ae,!1,pe.paint.get("icon-translate"),pe.paint.get("icon-translate-anchor"),pe.layout.get("icon-rotation-alignment"),pe.layout.get("icon-pitch-alignment"),pe.layout.get("icon-keep-upright"),Fe,Ze),pe.paint.get("text-opacity").constantOr(1)!==0&&Tl(ve,X,pe,ae,!0,pe.paint.get("text-translate"),pe.paint.get("text-translate-anchor"),pe.layout.get("text-rotation-alignment"),pe.layout.get("text-pitch-alignment"),pe.layout.get("text-keep-upright"),Fe,Ze),X.map.showCollisionBoxes&&(Jo(ve,X,pe,ae,pe.paint.get("text-translate"),pe.paint.get("text-translate-anchor"),!0),Jo(ve,X,pe,ae,pe.paint.get("icon-translate"),pe.paint.get("icon-translate-anchor"),!1))}}function Of(ve,X,pe,ae,ye,Fe){var Ze=a.getAnchorAlignment(ve),lt=Ze.horizontalAlign,wt=Ze.verticalAlign,Ut=-(lt-.5)*X,Jt=-(wt-.5)*pe,fr=a.evaluateVariableOffset(ve,ae);return new a.Point((Ut/ye+fr[0])*Fe,(Jt/ye+fr[1])*Fe)}function uh(ve,X,pe,ae,ye,Fe,Ze){for(var lt=X.transform,wt=ye==="map",Ut=Fe==="map",Jt=0,fr=ve;Jt<fr.length;Jt+=1){var xr=fr[Jt],zr=ae.getTile(xr),Wr=zr.getBucket(pe);if(!(!Wr||!Wr.text||!Wr.text.segments.get().length)){var Yr=Wr.textSizeData,Hr=a.evaluateSizeForZoom(Yr,lt.zoom),Jr=yn(zr,1,X.transform.zoom),fn=Er(xr.posMatrix,Ut,wt,X.transform,Jr),Dn=pe.layout.get("icon-text-fit")!=="none"&&Wr.hasIconData();if(Hr){var Fn=Math.pow(2,lt.zoom-zr.tileID.overscaledZ);bs(Wr,wt,Ut,Ze,a.symbolSize,lt,fn,xr.posMatrix,Fn,Hr,Dn)}}}}function bs(ve,X,pe,ae,ye,Fe,Ze,lt,wt,Ut,Jt){var fr=ve.text.placedSymbolArray,xr=ve.text.dynamicLayoutVertexArray,zr=ve.icon.dynamicLayoutVertexArray,Wr={};xr.clear();for(var Yr=0;Yr<fr.length;Yr++){var Hr=fr.get(Yr),Jr=ve.allowVerticalPlacement&&!Hr.placedOrientation,fn=!Hr.hidden&&Hr.crossTileID&&!Jr?ae[Hr.crossTileID]:null;if(!fn)Qn(Hr.numGlyphs,xr);else{var Dn=new a.Point(Hr.anchorX,Hr.anchorY),Fn=Ur(Dn,pe?lt:Ze),Kn=an(Fe.cameraToCenterDistance,Fn.signedDistanceFromCamera),Jn=ye.evaluateSizeForFeature(ve.textSizeData,Ut,Hr)*Kn/a.ONE_EM;pe&&(Jn*=ve.tilePixelRatio/wt);for(var $n=fn.width,ia=fn.height,ha=fn.anchor,ca=fn.textOffset,ya=fn.textBoxScale,Aa=Of(ha,$n,ia,ca,ya,Jn),ka=pe?Ur(Dn.add(Aa),Ze).point:Fn.point.add(X?Aa.rotate(-Fe.angle):Aa),Va=ve.allowVerticalPlacement&&Hr.placedOrientation===a.WritingMode.vertical?Math.PI/2:0,fi=0;fi<Hr.numGlyphs;fi++)a.addDynamicAttributes(xr,ka,Va);Jt&&Hr.associatedIconIndex>=0&&(Wr[Hr.associatedIconIndex]={shiftedAnchor:ka,angle:Va})}}if(Jt){zr.clear();for(var Ga=ve.icon.placedSymbolArray,Ja=0;Ja<Ga.length;Ja++){var Ra=Ga.get(Ja);if(Ra.hidden)Qn(Ra.numGlyphs,zr);else{var ci=Wr[Ja];if(!ci)Qn(Ra.numGlyphs,zr);else for(var di=0;di<Ra.numGlyphs;di++)a.addDynamicAttributes(zr,ci.shiftedAnchor,ci.angle)}}ve.icon.dynamicLayoutVertexBuffer.updateData(zr)}ve.text.dynamicLayoutVertexBuffer.updateData(xr)}function Cc(ve,X,pe){return pe.iconsInText&&X?"symbolTextAndIcon":ve?"symbolSDF":"symbolIcon"}function Tl(ve,X,pe,ae,ye,Fe,Ze,lt,wt,Ut,Jt,fr){for(var xr=ve.context,zr=xr.gl,Wr=ve.transform,Yr=lt==="map",Hr=wt==="map",Jr=Yr&&pe.layout.get("symbol-placement")!=="point",fn=Yr&&!Hr&&!Jr,Dn=pe.layout.get("symbol-sort-key").constantOr(1)!==void 0,Fn=ve.depthModeForSublayer(0,Ar.ReadOnly),Kn=pe.layout.get("text-variable-anchor"),Jn=[],$n=0,ia=ae;$n<ia.length;$n+=1){var ha=ia[$n],ca=X.getTile(ha),ya=ca.getBucket(pe);if(ya){var Aa=ye?ya.text:ya.icon;if(!(!Aa||!Aa.segments.get().length)){var ka=Aa.programConfigurations.get(pe.id),Va=ye||ya.sdfIcons,fi=ye?ya.textSizeData:ya.iconSizeData,Ga=Hr||Wr.pitch!==0,Ja=ve.useProgram(Cc(Va,ye,ya),ka),Ra=a.evaluateSizeForZoom(fi,Wr.zoom),ci=void 0,di=[0,0],gi=void 0,Qa=void 0,Ei=null,Wa=void 0;if(ye){if(gi=ca.glyphAtlasTexture,Qa=zr.LINEAR,ci=ca.glyphAtlasTexture.size,ya.iconsInText){di=ca.imageAtlasTexture.size,Ei=ca.imageAtlasTexture;var ti=fi.kind==="composite"||fi.kind==="camera";Wa=Ga||ve.options.rotating||ve.options.zooming||ti?zr.LINEAR:zr.NEAREST}}else{var Ki=pe.layout.get("icon-size").constantOr(0)!==1||ya.iconsNeedLinear;gi=ca.imageAtlasTexture,Qa=Va||ve.options.rotating||ve.options.zooming||Ki||Ga?zr.LINEAR:zr.NEAREST,ci=ca.imageAtlasTexture.size}var po=yn(ca,1,ve.transform.zoom),Sl=Er(ha.posMatrix,Hr,Yr,ve.transform,po),Ml=Gr(ha.posMatrix,Hr,Yr,ve.transform,po),Tu=Kn&&ya.hasTextData(),Au=pe.layout.get("icon-text-fit")!=="none"&&Tu&&ya.hasIconData();Jr&&mn(ya,ha.posMatrix,ve,ye,Sl,Ml,Hr,Ut);var cf=ve.translatePosMatrix(ha.posMatrix,ca,Fe,Ze),Su=Jr||ye&&Kn||Au?lh:Sl,Ts=ve.translatePosMatrix(Ml,ca,Fe,Ze,!0),Yf=Va&&pe.paint.get(ye?"text-halo-width":"icon-halo-width").constantOr(1)!==0,qo=void 0;Va?ya.iconsInText?qo=Ec(fi.kind,Ra,fn,Hr,ve,cf,Su,Ts,ci,di):qo=bu(fi.kind,Ra,fn,Hr,ve,cf,Su,Ts,ye,ci,!0):qo=Mc(fi.kind,Ra,fn,Hr,ve,cf,Su,Ts,ye,ci);var sl={program:Ja,buffers:Aa,uniformValues:qo,atlasTexture:gi,atlasTextureIcon:Ei,atlasInterpolation:Qa,atlasInterpolationIcon:Wa,isSDF:Va,hasHalo:Yf};if(Dn)for(var Mu=Aa.segments.get(),Kl=0,Eu=Mu;Kl<Eu.length;Kl+=1){var ad=Eu[Kl];Jn.push({segments:new a.SegmentVector([ad]),sortKey:ad.sortKey,state:sl})}else Jn.push({segments:Aa.segments,sortKey:0,state:sl})}}}Dn&&Jn.sort(function(id,od){return id.sortKey-od.sortKey});for(var Ic=0,Go=Jn;Ic<Go.length;Ic+=1){var Sv=Go[Ic],ls=Sv.state;if(xr.activeTexture.set(zr.TEXTURE0),ls.atlasTexture.bind(ls.atlasInterpolation,zr.CLAMP_TO_EDGE),ls.atlasTextureIcon&&(xr.activeTexture.set(zr.TEXTURE1),ls.atlasTextureIcon&&ls.atlasTextureIcon.bind(ls.atlasInterpolationIcon,zr.CLAMP_TO_EDGE)),ls.isSDF){var Mv=ls.uniformValues;ls.hasHalo&&(Mv.u_is_halo=1,nf(ls.buffers,Sv.segments,pe,ve,ls.program,Fn,Jt,fr,Mv)),Mv.u_is_halo=0}nf(ls.buffers,Sv.segments,pe,ve,ls.program,Fn,Jt,fr,ls.uniformValues)}}function nf(ve,X,pe,ae,ye,Fe,Ze,lt,wt){var Ut=ae.context,Jt=Ut.gl;ye.draw(Ut,Jt.TRIANGLES,Fe,Ze,lt,Dt.disabled,wt,pe.id,ve.layoutVertexBuffer,ve.indexBuffer,X,pe.paint,ae.transform.zoom,ve.programConfigurations.get(pe.id),ve.dynamicLayoutVertexBuffer,ve.opacityVertexBuffer)}function ol(ve,X,pe,ae){if(ve.renderPass==="translucent"){var ye=pe.paint.get("circle-opacity"),Fe=pe.paint.get("circle-stroke-width"),Ze=pe.paint.get("circle-stroke-opacity"),lt=pe.layout.get("circle-sort-key").constantOr(1)!==void 0;if(!(ye.constantOr(1)===0&&(Fe.constantOr(1)===0||Ze.constantOr(1)===0))){for(var wt=ve.context,Ut=wt.gl,Jt=ve.depthModeForSublayer(0,Ar.ReadOnly),fr=Kt.disabled,xr=ve.colorModeForRenderPass(),zr=[],Wr=0;Wr<ae.length;Wr++){var Yr=ae[Wr],Hr=X.getTile(Yr),Jr=Hr.getBucket(pe);if(Jr){var fn=Jr.programConfigurations.get(pe.id),Dn=ve.useProgram("circle",fn),Fn=Jr.layoutVertexBuffer,Kn=Jr.indexBuffer,Jn=vv(ve,Yr,Hr,pe),$n={programConfiguration:fn,program:Dn,layoutVertexBuffer:Fn,indexBuffer:Kn,uniformValues:Jn};if(lt)for(var ia=Jr.segments.get(),ha=0,ca=ia;ha<ca.length;ha+=1){var ya=ca[ha];zr.push({segments:new a.SegmentVector([ya]),sortKey:ya.sortKey,state:$n})}else zr.push({segments:Jr.segments,sortKey:0,state:$n})}}lt&&zr.sort(function(Qa,Ei){return Qa.sortKey-Ei.sortKey});for(var Aa=0,ka=zr;Aa<ka.length;Aa+=1){var Va=ka[Aa],fi=Va.state,Ga=fi.programConfiguration,Ja=fi.program,Ra=fi.layoutVertexBuffer,ci=fi.indexBuffer,di=fi.uniformValues,gi=Va.segments;Ja.draw(wt,Ut.TRIANGLES,Jt,fr,xr,Dt.disabled,di,pe.id,Ra,ci,gi,pe.paint,ve.transform.zoom,Ga)}}}}function xv(ve,X,pe,ae){if(pe.paint.get("heatmap-opacity")!==0)if(ve.renderPass==="offscreen"){var ye=ve.context,Fe=ye.gl,Ze=Kt.disabled,lt=new st([Fe.ONE,Fe.ONE],a.Color.transparent,[!0,!0,!0,!0]);Lc(ye,ve,pe),ye.clear({color:a.Color.transparent});for(var wt=0;wt<ae.length;wt++){var Ut=ae[wt];if(!X.hasRenderableParent(Ut)){var Jt=X.getTile(Ut),fr=Jt.getBucket(pe);if(fr){var xr=fr.programConfigurations.get(pe.id),zr=ve.useProgram("heatmap",xr),Wr=ve.transform,Yr=Wr.zoom;zr.draw(ye,Fe.TRIANGLES,Ar.disabled,Ze,lt,Dt.disabled,rf(Ut.posMatrix,Jt,Yr,pe.paint.get("heatmap-intensity")),pe.id,fr.layoutVertexBuffer,fr.indexBuffer,fr.segments,pe.paint,ve.transform.zoom,xr)}}}ye.viewport.set([0,0,ve.width,ve.height])}else ve.renderPass==="translucent"&&(ve.context.setColorMode(ve.colorModeForRenderPass()),Mo(ve,pe))}function Lc(ve,X,pe){var ae=ve.gl;ve.activeTexture.set(ae.TEXTURE1),ve.viewport.set([0,0,X.width/4,X.height/4]);var ye=pe.heatmapFbo;if(ye)ae.bindTexture(ae.TEXTURE_2D,ye.colorAttachment.get()),ve.bindFramebuffer.set(ye.framebuffer);else{var Fe=ae.createTexture();ae.bindTexture(ae.TEXTURE_2D,Fe),ae.texParameteri(ae.TEXTURE_2D,ae.TEXTURE_WRAP_S,ae.CLAMP_TO_EDGE),ae.texParameteri(ae.TEXTURE_2D,ae.TEXTURE_WRAP_T,ae.CLAMP_TO_EDGE),ae.texParameteri(ae.TEXTURE_2D,ae.TEXTURE_MIN_FILTER,ae.LINEAR),ae.texParameteri(ae.TEXTURE_2D,ae.TEXTURE_MAG_FILTER,ae.LINEAR),ye=pe.heatmapFbo=ve.createFramebuffer(X.width/4,X.height/4,!1),Ff(ve,X,Fe,ye)}}function Ff(ve,X,pe,ae){var ye=ve.gl,Fe=ve.extRenderToTextureHalfFloat?ve.extTextureHalfFloat.HALF_FLOAT_OES:ye.UNSIGNED_BYTE;ye.texImage2D(ye.TEXTURE_2D,0,ye.RGBA,X.width/4,X.height/4,0,ye.RGBA,Fe,null),ae.colorAttachment.set(pe)}function Mo(ve,X){var pe=ve.context,ae=pe.gl,ye=X.heatmapFbo;if(ye){pe.activeTexture.set(ae.TEXTURE0),ae.bindTexture(ae.TEXTURE_2D,ye.colorAttachment.get()),pe.activeTexture.set(ae.TEXTURE1);var Fe=X.colorRampTexture;Fe||(Fe=X.colorRampTexture=new a.Texture(pe,X.colorRamp,ae.RGBA)),Fe.bind(ae.LINEAR,ae.CLAMP_TO_EDGE),ve.useProgram("heatmapTexture").draw(pe,ae.TRIANGLES,Ar.disabled,Kt.disabled,ve.colorModeForRenderPass(),Dt.disabled,Df(ve,X,0,1),X.id,ve.viewportBuffer,ve.quadTriangleIndexBuffer,ve.viewportSegments,X.paint,ve.transform.zoom)}}function fh(ve,X,pe,ae){if(ve.renderPass==="translucent"){var ye=pe.paint.get("line-opacity"),Fe=pe.paint.get("line-width");if(!(ye.constantOr(1)===0||Fe.constantOr(1)===0)){var Ze=ve.depthModeForSublayer(0,Ar.ReadOnly),lt=ve.colorModeForRenderPass(),wt=pe.paint.get("line-dasharray"),Ut=pe.paint.get("line-pattern"),Jt=Ut.constantOr(1),fr=pe.paint.get("line-gradient"),xr=pe.getCrossfadeParameters(),zr=Jt?"linePattern":wt?"lineSDF":fr?"lineGradient":"line",Wr=ve.context,Yr=Wr.gl,Hr=!0;if(fr){Wr.activeTexture.set(Yr.TEXTURE0);var Jr=pe.gradientTexture;if(!pe.gradient)return;Jr||(Jr=pe.gradientTexture=new a.Texture(Wr,pe.gradient,Yr.RGBA)),Jr.bind(Yr.LINEAR,Yr.CLAMP_TO_EDGE)}for(var fn=0,Dn=ae;fn<Dn.length;fn+=1){var Fn=Dn[fn],Kn=X.getTile(Fn);if(!(Jt&&!Kn.patternsLoaded())){var Jn=Kn.getBucket(pe);if(Jn){var $n=Jn.programConfigurations.get(pe.id),ia=ve.context.program.get(),ha=ve.useProgram(zr,$n),ca=Hr||ha.program!==ia,ya=Ut.constantOr(null);if(ya&&Kn.imageAtlas){var Aa=Kn.imageAtlas,ka=Aa.patternPositions[ya.to.toString()],Va=Aa.patternPositions[ya.from.toString()];ka&&Va&&$n.setConstantPatternPositions(ka,Va)}var fi=Jt?xs(ve,Kn,pe,xr):wt?kf(ve,Kn,pe,wt,xr):fr?If(ve,Kn,pe):Vl(ve,Kn,pe);Jt?(Wr.activeTexture.set(Yr.TEXTURE0),Kn.imageAtlasTexture.bind(Yr.LINEAR,Yr.CLAMP_TO_EDGE),$n.updatePaintBuffers(xr)):wt&&(ca||ve.lineAtlas.dirty)&&(Wr.activeTexture.set(Yr.TEXTURE0),ve.lineAtlas.bind(Wr)),ha.draw(Wr,Yr.TRIANGLES,Ze,ve.stencilModeForClipping(Fn),lt,Dt.disabled,fi,pe.id,Jn.layoutVertexBuffer,Jn.indexBuffer,Jn.segments,pe.paint,ve.transform.zoom,$n),Hr=!1}}}}}}function af(ve,X,pe,ae){var ye=pe.paint.get("fill-color"),Fe=pe.paint.get("fill-opacity");if(Fe.constantOr(1)!==0){var Ze=ve.colorModeForRenderPass(),lt=pe.paint.get("fill-pattern"),wt=ve.opaquePassEnabledForLayer()&&!lt.constantOr(1)&&ye.constantOr(a.Color.transparent).a===1&&Fe.constantOr(0)===1?"opaque":"translucent";if(ve.renderPass===wt){var Ut=ve.depthModeForSublayer(1,ve.renderPass==="opaque"?Ar.ReadWrite:Ar.ReadOnly);Os(ve,X,pe,ae,Ut,Ze,!1)}if(ve.renderPass==="translucent"&&pe.paint.get("fill-antialias")){var Jt=ve.depthModeForSublayer(pe.getPaintProperty("fill-outline-color")?2:0,Ar.ReadOnly);Os(ve,X,pe,ae,Jt,Ze,!0)}}}function Os(ve,X,pe,ae,ye,Fe,Ze){var lt=ve.context.gl,wt=pe.paint.get("fill-pattern"),Ut=wt&&wt.constantOr(1),Jt=pe.getCrossfadeParameters(),fr,xr,zr,Wr,Yr;Ze?(xr=Ut&&!pe.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",fr=lt.LINES):(xr=Ut?"fillPattern":"fill",fr=lt.TRIANGLES);for(var Hr=0,Jr=ae;Hr<Jr.length;Hr+=1){var fn=Jr[Hr],Dn=X.getTile(fn);if(!(Ut&&!Dn.patternsLoaded())){var Fn=Dn.getBucket(pe);if(Fn){var Kn=Fn.programConfigurations.get(pe.id),Jn=ve.useProgram(xr,Kn);Ut&&(ve.context.activeTexture.set(lt.TEXTURE0),Dn.imageAtlasTexture.bind(lt.LINEAR,lt.CLAMP_TO_EDGE),Kn.updatePaintBuffers(Jt));var $n=wt.constantOr(null);if($n&&Dn.imageAtlas){var ia=Dn.imageAtlas,ha=ia.patternPositions[$n.to.toString()],ca=ia.patternPositions[$n.from.toString()];ha&&ca&&Kn.setConstantPatternPositions(ha,ca)}var ya=ve.translatePosMatrix(fn.posMatrix,Dn,pe.paint.get("fill-translate"),pe.paint.get("fill-translate-anchor"));if(!Ze)Wr=Fn.indexBuffer,Yr=Fn.segments,zr=Ut?_s(ya,ve,Jt,Dn):ms(ya);else{Wr=Fn.indexBuffer2,Yr=Fn.segments2;var Aa=[lt.drawingBufferWidth,lt.drawingBufferHeight];zr=xr==="fillOutlinePattern"&&Ut?ef(ya,ve,Jt,Dn,Aa):qu(ya,Aa)}Jn.draw(ve.context,fr,ye,ve.stencilModeForClipping(fn),Fe,Dt.disabled,zr,pe.id,Fn.layoutVertexBuffer,Wr,Yr,pe.paint,ve.transform.zoom,Kn)}}}}function of(ve,X,pe,ae){var ye=pe.paint.get("fill-extrusion-opacity");if(ye!==0&&ve.renderPass==="translucent"){var Fe=new Ar(ve.context.gl.LEQUAL,Ar.ReadWrite,ve.depthRangeFor3D);if(ye===1&&!pe.paint.get("fill-extrusion-pattern").constantOr(1)){var Ze=ve.colorModeForRenderPass();Al(ve,X,pe,ae,Fe,Kt.disabled,Ze)}else Al(ve,X,pe,ae,Fe,Kt.disabled,st.disabled),Al(ve,X,pe,ae,Fe,ve.stencilModeFor3D(),ve.colorModeForRenderPass())}}function Al(ve,X,pe,ae,ye,Fe,Ze){for(var lt=ve.context,wt=lt.gl,Ut=pe.paint.get("fill-extrusion-pattern"),Jt=Ut.constantOr(1),fr=pe.getCrossfadeParameters(),xr=pe.paint.get("fill-extrusion-opacity"),zr=0,Wr=ae;zr<Wr.length;zr+=1){var Yr=Wr[zr],Hr=X.getTile(Yr),Jr=Hr.getBucket(pe);if(Jr){var fn=Jr.programConfigurations.get(pe.id),Dn=ve.useProgram(Jt?"fillExtrusionPattern":"fillExtrusion",fn);Jt&&(ve.context.activeTexture.set(wt.TEXTURE0),Hr.imageAtlasTexture.bind(wt.LINEAR,wt.CLAMP_TO_EDGE),fn.updatePaintBuffers(fr));var Fn=Ut.constantOr(null);if(Fn&&Hr.imageAtlas){var Kn=Hr.imageAtlas,Jn=Kn.patternPositions[Fn.to.toString()],$n=Kn.patternPositions[Fn.from.toString()];Jn&&$n&&fn.setConstantPatternPositions(Jn,$n)}var ia=ve.translatePosMatrix(Yr.posMatrix,Hr,pe.paint.get("fill-extrusion-translate"),pe.paint.get("fill-extrusion-translate-anchor")),ha=pe.paint.get("fill-extrusion-vertical-gradient"),ca=Jt?tl(ia,ve,ha,xr,Yr,fr,Hr):Ho(ia,ve,ha,xr);Dn.draw(lt,lt.gl.TRIANGLES,ye,Fe,Ze,Dt.backCCW,ca,pe.id,Jr.layoutVertexBuffer,Jr.indexBuffer,Jr.segments,pe.paint,ve.transform.zoom,fn)}}}function Bf(ve,X,pe,ae){if(!(ve.renderPass!=="offscreen"&&ve.renderPass!=="translucent")){for(var ye=ve.context,Fe=X.getSource().maxzoom,Ze=ve.depthModeForSublayer(0,Ar.ReadOnly),lt=ve.colorModeForRenderPass(),wt=ve.renderPass==="translucent"?ve.stencilConfigForOverlap(ae):[{},ae],Ut=wt[0],Jt=wt[1],fr=0,xr=Jt;fr<xr.length;fr+=1){var zr=xr[fr],Wr=X.getTile(zr);Wr.needsHillshadePrepare&&ve.renderPass==="offscreen"?Pc(ve,Wr,pe,Fe,Ze,Kt.disabled,lt):ve.renderPass==="translucent"&&ch(ve,Wr,pe,Ze,Ut[zr.overscaledZ],lt)}ye.viewport.set([0,0,ve.width,ve.height])}}function ch(ve,X,pe,ae,ye,Fe){var Ze=ve.context,lt=Ze.gl,wt=X.fbo;if(wt){var Ut=ve.useProgram("hillshade");Ze.activeTexture.set(lt.TEXTURE0),lt.bindTexture(lt.TEXTURE_2D,wt.colorAttachment.get());var Jt=ih(ve,X,pe);Ut.draw(Ze,lt.TRIANGLES,ae,ye,Fe,Dt.disabled,Jt,pe.id,ve.rasterBoundsBuffer,ve.quadTriangleIndexBuffer,ve.rasterBoundsSegments)}}function Pc(ve,X,pe,ae,ye,Fe,Ze){var lt=ve.context,wt=lt.gl,Ut=X.dem;if(Ut&&Ut.data){var Jt=Ut.dim,fr=Ut.stride,xr=Ut.getPixels();if(lt.activeTexture.set(wt.TEXTURE1),lt.pixelStoreUnpackPremultiplyAlpha.set(!1),X.demTexture=X.demTexture||ve.getTileTexture(fr),X.demTexture){var zr=X.demTexture;zr.update(xr,{premultiply:!1}),zr.bind(wt.NEAREST,wt.CLAMP_TO_EDGE)}else X.demTexture=new a.Texture(lt,xr,wt.RGBA,{premultiply:!1}),X.demTexture.bind(wt.NEAREST,wt.CLAMP_TO_EDGE);lt.activeTexture.set(wt.TEXTURE0);var Wr=X.fbo;if(!Wr){var Yr=new a.Texture(lt,{width:Jt,height:Jt,data:null},wt.RGBA);Yr.bind(wt.LINEAR,wt.CLAMP_TO_EDGE),Wr=X.fbo=lt.createFramebuffer(Jt,Jt,!0),Wr.colorAttachment.set(Yr.texture)}lt.bindFramebuffer.set(Wr.framebuffer),lt.viewport.set([0,0,Jt,Jt]),ve.useProgram("hillshadePrepare").draw(lt,wt.TRIANGLES,ye,Fe,Ze,Dt.disabled,Tc(X.tileID,Ut,ae),pe.id,ve.rasterBoundsBuffer,ve.quadTriangleIndexBuffer,ve.rasterBoundsSegments),X.needsHillshadePrepare=!1}}function Rc(ve,X,pe,ae){if(ve.renderPass==="translucent"&&pe.paint.get("raster-opacity")!==0&&ae.length)for(var ye=ve.context,Fe=ye.gl,Ze=X.getSource(),lt=ve.useProgram("raster"),wt=ve.colorModeForRenderPass(),Ut=Ze instanceof $?[{},ae]:ve.stencilConfigForOverlap(ae),Jt=Ut[0],fr=Ut[1],xr=fr[fr.length-1].overscaledZ,zr=!ve.options.moving,Wr=0,Yr=fr;Wr<Yr.length;Wr+=1){var Hr=Yr[Wr],Jr=ve.depthModeForSublayer(Hr.overscaledZ-xr,pe.paint.get("raster-opacity")===1?Ar.ReadWrite:Ar.ReadOnly,Fe.LESS),fn=X.getTile(Hr),Dn=ve.transform.calculatePosMatrix(Hr.toUnwrapped(),zr);fn.registerFadeDuration(pe.paint.get("raster-fade-duration"));var Fn=X.findLoadedParent(Hr,0),Kn=Zl(fn,Fn,X,pe,ve.transform),Jn=void 0,$n=void 0,ia=pe.paint.get("raster-resampling")==="nearest"?Fe.NEAREST:Fe.LINEAR;ye.activeTexture.set(Fe.TEXTURE0),fn.texture.bind(ia,Fe.CLAMP_TO_EDGE,Fe.LINEAR_MIPMAP_NEAREST),ye.activeTexture.set(Fe.TEXTURE1),Fn?(Fn.texture.bind(ia,Fe.CLAMP_TO_EDGE,Fe.LINEAR_MIPMAP_NEAREST),Jn=Math.pow(2,Fn.tileID.overscaledZ-fn.tileID.overscaledZ),$n=[fn.tileID.canonical.x*Jn%1,fn.tileID.canonical.y*Jn%1]):fn.texture.bind(ia,Fe.CLAMP_TO_EDGE,Fe.LINEAR_MIPMAP_NEAREST);var ha=xu(Dn,$n||[0,0],Jn||1,Kn,pe);Ze instanceof $?lt.draw(ye,Fe.TRIANGLES,Jr,Kt.disabled,wt,Dt.disabled,ha,pe.id,Ze.boundsBuffer,ve.quadTriangleIndexBuffer,Ze.boundsSegments):lt.draw(ye,Fe.TRIANGLES,Jr,Jt[Hr.overscaledZ],wt,Dt.disabled,ha,pe.id,ve.rasterBoundsBuffer,ve.quadTriangleIndexBuffer,ve.rasterBoundsSegments)}}function Zl(ve,X,pe,ae,ye){var Fe=ae.paint.get("raster-fade-duration");if(Fe>0){var Ze=a.browser.now(),lt=(Ze-ve.timeAdded)/Fe,wt=X?(Ze-X.timeAdded)/Fe:-1,Ut=pe.getSource(),Jt=ye.coveringZoomLevel({tileSize:Ut.tileSize,roundZoom:Ut.roundZoom}),fr=!X||Math.abs(X.tileID.overscaledZ-Jt)>Math.abs(ve.tileID.overscaledZ-Jt),xr=fr&&ve.refreshedUponExpiration?1:a.clamp(fr?lt:1-wt,0,1);return ve.refreshedUponExpiration&&lt>=1&&(ve.refreshedUponExpiration=!1),X?{opacity:1,mix:1-xr}:{opacity:xr,mix:0}}else return{opacity:1,mix:0}}function Nf(ve,X,pe){var ae=pe.paint.get("background-color"),ye=pe.paint.get("background-opacity");if(ye!==0){var Fe=ve.context,Ze=Fe.gl,lt=ve.transform,wt=lt.tileSize,Ut=pe.paint.get("background-pattern");if(!ve.isPatternMissing(Ut)){var Jt=!Ut&&ae.a===1&&ye===1&&ve.opaquePassEnabledForLayer()?"opaque":"translucent";if(ve.renderPass===Jt){var fr=Kt.disabled,xr=ve.depthModeForSublayer(0,Jt==="opaque"?Ar.ReadWrite:Ar.ReadOnly),zr=ve.colorModeForRenderPass(),Wr=ve.useProgram(Ut?"backgroundPattern":"background"),Yr=lt.coveringTiles({tileSize:wt});Ut&&(Fe.activeTexture.set(Ze.TEXTURE0),ve.imageManager.bind(ve.context));for(var Hr=pe.getCrossfadeParameters(),Jr=0,fn=Yr;Jr<fn.length;Jr+=1){var Dn=fn[Jr],Fn=ve.transform.calculatePosMatrix(Dn.toUnwrapped()),Kn=Ut?Gl(Fn,ye,ve,Ut,{tileID:Dn,tileSize:wt},Hr):wl(Fn,ye,ae);Wr.draw(Fe,Ze.TRIANGLES,xr,fr,zr,Dt.disabled,Kn,pe.id,ve.tileExtentBuffer,ve.quadTriangleIndexBuffer,ve.tileExtentSegments)}}}}}var sf=new a.Color(1,0,0,1),hh=new a.Color(0,1,0,1),lf=new a.Color(0,0,1,1),vh=new a.Color(1,0,1,1),Xe=new a.Color(0,1,1,1);function nt(ve){var X=ve.transform.padding,pe=3;mt(ve,ve.transform.height-(X.top||0),pe,sf),mt(ve,X.bottom||0,pe,hh),_t(ve,X.left||0,pe,lf),_t(ve,ve.transform.width-(X.right||0),pe,vh);var ae=ve.transform.centerPoint;ht(ve,ae.x,ve.transform.height-ae.y,Xe)}function ht(ve,X,pe,ae){var ye=20,Fe=2;Lt(ve,X-Fe/2,pe-ye/2,Fe,ye,ae),Lt(ve,X-ye/2,pe-Fe/2,ye,Fe,ae)}function mt(ve,X,pe,ae){Lt(ve,0,X+pe/2,ve.transform.width,pe,ae)}function _t(ve,X,pe,ae){Lt(ve,X-pe/2,0,pe,ve.transform.height,ae)}function Lt(ve,X,pe,ae,ye,Fe){var Ze=ve.context,lt=Ze.gl;lt.enable(lt.SCISSOR_TEST),lt.scissor(X*a.browser.devicePixelRatio,pe*a.browser.devicePixelRatio,ae*a.browser.devicePixelRatio,ye*a.browser.devicePixelRatio),Ze.clear({color:Fe}),lt.disable(lt.SCISSOR_TEST)}function Ft(ve,X,pe){for(var ae=0;ae<pe.length;ae++)cr(ve,X,pe[ae])}function cr(ve,X,pe){var ae=ve.context,ye=ae.gl,Fe=pe.posMatrix,Ze=ve.useProgram("debug"),lt=Ar.disabled,wt=Kt.disabled,Ut=ve.colorModeForRenderPass(),Jt="$debug";ae.activeTexture.set(ye.TEXTURE0),ve.emptyTexture.bind(ye.LINEAR,ye.CLAMP_TO_EDGE),Ze.draw(ae,ye.LINE_STRIP,lt,wt,Ut,Dt.disabled,mu(Fe,a.Color.red),Jt,ve.debugBuffer,ve.tileBorderIndexBuffer,ve.debugSegments);var fr=X.getTileByID(pe.key).latestRawTileData,xr=fr&&fr.byteLength||0,zr=Math.floor(xr/1024),Wr=X.getTile(pe).tileSize,Yr=512/Math.min(Wr,512)*(pe.overscaledZ/ve.transform.zoom)*.5,Hr=pe.canonical.toString();pe.overscaledZ!==pe.canonical.z&&(Hr+=" => "+pe.overscaledZ);var Jr=Hr+" "+zr+"kb";yr(ve,Jr),Ze.draw(ae,ye.TRIANGLES,lt,wt,st.alphaBlended,Dt.disabled,mu(Fe,a.Color.transparent,Yr),Jt,ve.debugBuffer,ve.quadTriangleIndexBuffer,ve.debugSegments)}function yr(ve,X){ve.initDebugOverlayCanvas();var pe=ve.debugOverlayCanvas,ae=ve.context.gl,ye=ve.debugOverlayCanvas.getContext("2d");ye.clearRect(0,0,pe.width,pe.height),ye.shadowColor="white",ye.shadowBlur=2,ye.lineWidth=1.5,ye.strokeStyle="white",ye.textBaseline="top",ye.font="bold 36px Open Sans, sans-serif",ye.fillText(X,5,5),ye.strokeText(X,5,5),ve.debugOverlayTexture.update(pe),ve.debugOverlayTexture.bind(ae.LINEAR,ae.CLAMP_TO_EDGE)}function ar(ve,X,pe){var ae=ve.context,ye=pe.implementation;if(ve.renderPass==="offscreen"){var Fe=ye.prerender;Fe&&(ve.setCustomLayerDefaults(),ae.setColorMode(ve.colorModeForRenderPass()),Fe.call(ye,ae.gl,ve.transform.customLayerMatrix()),ae.setDirty(),ve.setBaseState())}else if(ve.renderPass==="translucent"){ve.setCustomLayerDefaults(),ae.setColorMode(ve.colorModeForRenderPass()),ae.setStencilMode(Kt.disabled);var Ze=ye.renderingMode==="3d"?new Ar(ve.context.gl.LEQUAL,Ar.ReadWrite,ve.depthRangeFor3D):ve.depthModeForSublayer(0,Ar.ReadOnly);ae.setDepthMode(Ze),ye.render(ae.gl,ve.transform.customLayerMatrix()),ae.setDirty(),ve.setBaseState(),ae.bindFramebuffer.set(null)}}var Sr={symbol:wu,circle:ol,heatmap:xv,line:fh,fill:af,"fill-extrusion":of,hillshade:Bf,raster:Rc,background:Nf,debug:Ft,custom:ar},Rr=function(X,pe){this.context=new Rt(X),this.transform=pe,this._tileTextures={},this.setup(),this.numSublayers=Bt.maxUnderzooming+Bt.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new la,this.gpuTimers={}};Rr.prototype.resize=function(X,pe){if(this.width=X*a.browser.devicePixelRatio,this.height=pe*a.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var ae=0,ye=this.style._order;ae<ye.length;ae+=1){var Fe=ye[ae];this.style._layers[Fe].resize()}},Rr.prototype.setup=function(){var X=this.context,pe=new a.StructArrayLayout2i4;pe.emplaceBack(0,0),pe.emplaceBack(a.EXTENT,0),pe.emplaceBack(0,a.EXTENT),pe.emplaceBack(a.EXTENT,a.EXTENT),this.tileExtentBuffer=X.createVertexBuffer(pe,No.members),this.tileExtentSegments=a.SegmentVector.simpleSegment(0,0,4,2);var ae=new a.StructArrayLayout2i4;ae.emplaceBack(0,0),ae.emplaceBack(a.EXTENT,0),ae.emplaceBack(0,a.EXTENT),ae.emplaceBack(a.EXTENT,a.EXTENT),this.debugBuffer=X.createVertexBuffer(ae,No.members),this.debugSegments=a.SegmentVector.simpleSegment(0,0,4,5);var ye=new a.StructArrayLayout4i8;ye.emplaceBack(0,0,0,0),ye.emplaceBack(a.EXTENT,0,a.EXTENT,0),ye.emplaceBack(0,a.EXTENT,0,a.EXTENT),ye.emplaceBack(a.EXTENT,a.EXTENT,a.EXTENT,a.EXTENT),this.rasterBoundsBuffer=X.createVertexBuffer(ye,j.members),this.rasterBoundsSegments=a.SegmentVector.simpleSegment(0,0,4,2);var Fe=new a.StructArrayLayout2i4;Fe.emplaceBack(0,0),Fe.emplaceBack(1,0),Fe.emplaceBack(0,1),Fe.emplaceBack(1,1),this.viewportBuffer=X.createVertexBuffer(Fe,No.members),this.viewportSegments=a.SegmentVector.simpleSegment(0,0,4,2);var Ze=new a.StructArrayLayout1ui2;Ze.emplaceBack(0),Ze.emplaceBack(1),Ze.emplaceBack(3),Ze.emplaceBack(2),Ze.emplaceBack(0),this.tileBorderIndexBuffer=X.createIndexBuffer(Ze);var lt=new a.StructArrayLayout3ui6;lt.emplaceBack(0,1,2),lt.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=X.createIndexBuffer(lt),this.emptyTexture=new a.Texture(X,{width:1,height:1,data:new Uint8Array([0,0,0,0])},X.gl.RGBA);var wt=this.context.gl;this.stencilClearMode=new Kt({func:wt.ALWAYS,mask:0},0,255,wt.ZERO,wt.ZERO,wt.ZERO)},Rr.prototype.clearStencil=function(){var X=this.context,pe=X.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var ae=a.create();a.ortho(ae,0,this.width,this.height,0,0,1),a.scale(ae,ae,[pe.drawingBufferWidth,pe.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(X,pe.TRIANGLES,Ar.disabled,this.stencilClearMode,st.disabled,Dt.disabled,Vo(ae),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},Rr.prototype._renderTileClippingMasks=function(X,pe){if(!(this.currentStencilSource===X.source||!X.isTileClipped()||!pe||!pe.length)){this.currentStencilSource=X.source;var ae=this.context,ye=ae.gl;this.nextStencilID+pe.length>256&&this.clearStencil(),ae.setColorMode(st.disabled),ae.setDepthMode(Ar.disabled);var Fe=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var Ze=0,lt=pe;Ze<lt.length;Ze+=1){var wt=lt[Ze],Ut=this._tileClippingMaskIDs[wt.key]=this.nextStencilID++;Fe.draw(ae,ye.TRIANGLES,Ar.disabled,new Kt({func:ye.ALWAYS,mask:0},Ut,255,ye.KEEP,ye.KEEP,ye.REPLACE),st.disabled,Dt.disabled,Vo(wt.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},Rr.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var X=this.nextStencilID++,pe=this.context.gl;return new Kt({func:pe.NOTEQUAL,mask:255},X,255,pe.KEEP,pe.KEEP,pe.REPLACE)},Rr.prototype.stencilModeForClipping=function(X){var pe=this.context.gl;return new Kt({func:pe.EQUAL,mask:255},this._tileClippingMaskIDs[X.key],0,pe.KEEP,pe.KEEP,pe.REPLACE)},Rr.prototype.stencilConfigForOverlap=function(X){var pe,ae=this.context.gl,ye=X.sort(function(Ut,Jt){return Jt.overscaledZ-Ut.overscaledZ}),Fe=ye[ye.length-1].overscaledZ,Ze=ye[0].overscaledZ-Fe+1;if(Ze>1){this.currentStencilSource=void 0,this.nextStencilID+Ze>256&&this.clearStencil();for(var lt={},wt=0;wt<Ze;wt++)lt[wt+Fe]=new Kt({func:ae.GEQUAL,mask:255},wt+this.nextStencilID,255,ae.KEEP,ae.KEEP,ae.REPLACE);return this.nextStencilID+=Ze,[lt,ye]}return[(pe={},pe[Fe]=Kt.disabled,pe),ye]},Rr.prototype.colorModeForRenderPass=function(){var X=this.context.gl;if(this._showOverdrawInspector){var pe=8,ae=1/pe;return new st([X.CONSTANT_COLOR,X.ONE],new a.Color(ae,ae,ae,0),[!0,!0,!0,!0])}else return this.renderPass==="opaque"?st.unblended:st.alphaBlended},Rr.prototype.depthModeForSublayer=function(X,pe,ae){if(!this.opaquePassEnabledForLayer())return Ar.disabled;var ye=1-((1+this.currentLayer)*this.numSublayers+X)*this.depthEpsilon;return new Ar(ae||this.context.gl.LEQUAL,pe,[ye,ye])},Rr.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},Rr.prototype.render=function(X,pe){var ae=this;this.style=X,this.options=pe,this.lineAtlas=X.lineAtlas,this.imageManager=X.imageManager,this.glyphManager=X.glyphManager,this.symbolFadeChange=X.placement.symbolFadeChange(a.browser.now()),this.imageManager.beginFrame();var ye=this.style._order,Fe=this.style.sourceCaches;for(var Ze in Fe){var lt=Fe[Ze];lt.used&&lt.prepare(this.context)}var wt={},Ut={},Jt={};for(var fr in Fe){var xr=Fe[fr];wt[fr]=xr.getVisibleCoordinates(),Ut[fr]=wt[fr].slice().reverse(),Jt[fr]=xr.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var zr=0;zr<ye.length;zr++){var Wr=ye[zr];if(this.style._layers[Wr].is3D()){this.opaquePassCutoff=zr;break}}this.renderPass="offscreen";for(var Yr=0,Hr=ye;Yr<Hr.length;Yr+=1){var Jr=Hr[Yr],fn=this.style._layers[Jr];if(!(!fn.hasOffscreenPass()||fn.isHidden(this.transform.zoom))){var Dn=Ut[fn.source];fn.type!=="custom"&&!Dn.length||this.renderLayer(this,Fe[fn.source],fn,Dn)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:pe.showOverdrawInspector?a.Color.black:a.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=pe.showOverdrawInspector,this.depthRangeFor3D=[0,1-(X._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=ye.length-1;this.currentLayer>=0;this.currentLayer--){var Fn=this.style._layers[ye[this.currentLayer]],Kn=Fe[Fn.source],Jn=wt[Fn.source];this._renderTileClippingMasks(Fn,Jn),this.renderLayer(this,Kn,Fn,Jn)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<ye.length;this.currentLayer++){var $n=this.style._layers[ye[this.currentLayer]],ia=Fe[$n.source],ha=($n.type==="symbol"?Jt:Ut)[$n.source];this._renderTileClippingMasks($n,wt[$n.source]),this.renderLayer(this,ia,$n,ha)}if(this.options.showTileBoundaries){var ca,ya,Aa=a.values(this.style._layers);Aa.forEach(function(ka){ka.source&&!ka.isHidden(ae.transform.zoom)&&(ka.source!==(ya&&ya.id)&&(ya=ae.style.sourceCaches[ka.source]),(!ca||ca.getSource().maxzoom<ya.getSource().maxzoom)&&(ca=ya))}),ca&&Sr.debug(this,ca,ca.getVisibleCoordinates())}this.options.showPadding&&nt(this),this.context.setDefault()},Rr.prototype.renderLayer=function(X,pe,ae,ye){ae.isHidden(this.transform.zoom)||ae.type!=="background"&&ae.type!=="custom"&&!ye.length||(this.id=ae.id,this.gpuTimingStart(ae),Sr[ae.type](X,pe,ae,ye,this.style.placement.variableOffsets),this.gpuTimingEnd())},Rr.prototype.gpuTimingStart=function(X){if(this.options.gpuTiming){var pe=this.context.extTimerQuery,ae=this.gpuTimers[X.id];ae||(ae=this.gpuTimers[X.id]={calls:0,cpuTime:0,query:pe.createQueryEXT()}),ae.calls++,pe.beginQueryEXT(pe.TIME_ELAPSED_EXT,ae.query)}},Rr.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var X=this.context.extTimerQuery;X.endQueryEXT(X.TIME_ELAPSED_EXT)}},Rr.prototype.collectGpuTimers=function(){var X=this.gpuTimers;return this.gpuTimers={},X},Rr.prototype.queryGpuTimers=function(X){var pe={};for(var ae in X){var ye=X[ae],Fe=this.context.extTimerQuery,Ze=Fe.getQueryObjectEXT(ye.query,Fe.QUERY_RESULT_EXT)/(1e3*1e3);Fe.deleteQueryEXT(ye.query),pe[ae]=Ze}return pe},Rr.prototype.translatePosMatrix=function(X,pe,ae,ye,Fe){if(!ae[0]&&!ae[1])return X;var Ze=Fe?ye==="map"?this.transform.angle:0:ye==="viewport"?-this.transform.angle:0;if(Ze){var lt=Math.sin(Ze),wt=Math.cos(Ze);ae=[ae[0]*wt-ae[1]*lt,ae[0]*lt+ae[1]*wt]}var Ut=[Fe?ae[0]:yn(pe,ae[0],this.transform.zoom),Fe?ae[1]:yn(pe,ae[1],this.transform.zoom),0],Jt=new Float32Array(16);return a.translate(Jt,X,Ut),Jt},Rr.prototype.saveTileTexture=function(X){var pe=this._tileTextures[X.size[0]];pe?pe.push(X):this._tileTextures[X.size[0]]=[X]},Rr.prototype.getTileTexture=function(X){var pe=this._tileTextures[X];return pe&&pe.length>0?pe.pop():null},Rr.prototype.isPatternMissing=function(X){if(!X)return!1;if(!X.from||!X.to)return!0;var pe=this.imageManager.getPattern(X.from.toString()),ae=this.imageManager.getPattern(X.to.toString());return!pe||!ae},Rr.prototype.useProgram=function(X,pe){this.cache=this.cache||{};var ae=""+X+(pe?pe.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[ae]||(this.cache[ae]=new yu(this.context,rh[X],pe,Yl[X],this._showOverdrawInspector)),this.cache[ae]},Rr.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},Rr.prototype.setBaseState=function(){var X=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(X.FUNC_ADD)},Rr.prototype.initDebugOverlayCanvas=function(){if(this.debugOverlayCanvas==null){this.debugOverlayCanvas=a.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512;var X=this.context.gl;this.debugOverlayTexture=new a.Texture(this.context,this.debugOverlayCanvas,X.RGBA)}},Rr.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var jr=function(X,pe){this.points=X,this.planes=pe};jr.fromInvProjectionMatrix=function(X,pe,ae){var ye=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]],Fe=Math.pow(2,ae),Ze=ye.map(function(Ut){return a.transformMat4([],Ut,X)}).map(function(Ut){return a.scale$1([],Ut,1/Ut[3]/pe*Fe)}),lt=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]],wt=lt.map(function(Ut){var Jt=a.sub([],Ze[Ut[0]],Ze[Ut[1]]),fr=a.sub([],Ze[Ut[2]],Ze[Ut[1]]),xr=a.normalize([],a.cross([],Jt,fr)),zr=-a.dot(xr,Ze[Ut[1]]);return xr.concat(zr)});return new jr(Ze,wt)};var $r=function(X,pe){this.min=X,this.max=pe,this.center=a.scale$2([],a.add([],this.min,this.max),.5)};$r.prototype.quadrant=function(X){for(var pe=[X%2===0,X<2],ae=a.clone$2(this.min),ye=a.clone$2(this.max),Fe=0;Fe<pe.length;Fe++)ae[Fe]=pe[Fe]?this.min[Fe]:this.center[Fe],ye[Fe]=pe[Fe]?this.center[Fe]:this.max[Fe];return ye[2]=this.max[2],new $r(ae,ye)},$r.prototype.distanceX=function(X){var pe=Math.max(Math.min(this.max[0],X[0]),this.min[0]);return pe-X[0]},$r.prototype.distanceY=function(X){var pe=Math.max(Math.min(this.max[1],X[1]),this.min[1]);return pe-X[1]},$r.prototype.intersects=function(X){for(var pe=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],ae=!0,ye=0;ye<X.planes.length;ye++){for(var Fe=X.planes[ye],Ze=0,lt=0;lt<pe.length;lt++)Ze+=a.dot$1(Fe,pe[lt])>=0;if(Ze===0)return 0;Ze!==pe.length&&(ae=!1)}if(ae)return 2;for(var wt=0;wt<3;wt++){for(var Ut=Number.MAX_VALUE,Jt=-Number.MAX_VALUE,fr=0;fr<X.points.length;fr++){var xr=X.points[fr][wt]-this.min[wt];Ut=Math.min(Ut,xr),Jt=Math.max(Jt,xr)}if(Jt<0||Ut>this.max[wt]-this.min[wt])return 0}return 1};var bn=function(X,pe,ae,ye){if(X===void 0&&(X=0),pe===void 0&&(pe=0),ae===void 0&&(ae=0),ye===void 0&&(ye=0),isNaN(X)||X<0||isNaN(pe)||pe<0||isNaN(ae)||ae<0||isNaN(ye)||ye<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=X,this.bottom=pe,this.left=ae,this.right=ye};bn.prototype.interpolate=function(X,pe,ae){return pe.top!=null&&X.top!=null&&(this.top=a.number(X.top,pe.top,ae)),pe.bottom!=null&&X.bottom!=null&&(this.bottom=a.number(X.bottom,pe.bottom,ae)),pe.left!=null&&X.left!=null&&(this.left=a.number(X.left,pe.left,ae)),pe.right!=null&&X.right!=null&&(this.right=a.number(X.right,pe.right,ae)),this},bn.prototype.getCenter=function(X,pe){var ae=a.clamp((this.left+X-this.right)/2,0,X),ye=a.clamp((this.top+pe-this.bottom)/2,0,pe);return new a.Point(ae,ye)},bn.prototype.equals=function(X){return this.top===X.top&&this.bottom===X.bottom&&this.left===X.left&&this.right===X.right},bn.prototype.clone=function(){return new bn(this.top,this.bottom,this.left,this.right)},bn.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var An=function(X,pe,ae,ye,Fe){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=Fe===void 0?!0:Fe,this._minZoom=X||0,this._maxZoom=pe||22,this._minPitch=ae??0,this._maxPitch=ye??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new a.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new bn,this._posMatrixCache={},this._alignedPosMatrixCache={}},kn={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};An.prototype.clone=function(){var X=new An(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return X.tileSize=this.tileSize,X.latRange=this.latRange,X.width=this.width,X.height=this.height,X._center=this._center,X.zoom=this.zoom,X.angle=this.angle,X._fov=this._fov,X._pitch=this._pitch,X._unmodified=this._unmodified,X._edgeInsets=this._edgeInsets.clone(),X._calcMatrices(),X},kn.minZoom.get=function(){return this._minZoom},kn.minZoom.set=function(ve){this._minZoom!==ve&&(this._minZoom=ve,this.zoom=Math.max(this.zoom,ve))},kn.maxZoom.get=function(){return this._maxZoom},kn.maxZoom.set=function(ve){this._maxZoom!==ve&&(this._maxZoom=ve,this.zoom=Math.min(this.zoom,ve))},kn.minPitch.get=function(){return this._minPitch},kn.minPitch.set=function(ve){this._minPitch!==ve&&(this._minPitch=ve,this.pitch=Math.max(this.pitch,ve))},kn.maxPitch.get=function(){return this._maxPitch},kn.maxPitch.set=function(ve){this._maxPitch!==ve&&(this._maxPitch=ve,this.pitch=Math.min(this.pitch,ve))},kn.renderWorldCopies.get=function(){return this._renderWorldCopies},kn.renderWorldCopies.set=function(ve){ve===void 0?ve=!0:ve===null&&(ve=!1),this._renderWorldCopies=ve},kn.worldSize.get=function(){return this.tileSize*this.scale},kn.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},kn.size.get=function(){return new a.Point(this.width,this.height)},kn.bearing.get=function(){return-this.angle/Math.PI*180},kn.bearing.set=function(ve){var X=-a.wrap(ve,-180,180)*Math.PI/180;this.angle!==X&&(this._unmodified=!1,this.angle=X,this._calcMatrices(),this.rotationMatrix=a.create$2(),a.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},kn.pitch.get=function(){return this._pitch/Math.PI*180},kn.pitch.set=function(ve){var X=a.clamp(ve,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==X&&(this._unmodified=!1,this._pitch=X,this._calcMatrices())},kn.fov.get=function(){return this._fov/Math.PI*180},kn.fov.set=function(ve){ve=Math.max(.01,Math.min(60,ve)),this._fov!==ve&&(this._unmodified=!1,this._fov=ve/180*Math.PI,this._calcMatrices())},kn.zoom.get=function(){return this._zoom},kn.zoom.set=function(ve){var X=Math.min(Math.max(ve,this.minZoom),this.maxZoom);this._zoom!==X&&(this._unmodified=!1,this._zoom=X,this.scale=this.zoomScale(X),this.tileZoom=Math.floor(X),this.zoomFraction=X-this.tileZoom,this._constrain(),this._calcMatrices())},kn.center.get=function(){return this._center},kn.center.set=function(ve){ve.lat===this._center.lat&&ve.lng===this._center.lng||(this._unmodified=!1,this._center=ve,this._constrain(),this._calcMatrices())},kn.padding.get=function(){return this._edgeInsets.toJSON()},kn.padding.set=function(ve){this._edgeInsets.equals(ve)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,ve,1),this._calcMatrices())},kn.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},An.prototype.isPaddingEqual=function(X){return this._edgeInsets.equals(X)},An.prototype.interpolatePadding=function(X,pe,ae){this._unmodified=!1,this._edgeInsets.interpolate(X,pe,ae),this._constrain(),this._calcMatrices()},An.prototype.coveringZoomLevel=function(X){var pe=(X.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/X.tileSize));return Math.max(0,pe)},An.prototype.getVisibleUnwrappedCoordinates=function(X){var pe=[new a.UnwrappedTileID(0,X)];if(this._renderWorldCopies)for(var ae=this.pointCoordinate(new a.Point(0,0)),ye=this.pointCoordinate(new a.Point(this.width,0)),Fe=this.pointCoordinate(new a.Point(this.width,this.height)),Ze=this.pointCoordinate(new a.Point(0,this.height)),lt=Math.floor(Math.min(ae.x,ye.x,Fe.x,Ze.x)),wt=Math.floor(Math.max(ae.x,ye.x,Fe.x,Ze.x)),Ut=1,Jt=lt-Ut;Jt<=wt+Ut;Jt++)Jt!==0&&pe.push(new a.UnwrappedTileID(Jt,X));return pe},An.prototype.coveringTiles=function(X){var pe=this.coveringZoomLevel(X),ae=pe;if(X.minzoom!==void 0&&pe<X.minzoom)return[];X.maxzoom!==void 0&&pe>X.maxzoom&&(pe=X.maxzoom);var ye=a.MercatorCoordinate.fromLngLat(this.center),Fe=Math.pow(2,pe),Ze=[Fe*ye.x,Fe*ye.y,0],lt=jr.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,pe),wt=X.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(wt=pe);var Ut=3,Jt=function(Aa){return{aabb:new $r([Aa*Fe,0,0],[(Aa+1)*Fe,Fe,0]),zoom:0,x:0,y:0,wrap:Aa,fullyVisible:!1}},fr=[],xr=[],zr=pe,Wr=X.reparseOverscaled?ae:pe;if(this._renderWorldCopies)for(var Yr=1;Yr<=3;Yr++)fr.push(Jt(-Yr)),fr.push(Jt(Yr));for(fr.push(Jt(0));fr.length>0;){var Hr=fr.pop(),Jr=Hr.x,fn=Hr.y,Dn=Hr.fullyVisible;if(!Dn){var Fn=Hr.aabb.intersects(lt);if(Fn===0)continue;Dn=Fn===2}var Kn=Hr.aabb.distanceX(Ze),Jn=Hr.aabb.distanceY(Ze),$n=Math.max(Math.abs(Kn),Math.abs(Jn)),ia=Ut+(1<<zr-Hr.zoom)-2;if(Hr.zoom===zr||$n>ia&&Hr.zoom>=wt){xr.push({tileID:new a.OverscaledTileID(Hr.zoom===zr?Wr:Hr.zoom,Hr.wrap,Hr.zoom,Jr,fn),distanceSq:a.sqrLen([Ze[0]-.5-Jr,Ze[1]-.5-fn])});continue}for(var ha=0;ha<4;ha++){var ca=(Jr<<1)+ha%2,ya=(fn<<1)+(ha>>1);fr.push({aabb:Hr.aabb.quadrant(ha),zoom:Hr.zoom+1,x:ca,y:ya,wrap:Hr.wrap,fullyVisible:Dn})}}return xr.sort(function(Aa,ka){return Aa.distanceSq-ka.distanceSq}).map(function(Aa){return Aa.tileID})},An.prototype.resize=function(X,pe){this.width=X,this.height=pe,this.pixelsToGLUnits=[2/X,-2/pe],this._constrain(),this._calcMatrices()},kn.unmodified.get=function(){return this._unmodified},An.prototype.zoomScale=function(X){return Math.pow(2,X)},An.prototype.scaleZoom=function(X){return Math.log(X)/Math.LN2},An.prototype.project=function(X){var pe=a.clamp(X.lat,-this.maxValidLatitude,this.maxValidLatitude);return new a.Point(a.mercatorXfromLng(X.lng)*this.worldSize,a.mercatorYfromLat(pe)*this.worldSize)},An.prototype.unproject=function(X){return new a.MercatorCoordinate(X.x/this.worldSize,X.y/this.worldSize).toLngLat()},kn.point.get=function(){return this.project(this.center)},An.prototype.setLocationAtPoint=function(X,pe){var ae=this.pointCoordinate(pe),ye=this.pointCoordinate(this.centerPoint),Fe=this.locationCoordinate(X),Ze=new a.MercatorCoordinate(Fe.x-(ae.x-ye.x),Fe.y-(ae.y-ye.y));this.center=this.coordinateLocation(Ze),this._renderWorldCopies&&(this.center=this.center.wrap())},An.prototype.locationPoint=function(X){return this.coordinatePoint(this.locationCoordinate(X))},An.prototype.pointLocation=function(X){return this.coordinateLocation(this.pointCoordinate(X))},An.prototype.locationCoordinate=function(X){return a.MercatorCoordinate.fromLngLat(X)},An.prototype.coordinateLocation=function(X){return X.toLngLat()},An.prototype.pointCoordinate=function(X){var pe=0,ae=[X.x,X.y,0,1],ye=[X.x,X.y,1,1];a.transformMat4(ae,ae,this.pixelMatrixInverse),a.transformMat4(ye,ye,this.pixelMatrixInverse);var Fe=ae[3],Ze=ye[3],lt=ae[0]/Fe,wt=ye[0]/Ze,Ut=ae[1]/Fe,Jt=ye[1]/Ze,fr=ae[2]/Fe,xr=ye[2]/Ze,zr=fr===xr?0:(pe-fr)/(xr-fr);return new a.MercatorCoordinate(a.number(lt,wt,zr)/this.worldSize,a.number(Ut,Jt,zr)/this.worldSize)},An.prototype.coordinatePoint=function(X){var pe=[X.x*this.worldSize,X.y*this.worldSize,0,1];return a.transformMat4(pe,pe,this.pixelMatrix),new a.Point(pe[0]/pe[3],pe[1]/pe[3])},An.prototype.getBounds=function(){return new a.LngLatBounds().extend(this.pointLocation(new a.Point(0,0))).extend(this.pointLocation(new a.Point(this.width,0))).extend(this.pointLocation(new a.Point(this.width,this.height))).extend(this.pointLocation(new a.Point(0,this.height)))},An.prototype.getMaxBounds=function(){return!this.latRange||this.latRange.length!==2||!this.lngRange||this.lngRange.length!==2?null:new a.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]])},An.prototype.setMaxBounds=function(X){X?(this.lngRange=[X.getWest(),X.getEast()],this.latRange=[X.getSouth(),X.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},An.prototype.calculatePosMatrix=function(X,pe){pe===void 0&&(pe=!1);var ae=X.key,ye=pe?this._alignedPosMatrixCache:this._posMatrixCache;if(ye[ae])return ye[ae];var Fe=X.canonical,Ze=this.worldSize/this.zoomScale(Fe.z),lt=Fe.x+Math.pow(2,Fe.z)*X.wrap,wt=a.identity(new Float64Array(16));return a.translate(wt,wt,[lt*Ze,Fe.y*Ze,0]),a.scale(wt,wt,[Ze/a.EXTENT,Ze/a.EXTENT,1]),a.multiply(wt,pe?this.alignedProjMatrix:this.projMatrix,wt),ye[ae]=new Float32Array(wt),ye[ae]},An.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},An.prototype._constrain=function(){if(!(!this.center||!this.width||!this.height||this._constraining)){this._constraining=!0;var X=-90,pe=90,ae=-180,ye=180,Fe,Ze,lt,wt,Ut=this.size,Jt=this._unmodified;if(this.latRange){var fr=this.latRange;X=a.mercatorYfromLat(fr[1])*this.worldSize,pe=a.mercatorYfromLat(fr[0])*this.worldSize,Fe=pe-X<Ut.y?Ut.y/(pe-X):0}if(this.lngRange){var xr=this.lngRange;ae=a.mercatorXfromLng(xr[0])*this.worldSize,ye=a.mercatorXfromLng(xr[1])*this.worldSize,Ze=ye-ae<Ut.x?Ut.x/(ye-ae):0}var zr=this.point,Wr=Math.max(Ze||0,Fe||0);if(Wr){this.center=this.unproject(new a.Point(Ze?(ye+ae)/2:zr.x,Fe?(pe+X)/2:zr.y)),this.zoom+=this.scaleZoom(Wr),this._unmodified=Jt,this._constraining=!1;return}if(this.latRange){var Yr=zr.y,Hr=Ut.y/2;Yr-Hr<X&&(wt=X+Hr),Yr+Hr>pe&&(wt=pe-Hr)}if(this.lngRange){var Jr=zr.x,fn=Ut.x/2;Jr-fn<ae&&(lt=ae+fn),Jr+fn>ye&&(lt=ye-fn)}(lt!==void 0||wt!==void 0)&&(this.center=this.unproject(new a.Point(lt!==void 0?lt:zr.x,wt!==void 0?wt:zr.y))),this._unmodified=Jt,this._constraining=!1}},An.prototype._calcMatrices=function(){if(this.height){var X=this._fov/2,pe=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(X)*this.height;var ae=Math.PI/2+this._pitch,ye=this._fov*(.5+pe.y/this.height),Fe=Math.sin(ye)*this.cameraToCenterDistance/Math.sin(a.clamp(Math.PI-ae-ye,.01,Math.PI-.01)),Ze=this.point,lt=Ze.x,wt=Ze.y,Ut=Math.cos(Math.PI/2-this._pitch)*Fe+this.cameraToCenterDistance,Jt=Ut*1.01,fr=this.height/50,xr=new Float64Array(16);a.perspective(xr,this._fov,this.width/this.height,fr,Jt),xr[8]=-pe.x*2/this.width,xr[9]=pe.y*2/this.height,a.scale(xr,xr,[1,-1,1]),a.translate(xr,xr,[0,0,-this.cameraToCenterDistance]),a.rotateX(xr,xr,this._pitch),a.rotateZ(xr,xr,this.angle),a.translate(xr,xr,[-lt,-wt,0]),this.mercatorMatrix=a.scale([],xr,[this.worldSize,this.worldSize,this.worldSize]),a.scale(xr,xr,[1,1,a.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=xr,this.invProjMatrix=a.invert([],this.projMatrix);var zr=this.width%2/2,Wr=this.height%2/2,Yr=Math.cos(this.angle),Hr=Math.sin(this.angle),Jr=lt-Math.round(lt)+Yr*zr+Hr*Wr,fn=wt-Math.round(wt)+Yr*Wr+Hr*zr,Dn=new Float64Array(xr);if(a.translate(Dn,Dn,[Jr>.5?Jr-1:Jr,fn>.5?fn-1:fn,0]),this.alignedProjMatrix=Dn,xr=a.create(),a.scale(xr,xr,[this.width/2,-this.height/2,1]),a.translate(xr,xr,[1,-1,0]),this.labelPlaneMatrix=xr,xr=a.create(),a.scale(xr,xr,[1,-1,1]),a.translate(xr,xr,[-1,-1,0]),a.scale(xr,xr,[2/this.width,2/this.height,1]),this.glCoordMatrix=xr,this.pixelMatrix=a.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),xr=a.invert(new Float64Array(16),this.pixelMatrix),!xr)throw new Error("failed to invert matrix");this.pixelMatrixInverse=xr,this._posMatrixCache={},this._alignedPosMatrixCache={}}},An.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var X=this.pointCoordinate(new a.Point(0,0)),pe=[X.x*this.worldSize,X.y*this.worldSize,0,1],ae=a.transformMat4(pe,pe,this.pixelMatrix);return ae[3]/this.cameraToCenterDistance},An.prototype.getCameraPoint=function(){var X=this._pitch,pe=Math.tan(X)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new a.Point(0,pe))},An.prototype.getCameraQueryGeometry=function(X){var pe=this.getCameraPoint();if(X.length===1)return[X[0],pe];for(var ae=pe.x,ye=pe.y,Fe=pe.x,Ze=pe.y,lt=0,wt=X;lt<wt.length;lt+=1){var Ut=wt[lt];ae=Math.min(ae,Ut.x),ye=Math.min(ye,Ut.y),Fe=Math.max(Fe,Ut.x),Ze=Math.max(Ze,Ut.y)}return[new a.Point(ae,ye),new a.Point(Fe,ye),new a.Point(Fe,Ze),new a.Point(ae,Ze),new a.Point(ae,ye)]},Object.defineProperties(An.prototype,kn);function da(ve,X){var pe=!1,ae=null,ye=function(){ae=null,pe&&(ve(),ae=setTimeout(ye,X),pe=!1)};return function(){return pe=!0,ae||ye(),ae}}var Pa=function(X){this._hashName=X&&encodeURIComponent(X),a.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=da(this._updateHashUnthrottled.bind(this),30*1e3/100)};Pa.prototype.addTo=function(X){return this._map=X,a.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},Pa.prototype.remove=function(){return a.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},Pa.prototype.getHashString=function(X){var pe=this._map.getCenter(),ae=Math.round(this._map.getZoom()*100)/100,ye=Math.ceil((ae*Math.LN2+Math.log(512/360/.5))/Math.LN10),Fe=Math.pow(10,ye),Ze=Math.round(pe.lng*Fe)/Fe,lt=Math.round(pe.lat*Fe)/Fe,wt=this._map.getBearing(),Ut=this._map.getPitch(),Jt="";if(X?Jt+="/"+Ze+"/"+lt+"/"+ae:Jt+=ae+"/"+lt+"/"+Ze,(wt||Ut)&&(Jt+="/"+Math.round(wt*10)/10),Ut&&(Jt+="/"+Math.round(Ut)),this._hashName){var fr=this._hashName,xr=!1,zr=a.window.location.hash.slice(1).split("&").map(function(Wr){var Yr=Wr.split("=")[0];return Yr===fr?(xr=!0,Yr+"="+Jt):Wr}).filter(function(Wr){return Wr});return xr||zr.push(fr+"="+Jt),"#"+zr.join("&")}return"#"+Jt},Pa.prototype._getCurrentHash=function(){var X=this,pe=a.window.location.hash.replace("#","");if(this._hashName){var ae;return pe.split("&").map(function(ye){return ye.split("=")}).forEach(function(ye){ye[0]===X._hashName&&(ae=ye)}),(ae&&ae[1]||"").split("/")}return pe.split("/")},Pa.prototype._onHashChange=function(){var X=this._getCurrentHash();if(X.length>=3&&!X.some(function(ae){return isNaN(ae)})){var pe=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(X[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+X[2],+X[1]],zoom:+X[0],bearing:pe,pitch:+(X[4]||0)}),!0}return!1},Pa.prototype._updateHashUnthrottled=function(){var X=this.getHashString();try{a.window.history.replaceState(a.window.history.state,"",X)}catch{}};var Da={linearity:.3,easing:a.bezier(0,0,.3,1)},Ia=a.extend({deceleration:2500,maxSpeed:1400},Da),_a=a.extend({deceleration:20,maxSpeed:1400},Da),ui=a.extend({deceleration:1e3,maxSpeed:360},Da),Oi=a.extend({deceleration:1e3,maxSpeed:90},Da),xi=function(X){this._map=X,this.clear()};xi.prototype.clear=function(){this._inertiaBuffer=[]},xi.prototype.record=function(X){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:a.browser.now(),settings:X})},xi.prototype._drainInertiaBuffer=function(){for(var X=this._inertiaBuffer,pe=a.browser.now(),ae=160;X.length>0&&pe-X[0].time>ae;)X.shift()},xi.prototype._onMoveEnd=function(X){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var pe={zoom:0,bearing:0,pitch:0,pan:new a.Point(0,0),pinchAround:void 0,around:void 0},ae=0,ye=this._inertiaBuffer;ae<ye.length;ae+=1){var Fe=ye[ae],Ze=Fe.settings;pe.zoom+=Ze.zoomDelta||0,pe.bearing+=Ze.bearingDelta||0,pe.pitch+=Ze.pitchDelta||0,Ze.panDelta&&pe.pan._add(Ze.panDelta),Ze.around&&(pe.around=Ze.around),Ze.pinchAround&&(pe.pinchAround=Ze.pinchAround)}var lt=this._inertiaBuffer[this._inertiaBuffer.length-1],wt=lt.time-this._inertiaBuffer[0].time,Ut={};if(pe.pan.mag()){var Jt=Re(pe.pan.mag(),wt,a.extend({},Ia,X||{}));Ut.offset=pe.pan.mult(Jt.amount/pe.pan.mag()),Ut.center=this._map.transform.center,fe(Ut,Jt)}if(pe.zoom){var fr=Re(pe.zoom,wt,_a);Ut.zoom=this._map.transform.zoom+fr.amount,fe(Ut,fr)}if(pe.bearing){var xr=Re(pe.bearing,wt,ui);Ut.bearing=this._map.transform.bearing+a.clamp(xr.amount,-179,179),fe(Ut,xr)}if(pe.pitch){var zr=Re(pe.pitch,wt,Oi);Ut.pitch=this._map.transform.pitch+zr.amount,fe(Ut,zr)}if(Ut.zoom||Ut.bearing){var Wr=pe.pinchAround===void 0?pe.around:pe.pinchAround;Ut.around=Wr?this._map.unproject(Wr):this._map.getCenter()}return this.clear(),a.extend(Ut,{noMoveStart:!0})}};function fe(ve,X){(!ve.duration||ve.duration<X.duration)&&(ve.duration=X.duration,ve.easing=X.easing)}function Re(ve,X,pe){var ae=pe.maxSpeed,ye=pe.linearity,Fe=pe.deceleration,Ze=a.clamp(ve*ye/(X/1e3),-ae,ae),lt=Math.abs(Ze)/(Fe*ye);return{easing:pe.easing,duration:lt*1e3,amount:Ze*(lt/2)}}var We=function(ve){function X(ae,ye,Fe,Ze){Ze===void 0&&(Ze={});var lt=T.mousePos(ye.getCanvasContainer(),Fe),wt=ye.unproject(lt);ve.call(this,ae,a.extend({point:lt,lngLat:wt,originalEvent:Fe},Ze)),this._defaultPrevented=!1,this.target=ye}ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X;var pe={defaultPrevented:{configurable:!0}};return X.prototype.preventDefault=function(){this._defaultPrevented=!0},pe.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(X.prototype,pe),X}(a.Event),Qe=function(ve){function X(ae,ye,Fe){var Ze=ae==="touchend"?Fe.changedTouches:Fe.touches,lt=T.touchPos(ye.getCanvasContainer(),Ze),wt=lt.map(function(fr){return ye.unproject(fr)}),Ut=lt.reduce(function(fr,xr,zr,Wr){return fr.add(xr.div(Wr.length))},new a.Point(0,0)),Jt=ye.unproject(Ut);ve.call(this,ae,{points:lt,point:Ut,lngLats:wt,lngLat:Jt,originalEvent:Fe}),this._defaultPrevented=!1}ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X;var pe={defaultPrevented:{configurable:!0}};return X.prototype.preventDefault=function(){this._defaultPrevented=!0},pe.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(X.prototype,pe),X}(a.Event),rt=function(ve){function X(ae,ye,Fe){ve.call(this,ae,{originalEvent:Fe}),this._defaultPrevented=!1}ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X;var pe={defaultPrevented:{configurable:!0}};return X.prototype.preventDefault=function(){this._defaultPrevented=!0},pe.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(X.prototype,pe),X}(a.Event),ot=function(X,pe){this._map=X,this._clickTolerance=pe.clickTolerance};ot.prototype.reset=function(){delete this._mousedownPos},ot.prototype.wheel=function(X){return this._firePreventable(new rt(X.type,this._map,X))},ot.prototype.mousedown=function(X,pe){return this._mousedownPos=pe,this._firePreventable(new We(X.type,this._map,X))},ot.prototype.mouseup=function(X){this._map.fire(new We(X.type,this._map,X))},ot.prototype.click=function(X,pe){this._mousedownPos&&this._mousedownPos.dist(pe)>=this._clickTolerance||this._map.fire(new We(X.type,this._map,X))},ot.prototype.dblclick=function(X){return this._firePreventable(new We(X.type,this._map,X))},ot.prototype.mouseover=function(X){this._map.fire(new We(X.type,this._map,X))},ot.prototype.mouseout=function(X){this._map.fire(new We(X.type,this._map,X))},ot.prototype.touchstart=function(X){return this._firePreventable(new Qe(X.type,this._map,X))},ot.prototype.touchmove=function(X){this._map.fire(new Qe(X.type,this._map,X))},ot.prototype.touchend=function(X){this._map.fire(new Qe(X.type,this._map,X))},ot.prototype.touchcancel=function(X){this._map.fire(new Qe(X.type,this._map,X))},ot.prototype._firePreventable=function(X){if(this._map.fire(X),X.defaultPrevented)return{}},ot.prototype.isEnabled=function(){return!0},ot.prototype.isActive=function(){return!1},ot.prototype.enable=function(){},ot.prototype.disable=function(){};var Pt=function(X){this._map=X};Pt.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},Pt.prototype.mousemove=function(X){this._map.fire(new We(X.type,this._map,X))},Pt.prototype.mousedown=function(){this._delayContextMenu=!0},Pt.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new We("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},Pt.prototype.contextmenu=function(X){this._delayContextMenu?this._contextMenuEvent=X:this._map.fire(new We(X.type,this._map,X)),this._map.listens("contextmenu")&&X.preventDefault()},Pt.prototype.isEnabled=function(){return!0},Pt.prototype.isActive=function(){return!1},Pt.prototype.enable=function(){},Pt.prototype.disable=function(){};var ct=function(X,pe){this._map=X,this._el=X.getCanvasContainer(),this._container=X.getContainer(),this._clickTolerance=pe.clickTolerance||1};ct.prototype.isEnabled=function(){return!!this._enabled},ct.prototype.isActive=function(){return!!this._active},ct.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},ct.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},ct.prototype.mousedown=function(X,pe){this.isEnabled()&&X.shiftKey&&X.button===0&&(T.disableDrag(),this._startPos=this._lastPos=pe,this._active=!0)},ct.prototype.mousemoveWindow=function(X,pe){if(this._active){var ae=pe;if(!(this._lastPos.equals(ae)||!this._box&&ae.dist(this._startPos)<this._clickTolerance)){var ye=this._startPos;this._lastPos=ae,this._box||(this._box=T.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",X));var Fe=Math.min(ye.x,ae.x),Ze=Math.max(ye.x,ae.x),lt=Math.min(ye.y,ae.y),wt=Math.max(ye.y,ae.y);T.setTransform(this._box,"translate("+Fe+"px,"+lt+"px)"),this._box.style.width=Ze-Fe+"px",this._box.style.height=wt-lt+"px"}}},ct.prototype.mouseupWindow=function(X,pe){var ae=this;if(this._active&&X.button===0){var ye=this._startPos,Fe=pe;if(this.reset(),T.suppressClick(),ye.x===Fe.x&&ye.y===Fe.y)this._fireEvent("boxzoomcancel",X);else return this._map.fire(new a.Event("boxzoomend",{originalEvent:X})),{cameraAnimation:function(Ze){return Ze.fitScreenCoordinates(ye,Fe,ae._map.getBearing(),{linear:!0})}}}},ct.prototype.keydown=function(X){this._active&&X.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",X))},ct.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(T.remove(this._box),this._box=null),T.enableDrag(),delete this._startPos,delete this._lastPos},ct.prototype._fireEvent=function(X,pe){return this._map.fire(new a.Event(X,{originalEvent:pe}))};function Ht(ve,X){for(var pe={},ae=0;ae<ve.length;ae++)pe[ve[ae].identifier]=X[ae];return pe}function er(ve){for(var X=new a.Point(0,0),pe=0,ae=ve;pe<ae.length;pe+=1){var ye=ae[pe];X._add(ye)}return X.div(ve.length)}var nr=500,Pr=500,Cr=30,Kr=function(X){this.reset(),this.numTouches=X.numTouches};Kr.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},Kr.prototype.touchstart=function(X,pe,ae){(this.centroid||ae.length>this.numTouches)&&(this.aborted=!0),!this.aborted&&(this.startTime===void 0&&(this.startTime=X.timeStamp),ae.length===this.numTouches&&(this.centroid=er(pe),this.touches=Ht(ae,pe)))},Kr.prototype.touchmove=function(X,pe,ae){if(!(this.aborted||!this.centroid)){var ye=Ht(ae,pe);for(var Fe in this.touches){var Ze=this.touches[Fe],lt=ye[Fe];(!lt||lt.dist(Ze)>Cr)&&(this.aborted=!0)}}},Kr.prototype.touchend=function(X,pe,ae){if((!this.centroid||X.timeStamp-this.startTime>Pr)&&(this.aborted=!0),ae.length===0){var ye=!this.aborted&&this.centroid;if(this.reset(),ye)return ye}};var nn=function(X){this.singleTap=new Kr(X),this.numTaps=X.numTaps,this.reset()};nn.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},nn.prototype.touchstart=function(X,pe,ae){this.singleTap.touchstart(X,pe,ae)},nn.prototype.touchmove=function(X,pe,ae){this.singleTap.touchmove(X,pe,ae)},nn.prototype.touchend=function(X,pe,ae){var ye=this.singleTap.touchend(X,pe,ae);if(ye){var Fe=X.timeStamp-this.lastTime<nr,Ze=!this.lastTap||this.lastTap.dist(ye)<Cr;if((!Fe||!Ze)&&this.reset(),this.count++,this.lastTime=X.timeStamp,this.lastTap=ye,this.count===this.numTaps)return this.reset(),ye}};var Ir=function(){this._zoomIn=new nn({numTouches:1,numTaps:2}),this._zoomOut=new nn({numTouches:2,numTaps:1}),this.reset()};Ir.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},Ir.prototype.touchstart=function(X,pe,ae){this._zoomIn.touchstart(X,pe,ae),this._zoomOut.touchstart(X,pe,ae)},Ir.prototype.touchmove=function(X,pe,ae){this._zoomIn.touchmove(X,pe,ae),this._zoomOut.touchmove(X,pe,ae)},Ir.prototype.touchend=function(X,pe,ae){var ye=this,Fe=this._zoomIn.touchend(X,pe,ae),Ze=this._zoomOut.touchend(X,pe,ae);if(Fe)return this._active=!0,X.preventDefault(),setTimeout(function(){return ye.reset()},0),{cameraAnimation:function(lt){return lt.easeTo({duration:300,zoom:lt.getZoom()+1,around:lt.unproject(Fe)},{originalEvent:X})}};if(Ze)return this._active=!0,X.preventDefault(),setTimeout(function(){return ye.reset()},0),{cameraAnimation:function(lt){return lt.easeTo({duration:300,zoom:lt.getZoom()-1,around:lt.unproject(Ze)},{originalEvent:X})}}},Ir.prototype.touchcancel=function(){this.reset()},Ir.prototype.enable=function(){this._enabled=!0},Ir.prototype.disable=function(){this._enabled=!1,this.reset()},Ir.prototype.isEnabled=function(){return this._enabled},Ir.prototype.isActive=function(){return this._active};var Nr=0,Zr=2,on=function(X){this.reset(),this._clickTolerance=X.clickTolerance||1};on.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},on.prototype._correctButton=function(X,pe){return!1},on.prototype._move=function(X,pe){return{}},on.prototype.mousedown=function(X,pe){if(!this._lastPoint){var ae=T.mouseButton(X);this._correctButton(X,ae)&&(this._lastPoint=pe,this._eventButton=ae)}},on.prototype.mousemoveWindow=function(X,pe){var ae=this._lastPoint;if(ae&&(X.preventDefault(),!(!this._moved&&pe.dist(ae)<this._clickTolerance)))return this._moved=!0,this._lastPoint=pe,this._move(ae,pe)},on.prototype.mouseupWindow=function(X){var pe=T.mouseButton(X);pe===this._eventButton&&(this._moved&&T.suppressClick(),this.reset())},on.prototype.enable=function(){this._enabled=!0},on.prototype.disable=function(){this._enabled=!1,this.reset()},on.prototype.isEnabled=function(){return this._enabled},on.prototype.isActive=function(){return this._active};var hn=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.mousedown=function(ae,ye){ve.prototype.mousedown.call(this,ae,ye),this._lastPoint&&(this._active=!0)},X.prototype._correctButton=function(ae,ye){return ye===Nr&&!ae.ctrlKey},X.prototype._move=function(ae,ye){return{around:ye,panDelta:ye.sub(ae)}},X}(on),Xr=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype._correctButton=function(ae,ye){return ye===Nr&&ae.ctrlKey||ye===Zr},X.prototype._move=function(ae,ye){var Fe=.8,Ze=(ye.x-ae.x)*Fe;if(Ze)return this._active=!0,{bearingDelta:Ze}},X.prototype.contextmenu=function(ae){ae.preventDefault()},X}(on),Hn=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype._correctButton=function(ae,ye){return ye===Nr&&ae.ctrlKey||ye===Zr},X.prototype._move=function(ae,ye){var Fe=-.5,Ze=(ye.y-ae.y)*Fe;if(Ze)return this._active=!0,{pitchDelta:Ze}},X.prototype.contextmenu=function(ae){ae.preventDefault()},X}(on),jn=function(X){this._minTouches=1,this._clickTolerance=X.clickTolerance||1,this.reset()};jn.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new a.Point(0,0)},jn.prototype.touchstart=function(X,pe,ae){return this._calculateTransform(X,pe,ae)},jn.prototype.touchmove=function(X,pe,ae){if(this._active)return X.preventDefault(),this._calculateTransform(X,pe,ae)},jn.prototype.touchend=function(X,pe,ae){this._calculateTransform(X,pe,ae),this._active&&ae.length<this._minTouches&&this.reset()},jn.prototype.touchcancel=function(){this.reset()},jn.prototype._calculateTransform=function(X,pe,ae){ae.length>0&&(this._active=!0);var ye=Ht(ae,pe),Fe=new a.Point(0,0),Ze=new a.Point(0,0),lt=0;for(var wt in ye){var Ut=ye[wt],Jt=this._touches[wt];Jt&&(Fe._add(Ut),Ze._add(Ut.sub(Jt)),lt++,ye[wt]=Ut)}if(this._touches=ye,!(lt<this._minTouches||!Ze.mag())){var fr=Ze.div(lt);if(this._sum._add(fr),!(this._sum.mag()<this._clickTolerance)){var xr=Fe.div(lt);return{around:xr,panDelta:fr}}}},jn.prototype.enable=function(){this._enabled=!0},jn.prototype.disable=function(){this._enabled=!1,this.reset()},jn.prototype.isEnabled=function(){return this._enabled},jn.prototype.isActive=function(){return this._active};var ea=function(){this.reset()};ea.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},ea.prototype._start=function(X){},ea.prototype._move=function(X,pe,ae){return{}},ea.prototype.touchstart=function(X,pe,ae){this._firstTwoTouches||ae.length<2||(this._firstTwoTouches=[ae[0].identifier,ae[1].identifier],this._start([pe[0],pe[1]]))},ea.prototype.touchmove=function(X,pe,ae){if(this._firstTwoTouches){X.preventDefault();var ye=this._firstTwoTouches,Fe=ye[0],Ze=ye[1],lt=sa(ae,pe,Fe),wt=sa(ae,pe,Ze);if(!(!lt||!wt)){var Ut=this._aroundCenter?null:lt.add(wt).div(2);return this._move([lt,wt],Ut,X)}}},ea.prototype.touchend=function(X,pe,ae){if(this._firstTwoTouches){var ye=this._firstTwoTouches,Fe=ye[0],Ze=ye[1],lt=sa(ae,pe,Fe),wt=sa(ae,pe,Ze);lt&&wt||(this._active&&T.suppressClick(),this.reset())}},ea.prototype.touchcancel=function(){this.reset()},ea.prototype.enable=function(X){this._enabled=!0,this._aroundCenter=!!X&&X.around==="center"},ea.prototype.disable=function(){this._enabled=!1,this.reset()},ea.prototype.isEnabled=function(){return this._enabled},ea.prototype.isActive=function(){return this._active};function sa(ve,X,pe){for(var ae=0;ae<ve.length;ae++)if(ve[ae].identifier===pe)return X[ae]}var Ta=.1;function wa(ve,X){return Math.log(ve/X)/Math.LN2}var Ha=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.reset=function(){ve.prototype.reset.call(this),delete this._distance,delete this._startDistance},X.prototype._start=function(ae){this._startDistance=this._distance=ae[0].dist(ae[1])},X.prototype._move=function(ae,ye){var Fe=this._distance;if(this._distance=ae[0].dist(ae[1]),!(!this._active&&Math.abs(wa(this._distance,this._startDistance))<Ta))return this._active=!0,{zoomDelta:wa(this._distance,Fe),pinchAround:ye}},X}(ea),La=25;function Ba(ve,X){return ve.angleWith(X)*180/Math.PI}var ei=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.reset=function(){ve.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},X.prototype._start=function(ae){this._startVector=this._vector=ae[0].sub(ae[1]),this._minDiameter=ae[0].dist(ae[1])},X.prototype._move=function(ae,ye){var Fe=this._vector;if(this._vector=ae[0].sub(ae[1]),!(!this._active&&this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:Ba(this._vector,Fe),pinchAround:ye}},X.prototype._isBelowThreshold=function(ae){this._minDiameter=Math.min(this._minDiameter,ae.mag());var ye=Math.PI*this._minDiameter,Fe=La/ye*360,Ze=Ba(ae,this._startVector);return Math.abs(Ze)<Fe},X}(ea);function ii(ve){return Math.abs(ve.y)>Math.abs(ve.x)}var vi=100,Wn=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.reset=function(){ve.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},X.prototype._start=function(ae){this._lastPoints=ae,ii(ae[0].sub(ae[1]))&&(this._valid=!1)},X.prototype._move=function(ae,ye,Fe){var Ze=ae[0].sub(this._lastPoints[0]),lt=ae[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(Ze,lt,Fe.timeStamp),!!this._valid){this._lastPoints=ae,this._active=!0;var wt=(Ze.y+lt.y)/2,Ut=-.5;return{pitchDelta:wt*Ut}}},X.prototype.gestureBeginsVertically=function(ae,ye,Fe){if(this._valid!==void 0)return this._valid;var Ze=2,lt=ae.mag()>=Ze,wt=ye.mag()>=Ze;if(!(!lt&&!wt)){if(!lt||!wt)return this._firstMove===void 0&&(this._firstMove=Fe),Fe-this._firstMove<vi?void 0:!1;var Ut=ae.y>0==ye.y>0;return ii(ae)&&ii(ye)&&Ut}},X}(ea),Na={panStep:100,bearingStep:15,pitchStep:10},Oa=function(){var X=Na;this._panStep=X.panStep,this._bearingStep=X.bearingStep,this._pitchStep=X.pitchStep};Oa.prototype.reset=function(){this._active=!1},Oa.prototype.keydown=function(X){var pe=this;if(!(X.altKey||X.ctrlKey||X.metaKey)){var ae=0,ye=0,Fe=0,Ze=0,lt=0;switch(X.keyCode){case 61:case 107:case 171:case 187:ae=1;break;case 189:case 109:case 173:ae=-1;break;case 37:X.shiftKey?ye=-1:(X.preventDefault(),Ze=-1);break;case 39:X.shiftKey?ye=1:(X.preventDefault(),Ze=1);break;case 38:X.shiftKey?Fe=1:(X.preventDefault(),lt=-1);break;case 40:X.shiftKey?Fe=-1:(X.preventDefault(),lt=1);break;default:return}return{cameraAnimation:function(wt){var Ut=wt.getZoom();wt.easeTo({duration:300,easeId:"keyboardHandler",easing:Ka,zoom:ae?Math.round(Ut)+ae*(X.shiftKey?2:1):Ut,bearing:wt.getBearing()+ye*pe._bearingStep,pitch:wt.getPitch()+Fe*pe._pitchStep,offset:[-Ze*pe._panStep,-lt*pe._panStep],center:wt.getCenter()},{originalEvent:X})}}}},Oa.prototype.enable=function(){this._enabled=!0},Oa.prototype.disable=function(){this._enabled=!1,this.reset()},Oa.prototype.isEnabled=function(){return this._enabled},Oa.prototype.isActive=function(){return this._active};function Ka(ve){return ve*(2-ve)}var Li=4.000244140625,Vi=1/100,Xi=1/450,Ai=2,pi=function(X,pe){this._map=X,this._el=X.getCanvasContainer(),this._handler=pe,this._delta=0,this._defaultZoomRate=Vi,this._wheelZoomRate=Xi,a.bindAll(["_onWheel","_onTimeout","_onScrollFrame","_onScrollFinished"],this)};pi.prototype.setZoomRate=function(X){this._defaultZoomRate=X},pi.prototype.setWheelZoomRate=function(X){this._wheelZoomRate=X},pi.prototype.isEnabled=function(){return!!this._enabled},pi.prototype.isActive=function(){return!!this._active||this._finishTimeout!==void 0},pi.prototype.isZooming=function(){return!!this._zooming},pi.prototype.enable=function(X){this.isEnabled()||(this._enabled=!0,this._aroundCenter=X&&X.around==="center")},pi.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},pi.prototype.wheel=function(X){if(this.isEnabled()){var pe=X.deltaMode===a.window.WheelEvent.DOM_DELTA_LINE?X.deltaY*40:X.deltaY,ae=a.browser.now(),ye=ae-(this._lastWheelEventTime||0);this._lastWheelEventTime=ae,pe!==0&&pe%Li===0?this._type="wheel":pe!==0&&Math.abs(pe)<4?this._type="trackpad":ye>400?(this._type=null,this._lastValue=pe,this._timeout=setTimeout(this._onTimeout,40,X)):this._type||(this._type=Math.abs(ye*pe)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,pe+=this._lastValue)),X.shiftKey&&pe&&(pe=pe/4),this._type&&(this._lastWheelEvent=X,this._delta-=pe,this._active||this._start(X)),X.preventDefault()}},pi.prototype._onTimeout=function(X){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(X)},pi.prototype._start=function(X){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var pe=T.mousePos(this._el,X);this._around=a.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(pe)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},pi.prototype.renderFrame=function(){return this._onScrollFrame()},pi.prototype._onScrollFrame=function(){var X=this;if(this._frameId&&(this._frameId=null,!!this.isActive())){var pe=this._map.transform;if(this._delta!==0){var ae=this._type==="wheel"&&Math.abs(this._delta)>Li?this._wheelZoomRate:this._defaultZoomRate,ye=Ai/(1+Math.exp(-Math.abs(this._delta*ae)));this._delta<0&&ye!==0&&(ye=1/ye);var Fe=typeof this._targetZoom=="number"?pe.zoomScale(this._targetZoom):pe.scale;this._targetZoom=Math.min(pe.maxZoom,Math.max(pe.minZoom,pe.scaleZoom(Fe*ye))),this._type==="wheel"&&(this._startZoom=pe.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var Ze=typeof this._targetZoom=="number"?this._targetZoom:pe.zoom,lt=this._startZoom,wt=this._easing,Ut=!1,Jt;if(this._type==="wheel"&&lt&&wt){var fr=Math.min((a.browser.now()-this._lastWheelEventTime)/200,1),xr=wt(fr);Jt=a.number(lt,Ze,xr),fr<1?this._frameId||(this._frameId=!0):Ut=!0}else Jt=Ze,Ut=!0;return this._active=!0,Ut&&(this._active=!1,this._finishTimeout=setTimeout(function(){X._zooming=!1,X._handler._triggerRenderFrame(),delete X._targetZoom,delete X._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!Ut,zoomDelta:Jt-pe.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},pi.prototype._smoothOutEasing=function(X){var pe=a.ease;if(this._prevEase){var ae=this._prevEase,ye=(a.browser.now()-ae.start)/ae.duration,Fe=ae.easing(ye+.01)-ae.easing(ye),Ze=.27/Math.sqrt(Fe*Fe+1e-4)*.01,lt=Math.sqrt(.27*.27-Ze*Ze);pe=a.bezier(Ze,lt,.25,1)}return this._prevEase={start:a.browser.now(),duration:X,easing:pe},pe},pi.prototype.reset=function(){this._active=!1};var ma=function(X,pe){this._clickZoom=X,this._tapZoom=pe};ma.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},ma.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},ma.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},ma.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var Ea=function(){this.reset()};Ea.prototype.reset=function(){this._active=!1},Ea.prototype.dblclick=function(X,pe){return X.preventDefault(),{cameraAnimation:function(ae){ae.easeTo({duration:300,zoom:ae.getZoom()+(X.shiftKey?-1:1),around:ae.unproject(pe)},{originalEvent:X})}}},Ea.prototype.enable=function(){this._enabled=!0},Ea.prototype.disable=function(){this._enabled=!1,this.reset()},Ea.prototype.isEnabled=function(){return this._enabled},Ea.prototype.isActive=function(){return this._active};var Si=function(){this._tap=new nn({numTouches:1,numTaps:1}),this.reset()};Si.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},Si.prototype.touchstart=function(X,pe,ae){this._swipePoint||(this._tapTime&&X.timeStamp-this._tapTime>nr&&this.reset(),this._tapTime?ae.length>0&&(this._swipePoint=pe[0],this._swipeTouch=ae[0].identifier):this._tap.touchstart(X,pe,ae))},Si.prototype.touchmove=function(X,pe,ae){if(!this._tapTime)this._tap.touchmove(X,pe,ae);else if(this._swipePoint){if(ae[0].identifier!==this._swipeTouch)return;var ye=pe[0],Fe=ye.y-this._swipePoint.y;return this._swipePoint=ye,X.preventDefault(),this._active=!0,{zoomDelta:Fe/128}}},Si.prototype.touchend=function(X,pe,ae){if(this._tapTime)this._swipePoint&&ae.length===0&&this.reset();else{var ye=this._tap.touchend(X,pe,ae);ye&&(this._tapTime=X.timeStamp)}},Si.prototype.touchcancel=function(){this.reset()},Si.prototype.enable=function(){this._enabled=!0},Si.prototype.disable=function(){this._enabled=!1,this.reset()},Si.prototype.isEnabled=function(){return this._enabled},Si.prototype.isActive=function(){return this._active};var ji=function(X,pe,ae){this._el=X,this._mousePan=pe,this._touchPan=ae};ji.prototype.enable=function(X){this._inertiaOptions=X||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},ji.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},ji.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},ji.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var Qo=function(X,pe,ae){this._pitchWithRotate=X.pitchWithRotate,this._mouseRotate=pe,this._mousePitch=ae};Qo.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},Qo.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},Qo.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},Qo.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var lo=function(X,pe,ae,ye){this._el=X,this._touchZoom=pe,this._touchRotate=ae,this._tapDragZoom=ye,this._rotationDisabled=!1,this._enabled=!0};lo.prototype.enable=function(X){this._touchZoom.enable(X),this._rotationDisabled||this._touchRotate.enable(X),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},lo.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},lo.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},lo.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},lo.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},lo.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var ko=function(ve){return ve.zoom||ve.drag||ve.pitch||ve.rotate},Ri=function(ve){function X(){ve.apply(this,arguments)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X}(a.Event);function os(ve){return ve.panDelta&&ve.panDelta.mag()||ve.zoomDelta||ve.bearingDelta||ve.pitchDelta}var bi=function(X,pe){this._map=X,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new xi(X),this._bearingSnap=pe.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(pe),a.bindAll(["handleEvent","handleWindowEvent"],this);var ae=this._el;this._listeners=[[ae,"touchstart",{passive:!1}],[ae,"touchmove",{passive:!1}],[ae,"touchend",void 0],[ae,"touchcancel",void 0],[ae,"mousedown",void 0],[ae,"mousemove",void 0],[ae,"mouseup",void 0],[a.window.document,"mousemove",{capture:!0}],[a.window.document,"mouseup",void 0],[ae,"mouseover",void 0],[ae,"mouseout",void 0],[ae,"dblclick",void 0],[ae,"click",void 0],[ae,"keydown",{capture:!1}],[ae,"keyup",void 0],[ae,"wheel",{passive:!1}],[ae,"contextmenu",void 0],[a.window,"blur",void 0]];for(var ye=0,Fe=this._listeners;ye<Fe.length;ye+=1){var Ze=Fe[ye],lt=Ze[0],wt=Ze[1],Ut=Ze[2];T.addEventListener(lt,wt,lt===a.window.document?this.handleWindowEvent:this.handleEvent,Ut)}};bi.prototype.destroy=function(){for(var X=0,pe=this._listeners;X<pe.length;X+=1){var ae=pe[X],ye=ae[0],Fe=ae[1],Ze=ae[2];T.removeEventListener(ye,Fe,ye===a.window.document?this.handleWindowEvent:this.handleEvent,Ze)}},bi.prototype._addDefaultHandlers=function(X){var pe=this._map,ae=pe.getCanvasContainer();this._add("mapEvent",new ot(pe,X));var ye=pe.boxZoom=new ct(pe,X);this._add("boxZoom",ye);var Fe=new Ir,Ze=new Ea;pe.doubleClickZoom=new ma(Ze,Fe),this._add("tapZoom",Fe),this._add("clickZoom",Ze);var lt=new Si;this._add("tapDragZoom",lt);var wt=pe.touchPitch=new Wn;this._add("touchPitch",wt);var Ut=new Xr(X),Jt=new Hn(X);pe.dragRotate=new Qo(X,Ut,Jt),this._add("mouseRotate",Ut,["mousePitch"]),this._add("mousePitch",Jt,["mouseRotate"]);var fr=new hn(X),xr=new jn(X);pe.dragPan=new ji(ae,fr,xr),this._add("mousePan",fr),this._add("touchPan",xr,["touchZoom","touchRotate"]);var zr=new ei,Wr=new Ha;pe.touchZoomRotate=new lo(ae,Wr,zr,lt),this._add("touchRotate",zr,["touchPan","touchZoom"]),this._add("touchZoom",Wr,["touchPan","touchRotate"]);var Yr=pe.scrollZoom=new pi(pe,this);this._add("scrollZoom",Yr,["mousePan"]);var Hr=pe.keyboard=new Oa;this._add("keyboard",Hr),this._add("blockableMapEvent",new Pt(pe));for(var Jr=0,fn=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];Jr<fn.length;Jr+=1){var Dn=fn[Jr];X.interactive&&X[Dn]&&pe[Dn].enable(X[Dn])}},bi.prototype._add=function(X,pe,ae){this._handlers.push({handlerName:X,handler:pe,allowed:ae}),this._handlersById[X]=pe},bi.prototype.stop=function(){if(!this._updatingCamera){for(var X=0,pe=this._handlers;X<pe.length;X+=1){var ae=pe[X],ye=ae.handler;ye.reset()}this._inertia.clear(),this._fireEvents({},{}),this._changes=[]}},bi.prototype.isActive=function(){for(var X=0,pe=this._handlers;X<pe.length;X+=1){var ae=pe[X],ye=ae.handler;if(ye.isActive())return!0}return!1},bi.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},bi.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},bi.prototype.isMoving=function(){return!!ko(this._eventsInProgress)||this.isZooming()},bi.prototype._blockedByActive=function(X,pe,ae){for(var ye in X)if(ye!==ae&&(!pe||pe.indexOf(ye)<0))return!0;return!1},bi.prototype.handleWindowEvent=function(X){this.handleEvent(X,X.type+"Window")},bi.prototype._getMapTouches=function(X){for(var pe=[],ae=0,ye=X;ae<ye.length;ae+=1){var Fe=ye[ae],Ze=Fe.target;this._el.contains(Ze)&&pe.push(Fe)}return pe},bi.prototype.handleEvent=function(X,pe){if(X.type==="blur"){this.stop();return}this._updatingCamera=!0;for(var ae=X.type==="renderFrame"?void 0:X,ye={needsRenderFrame:!1},Fe={},Ze={},lt=X.touches?this._getMapTouches(X.touches):void 0,wt=lt?T.touchPos(this._el,lt):T.mousePos(this._el,X),Ut=0,Jt=this._handlers;Ut<Jt.length;Ut+=1){var fr=Jt[Ut],xr=fr.handlerName,zr=fr.handler,Wr=fr.allowed;if(zr.isEnabled()){var Yr=void 0;this._blockedByActive(Ze,Wr,xr)?zr.reset():zr[pe||X.type]&&(Yr=zr[pe||X.type](X,wt,lt),this.mergeHandlerResult(ye,Fe,Yr,xr,ae),Yr&&Yr.needsRenderFrame&&this._triggerRenderFrame()),(Yr||zr.isActive())&&(Ze[xr]=zr)}}var Hr={};for(var Jr in this._previousActiveHandlers)Ze[Jr]||(Hr[Jr]=ae);this._previousActiveHandlers=Ze,(Object.keys(Hr).length||os(ye))&&(this._changes.push([ye,Fe,Hr]),this._triggerRenderFrame()),(Object.keys(Ze).length||os(ye))&&this._map._stop(!0),this._updatingCamera=!1;var fn=ye.cameraAnimation;fn&&(this._inertia.clear(),this._fireEvents({},{}),this._changes=[],fn(this._map))},bi.prototype.mergeHandlerResult=function(X,pe,ae,ye,Fe){if(ae){a.extend(X,ae);var Ze={handlerName:ye,originalEvent:ae.originalEvent||Fe};ae.zoomDelta!==void 0&&(pe.zoom=Ze),ae.panDelta!==void 0&&(pe.drag=Ze),ae.pitchDelta!==void 0&&(pe.pitch=Ze),ae.bearingDelta!==void 0&&(pe.rotate=Ze)}},bi.prototype._applyChanges=function(){for(var X={},pe={},ae={},ye=0,Fe=this._changes;ye<Fe.length;ye+=1){var Ze=Fe[ye],lt=Ze[0],wt=Ze[1],Ut=Ze[2];lt.panDelta&&(X.panDelta=(X.panDelta||new a.Point(0,0))._add(lt.panDelta)),lt.zoomDelta&&(X.zoomDelta=(X.zoomDelta||0)+lt.zoomDelta),lt.bearingDelta&&(X.bearingDelta=(X.bearingDelta||0)+lt.bearingDelta),lt.pitchDelta&&(X.pitchDelta=(X.pitchDelta||0)+lt.pitchDelta),lt.around!==void 0&&(X.around=lt.around),lt.pinchAround!==void 0&&(X.pinchAround=lt.pinchAround),lt.noInertia&&(X.noInertia=lt.noInertia),a.extend(pe,wt),a.extend(ae,Ut)}this._updateMapTransform(X,pe,ae),this._changes=[]},bi.prototype._updateMapTransform=function(X,pe,ae){var ye=this._map,Fe=ye.transform;if(!os(X))return this._fireEvents(pe,ae);var Ze=X.panDelta,lt=X.zoomDelta,wt=X.bearingDelta,Ut=X.pitchDelta,Jt=X.around,fr=X.pinchAround;fr!==void 0&&(Jt=fr),ye._stop(!0),Jt=Jt||ye.transform.centerPoint;var xr=Fe.pointLocation(Ze?Jt.sub(Ze):Jt);wt&&(Fe.bearing+=wt),Ut&&(Fe.pitch+=Ut),lt&&(Fe.zoom+=lt),Fe.setLocationAtPoint(xr,Jt),this._map._update(),X.noInertia||this._inertia.record(X),this._fireEvents(pe,ae)},bi.prototype._fireEvents=function(X,pe){var ae=this,ye=ko(this._eventsInProgress),Fe=ko(X),Ze={};for(var lt in X){var wt=X[lt],Ut=wt.originalEvent;this._eventsInProgress[lt]||(Ze[lt+"start"]=Ut),this._eventsInProgress[lt]=X[lt]}!ye&&Fe&&this._fireEvent("movestart",Fe.originalEvent);for(var Jt in Ze)this._fireEvent(Jt,Ze[Jt]);X.rotate&&(this._bearingChanged=!0),Fe&&this._fireEvent("move",Fe.originalEvent);for(var fr in X){var xr=X[fr],zr=xr.originalEvent;this._fireEvent(fr,zr)}var Wr={},Yr;for(var Hr in this._eventsInProgress){var Jr=this._eventsInProgress[Hr],fn=Jr.handlerName,Dn=Jr.originalEvent;this._handlersById[fn].isActive()||(delete this._eventsInProgress[Hr],Yr=pe[fn]||Dn,Wr[Hr+"end"]=Yr)}for(var Fn in Wr)this._fireEvent(Fn,Wr[Fn]);var Kn=ko(this._eventsInProgress);if((ye||Fe)&&!Kn){this._updatingCamera=!0;var Jn=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),$n=function(ia){return ia!==0&&-ae._bearingSnap<ia&&ia<ae._bearingSnap};Jn?($n(Jn.bearing||this._map.getBearing())&&(Jn.bearing=0),this._map.easeTo(Jn,{originalEvent:Yr})):(this._map.fire(new a.Event("moveend",{originalEvent:Yr})),$n(this._map.getBearing())&&this._map.resetNorth()),this._bearingChanged=!1,this._updatingCamera=!1}},bi.prototype._fireEvent=function(X,pe){this._map.fire(new a.Event(X,pe?{originalEvent:pe}:{}))},bi.prototype._triggerRenderFrame=function(){var X=this;this._frameId===void 0&&(this._frameId=this._map._requestRenderFrame(function(pe){delete X._frameId,X.handleEvent(new Ri("renderFrame",{timeStamp:pe})),X._applyChanges()}))};var Fs=function(ve){function X(pe,ae){ve.call(this),this._moving=!1,this._zooming=!1,this.transform=pe,this._bearingSnap=ae.bearingSnap,a.bindAll(["_renderFrameCallback"],this)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.getCenter=function(){return new a.LngLat(this.transform.center.lng,this.transform.center.lat)},X.prototype.setCenter=function(ae,ye){return this.jumpTo({center:ae},ye)},X.prototype.panBy=function(ae,ye,Fe){return ae=a.Point.convert(ae).mult(-1),this.panTo(this.transform.center,a.extend({offset:ae},ye),Fe)},X.prototype.panTo=function(ae,ye,Fe){return this.easeTo(a.extend({center:ae},ye),Fe)},X.prototype.getZoom=function(){return this.transform.zoom},X.prototype.setZoom=function(ae,ye){return this.jumpTo({zoom:ae},ye),this},X.prototype.zoomTo=function(ae,ye,Fe){return this.easeTo(a.extend({zoom:ae},ye),Fe)},X.prototype.zoomIn=function(ae,ye){return this.zoomTo(this.getZoom()+1,ae,ye),this},X.prototype.zoomOut=function(ae,ye){return this.zoomTo(this.getZoom()-1,ae,ye),this},X.prototype.getBearing=function(){return this.transform.bearing},X.prototype.setBearing=function(ae,ye){return this.jumpTo({bearing:ae},ye),this},X.prototype.getPadding=function(){return this.transform.padding},X.prototype.setPadding=function(ae,ye){return this.jumpTo({padding:ae},ye),this},X.prototype.rotateTo=function(ae,ye,Fe){return this.easeTo(a.extend({bearing:ae},ye),Fe)},X.prototype.resetNorth=function(ae,ye){return this.rotateTo(0,a.extend({duration:1e3},ae),ye),this},X.prototype.resetNorthPitch=function(ae,ye){return this.easeTo(a.extend({bearing:0,pitch:0,duration:1e3},ae),ye),this},X.prototype.snapToNorth=function(ae,ye){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(ae,ye):this},X.prototype.getPitch=function(){return this.transform.pitch},X.prototype.setPitch=function(ae,ye){return this.jumpTo({pitch:ae},ye),this},X.prototype.cameraForBounds=function(ae,ye){return ae=a.LngLatBounds.convert(ae),this._cameraForBoxAndBearing(ae.getNorthWest(),ae.getSouthEast(),0,ye)},X.prototype._cameraForBoxAndBearing=function(ae,ye,Fe,Ze){var lt={top:0,bottom:0,right:0,left:0};if(Ze=a.extend({padding:lt,offset:[0,0],maxZoom:this.transform.maxZoom},Ze),typeof Ze.padding=="number"){var wt=Ze.padding;Ze.padding={top:wt,bottom:wt,right:wt,left:wt}}Ze.padding=a.extend(lt,Ze.padding);var Ut=this.transform,Jt=Ut.padding,fr=Ut.project(a.LngLat.convert(ae)),xr=Ut.project(a.LngLat.convert(ye)),zr=fr.rotate(-Fe*Math.PI/180),Wr=xr.rotate(-Fe*Math.PI/180),Yr=new a.Point(Math.max(zr.x,Wr.x),Math.max(zr.y,Wr.y)),Hr=new a.Point(Math.min(zr.x,Wr.x),Math.min(zr.y,Wr.y)),Jr=Yr.sub(Hr),fn=(Ut.width-(Jt.left+Jt.right+Ze.padding.left+Ze.padding.right))/Jr.x,Dn=(Ut.height-(Jt.top+Jt.bottom+Ze.padding.top+Ze.padding.bottom))/Jr.y;if(Dn<0||fn<0){a.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");return}var Fn=Math.min(Ut.scaleZoom(Ut.scale*Math.min(fn,Dn)),Ze.maxZoom),Kn=a.Point.convert(Ze.offset),Jn=(Ze.padding.left-Ze.padding.right)/2,$n=(Ze.padding.top-Ze.padding.bottom)/2,ia=new a.Point(Kn.x+Jn,Kn.y+$n),ha=ia.mult(Ut.scale/Ut.zoomScale(Fn)),ca=Ut.unproject(fr.add(xr).div(2).sub(ha));return{center:ca,zoom:Fn,bearing:Fe}},X.prototype.fitBounds=function(ae,ye,Fe){return this._fitInternal(this.cameraForBounds(ae,ye),ye,Fe)},X.prototype.fitScreenCoordinates=function(ae,ye,Fe,Ze,lt){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(a.Point.convert(ae)),this.transform.pointLocation(a.Point.convert(ye)),Fe,Ze),Ze,lt)},X.prototype._fitInternal=function(ae,ye,Fe){return ae?(ye=a.extend(ae,ye),delete ye.padding,ye.linear?this.easeTo(ye,Fe):this.flyTo(ye,Fe)):this},X.prototype.jumpTo=function(ae,ye){this.stop();var Fe=this.transform,Ze=!1,lt=!1,wt=!1;return"zoom"in ae&&Fe.zoom!==+ae.zoom&&(Ze=!0,Fe.zoom=+ae.zoom),ae.center!==void 0&&(Fe.center=a.LngLat.convert(ae.center)),"bearing"in ae&&Fe.bearing!==+ae.bearing&&(lt=!0,Fe.bearing=+ae.bearing),"pitch"in ae&&Fe.pitch!==+ae.pitch&&(wt=!0,Fe.pitch=+ae.pitch),ae.padding!=null&&!Fe.isPaddingEqual(ae.padding)&&(Fe.padding=ae.padding),this.fire(new a.Event("movestart",ye)).fire(new a.Event("move",ye)),Ze&&this.fire(new a.Event("zoomstart",ye)).fire(new a.Event("zoom",ye)).fire(new a.Event("zoomend",ye)),lt&&this.fire(new a.Event("rotatestart",ye)).fire(new a.Event("rotate",ye)).fire(new a.Event("rotateend",ye)),wt&&this.fire(new a.Event("pitchstart",ye)).fire(new a.Event("pitch",ye)).fire(new a.Event("pitchend",ye)),this.fire(new a.Event("moveend",ye))},X.prototype.easeTo=function(ae,ye){var Fe=this;this._stop(!1,ae.easeId),ae=a.extend({offset:[0,0],duration:500,easing:a.ease},ae),(ae.animate===!1||!ae.essential&&a.browser.prefersReducedMotion)&&(ae.duration=0);var Ze=this.transform,lt=this.getZoom(),wt=this.getBearing(),Ut=this.getPitch(),Jt=this.getPadding(),fr="zoom"in ae?+ae.zoom:lt,xr="bearing"in ae?this._normalizeBearing(ae.bearing,wt):wt,zr="pitch"in ae?+ae.pitch:Ut,Wr="padding"in ae?ae.padding:Ze.padding,Yr=a.Point.convert(ae.offset),Hr=Ze.centerPoint.add(Yr),Jr=Ze.pointLocation(Hr),fn=a.LngLat.convert(ae.center||Jr);this._normalizeCenter(fn);var Dn=Ze.project(Jr),Fn=Ze.project(fn).sub(Dn),Kn=Ze.zoomScale(fr-lt),Jn,$n;ae.around&&(Jn=a.LngLat.convert(ae.around),$n=Ze.locationPoint(Jn));var ia={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||fr!==lt,this._rotating=this._rotating||wt!==xr,this._pitching=this._pitching||zr!==Ut,this._padding=!Ze.isPaddingEqual(Wr),this._easeId=ae.easeId,this._prepareEase(ye,ae.noMoveStart,ia),clearTimeout(this._easeEndTimeoutID),this._ease(function(ha){if(Fe._zooming&&(Ze.zoom=a.number(lt,fr,ha)),Fe._rotating&&(Ze.bearing=a.number(wt,xr,ha)),Fe._pitching&&(Ze.pitch=a.number(Ut,zr,ha)),Fe._padding&&(Ze.interpolatePadding(Jt,Wr,ha),Hr=Ze.centerPoint.add(Yr)),Jn)Ze.setLocationAtPoint(Jn,$n);else{var ca=Ze.zoomScale(Ze.zoom-lt),ya=fr>lt?Math.min(2,Kn):Math.max(.5,Kn),Aa=Math.pow(ya,1-ha),ka=Ze.unproject(Dn.add(Fn.mult(ha*Aa)).mult(ca));Ze.setLocationAtPoint(Ze.renderWorldCopies?ka.wrap():ka,Hr)}Fe._fireMoveEvents(ye)},function(ha){Fe._afterEase(ye,ha)},ae),this},X.prototype._prepareEase=function(ae,ye,Fe){Fe===void 0&&(Fe={}),this._moving=!0,!ye&&!Fe.moving&&this.fire(new a.Event("movestart",ae)),this._zooming&&!Fe.zooming&&this.fire(new a.Event("zoomstart",ae)),this._rotating&&!Fe.rotating&&this.fire(new a.Event("rotatestart",ae)),this._pitching&&!Fe.pitching&&this.fire(new a.Event("pitchstart",ae))},X.prototype._fireMoveEvents=function(ae){this.fire(new a.Event("move",ae)),this._zooming&&this.fire(new a.Event("zoom",ae)),this._rotating&&this.fire(new a.Event("rotate",ae)),this._pitching&&this.fire(new a.Event("pitch",ae))},X.prototype._afterEase=function(ae,ye){if(!(this._easeId&&ye&&this._easeId===ye)){delete this._easeId;var Fe=this._zooming,Ze=this._rotating,lt=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,Fe&&this.fire(new a.Event("zoomend",ae)),Ze&&this.fire(new a.Event("rotateend",ae)),lt&&this.fire(new a.Event("pitchend",ae)),this.fire(new a.Event("moveend",ae))}},X.prototype.flyTo=function(ae,ye){var Fe=this;if(!ae.essential&&a.browser.prefersReducedMotion){var Ze=a.pick(ae,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Ze,ye)}this.stop(),ae=a.extend({offset:[0,0],speed:1.2,curve:1.42,easing:a.ease},ae);var lt=this.transform,wt=this.getZoom(),Ut=this.getBearing(),Jt=this.getPitch(),fr=this.getPadding(),xr="zoom"in ae?a.clamp(+ae.zoom,lt.minZoom,lt.maxZoom):wt,zr="bearing"in ae?this._normalizeBearing(ae.bearing,Ut):Ut,Wr="pitch"in ae?+ae.pitch:Jt,Yr="padding"in ae?ae.padding:lt.padding,Hr=lt.zoomScale(xr-wt),Jr=a.Point.convert(ae.offset),fn=lt.centerPoint.add(Jr),Dn=lt.pointLocation(fn),Fn=a.LngLat.convert(ae.center||Dn);this._normalizeCenter(Fn);var Kn=lt.project(Dn),Jn=lt.project(Fn).sub(Kn),$n=ae.curve,ia=Math.max(lt.width,lt.height),ha=ia/Hr,ca=Jn.mag();if("minZoom"in ae){var ya=a.clamp(Math.min(ae.minZoom,wt,xr),lt.minZoom,lt.maxZoom),Aa=ia/lt.zoomScale(ya-wt);$n=Math.sqrt(Aa/ca*2)}var ka=$n*$n;function Va(Wa){var ti=(ha*ha-ia*ia+(Wa?-1:1)*ka*ka*ca*ca)/(2*(Wa?ha:ia)*ka*ca);return Math.log(Math.sqrt(ti*ti+1)-ti)}function fi(Wa){return(Math.exp(Wa)-Math.exp(-Wa))/2}function Ga(Wa){return(Math.exp(Wa)+Math.exp(-Wa))/2}function Ja(Wa){return fi(Wa)/Ga(Wa)}var Ra=Va(0),ci=function(Wa){return Ga(Ra)/Ga(Ra+$n*Wa)},di=function(Wa){return ia*((Ga(Ra)*Ja(Ra+$n*Wa)-fi(Ra))/ka)/ca},gi=(Va(1)-Ra)/$n;if(Math.abs(ca)<1e-6||!isFinite(gi)){if(Math.abs(ia-ha)<1e-6)return this.easeTo(ae,ye);var Qa=ha<ia?-1:1;gi=Math.abs(Math.log(ha/ia))/$n,di=function(){return 0},ci=function(Wa){return Math.exp(Qa*$n*Wa)}}if("duration"in ae)ae.duration=+ae.duration;else{var Ei="screenSpeed"in ae?+ae.screenSpeed/$n:+ae.speed;ae.duration=1e3*gi/Ei}return ae.maxDuration&&ae.duration>ae.maxDuration&&(ae.duration=0),this._zooming=!0,this._rotating=Ut!==zr,this._pitching=Wr!==Jt,this._padding=!lt.isPaddingEqual(Yr),this._prepareEase(ye,!1),this._ease(function(Wa){var ti=Wa*gi,Ki=1/ci(ti);lt.zoom=Wa===1?xr:wt+lt.scaleZoom(Ki),Fe._rotating&&(lt.bearing=a.number(Ut,zr,Wa)),Fe._pitching&&(lt.pitch=a.number(Jt,Wr,Wa)),Fe._padding&&(lt.interpolatePadding(fr,Yr,Wa),fn=lt.centerPoint.add(Jr));var po=Wa===1?Fn:lt.unproject(Kn.add(Jn.mult(di(ti))).mult(Ki));lt.setLocationAtPoint(lt.renderWorldCopies?po.wrap():po,fn),Fe._fireMoveEvents(ye)},function(){return Fe._afterEase(ye)},ae),this},X.prototype.isEasing=function(){return!!this._easeFrameId},X.prototype.stop=function(){return this._stop()},X.prototype._stop=function(ae,ye){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var Fe=this._onEaseEnd;delete this._onEaseEnd,Fe.call(this,ye)}if(!ae){var Ze=this.handlers;Ze&&Ze.stop()}return this},X.prototype._ease=function(ae,ye,Fe){Fe.animate===!1||Fe.duration===0?(ae(1),ye()):(this._easeStart=a.browser.now(),this._easeOptions=Fe,this._onEaseFrame=ae,this._onEaseEnd=ye,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},X.prototype._renderFrameCallback=function(){var ae=Math.min((a.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(ae)),ae<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},X.prototype._normalizeBearing=function(ae,ye){ae=a.wrap(ae,-180,180);var Fe=Math.abs(ae-ye);return Math.abs(ae-360-ye)<Fe&&(ae-=360),Math.abs(ae+360-ye)<Fe&&(ae+=360),ae},X.prototype._normalizeCenter=function(ae){var ye=this.transform;if(!(!ye.renderWorldCopies||ye.lngRange)){var Fe=ae.lng-ye.center.lng;ae.lng+=Fe>180?-360:Fe<-180?360:0}},X}(a.Evented),ss=function(X){X===void 0&&(X={}),this.options=X,a.bindAll(["_updateEditLink","_updateData","_updateCompact"],this)};ss.prototype.getDefaultPosition=function(){return"bottom-right"},ss.prototype.onAdd=function(X){var pe=this.options&&this.options.compact;return this._map=X,this._container=T.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._innerContainer=T.create("div","mapboxgl-ctrl-attrib-inner",this._container),pe&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),pe===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},ss.prototype.onRemove=function(){T.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},ss.prototype._updateEditLink=function(){var X=this._editLink;X||(X=this._editLink=this._container.querySelector(".mapbox-improve-map"));var pe=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||a.config.ACCESS_TOKEN}];if(X){var ae=pe.reduce(function(ye,Fe,Ze){return Fe.value&&(ye+=Fe.key+"="+Fe.value+(Ze<pe.length-1?"&":"")),ye},"?");X.href=a.config.FEEDBACK_URL+"/"+ae+(this._map._hash?this._map._hash.getHashString(!0):""),X.rel="noopener nofollow"}},ss.prototype._updateData=function(X){X&&(X.sourceDataType==="metadata"||X.dataType==="style")&&(this._updateAttributions(),this._updateEditLink())},ss.prototype._updateAttributions=function(){if(this._map.style){var X=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?X=X.concat(this.options.customAttribution.map(function(wt){return typeof wt!="string"?"":wt})):typeof this.options.customAttribution=="string"&&X.push(this.options.customAttribution)),this._map.style.stylesheet){var pe=this._map.style.stylesheet;this.styleOwner=pe.owner,this.styleId=pe.id}var ae=this._map.style.sourceCaches;for(var ye in ae){var Fe=ae[ye];if(Fe.used){var Ze=Fe.getSource();Ze.attribution&&X.indexOf(Ze.attribution)<0&&X.push(Ze.attribution)}}X.sort(function(wt,Ut){return wt.length-Ut.length}),X=X.filter(function(wt,Ut){for(var Jt=Ut+1;Jt<X.length;Jt++)if(X[Jt].indexOf(wt)>=0)return!1;return!0});var lt=X.join(" | ");lt!==this._attribHTML&&(this._attribHTML=lt,X.length?(this._innerContainer.innerHTML=lt,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},ss.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact")};var $a=function(){a.bindAll(["_updateLogo"],this),a.bindAll(["_updateCompact"],this)};$a.prototype.onAdd=function(X){this._map=X,this._container=T.create("div","mapboxgl-ctrl");var pe=T.create("a","mapboxgl-ctrl-logo");return pe.target="_blank",pe.rel="noopener nofollow",pe.href="https://www.mapbox.com/",pe.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),pe.setAttribute("rel","noopener nofollow"),this._container.appendChild(pe),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},$a.prototype.onRemove=function(){T.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},$a.prototype.getDefaultPosition=function(){return"bottom-left"},$a.prototype._updateLogo=function(X){(!X||X.sourceDataType==="metadata")&&(this._container.style.display=this._logoRequired()?"block":"none")},$a.prototype._logoRequired=function(){if(this._map.style){var X=this._map.style.sourceCaches;for(var pe in X){var ae=X[pe].getSource();if(ae.mapbox_logo)return!0}return!1}},$a.prototype._updateCompact=function(){var X=this._container.children;if(X.length){var pe=X[0];this._map.getCanvasContainer().offsetWidth<250?pe.classList.add("mapboxgl-compact"):pe.classList.remove("mapboxgl-compact")}};var Mi=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};Mi.prototype.add=function(X){var pe=++this._id,ae=this._queue;return ae.push({callback:X,id:pe,cancelled:!1}),pe},Mi.prototype.remove=function(X){for(var pe=this._currentlyRunning,ae=pe?this._queue.concat(pe):this._queue,ye=0,Fe=ae;ye<Fe.length;ye+=1){var Ze=Fe[ye];if(Ze.id===X){Ze.cancelled=!0;return}}},Mi.prototype.run=function(X){X===void 0&&(X=0);var pe=this._currentlyRunning=this._queue;this._queue=[];for(var ae=0,ye=pe;ae<ye.length;ae+=1){var Fe=ye[ae];if(!Fe.cancelled&&(Fe.callback(X),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},Mi.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var dh={"FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},Dc=a.window.HTMLImageElement,bv=a.window.HTMLElement,Uf=a.window.ImageBitmap,ph=-2,td=22,ws=0,Hf=60,Cp={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:ph,maxZoom:td,minPitch:ws,maxPitch:Hf,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},Lp=function(ve){function X(ae){var ye=this;if(ae=a.extend({},Cp,ae),ae.minZoom!=null&&ae.maxZoom!=null&&ae.minZoom>ae.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(ae.minPitch!=null&&ae.maxPitch!=null&&ae.minPitch>ae.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(ae.minPitch!=null&&ae.minPitch<ws)throw new Error("minPitch must be greater than or equal to "+ws);if(ae.maxPitch!=null&&ae.maxPitch>Hf)throw new Error("maxPitch must be less than or equal to "+Hf);var Fe=new An(ae.minZoom,ae.maxZoom,ae.minPitch,ae.maxPitch,ae.renderWorldCopies);if(ve.call(this,Fe,ae),this._interactive=ae.interactive,this._maxTileCacheSize=ae.maxTileCacheSize,this._failIfMajorPerformanceCaveat=ae.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=ae.preserveDrawingBuffer,this._antialias=ae.antialias,this._trackResize=ae.trackResize,this._bearingSnap=ae.bearingSnap,this._refreshExpiredTiles=ae.refreshExpiredTiles,this._fadeDuration=ae.fadeDuration,this._crossSourceCollisions=ae.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=ae.collectResourceTiming,this._renderTaskQueue=new Mi,this._controls=[],this._mapId=a.uniqueId(),this._locale=a.extend({},dh,ae.locale),this._requestManager=new a.RequestManager(ae.transformRequest,ae.accessToken),typeof ae.container=="string"){if(this._container=a.window.document.getElementById(ae.container),!this._container)throw new Error("Container '"+ae.container+"' not found.")}else if(ae.container instanceof bv)this._container=ae.container;else throw new Error("Invalid type: 'container' must be a String or HTMLElement.");if(ae.maxBounds&&this.setMaxBounds(ae.maxBounds),a.bindAll(["_onWindowOnline","_onWindowResize","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return ye._update(!1)}),this.on("moveend",function(){return ye._update(!1)}),this.on("zoom",function(){return ye._update(!0)}),typeof a.window<"u"&&(a.window.addEventListener("online",this._onWindowOnline,!1),a.window.addEventListener("resize",this._onWindowResize,!1)),this.handlers=new bi(this,ae);var Ze=typeof ae.hash=="string"&&ae.hash||void 0;this._hash=ae.hash&&new Pa(Ze).addTo(this),(!this._hash||!this._hash._onHashChange())&&(this.jumpTo({center:ae.center,zoom:ae.zoom,bearing:ae.bearing,pitch:ae.pitch}),ae.bounds&&(this.resize(),this.fitBounds(ae.bounds,a.extend({},ae.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=ae.localIdeographFontFamily,ae.style&&this.setStyle(ae.style,{localIdeographFontFamily:ae.localIdeographFontFamily}),ae.attributionControl&&this.addControl(new ss({customAttribution:ae.customAttribution})),this.addControl(new $a,ae.logoPosition),this.on("style.load",function(){ye.transform.unmodified&&ye.jumpTo(ye.style.stylesheet)}),this.on("data",function(lt){ye._update(lt.dataType==="style"),ye.fire(new a.Event(lt.dataType+"data",lt))}),this.on("dataloading",function(lt){ye.fire(new a.Event(lt.dataType+"dataloading",lt))})}ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X;var pe={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return X.prototype._getMapId=function(){return this._mapId},X.prototype.addControl=function(ye,Fe){if(Fe===void 0&&ye.getDefaultPosition&&(Fe=ye.getDefaultPosition()),Fe===void 0&&(Fe="top-right"),!ye||!ye.onAdd)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var Ze=ye.onAdd(this);this._controls.push(ye);var lt=this._controlPositions[Fe];return Fe.indexOf("bottom")!==-1?lt.insertBefore(Ze,lt.firstChild):lt.appendChild(Ze),this},X.prototype.removeControl=function(ye){if(!ye||!ye.onRemove)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var Fe=this._controls.indexOf(ye);return Fe>-1&&this._controls.splice(Fe,1),ye.onRemove(this),this},X.prototype.resize=function(ye){var Fe=this._containerDimensions(),Ze=Fe[0],lt=Fe[1];this._resizeCanvas(Ze,lt),this.transform.resize(Ze,lt),this.painter.resize(Ze,lt);var wt=!this._moving;return wt&&(this.stop(),this.fire(new a.Event("movestart",ye)).fire(new a.Event("move",ye))),this.fire(new a.Event("resize",ye)),wt&&this.fire(new a.Event("moveend",ye)),this},X.prototype.getBounds=function(){return this.transform.getBounds()},X.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},X.prototype.setMaxBounds=function(ye){return this.transform.setMaxBounds(a.LngLatBounds.convert(ye)),this._update()},X.prototype.setMinZoom=function(ye){if(ye=ye??ph,ye>=ph&&ye<=this.transform.maxZoom)return this.transform.minZoom=ye,this._update(),this.getZoom()<ye&&this.setZoom(ye),this;throw new Error("minZoom must be between "+ph+" and the current maxZoom, inclusive")},X.prototype.getMinZoom=function(){return this.transform.minZoom},X.prototype.setMaxZoom=function(ye){if(ye=ye??td,ye>=this.transform.minZoom)return this.transform.maxZoom=ye,this._update(),this.getZoom()>ye&&this.setZoom(ye),this;throw new Error("maxZoom must be greater than the current minZoom")},X.prototype.getMaxZoom=function(){return this.transform.maxZoom},X.prototype.setMinPitch=function(ye){if(ye=ye??ws,ye<ws)throw new Error("minPitch must be greater than or equal to "+ws);if(ye>=ws&&ye<=this.transform.maxPitch)return this.transform.minPitch=ye,this._update(),this.getPitch()<ye&&this.setPitch(ye),this;throw new Error("minPitch must be between "+ws+" and the current maxPitch, inclusive")},X.prototype.getMinPitch=function(){return this.transform.minPitch},X.prototype.setMaxPitch=function(ye){if(ye=ye??Hf,ye>Hf)throw new Error("maxPitch must be less than or equal to "+Hf);if(ye>=this.transform.minPitch)return this.transform.maxPitch=ye,this._update(),this.getPitch()>ye&&this.setPitch(ye),this;throw new Error("maxPitch must be greater than the current minPitch")},X.prototype.getMaxPitch=function(){return this.transform.maxPitch},X.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},X.prototype.setRenderWorldCopies=function(ye){return this.transform.renderWorldCopies=ye,this._update()},X.prototype.project=function(ye){return this.transform.locationPoint(a.LngLat.convert(ye))},X.prototype.unproject=function(ye){return this.transform.pointLocation(a.Point.convert(ye))},X.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},X.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},X.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},X.prototype._createDelegatedListener=function(ye,Fe,Ze){var lt=this,wt;if(ye==="mouseenter"||ye==="mouseover"){var Ut=!1,Jt=function(Hr){var Jr=lt.getLayer(Fe)?lt.queryRenderedFeatures(Hr.point,{layers:[Fe]}):[];Jr.length?Ut||(Ut=!0,Ze.call(lt,new We(ye,lt,Hr.originalEvent,{features:Jr}))):Ut=!1},fr=function(){Ut=!1};return{layer:Fe,listener:Ze,delegates:{mousemove:Jt,mouseout:fr}}}else if(ye==="mouseleave"||ye==="mouseout"){var xr=!1,zr=function(Hr){var Jr=lt.getLayer(Fe)?lt.queryRenderedFeatures(Hr.point,{layers:[Fe]}):[];Jr.length?xr=!0:xr&&(xr=!1,Ze.call(lt,new We(ye,lt,Hr.originalEvent)))},Wr=function(Hr){xr&&(xr=!1,Ze.call(lt,new We(ye,lt,Hr.originalEvent)))};return{layer:Fe,listener:Ze,delegates:{mousemove:zr,mouseout:Wr}}}else{var Yr=function(Hr){var Jr=lt.getLayer(Fe)?lt.queryRenderedFeatures(Hr.point,{layers:[Fe]}):[];Jr.length&&(Hr.features=Jr,Ze.call(lt,Hr),delete Hr.features)};return{layer:Fe,listener:Ze,delegates:(wt={},wt[ye]=Yr,wt)}}},X.prototype.on=function(ye,Fe,Ze){if(Ze===void 0)return ve.prototype.on.call(this,ye,Fe);var lt=this._createDelegatedListener(ye,Fe,Ze);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[ye]=this._delegatedListeners[ye]||[],this._delegatedListeners[ye].push(lt);for(var wt in lt.delegates)this.on(wt,lt.delegates[wt]);return this},X.prototype.once=function(ye,Fe,Ze){if(Ze===void 0)return ve.prototype.once.call(this,ye,Fe);var lt=this._createDelegatedListener(ye,Fe,Ze);for(var wt in lt.delegates)this.once(wt,lt.delegates[wt]);return this},X.prototype.off=function(ye,Fe,Ze){var lt=this;if(Ze===void 0)return ve.prototype.off.call(this,ye,Fe);var wt=function(Ut){for(var Jt=Ut[ye],fr=0;fr<Jt.length;fr++){var xr=Jt[fr];if(xr.layer===Fe&&xr.listener===Ze){for(var zr in xr.delegates)lt.off(zr,xr.delegates[zr]);return Jt.splice(fr,1),lt}}};return this._delegatedListeners&&this._delegatedListeners[ye]&&wt(this._delegatedListeners),this},X.prototype.queryRenderedFeatures=function(ye,Fe){if(!this.style)return[];Fe===void 0&&ye!==void 0&&!(ye instanceof a.Point)&&!Array.isArray(ye)&&(Fe=ye,ye=void 0),Fe=Fe||{},ye=ye||[[0,0],[this.transform.width,this.transform.height]];var Ze;if(ye instanceof a.Point||typeof ye[0]=="number")Ze=[a.Point.convert(ye)];else{var lt=a.Point.convert(ye[0]),wt=a.Point.convert(ye[1]);Ze=[lt,new a.Point(wt.x,lt.y),wt,new a.Point(lt.x,wt.y),lt]}return this.style.queryRenderedFeatures(Ze,Fe,this.transform)},X.prototype.querySourceFeatures=function(ye,Fe){return this.style.querySourceFeatures(ye,Fe)},X.prototype.setStyle=function(ye,Fe){return Fe=a.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},Fe),Fe.diff!==!1&&Fe.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&ye?(this._diffStyle(ye,Fe),this):(this._localIdeographFontFamily=Fe.localIdeographFontFamily,this._updateStyle(ye,Fe))},X.prototype._getUIString=function(ye){var Fe=this._locale[ye];if(Fe==null)throw new Error("Missing UI string '"+ye+"'");return Fe},X.prototype._updateStyle=function(ye,Fe){if(this.style&&(this.style.setEventedParent(null),this.style._remove()),ye)this.style=new Do(this,Fe||{});else return delete this.style,this;return this.style.setEventedParent(this,{style:this.style}),typeof ye=="string"?this.style.loadURL(ye):this.style.loadJSON(ye),this},X.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new Do(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},X.prototype._diffStyle=function(ye,Fe){var Ze=this;if(typeof ye=="string"){var lt=this._requestManager.normalizeStyleURL(ye),wt=this._requestManager.transformRequest(lt,a.ResourceType.Style);a.getJSON(wt,function(Ut,Jt){Ut?Ze.fire(new a.ErrorEvent(Ut)):Jt&&Ze._updateDiff(Jt,Fe)})}else typeof ye=="object"&&this._updateDiff(ye,Fe)},X.prototype._updateDiff=function(ye,Fe){try{this.style.setState(ye)&&this._update(!0)}catch(Ze){a.warnOnce("Unable to perform style diff: "+(Ze.message||Ze.error||Ze)+".  Rebuilding the style from scratch."),this._updateStyle(ye,Fe)}},X.prototype.getStyle=function(){if(this.style)return this.style.serialize()},X.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():a.warnOnce("There is no style added to the map.")},X.prototype.addSource=function(ye,Fe){return this._lazyInitEmptyStyle(),this.style.addSource(ye,Fe),this._update(!0)},X.prototype.isSourceLoaded=function(ye){var Fe=this.style&&this.style.sourceCaches[ye];if(Fe===void 0){this.fire(new a.ErrorEvent(new Error("There is no source with ID '"+ye+"'")));return}return Fe.loaded()},X.prototype.areTilesLoaded=function(){var ye=this.style&&this.style.sourceCaches;for(var Fe in ye){var Ze=ye[Fe],lt=Ze._tiles;for(var wt in lt){var Ut=lt[wt];if(!(Ut.state==="loaded"||Ut.state==="errored"))return!1}}return!0},X.prototype.addSourceType=function(ye,Fe,Ze){return this._lazyInitEmptyStyle(),this.style.addSourceType(ye,Fe,Ze)},X.prototype.removeSource=function(ye){return this.style.removeSource(ye),this._update(!0)},X.prototype.getSource=function(ye){return this.style.getSource(ye)},X.prototype.addImage=function(ye,Fe,Ze){Ze===void 0&&(Ze={});var lt=Ze.pixelRatio;lt===void 0&&(lt=1);var wt=Ze.sdf;wt===void 0&&(wt=!1);var Ut=Ze.stretchX,Jt=Ze.stretchY,fr=Ze.content;this._lazyInitEmptyStyle();var xr=0;if(Fe instanceof Dc||Uf&&Fe instanceof Uf){var zr=a.browser.getImageData(Fe),Wr=zr.width,Yr=zr.height,Hr=zr.data;this.style.addImage(ye,{data:new a.RGBAImage({width:Wr,height:Yr},Hr),pixelRatio:lt,stretchX:Ut,stretchY:Jt,content:fr,sdf:wt,version:xr})}else{if(Fe.width===void 0||Fe.height===void 0)return this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var Jr=Fe.width,fn=Fe.height,Dn=Fe.data,Fn=Fe;this.style.addImage(ye,{data:new a.RGBAImage({width:Jr,height:fn},new Uint8Array(Dn)),pixelRatio:lt,stretchX:Ut,stretchY:Jt,content:fr,sdf:wt,version:xr,userImage:Fn}),Fn.onAdd&&Fn.onAdd(this,ye)}},X.prototype.updateImage=function(ye,Fe){var Ze=this.style.getImage(ye);if(!Ze)return this.fire(new a.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var lt=Fe instanceof Dc||Uf&&Fe instanceof Uf?a.browser.getImageData(Fe):Fe,wt=lt.width,Ut=lt.height,Jt=lt.data;if(wt===void 0||Ut===void 0)return this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(wt!==Ze.data.width||Ut!==Ze.data.height)return this.fire(new a.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));var fr=!(Fe instanceof Dc||Uf&&Fe instanceof Uf);Ze.data.replace(Jt,fr),this.style.updateImage(ye,Ze)},X.prototype.hasImage=function(ye){return ye?!!this.style.getImage(ye):(this.fire(new a.ErrorEvent(new Error("Missing required image id"))),!1)},X.prototype.removeImage=function(ye){this.style.removeImage(ye)},X.prototype.loadImage=function(ye,Fe){a.getImage(this._requestManager.transformRequest(ye,a.ResourceType.Image),Fe)},X.prototype.listImages=function(){return this.style.listImages()},X.prototype.addLayer=function(ye,Fe){return this._lazyInitEmptyStyle(),this.style.addLayer(ye,Fe),this._update(!0)},X.prototype.moveLayer=function(ye,Fe){return this.style.moveLayer(ye,Fe),this._update(!0)},X.prototype.removeLayer=function(ye){return this.style.removeLayer(ye),this._update(!0)},X.prototype.getLayer=function(ye){return this.style.getLayer(ye)},X.prototype.setLayerZoomRange=function(ye,Fe,Ze){return this.style.setLayerZoomRange(ye,Fe,Ze),this._update(!0)},X.prototype.setFilter=function(ye,Fe,Ze){return Ze===void 0&&(Ze={}),this.style.setFilter(ye,Fe,Ze),this._update(!0)},X.prototype.getFilter=function(ye){return this.style.getFilter(ye)},X.prototype.setPaintProperty=function(ye,Fe,Ze,lt){return lt===void 0&&(lt={}),this.style.setPaintProperty(ye,Fe,Ze,lt),this._update(!0)},X.prototype.getPaintProperty=function(ye,Fe){return this.style.getPaintProperty(ye,Fe)},X.prototype.setLayoutProperty=function(ye,Fe,Ze,lt){return lt===void 0&&(lt={}),this.style.setLayoutProperty(ye,Fe,Ze,lt),this._update(!0)},X.prototype.getLayoutProperty=function(ye,Fe){return this.style.getLayoutProperty(ye,Fe)},X.prototype.setLight=function(ye,Fe){return Fe===void 0&&(Fe={}),this._lazyInitEmptyStyle(),this.style.setLight(ye,Fe),this._update(!0)},X.prototype.getLight=function(){return this.style.getLight()},X.prototype.setFeatureState=function(ye,Fe){return this.style.setFeatureState(ye,Fe),this._update()},X.prototype.removeFeatureState=function(ye,Fe){return this.style.removeFeatureState(ye,Fe),this._update()},X.prototype.getFeatureState=function(ye){return this.style.getFeatureState(ye)},X.prototype.getContainer=function(){return this._container},X.prototype.getCanvasContainer=function(){return this._canvasContainer},X.prototype.getCanvas=function(){return this._canvas},X.prototype._containerDimensions=function(){var ye=0,Fe=0;return this._container&&(ye=this._container.clientWidth||400,Fe=this._container.clientHeight||300),[ye,Fe]},X.prototype._detectMissingCSS=function(){var ye=a.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color");ye!=="rgb(250, 128, 114)"&&a.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},X.prototype._setupContainer=function(){var ye=this._container;ye.classList.add("mapboxgl-map");var Fe=this._missingCSSCanary=T.create("div","mapboxgl-canary",ye);Fe.style.visibility="hidden",this._detectMissingCSS();var Ze=this._canvasContainer=T.create("div","mapboxgl-canvas-container",ye);this._interactive&&Ze.classList.add("mapboxgl-interactive"),this._canvas=T.create("canvas","mapboxgl-canvas",Ze),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map");var lt=this._containerDimensions();this._resizeCanvas(lt[0],lt[1]);var wt=this._controlContainer=T.create("div","mapboxgl-control-container",ye),Ut=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(Jt){Ut[Jt]=T.create("div","mapboxgl-ctrl-"+Jt,wt)})},X.prototype._resizeCanvas=function(ye,Fe){var Ze=a.browser.devicePixelRatio||1;this._canvas.width=Ze*ye,this._canvas.height=Ze*Fe,this._canvas.style.width=ye+"px",this._canvas.style.height=Fe+"px"},X.prototype._setupPainter=function(){var ye=a.extend({},C.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),Fe=this._canvas.getContext("webgl",ye)||this._canvas.getContext("experimental-webgl",ye);if(!Fe){this.fire(new a.ErrorEvent(new Error("Failed to initialize WebGL")));return}this.painter=new Rr(Fe,this.transform),a.webpSupported.testSupport(Fe)},X.prototype._contextLost=function(ye){ye.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new a.Event("webglcontextlost",{originalEvent:ye}))},X.prototype._contextRestored=function(ye){this._setupPainter(),this.resize(),this._update(),this.fire(new a.Event("webglcontextrestored",{originalEvent:ye}))},X.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},X.prototype._update=function(ye){return this.style?(this._styleDirty=this._styleDirty||ye,this._sourcesDirty=!0,this.triggerRepaint(),this):this},X.prototype._requestRenderFrame=function(ye){return this._update(),this._renderTaskQueue.add(ye)},X.prototype._cancelRenderFrame=function(ye){this._renderTaskQueue.remove(ye)},X.prototype._render=function(ye){var Fe=this,Ze,lt=0,wt=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(Ze=wt.createQueryEXT(),wt.beginQueryEXT(wt.TIME_ELAPSED_EXT,Ze),lt=a.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(ye),!this._removed){var Ut=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var Jt=this.transform.zoom,fr=a.browser.now();this.style.zoomHistory.update(Jt,fr);var xr=new a.EvaluationParameters(Jt,{now:fr,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),zr=xr.crossFadingFactor();(zr!==1||zr!==this._crossFadingFactor)&&(Ut=!0,this._crossFadingFactor=zr),this.style.update(xr)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new a.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new a.Event("load"))),this.style&&(this.style.hasTransitions()||Ut)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var Wr=a.browser.now()-lt;wt.endQueryEXT(wt.TIME_ELAPSED_EXT,Ze),setTimeout(function(){var Jr=wt.getQueryObjectEXT(Ze,wt.QUERY_RESULT_EXT)/1e6;wt.deleteQueryEXT(Ze),Fe.fire(new a.Event("gpu-timing-frame",{cpuTime:Wr,gpuTime:Jr}))},50)}if(this.listens("gpu-timing-layer")){var Yr=this.painter.collectGpuTimers();setTimeout(function(){var Jr=Fe.painter.queryGpuTimers(Yr);Fe.fire(new a.Event("gpu-timing-layer",{layerTimes:Jr}))},50)}var Hr=this._sourcesDirty||this._styleDirty||this._placementDirty;return Hr||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&(this._fullyLoaded||(this._fullyLoaded=!0),this.fire(new a.Event("idle"))),this}},X.prototype.remove=function(){this._hash&&this._hash.remove();for(var ye=0,Fe=this._controls;ye<Fe.length;ye+=1){var Ze=Fe[ye];Ze.onRemove(this)}this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof a.window<"u"&&(a.window.removeEventListener("resize",this._onWindowResize,!1),a.window.removeEventListener("online",this._onWindowOnline,!1));var lt=this.painter.context.gl.getExtension("WEBGL_lose_context");lt&&lt.loseContext(),wv(this._canvasContainer),wv(this._controlContainer),wv(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new a.Event("remove"))},X.prototype.triggerRepaint=function(){var ye=this;this.style&&!this._frame&&(this._frame=a.browser.frame(function(Fe){ye._frame=null,ye._render(Fe)}))},X.prototype._onWindowOnline=function(){this._update()},X.prototype._onWindowResize=function(ye){this._trackResize&&this.resize({originalEvent:ye})._update()},pe.showTileBoundaries.get=function(){return!!this._showTileBoundaries},pe.showTileBoundaries.set=function(ae){this._showTileBoundaries!==ae&&(this._showTileBoundaries=ae,this._update())},pe.showPadding.get=function(){return!!this._showPadding},pe.showPadding.set=function(ae){this._showPadding!==ae&&(this._showPadding=ae,this._update())},pe.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},pe.showCollisionBoxes.set=function(ae){this._showCollisionBoxes!==ae&&(this._showCollisionBoxes=ae,ae?this.style._generateCollisionBoxes():this._update())},pe.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},pe.showOverdrawInspector.set=function(ae){this._showOverdrawInspector!==ae&&(this._showOverdrawInspector=ae,this._update())},pe.repaint.get=function(){return!!this._repaint},pe.repaint.set=function(ae){this._repaint!==ae&&(this._repaint=ae,this.triggerRepaint())},pe.vertices.get=function(){return!!this._vertices},pe.vertices.set=function(ae){this._vertices=ae,this._update()},X.prototype._setCacheLimits=function(ye,Fe){a.setCacheLimits(ye,Fe)},pe.version.get=function(){return a.version},Object.defineProperties(X.prototype,pe),X}(Fs);function wv(ve){ve.parentNode&&ve.parentNode.removeChild(ve)}var rd={showCompass:!0,showZoom:!0,visualizePitch:!1},uf=function(X){var pe=this;this.options=a.extend({},rd,X),this._container=T.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(ae){return ae.preventDefault()}),this.options.showZoom&&(a.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",function(ae){return pe._map.zoomIn({},{originalEvent:ae})}),T.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",function(ae){return pe._map.zoomOut({},{originalEvent:ae})}),T.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(a.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",function(ae){pe.options.visualizePitch?pe._map.resetNorthPitch({},{originalEvent:ae}):pe._map.resetNorth({},{originalEvent:ae})}),this._compassIcon=T.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};uf.prototype._updateZoomButtons=function(){var X=this._map.getZoom();this._zoomInButton.disabled=X===this._map.getMaxZoom(),this._zoomOutButton.disabled=X===this._map.getMinZoom()},uf.prototype._rotateCompassArrow=function(){var X=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=X},uf.prototype.onAdd=function(X){return this._map=X,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Bs(this._map,this._compass,this.options.visualizePitch)),this._container},uf.prototype.onRemove=function(){T.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},uf.prototype._createButton=function(X,pe){var ae=T.create("button",X,this._container);return ae.type="button",ae.addEventListener("click",pe),ae},uf.prototype._setButtonTitle=function(X,pe){var ae=this._map._getUIString("NavigationControl."+pe);X.title=ae,X.setAttribute("aria-label",ae)};var Bs=function(X,pe,ae){ae===void 0&&(ae=!1),this._clickTolerance=10,this.element=pe,this.mouseRotate=new Xr({clickTolerance:X.dragRotate._mouseRotate._clickTolerance}),this.map=X,ae&&(this.mousePitch=new Hn({clickTolerance:X.dragRotate._mousePitch._clickTolerance})),a.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),T.addEventListener(pe,"mousedown",this.mousedown),T.addEventListener(pe,"touchstart",this.touchstart,{passive:!1}),T.addEventListener(pe,"touchmove",this.touchmove),T.addEventListener(pe,"touchend",this.touchend),T.addEventListener(pe,"touchcancel",this.reset)};Bs.prototype.down=function(X,pe){this.mouseRotate.mousedown(X,pe),this.mousePitch&&this.mousePitch.mousedown(X,pe),T.disableDrag()},Bs.prototype.move=function(X,pe){var ae=this.map,ye=this.mouseRotate.mousemoveWindow(X,pe);if(ye&&ye.bearingDelta&&ae.setBearing(ae.getBearing()+ye.bearingDelta),this.mousePitch){var Fe=this.mousePitch.mousemoveWindow(X,pe);Fe&&Fe.pitchDelta&&ae.setPitch(ae.getPitch()+Fe.pitchDelta)}},Bs.prototype.off=function(){var X=this.element;T.removeEventListener(X,"mousedown",this.mousedown),T.removeEventListener(X,"touchstart",this.touchstart,{passive:!1}),T.removeEventListener(X,"touchmove",this.touchmove),T.removeEventListener(X,"touchend",this.touchend),T.removeEventListener(X,"touchcancel",this.reset),this.offTemp()},Bs.prototype.offTemp=function(){T.enableDrag(),T.removeEventListener(a.window,"mousemove",this.mousemove),T.removeEventListener(a.window,"mouseup",this.mouseup)},Bs.prototype.mousedown=function(X){this.down(a.extend({},X,{ctrlKey:!0,preventDefault:function(){return X.preventDefault()}}),T.mousePos(this.element,X)),T.addEventListener(a.window,"mousemove",this.mousemove),T.addEventListener(a.window,"mouseup",this.mouseup)},Bs.prototype.mousemove=function(X){this.move(X,T.mousePos(this.element,X))},Bs.prototype.mouseup=function(X){this.mouseRotate.mouseupWindow(X),this.mousePitch&&this.mousePitch.mouseupWindow(X),this.offTemp()},Bs.prototype.touchstart=function(X){X.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=T.touchPos(this.element,X.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return X.preventDefault()}},this._startPos))},Bs.prototype.touchmove=function(X){X.targetTouches.length!==1?this.reset():(this._lastPos=T.touchPos(this.element,X.targetTouches)[0],this.move({preventDefault:function(){return X.preventDefault()}},this._lastPos))},Bs.prototype.touchend=function(X){X.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},Bs.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};function ff(ve,X,pe){if(ve=new a.LngLat(ve.lng,ve.lat),X){var ae=new a.LngLat(ve.lng-360,ve.lat),ye=new a.LngLat(ve.lng+360,ve.lat),Fe=pe.locationPoint(ve).distSqr(X);pe.locationPoint(ae).distSqr(X)<Fe?ve=ae:pe.locationPoint(ye).distSqr(X)<Fe&&(ve=ye)}for(;Math.abs(ve.lng-pe.center.lng)>180;){var Ze=pe.locationPoint(ve);if(Ze.x>=0&&Ze.y>=0&&Ze.x<=pe.width&&Ze.y<=pe.height)break;ve.lng>pe.center.lng?ve.lng-=360:ve.lng+=360}return ve}var Tv={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function nd(ve,X,pe){var ae=ve.classList;for(var ye in Tv)ae.remove("mapboxgl-"+pe+"-anchor-"+ye);ae.add("mapboxgl-"+pe+"-anchor-"+X)}var gh=function(ve){function X(pe,ae){var ye=this;if(ve.call(this),(pe instanceof a.window.HTMLElement||ae)&&(pe=a.extend({element:pe},ae)),a.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=pe&&pe.anchor||"center",this._color=pe&&pe.color||"#3FB1CE",this._draggable=pe&&pe.draggable||!1,this._state="inactive",this._rotation=pe&&pe.rotation||0,this._rotationAlignment=pe&&pe.rotationAlignment||"auto",this._pitchAlignment=pe&&pe.pitchAlignment&&pe.pitchAlignment!=="auto"?pe.pitchAlignment:this._rotationAlignment,!pe||!pe.element){this._defaultMarker=!0,this._element=T.create("div"),this._element.setAttribute("aria-label","Map marker");var Fe=T.createNS("http://www.w3.org/2000/svg","svg");Fe.setAttributeNS(null,"display","block"),Fe.setAttributeNS(null,"height","41px"),Fe.setAttributeNS(null,"width","27px"),Fe.setAttributeNS(null,"viewBox","0 0 27 41");var Ze=T.createNS("http://www.w3.org/2000/svg","g");Ze.setAttributeNS(null,"stroke","none"),Ze.setAttributeNS(null,"stroke-width","1"),Ze.setAttributeNS(null,"fill","none"),Ze.setAttributeNS(null,"fill-rule","evenodd");var lt=T.createNS("http://www.w3.org/2000/svg","g");lt.setAttributeNS(null,"fill-rule","nonzero");var wt=T.createNS("http://www.w3.org/2000/svg","g");wt.setAttributeNS(null,"transform","translate(3.0, 29.0)"),wt.setAttributeNS(null,"fill","#000000");for(var Ut=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}],Jt=0,fr=Ut;Jt<fr.length;Jt+=1){var xr=fr[Jt],zr=T.createNS("http://www.w3.org/2000/svg","ellipse");zr.setAttributeNS(null,"opacity","0.04"),zr.setAttributeNS(null,"cx","10.5"),zr.setAttributeNS(null,"cy","5.80029008"),zr.setAttributeNS(null,"rx",xr.rx),zr.setAttributeNS(null,"ry",xr.ry),wt.appendChild(zr)}var Wr=T.createNS("http://www.w3.org/2000/svg","g");Wr.setAttributeNS(null,"fill",this._color);var Yr=T.createNS("http://www.w3.org/2000/svg","path");Yr.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),Wr.appendChild(Yr);var Hr=T.createNS("http://www.w3.org/2000/svg","g");Hr.setAttributeNS(null,"opacity","0.25"),Hr.setAttributeNS(null,"fill","#000000");var Jr=T.createNS("http://www.w3.org/2000/svg","path");Jr.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),Hr.appendChild(Jr);var fn=T.createNS("http://www.w3.org/2000/svg","g");fn.setAttributeNS(null,"transform","translate(6.0, 7.0)"),fn.setAttributeNS(null,"fill","#FFFFFF");var Dn=T.createNS("http://www.w3.org/2000/svg","g");Dn.setAttributeNS(null,"transform","translate(8.0, 8.0)");var Fn=T.createNS("http://www.w3.org/2000/svg","circle");Fn.setAttributeNS(null,"fill","#000000"),Fn.setAttributeNS(null,"opacity","0.25"),Fn.setAttributeNS(null,"cx","5.5"),Fn.setAttributeNS(null,"cy","5.5"),Fn.setAttributeNS(null,"r","5.4999962");var Kn=T.createNS("http://www.w3.org/2000/svg","circle");Kn.setAttributeNS(null,"fill","#FFFFFF"),Kn.setAttributeNS(null,"cx","5.5"),Kn.setAttributeNS(null,"cy","5.5"),Kn.setAttributeNS(null,"r","5.4999962"),Dn.appendChild(Fn),Dn.appendChild(Kn),lt.appendChild(wt),lt.appendChild(Wr),lt.appendChild(Hr),lt.appendChild(fn),lt.appendChild(Dn),Fe.appendChild(lt),this._element.appendChild(Fe),this._offset=a.Point.convert(pe&&pe.offset||[0,-14])}else this._element=pe.element,this._offset=a.Point.convert(pe&&pe.offset||[0,0]);this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",function(Jn){Jn.preventDefault()}),this._element.addEventListener("mousedown",function(Jn){Jn.preventDefault()}),this._element.addEventListener("focus",function(){var Jn=ye._map.getContainer();Jn.scrollTop=0,Jn.scrollLeft=0}),nd(this._element,this._anchor,"marker"),this._popup=null}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.addTo=function(ae){return this.remove(),this._map=ae,ae.getCanvasContainer().appendChild(this._element),ae.on("move",this._update),ae.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},X.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),T.remove(this._element),this._popup&&this._popup.remove(),this},X.prototype.getLngLat=function(){return this._lngLat},X.prototype.setLngLat=function(ae){return this._lngLat=a.LngLat.convert(ae),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},X.prototype.getElement=function(){return this._element},X.prototype.setPopup=function(ae){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),ae){if(!("offset"in ae.options)){var ye=38.1,Fe=13.5,Ze=Math.sqrt(Math.pow(Fe,2)/2);ae.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-ye],"bottom-left":[Ze,(ye-Fe+Ze)*-1],"bottom-right":[-Ze,(ye-Fe+Ze)*-1],left:[Fe,(ye-Fe)*-1],right:[-Fe,(ye-Fe)*-1]}:this._offset}this._popup=ae,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},X.prototype._onKeyPress=function(ae){var ye=ae.code,Fe=ae.charCode||ae.keyCode;(ye==="Space"||ye==="Enter"||Fe===32||Fe===13)&&this.togglePopup()},X.prototype._onMapClick=function(ae){var ye=ae.originalEvent.target,Fe=this._element;this._popup&&(ye===Fe||Fe.contains(ye))&&this.togglePopup()},X.prototype.getPopup=function(){return this._popup},X.prototype.togglePopup=function(){var ae=this._popup;if(ae)ae.isOpen()?ae.remove():ae.addTo(this._map);else return this;return this},X.prototype._update=function(ae){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=ff(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var ye="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?ye="rotateZ("+this._rotation+"deg)":this._rotationAlignment==="map"&&(ye="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var Fe="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?Fe="rotateX(0deg)":this._pitchAlignment==="map"&&(Fe="rotateX("+this._map.getPitch()+"deg)"),(!ae||ae.type==="moveend")&&(this._pos=this._pos.round()),T.setTransform(this._element,Tv[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+Fe+" "+ye)}},X.prototype.getOffset=function(){return this._offset},X.prototype.setOffset=function(ae){return this._offset=a.Point.convert(ae),this._update(),this},X.prototype._onMove=function(ae){this._pos=ae.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new a.Event("dragstart"))),this.fire(new a.Event("drag"))},X.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new a.Event("dragend")),this._state="inactive"},X.prototype._addDragHandler=function(ae){this._element.contains(ae.originalEvent.target)&&(ae.preventDefault(),this._positionDelta=ae.point.sub(this._pos).add(this._offset),this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},X.prototype.setDraggable=function(ae){return this._draggable=!!ae,this._map&&(ae?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},X.prototype.isDraggable=function(){return this._draggable},X.prototype.setRotation=function(ae){return this._rotation=ae||0,this._update(),this},X.prototype.getRotation=function(){return this._rotation},X.prototype.setRotationAlignment=function(ae){return this._rotationAlignment=ae||"auto",this._update(),this},X.prototype.getRotationAlignment=function(){return this._rotationAlignment},X.prototype.setPitchAlignment=function(ae){return this._pitchAlignment=ae&&ae!=="auto"?ae:this._rotationAlignment,this._update(),this},X.prototype.getPitchAlignment=function(){return this._pitchAlignment},X}(a.Evented),Pp={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},Vf;function Av(ve){Vf!==void 0?ve(Vf):a.window.navigator.permissions!==void 0?a.window.navigator.permissions.query({name:"geolocation"}).then(function(X){Vf=X.state!=="denied",ve(Vf)}):(Vf=!!a.window.navigator.geolocation,ve(Vf))}var yh=0,Wf=!1,Rp=function(ve){function X(pe){ve.call(this),this.options=a.extend({},Pp,pe),a.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.onAdd=function(ae){return this._map=ae,this._container=T.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),Av(this._setupUI),this._container},X.prototype.onRemove=function(){this._geolocationWatchID!==void 0&&(a.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),T.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,yh=0,Wf=!1},X.prototype._isOutOfMapMaxBounds=function(ae){var ye=this._map.getMaxBounds(),Fe=ae.coords;return ye&&(Fe.longitude<ye.getWest()||Fe.longitude>ye.getEast()||Fe.latitude<ye.getSouth()||Fe.latitude>ye.getNorth())},X.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break}},X.prototype._onSuccess=function(ae){if(this._map){if(this._isOutOfMapMaxBounds(ae)){this._setErrorState(),this.fire(new a.Event("outofmaxbounds",ae)),this._updateMarker(),this._finish();return}if(this.options.trackUserLocation)switch(this._lastKnownPosition=ae,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(ae),(!this.options.trackUserLocation||this._watchState==="ACTIVE_LOCK")&&this._updateCamera(ae),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new a.Event("geolocate",ae)),this._finish()}},X.prototype._updateCamera=function(ae){var ye=new a.LngLat(ae.coords.longitude,ae.coords.latitude),Fe=ae.coords.accuracy,Ze=this._map.getBearing(),lt=a.extend({bearing:Ze},this.options.fitBoundsOptions);this._map.fitBounds(ye.toBounds(Fe),lt,{geolocateSource:!0})},X.prototype._updateMarker=function(ae){if(ae){var ye=new a.LngLat(ae.coords.longitude,ae.coords.latitude);this._accuracyCircleMarker.setLngLat(ye).addTo(this._map),this._userLocationDotMarker.setLngLat(ye).addTo(this._map),this._accuracy=ae.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},X.prototype._updateCircleRadius=function(){var ae=this._map._container.clientHeight/2,ye=this._map.unproject([0,ae]),Fe=this._map.unproject([1,ae]),Ze=ye.distanceTo(Fe),lt=Math.ceil(2*this._accuracy/Ze);this._circleElement.style.width=lt+"px",this._circleElement.style.height=lt+"px"},X.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},X.prototype._onError=function(ae){if(this._map){if(this.options.trackUserLocation)if(ae.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var ye=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=ye,this._geolocateButton.setAttribute("aria-label",ye),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(ae.code===3&&Wf)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new a.Event("error",ae)),this._finish()}},X.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},X.prototype._setupUI=function(ae){var ye=this;if(this._container.addEventListener("contextmenu",function(lt){return lt.preventDefault()}),this._geolocateButton=T.create("button","mapboxgl-ctrl-geolocate",this._container),T.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",ae===!1){a.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var Fe=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=Fe,this._geolocateButton.setAttribute("aria-label",Fe)}else{var Ze=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=Ze,this._geolocateButton.setAttribute("aria-label",Ze)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=T.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new gh(this._dotElement),this._circleElement=T.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new gh({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(lt){var wt=lt.originalEvent&&lt.originalEvent.type==="resize";!lt.geolocateSource&&ye._watchState==="ACTIVE_LOCK"&&!wt&&(ye._watchState="BACKGROUND",ye._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),ye._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),ye.fire(new a.Event("trackuserlocationend")))})},X.prototype.trigger=function(){if(!this._setup)return a.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new a.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":yh--,Wf=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new a.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new a.Event("trackuserlocationstart"));break}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error");break}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),yh++;var ae;yh>1?(ae={maximumAge:6e5,timeout:0},Wf=!0):(ae=this.options.positionOptions,Wf=!1),this._geolocationWatchID=a.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,ae)}}else a.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},X.prototype._clearWatch=function(){a.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},X}(a.Evented),gg={maxWidth:100,unit:"metric"},Gf=function(X){this.options=a.extend({},gg,X),a.bindAll(["_onMove","setUnit"],this)};Gf.prototype.getDefaultPosition=function(){return"bottom-left"},Gf.prototype._onMove=function(){Dp(this._map,this._container,this.options)},Gf.prototype.onAdd=function(X){return this._map=X,this._container=T.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",X.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},Gf.prototype.onRemove=function(){T.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},Gf.prototype.setUnit=function(X){this.options.unit=X,Dp(this._map,this._container,this.options)};function Dp(ve,X,pe){var ae=pe&&pe.maxWidth||100,ye=ve._container.clientHeight/2,Fe=ve.unproject([0,ye]),Ze=ve.unproject([ae,ye]),lt=Fe.distanceTo(Ze);if(pe&&pe.unit==="imperial"){var wt=3.2808*lt;if(wt>5280){var Ut=wt/5280;mh(X,ae,Ut,ve._getUIString("ScaleControl.Miles"))}else mh(X,ae,wt,ve._getUIString("ScaleControl.Feet"))}else if(pe&&pe.unit==="nautical"){var Jt=lt/1852;mh(X,ae,Jt,ve._getUIString("ScaleControl.NauticalMiles"))}else lt>=1e3?mh(X,ae,lt/1e3,ve._getUIString("ScaleControl.Kilometers")):mh(X,ae,lt,ve._getUIString("ScaleControl.Meters"))}function mh(ve,X,pe,ae){var ye=mg(pe),Fe=ye/pe;ve.style.width=X*Fe+"px",ve.innerHTML=ye+"&nbsp;"+ae}function yg(ve){var X=Math.pow(10,Math.ceil(-Math.log(ve)/Math.LN10));return Math.round(ve*X)/X}function mg(ve){var X=Math.pow(10,(""+Math.floor(ve)).length-1),pe=ve/X;return pe=pe>=10?10:pe>=5?5:pe>=3?3:pe>=2?2:pe>=1?1:yg(pe),X*pe}var Xl=function(X){this._fullscreen=!1,X&&X.container&&(X.container instanceof a.window.HTMLElement?this._container=X.container:a.warnOnce("Full screen control 'container' must be a DOM element.")),a.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in a.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in a.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in a.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in a.window.document&&(this._fullscreenchange="MSFullscreenChange")};Xl.prototype.onAdd=function(X){return this._map=X,this._container||(this._container=this._map.getContainer()),this._controlContainer=T.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",a.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},Xl.prototype.onRemove=function(){T.remove(this._controlContainer),this._map=null,a.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},Xl.prototype._checkFullscreenSupport=function(){return!!(a.window.document.fullscreenEnabled||a.window.document.mozFullScreenEnabled||a.window.document.msFullscreenEnabled||a.window.document.webkitFullscreenEnabled)},Xl.prototype._setupUI=function(){var X=this._fullscreenButton=T.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);T.create("span","mapboxgl-ctrl-icon",X).setAttribute("aria-hidden",!0),X.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),a.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},Xl.prototype._updateTitle=function(){var X=this._getTitle();this._fullscreenButton.setAttribute("aria-label",X),this._fullscreenButton.title=X},Xl.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},Xl.prototype._isFullscreen=function(){return this._fullscreen},Xl.prototype._changeIcon=function(){var X=a.window.document.fullscreenElement||a.window.document.mozFullScreenElement||a.window.document.webkitFullscreenElement||a.window.document.msFullscreenElement;X===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},Xl.prototype._onClickFullscreen=function(){this._isFullscreen()?a.window.document.exitFullscreen?a.window.document.exitFullscreen():a.window.document.mozCancelFullScreen?a.window.document.mozCancelFullScreen():a.window.document.msExitFullscreen?a.window.document.msExitFullscreen():a.window.document.webkitCancelFullScreen&&a.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var xg={closeButton:!0,closeOnClick:!0,className:"",maxWidth:"240px"},bg=function(ve){function X(pe){ve.call(this),this.options=a.extend(Object.create(xg),pe),a.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return ve&&(X.__proto__=ve),X.prototype=Object.create(ve&&ve.prototype),X.prototype.constructor=X,X.prototype.addTo=function(ae){return this._map&&this.remove(),this._map=ae,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new a.Event("open")),this},X.prototype.isOpen=function(){return!!this._map},X.prototype.remove=function(){return this._content&&T.remove(this._content),this._container&&(T.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new a.Event("close")),this},X.prototype.getLngLat=function(){return this._lngLat},X.prototype.setLngLat=function(ae){return this._lngLat=a.LngLat.convert(ae),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},X.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},X.prototype.getElement=function(){return this._container},X.prototype.setText=function(ae){return this.setDOMContent(a.window.document.createTextNode(ae))},X.prototype.setHTML=function(ae){var ye=a.window.document.createDocumentFragment(),Fe=a.window.document.createElement("body"),Ze;for(Fe.innerHTML=ae;Ze=Fe.firstChild,!!Ze;)ye.appendChild(Ze);return this.setDOMContent(ye)},X.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},X.prototype.setMaxWidth=function(ae){return this.options.maxWidth=ae,this._update(),this},X.prototype.setDOMContent=function(ae){return this._createContent(),this._content.appendChild(ae),this._update(),this},X.prototype.addClassName=function(ae){this._container&&this._container.classList.add(ae)},X.prototype.removeClassName=function(ae){this._container&&this._container.classList.remove(ae)},X.prototype.toggleClassName=function(ae){if(this._container)return this._container.classList.toggle(ae)},X.prototype._createContent=function(){this._content&&T.remove(this._content),this._content=T.create("div","mapboxgl-popup-content",this._container),this.options.closeButton&&(this._closeButton=T.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},X.prototype._onMouseUp=function(ae){this._update(ae.point)},X.prototype._onMouseMove=function(ae){this._update(ae.point)},X.prototype._onDrag=function(ae){this._update(ae.point)},X.prototype._update=function(ae){var ye=this,Fe=this._lngLat||this._trackPointer;if(!(!this._map||!Fe||!this._content)&&(this._container||(this._container=T.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=T.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(zr){return ye._container.classList.add(zr)}),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=ff(this._lngLat,this._pos,this._map.transform)),!(this._trackPointer&&!ae))){var Ze=this._pos=this._trackPointer&&ae?ae:this._map.project(this._lngLat),lt=this.options.anchor,wt=Ip(this.options.offset);if(!lt){var Ut=this._container.offsetWidth,Jt=this._container.offsetHeight,fr;Ze.y+wt.bottom.y<Jt?fr=["top"]:Ze.y>this._map.transform.height-Jt?fr=["bottom"]:fr=[],Ze.x<Ut/2?fr.push("left"):Ze.x>this._map.transform.width-Ut/2&&fr.push("right"),fr.length===0?lt="bottom":lt=fr.join("-")}var xr=Ze.add(wt[lt]).round();T.setTransform(this._container,Tv[lt]+" translate("+xr.x+"px,"+xr.y+"px)"),nd(this._container,lt,"popup")}},X.prototype._onClose=function(){this.remove()},X}(a.Evented);function Ip(ve){if(ve)if(typeof ve=="number"){var X=Math.round(Math.sqrt(.5*Math.pow(ve,2)));return{center:new a.Point(0,0),top:new a.Point(0,ve),"top-left":new a.Point(X,X),"top-right":new a.Point(-X,X),bottom:new a.Point(0,-ve),"bottom-left":new a.Point(X,-X),"bottom-right":new a.Point(-X,-X),left:new a.Point(ve,0),right:new a.Point(-ve,0)}}else if(ve instanceof a.Point||Array.isArray(ve)){var pe=a.Point.convert(ve);return{center:pe,top:pe,"top-left":pe,"top-right":pe,bottom:pe,"bottom-left":pe,"bottom-right":pe,left:pe,right:pe}}else return{center:a.Point.convert(ve.center||[0,0]),top:a.Point.convert(ve.top||[0,0]),"top-left":a.Point.convert(ve["top-left"]||[0,0]),"top-right":a.Point.convert(ve["top-right"]||[0,0]),bottom:a.Point.convert(ve.bottom||[0,0]),"bottom-left":a.Point.convert(ve["bottom-left"]||[0,0]),"bottom-right":a.Point.convert(ve["bottom-right"]||[0,0]),left:a.Point.convert(ve.left||[0,0]),right:a.Point.convert(ve.right||[0,0])};else return Ip(new a.Point(0,0))}var wg={version:a.version,supported:C,setRTLTextPlugin:a.setRTLTextPlugin,getRTLTextPluginStatus:a.getRTLTextPluginStatus,Map:Lp,NavigationControl:uf,GeolocateControl:Rp,AttributionControl:ss,ScaleControl:Gf,FullscreenControl:Xl,Popup:bg,Marker:gh,Style:Do,LngLat:a.LngLat,LngLatBounds:a.LngLatBounds,Point:a.Point,MercatorCoordinate:a.MercatorCoordinate,Evented:a.Evented,config:a.config,prewarm:kt,clearPrewarmedResources:jt,get accessToken(){return a.config.ACCESS_TOKEN},set accessToken(ve){a.config.ACCESS_TOKEN=ve},get baseApiUrl(){return a.config.API_URL},set baseApiUrl(ve){a.config.API_URL=ve},get workerCount(){return dr.workerCount},set workerCount(ve){dr.workerCount=ve},get maxParallelImageRequests(){return a.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(ve){a.config.MAX_PARALLEL_IMAGE_REQUESTS=ve},clearStorage:function(X){a.clearTileCache(X)},workerUrl:""};return wg}),g})},27084:function(W){W.exports=Math.log2||function(H){return Math.log(H)*Math.LOG2E}},16825:function(W,H,e){W.exports=R;var g=e(74311);function R(a,C){C||(C=a,a=window);var T=0,v=0,y=0,t={shift:!1,alt:!1,control:!1,meta:!1},r=!1;function s(M){var S=!1;return"altKey"in M&&(S=S||M.altKey!==t.alt,t.alt=!!M.altKey),"shiftKey"in M&&(S=S||M.shiftKey!==t.shift,t.shift=!!M.shiftKey),"ctrlKey"in M&&(S=S||M.ctrlKey!==t.control,t.control=!!M.ctrlKey),"metaKey"in M&&(S=S||M.metaKey!==t.meta,t.meta=!!M.metaKey),S}function n(M,S){var P=g.x(S),x=g.y(S);"buttons"in S&&(M=S.buttons|0),(M!==T||P!==v||x!==y||s(S))&&(T=M|0,v=P||0,y=x||0,C&&C(T,v,y,t))}function o(M){n(0,M)}function f(){(T||v||y||t.shift||t.alt||t.meta||t.control)&&(v=y=0,T=0,t.shift=t.alt=t.control=t.meta=!1,C&&C(0,0,0,t))}function u(M){s(M)&&C&&C(T,v,y,t)}function m(M){g.buttons(M)===0?n(0,M):n(T,M)}function c(M){n(T|g.buttons(M),M)}function A(M){n(T&~g.buttons(M),M)}function h(){r||(r=!0,a.addEventListener("mousemove",m),a.addEventListener("mousedown",c),a.addEventListener("mouseup",A),a.addEventListener("mouseleave",o),a.addEventListener("mouseenter",o),a.addEventListener("mouseout",o),a.addEventListener("mouseover",o),a.addEventListener("blur",f),a.addEventListener("keyup",u),a.addEventListener("keydown",u),a.addEventListener("keypress",u),a!==window&&(window.addEventListener("blur",f),window.addEventListener("keyup",u),window.addEventListener("keydown",u),window.addEventListener("keypress",u)))}function l(){r&&(r=!1,a.removeEventListener("mousemove",m),a.removeEventListener("mousedown",c),a.removeEventListener("mouseup",A),a.removeEventListener("mouseleave",o),a.removeEventListener("mouseenter",o),a.removeEventListener("mouseout",o),a.removeEventListener("mouseover",o),a.removeEventListener("blur",f),a.removeEventListener("keyup",u),a.removeEventListener("keydown",u),a.removeEventListener("keypress",u),a!==window&&(window.removeEventListener("blur",f),window.removeEventListener("keyup",u),window.removeEventListener("keydown",u),window.removeEventListener("keypress",u)))}h();var p={element:a};return Object.defineProperties(p,{enabled:{get:function(){return r},set:function(M){M?h():l()},enumerable:!0},buttons:{get:function(){return T},enumerable:!0},x:{get:function(){return v},enumerable:!0},y:{get:function(){return y},enumerable:!0},mods:{get:function(){return t},enumerable:!0}}),p}},48956:function(W){var H={left:0,top:0};W.exports=e;function e(R,a,C){a=a||R.currentTarget||R.srcElement,Array.isArray(C)||(C=[0,0]);var T=R.clientX||0,v=R.clientY||0,y=g(a);return C[0]=T-y.left,C[1]=v-y.top,C}function g(R){return R===window||R===document||R===document.body?H:R.getBoundingClientRect()}},74311:function(W,H){function e(C){if(typeof C=="object"){if("buttons"in C)return C.buttons;if("which"in C){var T=C.which;if(T===2)return 4;if(T===3)return 2;if(T>0)return 1<<T-1}else if("button"in C){var T=C.button;if(T===1)return 4;if(T===2)return 2;if(T>=0)return 1<<T}}return 0}H.buttons=e;function g(C){return C.target||C.srcElement||window}H.element=g;function R(C){if(typeof C=="object"){if("offsetX"in C)return C.offsetX;var T=g(C),v=T.getBoundingClientRect();return C.clientX-v.left}return 0}H.x=R;function a(C){if(typeof C=="object"){if("offsetY"in C)return C.offsetY;var T=g(C),v=T.getBoundingClientRect();return C.clientY-v.top}return 0}H.y=a},1195:function(W,H,e){var g=e(75686);W.exports=R;function R(a,C,T){typeof a=="function"&&(T=!!C,C=a,a=window);var v=g("ex",a),y=function(t){T&&t.preventDefault();var r=t.deltaX||0,s=t.deltaY||0,n=t.deltaZ||0,o=t.deltaMode,f=1;switch(o){case 1:f=v;break;case 2:f=window.innerHeight;break}if(r*=f,s*=f,n*=f,r||s||n)return C(r,s,n,t)};return a.addEventListener("wheel",y),y}},7417:function(W,H,e){var g;/*! Native Promise Only
    v0.8.1 (c) Kyle Simpson
    MIT License: http://getify.mit-license.org
*/(function(a,C,T){C[a]=C[a]||T(),W.exports?W.exports=C[a]:(g=(function(){return C[a]}).call(H,e,H,W),g!==void 0&&(W.exports=g))})("Promise",typeof e.g<"u"?e.g:this,function(){var a,C,T,v=Object.prototype.toString,y=typeof setImmediate<"u"?function(p){return setImmediate(p)}:setTimeout;try{Object.defineProperty({},"x",{}),a=function(p,M,S,P){return Object.defineProperty(p,M,{value:S,writable:!0,configurable:P!==!1})}}catch{a=function(M,S,P){return M[S]=P,M}}T=function(){var p,M,S;function P(x,E){this.fn=x,this.self=E,this.next=void 0}return{add:function(E,w){S=new P(E,w),M?M.next=S:p=S,M=S,S=void 0},drain:function(){var E=p;for(p=M=C=void 0;E;)E.fn.call(E.self),E=E.next}}}();function t(l,p){T.add(l,p),C||(C=y(T.drain))}function r(l){var p,M=typeof l;return l!=null&&(M=="object"||M=="function")&&(p=l.then),typeof p=="function"?p:!1}function s(){for(var l=0;l<this.chain.length;l++)n(this,this.state===1?this.chain[l].success:this.chain[l].failure,this.chain[l]);this.chain.length=0}function n(l,p,M){var S,P;try{p===!1?M.reject(l.msg):(p===!0?S=l.msg:S=p.call(void 0,l.msg),S===M.promise?M.reject(TypeError("Promise-chain cycle")):(P=r(S))?P.call(S,M.resolve,M.reject):M.resolve(S))}catch(x){M.reject(x)}}function o(l){var p,M=this;if(!M.triggered){M.triggered=!0,M.def&&(M=M.def);try{(p=r(l))?t(function(){var S=new m(M);try{p.call(l,function(){o.apply(S,arguments)},function(){f.apply(S,arguments)})}catch(P){f.call(S,P)}}):(M.msg=l,M.state=1,M.chain.length>0&&t(s,M))}catch(S){f.call(new m(M),S)}}}function f(l){var p=this;p.triggered||(p.triggered=!0,p.def&&(p=p.def),p.msg=l,p.state=2,p.chain.length>0&&t(s,p))}function u(l,p,M,S){for(var P=0;P<p.length;P++)(function(E){l.resolve(p[E]).then(function(i){M(E,i)},S)})(P)}function m(l){this.def=l,this.triggered=!1}function c(l){this.promise=l,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function A(l){if(typeof l!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var p=new c(this);this.then=function(S,P){var x={success:typeof S=="function"?S:!0,failure:typeof P=="function"?P:!1};return x.promise=new this.constructor(function(w,i){if(typeof w!="function"||typeof i!="function")throw TypeError("Not a function");x.resolve=w,x.reject=i}),p.chain.push(x),p.state!==0&&t(s,p),x.promise},this.catch=function(S){return this.then(void 0,S)};try{l.call(void 0,function(S){o.call(p,S)},function(S){f.call(p,S)})}catch(M){f.call(p,M)}}var h=a({},"constructor",A,!1);return A.prototype=h,a(h,"__NPO__",0,!1),a(A,"resolve",function(p){var M=this;return p&&typeof p=="object"&&p.__NPO__===1?p:new M(function(P,x){if(typeof P!="function"||typeof x!="function")throw TypeError("Not a function");P(p)})}),a(A,"reject",function(p){return new this(function(S,P){if(typeof S!="function"||typeof P!="function")throw TypeError("Not a function");P(p)})}),a(A,"all",function(p){var M=this;return v.call(p)!="[object Array]"?M.reject(TypeError("Not an array")):p.length===0?M.resolve([]):new M(function(P,x){if(typeof P!="function"||typeof x!="function")throw TypeError("Not a function");var E=p.length,w=Array(E),i=0;u(M,p,function(b,O){w[b]=O,++i===E&&P(w)},x)})}),a(A,"race",function(p){var M=this;return v.call(p)!="[object Array]"?M.reject(TypeError("Not an array")):new M(function(P,x){if(typeof P!="function"||typeof x!="function")throw TypeError("Not a function");u(M,p,function(w,i){P(i)},x)})}),A})},18625:function(W){var H=Math.PI,e=v(120);W.exports=g;function g(y){for(var t,r=[],s=0,n=0,o=0,f=0,u=null,m=null,c=0,A=0,h=0,l=y.length;h<l;h++){var p=y[h],M=p[0];switch(M){case"M":o=p[1],f=p[2];break;case"A":p=C(c,A,p[1],p[2],v(p[3]),p[4],p[5],p[6],p[7]),p.unshift("C"),p.length>7&&(r.push(p.splice(0,7)),p.unshift("C"));break;case"S":var S=c,P=A;(t=="C"||t=="S")&&(S+=S-s,P+=P-n),p=["C",S,P,p[1],p[2],p[3],p[4]];break;case"T":t=="Q"||t=="T"?(u=c*2-u,m=A*2-m):(u=c,m=A),p=a(c,A,u,m,p[1],p[2]);break;case"Q":u=p[1],m=p[2],p=a(c,A,p[1],p[2],p[3],p[4]);break;case"L":p=R(c,A,p[1],p[2]);break;case"H":p=R(c,A,p[1],A);break;case"V":p=R(c,A,c,p[1]);break;case"Z":p=R(c,A,o,f);break}t=M,c=p[p.length-2],A=p[p.length-1],p.length>4?(s=p[p.length-4],n=p[p.length-3]):(s=c,n=A),r.push(p)}return r}function R(y,t,r,s){return["C",y,t,r,s,r,s]}function a(y,t,r,s,n,o){return["C",y/3+.6666666666666666*r,t/3+.6666666666666666*s,n/3+.6666666666666666*r,o/3+.6666666666666666*s,n,o]}function C(y,t,r,s,n,o,f,u,m,c){if(c)w=c[0],i=c[1],x=c[2],E=c[3];else{var A=T(y,t,-n);y=A.x,t=A.y,A=T(u,m,-n),u=A.x,m=A.y;var h=(y-u)/2,l=(t-m)/2,p=h*h/(r*r)+l*l/(s*s);p>1&&(p=Math.sqrt(p),r=p*r,s=p*s);var M=r*r,S=s*s,P=(o==f?-1:1)*Math.sqrt(Math.abs((M*S-M*l*l-S*h*h)/(M*l*l+S*h*h)));P==1/0&&(P=1);var x=P*r*l/s+(y+u)/2,E=P*-s*h/r+(t+m)/2,w=Math.asin(((t-E)/s).toFixed(9)),i=Math.asin(((m-E)/s).toFixed(9));w=y<x?H-w:w,i=u<x?H-i:i,w<0&&(w=H*2+w),i<0&&(i=H*2+i),f&&w>i&&(w=w-H*2),!f&&i>w&&(i=i-H*2)}if(Math.abs(i-w)>e){var L=i,b=u,O=m;i=w+e*(f&&i>w?1:-1),u=x+r*Math.cos(i),m=E+s*Math.sin(i);var _=C(u,m,r,s,n,0,f,b,O,[i,L,x,E])}var N=Math.tan((i-w)/4),z=4/3*r*N,B=4/3*s*N,U=[2*y-(y+z*Math.sin(w)),2*t-(t-B*Math.cos(w)),u+z*Math.sin(i),m-B*Math.cos(i),u,m];if(c)return U;_&&(U=U.concat(_));for(var F=0;F<U.length;){var V=T(U[F],U[F+1],n);U[F++]=V.x,U[F++]=V.y}return U}function T(y,t,r){return{x:y*Math.cos(r)-t*Math.sin(r),y:y*Math.sin(r)+t*Math.cos(r)}}function v(y){return y*(H/180)}},56131:function(W){/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var H=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable;function R(C){if(C==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(C)}function a(){try{if(!Object.assign)return!1;var C=new String("abc");if(C[5]="de",Object.getOwnPropertyNames(C)[0]==="5")return!1;for(var T={},v=0;v<10;v++)T["_"+String.fromCharCode(v)]=v;var y=Object.getOwnPropertyNames(T).map(function(r){return T[r]});if(y.join("")!=="0123456789")return!1;var t={};return"abcdefghijklmnopqrst".split("").forEach(function(r){t[r]=r}),Object.keys(Object.assign({},t)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}W.exports=a()?Object.assign:function(C,T){for(var v,y=R(C),t,r=1;r<arguments.length;r++){v=Object(arguments[r]);for(var s in v)e.call(v,s)&&(y[s]=v[s]);if(H){t=H(v);for(var n=0;n<t.length;n++)g.call(v,t[n])&&(y[t[n]]=v[t[n]])}}return y}},65848:function(W){var H=function(e){return e!==e};W.exports=function(g,R){return g===0&&R===0?1/g===1/R:!!(g===R||H(g)&&H(R))}},64003:function(W,H,e){var g=e(17045),R=e(68222),a=e(65848),C=e(27015),T=e(55572),v=R(C(),Object);g(v,{getPolyfill:C,implementation:a,shim:T}),W.exports=v},27015:function(W,H,e){var g=e(65848);W.exports=function(){return typeof Object.is=="function"?Object.is:g}},55572:function(W,H,e){var g=e(27015),R=e(17045);W.exports=function(){var C=g();return R(Object,{is:C},{is:function(){return Object.is!==C}}),C}},99019:function(W,H,e){var g;if(!Object.keys){var R=Object.prototype.hasOwnProperty,a=Object.prototype.toString,C=e(64178),T=Object.prototype.propertyIsEnumerable,v=!T.call({toString:null},"toString"),y=T.call(function(){},"prototype"),t=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=function(f){var u=f.constructor;return u&&u.prototype===f},s={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},n=function(){if(typeof window>"u")return!1;for(var f in window)try{if(!s["$"+f]&&R.call(window,f)&&window[f]!==null&&typeof window[f]=="object")try{r(window[f])}catch{return!0}}catch{return!0}return!1}(),o=function(f){if(typeof window>"u"||!n)return r(f);try{return r(f)}catch{return!1}};g=function(u){var m=u!==null&&typeof u=="object",c=a.call(u)==="[object Function]",A=C(u),h=m&&a.call(u)==="[object String]",l=[];if(!m&&!c&&!A)throw new TypeError("Object.keys called on a non-object");var p=y&&c;if(h&&u.length>0&&!R.call(u,0))for(var M=0;M<u.length;++M)l.push(String(M));if(A&&u.length>0)for(var S=0;S<u.length;++S)l.push(String(S));else for(var P in u)!(p&&P==="prototype")&&R.call(u,P)&&l.push(String(P));if(v)for(var x=o(u),E=0;E<t.length;++E)!(x&&t[E]==="constructor")&&R.call(u,t[E])&&l.push(t[E]);return l}}W.exports=g},8709:function(W,H,e){var g=Array.prototype.slice,R=e(64178),a=Object.keys,C=a?function(y){return a(y)}:e(99019),T=Object.keys;C.shim=function(){if(Object.keys){var y=function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2);y||(Object.keys=function(r){return R(r)?T(g.call(r)):T(r)})}else Object.keys=C;return Object.keys||C},W.exports=C},64178:function(W){var H=Object.prototype.toString;W.exports=function(g){var R=H.call(g),a=R==="[object Arguments]";return a||(a=R!=="[object Array]"&&g!==null&&typeof g=="object"&&typeof g.length=="number"&&g.length>=0&&H.call(g.callee)==="[object Function]"),a}},88641:function(W){function H(R,a){if(typeof R!="string")return[R];var C=[R];typeof a=="string"||Array.isArray(a)?a={brackets:a}:a||(a={});var T=a.brackets?Array.isArray(a.brackets)?a.brackets:[a.brackets]:["{}","[]","()"],v=a.escape||"___",y=!!a.flat;T.forEach(function(s){var n=new RegExp(["\\",s[0],"[^\\",s[0],"\\",s[1],"]*\\",s[1]].join("")),o=[];function f(u,m,c){var A=C.push(u.slice(s[0].length,-s[1].length))-1;return o.push(A),v+A+v}C.forEach(function(u,m){for(var c,A=0;u!=c;)if(c=u,u=u.replace(n,f),A++>1e4)throw Error("References have circular dependency. Please, check them.");C[m]=u}),o=o.reverse(),C=C.map(function(u){return o.forEach(function(m){u=u.replace(new RegExp("(\\"+v+m+"\\"+v+")","g"),s[0]+"$1"+s[1])}),u})});var t=new RegExp("\\"+v+"([0-9]+)\\"+v);function r(s,n,o){for(var f=[],u,m=0;u=t.exec(s);){if(m++>1e4)throw Error("Circular references in parenthesis");f.push(s.slice(0,u.index)),f.push(r(n[u[1]],n)),s=s.slice(u.index+u[0].length)}return f.push(s),f}return y?C:r(C[0],C)}function e(R,a){if(a&&a.flat){var C=a&&a.escape||"___",T=R[0],v;if(!T)return"";for(var y=new RegExp("\\"+C+"([0-9]+)\\"+C),t=0;T!=v;){if(t++>1e4)throw Error("Circular references in "+R);v=T,T=T.replace(y,r)}return T}return R.reduce(function s(n,o){return Array.isArray(o)&&(o=o.reduce(s,"")),n+o},"");function r(s,n){if(R[n]==null)throw Error("Reference "+n+"is undefined");return R[n]}}function g(R,a){return Array.isArray(R)?e(R,a):H(R,a)}g.parse=H,g.stringify=e,W.exports=g},18863:function(W,H,e){var g=e(71299);W.exports=R;function R(a){var C;return arguments.length>1&&(a=arguments),typeof a=="string"?a=a.split(/\s/).map(parseFloat):typeof a=="number"&&(a=[a]),a.length&&typeof a[0]=="number"?a.length===1?C={width:a[0],height:a[0],x:0,y:0}:a.length===2?C={width:a[0],height:a[1],x:0,y:0}:C={x:a[0],y:a[1],width:a[2]-a[0]||0,height:a[3]-a[1]||0}:a&&(a=g(a,{left:"x l left Left",top:"y t top Top",width:"w width W Width",height:"h height W Width",bottom:"b bottom Bottom",right:"r right Right"}),C={x:a.left||0,y:a.top||0},a.width==null?a.right?C.width=a.right-C.x:C.width=0:C.width=a.width,a.height==null?a.bottom?C.height=a.bottom-C.y:C.height=0:C.height=a.height),C}},95616:function(W){W.exports=g;var H={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},e=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function g(C){var T=[];return C.replace(e,function(v,y,t){var r=y.toLowerCase();for(t=a(t),r=="m"&&t.length>2&&(T.push([y].concat(t.splice(0,2))),r="l",y=y=="m"?"l":"L");;){if(t.length==H[r])return t.unshift(y),T.push(t);if(t.length<H[r])throw new Error("malformed path data");T.push([y].concat(t.splice(0,H[r])))}}),T}var R=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function a(C){var T=C.match(R);return T?T.map(Number):[]}},25677:function(W){W.exports=function(e,g){g||(g=[0,""]),e=String(e);var R=parseFloat(e,10);return g[0]=R,g[1]=e.match(/[\d.\-\+]*\s*(.*)/)[1]||"",g}},9748:function(W,H,e){var g=e(90386);(function(){var R,a,C,T,v,y;typeof performance<"u"&&performance!==null&&performance.now?W.exports=function(){return performance.now()}:typeof g<"u"&&g!==null&&g.hrtime?(W.exports=function(){return(R()-v)/1e6},a=g.hrtime,R=function(){var t;return t=a(),t[0]*1e9+t[1]},T=R(),y=g.uptime()*1e9,v=T-y):Date.now?(W.exports=function(){return Date.now()-C},C=Date.now()):(W.exports=function(){return new Date().getTime()-C},C=new Date().getTime())}).call(this)},71299:function(W){W.exports=function(R,a,C){var T={},v,y;if(typeof a=="string"&&(a=e(a)),Array.isArray(a)){var t={};for(y=0;y<a.length;y++)t[a[y]]=!0;a=t}for(v in a)a[v]=e(a[v]);var r={};for(v in a){var s=a[v];if(Array.isArray(s))for(y=0;y<s.length;y++){var n=s[y];if(C&&(r[n]=!0),n in R){if(T[v]=R[n],C)for(var o=y;o<s.length;o++)r[s[o]]=!0;break}}else v in R&&(a[v]&&(T[v]=R[v]),C&&(r[v]=!0))}if(C)for(v in R)r[v]||(T[v]=R[v]);return T};var H={};function e(g){return H[g]?H[g]:(typeof g=="string"&&(g=H[g]=g.split(/\s*,\s*|\s+/)),g)}},38258:function(W){W.exports=function(e,g,R,a){var C=e[0],T=e[1],v=!1;R===void 0&&(R=0),a===void 0&&(a=g.length);for(var y=a-R,t=0,r=y-1;t<y;r=t++){var s=g[t+R][0],n=g[t+R][1],o=g[r+R][0],f=g[r+R][1],u=n>T!=f>T&&C<(o-s)*(T-n)/(f-n)+s;u&&(v=!v)}return v}},52142:function(W,H,e){/*
 * @copyright 2016 Sean Connelly (@voidqk), http://syntheti.cc
 * @license MIT
 * @preserve Project Home: https://github.com/voidqk/polybooljs
 */var g=e(69444),R=e(29023),a=e(87263),C=e(11328),T=e(55968),v=e(10670),y=!1,t=R(),r;r={buildLog:function(n){return n===!0?y=g():n===!1&&(y=!1),y===!1?!1:y.list},epsilon:function(n){return t.epsilon(n)},segments:function(n){var o=a(!0,t,y);return n.regions.forEach(o.addRegion),{segments:o.calculate(n.inverted),inverted:n.inverted}},combine:function(n,o){var f=a(!1,t,y);return{combined:f.calculate(n.segments,n.inverted,o.segments,o.inverted),inverted1:n.inverted,inverted2:o.inverted}},selectUnion:function(n){return{segments:T.union(n.combined,y),inverted:n.inverted1||n.inverted2}},selectIntersect:function(n){return{segments:T.intersect(n.combined,y),inverted:n.inverted1&&n.inverted2}},selectDifference:function(n){return{segments:T.difference(n.combined,y),inverted:n.inverted1&&!n.inverted2}},selectDifferenceRev:function(n){return{segments:T.differenceRev(n.combined,y),inverted:!n.inverted1&&n.inverted2}},selectXor:function(n){return{segments:T.xor(n.combined,y),inverted:n.inverted1!==n.inverted2}},polygon:function(n){return{regions:C(n.segments,t,y),inverted:n.inverted}},polygonFromGeoJSON:function(n){return v.toPolygon(r,n)},polygonToGeoJSON:function(n){return v.fromPolygon(r,t,n)},union:function(n,o){return s(n,o,r.selectUnion)},intersect:function(n,o){return s(n,o,r.selectIntersect)},difference:function(n,o){return s(n,o,r.selectDifference)},differenceRev:function(n,o){return s(n,o,r.selectDifferenceRev)},xor:function(n,o){return s(n,o,r.selectXor)}};function s(n,o,f){var u=r.segments(n),m=r.segments(o),c=r.combine(u,m),A=f(c);return r.polygon(A)}typeof window=="object"&&(window.PolyBool=r),W.exports=r},69444:function(W){function H(){var e,g=0,R=!1;function a(C,T){return e.list.push({type:C,data:T?JSON.parse(JSON.stringify(T)):void 0}),e}return e={list:[],segmentId:function(){return g++},checkIntersection:function(C,T){return a("check",{seg1:C,seg2:T})},segmentChop:function(C,T){return a("div_seg",{seg:C,pt:T}),a("chop",{seg:C,pt:T})},statusRemove:function(C){return a("pop_seg",{seg:C})},segmentUpdate:function(C){return a("seg_update",{seg:C})},segmentNew:function(C,T){return a("new_seg",{seg:C,primary:T})},segmentRemove:function(C){return a("rem_seg",{seg:C})},tempStatus:function(C,T,v){return a("temp_status",{seg:C,above:T,below:v})},rewind:function(C){return a("rewind",{seg:C})},status:function(C,T,v){return a("status",{seg:C,above:T,below:v})},vert:function(C){return C===R?e:(R=C,a("vert",{x:C}))},log:function(C){return typeof C!="string"&&(C=JSON.stringify(C,!1,"  ")),a("log",{txt:C})},reset:function(){return a("reset")},selected:function(C){return a("selected",{segs:C})},chainStart:function(C){return a("chain_start",{seg:C})},chainRemoveHead:function(C,T){return a("chain_rem_head",{index:C,pt:T})},chainRemoveTail:function(C,T){return a("chain_rem_tail",{index:C,pt:T})},chainNew:function(C,T){return a("chain_new",{pt1:C,pt2:T})},chainMatch:function(C){return a("chain_match",{index:C})},chainClose:function(C){return a("chain_close",{index:C})},chainAddHead:function(C,T){return a("chain_add_head",{index:C,pt:T})},chainAddTail:function(C,T){return a("chain_add_tail",{index:C,pt:T})},chainConnect:function(C,T){return a("chain_con",{index1:C,index2:T})},chainReverse:function(C){return a("chain_rev",{index:C})},chainJoin:function(C,T){return a("chain_join",{index1:C,index2:T})},done:function(){return a("done")}},e}W.exports=H},29023:function(W){function H(e){typeof e!="number"&&(e=1e-10);var g={epsilon:function(R){return typeof R=="number"&&(e=R),e},pointAboveOrOnLine:function(R,a,C){var T=a[0],v=a[1],y=C[0],t=C[1],r=R[0],s=R[1];return(y-T)*(s-v)-(t-v)*(r-T)>=-e},pointBetween:function(R,a,C){var T=R[1]-a[1],v=C[0]-a[0],y=R[0]-a[0],t=C[1]-a[1],r=y*v+T*t;if(r<e)return!1;var s=v*v+t*t;return!(r-s>-e)},pointsSameX:function(R,a){return Math.abs(R[0]-a[0])<e},pointsSameY:function(R,a){return Math.abs(R[1]-a[1])<e},pointsSame:function(R,a){return g.pointsSameX(R,a)&&g.pointsSameY(R,a)},pointsCompare:function(R,a){return g.pointsSameX(R,a)?g.pointsSameY(R,a)?0:R[1]<a[1]?-1:1:R[0]<a[0]?-1:1},pointsCollinear:function(R,a,C){var T=R[0]-a[0],v=R[1]-a[1],y=a[0]-C[0],t=a[1]-C[1];return Math.abs(T*t-y*v)<e},linesIntersect:function(R,a,C,T){var v=a[0]-R[0],y=a[1]-R[1],t=T[0]-C[0],r=T[1]-C[1],s=v*r-y*t;if(Math.abs(s)<e)return!1;var n=R[0]-C[0],o=R[1]-C[1],f=(t*o-r*n)/s,u=(v*o-y*n)/s,m={alongA:0,alongB:0,pt:[R[0]+f*v,R[1]+f*y]};return f<=-e?m.alongA=-2:f<e?m.alongA=-1:f-1<=-e?m.alongA=0:f-1<e?m.alongA=1:m.alongA=2,u<=-e?m.alongB=-2:u<e?m.alongB=-1:u-1<=-e?m.alongB=0:u-1<e?m.alongB=1:m.alongB=2,m},pointInsideRegion:function(R,a){for(var C=R[0],T=R[1],v=a[a.length-1][0],y=a[a.length-1][1],t=!1,r=0;r<a.length;r++){var s=a[r][0],n=a[r][1];n-T>e!=y-T>e&&(v-s)*(T-n)/(y-n)+s-C>e&&(t=!t),v=s,y=n}return t}};return g}W.exports=H},10670:function(W){var H={toPolygon:function(e,g){function R(T){if(T.length<=0)return e.segments({inverted:!1,regions:[]});function v(r){var s=r.slice(0,r.length-1);return e.segments({inverted:!1,regions:[s]})}for(var y=v(T[0]),t=1;t<T.length;t++)y=e.selectDifference(e.combine(y,v(T[t])));return y}if(g.type==="Polygon")return e.polygon(R(g.coordinates));if(g.type==="MultiPolygon"){for(var a=e.segments({inverted:!1,regions:[]}),C=0;C<g.coordinates.length;C++)a=e.selectUnion(e.combine(a,R(g.coordinates[C])));return e.polygon(a)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(e,g,R){R=e.polygon(e.segments(R));function a(f,u){return g.pointInsideRegion([(f[0][0]+f[1][0])*.5,(f[0][1]+f[1][1])*.5],u)}function C(f){return{region:f,children:[]}}var T=C(null);function v(f,u){for(var m=0;m<f.children.length;m++){var c=f.children[m];if(a(u,c.region)){v(c,u);return}}for(var A=C(u),m=0;m<f.children.length;m++){var c=f.children[m];a(c.region,u)&&(A.children.push(c),f.children.splice(m,1),m--)}f.children.push(A)}for(var y=0;y<R.regions.length;y++){var t=R.regions[y];t.length<3||v(T,t)}function r(f,u){for(var m=0,c=f[f.length-1][0],A=f[f.length-1][1],h=[],l=0;l<f.length;l++){var p=f[l][0],M=f[l][1];h.push([p,M]),m+=M*c-p*A,c=p,A=M}var S=m<0;return S!==u&&h.reverse(),h.push([h[0][0],h[0][1]]),h}var s=[];function n(f){var u=[r(f.region,!1)];s.push(u);for(var m=0;m<f.children.length;m++)u.push(o(f.children[m]))}function o(f){for(var u=0;u<f.children.length;u++)n(f.children[u]);return r(f.region,!0)}for(var y=0;y<T.children.length;y++)n(T.children[y]);return s.length<=0?{type:"Polygon",coordinates:[]}:s.length==1?{type:"Polygon",coordinates:s[0]}:{type:"MultiPolygon",coordinates:s}}};W.exports=H},87263:function(W,H,e){var g=e(26859);function R(a,C,T){function v(A,h){return{id:T?T.segmentId():-1,start:A,end:h,myFill:{above:null,below:null},otherFill:null}}function y(A,h,l){return{id:T?T.segmentId():-1,start:A,end:h,myFill:{above:l.myFill.above,below:l.myFill.below},otherFill:null}}var t=g.create();function r(A,h,l,p,M,S){var P=C.pointsCompare(h,M);return P!==0?P:C.pointsSame(l,S)?0:A!==p?A?1:-1:C.pointAboveOrOnLine(l,p?M:S,p?S:M)?1:-1}function s(A,h){t.insertBefore(A,function(l){var p=r(A.isStart,A.pt,h,l.isStart,l.pt,l.other.pt);return p<0})}function n(A,h){var l=g.node({isStart:!0,pt:A.start,seg:A,primary:h,other:null,status:null});return s(l,A.end),l}function o(A,h,l){var p=g.node({isStart:!1,pt:h.end,seg:h,primary:l,other:A,status:null});A.other=p,s(p,A.pt)}function f(A,h){var l=n(A,h);return o(l,A,h),l}function u(A,h){T&&T.segmentChop(A.seg,h),A.other.remove(),A.seg.end=h,A.other.pt=h,s(A.other,A.pt)}function m(A,h){var l=y(h,A.seg.end,A.seg);return u(A,h),f(l,A.primary)}function c(A,h){var l=g.create();function p(z,B){var U=z.seg.start,F=z.seg.end,V=B.seg.start,j=B.seg.end;return C.pointsCollinear(U,V,j)?C.pointsCollinear(F,V,j)||C.pointAboveOrOnLine(F,V,j)?1:-1:C.pointAboveOrOnLine(U,V,j)?1:-1}function M(z){return l.findTransition(function(B){var U=p(z,B.ev);return U>0})}function S(z,B){var U=z.seg,F=B.seg,V=U.start,j=U.end,$=F.start,ne=F.end;T&&T.checkIntersection(U,F);var oe=C.linesIntersect(V,j,$,ne);if(oe===!1){if(!C.pointsCollinear(V,j,$)||C.pointsSame(V,ne)||C.pointsSame(j,$))return!1;var ce=C.pointsSame(V,$),Q=C.pointsSame(j,ne);if(ce&&Q)return B;var Z=!ce&&C.pointBetween(V,$,ne),K=!Q&&C.pointBetween(j,$,ne);if(ce)return K?m(B,j):m(z,ne),B;Z&&(Q||(K?m(B,j):m(z,ne)),m(B,V))}else oe.alongA===0&&(oe.alongB===-1?m(z,$):oe.alongB===0?m(z,oe.pt):oe.alongB===1&&m(z,ne)),oe.alongB===0&&(oe.alongA===-1?m(B,V):oe.alongA===0?m(B,oe.pt):oe.alongA===1&&m(B,j));return!1}for(var P=[];!t.isEmpty();){var x=t.getHead();if(T&&T.vert(x.pt[0]),x.isStart){let z=function(){if(w){var B=S(x,w);if(B)return B}return i?S(x,i):!1};T&&T.segmentNew(x.seg,x.primary);var E=M(x),w=E.before?E.before.ev:null,i=E.after?E.after.ev:null;T&&T.tempStatus(x.seg,w?w.seg:!1,i?i.seg:!1);var L=z();if(L){if(a){var b;x.seg.myFill.below===null?b=!0:b=x.seg.myFill.above!==x.seg.myFill.below,b&&(L.seg.myFill.above=!L.seg.myFill.above)}else L.seg.otherFill=x.seg.myFill;T&&T.segmentUpdate(L.seg),x.other.remove(),x.remove()}if(t.getHead()!==x){T&&T.rewind(x.seg);continue}if(a){var b;x.seg.myFill.below===null?b=!0:b=x.seg.myFill.above!==x.seg.myFill.below,i?x.seg.myFill.below=i.seg.myFill.above:x.seg.myFill.below=A,b?x.seg.myFill.above=!x.seg.myFill.below:x.seg.myFill.above=x.seg.myFill.below}else if(x.seg.otherFill===null){var O;i?x.primary===i.primary?O=i.seg.otherFill.above:O=i.seg.myFill.above:O=x.primary?h:A,x.seg.otherFill={above:O,below:O}}T&&T.status(x.seg,w?w.seg:!1,i?i.seg:!1),x.other.status=E.insert(g.node({ev:x}))}else{var _=x.status;if(_===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(l.exists(_.prev)&&l.exists(_.next)&&S(_.prev.ev,_.next.ev),T&&T.statusRemove(_.ev.seg),_.remove(),!x.primary){var N=x.seg.myFill;x.seg.myFill=x.seg.otherFill,x.seg.otherFill=N}P.push(x.seg)}t.getHead().remove()}return T&&T.done(),P}return a?{addRegion:function(A){for(var h,l=A[A.length-1],p=0;p<A.length;p++){h=l,l=A[p];var M=C.pointsCompare(h,l);M!==0&&f(v(M<0?h:l,M<0?l:h),!0)}},calculate:function(A){return c(A,!1)}}:{calculate:function(A,h,l,p){return A.forEach(function(M){f(y(M.start,M.end,M),!0)}),l.forEach(function(M){f(y(M.start,M.end,M),!1)}),c(h,p)}}}W.exports=R},26859:function(W){var H={create:function(){var e={root:{root:!0,next:null},exists:function(g){return!(g===null||g===e.root)},isEmpty:function(){return e.root.next===null},getHead:function(){return e.root.next},insertBefore:function(g,R){for(var a=e.root,C=e.root.next;C!==null;){if(R(C)){g.prev=C.prev,g.next=C,C.prev.next=g,C.prev=g;return}a=C,C=C.next}a.next=g,g.prev=a,g.next=null},findTransition:function(g){for(var R=e.root,a=e.root.next;a!==null&&!g(a);)R=a,a=a.next;return{before:R===e.root?null:R,after:a,insert:function(C){return C.prev=R,C.next=a,R.next=C,a!==null&&(a.prev=C),C}}}};return e},node:function(e){return e.prev=null,e.next=null,e.remove=function(){e.prev.next=e.next,e.next&&(e.next.prev=e.prev),e.prev=null,e.next=null},e}};W.exports=H},11328:function(W){function H(e,g,R){var a=[],C=[];return e.forEach(function(T){var v=T.start,y=T.end;if(g.pointsSame(v,y)){console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");return}R&&R.chainStart(T);var t={index:0,matches_head:!1,matches_pt1:!1},r={index:0,matches_head:!1,matches_pt1:!1},s=t;function n(L,b,O){return s.index=L,s.matches_head=b,s.matches_pt1=O,s===t?(s=r,!1):(s=null,!0)}for(var o=0;o<a.length;o++){var f=a[o],u=f[0];f[1];var m=f[f.length-1];if(f[f.length-2],g.pointsSame(u,v)){if(n(o,!0,!0))break}else if(g.pointsSame(u,y)){if(n(o,!0,!1))break}else if(g.pointsSame(m,v)){if(n(o,!1,!0))break}else if(g.pointsSame(m,y)&&n(o,!1,!1))break}if(s===t){a.push([v,y]),R&&R.chainNew(v,y);return}if(s===r){R&&R.chainMatch(t.index);var c=t.index,A=t.matches_pt1?y:v,h=t.matches_head,f=a[c],l=h?f[0]:f[f.length-1],p=h?f[1]:f[f.length-2],M=h?f[f.length-1]:f[0],S=h?f[f.length-2]:f[1];if(g.pointsCollinear(p,l,A)&&(h?(R&&R.chainRemoveHead(t.index,A),f.shift()):(R&&R.chainRemoveTail(t.index,A),f.pop()),l=p),g.pointsSame(M,A)){a.splice(c,1),g.pointsCollinear(S,M,l)&&(h?(R&&R.chainRemoveTail(t.index,l),f.pop()):(R&&R.chainRemoveHead(t.index,l),f.shift())),R&&R.chainClose(t.index),C.push(f);return}h?(R&&R.chainAddHead(t.index,A),f.unshift(A)):(R&&R.chainAddTail(t.index,A),f.push(A));return}function P(L){R&&R.chainReverse(L),a[L].reverse()}function x(L,b){var O=a[L],_=a[b],N=O[O.length-1],z=O[O.length-2],B=_[0],U=_[1];g.pointsCollinear(z,N,B)&&(R&&R.chainRemoveTail(L,N),O.pop(),N=z),g.pointsCollinear(N,B,U)&&(R&&R.chainRemoveHead(b,B),_.shift()),R&&R.chainJoin(L,b),a[L]=O.concat(_),a.splice(b,1)}var E=t.index,w=r.index;R&&R.chainConnect(E,w);var i=a[E].length<a[w].length;t.matches_head?r.matches_head?i?(P(E),x(E,w)):(P(w),x(w,E)):x(w,E):r.matches_head?x(E,w):i?(P(E),x(w,E)):(P(w),x(E,w))}),C}W.exports=H},55968:function(W){function H(g,R,a){var C=[];return g.forEach(function(T){var v=(T.myFill.above?8:0)+(T.myFill.below?4:0)+(T.otherFill&&T.otherFill.above?2:0)+(T.otherFill&&T.otherFill.below?1:0);R[v]!==0&&C.push({id:a?a.segmentId():-1,start:T.start,end:T.end,myFill:{above:R[v]===1,below:R[v]===2},otherFill:null})}),a&&a.selected(C),C}var e={union:function(g,R){return H(g,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],R)},intersect:function(g,R){return H(g,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],R)},difference:function(g,R){return H(g,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],R)},differenceRev:function(g,R){return H(g,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],R)},xor:function(g,R){return H(g,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],R)}};W.exports=e},14847:function(W,H,e){var g=e(21630).Transform,R=e(90715);function a(){g.call(this,{readableObjectMode:!0})}a.prototype=Object.create(g.prototype),a.prototype.constructor=a,R(a.prototype),H.OF=function(T,v,y){for(var t=v,r=0;r<y.length;)if(T[t++]!==y[r++])return!1;return!0},H.eG=function(T,v){var y=[],t=0;if(v&&v==="hex")for(;t<T.length;)y.push(parseInt(T.slice(t,t+2),16)),t+=2;else for(;t<T.length;t++)y.push(T.charCodeAt(t)&255);return y},H.mP=function(T,v){return T[v]|T[v+1]<<8},H.n8=function(T,v){return T[v+1]|T[v]<<8},H.nm=function(T,v){return T[v]|T[v+1]<<8|T[v+2]<<16|T[v+3]*16777216},H.Ag=function(T,v){return T[v+3]|T[v+2]<<8|T[v+1]<<16|T[v]*16777216};function C(T,v,y){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||"",this.name=this.constructor.name,this.message=T,v&&(this.code=v),y&&(this.statusCode=y)}C.prototype=Object.create(Error.prototype),C.prototype.constructor=C},71371:function(W){function H(R,a){var C=new Error(R);return C.code=a,C}function e(R){try{return decodeURIComponent(escape(R))}catch{return R}}function g(R,a,C){this.input=R.subarray(a,C),this.start=a;var T=String.fromCharCode.apply(null,this.input.subarray(0,4));if(T!=="II*\0"&&T!=="MM\0*")throw H("invalid TIFF signature","EBADDATA");this.big_endian=T[0]==="M"}g.prototype.each=function(R){this.aborted=!1;var a=this.read_uint32(4);for(this.ifds_to_read=[{id:0,offset:a}];this.ifds_to_read.length>0&&!this.aborted;){var C=this.ifds_to_read.shift();C.offset&&this.scan_ifd(C.id,C.offset,R)}},g.prototype.read_uint16=function(R){var a=this.input;if(R+2>a.length)throw H("unexpected EOF","EBADDATA");return this.big_endian?a[R]*256+a[R+1]:a[R]+a[R+1]*256},g.prototype.read_uint32=function(R){var a=this.input;if(R+4>a.length)throw H("unexpected EOF","EBADDATA");return this.big_endian?a[R]*16777216+a[R+1]*65536+a[R+2]*256+a[R+3]:a[R]+a[R+1]*256+a[R+2]*65536+a[R+3]*16777216},g.prototype.is_subifd_link=function(R,a){return R===0&&a===34665||R===0&&a===34853||R===34665&&a===40965},g.prototype.exif_format_length=function(R){switch(R){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}},g.prototype.exif_format_read=function(R,a){var C;switch(R){case 1:case 2:return C=this.input[a],C;case 6:return C=this.input[a],C|(C&128)*33554430;case 3:return C=this.read_uint16(a),C;case 8:return C=this.read_uint16(a),C|(C&32768)*131070;case 4:return C=this.read_uint32(a),C;case 9:return C=this.read_uint32(a),C|0;case 5:case 10:case 11:case 12:return null;case 7:return null;default:return null}},g.prototype.scan_ifd=function(R,a,C){var T=this.read_uint16(a);a+=2;for(var v=0;v<T;v++){var y=this.read_uint16(a),t=this.read_uint16(a+2),r=this.read_uint32(a+4),s=this.exif_format_length(t),n=r*s,o=n<=4?a+8:this.read_uint32(a+8),f=!1;if(o+n>this.input.length)throw H("unexpected EOF","EBADDATA");for(var u=[],m=o,c=0;c<r;c++,m+=s){var A=this.exif_format_read(t,m);if(A===null){u=null;break}u.push(A)}Array.isArray(u)&&t===2&&(u=e(String.fromCharCode.apply(null,u)),u&&u[u.length-1]==="\0"&&(u=u.slice(0,-1))),this.is_subifd_link(R,y)&&Array.isArray(u)&&Number.isInteger(u[0])&&u[0]>0&&(this.ifds_to_read.push({id:y,offset:u[0]}),f=!0);var h={is_big_endian:this.big_endian,ifd:R,tag:y,format:t,count:r,entry_offset:a+this.start,data_length:n,data_offset:o+this.start,value:u,is_subifd_link:f};if(C(h)===!1){this.aborted=!0;return}a+=12}R===0&&this.ifds_to_read.push({id:1,offset:this.read_uint32(a)})},W.exports.ExifParser=g,W.exports.get_orientation=function(R){var a=0;try{return new g(R,0,R.length).each(function(C){if(C.ifd===0&&C.tag===274&&Array.isArray(C.value))return a=C.value[0],!1}),a}catch{return-1}}},76767:function(W,H,e){var g=e(14847).n8,R=e(14847).Ag;function a(n,o){if(n.length<4+o)return null;var f=R(n,o);return n.length<f+o||f<8?null:{boxtype:String.fromCharCode.apply(null,n.slice(o+4,o+8)),data:n.slice(o+8,o+f),end:o+f}}W.exports.unbox=a;function C(n,o){for(var f=0;;){var u=a(n,f);if(!u)break;switch(u.boxtype){case"ispe":o.sizes.push({width:R(u.data,4),height:R(u.data,8)});break;case"irot":o.transforms.push({type:"irot",value:u.data[0]&3});break;case"imir":o.transforms.push({type:"imir",value:u.data[0]&1});break}f=u.end}}function T(n,o,f){for(var u=0,m=0;m<f;m++)u=u*256+(n[o+m]||0);return u}function v(n,o){for(var f=n[4]>>4&15,u=n[4]&15,m=n[5]>>4&15,c=g(n,6),A=8,h=0;h<c;h++){var l=g(n,A);A+=2;var p=g(n,A);A+=2;var M=T(n,A,m);A+=m;var S=g(n,A);if(A+=2,p===0&&S===1){var P=T(n,A,f),x=T(n,A+f,u);o.item_loc[l]={length:x,offset:P+M}}A+=S*(f+u)}}function y(n,o){for(var f=g(n,4),u=6,m=0;m<f;m++){var c=a(n,u);if(!c)break;if(c.boxtype==="infe"){for(var A=g(c.data,4),h="",l=8;l<c.data.length&&c.data[l];l++)h+=String.fromCharCode(c.data[l]);o.item_inf[h]=A}u=c.end}}function t(n,o){for(var f=0;;){var u=a(n,f);if(!u)break;u.boxtype==="ipco"&&C(u.data,o),f=u.end}}function r(n,o){for(var f=4;;){var u=a(n,f);if(!u)break;u.boxtype==="iprp"&&t(u.data,o),u.boxtype==="iloc"&&v(u.data,o),u.boxtype==="iinf"&&y(u.data,o),f=u.end}}function s(n){var o=n.reduce(function(m,c){return m.width>c.width||m.width===c.width&&m.height>c.height?m:c}),f=n.reduce(function(m,c){return m.height>c.height||m.height===c.height&&m.width>c.width?m:c}),u;return o.width>f.height||o.width===f.height&&o.height>f.width?u=o:u=f,u}W.exports.readSizeFromMeta=function(n){var o={sizes:[],transforms:[],item_inf:{},item_loc:{}};if(r(n,o),!!o.sizes.length){var f=s(o.sizes),u=1;o.transforms.forEach(function(c){var A={1:6,2:5,3:8,4:7,5:4,6:3,7:2,8:1},h={1:4,2:3,3:2,4:1,5:6,6:5,7:8,8:7};if(c.type==="imir"&&(c.value===0?u=h[u]:(u=h[u],u=A[u],u=A[u])),c.type==="irot")for(var l=0;l<c.value;l++)u=A[u]});var m=null;return o.item_inf.Exif&&(m=o.item_loc[o.item_inf.Exif]),{width:f.width,height:f.height,orientation:o.transforms.length?u:null,variants:o.sizes,exif_location:m}}},W.exports.getMimeType=function(n){var o=String.fromCharCode.apply(null,n.slice(0,4)),f={};f[o]=!0;for(var u=8;u<n.length;u+=4)f[String.fromCharCode.apply(null,n.slice(u,u+4))]=!0;if(!(!f.mif1&&!f.msf1&&!f.miaf))return o==="avif"||o==="avis"||o==="avio"?{type:"avif",mime:"image/avif"}:o==="heic"||o==="heix"?{type:"heic",mime:"image/heic"}:o==="hevc"||o==="hevx"?{type:"heic",mime:"image/heic-sequence"}:f.avif||f.avis?{type:"avif",mime:"image/avif"}:f.heic||f.heix||f.hevc||f.hevx||f.heis?f.msf1?{type:"heif",mime:"image/heif-sequence"}:{type:"heif",mime:"image/heif"}:{type:"avif",mime:"image/avif"}}},24461:function(W,H,e){var g=e(14847).eG,R=e(14847).OF,a=e(14847).Ag,C=e(76767),T=e(71371),v=g("ftyp");W.exports=function(y){if(R(y,4,v)){var t=C.unbox(y,0);if(t){var r=C.getMimeType(t.data);if(r){for(var s,n=t.end;;){var o=C.unbox(y,n);if(!o)break;if(n=o.end,o.boxtype==="mdat")return;if(o.boxtype==="meta"){s=o.data;break}}if(s){var f=C.readSizeFromMeta(s);if(f){var u={width:f.width,height:f.height,type:r.type,mime:r.mime,wUnits:"px",hUnits:"px"};if(f.variants.length>1&&(u.variants=f.variants),f.orientation&&(u.orientation=f.orientation),f.exif_location&&f.exif_location.offset+f.exif_location.length<=y.length){var m=a(y,f.exif_location.offset),c=y.slice(f.exif_location.offset+m+4,f.exif_location.offset+f.exif_location.length),A=T.get_orientation(c);A>0&&(u.orientation=A)}return u}}}}}}},2504:function(W,H,e){var g=e(14847).eG,R=e(14847).OF,a=e(14847).mP,C=g("BM");W.exports=function(T){if(!(T.length<26)&&R(T,0,C))return{width:a(T,18),height:a(T,22),type:"bmp",mime:"image/bmp",wUnits:"px",hUnits:"px"}}},47342:function(W,H,e){var g=e(14847).eG,R=e(14847).OF,a=e(14847).mP,C=g("GIF87a"),T=g("GIF89a");W.exports=function(v){if(!(v.length<10)&&!(!R(v,0,C)&&!R(v,0,T)))return{width:a(v,6),height:a(v,8),type:"gif",mime:"image/gif",wUnits:"px",hUnits:"px"}}},31355:function(W,H,e){var g=e(14847).mP,R=0,a=1,C=16;W.exports=function(T){var v=g(T,0),y=g(T,2),t=g(T,4);if(!(v!==R||y!==a||!t)){for(var r=[],s={width:0,height:0},n=0;n<t;n++){var o=T[6+C*n]||256,f=T[6+C*n+1]||256,u={width:o,height:f};r.push(u),(o>s.width||f>s.height)&&(s=u)}return{width:s.width,height:s.height,variants:r,type:"ico",mime:"image/x-icon",wUnits:"px",hUnits:"px"}}}},54261:function(W,H,e){var g=e(14847).n8,R=e(14847).eG,a=e(14847).OF,C=e(71371),T=R("Exif\0\0");W.exports=function(v){if(!(v.length<2)&&!(v[0]!==255||v[1]!==216||v[2]!==255))for(var y=2;;){for(;;){if(v.length-y<2)return;if(v[y++]===255)break}for(var t=v[y++],r;t===255;)t=v[y++];if(208<=t&&t<=217||t===1)r=0;else if(192<=t&&t<=254){if(v.length-y<2)return;r=g(v,y)-2,y+=2}else return;if(t===217||t===218)return;var s;if(t===225&&r>=10&&a(v,y,T)&&(s=C.get_orientation(v.slice(y+6,y+r))),r>=5&&192<=t&&t<=207&&t!==196&&t!==200&&t!==204){if(v.length-y<r)return;var n={width:g(v,y+3),height:g(v,y+1),type:"jpg",mime:"image/jpeg",wUnits:"px",hUnits:"px"};return s>0&&(n.orientation=s),n}y+=r}}},6303:function(W,H,e){var g=e(14847).eG,R=e(14847).OF,a=e(14847).Ag,C=g(`PNG\r

`),T=g("IHDR");W.exports=function(v){if(!(v.length<24)&&R(v,0,C)&&R(v,12,T))return{width:a(v,16),height:a(v,20),type:"png",mime:"image/png",wUnits:"px",hUnits:"px"}}},38689:function(W,H,e){var g=e(14847).eG,R=e(14847).OF,a=e(14847).Ag,C=g("8BPS\0");W.exports=function(T){if(!(T.length<22)&&R(T,0,C))return{width:a(T,18),height:a(T,14),type:"psd",mime:"image/vnd.adobe.photoshop",wUnits:"px",hUnits:"px"}}},6881:function(W){function H(s){return s===32||s===9||s===13||s===10}function e(s){return typeof s=="number"&&isFinite(s)&&s>0}function g(s){var n=0,o=s.length;for(s[0]===239&&s[1]===187&&s[2]===191&&(n=3);n<o&&H(s[n]);)n++;return n===o?!1:s[n]===60}var R=/<[-_.:a-zA-Z0-9][^>]*>/,a=/^<([-_.:a-zA-Z0-9]+:)?svg\s/,C=/[^-]\bwidth="([^%]+?)"|[^-]\bwidth='([^%]+?)'/,T=/\bheight="([^%]+?)"|\bheight='([^%]+?)'/,v=/\bview[bB]ox="(.+?)"|\bview[bB]ox='(.+?)'/,y=/in$|mm$|cm$|pt$|pc$|px$|em$|ex$/;function t(s){var n=s.match(C),o=s.match(T),f=s.match(v);return{width:n&&(n[1]||n[2]),height:o&&(o[1]||o[2]),viewbox:f&&(f[1]||f[2])}}function r(s){return y.test(s)?s.match(y)[0]:"px"}W.exports=function(s){if(g(s)){for(var n="",o=0;o<s.length;o++)n+=String.fromCharCode(s[o]);var f=(n.match(R)||[""])[0];if(a.test(f)){var u=t(f),m=parseFloat(u.width),c=parseFloat(u.height);if(u.width&&u.height)return!e(m)||!e(c)?void 0:{width:m,height:c,type:"svg",mime:"image/svg+xml",wUnits:r(u.width),hUnits:r(u.height)};var A=(u.viewbox||"").split(" "),h={width:A[2],height:A[3]},l=parseFloat(h.width),p=parseFloat(h.height);if(!(!e(l)||!e(p))&&r(h.width)===r(h.height)){var M=l/p;return u.width?e(m)?{width:m,height:m/M,type:"svg",mime:"image/svg+xml",wUnits:r(u.width),hUnits:r(u.width)}:void 0:u.height?e(c)?{width:c*M,height:c,type:"svg",mime:"image/svg+xml",wUnits:r(u.height),hUnits:r(u.height)}:void 0:{width:l,height:p,type:"svg",mime:"image/svg+xml",wUnits:r(h.width),hUnits:r(h.height)}}}}}},66278:function(W,H,e){var g=e(14847).eG,R=e(14847).OF,a=e(14847).mP,C=e(14847).n8,T=e(14847).nm,v=e(14847).Ag,y=g("II*\0"),t=g("MM\0*");function r(o,f,u){return u?C(o,f):a(o,f)}function s(o,f,u){return u?v(o,f):T(o,f)}function n(o,f,u){var m=r(o,f+2,u),c=s(o,f+4,u);return c!==1||m!==3&&m!==4?null:m===3?r(o,f+8,u):s(o,f+8,u)}W.exports=function(o){if(!(o.length<8)&&!(!R(o,0,y)&&!R(o,0,t))){var f=o[0]===77,u=s(o,4,f)-8;if(!(u<0)){var m=u+8;if(!(o.length-m<2)){var c=r(o,m+0,f)*12;if(!(c<=0)&&(m+=2,!(o.length-m<c))){var A,h,l,p;for(A=0;A<c;A+=12)p=r(o,m+A,f),p===256?h=n(o,m+A,f):p===257&&(l=n(o,m+A,f));if(h&&l)return{width:h,height:l,type:"tiff",mime:"image/tiff",wUnits:"px",hUnits:"px"}}}}}}},90784:function(W,H,e){var g=e(14847).eG,R=e(14847).OF,a=e(14847).mP,C=e(14847).nm,T=e(71371),v=g("RIFF"),y=g("WEBP");function t(n,o){if(!(n[o+3]!==157||n[o+4]!==1||n[o+5]!==42))return{width:a(n,o+6)&16383,height:a(n,o+8)&16383,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}function r(n,o){if(n[o]===47){var f=C(n,o+1);return{width:(f&16383)+1,height:(f>>14&16383)+1,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}}function s(n,o){return{width:(n[o+6]<<16|n[o+5]<<8|n[o+4])+1,height:(n[o+9]<<o|n[o+8]<<8|n[o+7])+1,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}W.exports=function(n){if(!(n.length<16)&&!(!R(n,0,v)&&!R(n,8,y))){var o=12,f=null,u=0,m=C(n,4)+8;if(!(m>n.length)){for(;o+8<m;){if(n[o]===0){o++;continue}var c=String.fromCharCode.apply(null,n.slice(o,o+4)),A=C(n,o+4);c==="VP8 "&&A>=10?f=f||t(n,o+8):c==="VP8L"&&A>=9?f=f||r(n,o+8):c==="VP8X"&&A>=10?f=f||s(n,o+8):c==="EXIF"&&(u=T.get_orientation(n.slice(o+8,o+8+A)),o=1/0),o+=8+A}if(f)return u>0&&(f.orientation=u),f}}}},91497:function(W,H,e){W.exports={avif:e(24461),bmp:e(2504),gif:e(47342),ico:e(31355),jpeg:e(54261),png:e(6303),psd:e(38689),svg:e(6881),tiff:e(66278),webp:e(90784)}},33575:function(W,H,e){var g=e(91497);function R(a){for(var C=Object.keys(g),T=0;T<C.length;T++){var v=g[C[T]](a);if(v)return v}return null}W.exports=function(C){return R(C)},W.exports.parsers=g},90386:function(W){var H=W.exports={},e,g;function R(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=R}catch{e=R}try{typeof clearTimeout=="function"?g=clearTimeout:g=a}catch{g=a}})();function C(u){if(e===setTimeout)return setTimeout(u,0);if((e===R||!e)&&setTimeout)return e=setTimeout,setTimeout(u,0);try{return e(u,0)}catch{try{return e.call(null,u,0)}catch{return e.call(this,u,0)}}}function T(u){if(g===clearTimeout)return clearTimeout(u);if((g===a||!g)&&clearTimeout)return g=clearTimeout,clearTimeout(u);try{return g(u)}catch{try{return g.call(null,u)}catch{return g.call(this,u)}}}var v=[],y=!1,t,r=-1;function s(){!y||!t||(y=!1,t.length?v=t.concat(v):r=-1,v.length&&n())}function n(){if(!y){var u=C(s);y=!0;for(var m=v.length;m;){for(t=v,v=[];++r<m;)t&&t[r].run();r=-1,m=v.length}t=null,y=!1,T(u)}}H.nextTick=function(u){var m=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)m[c-1]=arguments[c];v.push(new o(u,m)),v.length===1&&!y&&C(n)};function o(u,m){this.fun=u,this.array=m}o.prototype.run=function(){this.fun.apply(null,this.array)},H.title="browser",H.browser=!0,H.env={},H.argv=[],H.version="",H.versions={};function f(){}H.on=f,H.addListener=f,H.once=f,H.off=f,H.removeListener=f,H.removeAllListeners=f,H.emit=f,H.prependListener=f,H.prependOnceListener=f,H.listeners=function(u){return[]},H.binding=function(u){throw new Error("process.binding is not supported")},H.cwd=function(){return"/"},H.chdir=function(u){throw new Error("process.chdir is not supported")},H.umask=function(){return 0}},5877:function(W,H,e){for(var g=e(9748),R=typeof window>"u"?e.g:window,a=["moz","webkit"],C="AnimationFrame",T=R["request"+C],v=R["cancel"+C]||R["cancelRequest"+C],y=0;!T&&y<a.length;y++)T=R[a[y]+"Request"+C],v=R[a[y]+"Cancel"+C]||R[a[y]+"CancelRequest"+C];if(!T||!v){var t=0,r=0,s=[],n=1e3/60;T=function(o){if(s.length===0){var f=g(),u=Math.max(0,n-(f-t));t=u+f,setTimeout(function(){var m=s.slice(0);s.length=0;for(var c=0;c<m.length;c++)if(!m[c].cancelled)try{m[c].callback(t)}catch(A){setTimeout(function(){throw A},0)}},Math.round(u))}return s.push({handle:++r,callback:o,cancelled:!1}),r},v=function(o){for(var f=0;f<s.length;f++)s[f].handle===o&&(s[f].cancelled=!0)}}W.exports=function(o){return T.call(R,o)},W.exports.cancel=function(){v.apply(R,arguments)},W.exports.polyfill=function(o){o||(o=R),o.requestAnimationFrame=T,o.cancelAnimationFrame=v}},3593:function(W,H,e){var g=e(21527),R=e(25075),a=e(93447),C=e(71299),T=e(56131),v=e(30120),y=e(57060),t=y.float32,r=y.fract32;W.exports=n;var s=[[1,0,0,1,0,0],[1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,1,0,0],[1,0,0,1,0,0],[1,0,-1,0,0,1],[1,0,-1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,1],[1,0,-1,0,0,1],[-1,0,-1,0,0,1],[-1,0,-1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,1],[-1,0,-1,0,0,1],[0,1,1,0,0,0],[0,1,-1,0,0,0],[0,-1,-1,0,0,0],[0,-1,-1,0,0,0],[0,1,1,0,0,0],[0,-1,1,0,0,0],[0,1,0,-1,1,0],[0,1,0,-1,-1,0],[0,1,0,1,-1,0],[0,1,0,1,1,0],[0,1,0,-1,1,0],[0,1,0,1,-1,0],[0,-1,0,-1,1,0],[0,-1,0,-1,-1,0],[0,-1,0,1,-1,0],[0,-1,0,1,1,0],[0,-1,0,-1,1,0],[0,-1,0,1,-1,0]];function n(o,f){if(typeof o=="function"?(f||(f={}),f.regl=o):f=o,f.length&&(f.positions=f),o=f.regl,!o.hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");var u=o._gl,m,c,A,h,l,p,M={color:"black",capSize:5,lineWidth:1,opacity:1,viewport:null,range:null,offset:0,count:0,bounds:null,positions:[],errors:[]},S=[];return h=o.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array(0)}),c=o.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),A=o.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),l=o.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),p=o.buffer({usage:"static",type:"float",data:s}),w(f),m=o({vert:`
		precision highp float;

		attribute vec2 position, positionFract;
		attribute vec4 error;
		attribute vec4 color;

		attribute vec2 direction, lineOffset, capOffset;

		uniform vec4 viewport;
		uniform float lineWidth, capSize;
		uniform vec2 scale, scaleFract, translate, translateFract;

		varying vec4 fragColor;

		void main() {
			fragColor = color / 255.;

			vec2 pixelOffset = lineWidth * lineOffset + (capSize + lineWidth) * capOffset;

			vec2 dxy = -step(.5, direction.xy) * error.xz + step(direction.xy, vec2(-.5)) * error.yw;

			vec2 position = position + dxy;

			vec2 pos = (position + translate) * scale
				+ (positionFract + translateFract) * scale
				+ (position + translate) * scaleFract
				+ (positionFract + translateFract) * scaleFract;

			pos += pixelOffset / viewport.zw;

			gl_Position = vec4(pos * 2. - 1., 0, 1);
		}
		`,frag:`
		precision highp float;

		varying vec4 fragColor;

		uniform float opacity;

		void main() {
			gl_FragColor = fragColor;
			gl_FragColor.a *= opacity;
		}
		`,uniforms:{range:o.prop("range"),lineWidth:o.prop("lineWidth"),capSize:o.prop("capSize"),opacity:o.prop("opacity"),scale:o.prop("scale"),translate:o.prop("translate"),scaleFract:o.prop("scaleFract"),translateFract:o.prop("translateFract"),viewport:function(L,b){return[b.viewport.x,b.viewport.y,L.viewportWidth,L.viewportHeight]}},attributes:{color:{buffer:h,offset:function(L,b){return b.offset*4},divisor:1},position:{buffer:c,offset:function(L,b){return b.offset*8},divisor:1},positionFract:{buffer:A,offset:function(L,b){return b.offset*8},divisor:1},error:{buffer:l,offset:function(L,b){return b.offset*16},divisor:1},direction:{buffer:p,stride:24,offset:0},lineOffset:{buffer:p,stride:24,offset:8},capOffset:{buffer:p,stride:24,offset:16}},primitive:"triangles",blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:!1},scissor:{enable:!0,box:o.prop("viewport")},viewport:o.prop("viewport"),stencil:!1,instances:o.prop("count"),count:s.length}),T(P,{update:w,draw:x,destroy:i,regl:o,gl:u,canvas:u.canvas,groups:S}),P;function P(L){L?w(L):L===null&&i(),x()}function x(L){if(typeof L=="number")return E(L);L&&!Array.isArray(L)&&(L=[L]),o._refresh(),S.forEach(function(b,O){if(b){if(L&&(L[O]?b.draw=!0:b.draw=!1),!b.draw){b.draw=!0;return}E(O)}})}function E(L){typeof L=="number"&&(L=S[L]),L!=null&&L&&L.count&&L.color&&L.opacity&&L.positions&&L.positions.length>1&&(L.scaleRatio=[L.scale[0]*L.viewport.width,L.scale[1]*L.viewport.height],m(L),L.after&&L.after(L))}function w(L){if(L){L.length!=null?typeof L[0]=="number"&&(L=[{positions:L}]):Array.isArray(L)||(L=[L]);var b=0,O=0;if(P.groups=S=L.map(function(V,j){var $=S[j];if(V)typeof V=="function"?V={after:V}:typeof V[0]=="number"&&(V={positions:V});else return $;return V=C(V,{color:"color colors fill",capSize:"capSize cap capsize cap-size",lineWidth:"lineWidth line-width width line thickness",opacity:"opacity alpha",range:"range dataBox",viewport:"viewport viewBox",errors:"errors error",positions:"positions position data points"}),$||(S[j]=$={id:j,scale:null,translate:null,scaleFract:null,translateFract:null,draw:!0},V=T({},M,V)),a($,V,[{lineWidth:function(ne){return+ne*.5},capSize:function(ne){return+ne*.5},opacity:parseFloat,errors:function(ne){return ne=v(ne),O+=ne.length,ne},positions:function(ne,oe){return ne=v(ne,"float64"),oe.count=Math.floor(ne.length/2),oe.bounds=g(ne,2),oe.offset=b,b+=oe.count,ne}},{color:function(ne,oe){var ce=oe.count;if(ne||(ne="transparent"),!Array.isArray(ne)||typeof ne[0]=="number"){var Q=ne;ne=Array(ce);for(var Z=0;Z<ce;Z++)ne[Z]=Q}if(ne.length<ce)throw Error("Not enough colors");for(var K=new Uint8Array(ce*4),J=0;J<ce;J++){var re=R(ne[J],"uint8");K.set(re,J*4)}return K},range:function(ne,oe,ce){var Q=oe.bounds;return ne||(ne=Q),oe.scale=[1/(ne[2]-ne[0]),1/(ne[3]-ne[1])],oe.translate=[-ne[0],-ne[1]],oe.scaleFract=r(oe.scale),oe.translateFract=r(oe.translate),ne},viewport:function(ne){var oe;return Array.isArray(ne)?oe={x:ne[0],y:ne[1],width:ne[2]-ne[0],height:ne[3]-ne[1]}:ne?(oe={x:ne.x||ne.left||0,y:ne.y||ne.top||0},ne.right?oe.width=ne.right-oe.x:oe.width=ne.w||ne.width||0,ne.bottom?oe.height=ne.bottom-oe.y:oe.height=ne.h||ne.height||0):oe={x:0,y:0,width:u.drawingBufferWidth,height:u.drawingBufferHeight},oe}}]),$}),b||O){var _=S.reduce(function(V,j,$){return V+(j?j.count:0)},0),N=new Float64Array(_*2),z=new Uint8Array(_*4),B=new Float32Array(_*4);S.forEach(function(V,j){if(V){var $=V.positions,ne=V.count,oe=V.offset,ce=V.color,Q=V.errors;ne&&(z.set(ce,oe*4),B.set(Q,oe*4),N.set($,oe*2))}});var U=t(N);c(U);var F=r(N,U);A(F),h(z),l(B)}}}function i(){c.destroy(),A.destroy(),h.destroy(),l.destroy(),p.destroy()}}},46075:function(W,H,e){var g=e(25075),R=e(21527),a=e(56131),C=e(56068),T=e(71299),v=e(30120),y=e(11474),t=e(54),r=e(57060),s=r.float32,n=r.fract32,o=e(83522),f=e(18863),u=e(6851);W.exports=m;function m(c,A){if(!(this instanceof m))return new m(c,A);if(typeof c=="function"?(A||(A={}),A.regl=c):A=c,A.length&&(A.positions=A),c=A.regl,!c.hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");this.gl=c._gl,this.regl=c,this.passes=[],this.shaders=m.shaders.has(c)?m.shaders.get(c):m.shaders.set(c,m.createShaders(c)).get(c),this.update(A)}m.dashMult=2,m.maxPatternLength=256,m.precisionThreshold=3e6,m.maxPoints=1e4,m.maxLines=2048,m.shaders=new o,m.createShaders=function(c){var A=c.buffer({usage:"static",type:"float",data:[0,1,0,0,1,1,1,0]}),h={primitive:"triangle strip",instances:c.prop("count"),count:4,offset:0,uniforms:{miterMode:function(S,P){return P.join==="round"?2:1},miterLimit:c.prop("miterLimit"),scale:c.prop("scale"),scaleFract:c.prop("scaleFract"),translateFract:c.prop("translateFract"),translate:c.prop("translate"),thickness:c.prop("thickness"),dashTexture:c.prop("dashTexture"),opacity:c.prop("opacity"),pixelRatio:c.context("pixelRatio"),id:c.prop("id"),dashLength:c.prop("dashLength"),viewport:function(S,P){return[P.viewport.x,P.viewport.y,S.viewportWidth,S.viewportHeight]},depth:c.prop("depth")},blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:function(S,P){return!P.overlay}},stencil:{enable:!1},scissor:{enable:!0,box:c.prop("viewport")},viewport:c.prop("viewport")},l=c(a({vert:C([`precision highp float;
#define GLSLIFY 1

attribute vec2 aCoord, bCoord, aCoordFract, bCoordFract;
attribute vec4 color;
attribute float lineEnd, lineTop;

uniform vec2 scale, scaleFract, translate, translateFract;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;

varying vec4 fragColor;
varying vec2 tangent;

vec2 project(vec2 position, vec2 positionFract, vec2 scale, vec2 scaleFract, vec2 translate, vec2 translateFract) {
	// the order is important
	return position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;
}

void main() {
	float lineStart = 1. - lineEnd;
	float lineOffset = lineTop * 2. - 1.;

	vec2 diff = (bCoord + bCoordFract - aCoord - aCoordFract);
	tangent = normalize(diff * scale * viewport.zw);
	vec2 normal = vec2(-tangent.y, tangent.x);

	vec2 position = project(aCoord, aCoordFract, scale, scaleFract, translate, translateFract) * lineStart
		+ project(bCoord, bCoordFract, scale, scaleFract, translate, translateFract) * lineEnd

		+ thickness * normal * .5 * lineOffset / viewport.zw;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
}
`]),frag:C([`precision highp float;
#define GLSLIFY 1

uniform float dashLength, pixelRatio, thickness, opacity, id;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;

void main() {
	float alpha = 1.;

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`]),attributes:{lineEnd:{buffer:A,divisor:0,stride:8,offset:0},lineTop:{buffer:A,divisor:0,stride:8,offset:4},aCoord:{buffer:c.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:c.prop("positionBuffer"),stride:8,offset:16,divisor:1},aCoordFract:{buffer:c.prop("positionFractBuffer"),stride:8,offset:8,divisor:1},bCoordFract:{buffer:c.prop("positionFractBuffer"),stride:8,offset:16,divisor:1},color:{buffer:c.prop("colorBuffer"),stride:4,offset:0,divisor:1}}},h)),p;try{p=c(a({cull:{enable:!0,face:"back"},vert:C([`precision highp float;
#define GLSLIFY 1

attribute vec2 aCoord, bCoord, nextCoord, prevCoord;
attribute vec4 aColor, bColor;
attribute float lineEnd, lineTop;

uniform vec2 scale, translate;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;
uniform float miterLimit, miterMode;

varying vec4 fragColor;
varying vec4 startCutoff, endCutoff;
varying vec2 tangent;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

const float REVERSE_THRESHOLD = -.875;
const float MIN_DIFF = 1e-6;

// TODO: possible optimizations: avoid overcalculating all for vertices and calc just one instead
// TODO: precalculate dot products, normalize things beforehead etc.
// TODO: refactor to rectangular algorithm

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

bool isNaN( float val ){
  return ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true;
}

void main() {
	vec2 aCoord = aCoord, bCoord = bCoord, prevCoord = prevCoord, nextCoord = nextCoord;

  vec2 adjustedScale;
  adjustedScale.x = (abs(scale.x) < MIN_DIFF) ? MIN_DIFF : scale.x;
  adjustedScale.y = (abs(scale.y) < MIN_DIFF) ? MIN_DIFF : scale.y;

  vec2 scaleRatio = adjustedScale * viewport.zw;
	vec2 normalWidth = thickness / scaleRatio;

	float lineStart = 1. - lineEnd;
	float lineBot = 1. - lineTop;

	fragColor = (lineStart * aColor + lineEnd * bColor) / 255.;

	if (isNaN(aCoord.x) || isNaN(aCoord.y) || isNaN(bCoord.x) || isNaN(bCoord.y)) return;

	if (aCoord == prevCoord) prevCoord = aCoord + normalize(bCoord - aCoord);
	if (bCoord == nextCoord) nextCoord = bCoord - normalize(bCoord - aCoord);

	vec2 prevDiff = aCoord - prevCoord;
	vec2 currDiff = bCoord - aCoord;
	vec2 nextDiff = nextCoord - bCoord;

	vec2 prevTangent = normalize(prevDiff * scaleRatio);
	vec2 currTangent = normalize(currDiff * scaleRatio);
	vec2 nextTangent = normalize(nextDiff * scaleRatio);

	vec2 prevNormal = vec2(-prevTangent.y, prevTangent.x);
	vec2 currNormal = vec2(-currTangent.y, currTangent.x);
	vec2 nextNormal = vec2(-nextTangent.y, nextTangent.x);

	vec2 startJoinDirection = normalize(prevTangent - currTangent);
	vec2 endJoinDirection = normalize(currTangent - nextTangent);

	// collapsed/unidirectional segment cases
	// FIXME: there should be more elegant solution
	vec2 prevTanDiff = abs(prevTangent - currTangent);
	vec2 nextTanDiff = abs(nextTangent - currTangent);
	if (max(prevTanDiff.x, prevTanDiff.y) < MIN_DIFF) {
		startJoinDirection = currNormal;
	}
	if (max(nextTanDiff.x, nextTanDiff.y) < MIN_DIFF) {
		endJoinDirection = currNormal;
	}
	if (aCoord == bCoord) {
		endJoinDirection = startJoinDirection;
		currNormal = prevNormal;
		currTangent = prevTangent;
	}

	tangent = currTangent;

	//calculate join shifts relative to normals
	float startJoinShift = dot(currNormal, startJoinDirection);
	float endJoinShift = dot(currNormal, endJoinDirection);

	float startMiterRatio = abs(1. / startJoinShift);
	float endMiterRatio = abs(1. / endJoinShift);

	vec2 startJoin = startJoinDirection * startMiterRatio;
	vec2 endJoin = endJoinDirection * endMiterRatio;

	vec2 startTopJoin, startBotJoin, endTopJoin, endBotJoin;
	startTopJoin = sign(startJoinShift) * startJoin * .5;
	startBotJoin = -startTopJoin;

	endTopJoin = sign(endJoinShift) * endJoin * .5;
	endBotJoin = -endTopJoin;

	vec2 aTopCoord = aCoord + normalWidth * startTopJoin;
	vec2 bTopCoord = bCoord + normalWidth * endTopJoin;
	vec2 aBotCoord = aCoord + normalWidth * startBotJoin;
	vec2 bBotCoord = bCoord + normalWidth * endBotJoin;

	//miter anti-clipping
	float baClipping = distToLine(bCoord, aCoord, aBotCoord) / dot(normalize(normalWidth * endBotJoin), normalize(normalWidth.yx * vec2(-startBotJoin.y, startBotJoin.x)));
	float abClipping = distToLine(aCoord, bCoord, bTopCoord) / dot(normalize(normalWidth * startBotJoin), normalize(normalWidth.yx * vec2(-endBotJoin.y, endBotJoin.x)));

	//prevent close to reverse direction switch
	bool prevReverse = dot(currTangent, prevTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, prevNormal)) * min(length(prevDiff), length(currDiff)) <  length(normalWidth * currNormal);
	bool nextReverse = dot(currTangent, nextTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, nextNormal)) * min(length(nextDiff), length(currDiff)) <  length(normalWidth * currNormal);

	if (prevReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * startJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / startMiterRatio, 1.);
		aBotCoord = aCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		aTopCoord = aCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!nextReverse && baClipping > 0. && baClipping < length(normalWidth * endBotJoin)) {
		//handle miter clipping
		bTopCoord -= normalWidth * endTopJoin;
		bTopCoord += normalize(endTopJoin * normalWidth) * baClipping;
	}

	if (nextReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * endJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / endMiterRatio, 1.);
		bBotCoord = bCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		bTopCoord = bCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!prevReverse && abClipping > 0. && abClipping < length(normalWidth * startBotJoin)) {
		//handle miter clipping
		aBotCoord -= normalWidth * startBotJoin;
		aBotCoord += normalize(startBotJoin * normalWidth) * abClipping;
	}

	vec2 aTopPosition = (aTopCoord) * adjustedScale + translate;
	vec2 aBotPosition = (aBotCoord) * adjustedScale + translate;

	vec2 bTopPosition = (bTopCoord) * adjustedScale + translate;
	vec2 bBotPosition = (bBotCoord) * adjustedScale + translate;

	//position is normalized 0..1 coord on the screen
	vec2 position = (aTopPosition * lineTop + aBotPosition * lineBot) * lineStart + (bTopPosition * lineTop + bBotPosition * lineBot) * lineEnd;

	startCoord = aCoord * scaleRatio + translate * viewport.zw + viewport.xy;
	endCoord = bCoord * scaleRatio + translate * viewport.zw + viewport.xy;

	gl_Position = vec4(position  * 2.0 - 1.0, depth, 1);

	enableStartMiter = step(dot(currTangent, prevTangent), .5);
	enableEndMiter = step(dot(currTangent, nextTangent), .5);

	//bevel miter cutoffs
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * miterLimit * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * miterLimit * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}

	//round miter cutoffs
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * abs(dot(startJoinDirection, currNormal)) * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * abs(dot(endJoinDirection, currNormal)) * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}
}
`]),frag:C([`precision highp float;
#define GLSLIFY 1

uniform float dashLength, pixelRatio, thickness, opacity, id, miterMode;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;
varying vec4 startCutoff, endCutoff;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

void main() {
	float alpha = 1., distToStart, distToEnd;
	float cutoff = thickness * .5;

	//bevel miter
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToStart + 1., 0.), 1.);
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToEnd + 1., 0.), 1.);
		}
	}

	// round miter
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < 0.) {
				float radius = length(gl_FragCoord.xy - startCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < 0.) {
				float radius = length(gl_FragCoord.xy - endCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}
	}

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`]),attributes:{lineEnd:{buffer:A,divisor:0,stride:8,offset:0},lineTop:{buffer:A,divisor:0,stride:8,offset:4},aColor:{buffer:c.prop("colorBuffer"),stride:4,offset:0,divisor:1},bColor:{buffer:c.prop("colorBuffer"),stride:4,offset:4,divisor:1},prevCoord:{buffer:c.prop("positionBuffer"),stride:8,offset:0,divisor:1},aCoord:{buffer:c.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:c.prop("positionBuffer"),stride:8,offset:16,divisor:1},nextCoord:{buffer:c.prop("positionBuffer"),stride:8,offset:24,divisor:1}}},h))}catch{p=l}var M=c({primitive:"triangle",elements:function(S,P){return P.triangles},offset:0,vert:C([`precision highp float;
#define GLSLIFY 1

attribute vec2 position, positionFract;

uniform vec4 color;
uniform vec2 scale, scaleFract, translate, translateFract;
uniform float pixelRatio, id;
uniform vec4 viewport;
uniform float opacity;

varying vec4 fragColor;

const float MAX_LINES = 256.;

void main() {
	float depth = (MAX_LINES - 4. - id) / (MAX_LINES);

	vec2 position = position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
	fragColor.a *= opacity;
}
`]),frag:C([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
	gl_FragColor = fragColor;
}
`]),uniforms:{scale:c.prop("scale"),color:c.prop("fill"),scaleFract:c.prop("scaleFract"),translateFract:c.prop("translateFract"),translate:c.prop("translate"),opacity:c.prop("opacity"),pixelRatio:c.context("pixelRatio"),id:c.prop("id"),viewport:function(S,P){return[P.viewport.x,P.viewport.y,S.viewportWidth,S.viewportHeight]}},attributes:{position:{buffer:c.prop("positionBuffer"),stride:8,offset:8},positionFract:{buffer:c.prop("positionFractBuffer"),stride:8,offset:8}},blend:h.blend,depth:{enable:!1},scissor:h.scissor,stencil:h.stencil,viewport:h.viewport});return{fill:M,rect:l,miter:p}},m.defaults={dashes:null,join:"miter",miterLimit:1,thickness:10,cap:"square",color:"black",opacity:1,overlay:!1,viewport:null,range:null,close:!1,fill:null},m.prototype.render=function(){for(var c,A=[],h=arguments.length;h--;)A[h]=arguments[h];A.length&&(c=this).update.apply(c,A),this.draw()},m.prototype.draw=function(){for(var c=this,A=[],h=arguments.length;h--;)A[h]=arguments[h];return(A.length?A:this.passes).forEach(function(l,p){var M;if(l&&Array.isArray(l))return(M=c).draw.apply(M,l);typeof l=="number"&&(l=c.passes[l]),l&&l.count>1&&l.opacity&&(c.regl._refresh(),l.fill&&l.triangles&&l.triangles.length>2&&c.shaders.fill(l),l.thickness&&(l.scale[0]*l.viewport.width>m.precisionThreshold||l.scale[1]*l.viewport.height>m.precisionThreshold||l.join==="rect"||!l.join&&(l.thickness<=2||l.count>=m.maxPoints)?c.shaders.rect(l):c.shaders.miter(l)))}),this},m.prototype.update=function(c){var A=this;if(c){c.length!=null?typeof c[0]=="number"&&(c=[{positions:c}]):Array.isArray(c)||(c=[c]);var h=this,l=h.regl,p=h.gl;if(c.forEach(function(E,w){var i=A.passes[w];if(E!==void 0){if(E===null){A.passes[w]=null;return}if(typeof E[0]=="number"&&(E={positions:E}),E=T(E,{positions:"positions points data coords",thickness:"thickness lineWidth lineWidths line-width linewidth width stroke-width strokewidth strokeWidth",join:"lineJoin linejoin join type mode",miterLimit:"miterlimit miterLimit",dashes:"dash dashes dasharray dash-array dashArray",color:"color colour stroke colors colours stroke-color strokeColor",fill:"fill fill-color fillColor",opacity:"alpha opacity",overlay:"overlay crease overlap intersect",close:"closed close closed-path closePath",range:"range dataBox",viewport:"viewport viewBox",hole:"holes hole hollow",splitNull:"splitNull"}),i||(A.passes[w]=i={id:w,scale:null,scaleFract:null,translate:null,translateFract:null,count:0,hole:[],depth:0,dashLength:1,dashTexture:l.texture({channels:1,data:new Uint8Array([255]),width:1,height:1,mag:"linear",min:"linear"}),colorBuffer:l.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array}),positionBuffer:l.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),positionFractBuffer:l.buffer({usage:"dynamic",type:"float",data:new Uint8Array})},E=a({},m.defaults,E)),E.thickness!=null&&(i.thickness=parseFloat(E.thickness)),E.opacity!=null&&(i.opacity=parseFloat(E.opacity)),E.miterLimit!=null&&(i.miterLimit=parseFloat(E.miterLimit)),E.overlay!=null&&(i.overlay=!!E.overlay,w<m.maxLines&&(i.depth=2*(m.maxLines-1-w%m.maxLines)/m.maxLines-1)),E.join!=null&&(i.join=E.join),E.hole!=null&&(i.hole=E.hole),E.fill!=null&&(i.fill=E.fill?g(E.fill,"uint8"):null),E.viewport!=null&&(i.viewport=f(E.viewport)),i.viewport||(i.viewport=f([p.drawingBufferWidth,p.drawingBufferHeight])),E.close!=null&&(i.close=E.close),E.positions===null&&(E.positions=[]),E.positions){var L,b;if(E.positions.x&&E.positions.y){var O=E.positions.x,_=E.positions.y;b=i.count=Math.max(O.length,_.length),L=new Float64Array(b*2);for(var N=0;N<b;N++)L[N*2]=O[N],L[N*2+1]=_[N]}else L=v(E.positions,"float64"),b=i.count=Math.floor(L.length/2);var z=i.bounds=R(L,2);if(i.fill){for(var B=[],U={},F=0,V=0,j=0,$=i.count;V<$;V++){var ne=L[V*2],oe=L[V*2+1];isNaN(ne)||isNaN(oe)||ne==null||oe==null?(ne=L[F*2],oe=L[F*2+1],U[V]=F):F=V,B[j++]=ne,B[j++]=oe}if(E.splitNull){i.count-1 in U||(U[i.count]=i.count-1);var ce=Object.keys(U).map(Number).sort(function(Be,De){return Be-De}),Q=[],Z=0,K=i.hole!=null?i.hole[0]:null;if(K!=null){var J=u(ce,function(Be){return Be>=K});ce=ce.slice(0,J),ce.push(K)}for(var re=function(Be){var De=B.slice(Z*2,ce[Be]*2).concat(K?B.slice(K*2):[]),we=(i.hole||[]).map(function(Ee){return Ee-K+(ce[Be]-Z)}),xe=y(De,we);xe=xe.map(function(Ee){return Ee+Z+(Ee+Z<ce[Be]?0:K-ce[Be])}),Q.push.apply(Q,xe),Z=ce[Be]+1},le=0;le<ce.length;le++)re(le);for(var q=0,ee=Q.length;q<ee;q++)U[Q[q]]!=null&&(Q[q]=U[Q[q]]);i.triangles=Q}else{for(var ue=y(B,i.hole||[]),se=0,he=ue.length;se<he;se++)U[ue[se]]!=null&&(ue[se]=U[ue[se]]);i.triangles=ue}}var me=new Float64Array(L);t(me,2,z);var Ce=new Float64Array(b*2+6);i.close?L[0]===L[b*2-2]&&L[1]===L[b*2-1]?(Ce[0]=me[b*2-4],Ce[1]=me[b*2-3]):(Ce[0]=me[b*2-2],Ce[1]=me[b*2-1]):(Ce[0]=me[0],Ce[1]=me[1]),Ce.set(me,2),i.close?L[0]===L[b*2-2]&&L[1]===L[b*2-1]?(Ce[b*2+2]=me[2],Ce[b*2+3]=me[3],i.count-=1):(Ce[b*2+2]=me[0],Ce[b*2+3]=me[1],Ce[b*2+4]=me[2],Ce[b*2+5]=me[3]):(Ce[b*2+2]=me[b*2-2],Ce[b*2+3]=me[b*2-1],Ce[b*2+4]=me[b*2-2],Ce[b*2+5]=me[b*2-1]);var Te=s(Ce);i.positionBuffer(Te);var Oe=n(Ce,Te);i.positionFractBuffer(Oe)}if(E.range?i.range=E.range:i.range||(i.range=i.bounds),(E.range||E.positions)&&i.count){var Ne=i.bounds,Le=Ne[2]-Ne[0],be=Ne[3]-Ne[1],Ae=i.range[2]-i.range[0],He=i.range[3]-i.range[1];i.scale=[Le/Ae,be/He],i.translate=[-i.range[0]/Ae+Ne[0]/Ae||0,-i.range[1]/He+Ne[1]/He||0],i.scaleFract=n(i.scale),i.translateFract=n(i.translate)}if(E.dashes){var Ve=0,ke;if(!E.dashes||E.dashes.length<2)Ve=1,ke=new Uint8Array([255,255,255,255,255,255,255,255]);else{Ve=0;for(var Ge=0;Ge<E.dashes.length;++Ge)Ve+=E.dashes[Ge];ke=new Uint8Array(Ve*m.dashMult);for(var it=0,et=255,tt=0;tt<2;tt++)for(var at=0;at<E.dashes.length;++at){for(var vt=0,yt=E.dashes[at]*m.dashMult*.5;vt<yt;++vt)ke[it++]=et;et^=255}}i.dashLength=Ve,i.dashTexture({channels:1,data:ke,width:ke.length,height:1,mag:"linear",min:"linear"},0,0)}if(E.color){var gt=i.count,Mt=E.color;Mt||(Mt="transparent");var Ct=new Uint8Array(gt*4+4);if(!Array.isArray(Mt)||typeof Mt[0]=="number")for(var Vt=g(Mt,"uint8"),Je=0;Je<gt+1;Je++)Ct.set(Vt,Je*4);else{for(var ze=0;ze<gt;ze++){var _e=g(Mt[ze],"uint8");Ct.set(_e,ze*4)}Ct.set(g(Mt[0],"uint8"),gt*4)}i.colorBuffer({usage:"dynamic",type:"uint8",data:Ct})}}}),c.length<this.passes.length){for(var M=c.length;M<this.passes.length;M++){var S=this.passes[M];S&&(S.colorBuffer.destroy(),S.positionBuffer.destroy(),S.dashTexture.destroy())}this.passes.length=c.length}for(var P=[],x=0;x<this.passes.length;x++)this.passes[x]!==null&&P.push(this.passes[x]);return this.passes=P,this}},m.prototype.destroy=function(){return this.passes.forEach(function(c){c.colorBuffer.destroy(),c.positionBuffer.destroy(),c.dashTexture.destroy()}),this.passes.length=0,this}},11870:function(W,H,e){function g(i,L){var b=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(b!=null){var O,_,N,z,B=[],U=!0,F=!1;try{if(N=(b=b.call(i)).next,L===0){if(Object(b)!==b)return;U=!1}else for(;!(U=(O=N.call(b)).done)&&(B.push(O.value),B.length!==L);U=!0);}catch(V){F=!0,_=V}finally{try{if(!U&&b.return!=null&&(z=b.return(),Object(z)!==z))return}finally{if(F)throw _}}return B}}function R(i,L){return T(i)||g(i,L)||y(i,L)||s()}function a(i){return C(i)||v(i)||y(i)||r()}function C(i){if(Array.isArray(i))return t(i)}function T(i){if(Array.isArray(i))return i}function v(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function y(i,L){if(i){if(typeof i=="string")return t(i,L);var b=Object.prototype.toString.call(i).slice(8,-1);if(b==="Object"&&i.constructor&&(b=i.constructor.name),b==="Map"||b==="Set")return Array.from(i);if(b==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return t(i,L)}}function t(i,L){(L==null||L>i.length)&&(L=i.length);for(var b=0,O=new Array(L);b<L;b++)O[b]=i[b];return O}function r(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n=e(25075),o=e(21527),f=e(6475),u=e(88294),m=e(56131),c=e(56068),A=e(71299),h=e(93447),l=e(30120),p=e(62683),M=e(57060),S=e(18863),P=x;function x(i,L){var b=this;if(!(this instanceof x))return new x(i,L);typeof i=="function"?(L||(L={}),L.regl=i):(L=i,i=null),L&&L.length&&(L.positions=L),i=L.regl;var O=i._gl,_,N=[],z={},B=[],U=[null],F=[null],V=255,j=100;this.tooManyColors=p,_=i.texture({data:new Uint8Array(V*4),width:V,height:1,type:"uint8",format:"rgba",wrapS:"clamp",wrapT:"clamp",mag:"nearest",min:"nearest"}),m(this,{regl:i,gl:O,groups:B,markerCache:F,markerTextures:U,palette:N,paletteIds:z,paletteTexture:_,maxColors:V,maxSize:j,canvas:O.canvas}),this.update(L);var $={uniforms:{constPointSize:!!L.constPointSize,opacity:i.prop("opacity"),paletteSize:function(Q,Z){return[b.tooManyColors?0:V,_.height]},pixelRatio:i.context("pixelRatio"),scale:i.prop("scale"),scaleFract:i.prop("scaleFract"),translate:i.prop("translate"),translateFract:i.prop("translateFract"),markerTexture:i.prop("markerTexture"),paletteTexture:_},attributes:{x:function(Q,Z){return Z.xAttr||{buffer:Z.positionBuffer,stride:8,offset:0}},y:function(Q,Z){return Z.yAttr||{buffer:Z.positionBuffer,stride:8,offset:4}},xFract:function(Q,Z){return Z.xAttr?{constant:[0,0]}:{buffer:Z.positionFractBuffer,stride:8,offset:0}},yFract:function(Q,Z){return Z.yAttr?{constant:[0,0]}:{buffer:Z.positionFractBuffer,stride:8,offset:4}},size:function(Q,Z){return Z.size.length?{buffer:Z.sizeBuffer,stride:2,offset:0}:{constant:[Math.round(Z.size*255/b.maxSize)]}},borderSize:function(Q,Z){return Z.borderSize.length?{buffer:Z.sizeBuffer,stride:2,offset:1}:{constant:[Math.round(Z.borderSize*255/b.maxSize)]}},colorId:function(Q,Z){return Z.color.length?{buffer:Z.colorBuffer,stride:b.tooManyColors?8:4,offset:0}:{constant:b.tooManyColors?N.slice(Z.color*4,Z.color*4+4):[Z.color]}},borderColorId:function(Q,Z){return Z.borderColor.length?{buffer:Z.colorBuffer,stride:b.tooManyColors?8:4,offset:b.tooManyColors?4:2}:{constant:b.tooManyColors?N.slice(Z.borderColor*4,Z.borderColor*4+4):[Z.borderColor]}},isActive:function(Q,Z){return Z.activation===!0?{constant:[1]}:Z.activation?Z.activation:{constant:[0]}}},blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},scissor:{enable:!0,box:i.prop("viewport")},viewport:i.prop("viewport"),stencil:{enable:!1},depth:{enable:!1},elements:i.prop("elements"),count:i.prop("count"),offset:i.prop("offset"),primitive:"points"},ne=m({},$);ne.frag=c([`precision highp float;
#define GLSLIFY 1

uniform float opacity;
uniform sampler2D markerTexture;

varying vec4 fragColor, fragBorderColor;
varying float fragWidth, fragBorderColorLevel, fragColorLevel;

float smoothStep(float x, float y) {
  return 1.0 / (1.0 + exp(50.0*(x - y)));
}

void main() {
  float dist = texture2D(markerTexture, gl_PointCoord).r, delta = fragWidth;

  // max-distance alpha
  if (dist < 0.003) discard;

  // null-border case
  if (fragBorderColorLevel == fragColorLevel || fragBorderColor.a == 0.) {
    float colorAmt = smoothstep(.5 - delta, .5 + delta, dist);
    gl_FragColor = vec4(fragColor.rgb, colorAmt * fragColor.a * opacity);
  }
  else {
    float borderColorAmt = smoothstep(fragBorderColorLevel - delta, fragBorderColorLevel + delta, dist);
    float colorAmt = smoothstep(fragColorLevel - delta, fragColorLevel + delta, dist);

    vec4 color = fragBorderColor;
    color.a *= borderColorAmt;
    color = mix(color, fragColor, colorAmt);
    color.a *= opacity;

    gl_FragColor = color;
  }

}
`]),ne.vert=c([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 scale, scaleFract, translate, translateFract, paletteSize;
uniform sampler2D paletteTexture;

const float maxSize = 100.;
const float borderLevel = .5;

varying vec4 fragColor, fragBorderColor;
varying float fragPointSize, fragBorderRadius, fragWidth, fragBorderColorLevel, fragColorLevel;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = 2. * size * pointSizeScale;
  fragPointSize = size * pixelRatio;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragColor = color;
  fragBorderColor = borderColor;
  fragWidth = 1. / gl_PointSize;

  fragBorderColorLevel = clamp(borderLevel - borderLevel * borderSize / size, 0., 1.);
  fragColorLevel = clamp(borderLevel + (1. - borderLevel) * borderSize / size, 0., 1.);
}`]),this.drawMarker=i(ne);var oe=m({},$);oe.frag=c([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

uniform float opacity;

float smoothStep(float edge0, float edge1, float x) {
	float t;
	t = clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);
	return t * t * (3.0 - 2.0 * t);
}

void main() {
	float radius, alpha = 1.0, delta = fragWidth;

	radius = length(2.0 * gl_PointCoord.xy - 1.0);

	if (radius > 1.0 + delta) {
		discard;
	}

	alpha -= smoothstep(1.0 - delta, 1.0 + delta, radius);

	float borderRadius = fragBorderRadius;
	float ratio = smoothstep(borderRadius - delta, borderRadius + delta, radius);
	vec4 color = mix(fragColor, fragBorderColor, ratio);
	color.a *= alpha * opacity;
	gl_FragColor = color;
}
`]),oe.vert=c([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 paletteSize, scale, scaleFract, translate, translateFract;
uniform sampler2D paletteTexture;

const float maxSize = 100.;

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = (size + borderSize) * pointSizeScale;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragBorderRadius = 1. - 2. * borderSize / (size + borderSize);
  fragColor = color;
  fragBorderColor = borderColor.a == 0. || borderSize == 0. ? vec4(color.rgb, 0.) : borderColor;
  fragWidth = 1. / gl_PointSize;
}
`]),p&&(oe.frag=oe.frag.replace("smoothstep","smoothStep"),ne.frag=ne.frag.replace("smoothstep","smoothStep")),this.drawCircle=i(oe)}x.defaults={color:"black",borderColor:"transparent",borderSize:0,size:12,opacity:1,marker:void 0,viewport:null,range:null,pixelSize:null,count:0,offset:0,bounds:null,positions:[],snap:1e4},x.prototype.render=function(){return arguments.length&&this.update.apply(this,arguments),this.draw(),this},x.prototype.draw=function(){for(var i=this,L=arguments.length,b=new Array(L),O=0;O<L;O++)b[O]=arguments[O];var _=this.groups;if(b.length===1&&Array.isArray(b[0])&&(b[0][0]===null||Array.isArray(b[0][0]))&&(b=b[0]),this.regl._refresh(),b.length)for(var N=0;N<b.length;N++)this.drawItem(N,b[N]);else _.forEach(function(z,B){i.drawItem(B)});return this},x.prototype.drawItem=function(i,L){var b=this.groups,O=b[i];if(typeof L=="number"&&(i=L,O=b[L],L=null),!!(O&&O.count&&O.opacity)){O.activation[0]&&this.drawCircle(this.getMarkerDrawOptions(0,O,L));for(var _=[],N=1;N<O.activation.length;N++)!O.activation[N]||O.activation[N]!==!0&&!O.activation[N].data.length||_.push.apply(_,a(this.getMarkerDrawOptions(N,O,L)));_.length&&this.drawMarker(_)}},x.prototype.getMarkerDrawOptions=function(i,L,b){var O=L.range,_=L.tree,N=L.viewport,z=L.activation,B=L.selectionBuffer,U=L.count;if(this.regl,!_)return b?[m({},L,{markerTexture:this.markerTextures[i],activation:z[i],count:b.length,elements:b,offset:0})]:[m({},L,{markerTexture:this.markerTextures[i],activation:z[i],offset:0})];var F=[],V=_.range(O,{lod:!0,px:[(O[2]-O[0])/N.width,(O[3]-O[1])/N.height]});if(b){for(var j=z[i],$=j.data,ne=new Uint8Array(U),oe=0;oe<b.length;oe++){var ce=b[oe];ne[ce]=$?$[ce]:1}B.subdata(ne)}for(var Q=V.length;Q--;){var Z=R(V[Q],2),K=Z[0],J=Z[1];F.push(m({},L,{markerTexture:this.markerTextures[i],activation:b?B:z[i],offset:K,count:J-K}))}return F},x.prototype.update=function(){for(var i=this,L=arguments.length,b=new Array(L),O=0;O<L;O++)b[O]=arguments[O];if(b.length){b.length===1&&Array.isArray(b[0])&&(b=b[0]);var _=this.groups,N=this.gl,z=this.regl,B=this.maxSize,U=this.maxColors,F=this.palette;this.groups=_=b.map(function(V,j){var $=_[j];if(V===void 0)return $;V===null?V={positions:null}:typeof V=="function"?V={ondraw:V}:typeof V[0]=="number"&&(V={positions:V}),V=A(V,{positions:"positions data points",snap:"snap cluster lod tree",size:"sizes size radius",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",color:"colors color fill fill-color fillColor",borderColor:"borderColors borderColor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range dataBox databox",viewport:"viewport viewPort viewBox viewbox",opacity:"opacity alpha transparency",bounds:"bound bounds boundaries limits",tooManyColors:"tooManyColors palette paletteMode optimizePalette enablePalette"}),V.positions===null&&(V.positions=[]),V.tooManyColors!=null&&(i.tooManyColors=V.tooManyColors),$||(_[j]=$={id:j,scale:null,translate:null,scaleFract:null,translateFract:null,activation:[],selectionBuffer:z.buffer({data:new Uint8Array(0),usage:"stream",type:"uint8"}),sizeBuffer:z.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),colorBuffer:z.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),positionBuffer:z.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"}),positionFractBuffer:z.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"})},V=m({},x.defaults,V)),V.positions&&!("marker"in V)&&(V.marker=$.marker,delete $.marker),V.marker&&!("positions"in V)&&(V.positions=$.positions,delete $.positions);var ne=0,oe=0;if(h($,V,[{snap:!0,size:function(be,Ae){return be==null&&(be=x.defaults.size),ne+=be&&be.length?1:0,be},borderSize:function(be,Ae){return be==null&&(be=x.defaults.borderSize),ne+=be&&be.length?1:0,be},opacity:parseFloat,color:function(be,Ae){return be==null&&(be=x.defaults.color),be=i.updateColor(be),oe++,be},borderColor:function(be,Ae){return be==null&&(be=x.defaults.borderColor),be=i.updateColor(be),oe++,be},bounds:function(be,Ae,He){return"range"in He||(He.range=null),be},positions:function(be,Ae,He){var Ve=Ae.snap,ke=Ae.positionBuffer,Ge=Ae.positionFractBuffer,it=Ae.selectionBuffer;if(be.x||be.y)return be.x.length?Ae.xAttr={buffer:z.buffer(be.x),offset:0,stride:4,count:be.x.length}:Ae.xAttr={buffer:be.x.buffer,offset:be.x.offset*4||0,stride:(be.x.stride||1)*4,count:be.x.count},be.y.length?Ae.yAttr={buffer:z.buffer(be.y),offset:0,stride:4,count:be.y.length}:Ae.yAttr={buffer:be.y.buffer,offset:be.y.offset*4||0,stride:(be.y.stride||1)*4,count:be.y.count},Ae.count=Math.max(Ae.xAttr.count,Ae.yAttr.count),be;be=l(be,"float64");var et=Ae.count=Math.floor(be.length/2),tt=Ae.bounds=et?o(be,2):null;if(!He.range&&!Ae.range&&(delete Ae.range,He.range=tt),!He.marker&&!Ae.marker&&(delete Ae.marker,He.marker=null),Ve&&(Ve===!0||et>Ve)?Ae.tree=u(be,{bounds:tt}):Ve&&Ve.length&&(Ae.tree=Ve),Ae.tree){var at={primitive:"points",usage:"static",data:Ae.tree,type:"uint32"};Ae.elements?Ae.elements(at):Ae.elements=z.elements(at)}var vt=M.float32(be);ke({data:vt,usage:"dynamic"});var yt=M.fract32(be,vt);return Ge({data:yt,usage:"dynamic"}),it({data:new Uint8Array(et),type:"uint8",usage:"stream"}),be}},{marker:function(be,Ae,He){var Ve=Ae.activation;if(Ve.forEach(function(yt){return yt&&yt.destroy&&yt.destroy()}),Ve.length=0,!be||typeof be[0]=="number"){var ke=i.addMarker(be);Ve[ke]=!0}else{for(var Ge=[],it=0,et=Math.min(be.length,Ae.count);it<et;it++){var tt=i.addMarker(be[it]);Ge[tt]||(Ge[tt]=new Uint8Array(Ae.count)),Ge[tt][it]=1}for(var at=0;at<Ge.length;at++)if(Ge[at]){var vt={data:Ge[at],type:"uint8",usage:"static"};Ve[at]?Ve[at](vt):Ve[at]=z.buffer(vt),Ve[at].data=Ge[at]}}return be},range:function(be,Ae,He){var Ve=Ae.bounds;if(Ve)return be||(be=Ve),Ae.scale=[1/(be[2]-be[0]),1/(be[3]-be[1])],Ae.translate=[-be[0],-be[1]],Ae.scaleFract=M.fract(Ae.scale),Ae.translateFract=M.fract(Ae.translate),be},viewport:function(be){var Ae=S(be||[N.drawingBufferWidth,N.drawingBufferHeight]);return Ae}}]),ne){var ce=$,Q=ce.count,Z=ce.size,K=ce.borderSize,J=ce.sizeBuffer,re=new Uint8Array(Q*2);if(Z.length||K.length)for(var le=0;le<Q;le++)re[le*2]=Math.round((Z[le]==null?Z:Z[le])*255/B),re[le*2+1]=Math.round((K[le]==null?K:K[le])*255/B);J({data:re,usage:"dynamic"})}if(oe){var q=$,ee=q.count,ue=q.color,se=q.borderColor,he=q.colorBuffer,me;if(i.tooManyColors){if(ue.length||se.length){me=new Uint8Array(ee*8);for(var Ce=0;Ce<ee;Ce++){var Te=ue[Ce];me[Ce*8]=F[Te*4],me[Ce*8+1]=F[Te*4+1],me[Ce*8+2]=F[Te*4+2],me[Ce*8+3]=F[Te*4+3];var Oe=se[Ce];me[Ce*8+4]=F[Oe*4],me[Ce*8+5]=F[Oe*4+1],me[Ce*8+6]=F[Oe*4+2],me[Ce*8+7]=F[Oe*4+3]}}}else if(ue.length||se.length){me=new Uint8Array(ee*4+2);for(var Ne=0;Ne<ee;Ne++)ue[Ne]!=null&&(me[Ne*4]=ue[Ne]%U,me[Ne*4+1]=Math.floor(ue[Ne]/U)),se[Ne]!=null&&(me[Ne*4+2]=se[Ne]%U,me[Ne*4+3]=Math.floor(se[Ne]/U))}he({data:me||new Uint8Array(0),type:"uint8",usage:"dynamic"})}return $})}},x.prototype.addMarker=function(i){var L=this.markerTextures,b=this.regl,O=this.markerCache,_=i==null?0:O.indexOf(i);if(_>=0)return _;var N;if(i instanceof Uint8Array||i instanceof Uint8ClampedArray)N=i;else{N=new Uint8Array(i.length);for(var z=0,B=i.length;z<B;z++)N[z]=i[z]*255}var U=Math.floor(Math.sqrt(N.length));return _=L.length,O.push(i),L.push(b.texture({channels:1,data:N,radius:U,mag:"linear",min:"linear"})),_},x.prototype.updateColor=function(i){var L=this.paletteIds,b=this.palette,O=this.maxColors;Array.isArray(i)||(i=[i]);var _=[];if(typeof i[0]=="number"){var N=[];if(Array.isArray(i))for(var z=0;z<i.length;z+=4)N.push(i.slice(z,z+4));else for(var B=0;B<i.length;B+=4)N.push(i.subarray(B,B+4));i=N}for(var U=0;U<i.length;U++){var F=i[U];F=n(F,"uint8");var V=f(F,!1);if(L[V]==null){var j=b.length;L[V]=Math.floor(j/4),b[j]=F[0],b[j+1]=F[1],b[j+2]=F[2],b[j+3]=F[3]}_[U]=L[V]}return!this.tooManyColors&&b.length>O*4&&(this.tooManyColors=!0),this.updatePalette(b),_.length===1?_[0]:_},x.prototype.updatePalette=function(i){if(!this.tooManyColors){var L=this.maxColors,b=this.paletteTexture,O=Math.ceil(i.length*.25/L);if(O>1){i=i.slice();for(var _=i.length*.25%L;_<O*L;_++)i.push(0,0,0,0)}b.height<O&&b.resize(L,O),b.subimage({width:Math.min(i.length*.25,L),height:O,data:i},0,0)}},x.prototype.destroy=function(){return this.groups.forEach(function(i){i.sizeBuffer.destroy(),i.positionBuffer.destroy(),i.positionFractBuffer.destroy(),i.colorBuffer.destroy(),i.activation.forEach(function(L){return L&&L.destroy&&L.destroy()}),i.selectionBuffer.destroy(),i.elements&&i.elements.destroy()}),this.groups.length=0,this.paletteTexture.destroy(),this.markerTextures.forEach(function(i){return i&&i.destroy&&i.destroy()}),this};var E=e(56131),w=function(L,b){var O=new P(L,b),_=O.render.bind(O);return E(_,{render:_,update:O.update.bind(O),draw:O.draw.bind(O),destroy:O.destroy.bind(O),regl:O.regl,gl:O.gl,canvas:O.gl.canvas,groups:O.groups,markers:O.markerCache,palette:O.palette}),_};W.exports=w},60487:function(W,H,e){var g=e(11870),R=e(71299),a=e(21527),C=e(5877),T=e(57471),v=e(18863),y=e(30120);W.exports=t;function t(o,f){if(!(this instanceof t))return new t(o);this.traces=[],this.passes={},this.regl=o,this.scatter=g(o),this.canvas=this.scatter.canvas}t.prototype.render=function(){for(var o=this,f,u=[],m=arguments.length;m--;)u[m]=arguments[m];return u.length&&(f=this).update.apply(f,u),this.regl.attributes.preserveDrawingBuffer?this.draw():(this.dirty?this.planned==null&&(this.planned=C(function(){o.draw(),o.dirty=!0,o.planned=null})):(this.draw(),this.dirty=!0,C(function(){o.dirty=!1})),this)},t.prototype.update=function(){for(var o,f=[],u=arguments.length;u--;)f[u]=arguments[u];if(f.length){for(var m=0;m<f.length;m++)this.updateItem(m,f[m]);this.traces=this.traces.filter(Boolean);for(var c=[],A=0,h=0;h<this.traces.length;h++){for(var l=this.traces[h],p=this.traces[h].passes,M=0;M<p.length;M++)c.push(this.passes[p[M]]);l.passOffset=A,A+=l.passes.length}return(o=this.scatter).update.apply(o,c),this}},t.prototype.updateItem=function(o,f){var u=this,m=u.regl;if(f===null)return this.traces[o]=null,this;if(!f)return this;var c=R(f,{data:"data items columns rows values dimensions samples x",snap:"snap cluster",size:"sizes size radius",color:"colors color fill fill-color fillColor",opacity:"opacity alpha transparency opaque",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",borderColor:"borderColors borderColor bordercolor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range ranges databox dataBox",viewport:"viewport viewBox viewbox",domain:"domain domains area areas",padding:"pad padding paddings pads margin margins",transpose:"transpose transposed",diagonal:"diagonal diag showDiagonal",upper:"upper up top upperhalf upperHalf showupperhalf showUpper showUpperHalf",lower:"lower low bottom lowerhalf lowerHalf showlowerhalf showLowerHalf showLower"}),A=this.traces[o]||(this.traces[o]={id:o,buffer:m.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),color:"black",marker:null,size:12,borderColor:"transparent",borderSize:1,viewport:v([m._gl.drawingBufferWidth,m._gl.drawingBufferHeight]),padding:[0,0,0,0],opacity:1,diagonal:!0,upper:!0,lower:!0});if(c.color!=null&&(A.color=c.color),c.size!=null&&(A.size=c.size),c.marker!=null&&(A.marker=c.marker),c.borderColor!=null&&(A.borderColor=c.borderColor),c.borderSize!=null&&(A.borderSize=c.borderSize),c.opacity!=null&&(A.opacity=c.opacity),c.viewport&&(A.viewport=v(c.viewport)),c.diagonal!=null&&(A.diagonal=c.diagonal),c.upper!=null&&(A.upper=c.upper),c.lower!=null&&(A.lower=c.lower),c.data){A.buffer(y(c.data)),A.columns=c.data.length,A.count=c.data[0].length,A.bounds=[];for(var h=0;h<A.columns;h++)A.bounds[h]=a(c.data[h],1)}var l;c.range&&(A.range=c.range,l=A.range&&typeof A.range[0]!="number"),c.domain&&(A.domain=c.domain);var p=!1;c.padding!=null&&(Array.isArray(c.padding)&&c.padding.length===A.columns&&typeof c.padding[c.padding.length-1]=="number"?(A.padding=c.padding.map(n),p=!0):A.padding=n(c.padding));var M=A.columns,S=A.count,P=A.viewport.width,x=A.viewport.height,E=A.viewport.x,w=A.viewport.y,i=P/M,L=x/M;A.passes=[];for(var b=0;b<M;b++)for(var O=0;O<M;O++)if(!(!A.diagonal&&O===b)&&!(!A.upper&&b>O)&&!(!A.lower&&b<O)){var _=r(A.id,b,O),N=this.passes[_]||(this.passes[_]={});if(c.data&&(c.transpose?N.positions={x:{buffer:A.buffer,offset:O,count:S,stride:M},y:{buffer:A.buffer,offset:b,count:S,stride:M}}:N.positions={x:{buffer:A.buffer,offset:O*S,count:S},y:{buffer:A.buffer,offset:b*S,count:S}},N.bounds=s(A.bounds,b,O)),c.domain||c.viewport||c.data){var z=p?s(A.padding,b,O):A.padding;if(A.domain){var B=s(A.domain,b,O),U=B[0],F=B[1],V=B[2],j=B[3];N.viewport=[E+U*P+z[0],w+F*x+z[1],E+V*P-z[2],w+j*x-z[3]]}else N.viewport=[E+O*i+i*z[0],w+b*L+L*z[1],E+(O+1)*i-i*z[2],w+(b+1)*L-L*z[3]]}c.color&&(N.color=A.color),c.size&&(N.size=A.size),c.marker&&(N.marker=A.marker),c.borderSize&&(N.borderSize=A.borderSize),c.borderColor&&(N.borderColor=A.borderColor),c.opacity&&(N.opacity=A.opacity),c.range&&(N.range=l?s(A.range,b,O):A.range||N.bounds),A.passes.push(_)}return this},t.prototype.draw=function(){for(var o,f=[],u=arguments.length;u--;)f[u]=arguments[u];if(!f.length)this.scatter.draw();else{for(var m=[],c=0;c<f.length;c++)if(typeof f[c]=="number"){var A=this.traces[f[c]],h=A.passes,l=A.passOffset;m.push.apply(m,T(l,l+h.length))}else if(f[c].length){var p=f[c],M=this.traces[c],S=M.passes,P=M.passOffset;S=S.map(function(x,E){m[P+E]=p})}(o=this.scatter).draw.apply(o,m)}return this},t.prototype.destroy=function(){return this.traces.forEach(function(o){o.buffer&&o.buffer.destroy&&o.buffer.destroy()}),this.traces=null,this.passes=null,this.scatter.destroy(),this};function r(o,f,u){var m=o.id!=null?o.id:o,c=f,A=u,h=m<<16|(c&255)<<8|A&255;return h}function s(o,f,u){var m,c,A,h,l=o[f],p=o[u];return l.length>2?(l[0],l[2],m=l[1],c=l[3]):l.length?(m=l[0],c=l[1]):(l.x,m=l.y,l.x+l.width,c=l.y+l.height),p.length>2?(A=p[0],h=p[2],p[1],p[3]):p.length?(A=p[0],h=p[1]):(A=p.x,p.y,h=p.x+p.width,p.y+p.height),[A,m,h,c]}function n(o){if(typeof o=="number")return[o,o,o,o];if(o.length===2)return[o[0],o[1],o[0],o[1]];var f=v(o);return[f.x,f.y,f.x+f.width,f.y+f.height]}},98580:function(W){(function(H,e){W.exports=e()})(this,function(){function H(ut,Yt){this.id=he++,this.type=ut,this.data=Yt}function e(ut){if(ut.length===0)return[];var Yt=ut.charAt(0),Kt=ut.charAt(ut.length-1);if(1<ut.length&&Yt===Kt&&(Yt==='"'||Yt==="'"))return['"'+ut.substr(1,ut.length-2).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];if(Yt=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(ut))return e(ut.substr(0,Yt.index)).concat(e(Yt[1])).concat(e(ut.substr(Yt.index+Yt[0].length)));if(Yt=ut.split("."),Yt.length===1)return['"'+ut.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];for(ut=[],Kt=0;Kt<Yt.length;++Kt)ut=ut.concat(e(Yt[Kt]));return ut}function g(ut){return"["+e(ut).join("][")+"]"}function R(ut,Yt){if(typeof ut=="function")return new H(0,ut);if(typeof ut=="number"||typeof ut=="boolean")return new H(5,ut);if(Array.isArray(ut))return new H(6,ut.map(function(Kt,mr){return R(Kt)}));if(ut instanceof H)return ut}function a(){var ut={"":0},Yt=[""];return{id:function(Kt){var mr=ut[Kt];return mr||(mr=ut[Kt]=Yt.length,Yt.push(Kt),mr)},str:function(Kt){return Yt[Kt]}}}function C(ut,Yt,Kt){function mr(){var st=window.innerWidth,xt=window.innerHeight;ut!==document.body&&(xt=ur.getBoundingClientRect(),st=xt.right-xt.left,xt=xt.bottom-xt.top),ur.width=Kt*st,ur.height=Kt*xt}var ur=document.createElement("canvas");se(ur.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),ut.appendChild(ur),ut===document.body&&(ur.style.position="absolute",se(ut.style,{margin:0,padding:0}));var pt;return ut!==document.body&&typeof ResizeObserver=="function"?(pt=new ResizeObserver(function(){setTimeout(mr)}),pt.observe(ut)):window.addEventListener("resize",mr,!1),mr(),{canvas:ur,onDestroy:function(){pt?pt.disconnect():window.removeEventListener("resize",mr),ut.removeChild(ur)}}}function T(ut,Yt){function Kt(mr){try{return ut.getContext(mr,Yt)}catch{return null}}return Kt("webgl")||Kt("experimental-webgl")||Kt("webgl-experimental")}function v(ut){return typeof ut=="string"?ut.split():ut}function y(ut){return typeof ut=="string"?document.querySelector(ut):ut}function t(ut){var Yt=ut||{},Kt,mr,ur,pt;ut={};var st=[],xt=[],St=typeof window>"u"?1:window.devicePixelRatio,Dt=!1,Rt={},Bt=function(Xt){},Nt=function(){};if(typeof Yt=="string"?Kt=document.querySelector(Yt):typeof Yt=="object"&&(typeof Yt.nodeName=="string"&&typeof Yt.appendChild=="function"&&typeof Yt.getBoundingClientRect=="function"?Kt=Yt:typeof Yt.drawArrays=="function"||typeof Yt.drawElements=="function"?(pt=Yt,ur=pt.canvas):("gl"in Yt?pt=Yt.gl:"canvas"in Yt?ur=y(Yt.canvas):"container"in Yt&&(mr=y(Yt.container)),"attributes"in Yt&&(ut=Yt.attributes),"extensions"in Yt&&(st=v(Yt.extensions)),"optionalExtensions"in Yt&&(xt=v(Yt.optionalExtensions)),"onDone"in Yt&&(Bt=Yt.onDone),"profile"in Yt&&(Dt=!!Yt.profile),"pixelRatio"in Yt&&(St=+Yt.pixelRatio),"cachedCode"in Yt&&(Rt=Yt.cachedCode))),Kt&&(Kt.nodeName.toLowerCase()==="canvas"?ur=Kt:mr=Kt),!pt){if(!ur){if(Kt=C(mr||document.body,Bt,St),!Kt)return null;ur=Kt.canvas,Nt=Kt.onDestroy}ut.premultipliedAlpha===void 0&&(ut.premultipliedAlpha=!0),pt=T(ur,ut)}return pt?{gl:pt,canvas:ur,container:mr,extensions:st,optionalExtensions:xt,pixelRatio:St,profile:Dt,cachedCode:Rt,onDone:Bt,onDestroy:Nt}:(Nt(),Bt("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function r(ut,Yt){function Kt(st){st=st.toLowerCase();var xt;try{xt=mr[st]=ut.getExtension(st)}catch{}return!!xt}for(var mr={},ur=0;ur<Yt.extensions.length;++ur){var pt=Yt.extensions[ur];if(!Kt(pt))return Yt.onDestroy(),Yt.onDone('"'+pt+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return Yt.optionalExtensions.forEach(Kt),{extensions:mr,restore:function(){Object.keys(mr).forEach(function(st){if(mr[st]&&!Kt(st))throw Error("(regl): error restoring extension "+st)})}}}function s(ut,Yt){for(var Kt=Array(ut),mr=0;mr<ut;++mr)Kt[mr]=Yt(mr);return Kt}function n(ut){var Yt,Kt;return Yt=(65535<ut)<<4,ut>>>=Yt,Kt=(255<ut)<<3,ut>>>=Kt,Yt|=Kt,Kt=(15<ut)<<2,ut>>>=Kt,Yt|=Kt,Kt=(3<ut)<<1,Yt|Kt|ut>>>Kt>>1}function o(){function ut(mr){e:{for(var ur=16;268435456>=ur;ur*=16)if(mr<=ur){mr=ur;break e}mr=0}return ur=Kt[n(mr)>>2],0<ur.length?ur.pop():new ArrayBuffer(mr)}function Yt(mr){Kt[n(mr.byteLength)>>2].push(mr)}var Kt=s(8,function(){return[]});return{alloc:ut,free:Yt,allocType:function(mr,ur){var pt=null;switch(mr){case 5120:pt=new Int8Array(ut(ur),0,ur);break;case 5121:pt=new Uint8Array(ut(ur),0,ur);break;case 5122:pt=new Int16Array(ut(2*ur),0,ur);break;case 5123:pt=new Uint16Array(ut(2*ur),0,ur);break;case 5124:pt=new Int32Array(ut(4*ur),0,ur);break;case 5125:pt=new Uint32Array(ut(4*ur),0,ur);break;case 5126:pt=new Float32Array(ut(4*ur),0,ur);break;default:return null}return pt.length!==ur?pt.subarray(0,ur):pt},freeType:function(mr){Yt(mr.buffer)}}}function f(ut){return!!ut&&typeof ut=="object"&&Array.isArray(ut.shape)&&Array.isArray(ut.stride)&&typeof ut.offset=="number"&&ut.shape.length===ut.stride.length&&(Array.isArray(ut.data)||Le(ut.data))}function u(ut,Yt,Kt,mr,ur,pt){for(var st=0;st<Yt;++st)for(var xt=ut[st],St=0;St<Kt;++St)for(var Dt=xt[St],Rt=0;Rt<mr;++Rt)ur[pt++]=Dt[Rt]}function m(ut,Yt,Kt,mr,ur){for(var pt=1,st=Kt+1;st<Yt.length;++st)pt*=Yt[st];var xt=Yt[Kt];if(Yt.length-Kt===4){var St=Yt[Kt+1],Dt=Yt[Kt+2];for(Yt=Yt[Kt+3],st=0;st<xt;++st)u(ut[st],St,Dt,Yt,mr,ur),ur+=pt}else for(st=0;st<xt;++st)m(ut[st],Yt,Kt+1,mr,ur),ur+=pt}function c(ut){return He[Object.prototype.toString.call(ut)]|0}function A(ut,Yt){for(var Kt=0;Kt<Yt.length;++Kt)ut[Kt]=Yt[Kt]}function h(ut,Yt,Kt,mr,ur,pt,st){for(var xt=0,St=0;St<Kt;++St)for(var Dt=0;Dt<mr;++Dt)ut[xt++]=Yt[ur*St+pt*Dt+st]}function l(ut,Yt,Kt,mr){function ur(Bt){this.id=St++,this.buffer=ut.createBuffer(),this.type=Bt,this.usage=35044,this.byteLength=0,this.dimension=1,this.dtype=5121,this.persistentData=null,Kt.profile&&(this.stats={size:0})}function pt(Bt,Nt,Xt){Bt.byteLength=Nt.byteLength,ut.bufferData(Bt.type,Nt,Xt)}function st(Bt,Nt,Xt,lr,sr,dr){if(Bt.usage=Xt,Array.isArray(Nt)){if(Bt.dtype=lr||5126,0<Nt.length)if(Array.isArray(Nt[0])){sr=it(Nt);for(var je=lr=1;je<sr.length;++je)lr*=sr[je];Bt.dimension=lr,Nt=Ge(Nt,sr,Bt.dtype),pt(Bt,Nt,Xt),dr?Bt.persistentData=Nt:Oe.freeType(Nt)}else typeof Nt[0]=="number"?(Bt.dimension=sr,sr=Oe.allocType(Bt.dtype,Nt.length),A(sr,Nt),pt(Bt,sr,Xt),dr?Bt.persistentData=sr:Oe.freeType(sr)):Le(Nt[0])&&(Bt.dimension=Nt[0].length,Bt.dtype=lr||c(Nt[0])||5126,Nt=Ge(Nt,[Nt.length,Nt[0].length],Bt.dtype),pt(Bt,Nt,Xt),dr?Bt.persistentData=Nt:Oe.freeType(Nt))}else if(Le(Nt))Bt.dtype=lr||c(Nt),Bt.dimension=sr,pt(Bt,Nt,Xt),dr&&(Bt.persistentData=new Uint8Array(new Uint8Array(Nt.buffer)));else if(f(Nt)){sr=Nt.shape;var Ye=Nt.stride,je=Nt.offset,It=0,kt=0,jt=0,tr=0;sr.length===1?(It=sr[0],kt=1,jt=Ye[0],tr=0):sr.length===2&&(It=sr[0],kt=sr[1],jt=Ye[0],tr=Ye[1]),Bt.dtype=lr||c(Nt.data)||5126,Bt.dimension=kt,sr=Oe.allocType(Bt.dtype,It*kt),h(sr,Nt.data,It,kt,jt,tr,je),pt(Bt,sr,Xt),dr?Bt.persistentData=sr:Oe.freeType(sr)}else Nt instanceof ArrayBuffer&&(Bt.dtype=5121,Bt.dimension=sr,pt(Bt,Nt,Xt),dr&&(Bt.persistentData=new Uint8Array(new Uint8Array(Nt))))}function xt(Bt){Yt.bufferCount--,mr(Bt),ut.deleteBuffer(Bt.buffer),Bt.buffer=null,delete Dt[Bt.id]}var St=0,Dt={};ur.prototype.bind=function(){ut.bindBuffer(this.type,this.buffer)},ur.prototype.destroy=function(){xt(this)};var Rt=[];return Kt.profile&&(Yt.getTotalBufferSize=function(){var Bt=0;return Object.keys(Dt).forEach(function(Nt){Bt+=Dt[Nt].stats.size}),Bt}),{create:function(Bt,Nt,Xt,lr){function sr(je){var Ye=35044,It=null,kt=0,jt=0,tr=1;return Array.isArray(je)||Le(je)||f(je)||je instanceof ArrayBuffer?It=je:typeof je=="number"?kt=je|0:je&&("data"in je&&(It=je.data),"usage"in je&&(Ye=ke[je.usage]),"type"in je&&(jt=Ve[je.type]),"dimension"in je&&(tr=je.dimension|0),"length"in je&&(kt=je.length|0)),dr.bind(),It?st(dr,It,Ye,jt,tr,lr):(kt&&ut.bufferData(dr.type,kt,Ye),dr.dtype=jt||5121,dr.usage=Ye,dr.dimension=tr,dr.byteLength=kt),Kt.profile&&(dr.stats.size=dr.byteLength*et[dr.dtype]),sr}Yt.bufferCount++;var dr=new ur(Nt);return Dt[dr.id]=dr,Xt||sr(Bt),sr._reglType="buffer",sr._buffer=dr,sr.subdata=function(je,Ye){var It=(Ye||0)|0,kt;if(dr.bind(),Le(je)||je instanceof ArrayBuffer)ut.bufferSubData(dr.type,It,je);else if(Array.isArray(je)){if(0<je.length)if(typeof je[0]=="number"){var jt=Oe.allocType(dr.dtype,je.length);A(jt,je),ut.bufferSubData(dr.type,It,jt),Oe.freeType(jt)}else(Array.isArray(je[0])||Le(je[0]))&&(kt=it(je),jt=Ge(je,kt,dr.dtype),ut.bufferSubData(dr.type,It,jt),Oe.freeType(jt))}else if(f(je)){kt=je.shape;var tr=je.stride,or=jt=0,rr=0,Ot=0;kt.length===1?(jt=kt[0],or=1,rr=tr[0],Ot=0):kt.length===2&&(jt=kt[0],or=kt[1],rr=tr[0],Ot=tr[1]),kt=Array.isArray(je.data)?dr.dtype:c(je.data),kt=Oe.allocType(kt,jt*or),h(kt,je.data,jt,or,rr,Ot,je.offset),ut.bufferSubData(dr.type,It,kt),Oe.freeType(kt)}return sr},Kt.profile&&(sr.stats=dr.stats),sr.destroy=function(){xt(dr)},sr},createStream:function(Bt,Nt){var Xt=Rt.pop();return Xt||(Xt=new ur(Bt)),Xt.bind(),st(Xt,Nt,35040,0,1,!1),Xt},destroyStream:function(Bt){Rt.push(Bt)},clear:function(){be(Dt).forEach(xt),Rt.forEach(xt)},getBuffer:function(Bt){return Bt&&Bt._buffer instanceof ur?Bt._buffer:null},restore:function(){be(Dt).forEach(function(Bt){Bt.buffer=ut.createBuffer(),ut.bindBuffer(Bt.type,Bt.buffer),ut.bufferData(Bt.type,Bt.persistentData||Bt.byteLength,Bt.usage)})},_initBuffer:st}}function p(ut,Yt,Kt,mr){function ur(Bt){this.id=St++,xt[this.id]=this,this.buffer=Bt,this.primType=4,this.type=this.vertCount=0}function pt(Bt,Nt,Xt,lr,sr,dr,je){Bt.buffer.bind();var Ye;if(Nt?((Ye=je)||Le(Nt)&&(!f(Nt)||Le(Nt.data))||(Ye=Yt.oes_element_index_uint?5125:5123),Kt._initBuffer(Bt.buffer,Nt,Xt,Ye,3)):(ut.bufferData(34963,dr,Xt),Bt.buffer.dtype=Ye||5121,Bt.buffer.usage=Xt,Bt.buffer.dimension=3,Bt.buffer.byteLength=dr),Ye=je,!je){switch(Bt.buffer.dtype){case 5121:case 5120:Ye=5121;break;case 5123:case 5122:Ye=5123;break;case 5125:case 5124:Ye=5125}Bt.buffer.dtype=Ye}Bt.type=Ye,Nt=sr,0>Nt&&(Nt=Bt.buffer.byteLength,Ye===5123?Nt>>=1:Ye===5125&&(Nt>>=2)),Bt.vertCount=Nt,Nt=lr,0>lr&&(Nt=4,lr=Bt.buffer.dimension,lr===1&&(Nt=0),lr===2&&(Nt=1),lr===3&&(Nt=4)),Bt.primType=Nt}function st(Bt){mr.elementsCount--,delete xt[Bt.id],Bt.buffer.destroy(),Bt.buffer=null}var xt={},St=0,Dt={uint8:5121,uint16:5123};Yt.oes_element_index_uint&&(Dt.uint32=5125),ur.prototype.bind=function(){this.buffer.bind()};var Rt=[];return{create:function(Bt,Nt){function Xt(dr){if(dr)if(typeof dr=="number")lr(dr),sr.primType=4,sr.vertCount=dr|0,sr.type=5121;else{var je=null,Ye=35044,It=-1,kt=-1,jt=0,tr=0;Array.isArray(dr)||Le(dr)||f(dr)?je=dr:("data"in dr&&(je=dr.data),"usage"in dr&&(Ye=ke[dr.usage]),"primitive"in dr&&(It=tt[dr.primitive]),"count"in dr&&(kt=dr.count|0),"type"in dr&&(tr=Dt[dr.type]),"length"in dr?jt=dr.length|0:(jt=kt,tr===5123||tr===5122?jt*=2:(tr===5125||tr===5124)&&(jt*=4))),pt(sr,je,Ye,It,kt,jt,tr)}else lr(),sr.primType=4,sr.vertCount=0,sr.type=5121;return Xt}var lr=Kt.create(null,34963,!0),sr=new ur(lr._buffer);return mr.elementsCount++,Xt(Bt),Xt._reglType="elements",Xt._elements=sr,Xt.subdata=function(dr,je){return lr.subdata(dr,je),Xt},Xt.destroy=function(){st(sr)},Xt},createStream:function(Bt){var Nt=Rt.pop();return Nt||(Nt=new ur(Kt.create(null,34963,!0,!1)._buffer)),pt(Nt,Bt,35040,-1,-1,0,0),Nt},destroyStream:function(Bt){Rt.push(Bt)},getElements:function(Bt){return typeof Bt=="function"&&Bt._elements instanceof ur?Bt._elements:null},clear:function(){be(xt).forEach(st)}}}function M(ut){for(var Yt=Oe.allocType(5123,ut.length),Kt=0;Kt<ut.length;++Kt)if(isNaN(ut[Kt]))Yt[Kt]=65535;else if(ut[Kt]===1/0)Yt[Kt]=31744;else if(ut[Kt]===-1/0)Yt[Kt]=64512;else{at[0]=ut[Kt];var pt=vt[0],mr=pt>>>31<<15,ur=(pt<<1>>>24)-127,pt=pt>>13&1023;Yt[Kt]=-24>ur?mr:-14>ur?mr+(pt+1024>>-14-ur):15<ur?mr+31744:mr+(ur+15<<10)+pt}return Yt}function S(ut){return Array.isArray(ut)||Le(ut)}function P(ut){return"[object "+ut+"]"}function x(ut){return Array.isArray(ut)&&(ut.length===0||typeof ut[0]=="number")}function E(ut){return!!(Array.isArray(ut)&&ut.length!==0&&S(ut[0]))}function w(ut){return Object.prototype.toString.call(ut)}function i(ut){if(!ut)return!1;var Yt=w(ut);return 0<=De.indexOf(Yt)?!0:x(ut)||E(ut)||f(ut)}function L(ut,Yt){ut.type===36193?(ut.data=M(Yt),Oe.freeType(Yt)):ut.data=Yt}function b(ut,Yt,Kt,mr,ur,pt){if(ut=typeof xe[ut]<"u"?xe[ut]:Mt[ut]*we[Yt],pt&&(ut*=6),ur){for(mr=0;1<=Kt;)mr+=ut*Kt*Kt,Kt/=2;return mr}return ut*Kt*mr}function O(ut,Yt,Kt,mr,ur,pt,st){function xt(){this.format=this.internalformat=6408,this.type=5121,this.flipY=this.premultiplyAlpha=this.compressed=!1,this.unpackAlignment=1,this.colorSpace=37444,this.channels=this.height=this.width=0}function St(Tr,sn){Tr.internalformat=sn.internalformat,Tr.format=sn.format,Tr.type=sn.type,Tr.compressed=sn.compressed,Tr.premultiplyAlpha=sn.premultiplyAlpha,Tr.flipY=sn.flipY,Tr.unpackAlignment=sn.unpackAlignment,Tr.colorSpace=sn.colorSpace,Tr.width=sn.width,Tr.height=sn.height,Tr.channels=sn.channels}function Dt(Tr,sn){if(typeof sn=="object"&&sn){"premultiplyAlpha"in sn&&(Tr.premultiplyAlpha=sn.premultiplyAlpha),"flipY"in sn&&(Tr.flipY=sn.flipY),"alignment"in sn&&(Tr.unpackAlignment=sn.alignment),"colorSpace"in sn&&(Tr.colorSpace=pn[sn.colorSpace]),"type"in sn&&(Tr.type=en[sn.type]);var rn=Tr.width,yn=Tr.height,Vn=Tr.channels,Mn=!1;"shape"in sn?(rn=sn.shape[0],yn=sn.shape[1],sn.shape.length===3&&(Vn=sn.shape[2],Mn=!0)):("radius"in sn&&(rn=yn=sn.radius),"width"in sn&&(rn=sn.width),"height"in sn&&(yn=sn.height),"channels"in sn&&(Vn=sn.channels,Mn=!0)),Tr.width=rn|0,Tr.height=yn|0,Tr.channels=Vn|0,rn=!1,"format"in sn&&(rn=sn.format,yn=Tr.internalformat=Bn[rn],Tr.format=Rn[yn],rn in en&&!("type"in sn)&&(Tr.type=en[rn]),rn in Tn&&(Tr.compressed=!0),rn=!0),!Mn&&rn?Tr.channels=Mt[Tr.format]:Mn&&!rn&&Tr.channels!==gt[Tr.format]&&(Tr.format=Tr.internalformat=gt[Tr.channels])}}function Rt(Tr){ut.pixelStorei(37440,Tr.flipY),ut.pixelStorei(37441,Tr.premultiplyAlpha),ut.pixelStorei(37443,Tr.colorSpace),ut.pixelStorei(3317,Tr.unpackAlignment)}function Bt(){xt.call(this),this.yOffset=this.xOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Nt(Tr,sn){var rn=null;if(i(sn)?rn=sn:sn&&(Dt(Tr,sn),"x"in sn&&(Tr.xOffset=sn.x|0),"y"in sn&&(Tr.yOffset=sn.y|0),i(sn.data)&&(rn=sn.data)),sn.copy){var yn=ur.viewportWidth,Vn=ur.viewportHeight;Tr.width=Tr.width||yn-Tr.xOffset,Tr.height=Tr.height||Vn-Tr.yOffset,Tr.needsCopy=!0}else if(!rn)Tr.width=Tr.width||1,Tr.height=Tr.height||1,Tr.channels=Tr.channels||4;else if(Le(rn))Tr.channels=Tr.channels||4,Tr.data=rn,"type"in sn||Tr.type!==5121||(Tr.type=He[Object.prototype.toString.call(rn)]|0);else if(x(rn)){switch(Tr.channels=Tr.channels||4,yn=rn,Vn=yn.length,Tr.type){case 5121:case 5123:case 5125:case 5126:Vn=Oe.allocType(Tr.type,Vn),Vn.set(yn),Tr.data=Vn;break;case 36193:Tr.data=M(yn)}Tr.alignment=1,Tr.needsFree=!0}else if(f(rn)){yn=rn.data,Array.isArray(yn)||Tr.type!==5121||(Tr.type=He[Object.prototype.toString.call(yn)]|0);var Vn=rn.shape,Mn=rn.stride,En,Nn,ta,ba;Vn.length===3?(ta=Vn[2],ba=Mn[2]):ba=ta=1,En=Vn[0],Nn=Vn[1],Vn=Mn[0],Mn=Mn[1],Tr.alignment=1,Tr.width=En,Tr.height=Nn,Tr.channels=ta,Tr.format=Tr.internalformat=gt[ta],Tr.needsFree=!0,En=ba,rn=rn.offset,ta=Tr.width,ba=Tr.height,Nn=Tr.channels;for(var Ya=Oe.allocType(Tr.type===36193?5126:Tr.type,ta*ba*Nn),Zt=0,wr=0;wr<ba;++wr)for(var tn=0;tn<ta;++tn)for(var un=0;un<Nn;++un)Ya[Zt++]=yn[Vn*tn+Mn*wr+En*un+rn];L(Tr,Ya)}else if(w(rn)===Ct||w(rn)===Vt||w(rn)===Je)w(rn)===Ct||w(rn)===Vt?Tr.element=rn:Tr.element=rn.canvas,Tr.width=Tr.element.width,Tr.height=Tr.element.height,Tr.channels=4;else if(w(rn)===ze)Tr.element=rn,Tr.width=rn.width,Tr.height=rn.height,Tr.channels=4;else if(w(rn)===_e)Tr.element=rn,Tr.width=rn.naturalWidth,Tr.height=rn.naturalHeight,Tr.channels=4;else if(w(rn)===Be)Tr.element=rn,Tr.width=rn.videoWidth,Tr.height=rn.videoHeight,Tr.channels=4;else if(E(rn)){for(yn=Tr.width||rn[0].length,Vn=Tr.height||rn.length,Mn=Tr.channels,Mn=S(rn[0][0])?Mn||rn[0][0].length:Mn||1,En=Ae.shape(rn),ta=1,ba=0;ba<En.length;++ba)ta*=En[ba];ta=Oe.allocType(Tr.type===36193?5126:Tr.type,ta),Ae.flatten(rn,En,"",ta),L(Tr,ta),Tr.alignment=1,Tr.width=yn,Tr.height=Vn,Tr.channels=Mn,Tr.format=Tr.internalformat=gt[Mn],Tr.needsFree=!0}}function Xt(Tr,sn,rn,yn,Vn){var Mn=Tr.element,En=Tr.data,Nn=Tr.internalformat,ta=Tr.format,ba=Tr.type,Ya=Tr.width,Zt=Tr.height;Rt(Tr),Mn?ut.texSubImage2D(sn,Vn,rn,yn,ta,ba,Mn):Tr.compressed?ut.compressedTexSubImage2D(sn,Vn,rn,yn,Nn,Ya,Zt,En):Tr.needsCopy?(mr(),ut.copyTexSubImage2D(sn,Vn,rn,yn,Tr.xOffset,Tr.yOffset,Ya,Zt)):ut.texSubImage2D(sn,Vn,rn,yn,Ya,Zt,ta,ba,En)}function lr(){return zn.pop()||new Bt}function sr(Tr){Tr.needsFree&&Oe.freeType(Tr.data),Bt.call(Tr),zn.push(Tr)}function dr(){xt.call(this),this.genMipmaps=!1,this.mipmapHint=4352,this.mipmask=0,this.images=Array(16)}function je(Tr,sn,rn){var yn=Tr.images[0]=lr();Tr.mipmask=1,yn.width=Tr.width=sn,yn.height=Tr.height=rn,yn.channels=Tr.channels=4}function Ye(Tr,sn){var rn=null;if(i(sn))rn=Tr.images[0]=lr(),St(rn,Tr),Nt(rn,sn),Tr.mipmask=1;else if(Dt(Tr,sn),Array.isArray(sn.mipmap))for(var yn=sn.mipmap,Vn=0;Vn<yn.length;++Vn)rn=Tr.images[Vn]=lr(),St(rn,Tr),rn.width>>=Vn,rn.height>>=Vn,Nt(rn,yn[Vn]),Tr.mipmask|=1<<Vn;else rn=Tr.images[0]=lr(),St(rn,Tr),Nt(rn,sn),Tr.mipmask=1;St(Tr,Tr.images[0])}function It(Tr,sn){for(var rn=Tr.images,yn=0;yn<rn.length&&rn[yn];++yn){var Vn=rn[yn],Mn=sn,En=yn,Nn=Vn.element,ta=Vn.data,ba=Vn.internalformat,Ya=Vn.format,Zt=Vn.type,wr=Vn.width,tn=Vn.height;Rt(Vn),Nn?ut.texImage2D(Mn,En,Ya,Ya,Zt,Nn):Vn.compressed?ut.compressedTexImage2D(Mn,En,ba,wr,tn,0,ta):Vn.needsCopy?(mr(),ut.copyTexImage2D(Mn,En,Ya,Vn.xOffset,Vn.yOffset,wr,tn,0)):ut.texImage2D(Mn,En,Ya,wr,tn,0,Ya,Zt,ta||null)}}function kt(){var Tr=oa.pop()||new dr;xt.call(Tr);for(var sn=Tr.mipmask=0;16>sn;++sn)Tr.images[sn]=null;return Tr}function jt(Tr){for(var sn=Tr.images,rn=0;rn<sn.length;++rn)sn[rn]&&sr(sn[rn]),sn[rn]=null;oa.push(Tr)}function tr(){this.magFilter=this.minFilter=9728,this.wrapT=this.wrapS=33071,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=4352}function or(Tr,sn){"min"in sn&&(Tr.minFilter=_r[sn.min],0<=yt.indexOf(Tr.minFilter)&&!("faces"in sn)&&(Tr.genMipmaps=!0)),"mag"in sn&&(Tr.magFilter=kr[sn.mag]);var rn=Tr.wrapS,yn=Tr.wrapT;if("wrap"in sn){var Vn=sn.wrap;typeof Vn=="string"?rn=yn=Vr[Vn]:Array.isArray(Vn)&&(rn=Vr[Vn[0]],yn=Vr[Vn[1]])}else"wrapS"in sn&&(rn=Vr[sn.wrapS]),"wrapT"in sn&&(yn=Vr[sn.wrapT]);if(Tr.wrapS=rn,Tr.wrapT=yn,"anisotropic"in sn&&(Tr.anisotropic=sn.anisotropic),"mipmap"in sn){switch(rn=!1,typeof sn.mipmap){case"string":Tr.mipmapHint=vr[sn.mipmap],rn=Tr.genMipmaps=!0;break;case"boolean":rn=Tr.genMipmaps=sn.mipmap;break;case"object":Tr.genMipmaps=!1,rn=!0}!rn||"min"in sn||(Tr.minFilter=9984)}}function rr(Tr,sn){ut.texParameteri(sn,10241,Tr.minFilter),ut.texParameteri(sn,10240,Tr.magFilter),ut.texParameteri(sn,10242,Tr.wrapS),ut.texParameteri(sn,10243,Tr.wrapT),Yt.ext_texture_filter_anisotropic&&ut.texParameteri(sn,34046,Tr.anisotropic),Tr.genMipmaps&&(ut.hint(33170,Tr.mipmapHint),ut.generateMipmap(sn))}function Ot(Tr){xt.call(this),this.mipmask=0,this.internalformat=6408,this.id=Zn++,this.refCount=1,this.target=Tr,this.texture=ut.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new tr,st.profile&&(this.stats={size:0})}function hr(Tr){ut.activeTexture(33984),ut.bindTexture(Tr.target,Tr.texture)}function gr(){var Tr=Qn[0];Tr?ut.bindTexture(Tr.target,Tr.texture):ut.bindTexture(3553,null)}function pr(Tr){var sn=Tr.texture,rn=Tr.unit,yn=Tr.target;0<=rn&&(ut.activeTexture(33984+rn),ut.bindTexture(yn,null),Qn[rn]=null),ut.deleteTexture(sn),Tr.texture=null,Tr.params=null,Tr.pixels=null,Tr.refCount=0,delete qn[Tr.id],pt.textureCount--}var vr={"don't care":4352,"dont care":4352,nice:4354,fast:4353},Vr={repeat:10497,clamp:33071,mirror:33648},kr={nearest:9728,linear:9729},_r=se({mipmap:9987,"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},kr),pn={none:0,browser:37444},en={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},Bn={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},Tn={};Yt.ext_srgb&&(Bn.srgb=35904,Bn.srgba=35906),Yt.oes_texture_float&&(en.float32=en.float=5126),Yt.oes_texture_half_float&&(en.float16=en["half float"]=36193),Yt.webgl_depth_texture&&(se(Bn,{depth:6402,"depth stencil":34041}),se(en,{uint16:5123,uint32:5125,"depth stencil":34042})),Yt.webgl_compressed_texture_s3tc&&se(Tn,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779}),Yt.webgl_compressed_texture_atc&&se(Tn,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798}),Yt.webgl_compressed_texture_pvrtc&&se(Tn,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843}),Yt.webgl_compressed_texture_etc1&&(Tn["rgb etc1"]=36196);var Mr=Array.prototype.slice.call(ut.getParameter(34467));Object.keys(Tn).forEach(function(Tr){var sn=Tn[Tr];0<=Mr.indexOf(sn)&&(Bn[Tr]=sn)});var Er=Object.keys(Bn);Kt.textureFormats=Er;var Gr=[];Object.keys(Bn).forEach(function(Tr){Gr[Bn[Tr]]=Tr});var Ur=[];Object.keys(en).forEach(function(Tr){Ur[en[Tr]]=Tr});var an=[];Object.keys(kr).forEach(function(Tr){an[kr[Tr]]=Tr});var gn=[];Object.keys(_r).forEach(function(Tr){gn[_r[Tr]]=Tr});var mn=[];Object.keys(Vr).forEach(function(Tr){mn[Vr[Tr]]=Tr});var Rn=Er.reduce(function(Tr,sn){var rn=Bn[sn];return rn===6409||rn===6406||rn===6409||rn===6410||rn===6402||rn===34041||Yt.ext_srgb&&(rn===35904||rn===35906)?Tr[rn]=rn:rn===32855||0<=sn.indexOf("rgba")?Tr[rn]=6408:Tr[rn]=6407,Tr},{}),zn=[],oa=[],Zn=0,qn={},Yn=Kt.maxTextureUnits,Qn=Array(Yn).map(function(){return null});return se(Ot.prototype,{bind:function(){this.bindCount+=1;var Tr=this.unit;if(0>Tr){for(var sn=0;sn<Yn;++sn){var rn=Qn[sn];if(rn){if(0<rn.bindCount)continue;rn.unit=-1}Qn[sn]=this,Tr=sn;break}st.profile&&pt.maxTextureUnits<Tr+1&&(pt.maxTextureUnits=Tr+1),this.unit=Tr,ut.activeTexture(33984+Tr),ut.bindTexture(this.target,this.texture)}return Tr},unbind:function(){--this.bindCount},decRef:function(){0>=--this.refCount&&pr(this)}}),st.profile&&(pt.getTotalTextureSize=function(){var Tr=0;return Object.keys(qn).forEach(function(sn){Tr+=qn[sn].stats.size}),Tr}),{create2D:function(Tr,sn){function rn(Vn,Mn){var En=yn.texInfo;tr.call(En);var Nn=kt();return typeof Vn=="number"?typeof Mn=="number"?je(Nn,Vn|0,Mn|0):je(Nn,Vn|0,Vn|0):Vn?(or(En,Vn),Ye(Nn,Vn)):je(Nn,1,1),En.genMipmaps&&(Nn.mipmask=(Nn.width<<1)-1),yn.mipmask=Nn.mipmask,St(yn,Nn),yn.internalformat=Nn.internalformat,rn.width=Nn.width,rn.height=Nn.height,hr(yn),It(Nn,3553),rr(En,3553),gr(),jt(Nn),st.profile&&(yn.stats.size=b(yn.internalformat,yn.type,Nn.width,Nn.height,En.genMipmaps,!1)),rn.format=Gr[yn.internalformat],rn.type=Ur[yn.type],rn.mag=an[En.magFilter],rn.min=gn[En.minFilter],rn.wrapS=mn[En.wrapS],rn.wrapT=mn[En.wrapT],rn}var yn=new Ot(3553);return qn[yn.id]=yn,pt.textureCount++,rn(Tr,sn),rn.subimage=function(Vn,Mn,En,Nn){Mn|=0,En|=0,Nn|=0;var ta=lr();return St(ta,yn),ta.width=0,ta.height=0,Nt(ta,Vn),ta.width=ta.width||(yn.width>>Nn)-Mn,ta.height=ta.height||(yn.height>>Nn)-En,hr(yn),Xt(ta,3553,Mn,En,Nn),gr(),sr(ta),rn},rn.resize=function(Vn,Mn){var En=Vn|0,Nn=Mn|0||En;if(En===yn.width&&Nn===yn.height)return rn;rn.width=yn.width=En,rn.height=yn.height=Nn,hr(yn);for(var ta=0;yn.mipmask>>ta;++ta){var ba=En>>ta,Ya=Nn>>ta;if(!ba||!Ya)break;ut.texImage2D(3553,ta,yn.format,ba,Ya,0,yn.format,yn.type,null)}return gr(),st.profile&&(yn.stats.size=b(yn.internalformat,yn.type,En,Nn,!1,!1)),rn},rn._reglType="texture2d",rn._texture=yn,st.profile&&(rn.stats=yn.stats),rn.destroy=function(){yn.decRef()},rn},createCube:function(Tr,sn,rn,yn,Vn,Mn){function En(ba,Ya,Zt,wr,tn,un){var cn,In=Nn.texInfo;for(tr.call(In),cn=0;6>cn;++cn)ta[cn]=kt();if(typeof ba=="number"||!ba)for(ba=ba|0||1,cn=0;6>cn;++cn)je(ta[cn],ba,ba);else if(typeof ba=="object")if(Ya)Ye(ta[0],ba),Ye(ta[1],Ya),Ye(ta[2],Zt),Ye(ta[3],wr),Ye(ta[4],tn),Ye(ta[5],un);else if(or(In,ba),Dt(Nn,ba),"faces"in ba)for(ba=ba.faces,cn=0;6>cn;++cn)St(ta[cn],Nn),Ye(ta[cn],ba[cn]);else for(cn=0;6>cn;++cn)Ye(ta[cn],ba);for(St(Nn,ta[0]),Nn.mipmask=In.genMipmaps?(ta[0].width<<1)-1:ta[0].mipmask,Nn.internalformat=ta[0].internalformat,En.width=ta[0].width,En.height=ta[0].height,hr(Nn),cn=0;6>cn;++cn)It(ta[cn],34069+cn);for(rr(In,34067),gr(),st.profile&&(Nn.stats.size=b(Nn.internalformat,Nn.type,En.width,En.height,In.genMipmaps,!0)),En.format=Gr[Nn.internalformat],En.type=Ur[Nn.type],En.mag=an[In.magFilter],En.min=gn[In.minFilter],En.wrapS=mn[In.wrapS],En.wrapT=mn[In.wrapT],cn=0;6>cn;++cn)jt(ta[cn]);return En}var Nn=new Ot(34067);qn[Nn.id]=Nn,pt.cubeCount++;var ta=Array(6);return En(Tr,sn,rn,yn,Vn,Mn),En.subimage=function(ba,Ya,Zt,wr,tn){Zt|=0,wr|=0,tn|=0;var un=lr();return St(un,Nn),un.width=0,un.height=0,Nt(un,Ya),un.width=un.width||(Nn.width>>tn)-Zt,un.height=un.height||(Nn.height>>tn)-wr,hr(Nn),Xt(un,34069+ba,Zt,wr,tn),gr(),sr(un),En},En.resize=function(ba){if(ba|=0,ba!==Nn.width){En.width=Nn.width=ba,En.height=Nn.height=ba,hr(Nn);for(var Ya=0;6>Ya;++Ya)for(var Zt=0;Nn.mipmask>>Zt;++Zt)ut.texImage2D(34069+Ya,Zt,Nn.format,ba>>Zt,ba>>Zt,0,Nn.format,Nn.type,null);return gr(),st.profile&&(Nn.stats.size=b(Nn.internalformat,Nn.type,En.width,En.height,!1,!0)),En}},En._reglType="textureCube",En._texture=Nn,st.profile&&(En.stats=Nn.stats),En.destroy=function(){Nn.decRef()},En},clear:function(){for(var Tr=0;Tr<Yn;++Tr)ut.activeTexture(33984+Tr),ut.bindTexture(3553,null),Qn[Tr]=null;be(qn).forEach(pr),pt.cubeCount=0,pt.textureCount=0},getTexture:function(Tr){return null},restore:function(){for(var Tr=0;Tr<Yn;++Tr){var sn=Qn[Tr];sn&&(sn.bindCount=0,sn.unit=-1,Qn[Tr]=null)}be(qn).forEach(function(rn){rn.texture=ut.createTexture(),ut.bindTexture(rn.target,rn.texture);for(var yn=0;32>yn;++yn)if(rn.mipmask&1<<yn)if(rn.target===3553)ut.texImage2D(3553,yn,rn.internalformat,rn.width>>yn,rn.height>>yn,0,rn.internalformat,rn.type,null);else for(var Vn=0;6>Vn;++Vn)ut.texImage2D(34069+Vn,yn,rn.internalformat,rn.width>>yn,rn.height>>yn,0,rn.internalformat,rn.type,null);rr(rn.texInfo,rn.target)})},refresh:function(){for(var Tr=0;Tr<Yn;++Tr){var sn=Qn[Tr];sn&&(sn.bindCount=0,sn.unit=-1,Qn[Tr]=null),ut.activeTexture(33984+Tr),ut.bindTexture(3553,null),ut.bindTexture(34067,null)}}}}function _(ut,Yt,Kt,mr,ur,pt){function st(Ot,hr,gr){this.target=Ot,this.texture=hr,this.renderbuffer=gr;var pr=Ot=0;hr?(Ot=hr.width,pr=hr.height):gr&&(Ot=gr.width,pr=gr.height),this.width=Ot,this.height=pr}function xt(Ot){Ot&&(Ot.texture&&Ot.texture._texture.decRef(),Ot.renderbuffer&&Ot.renderbuffer._renderbuffer.decRef())}function St(Ot,hr,gr){Ot&&(Ot.texture?Ot.texture._texture.refCount+=1:Ot.renderbuffer._renderbuffer.refCount+=1)}function Dt(Ot,hr){hr&&(hr.texture?ut.framebufferTexture2D(36160,Ot,hr.target,hr.texture._texture.texture,0):ut.framebufferRenderbuffer(36160,Ot,36161,hr.renderbuffer._renderbuffer.renderbuffer))}function Rt(Ot){var hr=3553,gr=null,pr=null,vr=Ot;return typeof Ot=="object"&&(vr=Ot.data,"target"in Ot&&(hr=Ot.target|0)),Ot=vr._reglType,Ot==="texture2d"||Ot==="textureCube"?gr=vr:Ot==="renderbuffer"&&(pr=vr,hr=36161),new st(hr,gr,pr)}function Bt(Ot,hr,gr,pr,vr){return gr?(Ot=mr.create2D({width:Ot,height:hr,format:pr,type:vr}),Ot._texture.refCount=0,new st(3553,Ot,null)):(Ot=ur.create({width:Ot,height:hr,format:pr}),Ot._renderbuffer.refCount=0,new st(36161,null,Ot))}function Nt(Ot){return Ot&&(Ot.texture||Ot.renderbuffer)}function Xt(Ot,hr,gr){Ot&&(Ot.texture?Ot.texture.resize(hr,gr):Ot.renderbuffer&&Ot.renderbuffer.resize(hr,gr),Ot.width=hr,Ot.height=gr)}function lr(){this.id=or++,rr[this.id]=this,this.framebuffer=ut.createFramebuffer(),this.height=this.width=0,this.colorAttachments=[],this.depthStencilAttachment=this.stencilAttachment=this.depthAttachment=null}function sr(Ot){Ot.colorAttachments.forEach(xt),xt(Ot.depthAttachment),xt(Ot.stencilAttachment),xt(Ot.depthStencilAttachment)}function dr(Ot){ut.deleteFramebuffer(Ot.framebuffer),Ot.framebuffer=null,pt.framebufferCount--,delete rr[Ot.id]}function je(Ot){var hr;ut.bindFramebuffer(36160,Ot.framebuffer);var gr=Ot.colorAttachments;for(hr=0;hr<gr.length;++hr)Dt(36064+hr,gr[hr]);for(hr=gr.length;hr<Kt.maxColorAttachments;++hr)ut.framebufferTexture2D(36160,36064+hr,3553,null,0);ut.framebufferTexture2D(36160,33306,3553,null,0),ut.framebufferTexture2D(36160,36096,3553,null,0),ut.framebufferTexture2D(36160,36128,3553,null,0),Dt(36096,Ot.depthAttachment),Dt(36128,Ot.stencilAttachment),Dt(33306,Ot.depthStencilAttachment),ut.checkFramebufferStatus(36160),ut.isContextLost(),ut.bindFramebuffer(36160,It.next?It.next.framebuffer:null),It.cur=It.next,ut.getError()}function Ye(Ot,hr){function gr(vr,Vr){var kr,_r=0,pn=0,en=!0,Bn=!0;kr=null;var Tn=!0,Mr="rgba",Er="uint8",Gr=1,Ur=null,an=null,gn=null,mn=!1;typeof vr=="number"?(_r=vr|0,pn=Vr|0||_r):vr?("shape"in vr?(pn=vr.shape,_r=pn[0],pn=pn[1]):("radius"in vr&&(_r=pn=vr.radius),"width"in vr&&(_r=vr.width),"height"in vr&&(pn=vr.height)),("color"in vr||"colors"in vr)&&(kr=vr.color||vr.colors),kr||("colorCount"in vr&&(Gr=vr.colorCount|0),"colorTexture"in vr&&(Tn=!!vr.colorTexture,Mr="rgba4"),"colorType"in vr&&(Er=vr.colorType,!Tn)&&(Er==="half float"||Er==="float16"?Mr="rgba16f":(Er==="float"||Er==="float32")&&(Mr="rgba32f")),"colorFormat"in vr&&(Mr=vr.colorFormat,0<=kt.indexOf(Mr)?Tn=!0:0<=jt.indexOf(Mr)&&(Tn=!1))),("depthTexture"in vr||"depthStencilTexture"in vr)&&(mn=!(!vr.depthTexture&&!vr.depthStencilTexture)),"depth"in vr&&(typeof vr.depth=="boolean"?en=vr.depth:(Ur=vr.depth,Bn=!1)),"stencil"in vr&&(typeof vr.stencil=="boolean"?Bn=vr.stencil:(an=vr.stencil,en=!1)),"depthStencil"in vr&&(typeof vr.depthStencil=="boolean"?en=Bn=vr.depthStencil:(gn=vr.depthStencil,Bn=en=!1))):_r=pn=1;var Rn=null,zn=null,oa=null,Zn=null;if(Array.isArray(kr))Rn=kr.map(Rt);else if(kr)Rn=[Rt(kr)];else for(Rn=Array(Gr),kr=0;kr<Gr;++kr)Rn[kr]=Bt(_r,pn,Tn,Mr,Er);for(_r=_r||Rn[0].width,pn=pn||Rn[0].height,Ur?zn=Rt(Ur):en&&!Bn&&(zn=Bt(_r,pn,mn,"depth","uint32")),an?oa=Rt(an):Bn&&!en&&(oa=Bt(_r,pn,!1,"stencil","uint8")),gn?Zn=Rt(gn):!Ur&&!an&&Bn&&en&&(Zn=Bt(_r,pn,mn,"depth stencil","depth stencil")),en=null,kr=0;kr<Rn.length;++kr)St(Rn[kr]),Rn[kr]&&Rn[kr].texture&&(Bn=Ue[Rn[kr].texture._texture.format]*$e[Rn[kr].texture._texture.type],en===null&&(en=Bn));return St(zn),St(oa),St(Zn),sr(pr),pr.width=_r,pr.height=pn,pr.colorAttachments=Rn,pr.depthAttachment=zn,pr.stencilAttachment=oa,pr.depthStencilAttachment=Zn,gr.color=Rn.map(Nt),gr.depth=Nt(zn),gr.stencil=Nt(oa),gr.depthStencil=Nt(Zn),gr.width=pr.width,gr.height=pr.height,je(pr),gr}var pr=new lr;return pt.framebufferCount++,gr(Ot,hr),se(gr,{resize:function(vr,Vr){var kr=Math.max(vr|0,1),_r=Math.max(Vr|0||kr,1);if(kr===pr.width&&_r===pr.height)return gr;for(var pn=pr.colorAttachments,en=0;en<pn.length;++en)Xt(pn[en],kr,_r);return Xt(pr.depthAttachment,kr,_r),Xt(pr.stencilAttachment,kr,_r),Xt(pr.depthStencilAttachment,kr,_r),pr.width=gr.width=kr,pr.height=gr.height=_r,je(pr),gr},_reglType:"framebuffer",_framebuffer:pr,destroy:function(){dr(pr),sr(pr)},use:function(vr){It.setFBO({framebuffer:gr},vr)}})}var It={cur:null,next:null,dirty:!1,setFBO:null},kt=["rgba"],jt=["rgba4","rgb565","rgb5 a1"];Yt.ext_srgb&&jt.push("srgba"),Yt.ext_color_buffer_half_float&&jt.push("rgba16f","rgb16f"),Yt.webgl_color_buffer_float&&jt.push("rgba32f");var tr=["uint8"];Yt.oes_texture_half_float&&tr.push("half float","float16"),Yt.oes_texture_float&&tr.push("float","float32");var or=0,rr={};return se(It,{getFramebuffer:function(Ot){return typeof Ot=="function"&&Ot._reglType==="framebuffer"&&(Ot=Ot._framebuffer,Ot instanceof lr)?Ot:null},create:Ye,createCube:function(Ot){function hr(pr){var vr,Vr={color:null},kr=0,_r=null;vr="rgba";var pn="uint8",en=1;if(typeof pr=="number"?kr=pr|0:pr?("shape"in pr?kr=pr.shape[0]:("radius"in pr&&(kr=pr.radius|0),"width"in pr?kr=pr.width|0:"height"in pr&&(kr=pr.height|0)),("color"in pr||"colors"in pr)&&(_r=pr.color||pr.colors),_r||("colorCount"in pr&&(en=pr.colorCount|0),"colorType"in pr&&(pn=pr.colorType),"colorFormat"in pr&&(vr=pr.colorFormat)),"depth"in pr&&(Vr.depth=pr.depth),"stencil"in pr&&(Vr.stencil=pr.stencil),"depthStencil"in pr&&(Vr.depthStencil=pr.depthStencil)):kr=1,_r)if(Array.isArray(_r))for(pr=[],vr=0;vr<_r.length;++vr)pr[vr]=_r[vr];else pr=[_r];else for(pr=Array(en),_r={radius:kr,format:vr,type:pn},vr=0;vr<en;++vr)pr[vr]=mr.createCube(_r);for(Vr.color=Array(pr.length),vr=0;vr<pr.length;++vr)en=pr[vr],kr=kr||en.width,Vr.color[vr]={target:34069,data:pr[vr]};for(vr=0;6>vr;++vr){for(en=0;en<pr.length;++en)Vr.color[en].target=34069+vr;0<vr&&(Vr.depth=gr[0].depth,Vr.stencil=gr[0].stencil,Vr.depthStencil=gr[0].depthStencil),gr[vr]?gr[vr](Vr):gr[vr]=Ye(Vr)}return se(hr,{width:kr,height:kr,color:pr})}var gr=Array(6);return hr(Ot),se(hr,{faces:gr,resize:function(pr){var vr=pr|0;if(vr===hr.width)return hr;var Vr=hr.color;for(pr=0;pr<Vr.length;++pr)Vr[pr].resize(vr);for(pr=0;6>pr;++pr)gr[pr].resize(vr);return hr.width=hr.height=vr,hr},_reglType:"framebufferCube",destroy:function(){gr.forEach(function(pr){pr.destroy()})}})},clear:function(){be(rr).forEach(dr)},restore:function(){It.cur=null,It.next=null,It.dirty=!0,be(rr).forEach(function(Ot){Ot.framebuffer=ut.createFramebuffer(),je(Ot)})}})}function N(){this.w=this.z=this.y=this.x=this.state=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=5126,this.divisor=this.stride=this.offset=0}function z(ut,Yt,Kt,mr,ur,pt,st){function xt(je){if(je!==dr.currentVAO){var Ye=Yt.oes_vertex_array_object;je?Ye.bindVertexArrayOES(je.vao):Ye.bindVertexArrayOES(null),dr.currentVAO=je}}function St(je){if(je!==dr.currentVAO){if(je)je.bindAttrs();else{for(var Ye=Yt.angle_instanced_arrays,It=0;It<Xt.length;++It){var kt=Xt[It];kt.buffer?(ut.enableVertexAttribArray(It),kt.buffer.bind(),ut.vertexAttribPointer(It,kt.size,kt.type,kt.normalized,kt.stride,kt.offfset),Ye&&kt.divisor&&Ye.vertexAttribDivisorANGLE(It,kt.divisor)):(ut.disableVertexAttribArray(It),ut.vertexAttrib4f(It,kt.x,kt.y,kt.z,kt.w))}st.elements?ut.bindBuffer(34963,st.elements.buffer.buffer):ut.bindBuffer(34963,null)}dr.currentVAO=je}}function Dt(){be(sr).forEach(function(je){je.destroy()})}function Rt(){this.id=++lr,this.attributes=[],this.elements=null,this.ownsElements=!1,this.offset=this.count=0,this.instances=-1,this.primitive=4;var je=Yt.oes_vertex_array_object;this.vao=je?je.createVertexArrayOES():null,sr[this.id]=this,this.buffers=[]}function Bt(){Yt.oes_vertex_array_object&&be(sr).forEach(function(je){je.refresh()})}var Nt=Kt.maxAttributes,Xt=Array(Nt);for(Kt=0;Kt<Nt;++Kt)Xt[Kt]=new N;var lr=0,sr={},dr={Record:N,scope:{},state:Xt,currentVAO:null,targetVAO:null,restore:Yt.oes_vertex_array_object?Bt:function(){},createVAO:function(je){function Ye(kt){var jt;Array.isArray(kt)?(jt=kt,It.elements&&It.ownsElements&&It.elements.destroy(),It.elements=null,It.ownsElements=!1,It.offset=0,It.count=0,It.instances=-1,It.primitive=4):(kt.elements?(jt=kt.elements,It.ownsElements?(typeof jt=="function"&&jt._reglType==="elements"?It.elements.destroy():It.elements(jt),It.ownsElements=!1):pt.getElements(kt.elements)?(It.elements=kt.elements,It.ownsElements=!1):(It.elements=pt.create(kt.elements),It.ownsElements=!0)):(It.elements=null,It.ownsElements=!1),jt=kt.attributes,It.offset=0,It.count=-1,It.instances=-1,It.primitive=4,It.elements&&(It.count=It.elements._elements.vertCount,It.primitive=It.elements._elements.primType),"offset"in kt&&(It.offset=kt.offset|0),"count"in kt&&(It.count=kt.count|0),"instances"in kt&&(It.instances=kt.instances|0),"primitive"in kt&&(It.primitive=tt[kt.primitive])),kt={};var tr=It.attributes;tr.length=jt.length;for(var or=0;or<jt.length;++or){var rr=jt[or],Ot=tr[or]=new N,hr=rr.data||rr;if(Array.isArray(hr)||Le(hr)||f(hr)){var gr;It.buffers[or]&&(gr=It.buffers[or],Le(hr)&&gr._buffer.byteLength>=hr.byteLength?gr.subdata(hr):(gr.destroy(),It.buffers[or]=null)),It.buffers[or]||(gr=It.buffers[or]=ur.create(rr,34962,!1,!0)),Ot.buffer=ur.getBuffer(gr),Ot.size=Ot.buffer.dimension|0,Ot.normalized=!1,Ot.type=Ot.buffer.dtype,Ot.offset=0,Ot.stride=0,Ot.divisor=0,Ot.state=1,kt[or]=1}else ur.getBuffer(rr)?(Ot.buffer=ur.getBuffer(rr),Ot.size=Ot.buffer.dimension|0,Ot.normalized=!1,Ot.type=Ot.buffer.dtype,Ot.offset=0,Ot.stride=0,Ot.divisor=0,Ot.state=1):ur.getBuffer(rr.buffer)?(Ot.buffer=ur.getBuffer(rr.buffer),Ot.size=(+rr.size||Ot.buffer.dimension)|0,Ot.normalized=!!rr.normalized||!1,Ot.type="type"in rr?Ve[rr.type]:Ot.buffer.dtype,Ot.offset=(rr.offset||0)|0,Ot.stride=(rr.stride||0)|0,Ot.divisor=(rr.divisor||0)|0,Ot.state=1):"x"in rr&&(Ot.x=+rr.x||0,Ot.y=+rr.y||0,Ot.z=+rr.z||0,Ot.w=+rr.w||0,Ot.state=2)}for(gr=0;gr<It.buffers.length;++gr)!kt[gr]&&It.buffers[gr]&&(It.buffers[gr].destroy(),It.buffers[gr]=null);return It.refresh(),Ye}var It=new Rt;return mr.vaoCount+=1,Ye.destroy=function(){for(var kt=0;kt<It.buffers.length;++kt)It.buffers[kt]&&It.buffers[kt].destroy();It.buffers.length=0,It.ownsElements&&(It.elements.destroy(),It.elements=null,It.ownsElements=!1),It.destroy()},Ye._vao=It,Ye._reglType="vao",Ye(je)},getVAO:function(je){return typeof je=="function"&&je._vao?je._vao:null},destroyBuffer:function(je){for(var Ye=0;Ye<Xt.length;++Ye){var It=Xt[Ye];It.buffer===je&&(ut.disableVertexAttribArray(Ye),It.buffer=null)}},setVAO:Yt.oes_vertex_array_object?xt:St,clear:Yt.oes_vertex_array_object?Dt:function(){}};return Rt.prototype.bindAttrs=function(){for(var je=Yt.angle_instanced_arrays,Ye=this.attributes,It=0;It<Ye.length;++It){var kt=Ye[It];kt.buffer?(ut.enableVertexAttribArray(It),ut.bindBuffer(34962,kt.buffer.buffer),ut.vertexAttribPointer(It,kt.size,kt.type,kt.normalized,kt.stride,kt.offset),je&&kt.divisor&&je.vertexAttribDivisorANGLE(It,kt.divisor)):(ut.disableVertexAttribArray(It),ut.vertexAttrib4f(It,kt.x,kt.y,kt.z,kt.w))}for(je=Ye.length;je<Nt;++je)ut.disableVertexAttribArray(je);(je=pt.getElements(this.elements))?ut.bindBuffer(34963,je.buffer.buffer):ut.bindBuffer(34963,null)},Rt.prototype.refresh=function(){var je=Yt.oes_vertex_array_object;je&&(je.bindVertexArrayOES(this.vao),this.bindAttrs(),dr.currentVAO=null,je.bindVertexArrayOES(null))},Rt.prototype.destroy=function(){if(this.vao){var je=Yt.oes_vertex_array_object;this===dr.currentVAO&&(dr.currentVAO=null,je.bindVertexArrayOES(null)),je.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),sr[this.id]&&(delete sr[this.id],--mr.vaoCount)},dr}function B(ut,Yt,Kt,mr){function ur(lr,sr,dr,je){this.name=lr,this.id=sr,this.location=dr,this.info=je}function pt(lr,sr){for(var dr=0;dr<lr.length;++dr)if(lr[dr].id===sr.id){lr[dr].location=sr.location;return}lr.push(sr)}function st(lr,sr,dr){dr=lr===35632?Dt:Rt;var je=dr[sr];if(!je){var Ye=Yt.str(sr),je=ut.createShader(lr);ut.shaderSource(je,Ye),ut.compileShader(je),dr[sr]=je}return je}function xt(lr,sr){this.id=Xt++,this.fragId=lr,this.vertId=sr,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,mr.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function St(lr,sr,dr){var je;je=st(35632,lr.fragId);var Ye=st(35633,lr.vertId);if(sr=lr.program=ut.createProgram(),ut.attachShader(sr,je),ut.attachShader(sr,Ye),dr)for(je=0;je<dr.length;++je)Ye=dr[je],ut.bindAttribLocation(sr,Ye[0],Ye[1]);ut.linkProgram(sr),Ye=ut.getProgramParameter(sr,35718),mr.profile&&(lr.stats.uniformsCount=Ye);var It=lr.uniforms;for(je=0;je<Ye;++je)if(dr=ut.getActiveUniform(sr,je))if(1<dr.size)for(var kt=0;kt<dr.size;++kt){var jt=dr.name.replace("[0]","["+kt+"]");pt(It,new ur(jt,Yt.id(jt),ut.getUniformLocation(sr,jt),dr))}else pt(It,new ur(dr.name,Yt.id(dr.name),ut.getUniformLocation(sr,dr.name),dr));for(Ye=ut.getProgramParameter(sr,35721),mr.profile&&(lr.stats.attributesCount=Ye),lr=lr.attributes,je=0;je<Ye;++je)(dr=ut.getActiveAttrib(sr,je))&&pt(lr,new ur(dr.name,Yt.id(dr.name),ut.getAttribLocation(sr,dr.name),dr))}var Dt={},Rt={},Bt={},Nt=[],Xt=0;return mr.profile&&(Kt.getMaxUniformsCount=function(){var lr=0;return Nt.forEach(function(sr){sr.stats.uniformsCount>lr&&(lr=sr.stats.uniformsCount)}),lr},Kt.getMaxAttributesCount=function(){var lr=0;return Nt.forEach(function(sr){sr.stats.attributesCount>lr&&(lr=sr.stats.attributesCount)}),lr}),{clear:function(){var lr=ut.deleteShader.bind(ut);be(Dt).forEach(lr),Dt={},be(Rt).forEach(lr),Rt={},Nt.forEach(function(sr){ut.deleteProgram(sr.program)}),Nt.length=0,Bt={},Kt.shaderCount=0},program:function(lr,sr,dr,je){var Ye=Bt[sr];Ye||(Ye=Bt[sr]={});var It=Ye[lr];if(It&&(It.refCount++,!je))return It;var kt=new xt(sr,lr);return Kt.shaderCount++,St(kt,dr,je),It||(Ye[lr]=kt),Nt.push(kt),se(kt,{destroy:function(){if(kt.refCount--,0>=kt.refCount){ut.deleteProgram(kt.program);var jt=Nt.indexOf(kt);Nt.splice(jt,1),Kt.shaderCount--}0>=Ye[kt.vertId].refCount&&(ut.deleteShader(Rt[kt.vertId]),delete Rt[kt.vertId],delete Bt[kt.fragId][kt.vertId]),Object.keys(Bt[kt.fragId]).length||(ut.deleteShader(Dt[kt.fragId]),delete Dt[kt.fragId],delete Bt[kt.fragId])}})},restore:function(){Dt={},Rt={};for(var lr=0;lr<Nt.length;++lr)St(Nt[lr],null,Nt[lr].attributes.map(function(sr){return[sr.location,sr.name]}))},shader:st,frag:-1,vert:-1}}function U(ut,Yt,Kt,mr,ur,pt,st){function xt(Dt){var Rt;Rt=Yt.next===null?5121:Yt.next.colorAttachments[0].texture._texture.type;var Bt=0,Nt=0,Xt=mr.framebufferWidth,lr=mr.framebufferHeight,sr=null;return Le(Dt)?sr=Dt:Dt&&(Bt=Dt.x|0,Nt=Dt.y|0,Xt=(Dt.width||mr.framebufferWidth-Bt)|0,lr=(Dt.height||mr.framebufferHeight-Nt)|0,sr=Dt.data||null),Kt(),Dt=Xt*lr*4,sr||(Rt===5121?sr=new Uint8Array(Dt):Rt===5126&&(sr=sr||new Float32Array(Dt))),ut.pixelStorei(3333,4),ut.readPixels(Bt,Nt,Xt,lr,6408,Rt,sr),sr}function St(Dt){var Rt;return Yt.setFBO({framebuffer:Dt.framebuffer},function(){Rt=xt(Dt)}),Rt}return function(Dt){return Dt&&"framebuffer"in Dt?St(Dt):xt(Dt)}}function F(ut){for(var Yt=Array(ut.length>>2),mr=0;mr<Yt.length;mr++)Yt[mr]=0;for(mr=0;mr<8*ut.length;mr+=8)Yt[mr>>5]|=(ut.charCodeAt(mr/8)&255)<<24-mr%32;var Kt=8*ut.length;ut=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225];var mr=Array(64),ur,pt,st,xt,St,Dt,Rt,Bt,Nt,Xt,lr;for(Yt[Kt>>5]|=128<<24-Kt%32,Yt[(Kt+64>>9<<4)+15]=Kt,Bt=0;Bt<Yt.length;Bt+=16){for(Kt=ut[0],ur=ut[1],pt=ut[2],st=ut[3],xt=ut[4],St=ut[5],Dt=ut[6],Rt=ut[7],Nt=0;64>Nt;Nt++){if(16>Nt)mr[Nt]=Yt[Nt+Bt];else{Xt=Nt,lr=mr[Nt-2],lr=$(lr,17)^$(lr,19)^lr>>>10,lr=ne(lr,mr[Nt-7]);var sr;sr=mr[Nt-15],sr=$(sr,7)^$(sr,18)^sr>>>3,mr[Xt]=ne(ne(lr,sr),mr[Nt-16])}Xt=xt,Xt=$(Xt,6)^$(Xt,11)^$(Xt,25),Xt=ne(ne(ne(ne(Rt,Xt),xt&St^~xt&Dt),qe[Nt]),mr[Nt]),Rt=Kt,Rt=$(Rt,2)^$(Rt,13)^$(Rt,22),lr=ne(Rt,Kt&ur^Kt&pt^ur&pt),Rt=Dt,Dt=St,St=xt,xt=ne(st,Xt),st=pt,pt=ur,ur=Kt,Kt=ne(Xt,lr)}ut[0]=ne(Kt,ut[0]),ut[1]=ne(ur,ut[1]),ut[2]=ne(pt,ut[2]),ut[3]=ne(st,ut[3]),ut[4]=ne(xt,ut[4]),ut[5]=ne(St,ut[5]),ut[6]=ne(Dt,ut[6]),ut[7]=ne(Rt,ut[7])}for(Yt="",mr=0;mr<32*ut.length;mr+=8)Yt+=String.fromCharCode(ut[mr>>5]>>>24-mr%32&255);return Yt}function V(ut){for(var Yt="",Kt,mr=0;mr<ut.length;mr++)Kt=ut.charCodeAt(mr),Yt+="0123456789abcdef".charAt(Kt>>>4&15)+"0123456789abcdef".charAt(Kt&15);return Yt}function j(ut){for(var Yt="",Kt=-1,mr,ur;++Kt<ut.length;)mr=ut.charCodeAt(Kt),ur=Kt+1<ut.length?ut.charCodeAt(Kt+1):0,55296<=mr&&56319>=mr&&56320<=ur&&57343>=ur&&(mr=65536+((mr&1023)<<10)+(ur&1023),Kt++),127>=mr?Yt+=String.fromCharCode(mr):2047>=mr?Yt+=String.fromCharCode(192|mr>>>6&31,128|mr&63):65535>=mr?Yt+=String.fromCharCode(224|mr>>>12&15,128|mr>>>6&63,128|mr&63):2097151>=mr&&(Yt+=String.fromCharCode(240|mr>>>18&7,128|mr>>>12&63,128|mr>>>6&63,128|mr&63));return Yt}function $(ut,Yt){return ut>>>Yt|ut<<32-Yt}function ne(ut,Yt){var Kt=(ut&65535)+(Yt&65535);return(ut>>16)+(Yt>>16)+(Kt>>16)<<16|Kt&65535}function oe(ut){return Array.prototype.slice.call(ut)}function ce(ut){return oe(ut).join("")}function Q(ut){function Yt(){var Rt=[],Bt=[];return se(function(){Rt.push.apply(Rt,oe(arguments))},{def:function(){var Nt="v"+ur++;return Bt.push(Nt),0<arguments.length&&(Rt.push(Nt,"="),Rt.push.apply(Rt,oe(arguments)),Rt.push(";")),Nt},toString:function(){return ce([0<Bt.length?"var "+Bt.join(",")+";":"",ce(Rt)])}})}function Kt(){function Rt(sr,dr){Nt(sr,dr,"=",Bt.def(sr,dr),";")}var Bt=Yt(),Nt=Yt(),Xt=Bt.toString,lr=Nt.toString;return se(function(){Bt.apply(Bt,oe(arguments))},{def:Bt.def,entry:Bt,exit:Nt,save:Rt,set:function(sr,dr,je){Rt(sr,dr),Bt(sr,dr,"=",je,";")},toString:function(){return Xt()+lr()}})}var mr=ut&&ut.cache,ur=0,pt=[],st=[],xt=[],St=Yt(),Dt={};return{global:St,link:function(Rt,Bt){var Nt=Bt&&Bt.stable;if(!Nt){for(var Xt=0;Xt<st.length;++Xt)if(st[Xt]===Rt&&!xt[Xt])return pt[Xt]}return Xt="g"+ur++,pt.push(Xt),st.push(Rt),xt.push(Nt),Xt},block:Yt,proc:function(Rt,Bt){function Nt(){var dr="a"+Xt.length;return Xt.push(dr),dr}var Xt=[];Bt=Bt||0;for(var lr=0;lr<Bt;++lr)Nt();var lr=Kt(),sr=lr.toString;return Dt[Rt]=se(lr,{arg:Nt,toString:function(){return ce(["function(",Xt.join(),"){",sr(),"}"])}})},scope:Kt,cond:function(){var Rt=ce(arguments),Bt=Kt(),Nt=Kt(),Xt=Bt.toString,lr=Nt.toString;return se(Bt,{then:function(){return Bt.apply(Bt,oe(arguments)),this},else:function(){return Nt.apply(Nt,oe(arguments)),this},toString:function(){var sr=lr();return sr&&(sr="else{"+sr+"}"),ce(["if(",Rt,"){",Xt(),"}",sr])}})},compile:function(){var Rt=['"use strict";',St,"return {"];Object.keys(Dt).forEach(function(Xt){Rt.push('"',Xt,'":',Dt[Xt].toString(),",")}),Rt.push("}");var Bt=ce(Rt).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),Nt;return mr&&(Nt=V(F(j(Bt))),mr[Nt])?mr[Nt].apply(null,st):(Bt=Function.apply(null,pt.concat(Bt)),mr&&(mr[Nt]=Bt),Bt.apply(null,st))}}}function Z(ut){return Array.isArray(ut)||Le(ut)||f(ut)}function K(ut){return ut.sort(function(Yt,Kt){return Yt==="viewport"?-1:Kt==="viewport"?1:Yt<Kt?-1:1})}function J(ut,Yt,Kt,mr){this.thisDep=ut,this.contextDep=Yt,this.propDep=Kt,this.append=mr}function re(ut){return ut&&!(ut.thisDep||ut.contextDep||ut.propDep)}function le(ut){return new J(!1,!1,!1,ut)}function q(ut,Yt){var Kt=ut.type;if(Kt===0)return Kt=ut.data.length,new J(!0,1<=Kt,2<=Kt,Yt);if(Kt===4)return Kt=ut.data,new J(Kt.thisDep,Kt.contextDep,Kt.propDep,Yt);if(Kt===5)return new J(!1,!1,!1,Yt);if(Kt===6){for(var mr=Kt=!1,ur=!1,pt=0;pt<ut.data.length;++pt){var st=ut.data[pt];st.type===1?ur=!0:st.type===2?mr=!0:st.type===3?Kt=!0:st.type===0?(Kt=!0,st=st.data,1<=st&&(mr=!0),2<=st&&(ur=!0)):st.type===4&&(Kt=Kt||st.data.thisDep,mr=mr||st.data.contextDep,ur=ur||st.data.propDep)}return new J(Kt,mr,ur,Yt)}return new J(Kt===3,Kt===2,Kt===1,Yt)}function ee(ut,Yt,Kt,mr,ur,pt,st,xt,St,Dt,Rt,Bt,Nt,Xt,lr,sr){function dr(Zt){return Zt.replace(".","_")}function je(Zt,wr,tn){var un=dr(Zt);Mn.push(Zt),Vn[un]=yn[un]=!!tn,En[un]=wr}function Ye(Zt,wr,tn){var un=dr(Zt);Mn.push(Zt),Array.isArray(tn)?(yn[un]=tn.slice(),Vn[un]=tn.slice()):yn[un]=Vn[un]=tn,Nn[un]=wr}function It(){var Zt=Q({cache:lr}),wr=Zt.link,tn=Zt.global;Zt.id=Ya++,Zt.batchId="0";var un=wr(ta),cn=Zt.shared={props:"a0"};Object.keys(ta).forEach(function(Lr){cn[Lr]=tn.def(un,".",Lr)});var In=Zt.next={},Sn=Zt.current={};Object.keys(Nn).forEach(function(Lr){Array.isArray(yn[Lr])&&(In[Lr]=tn.def(cn.next,".",Lr),Sn[Lr]=tn.def(cn.current,".",Lr))});var vn=Zt.constants={};Object.keys(ba).forEach(function(Lr){vn[Lr]=tn.def(JSON.stringify(ba[Lr]))}),Zt.invoke=function(Lr,Or){switch(Or.type){case 0:var dn=["this",cn.context,cn.props,Zt.batchId];return Lr.def(wr(Or.data),".call(",dn.slice(0,Math.max(Or.data.length+1,4)),")");case 1:return Lr.def(cn.props,Or.data);case 2:return Lr.def(cn.context,Or.data);case 3:return Lr.def("this",Or.data);case 4:return Or.data.append(Zt,Lr),Or.data.ref;case 5:return Or.data.toString();case 6:return Or.data.map(function(On){return Zt.invoke(Lr,On)})}},Zt.attribCache={};var Dr={};return Zt.scopeAttrib=function(Lr){if(Lr=Yt.id(Lr),Lr in Dr)return Dr[Lr];var Or=Dt.scope[Lr];return Or||(Or=Dt.scope[Lr]=new Yn),Dr[Lr]=wr(Or)},Zt}function kt(Zt){var wr=Zt.static;Zt=Zt.dynamic;var tn;if("profile"in wr){var un=!!wr.profile;tn=le(function(In,Sn){return un}),tn.enable=un}else if("profile"in Zt){var cn=Zt.profile;tn=q(cn,function(In,Sn){return In.invoke(Sn,cn)})}return tn}function jt(Zt,wr){var tn=Zt.static,un=Zt.dynamic;if("framebuffer"in tn){var cn=tn.framebuffer;return cn?(cn=xt.getFramebuffer(cn),le(function(Sn,vn){var Dr=Sn.link(cn),Lr=Sn.shared;return vn.set(Lr.framebuffer,".next",Dr),Lr=Lr.context,vn.set(Lr,".framebufferWidth",Dr+".width"),vn.set(Lr,".framebufferHeight",Dr+".height"),Dr})):le(function(Sn,vn){var Dr=Sn.shared;return vn.set(Dr.framebuffer,".next","null"),Dr=Dr.context,vn.set(Dr,".framebufferWidth",Dr+".drawingBufferWidth"),vn.set(Dr,".framebufferHeight",Dr+".drawingBufferHeight"),"null"})}if("framebuffer"in un){var In=un.framebuffer;return q(In,function(Sn,vn){var Or=Sn.invoke(vn,In),Dr=Sn.shared,Lr=Dr.framebuffer,Or=vn.def(Lr,".getFramebuffer(",Or,")");return vn.set(Lr,".next",Or),Dr=Dr.context,vn.set(Dr,".framebufferWidth",Or+"?"+Or+".width:"+Dr+".drawingBufferWidth"),vn.set(Dr,".framebufferHeight",Or+"?"+Or+".height:"+Dr+".drawingBufferHeight"),Or})}return null}function tr(Zt,wr,tn){function un(vn){if(vn in cn){var Dr=cn[vn];vn=!0;var Lr=Dr.x|0,Or=Dr.y|0,dn,On;return"width"in Dr?dn=Dr.width|0:vn=!1,"height"in Dr?On=Dr.height|0:vn=!1,new J(!vn&&wr&&wr.thisDep,!vn&&wr&&wr.contextDep,!vn&&wr&&wr.propDep,function(xn,Un){var aa=xn.shared.context,fa=dn;"width"in Dr||(fa=Un.def(aa,".","framebufferWidth","-",Lr));var la=On;return"height"in Dr||(la=Un.def(aa,".","framebufferHeight","-",Or)),[Lr,Or,fa,la]})}if(vn in In){var Xn=In[vn];return vn=q(Xn,function(xn,Un){var ga=xn.invoke(Un,Xn),aa=xn.shared.context,fa=Un.def(ga,".x|0"),la=Un.def(ga,".y|0"),ua=Un.def('"width" in ',ga,"?",ga,".width|0:","(",aa,".","framebufferWidth","-",fa,")"),ga=Un.def('"height" in ',ga,"?",ga,".height|0:","(",aa,".","framebufferHeight","-",la,")");return[fa,la,ua,ga]}),wr&&(vn.thisDep=vn.thisDep||wr.thisDep,vn.contextDep=vn.contextDep||wr.contextDep,vn.propDep=vn.propDep||wr.propDep),vn}return wr?new J(wr.thisDep,wr.contextDep,wr.propDep,function(xn,Un){var aa=xn.shared.context;return[0,0,Un.def(aa,".","framebufferWidth"),Un.def(aa,".","framebufferHeight")]}):null}var cn=Zt.static,In=Zt.dynamic;if(Zt=un("viewport")){var Sn=Zt;Zt=new J(Zt.thisDep,Zt.contextDep,Zt.propDep,function(vn,Dr){var Lr=Sn.append(vn,Dr),Or=vn.shared.context;return Dr.set(Or,".viewportWidth",Lr[2]),Dr.set(Or,".viewportHeight",Lr[3]),Lr})}return{viewport:Zt,scissor_box:un("scissor.box")}}function or(Zt,wr){var tn=Zt.static;if(typeof tn.frag=="string"&&typeof tn.vert=="string"){if(0<Object.keys(wr.dynamic).length)return null;var tn=wr.static,un=Object.keys(tn);if(0<un.length&&typeof tn[un[0]]=="number"){for(var cn=[],In=0;In<un.length;++In)cn.push([tn[un[In]]|0,un[In]]);return cn}}return null}function rr(Zt,wr,tn){function un(Lr){if(Lr in cn){var Or=Yt.id(cn[Lr]);return Lr=le(function(){return Or}),Lr.id=Or,Lr}if(Lr in In){var dn=In[Lr];return q(dn,function(On,Xn){var xn=On.invoke(Xn,dn);return Xn.def(On.shared.strings,".id(",xn,")")})}return null}var cn=Zt.static,In=Zt.dynamic,Sn=un("frag"),vn=un("vert"),Dr=null;return re(Sn)&&re(vn)?(Dr=Rt.program(vn.id,Sn.id,null,tn),Zt=le(function(Lr,Or){return Lr.link(Dr)})):Zt=new J(Sn&&Sn.thisDep||vn&&vn.thisDep,Sn&&Sn.contextDep||vn&&vn.contextDep,Sn&&Sn.propDep||vn&&vn.propDep,function(Lr,Or){var dn=Lr.shared.shader,On;On=Sn?Sn.append(Lr,Or):Or.def(dn,".","frag");var Xn;return Xn=vn?vn.append(Lr,Or):Or.def(dn,".","vert"),Or.def(dn+".program("+Xn+","+On+")")}),{frag:Sn,vert:vn,progVar:Zt,program:Dr}}function Ot(Zt,wr){function tn(xn,Un){if(xn in un){var aa=un[xn]|0;return Un?In.offset=aa:In.instances=aa,le(function(la,ua){return Un&&(la.OFFSET=aa),aa})}if(xn in cn){var fa=cn[xn];return q(fa,function(la,ua){var ga=la.invoke(ua,fa);return Un&&(la.OFFSET=ga),ga})}if(Un){if(Dr)return le(function(la,ua){return la.OFFSET=0});if(Sn)return new J(vn.thisDep,vn.contextDep,vn.propDep,function(la,ua){return ua.def(la.shared.vao+".currentVAO?"+la.shared.vao+".currentVAO.offset:0")})}else if(Sn)return new J(vn.thisDep,vn.contextDep,vn.propDep,function(la,ua){return ua.def(la.shared.vao+".currentVAO?"+la.shared.vao+".currentVAO.instances:-1")});return null}var un=Zt.static,cn=Zt.dynamic,In={},Sn=!1,vn=function(){if("vao"in un){var xn=un.vao;return xn!==null&&Dt.getVAO(xn)===null&&(xn=Dt.createVAO(xn)),Sn=!0,In.vao=xn,le(function(aa){var fa=Dt.getVAO(xn);return fa?aa.link(fa):"null"})}if("vao"in cn){Sn=!0;var Un=cn.vao;return q(Un,function(aa,fa){var la=aa.invoke(fa,Un);return fa.def(aa.shared.vao+".getVAO("+la+")")})}return null}(),Dr=!1,Lr=function(){if("elements"in un){var xn=un.elements;if(In.elements=xn,Z(xn)){var Un=In.elements=pt.create(xn,!0),xn=pt.getElements(Un);Dr=!0}else xn&&(xn=pt.getElements(xn),Dr=!0);return Un=le(function(fa,la){if(xn){var ua=fa.link(xn);return fa.ELEMENTS=ua}return fa.ELEMENTS=null}),Un.value=xn,Un}if("elements"in cn){Dr=!0;var aa=cn.elements;return q(aa,function(fa,la){var ua=fa.shared,io=ua.isBufferArgs,ua=ua.elements,Ao=fa.invoke(la,aa),ga=la.def("null"),io=la.def(io,"(",Ao,")"),Ao=fa.cond(io).then(ga,"=",ua,".createStream(",Ao,");").else(ga,"=",ua,".getElements(",Ao,");");return la.entry(Ao),la.exit(fa.cond(io).then(ua,".destroyStream(",ga,");")),fa.ELEMENTS=ga})}return Sn?new J(vn.thisDep,vn.contextDep,vn.propDep,function(fa,la){return la.def(fa.shared.vao+".currentVAO?"+fa.shared.elements+".getElements("+fa.shared.vao+".currentVAO.elements):null")}):null}(),Or=tn("offset",!0),dn=function(){if("primitive"in un){var xn=un.primitive;return In.primitive=xn,le(function(aa,fa){return tt[xn]})}if("primitive"in cn){var Un=cn.primitive;return q(Un,function(aa,fa){var la=aa.constants.primTypes,ua=aa.invoke(fa,Un);return fa.def(la,"[",ua,"]")})}return Dr?re(Lr)?Lr.value?le(function(aa,fa){return fa.def(aa.ELEMENTS,".primType")}):le(function(){return 4}):new J(Lr.thisDep,Lr.contextDep,Lr.propDep,function(aa,fa){var la=aa.ELEMENTS;return fa.def(la,"?",la,".primType:",4)}):Sn?new J(vn.thisDep,vn.contextDep,vn.propDep,function(aa,fa){return fa.def(aa.shared.vao+".currentVAO?"+aa.shared.vao+".currentVAO.primitive:4")}):null}(),On=function(){if("count"in un){var xn=un.count|0;return In.count=xn,le(function(){return xn})}if("count"in cn){var Un=cn.count;return q(Un,function(aa,fa){return aa.invoke(fa,Un)})}return Dr?re(Lr)?Lr?Or?new J(Or.thisDep,Or.contextDep,Or.propDep,function(aa,fa){return fa.def(aa.ELEMENTS,".vertCount-",aa.OFFSET)}):le(function(aa,fa){return fa.def(aa.ELEMENTS,".vertCount")}):le(function(){return-1}):new J(Lr.thisDep||Or.thisDep,Lr.contextDep||Or.contextDep,Lr.propDep||Or.propDep,function(aa,fa){var la=aa.ELEMENTS;return aa.OFFSET?fa.def(la,"?",la,".vertCount-",aa.OFFSET,":-1"):fa.def(la,"?",la,".vertCount:-1")}):Sn?new J(vn.thisDep,vn.contextDep,vn.propDep,function(aa,fa){return fa.def(aa.shared.vao,".currentVAO?",aa.shared.vao,".currentVAO.count:-1")}):null}(),Xn=tn("instances",!1);return{elements:Lr,primitive:dn,count:On,instances:Xn,offset:Or,vao:vn,vaoActive:Sn,elementsActive:Dr,static:In}}function hr(Zt,wr){var tn=Zt.static,un=Zt.dynamic,cn={};return Mn.forEach(function(In){function Sn(Dr,Lr){if(In in tn){var Or=Dr(tn[In]);cn[vn]=le(function(){return Or})}else if(In in un){var dn=un[In];cn[vn]=q(dn,function(On,Xn){return Lr(On,Xn,On.invoke(Xn,dn))})}}var vn=dr(In);switch(In){case"cull.enable":case"blend.enable":case"dither":case"stencil.enable":case"depth.enable":case"scissor.enable":case"polygonOffset.enable":case"sample.alpha":case"sample.enable":case"depth.mask":return Sn(function(Dr){return Dr},function(Dr,Lr,Or){return Or});case"depth.func":return Sn(function(Dr){return Qt[Dr]},function(Dr,Lr,Or){return Lr.def(Dr.constants.compareFuncs,"[",Or,"]")});case"depth.range":return Sn(function(Dr){return Dr},function(Dr,Lr,Or){return Dr=Lr.def("+",Or,"[0]"),Lr=Lr.def("+",Or,"[1]"),[Dr,Lr]});case"blend.func":return Sn(function(Dr){return[Gt["srcRGB"in Dr?Dr.srcRGB:Dr.src],Gt["dstRGB"in Dr?Dr.dstRGB:Dr.dst],Gt["srcAlpha"in Dr?Dr.srcAlpha:Dr.src],Gt["dstAlpha"in Dr?Dr.dstAlpha:Dr.dst]]},function(Dr,Lr,Or){function dn(Un,aa){return Lr.def('"',Un,aa,'" in ',Or,"?",Or,".",Un,aa,":",Or,".",Un)}Dr=Dr.constants.blendFuncs;var On=dn("src","RGB"),xn=dn("dst","RGB"),On=Lr.def(Dr,"[",On,"]"),Xn=Lr.def(Dr,"[",dn("src","Alpha"),"]"),xn=Lr.def(Dr,"[",xn,"]");return Dr=Lr.def(Dr,"[",dn("dst","Alpha"),"]"),[On,xn,Xn,Dr]});case"blend.equation":return Sn(function(Dr){if(typeof Dr=="string")return[Qn[Dr],Qn[Dr]];if(typeof Dr=="object")return[Qn[Dr.rgb],Qn[Dr.alpha]]},function(Dr,Lr,Or){var dn=Dr.constants.blendEquations,On=Lr.def(),Xn=Lr.def();return Dr=Dr.cond("typeof ",Or,'==="string"'),Dr.then(On,"=",Xn,"=",dn,"[",Or,"];"),Dr.else(On,"=",dn,"[",Or,".rgb];",Xn,"=",dn,"[",Or,".alpha];"),Lr(Dr),[On,Xn]});case"blend.color":return Sn(function(Dr){return s(4,function(Lr){return+Dr[Lr]})},function(Dr,Lr,Or){return s(4,function(dn){return Lr.def("+",Or,"[",dn,"]")})});case"stencil.mask":return Sn(function(Dr){return Dr|0},function(Dr,Lr,Or){return Lr.def(Or,"|0")});case"stencil.func":return Sn(function(Dr){return[Qt[Dr.cmp||"keep"],Dr.ref||0,"mask"in Dr?Dr.mask:-1]},function(Dr,Lr,Or){Dr=Lr.def('"cmp" in ',Or,"?",Dr.constants.compareFuncs,"[",Or,".cmp]",":",7680);var dn=Lr.def(Or,".ref|0");return Lr=Lr.def('"mask" in ',Or,"?",Or,".mask|0:-1"),[Dr,dn,Lr]});case"stencil.opFront":case"stencil.opBack":return Sn(function(Dr){return[In==="stencil.opBack"?1029:1028,At[Dr.fail||"keep"],At[Dr.zfail||"keep"],At[Dr.zpass||"keep"]]},function(Dr,Lr,Or){function dn(Xn){return Lr.def('"',Xn,'" in ',Or,"?",On,"[",Or,".",Xn,"]:",7680)}var On=Dr.constants.stencilOps;return[In==="stencil.opBack"?1029:1028,dn("fail"),dn("zfail"),dn("zpass")]});case"polygonOffset.offset":return Sn(function(Dr){return[Dr.factor|0,Dr.units|0]},function(Dr,Lr,Or){return Dr=Lr.def(Or,".factor|0"),Lr=Lr.def(Or,".units|0"),[Dr,Lr]});case"cull.face":return Sn(function(Dr){var Lr=0;return Dr==="front"?Lr=1028:Dr==="back"&&(Lr=1029),Lr},function(Dr,Lr,Or){return Lr.def(Or,'==="front"?',1028,":",1029)});case"lineWidth":return Sn(function(Dr){return Dr},function(Dr,Lr,Or){return Or});case"frontFace":return Sn(function(Dr){return zt[Dr]},function(Dr,Lr,Or){return Lr.def(Or+'==="cw"?2304:2305')});case"colorMask":return Sn(function(Dr){return Dr.map(function(Lr){return!!Lr})},function(Dr,Lr,Or){return s(4,function(dn){return"!!"+Or+"["+dn+"]"})});case"sample.coverage":return Sn(function(Dr){return["value"in Dr?Dr.value:1,!!Dr.invert]},function(Dr,Lr,Or){return Dr=Lr.def('"value" in ',Or,"?+",Or,".value:1"),Lr=Lr.def("!!",Or,".invert"),[Dr,Lr]})}}),cn}function gr(Zt,wr){var tn=Zt.static,un=Zt.dynamic,cn={};return Object.keys(tn).forEach(function(In){var Sn=tn[In],vn;if(typeof Sn=="number"||typeof Sn=="boolean")vn=le(function(){return Sn});else if(typeof Sn=="function"){var Dr=Sn._reglType;Dr==="texture2d"||Dr==="textureCube"?vn=le(function(Lr){return Lr.link(Sn)}):(Dr==="framebuffer"||Dr==="framebufferCube")&&(vn=le(function(Lr){return Lr.link(Sn.color[0])}))}else S(Sn)&&(vn=le(function(Lr){return Lr.global.def("[",s(Sn.length,function(Or){return Sn[Or]}),"]")}));vn.value=Sn,cn[In]=vn}),Object.keys(un).forEach(function(In){var Sn=un[In];cn[In]=q(Sn,function(vn,Dr){return vn.invoke(Dr,Sn)})}),cn}function pr(Zt,wr){var tn=Zt.static,un=Zt.dynamic,cn={};return Object.keys(tn).forEach(function(In){var Sn=tn[In],vn=Yt.id(In),Dr=new Yn;if(Z(Sn))Dr.state=1,Dr.buffer=ur.getBuffer(ur.create(Sn,34962,!1,!0)),Dr.type=0;else{var Lr=ur.getBuffer(Sn);if(Lr)Dr.state=1,Dr.buffer=Lr,Dr.type=0;else if("constant"in Sn){var Or=Sn.constant;Dr.buffer="null",Dr.state=2,typeof Or=="number"?Dr.x=Or:dt.forEach(function(aa,fa){fa<Or.length&&(Dr[aa]=Or[fa])})}else{var Lr=Z(Sn.buffer)?ur.getBuffer(ur.create(Sn.buffer,34962,!1,!0)):ur.getBuffer(Sn.buffer),dn=Sn.offset|0,On=Sn.stride|0,Xn=Sn.size|0,xn=!!Sn.normalized,Un=0;"type"in Sn&&(Un=Ve[Sn.type]),Sn=Sn.divisor|0,Dr.buffer=Lr,Dr.state=1,Dr.size=Xn,Dr.normalized=xn,Dr.type=Un||Lr.dtype,Dr.offset=dn,Dr.stride=On,Dr.divisor=Sn}}cn[In]=le(function(aa,fa){var la=aa.attribCache;if(vn in la)return la[vn];var ua={isStream:!1};return Object.keys(Dr).forEach(function(ga){ua[ga]=Dr[ga]}),Dr.buffer&&(ua.buffer=aa.link(Dr.buffer),ua.type=ua.type||ua.buffer+".dtype"),la[vn]=ua})}),Object.keys(un).forEach(function(In){var Sn=un[In];cn[In]=q(Sn,function(vn,Dr){function Lr(la){Dr(xn[la],"=",Or,".",la,"|0;")}var Or=vn.invoke(Dr,Sn),Xn=vn.shared,dn=vn.constants,On=Xn.isBufferArgs,Xn=Xn.buffer,xn={isStream:Dr.def(!1)},Un=new Yn;Un.state=1,Object.keys(Un).forEach(function(la){xn[la]=Dr.def(""+Un[la])});var aa=xn.buffer,fa=xn.type;return Dr("if(",On,"(",Or,")){",xn.isStream,"=true;",aa,"=",Xn,".createStream(",34962,",",Or,");",fa,"=",aa,".dtype;","}else{",aa,"=",Xn,".getBuffer(",Or,");","if(",aa,"){",fa,"=",aa,".dtype;",'}else if("constant" in ',Or,"){",xn.state,"=",2,";","if(typeof "+Or+'.constant === "number"){',xn[dt[0]],"=",Or,".constant;",dt.slice(1).map(function(la){return xn[la]}).join("="),"=0;","}else{",dt.map(function(la,ua){return xn[la]+"="+Or+".constant.length>"+ua+"?"+Or+".constant["+ua+"]:0;"}).join(""),"}}else{","if(",On,"(",Or,".buffer)){",aa,"=",Xn,".createStream(",34962,",",Or,".buffer);","}else{",aa,"=",Xn,".getBuffer(",Or,".buffer);","}",fa,'="type" in ',Or,"?",dn.glTypes,"[",Or,".type]:",aa,".dtype;",xn.normalized,"=!!",Or,".normalized;"),Lr("size"),Lr("offset"),Lr("stride"),Lr("divisor"),Dr("}}"),Dr.exit("if(",xn.isStream,"){",Xn,".destroyStream(",aa,");","}"),xn})}),cn}function vr(Zt){var wr=Zt.static,tn=Zt.dynamic,un={};return Object.keys(wr).forEach(function(cn){var In=wr[cn];un[cn]=le(function(Sn,vn){return typeof In=="number"||typeof In=="boolean"?""+In:Sn.link(In)})}),Object.keys(tn).forEach(function(cn){var In=tn[cn];un[cn]=q(In,function(Sn,vn){return Sn.invoke(vn,In)})}),un}function Vr(Zt,wr,tn,un,cn){function In(Un){var aa=vn[Un];aa&&(Lr[Un]=aa)}var Sn=or(Zt,wr),On=jt(Zt),vn=tr(Zt,On),Dr=Ot(Zt),Lr=hr(Zt),Or=rr(Zt,cn,Sn);In("viewport"),In(dr("scissor.box"));var dn=0<Object.keys(Lr).length,On={framebuffer:On,draw:Dr,shader:Or,state:Lr,dirty:dn,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(On.profile=kt(Zt),On.uniforms=gr(tn),On.drawVAO=On.scopeVAO=Dr.vao,!On.drawVAO&&Or.program&&!Sn&&Kt.angle_instanced_arrays&&Dr.static.elements){var Xn=!0;if(Zt=Or.program.attributes.map(function(Un){return Un=wr.static[Un],Xn=Xn&&!!Un,Un}),Xn&&0<Zt.length){var xn=Dt.getVAO(Dt.createVAO({attributes:Zt,elements:Dr.static.elements}));On.drawVAO=new J(null,null,null,function(Un,aa){return Un.link(xn)}),On.useVAO=!0}}return Sn?On.useVAO=!0:On.attributes=pr(wr),On.context=vr(un),On}function kr(Zt,wr,tn){var un=Zt.shared.context,cn=Zt.scope();Object.keys(tn).forEach(function(In){wr.save(un,"."+In);var Sn=tn[In].append(Zt,wr);Array.isArray(Sn)?cn(un,".",In,"=[",Sn.join(),"];"):cn(un,".",In,"=",Sn,";")}),wr(cn)}function _r(Zt,wr,tn,un){var vn=Zt.shared,cn=vn.gl,In=vn.framebuffer,Sn;sn&&(Sn=wr.def(vn.extensions,".webgl_draw_buffers"));var Dr=Zt.constants,vn=Dr.drawBuffer,Dr=Dr.backBuffer;Zt=tn?tn.append(Zt,wr):wr.def(In,".next"),un||wr("if(",Zt,"!==",In,".cur){"),wr("if(",Zt,"){",cn,".bindFramebuffer(",36160,",",Zt,".framebuffer);"),sn&&wr(Sn,".drawBuffersWEBGL(",vn,"[",Zt,".colorAttachments.length]);"),wr("}else{",cn,".bindFramebuffer(",36160,",null);"),sn&&wr(Sn,".drawBuffersWEBGL(",Dr,");"),wr("}",In,".cur=",Zt,";"),un||wr("}")}function pn(Zt,wr,tn){var un=Zt.shared,cn=un.gl,In=Zt.current,Sn=Zt.next,vn=un.current,Dr=un.next,Lr=Zt.cond(vn,".dirty");Mn.forEach(function(Or){if(Or=dr(Or),!(Or in tn.state)){var dn,On;if(Or in Sn){dn=Sn[Or],On=In[Or];var Xn=s(yn[Or].length,function(xn){return Lr.def(dn,"[",xn,"]")});Lr(Zt.cond(Xn.map(function(xn,Un){return xn+"!=="+On+"["+Un+"]"}).join("||")).then(cn,".",Nn[Or],"(",Xn,");",Xn.map(function(xn,Un){return On+"["+Un+"]="+xn}).join(";"),";"))}else dn=Lr.def(Dr,".",Or),Xn=Zt.cond(dn,"!==",vn,".",Or),Lr(Xn),Or in En?Xn(Zt.cond(dn).then(cn,".enable(",En[Or],");").else(cn,".disable(",En[Or],");"),vn,".",Or,"=",dn,";"):Xn(cn,".",Nn[Or],"(",dn,");",vn,".",Or,"=",dn,";")}}),Object.keys(tn.state).length===0&&Lr(vn,".dirty=false;"),wr(Lr)}function en(Zt,wr,tn,un){var cn=Zt.shared,In=Zt.current,Sn=cn.current,vn=cn.gl,Dr;K(Object.keys(tn)).forEach(function(Lr){var Or=tn[Lr];if(!un||un(Or)){var dn=Or.append(Zt,wr);if(En[Lr]){var On=En[Lr];re(Or)?(Dr=Zt.link(dn,{stable:!0}),wr(Zt.cond(Dr).then(vn,".enable(",On,");").else(vn,".disable(",On,");")),wr(Sn,".",Lr,"=",Dr,";")):(wr(Zt.cond(dn).then(vn,".enable(",On,");").else(vn,".disable(",On,");")),wr(Sn,".",Lr,"=",dn,";"))}else if(S(dn)){var Xn=In[Lr];wr(vn,".",Nn[Lr],"(",dn,");",dn.map(function(xn,Un){return Xn+"["+Un+"]="+xn}).join(";"),";")}else re(Or)?(Dr=Zt.link(dn,{stable:!0}),wr(vn,".",Nn[Lr],"(",Dr,");",Sn,".",Lr,"=",Dr,";")):wr(vn,".",Nn[Lr],"(",dn,");",Sn,".",Lr,"=",dn,";")}})}function Bn(Zt,wr){Tr&&(Zt.instancing=wr.def(Zt.shared.extensions,".angle_instanced_arrays"))}function Tn(Zt,wr,tn,un,cn){function In(){return typeof performance>"u"?"Date.now()":"performance.now()"}function Sn(Un){Xn=wr.def(),Un(Xn,"=",In(),";"),typeof cn=="string"?Un(Or,".count+=",cn,";"):Un(Or,".count++;"),Xt&&(un?(xn=wr.def(),Un(xn,"=",On,".getNumPendingQueries();")):Un(On,".beginQuery(",Or,");"))}function vn(Un){Un(Or,".cpuTime+=",In(),"-",Xn,";"),Xt&&(un?Un(On,".pushScopeStats(",xn,",",On,".getNumPendingQueries(),",Or,");"):Un(On,".endQuery();"))}function Dr(Un){var aa=wr.def(dn,".profile");wr(dn,".profile=",Un,";"),wr.exit(dn,".profile=",aa,";")}var Lr=Zt.shared,Or=Zt.stats,dn=Lr.current,On=Lr.timer;tn=tn.profile;var Xn,xn;if(tn){if(re(tn)){tn.enable?(Sn(wr),vn(wr.exit),Dr("true")):Dr("false");return}tn=tn.append(Zt,wr),Dr(tn)}else tn=wr.def(dn,".profile");Lr=Zt.block(),Sn(Lr),wr("if(",tn,"){",Lr,"}"),Zt=Zt.block(),vn(Zt),wr.exit("if(",tn,"){",Zt,"}")}function Mr(Zt,wr,tn,un,cn){function In(Dr){switch(Dr){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}function Sn(Dr,Lr,Or){function dn(){wr("if(!",Un,".buffer){",Xn,".enableVertexAttribArray(",xn,");}");var ua=Or.type,ga;ga=Or.size?wr.def(Or.size,"||",Lr):Lr,wr("if(",Un,".type!==",ua,"||",Un,".size!==",ga,"||",la.map(function(io){return Un+"."+io+"!=="+Or[io]}).join("||"),"){",Xn,".bindBuffer(",34962,",",aa,".buffer);",Xn,".vertexAttribPointer(",[xn,ga,ua,Or.normalized,Or.stride,Or.offset],");",Un,".type=",ua,";",Un,".size=",ga,";",la.map(function(io){return Un+"."+io+"="+Or[io]+";"}).join(""),"}"),Tr&&(ua=Or.divisor,wr("if(",Un,".divisor!==",ua,"){",Zt.instancing,".vertexAttribDivisorANGLE(",[xn,ua],");",Un,".divisor=",ua,";}"))}function On(){wr("if(",Un,".buffer){",Xn,".disableVertexAttribArray(",xn,");",Un,".buffer=null;","}if(",dt.map(function(ua,ga){return Un+"."+ua+"!=="+fa[ga]}).join("||"),"){",Xn,".vertexAttrib4f(",xn,",",fa,");",dt.map(function(ua,ga){return Un+"."+ua+"="+fa[ga]+";"}).join(""),"}")}var Xn=vn.gl,xn=wr.def(Dr,".location"),Un=wr.def(vn.attributes,"[",xn,"]");Dr=Or.state;var aa=Or.buffer,fa=[Or.x,Or.y,Or.z,Or.w],la=["buffer","normalized","offset","stride"];Dr===1?dn():Dr===2?On():(wr("if(",Dr,"===",1,"){"),dn(),wr("}else{"),On(),wr("}"))}var vn=Zt.shared;un.forEach(function(Dr){var Lr=Dr.name,Or=tn.attributes[Lr],dn;if(Or){if(!cn(Or))return;dn=Or.append(Zt,wr)}else{if(!cn($t))return;var On=Zt.scopeAttrib(Lr);dn={},Object.keys(new Yn).forEach(function(Xn){dn[Xn]=wr.def(On,".",Xn)})}Sn(Zt.link(Dr),In(Dr.info.type),dn)})}function Er(Zt,wr,tn,un,cn,In){for(var Sn=Zt.shared,vn=Sn.gl,Dr,Lr=0;Lr<un.length;++Lr){var Xn=un[Lr],Or=Xn.name,dn=Xn.info.type,On=tn.uniforms[Or],Xn=Zt.link(Xn)+".location",xn;if(On){if(!cn(On))continue;if(re(On)){if(Or=On.value,dn===35678||dn===35680)dn=Zt.link(Or._texture||Or.color[0]._texture),wr(vn,".uniform1i(",Xn,",",dn+".bind());"),wr.exit(dn,".unbind();");else if(dn===35674||dn===35675||dn===35676)Or=Zt.global.def("new Float32Array(["+Array.prototype.slice.call(Or)+"])"),On=2,dn===35675?On=3:dn===35676&&(On=4),wr(vn,".uniformMatrix",On,"fv(",Xn,",false,",Or,");");else{switch(dn){case 5126:Dr="1f";break;case 35664:Dr="2f";break;case 35665:Dr="3f";break;case 35666:Dr="4f";break;case 35670:Dr="1i";break;case 5124:Dr="1i";break;case 35671:Dr="2i";break;case 35667:Dr="2i";break;case 35672:Dr="3i";break;case 35668:Dr="3i";break;case 35673:Dr="4i";break;case 35669:Dr="4i"}wr(vn,".uniform",Dr,"(",Xn,",",S(Or)?Array.prototype.slice.call(Or):Or,");")}continue}else xn=On.append(Zt,wr)}else{if(!cn($t))continue;xn=wr.def(Sn.uniforms,"[",Yt.id(Or),"]")}switch(dn===35678?wr("if(",xn,"&&",xn,'._reglType==="framebuffer"){',xn,"=",xn,".color[0];","}"):dn===35680&&wr("if(",xn,"&&",xn,'._reglType==="framebufferCube"){',xn,"=",xn,".color[0];","}"),Or=1,dn){case 35678:case 35680:dn=wr.def(xn,"._texture"),wr(vn,".uniform1i(",Xn,",",dn,".bind());"),wr.exit(dn,".unbind();");continue;case 5124:case 35670:Dr="1i";break;case 35667:case 35671:Dr="2i",Or=2;break;case 35668:case 35672:Dr="3i",Or=3;break;case 35669:case 35673:Dr="4i",Or=4;break;case 5126:Dr="1f";break;case 35664:Dr="2f",Or=2;break;case 35665:Dr="3f",Or=3;break;case 35666:Dr="4f",Or=4;break;case 35674:Dr="Matrix2fv";break;case 35675:Dr="Matrix3fv";break;case 35676:Dr="Matrix4fv"}if(Dr.charAt(0)==="M"){wr(vn,".uniform",Dr,"(",Xn,",");var Xn=Math.pow(dn-35674+2,2),Un=Zt.global.def("new Float32Array(",Xn,")");Array.isArray(xn)?wr("false,(",s(Xn,function(la){return Un+"["+la+"]="+xn[la]}),",",Un,")"):wr("false,(Array.isArray(",xn,")||",xn," instanceof Float32Array)?",xn,":(",s(Xn,function(la){return Un+"["+la+"]="+xn+"["+la+"]"}),",",Un,")"),wr(");")}else{if(1<Or){for(var dn=[],aa=[],On=0;On<Or;++On)Array.isArray(xn)?aa.push(xn[On]):aa.push(wr.def(xn+"["+On+"]")),In&&dn.push(wr.def());In&&wr("if(!",Zt.batchId,"||",dn.map(function(fa,la){return fa+"!=="+aa[la]}).join("||"),"){",dn.map(function(fa,la){return fa+"="+aa[la]+";"}).join("")),wr(vn,".uniform",Dr,"(",Xn,",",aa.join(","),");")}else In&&(dn=wr.def(),wr("if(!",Zt.batchId,"||",dn,"!==",xn,"){",dn,"=",xn,";")),wr(vn,".uniform",Dr,"(",Xn,",",xn,");");In&&wr("}")}}}function Gr(Zt,wr,tn,un){function cn(ua){var ga=Or[ua];return ga?ga.contextDep&&un.contextDynamic||ga.propDep?ga.append(Zt,tn):ga.append(Zt,wr):wr.def(Lr,".",ua)}function In(){function ua(){tn(aa,".drawElementsInstancedANGLE(",[On,xn,fa,Xn+"<<(("+fa+"-5121)>>1)",Un],");")}function ga(){tn(aa,".drawArraysInstancedANGLE(",[On,Xn,xn,Un],");")}dn&&dn!=="null"?la?ua():(tn("if(",dn,"){"),ua(),tn("}else{"),ga(),tn("}")):ga()}function Sn(){function ua(){tn(Dr+".drawElements("+[On,xn,fa,Xn+"<<(("+fa+"-5121)>>1)"]+");")}function ga(){tn(Dr+".drawArrays("+[On,Xn,xn]+");")}dn&&dn!=="null"?la?ua():(tn("if(",dn,"){"),ua(),tn("}else{"),ga(),tn("}")):ga()}var vn=Zt.shared,Dr=vn.gl,Lr=vn.draw,Or=un.draw,dn=function(){var ua=Or.elements,ga=wr;return ua?((ua.contextDep&&un.contextDynamic||ua.propDep)&&(ga=tn),ua=ua.append(Zt,ga),Or.elementsActive&&ga("if("+ua+")"+Dr+".bindBuffer(34963,"+ua+".buffer.buffer);")):(ua=ga.def(),ga(ua,"=",Lr,".","elements",";","if(",ua,"){",Dr,".bindBuffer(",34963,",",ua,".buffer.buffer);}","else if(",vn.vao,".currentVAO){",ua,"=",Zt.shared.elements+".getElements("+vn.vao,".currentVAO.elements);",rn?"":"if("+ua+")"+Dr+".bindBuffer(34963,"+ua+".buffer.buffer);","}")),ua}(),On=cn("primitive"),Xn=cn("offset"),xn=function(){var ua=Or.count,ga=wr;return ua?((ua.contextDep&&un.contextDynamic||ua.propDep)&&(ga=tn),ua=ua.append(Zt,ga)):ua=ga.def(Lr,".","count"),ua}();if(typeof xn=="number"){if(xn===0)return}else tn("if(",xn,"){"),tn.exit("}");var Un,aa;Tr&&(Un=cn("instances"),aa=Zt.instancing);var fa=dn+".type",la=Or.elements&&re(Or.elements)&&!Or.vaoActive;Tr&&(typeof Un!="number"||0<=Un)?typeof Un=="string"?(tn("if(",Un,">0){"),In(),tn("}else if(",Un,"<0){"),Sn(),tn("}")):In():Sn()}function Ur(Zt,wr,tn,un,cn){return wr=It(),cn=wr.proc("body",cn),Tr&&(wr.instancing=cn.def(wr.shared.extensions,".angle_instanced_arrays")),Zt(wr,cn,tn,un),wr.compile().body}function an(Zt,wr,tn,un){Bn(Zt,wr),tn.useVAO?tn.drawVAO?wr(Zt.shared.vao,".setVAO(",tn.drawVAO.append(Zt,wr),");"):wr(Zt.shared.vao,".setVAO(",Zt.shared.vao,".targetVAO);"):(wr(Zt.shared.vao,".setVAO(null);"),Mr(Zt,wr,tn,un.attributes,function(){return!0})),Er(Zt,wr,tn,un.uniforms,function(){return!0},!1),Gr(Zt,wr,wr,tn)}function gn(Zt,wr){var tn=Zt.proc("draw",1);Bn(Zt,tn),kr(Zt,tn,wr.context),_r(Zt,tn,wr.framebuffer),pn(Zt,tn,wr),en(Zt,tn,wr.state),Tn(Zt,tn,wr,!1,!0);var un=wr.shader.progVar.append(Zt,tn);if(tn(Zt.shared.gl,".useProgram(",un,".program);"),wr.shader.program)an(Zt,tn,wr,wr.shader.program);else{tn(Zt.shared.vao,".setVAO(null);");var cn=Zt.global.def("{}"),In=tn.def(un,".id"),Sn=tn.def(cn,"[",In,"]");tn(Zt.cond(Sn).then(Sn,".call(this,a0);").else(Sn,"=",cn,"[",In,"]=",Zt.link(function(vn){return Ur(an,Zt,wr,vn,1)}),"(",un,");",Sn,".call(this,a0);"))}0<Object.keys(wr.state).length&&tn(Zt.shared.current,".dirty=true;"),Zt.shared.vao&&tn(Zt.shared.vao,".setVAO(null);")}function mn(Zt,wr,tn,un){function cn(){return!0}Zt.batchId="a1",Bn(Zt,wr),Mr(Zt,wr,tn,un.attributes,cn),Er(Zt,wr,tn,un.uniforms,cn,!1),Gr(Zt,wr,wr,tn)}function Rn(Zt,wr,tn,un){function cn(dn){return dn.contextDep&&Sn||dn.propDep}function In(dn){return!cn(dn)}Bn(Zt,wr);var Sn=tn.contextDep,vn=wr.def(),Dr=wr.def();Zt.shared.props=Dr,Zt.batchId=vn;var Lr=Zt.scope(),Or=Zt.scope();wr(Lr.entry,"for(",vn,"=0;",vn,"<","a1",";++",vn,"){",Dr,"=","a0","[",vn,"];",Or,"}",Lr.exit),tn.needsContext&&kr(Zt,Or,tn.context),tn.needsFramebuffer&&_r(Zt,Or,tn.framebuffer),en(Zt,Or,tn.state,cn),tn.profile&&cn(tn.profile)&&Tn(Zt,Or,tn,!1,!0),un?(tn.useVAO?tn.drawVAO?cn(tn.drawVAO)?Or(Zt.shared.vao,".setVAO(",tn.drawVAO.append(Zt,Or),");"):Lr(Zt.shared.vao,".setVAO(",tn.drawVAO.append(Zt,Lr),");"):Lr(Zt.shared.vao,".setVAO(",Zt.shared.vao,".targetVAO);"):(Lr(Zt.shared.vao,".setVAO(null);"),Mr(Zt,Lr,tn,un.attributes,In),Mr(Zt,Or,tn,un.attributes,cn)),Er(Zt,Lr,tn,un.uniforms,In,!1),Er(Zt,Or,tn,un.uniforms,cn,!0),Gr(Zt,Lr,Or,tn)):(wr=Zt.global.def("{}"),un=tn.shader.progVar.append(Zt,Or),Dr=Or.def(un,".id"),Lr=Or.def(wr,"[",Dr,"]"),Or(Zt.shared.gl,".useProgram(",un,".program);","if(!",Lr,"){",Lr,"=",wr,"[",Dr,"]=",Zt.link(function(dn){return Ur(mn,Zt,tn,dn,2)}),"(",un,");}",Lr,".call(this,a0[",vn,"],",vn,");"))}function zn(Zt,wr){function tn(Lr){return Lr.contextDep&&cn||Lr.propDep}var un=Zt.proc("batch",2);Zt.batchId="0",Bn(Zt,un);var cn=!1,In=!0;Object.keys(wr.context).forEach(function(Lr){cn=cn||wr.context[Lr].propDep}),cn||(kr(Zt,un,wr.context),In=!1);var Sn=wr.framebuffer,vn=!1;if(Sn?(Sn.propDep?cn=vn=!0:Sn.contextDep&&cn&&(vn=!0),vn||_r(Zt,un,Sn)):_r(Zt,un,null),wr.state.viewport&&wr.state.viewport.propDep&&(cn=!0),pn(Zt,un,wr),en(Zt,un,wr.state,function(Lr){return!tn(Lr)}),wr.profile&&tn(wr.profile)||Tn(Zt,un,wr,!1,"a1"),wr.contextDep=cn,wr.needsContext=In,wr.needsFramebuffer=vn,In=wr.shader.progVar,In.contextDep&&cn||In.propDep)Rn(Zt,un,wr,null);else if(In=In.append(Zt,un),un(Zt.shared.gl,".useProgram(",In,".program);"),wr.shader.program)Rn(Zt,un,wr,wr.shader.program);else{un(Zt.shared.vao,".setVAO(null);");var Sn=Zt.global.def("{}"),vn=un.def(In,".id"),Dr=un.def(Sn,"[",vn,"]");un(Zt.cond(Dr).then(Dr,".call(this,a0,a1);").else(Dr,"=",Sn,"[",vn,"]=",Zt.link(function(dn){return Ur(Rn,Zt,wr,dn,2)}),"(",In,");",Dr,".call(this,a0,a1);"))}0<Object.keys(wr.state).length&&un(Zt.shared.current,".dirty=true;"),Zt.shared.vao&&un(Zt.shared.vao,".setVAO(null);")}function oa(Zt,wr){function tn(vn){var Dr=wr.shader[vn];Dr&&(Dr=Dr.append(Zt,un),isNaN(Dr)?un.set(cn.shader,"."+vn,Dr):un.set(cn.shader,"."+vn,Zt.link(Dr,{stable:!0})))}var un=Zt.proc("scope",3);Zt.batchId="a2";var cn=Zt.shared,In=cn.current;if(kr(Zt,un,wr.context),wr.framebuffer&&wr.framebuffer.append(Zt,un),K(Object.keys(wr.state)).forEach(function(vn){var Dr=wr.state[vn],Lr=Dr.append(Zt,un);S(Lr)?Lr.forEach(function(Or,dn){isNaN(Or)?un.set(Zt.next[vn],"["+dn+"]",Or):un.set(Zt.next[vn],"["+dn+"]",Zt.link(Or,{stable:!0}))}):re(Dr)?un.set(cn.next,"."+vn,Zt.link(Lr,{stable:!0})):un.set(cn.next,"."+vn,Lr)}),Tn(Zt,un,wr,!0,!0),["elements","offset","count","instances","primitive"].forEach(function(vn){var Dr=wr.draw[vn];Dr&&(Dr=Dr.append(Zt,un),isNaN(Dr)?un.set(cn.draw,"."+vn,Dr):un.set(cn.draw,"."+vn,Zt.link(Dr),{stable:!0}))}),Object.keys(wr.uniforms).forEach(function(vn){var Dr=wr.uniforms[vn].append(Zt,un);Array.isArray(Dr)&&(Dr="["+Dr.map(function(Lr){return isNaN(Lr)?Lr:Zt.link(Lr,{stable:!0})})+"]"),un.set(cn.uniforms,"["+Zt.link(Yt.id(vn),{stable:!0})+"]",Dr)}),Object.keys(wr.attributes).forEach(function(vn){var Dr=wr.attributes[vn].append(Zt,un),Lr=Zt.scopeAttrib(vn);Object.keys(new Yn).forEach(function(Or){un.set(Lr,"."+Or,Dr[Or])})}),wr.scopeVAO){var Sn=wr.scopeVAO.append(Zt,un);isNaN(Sn)?un.set(cn.vao,".targetVAO",Sn):un.set(cn.vao,".targetVAO",Zt.link(Sn,{stable:!0}))}tn("vert"),tn("frag"),0<Object.keys(wr.state).length&&(un(In,".dirty=true;"),un.exit(In,".dirty=true;")),un("a1(",Zt.shared.context,",a0,",Zt.batchId,");")}function Zn(Zt){if(typeof Zt=="object"&&!S(Zt)){for(var wr=Object.keys(Zt),tn=0;tn<wr.length;++tn)if(me.isDynamic(Zt[wr[tn]]))return!0;return!1}}function qn(Zt,wr,tn){function un(dn,On){Sn.forEach(function(Xn){var xn=cn[Xn];me.isDynamic(xn)&&(xn=dn.invoke(On,xn),On(Or,".",Xn,"=",xn,";"))})}var cn=wr.static[tn];if(cn&&Zn(cn)){var In=Zt.global,Sn=Object.keys(cn),vn=!1,Dr=!1,Lr=!1,Or=Zt.global.def("{}");Sn.forEach(function(dn){var On=cn[dn];if(me.isDynamic(On))typeof On=="function"&&(On=cn[dn]=me.unbox(On)),dn=q(On,null),vn=vn||dn.thisDep,Lr=Lr||dn.propDep,Dr=Dr||dn.contextDep;else{switch(In(Or,".",dn,"="),typeof On){case"number":In(On);break;case"string":In('"',On,'"');break;case"object":Array.isArray(On)&&In("[",On.join(),"]");break;default:In(Zt.link(On))}In(";")}}),wr.dynamic[tn]=new me.DynamicVariable(4,{thisDep:vn,contextDep:Dr,propDep:Lr,ref:Or,append:un}),delete wr.static[tn]}}var Yn=Dt.Record,Qn={add:32774,subtract:32778,"reverse subtract":32779};Kt.ext_blend_minmax&&(Qn.min=32775,Qn.max=32776);var Tr=Kt.angle_instanced_arrays,sn=Kt.webgl_draw_buffers,rn=Kt.oes_vertex_array_object,yn={dirty:!0,profile:sr.profile},Vn={},Mn=[],En={},Nn={};je("dither",3024),je("blend.enable",3042),Ye("blend.color","blendColor",[0,0,0,0]),Ye("blend.equation","blendEquationSeparate",[32774,32774]),Ye("blend.func","blendFuncSeparate",[1,0,1,0]),je("depth.enable",2929,!0),Ye("depth.func","depthFunc",513),Ye("depth.range","depthRange",[0,1]),Ye("depth.mask","depthMask",!0),Ye("colorMask","colorMask",[!0,!0,!0,!0]),je("cull.enable",2884),Ye("cull.face","cullFace",1029),Ye("frontFace","frontFace",2305),Ye("lineWidth","lineWidth",1),je("polygonOffset.enable",32823),Ye("polygonOffset.offset","polygonOffset",[0,0]),je("sample.alpha",32926),je("sample.enable",32928),Ye("sample.coverage","sampleCoverage",[1,!1]),je("stencil.enable",2960),Ye("stencil.mask","stencilMask",-1),Ye("stencil.func","stencilFunc",[519,0,-1]),Ye("stencil.opFront","stencilOpSeparate",[1028,7680,7680,7680]),Ye("stencil.opBack","stencilOpSeparate",[1029,7680,7680,7680]),je("scissor.enable",3089),Ye("scissor.box","scissor",[0,0,ut.drawingBufferWidth,ut.drawingBufferHeight]),Ye("viewport","viewport",[0,0,ut.drawingBufferWidth,ut.drawingBufferHeight]);var ta={gl:ut,context:Nt,strings:Yt,next:Vn,current:yn,draw:Bt,elements:pt,buffer:ur,shader:Rt,attributes:Dt.state,vao:Dt,uniforms:St,framebuffer:xt,extensions:Kt,timer:Xt,isBufferArgs:Z},ba={primTypes:tt,compareFuncs:Qt,blendFuncs:Gt,blendEquations:Qn,stencilOps:At,glTypes:Ve,orientationType:zt};sn&&(ba.backBuffer=[1029],ba.drawBuffer=s(mr.maxDrawbuffers,function(Zt){return Zt===0?[0]:s(Zt,function(wr){return 36064+wr})}));var Ya=0;return{next:Vn,current:yn,procs:function(){var Zt=It(),wr=Zt.proc("poll"),tn=Zt.proc("refresh"),un=Zt.block();wr(un),tn(un);var Dr=Zt.shared,cn=Dr.gl,In=Dr.next,Sn=Dr.current;un(Sn,".dirty=false;"),_r(Zt,wr),_r(Zt,tn,null,!0);var vn;Tr&&(vn=Zt.link(Tr)),Kt.oes_vertex_array_object&&tn(Zt.link(Kt.oes_vertex_array_object),".bindVertexArrayOES(null);");var Dr=tn.def(Dr.attributes),Lr=tn.def(0),Or=Zt.cond(Lr,".buffer");Or.then(cn,".enableVertexAttribArray(i);",cn,".bindBuffer(",34962,",",Lr,".buffer.buffer);",cn,".vertexAttribPointer(i,",Lr,".size,",Lr,".type,",Lr,".normalized,",Lr,".stride,",Lr,".offset);").else(cn,".disableVertexAttribArray(i);",cn,".vertexAttrib4f(i,",Lr,".x,",Lr,".y,",Lr,".z,",Lr,".w);",Lr,".buffer=null;");var dn=Zt.link(mr.maxAttributes,{stable:!0});return tn("for(var i=0;i<",dn,";++i){",Lr,"=",Dr,"[i];",Or,"}"),Tr&&tn("for(var i=0;i<",dn,";++i){",vn,".vertexAttribDivisorANGLE(i,",Dr,"[i].divisor);","}"),tn(Zt.shared.vao,".currentVAO=null;",Zt.shared.vao,".setVAO(",Zt.shared.vao,".targetVAO);"),Object.keys(En).forEach(function(On){var Xn=En[On],xn=un.def(In,".",On),Un=Zt.block();Un("if(",xn,"){",cn,".enable(",Xn,")}else{",cn,".disable(",Xn,")}",Sn,".",On,"=",xn,";"),tn(Un),wr("if(",xn,"!==",Sn,".",On,"){",Un,"}")}),Object.keys(Nn).forEach(function(On){var Xn=Nn[On],xn=yn[On],Un,aa,fa=Zt.block();fa(cn,".",Xn,"("),S(xn)?(Xn=xn.length,Un=Zt.global.def(In,".",On),aa=Zt.global.def(Sn,".",On),fa(s(Xn,function(la){return Un+"["+la+"]"}),");",s(Xn,function(la){return aa+"["+la+"]="+Un+"["+la+"];"}).join("")),wr("if(",s(Xn,function(la){return Un+"["+la+"]!=="+aa+"["+la+"]"}).join("||"),"){",fa,"}")):(Un=un.def(In,".",On),aa=un.def(Sn,".",On),fa(Un,");",Sn,".",On,"=",Un,";"),wr("if(",Un,"!==",aa,"){",fa,"}")),tn(fa)}),Zt.compile()}(),compile:function(Zt,wr,tn,un,cn){var In=It();In.stats=In.link(cn),Object.keys(wr.static).forEach(function(vn){qn(In,wr,vn)}),bt.forEach(function(vn){qn(In,Zt,vn)});var Sn=Vr(Zt,wr,tn,un,In);return Sn.shader.program&&(Sn.shader.program.attributes.sort(function(vn,Dr){return vn.name<Dr.name?-1:1}),Sn.shader.program.uniforms.sort(function(vn,Dr){return vn.name<Dr.name?-1:1})),gn(In,Sn),oa(In,Sn),zn(In,Sn),se(In.compile(),{destroy:function(){Sn.shader.program.destroy()}})}}}function ue(ut,Yt){for(var Kt=0;Kt<ut.length;++Kt)if(ut[Kt]===Yt)return Kt;return-1}var se=function(ut,Yt){for(var Kt=Object.keys(Yt),mr=0;mr<Kt.length;++mr)ut[Kt[mr]]=Yt[Kt[mr]];return ut},he=0,me={DynamicVariable:H,define:function(ut,Yt){return new H(ut,g(Yt+""))},isDynamic:function(ut){return typeof ut=="function"&&!ut._reglType||ut instanceof H},unbox:R,accessor:g},Ce={next:typeof requestAnimationFrame=="function"?function(ut){return requestAnimationFrame(ut)}:function(ut){return setTimeout(ut,16)},cancel:typeof cancelAnimationFrame=="function"?function(ut){return cancelAnimationFrame(ut)}:clearTimeout},Te=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date},Oe=o();Oe.zero=o();var Ne=function(ut,Yt){var Kt=1;Yt.ext_texture_filter_anisotropic&&(Kt=ut.getParameter(34047));var mr=1,ur=1;Yt.webgl_draw_buffers&&(mr=ut.getParameter(34852),ur=ut.getParameter(36063));var pt=!!Yt.oes_texture_float;if(pt){pt=ut.createTexture(),ut.bindTexture(3553,pt),ut.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var st=ut.createFramebuffer();if(ut.bindFramebuffer(36160,st),ut.framebufferTexture2D(36160,36064,3553,pt,0),ut.bindTexture(3553,null),ut.checkFramebufferStatus(36160)!==36053)pt=!1;else{ut.viewport(0,0,1,1),ut.clearColor(1,0,0,1),ut.clear(16384);var xt=Oe.allocType(5126,4);ut.readPixels(0,0,1,1,6408,5126,xt),ut.getError()?pt=!1:(ut.deleteFramebuffer(st),ut.deleteTexture(pt),pt=xt[0]===1),Oe.freeType(xt)}}return xt=!0,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))||(xt=ut.createTexture(),st=Oe.allocType(5121,36),ut.activeTexture(33984),ut.bindTexture(34067,xt),ut.texImage2D(34069,0,6408,3,3,0,6408,5121,st),Oe.freeType(st),ut.bindTexture(34067,null),ut.deleteTexture(xt),xt=!ut.getError()),{colorBits:[ut.getParameter(3410),ut.getParameter(3411),ut.getParameter(3412),ut.getParameter(3413)],depthBits:ut.getParameter(3414),stencilBits:ut.getParameter(3415),subpixelBits:ut.getParameter(3408),extensions:Object.keys(Yt).filter(function(St){return!!Yt[St]}),maxAnisotropic:Kt,maxDrawbuffers:mr,maxColorAttachments:ur,pointSizeDims:ut.getParameter(33901),lineWidthDims:ut.getParameter(33902),maxViewportDims:ut.getParameter(3386),maxCombinedTextureUnits:ut.getParameter(35661),maxCubeMapSize:ut.getParameter(34076),maxRenderbufferSize:ut.getParameter(34024),maxTextureUnits:ut.getParameter(34930),maxTextureSize:ut.getParameter(3379),maxAttributes:ut.getParameter(34921),maxVertexUniforms:ut.getParameter(36347),maxVertexTextureUnits:ut.getParameter(35660),maxVaryingVectors:ut.getParameter(36348),maxFragmentUniforms:ut.getParameter(36349),glsl:ut.getParameter(35724),renderer:ut.getParameter(7937),vendor:ut.getParameter(7936),version:ut.getParameter(7938),readFloat:pt,npotTextureCube:xt}},Le=function(ut){return ut instanceof Uint8Array||ut instanceof Uint16Array||ut instanceof Uint32Array||ut instanceof Int8Array||ut instanceof Int16Array||ut instanceof Int32Array||ut instanceof Float32Array||ut instanceof Float64Array||ut instanceof Uint8ClampedArray},be=function(ut){return Object.keys(ut).map(function(Yt){return ut[Yt]})},Ae={shape:function(ut){for(var Yt=[];ut.length;ut=ut[0])Yt.push(ut.length);return Yt},flatten:function(ut,Yt,Kt,mr){var ur=1;if(Yt.length)for(var pt=0;pt<Yt.length;++pt)ur*=Yt[pt];else ur=0;switch(Kt=mr||Oe.allocType(Kt,ur),Yt.length){case 0:break;case 1:for(mr=Yt[0],Yt=0;Yt<mr;++Yt)Kt[Yt]=ut[Yt];break;case 2:for(mr=Yt[0],Yt=Yt[1],pt=ur=0;pt<mr;++pt)for(var st=ut[pt],xt=0;xt<Yt;++xt)Kt[ur++]=st[xt];break;case 3:u(ut,Yt[0],Yt[1],Yt[2],Kt,0);break;default:m(ut,Yt,0,Kt,0)}return Kt}},He={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Ve={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},ke={dynamic:35048,stream:35040,static:35044},Ge=Ae.flatten,it=Ae.shape,et=[];et[5120]=1,et[5122]=2,et[5124]=4,et[5121]=1,et[5123]=2,et[5125]=4,et[5126]=4;var tt={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},at=new Float32Array(1),vt=new Uint32Array(at.buffer),yt=[9984,9986,9985,9987],gt=[0,6409,6410,6407,6408],Mt={};Mt[6409]=Mt[6406]=Mt[6402]=1,Mt[34041]=Mt[6410]=2,Mt[6407]=Mt[35904]=3,Mt[6408]=Mt[35906]=4;var Ct=P("HTMLCanvasElement"),Vt=P("OffscreenCanvas"),Je=P("CanvasRenderingContext2D"),ze=P("ImageBitmap"),_e=P("HTMLImageElement"),Be=P("HTMLVideoElement"),De=Object.keys(He).concat([Ct,Vt,Je,ze,_e,Be]),we=[];we[5121]=1,we[5126]=4,we[36193]=2,we[5123]=2,we[5125]=4;var xe=[];xe[32854]=2,xe[32855]=2,xe[36194]=2,xe[34041]=4,xe[33776]=.5,xe[33777]=.5,xe[33778]=1,xe[33779]=1,xe[35986]=.5,xe[35987]=1,xe[34798]=1,xe[35840]=.5,xe[35841]=.25,xe[35842]=.5,xe[35843]=.25,xe[36196]=.5;var Ee=[];Ee[32854]=2,Ee[32855]=2,Ee[36194]=2,Ee[33189]=2,Ee[36168]=1,Ee[34041]=4,Ee[35907]=4,Ee[34836]=16,Ee[34842]=8,Ee[34843]=6;var Pe=function(ut,Yt,Kt,mr,ur){function pt(Bt){this.id=Dt++,this.refCount=1,this.renderbuffer=Bt,this.format=32854,this.height=this.width=0,ur.profile&&(this.stats={size:0})}function st(Bt){var Nt=Bt.renderbuffer;ut.bindRenderbuffer(36161,null),ut.deleteRenderbuffer(Nt),Bt.renderbuffer=null,Bt.refCount=0,delete Rt[Bt.id],mr.renderbufferCount--}var xt={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};Yt.ext_srgb&&(xt.srgba=35907),Yt.ext_color_buffer_half_float&&(xt.rgba16f=34842,xt.rgb16f=34843),Yt.webgl_color_buffer_float&&(xt.rgba32f=34836);var St=[];Object.keys(xt).forEach(function(Bt){St[xt[Bt]]=Bt});var Dt=0,Rt={};return pt.prototype.decRef=function(){0>=--this.refCount&&st(this)},ur.profile&&(mr.getTotalRenderbufferSize=function(){var Bt=0;return Object.keys(Rt).forEach(function(Nt){Bt+=Rt[Nt].stats.size}),Bt}),{create:function(Bt,Nt){function Xt(sr,dr){var je=0,Ye=0,It=32854;if(typeof sr=="object"&&sr?("shape"in sr?(Ye=sr.shape,je=Ye[0]|0,Ye=Ye[1]|0):("radius"in sr&&(je=Ye=sr.radius|0),"width"in sr&&(je=sr.width|0),"height"in sr&&(Ye=sr.height|0)),"format"in sr&&(It=xt[sr.format])):typeof sr=="number"?(je=sr|0,Ye=typeof dr=="number"?dr|0:je):sr||(je=Ye=1),je!==lr.width||Ye!==lr.height||It!==lr.format)return Xt.width=lr.width=je,Xt.height=lr.height=Ye,lr.format=It,ut.bindRenderbuffer(36161,lr.renderbuffer),ut.renderbufferStorage(36161,It,je,Ye),ur.profile&&(lr.stats.size=Ee[lr.format]*lr.width*lr.height),Xt.format=St[lr.format],Xt}var lr=new pt(ut.createRenderbuffer());return Rt[lr.id]=lr,mr.renderbufferCount++,Xt(Bt,Nt),Xt.resize=function(sr,dr){var je=sr|0,Ye=dr|0||je;return je===lr.width&&Ye===lr.height||(Xt.width=lr.width=je,Xt.height=lr.height=Ye,ut.bindRenderbuffer(36161,lr.renderbuffer),ut.renderbufferStorage(36161,lr.format,je,Ye),ur.profile&&(lr.stats.size=Ee[lr.format]*lr.width*lr.height)),Xt},Xt._reglType="renderbuffer",Xt._renderbuffer=lr,ur.profile&&(Xt.stats=lr.stats),Xt.destroy=function(){lr.decRef()},Xt},clear:function(){be(Rt).forEach(st)},restore:function(){be(Rt).forEach(function(Bt){Bt.renderbuffer=ut.createRenderbuffer(),ut.bindRenderbuffer(36161,Bt.renderbuffer),ut.renderbufferStorage(36161,Bt.format,Bt.width,Bt.height)}),ut.bindRenderbuffer(36161,null)}}},Ue=[];Ue[6408]=4,Ue[6407]=3;var $e=[];$e[5121]=1,$e[5126]=4,$e[36193]=2;var qe=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],dt=["x","y","z","w"],bt="blend.func blend.equation stencil.func stencil.opFront stencil.opBack sample.coverage viewport scissor.box polygonOffset.offset".split(" "),Gt={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Qt={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},At={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},zt={cw:2304,ccw:2305},$t=new J(!1,!1,!1,function(){}),Ar=function(ut,Yt){function Kt(){this.endQueryIndex=this.startQueryIndex=-1,this.sum=0,this.stats=null}function mr(Rt,Bt,Nt){var Xt=st.pop()||new Kt;Xt.startQueryIndex=Rt,Xt.endQueryIndex=Bt,Xt.sum=0,Xt.stats=Nt,xt.push(Xt)}if(!Yt.ext_disjoint_timer_query)return null;var ur=[],pt=[],st=[],xt=[],St=[],Dt=[];return{beginQuery:function(Rt){var Bt=ur.pop()||Yt.ext_disjoint_timer_query.createQueryEXT();Yt.ext_disjoint_timer_query.beginQueryEXT(35007,Bt),pt.push(Bt),mr(pt.length-1,pt.length,Rt)},endQuery:function(){Yt.ext_disjoint_timer_query.endQueryEXT(35007)},pushScopeStats:mr,update:function(){var Rt,Bt;if(Rt=pt.length,Rt!==0){Dt.length=Math.max(Dt.length,Rt+1),St.length=Math.max(St.length,Rt+1),St[0]=0;var Nt=Dt[0]=0;for(Bt=Rt=0;Bt<pt.length;++Bt){var Xt=pt[Bt];Yt.ext_disjoint_timer_query.getQueryObjectEXT(Xt,34919)?(Nt+=Yt.ext_disjoint_timer_query.getQueryObjectEXT(Xt,34918),ur.push(Xt)):pt[Rt++]=Xt,St[Bt+1]=Nt,Dt[Bt+1]=Rt}for(pt.length=Rt,Bt=Rt=0;Bt<xt.length;++Bt){var Nt=xt[Bt],lr=Nt.startQueryIndex,Xt=Nt.endQueryIndex;Nt.sum+=St[Xt]-St[lr],lr=Dt[lr],Xt=Dt[Xt],Xt===lr?(Nt.stats.gpuTime+=Nt.sum/1e6,st.push(Nt)):(Nt.startQueryIndex=lr,Nt.endQueryIndex=Xt,xt[Rt++]=Nt)}xt.length=Rt}},getNumPendingQueries:function(){return pt.length},clear:function(){ur.push.apply(ur,pt);for(var Rt=0;Rt<ur.length;Rt++)Yt.ext_disjoint_timer_query.deleteQueryEXT(ur[Rt]);pt.length=0,ur.length=0},restore:function(){pt.length=0,ur.length=0}}};return function(ut){function Yt(){if(Tn.length===0)It&&It.update(),Ur=null;else{Ur=Ce.next(Yt),Rt();for(var gn=Tn.length-1;0<=gn;--gn){var mn=Tn[gn];mn&&mn(tr,null,0)}Xt.flush(),It&&It.update()}}function Kt(){!Ur&&0<Tn.length&&(Ur=Ce.next(Yt))}function mr(){Ur&&(Ce.cancel(Yt),Ur=null)}function ur(gn){gn.preventDefault(),mr(),Mr.forEach(function(mn){mn()})}function pt(gn){Xt.getError(),sr.restore(),pr.restore(),Ot.restore(),vr.restore(),Vr.restore(),kr.restore(),gr.restore(),It&&It.restore(),_r.procs.refresh(),Kt(),Er.forEach(function(mn){mn()})}function st(gn){function mn(yn,Vn){var Mn={},En={};return Object.keys(yn).forEach(function(Nn){var ta=yn[Nn];if(me.isDynamic(ta))En[Nn]=me.unbox(ta,Nn);else{if(Vn&&Array.isArray(ta)){for(var ba=0;ba<ta.length;++ba)if(me.isDynamic(ta[ba])){En[Nn]=me.unbox(ta,Nn);return}}Mn[Nn]=ta}}),{dynamic:En,static:Mn}}function Rn(yn){for(;rn.length<yn;)rn.push(null);return rn}var zn=mn(gn.context||{},!0),oa=mn(gn.uniforms||{},!0),Zn=mn(gn.attributes||{},!1);gn=mn(function(yn){function Vn(En){if(En in Mn){var Nn=Mn[En];delete Mn[En],Object.keys(Nn).forEach(function(ta){Mn[En+"."+ta]=Nn[ta]})}}var Mn=se({},yn);return delete Mn.uniforms,delete Mn.attributes,delete Mn.context,delete Mn.vao,"stencil"in Mn&&Mn.stencil.op&&(Mn.stencil.opBack=Mn.stencil.opFront=Mn.stencil.op,delete Mn.stencil.op),Vn("blend"),Vn("depth"),Vn("cull"),Vn("stencil"),Vn("polygonOffset"),Vn("scissor"),Vn("sample"),"vao"in yn&&(Mn.vao=yn.vao),Mn}(gn),!1);var qn={gpuTime:0,cpuTime:0,count:0},Yn=_r.compile(gn,Zn,oa,zn,qn),Qn=Yn.draw,Tr=Yn.batch,sn=Yn.scope,rn=[];return se(function(yn,Vn){var Mn;if(typeof yn=="function")return sn.call(this,null,yn,0);if(typeof Vn=="function")if(typeof yn=="number")for(Mn=0;Mn<yn;++Mn)sn.call(this,null,Vn,Mn);else if(Array.isArray(yn))for(Mn=0;Mn<yn.length;++Mn)sn.call(this,yn[Mn],Vn,Mn);else return sn.call(this,yn,Vn,0);else if(typeof yn=="number"){if(0<yn)return Tr.call(this,Rn(yn|0),yn|0)}else if(Array.isArray(yn)){if(yn.length)return Tr.call(this,yn,yn.length)}else return Qn.call(this,yn)},{stats:qn,destroy:function(){Yn.destroy()}})}function xt(gn,mn){var Rn=0;_r.procs.poll();var zn=mn.color;zn&&(Xt.clearColor(+zn[0]||0,+zn[1]||0,+zn[2]||0,+zn[3]||0),Rn|=16384),"depth"in mn&&(Xt.clearDepth(+mn.depth),Rn|=256),"stencil"in mn&&(Xt.clearStencil(mn.stencil|0),Rn|=1024),Xt.clear(Rn)}function St(gn){return Tn.push(gn),Kt(),{cancel:function(){function mn(){var zn=ue(Tn,mn);Tn[zn]=Tn[Tn.length-1],--Tn.length,0>=Tn.length&&mr()}var Rn=ue(Tn,gn);Tn[Rn]=mn}}}function Dt(){var gn=en.viewport,mn=en.scissor_box;gn[0]=gn[1]=mn[0]=mn[1]=0,tr.viewportWidth=tr.framebufferWidth=tr.drawingBufferWidth=gn[2]=mn[2]=Xt.drawingBufferWidth,tr.viewportHeight=tr.framebufferHeight=tr.drawingBufferHeight=gn[3]=mn[3]=Xt.drawingBufferHeight}function Rt(){tr.tick+=1,tr.time=Nt(),Dt(),_r.procs.poll()}function Bt(){vr.refresh(),Dt(),_r.procs.refresh(),It&&It.update()}function Nt(){return(Te()-kt)/1e3}if(ut=t(ut),!ut)return null;var Xt=ut.gl,lr=Xt.getContextAttributes();Xt.isContextLost();var sr=r(Xt,ut);if(!sr)return null;var pn=a(),dr={vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},je=ut.cachedCode||{},Ye=sr.extensions,It=Ar(Xt,Ye),kt=Te(),or=Xt.drawingBufferWidth,jt=Xt.drawingBufferHeight,tr={tick:0,time:0,viewportWidth:or,viewportHeight:jt,framebufferWidth:or,framebufferHeight:jt,drawingBufferWidth:or,drawingBufferHeight:jt,pixelRatio:ut.pixelRatio},or={elements:null,primitive:4,count:-1,offset:0,instances:-1},rr=Ne(Xt,Ye),Ot=l(Xt,dr,ut,function(gn){return gr.destroyBuffer(gn)}),hr=p(Xt,Ye,Ot,dr),gr=z(Xt,Ye,rr,dr,Ot,hr,or),pr=B(Xt,pn,dr,ut),vr=O(Xt,Ye,rr,function(){_r.procs.poll()},tr,dr,ut),Vr=Pe(Xt,Ye,rr,dr,ut),kr=_(Xt,Ye,rr,vr,Vr,dr),_r=ee(Xt,pn,Ye,rr,Ot,hr,vr,kr,{},gr,pr,or,tr,It,je,ut),pn=U(Xt,kr,_r.procs.poll,tr),en=_r.next,Bn=Xt.canvas,Tn=[],Mr=[],Er=[],Gr=[ut.onDestroy],Ur=null;Bn&&(Bn.addEventListener("webglcontextlost",ur,!1),Bn.addEventListener("webglcontextrestored",pt,!1));var an=kr.setFBO=st({framebuffer:me.define.call(null,1,"framebuffer")});return Bt(),lr=se(st,{clear:function(gn){if("framebuffer"in gn)if(gn.framebuffer&&gn.framebuffer_reglType==="framebufferCube")for(var mn=0;6>mn;++mn)an(se({framebuffer:gn.framebuffer.faces[mn]},gn),xt);else an(gn,xt);else xt(null,gn)},prop:me.define.bind(null,1),context:me.define.bind(null,2),this:me.define.bind(null,3),draw:st({}),buffer:function(gn){return Ot.create(gn,34962,!1,!1)},elements:function(gn){return hr.create(gn,!1)},texture:vr.create2D,cube:vr.createCube,renderbuffer:Vr.create,framebuffer:kr.create,framebufferCube:kr.createCube,vao:gr.createVAO,attributes:lr,frame:St,on:function(gn,mn){var Rn;switch(gn){case"frame":return St(mn);case"lost":Rn=Mr;break;case"restore":Rn=Er;break;case"destroy":Rn=Gr}return Rn.push(mn),{cancel:function(){for(var zn=0;zn<Rn.length;++zn)if(Rn[zn]===mn){Rn[zn]=Rn[Rn.length-1],Rn.pop();break}}}},limits:rr,hasExtension:function(gn){return 0<=rr.extensions.indexOf(gn.toLowerCase())},read:pn,destroy:function(){Tn.length=0,mr(),Bn&&(Bn.removeEventListener("webglcontextlost",ur),Bn.removeEventListener("webglcontextrestored",pt)),pr.clear(),kr.clear(),Vr.clear(),gr.clear(),vr.clear(),hr.clear(),Ot.clear(),It&&It.clear(),Gr.forEach(function(gn){gn()})},_gl:Xt,_refresh:Bt,poll:function(){Rt(),It&&It.update()},now:Nt,stats:dr,getCachedCode:function(){return je},preloadCachedCode:function(gn){Object.entries(gn).forEach(function(mn){je[mn[0]]=mn[1]})}}),ut.onDone(null,lr),lr}})},71665:function(W,H,e){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var g=e(12856),R=g.Buffer;function a(T,v){for(var y in T)v[y]=T[y]}R.from&&R.alloc&&R.allocUnsafe&&R.allocUnsafeSlow?W.exports=g:(a(g,H),H.Buffer=C);function C(T,v,y){return R(T,v,y)}C.prototype=Object.create(R.prototype),a(R,C),C.from=function(T,v,y){if(typeof T=="number")throw new TypeError("Argument must not be a number");return R(T,v,y)},C.alloc=function(T,v,y){if(typeof T!="number")throw new TypeError("Argument must be a number");var t=R(T);return v!==void 0?typeof y=="string"?t.fill(v,y):t.fill(v):t.fill(0),t},C.allocUnsafe=function(T){if(typeof T!="number")throw new TypeError("Argument must be a number");return R(T)},C.allocUnsafeSlow=function(T){if(typeof T!="number")throw new TypeError("Argument must be a number");return g.SlowBuffer(T)}},21630:function(W,H,e){W.exports=a;var g=e(15398).EventEmitter,R=e(42018);R(a,g),a.Readable=e(40410),a.Writable=e(37493),a.Duplex=e(37865),a.Transform=e(74308),a.PassThrough=e(66897),a.finished=e(12726),a.pipeline=e(10168),a.Stream=a;function a(){g.call(this)}a.prototype.pipe=function(C,T){var v=this;function y(u){C.writable&&C.write(u)===!1&&v.pause&&v.pause()}v.on("data",y);function t(){v.readable&&v.resume&&v.resume()}C.on("drain",t),!C._isStdio&&(!T||T.end!==!1)&&(v.on("end",s),v.on("close",n));var r=!1;function s(){r||(r=!0,C.end())}function n(){r||(r=!0,typeof C.destroy=="function"&&C.destroy())}function o(u){if(f(),g.listenerCount(this,"error")===0)throw u}v.on("error",o),C.on("error",o);function f(){v.removeListener("data",y),C.removeListener("drain",t),v.removeListener("end",s),v.removeListener("close",n),v.removeListener("error",o),C.removeListener("error",o),v.removeListener("end",f),v.removeListener("close",f),C.removeListener("close",f)}return v.on("end",f),v.on("close",f),C.on("close",f),C.emit("pipe",v),C}},74322:function(W){function H(v,y){v.prototype=Object.create(y.prototype),v.prototype.constructor=v,v.__proto__=y}var e={};function g(v,y,t){t||(t=Error);function r(n,o,f){return typeof y=="string"?y:y(n,o,f)}var s=function(n){H(o,n);function o(f,u,m){return n.call(this,r(f,u,m))||this}return o}(t);s.prototype.name=t.name,s.prototype.code=v,e[v]=s}function R(v,y){if(Array.isArray(v)){var t=v.length;return v=v.map(function(r){return String(r)}),t>2?"one of ".concat(y," ").concat(v.slice(0,t-1).join(", "),", or ")+v[t-1]:t===2?"one of ".concat(y," ").concat(v[0]," or ").concat(v[1]):"of ".concat(y," ").concat(v[0])}else return"of ".concat(y," ").concat(String(v))}function a(v,y,t){return v.substr(!t||t<0?0:+t,y.length)===y}function C(v,y,t){return(t===void 0||t>v.length)&&(t=v.length),v.substring(t-y.length,t)===y}function T(v,y,t){return typeof t!="number"&&(t=0),t+y.length>v.length?!1:v.indexOf(y,t)!==-1}g("ERR_INVALID_OPT_VALUE",function(v,y){return'The value "'+y+'" is invalid for option "'+v+'"'},TypeError),g("ERR_INVALID_ARG_TYPE",function(v,y,t){var r;typeof y=="string"&&a(y,"not ")?(r="must not be",y=y.replace(/^not /,"")):r="must be";var s;if(C(v," argument"))s="The ".concat(v," ").concat(r," ").concat(R(y,"type"));else{var n=T(v,".")?"property":"argument";s='The "'.concat(v,'" ').concat(n," ").concat(r," ").concat(R(y,"type"))}return s+=". Received type ".concat(typeof t),s},TypeError),g("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),g("ERR_METHOD_NOT_IMPLEMENTED",function(v){return"The "+v+" method is not implemented"}),g("ERR_STREAM_PREMATURE_CLOSE","Premature close"),g("ERR_STREAM_DESTROYED",function(v){return"Cannot call "+v+" after a stream was destroyed"}),g("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),g("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),g("ERR_STREAM_WRITE_AFTER_END","write after end"),g("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),g("ERR_UNKNOWN_ENCODING",function(v){return"Unknown encoding: "+v},TypeError),g("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),W.exports.q=e},37865:function(W,H,e){var g=e(90386),R=Object.keys||function(n){var o=[];for(var f in n)o.push(f);return o};W.exports=t;var a=e(40410),C=e(37493);e(42018)(t,a);for(var T=R(C.prototype),v=0;v<T.length;v++){var y=T[v];t.prototype[y]||(t.prototype[y]=C.prototype[y])}function t(n){if(!(this instanceof t))return new t(n);a.call(this,n),C.call(this,n),this.allowHalfOpen=!0,n&&(n.readable===!1&&(this.readable=!1),n.writable===!1&&(this.writable=!1),n.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",r)))}Object.defineProperty(t.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(t.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(t.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function r(){this._writableState.ended||g.nextTick(s,this)}function s(n){n.end()}Object.defineProperty(t.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(o){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=o,this._writableState.destroyed=o)}})},66897:function(W,H,e){W.exports=R;var g=e(74308);e(42018)(R,g);function R(a){if(!(this instanceof R))return new R(a);g.call(this,a)}R.prototype._transform=function(a,C,T){T(null,a)}},40410:function(W,H,e){var g=e(90386);W.exports=i;var R;i.ReadableState=w,e(15398).EventEmitter;var a=function(ee,ue){return ee.listeners(ue).length},C=e(71405),T=e(12856).Buffer,v=e.g.Uint8Array||function(){};function y(q){return T.from(q)}function t(q){return T.isBuffer(q)||q instanceof v}var r=e(40964),s;r&&r.debuglog?s=r.debuglog("stream"):s=function(){};var n=e(31125),o=e(65756),f=e(56306),u=f.getHighWaterMark,m=e(74322).q,c=m.ERR_INVALID_ARG_TYPE,A=m.ERR_STREAM_PUSH_AFTER_EOF,h=m.ERR_METHOD_NOT_IMPLEMENTED,l=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,p,M,S;e(42018)(i,C);var P=o.errorOrDestroy,x=["error","close","destroy","pause","resume"];function E(q,ee,ue){if(typeof q.prependListener=="function")return q.prependListener(ee,ue);!q._events||!q._events[ee]?q.on(ee,ue):Array.isArray(q._events[ee])?q._events[ee].unshift(ue):q._events[ee]=[ue,q._events[ee]]}function w(q,ee,ue){R=R||e(37865),q=q||{},typeof ue!="boolean"&&(ue=ee instanceof R),this.objectMode=!!q.objectMode,ue&&(this.objectMode=this.objectMode||!!q.readableObjectMode),this.highWaterMark=u(this,q,"readableHighWaterMark",ue),this.buffer=new n,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=q.emitClose!==!1,this.autoDestroy=!!q.autoDestroy,this.destroyed=!1,this.defaultEncoding=q.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,q.encoding&&(p||(p=e(68019).s),this.decoder=new p(q.encoding),this.encoding=q.encoding)}function i(q){if(R=R||e(37865),!(this instanceof i))return new i(q);var ee=this instanceof R;this._readableState=new w(q,this,ee),this.readable=!0,q&&(typeof q.read=="function"&&(this._read=q.read),typeof q.destroy=="function"&&(this._destroy=q.destroy)),C.call(this)}Object.defineProperty(i.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(ee){this._readableState&&(this._readableState.destroyed=ee)}}),i.prototype.destroy=o.destroy,i.prototype._undestroy=o.undestroy,i.prototype._destroy=function(q,ee){ee(q)},i.prototype.push=function(q,ee){var ue=this._readableState,se;return ue.objectMode?se=!0:typeof q=="string"&&(ee=ee||ue.defaultEncoding,ee!==ue.encoding&&(q=T.from(q,ee),ee=""),se=!0),L(this,q,ee,!1,se)},i.prototype.unshift=function(q){return L(this,q,null,!0,!1)};function L(q,ee,ue,se,he){s("readableAddChunk",ee);var me=q._readableState;if(ee===null)me.reading=!1,B(q,me);else{var Ce;if(he||(Ce=O(me,ee)),Ce)P(q,Ce);else if(me.objectMode||ee&&ee.length>0)if(typeof ee!="string"&&!me.objectMode&&Object.getPrototypeOf(ee)!==T.prototype&&(ee=y(ee)),se)me.endEmitted?P(q,new l):b(q,me,ee,!0);else if(me.ended)P(q,new A);else{if(me.destroyed)return!1;me.reading=!1,me.decoder&&!ue?(ee=me.decoder.write(ee),me.objectMode||ee.length!==0?b(q,me,ee,!1):V(q,me)):b(q,me,ee,!1)}else se||(me.reading=!1,V(q,me))}return!me.ended&&(me.length<me.highWaterMark||me.length===0)}function b(q,ee,ue,se){ee.flowing&&ee.length===0&&!ee.sync?(ee.awaitDrain=0,q.emit("data",ue)):(ee.length+=ee.objectMode?1:ue.length,se?ee.buffer.unshift(ue):ee.buffer.push(ue),ee.needReadable&&U(q)),V(q,ee)}function O(q,ee){var ue;return!t(ee)&&typeof ee!="string"&&ee!==void 0&&!q.objectMode&&(ue=new c("chunk",["string","Buffer","Uint8Array"],ee)),ue}i.prototype.isPaused=function(){return this._readableState.flowing===!1},i.prototype.setEncoding=function(q){p||(p=e(68019).s);var ee=new p(q);this._readableState.decoder=ee,this._readableState.encoding=this._readableState.decoder.encoding;for(var ue=this._readableState.buffer.head,se="";ue!==null;)se+=ee.write(ue.data),ue=ue.next;return this._readableState.buffer.clear(),se!==""&&this._readableState.buffer.push(se),this._readableState.length=se.length,this};var _=1073741824;function N(q){return q>=_?q=_:(q--,q|=q>>>1,q|=q>>>2,q|=q>>>4,q|=q>>>8,q|=q>>>16,q++),q}function z(q,ee){return q<=0||ee.length===0&&ee.ended?0:ee.objectMode?1:q!==q?ee.flowing&&ee.length?ee.buffer.head.data.length:ee.length:(q>ee.highWaterMark&&(ee.highWaterMark=N(q)),q<=ee.length?q:ee.ended?ee.length:(ee.needReadable=!0,0))}i.prototype.read=function(q){s("read",q),q=parseInt(q,10);var ee=this._readableState,ue=q;if(q!==0&&(ee.emittedReadable=!1),q===0&&ee.needReadable&&((ee.highWaterMark!==0?ee.length>=ee.highWaterMark:ee.length>0)||ee.ended))return s("read: emitReadable",ee.length,ee.ended),ee.length===0&&ee.ended?J(this):U(this),null;if(q=z(q,ee),q===0&&ee.ended)return ee.length===0&&J(this),null;var se=ee.needReadable;s("need readable",se),(ee.length===0||ee.length-q<ee.highWaterMark)&&(se=!0,s("length less than watermark",se)),ee.ended||ee.reading?(se=!1,s("reading or ended",se)):se&&(s("do read"),ee.reading=!0,ee.sync=!0,ee.length===0&&(ee.needReadable=!0),this._read(ee.highWaterMark),ee.sync=!1,ee.reading||(q=z(ue,ee)));var he;return q>0?he=K(q,ee):he=null,he===null?(ee.needReadable=ee.length<=ee.highWaterMark,q=0):(ee.length-=q,ee.awaitDrain=0),ee.length===0&&(ee.ended||(ee.needReadable=!0),ue!==q&&ee.ended&&J(this)),he!==null&&this.emit("data",he),he};function B(q,ee){if(s("onEofChunk"),!ee.ended){if(ee.decoder){var ue=ee.decoder.end();ue&&ue.length&&(ee.buffer.push(ue),ee.length+=ee.objectMode?1:ue.length)}ee.ended=!0,ee.sync?U(q):(ee.needReadable=!1,ee.emittedReadable||(ee.emittedReadable=!0,F(q)))}}function U(q){var ee=q._readableState;s("emitReadable",ee.needReadable,ee.emittedReadable),ee.needReadable=!1,ee.emittedReadable||(s("emitReadable",ee.flowing),ee.emittedReadable=!0,g.nextTick(F,q))}function F(q){var ee=q._readableState;s("emitReadable_",ee.destroyed,ee.length,ee.ended),!ee.destroyed&&(ee.length||ee.ended)&&(q.emit("readable"),ee.emittedReadable=!1),ee.needReadable=!ee.flowing&&!ee.ended&&ee.length<=ee.highWaterMark,Z(q)}function V(q,ee){ee.readingMore||(ee.readingMore=!0,g.nextTick(j,q,ee))}function j(q,ee){for(;!ee.reading&&!ee.ended&&(ee.length<ee.highWaterMark||ee.flowing&&ee.length===0);){var ue=ee.length;if(s("maybeReadMore read 0"),q.read(0),ue===ee.length)break}ee.readingMore=!1}i.prototype._read=function(q){P(this,new h("_read()"))},i.prototype.pipe=function(q,ee){var ue=this,se=this._readableState;switch(se.pipesCount){case 0:se.pipes=q;break;case 1:se.pipes=[se.pipes,q];break;default:se.pipes.push(q);break}se.pipesCount+=1,s("pipe count=%d opts=%j",se.pipesCount,ee);var he=(!ee||ee.end!==!1)&&q!==g.stdout&&q!==g.stderr,me=he?Te:ke;se.endEmitted?g.nextTick(me):ue.once("end",me),q.on("unpipe",Ce);function Ce(Ge,it){s("onunpipe"),Ge===ue&&it&&it.hasUnpiped===!1&&(it.hasUnpiped=!0,Le())}function Te(){s("onend"),q.end()}var Oe=$(ue);q.on("drain",Oe);var Ne=!1;function Le(){s("cleanup"),q.removeListener("close",He),q.removeListener("finish",Ve),q.removeListener("drain",Oe),q.removeListener("error",Ae),q.removeListener("unpipe",Ce),ue.removeListener("end",Te),ue.removeListener("end",ke),ue.removeListener("data",be),Ne=!0,se.awaitDrain&&(!q._writableState||q._writableState.needDrain)&&Oe()}ue.on("data",be);function be(Ge){s("ondata");var it=q.write(Ge);s("dest.write",it),it===!1&&((se.pipesCount===1&&se.pipes===q||se.pipesCount>1&&le(se.pipes,q)!==-1)&&!Ne&&(s("false write response, pause",se.awaitDrain),se.awaitDrain++),ue.pause())}function Ae(Ge){s("onerror",Ge),ke(),q.removeListener("error",Ae),a(q,"error")===0&&P(q,Ge)}E(q,"error",Ae);function He(){q.removeListener("finish",Ve),ke()}q.once("close",He);function Ve(){s("onfinish"),q.removeListener("close",He),ke()}q.once("finish",Ve);function ke(){s("unpipe"),ue.unpipe(q)}return q.emit("pipe",ue),se.flowing||(s("pipe resume"),ue.resume()),q};function $(q){return function(){var ue=q._readableState;s("pipeOnDrain",ue.awaitDrain),ue.awaitDrain&&ue.awaitDrain--,ue.awaitDrain===0&&a(q,"data")&&(ue.flowing=!0,Z(q))}}i.prototype.unpipe=function(q){var ee=this._readableState,ue={hasUnpiped:!1};if(ee.pipesCount===0)return this;if(ee.pipesCount===1)return q&&q!==ee.pipes?this:(q||(q=ee.pipes),ee.pipes=null,ee.pipesCount=0,ee.flowing=!1,q&&q.emit("unpipe",this,ue),this);if(!q){var se=ee.pipes,he=ee.pipesCount;ee.pipes=null,ee.pipesCount=0,ee.flowing=!1;for(var me=0;me<he;me++)se[me].emit("unpipe",this,{hasUnpiped:!1});return this}var Ce=le(ee.pipes,q);return Ce===-1?this:(ee.pipes.splice(Ce,1),ee.pipesCount-=1,ee.pipesCount===1&&(ee.pipes=ee.pipes[0]),q.emit("unpipe",this,ue),this)},i.prototype.on=function(q,ee){var ue=C.prototype.on.call(this,q,ee),se=this._readableState;return q==="data"?(se.readableListening=this.listenerCount("readable")>0,se.flowing!==!1&&this.resume()):q==="readable"&&!se.endEmitted&&!se.readableListening&&(se.readableListening=se.needReadable=!0,se.flowing=!1,se.emittedReadable=!1,s("on readable",se.length,se.reading),se.length?U(this):se.reading||g.nextTick(oe,this)),ue},i.prototype.addListener=i.prototype.on,i.prototype.removeListener=function(q,ee){var ue=C.prototype.removeListener.call(this,q,ee);return q==="readable"&&g.nextTick(ne,this),ue},i.prototype.removeAllListeners=function(q){var ee=C.prototype.removeAllListeners.apply(this,arguments);return(q==="readable"||q===void 0)&&g.nextTick(ne,this),ee};function ne(q){var ee=q._readableState;ee.readableListening=q.listenerCount("readable")>0,ee.resumeScheduled&&!ee.paused?ee.flowing=!0:q.listenerCount("data")>0&&q.resume()}function oe(q){s("readable nexttick read 0"),q.read(0)}i.prototype.resume=function(){var q=this._readableState;return q.flowing||(s("resume"),q.flowing=!q.readableListening,ce(this,q)),q.paused=!1,this};function ce(q,ee){ee.resumeScheduled||(ee.resumeScheduled=!0,g.nextTick(Q,q,ee))}function Q(q,ee){s("resume",ee.reading),ee.reading||q.read(0),ee.resumeScheduled=!1,q.emit("resume"),Z(q),ee.flowing&&!ee.reading&&q.read(0)}i.prototype.pause=function(){return s("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(s("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Z(q){var ee=q._readableState;for(s("flow",ee.flowing);ee.flowing&&q.read()!==null;);}i.prototype.wrap=function(q){var ee=this,ue=this._readableState,se=!1;q.on("end",function(){if(s("wrapped end"),ue.decoder&&!ue.ended){var Ce=ue.decoder.end();Ce&&Ce.length&&ee.push(Ce)}ee.push(null)}),q.on("data",function(Ce){if(s("wrapped data"),ue.decoder&&(Ce=ue.decoder.write(Ce)),!(ue.objectMode&&Ce==null)&&!(!ue.objectMode&&(!Ce||!Ce.length))){var Te=ee.push(Ce);Te||(se=!0,q.pause())}});for(var he in q)this[he]===void 0&&typeof q[he]=="function"&&(this[he]=function(Te){return function(){return q[Te].apply(q,arguments)}}(he));for(var me=0;me<x.length;me++)q.on(x[me],this.emit.bind(this,x[me]));return this._read=function(Ce){s("wrapped _read",Ce),se&&(se=!1,q.resume())},this},typeof Symbol=="function"&&(i.prototype[Symbol.asyncIterator]=function(){return M===void 0&&(M=e(68221)),M(this)}),Object.defineProperty(i.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(i.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(i.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(ee){this._readableState&&(this._readableState.flowing=ee)}}),i._fromList=K,Object.defineProperty(i.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function K(q,ee){if(ee.length===0)return null;var ue;return ee.objectMode?ue=ee.buffer.shift():!q||q>=ee.length?(ee.decoder?ue=ee.buffer.join(""):ee.buffer.length===1?ue=ee.buffer.first():ue=ee.buffer.concat(ee.length),ee.buffer.clear()):ue=ee.buffer.consume(q,ee.decoder),ue}function J(q){var ee=q._readableState;s("endReadable",ee.endEmitted),ee.endEmitted||(ee.ended=!0,g.nextTick(re,ee,q))}function re(q,ee){if(s("endReadableNT",q.endEmitted,q.length),!q.endEmitted&&q.length===0&&(q.endEmitted=!0,ee.readable=!1,ee.emit("end"),q.autoDestroy)){var ue=ee._writableState;(!ue||ue.autoDestroy&&ue.finished)&&ee.destroy()}}typeof Symbol=="function"&&(i.from=function(q,ee){return S===void 0&&(S=e(31748)),S(i,q,ee)});function le(q,ee){for(var ue=0,se=q.length;ue<se;ue++)if(q[ue]===ee)return ue;return-1}},74308:function(W,H,e){W.exports=t;var g=e(74322).q,R=g.ERR_METHOD_NOT_IMPLEMENTED,a=g.ERR_MULTIPLE_CALLBACK,C=g.ERR_TRANSFORM_ALREADY_TRANSFORMING,T=g.ERR_TRANSFORM_WITH_LENGTH_0,v=e(37865);e(42018)(t,v);function y(n,o){var f=this._transformState;f.transforming=!1;var u=f.writecb;if(u===null)return this.emit("error",new a);f.writechunk=null,f.writecb=null,o!=null&&this.push(o),u(n);var m=this._readableState;m.reading=!1,(m.needReadable||m.length<m.highWaterMark)&&this._read(m.highWaterMark)}function t(n){if(!(this instanceof t))return new t(n);v.call(this,n),this._transformState={afterTransform:y.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,n&&(typeof n.transform=="function"&&(this._transform=n.transform),typeof n.flush=="function"&&(this._flush=n.flush)),this.on("prefinish",r)}function r(){var n=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(o,f){s(n,o,f)}):s(this,null,null)}t.prototype.push=function(n,o){return this._transformState.needTransform=!1,v.prototype.push.call(this,n,o)},t.prototype._transform=function(n,o,f){f(new R("_transform()"))},t.prototype._write=function(n,o,f){var u=this._transformState;if(u.writecb=f,u.writechunk=n,u.writeencoding=o,!u.transforming){var m=this._readableState;(u.needTransform||m.needReadable||m.length<m.highWaterMark)&&this._read(m.highWaterMark)}},t.prototype._read=function(n){var o=this._transformState;o.writechunk!==null&&!o.transforming?(o.transforming=!0,this._transform(o.writechunk,o.writeencoding,o.afterTransform)):o.needTransform=!0},t.prototype._destroy=function(n,o){v.prototype._destroy.call(this,n,function(f){o(f)})};function s(n,o,f){if(o)return n.emit("error",o);if(f!=null&&n.push(f),n._writableState.length)throw new T;if(n._transformState.transforming)throw new C;return n.push(null)}},37493:function(W,H,e){var g=e(90386);W.exports=w;function R(Z){var K=this;this.next=null,this.entry=null,this.finish=function(){Q(K,Z)}}var a;w.WritableState=x;var C={deprecate:e(20588)},T=e(71405),v=e(12856).Buffer,y=e.g.Uint8Array||function(){};function t(Z){return v.from(Z)}function r(Z){return v.isBuffer(Z)||Z instanceof y}var s=e(65756),n=e(56306),o=n.getHighWaterMark,f=e(74322).q,u=f.ERR_INVALID_ARG_TYPE,m=f.ERR_METHOD_NOT_IMPLEMENTED,c=f.ERR_MULTIPLE_CALLBACK,A=f.ERR_STREAM_CANNOT_PIPE,h=f.ERR_STREAM_DESTROYED,l=f.ERR_STREAM_NULL_VALUES,p=f.ERR_STREAM_WRITE_AFTER_END,M=f.ERR_UNKNOWN_ENCODING,S=s.errorOrDestroy;e(42018)(w,T);function P(){}function x(Z,K,J){a=a||e(37865),Z=Z||{},typeof J!="boolean"&&(J=K instanceof a),this.objectMode=!!Z.objectMode,J&&(this.objectMode=this.objectMode||!!Z.writableObjectMode),this.highWaterMark=o(this,Z,"writableHighWaterMark",J),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var re=Z.decodeStrings===!1;this.decodeStrings=!re,this.defaultEncoding=Z.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(le){B(K,le)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Z.emitClose!==!1,this.autoDestroy=!!Z.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new R(this)}x.prototype.getBuffer=function(){for(var K=this.bufferedRequest,J=[];K;)J.push(K),K=K.next;return J},function(){try{Object.defineProperty(x.prototype,"buffer",{get:C.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var E;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(E=Function.prototype[Symbol.hasInstance],Object.defineProperty(w,Symbol.hasInstance,{value:function(K){return E.call(this,K)?!0:this!==w?!1:K&&K._writableState instanceof x}})):E=function(K){return K instanceof this};function w(Z){a=a||e(37865);var K=this instanceof a;if(!K&&!E.call(w,this))return new w(Z);this._writableState=new x(Z,this,K),this.writable=!0,Z&&(typeof Z.write=="function"&&(this._write=Z.write),typeof Z.writev=="function"&&(this._writev=Z.writev),typeof Z.destroy=="function"&&(this._destroy=Z.destroy),typeof Z.final=="function"&&(this._final=Z.final)),T.call(this)}w.prototype.pipe=function(){S(this,new A)};function i(Z,K){var J=new p;S(Z,J),g.nextTick(K,J)}function L(Z,K,J,re){var le;return J===null?le=new l:typeof J!="string"&&!K.objectMode&&(le=new u("chunk",["string","Buffer"],J)),le?(S(Z,le),g.nextTick(re,le),!1):!0}w.prototype.write=function(Z,K,J){var re=this._writableState,le=!1,q=!re.objectMode&&r(Z);return q&&!v.isBuffer(Z)&&(Z=t(Z)),typeof K=="function"&&(J=K,K=null),q?K="buffer":K||(K=re.defaultEncoding),typeof J!="function"&&(J=P),re.ending?i(this,J):(q||L(this,re,Z,J))&&(re.pendingcb++,le=O(this,re,q,Z,K,J)),le},w.prototype.cork=function(){this._writableState.corked++},w.prototype.uncork=function(){var Z=this._writableState;Z.corked&&(Z.corked--,!Z.writing&&!Z.corked&&!Z.bufferProcessing&&Z.bufferedRequest&&V(this,Z))},w.prototype.setDefaultEncoding=function(K){if(typeof K=="string"&&(K=K.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((K+"").toLowerCase())>-1))throw new M(K);return this._writableState.defaultEncoding=K,this},Object.defineProperty(w.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function b(Z,K,J){return!Z.objectMode&&Z.decodeStrings!==!1&&typeof K=="string"&&(K=v.from(K,J)),K}Object.defineProperty(w.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function O(Z,K,J,re,le,q){if(!J){var ee=b(K,re,le);re!==ee&&(J=!0,le="buffer",re=ee)}var ue=K.objectMode?1:re.length;K.length+=ue;var se=K.length<K.highWaterMark;if(se||(K.needDrain=!0),K.writing||K.corked){var he=K.lastBufferedRequest;K.lastBufferedRequest={chunk:re,encoding:le,isBuf:J,callback:q,next:null},he?he.next=K.lastBufferedRequest:K.bufferedRequest=K.lastBufferedRequest,K.bufferedRequestCount+=1}else _(Z,K,!1,ue,re,le,q);return se}function _(Z,K,J,re,le,q,ee){K.writelen=re,K.writecb=ee,K.writing=!0,K.sync=!0,K.destroyed?K.onwrite(new h("write")):J?Z._writev(le,K.onwrite):Z._write(le,q,K.onwrite),K.sync=!1}function N(Z,K,J,re,le){--K.pendingcb,J?(g.nextTick(le,re),g.nextTick(oe,Z,K),Z._writableState.errorEmitted=!0,S(Z,re)):(le(re),Z._writableState.errorEmitted=!0,S(Z,re),oe(Z,K))}function z(Z){Z.writing=!1,Z.writecb=null,Z.length-=Z.writelen,Z.writelen=0}function B(Z,K){var J=Z._writableState,re=J.sync,le=J.writecb;if(typeof le!="function")throw new c;if(z(J),K)N(Z,J,re,K,le);else{var q=j(J)||Z.destroyed;!q&&!J.corked&&!J.bufferProcessing&&J.bufferedRequest&&V(Z,J),re?g.nextTick(U,Z,J,q,le):U(Z,J,q,le)}}function U(Z,K,J,re){J||F(Z,K),K.pendingcb--,re(),oe(Z,K)}function F(Z,K){K.length===0&&K.needDrain&&(K.needDrain=!1,Z.emit("drain"))}function V(Z,K){K.bufferProcessing=!0;var J=K.bufferedRequest;if(Z._writev&&J&&J.next){var re=K.bufferedRequestCount,le=new Array(re),q=K.corkedRequestsFree;q.entry=J;for(var ee=0,ue=!0;J;)le[ee]=J,J.isBuf||(ue=!1),J=J.next,ee+=1;le.allBuffers=ue,_(Z,K,!0,K.length,le,"",q.finish),K.pendingcb++,K.lastBufferedRequest=null,q.next?(K.corkedRequestsFree=q.next,q.next=null):K.corkedRequestsFree=new R(K),K.bufferedRequestCount=0}else{for(;J;){var se=J.chunk,he=J.encoding,me=J.callback,Ce=K.objectMode?1:se.length;if(_(Z,K,!1,Ce,se,he,me),J=J.next,K.bufferedRequestCount--,K.writing)break}J===null&&(K.lastBufferedRequest=null)}K.bufferedRequest=J,K.bufferProcessing=!1}w.prototype._write=function(Z,K,J){J(new m("_write()"))},w.prototype._writev=null,w.prototype.end=function(Z,K,J){var re=this._writableState;return typeof Z=="function"?(J=Z,Z=null,K=null):typeof K=="function"&&(J=K,K=null),Z!=null&&this.write(Z,K),re.corked&&(re.corked=1,this.uncork()),re.ending||ce(this,re,J),this},Object.defineProperty(w.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function j(Z){return Z.ending&&Z.length===0&&Z.bufferedRequest===null&&!Z.finished&&!Z.writing}function $(Z,K){Z._final(function(J){K.pendingcb--,J&&S(Z,J),K.prefinished=!0,Z.emit("prefinish"),oe(Z,K)})}function ne(Z,K){!K.prefinished&&!K.finalCalled&&(typeof Z._final=="function"&&!K.destroyed?(K.pendingcb++,K.finalCalled=!0,g.nextTick($,Z,K)):(K.prefinished=!0,Z.emit("prefinish")))}function oe(Z,K){var J=j(K);if(J&&(ne(Z,K),K.pendingcb===0&&(K.finished=!0,Z.emit("finish"),K.autoDestroy))){var re=Z._readableState;(!re||re.autoDestroy&&re.endEmitted)&&Z.destroy()}return J}function ce(Z,K,J){K.ending=!0,oe(Z,K),J&&(K.finished?g.nextTick(J):Z.once("finish",J)),K.ended=!0,Z.writable=!1}function Q(Z,K,J){var re=Z.entry;for(Z.entry=null;re;){var le=re.callback;K.pendingcb--,le(J),re=re.next}K.corkedRequestsFree.next=Z}Object.defineProperty(w.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(K){this._writableState&&(this._writableState.destroyed=K)}}),w.prototype.destroy=s.destroy,w.prototype._undestroy=s.undestroy,w.prototype._destroy=function(Z,K){K(Z)}},68221:function(W,H,e){var g=e(90386),R;function a(l,p,M){return p in l?Object.defineProperty(l,p,{value:M,enumerable:!0,configurable:!0,writable:!0}):l[p]=M,l}var C=e(12726),T=Symbol("lastResolve"),v=Symbol("lastReject"),y=Symbol("error"),t=Symbol("ended"),r=Symbol("lastPromise"),s=Symbol("handlePromise"),n=Symbol("stream");function o(l,p){return{value:l,done:p}}function f(l){var p=l[T];if(p!==null){var M=l[n].read();M!==null&&(l[r]=null,l[T]=null,l[v]=null,p(o(M,!1)))}}function u(l){g.nextTick(f,l)}function m(l,p){return function(M,S){l.then(function(){if(p[t]){M(o(void 0,!0));return}p[s](M,S)},S)}}var c=Object.getPrototypeOf(function(){}),A=Object.setPrototypeOf((R={get stream(){return this[n]},next:function(){var p=this,M=this[y];if(M!==null)return Promise.reject(M);if(this[t])return Promise.resolve(o(void 0,!0));if(this[n].destroyed)return new Promise(function(E,w){g.nextTick(function(){p[y]?w(p[y]):E(o(void 0,!0))})});var S=this[r],P;if(S)P=new Promise(m(S,this));else{var x=this[n].read();if(x!==null)return Promise.resolve(o(x,!1));P=new Promise(this[s])}return this[r]=P,P}},a(R,Symbol.asyncIterator,function(){return this}),a(R,"return",function(){var p=this;return new Promise(function(M,S){p[n].destroy(null,function(P){if(P){S(P);return}M(o(void 0,!0))})})}),R),c),h=function(p){var M,S=Object.create(A,(M={},a(M,n,{value:p,writable:!0}),a(M,T,{value:null,writable:!0}),a(M,v,{value:null,writable:!0}),a(M,y,{value:null,writable:!0}),a(M,t,{value:p._readableState.endEmitted,writable:!0}),a(M,s,{value:function(x,E){var w=S[n].read();w?(S[r]=null,S[T]=null,S[v]=null,x(o(w,!1))):(S[T]=x,S[v]=E)},writable:!0}),M));return S[r]=null,C(p,function(P){if(P&&P.code!=="ERR_STREAM_PREMATURE_CLOSE"){var x=S[v];x!==null&&(S[r]=null,S[T]=null,S[v]=null,x(P)),S[y]=P;return}var E=S[T];E!==null&&(S[r]=null,S[T]=null,S[v]=null,E(o(void 0,!0))),S[t]=!0}),p.on("readable",u.bind(null,S)),S};W.exports=h},31125:function(W,H,e){function g(f,u){var m=Object.keys(f);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(f);u&&(c=c.filter(function(A){return Object.getOwnPropertyDescriptor(f,A).enumerable})),m.push.apply(m,c)}return m}function R(f){for(var u=1;u<arguments.length;u++){var m=arguments[u]!=null?arguments[u]:{};u%2?g(Object(m),!0).forEach(function(c){a(f,c,m[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(m)):g(Object(m)).forEach(function(c){Object.defineProperty(f,c,Object.getOwnPropertyDescriptor(m,c))})}return f}function a(f,u,m){return u in f?Object.defineProperty(f,u,{value:m,enumerable:!0,configurable:!0,writable:!0}):f[u]=m,f}function C(f,u){if(!(f instanceof u))throw new TypeError("Cannot call a class as a function")}function T(f,u){for(var m=0;m<u.length;m++){var c=u[m];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(f,c.key,c)}}function v(f,u,m){return u&&T(f.prototype,u),m&&T(f,m),f}var y=e(12856),t=y.Buffer,r=e(69862),s=r.inspect,n=s&&s.custom||"inspect";function o(f,u,m){t.prototype.copy.call(f,u,m)}W.exports=function(){function f(){C(this,f),this.head=null,this.tail=null,this.length=0}return v(f,[{key:"push",value:function(m){var c={data:m,next:null};this.length>0?this.tail.next=c:this.head=c,this.tail=c,++this.length}},{key:"unshift",value:function(m){var c={data:m,next:this.head};this.length===0&&(this.tail=c),this.head=c,++this.length}},{key:"shift",value:function(){if(this.length!==0){var m=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,m}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(m){if(this.length===0)return"";for(var c=this.head,A=""+c.data;c=c.next;)A+=m+c.data;return A}},{key:"concat",value:function(m){if(this.length===0)return t.alloc(0);for(var c=t.allocUnsafe(m>>>0),A=this.head,h=0;A;)o(A.data,c,h),h+=A.data.length,A=A.next;return c}},{key:"consume",value:function(m,c){var A;return m<this.head.data.length?(A=this.head.data.slice(0,m),this.head.data=this.head.data.slice(m)):m===this.head.data.length?A=this.shift():A=c?this._getString(m):this._getBuffer(m),A}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(m){var c=this.head,A=1,h=c.data;for(m-=h.length;c=c.next;){var l=c.data,p=m>l.length?l.length:m;if(p===l.length?h+=l:h+=l.slice(0,m),m-=p,m===0){p===l.length?(++A,c.next?this.head=c.next:this.head=this.tail=null):(this.head=c,c.data=l.slice(p));break}++A}return this.length-=A,h}},{key:"_getBuffer",value:function(m){var c=t.allocUnsafe(m),A=this.head,h=1;for(A.data.copy(c),m-=A.data.length;A=A.next;){var l=A.data,p=m>l.length?l.length:m;if(l.copy(c,c.length-m,0,p),m-=p,m===0){p===l.length?(++h,A.next?this.head=A.next:this.head=this.tail=null):(this.head=A,A.data=l.slice(p));break}++h}return this.length-=h,c}},{key:n,value:function(m,c){return s(this,R({},c,{depth:0,customInspect:!1}))}}]),f}()},65756:function(W,H,e){var g=e(90386);function R(t,r){var s=this,n=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return n||o?(r?r(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,g.nextTick(v,this,t)):g.nextTick(v,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(f){!r&&f?s._writableState?s._writableState.errorEmitted?g.nextTick(C,s):(s._writableState.errorEmitted=!0,g.nextTick(a,s,f)):g.nextTick(a,s,f):r?(g.nextTick(C,s),r(f)):g.nextTick(C,s)}),this)}function a(t,r){v(t,r),C(t)}function C(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function T(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function v(t,r){t.emit("error",r)}function y(t,r){var s=t._readableState,n=t._writableState;s&&s.autoDestroy||n&&n.autoDestroy?t.destroy(r):t.emit("error",r)}W.exports={destroy:R,undestroy:T,errorOrDestroy:y}},12726:function(W,H,e){var g=e(74322).q.ERR_STREAM_PREMATURE_CLOSE;function R(v){var y=!1;return function(){if(!y){y=!0;for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];v.apply(this,r)}}}function a(){}function C(v){return v.setHeader&&typeof v.abort=="function"}function T(v,y,t){if(typeof y=="function")return T(v,null,y);y||(y={}),t=R(t||a);var r=y.readable||y.readable!==!1&&v.readable,s=y.writable||y.writable!==!1&&v.writable,n=function(){v.writable||f()},o=v._writableState&&v._writableState.finished,f=function(){s=!1,o=!0,r||t.call(v)},u=v._readableState&&v._readableState.endEmitted,m=function(){r=!1,u=!0,s||t.call(v)},c=function(p){t.call(v,p)},A=function(){var p;if(r&&!u)return(!v._readableState||!v._readableState.ended)&&(p=new g),t.call(v,p);if(s&&!o)return(!v._writableState||!v._writableState.ended)&&(p=new g),t.call(v,p)},h=function(){v.req.on("finish",f)};return C(v)?(v.on("complete",f),v.on("abort",A),v.req?h():v.on("request",h)):s&&!v._writableState&&(v.on("end",n),v.on("close",n)),v.on("end",m),v.on("finish",f),y.error!==!1&&v.on("error",c),v.on("close",A),function(){v.removeListener("complete",f),v.removeListener("abort",A),v.removeListener("request",h),v.req&&v.req.removeListener("finish",f),v.removeListener("end",n),v.removeListener("close",n),v.removeListener("finish",f),v.removeListener("end",m),v.removeListener("error",c),v.removeListener("close",A)}}W.exports=T},31748:function(W){W.exports=function(){throw new Error("Readable.from is not available in the browser")}},10168:function(W,H,e){var g;function R(f){var u=!1;return function(){u||(u=!0,f.apply(void 0,arguments))}}var a=e(74322).q,C=a.ERR_MISSING_ARGS,T=a.ERR_STREAM_DESTROYED;function v(f){if(f)throw f}function y(f){return f.setHeader&&typeof f.abort=="function"}function t(f,u,m,c){c=R(c);var A=!1;f.on("close",function(){A=!0}),g===void 0&&(g=e(12726)),g(f,{readable:u,writable:m},function(l){if(l)return c(l);A=!0,c()});var h=!1;return function(l){if(!A&&!h){if(h=!0,y(f))return f.abort();if(typeof f.destroy=="function")return f.destroy();c(l||new T("pipe"))}}}function r(f){f()}function s(f,u){return f.pipe(u)}function n(f){return!f.length||typeof f[f.length-1]!="function"?v:f.pop()}function o(){for(var f=arguments.length,u=new Array(f),m=0;m<f;m++)u[m]=arguments[m];var c=n(u);if(Array.isArray(u[0])&&(u=u[0]),u.length<2)throw new C("streams");var A,h=u.map(function(l,p){var M=p<u.length-1,S=p>0;return t(l,M,S,function(P){A||(A=P),P&&h.forEach(r),!M&&(h.forEach(r),c(A))})});return u.reduce(s)}W.exports=o},56306:function(W,H,e){var g=e(74322).q.ERR_INVALID_OPT_VALUE;function R(C,T,v){return C.highWaterMark!=null?C.highWaterMark:T?C[v]:null}function a(C,T,v,y){var t=R(T,y,v);if(t!=null){if(!(isFinite(t)&&Math.floor(t)===t)||t<0){var r=y?v:"highWaterMark";throw new g(r,t)}return Math.floor(t)}return C.objectMode?16:16384}W.exports={getHighWaterMark:a}},71405:function(W,H,e){W.exports=e(15398).EventEmitter},68019:function(W,H,e){var g=e(71665).Buffer,R=g.isEncoding||function(h){switch(h=""+h,h&&h.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(h){if(!h)return"utf8";for(var l;;)switch(h){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return h;default:if(l)return;h=(""+h).toLowerCase(),l=!0}}function C(h){var l=a(h);if(typeof l!="string"&&(g.isEncoding===R||!R(h)))throw new Error("Unknown encoding: "+h);return l||h}H.s=T;function T(h){this.encoding=C(h);var l;switch(this.encoding){case"utf16le":this.text=o,this.end=f,l=4;break;case"utf8":this.fillLast=r,l=4;break;case"base64":this.text=u,this.end=m,l=3;break;default:this.write=c,this.end=A;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=g.allocUnsafe(l)}T.prototype.write=function(h){if(h.length===0)return"";var l,p;if(this.lastNeed){if(l=this.fillLast(h),l===void 0)return"";p=this.lastNeed,this.lastNeed=0}else p=0;return p<h.length?l?l+this.text(h,p):this.text(h,p):l||""},T.prototype.end=n,T.prototype.text=s,T.prototype.fillLast=function(h){if(this.lastNeed<=h.length)return h.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);h.copy(this.lastChar,this.lastTotal-this.lastNeed,0,h.length),this.lastNeed-=h.length};function v(h){return h<=127?0:h>>5===6?2:h>>4===14?3:h>>3===30?4:h>>6===2?-1:-2}function y(h,l,p){var M=l.length-1;if(M<p)return 0;var S=v(l[M]);return S>=0?(S>0&&(h.lastNeed=S-1),S):--M<p||S===-2?0:(S=v(l[M]),S>=0?(S>0&&(h.lastNeed=S-2),S):--M<p||S===-2?0:(S=v(l[M]),S>=0?(S>0&&(S===2?S=0:h.lastNeed=S-3),S):0))}function t(h,l,p){if((l[0]&192)!==128)return h.lastNeed=0,"";if(h.lastNeed>1&&l.length>1){if((l[1]&192)!==128)return h.lastNeed=1,"";if(h.lastNeed>2&&l.length>2&&(l[2]&192)!==128)return h.lastNeed=2,""}}function r(h){var l=this.lastTotal-this.lastNeed,p=t(this,h);if(p!==void 0)return p;if(this.lastNeed<=h.length)return h.copy(this.lastChar,l,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);h.copy(this.lastChar,l,0,h.length),this.lastNeed-=h.length}function s(h,l){var p=y(this,h,l);if(!this.lastNeed)return h.toString("utf8",l);this.lastTotal=p;var M=h.length-(p-this.lastNeed);return h.copy(this.lastChar,0,M),h.toString("utf8",l,M)}function n(h){var l=h&&h.length?this.write(h):"";return this.lastNeed?l+"":l}function o(h,l){if((h.length-l)%2===0){var p=h.toString("utf16le",l);if(p){var M=p.charCodeAt(p.length-1);if(M>=55296&&M<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=h[h.length-2],this.lastChar[1]=h[h.length-1],p.slice(0,-1)}return p}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=h[h.length-1],h.toString("utf16le",l,h.length-1)}function f(h){var l=h&&h.length?this.write(h):"";if(this.lastNeed){var p=this.lastTotal-this.lastNeed;return l+this.lastChar.toString("utf16le",0,p)}return l}function u(h,l){var p=(h.length-l)%3;return p===0?h.toString("base64",l):(this.lastNeed=3-p,this.lastTotal=3,p===1?this.lastChar[0]=h[h.length-1]:(this.lastChar[0]=h[h.length-2],this.lastChar[1]=h[h.length-1]),h.toString("base64",l,h.length-p))}function m(h){var l=h&&h.length?this.write(h):"";return this.lastNeed?l+this.lastChar.toString("base64",0,3-this.lastNeed):l}function c(h){return h.toString(this.encoding)}function A(h){return h&&h.length?this.write(h):""}},90715:function(W,H,e){var g=e(32791),R=e(41633)("stream-parser");W.exports=y;var a=-1,C=0,T=1,v=2;function y(h){var l=h&&typeof h._transform=="function",p=h&&typeof h._write=="function";if(!l&&!p)throw new Error("must pass a Writable or Transform stream in");R("extending Parser into stream"),h._bytes=r,h._skipBytes=s,l&&(h._passthrough=n),l?h._transform=f:h._write=o}function t(h){R("initializing parser stream"),h._parserBytesLeft=0,h._parserBuffers=[],h._parserBuffered=0,h._parserState=a,h._parserCallback=null,typeof h.push=="function"&&(h._parserOutput=h.push.bind(h)),h._parserInit=!0}function r(h,l){g(!this._parserCallback,'there is already a "callback" set!'),g(isFinite(h)&&h>0,'can only buffer a finite number of bytes > 0, got "'+h+'"'),this._parserInit||t(this),R("buffering %o bytes",h),this._parserBytesLeft=h,this._parserCallback=l,this._parserState=C}function s(h,l){g(!this._parserCallback,'there is already a "callback" set!'),g(h>0,'can only skip > 0 bytes, got "'+h+'"'),this._parserInit||t(this),R("skipping %o bytes",h),this._parserBytesLeft=h,this._parserCallback=l,this._parserState=T}function n(h,l){g(!this._parserCallback,'There is already a "callback" set!'),g(h>0,'can only pass through > 0 bytes, got "'+h+'"'),this._parserInit||t(this),R("passing through %o bytes",h),this._parserBytesLeft=h,this._parserCallback=l,this._parserState=v}function o(h,l,p){this._parserInit||t(this),R("write(%o bytes)",h.length),typeof l=="function"&&(p=l),c(this,h,null,p)}function f(h,l,p){this._parserInit||t(this),R("transform(%o bytes)",h.length),typeof l!="function"&&(l=this._parserOutput),c(this,h,l,p)}function u(h,l,p,M){return h._parserBytesLeft<=0?M(new Error("got data but not currently parsing anything")):l.length<=h._parserBytesLeft?function(){return m(h,l,p,M)}:function(){var S=l.slice(0,h._parserBytesLeft);return m(h,S,p,function(P){if(P)return M(P);if(l.length>S.length)return function(){return u(h,l.slice(S.length),p,M)}})}}function m(h,l,p,M){if(h._parserBytesLeft-=l.length,R("%o bytes left for stream piece",h._parserBytesLeft),h._parserState===C?(h._parserBuffers.push(l),h._parserBuffered+=l.length):h._parserState===v&&p(l),h._parserBytesLeft===0){var S=h._parserCallback;if(S&&h._parserState===C&&h._parserBuffers.length>1&&(l=Buffer.concat(h._parserBuffers,h._parserBuffered)),h._parserState!==C&&(l=null),h._parserCallback=null,h._parserBuffered=0,h._parserState=a,h._parserBuffers.splice(0),S){var P=[];l&&P.push(l),p&&P.push(p);var x=S.length>P.length;x&&P.push(A(M));var E=S.apply(h,P);if(!x||M===E)return M}}else return M}var c=A(u);function A(h){return function(){for(var l=h.apply(this,arguments);typeof l=="function";)l=l();return l}}},41633:function(W,H,e){var g=e(90386);H=W.exports=e(74469),H.log=C,H.formatArgs=a,H.save=T,H.load=v,H.useColors=R,H.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:y(),H.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function R(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}H.formatters.j=function(t){try{return JSON.stringify(t)}catch(r){return"[UnexpectedJSONParseError]: "+r.message}};function a(t){var r=this.useColors;if(t[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+t[0]+(r?"%c ":" ")+"+"+H.humanize(this.diff),!!r){var s="color: "+this.color;t.splice(1,0,s,"color: inherit");var n=0,o=0;t[0].replace(/%[a-zA-Z%]/g,function(f){f!=="%%"&&(n++,f==="%c"&&(o=n))}),t.splice(o,0,s)}}function C(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function T(t){try{t==null?H.storage.removeItem("debug"):H.storage.debug=t}catch{}}function v(){var t;try{t=H.storage.debug}catch{}return!t&&typeof g<"u"&&"env"in g&&(t=g.env.DEBUG),t}H.enable(v());function y(){try{return window.localStorage}catch{}}},74469:function(W,H,e){H=W.exports=a.debug=a.default=a,H.coerce=y,H.disable=T,H.enable=C,H.enabled=v,H.humanize=e(11375),H.names=[],H.skips=[],H.formatters={};var g;function R(t){var r=0,s;for(s in t)r=(r<<5)-r+t.charCodeAt(s),r|=0;return H.colors[Math.abs(r)%H.colors.length]}function a(t){function r(){if(r.enabled){var s=r,n=+new Date,o=n-(g||n);s.diff=o,s.prev=g,s.curr=n,g=n;for(var f=new Array(arguments.length),u=0;u<f.length;u++)f[u]=arguments[u];f[0]=H.coerce(f[0]),typeof f[0]!="string"&&f.unshift("%O");var m=0;f[0]=f[0].replace(/%([a-zA-Z%])/g,function(A,h){if(A==="%%")return A;m++;var l=H.formatters[h];if(typeof l=="function"){var p=f[m];A=l.call(s,p),f.splice(m,1),m--}return A}),H.formatArgs.call(s,f);var c=r.log||H.log||console.log.bind(console);c.apply(s,f)}}return r.namespace=t,r.enabled=H.enabled(t),r.useColors=H.useColors(),r.color=R(t),typeof H.init=="function"&&H.init(r),r}function C(t){H.save(t),H.names=[],H.skips=[];for(var r=(typeof t=="string"?t:"").split(/[\s,]+/),s=r.length,n=0;n<s;n++)r[n]&&(t=r[n].replace(/\*/g,".*?"),t[0]==="-"?H.skips.push(new RegExp("^"+t.substr(1)+"$")):H.names.push(new RegExp("^"+t+"$")))}function T(){H.enable("")}function v(t){var r,s;for(r=0,s=H.skips.length;r<s;r++)if(H.skips[r].test(t))return!1;for(r=0,s=H.names.length;r<s;r++)if(H.names[r].test(t))return!0;return!1}function y(t){return t instanceof Error?t.stack||t.message:t}},11375:function(W){var H=1e3,e=H*60,g=e*60,R=g*24,a=R*365.25;W.exports=function(t,r){r=r||{};var s=typeof t;if(s==="string"&&t.length>0)return C(t);if(s==="number"&&isNaN(t)===!1)return r.long?v(t):T(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function C(t){if(t=String(t),!(t.length>100)){var r=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(r){var s=parseFloat(r[1]),n=(r[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return s*a;case"days":case"day":case"d":return s*R;case"hours":case"hour":case"hrs":case"hr":case"h":return s*g;case"minutes":case"minute":case"mins":case"min":case"m":return s*e;case"seconds":case"second":case"secs":case"sec":case"s":return s*H;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}function T(t){return t>=R?Math.round(t/R)+"d":t>=g?Math.round(t/g)+"h":t>=e?Math.round(t/e)+"m":t>=H?Math.round(t/H)+"s":t+"ms"}function v(t){return y(t,R,"day")||y(t,g,"hour")||y(t,e,"minute")||y(t,H,"second")||t+" ms"}function y(t,r,s){if(!(t<r))return t<r*1.5?Math.floor(t/r)+" "+s:Math.ceil(t/r)+" "+s+"s"}},99011:function(W,H,e){var g=e(88641);W.exports=function(a,C,T){if(a==null)throw Error("First argument should be a string");if(C==null)throw Error("Separator should be a string or a RegExp");T?(typeof T=="string"||Array.isArray(T))&&(T={ignore:T}):T={},T.escape==null&&(T.escape=!0),T.ignore==null?T.ignore=["[]","()","{}","<>",'""',"''","``","",""]:(typeof T.ignore=="string"&&(T.ignore=[T.ignore]),T.ignore=T.ignore.map(function(f){return f.length===1&&(f=f+f),f}));var v=g.parse(a,{flat:!0,brackets:T.ignore}),y=v[0],t=y.split(C);if(T.escape){for(var r=[],s=0;s<t.length;s++){var n=t[s],o=t[s+1];n[n.length-1]==="\\"&&n[n.length-2]!=="\\"?(r.push(n+C+o),s++):r.push(n)}t=r}for(var s=0;s<t.length;s++)v[0]=t[s],t[s]=g.stringify(v,{flat:!0});return t}},68664:function(W){W.exports=H;function H(e){for(var g=e.length,R=new Array(g),a=new Array(g),C=new Array(g),T=new Array(g),v=new Array(g),y=new Array(g),t=0;t<g;++t)R[t]=-1,a[t]=0,C[t]=!1,T[t]=0,v[t]=-1,y[t]=[];var r=0,s=[],n=[];function o(c){var A=[c],h=[c];for(R[c]=a[c]=r,C[c]=!0,r+=1;h.length>0;){c=h[h.length-1];var l=e[c];if(T[c]<l.length){for(var p=T[c];p<l.length;++p){var M=l[p];if(R[M]<0){R[M]=a[M]=r,C[M]=!0,r+=1,A.push(M),h.push(M);break}else C[M]&&(a[c]=Math.min(a[c],a[M])|0);v[M]>=0&&y[c].push(v[M])}T[c]=p}else{if(a[c]===R[c]){for(var S=[],P=[],x=0,p=A.length-1;p>=0;--p){var E=A[p];if(C[E]=!1,S.push(E),P.push(y[E]),x+=y[E].length,v[E]=s.length,E===c){A.length=p;break}}s.push(S);for(var w=new Array(x),p=0;p<P.length;p++)for(var i=0;i<P[p].length;i++)w[--x]=P[p][i];n.push(w)}h.pop()}}}for(var t=0;t<g;++t)R[t]<0&&o(t);for(var f,t=0;t<n.length;t++){var u=n[t];if(u.length!==0){u.sort(function(A,h){return A-h}),f=[u[0]];for(var m=1;m<u.length;m++)u[m]!==u[m-1]&&f.push(u[m]);n[t]=f}}return{components:s,adjacencyList:n}}},7095:function(W,H,e){e.r(H);var g=function(){function t(r,s){var n=[],o=!0,f=!1,u=void 0;try{for(var m=r[Symbol.iterator](),c;!(o=(c=m.next()).done)&&(n.push(c.value),!(s&&n.length===s));o=!0);}catch(A){f=!0,u=A}finally{try{!o&&m.return&&m.return()}finally{if(f)throw u}}return n}return function(r,s){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return t(r,s);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),R=Math.PI*2,a=function(r,s,n,o,f,u,m){var c=r.x,A=r.y;c*=s,A*=n;var h=o*c-f*A,l=f*c+o*A;return{x:h+u,y:l+m}},C=function(r,s){var n=s===1.5707963267948966?.551915024494:s===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(s/4),o=Math.cos(r),f=Math.sin(r),u=Math.cos(r+s),m=Math.sin(r+s);return[{x:o-f*n,y:f+o*n},{x:u+m*n,y:m-u*n},{x:u,y:m}]},T=function(r,s,n,o){var f=r*o-s*n<0?-1:1,u=r*n+s*o;return u>1&&(u=1),u<-1&&(u=-1),f*Math.acos(u)},v=function(r,s,n,o,f,u,m,c,A,h,l,p){var M=Math.pow(f,2),S=Math.pow(u,2),P=Math.pow(l,2),x=Math.pow(p,2),E=M*S-M*x-S*P;E<0&&(E=0),E/=M*x+S*P,E=Math.sqrt(E)*(m===c?-1:1);var w=E*f/u*p,i=E*-u/f*l,L=h*w-A*i+(r+n)/2,b=A*w+h*i+(s+o)/2,O=(l-w)/f,_=(p-i)/u,N=(-l-w)/f,z=(-p-i)/u,B=T(1,0,O,_),U=T(O,_,N,z);return c===0&&U>0&&(U-=R),c===1&&U<0&&(U+=R),[L,b,B,U]},y=function(r){var s=r.px,n=r.py,o=r.cx,f=r.cy,u=r.rx,m=r.ry,c=r.xAxisRotation,A=c===void 0?0:c,h=r.largeArcFlag,l=h===void 0?0:h,p=r.sweepFlag,M=p===void 0?0:p,S=[];if(u===0||m===0)return[];var P=Math.sin(A*R/360),x=Math.cos(A*R/360),E=x*(s-o)/2+P*(n-f)/2,w=-P*(s-o)/2+x*(n-f)/2;if(E===0&&w===0)return[];u=Math.abs(u),m=Math.abs(m);var i=Math.pow(E,2)/Math.pow(u,2)+Math.pow(w,2)/Math.pow(m,2);i>1&&(u*=Math.sqrt(i),m*=Math.sqrt(i));var L=v(s,n,o,f,u,m,l,M,P,x,E,w),b=g(L,4),O=b[0],_=b[1],N=b[2],z=b[3],B=Math.abs(z)/(R/4);Math.abs(1-B)<1e-7&&(B=1);var U=Math.max(Math.ceil(B),1);z/=U;for(var F=0;F<U;F++)S.push(C(N,z)),N+=z;return S.map(function(V){var j=a(V[0],u,m,x,P,O,_),$=j.x,ne=j.y,oe=a(V[1],u,m,x,P,O,_),ce=oe.x,Q=oe.y,Z=a(V[2],u,m,x,P,O,_),K=Z.x,J=Z.y;return{x1:$,y1:ne,x2:ce,y2:Q,x:K,y:J}})};H.default=y},1750:function(W,H,e){var g=e(95616),R=e(65185),a=e(29988),C=e(89546),T=e(32791);W.exports=v;function v(y){if(Array.isArray(y)&&y.length===1&&typeof y[0]=="string"&&(y=y[0]),typeof y=="string"&&(T(C(y),"String is not an SVG path."),y=g(y)),T(Array.isArray(y),"Argument should be a string or an array of path segments."),y=R(y),y=a(y),!y.length)return[0,0,0,0];for(var t=[1/0,1/0,-1/0,-1/0],r=0,s=y.length;r<s;r++)for(var n=y[r].slice(1),o=0;o<n.length;o+=2)n[o+0]<t[0]&&(t[0]=n[o+0]),n[o+1]<t[1]&&(t[1]=n[o+1]),n[o+0]>t[2]&&(t[2]=n[o+0]),n[o+1]>t[3]&&(t[3]=n[o+1]);return t}},29988:function(W,H,e){W.exports=R;var g=e(7095);function R(T){for(var v,y=[],t=0,r=0,s=0,n=0,o=null,f=null,u=0,m=0,c=0,A=T.length;c<A;c++){var h=T[c],l=h[0];switch(l){case"M":s=h[1],n=h[2];break;case"A":var p=g({px:u,py:m,cx:h[6],cy:h[7],rx:h[1],ry:h[2],xAxisRotation:h[3],largeArcFlag:h[4],sweepFlag:h[5]});if(!p.length)continue;for(var M=0,S;M<p.length;M++)S=p[M],h=["C",S.x1,S.y1,S.x2,S.y2,S.x,S.y],M<p.length-1&&y.push(h);break;case"S":var P=u,x=m;(v=="C"||v=="S")&&(P+=P-t,x+=x-r),h=["C",P,x,h[1],h[2],h[3],h[4]];break;case"T":v=="Q"||v=="T"?(o=u*2-o,f=m*2-f):(o=u,f=m),h=C(u,m,o,f,h[1],h[2]);break;case"Q":o=h[1],f=h[2],h=C(u,m,h[1],h[2],h[3],h[4]);break;case"L":h=a(u,m,h[1],h[2]);break;case"H":h=a(u,m,h[1],m);break;case"V":h=a(u,m,u,h[1]);break;case"Z":h=a(u,m,s,n);break}v=l,u=h[h.length-2],m=h[h.length-1],h.length>4?(t=h[h.length-4],r=h[h.length-3]):(t=u,r=m),y.push(h)}return y}function a(T,v,y,t){return["C",T,v,y,t,y,t]}function C(T,v,y,t,r,s){return["C",T/3+.6666666666666666*y,v/3+.6666666666666666*t,r/3+.6666666666666666*y,s/3+.6666666666666666*t,r,s]}},82019:function(W,H,e){var g=e(1750),R=e(95616),a=e(31457),C=e(89546),T=e(44781),v=document.createElement("canvas"),y=v.getContext("2d");W.exports=t;function t(n,o){if(!C(n))throw Error("Argument should be valid svg path string");o||(o={});var f,u;o.shape?(f=o.shape[0],u=o.shape[1]):(f=v.width=o.w||o.width||200,u=v.height=o.h||o.height||200);var m=Math.min(f,u),c=o.stroke||0,A=o.viewbox||o.viewBox||g(n),h=[f/(A[2]-A[0]),u/(A[3]-A[1])],l=Math.min(h[0]||0,h[1]||0)/2;if(y.fillStyle="black",y.fillRect(0,0,f,u),y.fillStyle="white",c&&(typeof c!="number"&&(c=1),c>0?y.strokeStyle="white":y.strokeStyle="black",y.lineWidth=Math.abs(c)),y.translate(f*.5,u*.5),y.scale(l,l),s()){var p=new Path2D(n);y.fill(p),c&&y.stroke(p)}else{var M=R(n);a(y,M),y.fill(),c&&y.stroke()}y.setTransform(1,0,0,1,0,0);var S=T(y,{cutoff:o.cutoff!=null?o.cutoff:.5,radius:o.radius!=null?o.radius:m*.5});return S}var r;function s(){if(r!=null)return r;var n=document.createElement("canvas").getContext("2d");if(n.canvas.width=n.canvas.height=1,!window.Path2D)return r=!1;var o=new Path2D("M0,0h1v1h-1v-1Z");n.fillStyle="black",n.fill(o);var f=n.getImageData(0,0,1,1);return r=f&&f.data&&f.data[3]===255}},84267:function(W,H,e){var g;(function(R){var a=/^\s+/,C=/\s+$/,T=0,v=R.round,y=R.min,t=R.max,r=R.random;function s(ee,ue){if(ee=ee||"",ue=ue||{},ee instanceof s)return ee;if(!(this instanceof s))return new s(ee,ue);var se=n(ee);this._originalInput=ee,this._r=se.r,this._g=se.g,this._b=se.b,this._a=se.a,this._roundA=v(100*this._a)/100,this._format=ue.format||se.format,this._gradientType=ue.gradientType,this._r<1&&(this._r=v(this._r)),this._g<1&&(this._g=v(this._g)),this._b<1&&(this._b=v(this._b)),this._ok=se.ok,this._tc_id=T++}s.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var ee=this.toRgb();return(ee.r*299+ee.g*587+ee.b*114)/1e3},getLuminance:function(){var ee=this.toRgb(),ue,se,he,me,Ce,Te;return ue=ee.r/255,se=ee.g/255,he=ee.b/255,ue<=.03928?me=ue/12.92:me=R.pow((ue+.055)/1.055,2.4),se<=.03928?Ce=se/12.92:Ce=R.pow((se+.055)/1.055,2.4),he<=.03928?Te=he/12.92:Te=R.pow((he+.055)/1.055,2.4),.2126*me+.7152*Ce+.0722*Te},setAlpha:function(ee){return this._a=F(ee),this._roundA=v(100*this._a)/100,this},toHsv:function(){var ee=m(this._r,this._g,this._b);return{h:ee.h*360,s:ee.s,v:ee.v,a:this._a}},toHsvString:function(){var ee=m(this._r,this._g,this._b),ue=v(ee.h*360),se=v(ee.s*100),he=v(ee.v*100);return this._a==1?"hsv("+ue+", "+se+"%, "+he+"%)":"hsva("+ue+", "+se+"%, "+he+"%, "+this._roundA+")"},toHsl:function(){var ee=f(this._r,this._g,this._b);return{h:ee.h*360,s:ee.s,l:ee.l,a:this._a}},toHslString:function(){var ee=f(this._r,this._g,this._b),ue=v(ee.h*360),se=v(ee.s*100),he=v(ee.l*100);return this._a==1?"hsl("+ue+", "+se+"%, "+he+"%)":"hsla("+ue+", "+se+"%, "+he+"%, "+this._roundA+")"},toHex:function(ee){return A(this._r,this._g,this._b,ee)},toHexString:function(ee){return"#"+this.toHex(ee)},toHex8:function(ee){return h(this._r,this._g,this._b,this._a,ee)},toHex8String:function(ee){return"#"+this.toHex8(ee)},toRgb:function(){return{r:v(this._r),g:v(this._g),b:v(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+v(this._r)+", "+v(this._g)+", "+v(this._b)+")":"rgba("+v(this._r)+", "+v(this._g)+", "+v(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:v(V(this._r,255)*100)+"%",g:v(V(this._g,255)*100)+"%",b:v(V(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+v(V(this._r,255)*100)+"%, "+v(V(this._g,255)*100)+"%, "+v(V(this._b,255)*100)+"%)":"rgba("+v(V(this._r,255)*100)+"%, "+v(V(this._g,255)*100)+"%, "+v(V(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:B[A(this._r,this._g,this._b,!0)]||!1},toFilter:function(ee){var ue="#"+l(this._r,this._g,this._b,this._a),se=ue,he=this._gradientType?"GradientType = 1, ":"";if(ee){var me=s(ee);se="#"+l(me._r,me._g,me._b,me._a)}return"progid:DXImageTransform.Microsoft.gradient("+he+"startColorstr="+ue+",endColorstr="+se+")"},toString:function(ee){var ue=!!ee;ee=ee||this._format;var se=!1,he=this._a<1&&this._a>=0,me=!ue&&he&&(ee==="hex"||ee==="hex6"||ee==="hex3"||ee==="hex4"||ee==="hex8"||ee==="name");return me?ee==="name"&&this._a===0?this.toName():this.toRgbString():(ee==="rgb"&&(se=this.toRgbString()),ee==="prgb"&&(se=this.toPercentageRgbString()),(ee==="hex"||ee==="hex6")&&(se=this.toHexString()),ee==="hex3"&&(se=this.toHexString(!0)),ee==="hex4"&&(se=this.toHex8String(!0)),ee==="hex8"&&(se=this.toHex8String()),ee==="name"&&(se=this.toName()),ee==="hsl"&&(se=this.toHslString()),ee==="hsv"&&(se=this.toHsvString()),se||this.toHexString())},clone:function(){return s(this.toString())},_applyModification:function(ee,ue){var se=ee.apply(null,[this].concat([].slice.call(ue)));return this._r=se._r,this._g=se._g,this._b=se._b,this.setAlpha(se._a),this},lighten:function(){return this._applyModification(P,arguments)},brighten:function(){return this._applyModification(x,arguments)},darken:function(){return this._applyModification(E,arguments)},desaturate:function(){return this._applyModification(p,arguments)},saturate:function(){return this._applyModification(M,arguments)},greyscale:function(){return this._applyModification(S,arguments)},spin:function(){return this._applyModification(w,arguments)},_applyCombination:function(ee,ue){return ee.apply(null,[this].concat([].slice.call(ue)))},analogous:function(){return this._applyCombination(_,arguments)},complement:function(){return this._applyCombination(i,arguments)},monochromatic:function(){return this._applyCombination(N,arguments)},splitcomplement:function(){return this._applyCombination(O,arguments)},triad:function(){return this._applyCombination(L,arguments)},tetrad:function(){return this._applyCombination(b,arguments)}},s.fromRatio=function(ee,ue){if(typeof ee=="object"){var se={};for(var he in ee)ee.hasOwnProperty(he)&&(he==="a"?se[he]=ee[he]:se[he]=Q(ee[he]));ee=se}return s(ee,ue)};function n(ee){var ue={r:0,g:0,b:0},se=1,he=null,me=null,Ce=null,Te=!1,Oe=!1;return typeof ee=="string"&&(ee=le(ee)),typeof ee=="object"&&(re(ee.r)&&re(ee.g)&&re(ee.b)?(ue=o(ee.r,ee.g,ee.b),Te=!0,Oe=String(ee.r).substr(-1)==="%"?"prgb":"rgb"):re(ee.h)&&re(ee.s)&&re(ee.v)?(he=Q(ee.s),me=Q(ee.v),ue=c(ee.h,he,me),Te=!0,Oe="hsv"):re(ee.h)&&re(ee.s)&&re(ee.l)&&(he=Q(ee.s),Ce=Q(ee.l),ue=u(ee.h,he,Ce),Te=!0,Oe="hsl"),ee.hasOwnProperty("a")&&(se=ee.a)),se=F(se),{ok:Te,format:ee.format||Oe,r:y(255,t(ue.r,0)),g:y(255,t(ue.g,0)),b:y(255,t(ue.b,0)),a:se}}function o(ee,ue,se){return{r:V(ee,255)*255,g:V(ue,255)*255,b:V(se,255)*255}}function f(ee,ue,se){ee=V(ee,255),ue=V(ue,255),se=V(se,255);var he=t(ee,ue,se),me=y(ee,ue,se),Ce,Te,Oe=(he+me)/2;if(he==me)Ce=Te=0;else{var Ne=he-me;switch(Te=Oe>.5?Ne/(2-he-me):Ne/(he+me),he){case ee:Ce=(ue-se)/Ne+(ue<se?6:0);break;case ue:Ce=(se-ee)/Ne+2;break;case se:Ce=(ee-ue)/Ne+4;break}Ce/=6}return{h:Ce,s:Te,l:Oe}}function u(ee,ue,se){var he,me,Ce;ee=V(ee,360),ue=V(ue,100),se=V(se,100);function Te(Le,be,Ae){return Ae<0&&(Ae+=1),Ae>1&&(Ae-=1),Ae<.16666666666666666?Le+(be-Le)*6*Ae:Ae<.5?be:Ae<.6666666666666666?Le+(be-Le)*(.6666666666666666-Ae)*6:Le}if(ue===0)he=me=Ce=se;else{var Oe=se<.5?se*(1+ue):se+ue-se*ue,Ne=2*se-Oe;he=Te(Ne,Oe,ee+.3333333333333333),me=Te(Ne,Oe,ee),Ce=Te(Ne,Oe,ee-.3333333333333333)}return{r:he*255,g:me*255,b:Ce*255}}function m(ee,ue,se){ee=V(ee,255),ue=V(ue,255),se=V(se,255);var he=t(ee,ue,se),me=y(ee,ue,se),Ce,Te,Oe=he,Ne=he-me;if(Te=he===0?0:Ne/he,he==me)Ce=0;else{switch(he){case ee:Ce=(ue-se)/Ne+(ue<se?6:0);break;case ue:Ce=(se-ee)/Ne+2;break;case se:Ce=(ee-ue)/Ne+4;break}Ce/=6}return{h:Ce,s:Te,v:Oe}}function c(ee,ue,se){ee=V(ee,360)*6,ue=V(ue,100),se=V(se,100);var he=R.floor(ee),me=ee-he,Ce=se*(1-ue),Te=se*(1-me*ue),Oe=se*(1-(1-me)*ue),Ne=he%6,Le=[se,Te,Ce,Ce,Oe,se][Ne],be=[Oe,se,se,Te,Ce,Ce][Ne],Ae=[Ce,Ce,Oe,se,se,Te][Ne];return{r:Le*255,g:be*255,b:Ae*255}}function A(ee,ue,se,he){var me=[ce(v(ee).toString(16)),ce(v(ue).toString(16)),ce(v(se).toString(16))];return he&&me[0].charAt(0)==me[0].charAt(1)&&me[1].charAt(0)==me[1].charAt(1)&&me[2].charAt(0)==me[2].charAt(1)?me[0].charAt(0)+me[1].charAt(0)+me[2].charAt(0):me.join("")}function h(ee,ue,se,he,me){var Ce=[ce(v(ee).toString(16)),ce(v(ue).toString(16)),ce(v(se).toString(16)),ce(Z(he))];return me&&Ce[0].charAt(0)==Ce[0].charAt(1)&&Ce[1].charAt(0)==Ce[1].charAt(1)&&Ce[2].charAt(0)==Ce[2].charAt(1)&&Ce[3].charAt(0)==Ce[3].charAt(1)?Ce[0].charAt(0)+Ce[1].charAt(0)+Ce[2].charAt(0)+Ce[3].charAt(0):Ce.join("")}function l(ee,ue,se,he){var me=[ce(Z(he)),ce(v(ee).toString(16)),ce(v(ue).toString(16)),ce(v(se).toString(16))];return me.join("")}s.equals=function(ee,ue){return!ee||!ue?!1:s(ee).toRgbString()==s(ue).toRgbString()},s.random=function(){return s.fromRatio({r:r(),g:r(),b:r()})};function p(ee,ue){ue=ue===0?0:ue||10;var se=s(ee).toHsl();return se.s-=ue/100,se.s=j(se.s),s(se)}function M(ee,ue){ue=ue===0?0:ue||10;var se=s(ee).toHsl();return se.s+=ue/100,se.s=j(se.s),s(se)}function S(ee){return s(ee).desaturate(100)}function P(ee,ue){ue=ue===0?0:ue||10;var se=s(ee).toHsl();return se.l+=ue/100,se.l=j(se.l),s(se)}function x(ee,ue){ue=ue===0?0:ue||10;var se=s(ee).toRgb();return se.r=t(0,y(255,se.r-v(255*-(ue/100)))),se.g=t(0,y(255,se.g-v(255*-(ue/100)))),se.b=t(0,y(255,se.b-v(255*-(ue/100)))),s(se)}function E(ee,ue){ue=ue===0?0:ue||10;var se=s(ee).toHsl();return se.l-=ue/100,se.l=j(se.l),s(se)}function w(ee,ue){var se=s(ee).toHsl(),he=(se.h+ue)%360;return se.h=he<0?360+he:he,s(se)}function i(ee){var ue=s(ee).toHsl();return ue.h=(ue.h+180)%360,s(ue)}function L(ee){var ue=s(ee).toHsl(),se=ue.h;return[s(ee),s({h:(se+120)%360,s:ue.s,l:ue.l}),s({h:(se+240)%360,s:ue.s,l:ue.l})]}function b(ee){var ue=s(ee).toHsl(),se=ue.h;return[s(ee),s({h:(se+90)%360,s:ue.s,l:ue.l}),s({h:(se+180)%360,s:ue.s,l:ue.l}),s({h:(se+270)%360,s:ue.s,l:ue.l})]}function O(ee){var ue=s(ee).toHsl(),se=ue.h;return[s(ee),s({h:(se+72)%360,s:ue.s,l:ue.l}),s({h:(se+216)%360,s:ue.s,l:ue.l})]}function _(ee,ue,se){ue=ue||6,se=se||30;var he=s(ee).toHsl(),me=360/se,Ce=[s(ee)];for(he.h=(he.h-(me*ue>>1)+720)%360;--ue;)he.h=(he.h+me)%360,Ce.push(s(he));return Ce}function N(ee,ue){ue=ue||6;for(var se=s(ee).toHsv(),he=se.h,me=se.s,Ce=se.v,Te=[],Oe=1/ue;ue--;)Te.push(s({h:he,s:me,v:Ce})),Ce=(Ce+Oe)%1;return Te}s.mix=function(ee,ue,se){se=se===0?0:se||50;var he=s(ee).toRgb(),me=s(ue).toRgb(),Ce=se/100,Te={r:(me.r-he.r)*Ce+he.r,g:(me.g-he.g)*Ce+he.g,b:(me.b-he.b)*Ce+he.b,a:(me.a-he.a)*Ce+he.a};return s(Te)},s.readability=function(ee,ue){var se=s(ee),he=s(ue);return(R.max(se.getLuminance(),he.getLuminance())+.05)/(R.min(se.getLuminance(),he.getLuminance())+.05)},s.isReadable=function(ee,ue,se){var he=s.readability(ee,ue),me,Ce;switch(Ce=!1,me=q(se),me.level+me.size){case"AAsmall":case"AAAlarge":Ce=he>=4.5;break;case"AAlarge":Ce=he>=3;break;case"AAAsmall":Ce=he>=7;break}return Ce},s.mostReadable=function(ee,ue,se){var he=null,me=0,Ce,Te,Oe,Ne;se=se||{},Te=se.includeFallbackColors,Oe=se.level,Ne=se.size;for(var Le=0;Le<ue.length;Le++)Ce=s.readability(ee,ue[Le]),Ce>me&&(me=Ce,he=s(ue[Le]));return s.isReadable(ee,he,{level:Oe,size:Ne})||!Te?he:(se.includeFallbackColors=!1,s.mostReadable(ee,["#fff","#000"],se))};var z=s.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},B=s.hexNames=U(z);function U(ee){var ue={};for(var se in ee)ee.hasOwnProperty(se)&&(ue[ee[se]]=se);return ue}function F(ee){return ee=parseFloat(ee),(isNaN(ee)||ee<0||ee>1)&&(ee=1),ee}function V(ee,ue){ne(ee)&&(ee="100%");var se=oe(ee);return ee=y(ue,t(0,parseFloat(ee))),se&&(ee=parseInt(ee*ue,10)/100),R.abs(ee-ue)<1e-6?1:ee%ue/parseFloat(ue)}function j(ee){return y(1,t(0,ee))}function $(ee){return parseInt(ee,16)}function ne(ee){return typeof ee=="string"&&ee.indexOf(".")!=-1&&parseFloat(ee)===1}function oe(ee){return typeof ee=="string"&&ee.indexOf("%")!=-1}function ce(ee){return ee.length==1?"0"+ee:""+ee}function Q(ee){return ee<=1&&(ee=ee*100+"%"),ee}function Z(ee){return R.round(parseFloat(ee)*255).toString(16)}function K(ee){return $(ee)/255}var J=function(){var ee="[-\\+]?\\d+%?",ue="[-\\+]?\\d*\\.\\d+%?",se="(?:"+ue+")|(?:"+ee+")",he="[\\s|\\(]+("+se+")[,|\\s]+("+se+")[,|\\s]+("+se+")\\s*\\)?",me="[\\s|\\(]+("+se+")[,|\\s]+("+se+")[,|\\s]+("+se+")[,|\\s]+("+se+")\\s*\\)?";return{CSS_UNIT:new RegExp(se),rgb:new RegExp("rgb"+he),rgba:new RegExp("rgba"+me),hsl:new RegExp("hsl"+he),hsla:new RegExp("hsla"+me),hsv:new RegExp("hsv"+he),hsva:new RegExp("hsva"+me),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function re(ee){return!!J.CSS_UNIT.exec(ee)}function le(ee){ee=ee.replace(a,"").replace(C,"").toLowerCase();var ue=!1;if(z[ee])ee=z[ee],ue=!0;else if(ee=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var se;return(se=J.rgb.exec(ee))?{r:se[1],g:se[2],b:se[3]}:(se=J.rgba.exec(ee))?{r:se[1],g:se[2],b:se[3],a:se[4]}:(se=J.hsl.exec(ee))?{h:se[1],s:se[2],l:se[3]}:(se=J.hsla.exec(ee))?{h:se[1],s:se[2],l:se[3],a:se[4]}:(se=J.hsv.exec(ee))?{h:se[1],s:se[2],v:se[3]}:(se=J.hsva.exec(ee))?{h:se[1],s:se[2],v:se[3],a:se[4]}:(se=J.hex8.exec(ee))?{r:$(se[1]),g:$(se[2]),b:$(se[3]),a:K(se[4]),format:ue?"name":"hex8"}:(se=J.hex6.exec(ee))?{r:$(se[1]),g:$(se[2]),b:$(se[3]),format:ue?"name":"hex"}:(se=J.hex4.exec(ee))?{r:$(se[1]+""+se[1]),g:$(se[2]+""+se[2]),b:$(se[3]+""+se[3]),a:K(se[4]+""+se[4]),format:ue?"name":"hex8"}:(se=J.hex3.exec(ee))?{r:$(se[1]+""+se[1]),g:$(se[2]+""+se[2]),b:$(se[3]+""+se[3]),format:ue?"name":"hex"}:!1}function q(ee){var ue,se;return ee=ee||{level:"AA",size:"small"},ue=(ee.level||"AA").toUpperCase(),se=(ee.size||"small").toLowerCase(),ue!=="AA"&&ue!=="AAA"&&(ue="AA"),se!=="small"&&se!=="large"&&(se="small"),{level:ue,size:se}}W.exports?W.exports=s:(g=(function(){return s}).call(H,e,H,W),g!==void 0&&(W.exports=g))})(Math)},57060:function(W){W.exports=g,W.exports.float32=W.exports.float=g,W.exports.fract32=W.exports.fract=e;var H=new Float32Array(1);function e(R,a){if(R.length){if(R instanceof Float32Array)return new Float32Array(R.length);a instanceof Float32Array||(a=g(R));for(var C=0,T=a.length;C<T;C++)a[C]=R[C]-a[C];return a}return g(R-g(R))}function g(R){return R.length?R instanceof Float32Array?R:new Float32Array(R):(H[0]=R,H[0])}},75686:function(W,H,e){var g=e(25677);W.exports=T;var R=96;function a(v,y){var t=g(getComputedStyle(v).getPropertyValue(y));return t[0]*T(t[1],v)}function C(v,y){var t=document.createElement("div");t.style["font-size"]="128"+v,y.appendChild(t);var r=a(t,"font-size")/128;return y.removeChild(t),r}function T(v,y){switch(y=y||document.body,v=(v||"px").trim().toLowerCase(),(y===window||y===document)&&(y=document.body),v){case"%":return y.clientHeight/100;case"ch":case"ex":return C(v,y);case"em":return a(y,"font-size");case"rem":return a(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return R;case"cm":return R/2.54;case"mm":return R/25.4;case"pt":return R/72;case"pc":return R/6}return 1}},96892:function(W,H,e){e.d(H,{zL:function(){return C}});function g(y,t){for(var r,s=y.length,n=s-t;n<--s;)r=y[n],y[n++]=y[s],y[s]=r}function R(y){return y}function a(y){if(y==null)return R;var t,r,s=y.scale[0],n=y.scale[1],o=y.translate[0],f=y.translate[1];return function(u,m){m||(t=r=0);var c=2,A=u.length,h=new Array(A);for(h[0]=(t+=u[0])*s+o,h[1]=(r+=u[1])*n+f;c<A;)h[c]=u[c],++c;return h}}function C(y,t){return typeof t=="string"&&(t=y.objects[t]),t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(r){return T(y,r)})}:T(y,t)}function T(y,t){var r=t.id,s=t.bbox,n=t.properties==null?{}:t.properties,o=v(y,t);return r==null&&s==null?{type:"Feature",properties:n,geometry:o}:s==null?{type:"Feature",id:r,properties:n,geometry:o}:{type:"Feature",id:r,bbox:s,properties:n,geometry:o}}function v(y,t){var r=a(y.transform),s=y.arcs;function n(A,h){h.length&&h.pop();for(var l=s[A<0?~A:A],p=0,M=l.length;p<M;++p)h.push(r(l[p],p));A<0&&g(h,M)}function o(A){return r(A)}function f(A){for(var h=[],l=0,p=A.length;l<p;++l)n(A[l],h);return h.length<2&&h.push(h[0]),h}function u(A){for(var h=f(A);h.length<4;)h.push(h[0]);return h}function m(A){return A.map(u)}function c(A){var h=A.type,l;switch(h){case"GeometryCollection":return{type:h,geometries:A.geometries.map(c)};case"Point":l=o(A.coordinates);break;case"MultiPoint":l=A.coordinates.map(o);break;case"LineString":l=f(A.arcs);break;case"MultiLineString":l=A.arcs.map(f);break;case"Polygon":l=m(A.arcs);break;case"MultiPolygon":l=A.arcs.map(m);break;default:return null}return{type:h,coordinates:l}}return c(t)}},73116:function(W,H,e){var g=e(24511);W.exports=function(R){if(typeof R!="function"||!hasOwnProperty.call(R,"length"))return!1;try{if(typeof R.length!="number"||typeof R.call!="function"||typeof R.apply!="function")return!1}catch{return!1}return!g(R)}},69190:function(W,H,e){var g=e(24582),R=e(47403),a=e(9234),C=e(6048),T=function(v,y){return v.replace("%v",C(y))};W.exports=function(v,y,t){if(!R(t))throw new TypeError(T(y,v));if(!g(v)){if("default"in t)return t.default;if(t.isOptional)return null}var r=a(t.errorMessage);throw g(r)||(r=y),new TypeError(T(r,v))}},18497:function(W){W.exports=function(H){try{return H.toString()}catch{try{return String(H)}catch{return null}}}},6048:function(W,H,e){var g=e(18497),R=/[\n\r\u2028\u2029]/g;W.exports=function(a){var C=g(a);return C===null?"<Non-coercible to string value>":(C.length>100&&(C=C.slice(0,99)+""),C=C.replace(R,function(T){switch(T){case`
`:return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}}),C)}},47403:function(W,H,e){var g=e(24582),R={object:!0,function:!0,undefined:!0};W.exports=function(a){return g(a)?hasOwnProperty.call(R,typeof a):!1}},82527:function(W,H,e){var g=e(69190),R=e(84985);W.exports=function(a){return R(a)?a:g(a,"%v is not a plain function",arguments[1])}},84985:function(W,H,e){var g=e(73116),R=/^\s*class[\s{/}]/,a=Function.prototype.toString;W.exports=function(C){return!(!g(C)||R.test(a.call(C)))}},24511:function(W,H,e){var g=e(47403);W.exports=function(R){if(!g(R))return!1;try{return R.constructor?R.constructor.prototype===R:!1}catch{return!1}}},9234:function(W,H,e){var g=e(24582),R=e(47403),a=Object.prototype.toString;W.exports=function(C){if(!g(C))return null;if(R(C)){var T=C.toString;if(typeof T!="function"||T===a)return null}try{return""+C}catch{return null}}},10424:function(W,H,e){var g=e(69190),R=e(24582);W.exports=function(a){return R(a)?a:g(a,"Cannot use %v",arguments[1])}},24582:function(W){var H=void 0;W.exports=function(e){return e!==H&&e!==null}},58404:function(W,H,e){var g=e(13547),R=e(12129),a=e(12856).Buffer;e.g.__TYPEDARRAY_POOL||(e.g.__TYPEDARRAY_POOL={UINT8:R([32,0]),UINT16:R([32,0]),UINT32:R([32,0]),BIGUINT64:R([32,0]),INT8:R([32,0]),INT16:R([32,0]),INT32:R([32,0]),BIGINT64:R([32,0]),FLOAT:R([32,0]),DOUBLE:R([32,0]),DATA:R([32,0]),UINT8C:R([32,0]),BUFFER:R([32,0])});var C=typeof Uint8ClampedArray<"u",T=typeof BigUint64Array<"u",v=typeof BigInt64Array<"u",y=e.g.__TYPEDARRAY_POOL;y.UINT8C||(y.UINT8C=R([32,0])),y.BIGUINT64||(y.BIGUINT64=R([32,0])),y.BIGINT64||(y.BIGINT64=R([32,0])),y.BUFFER||(y.BUFFER=R([32,0]));var t=y.DATA,r=y.BUFFER;H.free=function(i){if(a.isBuffer(i))r[g.log2(i.length)].push(i);else{if(Object.prototype.toString.call(i)!=="[object ArrayBuffer]"&&(i=i.buffer),!i)return;var L=i.length||i.byteLength,b=g.log2(L)|0;t[b].push(i)}};function s(w){if(w){var i=w.length||w.byteLength,L=g.log2(i);t[L].push(w)}}function n(w){s(w.buffer)}H.freeUint8=H.freeUint16=H.freeUint32=H.freeBigUint64=H.freeInt8=H.freeInt16=H.freeInt32=H.freeBigInt64=H.freeFloat32=H.freeFloat=H.freeFloat64=H.freeDouble=H.freeUint8Clamped=H.freeDataView=n,H.freeArrayBuffer=s,H.freeBuffer=function(i){r[g.log2(i.length)].push(i)},H.malloc=function(i,L){if(L===void 0||L==="arraybuffer")return o(i);switch(L){case"uint8":return f(i);case"uint16":return u(i);case"uint32":return m(i);case"int8":return c(i);case"int16":return A(i);case"int32":return h(i);case"float":case"float32":return l(i);case"double":case"float64":return p(i);case"uint8_clamped":return M(i);case"bigint64":return P(i);case"biguint64":return S(i);case"buffer":return E(i);case"data":case"dataview":return x(i);default:return null}return null};function o(i){var i=g.nextPow2(i),L=g.log2(i),b=t[L];return b.length>0?b.pop():new ArrayBuffer(i)}H.mallocArrayBuffer=o;function f(w){return new Uint8Array(o(w),0,w)}H.mallocUint8=f;function u(w){return new Uint16Array(o(2*w),0,w)}H.mallocUint16=u;function m(w){return new Uint32Array(o(4*w),0,w)}H.mallocUint32=m;function c(w){return new Int8Array(o(w),0,w)}H.mallocInt8=c;function A(w){return new Int16Array(o(2*w),0,w)}H.mallocInt16=A;function h(w){return new Int32Array(o(4*w),0,w)}H.mallocInt32=h;function l(w){return new Float32Array(o(4*w),0,w)}H.mallocFloat32=H.mallocFloat=l;function p(w){return new Float64Array(o(8*w),0,w)}H.mallocFloat64=H.mallocDouble=p;function M(w){return C?new Uint8ClampedArray(o(w),0,w):f(w)}H.mallocUint8Clamped=M;function S(w){return T?new BigUint64Array(o(8*w),0,w):null}H.mallocBigUint64=S;function P(w){return v?new BigInt64Array(o(8*w),0,w):null}H.mallocBigInt64=P;function x(w){return new DataView(o(w),0,w)}H.mallocDataView=x;function E(w){w=g.nextPow2(w);var i=g.log2(w),L=r[i];return L.length>0?L.pop():new a(w)}H.mallocBuffer=E,H.clearCache=function(){for(var i=0;i<32;++i)y.UINT8[i].length=0,y.UINT16[i].length=0,y.UINT32[i].length=0,y.INT8[i].length=0,y.INT16[i].length=0,y.INT32[i].length=0,y.FLOAT[i].length=0,y.DOUBLE[i].length=0,y.BIGUINT64[i].length=0,y.BIGINT64[i].length=0,y.UINT8C[i].length=0,t[i].length=0,r[i].length=0}},90448:function(W){var H=/[\'\"]/;W.exports=function(g){return g?(H.test(g.charAt(0))&&(g=g.substr(1)),H.test(g.charAt(g.length-1))&&(g=g.substr(0,g.length-1)),g):""}},93447:function(W){W.exports=function(e,g,R){Array.isArray(R)||(R=[].slice.call(arguments,2));for(var a=0,C=R.length;a<C;a++){var T=R[a];for(var v in T)if(!(g[v]!==void 0&&!Array.isArray(g[v])&&e[v]===g[v])&&v in g){var y;if(T[v]===!0)y=g[v];else{if(T[v]===!1)continue;if(typeof T[v]=="function"&&(y=T[v](g[v],e,g),y===void 0))continue}e[v]=y}}return e}},20588:function(W,H,e){W.exports=g;function g(a,C){if(R("noDeprecation"))return a;var T=!1;function v(){if(!T){if(R("throwDeprecation"))throw new Error(C);R("traceDeprecation")?console.trace(C):console.warn(C),T=!0}return a.apply(this,arguments)}return v}function R(a){try{if(!e.g.localStorage)return!1}catch{return!1}var C=e.g.localStorage[a];return C==null?!1:String(C).toLowerCase()==="true"}},45920:function(W){W.exports=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}},4936:function(W,H,e){var g=e(47216),R=e(65481),a=e(21099),C=e(9187);function T(Ce){return Ce.call.bind(Ce)}var v=typeof BigInt<"u",y=typeof Symbol<"u",t=T(Object.prototype.toString),r=T(Number.prototype.valueOf),s=T(String.prototype.valueOf),n=T(Boolean.prototype.valueOf);if(v)var o=T(BigInt.prototype.valueOf);if(y)var f=T(Symbol.prototype.valueOf);function u(Ce,Te){if(typeof Ce!="object")return!1;try{return Te(Ce),!0}catch{return!1}}H.isArgumentsObject=g,H.isGeneratorFunction=R,H.isTypedArray=C;function m(Ce){return typeof Promise<"u"&&Ce instanceof Promise||Ce!==null&&typeof Ce=="object"&&typeof Ce.then=="function"&&typeof Ce.catch=="function"}H.isPromise=m;function c(Ce){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(Ce):C(Ce)||$(Ce)}H.isArrayBufferView=c;function A(Ce){return a(Ce)==="Uint8Array"}H.isUint8Array=A;function h(Ce){return a(Ce)==="Uint8ClampedArray"}H.isUint8ClampedArray=h;function l(Ce){return a(Ce)==="Uint16Array"}H.isUint16Array=l;function p(Ce){return a(Ce)==="Uint32Array"}H.isUint32Array=p;function M(Ce){return a(Ce)==="Int8Array"}H.isInt8Array=M;function S(Ce){return a(Ce)==="Int16Array"}H.isInt16Array=S;function P(Ce){return a(Ce)==="Int32Array"}H.isInt32Array=P;function x(Ce){return a(Ce)==="Float32Array"}H.isFloat32Array=x;function E(Ce){return a(Ce)==="Float64Array"}H.isFloat64Array=E;function w(Ce){return a(Ce)==="BigInt64Array"}H.isBigInt64Array=w;function i(Ce){return a(Ce)==="BigUint64Array"}H.isBigUint64Array=i;function L(Ce){return t(Ce)==="[object Map]"}L.working=typeof Map<"u"&&L(new Map);function b(Ce){return typeof Map>"u"?!1:L.working?L(Ce):Ce instanceof Map}H.isMap=b;function O(Ce){return t(Ce)==="[object Set]"}O.working=typeof Set<"u"&&O(new Set);function _(Ce){return typeof Set>"u"?!1:O.working?O(Ce):Ce instanceof Set}H.isSet=_;function N(Ce){return t(Ce)==="[object WeakMap]"}N.working=typeof WeakMap<"u"&&N(new WeakMap);function z(Ce){return typeof WeakMap>"u"?!1:N.working?N(Ce):Ce instanceof WeakMap}H.isWeakMap=z;function B(Ce){return t(Ce)==="[object WeakSet]"}B.working=typeof WeakSet<"u"&&B(new WeakSet);function U(Ce){return B(Ce)}H.isWeakSet=U;function F(Ce){return t(Ce)==="[object ArrayBuffer]"}F.working=typeof ArrayBuffer<"u"&&F(new ArrayBuffer);function V(Ce){return typeof ArrayBuffer>"u"?!1:F.working?F(Ce):Ce instanceof ArrayBuffer}H.isArrayBuffer=V;function j(Ce){return t(Ce)==="[object DataView]"}j.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&j(new DataView(new ArrayBuffer(1),0,1));function $(Ce){return typeof DataView>"u"?!1:j.working?j(Ce):Ce instanceof DataView}H.isDataView=$;var ne=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function oe(Ce){return t(Ce)==="[object SharedArrayBuffer]"}function ce(Ce){return typeof ne>"u"?!1:(typeof oe.working>"u"&&(oe.working=oe(new ne)),oe.working?oe(Ce):Ce instanceof ne)}H.isSharedArrayBuffer=ce;function Q(Ce){return t(Ce)==="[object AsyncFunction]"}H.isAsyncFunction=Q;function Z(Ce){return t(Ce)==="[object Map Iterator]"}H.isMapIterator=Z;function K(Ce){return t(Ce)==="[object Set Iterator]"}H.isSetIterator=K;function J(Ce){return t(Ce)==="[object Generator]"}H.isGeneratorObject=J;function re(Ce){return t(Ce)==="[object WebAssembly.Module]"}H.isWebAssemblyCompiledModule=re;function le(Ce){return u(Ce,r)}H.isNumberObject=le;function q(Ce){return u(Ce,s)}H.isStringObject=q;function ee(Ce){return u(Ce,n)}H.isBooleanObject=ee;function ue(Ce){return v&&u(Ce,o)}H.isBigIntObject=ue;function se(Ce){return y&&u(Ce,f)}H.isSymbolObject=se;function he(Ce){return le(Ce)||q(Ce)||ee(Ce)||ue(Ce)||se(Ce)}H.isBoxedPrimitive=he;function me(Ce){return typeof Uint8Array<"u"&&(V(Ce)||ce(Ce))}H.isAnyArrayBuffer=me,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(Ce){Object.defineProperty(H,Ce,{enumerable:!1,value:function(){throw new Error(Ce+" is not supported in userland")}})})},43827:function(W,H,e){var g=e(90386),R=Object.getOwnPropertyDescriptors||function(ne){for(var oe=Object.keys(ne),ce={},Q=0;Q<oe.length;Q++)ce[oe[Q]]=Object.getOwnPropertyDescriptor(ne,oe[Q]);return ce},a=/%[sdj%]/g;H.format=function($){if(!S($)){for(var ne=[],oe=0;oe<arguments.length;oe++)ne.push(y(arguments[oe]));return ne.join(" ")}for(var oe=1,ce=arguments,Q=ce.length,Z=String($).replace(a,function(J){if(J==="%%")return"%";if(oe>=Q)return J;switch(J){case"%s":return String(ce[oe++]);case"%d":return Number(ce[oe++]);case"%j":try{return JSON.stringify(ce[oe++])}catch{return"[Circular]"}default:return J}}),K=ce[oe];oe<Q;K=ce[++oe])l(K)||!w(K)?Z+=" "+K:Z+=" "+y(K);return Z},H.deprecate=function($,ne){if(typeof g<"u"&&g.noDeprecation===!0)return $;if(typeof g>"u")return function(){return H.deprecate($,ne).apply(this,arguments)};var oe=!1;function ce(){if(!oe){if(g.throwDeprecation)throw new Error(ne);g.traceDeprecation?console.trace(ne):console.error(ne),oe=!0}return $.apply(this,arguments)}return ce};var C={},T=/^$/;if(g.env.NODE_DEBUG){var v=g.env.NODE_DEBUG;v=v.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),T=new RegExp("^"+v+"$","i")}H.debuglog=function($){if($=$.toUpperCase(),!C[$])if(T.test($)){var ne=g.pid;C[$]=function(){var oe=H.format.apply(H,arguments);console.error("%s %d: %s",$,ne,oe)}}else C[$]=function(){};return C[$]};function y($,ne){var oe={seen:[],stylize:r};return arguments.length>=3&&(oe.depth=arguments[2]),arguments.length>=4&&(oe.colors=arguments[3]),h(ne)?oe.showHidden=ne:ne&&H._extend(oe,ne),x(oe.showHidden)&&(oe.showHidden=!1),x(oe.depth)&&(oe.depth=2),x(oe.colors)&&(oe.colors=!1),x(oe.customInspect)&&(oe.customInspect=!0),oe.colors&&(oe.stylize=t),n(oe,$,oe.depth)}H.inspect=y,y.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},y.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function t($,ne){var oe=y.styles[ne];return oe?"\x1B["+y.colors[oe][0]+"m"+$+"\x1B["+y.colors[oe][1]+"m":$}function r($,ne){return $}function s($){var ne={};return $.forEach(function(oe,ce){ne[oe]=!0}),ne}function n($,ne,oe){if($.customInspect&&ne&&b(ne.inspect)&&ne.inspect!==H.inspect&&!(ne.constructor&&ne.constructor.prototype===ne)){var ce=ne.inspect(oe,$);return S(ce)||(ce=n($,ce,oe)),ce}var Q=o($,ne);if(Q)return Q;var Z=Object.keys(ne),K=s(Z);if($.showHidden&&(Z=Object.getOwnPropertyNames(ne)),L(ne)&&(Z.indexOf("message")>=0||Z.indexOf("description")>=0))return f(ne);if(Z.length===0){if(b(ne)){var J=ne.name?": "+ne.name:"";return $.stylize("[Function"+J+"]","special")}if(E(ne))return $.stylize(RegExp.prototype.toString.call(ne),"regexp");if(i(ne))return $.stylize(Date.prototype.toString.call(ne),"date");if(L(ne))return f(ne)}var re="",le=!1,q=["{","}"];if(A(ne)&&(le=!0,q=["[","]"]),b(ne)){var ee=ne.name?": "+ne.name:"";re=" [Function"+ee+"]"}if(E(ne)&&(re=" "+RegExp.prototype.toString.call(ne)),i(ne)&&(re=" "+Date.prototype.toUTCString.call(ne)),L(ne)&&(re=" "+f(ne)),Z.length===0&&(!le||ne.length==0))return q[0]+re+q[1];if(oe<0)return E(ne)?$.stylize(RegExp.prototype.toString.call(ne),"regexp"):$.stylize("[Object]","special");$.seen.push(ne);var ue;return le?ue=u($,ne,oe,K,Z):ue=Z.map(function(se){return m($,ne,oe,K,se,le)}),$.seen.pop(),c(ue,re,q)}function o($,ne){if(x(ne))return $.stylize("undefined","undefined");if(S(ne)){var oe="'"+JSON.stringify(ne).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return $.stylize(oe,"string")}if(M(ne))return $.stylize(""+ne,"number");if(h(ne))return $.stylize(""+ne,"boolean");if(l(ne))return $.stylize("null","null")}function f($){return"["+Error.prototype.toString.call($)+"]"}function u($,ne,oe,ce,Q){for(var Z=[],K=0,J=ne.length;K<J;++K)U(ne,String(K))?Z.push(m($,ne,oe,ce,String(K),!0)):Z.push("");return Q.forEach(function(re){re.match(/^\d+$/)||Z.push(m($,ne,oe,ce,re,!0))}),Z}function m($,ne,oe,ce,Q,Z){var K,J,re;if(re=Object.getOwnPropertyDescriptor(ne,Q)||{value:ne[Q]},re.get?re.set?J=$.stylize("[Getter/Setter]","special"):J=$.stylize("[Getter]","special"):re.set&&(J=$.stylize("[Setter]","special")),U(ce,Q)||(K="["+Q+"]"),J||($.seen.indexOf(re.value)<0?(l(oe)?J=n($,re.value,null):J=n($,re.value,oe-1),J.indexOf(`
`)>-1&&(Z?J=J.split(`
`).map(function(le){return"  "+le}).join(`
`).slice(2):J=`
`+J.split(`
`).map(function(le){return"   "+le}).join(`
`))):J=$.stylize("[Circular]","special")),x(K)){if(Z&&Q.match(/^\d+$/))return J;K=JSON.stringify(""+Q),K.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(K=K.slice(1,-1),K=$.stylize(K,"name")):(K=K.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),K=$.stylize(K,"string"))}return K+": "+J}function c($,ne,oe){var ce=$.reduce(function(Q,Z){return Z.indexOf(`
`)>=0,Q+Z.replace(/\u001b\[\d\d?m/g,"").length+1},0);return ce>60?oe[0]+(ne===""?"":ne+`
 `)+" "+$.join(`,
  `)+" "+oe[1]:oe[0]+ne+" "+$.join(", ")+" "+oe[1]}H.types=e(4936);function A($){return Array.isArray($)}H.isArray=A;function h($){return typeof $=="boolean"}H.isBoolean=h;function l($){return $===null}H.isNull=l;function p($){return $==null}H.isNullOrUndefined=p;function M($){return typeof $=="number"}H.isNumber=M;function S($){return typeof $=="string"}H.isString=S;function P($){return typeof $=="symbol"}H.isSymbol=P;function x($){return $===void 0}H.isUndefined=x;function E($){return w($)&&_($)==="[object RegExp]"}H.isRegExp=E,H.types.isRegExp=E;function w($){return typeof $=="object"&&$!==null}H.isObject=w;function i($){return w($)&&_($)==="[object Date]"}H.isDate=i,H.types.isDate=i;function L($){return w($)&&(_($)==="[object Error]"||$ instanceof Error)}H.isError=L,H.types.isNativeError=L;function b($){return typeof $=="function"}H.isFunction=b;function O($){return $===null||typeof $=="boolean"||typeof $=="number"||typeof $=="string"||typeof $=="symbol"||typeof $>"u"}H.isPrimitive=O,H.isBuffer=e(45920);function _($){return Object.prototype.toString.call($)}function N($){return $<10?"0"+$.toString(10):$.toString(10)}var z=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function B(){var $=new Date,ne=[N($.getHours()),N($.getMinutes()),N($.getSeconds())].join(":");return[$.getDate(),z[$.getMonth()],ne].join(" ")}H.log=function(){console.log("%s - %s",B(),H.format.apply(H,arguments))},H.inherits=e(42018),H._extend=function($,ne){if(!ne||!w(ne))return $;for(var oe=Object.keys(ne),ce=oe.length;ce--;)$[oe[ce]]=ne[oe[ce]];return $};function U($,ne){return Object.prototype.hasOwnProperty.call($,ne)}var F=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;H.promisify=function(ne){if(typeof ne!="function")throw new TypeError('The "original" argument must be of type Function');if(F&&ne[F]){var oe=ne[F];if(typeof oe!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(oe,F,{value:oe,enumerable:!1,writable:!1,configurable:!0}),oe}function oe(){for(var ce,Q,Z=new Promise(function(re,le){ce=re,Q=le}),K=[],J=0;J<arguments.length;J++)K.push(arguments[J]);K.push(function(re,le){re?Q(re):ce(le)});try{ne.apply(this,K)}catch(re){Q(re)}return Z}return Object.setPrototypeOf(oe,Object.getPrototypeOf(ne)),F&&Object.defineProperty(oe,F,{value:oe,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(oe,R(ne))},H.promisify.custom=F;function V($,ne){if(!$){var oe=new Error("Promise was rejected with a falsy value");oe.reason=$,$=oe}return ne($)}function j($){if(typeof $!="function")throw new TypeError('The "original" argument must be of type Function');function ne(){for(var oe=[],ce=0;ce<arguments.length;ce++)oe.push(arguments[ce]);var Q=oe.pop();if(typeof Q!="function")throw new TypeError("The last argument must be of type Function");var Z=this,K=function(){return Q.apply(Z,arguments)};$.apply(this,oe).then(function(J){g.nextTick(K.bind(null,null,J))},function(J){g.nextTick(V.bind(null,J,K))})}return Object.setPrototypeOf(ne,Object.getPrototypeOf($)),Object.defineProperties(ne,R($)),ne}H.callbackify=j},40372:function(W,H,e){var g=e(86249);W.exports=function(a){return g("webgl",a)}},21099:function(W,H,e){var g=e(31353),R=e(72077),a=e(6614),C=e(40383),T=a("Object.prototype.toString"),v=e(84543)(),y=typeof globalThis>"u"?e.g:globalThis,t=R(),r=a("String.prototype.slice"),s={},n=Object.getPrototypeOf;v&&C&&n&&g(t,function(u){if(typeof y[u]=="function"){var m=new y[u];if(Symbol.toStringTag in m){var c=n(m),A=C(c,Symbol.toStringTag);if(!A){var h=n(c);A=C(h,Symbol.toStringTag)}s[u]=A.get}}});var o=function(m){var c=!1;return g(s,function(A,h){if(!c)try{var l=A.call(m);l===h&&(c=l)}catch{}}),c},f=e(9187);W.exports=function(m){return f(m)?!v||!(Symbol.toStringTag in m)?r(T(m),8,-1):o(m):!1}},3961:function(W,H,e){var g=e(63489),R=e(56131),a=g.instance();function C(f){this.local=this.regionalOptions[f||""]||this.regionalOptions[""]}C.prototype=new g.baseCalendar,R(C.prototype,{name:"Chinese",jdEpoch:17214255e-1,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(f,u){if(typeof f=="string"){var m=f.match(v);return m?m[0]:""}var c=this._validateYear(f),A=f.month(),h=""+this.toChineseMonth(c,A);return u&&h.length<2&&(h="0"+h),this.isIntercalaryMonth(c,A)&&(h+="i"),h},monthNames:function(f){if(typeof f=="string"){var u=f.match(y);return u?u[0]:""}var m=this._validateYear(f),c=f.month(),A=this.toChineseMonth(m,c),h=["","","","","","","","","","","",""][A-1];return this.isIntercalaryMonth(m,c)&&(h=""+h),h},monthNamesShort:function(f){if(typeof f=="string"){var u=f.match(t);return u?u[0]:""}var m=this._validateYear(f),c=f.month(),A=this.toChineseMonth(m,c),h=["","","","","","","","","","","",""][A-1];return this.isIntercalaryMonth(m,c)&&(h=""+h),h},parseMonth:function(f,u){f=this._validateYear(f);var m=parseInt(u),c;if(isNaN(m))u[0]===""&&(c=!0,u=u.substring(1)),u[u.length-1]===""&&(u=u.substring(0,u.length-1)),m=1+["","","","","","","","","","","",""].indexOf(u);else{var A=u[u.length-1];c=A==="i"||A==="I"}var h=this.toMonthIndex(f,m,c);return h},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(f,u){if(f.year&&(f=f.year()),typeof f!="number"||f<1888||f>2111)throw u.replace(/\{0\}/,this.local.name);return f},toMonthIndex:function(f,u,m){var c=this.intercalaryMonth(f),A=m&&u!==c;if(A||u<1||u>12)throw g.local.invalidMonth.replace(/\{0\}/,this.local.name);var h;return c?!m&&u<=c?h=u-1:h=u:h=u-1,h},toChineseMonth:function(f,u){f.year&&(f=f.year(),u=f.month());var m=this.intercalaryMonth(f),c=m?12:11;if(u<0||u>c)throw g.local.invalidMonth.replace(/\{0\}/,this.local.name);var A;return m?u<m?A=u+1:A=u:A=u+1,A},intercalaryMonth:function(f){f=this._validateYear(f);var u=r[f-r[0]],m=u>>13;return m},isIntercalaryMonth:function(f,u){f.year&&(f=f.year(),u=f.month());var m=this.intercalaryMonth(f);return!!m&&m===u},leapYear:function(f){return this.intercalaryMonth(f)!==0},weekOfYear:function(f,u,m){var c=this._validateYear(f,g.local.invalidyear),A=s[c-s[0]],h=A>>9&4095,l=A>>5&15,p=A&31,M;M=a.newDate(h,l,p),M.add(4-(M.dayOfWeek()||7),"d");var S=this.toJD(f,u,m)-M.toJD();return 1+Math.floor(S/7)},monthsInYear:function(f){return this.leapYear(f)?13:12},daysInMonth:function(f,u){f.year&&(u=f.month(),f=f.year()),f=this._validateYear(f);var m=r[f-r[0]],c=m>>13,A=c?12:11;if(u>A)throw g.local.invalidMonth.replace(/\{0\}/,this.local.name);var h=m&1<<12-u?30:29;return h},weekDay:function(f,u,m){return(this.dayOfWeek(f,u,m)||7)<6},toJD:function(f,u,m){var c=this._validate(f,h,m,g.local.invalidDate);f=this._validateYear(c.year()),u=c.month(),m=c.day();var A=this.isIntercalaryMonth(f,u),h=this.toChineseMonth(f,u),l=o(f,h,m,A);return a.toJD(l.year,l.month,l.day)},fromJD:function(f){var u=a.fromJD(f),m=n(u.year(),u.month(),u.day()),c=this.toMonthIndex(m.year,m.month,m.isIntercalary);return this.newDate(m.year,c,m.day)},fromString:function(f){var u=f.match(T),m=this._validateYear(+u[1]),c=+u[2],A=!!u[3],h=this.toMonthIndex(m,c,A),l=+u[4];return this.newDate(m,h,l)},add:function(f,u,m){var c=f.year(),A=f.month(),h=this.isIntercalaryMonth(c,A),l=this.toChineseMonth(c,A),p=Object.getPrototypeOf(C.prototype).add.call(this,f,u,m);if(m==="y"){var M=p.year(),S=p.month(),P=this.isIntercalaryMonth(M,l),x=h&&P?this.toMonthIndex(M,l,!0):this.toMonthIndex(M,l,!1);x!==S&&p.month(x)}return p}});var T=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,v=/^\d?\d[iI]?/m,y=/^??[]?/m,t=/^??[]?/m;g.calendars.chinese=C;var r=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],s=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904];function n(f,u,m,c){var A,h;if(typeof f=="object")A=f,h=u||{};else{var l=typeof f=="number"&&f>=1888&&f<=2111;if(!l)throw new Error("Solar year outside range 1888-2111");var p=typeof u=="number"&&u>=1&&u<=12;if(!p)throw new Error("Solar month outside range 1 - 12");var M=typeof m=="number"&&m>=1&&m<=31;if(!M)throw new Error("Solar day outside range 1 - 31");A={year:f,month:u,day:m},h=c||{}}var S=s[A.year-s[0]],P=A.year<<9|A.month<<5|A.day;h.year=P>=S?A.year:A.year-1,S=s[h.year-s[0]];var x=S>>9&4095,E=S>>5&15,w=S&31,i,L=new Date(x,E-1,w),b=new Date(A.year,A.month-1,A.day);i=Math.round((b-L)/864e5);var O=r[h.year-r[0]],_;for(_=0;_<13;_++){var N=O&1<<12-_?30:29;if(i<N)break;i-=N}var z=O>>13;return!z||_<z?(h.isIntercalary=!1,h.month=1+_):_===z?(h.isIntercalary=!0,h.month=_):(h.isIntercalary=!1,h.month=_),h.day=1+i,h}function o(f,u,m,c,A){var h,l;if(typeof f=="object")l=f,h=u||{};else{var p=typeof f=="number"&&f>=1888&&f<=2111;if(!p)throw new Error("Lunar year outside range 1888-2111");var M=typeof u=="number"&&u>=1&&u<=12;if(!M)throw new Error("Lunar month outside range 1 - 12");var S=typeof m=="number"&&m>=1&&m<=30;if(!S)throw new Error("Lunar day outside range 1 - 30");var P;typeof c=="object"?(P=!1,h=c):(P=!!c,h=A||{}),l={year:f,month:u,day:m,isIntercalary:P}}var x;x=l.day-1;var E=r[l.year-r[0]],w=E>>13,i;w&&(l.month>w||l.isIntercalary)?i=l.month:i=l.month-1;for(var L=0;L<i;L++){var b=E&1<<12-L?30:29;x+=b}var O=s[l.year-s[0]],_=O>>9&4095,N=O>>5&15,z=O&31,B=new Date(_,N-1,z+x);return h.year=B.getFullYear(),h.month=1+B.getMonth(),h.day=B.getDate(),h}},38751:function(W,H,e){var g=e(63489),R=e(56131);function a(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar,R(a.prototype,{name:"Coptic",jdEpoch:18250295e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var T=this._validate(v,this.minMonth,this.minDay,g.local.invalidYear),v=T.year()+(T.year()<0?1:0);return v%4===3||v%4===-1},monthsInYear:function(C){return this._validate(C,this.minMonth,this.minDay,g.local.invalidYear||g.regionalOptions[""].invalidYear),13},weekOfYear:function(C,T,v){var y=this.newDate(C,T,v);return y.add(-y.dayOfWeek(),"d"),Math.floor((y.dayOfYear()-1)/7)+1},daysInMonth:function(C,T){var v=this._validate(C,T,this.minDay,g.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===13&&this.leapYear(v.year())?1:0)},weekDay:function(C,T,v){return(this.dayOfWeek(C,T,v)||7)<6},toJD:function(C,T,v){var y=this._validate(C,T,v,g.local.invalidDate);return C=y.year(),C<0&&C++,y.day()+(y.month()-1)*30+(C-1)*365+Math.floor(C/4)+this.jdEpoch-1},fromJD:function(C){var T=Math.floor(C)+.5-this.jdEpoch,v=Math.floor((T-Math.floor((T+366)/1461))/365)+1;v<=0&&v--,T=Math.floor(C)+.5-this.newDate(v,1,1).toJD();var y=Math.floor(T/30)+1,t=T-(y-1)*30+1;return this.newDate(v,y,t)}}),g.calendars.coptic=a},86825:function(W,H,e){var g=e(63489),R=e(56131);function a(T){this.local=this.regionalOptions[T||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar,R(a.prototype,{name:"Discworld",jdEpoch:17214255e-1,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(T){return this._validate(T,this.minMonth,this.minDay,g.local.invalidYear),!1},monthsInYear:function(T){return this._validate(T,this.minMonth,this.minDay,g.local.invalidYear),13},daysInYear:function(T){return this._validate(T,this.minMonth,this.minDay,g.local.invalidYear),400},weekOfYear:function(T,v,y){var t=this.newDate(T,v,y);return t.add(-t.dayOfWeek(),"d"),Math.floor((t.dayOfYear()-1)/8)+1},daysInMonth:function(T,v){var y=this._validate(T,v,this.minDay,g.local.invalidMonth);return this.daysPerMonth[y.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(T,v,y){var t=this._validate(T,v,y,g.local.invalidDate);return(t.day()+1)%8},weekDay:function(T,v,y){var t=this.dayOfWeek(T,v,y);return t>=2&&t<=6},extraInfo:function(T,v,y){var t=this._validate(T,v,y,g.local.invalidDate);return{century:C[Math.floor((t.year()-1)/100)+1]||""}},toJD:function(T,v,y){var t=this._validate(T,v,y,g.local.invalidDate);return T=t.year()+(t.year()<0?1:0),v=t.month(),y=t.day(),y+(v>1?16:0)+(v>2?(v-2)*32:0)+(T-1)*400+this.jdEpoch-1},fromJD:function(T){T=Math.floor(T+.5)-Math.floor(this.jdEpoch)-1;var v=Math.floor(T/400)+1;T-=(v-1)*400,T+=T>15?16:0;var y=Math.floor(T/32)+1,t=T-(y-1)*32+1;return this.newDate(v<=0?v-1:v,y,t)}});var C={20:"Fruitbat",21:"Anchovy"};g.calendars.discworld=a},37715:function(W,H,e){var g=e(63489),R=e(56131);function a(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar,R(a.prototype,{name:"Ethiopian",jdEpoch:17242205e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var T=this._validate(v,this.minMonth,this.minDay,g.local.invalidYear),v=T.year()+(T.year()<0?1:0);return v%4===3||v%4===-1},monthsInYear:function(C){return this._validate(C,this.minMonth,this.minDay,g.local.invalidYear||g.regionalOptions[""].invalidYear),13},weekOfYear:function(C,T,v){var y=this.newDate(C,T,v);return y.add(-y.dayOfWeek(),"d"),Math.floor((y.dayOfYear()-1)/7)+1},daysInMonth:function(C,T){var v=this._validate(C,T,this.minDay,g.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===13&&this.leapYear(v.year())?1:0)},weekDay:function(C,T,v){return(this.dayOfWeek(C,T,v)||7)<6},toJD:function(C,T,v){var y=this._validate(C,T,v,g.local.invalidDate);return C=y.year(),C<0&&C++,y.day()+(y.month()-1)*30+(C-1)*365+Math.floor(C/4)+this.jdEpoch-1},fromJD:function(C){var T=Math.floor(C)+.5-this.jdEpoch,v=Math.floor((T-Math.floor((T+366)/1461))/365)+1;v<=0&&v--,T=Math.floor(C)+.5-this.newDate(v,1,1).toJD();var y=Math.floor(T/30)+1,t=T-(y-1)*30+1;return this.newDate(v,y,t)}}),g.calendars.ethiopian=a},99384:function(W,H,e){var g=e(63489),R=e(56131);function a(T){this.local=this.regionalOptions[T||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar,R(a.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(T){var v=this._validate(T,this.minMonth,this.minDay,g.local.invalidYear);return this._leapYear(v.year())},_leapYear:function(T){return T=T<0?T+1:T,C(T*7+1,19)<7},monthsInYear:function(T){return this._validate(T,this.minMonth,this.minDay,g.local.invalidYear),this._leapYear(T.year?T.year():T)?13:12},weekOfYear:function(T,v,y){var t=this.newDate(T,v,y);return t.add(-t.dayOfWeek(),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInYear:function(T){var v=this._validate(T,this.minMonth,this.minDay,g.local.invalidYear);return T=v.year(),this.toJD(T===-1?1:T+1,7,1)-this.toJD(T,7,1)},daysInMonth:function(T,v){return T.year&&(v=T.month(),T=T.year()),this._validate(T,v,this.minDay,g.local.invalidMonth),v===12&&this.leapYear(T)||v===8&&C(this.daysInYear(T),10)===5?30:v===9&&C(this.daysInYear(T),10)===3?29:this.daysPerMonth[v-1]},weekDay:function(T,v,y){return this.dayOfWeek(T,v,y)!==6},extraInfo:function(T,v,y){var t=this._validate(T,v,y,g.local.invalidDate);return{yearType:(this.leapYear(t)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(t)%10-3]}},toJD:function(T,v,y){var t=this._validate(T,v,y,g.local.invalidDate);T=t.year(),v=t.month(),y=t.day();var r=T<=0?T+1:T,s=this.jdEpoch+this._delay1(r)+this._delay2(r)+y+1;if(v<7){for(var n=7;n<=this.monthsInYear(T);n++)s+=this.daysInMonth(T,n);for(var n=1;n<v;n++)s+=this.daysInMonth(T,n)}else for(var n=7;n<v;n++)s+=this.daysInMonth(T,n);return s},_delay1:function(T){var v=Math.floor((235*T-234)/19),y=12084+13753*v,t=v*29+Math.floor(y/25920);return C(3*(t+1),7)<3&&t++,t},_delay2:function(T){var v=this._delay1(T-1),y=this._delay1(T),t=this._delay1(T+1);return t-y===356?2:y-v===382?1:0},fromJD:function(T){T=Math.floor(T)+.5;for(var v=Math.floor((T-this.jdEpoch)*98496/35975351)-1;T>=this.toJD(v===-1?1:v+1,7,1);)v++;for(var y=T<this.toJD(v,1,1)?7:1;T>this.toJD(v,y,this.daysInMonth(v,y));)y++;var t=T-this.toJD(v,y,1)+1;return this.newDate(v,y,t)}});function C(T,v){return T-v*Math.floor(T/v)}g.calendars.hebrew=a},43805:function(W,H,e){var g=e(63489),R=e(56131);function a(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar,R(a.prototype,{name:"Islamic",jdEpoch:19484395e-1,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-khams","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(C){var T=this._validate(C,this.minMonth,this.minDay,g.local.invalidYear);return(T.year()*11+14)%30<11},weekOfYear:function(C,T,v){var y=this.newDate(C,T,v);return y.add(-y.dayOfWeek(),"d"),Math.floor((y.dayOfYear()-1)/7)+1},daysInYear:function(C){return this.leapYear(C)?355:354},daysInMonth:function(C,T){var v=this._validate(C,T,this.minDay,g.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===12&&this.leapYear(v.year())?1:0)},weekDay:function(C,T,v){return this.dayOfWeek(C,T,v)!==5},toJD:function(C,T,v){var y=this._validate(C,T,v,g.local.invalidDate);return C=y.year(),T=y.month(),v=y.day(),C=C<=0?C+1:C,v+Math.ceil(29.5*(T-1))+(C-1)*354+Math.floor((3+11*C)/30)+this.jdEpoch-1},fromJD:function(C){C=Math.floor(C)+.5;var T=Math.floor((30*(C-this.jdEpoch)+10646)/10631);T=T<=0?T-1:T;var v=Math.min(12,Math.ceil((C-29-this.toJD(T,1,1))/29.5)+1),y=C-this.toJD(T,v,1)+1;return this.newDate(T,v,y)}}),g.calendars.islamic=a},88874:function(W,H,e){var g=e(63489),R=e(56131);function a(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar,R(a.prototype,{name:"Julian",jdEpoch:17214235e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(v){var T=this._validate(v,this.minMonth,this.minDay,g.local.invalidYear),v=T.year()<0?T.year()+1:T.year();return v%4===0},weekOfYear:function(C,T,v){var y=this.newDate(C,T,v);return y.add(4-(y.dayOfWeek()||7),"d"),Math.floor((y.dayOfYear()-1)/7)+1},daysInMonth:function(C,T){var v=this._validate(C,T,this.minDay,g.local.invalidMonth);return this.daysPerMonth[v.month()-1]+(v.month()===2&&this.leapYear(v.year())?1:0)},weekDay:function(C,T,v){return(this.dayOfWeek(C,T,v)||7)<6},toJD:function(C,T,v){var y=this._validate(C,T,v,g.local.invalidDate);return C=y.year(),T=y.month(),v=y.day(),C<0&&C++,T<=2&&(C--,T+=12),Math.floor(365.25*(C+4716))+Math.floor(30.6001*(T+1))+v-1524.5},fromJD:function(C){var T=Math.floor(C+.5),v=T+1524,y=Math.floor((v-122.1)/365.25),t=Math.floor(365.25*y),r=Math.floor((v-t)/30.6001),s=r-Math.floor(r<14?1:13),n=y-Math.floor(s>2?4716:4715),o=v-t-Math.floor(30.6001*r);return n<=0&&n--,this.newDate(n,s,o)}}),g.calendars.julian=a},83290:function(W,H,e){var g=e(63489),R=e(56131);function a(v){this.local=this.regionalOptions[v||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar,R(a.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(v){return this._validate(v,this.minMonth,this.minDay,g.local.invalidYear),!1},formatYear:function(v){var y=this._validate(v,this.minMonth,this.minDay,g.local.invalidYear);v=y.year();var t=Math.floor(v/400);v=v%400,v+=v<0?400:0;var r=Math.floor(v/20);return t+"."+r+"."+v%20},forYear:function(v){if(v=v.split("."),v.length<3)throw"Invalid Mayan year";for(var y=0,t=0;t<v.length;t++){var r=parseInt(v[t],10);if(Math.abs(r)>19||t>0&&r<0)throw"Invalid Mayan year";y=y*20+r}return y},monthsInYear:function(v){return this._validate(v,this.minMonth,this.minDay,g.local.invalidYear),18},weekOfYear:function(v,y,t){return this._validate(v,y,t,g.local.invalidDate),0},daysInYear:function(v){return this._validate(v,this.minMonth,this.minDay,g.local.invalidYear),360},daysInMonth:function(v,y){return this._validate(v,y,this.minDay,g.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(v,y,t){var r=this._validate(v,y,t,g.local.invalidDate);return r.day()},weekDay:function(v,y,t){return this._validate(v,y,t,g.local.invalidDate),!0},extraInfo:function(v,y,t){var r=this._validate(v,y,t,g.local.invalidDate),s=r.toJD(),n=this._toHaab(s),o=this._toTzolkin(s);return{haabMonthName:this.local.haabMonths[n[0]-1],haabMonth:n[0],haabDay:n[1],tzolkinDayName:this.local.tzolkinMonths[o[0]-1],tzolkinDay:o[0],tzolkinTrecena:o[1]}},_toHaab:function(v){v-=this.jdEpoch;var y=C(v+8+17*20,365);return[Math.floor(y/20)+1,C(y,20)]},_toTzolkin:function(v){return v-=this.jdEpoch,[T(v+20,20),T(v+4,13)]},toJD:function(v,y,t){var r=this._validate(v,y,t,g.local.invalidDate);return r.day()+r.month()*20+r.year()*360+this.jdEpoch},fromJD:function(v){v=Math.floor(v)+.5-this.jdEpoch;var y=Math.floor(v/360);v=v%360,v+=v<0?360:0;var t=Math.floor(v/20),r=v%20;return this.newDate(y,t,r)}});function C(v,y){return v-y*Math.floor(v/y)}function T(v,y){return C(v-1,y)+1}g.calendars.mayan=a},29108:function(W,H,e){var g=e(63489),R=e(56131);function a(T){this.local=this.regionalOptions[T||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar;var C=g.instance("gregorian");R(a.prototype,{name:"Nanakshahi",jdEpoch:22576735e-1,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(T){var v=this._validate(T,this.minMonth,this.minDay,g.local.invalidYear||g.regionalOptions[""].invalidYear);return C.leapYear(v.year()+(v.year()<1?1:0)+1469)},weekOfYear:function(T,v,y){var t=this.newDate(T,v,y);return t.add(1-(t.dayOfWeek()||7),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInMonth:function(T,v){var y=this._validate(T,v,this.minDay,g.local.invalidMonth);return this.daysPerMonth[y.month()-1]+(y.month()===12&&this.leapYear(y.year())?1:0)},weekDay:function(T,v,y){return(this.dayOfWeek(T,v,y)||7)<6},toJD:function(r,v,y){var t=this._validate(r,v,y,g.local.invalidMonth),r=t.year();r<0&&r++;for(var s=t.day(),n=1;n<t.month();n++)s+=this.daysPerMonth[n-1];return s+C.toJD(r+1468,3,13)},fromJD:function(T){T=Math.floor(T+.5);for(var v=Math.floor((T-(this.jdEpoch-1))/366);T>=this.toJD(v+1,1,1);)v++;for(var y=T-Math.floor(this.toJD(v,1,1)+.5)+1,t=1;y>this.daysInMonth(v,t);)y-=this.daysInMonth(v,t),t++;return this.newDate(v,t,y)}}),g.calendars.nanakshahi=a},55422:function(W,H,e){var g=e(63489),R=e(56131);function a(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar,R(a.prototype,{name:"Nepali",jdEpoch:17007095e-1,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(C){return this.daysInYear(C)!==this.daysPerYear},weekOfYear:function(C,T,v){var y=this.newDate(C,T,v);return y.add(-y.dayOfWeek(),"d"),Math.floor((y.dayOfYear()-1)/7)+1},daysInYear:function(C){var T=this._validate(C,this.minMonth,this.minDay,g.local.invalidYear);if(C=T.year(),typeof this.NEPALI_CALENDAR_DATA[C]>"u")return this.daysPerYear;for(var v=0,y=this.minMonth;y<=12;y++)v+=this.NEPALI_CALENDAR_DATA[C][y];return v},daysInMonth:function(C,T){return C.year&&(T=C.month(),C=C.year()),this._validate(C,T,this.minDay,g.local.invalidMonth),typeof this.NEPALI_CALENDAR_DATA[C]>"u"?this.daysPerMonth[T-1]:this.NEPALI_CALENDAR_DATA[C][T]},weekDay:function(C,T,v){return this.dayOfWeek(C,T,v)!==6},toJD:function(C,T,v){var y=this._validate(C,T,v,g.local.invalidDate);C=y.year(),T=y.month(),v=y.day();var t=g.instance(),r=0,s=T,n=C;this._createMissingCalendarData(C);var o=C-(s>9||s===9&&v>=this.NEPALI_CALENDAR_DATA[n][0]?56:57);for(T!==9&&(r=v,s--);s!==9;)s<=0&&(s=12,n--),r+=this.NEPALI_CALENDAR_DATA[n][s],s--;return T===9?(r+=v-this.NEPALI_CALENDAR_DATA[n][0],r<0&&(r+=t.daysInYear(o))):r+=this.NEPALI_CALENDAR_DATA[n][9]-this.NEPALI_CALENDAR_DATA[n][0],t.newDate(o,1,1).add(r,"d").toJD()},fromJD:function(C){var T=g.instance(),v=T.fromJD(C),y=v.year(),t=v.dayOfYear(),r=y+56;this._createMissingCalendarData(r);for(var s=9,n=this.NEPALI_CALENDAR_DATA[r][0],o=this.NEPALI_CALENDAR_DATA[r][s]-n+1;t>o;)s++,s>12&&(s=1,r++),o+=this.NEPALI_CALENDAR_DATA[r][s];var f=this.NEPALI_CALENDAR_DATA[r][s]-(o-t);return this.newDate(r,s,f)},_createMissingCalendarData:function(C){var T=this.daysPerMonth.slice(0);T.unshift(17);for(var v=C-1;v<C+2;v++)typeof this.NEPALI_CALENDAR_DATA[v]>"u"&&(this.NEPALI_CALENDAR_DATA[v]=T)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),g.calendars.nepali=a},94320:function(W,H,e){var g=e(63489),R=e(56131);function a(T){this.local=this.regionalOptions[T||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar,R(a.prototype,{name:"Persian",jdEpoch:19483205e-1,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Chharshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Ch","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(T){var v=this._validate(T,this.minMonth,this.minDay,g.local.invalidYear);return((v.year()-(v.year()>0?474:473))%2820+474+38)*682%2816<682},weekOfYear:function(T,v,y){var t=this.newDate(T,v,y);return t.add(-((t.dayOfWeek()+1)%7),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInMonth:function(T,v){var y=this._validate(T,v,this.minDay,g.local.invalidMonth);return this.daysPerMonth[y.month()-1]+(y.month()===12&&this.leapYear(y.year())?1:0)},weekDay:function(T,v,y){return this.dayOfWeek(T,v,y)!==5},toJD:function(T,v,y){var t=this._validate(T,v,y,g.local.invalidDate);T=t.year(),v=t.month(),y=t.day();var r=T-(T>=0?474:473),s=474+C(r,2820);return y+(v<=7?(v-1)*31:(v-1)*30+6)+Math.floor((s*682-110)/2816)+(s-1)*365+Math.floor(r/2820)*1029983+this.jdEpoch-1},fromJD:function(T){T=Math.floor(T)+.5;var v=T-this.toJD(475,1,1),y=Math.floor(v/1029983),t=C(v,1029983),r=2820;if(t!==1029982){var s=Math.floor(t/366),n=C(t,366);r=Math.floor((2134*s+2816*n+2815)/1028522)+s+1}var o=r+2820*y+474;o=o<=0?o-1:o;var f=T-this.toJD(o,1,1)+1,u=f<=186?Math.ceil(f/31):Math.ceil((f-6)/30),m=T-this.toJD(o,u,1)+1;return this.newDate(o,u,m)}});function C(T,v){return T-v*Math.floor(T/v)}g.calendars.persian=a,g.calendars.jalali=a},31320:function(W,H,e){var g=e(63489),R=e(56131),a=g.instance();function C(T){this.local=this.regionalOptions[T||""]||this.regionalOptions[""]}C.prototype=new g.baseCalendar,R(C.prototype,{name:"Taiwan",jdEpoch:24194025e-1,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(y){var v=this._validate(y,this.minMonth,this.minDay,g.local.invalidYear),y=this._t2gYear(v.year());return a.leapYear(y)},weekOfYear:function(r,v,y){var t=this._validate(r,this.minMonth,this.minDay,g.local.invalidYear),r=this._t2gYear(t.year());return a.weekOfYear(r,t.month(),t.day())},daysInMonth:function(T,v){var y=this._validate(T,v,this.minDay,g.local.invalidMonth);return this.daysPerMonth[y.month()-1]+(y.month()===2&&this.leapYear(y.year())?1:0)},weekDay:function(T,v,y){return(this.dayOfWeek(T,v,y)||7)<6},toJD:function(r,v,y){var t=this._validate(r,v,y,g.local.invalidDate),r=this._t2gYear(t.year());return a.toJD(r,t.month(),t.day())},fromJD:function(T){var v=a.fromJD(T),y=this._g2tYear(v.year());return this.newDate(y,v.month(),v.day())},_t2gYear:function(T){return T+this.yearsOffset+(T>=-this.yearsOffset&&T<=-1?1:0)},_g2tYear:function(T){return T-this.yearsOffset-(T>=1&&T<=this.yearsOffset?1:0)}}),g.calendars.taiwan=C},51367:function(W,H,e){var g=e(63489),R=e(56131),a=g.instance();function C(T){this.local=this.regionalOptions[T||""]||this.regionalOptions[""]}C.prototype=new g.baseCalendar,R(C.prototype,{name:"Thai",jdEpoch:15230985e-1,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(y){var v=this._validate(y,this.minMonth,this.minDay,g.local.invalidYear),y=this._t2gYear(v.year());return a.leapYear(y)},weekOfYear:function(r,v,y){var t=this._validate(r,this.minMonth,this.minDay,g.local.invalidYear),r=this._t2gYear(t.year());return a.weekOfYear(r,t.month(),t.day())},daysInMonth:function(T,v){var y=this._validate(T,v,this.minDay,g.local.invalidMonth);return this.daysPerMonth[y.month()-1]+(y.month()===2&&this.leapYear(y.year())?1:0)},weekDay:function(T,v,y){return(this.dayOfWeek(T,v,y)||7)<6},toJD:function(r,v,y){var t=this._validate(r,v,y,g.local.invalidDate),r=this._t2gYear(t.year());return a.toJD(r,t.month(),t.day())},fromJD:function(T){var v=a.fromJD(T),y=this._g2tYear(v.year());return this.newDate(y,v.month(),v.day())},_t2gYear:function(T){return T-this.yearsOffset-(T>=1&&T<=this.yearsOffset?1:0)},_g2tYear:function(T){return T+this.yearsOffset+(T>=-this.yearsOffset&&T<=-1?1:0)}}),g.calendars.thai=C},21457:function(W,H,e){var g=e(63489),R=e(56131);function a(T){this.local=this.regionalOptions[T||""]||this.regionalOptions[""]}a.prototype=new g.baseCalendar,R(a.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thalth","Yawm al-Arba","Yawm al-Khams","Yawm al-Juma","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(T){var v=this._validate(T,this.minMonth,this.minDay,g.local.invalidYear);return this.daysInYear(v.year())===355},weekOfYear:function(T,v,y){var t=this.newDate(T,v,y);return t.add(-t.dayOfWeek(),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInYear:function(T){for(var v=0,y=1;y<=12;y++)v+=this.daysInMonth(T,y);return v},daysInMonth:function(T,v){for(var y=this._validate(T,v,this.minDay,g.local.invalidMonth),t=y.toJD()-24e5+.5,r=0,s=0;s<C.length;s++){if(C[s]>t)return C[r]-C[r-1];r++}return 30},weekDay:function(T,v,y){return this.dayOfWeek(T,v,y)!==5},toJD:function(T,v,y){var t=this._validate(T,v,y,g.local.invalidDate),r=12*(t.year()-1)+t.month()-15292,s=t.day()+C[r-1]-1;return s+24e5-.5},fromJD:function(T){for(var v=T-24e5+.5,y=0,t=0;t<C.length&&!(C[t]>v);t++)y++;var r=y+15292,s=Math.floor((r-1)/12),n=s+1,o=r-12*s,f=v-C[y-1]+1;return this.newDate(n,o,f)},isValid:function(T,v,y){var t=g.baseCalendar.prototype.isValid.apply(this,arguments);return t&&(T=T.year!=null?T.year:T,t=T>=1276&&T<=1500),t},_validate:function(T,v,y,t){var r=g.baseCalendar.prototype._validate.apply(this,arguments);if(r.year<1276||r.year>1500)throw t.replace(/\{0\}/,this.local.name);return r}}),g.calendars.ummalqura=a;var C=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},63489:function(W,H,e){var g=e(56131);function R(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}g(R.prototype,{instance:function(t,r){t=(t||"gregorian").toLowerCase(),r=r||"";var s=this._localCals[t+"-"+r];if(!s&&this.calendars[t]&&(s=new this.calendars[t](r),this._localCals[t+"-"+r]=s),!s)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,t);return s},newDate:function(t,r,s,n,o){return n=(t!=null&&t.year?t.calendar():typeof n=="string"?this.instance(n,o):n)||this.instance(),n.newDate(t,r,s)},substituteDigits:function(t){return function(r){return(r+"").replace(/[0-9]/g,function(s){return t[s]})}},substituteChineseDigits:function(t,r){return function(s){for(var n="",o=0;s>0;){var f=s%10;n=(f===0?"":t[f]+r[o])+n,o++,s=Math.floor(s/10)}return n.indexOf(t[1]+r[1])===0&&(n=n.substr(1)),n||t[0]}}});function a(t,r,s,n){if(this._calendar=t,this._year=r,this._month=s,this._day=n,this._calendar._validateLevel===0&&!this._calendar.isValid(this._year,this._month,this._day))throw(y.local.invalidDate||y.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function C(t,r){return t=""+t,"000000".substring(0,r-t.length)+t}g(a.prototype,{newDate:function(t,r,s){return this._calendar.newDate(t??this,r,s)},year:function(t){return arguments.length===0?this._year:this.set(t,"y")},month:function(t){return arguments.length===0?this._month:this.set(t,"m")},day:function(t){return arguments.length===0?this._day:this.set(t,"d")},date:function(t,r,s){if(!this._calendar.isValid(t,r,s))throw(y.local.invalidDate||y.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=t,this._month=r,this._day=s,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(t,r){return this._calendar.add(this,t,r)},set:function(t,r){return this._calendar.set(this,t,r)},compareTo:function(t){if(this._calendar.name!==t._calendar.name)throw(y.local.differentCalendars||y.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,t._calendar.local.name);var r=this._year!==t._year?this._year-t._year:this._month!==t._month?this.monthOfYear()-t.monthOfYear():this._day-t._day;return r===0?0:r<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(t){return this._calendar.fromJD(t)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(t){return this._calendar.fromJSDate(t)},toString:function(){return(this.year()<0?"-":"")+C(Math.abs(this.year()),4)+"-"+C(this.month(),2)+"-"+C(this.day(),2)}});function T(){this.shortYearCutoff="+10"}g(T.prototype,{_validateLevel:0,newDate:function(t,r,s){return t==null?this.today():(t.year&&(this._validate(t,r,s,y.local.invalidDate||y.regionalOptions[""].invalidDate),s=t.day(),r=t.month(),t=t.year()),new a(this,t,r,s))},today:function(){return this.fromJSDate(new Date)},epoch:function(t){var r=this._validate(t,this.minMonth,this.minDay,y.local.invalidYear||y.regionalOptions[""].invalidYear);return r.year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(t){var r=this._validate(t,this.minMonth,this.minDay,y.local.invalidYear||y.regionalOptions[""].invalidYear);return(r.year()<0?"-":"")+C(Math.abs(r.year()),4)},monthsInYear:function(t){return this._validate(t,this.minMonth,this.minDay,y.local.invalidYear||y.regionalOptions[""].invalidYear),12},monthOfYear:function(t,r){var s=this._validate(t,r,this.minDay,y.local.invalidMonth||y.regionalOptions[""].invalidMonth);return(s.month()+this.monthsInYear(s)-this.firstMonth)%this.monthsInYear(s)+this.minMonth},fromMonthOfYear:function(t,r){var s=(r+this.firstMonth-2*this.minMonth)%this.monthsInYear(t)+this.minMonth;return this._validate(t,s,this.minDay,y.local.invalidMonth||y.regionalOptions[""].invalidMonth),s},daysInYear:function(t){var r=this._validate(t,this.minMonth,this.minDay,y.local.invalidYear||y.regionalOptions[""].invalidYear);return this.leapYear(r)?366:365},dayOfYear:function(t,r,s){var n=this._validate(t,r,s,y.local.invalidDate||y.regionalOptions[""].invalidDate);return n.toJD()-this.newDate(n.year(),this.fromMonthOfYear(n.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(t,r,s){var n=this._validate(t,r,s,y.local.invalidDate||y.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(n))+2)%this.daysInWeek()},extraInfo:function(t,r,s){return this._validate(t,r,s,y.local.invalidDate||y.regionalOptions[""].invalidDate),{}},add:function(t,r,s){return this._validate(t,this.minMonth,this.minDay,y.local.invalidDate||y.regionalOptions[""].invalidDate),this._correctAdd(t,this._add(t,r,s),r,s)},_add:function(t,r,s){if(this._validateLevel++,s==="d"||s==="w"){var n=t.toJD()+r*(s==="w"?this.daysInWeek():1),o=t.calendar().fromJD(n);return this._validateLevel--,[o.year(),o.month(),o.day()]}try{var f=t.year()+(s==="y"?r:0),u=t.monthOfYear()+(s==="m"?r:0),o=t.day(),m=function(h){for(;u<h.minMonth;)f--,u+=h.monthsInYear(f);for(var l=h.monthsInYear(f);u>l-1+h.minMonth;)f++,u-=l,l=h.monthsInYear(f)};s==="y"?(t.month()!==this.fromMonthOfYear(f,u)&&(u=this.newDate(f,t.month(),this.minDay).monthOfYear()),u=Math.min(u,this.monthsInYear(f)),o=Math.min(o,this.daysInMonth(f,this.fromMonthOfYear(f,u)))):s==="m"&&(m(this),o=Math.min(o,this.daysInMonth(f,this.fromMonthOfYear(f,u))));var c=[f,this.fromMonthOfYear(f,u),o];return this._validateLevel--,c}catch(A){throw this._validateLevel--,A}},_correctAdd:function(t,r,s,n){if(!this.hasYearZero&&(n==="y"||n==="m")&&(r[0]===0||t.year()>0!=r[0]>0)){var o={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[n],f=s<0?-1:1;r=this._add(t,s*o[0]+f*o[1],o[2])}return t.date(r[0],r[1],r[2])},set:function(t,r,s){this._validate(t,this.minMonth,this.minDay,y.local.invalidDate||y.regionalOptions[""].invalidDate);var n=s==="y"?r:t.year(),o=s==="m"?r:t.month(),f=s==="d"?r:t.day();return(s==="y"||s==="m")&&(f=Math.min(f,this.daysInMonth(n,o))),t.date(n,o,f)},isValid:function(t,r,s){this._validateLevel++;var n=this.hasYearZero||t!==0;if(n){var o=this.newDate(t,r,this.minDay);n=r>=this.minMonth&&r-this.minMonth<this.monthsInYear(o)&&s>=this.minDay&&s-this.minDay<this.daysInMonth(o)}return this._validateLevel--,n},toJSDate:function(t,r,s){var n=this._validate(t,r,s,y.local.invalidDate||y.regionalOptions[""].invalidDate);return y.instance().fromJD(this.toJD(n)).toJSDate()},fromJSDate:function(t){return this.fromJD(y.instance().fromJSDate(t).toJD())},_validate:function(t,r,s,n){if(t.year){if(this._validateLevel===0&&this.name!==t.calendar().name)throw(y.local.differentCalendars||y.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,t.calendar().local.name);return t}try{if(this._validateLevel++,this._validateLevel===1&&!this.isValid(t,r,s))throw n.replace(/\{0\}/,this.local.name);var o=this.newDate(t,r,s);return this._validateLevel--,o}catch(f){throw this._validateLevel--,f}}});function v(t){this.local=this.regionalOptions[t]||this.regionalOptions[""]}v.prototype=new T,g(v.prototype,{name:"Gregorian",jdEpoch:17214255e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(s){var r=this._validate(s,this.minMonth,this.minDay,y.local.invalidYear||y.regionalOptions[""].invalidYear),s=r.year()+(r.year()<0?1:0);return s%4===0&&(s%100!==0||s%400===0)},weekOfYear:function(t,r,s){var n=this.newDate(t,r,s);return n.add(4-(n.dayOfWeek()||7),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(t,r){var s=this._validate(t,r,this.minDay,y.local.invalidMonth||y.regionalOptions[""].invalidMonth);return this.daysPerMonth[s.month()-1]+(s.month()===2&&this.leapYear(s.year())?1:0)},weekDay:function(t,r,s){return(this.dayOfWeek(t,r,s)||7)<6},toJD:function(t,r,s){var n=this._validate(t,r,s,y.local.invalidDate||y.regionalOptions[""].invalidDate);t=n.year(),r=n.month(),s=n.day(),t<0&&t++,r<3&&(r+=12,t--);var o=Math.floor(t/100),f=2-o+Math.floor(o/4);return Math.floor(365.25*(t+4716))+Math.floor(30.6001*(r+1))+s+f-1524.5},fromJD:function(t){var r=Math.floor(t+.5),s=Math.floor((r-186721625e-2)/36524.25);s=r+1+s-Math.floor(s/4);var n=s+1524,o=Math.floor((n-122.1)/365.25),f=Math.floor(365.25*o),u=Math.floor((n-f)/30.6001),m=n-f-Math.floor(u*30.6001),c=u-(u>13.5?13:1),A=o-(c>2.5?4716:4715);return A<=0&&A--,this.newDate(A,c,m)},toJSDate:function(t,r,s){var n=this._validate(t,r,s,y.local.invalidDate||y.regionalOptions[""].invalidDate),o=new Date(n.year(),n.month()-1,n.day());return o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0),o.setHours(o.getHours()>12?o.getHours()+2:0),o},fromJSDate:function(t){return this.newDate(t.getFullYear(),t.getMonth()+1,t.getDate())}});var y=W.exports=new R;y.cdate=a,y.baseCalendar=T,y.calendars.gregorian=v},94338:function(W,H,e){var g=e(56131),R=e(63489);g(R.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),R.local=R.regionalOptions[""],g(R.cdate.prototype,{formatDate:function(a,C){return typeof a!="string"&&(C=a,a=""),this._calendar.formatDate(a||"",this,C)}}),g(R.baseCalendar.prototype,{UNIX_EPOCH:R.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:R.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(a,C,T){if(typeof a!="string"&&(T=C,C=a,a=""),!C)return"";if(C.calendar()!==this)throw R.local.invalidFormat||R.regionalOptions[""].invalidFormat;a=a||this.local.dateFormat,T=T||{};var v=T.dayNamesShort||this.local.dayNamesShort,y=T.dayNames||this.local.dayNames,t=T.monthNumbers||this.local.monthNumbers,r=T.monthNamesShort||this.local.monthNamesShort,s=T.monthNames||this.local.monthNames;T.calculateWeek||this.local.calculateWeek;for(var n=function(S,P){for(var x=1;M+x<a.length&&a.charAt(M+x)===S;)x++;return M+=x-1,Math.floor(x/(P||1))>1},o=function(S,P,x,E){var w=""+P;if(n(S,E))for(;w.length<x;)w="0"+w;return w},f=function(S,P,x,E){return n(S)?E[P]:x[P]},u=this,m=function(S){return typeof t=="function"?t.call(u,S,n("m")):h(o("m",S.month(),2))},c=function(S,P){return P?typeof s=="function"?s.call(u,S):s[S.month()-u.minMonth]:typeof r=="function"?r.call(u,S):r[S.month()-u.minMonth]},A=this.local.digits,h=function(S){return T.localNumbers&&A?A(S):S},l="",p=!1,M=0;M<a.length;M++)if(p)a.charAt(M)==="'"&&!n("'")?p=!1:l+=a.charAt(M);else switch(a.charAt(M)){case"d":l+=h(o("d",C.day(),2));break;case"D":l+=f("D",C.dayOfWeek(),v,y);break;case"o":l+=o("o",C.dayOfYear(),3);break;case"w":l+=o("w",C.weekOfYear(),2);break;case"m":l+=m(C);break;case"M":l+=c(C,n("M"));break;case"y":l+=n("y",2)?C.year():(C.year()%100<10?"0":"")+C.year()%100;break;case"Y":n("Y",2),l+=C.formatYear();break;case"J":l+=C.toJD();break;case"@":l+=(C.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":l+=(C.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":n("'")?l+="'":p=!0;break;default:l+=a.charAt(M)}return l},parseDate:function(a,C,T){if(C==null)throw R.local.invalidArguments||R.regionalOptions[""].invalidArguments;if(C=typeof C=="object"?C.toString():C+"",C==="")return null;a=a||this.local.dateFormat,T=T||{};var v=T.shortYearCutoff||this.shortYearCutoff;v=typeof v!="string"?v:this.today().year()%100+parseInt(v,10);for(var y=T.dayNamesShort||this.local.dayNamesShort,t=T.dayNames||this.local.dayNames,r=T.parseMonth||this.local.parseMonth,s=T.monthNumbers||this.local.monthNumbers,n=T.monthNamesShort||this.local.monthNamesShort,o=T.monthNames||this.local.monthNames,f=-1,u=-1,m=-1,c=-1,A=-1,h=!1,l=!1,p=function(_,N){for(var z=1;L+z<a.length&&a.charAt(L+z)===_;)z++;return L+=z-1,Math.floor(z/(N||1))>1},M=function(_,N){var z=p(_,N),B=[2,3,z?4:2,z?4:2,10,11,20]["oyYJ@!".indexOf(_)+1],U=new RegExp("^-?\\d{1,"+B+"}"),F=C.substring(i).match(U);if(!F)throw(R.local.missingNumberAt||R.regionalOptions[""].missingNumberAt).replace(/\{0\}/,i);return i+=F[0].length,parseInt(F[0],10)},S=this,P=function(){if(typeof s=="function"){p("m");var _=s.call(S,C.substring(i));return i+=_.length,_}return M("m")},x=function(_,N,z,B){for(var U=p(_,B)?z:N,F=0;F<U.length;F++)if(C.substr(i,U[F].length).toLowerCase()===U[F].toLowerCase())return i+=U[F].length,F+S.minMonth;throw(R.local.unknownNameAt||R.regionalOptions[""].unknownNameAt).replace(/\{0\}/,i)},E=function(){if(typeof o=="function"){var _=p("M")?o.call(S,C.substring(i)):n.call(S,C.substring(i));return i+=_.length,_}return x("M",n,o)},w=function(){if(C.charAt(i)!==a.charAt(L))throw(R.local.unexpectedLiteralAt||R.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,i);i++},i=0,L=0;L<a.length;L++)if(l)a.charAt(L)==="'"&&!p("'")?l=!1:w();else switch(a.charAt(L)){case"d":c=M("d");break;case"D":x("D",y,t);break;case"o":A=M("o");break;case"w":M("w");break;case"m":m=P();break;case"M":m=E();break;case"y":var b=L;h=!p("y",2),L=b,u=M("y",2);break;case"Y":u=M("Y",2);break;case"J":f=M("J")+.5,C.charAt(i)==="."&&(i++,M("J"));break;case"@":f=M("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":f=M("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":i=C.length;break;case"'":p("'")?w():l=!0;break;default:w()}if(i<C.length)throw R.local.unexpectedText||R.regionalOptions[""].unexpectedText;if(u===-1?u=this.today().year():u<100&&h&&(u+=v===-1?1900:this.today().year()-this.today().year()%100-(u<=v?0:100)),typeof m=="string"&&(m=r.call(this,u,m)),A>-1){m=1,c=A;for(var O=this.daysInMonth(u,m);c>O;O=this.daysInMonth(u,m))m++,c-=O}return f>-1?this.fromJD(f):this.newDate(u,m,c)},determineDate:function(a,C,T,v,y){T&&typeof T!="object"&&(y=v,v=T,T=null),typeof v!="string"&&(y=v,v="");var t=this,r=function(s){try{return t.parseDate(v,s,y)}catch{}s=s.toLowerCase();for(var n=(s.match(/^c/)&&T?T.newDate():null)||t.today(),o=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,f=o.exec(s);f;)n.add(parseInt(f[1],10),f[2]||"d"),f=o.exec(s);return n};return C=C?C.newDate():null,a=a==null?C:typeof a=="string"?r(a):typeof a=="number"?isNaN(a)||a===1/0||a===-1/0?C:t.today().add(a,"d"):t.newDate(a),a}})},69862:function(){},40964:function(){},72077:function(W,H,e){var g=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],R=typeof globalThis>"u"?e.g:globalThis;W.exports=function(){for(var C=[],T=0;T<g.length;T++)typeof R[g[T]]=="function"&&(C[C.length]=g[T]);return C}},81684:function(W,H,e){e.d(H,{sX:function(){return Le},k4:function(){return le}});function g(be,Ae,He){be.prototype=Ae.prototype=He,He.constructor=be}function R(be,Ae){var He=Object.create(be.prototype);for(var Ve in Ae)He[Ve]=Ae[Ve];return He}function a(){}var C=.7,T=1/C,v="\\s*([+-]?\\d+)\\s*",y="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",t="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",r=/^#([0-9a-f]{3,8})$/,s=new RegExp("^rgb\\(".concat(v,",").concat(v,",").concat(v,"\\)$")),n=new RegExp("^rgb\\(".concat(t,",").concat(t,",").concat(t,"\\)$")),o=new RegExp("^rgba\\(".concat(v,",").concat(v,",").concat(v,",").concat(y,"\\)$")),f=new RegExp("^rgba\\(".concat(t,",").concat(t,",").concat(t,",").concat(y,"\\)$")),u=new RegExp("^hsl\\(".concat(y,",").concat(t,",").concat(t,"\\)$")),m=new RegExp("^hsla\\(".concat(y,",").concat(t,",").concat(t,",").concat(y,"\\)$")),c={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};g(a,M,{copy:function(Ae){return Object.assign(new this.constructor,this,Ae)},displayable:function(){return this.rgb().displayable()},hex:A,formatHex:A,formatHex8:h,formatHsl:l,formatRgb:p,toString:p});function A(){return this.rgb().formatHex()}function h(){return this.rgb().formatHex8()}function l(){return B(this).formatHsl()}function p(){return this.rgb().formatRgb()}function M(be){var Ae,He;return be=(be+"").trim().toLowerCase(),(Ae=r.exec(be))?(He=Ae[1].length,Ae=parseInt(Ae[1],16),He===6?S(Ae):He===3?new w(Ae>>8&15|Ae>>4&240,Ae>>4&15|Ae&240,(Ae&15)<<4|Ae&15,1):He===8?P(Ae>>24&255,Ae>>16&255,Ae>>8&255,(Ae&255)/255):He===4?P(Ae>>12&15|Ae>>8&240,Ae>>8&15|Ae>>4&240,Ae>>4&15|Ae&240,((Ae&15)<<4|Ae&15)/255):null):(Ae=s.exec(be))?new w(Ae[1],Ae[2],Ae[3],1):(Ae=n.exec(be))?new w(Ae[1]*255/100,Ae[2]*255/100,Ae[3]*255/100,1):(Ae=o.exec(be))?P(Ae[1],Ae[2],Ae[3],Ae[4]):(Ae=f.exec(be))?P(Ae[1]*255/100,Ae[2]*255/100,Ae[3]*255/100,Ae[4]):(Ae=u.exec(be))?z(Ae[1],Ae[2]/100,Ae[3]/100,1):(Ae=m.exec(be))?z(Ae[1],Ae[2]/100,Ae[3]/100,Ae[4]):c.hasOwnProperty(be)?S(c[be]):be==="transparent"?new w(NaN,NaN,NaN,0):null}function S(be){return new w(be>>16&255,be>>8&255,be&255,1)}function P(be,Ae,He,Ve){return Ve<=0&&(be=Ae=He=NaN),new w(be,Ae,He,Ve)}function x(be){return be instanceof a||(be=M(be)),be?(be=be.rgb(),new w(be.r,be.g,be.b,be.opacity)):new w}function E(be,Ae,He,Ve){return arguments.length===1?x(be):new w(be,Ae,He,Ve??1)}function w(be,Ae,He,Ve){this.r=+be,this.g=+Ae,this.b=+He,this.opacity=+Ve}g(w,E,R(a,{brighter:function(Ae){return Ae=Ae==null?T:Math.pow(T,Ae),new w(this.r*Ae,this.g*Ae,this.b*Ae,this.opacity)},darker:function(Ae){return Ae=Ae==null?C:Math.pow(C,Ae),new w(this.r*Ae,this.g*Ae,this.b*Ae,this.opacity)},rgb:function(){return this},clamp:function(){return new w(_(this.r),_(this.g),_(this.b),O(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:i,formatHex:i,formatHex8:L,formatRgb:b,toString:b}));function i(){return"#".concat(N(this.r)).concat(N(this.g)).concat(N(this.b))}function L(){return"#".concat(N(this.r)).concat(N(this.g)).concat(N(this.b)).concat(N((isNaN(this.opacity)?1:this.opacity)*255))}function b(){var be=O(this.opacity);return"".concat(be===1?"rgb(":"rgba(").concat(_(this.r),", ").concat(_(this.g),", ").concat(_(this.b)).concat(be===1?")":", ".concat(be,")"))}function O(be){return isNaN(be)?1:Math.max(0,Math.min(1,be))}function _(be){return Math.max(0,Math.min(255,Math.round(be)||0))}function N(be){return be=_(be),(be<16?"0":"")+be.toString(16)}function z(be,Ae,He,Ve){return Ve<=0?be=Ae=He=NaN:He<=0||He>=1?be=Ae=NaN:Ae<=0&&(be=NaN),new F(be,Ae,He,Ve)}function B(be){if(be instanceof F)return new F(be.h,be.s,be.l,be.opacity);if(be instanceof a||(be=M(be)),!be)return new F;if(be instanceof F)return be;be=be.rgb();var Ae=be.r/255,He=be.g/255,Ve=be.b/255,ke=Math.min(Ae,He,Ve),Ge=Math.max(Ae,He,Ve),it=NaN,et=Ge-ke,tt=(Ge+ke)/2;return et?(Ae===Ge?it=(He-Ve)/et+(He<Ve)*6:He===Ge?it=(Ve-Ae)/et+2:it=(Ae-He)/et+4,et/=tt<.5?Ge+ke:2-Ge-ke,it*=60):et=tt>0&&tt<1?0:it,new F(it,et,tt,be.opacity)}function U(be,Ae,He,Ve){return arguments.length===1?B(be):new F(be,Ae,He,Ve??1)}function F(be,Ae,He,Ve){this.h=+be,this.s=+Ae,this.l=+He,this.opacity=+Ve}g(F,U,R(a,{brighter:function(Ae){return Ae=Ae==null?T:Math.pow(T,Ae),new F(this.h,this.s,this.l*Ae,this.opacity)},darker:function(Ae){return Ae=Ae==null?C:Math.pow(C,Ae),new F(this.h,this.s,this.l*Ae,this.opacity)},rgb:function(){var Ae=this.h%360+(this.h<0)*360,He=isNaN(Ae)||isNaN(this.s)?0:this.s,Ve=this.l,ke=Ve+(Ve<.5?Ve:1-Ve)*He,Ge=2*Ve-ke;return new w($(Ae>=240?Ae-240:Ae+120,Ge,ke),$(Ae,Ge,ke),$(Ae<120?Ae+240:Ae-120,Ge,ke),this.opacity)},clamp:function(){return new F(V(this.h),j(this.s),j(this.l),O(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var Ae=O(this.opacity);return"".concat(Ae===1?"hsl(":"hsla(").concat(V(this.h),", ").concat(j(this.s)*100,"%, ").concat(j(this.l)*100,"%").concat(Ae===1?")":", ".concat(Ae,")"))}}));function V(be){return be=(be||0)%360,be<0?be+360:be}function j(be){return Math.max(0,Math.min(1,be||0))}function $(be,Ae,He){return(be<60?Ae+(He-Ae)*be/60:be<180?He:be<240?Ae+(He-Ae)*(240-be)/60:Ae)*255}var ne=function(be){return function(){return be}};function oe(be,Ae){return function(He){return be+He*Ae}}function ce(be,Ae,He){return be=Math.pow(be,He),Ae=Math.pow(Ae,He)-be,He=1/He,function(Ve){return Math.pow(be+Ve*Ae,He)}}function Q(be){return(be=+be)==1?Z:function(Ae,He){return He-Ae?ce(Ae,He,be):ne(isNaN(Ae)?He:Ae)}}function Z(be,Ae){var He=Ae-be;return He?oe(be,He):ne(isNaN(be)?Ae:be)}var K=function be(Ae){var He=Q(Ae);function Ve(ke,Ge){var it=He((ke=E(ke)).r,(Ge=E(Ge)).r),et=He(ke.g,Ge.g),tt=He(ke.b,Ge.b),at=Z(ke.opacity,Ge.opacity);return function(vt){return ke.r=it(vt),ke.g=et(vt),ke.b=tt(vt),ke.opacity=at(vt),ke+""}}return Ve.gamma=be,Ve}(1);function J(be,Ae){var He=Ae?Ae.length:0,Ve=be?Math.min(He,be.length):0,ke=new Array(Ve),Ge=new Array(He),it;for(it=0;it<Ve;++it)ke[it]=Le(be[it],Ae[it]);for(;it<He;++it)Ge[it]=Ae[it];return function(et){for(it=0;it<Ve;++it)Ge[it]=ke[it](et);return Ge}}function re(be,Ae){var He=new Date;return be=+be,Ae=+Ae,function(Ve){return He.setTime(be*(1-Ve)+Ae*Ve),He}}function le(be,Ae){return be=+be,Ae=+Ae,function(He){return be*(1-He)+Ae*He}}function q(be){"@babel/helpers - typeof";return q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ae){return typeof Ae}:function(Ae){return Ae&&typeof Symbol=="function"&&Ae.constructor===Symbol&&Ae!==Symbol.prototype?"symbol":typeof Ae},q(be)}function ee(be,Ae){var He={},Ve={},ke;(be===null||q(be)!=="object")&&(be={}),(Ae===null||q(Ae)!=="object")&&(Ae={});for(ke in Ae)ke in be?He[ke]=Le(be[ke],Ae[ke]):Ve[ke]=Ae[ke];return function(Ge){for(ke in He)Ve[ke]=He[ke](Ge);return Ve}}var ue=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,se=new RegExp(ue.source,"g");function he(be){return function(){return be}}function me(be){return function(Ae){return be(Ae)+""}}function Ce(be,Ae){var He=ue.lastIndex=se.lastIndex=0,Ve,ke,Ge,it=-1,et=[],tt=[];for(be=be+"",Ae=Ae+"";(Ve=ue.exec(be))&&(ke=se.exec(Ae));)(Ge=ke.index)>He&&(Ge=Ae.slice(He,Ge),et[it]?et[it]+=Ge:et[++it]=Ge),(Ve=Ve[0])===(ke=ke[0])?et[it]?et[it]+=ke:et[++it]=ke:(et[++it]=null,tt.push({i:it,x:le(Ve,ke)})),He=se.lastIndex;return He<Ae.length&&(Ge=Ae.slice(He),et[it]?et[it]+=Ge:et[++it]=Ge),et.length<2?tt[0]?me(tt[0].x):he(Ae):(Ae=tt.length,function(at){for(var vt=0,yt;vt<Ae;++vt)et[(yt=tt[vt]).i]=yt.x(at);return et.join("")})}function Te(be,Ae){Ae||(Ae=[]);var He=be?Math.min(Ae.length,be.length):0,Ve=Ae.slice(),ke;return function(Ge){for(ke=0;ke<He;++ke)Ve[ke]=be[ke]*(1-Ge)+Ae[ke]*Ge;return Ve}}function Oe(be){return ArrayBuffer.isView(be)&&!(be instanceof DataView)}function Ne(be){"@babel/helpers - typeof";return Ne=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ae){return typeof Ae}:function(Ae){return Ae&&typeof Symbol=="function"&&Ae.constructor===Symbol&&Ae!==Symbol.prototype?"symbol":typeof Ae},Ne(be)}function Le(be,Ae){var He=Ne(Ae),Ve;return Ae==null||He==="boolean"?ne(Ae):(He==="number"?le:He==="string"?(Ve=M(Ae))?(Ae=Ve,K):Ce:Ae instanceof M?K:Ae instanceof Date?re:Oe(Ae)?Te:Array.isArray(Ae)?J:typeof Ae.valueOf!="function"&&typeof Ae.toString!="function"||isNaN(Ae)?ee:le)(be,Ae)}},40402:function(W){W.exports=JSON.parse('["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller"]')},83794:function(W){W.exports=JSON.parse('["normal","condensed","semi-condensed","extra-condensed","ultra-condensed","expanded","semi-expanded","extra-expanded","ultra-expanded"]')},96209:function(W){W.exports=JSON.parse('["normal","italic","oblique"]')},15659:function(W){W.exports=JSON.parse('["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"]')},38732:function(W){W.exports=JSON.parse('["inherit","initial","unset"]')},41901:function(W){W.exports=JSON.parse('["caption","icon","menu","message-box","small-caption","status-bar"]')}},te={};function ge(W){var H=te[W];if(H!==void 0)return H.exports;var e=te[W]={exports:{}};return Y[W].call(e.exports,e,e.exports,ge),e.exports}(function(){ge.n=function(W){var H=W&&W.__esModule?function(){return W.default}:function(){return W};return ge.d(H,{a:H}),H}})(),function(){ge.d=function(W,H){for(var e in H)ge.o(H,e)&&!ge.o(W,e)&&Object.defineProperty(W,e,{enumerable:!0,get:H[e]})}}(),function(){ge.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()}(),function(){ge.o=function(W,H){return Object.prototype.hasOwnProperty.call(W,H)}}(),function(){ge.r=function(W){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(W,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(W,"__esModule",{value:!0})}}();var Se=ge(27909);return Se}()})})(RM);var kN=RM.exports;(function(d){Object.defineProperty(d,"__esModule",{value:!0}),d.default=void 0;var D=te(PM),Y=te(kN);function te(W){return W&&W.__esModule?W:{default:W}}var ge=(0,D.default)(Y.default),Se=ge;d.default=Se})(LM);const _N=ag(LM),zN=({data:d,layout:D,size:Y})=>{const[te,ge]=Fr.useState(0),[Se,W]=Fr.useState(0),[H,e]=Fr.useState({...D,datarevision:te,showlegend:!0,legend:{x:1,y:.5},yaxis:{side:"left"},yaxis2:{side:"right",overlaying:"y"},margin:{l:30,b:30,t:30},autosize:!0});return IN(()=>{if(d.length>0&&d[d.length-1].y.length!==Se){const g=te+1;ge(g),e({...H,datarevision:g}),W(d[d.length-1].y.length)}},60),Pn.jsx(_N,{data:d,layout:H,style:{width:Y.width,height:Y.height},config:{responsive:!0},revision:te,onInitialized:g=>{e(g.layout)},onUpdate:g=>{e(g.layout)},useResizeHandler:!0,onClick:g=>{g.event.stopImmediatePropagation()}})};var Zw={},ON=Mp;Object.defineProperty(Zw,"__esModule",{value:!0});var DM=Zw.default=void 0,FN=ON(Ep()),BN=Pn,NN=(0,FN.default)((0,BN.jsx)("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"}),"Settings");DM=Zw.default=NN;const UN=()=>Pn.jsx("div",{children:Pn.jsxs(ds,{container:!0,spacing:5,children:[Pn.jsx(ds,{item:!0,xs:4,children:Pn.jsx(Oy,{label:"X Data",defaultValue:"Voltage",variant:"standard",InputProps:{readOnly:!0}})}),Pn.jsx(ds,{item:!0,xs:4,children:Pn.jsx(Oy,{label:"Y Data",defaultValue:"Current",variant:"standard",InputProps:{readOnly:!0}})}),Pn.jsx(ds,{item:!0,xs:4,children:Pn.jsx(Oy,{label:"Y Axis",defaultValue:"Y1",variant:"standard",InputProps:{readOnly:!0}})})]})});var Xw={},HN=Mp;Object.defineProperty(Xw,"__esModule",{value:!0});var IM=Xw.default=void 0,VN=HN(Ep()),WN=Pn,GN=(0,VN.default)((0,WN.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");IM=Xw.default=GN;const YN=d=>{const[D,Y]=Fr.useState(d.plots),[te,ge]=Fr.useState(d.plots.length>0?new Array(d.plots.length).fill(0).map((W,H)=>H):[0]),Se=W=>Pn.jsxs(ds,{container:!0,spacing:3,children:[Pn.jsx(ds,{item:!0,xs:4,children:Pn.jsx(Oy,{label:"Plot Type",defaultValue:"Scatter",variant:"standard",InputProps:{readOnly:!0}})}),Pn.jsx(ds,{item:!0,xs:7,children:Pn.jsx(UN,{})}),Pn.jsx(ds,{item:!0,xs:1,children:Pn.jsx(Ew,{color:"secondary",onClick:()=>{const H=te.filter(g=>g!=W);ge(H);const e=H.reduce((g,R)=>(g[R]=D[R],g),{});Y(Object.values(e)),d.onUpdate({data:Object.values(e),layout:{}})},children:Pn.jsx(IM,{})})})]},W);return Pn.jsx("div",{style:{width:"700px",margin:"10px"},children:te.map(W=>Se(W))})},jN=({plotData:d,labels:D,trace:Y,setTrace:te})=>{const[ge,Se]=Fr.useState(null),W=R=>{Se(R.currentTarget)},H=()=>{Se(null)},e=!!ge,g=e?"simple-popover":void 0;return Pn.jsxs(Pn.Fragment,{children:[Pn.jsx(Ew,{"aria-describedby":g,onClick:W,children:Pn.jsx(DM,{})}),Pn.jsx(tM,{id:g,open:e,anchorEl:ge,onClose:H,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:Pn.jsx(YN,{data:d,labels:D,onUpdate:R=>{te(Object.assign({},R))},plots:Y.data})})]})},ZN=({plotData:d,labels:D,position:Y,onDrag:te})=>{const[ge,Se]=Fr.useState({data:[],layout:{margin:{l:30,b:30,t:30}}}),[W,H]=Fr.useState({height:window.innerHeight-140,width:window.innerWidth-30,x:Y.x,y:Y.y});return Fr.useEffect(()=>{const e=()=>{H(g=>({...g,height:window.innerHeight-140,width:window.innerWidth-30}))};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),Pn.jsxs(RN,{position:{x:W.x,y:W.y},size:{width:W.width,height:W.height},style:{border:"solid 1px #ddd"},minHeight:40,dragHandleClassName:"dragHandle",onDragStop:(e,g)=>{H({...W,x:g.x,y:g.y}),te({x:0,y:g.y+W.height})},onResizeStop:(e,g,R,a,C)=>{H({...W,width:R.offsetWidth,height:R.offsetHeight}),te({x:0,y:W.y+R.offsetHeight})},children:[Pn.jsx(ds,{container:!0,spacing:0,className:"dragHandle",style:{background:"#eee",justifyContent:"flex-end"},children:Pn.jsx(ds,{item:!0,xs:12,children:Pn.jsx(jN,{labels:D,plotData:d,setTrace:Se,trace:ge})})}),Pn.jsx(zN,{data:d,layout:ge.layout,size:{width:`${W.width-10}px`,height:`${W.height-50}px`}})]})},XN=({dct:d,labels:D})=>{const[Y]=Fr.useState([0]),[te,ge]=Fr.useState([]),[Se,W]=Fr.useState({0:0});Fr.useEffect(()=>{ge(D)},[D]);const H=e=>g=>{const R=Object.assign({},Se);R[e]=g.y,W(R)};return Pn.jsx("div",{children:Pn.jsx("div",{children:Y.map((e,g)=>Pn.jsx(ZN,{plotData:d,labels:te,position:{x:0,y:Math.max(0,...Object.values(Se))},onDrag:H(e)},e))})})};navigator.serial||alert("Please use chrome or edge");const a3="#e0e0e0",D4=Xo(a3,.7),i3="#000000de",I4=Xo(i3,.7),KN=()=>{const[d,D]=Fr.useState([]),Y=ES({palette:{primary:{main:"#3f51b5"},secondary:{main:"#f50057"},custom_gray:{main:D4,light:Xo(a3,.5),dark:Xo(a3,.9),contrastText:Yb(D4,"#fff")>4.5?"#fff":"#111"},custom_black:{main:I4,light:Xo(i3,.5),dark:Xo(i3,.9),contrastText:Yb(I4,"#fff")>4.5?"#fff":"#111"}},components:{MuiButton:{styleOverrides:{root:{minWidth:130}}},MuiFormControl:{styleOverrides:{root:{minWidth:120,margin:4}}},MuiGrid:{styleOverrides:{root:{alignItems:"center"}}},MuiPopover:{styleOverrides:{root:{minHeight:"100px"}}}}}),te=()=>{D([])},ge=(Se,W)=>{D(W?H=>[...H,{x:[Se.x],y:[Se.y],name:`Measurement nr. ${H.length+1}: Voltage - Current`,type:"scatter",mode:"lines"}]:H=>{const e=[...H];return e[e.length-1].x.push(Se.x),e[e.length-1].y.push(Se.y),[...e]})};return Pn.jsxs(kD,{theme:Y,children:[Pn.jsx("header",{children:Pn.jsx(kI,{variant:"h5",component:"h2",sx:{fontWeight:"bold",marginBlockStart:"0.83em",marginBlockEnd:"0.83em"},children:"Web Serial Plotter"})}),Pn.jsx(hB,{clearPlotData:te,updatePlotData:ge}),Pn.jsx(XN,{dct:d,labels:[]})]})};Zx.createRoot(document.getElementById("root")).render(Pn.jsx(KN,{}));
